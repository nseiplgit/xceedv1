/*! For license information please see 40814.88292b87667a54eb5933.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[40814],{40814:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var l=a(92950),n=a.n(l),i=(a(82729),a(75355),a(17812)),o=a(89875),r=a(66735),u=a(282),p=a(10635),s=a(40900),c=a(51673),m=a(868),d=a(26537),D=a(14439),C=a(27848),y=a(74095),S=a(11377),g=a(92371),I=(a(30822),a(92772)),B=(a(54180),a(71168)),P=a.n(B),N=(a(37274),a(99410)),T=a(30037),h=a(65763),v=a(49174);a(99940);const{forwardRef:M,useRef:E,useImperativeHandle:x,useContext:f}=n(),w={PPMSBCreationWorkOrderIDPK:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreWoDateTimeType:"",SBCreWoDateTimeBetween:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreActualDateType:"",SBCreActualDateBetween:"",SBCreWoCompletedDate:"",SBCreWoCompletedDateType:"",SBCreWoCompletedDateBetween:"",SBCreParentCreationKey:"",SBCreSLAHours:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreXWoDateType:"",SBCreXWoDateBetween:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",IsDraft:0,Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",HierarchyDetailsID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",ServiceTypeID:"",IsActive:1,DeleStat:0,CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsName:"",PaymentType:"",Period:"",UserCode:"",UserName:"",ContractCode:"",ContractName:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",LocalityCode:"",LocalityName:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",BuildingArea:"",FloorCode:"",FloorName:"",SpotTypeID:"",SpotTypeCode:"",SpotTypeName:"",AssWingID:"",AssWingCode:"",AssWingName:"",WingLatitude:"",WingLongitude:"",SpotCode:"",SpotName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",HierarchyID:"",HierCode:"",HierName:"",HierarchyDetCode:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageName:"",StageSeqNo:"",ServiceTypCode:"",ServiceTypeName:"",EmployeeID:"",EmployeeCode:"",FirstName:"",LastName:"",EmpContactNo1:"",EmpEmailOfficial:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},k=M(((e,t)=>{const[a,i]=(0,l.useState)(new Date),[o,r]=(0,l.useState)(new Date),[B,M]=(0,l.useReducer)(g.Z,w),[f,k]=(0,l.useState)(0),[W,O]=(0,l.useState)(0),[L,b]=(0,l.useState)({current:1,pageSize:10}),[K,F]=(0,l.useState)(""),[A]=(0,l.useState)("809"),[R,Z]=(0,l.useState)([]),[G,q]=(0,l.useState)(!1),[X,U]=(0,l.useState)({open:!1,color:"",message:[""]}),[Y,H]=(0,l.useState)((0,p.format)(new Date,"yyyy")),[j,V]=(0,l.useState)((0,p.format)(new Date,"M")),[z,_]=(E(),(0,l.useState)(new Date)),[J,Q]=(0,l.useState)([]),[$,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[le,ne]=(0,l.useState)([]),[ie,oe]=(0,l.useState)([]),[re,ue]=(0,l.useState)({WorkOrder:"",WoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",EquipmentName:"",FrequencyName:"",PPMCreationAssetCode:"",GeneratedDateTime:"",ActualDateTime:"",WoCompletedDate:"",ParentCreationKey:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",IsWithDraw:"",WithDrawRemarks:"",IsReschedule:"",RescheduleRemarks:"",IsRework:"",ReworkRemarks:"",SequenceNo:"",PPMLattitude:"",PPMLongitude:"",IsCCMRaised:"",XCreationAssetKey:"",XWorkOrder:"",XWoDate:"",PPMGeneralCost:"",PPMMaterialCost:"",PPMLabourCost:"",PPMVendorInvCost:"",PPMTotalCost:"",PPMChargeLedgerKey:"",PPMCostLedgerKey:"",SchFreqAssetKey:"",PpmCreationDisciplineKey:"",PPMSBSTimeCostKey:"",BMSKey:"",IsWoManual:"",PPMTypeName:"",FirstName:"",FirstName1:"",FirstName2:"",FirstName3:"",HierarchyDetCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMStageName:"",PPMCreationOthersAddOnCode:"",PPMCreationAnaAddOnCode:"",PPMCreationSupAddOnCode:""}),[pe,se]=(0,l.useState)(""),[ce,me]=P()("809"),[de,De]=(0,l.useState)([]),[Ce,ye]=(0,l.useState)([]),[Se,ge]=(0,l.useState)([]),[Ie,Be]=(0,l.useState)([]),[Pe,Ne]=(0,l.useState)(""),[Te,he]=n().useReducer(T.d,T.E),[ve]=(0,l.useState)(localStorage.getItem("userid")),Me=E(),Ee=E(),xe=E(),[fe,we]=(0,l.useState)([]);E(null),E(null),(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),he({type:"language",payload:Object.assign({},...n)}),ue(a.reduce(((e,t)=>(e[t]="",e)),{})),De(e),ne(t),oe(a),ye(l),ge(a)}(ce)}),[ce]),(0,l.useEffect)((()=>{(0,d.Z)(0).then((e=>{k(e)}))}),[]),x(t,(()=>({Prev:()=>{B.ContractName&&B.LocalityName?We():e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})},Next:()=>{B.ContractName&&B.LocalityName?ke():e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})},currentDatePic:e=>{_(e)}})));const ke=()=>{let e=(0,p.addMonths)(a,1);i((0,p.addMonths)(a,1)),V((0,p.format)(new Date(e),"M")),H((0,p.format)(new Date(e),"yyyy")),Ze("PPMSBCOUNT",null,(0,p.format)(new Date(e),"M"),(0,p.format)(new Date(e),"yyyy"))},We=()=>{let e=(0,p.subMonths)(a,1);i((0,p.subMonths)(a,1)),V((0,p.format)(new Date(e),"M")),H((0,p.format)(new Date(e),"yyyy")),Ze("PPMSBCOUNT",null,(0,p.format)(new Date(e),"M"),(0,p.format)(new Date(e),"yyyy"))},Oe=t=>B.ContractID&&0!=B.ContractID?B.LocalityID&&0!=B.LocalityID?void be(t):(e.alertmsg({open:!0,color:"warning",message:["Please select the Location"]}),!1):(e.alertmsg({open:!0,color:"warning",message:["Please select the Contract Name"]}),!1),Le=(e,t,a)=>{if("BuildingID"==a&&(Q(t),t.length>0)){let e=[];t.map(((a,l)=>e.push((t.length,a.BuildingIDPK))))}if("DivisionID"==a&&(ee(t),t.length>0)){let e=[];t.map(((a,l)=>e.push(t.length==l+1?a.DivisionIDPK+",":a.DivisionIDPK)))}if("DisciplineID"==a&&(ae(t),t.length>0)){let e=[];t.map(((a,l)=>e.push(t.length==l+1?a.DisciplineIDPK+",":a.DisciplineIDPK)))}},be=e=>{Ze("PPMSBCOUNT")},Ke=(t,a,l,n,i)=>{let o=[],r=[],u=[];J.map((e=>{e&&o.push(e.BuildingID)})),$.map((e=>{e&&r.push(e.DivisionID)})),te.map((e=>{e&&u.push(e.DisciplineID)}));const p=s.v.Api+"FP494S3/",m={data:{p1:null,p2:null,p3:null,p4:null,p5:B.SBCreWoDateTime?B.SBCreWoDateTime:null,p6:null,p7:null,p8:null,p9:B.SBCreActualDate?B.SBCreActualDate:null,p10:null,p11:null,p12:B.SBCreWoCompletedDate?B.SBCreWoCompletedDate:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:1==B.IsSBCreWithDraw,p19:null,p20:a?"%"+a+"%":null,p21:1==B.IsSbCreReschedule,p22:null,p23:a?"%"+a+"%":null,p24:1==B.IsSBCreRework,p25:null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:1==B.IsSBCreTechManual,p30:1==B.IsSBCreSupManual,p31:1==B.IsSBCreMaterial,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:B.SBCreXWoDate?B.SBCreXWoDate:null,p35:null,p36:null,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:B.SBTechStartDateTime?B.SBTechStartDateTime:null,p42:null,p43:null,p44:B.SBTechEndDateTime?B.SBTechEndDateTime:null,p45:null,p46:null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:null,p51:null,p52:"0"==B.ContractID?null:B.ContractID,p53:"0"==B.LocalityID?null:B.LocalityID,p54:"0"==B.BuildingID?null:B.BuildingID,p55:"0"==B.FloorID?null:B.FloorID,p56:"0"==B.SpotID?null:B.SpotID,p57:"0"==B.DivisionID?null:B.DivisionID,p58:"0"==B.DisciplineID?null:B.DisciplineID,p59:"0"==B.FrequencyID?null:B.FrequencyID,p60:"0"==B.PPMBusinessFlowID?null:B.PPMBusinessFlowID,p61:"0"==B.PPMFixonBusinessFlowID?null:B.PPMFixonBusinessFlowID,p62:"0"==B.PPMStageID?null:B.PPMStageID,p63:"0"==B.ServiceTypeID?null:B.ServiceTypeID,p64:e.Dialogview?"1":null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:"0"==B.ContractGroupID?null:B.ContractGroupID,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:"0"==B.TaxID?null:B.TaxID,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:a?"%"+a+"%":null,p78:"0"==B.CustomerID?null:B.CustomerID,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:"0"==B.ContractTypeID?null:B.ContractTypeID,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:"0"==B.ContractCategID?null:B.ContractCategID,p85:a?"%"+a+"%":null,p86:a?"%"+a+"%":null,p87:"0"==B.ConPaymentTermsID?null:B.ConPaymentTermsID,p88:a?"%"+a+"%":null,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:"0"==B.LocalityGroupID?null:B.LocalityGroupID,p92:a?"%"+a+"%":null,p93:a?"%"+a+"%":null,p94:"0"==B.CityID?null:B.CityID,p95:a?"%"+a+"%":null,p96:a?"%"+a+"%":null,p97:"0"==B.AdminLocalityTypeID?null:B.AdminLocalityTypeID,p98:a?"%"+a+"%":null,p99:a?"%"+a+"%":null,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:a?"%"+a+"%":null,p103:a?"%"+a+"%":null,p104:a?"%"+a+"%":null,p105:a?"%"+a+"%":null,p106:a?"%"+a+"%":null,p107:a?"%"+a+"%":null,p108:a?"%"+a+"%":null,p109:a?"%"+a+"%":null,p110:a?"%"+a+"%":null,p111:a?"%"+a+"%":null,p112:t,p113:i||10,p114:l,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};q(!0);const d=Object.keys(m.data).slice(0,Object.keys(m.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(m.data).length-8?m.data[t]:null,e)),{});q(!0);const D={data:d};(0,c.Z)(p,"ClearAll"==l?D:m,"SetDefaultPPMSBCreationWorkOrderID"==l&&n?n:f).then((a=>{const n=a.Output.status.code,o=a.Output.data;if("200"==n){const a=o.length;1==t?a>0?(Z(o),i&&"BuildingIDPK"==l&&(Me.current.checkedAll(o),e.loading(!1)),i&&"DivisionIDPK"==l&&(Ee.current.checkedAll(o),e.loading(!1)),i&&"DisciplineIDPK"==l&&(xe.current.checkedAll(o),e.loading(!1))):Z([]):Z(R.concat(o)),q(!1)}else e.alertmsg({open:!0,color:"warning",message:[a.Output.status.message]}),q(!1)})),e.loading(!1)},Fe=(0,l.useCallback)(((t,a,l)=>{"text"==l?M({type:l,name:a,value:t}):"number"==l?M({type:l,name:a,number:t}):"boolean"==l?M({type:l,name:a,boolean:t}):"date"==l||"select"==l&&("ContractID"==a?(M({type:"text",name:"ContractID",value:t.ContractIDPK?t.ContractIDPK:null}),M({type:"text",name:"ContractName",value:t.ContractName?t.ContractName:null}),B.LocalityID&&e.MandatoryCheck(!0)):"LocalityID"==a?(M({type:"text",name:"LocalityID",value:t.LocalityIDPK?t.LocalityIDPK:null}),M({type:"text",name:"LocalityName",value:t.LocalityName?t.LocalityName:null}),B.ContractID&&e.MandatoryCheck(!0)):"BuildingID"==a?(M({type:"text",name:"BuildingID",value:t.BuildingIDPK?t.BuildingIDPK:null}),M({type:"text",name:"BuildingName",value:t.BuildingName?t.BuildingName:null}),M({type:"text",name:"LocalityID",value:t.LocalityID?t.LocalityID:null}),M({type:"text",name:"LocalityName",value:t.LocalityName?t.LocalityName:null})):"DivisionID"==a?(M({type:"text",name:"DivisionID",value:t.DivisionIDPK?t.DivisionIDPK:null}),M({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:null})):"DisciplineID"==a&&(M({type:"text",name:"DisciplineID",value:t.DisciplineIDPK?t.DisciplineIDPK:null}),M({type:"text",name:"DisciplineName",value:t.DisciplineName?t.DisciplineName:null}),M({type:"text",name:"DivisionID",value:t.DivisionID?t.DivisionID:null}),M({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:null})))}),[B]);function Ae(e){"ContractID"==e?(M({type:"text",name:"ContractID",value:""}),M({type:"text",name:"ContractName",value:""}),M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"LocalityName",value:""}),M({type:"text",name:"BuildingID",value:null}),M({type:"text",name:"BuildingName",value:""}),Q([]),document.getElementById("PPMSBCreationWorkOrderBuildingDayNameClear")&&document.getElementById("PPMSBCreationWorkOrderBuildingDayNameClear").click()):"LocalityID"==e?(M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"LocalityName",value:""}),M({type:"text",name:"BuildingID",value:null}),M({type:"text",name:"BuildingName",value:""}),Q([]),document.getElementById("PPMSBCreationWorkOrderBuildingDayNameClear")&&document.getElementById("PPMSBCreationWorkOrderBuildingDayNameClear").click()):"BuildingID"==e?(M({type:"text",name:"BuildingID",value:null}),M({type:"text",name:"BuildingName",value:""}),Q([]),document.getElementById("PPMSBCreationWorkOrderBuildingDayNameClear")&&document.getElementById("PPMSBCreationWorkOrderBuildingDayNameClear").click()):"DivisionID"==e?(M({type:"text",name:"DivisionID",value:""}),M({type:"text",name:"DivisionName",value:""}),ee([]),document.getElementById("PPMSBCreationWorkOrderDivisionDayNameClear")&&document.getElementById("PPMSBCreationWorkOrderDivisionDayNameClear").click(),M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSBCreationWorkOrderDisciplineDayNameClear")&&document.getElementById("PPMSBCreationWorkOrderDisciplineDayNameClear").click(),ae([])):"DisciplineID"==e&&(M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DisciplineName",value:""}),ae([]),document.getElementById("PPMSBCreationWorkOrderDisciplineDayNameClear")&&document.getElementById("PPMSBCreationWorkOrderDisciplineDayNameClear").click())}function Re(e){"ContractID"==e?M({type:"text",name:"ContractID",value:""}):"LocalityID"==e?(M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"FloorID",value:""}),M({type:"text",name:"SpotID",value:""})):"BuildingID"==e?(M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"FloorID",value:""}),M({type:"text",name:"SpotID",value:""}),q(!0)):"DivisionID"==e?M({type:"text",name:"DivisionID",value:""}):"DisciplineID"==e&&(M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DivisionID",value:""}))}const Ze=(t,a,l,i,o,r,u,p)=>{e.loading(!0);let m=[],D=[],C=[];J.map((e=>{e&&m.push(e.BuildingID)})),$.map((e=>{e&&D.push(e.DivisionID)})),te.map((e=>{e&&C.push(e.DisciplineID)}));const y=s.v.Api+"FP494S3/",S={data:{p1:u&&u.PPMSBCreationWorkOrderIDPK?u.PPMSBCreationWorkOrderIDPK:null,p2:u&&u.PPMSBCreationWorkOrderCode?u.PPMSBCreationWorkOrderCode:null,p3:u&&u.SBCreMRNo?u.SBCreMRNo:null,p4:u&&u.SBCreWorkOrder?u.SBCreWorkOrder:null,p5:u&&u.SBCreWoDateTime?u.SBCreWoDateTime:null,p6:u&&u.SBCreWoDateTimeType?u.SBCreWoDateTimeType:null,p7:u&&u.SBCreWoDateTimeBetween?u.SBCreWoDateTimeBetween:null,p8:u&&u.SBCreGeneratedTtm?u.SBCreGeneratedTtm:null,p9:u&&u.SBCreActualDate?u.SBCreActualDate:null,p10:u&&u.SBCreActualDateType?u.SBCreActualDateType:null,p11:u&&u.SBCreActualDateBetween?u.SBCreActualDateBetween:null,p12:u&&u.SBCreWoCompletedDate?u.SBCreWoCompletedDate:null,p13:u&&u.SBCreWoCompletedDateType?u.SBCreWoCompletedDateType:null,p14:u&&u.SBCreWoCompletedDateBetween?u.SBCreWoCompletedDateBetween:null,p15:u&&u.SBCreParentCreationKey?u.SBCreParentCreationKey:null,p16:"PPMSBCOUNT"==t?j||(new Date).getMonth()+1:"PPMSBDAYWISEDET"==t?a:null,p17:"PPMSBCOUNT"==t?Y||(new Date).getFullYear():"PPMSBDAYWISEDET"==t?j||(new Date).getMonth()+1:null,p18:"PPMSBDAYWISEDET"==t?Y||(new Date).getFullYear():null,p19:null,p20:u&&u.SBCreWithDrawEmpKey?u.SBCreWithDrawEmpKey:null,p21:null,p22:null,p23:u&&u.SBCreReschduleEmpKey?u.SBCreReschduleEmpKey:null,p24:null,p25:"PPMSBCOUNT"==t?"PPMSBDAY":null,p26:u&&u.SBCreReworkEmpKey?u.SBCreReworkEmpKey:null,p27:u&&u.SBCrePPMLattitude?u.SBCrePPMLattitude:null,p28:u&&u.SBCrePPMLongitude?u.SBCrePPMLongitude:null,p29:null,p30:null,p31:null,p32:u&&u.SBCreXCreationAssetKey?u.SBCreXCreationAssetKey:null,p33:u&&u.SBCreXWorkOrder?u.SBCreXWorkOrder:null,p34:u&&u.SBCreXWoDate?u.SBCreXWoDate:null,p35:u&&u.SBCreXWoDateType?u.SBCreXWoDateType:null,p36:u&&u.SBCreXWoDateBetween?u.SBCreXWoDateBetween:null,p37:u&&u.SBCreChargeLedgerKey?u.SBCreChargeLedgerKey:null,p38:u&&u.SBCreCostLedgerKey?u.SBCreCostLedgerKey:null,p39:u&&u.SBMaterialRequestkey?u.SBMaterialRequestkey:null,p40:u&&u.SBApprovalKey?u.SBApprovalKey:null,p41:u&&u.SBTechStartDateTime?u.SBTechStartDateTime:null,p42:u&&u.SBTechStartDateTimeType?u.SBTechStartDateTimeType:null,p43:u&&u.SBTechStartDateTimeBetween?u.SBTechStartDateTimeBetween:null,p44:u&&u.SBTechEndDateTime?u.SBTechEndDateTime:null,p45:u&&u.SBTechEndDateTimeType?u.SBTechEndDateTimeType:null,p46:u&&u.SBTechEndDateTimeBetween?u.SBTechEndDateTimeBetween:null,p47:u&&u.SBTechName?u.SBTechName:null,p48:u&&u.SBTechKeys?u.SBTechKeys:null,p49:u&&u.HierarchyDetailsKeys?u.HierarchyDetailsKeys:null,p50:"DraftPPMSBCreationWorkOrderID"==t?"1":"0",p51:null,p52:"0"==B.ContractID?null:B.ContractID,p53:"0"==B.LocalityID?null:B.LocalityID,p54:m.length>0?m.toString():null,p55:null,p56:null,p57:D.length>0?D.toString():null,p58:C.length>0?C.toString():null,p59:u&&u.FrequencyID?u.FrequencyID:null,p60:u&&u.PPMBusinessFlowID?u.PPMBusinessFlowID:null,p61:u&&u.PPMFixonBusinessFlowID?u.PPMFixonBusinessFlowID:null,p62:u&&u.PPMStageID?u.PPMStageID:null,p63:u&&u.ServiceTypeID?u.ServiceTypeID:null,p64:!u||!1!==u.IsActive,p65:null,p66:u&&u.CreatedUserID_varchar?u.CreatedUserID_varchar:null,p67:u&&u.CreatedTtm?u.CreatedTtm:null,p68:u&&u.CreatedTtmType?u.CreatedTtmType:null,p69:u&&u.CreatedTtmBetween?u.CreatedTtmBetween:null,p70:null,p71:u&&u.ContractGroupID?u.ContractGroupID:null,p72:u&&u.ContractGroupCode?u.ContractGroupCode:null,p73:u&&u.ContractGroupName?u.ContractGroupName:null,p74:u&&u.TaxID?u.TaxID:null,p75:u&&u.TaxCode?u.TaxCode:null,p76:u&&u.TaxName?u.TaxName:null,p77:u&&u.TaxValue?u.TaxValue:null,p78:u&&u.CustomerID?u.CustomerID:null,p79:u&&u.CustomerCode?u.CustomerCode:null,p80:u&&u.CustomerName?u.CustomerName:null,p81:u&&u.ContractTypeID?u.ContractTypeID:null,p82:u&&u.ContractTypCode?u.ContractTypCode:null,p83:u&&u.ContractTypeName?u.ContractTypeName:null,p84:u&&u.ContractCategID?u.ContractCategID:null,p85:u&&u.ContractCategCode?u.ContractCategCode:null,p86:u&&u.ContractCategName?u.ContractCategName:null,p87:u&&u.ConPaymentTermsID?u.ConPaymentTermsID:null,p88:u&&u.ConPaymentTermsName?u.ConPaymentTermsName:null,p89:u&&u.ContractCode?u.ContractCode:null,p90:u&&u.ContractName?u.ContractName:null,p91:u&&u.LocalityGroupID?u.LocalityGroupID:null,p92:u&&u.LocalityGroupCode?u.LocalityGroupCode:null,p93:u&&u.LocalityGroupName?u.LocalityGroupName:null,p94:u&&u.CityID?u.CityID:null,p95:u&&u.CityCode?u.CityCode:null,p96:u&&u.CityName?u.CityName:null,p97:u&&u.AdminLocalityTypeID?u.AdminLocalityTypeID:null,p98:u&&u.AdminLocalityTypeCode?u.AdminLocalityTypeCode:null,p99:u&&u.AdminLocalityTypeName?u.AdminLocalityTypeName:null,p100:u&&u.LocalityCode?u.LocalityCode:null,p101:u&&u.LocalityName?u.LocalityName:null,p102:u&&u.DivisionCode?u.DivisionCode:null,p103:u&&u.DivisionName?u.DivisionName:null,p104:u&&u.DisciplineCode?u.DisciplineCode:null,p105:u&&u.DisciplineName?u.DisciplineName:null,p106:u&&u.FrequencyCode?u.FrequencyCode:null,p107:u&&u.FrequencyName?u.FrequencyName:null,p108:u&&u.PPMStageName?u.PPMStageName:null,p109:u&&u.StageSeqNo?u.StageSeqNo:null,p110:u&&u.ServiceTypCode?u.ServiceTypCode:null,p111:u&&u.ServiceTypeName?u.ServiceTypeName:null,p112:o||1,p113:r||10,p114:t,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,d.Z)(0).then((o=>{(0,c.Z)(y,S,o).then((r=>{if("PPMSBDAYWISEDET"==t&&e.SlideComponentType(n().createElement(I.default,{dynamic:!0,name:"PPMSB Day Wise Summary",tableData:r.Output.data,TableVisibleItem:[],TableBodyItem:[],Refresh:()=>Ze(t,a,l,i,L.current,L.pageSize),onPageChange:(e,n)=>{b({current:e,pageSize:n}),Ze(t,a,l,i,e,n)},searchvalue:e=>{Ze(t,a,l,i,"1",10,e)},pageSize:r.Output.data[0]?.PageSize,PrintPdf:e=>{Ze(t,a,l,i,"1",r.Output.data[0].TotalCount,"",e)}})),"PPMSBCOUNT"==t)if(r.Output.data.length,r.Output.data.length>0){let e=[],t=Object.values(r.Output.data[0]).slice(2,Object.values(r.Output.data[0]).length-1),a=Object.keys(r.Output.data[0]).slice(2,Object.keys(r.Output.data[0]).length-1);t.map(((t,l)=>{0!=t&&e.push({[a[l].replace("D","")]:t,Month:r.Output.data[0].SelectedMonth,Year:r.Output.data[0].SelectedYear})}));let l=[{year:r.Output.data[0].SelectedYear,month:r.Output.data[0].SelectedMonth,days:e}];we(l)}else e.alertmsg({open:!0,color:"warning",message:[r.Output.status.message]}),we([]);p&&(0,c.Z)(y,S,o,p).then((e=>{(0,h.j)(e,q,U,e.Output.data,p,"PPMSB Day Wise Summary")})),e.loading(!1)}))}))};return n().createElement(n().Fragment,null,n().createElement("div",{className:"calendar"},n().createElement("div",null,function(){const e=[];let t=(0,p.startOfWeek)(a);for(let a=0;a<7;a++)e.push(n().createElement("div",{className:"col col-center daynames",key:a},(0,p.format)((0,p.addDays)(t,a),"EEE")));return n().createElement("div",{style:{width:"75%"},className:"days row"},e)}(),function(){const t=(0,p.startOfMonth)(a),l=(0,p.endOfMonth)(t),r=(0,p.startOfWeek)(t),s=(0,p.endOfWeek)(l),c=[];let d=[],g=r,I="";for(;g<=s;){const e=e=>{Ze("PPMSBDAYWISEDET",e)};for(let l=0;l<7;l++)I=(0,p.format)(g,"d"),"0"==fe.length?d.push(n().createElement("div",{className:"col cell "+((0,p.isSameMonth)(g,t)?(0,p.isSameDay)(g,o)?"selectednull":"":"disabled"),key:g},n().createElement("span",{className:"number "+((0,p.isSameDay)(g,o)?"selectdt":"")},I),n().createElement("div",{className:"calendarTextCenter"}))):d.push(fe.map((l=>n().createElement("div",{className:"col cell "+((0,p.isSameMonth)(g,t)?(0,p.isSameDay)(g,o)?"selectednull":"":"disabled"),key:g},n().createElement("div",{style:{width:"100%"}},n().createElement("span",{className:"number "+((0,p.isSameDay)(g,o)?"selectdt":"")},I," ")),n().createElement(m.ZP,{title:"PPMSBCount",placement:"top"},n().createElement("p",{id:I,style:{width:"100%"},className:"CCMCount",onClick:t=>e(t.target.id)},fe.length>0&&fe[0].days.filter((e=>e[I]&&e.Month==(0,p.getMonth)(a)+1&&e.Year==(0,p.getYear)(a))).length>0&&(0,p.isSameMonth)(g,t)&&fe[0].days.filter((e=>e[I]))[0][I])),n().createElement("div",{className:"calendarTextCenter"}))))),g=(0,p.addDays)(g,1);c.push(n().createElement("div",{className:"row",key:g},d)),d=[]}return n().createElement("div",null,n().createElement(D.Z,null,n().createElement(C.Z,{xs:9,sm:9,md:9,lg:9},n().createElement("div",{className:"body"},c)),n().createElement(C.Z,{xs:3,sm:3,md:3,lg:3},n().createElement("div",{style:{padding:"0px 30px"}},n().createElement(D.Z,{style:{position:"relative"}},n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative"}},n().createElement(S.Z,{json:N.A,value:B.ContractName,marginTop:"25px",SPName:"PPMSBCreationWorkOrder",FieldName:"ContractIDDay",EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Fe(e,"ContractID","select"),onChange:(e,t)=>{Ke(e,t,"ContractIDPK")},KeyBack:e=>{Re("ContractID")},fieldOrder:"4",data:R,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:R.length>0?R[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("ContractIDPK")},Tabledialog:()=>OpenDialogComponent("ContractIDPK"),loading:G,SideEntryView:!0,minWidth:"270px",clear:e=>{e&&Ae("ContractID")}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(S.Z,{json:N.A,value:B.LocalityName,marginTop:"25px",SPName:"PPMSBCreationWorkOrder",FieldName:"LocalityIDDay",EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Fe(e,"LocalityID","select"),onChange:(e,t)=>{Ke(e,t,"LocalityIDPK")},KeyBack:e=>{Re("LocalityID")},fieldOrder:"4",data:R,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:R.length>0?R[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("LocalityIDPK")},Tabledialog:()=>OpenDialogComponent("LocalityIDPK"),loading:G,SideEntryView:!0,minWidth:"270px",clear:e=>{e&&Ae("LocalityID")}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(y.Z,{value:B.BuildingName,json:N.A,ref:Me,SPName:"PPMSBCreationWorkOrder",FieldName:"BuildingIDDay",EnterSave:e=>{e&&Oe(e)},onSelect:(e,t)=>Le(0,t,"BuildingID"),onChange:(e,t)=>{Ke(e,t,"BuildingIDPK")},fieldOrder:"3",data:R,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:R.length>0?R[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),Ke("1","","BuildingIDPK","",t)},openSlide:()=>{OpenSlideComponent("BuildingIDPK")},Tabledialog:()=>OpenDialogComponent("BuildingIDPK"),loading:G,selectAllData:!0,minWidth:"270px",clear:e=>{e&&Ae("BuildingID")}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(y.Z,{value:B.DivisionName,ref:Ee,json:N.A,SPName:"PPMSBCreationWorkOrder",FieldName:"DivisionIDDay",EnterSave:e=>{e&&Oe(e)},onSelect:(e,t)=>Le(0,t,"DivisionID"),onChange:(e,t)=>{Ke(e,t,"DivisionIDPK")},fieldOrder:"3",data:R,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:R.length>0?R[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),Ke("1","","DivisionIDPK","",t)},openSlide:()=>{OpenSlideComponent("DivisionIDPK")},Tabledialog:()=>OpenDialogComponent("DivisionIDPK"),loading:G,minWidth:"270px",selectAllData:!0,clear:e=>{e&&Ae("DivisionID")}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(y.Z,{value:B.DisciplineName,json:N.A,ref:xe,SPName:"PPMSBCreationWorkOrder",FieldName:"DisciplineIDDay",EnterSave:e=>{e&&Oe(e)},onSelect:(e,t)=>Le(0,t,"DisciplineID"),onChange:(e,t)=>{Ke(e,t,"DisciplineIDPK")},fieldOrder:"3",data:R,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:R.length>0?R[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),Ke("1","","DisciplineIDPK","",t)},openSlide:()=>{OpenSlideComponent("DisciplineIDPK")},Tabledialog:()=>OpenDialogComponent("DisciplineIDPK"),loading:G,minWidth:"270px",selectAllData:!0,clear:e=>{e&&Ae("DisciplineID")}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd",style:{position:"relative",marginTop:"15px"}},n().createElement(v.Z,{value:z,disabled:!1,label:n().createElement("span",null,"Select Month and Year"),onChange:t=>{if("Invalid Date"!=t){let a=t?.split("-");if(H(a&&a[0]),V(a&&a[1]),_(t),M({type:"text",name:"AssetStartDate",value:t}),B.ContractName&&B.LocalityName){e.CurCalen(new Date(t));let a=new Date(t);i(new Date(t)),Ze("PPMSBCOUNT",null,(0,p.format)(new Date(a),"M"),(0,p.format)(new Date(a),"yyyy"))}else e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})}},onErr:e=>{},view:["year","month"],format:"MM-yyyy",formctrlId:"17917",formctrlIdName:"AssetStartDate",fieldOrder:"3"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,className:"RightContFooter",style:{position:"relative",marginTop:"25px"}},n().createElement(u.Z,{name:"Clear",className:"ContainedBtn",disabled:!1,startIcon:"",onClick:()=>{F(""),e.MandatoryCheck(!1),e.enableIconButton(!1),M({type:"text",name:"ContractID",value:""}),M({type:"text",name:"ContractName",value:""}),M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"LocalityName",value:""}),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"BuildingName",value:""}),J.length>0&&document.getElementById("PPMSBCreationWorkOrderBuildingDayNameClear").click(),M({type:"text",name:"DivisionID",value:""}),M({type:"text",name:"DivisionName",value:""}),$.length>0&&document.getElementById("PPMSBCreationWorkOrderDivisionDayNameClear").click(),M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DisciplineName",value:""}),te.length>0&&document.getElementById("PPMSBCreationWorkOrderDisciplineDayNameClear").click(),M({type:"text",name:"AssetStartDate",value:""}),Q([]),ee([]),ae([]),we([]),_(new Date),H(0),V(0)},formctrlId:"entclear800"}," Clear"),n().createElement(u.Z,{name:"Show",className:"ColorContainedBtn",disabled:!1,startIcon:"",onClick:()=>{Oe(),e.CurCalen(new Date(z))}}," Show")))))))}())))})),W=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),s=(0,l.useRef)(),c=(0,l.useRef)(),[m,d]=(0,l.useState)("month"),[D,C]=(0,l.useState)("MMM yyyy"),[y,S]=(0,l.useState)(new Date),[g,I]=(0,l.useState)(!1),[B,P]=(0,l.useState)(!1);return n().createElement("div",null,n().createElement("div",{className:"divAppbar flex"},n().createElement("div",{className:"dtablecell width15 dpadd8"}),B&&n().createElement("div",{className:"width11"},n().createElement(i.Z,{"aria-label":"delete",onClick:()=>(()=>{if(!g)return!1;s.current.currentDatePic((0,p.subMonths)(y,1)),"day"==m?(S((0,p.subDays)(y,1)),t.current.Prev()):"week"==m?(S((0,p.subWeeks)(y,1)),a.current.Prev()):"month"==m?(S((0,p.subMonths)(y,1)),s.current.Prev()):"year"==m&&(S((0,p.subYears)(y,1)),c.current.Next())})()},n().createElement(o.Z,null)),n().createElement("span",{style:{fontSize:"1rem",fontWeight:"600"}},(0,p.format)(y,D).split(" ")[0]),n().createElement(i.Z,{"aria-label":"delete",onClick:()=>(()=>{if(!g)return!1;s.current.currentDatePic((0,p.addMonths)(y,1)),"day"==m?(S((0,p.addDays)(y,1)),t.current.Next()):"week"==m?(S((0,p.addWeeks)(y,1)),a.current.Next()):"month"==m?(S((0,p.addMonths)(y,1)),s.current.Next()):"year"==m&&(S((0,p.addYears)(y,1)),c.current.Next())})()},n().createElement(r.Z,null))),n().createElement("div",{className:"btnlabel dpadd6"},n().createElement(u.Z,{color:"inherit"},(0,p.format)(y,D)," "),n().createElement(u.Z,{color:"inherit",onClick:()=>{d("month"),C("MMM yyyy")}},"Month"))),"month"==m&&n().createElement(k,{ref:s,CurCalen:e=>S(e),enableIconButton:e=>P(e),MandatoryCheck:e=>I(e),SlideComponentType:t=>e.SlideComponentType(t),loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),alert:t=>e.alertmsg(t)}))}},82729:(e,t,a)=>{a.d(t,{Z:()=>u});var l=a(92950),n=a.n(l),i=(a(94184),a(45697)),o=a.n(i);function r({...e}){const{className:t,children:a,plain:l,profile:i,blog:o,raised:r,background:u,pricing:p,color:s,product:c,testimonial:m,chart:d,login:D,...C}=e;return n().createElement("div",C,a)}r.propTypes={className:o().string,plain:o().bool,profile:o().bool,blog:o().bool,raised:o().bool,background:o().bool,pricing:o().bool,testimonial:o().bool,color:o().oneOf(["primary","info","success","warning","danger","rose"]),product:o().bool,chart:o().bool,login:o().bool,children:o().node};const u=r},75355:(e,t,a)=>{a.d(t,{Z:()=>u});var l=a(92950),n=a.n(l),i=(a(94184),a(45697)),o=a.n(i);function r({...e}){const{className:t,children:a,background:l,plain:i,formHorizontal:o,pricing:r,signup:u,color:p,profile:s,calendar:c,...m}=e;return n().createElement("div",m,a)}r.propTypes={className:o().string,background:o().bool,plain:o().bool,formHorizontal:o().bool,pricing:o().bool,signup:o().bool,color:o().bool,profile:o().bool,calendar:o().bool,children:o().node};const u=r},37274:(e,t,a)=>{a(92950),a(14439),a(27848),a(15940),a(40900),a(51673),a(99940)},30822:(e,t,a)=>{a(92950),a(49174),a(99173),a(39431),a(10635),a(87429),window.headercellid=""}}]);