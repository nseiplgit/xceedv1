/*! For license information please see 6531.0a6b2629856679e26b19.js.LICENSE.txt */
(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[6531,7164,6408,9861],{45332:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var l=a(22122),n=a(81253),i=a(85061),r=a(92950),s=a(86010),o=a(26956),d=a(52543),m=a(83711),c=function(e,t){var a,l,n,r;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,i.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,i.Z)(t.imgFullHeight.split(" ")))):((n=e.classList).remove.apply(n,(0,i.Z)(t.imgFullHeight.split(" "))),(r=e.classList).add.apply(r,(0,i.Z)(t.imgFullWidth.split(" ")))))},p=r.forwardRef((function(e,t){var a=e.children,i=e.classes,d=e.className,p=(e.cols,e.component),u=void 0===p?"li":p,y=(e.rows,(0,n.Z)(e,["children","classes","className","cols","component","rows"])),g=r.useRef(null);return r.useEffect((function(){!function(e,t){e&&(e.complete?c(e,t):e.addEventListener("load",(function(){c(e,t)})))}(g.current,i)})),r.useEffect((function(){var e=(0,o.Z)((function(){c(g.current,i)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[i]),r.createElement(u,(0,l.Z)({className:(0,s.default)(i.root,d),ref:t},y),r.createElement("div",{className:i.tile},r.Children.map(a,(function(e){return r.isValidElement(e)?"img"===e.type||(0,m.Z)(e,["Image"])?r.cloneElement(e,{ref:g}):e:null}))))}));const u=(0,d.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(p)},69685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var l=a(22122),n=a(81253),i=a(92950),r=(a(59864),a(86010)),s=a(52543),o=i.forwardRef((function(e,t){var a=e.cellHeight,s=e.children,o=e.classes,d=e.className,m=e.cols,c=void 0===m?2:m,p=e.component,u=void 0===p?"ul":p,y=e.gap,g=void 0===y?4:y,f=e.rowHeight,D=void 0===f?180:f,h=e.spacing,S=e.style,P=(0,n.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),C=h||g,I=a||D;return i.createElement(u,(0,l.Z)({className:(0,r.default)(o.root,d),ref:t,style:(0,l.Z)({margin:-C/2},S)},P),i.Children.map(s,(function(e){if(!i.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return i.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/c*t,"%"),height:"auto"===I?"auto":I*a+C,padding:C/2},e.props.style)})})))}));const d=(0,s.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(o)},83173:(e,t,a)=>{"use strict";var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=r},92448:(e,t,a)=>{"use strict";var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=r},93657:(e,t,a)=>{"use strict";var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=r},53375:(e,t,a)=>{"use strict";var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=r},85984:(e,t,a)=>{"use strict";var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=r},90482:(e,t,a)=>{"use strict";var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}),"SwapVert");t.Z=r},92381:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var l=a(40900),n=a(26537),i=a(61956),r=a(35131),s=a.n(r),o=a(25108);function d(e,t,a,r){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":n.Z.TokenIDPK,"x-tokenname":n.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return o.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:r,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:s()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:s()().format("YYYY-MM-DD hh:mm:ss")}]};(0,n.Z)(0).then((t=>{(0,i.Z)(e,d,t).then((e=>{200==e[0].status.code?o.log(e,"RES"):o.log("Error")}))}))}}},8687:(e,t,a)=>{"use strict";function l(e,t,a,l,n,i){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let r=e.Output.data[0];t({type:"IsDraft",payload:a}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:a}),n.ExpandDetail(!1),l?n.AddOpen(r[i],a):t({type:"editData",payload:[r]}),n.loading(!1)}}else n.loading(!1),n.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){n.loading(!1),n.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{m:()=>l})},45441:(e,t,a)=>{"use strict";a.d(t,{Z:()=>E});var l=a(92950),n=a.n(l),i=a(7869),r=a.n(i),s=a(14439),o=a(27848),d=a(282),m=a(90482),c=a(868),p=a(8981);function u(e){let t=(0,p.Z)();return n().createElement(c.ZP,{placement:"top",title:e.name},n().createElement(d.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,onClick:e.onClick,frmctrlid:e.frmctrlid,startIcon:n().createElement(m.Z,{className:"PrintBtnIcon"})},t[e.name]))}function y(e){let t=(0,p.Z)();const a=e=>t?.[e]?t[e]:e;return n().createElement(c.ZP,{placement:"top",title:e.name?e.name:a("Import")},n().createElement(d.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,frmctrlid:e.frmctrlid,onClick:e.onClick,startIcon:n().createElement(m.Z,{className:"PrintBtnIcon"})},e.name?e.name:a("Import")))}a(96622);var g=a(80366),f=a(39803),D=a(13089),h=a(61657),S=a(25108);const P=function(e){const[t,a]=(0,l.useState)([]),[i,r]=(0,l.useState)(e.TableVisibleItem),[s,o]=(0,l.useState)(e.TableBodyItem);return(0,l.useEffect)((()=>{if(e.tableData.length>0){let t=[],l=[];Object.keys(e.tableData[0]).map((e=>{e.startsWith("Is")||(t.push({id:e,name:e.trim(),type:"varchar"}),l.push(e.trim()))})),r(t),o(l),a(e.tableData)}else a([])}),[e.tableData]),n().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",position:"relative",height:"61vh"}},e.tableData.length>0&&n().createElement("div",{className:"tableTopPagination displayFlex floatOrder",style:{float:"right"}},n().createElement(h.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:e.tableData.length,page:0,rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})),n().createElement(D.Z,{id:"ExcelMigrationTable",headerdata:i,tablesearchparams:"",searchvalue:e=>{setTableSearchParams(e)},bodydata:t,ondrag:(e,t)=>S.log(e,t),bodyitem:s,visibleitem:i,IsDraft:!1,IsView:!1,IsSub:"",tableExp:!1,accessrights:{},expanded:e=>{},edit:(e,t,a)=>{S.log(e,t,a)},viewtoggle:()=>{},isexpanded:!1,ViewComp:(e,t)=>{}}))};var C=a(55546),I=a.n(C),v=(a(40900),a(11557),a(51673),a(25108));I().ExcelFile,I().ExcelFile.ExcelSheet;const E=(0,l.forwardRef)(((e,t)=>{const{classes:a}=e,i=(0,l.useRef)(null),d=(0,l.useRef)(null),[m,c]=(0,l.useState)({}),[p,D]=(0,l.useState)([]),[h,S]=(0,l.useState)([]),[C,I]=(0,l.useState)(""),[E,N]=(0,l.useState)(!0),[M,H]=(0,l.useState)(!0);(0,l.useImperativeHandle)(t,(()=>({getRefresh:e=>D(e)})));const T=()=>{D([]),I(""),e.clear(),N(!0),H(!0)};async function b(t,a){e.loading(!0),e.importSave(t,a)}return e.TableBodyItem,v.log("exportData",e.exportData),n().createElement(s.Z,null,n().createElement(o.Z,{sm:12},n().createElement(s.Z,null,n().createElement(o.Z,{sm:2},n().createElement(u,{name:"download",id:e.frmctrlid+"_download",disabled:!1,onClick:e=>{d.current.click()}})),n().createElement(o.Z,{sm:2},n().createElement("input",{type:"file",className:"form-control",id:"myInput",ref:i,style:{display:"none"},onChange:t=>{(t=>{const a=t.target.files;I(t.target.files[0].name);var l=t.target.files[0].name.split(/\.(?=[^\.]+$)/);if(v.log("filename",a),"xls"!=l[1]&&"xlsx"!=l[1]&&"ods"!=l[1])return e.alert({open:!0,color:"error",message:["You can only upload Excel file!"]}),!1;{a&&a[0]&&I(a[0].name);const t=new FileReader,l=!!t.readAsBinaryString;t.onload=t=>{const a=t.target.result,n=r().read(a,{type:l?"binary":"array",bookVBA:!0});if(e.SheetCount>1){var i=n.SheetNames.slice(0,e.SheetCount);let t=[];i.map(((e,a)=>{const l=n.SheetNames[a],i=n.Sheets[l];let s=r().utils.sheet_to_json(i);t.push(s)})),e.data(t)}else{const t=n.SheetNames[0],a=n.Sheets[t],l=r().utils.sheet_to_json(a);let i=function(e,t){let a=[];for(let l=0;l<e.length;l++){let n=e[l],i={};for(let e=0;e<t.length;e++){let a=t[e];i["p"+(e+1)]=n[a]||""}a.push(i)}return a}(l,function(e){const t=[],a=r().utils.decode_range(e["!ref"]);for(let l=a.s.c;l<=a.e.c;++l){const n=e[r().utils.encode_cell({r:a.s.r,c:l})];n&&n.t&&t.push(n.v)}return t}(a));D(i),S((e=>{let t=[],a=r().utils.decode_range(e).e.c+1;for(var l=0;l<a;++l)t[l]={name:r().utils.encode_col(l),key:l};return t})(a["!ref"])),e.data(l,null,2),N(!1)}},l?t.readAsBinaryString(a[0]):t.readAsArrayBuffer(a[0])}})(t)},onClick:e=>{e.target.value=null}}),n().createElement(u,{name:"Browse",id:e.frmctrlid+"_browse2",disabled:!1,onClick:e=>{i.current.click()}})),n().createElement(o.Z,{sm:4},n().createElement(f.Z,{value:C,disabled:!0,multiline:!0,rowsMax:"2",fullWidth:!0,InputProps:{classes:a,endAdornment:C?n().createElement(g.Z,{style:{width:"18px",color:"#777"},onClick:e=>{T()}}):null}})),n().createElement(o.Z,{sm:2},n().createElement(y,{name:"Process",disabled:!!E,id:e.frmctrlid+"_Process",onClick:e=>{b(p,{type:"Process",uid:localStorage.getItem("userid")}),H(!1),N(!0)}})),n().createElement(o.Z,{sm:2},n().createElement(y,{name:"Import",disabled:!!M,id:e.frmctrlid+"_import",onClick:e=>{b(p,{type:"Import",uid:localStorage.getItem("userid")}),T()}})),n().createElement(o.Z,{sm:12},n().createElement(P,{tableData:p,TableVisibleItem:e.TableVisibleItem,TableBodyItem:e.TableBodyItem})))),n().createElement("a",{ref:d,style:{display:"none"},href:e.excelfile,download:e.filename},"Click to download"))}))},73561:(e,t,a)=>{"use strict";a.d(t,{kN:()=>Le,w7:()=>Ze,ZP:()=>Oe});var l=a(92950),n=a.n(l),i=(a(95866),a(45237)),r=a(36939),s=a(61201),o=a(59009),d=a(51673),m=(a(99058),a(80366)),c=a(282),p=a(868),u=a(78513),y=a(14439),g=a(27848),f=a(40900),D=a(64059),h=a(24038),S=a(8981),P=a(47516),C=a(86893),I=a(33681),v=a(63163),E=a(35131),N=a.n(E),M=a(61956),H=a(93657),T=a(53375),b=a(52663),w=a(66083),F=a(29525),x=a(66856),R=a(39803),A=a(99940),B=a(17149),k=a(62810),Z=a(30553),L=a(92381),O=a(25108);const z=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[i,r]=(0,l.useState)([]),[s,o]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[E,N]=(0,l.useState)(""),[M,z]=(0,l.useState)({}),[K,q]=(0,l.useState)(!0),[V,_]=(0,l.useState)(!1),{cstate:G,cdispatch:U}=e.ContextApi?e.ContextApi:Le(),[Y,j]=(0,l.useState)(1),[W,$]=(0,l.useState)(0),[J,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,ne]=(0,l.useState)(!0),[ie,re]=(0,l.useState)(!1),[se,oe]=(0,l.useState)(""),[de,me]=(0,l.useState)(!1),[ce,pe]=(0,l.useState)(!1),[ue,ye]=(0,l.useState)(!1),[ge,fe]=(0,l.useState)(""),De=(0,l.useRef)(null),[he,Se]=(0,l.useState)({});let Pe=localStorage.getItem("Language");const Ce={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ie=(0,S.Z)();const ve=e=>Ie[e]?Ie[e]:e,Ee=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ce[Pe]];function Ne(){z({}),ee({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Se(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()}})));const Me=async(t,a,l,n)=>{Q(!0);try{De.current&&De.current.abort();const s=new AbortController;De.current=s;let m="",c=[],p={};await o((e=>(m=e.name,e))),await z((e=>(c=e,e))),await ee((e=>(p=e,e)));const u=f.v.Api+"FP760S3/",y={data:{p1:"PPMHealthSafetyDetailsIDPK"==a?null:await Fe(),p2:"PPMHealthSafetyCode"==m&&l.length>0?"%"+l+"%":null,p3:"OrderNo"==m&&l.length>0?"%"+l+"%":null,p4:"PPMHealthSafetyName"==m&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:e.parentId?e.parentId:"0",p8:e.Dialogview?"1":null,p9:null,p10:"p10"==m&&l.length>0?l:null,p11:null,p12:null,p13:null,p14:null,p15:"DivisionName"!=m&&c.DivisionName?c.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p16:"DivisionCode"==m&&l.length>0?"%"+l+"%":null,p17:"DivisionName"==m&&l.length>0?"%"+l+"%":null,p18:"DisciplineName"!=m&&c.DisciplineName?c.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p19:"DisciplineCode"==m&&l.length>0?"%"+l+"%":null,p20:"DisciplineName"==m&&l.length>0?"%"+l+"%":null,p21:"FrequencyName"!=m&&c.FrequencyName?c.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p22:"FrequencyCode"==m&&l.length>0?"%"+l+"%":null,p23:"FrequencyName"==m&&l.length>0?"%"+l+"%":null,p24:"ComplaintNatureName"!=m&&c.ComplaintNatureName?c.ComplaintNatureName.map((e=>e.ComplaintNatureIDPK)).toString():null,p25:"ComplaintNatureCode"==m&&l.length>0?"%"+l+"%":null,p26:"ComplaintNatureName"==m&&l.length>0?"%"+l+"%":null,p27:"CCMComplaintTypeName"!=m&&c.CCMComplaintTypeName?c.CCMComplaintTypeName.map((e=>e.CCMComplaintTypeIDPK)).toString():null,p28:"CCMComplaintTypeCode"==m&&l.length>0?"%"+l+"%":null,p29:"CCMComplaintTypeName"==m&&l.length>0?"%"+l+"%":null,p30:"HealthSafetyCode"==m&&l.length>0?"%"+l+"%":null,p31:"HealthSafetyName"==m&&l.length>0?"%"+l+"%":null,p32:n||1,p33:10,p34:t,p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}},g=await(0,d.Z)(u,y,e.token,"",s.signal);if(!g)return!1;const D=g.Output.status.code,h=g.Output.data;if("200"===D)if(h.length>0)if(1===n){let e=Te(h,m),t=He(e,M[m],a);r(t),$(t.length>0?t[0].TotalCount:M[m].length)}else{let e=[...i,...h],t=Te(e,m);$(t.length<10?t.length:h[0].TotalCount),r(Te(t,m))}else E.length>0&&r([]),$(i.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},He=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function be(e){let t=e+"PK",a=he[e];if(a){const e=a.flatMap((e=>M[e]?M[e].map((e=>e[t])):[]));return e.toString()}return""}const we=async t=>{let a="",l={};await z((e=>(a=e,e)));let n=[...te],i=[];for(let e of n){let t=a[e]?.map((e=>e.PPMHealthSafetyDetailsIDPK)).toString();t&&i.push(t)}await ee((e=>(l=e,e)));let r={PPMHealthSafetyDetailsIDPK:i?[...new Set(i)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMHealthSafetyID:be("PPMHealthSafetyID")};"saveFav"==t?Ae("save",r):(e.searchData(r),_(!1))};async function Fe(){let e={};await z((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMHealthSafetyDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function xe(t,a,l,n,i,r){let s={[n]:{From:t,Type:l,To:a}},o={};ee((e=>({...e,...s})));const d={...M};let m=[...te],c=[];for(let e of m){let t=d[e]?.map((e=>e.PPMHealthSafetyDetailsIDPK)).toString();t&&c.push(t)}await ee((e=>(o=e,e)));let p={PPMHealthSafetyDetailsIDPK:c?[...new Set(c)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?i:null,PPMHealthSafetyID:M.HealthSafetyName?.map((e=>e.PPMHealthSafetyIDPK)).toString()};e.searchData(p)}function Re(){return n().createElement(D.Z,{frmctrlid:"fld760L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{xe(e,t,a,s.name,l)},keyboardback:()=>{_(!1),o({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(s.name),fieldname:s.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,L.Z)(t,e.formID,a,se).then((e=>{const t=e.Output.data;fe(t)}))};return n().createElement("div",null,n().createElement(b.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},n().createElement(w.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),n().createElement(F.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(R.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>oe(e.target.value),fullWidth:!0})),n().createElement(Z.Z,{style:{color:"#337ab7"},control:n().createElement(A.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>pe(e.target.checked)}),label:"Quick"}),n().createElement(Z.Z,{style:{color:"#337ab7"},control:n().createElement(A.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),n().createElement(x.Z,null,n().createElement(c.Z,{onClick:()=>{we("saveFav"),me(!1)},color:"primary"},"Save"))),V?"Created Ttm"===s.name||s.name.includes("Date")?n().createElement(Re,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(y.Z,null,n().createElement(g.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ee(s.idpk)," (",i.length,"/",W,")")),n().createElement(g.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(p.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(m.Z,{id:"fld760L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),o({idpk:"",name:"",type:"",fieldidpk:!1}),j(1)}}))),M[s.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(c.Z,{frmctrlid:"fld760L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await z((t=>(e=t,O.log("clear fewItems",e),t))),e[s.name]=[],Me(s.type,s.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},K?n().createElement(p.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(C.D7o,{className:"FilterMaximizeIcon",onClick:()=>{q(!1)}}))):n().createElement(p.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(C.dOw,{className:"FilterMaximizeIcon",onClick:()=>{q(!0)}})))),n().createElement("ul",null,M[s.name]&&M[s.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[s.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[s.name],onClick:()=>(async(e,t)=>{j(1);let a=M[s.name].filter((t=>t!=e)),l={};await z((e=>(l=e,e))),l[s.name]=a,z(l),r((t=>[e,...t]))})(e)},n().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(h.Z,{frmctrlid:"fld760L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:E,placeholder:ve("Enter ")+" "+Ee(s.idpk),onChange:e=>{N(e),Me(s.type,s.fieldidpk,e,1,Fe())}})),n().createElement("div",{id:"fld760L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:we},n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(c.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(I.Z,{color:"secondary"})),n().createElement("div",{id:"fld760L1TFCScrollYDefault",className:"height65 scrollYDefault"},i.length>0&&i.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[s.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await z((e=>(l=e,e)));let n=l[s.name];t[s.name]=n?[...a,...n]:a,l={...l,...t},z(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(u.Z,{className:"DotIcon"}),n().createElement("span",null,e[s.name])))),i.length+0<W&&i.length>0&&n().createElement("div",{id:"fld760L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{j(Y+1),Me(s.type,s.fieldidpk,"",Y+1)}},n().createElement("p",null," more... ")),0===i.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:f.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(P.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",se.length>0&&`(${se})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(p.ZP,{title:"Favorite List",placement:"top"},ie?n().createElement(m.Z,{className:"favlisticon",onClick:()=>{re(!1),fe(""),Ne()}}):n().createElement(H.Z,{className:"favlisticon",onClick:()=>{re(!0),Ae("select"),Ne()}})),Object.keys(M).length>0&&n().createElement(p.ZP,{title:"Save Favorites",placement:"top"},n().createElement(T.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(c.Z,{className:"ColumnApplyButton",onClick:()=>{Ne()},id:"fld760L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(c.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld760L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld760L1TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),N(""),r([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"PPMHealthSafetyDetailsIDPK";o({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMHealthSafetyDetailsID",fieldidpk:t}),Me(e.IsForeign?"Filter"+e.FieldName:"FilterPPMHealthSafetyDetailsID",t,"",1,Fe())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ee(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),n().createElement(v.Z,{checked:"1"==le,onChange:t=>{ne(t.target.checked),xe("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,M[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},M[a][0][a]),M[a].length>1&&n().createElement("span",{className:"RoundedDivName"},M[a][1][a]),M[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(M[a].length-2))))));var a})),ge&&ge.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Me("FilterPPMHealthSafetyDetailsID",a),we("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}));var K=a(54180),q=a(43031),V=a(85639),_=a(110),G=a(5109),U=a(88995),Y=a(50743),j=a(61657),W=a(51209),$=a(53854),J=a(51649),Q=a(37106),X=a(5434),ee=a(83817),te=a(39327),ae=a(79352),le=a(3212),ne=a(93521),ie=(a(79117),a(26537)),re=a(45441),se=a(71168),oe=a.n(se),de=a(65107),me=a(94986),ce=a(15999),pe=a(11557),ue=a(25108);window.clickFilter="";const ye=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),c=(0,l.useRef)(null),u=(0,l.useRef)(null),[y]=((0,i.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g]=(0,l.useState)("760"),[D,I]=(0,l.useState)(!0),[v,E]=(0,l.useState)(!1),[N,M]=(0,l.useState)(0),[H,T]=(0,l.useState)(0),[b,w]=(0,l.useState)(0),[F,x]=(0,l.useState)(0),[R,A]=(0,l.useState)({current:1,pageSize:100}),[B,k]=(0,l.useState)(""),[Z,L]=(0,l.useState)([]),[O,ie]=(0,l.useState)({val:"",column:""}),[se,ye]=(0,l.useState)([]),[ge,fe]=(0,l.useState)(!1),[De,he]=(0,l.useState)(""),[Se,Pe]=(0,l.useState)(""),[Ce,Ie]=(0,l.useState)(!1),[ve,Ee]=(0,l.useState)([]),[Ne,Me]=(0,l.useState)([]),[He,Te]=(0,l.useState)([]),[be,we]=(0,l.useState)({children:[{name:"PPMHealthSafetyDetails",children:[]}]}),[Fe,xe]=(0,l.useState)(!1),Re=(0,l.useContext)(e.context?e.context:Ze),{cstate:Ae,cdispatch:Be}=e.ContextApi?e.ContextApi:Le();let ke={PPMHealthSafetyDetailsIDPK:"",PPMHealthSafetyCode:"",OrderNo:"",PPMHealthSafetyName:"",IsDraft:"",Remarks:"",PPMHealthSafetyID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",ComplaintNatureID:"",ComplaintNatureCode:"",ComplaintNatureName:"",CCMComplaintTypeID:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",HealthSafetyCode:"",HealthSafetyName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Oe,ze]=(0,l.useState)(ke),[Ke,qe]=(0,l.useState)(ke),[Ve,_e]=(0,l.useState)(!1),[Ge,Ue]=(0,l.useState)(!0),[Ye,je]=(0,l.useState)(!1),[We,$e]=(0,l.useState)(!0),[Je,Qe]=(0,l.useState)({PPMHealthSafetyName:"",PPMHealthSafetyCode:"",OrderNo:"",HealthSafetyName:""}),[Xe,et]=(0,l.useState)(!1),[tt,at]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(0),[it,rt]=(0,l.useState)(0),[st,ot]=(0,l.useState)({current:1,pageSize:10}),[dt,mt]=(0,l.useState)([]),[ct,pt]=(0,l.useState)([]),[ut,yt]=(0,l.useState)(!1),[gt,ft]=(0,l.useState)(!1),[Dt,ht]=(0,l.useState)(!1),[St,Pt]=(0,l.useState)(""),[Ct,It]=oe()("760"),[vt,Et]=(0,l.useState)({}),[Nt]=(0,l.useState)("0"),[Mt,Ht]=(0,l.useState)([]),[Tt,bt]=(0,l.useState)([]),wt=[{columns:dt,data:B}];let Ft=(0,S.Z)();const xt=e=>Ft[e]?Ft[e]:e,Rt=e=>Ae.language?.[e]?Ae.language[e]:e;(0,l.useEffect)((()=>{zt(Ct),function(e){const t=e.filter((e=>e.FormID==Nt));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldName))})),Ht(a),bt(l)}(Ct)}),[Ct]),(0,l.useEffect)((()=>{Ae.token.length>0&&(e.parentId?Lt(R,ke,"PPMHealthSafetyDetailsID"):ye([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Fe&&e.parentId?Lt(R,De,"PPMHealthSafetyDetailsID"):Fe&&qe(De)}),[De]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{At(e)},tableRefresh:()=>{Lt(R,ke,"PPMHealthSafetyDetailsID")},DialogTableProps:e=>{E(e)},HideEntryFields:e=>{ht(!0===e)}})));const At=e=>{""==e?Lt(R,ke,Ve?"DraftPPMHealthSafetyDetailsID":"PPMHealthSafetyDetailsID",Ve&&"DraftPage"):Ot(e,{current:1,pageSize:100}),Pe(e)};function Bt(t){Re.loading(!0);let a=f.v.Api+"FP760S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,l,Ae.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,rt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?nt(Math.ceil(a)):20==t.pageSize?nt(Math.ceil(a/2)):50==t.pageSize?nt(Math.ceil(a/5)):100==t.pageSize&&nt(Math.ceil(a/10)),at(e.Output.data),Re.loading(!1)}}))}function kt(e,t){Be({type:"editData",payload:[t]}),Be({type:"IsDraft",payload:Ve}),Be({type:"ShowDetail",payload:!0}),Re.Expanded(!0),Ye&&Ie(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&$e(e.cardview),e.Dialogview&&(E(e.Dialogview),ht(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ot(e.searchsafaritext,{current:R.current,pageSize:R.pageSize})}),[e.searchsafaritext]);const Zt=()=>{Re.EditClose(!0),ge?(document.getElementById("PPMHealthSafetyDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMHealthSafetyDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMHealthSafetyDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",fe(!1),We?(v||(document.getElementById("PPMHealthSafetyDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMHealthSafetyDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMHealthSafetyDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMHealthSafetyDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMHealthSafetyDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMHealthSafetyDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",fe(!0),document.getElementById("PPMHealthSafetyDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ie(!1),window.clickFilter=!ge},Lt=(t,a,l,n,i,r)=>{Re.loading(!0),"DraftPage"!==n&&_e(Ae.IsDraft);let s=f.v.Api+"FP760S3/",o={data:{p1:i||(a&&a.PPMHealthSafetyDetailsIDPK?a.PPMHealthSafetyDetailsIDPK:null),p2:a&&a.PPMHealthSafetyCode?a.PPMHealthSafetyCode:null,p3:a&&a.OrderNo?a.OrderNo:null,p4:a&&a.PPMHealthSafetyName?a.PPMHealthSafetyName:null,p5:"DraftPPMHealthSafetyDetailsID"==l?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:a&&a.IsActive,p9:null,p10:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p11:a&&a.CreatedTtm?a.CreatedTtm:null,p12:a&&a.CreatedTtmType?a.CreatedTtmType:null,p13:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p14:null,p15:a&&a.DivisionID?a.DivisionID:null,p16:a&&a.DivisionCode?a.DivisionCode:null,p17:a&&a.DivisionName?a.DivisionName:null,p18:a&&a.DisciplineID?a.DisciplineID:null,p19:a&&a.DisciplineCode?a.DisciplineCode:null,p20:a&&a.DisciplineName?a.DisciplineName:null,p21:a&&a.FrequencyID?a.FrequencyID:null,p22:a&&a.FrequencyCode?a.FrequencyCode:null,p23:a&&a.FrequencyName?a.FrequencyName:null,p24:a&&a.ComplaintNatureID?a.ComplaintNatureID:null,p25:a&&a.ComplaintNatureCode?a.ComplaintNatureCode:null,p26:a&&a.ComplaintNatureName?a.ComplaintNatureName:null,p27:a&&a.CCMComplaintTypeID?a.CCMComplaintTypeID:null,p28:a&&a.CCMComplaintTypeCode?a.CCMComplaintTypeCode:null,p29:a&&a.CCMComplaintTypeName?a.CCMComplaintTypeName:null,p30:a&&a.HealthSafetyCode?a.HealthSafetyCode:null,p31:a&&a.HealthSafetyName?a.HealthSafetyName:null,p32:i?1:t.current,p33:t.pageSize,p34:l,p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}};(0,d.Z)(s,o,Ae.token[0]).then((s=>{if(i)(0,ee.a)(s,Be,n,r,Re);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,w(s.Output.data[0].TotalCount),x(s.Output.data[0].DraftCnt),Be({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==n&&x(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?T(Math.ceil(e)):20==t.pageSize?T(Math.ceil(e/2)):50==t.pageSize?T(Math.ceil(e/5)):100==t.pageSize&&T(Math.ceil(e/10)),ye(s.Output.data),Re.loading(!1)}e.Dialogview||(document.getElementById("divPPMHealthSafetyDetails-Entry").style.height="auto",document.getElementById("divPPMHealthSafetyDetails-Entry").style.display="block")}else Re.loading(!1),"DraftPPMHealthSafetyDetailsID"===l?(Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ie(!0),_e(!1)):(ye([]),A({current:1,pageSize:10}),T(0),w(0),Be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Re.alert({open:!0,color:"warning",message:[s.Output.status.message]}),Re.loading(!1)}))};function Ot(t,a){Re.loading(!0);const l=f.v.Api+"FP760S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ve?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,n,Ae.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,w(e.Output.data[0].TotalCount),Be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?T(Math.ceil(t)):20==a.pageSize?T(Math.ceil(t/2)):50==a.pageSize?T(Math.ceil(t/5)):100==a.pageSize&&T(Math.ceil(t/10)),ye(e.Output.data),Re.loading(!1)}else ye([]),T(0),w(0),Be({type:"count",payload:"0"}),Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Re.loading(!1);else Re.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Re.loading(!1)}))}function zt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),Be({type:"language",payload:Object.assign({},...n)}),Qe(a.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),Me(t),Te(a),mt(l),pt(a)}const Kt=()=>Fe?null:n().createElement("div",null,Xe?n().createElement(me.Z,{data:tt,expanded:e=>!v&&Re.Expanded(e),edit:(e,t,a)=>{v?Re.select(e):(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:t}),Be({type:"ShowDetail",payload:a}))}}):n().createElement(de.Z,{ref:c,frmctrlid:"tblcs_760_L1_",id:"PPMHealthSafetyDetailsTable",headerdata:Ne,tablesearchparams:Je,searchvalue:e=>{Qe(e),he(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Et(t),A({current:1,pageSize:10}),Lt({current:1,pageSize:10},t,Ve?"DraftPPMHealthSafetyDetailsID":"PPMHealthSafetyDetailsID",Ve&&"DraftPage")},bodydata:se,ondrag:kt,bodyitem:He,visibleitem:Ne,isdraft:Ve,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:g,showMore:!1,accessrights:Ae.AccessRights,expanded:e=>!v&&Re.Expanded(e),edit:(e,t,a)=>{v?Re.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Lt(R,null,t?"DraftPPMHealthSafetyDetailsID":"PPMHealthSafetyDetailsID",t&&"DraftPage",e[l],a)})),Re.hideAddBtn(!0))},viewtoggle:Re.viewtoggle,isexpanded:!v||Ye,tf:Rt,action:v?"none":"",ViewComp:(e,t)=>{}}));(0,l.useEffect)((()=>{je(Ae.ExpandTableValue)}),[Ae.ExpandTableValue]);return n().createElement("div",null,!Dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld760L1ECSearchBar",className:"searchbar1"},n().createElement(h.Z,{frmctrlid:"fld760L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:xt("Search"),value:Se,onChange:e=>{Pe(e),Re.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},Se?n().createElement("div",{id:"fld760L1TCCloseIconCommonSearch",onClick:()=>{Pe(""),Re.searchItem("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld760L1TCInputSearchIcon"},n().createElement(U.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMHealthSafetyDetailsgridsearch").focus()}})))),n().createElement("div",null,Ae.AccessRights.IsAdd?n().createElement(le.Z,{className:"SaveBtnCommon",frmctrlid:"fld760L1TCAddBtnIsAdd",onClick:()=>{Re.hideAddBtn(!0),Be({type:"editData",payload:[]}),Be({type:"ShowDetail",payload:!1}),Be({type:"Add",payload:!0})}}):"")),n().createElement(r.Z,{expanded:Ge,onChange:()=>()=>{Ue(Ye)}},e.Dialogview&&n().createElement(Y.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[760]"},`${Rt("760")} (${b})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld760L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(h.Z,{frmctrlid:"fld760L1TCInputSearch",className:"search_input",type:"text",placeholder:xt("Search"),value:Se,onChange:e=>{At(e)}}),n().createElement("div",{className:"search_icon"},Se?n().createElement("div",{id:"fld760L1TCInputCloseIcon",onClick:()=>{At("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld760L1TCInputSearchIcon"},n().createElement(U.Z,{className:"InputSearchIcon"}))))))),n().createElement(s.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"PPMHealthSafetyDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ve&&n().createElement("div",{frmctrlid:"fld760L1TCFilterDataIsDraft",id:"PPMHealthSafetyDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Zt()}},n().createElement(p.ZP,{title:xt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(P.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Filter Data"))),!v&&!Ve&&!Fe&&n().createElement(K.Z,{formctrlidprint:"fld760L1TCExportPrint",formctrlidexport:"fld760L1TCExportTable",formctrlidrefresh:"fld760L1TCExportRefresh",title:Rt("760"),data:Z,exportData:wt,Items:ct,columnIndex:dt,TableVisibleItem:Ne,userGridViewFormID:g,TableTotalCount:b,triggerApi:t=>{((t,l,n,i,r)=>{if(0===b)return Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Re.loading(!0);let s=f.v.Api+"FP760S3/",o={data:{p1:t&&t.PPMHealthSafetyDetailsIDPK?t.PPMHealthSafetyDetailsIDPK:null,p2:t&&t.PPMHealthSafetyCode?t.PPMHealthSafetyCode:null,p3:t&&t.OrderNo?t.OrderNo:null,p4:t&&t.PPMHealthSafetyName?t.PPMHealthSafetyName:null,p5:Ve?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.DivisionID?t.DivisionID:null,p16:t&&t.DivisionCode?t.DivisionCode:null,p17:t&&t.DivisionName?t.DivisionName:null,p18:t&&t.DisciplineID?t.DisciplineID:null,p19:t&&t.DisciplineCode?t.DisciplineCode:null,p20:t&&t.DisciplineName?t.DisciplineName:null,p21:t&&t.FrequencyID?t.FrequencyID:null,p22:t&&t.FrequencyCode?t.FrequencyCode:null,p23:t&&t.FrequencyName?t.FrequencyName:null,p24:t&&t.ComplaintNatureID?t.ComplaintNatureID:null,p25:t&&t.ComplaintNatureCode?t.ComplaintNatureCode:null,p26:t&&t.ComplaintNatureName?t.ComplaintNatureName:null,p27:t&&t.CCMComplaintTypeID?t.CCMComplaintTypeID:null,p28:t&&t.CCMComplaintTypeCode?t.CCMComplaintTypeCode:null,p29:t&&t.CCMComplaintTypeName?t.CCMComplaintTypeName:null,p30:t&&t.HealthSafetyCode?t.HealthSafetyCode:null,p31:t&&t.HealthSafetyName?t.HealthSafetyName:null,p32:R.current,p33:b,p34:Ve?"DraftPPMHealthSafetyDetailsID":"PPMHealthSafetyDetailsID",p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}};Re.loading(!1),Re.alert({open:!0,color:"success",message:[`${Rt(760)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(s,o,Ae.token[0],r).then((e=>{(0,ne.PDF_Excel_Generate)(e,Re,ct,k,a,r)}))})(De,O.column,0,0,t)},Refresh:()=>{Pe(""),A({current:1,pageSize:100}),c.current.clearItem(),Ae.IsDraft?Lt({current:1,pageSize:100},ke,"DraftPPMHealthSafetyDetailsID"):Lt({current:1,pageSize:100},ke,"PPMHealthSafetyDetailsID")},disabledPrint:!Ae.AccessRights.IsPrint,disabledExport:!Ae.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ve&&!Fe&&!v&&n().createElement("div",{className:"buttoncard",onClick:()=>ft(!gt)},n().createElement("span",null,gt?n().createElement(p.ZP,{disableFocusListener:!0,title:xt("Less"),placement:"top"},n().createElement("span",{id:"fld760L1TCLess"},n().createElement($.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(p.ZP,{disableFocusListener:!0,title:xt("More"),placement:"top"},n().createElement("span",{id:"fld760L1TCMore"},n().createElement($.ilJ,{className:"tableFilterColumnIcon"}))))),gt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Fe||!Ye?null:v||!Ae.AccessRights.IsAdd||Ve?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld760L1TCFilterDataIsAdd",id:"PPMHealthSafetyDetailscoldiv",className:"buttoncard",onClick:()=>{Re.EditClose(!0),Ce?(document.getElementById("PPMHealthSafetyDetailsFilterDiv").style.width="0%",document.getElementById("PPMHealthSafetyDetailsTabDiv").style.width="100%",document.getElementById("PPMHealthSafetyDetailsFilterDiv").style.display="none",document.getElementById("PPMHealthSafetyDetailscoldiv").style.width="fit-content",document.getElementById("PPMHealthSafetyDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ie(!1)):(document.getElementById("PPMHealthSafetyDetailsFilterDiv").style.width="25%",document.getElementById("PPMHealthSafetyDetailsTabDiv").style.width="75%",document.getElementById("PPMHealthSafetyDetailsFilterDiv").style.display="block",document.getElementById("PPMHealthSafetyDetailsfildiv").style.width="fit-content",document.getElementById("PPMHealthSafetyDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMHealthSafetyDetailscoldiv").style.width="fit-content",document.getElementById("PPMHealthSafetyDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ie(!0)),fe(!1)}},n().createElement(p.ZP,{title:xt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Manage Columns")))),!Ve&&D&&!Fe&&!v&&n().createElement("div",{className:"buttoncard",onClick:()=>(setTimeout((()=>u.current.getRefresh([])),2e3),Re.openNav(),void Re.SlideComponentType(n().createElement(re.Z,{ref:u,alert:e=>Re.alert(e),loading:e=>Re.loading(e),Api:"FP760S8/",data:e=>ue.log(e),SheetCount:1,frmctrlid:"fld760L1TCExpMig",importSave:(e,t)=>(async(e,t)=>{if(e.length>0){Re.loading(!0);const a=f.v.Api+"FP760S8/";await(0,pe.ProcessDataSyncSave)(a,e,t,Re,u)}})(e,t),TableVisibleItem:Mt,TableBodyItem:Tt,clear:e=>u.current.getRefresh([]),excelfile:f.v.excel+"PPMHealthSafetyDetails.xlsx",filename:"PPMHealthSafetyDetails.xlsx"}))),id:"fld760L1TCExpMigSlide"},n().createElement(p.ZP,{title:xt("Migration"),placement:"top"},n().createElement("span",null,n().createElement(ae.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!v&&Ye&&!Fe&&!Ve&&n().createElement("div",null,n().createElement("div",{id:"PPMHealthSafetyDetailscoldiv",className:"buttoncard",onClick:()=>{Xe?et(!1):(et(!0),Bt({current:1,pageSize:100}))}},n().createElement(p.ZP,{title:xt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld760L1TCTableScrollData"},n().createElement(ce.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Table Scroll Data")))),!Fe&&Ve?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Re.hideAddBtn(!1),Re.ExpandEntry(),Lt({current:1,pageSize:100},ke,"PPMHealthSafetyDetailsID"),_e(!1),Pe(""),Be({type:"IsDraft",payload:!1}),A({current:1,pageSize:10})}},n().createElement(p.ZP,{title:xt("List"),placement:"top"},n().createElement("div",{id:"fld760L1TCList"},n().createElement(J.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},xt("Drafts")," ",b)):!v&&!Fe&&Ae.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(o.Z,{color:"secondary",className:"badge",max:999,badgeContent:F,showZero:!0},n().createElement("div",{id:"fld760L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{F>0?(A({current:1,pageSize:100}),M(0),Re.clear(),Pe(""),Be({type:"Add",payload:!1}),Lt({current:1,pageSize:10},ke,"DraftPPMHealthSafetyDetailsID"),_e(!0),Be({type:"IsDraft",payload:!0}),Ie(!1),$e(!0),document.getElementById("PPMHealthSafetyDetailsFilterDiv").style.width="0%",document.getElementById("PPMHealthSafetyDetailsTabDiv").style.width="100%",document.getElementById("PPMHealthSafetyDetailsFilterDiv").style.display="none",A({current:1,pageSize:100}),xe(!1)):Re.alert({open:!0,color:"warning",message:[xt("There is no Record Found")]})}},n().createElement(p.ZP,{title:xt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(Q.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},xt("Drafts"))))))):""),!Ve&&!v&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Fe||Ve?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:We?"buttonList":"buttonGrid",id:"fld760L1TCListView",onClick:()=>{$e(!0),yt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement($.umT,null)),n().createElement("span",null,xt("List"))),n().createElement("div",{className:We||ut?"buttonGrid":"buttonList",id:"fld760L1TCCardView",onClick:()=>{$e(!1),yt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(C.aCJ,null)),n().createElement("span",null,xt("Card"))),n().createElement("div",{className:ut?"buttonList":"buttonGrid",id:"fld760L1TCTileView",onClick:()=>{yt(!0),$e(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(X.f_H,null)),n().createElement("span",null,xt("Tile"))))))),Fe?null:Xe?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(j.Z,{style:{color:"#777"},id:"fld760L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(it),page:N,onPageChange:(e,t)=>{M(t),Bt({current:t+1,pageSize:st.pageSize}),ot({current:t+1,pageSize:st.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(q.Z,{count:lt,color:"primary",page:st.current,onChange:(e,t)=>{ot({current:t,pageSize:st.pageSize}),nt(t),Bt({current:t,pageSize:st.pageSize})}}),n().createElement("div",null,n().createElement(_.Z,{className:"BootstrapInputStyle",value:st.pageSize,frmctrlid:"fld760L1TCSelectPagination",onChange:e=>{ot({current:1,pageSize:e.target.value}),Bt({current:1,pageSize:e.target.value})}},n().createElement(V.Z,{value:10},"10"),n().createElement(V.Z,{value:20},"20"),n().createElement(V.Z,{value:50},"50"),n().createElement(V.Z,{value:100},"100"))),Ye&&n().createElement("p",{className:"per-page"},"/ ",xt("RowperpageOf")," (",it,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(j.Z,{style:{color:"#777"},id:"fld760L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(b),page:N,onPageChange:(e,t)=>{M(t),Lt({current:t+1,pageSize:R.pageSize},ke,Ve?"DraftPPMHealthSafetyDetailsID":"PPMHealthSafetyDetailsID",Ve&&"DraftPage"),A({current:t+1,pageSize:R.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(q.Z,{count:H,siblingCount:0,color:"primary",page:R.current,onChange:(e,t)=>{if(A({current:t,pageSize:R.pageSize}),Ve)Lt({current:t,pageSize:R.pageSize},Oe,"DraftPPMHealthSafetyDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Se.length>0?Ot(Se,{current:t,pageSize:R.pageSize}):Lt({current:t,pageSize:R.pageSize},Oe,"PPMHealthSafetyDetailsID")}}}),n().createElement("div",null,n().createElement(_.Z,{className:"BootstrapInputStyle",value:R.pageSize,id:"fld760L1TCSelectPaging",onChange:e=>{A({current:1,pageSize:e.target.value}),Ve?Lt({current:1,pageSize:e.target.value},Oe,"DraftPPMHealthSafetyDetailsID","DraftPage"):Se.length>0?Ot(Se,{current:1,pageSize:e.target.value}):Lt({current:1,pageSize:e.target.value},Oe,"PPMHealthSafetyDetailsID")}},n().createElement(V.Z,{value:10},"10"),n().createElement(V.Z,{value:20},"20"),n().createElement(V.Z,{value:50},"50"),n().createElement(V.Z,{value:100},"100"))),Ye&&n().createElement("p",{className:"per-page"},"/ ",xt("RowperpageOf")," (",b,") "))),n().createElement("div",{id:"PPMHealthSafetyDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMHealthSafetyDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ge&&n().createElement(z,{parentId:e.parentId,searchData:e=>{he(e||vt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:g,data:()=>{},visibleData:()=>{},token:Ae.token[0],CloseBtnClk:()=>Zt(),userGrid:Ct,msg:(e,t)=>Re.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Ce&&n().createElement(G.Z,{Refresh:e=>{Lt({current:1,pageSize:100},ke,"PPMHealthSafetyDetailsID")},frmctrlid:"fld760L1TCTableColumnOrder",loading:e=>Re.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Re.alert({open:!0,color:t,message:[e]}),select:Ce,userID:y,userGridViewFormID:g,saved:(e,t)=>{e&&zt(t),It(t),Be({type:"showTableview",payload:t})},Token:Ae.token[0]})),n().createElement("div",{id:"PPMHealthSafetyDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},We?n().createElement(Kt,null):n().createElement(W.Z,{frmctrlid:"fld760L1TCExpandedCardDual",data:se,id:"PPMHealthSafetyDetails",title:"PPMHealthSafetyName",cardTile:!!ut,visibleitem:Ne,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{v?Re.select(e):("edit"==t?(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:Ve}),Be({type:"ShowDetail",payload:!1}),Re.Expanded(!0)):(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:Ve}),Be({type:"ShowDetail",payload:!0}),Re.Expanded(!0),Re.viewtoggle()),ge?fe(!0):Ce?Ie(!0):(Ie(!1),Ie(!1))),Re.hideAddBtn(!0)}})))))))}));var ge=a(37148),fe=a(29800),De=(a(10966),a(21392),a(44528)),he=a(99090),Se=a(1695),Pe=a(61924),Ce=a.n(Pe),Ie=(a(40826),a(55490)),ve=a(92371);const Ee={EnterKeyValues:{PPMHealthSafetyDetails:["PPMHealthSafetyName","PPMHealthSafetyCode","OrderNo","HealthSafetyName"]},Label:{PPMHealthSafetyDetails:{PPMHealthSafetyName:["PPMHealthSafetyCode"],PPMHealthSafetyCode:["PPMHealthSafetyCode"],OrderNo:["PPMHealthSafetyCode"],PPMHealthSafetyID:["PPMHealthSafetyCode"]}},LabelHeader:{PPMHealthSafetyDetails:{PPMHealthSafetyName:["PpmHealthSafetyCode"],PPMHealthSafetyCode:["PpmHealthSafetyCode"],OrderNo:["PpmHealthSafetyCode"],PPMHealthSafetyID:["PPMHealthSafetyCode"]}},Property:{PPMHealthSafetyDetails:{PPMHealthSafetyName:{id:"fld760_19310",labelID:"PPMHealthSafetyName",maxLength:"150",labelname:"Health Safety Name",frmctrlid:"fld760_19310",frmctrlidname:"PPMHealthSafetyName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMHealthSafetyCode:{id:"fld760_16492",labelID:"PPMHealthSafetyCode",maxLength:"50",labelname:"PpmHealthSafetyCode",frmctrlid:"fld760_16492",frmctrlidname:"PPMHealthSafetyCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},OrderNo:{id:"fld760_16493",labelID:"OrderNo",maxLength:"",labelname:"OrderNo",frmctrlid:"fld760_16493",frmctrlidname:"OrderNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMHealthSafetyID:{id:"fld760_16496",clearID:"PPMHealthSafetyDetailsHealthSafetyNameClear",type:"select",labelID:"PPMHealthSafetyIDPK",labelname:"PPMHealthSafetyID",fielddisplayname:"HealthSafetyName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMHealthSafetyDetails:{PPMHealthSafetyID:["CCMComplaintTypeID","DivisionName","DisciplineName","FrequencyName"]}}};var Ne=a(6562),Me=a(45155),He=(a(49174),a(38773),a(19089),a(16233)),Te=a.n(He);a(82729),a(75355),a(11107);const be={PPMHealthSafetyDetailsIDPK:"",PPMHealthSafetyCode:"",OrderNo:"",PPMHealthSafetyName:"",IsDraft:!1,Remarks:"",PPMHealthSafetyID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",ComplaintNatureID:null,ComplaintNatureCode:"",ComplaintNatureName:"",CCMComplaintTypeID:null,CCMComplaintTypeCode:"",CCMComplaintTypeName:"",HealthSafetyCode:"",HealthSafetyName:"",Type:"PPMHealthSafetyDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},we=(0,l.forwardRef)(((e,t)=>{const a=(0,i.useSelector)((e=>e.form)),[o,m]=(0,l.useState)(!1),[c,p]=(0,l.useState)(!0),[u,D]=(0,l.useState)(!1),[h,P]=(0,l.useState)(!1),[C,I]=(0,l.useState)(""),[E,H]=(0,l.useState)(!1),[T,b]=(0,l.useState)([]),[w,F]=(0,l.useState)(null),[x,R]=(0,l.useReducer)(ve.Z,be),[A,B]=(0,l.useState)(!1),[k,L]=(0,l.useState)([]),[O,z]=(0,l.useState)(!1),K=(0,l.useContext)(e.context?e.context:Ze),{cstate:q,cdispatch:V}=e.ContextApi?e.ContextApi:Le(),[_,G]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),W=(0,l.useRef)(null),[$,J]=Te()("760"),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(!0),[le,ne]=(0,l.useState)(!0),[re,se]=(0,l.useState)(!1);let oe=(0,S.Z)();const[de,me]=(0,l.useState)({}),ce=e=>oe[e]?oe[e]:e,pe=t=>q.language?.[t]?q.language[t]:e.createEasy?de?.[t]:t;(0,l.useEffect)((()=>{q.PrimaryId&&G(Number(q.PrimaryId))}),[q.PrimaryId]),(0,l.useEffect)((()=>{ye()}),[]),(0,l.useEffect)((()=>{ye()}),[e.parentId]),(0,l.useEffect)((()=>{q.editData.length>0?(X(!1),ue(q.editData[0],""),D(!0)):q.Add&&(ye(),X(!1),D(!0))}),[q.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),me(Object.assign({},...t))}($)}),[$]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ye()},CreateEasyProps:(e=!0,t)=>{J(!0),t?(Fe(t),D(e)):(ye(),D(e))},AddOpen:e=>{ye(),D(!0)}})));const ue=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),P(t.IsDraft),"SetDefaultPPMHealthSafetyDetailsID"==a?j(t.PPMHealthSafetyDetailsIDPK):(G(e.primid?Number(e.primid):t.PPMHealthSafetyDetailsIDPK?t.PPMHealthSafetyDetailsIDPK:0),V({type:"PrimaryId",payload:t.PPMHealthSafetyDetailsIDPK})),R({type:"text",name:"PPMHealthSafetyName",value:t.PPMHealthSafetyName?t.PPMHealthSafetyName:""}),R({type:"text",name:"PPMHealthSafetyCode",value:t.PPMHealthSafetyCode?t.PPMHealthSafetyCode:""}),R({type:"number",name:"OrderNo",number:t.OrderNo}),R({type:"number",name:"PPMHealthSafetyID",number:t.PPMHealthSafetyID?Number(t.PPMHealthSafetyID):0}),R({type:"text",name:"HealthSafetyName",value:t.HealthSafetyName}),t.IsDraft?p(!0):p(!("1"!=t.IsActive&&!t.IsActive))},ye=()=>{b([]),G(0),j(""),e.createEasy||K.resetImg(),V({type:"PrimaryId",payload:""}),R({type:"text",name:"PPMHealthSafetyName",value:""}),R({type:"text",name:"PPMHealthSafetyCode",value:""}),R({type:"number",name:"OrderNo",number:0}),R({type:"text",name:"PPMHealthSafetyID",value:null}),R({type:"text",name:"HealthSafetyName",value:""}),document.getElementById("PPMHealthSafetyDetailsHealthSafetyNameClear")&&document.getElementById("PPMHealthSafetyDetailsHealthSafetyNameClear").click(),p(!0),I(""),te(!0),ne(!0)};function fe(t,a,l,n){if(!(q.count>0))return K.alert({open:!0,color:"warning",message:[ce("Please save atleast one record")]}),!1;if(!((()=>{const e={...x};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return K.alert({open:!0,color:"warning",message:[ce("Please enter the primary fields")]}),!1;{te(!0),ne(!0),K.loading(!0),K.ConfirmAlert(null),V({type:"IsDraft",payload:!1});const a=f.v.Api+"FP760S1/",l={data:[{p1:"SetDefaultPPMHealthSafetyDetailsID"==n?"NORECORDS"!=U&&U?U:0:_,p2:xe(x.PPMHealthSafetyCode),p3:x.OrderNo?Number(x.OrderNo):0,p4:xe(x.PPMHealthSafetyName),p5:!0,p6:"SetDefaultPPMHealthSafetyDetailsID"==n?"SetDefault":null,p7:e.parentId?Number(e.parentId):x.PPMHealthSafetyID?x.PPMHealthSafetyID:0,p8:!1,p9:"SetDefaultPPMHealthSafetyDetailsID"==n,p10:localStorage.getItem("userid"),p11:N()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:N()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ie.Z)(0).then((n=>{(0,M.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?K.alert({open:!0,color:"warning",message:[ce("Deleted Successfully")]}):K.alert({open:!0,color:"success",message:[ce("Saved to Draft")]}),K.loading(!1),K.attachmentSave(a[0].Data.IDPK),ye(),K.RefreshTable(),e.clrImgstate(!0)):(K.alert({open:!0,color:"warning",message:[l.message]}),K.loading(!1))}))}))}}const Pe=(t,l,n)=>{const i=f.v.Api+"FP760S3/",r={data:{p1:null,p2:"PPMHealthSafetyCode"==n&&l?"%"+l+"%":null,p3:"OrderNo"==n&&l?"%"+l+"%":null,p4:"PPMHealthSafetyName"==n&&l?"%"+l+"%":null,p5:null,p6:null,p7:a.PPMHealthSafetyRegistryPPMHealthSafetyID?a.PPMHealthSafetyRegistryPPMHealthSafetyID:"0",p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:t,p33:10,p34:"PPMHealthSafetyDetailsID",p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}},s={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};B(!0),(0,d.Z)(i,"ClearAll"==n?s:r,q.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMHealthSafetyCode"==n&&te(e>0),"OrderNo"==n&&ne(e>0),L(l)):("PPMHealthSafetyCode"==n&&te(!0),"OrderNo"==n&&ne(!0),L(k.concat(l))),B(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},He=(0,l.useCallback)((async(e,t,a)=>{"text"==a?R({type:a,name:t,value:e}):"number"==a?R({type:a,name:t,number:Number(e)}):"boolean"==a?R({type:a,name:t,boolean:e}):"date"==a&&R({type:"text",name:t,value:e})}),[x]),we=e=>{K.ConfirmAlert(n().createElement(Ce(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Fe(e),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ce("Yes"),cancelBtnText:ce("No"),showCancel:!0},ce("Do you want to update this record?")))};function Fe(e){K.ConfirmAlert(null),P(e.IsDraft),G(Number(e.PPMHealthSafetyDetailsIDPK)?Number(e.PPMHealthSafetyDetailsIDPK):0),R({type:"text",name:"PPMHealthSafetyName",value:e.PPMHealthSafetyName?e.PPMHealthSafetyName:""}),R({type:"text",name:"PPMHealthSafetyCode",value:e.PPMHealthSafetyCode?e.PPMHealthSafetyCode:""}),R({type:"text",name:"OrderNo",value:e.OrderNo?e.OrderNo:""}),R({type:"number",name:"PPMHealthSafetyID",number:e.PPMHealthSafetyID?Number(e.PPMHealthSafetyID):0}),R({type:"text",name:"HealthSafetyName",value:e.HealthSafetyName?e.HealthSafetyName:""})}const xe=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(r.Z,{expanded:u,onChange:e=>{}},n().createElement(Y.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},u&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[760]"}," ",ce("Add "),pe("760")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},q.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(Ne.Z,{row:!0},n().createElement(Z.Z,{labelPlacement:"bottom",id:"fld760L1ECEntryCheckbox",control:n().createElement(v.Z,{checked:"1"==c,onChange:e=>p(e.target.checked)}),label:ce(1==c?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{K.AttachExpand(!0)},id:"fld760L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ce("Attach")))),!_&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ye()},id:"fld760L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ce("Reset")))),"1"===h&&_&&n().createElement(he.Z,{frmctrlid:"fld760L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{fe("draftdel")}}),_&&"1"!==h||e.createEasy?null:q.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{fe()},frmctrlid:"fld760L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ae.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ce("Draft")))),q.AccessRights.IsAdd||q.AccessRights.IsEdit?n().createElement(Se.Z,{frmctrlid:"fld760L1ECSaveBtnIsAdd",name:ce(_?"Update":"Save"),disabled:!1,onClick:()=>{xe(x.PPMHealthSafetyName)?e.parentId&&0!=e.parentId?(t=>{K.loading(!0),K.ConfirmAlert(null);const a=f.v.Api+"FP760S2/",l={data:[{p1:"SetDefaultPPMHealthSafetyDetailsID"==t?"NORECORDS"!=U&&U?U:0:_,p2:xe(x.PPMHealthSafetyCode),p3:x.OrderNo?Number(x.OrderNo):0,p4:xe(x.PPMHealthSafetyName),p5:!1,p6:"SetDefaultPPMHealthSafetyDetailsID"==t?"SetDefault":null,p7:e.parentId?Number(e.parentId):x.PPMHealthSafetyID?x.PPMHealthSafetyID:0,p8:c,p9:"SetDefaultPPMHealthSafetyDetailsID"==t,p10:localStorage.getItem("userid"),p11:N()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:N()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ie.Z)(0).then((t=>{(0,d.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,i=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(K.alert({open:!0,color:"warning",message:i}),K.loading(!1)):(t=>{te(!0),ne(!0),K.loading(!0),K.ConfirmAlert(null),V({type:"IsDraft",payload:!1});const a=f.v.Api+"FP760S1/",l={data:[{p1:_,p2:xe(x.PPMHealthSafetyCode),p3:x.OrderNo?Number(x.OrderNo):0,p4:xe(x.PPMHealthSafetyName),p5:!1,p6:null,p7:e.parentId?Number(e.parentId):x.PPMHealthSafetyID?x.PPMHealthSafetyID:0,p8:c,p9:!1,p10:localStorage.getItem("userid"),p11:N()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:N()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ie.Z)(0).then((t=>{(0,M.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(K.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMHealthSafetyDetails"),K.loading(!1),V({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(K.RefreshTable(),K.attachmentSave(t[0].Data.IDPK)),ye(),q.AccessRights.IsApproval&&K.Approval(!0),document.getElementById("overlayimgAttPPMHealthSafetyDetails")&&(document.getElementById("overlayimgAttPPMHealthSafetyDetails").style.width="0%",document.getElementById("overlayimgAttPPMHealthSafetyDetails").style.display="none",document.getElementById("divPPMHealthSafetyDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMHealthSafetyDetails-MainTable").style.display="block")):(K.alert({open:!0,color:"warning",message:[a.message]}),K.loading(!1)),D(!0)}))}))})()):(K.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),K.loading(!1))}))}))})(undefined):K.alert({open:!0,color:"warning",message:[ce("Please select the ")+" "+pe("PPMHealthSafetyID")]}):K.alert({open:!0,color:"warning",message:[ce("Please enter the")+""+pe("PPMHealthSafetyName")]})}}):null,!e.createEasy&&n().createElement(ge.Z,{frmctrlid:"fld760L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ye(),D(!1),K.EditClose(!0),K.hideAddBtn(!1),V({type:"Add",payload:!1})}}))))),n().createElement(s.Z,null,n().createElement("div",{id:"PPMHealthSafetyDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMHealthSafetyDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMHealthSafetyDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(y.Z,{spacing:2},n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(De.Z,{json:Ee,"data-testid":x.PPMHealthSafetyName,SPName:"PPMHealthSafetyDetails",FieldName:"PPMHealthSafetyName",tfLabel:pe("PPMHealthSafetyName"),frmctrlid:"fld760_19310",fieldorder:"1",onChange:e=>{He(e,"PPMHealthSafetyName","text")},clear:e=>{e&&R({type:"text",name:"PPMHealthSafetyName",value:""})},value:x.PPMHealthSafetyName})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ie.Z,{"data-testid":x.PPMHealthSafetyCode,json:Ee,SPName:"PPMHealthSafetyDetails",FieldName:"PPMHealthSafetyCode",tfLabel:pe("PPMHealthSafetyCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&we(t),onClick:()=>{ee&&Pe(1,"","ClearAll"),te(!0)},frmctrlid:"fld760_16492",frmctrlidName:"PPMHealthSafetyCode",fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{ee&&Pe(e,t,"PPMHealthSafetyCode"),He(t,"PPMHealthSafetyCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:x.PPMHealthSafetyCode,loading:A,clear:e=>{e&&(R({type:"text",name:"PPMHealthSafetyCode",value:""}),te(!0))}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ie.Z,{"data-testid":x.OrderNo,json:Ee,SPName:"PPMHealthSafetyDetails",FieldName:"OrderNo",tfLabel:pe("OrderNo"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&we(t),onClick:()=>{le&&Pe(1,"","ClearAll"),ne(!0)},frmctrlid:"fld760_16493",frmctrlidName:"OrderNo",fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{le&&Pe(e,t,"OrderNo"),He(t,"OrderNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:x.OrderNo,loading:A,clear:e=>{e&&(R({type:"text",name:"OrderNo",value:""}),ne(!0))}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ie.Z,{json:Ee,id:x.PPMHealthSafetyID,"data-testid":x.PPMHealthSafetyID,value:x.HealthSafetyName,SPName:"PPMHealthSafetyDetails",FieldName:"PPMHealthSafetyID",tfLabel:pe("PPMHealthSafetyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"PPMHealthSafetyID","select"),onChange:(t,a)=>{((t,a,l,n,i,r)=>{const s=f.v.Api+"FP760S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.parentId?Number(e.parentId):0,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:"0"==x.DivisionID?null:x.DivisionID,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:"0"==x.DisciplineID?null:x.DisciplineID,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==x.FrequencyID?null:x.FrequencyID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==x.ComplaintNatureID?null:x.ComplaintNatureID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:"0"==x.CCMComplaintTypeID?null:x.CCMComplaintTypeID,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:t,p33:10,p34:l,p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}};Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});B(!0);(0,d.Z)(s,o,q.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;undefined,L(1==t?e>0?l:[]:k.concat(l)),B(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))})(t,a,"PPMHealthSafetyIDPK")},KeyBack:e=>{x.PPMHealthSafetyID},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{CreateEasy("484",q,V,K,W)},Tabledialog:()=>(AdvanceSearch("484","PPMHealthSafetyID",Ze,Le(),He,t),!1),loading:A,clear:e=>{e&&x.PPMHealthSafetyID}})))),n().createElement("div",{id:"PPMHealthSafetyDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMHealthSafetyDetailsSideBar").style.width="0",void H(!1))},"×"),E&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))}));a(77366),a(97829);var Fe=a(65197);const xe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[o,m]=((0,i.useSelector)((e=>e.form)),(0,l.useState)([])),[c,p]=(0,l.useState)(!0),[u,y]=(0,l.useState)(e.showDetail),[g,D]=(0,l.useState)(""),[h,P]=n().useState(!1),[C,I]=n().useState(""),[v,E]=n().useState(!1),N=(0,l.useContext)(Ze),{cstate:M,cdispatch:H}=Le(),[T,b]=(0,l.useState)(!1),[w,F]=(0,l.useState)(""),[x,R]=(0,l.useState)(""),[A,B]=(0,l.useState)("");let k=(0,S.Z)();(0,l.useEffect)((()=>{M.editData.length>0&&(m(M.editData),P(!1),H({type:"PrimaryId",payload:M.editData[0].PPMHealthSafetyDetailsIDPK}))}),[M.editData]),(0,l.useEffect)((()=>{M.showTableview&&B(M.showTableview)}),[M.showTableview]),(0,l.useEffect)((()=>{p(M.ExpandDetailValue)}),[M.ExpandDetailValue]),(0,l.useEffect)((()=>{p(M.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{p(e),P(null)},viewtoggle:()=>{P(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=f.v.Api+"FP760S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:1,p33:10,p34:M.IsDraft?"DraftPPMHealthSafetyDetailsID":"PPMHealthSafetyDetailsID",p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}};(0,ie.Z)(0).then((e=>{(0,d.Z)(l,n,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===h&&a.current.clear()}})));const Z=e=>k?.[e]?k?.[e]:e,L=e=>M.language?.[e]?M.language[e]:e;function O(e,t){}const z=(e,t)=>(a,l)=>{I(v?Object.assign(...o.filter((e=>e.PPMHealthSafetyDetailsIDPK==t)).map((e=>e))):M.editData),P(!l&&e)};return n().createElement("div",null,n().createElement(r.Z,{expanded:c,onChange:()=>()=>{e.expandTable&&p(!c)}},!h&&n().createElement(Y.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},c?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},M.IsDraft?Z("Draft"):"",L("PPMHealthSafetyDetails"),e.viewonly?" ":"("+M.count+")")):"",c?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&M.AccessRights.IsAdd?n().createElement(le.Z,{name:Z("Add"),frmctrlid:"fld760L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),H({type:"editData",payload:[]}),H({type:"ShowDetail",payload:!1}),H({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&M.AccessRights.IsEdit?n().createElement(fe.Z,{frmctrlid:"fld760L1VCEditBtn",onClick:z("panel0",""),disabled:!1}):M.IsDraft&&M.AccessRights.IsAdd&&n().createElement(fe.Z,{frmctrlid:"fld760L1VCEditBtnIsAdd",onClick:()=>{z("panel","")},disabled:!1}),!e.viewonly&&n().createElement(ge.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld760L1VCCloseBtn",onClick:()=>{p(!1),N.hideAddBtn(!1),v&&(H({type:"editData",payload:[]}),m([]))}})):"")),n().createElement(s.Z,{style:{display:"block"}},o.map(((t,l)=>n().createElement("div",{key:l},h==="panel"+l?n().createElement(we,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Fe.Z,{tableName:"PPMHealthSafetyDetails",tableID:760,parentID:t.PPMHealthSafetyDetailsIDPK,fldid:"fld760L1VCContainer",OpenSlideComponent:O,index:l,refresh:A,val:t,tf:L,t:Z,title:"10.0.0.59-3:08:17 PM-18-7[760]"}))))))))}));var Re=a(67698),Ae=a(55995),Be=a(45965),ke=a(41722);a(9175);const Ze=(0,l.createContext)(),Le=()=>{const e=(0,l.useContext)(Ze);if(void 0===e)throw new Error("useCont must be used within  PPMHealthSafetyDetailsContext Provider");return e},Oe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),s=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),[m,c]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),y=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)()),[g,f]=(0,l.useState)(0),[D,h]=(0,l.useReducer)(ke.D,ke.E),[S,P]=(0,l.useState)(""),[C,I]=(0,l.useState)([]),[v,E]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divPPMHealthSafetyDetails-Entry").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainTable").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divPPMHealthSafetyDetails-Entry").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainTable").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(h({type:"editData",payload:[e.editData]}),h({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{h(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{I([]),document.getElementById("divPPMHealthSafetyDetails-Entry").style.width="100%",document.getElementById("PPMHealthSafetyDetailsEntryTable").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainEntry").style.display="block",document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMHealthSafetyDetails").style.width="0%",document.getElementById("overlayimgAttPPMHealthSafetyDetails").style.display="none"};(0,l.useEffect)((()=>{y((e=>{(0,ie.Z)(1).then((e=>{var t=new Array;t.push(e),h({type:"token",payload:t}),f(t.length),M(e)}))}))}),[]);const M=e=>{(0,Be.Z)(e,484).then((e=>h({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(Ze.Provider,{value:{cstate:D,cdispatch:h,ContextApi:Le,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==g&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,C),I([])},EditClose:e=>N(),AttachExpand:e=>(o.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMHealthSafetyDetails").style.width="50%",document.getElementById("divPPMHealthSafetyDetails-Entry").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainTable").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMHealthSafetyDetails").style.display="block",document.getElementById("overlayimgAttPPMHealthSafetyDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&s.current.tableClick(e),h({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&s.current.viewtoggle()},clear:e=>{h({type:"ShowDetail",payload:!1}),h({type:"editData",payload:[]}),D.ShowDetail?s.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?s.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),o.current.clrImgstate(!0)}}},n().createElement("div",{id:"PPMHealthSafetyDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"PPMHealthSafetyDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"PPMHealthSafetyDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMHealthSafetyDetails-Entry",style:{width:"100%"}},0!==g?n().createElement(xe,{ref:s,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(Ae.Z,{ref:d,menurefID:760,fileId:"LogoImgPPMHealthSafetyDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewPPMHealthSafetyDetails",frmctrlid:"PvwIm_760_L1_",tempImg:e=>{D.PrimaryId?o.current.AttachmentData(D.PrimaryId):o.current.tempImg(e),I(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMHealthSafetyDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(we,{ref:r,clrImgstate:e=>o.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(Ae.Z,{ref:d,menurefID:760,fileId:"LogoImgPPMHealthSafetyDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewPPMHealthSafetyDetails",frmctrlid:"PvwIm_760_L1_",tempImg:e=>{D.PrimaryId?o.current.AttachmentData(D.PrimaryId):o.current.tempImg(e),I(e)},clearTempData:D.Add})),n().createElement("div",{id:"PPMHealthSafetyDetails-MainTable"},0!==g?n().createElement(ye,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Re.Z,{ImgAttachment:e=>N(),menurefID:760,fileId:"AttImgPPMHealthSafetyDetails",imgid:"overlayimgAttPPMHealthSafetyDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMHealthSafetyDetails",ref:o,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_760_L1_",timglist:e=>{d.current.timglist(e),I(e)},clearTempData:D.Add}))),n().createElement("div",{id:"PPMHealthSafetyDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},83638:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>L,saveComponent:()=>z,trimFunc:()=>O});var l=a(92950),n=a.n(l),i=a(45237),r=a(36939),s=a(61201),o=a(50743),d=(a(3212),a(10966),a(30553)),m=(a(99090),a(44528)),c=a(37148),p=a(61956),u=a(51673),y=(a(96071),a(14439)),g=a(27848),f=(a(49174),a(38773),a(19089),a(1695)),D=(a(13235),a(61924)),h=a.n(D),S=a(26537),P=a(40900),C=a(35131),I=a.n(C),v=a(55490),E=(a(2493),a(92371)),N=a(82729),M=a(75355),H=a(11107);a(40826);const T={EnterKeyValues:{PPMHealthSafetyRegistry:["CCMComplaintTypeName","ComplaintNatureName","DivisionName","DisciplineName","FrequencyName","HealthSafetyCode","HealthSafetyName","SMType","SaftyMeasure","ServiceType"]},Label:{PPMHealthSafetyRegistry:{CCMComplaintTypeID:["CCMComplaintTypeCode","CCMComplaintTypeName"],ComplaintNatureID:["ComplaintNatureCode","ComplaintNatureName"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyCode","FrequencyName"],HealthSafetyCode:["HealthSafetyCode","HealthSafetyName"],HealthSafetyName:["HealthSafetyCode","HealthSafetyName"],SMType:["HealthSafetyCode","HealthSafetyName"],SaftyMeasure:["HealthSafetyCode","HealthSafetyName"],ServiceType:["HealthSafetyCode","HealthSafetyName"]}},LabelHeader:{PPMHealthSafetyRegistry:{CCMComplaintTypeID:["Complaint Type Code","Complaint Type Name"],ComplaintNatureID:["Complaint Nature Code","Complaint Nature Name"],DivisionID:["Division Code","Division Name"],DisciplineID:["Discipline Code","Discipline Name","DivisionName"],FrequencyID:["Frequency Code","Frequency Name"],HealthSafetyCode:["Health Safety Code","Health Safety Name"],HealthSafetyName:["Health Safety Code","Health Safety Name"],SMType:["Health Safety Code","Health Safety Name"],SaftyMeasure:["Health Safety Code","Health Safety Name"],ServiceType:["Health Safety Code","Health Safety Name"]}},Property:{PPMHealthSafetyRegistry:{CCMComplaintTypeID:{id:"fld484_14203",clearID:"PPMHealthSafetyRegistryCCMComplaintTypeNameClear",type:"select",labelID:"CCMComplaintTypeIDPK",labelname:"Complaint Type",fielddisplayname:"CCMComplaintTypeName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ComplaintNatureID:{id:"fld484_9710",clearID:"PPMHealthSafetyRegistryComplaintNatureNameClear",type:"select",labelID:"ComplaintNatureIDPK",labelname:"Nature of Complaints",fielddisplayname:"ComplaintNatureName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},DivisionID:{id:"fld484_9707",clearID:"PPMHealthSafetyRegistryDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},DisciplineID:{id:"fld484_9708",clearID:"PPMHealthSafetyRegistryDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},FrequencyID:{id:"fld484_9709",clearID:"PPMHealthSafetyRegistryFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},HealthSafetyCode:{id:"fld484_9704",labelID:"HealthSafetyCode",maxLength:"20",labelname:"Health Safety Code",frmctrlid:"fld484_9704",frmctrlidname:"HealthSafetyCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},HealthSafetyName:{id:"fld484_9705",labelID:"HealthSafetyName",maxLength:"50",labelname:"Health Safety Name",frmctrlid:"fld484_9705",frmctrlidname:"HealthSafetyName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SMType:{id:"fld484_9706",labelID:"SMType",maxLength:"",labelname:"SM Type",frmctrlid:"fld484_9706",frmctrlidname:"SMType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SaftyMeasure:{id:"fld484_14260",labelID:"SaftyMeasure",maxLength:"250",labelname:"Safety Measure",frmctrlid:"fld484_14260",frmctrlidname:"SaftyMeasure",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceType:{id:"fld484_14261",labelID:"ServiceType",maxLength:"50",labelname:"Service Type",frmctrlid:"fld484_14261",frmctrlidname:"ServiceType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{PPMHealthSafetyRegistry:{CCMComplaintTypeID:["CCMComplaintTypeName","CCMComplaintTypeCode"],ComplaintNatureID:["ComplaintNatureCode","MaintenanceHours","ComplaintNatureName","ServiceArea","CCMComplaintTypeName","PriorityName"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"]}}};a(42258),a(97829),a(79117);var b=a(65774),w=a(8981),F=a(63163),x=a(45155),R=a(51649),A=a(16233),B=a.n(A);const k={PPMHealthSafetyIDPK:"",HealthSafetyCode:"",HealthSafetyName:"",SMType:"",SaftyMeasure:"",ServiceType:"",IsDraft:!1,Remarks:"",DivisionID:null,DisciplineID:null,FrequencyID:null,ComplaintNatureID:null,CCMComplaintTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PriorityID:null,PriorityCode:"",PriorityName:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",ComplaintNatureCode:"",ComplaintNatureName:"",Type:"PPMHealthSafetyID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Z=(0,l.forwardRef)(((e,t)=>{(0,i.useSelector)((e=>e.form));const[a,D]=(0,l.useState)(!1),[C,A]=(0,l.useState)(!0),[Z,L]=(0,l.useState)(!1),[O,K]=(0,l.useState)(!1),[q,V]=(0,l.useState)(!1),[_,G]=(0,l.useState)(!1),[U,Y]=(0,l.useState)([]),[j,W]=(0,l.useState)(null),[$,J]=(0,l.useReducer)(E.Z,k),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(0),[ne,ie]=(0,l.useState)(""),[re,se]=(0,l.useState)(!0),[oe,de]=(0,l.useState)(!0),[me,ce]=(0,l.useState)(!0),pe=(0,l.useContext)(b.PPMHealthSafetyRegistryContext),{cstate:ue,cdispatch:ye}=(0,b.ContextApi)(),[ge]=(0,l.useState)(localStorage.getItem("Language")),[fe]=(0,l.useState)(localStorage.getItem("Language")),[De,he]=(0,l.useState)([]),[Se,Pe]=(0,l.useState)(null),[Ce,Ie]=(0,l.useState)(!1),[ve,Ee]=(0,l.useState)(""),Ne=(0,l.useRef)(null),[Me,He]=B()("484"),[Te,be]=(0,l.useState)(!1);let we=(0,w.Z)();const[Fe,xe]=(0,l.useState)({}),Re=e=>we?.[e]?we[e]:e,Ae=t=>ue.language?.[t]?ue.language[t]:e.createEasy?Fe?.[t]:t;(0,l.useEffect)((()=>{ue.PrimaryId&&le(Number(ue.PrimaryId))}),[ue.PrimaryId]),(0,l.useEffect)((()=>{ue.editData.length<0&&(0,S.Z)(1).then((e=>{Ve(1,null,"SetDefaultPPMHealthSafetyID",e)}))}),[]),(0,l.useEffect)((()=>{ue.editData.length>0?(Be(ue.editData[0],""),K(!0)):ue.Add&&(le(0),K(!0))}),[ue.editData,ue.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),xe(Object.assign({},...t))}(Me)}),[Me]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){K(!0),L(!1)},CreateEasyProps:(e=!0,t)=>{He(!0),t?(We(t),K(e)):(ke(),K(e))},clear:()=>{ke()}})));const Be=(t,a,l)=>{let n=t;Object.keys(n).forEach((function(e){0==n[e]&&(n[e]=null)})),V(n.IsDraft),ye({type:"EditIsDraft",payload:"1"==n.IsDraft}),J({type:"number",name:"CCMComplaintTypeID",number:n.CCMComplaintTypeID?Number(n.CCMComplaintTypeID):0}),J({type:"text",name:"CCMComplaintTypeName",value:n.CCMComplaintTypeName}),J({type:"number",name:"ComplaintNatureID",number:n.ComplaintNatureID?Number(n.ComplaintNatureID):0}),J({type:"text",name:"ComplaintNatureName",value:n.ComplaintNatureName}),J({type:"number",name:"DivisionID",number:n.DivisionID?Number(n.DivisionID):0}),J({type:"text",name:"DivisionName",value:n.DivisionName}),J({type:"number",name:"DisciplineID",number:n.DisciplineID?Number(n.DisciplineID):0}),J({type:"text",name:"DisciplineName",value:n.DisciplineName}),J({type:"number",name:"FrequencyID",number:n.FrequencyID?Number(n.FrequencyID):0}),J({type:"text",name:"FrequencyName",value:n.FrequencyName}),"SetDefaultPPMHealthSafetyID"==a?ie(n.PPMHealthSafetyIDPK):(le(e.primid?Number(e.primid):n.PPMHealthSafetyIDPK?n.PPMHealthSafetyIDPK:0),ye({type:"PrimaryId",payload:n.PPMHealthSafetyIDPK})),J({type:"text",name:"HealthSafetyCode",value:n.HealthSafetyCode?n.HealthSafetyCode:""}),J({type:"text",name:"HealthSafetyName",value:n.HealthSafetyName?n.HealthSafetyName:""}),J({type:"number",name:"SMType",number:n.SMType}),J({type:"text",name:"SaftyMeasure",value:n.SaftyMeasure?n.SaftyMeasure:""}),J({type:"text",name:"ServiceType",value:n.ServiceType?n.ServiceType:""}),n.IsDraft?A(!0):A(!("1"!=n.IsActive&&!n.IsActive))},ke=()=>{Y([]),le(0),ie(""),se(!0),de(!0),ce(!0),J({type:"text",name:"CCMComplaintTypeID",value:null}),J({type:"text",name:"CCMComplaintTypeName",value:""}),document.getElementById("PPMHealthSafetyRegistryCCMComplaintTypeNameClear")&&document.getElementById("PPMHealthSafetyRegistryCCMComplaintTypeNameClear").click(),J({type:"text",name:"ComplaintNatureID",value:null}),J({type:"text",name:"ComplaintNatureName",value:""}),document.getElementById("PPMHealthSafetyRegistryComplaintNatureNameClear")&&document.getElementById("PPMHealthSafetyRegistryComplaintNatureNameClear").click(),J({type:"text",name:"DivisionID",value:null}),J({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMHealthSafetyRegistryDivisionNameClear")&&document.getElementById("PPMHealthSafetyRegistryDivisionNameClear").click(),J({type:"text",name:"DisciplineID",value:null}),J({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMHealthSafetyRegistryDisciplineNameClear")&&document.getElementById("PPMHealthSafetyRegistryDisciplineNameClear").click(),J({type:"text",name:"FrequencyID",value:null}),J({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMHealthSafetyRegistryFrequencyNameClear")&&document.getElementById("PPMHealthSafetyRegistryFrequencyNameClear").click(),ye({type:"PrimaryId",payload:""}),J({type:"text",name:"HealthSafetyCode",value:""}),J({type:"text",name:"HealthSafetyName",value:""}),J({type:"number",name:"SMType",number:0}),J({type:"text",name:"SaftyMeasure",value:""}),J({type:"text",name:"ServiceType",value:""}),A(!0)},Ze=()=>{const e={...$};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Le=()=>{pe.ConfirmAlert(n().createElement(h(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Re("Are you sure?"),onConfirm:()=>Oe(),onCancel:()=>pe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Re("Yes"),cancelBtnText:Re("Cancel"),showCancel:!0},ue.PrimaryId?Re("Do you want to Update?"):Re("Do you want to Save?")))},Oe=(e,t)=>{pe.loading(!0),pe.ConfirmAlert(null),ye({type:"IsDraft",payload:!1}),z({url:P.v.Api+"FP484S2/",PrimID:ae,ParamType:e,state:$,active:C,token:ue.token[0],DefaultPrimaryId:ne}).then((t=>{const a=t[0].status;let l=t[0].Data,n=new Array,i=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(pe.alert({open:!0,color:"warning",message:i}),pe.loading(!1)):ze(e)):(pe.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),pe.loading(!1))}))},ze=(t,a)=>{se(!0),de(!0),ce(!0),pe.loading(!0),pe.ConfirmAlert(null),z({url:P.v.Api+"FP484S1/",PrimID:ae,ParamType:t,state:$,active:C,token:ue.token[0],DefaultPrimaryId:ne}).then((a=>{const l=a[0].status;200==l.code?(ye({type:"PrimaryId",payload:a[0].Data.IDPK}),pe.AddOpen(a[0].Data.IDPK),"SetDefaultPPMHealthSafetyID"==t?pe.alert({open:!0,color:"success",message:["Default Record Configured"]}):pe.alert({open:!0,color:"success",message:[l.message]}),pe.attachmentSave(a[0].Data.IDPK),pe.loading(!1),ue.AccessRights.IsApproval&&pe.Approval(!0),e.createEasy,ye({type:"EditOpen",payload:!1}),ye({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttPPMHealthSafetyRegistry")&&(document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.width="0%",document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.display="none",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.width="100%"),document.getElementById("PPMHealthSafetyRegistry-MainTable").style.display="none"):(pe.alert({open:!0,color:"warning",message:[l.message]}),pe.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultPPMHealthSafetyID"==t&&(K(!0),Ve(1,null,"SetDefaultPPMHealthSafetyID",ue.token[0]))}))};function Ke(e){return CreateEasy(e,ue,ye,pe,Ne),!1}function qe(e,a){return AdvanceSearch(e,a,b.PPMHealthSafetyRegistryContext,(0,b.ContextApi)(),Ge,t),!1}(0,l.useEffect)((()=>{K(ue.ExpandDetailValue)}),[ue.ExpandDetailValue]);const Ve=(t,a,l,n,i,r)=>{const s=P.v.Api+"FP484S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"0"==$.DivisionID?null:$.DivisionID,p10:"0"==$.DisciplineID?null:$.DisciplineID,p11:"0"==$.FrequencyID?null:$.FrequencyID,p12:"0"==$.ComplaintNatureID?null:$.ComplaintNatureID,p13:"0"==$.CCMComplaintTypeID?null:$.CCMComplaintTypeID,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:"0"==$.PriorityID?null:$.PriorityID,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:t,p35:10,p36:l,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},d=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});X(!0);const m={data:d};return(0,u.Z)(s,"ClearAll"==l?m:o,"SetDefaultPPMHealthSafetyID"==l&&n?n:ue.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(i)return 1==n.length?n[0]:{};te(1==t?e>0?n:[]:ee.concat(n)),"SetDefaultPPMHealthSafetyID"==l&&(e>0?Be(n[0],"SetDefaultPPMHealthSafetyID"):ie("NORECORDS")),X(!1)}else pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},_e=(t,a,l)=>{const n=P.v.Api+"FP484S3/",i={data:{p1:null,p2:"HealthSafetyCode"==l&&a?"%"+a+"%":null,p3:"HealthSafetyName"==l&&a?"%"+a+"%":null,p4:"SMType"==l&&a?"%"+a+"%":null,p5:"SaftyMeasure"==l&&a?"%"+a+"%":null,p6:"ServiceType"==l&&a?"%"+a+"%":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:t,p35:10,p36:"PPMHealthSafetyID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},r={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};X(!0),(0,u.Z)(n,"ClearAll"==l?r:i,ue.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("HealthSafetyCode"==l&&se(e>0),"HealthSafetyName"==l&&de(e>0),"SMType"==l&&ce(e>0),te(n)):("HealthSafetyCode"==l&&se(!0),"HealthSafetyName"==l&&de(!0),"SMType"==l&&ce(!0),te(ee.concat(n))),X(!1)}else pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Ge=(0,l.useCallback)((async(e,t,a)=>{"text"==a?J({type:a,name:t,value:e}):"number"==a?J({type:a,name:t,number:Number(e)}):"boolean"==a?J({type:a,name:t,boolean:e}):"date"==a?J({type:"text",name:t,value:e}):"select"==a&&("CCMComplaintTypeID"==t?(J({type:"text",name:"CCMComplaintTypeID",value:e.CCMComplaintTypeIDPK?e.CCMComplaintTypeIDPK:null}),J({type:"text",name:"CCMComplaintTypeName",value:e.CCMComplaintTypeName?e.CCMComplaintTypeName:null})):"ComplaintNatureID"==t?(J({type:"text",name:"ComplaintNatureID",value:e.ComplaintNatureIDPK?e.ComplaintNatureIDPK:null}),J({type:"text",name:"ComplaintNatureName",value:e.ComplaintNatureName?e.ComplaintNatureName:null})):"DivisionID"==t?(J({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),J({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"DisciplineID"==t?(J({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),J({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null}),J({type:"text",name:"DivisionID",value:e.DivisionID?e.DivisionID:null}),J({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"FrequencyID"==t&&(J({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),J({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null})))}),[$]);function Ue(e){if("CCMComplaintTypeID"==e){if(!$.CCMComplaintTypeID)return!1;J({type:"text",name:"CCMComplaintTypeID",value:null}),J({type:"text",name:"CCMComplaintTypeName",value:""}),document.getElementById("PPMHealthSafetyRegistryCCMComplaintTypeNameClear")&&document.getElementById("PPMHealthSafetyRegistryCCMComplaintTypeNameClear").click()}else if("ComplaintNatureID"==e){if(!$.ComplaintNatureID)return!1;J({type:"text",name:"ComplaintNatureID",value:null}),J({type:"text",name:"ComplaintNatureName",value:""}),document.getElementById("PPMHealthSafetyRegistryComplaintNatureNameClear")&&document.getElementById("PPMHealthSafetyRegistryComplaintNatureNameClear").click()}else if("DivisionID"==e){if(!$.DivisionID)return!1;J({type:"text",name:"DivisionID",value:null}),J({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMHealthSafetyRegistryDivisionNameClear")&&document.getElementById("PPMHealthSafetyRegistryDivisionNameClear").click(),J({type:"text",name:"DisciplineID",value:null}),J({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMHealthSafetyRegistryDisciplineNameClear")&&document.getElementById("PPMHealthSafetyRegistryDisciplineNameClear").click()}else if("DisciplineID"==e){if(!$.DisciplineID)return!1;J({type:"text",name:"DisciplineID",value:null}),J({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMHealthSafetyRegistryDisciplineNameClear")&&document.getElementById("PPMHealthSafetyRegistryDisciplineNameClear").click(),J({type:"text",name:"DivisionID",value:null}),J({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMHealthSafetyRegistryDivisionNameClear")&&document.getElementById("PPMHealthSafetyRegistryDivisionNameClear").click()}else if("FrequencyID"==e){if(!$.FrequencyID)return!1;J({type:"text",name:"FrequencyID",value:null}),J({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMHealthSafetyRegistryFrequencyNameClear")&&document.getElementById("PPMHealthSafetyRegistryFrequencyNameClear").click()}}function Ye(e){if("CCMComplaintTypeID"==e){if(!$.CCMComplaintTypeID)return!1;J({type:"text",name:"CCMComplaintTypeID",value:null})}else if("ComplaintNatureID"==e){if(!$.ComplaintNatureID)return!1;J({type:"text",name:"ComplaintNatureID",value:null})}else if("DivisionID"==e){if(!$.DivisionID)return!1;J({type:"text",name:"DivisionID",value:null}),J({type:"text",name:"DisciplineID",value:null})}else if("DisciplineID"==e){if(!$.DisciplineID)return!1;J({type:"text",name:"DisciplineID",value:null}),J({type:"text",name:"DivisionID",value:null})}else if("FrequencyID"==e){if(!$.FrequencyID)return!1;J({type:"text",name:"FrequencyID",value:null})}}const je=e=>{pe.ConfirmAlert(n().createElement(h(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>We(e),onCancel:()=>pe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Re("Yes"),cancelBtnText:Re("No"),showCancel:!0},Re("Do you want to update this record?")))};function We(t){pe.ConfirmAlert(null),V(t.IsDraft),e.createEasy||(ye({type:"editData",payload:[t]}),ye({type:"PrimaryId",payload:t.PPMHealthSafetyIDPK})),le(Number(t.PPMHealthSafetyIDPK)?Number(t.PPMHealthSafetyIDPK):0),J({type:"number",name:"CCMComplaintTypeID",number:t.CCMComplaintTypeID?Number(t.CCMComplaintTypeID):0}),J({type:"text",name:"CCMComplaintTypeName",value:t.CCMComplaintTypeName?t.CCMComplaintTypeName:""}),J({type:"number",name:"ComplaintNatureID",number:t.ComplaintNatureID?Number(t.ComplaintNatureID):0}),J({type:"text",name:"ComplaintNatureName",value:t.ComplaintNatureName?t.ComplaintNatureName:""}),J({type:"number",name:"DivisionID",number:t.DivisionID?Number(t.DivisionID):0}),J({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:""}),J({type:"number",name:"DisciplineID",number:t.DisciplineID?Number(t.DisciplineID):0}),J({type:"text",name:"DisciplineName",value:t.DisciplineName?t.DisciplineName:""}),J({type:"number",name:"FrequencyID",number:t.FrequencyID?Number(t.FrequencyID):0}),J({type:"text",name:"FrequencyName",value:t.FrequencyName?t.FrequencyName:""}),J({type:"text",name:"HealthSafetyCode",value:t.HealthSafetyCode?t.HealthSafetyCode:""}),J({type:"text",name:"HealthSafetyName",value:t.HealthSafetyName?t.HealthSafetyName:""}),J({type:"text",name:"SMType",value:t.SMType?t.SMType:""}),J({type:"text",name:"SaftyMeasure",value:t.SaftyMeasure?t.SaftyMeasure:""}),J({type:"text",name:"ServiceType",value:t.ServiceType?t.ServiceType:""})}const $e=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(r.Z,{expanded:O,onChange:e=>{}},n().createElement(o.Z,null,n().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&n().createElement("span",{style:{cursor:"pointer"}},n().createElement(R.u1R,{className:"backButtonList",onClick:()=>{pe.ShowTableDiv(),setIndirectRecord(!1)}})),n().createElement("p",{id:"fld484L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[484]",onClick:()=>ue.ExpandTableValue&&K(!O)},ae?"Edit ":"New ",Ae("484")," (",ue.count,")")),O&&n().createElement("div",{className:"displayFlex EntryHeaderBtn"},ue.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(d.Z,{labelPlacement:"bottom",frmctrlid:"fld484L3ECEntryCheckbox",control:n().createElement(F.Z,{checked:"1"==C,onChange:e=>A(e.target.checked)}),label:Re(1==C?"Active":"In Active")}))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{pe.AttachExpand(!0)},id:"fld484L3ECAttachment",disableRipple:!0,disabled:!ae},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",null,n().createElement(x.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Attach"))),!e.createEasy&&(!ae||!ue.editData.length>0)&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ke()},id:"fld484L3ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(x.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Reset"))),ue.AccessRights.IsAdd&&n().createElement(f.Z,{name:ae?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{var t;"next"==(t=ae?"update":"next")?function(t,a,l,n){if(Ze().length>0){se(!0),de(!0),ce(!0),pe.loading(!0),pe.ConfirmAlert(null),ye({type:"IsDraft",payload:!1});const t=P.v.Api+"FP484S1/",a={data:[{p1:ae,p2:$e($.HealthSafetyCode),p3:$e($.HealthSafetyName),p4:$.SMType?Number($.SMType):0,p5:$e($.SaftyMeasure),p6:$e($.ServiceType),p7:!0,p8:null,p9:$.DivisionID?$.DivisionID:0,p10:$.DisciplineID?$.DisciplineID:0,p11:$.FrequencyID?$.FrequencyID:0,p12:$.ComplaintNatureID?$.ComplaintNatureID:0,p13:$.CCMComplaintTypeID?$.CCMComplaintTypeID:0,p14:!1,p15:!1,p16:localStorage.getItem("userid"),p17:I()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((l=>{(0,p.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(pe.alert({open:!0,color:"success",message:["Saved to Draft"]}),ye({type:"EditIsDraft",payload:!0}),pe.attachmentSave(t[0].Data.IDPK),pe.loading(!1),ke(),e.clrImgstate(!0),pe.AddOpen(t[0].Data.IDPK,"1")):(pe.alert({open:!0,color:"warning",message:[a.message]}),pe.loading(!1))}))}))}else pe.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Le(t)}}),ae?n().createElement(c.Z,{disabled:!1,frmctrlid:"fld484L3ECCloseBtn",onClick:()=>{pe.detailview(!0,ae)}}):null))),n().createElement(s.Z,null,ue.AccessRights.IsAdd?null:ue.AccessRights.IsEdit?!ue.PrimaryId&&n().createElement("div",{className:"divdisable"}):n().createElement("div",{className:"divdisable"}),n().createElement("div",{id:"PPMHealthSafetyRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMHealthSafetyRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMHealthSafetyRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(N.Z,null,n().createElement(H.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(y.Z,null,n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Primary Details"))))),n().createElement(M.Z,{style:{padding:"5px 20px 15px"}},n().createElement(y.Z,{spacing:2},n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:T,id:$.CCMComplaintTypeID,"data-testid":$.CCMComplaintTypeID,value:$.CCMComplaintTypeName,SPName:"PPMHealthSafetyRegistry",FieldName:"CCMComplaintTypeID",tfLabel:Ae("CCMComplaintTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ge(e,"CCMComplaintTypeID","select"),onChange:(e,t)=>{Ve(e,t,"CCMComplaintTypeIDPK")},KeyBack:e=>{Ye("CCMComplaintTypeID")},fieldorder:"1",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ke("691")},Tabledialog:()=>qe("691","CCMComplaintTypeID"),loading:Q,clear:e=>{e&&Ue("CCMComplaintTypeID")}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:T,id:$.ComplaintNatureID,"data-testid":$.ComplaintNatureID,value:$.ComplaintNatureName,SPName:"PPMHealthSafetyRegistry",FieldName:"ComplaintNatureID",tfLabel:Ae("ComplaintNatureID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ge(e,"ComplaintNatureID","select"),onChange:(e,t)=>{Ve(e,t,"ComplaintNatureIDPK")},KeyBack:e=>{Ye("ComplaintNatureID")},fieldorder:"2",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ke("289")},Tabledialog:()=>qe("289","ComplaintNatureID"),loading:Q,clear:e=>{e&&Ue("ComplaintNatureID")}}))))),n().createElement(N.Z,null,n().createElement(H.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(y.Z,null,n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Secondary Details"))))),n().createElement(M.Z,{style:{padding:"5px 20px 15px"}},n().createElement(y.Z,{spacing:2},n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:T,id:$.DivisionID,"data-testid":$.DivisionID,value:$.DivisionName,SPName:"PPMHealthSafetyRegistry",FieldName:"DivisionID",tfLabel:Ae("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ge(e,"DivisionID","select"),onChange:(e,t)=>{Ve(e,t,"DivisionIDPK")},KeyBack:e=>{Ye("DivisionID")},fieldorder:"1",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ke("35")},Tabledialog:()=>qe("35","DivisionID"),loading:Q,clear:e=>{e&&Ue("DivisionID")}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:T,id:$.DisciplineID,"data-testid":$.DisciplineID,value:$.DisciplineName,SPName:"PPMHealthSafetyRegistry",FieldName:"DisciplineID",tfLabel:Ae("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ge(e,"DisciplineID","select"),onChange:(e,t)=>{Ve(e,t,"DisciplineIDPK")},KeyBack:e=>{Ye("DisciplineID")},fieldorder:"2",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ke("34")},Tabledialog:()=>qe("34","DisciplineID"),loading:Q,clear:e=>{e&&Ue("DisciplineID")}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:T,id:$.FrequencyID,"data-testid":$.FrequencyID,value:$.FrequencyName,SPName:"PPMHealthSafetyRegistry",FieldName:"FrequencyID",tfLabel:Ae("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ge(e,"FrequencyID","select"),onChange:(e,t)=>{Ve(e,t,"FrequencyIDPK")},KeyBack:e=>{Ye("FrequencyID")},fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ke("457")},Tabledialog:()=>qe("457","FrequencyID"),loading:Q,clear:e=>{e&&Ue("FrequencyID")}}))))),n().createElement(N.Z,null,n().createElement(H.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(y.Z,null,n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Invisible Fields"))))),n().createElement(M.Z,{style:{padding:"5px 20px 15px"}},n().createElement(y.Z,{spacing:2},n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(v.Z,{"data-testid":$.HealthSafetyCode,json:T,SPName:"PPMHealthSafetyRegistry",FieldName:"HealthSafetyCode",tfLabel:Ae("HealthSafetyCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&je(t),onClick:()=>{re&&_e(1,"","ClearAll"),se(!0)},frmctrlid:"fld484_9704",frmctrlidName:"HealthSafetyCode",fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{re&&_e(e,t,"HealthSafetyCode"),Ge(t,"HealthSafetyCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:$.HealthSafetyCode,loading:Q,clear:e=>{e&&(J({type:"text",name:"HealthSafetyCode",value:""}),se(!0))}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(v.Z,{"data-testid":$.HealthSafetyName,json:T,SPName:"PPMHealthSafetyRegistry",FieldName:"HealthSafetyName",tfLabel:Ae("HealthSafetyName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&je(t),onClick:()=>{oe&&_e(1,"","ClearAll"),de(!0)},frmctrlid:"fld484_9705",frmctrlidName:"HealthSafetyName",fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{oe&&_e(e,t,"HealthSafetyName"),Ge(t,"HealthSafetyName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:$.HealthSafetyName,loading:Q,clear:e=>{e&&(J({type:"text",name:"HealthSafetyName",value:""}),de(!0))}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(v.Z,{"data-testid":$.SMType,json:T,SPName:"PPMHealthSafetyRegistry",FieldName:"SMType",tfLabel:Ae("SMType"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&je(t),onClick:()=>{me&&_e(1,"","ClearAll"),ce(!0)},frmctrlid:"fld484_9706",frmctrlidName:"SMType",fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{me&&_e(e,t,"SMType"),Ge(t,"SMType","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:$.SMType,loading:Q,clear:e=>{e&&(J({type:"text",name:"SMType",value:""}),ce(!0))}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(m.Z,{json:T,"data-testid":$.SaftyMeasure,SPName:"PPMHealthSafetyRegistry",FieldName:"SaftyMeasure",tfLabel:Ae("SaftyMeasure"),frmctrlid:"fld484_14260",fieldorder:"3",onChange:e=>{Ge(e,"SaftyMeasure","text")},clear:e=>{e&&J({type:"text",name:"SaftyMeasure",value:""})},value:$.SaftyMeasure})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(m.Z,{json:T,"data-testid":$.ServiceType,SPName:"PPMHealthSafetyRegistry",FieldName:"ServiceType",tfLabel:Ae("ServiceType"),frmctrlid:"fld484_14261",fieldorder:"3",onChange:e=>{Ge(e,"ServiceType","text")},clear:e=>{e&&J({type:"text",name:"ServiceType",value:""})},value:$.ServiceType})))))),n().createElement("div",{id:"PPMHealthSafetyRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMHealthSafetyRegistrySideBar").style.width="0",void G(!1))},"×"),_&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},j))))))))})),L=Z,O=e=>"string"==typeof e?e.trim():e;function z(e){const{url:t,PrimID:a,ParamType:l,state:n,active:i,token:r,DefaultPrimaryId:s}=e,o={data:[{p1:"SetDefaultPPMHealthSafetyID"==l?"NORECORDS"!=s&&s?s:0:a,p2:O(n.HealthSafetyCode),p3:O(n.HealthSafetyName),p4:n.SMType?Number(n.SMType):0,p5:O(n.SaftyMeasure),p6:O(n.ServiceType),p7:!1,p8:"SetDefaultPPMHealthSafetyID"==l?"SetDefault":null,p9:n.DivisionID?n.DivisionID:0,p10:n.DisciplineID?n.DisciplineID:0,p11:n.FrequencyID?n.FrequencyID:0,p12:n.ComplaintNatureID?n.ComplaintNatureID:0,p13:n.CCMComplaintTypeID?n.CCMComplaintTypeID:0,p14:i,p15:"SetDefaultPPMHealthSafetyID"==l,p16:localStorage.getItem("userid"),p17:I()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:I()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,p.Z)(t,o,r).then((e=>e))}},65774:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ContextApi:()=>h,PPMHealthSafetyRegistryContext:()=>D,default:()=>S});var l=a(92950),n=a.n(l),i=a(45237),r=a(20143),s=a(80206),o=a(83638),d=a(67698),m=a(55995),c=a(26537),p=(a(35131),a(45965)),u=a(73668),y=(a(37274),a(9175)),g=a.n(y),f=a(73561);const D=(0,l.createContext)();function h(){const e=n().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const S=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),y=(0,l.useRef)(),S=(0,l.useRef)(),P=(0,l.useRef)(),C=(0,l.useRef)(),I=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)()),[v,E]=(0,l.useState)(0),[N,M]=n().useReducer(u.I,u.E),[H,T]=(0,l.useState)(""),[b,w]=(0,l.useState)(""),[F,x]=(0,l.useState)([]),R=(0,l.useRef)(),[A,B]=(0,l.useState)(!1);function k(e){M({type:"IsExPView",payload:!0}),M({type:"IsCollapse",payload:!1}),document.getElementById("PPMHealthSafetyRegistry-MainTable").style.margin="0",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.margin="0",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainTable").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.display="none",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayGrid"),M({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttPPMHealthSafetyRegistry")&&(document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.width="0%",document.getElementById("overlayPreviewPPMHealthSafetyRegistry").style.width="0%",document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),k(),M({type:"IsDraft",payload:!1}),M({type:"ShowDetail",payload:!1}),M({type:"Add",payload:!0}),M({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&M({type:"editData",payload:[e.editData]})}),[e.editData]);const Z=e=>{M({type:"IsCollapse",payload:!0}),document.getElementById("PPMHealthSafetyRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("PPMHealthSafetyRegistry-MainTable").style.width="0%",document.getElementById("PPMHealthSafetyRegistry-MainTable").style.display="none",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.display="block",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayGrid"),M({type:"ExpandDetailValue",payload:!0}),M({type:"PrimaryId",payload:""}),t.current.clear(),e&&C.current.AddClose()},L=t=>{N.IsCollapse?(document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.display="block",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.width="0%",document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.display="none"):(document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.width="0%",document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.display="none",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainTable").style.width="auto",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{I((e=>{(0,c.Z)(1).then((e=>{var t=new Array;t.push(e),M({type:"token",payload:t}),E(t.length),O(e)}))}))}),[]);const O=e=>{(0,p.Z)(e,484).then((e=>M({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(M({type:"ShowDetail",payload:!0}),M({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),n().createElement("div",null,n().createElement(D.Provider,{value:{cstate:N,cdispatch:M,ContextApi:h,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>B(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>k(),viewtoggle:()=>{N.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>Z(e),AttachExpand:t=>(y.current.AttachmentData(N.PrimaryId),void(N.ExpandTableValue?(document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.width="28%",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainTable").style.width="auto",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.display="block"):(document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.display="block",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.width="28%",document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.display="block"))),RefreshTable:()=>{P.current.tableRefresh()},floatRefresh:()=>R.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttPPMHealthSafetyRegistry").style.display="none",attachmentSave:e=>{S.current.tempsave(e,b),w([])},detailview:(e,t)=>{P.current.viewrecord(t),M({type:"ShowDetail",payload:e}),M({type:"EditOpen",payload:!0}),N.ShowDetail&&a.current.viewtoggle()},clear:e=>{N.ShowDetail?(M({type:"ShowDetail",payload:!1}),M({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var n,i,r;n=e,r=l,M({type:"IsDraft",payload:i=t}),M({type:"EditOpen",payload:!1}),M({type:"EditIsDraft",payload:i}),Z(),M({type:"editData",payload:[n]}),M({type:"screenType",payload:r})},AddOpen:(e,t)=>((e,t)=>{M({type:"ShowDetail",payload:!0}),M({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&C.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(M({type:"ShowDetail",payload:!1}),M({type:"ExpandTableValue",payload:!0}),P.current.tableRefresh(),document.getElementById("PPMHealthSafetyRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divPPMHealthSafetyRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("PPMHealthSafetyRegistry-MainTable").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainTable").style.display="block",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="0%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.display="none",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyRegistryTabDiv").style.width="100%",document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.display="none",void(document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.width="0%"))}},n().createElement("div",{id:"PPMHealthSafetyRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!N.ExpandTableValue&&n().createElement("div",{id:"PPMHealthSafetyRegistry-MainTable",className:"Maincontent"},0!==v?n().createElement(r.default,{ref:P}):null),n().createElement("div",{id:"PPMHealthSafetyRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},N.ShowDetail?n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMHealthSafetyRegistry-Entry",style:{width:"100%",display:"flex"}},n().createElement(s.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:N.PrimaryId,ref:a}),n().createElement("div",{style:{width:"70%"}},n().createElement(f.ZP,{ref:C,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:N.editData,AddOpen:N.EditOpen,parentId:N.PrimaryId,IsDraft:N.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:N.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),n().createElement(m.Z,{ref:S,menurefID:484,fileId:"LogoImgPPMHealthSafetyRegistry",imgloading:e=>T(e),valueIDPK:N.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewPPMHealthSafetyRegistry",AccessRights:N.AccessRights,frmctrlid:"PvwIm_484_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{N.PrimaryId?y.current.AttachmentData(N.PrimaryId):y.current.tempImg(e),w(e)},clearTempData:N.Add})),n().createElement(d.Z,{ImgAttachment:e=>L(),menurefID:484,fileId:"AttImgPPMHealthSafetyRegistry",imgid:"overlayimgAttPPMHealthSafetyRegistry",valueIDPK:N.PrimaryId,PriviewData:(e,t,a,l)=>{S.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMHealthSafetyRegistry",ref:y,imgloading:H,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_484_L3_",timglist:e=>S.current.timglist(e)})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMHealthSafetyRegistry-Entry",style:{width:"100%"}},n().createElement(o.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>y.current.clrImgstate(e)}),n().createElement(f.ZP,{ref:C,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:N.editData,AddOpen:N.EditOpen,parentId:N.PrimaryId,IsDraft:N.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:N.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),n().createElement(m.Z,{ref:S,menurefID:484,fileId:"LogoImgPPMHealthSafetyRegistry",imgloading:e=>T(e),valueIDPK:N.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewPPMHealthSafetyRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{N.PrimaryId?y.current.AttachmentData(N.PrimaryId):y.current.tempImg(e),w(e)},clearTempData:N.Add})),n().createElement(d.Z,{ImgAttachment:e=>L(),menurefID:484,fileId:"AttImgPPMHealthSafetyRegistry",imgid:"overlayimgAttPPMHealthSafetyRegistry",valueIDPK:N.PrimaryId,PriviewData:(e,t,a,l)=>{S.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMHealthSafetyRegistry",ref:y,imgloading:H,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_484_L3_",timglist:e=>S.current.timglist(e),clearTempData:N.Add}))),N.ExpandTableValue&&n().createElement("div",{id:"PPMHealthSafetyRegistry-MainTable",className:"Maincontent"},0!==v?n().createElement(r.default,{ref:P}):null)),A&&n().createElement(g(),{openDialog:A,closeDialog:e=>B(e),formID:484,PrimID:N.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},20143:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PPMHealthSafetyRegistryPopUpTable:()=>U,default:()=>G}),a(95866);var l=a(92950),n=a.n(l),i=a(45237),r=a(36939),s=a(61201),o=a(50743),d=a(59009),m=a(80366),c=a(51673),p=a(55842),u=a(54180),y=a(47516),g=a(39327),f=(a(14439),a(27848),a(42258),a(40900)),D=(a(83032),a(44117),a(65774)),h=a(43031),S=a(110),P=a(88995),C=a(5109),I=a(61657),v=a(868),E=a(24038),N=a(51209),M=a(8981),H=a(3212),T=a(86893),b=a(53854),w=a(51649),F=a(37106),x=a(5434),R=a(93521),A=a(8687),B=(a(79117),a(26537),a(61956),a(35131),a(45441)),k=a(73561),Z=a(71168),L=a.n(Z),O=a(65107),z=a(79352),K=a(94986),q=a(15999),V=a(11557),_=a(25108);window.clickFilter="";const G=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),Z=(0,l.useRef)(null),G=(0,l.useRef)(null),[U]=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[Y]=(0,l.useState)("484"),[j,W]=(0,l.useState)(!0),[$,J]=(0,l.useState)(!1),[Q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)(0),[ae,le]=(0,l.useState)(0),[ne,ie]=(0,l.useState)({current:1,pageSize:100}),[re,se]=(0,l.useState)(""),[oe,de]=(0,l.useState)([]),[me,ce]=(0,l.useState)({val:"",column:""}),[pe,ue]=(0,l.useState)([]),[ye,ge]=(0,l.useState)(!1),[fe,De]=(0,l.useState)(""),[he,Se]=(0,l.useState)(""),[Pe,Ce]=(0,l.useState)(!1),[Ie,ve]=(0,l.useState)(!1),[Ee,Ne]=(0,l.useState)([]),[Me,He]=(0,l.useState)([]),[Te,be]=(0,l.useState)([]),[we,Fe]=(0,l.useState)(!1),xe=(0,l.useContext)(e.context?e.context:D.PPMHealthSafetyRegistryContext),{cstate:Re,cdispatch:Ae}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Be,ke]=(0,l.useState)({children:[{name:"PPMHealthSafetyRegistry",children:[]}]}),[Ze,Le]=(0,l.useState)(!1);let Oe={PPMHealthSafetyIDPK:"",HealthSafetyCode:"",HealthSafetyName:"",SMType:"",SaftyMeasure:"",ServiceType:"",IsDraft:"",Remarks:"",DivisionID:"",DisciplineID:"",FrequencyID:"",ComplaintNatureID:"",CCMComplaintTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PriorityID:"",PriorityCode:"",PriorityName:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",ComplaintNatureCode:"",ComplaintNatureName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ze,Ke]=(0,l.useState)(Oe),[qe,Ve]=(0,l.useState)(Oe),[_e,Ge]=(0,l.useState)(Oe),[Ue,Ye]=(0,l.useState)(Oe),[je,We]=(0,l.useState)("asc"),[$e,Je]=(0,l.useState)(""),[Qe,Xe]=(0,l.useState)(!1),[et,tt]=(0,l.useState)(!0),[at,lt]=(0,l.useState)(!0),[nt,it]=(0,l.useState)(!1),[rt,st]=(0,l.useState)(!0),[ot,dt]=(0,l.useState)(0),[mt,ct]=(0,l.useState)({CCMComplaintTypeName:"",ComplaintNatureName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",HealthSafetyCode:"",HealthSafetyName:"",SMType:"",SaftyMeasure:"",ServiceType:""}),[pt,ut]=(0,l.useState)(!1),[yt,gt]=(0,l.useState)([]),[ft,Dt]=(0,l.useState)(0),[ht,St]=(0,l.useState)(0),[Pt,Ct]=(0,l.useState)({current:1,pageSize:10}),[It,vt]=(0,l.useState)([]),[Et,Nt]=(0,l.useState)([]),[Mt,Ht]=(0,l.useState)(!1),[Tt]=(0,l.useState)(localStorage.getItem("Language")),[bt]=(0,l.useState)(localStorage.getItem("Language")),[wt,Ft]=L()("484"),[xt,Rt]=(0,l.useState)({}),[At,Bt]=(0,l.useState)({}),[kt]=(0,l.useState)("0"),[Zt,Lt]=(0,l.useState)([]),[Ot,zt]=(0,l.useState)([]),Kt=[{columns:It,data:re}];let qt=(0,M.Z)();const Vt=e=>qt?.[e]?qt[e]:e,_t=e=>Re.language?.[e]?Re.language[e]:e;(0,l.useEffect)((()=>{Wt(wt),function(e){const t=e.filter((e=>e.FormID==kt));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldDisplay))})),Lt(a),zt(l)}(wt)}),[wt]),(0,l.useEffect)((()=>{Re.token.length>0&&(Re.IsDraft?Yt(ne,Oe,"DraftPPMHealthSafetyID"):Yt(ne,Oe,"PPMHealthSafetyID"))}),[]),(0,l.useEffect)((()=>{Ie||we||Ze||!fe?Ie?Ve(fe):we?Ge(fe):Ze&&Ye(fe):Re.IsDraft?Yt(ne,fe,"DraftPPMHealthSafetyID"):Yt(ne,fe,"PPMHealthSafetyID")}),[fe]),(0,l.useEffect)((()=>{!1===e.cardview&&st(e.cardview),e.Dialogview&&J(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&jt(e.searchsafaritext,{current:ne.current,pageSize:ne.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Gt()},viewrecord:e=>{pe.map(((t,a)=>{t.PPMHealthSafetyIDPK==e&&Ae({type:"editData",payload:[pe[a]]})}))}})));const Gt=()=>{Re.IsDraft?Yt(ne,Oe,"DraftPPMHealthSafetyID"):Yt(ne,Oe,"PPMHealthSafetyID")};function Ut(e){xe.loading(!0);let t=f.v.Api+"FP484S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(t,a,Re.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,St(t.Output.data[0].TotalCount)):(a=0,xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),xe.loading(!1)),10==e.pageSize?Dt(Math.ceil(a)):20==e.pageSize?Dt(Math.ceil(a/2)):50==e.pageSize?Dt(Math.ceil(a/5)):100==e.pageSize&&Dt(Math.ceil(a/10)),gt(t.Output.data),xe.loading(!1)}}))}const Yt=(e,t,a,l,n,i)=>{xe.loading(!0),"DraftPage"!==l&&Xe(Re.IsDraft);let r=f.v.Api+"FP484S3/",s={data:{p1:n||(t&&t.PPMHealthSafetyIDPK?t.PPMHealthSafetyIDPK:null),p2:t&&t.HealthSafetyCode?t.HealthSafetyCode:null,p3:t&&t.HealthSafetyName?t.HealthSafetyName:null,p4:t&&t.SMType?t.SMType:null,p5:t&&t.SaftyMeasure?t.SaftyMeasure:null,p6:t&&t.ServiceType?t.ServiceType:null,p7:"DraftPPMHealthSafetyID"==a?"1":"0",p8:null,p9:t&&t.DivisionID?t.DivisionID:null,p10:t&&t.DisciplineID?t.DisciplineID:null,p11:t&&t.FrequencyID?t.FrequencyID:null,p12:t&&t.ComplaintNatureID?t.ComplaintNatureID:null,p13:t&&t.CCMComplaintTypeID?t.CCMComplaintTypeID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.DivisionCode?t.DivisionCode:null,p22:t&&t.DivisionName?t.DivisionName:null,p23:t&&t.DisciplineCode?t.DisciplineCode:null,p24:t&&t.DisciplineName?t.DisciplineName:null,p25:t&&t.FrequencyCode?t.FrequencyCode:null,p26:t&&t.FrequencyName?t.FrequencyName:null,p27:t&&t.PriorityID?t.PriorityID:null,p28:t&&t.PriorityCode?t.PriorityCode:null,p29:t&&t.PriorityName?t.PriorityName:null,p30:t&&t.CCMComplaintTypeCode?t.CCMComplaintTypeCode:null,p31:t&&t.CCMComplaintTypeName?t.CCMComplaintTypeName:null,p32:t&&t.ComplaintNatureCode?t.ComplaintNatureCode:null,p33:t&&t.ComplaintNatureName?t.ComplaintNatureName:null,p34:n?1:e.current,p35:e.pageSize,p36:a,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,c.Z)(r,s,Re.token[0]).then((r=>{if(n)(0,A.m)(r,Ae,l,i,xe,"PPMHealthSafetyIDPK");else if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let t=0;r.Output.data.length>0?(t=parseFloat(r.Output.data[0].TotalCount,10)/10,te(r.Output.data[0].TotalCount),Ae({type:"count",payload:r.Output.data[0].TotalCount}),le(r.Output.data[0].DraftCnt),"DraftPage"==l&&le(r.Output.data[0].TotalCount)):t=0,10==e.pageSize?X(Math.ceil(t)):20==e.pageSize?X(Math.ceil(t/2)):50==e.pageSize?X(Math.ceil(t/5)):100==e.pageSize&&X(Math.ceil(t/10)),Re.ExpandTableValue&&(Re.ExpandDetailValue?document.getElementById("PPMHealthSafetyRegistry-MainTable").style.display="block":(document.getElementById("PPMHealthSafetyRegistry-MainTable").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainEntry").style.width="100%",document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMHealthSafetyRegistry-MainDiv").classList.add("displayGrid"))),ue(r.Output.data),xe.loading(!1),document.getElementById("divPPMHealthSafetyRegistry-Entry").style.height="auto"}}else xe.loading(!1),"DraftPPMHealthSafetyID"===a?(xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),Xe(!1)):(ue([]),ie({current:1,pageSize:10}),X(0),te(0),Ae({type:"count",payload:0}),Object.values(t).some((e=>e))&&xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else xe.alert({open:!0,color:"warning",message:[r.Output.status.message]}),xe.loading(!1)}))};function jt(e,t){xe.loading(!0);const a=f.v.Api+"FP484S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Qe?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,Re.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,te(e.Output.data[0].TotalCount),Ae({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?X(Math.ceil(a)):20==t.pageSize?X(Math.ceil(a/2)):50==t.pageSize?X(Math.ceil(a/5)):100==t.pageSize&&X(Math.ceil(a/10)),ue(e.Output.data),xe.loading(!1)}else ue([]),X(0),te(0),Ae({type:"count",payload:0}),xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),xe.loading(!1);else xe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),xe.loading(!1)}))}function Wt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),Ae({type:"language",payload:Object.assign({},...n)}),ct(a.reduce(((e,t)=>(e[t]="",e)),{})),Ne(e),He(t),be(a),vt(l),Nt(a)}const $t=(e,t,a)=>{Ae({type:"IsDraft",payload:t}),Ae({type:"EditOpen",payload:!1}),Ae({type:"EditIsDraft",payload:t}),xe.ExpandDetail(!1),a?xe.AddOpen(e.PPMHealthSafetyIDPK,t):Ae({type:"editData",payload:[e]})},Jt=()=>{ye?(document.getElementById("PPMHealthSafetyRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMHealthSafetyRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMHealthSafetyRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ge(!1),Ie?(document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):rt?we?(document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMHealthSafetyRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMHealthSafetyRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMHealthSafetyRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMHealthSafetyRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ge(!0),Ie?(document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):rt?we?(document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMHealthSafetyRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),Ce(!1),window.clickFilter=!ye};return n().createElement("div",null,n().createElement(r.Z,{expanded:et,onChange:()=>()=>{tt(at)}},n().createElement(o.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},n().createElement("div",{className:"displayFlex"},Ze||Ie||!Qe?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[484]"},`${_t("484")} (${ee})`)):n().createElement("div",{className:"ListHeader displayFlex"},n().createElement(v.ZP,{title:"List",placement:"top"},n().createElement("div",{id:"fld484L3TCList",onClick:()=>{at||(Ae({type:"Add",payload:!0}),Ae({type:"Add",payload:!0})),xe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Yt({current:1,pageSize:100},Oe,"PPMHealthSafetyID"),Xe(!1),Ae({type:"IsDraft",payload:!1})}),500)):(Yt({current:1,pageSize:100},Oe,"PPMHealthSafetyID"),Xe(!1),Ae({type:"IsDraft",payload:!1})),ie({current:1,pageSize:100})}},n().createElement(w.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},"Drafts(",ee,")")))),n().createElement("div",{style:{display:"flex"}},Ie||we||Ze?null:n().createElement("div",{className:"searchbar",id:"fld484L3TCSearchBar"},n().createElement(E.Z,{className:"search_input",type:"text",id:"PPMHealthSafetyRegistrygridsearch",placeholder:"Search",value:he,onChange:e=>{if(Se(e),"0"==e.length)return Yt(ne,Oe,Qe?"DraftPPMHealthSafetyID":"PPMHealthSafetyID",Qe&&"DraftPage"),!1;jt(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},he?n().createElement("div",{id:"fld484L3TCCloseIcon",onClick:()=>{Se(""),Gt()}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld484L3TCInputSearchIcon",onClick:()=>{document.getElementById("PPMHealthSafetyRegistrygridsearch").focus()}},n().createElement(P.Z,{className:"InputSearchIcon"})))),n().createElement("div",{style:{marginLeft:"5px"}},Re.AccessRights.IsAdd&&n().createElement(H.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>{xe.ExpandDetail(!0),xe.Approval(!1)}}))))),n().createElement(s.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"PPMHealthSafetyRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},!Qe&&n().createElement("div",{frmctrlid:"fld484L3TCFilterDataIsDraft",id:"PPMHealthSafetyRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Jt()},n().createElement(v.ZP,{title:Vt("Filter Data"),placement:"top"},n().createElement(y.Ol$,{className:"tableFilterColumnIcon"})),n().createElement("span",{className:"iconinfo"},Vt("Filter Data"))),$||Ie||Ze||Qe?null:n().createElement(u.Z,{title:"484",formctrlidprint:"fld484L3TCExportPrint",formctrlidexport:"fld484L3TCExportTable",formctrlidrefresh:"fld484L3TCExportRefresh",data:oe,exportData:Kt,Items:Et,columnIndex:It,TableVisibleItem:Me,userGridViewFormID:Y,TableTotalCount:ee,triggerApi:e=>{((e,t,l,n,i)=>{if(0===ee)return xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;xe.loading(!0);let r=f.v.Api+"FP484S3/",s={data:{p1:e&&e.PPMHealthSafetyIDPK?e.PPMHealthSafetyIDPK:null,p2:e&&e.HealthSafetyCode?e.HealthSafetyCode:null,p3:e&&e.HealthSafetyName?e.HealthSafetyName:null,p4:e&&e.SMType?e.SMType:null,p5:e&&e.SaftyMeasure?e.SaftyMeasure:null,p6:e&&e.ServiceType?e.ServiceType:null,p7:Qe?"1":"0",p8:null,p9:e&&e.DivisionID?e.DivisionID:null,p10:e&&e.DisciplineID?e.DisciplineID:null,p11:e&&e.FrequencyID?e.FrequencyID:null,p12:e&&e.ComplaintNatureID?e.ComplaintNatureID:null,p13:e&&e.CCMComplaintTypeID?e.CCMComplaintTypeID:null,p14:e&&e.IsActive,p15:null,p16:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p17:e&&e.CreatedTtm?e.CreatedTtm:null,p18:e&&e.CreatedTtmType?e.CreatedTtmType:null,p19:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p20:null,p21:e&&e.DivisionCode?e.DivisionCode:null,p22:e&&e.DivisionName?e.DivisionName:null,p23:e&&e.DisciplineCode?e.DisciplineCode:null,p24:e&&e.DisciplineName?e.DisciplineName:null,p25:e&&e.FrequencyCode?e.FrequencyCode:null,p26:e&&e.FrequencyName?e.FrequencyName:null,p27:e&&e.PriorityID?e.PriorityID:null,p28:e&&e.PriorityCode?e.PriorityCode:null,p29:e&&e.PriorityName?e.PriorityName:null,p30:e&&e.CCMComplaintTypeCode?e.CCMComplaintTypeCode:null,p31:e&&e.CCMComplaintTypeName?e.CCMComplaintTypeName:null,p32:e&&e.ComplaintNatureCode?e.ComplaintNatureCode:null,p33:e&&e.ComplaintNatureName?e.ComplaintNatureName:null,p34:ne.current,p35:ee,p36:Qe?"DraftPPMHealthSafetyID":"PPMHealthSafetyID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};xe.loading(!1),xe.alert({open:!0,color:"success",message:[`${_t(484)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(r,s,Re.token[0],i).then((e=>{(0,R.PDF_Excel_Generate)(e,xe,Et,se,a,i)}))})(fe,me.column,0,0,e)},Refresh:()=>{Se(""),G.current.clearItem(),ie({current:1,pageSize:100}),Re.IsDraft?Yt({current:1,pageSize:100},Oe,"DraftPPMHealthSafetyID"):Yt({current:1,pageSize:100},Oe,"PPMHealthSafetyID")},disabledPrint:!Re.AccessRights.IsPrint,disabledExport:!Re.AccessRights.IsExport,ref:a}),Ie||we||Ze||!at?null:!Qe&&Re.AccessRights.IsAdd&&n().createElement("div",{id:"PPMHealthSafetyRegistrycoldiv",className:"buttoncard",onClick:()=>{Pe?(document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.width="0%",document.getElementById("PPMHealthSafetyRegistryTabDiv").style.width="100%",document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.display="none",document.getElementById("PPMHealthSafetyRegistrycoldiv").style.width="fit-content",document.getElementById("PPMHealthSafetyRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.width="25%",document.getElementById("PPMHealthSafetyRegistryTabDiv").style.width="75%",document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.display="block",document.getElementById("PPMHealthSafetyRegistryfildiv").style.width="fit-content",document.getElementById("PPMHealthSafetyRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMHealthSafetyRegistrycoldiv").style.width="fit-content",document.getElementById("PPMHealthSafetyRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),ge(!1)}},n().createElement(v.ZP,{title:"{t('Manage Columns')}",placement:"top"},n().createElement("span",null,n().createElement(g.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld484L3TCFilterDataIsAdd"}))),n().createElement("span",{className:"iconinfo"},Vt("Manage Columns"))),!Qe&&j&&!Ie&&!Ze&&!$&&at&&n().createElement("div",{id:"fld484L3TCExpMigSlide",className:"buttoncard",onClick:()=>(setTimeout((()=>Z.current.getRefresh([])),2e3),xe.openNav(),void xe.SlideComponentType(n().createElement(B.Z,{ref:Z,alert:e=>xe.alert(e),loading:e=>xe.loading(e),Api:"FP484S8/",data:e=>_.log(e),SheetCount:1,frmctrlid:"fld484L3TCExpMig",importSave:(e,t)=>(async(e,t)=>{if(e.length>0){xe.loading(!0);const a=f.v.Api+"FP484S8/";await(0,V.ProcessDataSyncSave)(a,e,t,xe,Z)}})(e,t),TableVisibleItem:Zt,TableBodyItem:Ot,clear:e=>Z.current.getRefresh([]),excelfile:f.v.excel+"PPMHealthSafetyRegistry.xlsx",filename:"PPMHealthSafetyRegistry.xlsx"})))},n().createElement(v.ZP,{title:Vt("Migration"),placement:"top"},n().createElement("span",null,n().createElement(z.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Vt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!$&&at&&!Ze&&!Ie&&!Qe&&n().createElement("div",null,n().createElement("div",{id:"PPMHealthSafetyRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{pt?ut(!1):(ut(!0),Ut({current:1,pageSize:100}))}},n().createElement("div",{id:"fld484L3TCTableScrollData"},n().createElement(v.ZP,{title:Vt("Table Scroll Data"),placement:"top"},n().createElement(q.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Vt("Table Scroll Data")))),Re.AccessRights.IsAdd&&!Ze&&!Ie&&!Qe&&n().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:ae,showZero:!0},n().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(ae>0){dt(0),ie({current:1,pageSize:100}),at||(Ae({type:"Add",payload:!0}),Ae({type:"Add",payload:!0})),xe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Yt({current:1,pageSize:100},Oe,"DraftPPMHealthSafetyID"),Xe(!0),Ae({type:"IsDraft",payload:!0}),Ce(!1),st(!0),ve(!1),Fe(!1)}),500)):(Yt({current:1,pageSize:100},Oe,"DraftPPMHealthSafetyID"),Xe(!0),Ae({type:"IsDraft",payload:!0}),Ce(!1),st(!0),ve(!1),Fe(!1)),document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.width="0%",document.getElementById("PPMHealthSafetyRegistryTabDiv").style.width="100%",document.getElementById("PPMHealthSafetyRegistryFilterDiv").style.display="none"}else xe.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},n().createElement(v.ZP,{title:Vt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(F.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Vt("Drafts"))))),Ie||we||Ze||Qe?null:n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ze||Qe?null:n().createElement("div",null,at&&n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{id:"fld484L3TCListView",className:rt?"buttonList":"buttonGrid",onClick:()=>{ge(!0),st(!0),Ht(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(b.umT,null)),n().createElement("span",null,"List")),n().createElement("div",{id:"fld484L3TCGridView",className:rt||Mt?"buttonGrid":"buttonList",onClick:()=>{st(!1),Ht(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(T.aCJ,null)),n().createElement("span",null,"Card")),n().createElement("div",{className:Mt?"buttonList":"buttonGrid",id:"fld484L3TCTileView",onClick:()=>{Ht(!0),st(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(x.f_H,null)),n().createElement("span",null,"Tile"))))))),n().createElement("div",{id:"PPMHealthSafetyRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMHealthSafetyRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ye&&n().createElement(p.default,{CloseBtnClk:()=>Jt(),searchData:e=>{De(e||xt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));Bt(t)},formID:Y,data:()=>{},visibleData:()=>{},token:Re.token[0],userGrid:wt,msg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Gt()}}),Pe&&!Ie&&!we&&n().createElement(C.Z,{frmctrlid:"fld484L3TCTableColumnOrder",loading:e=>xe.loading(e),AltMsg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),select:Pe,userID:U,userGridViewFormID:Y,saved:(e,t)=>{e&&Wt(t),Ft(t)},Token:Re.token[0]})),n().createElement("div",{id:"PPMHealthSafetyRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},rt?n().createElement("div",null,Ie&&n().createElement(ListComponent,{onLoad:Ie,data:(e,t)=>{!function(e,t){Ae({type:"editData",payload:[e]}),ge(!1),document.getElementById("PPMHealthSafetyRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("PPMHealthSafetyRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("PPMHealthSafetyRegistry-ShareView").classList.remove("ViewBtnAct"),ve(!1),Fe(!1),Le(!1);let a={CCMComplaintTypeID:"",ComplaintNatureID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",HealthSafetyCode:"",HealthSafetyName:"",SMType:"",SaftyMeasure:"",ServiceType:""};Ke(a),Yt({current:1,pageSize:100},a,"PPMHealthSafetyID")}(e)},json:qe}),!Ie&&!Ze&&n().createElement("div",null,pt?n().createElement(K.Z,{data:yt,expanded:()=>{},edit:(e,t,a)=>{$t(e,t,a),xe.ExpandTable(!1),Ae({type:"EditIsDraft",payload:t}),Ae({type:"EditOpen",payload:!1})}}):n().createElement(O.Z,{ref:G,frmctrlid:"tblcs_484_L3_",id:"PPMHealthSafetyRegistry-MainTable",headerdata:Me,tablesearchparams:mt,searchvalue:e=>{ct(e),De(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...At};Rt(t),ie({current:1,pageSize:10}),Yt({current:1,pageSize:10},t,Qe?"DraftPPMHealthSafetyID":"PPMHealthSafetyID",Qe&&"DraftPage")},bodydata:pe,ondrag:(e,t)=>{$t(t,Qe,!0)},bodyitem:Te,visibleitem:Me,isdraft:Qe,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:Y,accessrights:Re.AccessRights,expanded:()=>{},edit:(e,t,a)=>{Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Yt(ne,null,t?"DraftPPMHealthSafetyID":"PPMHealthSafetyID",t&&"DraftPage",e[l],a)}))},viewtoggle:xe.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return n().createElement(k.ZP,{loading:e=>xe.loading(e),alertmsg:e=>xe.alert(e),ConfirmAlert:e=>{xe.ConfirmAlert(e)},data:Re.editData,AddOpen:Re.EditOpen,parentId:t.PPMHealthSafetyIDPK,IsDraft:Re.EditIsDraft,tableview:e})}}))):n().createElement(N.Z,{frmctrlid:"fld484L3TCExpandedCardDual",data:pe,id:"PPMHealthSafetyRegistry",title:"Safety Measurement",cardTile:!!Mt,visibleitem:Me,gridCountmdlg:at?4:12,gridCountxssm:at?6:12,expanded:()=>{},edit:$t,viewtoggle:xe.viewtoggle,onDoubleClick:(e,t)=>{$?xe.select(e):("edit"==t?(Ae({type:"editData",payload:[e]}),Ae({type:"IsDraft",payload:Qe}),Ae({type:"ShowDetail",payload:!1}),xe.ExpandDetail(!0)):(Ae({type:"editData",payload:[e]}),Ae({type:"IsDraft",payload:Qe}),Ae({type:"ShowDetail",payload:!0}),xe.ExpandDetail(!0),xe.viewtoggle()),at&&(ge(!1),Ce(!1)))}})))))),Ie||we||Ze?null:at?pt?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:ft,color:"primary",page:Pt.current,onChange:(e,t)=>{Ct({current:t,pageSize:Pt.pageSize}),Dt(t),Ut({current:t,pageSize:Pt.pageSize})}}),n().createElement("div",null,n().createElement(S.Z,{value:Pt.pageSize,frmctrlid:"fld484L3TCSelectPagination",onChange:e=>{Ct({current:1,pageSize:e.target.value}),Ut({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),at&&n().createElement("p",{className:"per-page"},"/ per page Of (",ht,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:Q,siblingCount:0,color:"primary",page:ne.current,onChange:(e,t)=>{if(ie({current:t,pageSize:ne.pageSize}),Qe)Yt({current:t,pageSize:ne.pageSize},fe,"DraftPPMHealthSafetyID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";he.length>0?jt(he,{current:t,pageSize:ne.pageSize}):Yt({current:t,pageSize:ne.pageSize},fe,"PPMHealthSafetyID")}}}),n().createElement("div",null,n().createElement(S.Z,{value:ne.pageSize,frmctrlid:"fld484L3TCSelectPagination",onChange:e=>{ie({current:1,pageSize:e.target.value}),Qe?Yt({current:1,pageSize:e.target.value},ze,"DraftPPMHealthSafetyID","DraftPage"):he.length>0?jt(he,{current:1,pageSize:e.target.value}):Yt({current:1,pageSize:e.target.value},ze,"PPMHealthSafetyID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),at&&n().createElement("p",{className:"per-page "},"/ per page Of (",ee,") ")):n().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},n().createElement(I.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(ee),page:ot,onPageChange:(e,t)=>{dt(t),Yt({current:t+1,pageSize:ne.pageSize},Oe,Qe?"DraftPPMHealthSafetyID":"PPMHealthSafetyID",Qe&&"DraftPage"),ie({current:t+1,pageSize:ne.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{dt(0)}})))})),U=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,i.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[y,g]=L()("484"),[P,C]=(0,l.useState)(!1),[I,v]=(0,l.useState)(0),[E,N]=(0,l.useState)(0),[H,T]=(0,l.useState)({current:1,pageSize:100}),[b,w]=(0,l.useState)(""),[F,x]=(0,l.useState)([]),[A,B]=(0,l.useState)({val:"",column:""}),[k,Z]=(0,l.useState)([]),[z,K]=(0,l.useState)(!1),[q,V]=(0,l.useState)(""),[_,G]=(0,l.useState)([]),[U,Y]=(0,l.useState)([]),[j,W]=(0,l.useState)([]),$=(0,l.useContext)(D.PPMHealthSafetyRegistryContext),{cstate:J,cdispatch:Q}=(0,D.ContextApi)();let X={PPMHealthSafetyIDPK:"",HealthSafetyCode:"",HealthSafetyName:"",SMType:"",SaftyMeasure:"",ServiceType:"",IsDraft:"",Remarks:"",DivisionID:"",DisciplineID:"",FrequencyID:"",ComplaintNatureID:"",CCMComplaintTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PriorityID:"",PriorityCode:"",PriorityName:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",ComplaintNatureCode:"",ComplaintNatureName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ne,ie]=(0,l.useState)(!1),[re,se]=(0,l.useState)(!0),[oe,de]=(0,l.useState)(0),[me,ce]=(0,l.useState)({CCMComplaintTypeName:"",ComplaintNatureName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",HealthSafetyCode:"",HealthSafetyName:"",SMType:"",SaftyMeasure:"",ServiceType:""}),[pe,ue]=(0,l.useState)([]),[ye,ge]=(0,l.useState)([]),[fe,De]=(0,l.useState)([]),[he,Se]=(0,l.useState)(!1),[Pe,Ce]=(0,l.useState)("");let Ie=(0,M.Z)();const ve=[{columns:pe,data:b}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),Q({type:"language",payload:Object.assign({},...n)}),ce(a.reduce(((e,t)=>(e[t]="",e)),{})),G(e),Y(t),W(a),ue(l),ge(a)}(y)}),[y]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ee()},viewrecord:e=>{k.map(((t,a)=>{t.PPMHealthSafetyIDPK==e&&Q({type:"editData",payload:[k[a]]})}))},DialogTableProps:e=>{C(e)},searchData:(t,a,l)=>{$.loading(!0),d.current&&d.current.clearItem(),Ce(l),T({current:1,pageSize:10}),X=e.ApiParamType.params,Ne({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&C(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ee=()=>{J.IsDraft?Ne(H,X,"DraftPPMHealthSafetyID"):Ne(H,X,"PPMHealthSafetyID")},Ne=async(t,a,l,n)=>{if(J.token[0]){if($.loading(!0),"DraftPage"!==n&&te(J.IsDraft),await Ce((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],n=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=n[e];a=t}V(a);let i=f.v.Api+`${e.ApiType}/`,r={data:{p1:a&&a.PPMHealthSafetyIDPK?a.PPMHealthSafetyIDPK:null,p2:a&&a.HealthSafetyCode?a.HealthSafetyCode:null,p3:a&&a.HealthSafetyName?a.HealthSafetyName:null,p4:a&&a.SMType?a.SMType:null,p5:a&&a.SaftyMeasure?a.SaftyMeasure:null,p6:a&&a.ServiceType?a.ServiceType:null,p7:"DraftPPMHealthSafetyID"==l?"1":"0",p8:null,p9:a&&a.DivisionID?a.DivisionID:null,p10:a&&a.DisciplineID?a.DisciplineID:null,p11:a&&a.FrequencyID?a.FrequencyID:null,p12:a&&a.ComplaintNatureID?a.ComplaintNatureID:null,p13:a&&a.CCMComplaintTypeID?a.CCMComplaintTypeID:null,p14:a&&a.IsActive,p15:null,p16:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p17:a&&a.CreatedTtm?a.CreatedTtm:null,p18:a&&a.CreatedTtmType?a.CreatedTtmType:null,p19:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p20:null,p21:a&&a.DivisionCode?a.DivisionCode:null,p22:a&&a.DivisionName?a.DivisionName:null,p23:a&&a.DisciplineCode?a.DisciplineCode:null,p24:a&&a.DisciplineName?a.DisciplineName:null,p25:a&&a.FrequencyCode?a.FrequencyCode:null,p26:a&&a.FrequencyName?a.FrequencyName:null,p27:a&&a.PriorityID?a.PriorityID:null,p28:a&&a.PriorityCode?a.PriorityCode:null,p29:a&&a.PriorityName?a.PriorityName:null,p30:a&&a.CCMComplaintTypeCode?a.CCMComplaintTypeCode:null,p31:a&&a.CCMComplaintTypeName?a.CCMComplaintTypeName:null,p32:a&&a.ComplaintNatureCode?a.ComplaintNatureCode:null,p33:a&&a.ComplaintNatureName?a.ComplaintNatureName:null,p34:t.current,p35:t.pageSize,p36:l,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,c.Z)(i,r,J.token[0]).then((e=>{if($.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,N(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?v(Math.ceil(a)):20==t.pageSize?v(Math.ceil(a/2)):50==t.pageSize?v(Math.ceil(a/5)):100==t.pageSize&&v(Math.ceil(a/10)),Z(e.Output.data)}}else $.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Ie?.[a]?Ie[a]:a)]}),Z([]),v(0),N(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ie(J.ExpandTableValue)}),[J.ExpandTableValue]),n().createElement("div",null,n().createElement(r.Z,{expanded:ae,onChange:()=>()=>{le(ne)}},n().createElement(o.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",E,")")))))),n().createElement(s.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"PPMHealthSafetyRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(u.Z,{formctrlidprint:"fld484L3TCExportPrint",formctrlidexport:"fld484L3TCExportTable",formctrlidrefresh:"fld484L3TCExportRefresh",title:"484",data:F,exportData:ve,Items:ye,columnIndex:pe,triggerApi:t=>{((t,l,n)=>{if(0===E)return $.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;$.loading(!0);let i=f.v.Api+`${e.ApiType}/`,r={data:{p1:t||(t&&t.PPMHealthSafetyIDPK?t.PPMHealthSafetyIDPK:null),p2:t&&t.HealthSafetyCode?t.HealthSafetyCode:null,p3:t&&t.HealthSafetyName?t.HealthSafetyName:null,p4:t&&t.SMType?t.SMType:null,p5:t&&t.SaftyMeasure?t.SaftyMeasure:null,p6:t&&t.ServiceType?t.ServiceType:null,p7:ee?"1":"0",p8:null,p9:t&&t.DivisionID?t.DivisionID:null,p10:t&&t.DisciplineID?t.DisciplineID:null,p11:t&&t.FrequencyID?t.FrequencyID:null,p12:t&&t.ComplaintNatureID?t.ComplaintNatureID:null,p13:t&&t.CCMComplaintTypeID?t.CCMComplaintTypeID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.DivisionCode?t.DivisionCode:null,p22:t&&t.DivisionName?t.DivisionName:null,p23:t&&t.DisciplineCode?t.DisciplineCode:null,p24:t&&t.DisciplineName?t.DisciplineName:null,p25:t&&t.FrequencyCode?t.FrequencyCode:null,p26:t&&t.FrequencyName?t.FrequencyName:null,p27:t&&t.PriorityID?t.PriorityID:null,p28:t&&t.PriorityCode?t.PriorityCode:null,p29:t&&t.PriorityName?t.PriorityName:null,p30:t&&t.CCMComplaintTypeCode?t.CCMComplaintTypeCode:null,p31:t&&t.CCMComplaintTypeName?t.CCMComplaintTypeName:null,p32:t&&t.ComplaintNatureCode?t.ComplaintNatureCode:null,p33:t&&t.ComplaintNatureName?t.ComplaintNatureName:null,p34:1,p35:E,p36:Pe,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};var s;$.loading(!1),$.alert({open:!0,color:"success",message:[`${s="484",J.language?.[s]?J.language[s]:s} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,c.Z)(i,r,J.token[0],n).then((e=>{(0,R.PDF_Excel_Generate)(e,$,ye,w,a,n)}))})(q,A.column,t)},TableVisibleItem:U,userGridViewFormID:"484",TableTotalCount:E,Refresh:()=>{Ne({current:1,pageSize:100},q,Pe),T({current:1,pageSize:100}),m.current&&m.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:a})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:I,siblingCount:0,color:"primary",page:H.current,onChange:(e,t)=>{if(T({current:t,pageSize:H.pageSize}),ee)Ne({current:t,pageSize:H.pageSize},q,"DraftPPMHealthSafetyID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Ne({current:t,pageSize:H.pageSize},q,"PPMHealthSafetyID")}}}),n().createElement("div",null,n().createElement(S.Z,{value:H.pageSize,onChange:e=>{T({current:1,pageSize:e.target.value}),Ne({current:1,pageSize:e.target.value},q,"PPMHealthSafetyID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",E,")"))),n().createElement("div",{id:"PPMHealthSafetyRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"PPMHealthSafetyRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"PPMHealthSafetyRegistry",headerdata:U,tablesearchparams:me,searchvalue:e=>{ce(e),T({current:1,pageSize:100}),Ne({current:1,pageSize:100},e,ee?"DraftPPMHealthSafetyID":"PPMHealthSafetyID",ee&&"DraftPage")},bodydata:k,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:U,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{P?$.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?$.edit(t,a,l):$.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{Z(e)},color:!0,isexpanded:!1}):n().createElement(O.Z,{frmctrlid:"tblcs_484_L3_",ref:d,id:"PPMHealthSafetyRegistryTable",type:e.viewtype,headerdata:U,tablesearchparams:me,searchvalue:e=>{let t={...q,...e};ce(e),V(t),T({current:1,pageSize:100}),Ne(H,t,Pe)},bodydata:k,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:U,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{P?$.select(t):(e.editdata(t,"view"),$.edit(t,a,1!=t.Entry))},viewtoggle:$.viewtoggle,IsSub:e.IsSub})))))))}))},55842:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A}),a(95866),a(99058);var l=a(92950),n=a.n(l),i=a(80366),r=a(51673),s=a(282),o=a(868),d=a(78513),m=a(14439),c=a(27848),p=a(40900),u=a(64059),y=a(24038),g=a(8981),f=a(47516),D=a(86893),h=a(65774),S=a(33681),P=a(63163),C=(a(35131),a(61956),a(93657)),I=a(53375),v=a(52663),E=a(66083),N=a(29525),M=a(66856),H=a(39803),T=a(99940),b=a(17149),w=a(62810),F=a(30553),x=a(92381),R=a(25108);const A=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[A,B]=(0,l.useState)([]),[k,Z]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[L,O]=(0,l.useState)(""),[z,K]=(0,l.useState)({}),[q,V]=(0,l.useState)(!0),[_,G]=(0,l.useState)(!1),{cstate:U,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,h.ContextApi)(),[j,W]=(0,l.useState)(1),[$,J]=(0,l.useState)(0),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[ne,ie]=(0,l.useState)(!0),[re,se]=(0,l.useState)(!1),[oe,de]=(0,l.useState)(""),[me,ce]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[ye,ge]=(0,l.useState)(!1),[fe,De]=(0,l.useState)(""),he=(0,l.useRef)(null),[Se,Pe]=(0,l.useState)({});let Ce=localStorage.getItem("Language");const Ie={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,g.Z)();const Ee=e=>ve[e]?ve[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ie[Ce]];function Me(){K({}),te({}),e.searchData({}),G(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Pe(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{he.current&&he.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Me()}})));const He=async(t,a,l,n)=>{X(!0);try{he.current&&he.current.abort();const i=new AbortController;he.current=i;let s="",o=[],d={};await Z((e=>(s=e.name,e))),await K((e=>(o=e,e))),await te((e=>(d=e,e)));const m=p.v.Api+"FP484S3/",c={data:{p1:"PPMHealthSafetyIDPK"==a?null:await xe(),p2:"HealthSafetyCode"==s&&l.length>0?"%"+l+"%":null,p3:"HealthSafetyName"==s&&l.length>0?"%"+l+"%":null,p4:"SMType"==s&&l.length>0?"%"+l+"%":null,p5:"SaftyMeasure"==s&&l.length>0?"%"+l+"%":null,p6:"ServiceType"==s&&l.length>0?"%"+l+"%":null,p7:null,p8:null,p9:"DivisionName"!=s&&o.DivisionName?o.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p10:"DisciplineName"!=s&&o.DisciplineName?o.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p11:"FrequencyName"!=s&&o.FrequencyName?o.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p12:"ComplaintNatureName"!=s&&o.ComplaintNatureName?o.ComplaintNatureName.map((e=>e.ComplaintNatureIDPK)).toString():null,p13:"CCMComplaintTypeName"!=s&&o.CCMComplaintTypeName?o.CCMComplaintTypeName.map((e=>e.CCMComplaintTypeIDPK)).toString():null,p14:e.Dialogview?"1":null,p15:null,p16:"p16"==s&&l.length>0?l:null,p17:null,p18:null,p19:null,p20:null,p21:"DivisionCode"==s&&l.length>0?"%"+l+"%":null,p22:"DivisionName"==s&&l.length>0?"%"+l+"%":null,p23:"DisciplineCode"==s&&l.length>0?"%"+l+"%":null,p24:"DisciplineName"==s&&l.length>0?"%"+l+"%":null,p25:"FrequencyCode"==s&&l.length>0?"%"+l+"%":null,p26:"FrequencyName"==s&&l.length>0?"%"+l+"%":null,p27:"PriorityName"!=s&&o.PriorityName?o.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p28:"PriorityCode"==s&&l.length>0?"%"+l+"%":null,p29:"PriorityName"==s&&l.length>0?"%"+l+"%":null,p30:"CCMComplaintTypeCode"==s&&l.length>0?"%"+l+"%":null,p31:"CCMComplaintTypeName"==s&&l.length>0?"%"+l+"%":null,p32:"ComplaintNatureCode"==s&&l.length>0?"%"+l+"%":null,p33:"ComplaintNatureName"==s&&l.length>0?"%"+l+"%":null,p34:n||1,p35:10,p36:t,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},u=await(0,r.Z)(m,c,e.token,"",i.signal);if(!u)return!1;const y=u.Output.status.code,g=u.Output.data;if("200"===y)if(g.length>0)if(1===n){let e=be(g,s),t=Te(e,z[s],a);B(t),J(t.length>0?t[0].TotalCount:z[s].length)}else{let e=[...A,...g],t=be(e,s);J(t.length<10?t.length:g[0].TotalCount),B(be(t,s))}else L.length>0&&B([]),J(A.length);else e.alertmsg("error",[u.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Te=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),be=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=Se[e];if(a){const e=a.flatMap((e=>z[e]?z[e].map((e=>e[t])):[]));return e.toString()}return""}const Fe=async t=>{let a="",l={};await K((e=>(a=e,e)));let n=[...ae],i=[];for(let e of n){let t=a[e]?.map((e=>e.PPMHealthSafetyIDPK)).toString();t&&i.push(t)}await te((e=>(l=e,e)));let r={PPMHealthSafetyIDPK:i?[...new Set(i)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",CCMComplaintTypeID:we("CCMComplaintTypeID"),ComplaintNatureID:we("ComplaintNatureID"),DivisionID:we("DivisionID"),DisciplineID:we("DisciplineID"),FrequencyID:we("FrequencyID")};"saveFav"==t?Be("save",r):(e.searchData(r),G(!1))};async function xe(){let e={};await K((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMHealthSafetyIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Re(t,a,l,n,i,r){let s={[n]:{From:t,Type:l,To:a}},o={};te((e=>({...e,...s})));const d={...z};let m=[...ae],c=[];for(let e of m){let t=d[e]?.map((e=>e.PPMHealthSafetyIDPK)).toString();t&&c.push(t)}await te((e=>(o=e,e)));let p={PPMHealthSafetyIDPK:c?[...new Set(c)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?i:null,CCMComplaintTypeID:z.CCMComplaintTypeName?.map((e=>e.CCMComplaintTypeIDPK)).toString(),ComplaintNatureID:z.ComplaintNatureName?.map((e=>e.ComplaintNatureIDPK)).toString(),DivisionID:z.DivisionName?.map((e=>e.DivisionIDPK)).toString(),DisciplineID:z.DisciplineName?.map((e=>e.DisciplineIDPK)).toString(),FrequencyID:z.FrequencyName?.map((e=>e.FrequencyIDPK)).toString()};e.searchData(p)}function Ae(){return n().createElement(u.Z,{frmctrlid:"fld484L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Re(e,t,a,k.name,l)},keyboardback:()=>{G(!1),Z({idpk:"",name:"",type:"",fieldidpk:""})},title:Ee(k.name),fieldname:k.name,save:e=>{alert(!0)}})}const Be=(t,a)=>{(0,x.Z)(t,e.formID,a,oe).then((e=>{const t=e.Output.data;De(t)}))};return n().createElement("div",null,n().createElement(v.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:me},n().createElement(E.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),n().createElement(N.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(H.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>de(e.target.value),fullWidth:!0})),n().createElement(F.Z,{style:{color:"#337ab7"},control:n().createElement(T.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Quick"}),n().createElement(F.Z,{style:{color:"#337ab7"},control:n().createElement(T.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ye,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),n().createElement(M.Z,null,n().createElement(s.Z,{onClick:()=>{Fe("saveFav"),ce(!1)},color:"primary"},"Save"))),_?"Created Ttm"===k.name||k.name.includes("Date")?n().createElement(Ae,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(m.Z,null,n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(k.idpk)," (",A.length,"/",$,")")),n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(o.ZP,{title:Ee("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(i.Z,{id:"fld484L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{G(!1),Z({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),z[k.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(s.Z,{frmctrlid:"fld484L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,R.log("clear fewItems",e),t))),e[k.name]=[],He(k.type,k.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},q?n().createElement(o.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{V(!1)}}))):n().createElement(o.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{V(!0)}})))),n().createElement("ul",null,z[k.name]&&z[k.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:q?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[k.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[k.name],onClick:()=>(async(e,t)=>{W(1);let a=z[k.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[k.name]=a,K(l),B((t=>[e,...t]))})(e)},n().createElement(i.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(y.Z,{frmctrlid:"fld484L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:L,placeholder:Ee("Enter ")+" "+Ne(k.idpk),onChange:e=>{O(e),He(k.type,k.fieldidpk,e,1,xe())}})),n().createElement("div",{id:"fld484L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:Fe},n().createElement(o.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(S.Z,{color:"secondary"})),n().createElement("div",{id:"fld484L3TFCScrollYDefault",className:"height65 scrollYDefault"},A.length>0&&A.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[k.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let n=l[k.name];t[k.name]=n?[...a,...n]:a,l={...l,...t},K(l),B((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(d.Z,{className:"DotIcon"}),n().createElement("span",null,e[k.name])))),A.length+0<$&&A.length>0&&n().createElement("div",{id:"fld484L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(j+1),He(k.type,k.fieldidpk,"",j+1)}},n().createElement("p",null," more... ")),0===A.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:p.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(f.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",Ee("Filter")," ",oe.length>0&&`(${oe})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(o.ZP,{title:"Favorite List",placement:"top"},re?n().createElement(i.Z,{className:"favlisticon",onClick:()=>{se(!1),De(""),Me()}}):n().createElement(C.Z,{className:"favlisticon",onClick:()=>{se(!0),Be("select"),Me()}})),Object.keys(z).length>0&&n().createElement(o.ZP,{title:"Save Favorites",placement:"top"},n().createElement(I.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),n().createElement(o.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{Me()},id:"fld484L3TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear")))),n().createElement(o.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld484L3TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Ee("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld484L3TFCFilItems",className:"FilterItems"},!fe&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{G(!0),O(""),B([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"PPMHealthSafetyIDPK";Z({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMHealthSafetyID",fieldidpk:t}),He(e.IsForeign?"Filter"+e.FieldName:"FilterPPMHealthSafetyID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(P.Z,{checked:"1"==ne,onChange:t=>{ie(t.target.checked),Re("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,z[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},z[a][0][a]),z[a].length>1&&n().createElement("span",{className:"RoundedDivName"},z[a][1][a]),z[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(z[a].length-2))))));var a})),fe&&fe.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{He("FilterPPMHealthSafetyID",a),Fe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}))},80206:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>E});var l=a(92950),n=a.n(l),i=a(45237),r=(a(37148),a(3212)),s=a(29800),o=a(14439),d=a(27848),m=(a(10966),a(36939)),c=a(61201),p=a(50743),u=a(65774),y=(a(21392),a(51673)),g=a(40900),f=a(26537),D=(a(24038),a(83638)),h=(a(77366),a(97829),a(8981)),S=(a(63163),a(1695)),P=(a(79117),a(99216)),C=(a(35131),a(61956),a(51649)),I=a(61924),v=a.n(I);const E=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[I,E]=((0,i.useSelector)((e=>e.form)),(0,l.useState)([])),[N,M]=(0,l.useState)(!0),[H,T]=(0,l.useState)(e.showDetail),[b,w]=(0,l.useState)(""),[F,x]=n().useState(!1),[R,A]=n().useState(""),[B,k]=n().useState(!1),Z=(0,l.useContext)(u.PPMHealthSafetyRegistryContext),{cstate:L,cdispatch:O}=(0,u.ContextApi)(),[z,K]=(0,l.useState)(!1),[q,V]=(0,l.useState)(""),[_,G]=(0,l.useState)(""),[U,Y]=(0,l.useState)("");let j=(0,h.Z)();(0,l.useEffect)((()=>{L.editData.length>0&&(E(L.editData),x(!1),O({type:"PrimaryId",payload:L.editData[0].PPMHealthSafetyIDPK}))}),[L.editData]),(0,l.useEffect)((()=>{L.showTableview&&Y(L.showTableview)}),[L.showTableview]),(0,l.useEffect)((()=>{M(L.ExpandDetailValue)}),[L.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{M(e),x(null)},viewtoggle:()=>{x(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=g.v.Api+"FP484S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:1,p35:10,p36:a?"DraftPPMHealthSafetyID":"PPMHealthSafetyID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,y.Z)(l,n,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&E(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===F&&a.current.clear()}})));const W=e=>j?.[e]?j?.[e]:e,$=e=>L.language?.[e]?L.language[e]:e;function J(e,t){}const Q=e=>{Z.ConfirmAlert(n().createElement(v(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:W("Are you sure?"),onConfirm:()=>(()=>{Z.loading(!0),Z.ConfirmAlert(null),O({type:"IsDraft",payload:!1});let e={url:g.v.Api+"FP484S2/",PrimID:I[0].PPMHealthSafetyIDPK,ParamType:"",state:I[0],active:1,token:L.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,n=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:n}),Z.loading(!1)):(()=>{Z.loading(!0);let e={url:g.v.Api+"FP484S1/",PrimID:I[0].PPMHealthSafetyIDPK,ParamType:"",state:I[0],active:1,token:L.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(Z.alert({open:!0,color:"success",message:[t.message]}),Z.loading(!1),Z.ShowTableDiv(),Z.RefreshTable(),Z.Approval(!0))}))})())}))})(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:W("Yes"),cancelBtnText:W("Cancel"),showCancel:!0},L.PrimaryId?W("Do you want to Update?"):W("Do you want to Save?")))};return n().createElement("div",{className:"SubContent_1"},n().createElement(m.Z,{expanded:N,onChange:()=>()=>{e.expandTable&&M(!N)}},!F&&n().createElement(p.Z,null,n().createElement(o.Z,{container:!0},n().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("span",{style:{cursor:"pointer"}},n().createElement(C.u1R,{className:"backButtonList",onClick:()=>{Z.ShowTableDiv(),Z.RefreshTable()}})),n().createElement("p",{className:"DListP"},L.IsDraft?"Draft ":"",$("484"))))))),n().createElement(c.Z,{style:{display:"block"}},I.map(((e,t)=>n().createElement("div",{key:t},n().createElement(P.Z,{tableName:"PPMHealthSafetyRegistry",tableID:484,parentID:e.PPMHealthSafetyIDPK,fldid:"fld484L3VCContainer",OpenSlideComponent:J,index:t,val:e,tf:$,t:W,title:"10.0.0.59-3:08:17 PM-18-7[484]"}))))),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&L.AccessRights.IsAdd&&n().createElement(r.Z,{className:"L1AddBtnCommon",onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:[]}),O({type:"PrimaryId",payload:L.editData[0].PPMHealthSafetyIDPK})},disabled:!1}),L.IsDraft&&n().createElement(s.Z,{onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:I}),O({type:"PrimaryId",payload:L.editData[0].PPMHealthSafetyIDPK})},disabled:!1}),n().createElement(S.Z,{name:L.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld484L3ECSaveBtnApprovalStatus",onClick:()=>{Q()}}))))}))},80950:()=>{},46601:()=>{},89214:()=>{},96419:()=>{},56353:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},69386:()=>{},31616:()=>{},56619:()=>{},77108:()=>{},69862:()=>{},40964:()=>{},72095:()=>{}}]);