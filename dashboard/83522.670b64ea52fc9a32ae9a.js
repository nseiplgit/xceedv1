"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[83522],{51673:(t,e,a)=>{a.d(e,{Z:()=>n}),a(26537),a(40900);var o=a(25108);async function n(t,e,a,n){let r=localStorage.getItem("userid"),s=await async function(t){return t.data&&!Array.isArray(t.data)?{data:Object.fromEntries(Object.entries(t.data).filter((([t,e])=>null!=e)))}:t}(e);return(n&&"pdf"==n.type||n&&"excel"==n.type)&&(s={...s,file:n}),fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-userid":localStorage.getItem("userid"),"x-tokenid":a&&a.TokenIDPK,"x-tokenname":a&&a.TokenName,USER_ID:r,FORM_ID:1},body:JSON.stringify(s)}).then((t=>t.json())).then((async t=>{if(t.Output){if(t.Output&&t.Output.data&&t.Output.data.length>0){const e=await function(t){const e=new Set(["UGFzc3dvcmQ=","VXNlclBhc3N3b3Jk","VXNlckNvbmZpcm1QYXNzd29yZA==","UG9ydGFsUGFzc3dvcmQ=","VXNlckdyb3VwSUQ="]);if(t&&0===t.length)return o.log("DATA SCREENING NOT REQUIRED - NO DATA"),t;if(!Object.keys(t[0]).some((t=>e.has(t))))return o.log("DATA SCREENING NOT REQUIRED"),t;function a(t,e){return{[atob(t)]:atob(e)}}return o.log("DATA SCREENING PROCESSED"),Promise.all(t.map((t=>{const o={};for(const[n,r]of Object.entries(t))if(e.has(n)){const t=a(n,r);Object.assign(o,t)}else o[n]=r;return o})))}(t.Output.data);return{Output:{status:t.Output.status,data:e}}}return t}return{Output:t}})).catch((t=>{t&&(window.location.href,o.log(t,"error"))}))}},26537:(t,e,a)=>{a.d(e,{Z:()=>s}),a(92950);var o=a(40900),n=a(55905),r=!1;function s(t){const e=(0,n.decode)(localStorage.getItem("username"));let a=o.v.Api+"FPU19S3/",s=(localStorage.getItem("username"),localStorage.getItem("password"),{p1:localStorage.getItem("userid"),p2:localStorage.getItem("SessionID")});return fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},keepalive:!1,body:JSON.stringify(s)}).then((t=>t.json())).then((t=>t&&0==t.TokenIDPK&&"admin"!=e.toLowerCase()?(r||(r=!0,alert("It appears that your session has been taken over by another device. Please login again to regain access.")),localStorage.clear(),sessionStorage.clear(),window.location.href.toLowerCase().includes("adib")?window.location.href=logoutpath:window.location.href="/",{}):t)).catch((t=>t))}},83522:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var o=a(92950),n=a(40900),r=a(26537),s=(a(51673),a(25108));const i=t=>{const[e,a]=(0,o.useState)(null),[i,c]=(0,o.useState)(!0),[l,p]=(0,o.useState)(null),[u,d]=(0,o.useState)(!1),[g,h]=(0,o.useState)({id:"0",type:[],url:"",fp:!1});return(0,o.useEffect)((()=>{u&&(s.log("test useFetch"),(async()=>{d(!0);const t={data:{p1:g.id,p2:0,p3:"void",p4:1,p5:10,p6:g.type,p7:localStorage.getItem("UserGroupID"),p8:localStorage.getItem("userid")}};s.log("first params",t);try{s.log("usefetch",g),n.v.Api;const t=await(0,r.Z)(0),e=await g.type.map((e=>fetch(n.v.Api+g.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":t&&t.TokenIDPK,"x-tokenname":t&&t.TokenName,"x-userid":1,USER_ID:1,FORM_ID:1},body:g.fp?JSON.stringify(g.fp):JSON.stringify({data:{p1:g.id,p2:0,p3:"void",p4:1,p5:10,p6:e,p7:localStorage.getItem("UserGroupID"),p8:localStorage.getItem("userid")}})}).then((t=>t.json()))));await Promise.all(e).then((t=>{s.log("first promise",t),a(t)}))}catch(t){p(t)}finally{c(!1),d(!1)}})())}),[u]),{data:e,isLoading:i,error:l,isParams:g,setIsFetching:d,setParams:h}}},40900:(t,e,a)=>{a.d(e,{v:()=>o}),window.location.href.split("/");const o={Api:"http://13.127.67.252:5040/",MongoAPI:"",NoData:"http://13.127.67.252:5040/images/NoData.GIF",GoogleMapsAPI:"",excel:"http://13.127.67.252:5040/Images/Excel/",ImageUrl:"http://13.127.67.252:5040/Images/",ServerTime:0}}}]);