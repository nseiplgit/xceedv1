/*! For license information please see 3564.f88bcba69eb21fa744dc.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[3564],{93564:(e,t,l)=>{l.r(t),l.d(t,{CCMEstimationVendorInvoiceDetailsContext:()=>ke,ContextApi:()=>Be,UserGridViewData:()=>Ze,default:()=>Le});var n=l(92950),a=l.n(n),o=(l(95866),l(45237)),r=l(36939),i=l(61201),d=l(51673),C=(l(99058),l(80366)),m=l(282),s=l(868),u=l(78513),p=l(14439),c=l(27848),I=l(40900),E=l(64059),D=l(24038),M=l(8981),g=l(47516),y=l(86893),N=l(33681),v=l(63163),V=l(35131),T=l.n(V),f=l(61956),S=l(93657),b=l(53375),h=l(52663),x=l(66083),A=l(29525),w=l(66856),P=l(39803),F=l(99940),k=l(17149),B=l(62810),Z=l(30553),L=l(92381),K=l(25108);const R=(0,n.forwardRef)(((e,t)=>{const[l]=(0,n.useState)(localStorage.getItem("userid")),[o,r]=(0,n.useState)([]),[i,V]=(0,n.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[T,f]=(0,n.useState)(""),[R,O]=(0,n.useState)({}),[_,z]=(0,n.useState)(!0),[W,H]=(0,n.useState)(!1),{cstate:G,cdispatch:j}=e.ContextApi?e.ContextApi:Be(),[U,q]=(0,n.useState)(1),[Y,$]=(0,n.useState)(0),[J,Q]=(0,n.useState)(!1),[X,ee]=(0,n.useState)({}),[te,le]=(0,n.useState)([]),[ne,ae]=(0,n.useState)(!0),[oe,re]=(0,n.useState)(!1),[ie,de]=(0,n.useState)(""),[Ce,me]=(0,n.useState)(!1),[se,ue]=(0,n.useState)(!1),[pe,ce]=(0,n.useState)(!1),[Ie,Ee]=(0,n.useState)(""),De=(0,n.useRef)(null),[Me,ge]=(0,n.useState)({});let ye=localStorage.getItem("Language");const Ne={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,M.Z)();const Ve=e=>ve[e]?ve[e]:e,Te=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ne[ye]];function fe(){de(""),Ee(""),O({}),ee({}),e.searchData({}),H(!1)}(0,n.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});ge(l),le(t)}),[]),(0,n.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,n.useImperativeHandle)(t,(()=>({clear:()=>{fe()}})));const Se=async(t,l,n,a)=>{Q(!0);try{De.current&&De.current.abort();const i=new AbortController;De.current=i;let C="",m=[],s={};await V((e=>(C=e.name,e))),await O((e=>(m=e,e))),await ee((e=>(s=e,e)));const u=I.v.Api+"FP300S3/",p={data:{p1:"CCMEstVendorIDPK"==l?null:await we(),p2:"CCMEstVendorCode"==C&&n.length>0?"%"+n+"%":null,p3:"Code"==C&&n.length>0?"%"+n+"%":null,p4:"Narration"==C&&n.length>0?"%"+n+"%":null,p5:"CCMVendorInvNo"==C&&n.length>0?"%"+n+"%":null,p6:"CCMVendorRefNo"==C&&n.length>0?"%"+n+"%":null,p7:"CCMEstVendorAmount"==C&&n.length>0?"%"+n+"%":null,p8:"CCMActVendorAmount"==C&&n.length>0?"%"+n+"%":null,p9:null,p10:null,p11:null,p12:"CCMVendorDectAmount"==C&&n.length>0?"%"+n+"%":null,p13:"CCMVendorDectKey"==C&&n.length>0?"%"+n+"%":null,p14:"CCMEstTaxValue"==C&&n.length>0?"%"+n+"%":null,p15:"CCMEstTotalAmount"==C&&n.length>0?"%"+n+"%":null,p16:"CCMEstTaxAmount"==C&&n.length>0?"%"+n+"%":null,p17:"CCMEstgrandTotal"==C&&n.length>0?"%"+n+"%":null,p18:"CCMEstEstimateSubTotal"==C&&n.length>0?"%"+n+"%":null,p19:"IsActual"==C&&n.length>0?"%"+n+"%":null,p20:null,p21:null,p22:null,p23:"TaxName"!=C&&m.TaxName?m.TaxName.map((e=>e.TaxIDPK)).toString():null,p24:e.parentId?e.parentId:"0",p25:"VendorName"!=C&&m.VendorName?m.VendorName.map((e=>e.MatVendorIDPK)).toString():null,p26:e.Dialogview?"1":null,p27:null,p28:"p28"==C&&n.length>0?n:null,p29:null,p30:null,p31:null,p32:null,p33:"TaxCode"==C&&n.length>0?"%"+n+"%":null,p34:"TaxName"==C&&n.length>0?"%"+n+"%":null,p35:"TaxValue"==C&&n.length>0?"%"+n+"%":null,p36:"ContractName"!=C&&m.ContractName?m.ContractName.map((e=>e.ContractIDPK)).toString():null,p37:"ContractCode"==C&&n.length>0?"%"+n+"%":null,p38:"ContractName"==C&&n.length>0?"%"+n+"%":null,p39:"LocalityName"!=C&&m.LocalityName?m.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p40:"LocalityCode"==C&&n.length>0?"%"+n+"%":null,p41:"LocalityName"==C&&n.length>0?"%"+n+"%":null,p42:"BuildingName"!=C&&m.BuildingName?m.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p43:"BuildingCode"==C&&n.length>0?"%"+n+"%":null,p44:"BuildingName"==C&&n.length>0?"%"+n+"%":null,p45:"FloorName"!=C&&m.FloorName?m.FloorName.map((e=>e.FloorIDPK)).toString():null,p46:"FloorCode"==C&&n.length>0?"%"+n+"%":null,p47:"FloorName"==C&&n.length>0?"%"+n+"%":null,p48:"SpotName"!=C&&m.SpotName?m.SpotName.map((e=>e.SpotIDPK)).toString():null,p49:"SpotCode"==C&&n.length>0?"%"+n+"%":null,p50:"SpotName"==C&&n.length>0?"%"+n+"%":null,p51:"PriorityName"!=C&&m.PriorityName?m.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p52:"PriorityCode"==C&&n.length>0?"%"+n+"%":null,p53:"PriorityName"==C&&n.length>0?"%"+n+"%":null,p54:"DivisionName"!=C&&m.DivisionName?m.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p55:"DivisionCode"==C&&n.length>0?"%"+n+"%":null,p56:"DivisionName"==C&&n.length>0?"%"+n+"%":null,p57:"DisciplineName"!=C&&m.DisciplineName?m.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p58:"DisciplineCode"==C&&n.length>0?"%"+n+"%":null,p59:"DisciplineName"==C&&n.length>0?"%"+n+"%":null,p60:"ComplainerName"!=C&&m.ComplainerName?m.ComplainerName.map((e=>e.ComplainerIDPK)).toString():null,p61:"ComplainerCode"==C&&n.length>0?"%"+n+"%":null,p62:"ComplainerName"==C&&n.length>0?"%"+n+"%":null,p63:"ComplaintNatureName"!=C&&m.ComplaintNatureName?m.ComplaintNatureName.map((e=>e.ComplaintNatureIDPK)).toString():null,p64:"ComplaintNatureCode"==C&&n.length>0?"%"+n+"%":null,p65:"ComplaintNatureName"==C&&n.length>0?"%"+n+"%":null,p66:"CCMComplaintModeName"!=C&&m.CCMComplaintModeName?m.CCMComplaintModeName.map((e=>e.CCMComplaintModeIDPK)).toString():null,p67:"CCMComplaintModeCode"==C&&n.length>0?"%"+n+"%":null,p68:"CCMComplaintModeName"==C&&n.length>0?"%"+n+"%":null,p69:"ServiceTypeName"!=C&&m.ServiceTypeName?m.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p70:"ServiceTypCode"==C&&n.length>0?"%"+n+"%":null,p71:"ServiceTypeName"==C&&n.length>0?"%"+n+"%":null,p72:"ComplaintHeaderName"!=C&&m.ComplaintHeaderName?m.ComplaintHeaderName.map((e=>e.ComplaintHeaderIDPK)).toString():null,p73:"ComplaintHeaderCode"==C&&n.length>0?"%"+n+"%":null,p74:"ComplaintHeaderName"==C&&n.length>0?"%"+n+"%":null,p75:"CCMComplaintModeIndexName"!=C&&m.CCMComplaintModeIndexName?m.CCMComplaintModeIndexName.map((e=>e.CCMComplaintModeIndexIDPK)).toString():null,p76:"CCMComplaintModeIndexCode"==C&&n.length>0?"%"+n+"%":null,p77:"CCMComplaintModeIndexName"==C&&n.length>0?"%"+n+"%":null,p78:"CCMWoTypeName"!=C&&m.CCMWoTypeName?m.CCMWoTypeName.map((e=>e.CCMWoTypeIDPK)).toString():null,p79:"CCMWoTypeCode"==C&&n.length>0?"%"+n+"%":null,p80:"CCMWoTypeName"==C&&n.length>0?"%"+n+"%":null,p81:"CCMComplaintTypeName"!=C&&m.CCMComplaintTypeName?m.CCMComplaintTypeName.map((e=>e.CCMComplaintTypeIDPK)).toString():null,p82:"CCMComplaintTypeCode"==C&&n.length>0?"%"+n+"%":null,p83:"CCMComplaintTypeName"==C&&n.length>0?"%"+n+"%":null,p84:"CCMStageIName"!=C&&m.CCMStageIName?m.CCMStageIName.map((e=>e.CCMStageIDPK)).toString():null,p85:"CCMStageICode"==C&&n.length>0?"%"+n+"%":null,p86:"CCMStageIName"==C&&n.length>0?"%"+n+"%":null,p87:"StageSeqNo"==C&&n.length>0?"%"+n+"%":null,p88:"IncidentName"!=C&&m.IncidentName?m.IncidentName.map((e=>e.IncidentIDPK)).toString():null,p89:"IncidentCode"==C&&n.length>0?"%"+n+"%":null,p90:"IncidentName"==C&&n.length>0?"%"+n+"%":null,p91:"EquipmentName"!=C&&m.EquipmentName?m.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p92:"EquipmentName"==C&&n.length>0?"%"+n+"%":null,p93:"EquipmentRefNo"==C&&n.length>0?"%"+n+"%":null,p94:"AssetBarcode"==C&&n.length>0?"%"+n+"%":null,p95:"AssetTagNo"==C&&n.length>0?"%"+n+"%":null,p96:"WorkOrder"!=C&&m.WorkOrder?m.WorkOrder.map((e=>e.PPMCreationAssetIDPK)).toString():null,p97:"WorkOrder"==C&&n.length>0?"%"+n+"%":null,p98:s.WoDateTime?s.WoDateTime.From:null,p99:s.WoDateTime?s.WoDateTime.Type:null,p100:s.WoDateTime?s.WoDateTime.To:null,p101:"SubComponentName"!=C&&m.SubComponentName?m.SubComponentName.map((e=>e.SubComponentIDPK)).toString():null,p102:"SubComponentName"==C&&n.length>0?"%"+n+"%":null,p103:"ComplaintNo"==C&&n.length>0?"%"+n+"%":null,p104:"CMResonForPending"==C&&n.length>0?"%"+n+"%":null,p105:"CCMMobNo"==C&&n.length>0?"%"+n+"%":null,p106:"ClientWoNo"==C&&n.length>0?"%"+n+"%":null,p107:"CCMDescription"==C&&n.length>0?"%"+n+"%":null,p108:"VendorTypeName"!=C&&m.VendorTypeName?m.VendorTypeName.map((e=>e.MatVendorTypeIDPK)).toString():null,p109:"MatVendorTypeCode"==C&&n.length>0?"%"+n+"%":null,p110:"VendorTypeName"==C&&n.length>0?"%"+n+"%":null,p111:"CityName"!=C&&m.CityName?m.CityName.map((e=>e.CityIDPK)).toString():null,p112:"CityCode"==C&&n.length>0?"%"+n+"%":null,p113:"CityName"==C&&n.length>0?"%"+n+"%":null,p114:"StateName"!=C&&m.StateName?m.StateName.map((e=>e.StateIDPK)).toString():null,p115:"StateCode"==C&&n.length>0?"%"+n+"%":null,p116:"StateName"==C&&n.length>0?"%"+n+"%":null,p117:"CountryName"!=C&&m.CountryName?m.CountryName.map((e=>e.CountryIDPK)).toString():null,p118:"CountryCode"==C&&n.length>0?"%"+n+"%":null,p119:"CountryName"==C&&n.length>0?"%"+n+"%":null,p120:"MatVendorCode"==C&&n.length>0?"%"+n+"%":null,p121:"VendorName"==C&&n.length>0?"%"+n+"%":null,p122:a||1,p123:10,p124:t,p125:null,p126:null,p127:localStorage.getItem("UserGroupID"),p128:localStorage.getItem("userid")}},c=await(0,d.Z)(u,p,e.token,"",i.signal);if(!c)return!1;const E=c.Output.status.code,D=c.Output.data;if("200"===E)if(D.length>0)if(1===a){let e=he(D,C),t=be(e,R[C],l);r(t),$(t.length>0?t[0].TotalCount:R[C].length)}else{let e=[...o,...D],t=he(e,C);$(t.length<10?t.length:D[0].TotalCount),r(he(t,C))}else T.length>0&&r([]),$(o.length);else e.alertmsg("error",[c.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},be=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),he=(e,t)=>e.filter(((e,l,n)=>n.findIndex((l=>l[t]===e[t]))===l));function xe(e){let t=e+"PK",l=Me[e];if(l){const e=l.flatMap((e=>R[e]?R[e].map((e=>e[t])):[]));return e.toString()}return""}const Ae=async(t,l)=>{let n="",a={};await O((e=>(n=e,e)));let o=[...te],r=[];for(let e of o){let t=n[e]?.map((e=>e.CCMEstVendorIDPK)).toString();t&&r.push(t)}await ee((e=>(a=e,e)));let i={CCMEstVendorIDPK:l?l.CCMEstVendorIDPK:r?[...new Set(r)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",CCMVendorInvDate:a.CCMVendorInvDate?a.CCMVendorInvDate.From:"",CCMVendorInvDateType:a.CCMVendorInvDate?a.CCMVendorInvDate.Type:"",CCMVendorInvDateBetween:a.CCMVendorInvDate?a.CCMVendorInvDate.To:"",MatVendorID:xe("MatVendorID"),TaxID:xe("TaxID"),ComplaintID:xe("ComplaintID")};"saveFav"==t?ke("save",i):(e.searchData(i),H(!1))};async function we(){let e={};await O((t=>(e=t,t)));let t=[...te],l=[];for(let n of t){let t=e[n]?.map((e=>e.CCMEstVendorIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Pe(t,l,n,a,o,r){let i={[a]:{From:t,Type:n,To:l}},d={};ee((e=>({...e,...i})));const C={...R};let m=[...te],s=[];for(let e of m){let t=C[e]?.map((e=>e.CCMEstVendorIDPK)).toString();t&&s.push(t)}await ee((e=>(d=e,e)));let u={CCMEstVendorIDPK:s?[...new Set(s)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==n?o:null,CCMVendorInvDate:d.CCMVendorInvDate?d.CCMVendorInvDate.From:"",CCMVendorInvDateType:d.CCMVendorInvDate?d.CCMVendorInvDate.Type:"",CCMVendorInvDateBetween:d.CCMVendorInvDate?d.CCMVendorInvDate.To:"",MatVendorID:R.VendorName?.map((e=>e.MatVendorIDPK)).toString(),TaxID:R.TaxName?.map((e=>e.TaxIDPK)).toString(),ComplaintID:R.ComplaintNo?.map((e=>e.ComplaintIDPK)).toString()};e.searchData(u)}function Fe(){return a().createElement(E.Z,{frmctrlid:"fld300L1TCDateCompCreatedTtm",SendDateVal:(e,t,l,n,a)=>{Pe(e,t,l,i.name,n)},keyboardback:()=>{H(!1),V({idpk:"",name:"",type:"",fieldidpk:""})},title:Ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const ke=(t,l)=>{(0,L.Z)(t,e.formID,l,ie).then((e=>{const t=e.Output.data;Ee(t)}))};return a().createElement("div",null,a().createElement(h.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Ce},a().createElement(x.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),a().createElement(A.Z,{dividers:!0,style:{minWidth:"500px"}},a().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},a().createElement(P.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>de(e.target.value),fullWidth:!0})),a().createElement(Z.Z,{style:{color:"#337ab7"},control:a().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:a().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:a().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>ue(e.target.checked)}),label:"Quick"}),a().createElement(Z.Z,{style:{color:"#337ab7"},control:a().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:a().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:a().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ce(e.target.checked)}),label:"Dashboard"})),a().createElement(w.Z,null,a().createElement(m.Z,{onClick:()=>{Ae("saveFav"),me(!1)},color:"primary"},"Save"))),W?"Created Ttm"===i.name||i.name.includes("Date")?a().createElement(Fe,null):a().createElement("div",null,a().createElement("div",{className:"columnHeader displayFlex"},a().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},a().createElement(p.Z,null,a().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},a().createElement("p",{className:"columnHeaderp"},Te(i.idpk)," (",o.length,"/",Y,")")),a().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},a().createElement(s.ZP,{title:Ve("Close"),placement:"top"},a().createElement("div",{className:"FilterItemClose",align:"right"},a().createElement(C.Z,{id:"fld300L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),V({idpk:"",name:"",type:"",fieldidpk:!1}),q(1)}}))),R[i.name]&&a().createElement("div",{className:"FiltercloseAlign",align:"right"},a().createElement(m.Z,{frmctrlid:"fld300L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await O((t=>(e=t,K.log("clear fewItems",e),t))),e[i.name]=[],Se(i.type,i.fieldidpk,"",1)})()}},a().createElement("span",{className:"ColumnApplyTitle"},Ve("Clear All")))))))),a().createElement("div",{className:"FilterParentDiv"},a().createElement("div",{"data-list-scroll-container":"true"},a().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},a().createElement("div",{className:"FilterMaximize"},_?a().createElement(s.ZP,{title:"Maximize",placement:"right"},a().createElement("span",null,a().createElement(y.D7o,{className:"FilterMaximizeIcon",onClick:()=>{z(!1)}}))):a().createElement(s.ZP,{title:"Minimize",placement:"right"},a().createElement("span",null,a().createElement(y.dOw,{className:"FilterMaximizeIcon",onClick:()=>{z(!0)}})))),a().createElement("ul",null,R[i.name]&&R[i.name].map(((e,t)=>a().createElement("div",{key:t,tabIndex:"-1",className:_?"filterSelectedItems":"filterSelectedItemsMaximize"},a().createElement("div",{className:"filterSelectedItemNames"},a().createElement("span",null,e[i.name])),a().createElement("div",{className:"filterSelectedItemClose"},a().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{q(1);let l=R[i.name].filter((t=>t!=e)),n={};await O((e=>(n=e,e))),n[i.name]=l,O(n),r((t=>[e,...t]))})(e)},a().createElement(C.Z,{className:"filterSelectedItemCloseIcon"})))))))),a().createElement("div",{className:"displayFlex width100 FilterSearch"},a().createElement("div",{className:"FilterSearchInputDiv"},a().createElement(D.Z,{frmctrlid:"fld300L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:T,placeholder:Ve("Enter ")+" "+Te(i.idpk),onChange:e=>{f(e),Se(i.type,i.fieldidpk,e,1,we())}})),a().createElement("div",{id:"fld300L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ae},a().createElement(s.ZP,{title:"",placement:"top"},a().createElement(m.Z,{className:"ColumnSearchButton"},a().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&a().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},a().createElement(N.Z,{color:"secondary"})),a().createElement("div",{id:"fld300L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>a().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let n={};await O((e=>(n=e,e)));let a=n[i.name];t[i.name]=a?[...l,...a]:l,n={...n,...t},O(n),r((t=>t.filter((t=>t!=e))))})(e)}},a().createElement(u.Z,{className:"DotIcon"}),a().createElement("span",null,e[i.name])))),o.length+0<Y&&o.length>0&&a().createElement("div",{id:"fld300L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{q(U+1),Se(i.type,i.fieldidpk,"",U+1)}},a().createElement("p",null," more... ")),0===o.length&&a().createElement("div",null,a().createElement("div",{className:"NoDataImage"},a().createElement("img",{src:I.v.NoData,alt:"NoImage"})),a().createElement("div",{className:"NoDataDesc"},a().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):a().createElement("div",null,a().createElement("div",{className:"columnHeader displayFlex"},a().createElement("div",{className:"columnHeaderTitle"},a().createElement(g.Ol$,{className:"columnHeaderIcon"}),a().createElement("p",{className:"columnHeaderp"}," ",Ve("Filter")," ",ie.length>0&&`(${ie})`)),a().createElement("div",{className:"columnHeaderbtn",align:"right"},a().createElement(s.ZP,{title:"Favorite List",placement:"top"},oe?a().createElement(C.Z,{className:"favlisticon",onClick:()=>{re(!1),fe()}}):a().createElement(S.Z,{className:"favlisticon",onClick:()=>{re(!0),ke("select"),fe()}})),Object.keys(R).length>0&&a().createElement(s.ZP,{title:"Save Favorites",placement:"top"},a().createElement(b.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),a().createElement(s.ZP,{title:"",placement:"top"},a().createElement(m.Z,{className:"ColumnApplyButton",onClick:()=>{fe()},id:"fld300L1TFCColumApplyBttn"},a().createElement("span",{className:"ColumnApplyTitle"},Ve("Clear")))),a().createElement(s.ZP,{title:"",placement:"top"},a().createElement(m.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld300L1TFCColumnCloseButton"},a().createElement("span",{className:"ColumnCloseTitle"},Ve("Close")))))),a().createElement("div",{className:"height65"},a().createElement("div",{id:"fld300L1TFCFilItems",className:"FilterItems"},!Ie&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return a().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),f(""),r([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"CCMEstVendorIDPK";V({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterCCMEstVendorID",fieldidpk:t}),Se(e.IsForeign?"Filter"+e.FieldName:"FilterCCMEstVendorID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?a().createElement(a().Fragment,null,Te(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&a().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?a().createElement(a().Fragment,null,a().createElement("span",null,Te(e.AdminUserGridViewIDPK)),a().createElement(v.Z,{checked:"1"==ne,onChange:t=>{ae(t.target.checked),Pe("","",e.FieldName,"",t.target.checked)}})):a().createElement(a().Fragment,null,a().createElement("span",null,Te(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,R[l]?.length>0&&a().createElement("div",{className:"FilterItemDivSelected"},a().createElement("span",{className:"RoundedDivName"},R[l][0][l]),R[l].length>1&&a().createElement("span",{className:"RoundedDivName"},R[l][1][l]),R[l].length>2&&a().createElement("span",{className:"RoundedDivNumber"},"+"+(R[l].length-2))))));var l})),Ie&&Ie.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return a().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Se("FilterCCMEstVendorID",l),Ae("",l)}},a().createElement(a().Fragment,null,e.TableFilterFavName))}))))))}));var O=l(54180),_=l(43031),z=l(85639),W=l(110),H=l(5109),G=l(88995),j=l(50743),U=l(61657),q=l(51209),Y=l(53854),$=l(5434),J=l(83817),Q=l(39327),X=l(3212),ee=l(93521),te=(l(79117),l(71168)),le=l.n(te),ne=l(65107),ae=l(94986),oe=l(15999);l(11557),window.clickFilter="";const re=(0,n.forwardRef)(((e,t)=>{const l=(0,n.useRef)(null),m=(0,n.useRef)(null),[u]=((0,n.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,n.useState)(localStorage.getItem("userid"))),[p]=(0,n.useState)("300"),[c,E]=(0,n.useState)(!1),[N,v]=(0,n.useState)(!1),[V,T]=(0,n.useState)(0),[f,S]=(0,n.useState)(0),[b,h]=(0,n.useState)(0),[x,A]=(0,n.useState)(0),[w,P]=(0,n.useState)({current:1,pageSize:100}),[F,k]=(0,n.useState)(""),[B,Z]=(0,n.useState)([]),[L,K]=(0,n.useState)({val:"",column:""}),[te,re]=(0,n.useState)([]),[ie,de]=(0,n.useState)(!1),[Ce,me]=(0,n.useState)(""),[se,ue]=(0,n.useState)(""),[pe,ce]=(0,n.useState)(!1),[Ie,Ee]=(0,n.useState)([]),[De,Me]=(0,n.useState)([]),[ge,ye]=(0,n.useState)([]),[Ne,ve]=(0,n.useState)({children:[{name:"CCMEstimationVendorInvoiceDetails",children:[]}]}),[Ve,Te]=(0,n.useState)(!1),fe=(0,n.useContext)(e.context?e.context:ke),{cstate:Se,cdispatch:be}=e.ContextApi?e.ContextApi:Be();let he={CCMEstVendorIDPK:"",CCMEstVendorCode:"",Code:"",Narration:"",CCMVendorInvNo:"",CCMVendorRefNo:"",CCMEstVendorAmount:"",CCMActVendorAmount:"",CCMVendorInvDate:"",CCMVendorInvDateType:"",CCMVendorInvDateBetween:"",CCMVendorDectAmount:"",CCMVendorDectKey:"",CCMEstTaxValue:"",CCMEstTotalAmount:"",CCMEstTaxAmount:"",CCMEstgrandTotal:"",CCMEstEstimateSubTotal:"",IsActual:"",IsDefault:"",IsDraft:"",Remarks:"",TaxID:"",ComplaintID:"",MatVendorID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",TaxCode:"",TaxName:"",TaxValue:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",PriorityID:"",PriorityCode:"",PriorityName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",ComplainerID:"",ComplainerCode:"",ComplainerName:"",ComplaintNatureID:"",ComplaintNatureCode:"",ComplaintNatureName:"",CCMComplaintModeID:"",CCMComplaintModeCode:"",CCMComplaintModeName:"",ServiceTypeID:"",ServiceTypCode:"",ServiceTypeName:"",ComplaintHeaderID:"",ComplaintHeaderCode:"",ComplaintHeaderName:"",CCMComplaintModeIndexID:"",CCMComplaintModeIndexCode:"",CCMComplaintModeIndexName:"",CCMWoTypeID:"",CCMWoTypeCode:"",CCMWoTypeName:"",CCMComplaintTypeID:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",CCMStageID:"",CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",IncidentID:"",IncidentCode:"",IncidentName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",PPMCreationAssetID:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",SubComponentID:"",SubComponentName:"",ComplaintNo:"",CMResonForPending:"",CCMMobNo:"",ClientWoNo:"",CCMDescription:"",MatVendorTypeID:"",MatVendorTypeCode:"",VendorTypeName:"",CityID:"",CityCode:"",CityName:"",StateID:"",StateCode:"",StateName:"",CountryID:"",CountryCode:"",CountryName:"",MatVendorCode:"",VendorName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[xe,Ae]=(0,n.useState)(he),[we,Pe]=(0,n.useState)(he),[Fe,Ze]=(0,n.useState)(!1),[Le,Ke]=(0,n.useState)(!0),[Re,Oe]=(0,n.useState)(!1),[_e,ze]=(0,n.useState)(!0),[We,He]=(0,n.useState)({CCMEstTaxAmount:"",CCMEstgrandTotal:"",CCMEstEstimateSubTotal:"",Code:"",Narration:"",VendorName:"",CCMVendorInvNo:"",CCMVendorInvDate:"",CCMVendorRefNo:"",CCMEstVendorAmount:"",TaxName:"",CCMEstTaxValue:"",CCMEstTotalAmount:"",CCMActVendorAmount:"",CCMEstVendorCode:"",IsActual:"",ComplaintNo:"",CCMVendorDectAmount:"",CCMVendorDectKey:""}),[Ge,je]=(0,n.useState)(!1),[Ue,qe]=(0,n.useState)([]),[Ye,$e]=(0,n.useState)(0),[Je,Qe]=(0,n.useState)(0),[Xe,et]=(0,n.useState)({current:1,pageSize:10}),[tt,lt]=(0,n.useState)([]),[nt,at]=(0,n.useState)([]),[ot,rt]=(0,n.useState)(!1),[it,dt]=(0,n.useState)(!1),[Ct,mt]=(0,n.useState)(!1),[st,ut]=(0,n.useState)(""),[pt,ct]=le()("300"),[It,Et]=(0,n.useState)({}),Dt=[{columns:tt,data:F}];let Mt=(0,M.Z)();const gt=e=>Mt[e]?Mt[e]:e,yt=e=>Se.language?.[e]?Se.language[e]:e;(0,n.useEffect)((()=>{bt(pt)}),[pt]),(0,n.useEffect)((()=>{Se.token.length>0&&(e.parentId?ft(w,he,"CCMEstVendorID"):re([]))}),[e.parentId]),(0,n.useEffect)((()=>{!Ve&&e.parentId?ft(w,Ce,"CCMEstVendorID"):Ve&&Pe(Ce)}),[Ce]),(0,n.useImperativeHandle)(t,(()=>({searchItem:e=>{Nt(e)},tableRefresh:()=>{ft(w,he,"CCMEstVendorID"),fe.cardRefresh()},DialogTableProps:e=>{v(e)},HideEntryFields:e=>{mt(!0===e)}})));const Nt=e=>{""==e?ft(w,he,Fe?"DraftCCMEstVendorID":"CCMEstVendorID",Fe&&"DraftPage"):St(e,{current:1,pageSize:100}),ue(e)};function vt(t){fe.loading(!0);let l=I.v.Api+"FP300S7/",n={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,n,Se.token[0]).then((e=>{if(200==e.Output.status.code){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,Qe(e.Output.data[0].TotalCount)):l=0,10==t.pageSize?$e(Math.ceil(l)):20==t.pageSize?$e(Math.ceil(l/2)):50==t.pageSize?$e(Math.ceil(l/5)):100==t.pageSize&&$e(Math.ceil(l/10)),qe(e.Output.data),fe.loading(!1)}}))}function Vt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),fe.Expanded(!0),Re&&ce(!1)}(0,n.useEffect)((()=>{!1===e.cardview&&ze(e.cardview),e.Dialogview&&(v(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,n.useEffect)((()=>{e.searchsafaritext&&St(e.searchsafaritext,{current:w.current,pageSize:w.pageSize})}),[e.searchsafaritext]);const Tt=()=>{fe.EditClose(!0),ie?(document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("CCMEstimationVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),_e?(N||(document.getElementById("CCMEstimationVendorInvoiceDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMEstimationVendorInvoiceDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("CCMEstimationVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ce(!1),window.clickFilter=!ie},ft=(t,l,n,a,o,r)=>{fe.loading(!0),"DraftPage"!==a&&Ze(Se.IsDraft);let i=I.v.Api+"FP300S3/",C={data:{p1:o||(l&&l.CCMEstVendorIDPK?l.CCMEstVendorIDPK:null),p2:l&&l.CCMEstVendorCode?l.CCMEstVendorCode:null,p3:l&&l.Code?l.Code:null,p4:l&&l.Narration?l.Narration:null,p5:l&&l.CCMVendorInvNo?l.CCMVendorInvNo:null,p6:l&&l.CCMVendorRefNo?l.CCMVendorRefNo:null,p7:l&&l.CCMEstVendorAmount?l.CCMEstVendorAmount:null,p8:l&&l.CCMActVendorAmount?l.CCMActVendorAmount:null,p9:l&&l.CCMVendorInvDate?l.CCMVendorInvDate:null,p10:l&&l.CCMVendorInvDateType?l.CCMVendorInvDateType:null,p11:l&&l.CCMVendorInvDateBetween?l.CCMVendorInvDateBetween:null,p12:l&&l.CCMVendorDectAmount?l.CCMVendorDectAmount:null,p13:l&&l.CCMVendorDectKey?l.CCMVendorDectKey:null,p14:l&&l.CCMEstTaxValue?l.CCMEstTaxValue:null,p15:l&&l.CCMEstTotalAmount?l.CCMEstTotalAmount:null,p16:l&&l.CCMEstTaxAmount?l.CCMEstTaxAmount:null,p17:l&&l.CCMEstgrandTotal?l.CCMEstgrandTotal:null,p18:l&&l.CCMEstEstimateSubTotal?l.CCMEstEstimateSubTotal:null,p19:null,p20:null,p21:"DraftCCMEstVendorID"==n?"1":"0",p22:null,p23:l&&l.TaxID?l.TaxID:null,p24:e.parentId?Number(e.parentId):0,p25:l&&l.MatVendorID?l.MatVendorID:null,p26:l&&l.IsActive,p27:null,p28:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p29:l&&l.CreatedTtm?l.CreatedTtm:null,p30:l&&l.CreatedTtmType?l.CreatedTtmType:null,p31:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p32:null,p33:l&&l.TaxCode?l.TaxCode:null,p34:l&&l.TaxName?l.TaxName:null,p35:l&&l.TaxValue?l.TaxValue:null,p36:l&&l.ContractID?l.ContractID:null,p37:l&&l.ContractCode?l.ContractCode:null,p38:l&&l.ContractName?l.ContractName:null,p39:l&&l.LocalityID?l.LocalityID:null,p40:l&&l.LocalityCode?l.LocalityCode:null,p41:l&&l.LocalityName?l.LocalityName:null,p42:l&&l.BuildingID?l.BuildingID:null,p43:l&&l.BuildingCode?l.BuildingCode:null,p44:l&&l.BuildingName?l.BuildingName:null,p45:l&&l.FloorID?l.FloorID:null,p46:l&&l.FloorCode?l.FloorCode:null,p47:l&&l.FloorName?l.FloorName:null,p48:l&&l.SpotID?l.SpotID:null,p49:l&&l.SpotCode?l.SpotCode:null,p50:l&&l.SpotName?l.SpotName:null,p51:l&&l.PriorityID?l.PriorityID:null,p52:l&&l.PriorityCode?l.PriorityCode:null,p53:l&&l.PriorityName?l.PriorityName:null,p54:l&&l.DivisionID?l.DivisionID:null,p55:l&&l.DivisionCode?l.DivisionCode:null,p56:l&&l.DivisionName?l.DivisionName:null,p57:l&&l.DisciplineID?l.DisciplineID:null,p58:l&&l.DisciplineCode?l.DisciplineCode:null,p59:l&&l.DisciplineName?l.DisciplineName:null,p60:l&&l.ComplainerID?l.ComplainerID:null,p61:l&&l.ComplainerCode?l.ComplainerCode:null,p62:l&&l.ComplainerName?l.ComplainerName:null,p63:l&&l.ComplaintNatureID?l.ComplaintNatureID:null,p64:l&&l.ComplaintNatureCode?l.ComplaintNatureCode:null,p65:l&&l.ComplaintNatureName?l.ComplaintNatureName:null,p66:l&&l.CCMComplaintModeID?l.CCMComplaintModeID:null,p67:l&&l.CCMComplaintModeCode?l.CCMComplaintModeCode:null,p68:l&&l.CCMComplaintModeName?l.CCMComplaintModeName:null,p69:l&&l.ServiceTypeID?l.ServiceTypeID:null,p70:l&&l.ServiceTypCode?l.ServiceTypCode:null,p71:l&&l.ServiceTypeName?l.ServiceTypeName:null,p72:l&&l.ComplaintHeaderID?l.ComplaintHeaderID:null,p73:l&&l.ComplaintHeaderCode?l.ComplaintHeaderCode:null,p74:l&&l.ComplaintHeaderName?l.ComplaintHeaderName:null,p75:l&&l.CCMComplaintModeIndexID?l.CCMComplaintModeIndexID:null,p76:l&&l.CCMComplaintModeIndexCode?l.CCMComplaintModeIndexCode:null,p77:l&&l.CCMComplaintModeIndexName?l.CCMComplaintModeIndexName:null,p78:l&&l.CCMWoTypeID?l.CCMWoTypeID:null,p79:l&&l.CCMWoTypeCode?l.CCMWoTypeCode:null,p80:l&&l.CCMWoTypeName?l.CCMWoTypeName:null,p81:l&&l.CCMComplaintTypeID?l.CCMComplaintTypeID:null,p82:l&&l.CCMComplaintTypeCode?l.CCMComplaintTypeCode:null,p83:l&&l.CCMComplaintTypeName?l.CCMComplaintTypeName:null,p84:l&&l.CCMStageID?l.CCMStageID:null,p85:l&&l.CCMStageICode?l.CCMStageICode:null,p86:l&&l.CCMStageIName?l.CCMStageIName:null,p87:l&&l.StageSeqNo?l.StageSeqNo:null,p88:l&&l.IncidentID?l.IncidentID:null,p89:l&&l.IncidentCode?l.IncidentCode:null,p90:l&&l.IncidentName?l.IncidentName:null,p91:l&&l.AssetID?l.AssetID:null,p92:l&&l.EquipmentName?l.EquipmentName:null,p93:l&&l.EquipmentRefNo?l.EquipmentRefNo:null,p94:l&&l.AssetBarcode?l.AssetBarcode:null,p95:l&&l.AssetTagNo?l.AssetTagNo:null,p96:l&&l.PPMCreationAssetID?l.PPMCreationAssetID:null,p97:l&&l.WorkOrder?l.WorkOrder:null,p98:l&&l.WoDateTime?l.WoDateTime:null,p99:l&&l.WoDateTimeType?l.WoDateTimeType:null,p100:l&&l.WoDateTimeBetween?l.WoDateTimeBetween:null,p101:l&&l.SubComponentID?l.SubComponentID:null,p102:l&&l.SubComponentName?l.SubComponentName:null,p103:l&&l.ComplaintNo?l.ComplaintNo:null,p104:l&&l.CMResonForPending?l.CMResonForPending:null,p105:l&&l.CCMMobNo?l.CCMMobNo:null,p106:l&&l.ClientWoNo?l.ClientWoNo:null,p107:l&&l.CCMDescription?l.CCMDescription:null,p108:l&&l.MatVendorTypeID?l.MatVendorTypeID:null,p109:l&&l.MatVendorTypeCode?l.MatVendorTypeCode:null,p110:l&&l.VendorTypeName?l.VendorTypeName:null,p111:l&&l.CityID?l.CityID:null,p112:l&&l.CityCode?l.CityCode:null,p113:l&&l.CityName?l.CityName:null,p114:l&&l.StateID?l.StateID:null,p115:l&&l.StateCode?l.StateCode:null,p116:l&&l.StateName?l.StateName:null,p117:l&&l.CountryID?l.CountryID:null,p118:l&&l.CountryCode?l.CountryCode:null,p119:l&&l.CountryName?l.CountryName:null,p120:l&&l.MatVendorCode?l.MatVendorCode:null,p121:l&&l.VendorName?l.VendorName:null,p122:o?1:t.current,p123:t.pageSize,p124:n,p125:null,p126:null,p127:localStorage.getItem("UserGroupID"),p128:localStorage.getItem("userid")}};(0,d.Z)(i,C,Se.token[0]).then((l=>{if(o)(0,J.a)(l,be,a,r,fe);else if("200"==l.Output.status.code)if(l.Output.data.length>0){if(l.Output.data){let e=0;l.Output.data.length>0?(e=parseFloat(l.Output.data[0].TotalCount,10)/10,h(l.Output.data[0].TotalCount),A(l.Output.data[0].DraftCnt),be({type:"count",payload:l.Output.data[0].TotalCount}),"DraftPage"==a&&A(l.Output.data[0].TotalCount)):e=0,10==t.pageSize?S(Math.ceil(e)):20==t.pageSize?S(Math.ceil(e/2)):50==t.pageSize?S(Math.ceil(e/5)):100==t.pageSize&&S(Math.ceil(e/10)),re(l.Output.data),fe.loading(!1)}e.Dialogview||(document.getElementById("divCCMEstimationVendorInvoiceDetails-Entry").style.height="auto",document.getElementById("divCCMEstimationVendorInvoiceDetails-Entry").style.display="block")}else fe.loading(!1),"DraftCCMEstVendorID"===n?(fe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ce(!0),Ze(!1)):(re([]),P({current:1,pageSize:10}),S(0),h(0),be({type:"count",payload:"0"}));else fe.alert({open:!0,color:"warning",message:[l.Output.status.message]}),fe.loading(!1)}))};function St(t,l){fe.loading(!0);const n=I.v.Api+"FP300S4/",a={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:l.current,p5:l.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(n,a,Se.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,h(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==l.pageSize?S(Math.ceil(t)):20==l.pageSize?S(Math.ceil(t/2)):50==l.pageSize?S(Math.ceil(t/5)):100==l.pageSize&&S(Math.ceil(t/10)),re(e.Output.data),fe.loading(!1)}else re([]),S(0),h(0),be({type:"count",payload:"0"}),fe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),fe.loading(!1);else fe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),fe.loading(!1)}))}function bt(e){let t=[],l=[],n=[],a=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),n.push(e.FieldDescription)));let o=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...a)}),He(l.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),Me(t),ye(l),lt(n),at(l)}const ht=()=>Ve?null:a().createElement("div",null,Ge?a().createElement(ae.Z,{data:Ue,expanded:e=>!N&&fe.Expanded(e),edit:(e,t,l)=>{N?fe.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:l}))}}):a().createElement(ne.Z,{ref:m,frmctrlid:"tblcs_300_L1_",id:"CCMEstimationVendorInvoiceDetailsTable",headerdata:De,tablesearchparams:We,searchvalue:e=>{He(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Et(t),P({current:1,pageSize:10}),ft({current:1,pageSize:10},t,Fe?"DraftCCMEstVendorID":"CCMEstVendorID",Fe&&"DraftPage")},bodydata:te,ondrag:Vt,bodyitem:ge,visibleitem:De,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:p,showMore:!1,accessrights:Se.AccessRights,expanded:e=>!N&&fe.Expanded(e),edit:(e,t,l)=>{N?fe.select(e):(Object.keys(e).map(((n,a)=>{n.includes("IDPK")&&ft(w,null,t?"DraftCCMEstVendorID":"CCMEstVendorID",t&&"DraftPage",e[n],l)})),fe.hideAddBtn(!0))},viewtoggle:fe.viewtoggle,isexpanded:!N||Re,tf:yt,action:N?"none":"",ViewComp:(e,t)=>{}}));return(0,n.useEffect)((()=>{Oe(Se.ExpandTableValue)}),[Se.ExpandTableValue]),a().createElement("div",null,!Ct&&!e.tableview&&a().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},a().createElement("div",{id:"fld300L1ECSearchBar",className:"searchbar1"},a().createElement(D.Z,{frmctrlid:"fld300L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:gt("Search"),value:se,onChange:e=>{ue(e),fe.searchItem(e)},style:{width:"300px"}}),a().createElement("div",{className:"search_icon"},se?a().createElement("div",{id:"fld300L1TCCloseIconCommonSearch",onClick:()=>{ue(""),fe.searchItem("")}},a().createElement(C.Z,{className:"InputSearchIcon"})):a().createElement("div",{id:"fld300L1TCInputSearchIcon"},a().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("CCMEstimationVendorInvoiceDetailsgridsearch").focus()}})))),a().createElement("div",null,Se.AccessRights.IsAdd?a().createElement(X.Z,{className:"SaveBtnCommon flotright",frmctrlid:"fld300L1TCAddBtnIsAdd",onClick:()=>{fe.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),a().createElement(r.Z,{expanded:Le,onChange:()=>()=>{Ke(Re)}},e.Dialogview&&a().createElement(j.Z,null,a().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},!1===e.cardview?null:a().createElement("div",{className:"displayFlex EntryHeaderBtn"},a().createElement("div",{id:"fld300L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},a().createElement(D.Z,{frmctrlid:"fld300L1TCInputSearch",className:"search_input",type:"text",placeholder:gt("Search"),value:se,onChange:e=>{Nt(e)}}),a().createElement("div",{className:"search_icon"},se?a().createElement("div",{id:"fld300L1TCInputCloseIcon",onClick:()=>{Nt("")}},a().createElement(C.Z,{className:"InputSearchIcon"})):a().createElement("div",{id:"fld300L1TCInputSearchIcon"},a().createElement(G.Z,{className:"InputSearchIcon"}))))))),a().createElement(i.Z,{className:"AccDetails"},a().createElement("div",{className:"tableCardL1 clsRelative",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:a().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&a().createElement("div",{frmctrlid:"fld300L1TCFilterDataIsDraft",id:"CCMEstimationVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Tt()}},a().createElement(s.ZP,{title:gt("Filter Data"),placement:"top"},a().createElement("span",null,a().createElement(g.Ol$,{className:"tableFilterColumnIcon"}))),a().createElement("span",{className:"displayNone"},gt("Filter Data"))),!N&&!Fe&&!Ve&&a().createElement(O.Z,{formctrlidprint:"fld300L1TCExportPrint",formctrlidexport:"fld300L1TCExportTable",formctrlidrefresh:"fld300L1TCExportRefresh",title:yt("300"),data:B,exportData:Dt,Items:nt,columnIndex:tt,TableVisibleItem:De,userGridViewFormID:p,TableTotalCount:b,triggerApi:t=>{((t,n,a,o,r)=>{if(0===b)return fe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;fe.loading(!0);let i=I.v.Api+"FP300S3/",C={data:{p1:t&&t.CCMEstVendorIDPK?t.CCMEstVendorIDPK:null,p2:t&&t.CCMEstVendorCode?t.CCMEstVendorCode:null,p3:t&&t.Code?t.Code:null,p4:t&&t.Narration?t.Narration:null,p5:t&&t.CCMVendorInvNo?t.CCMVendorInvNo:null,p6:t&&t.CCMVendorRefNo?t.CCMVendorRefNo:null,p7:t&&t.CCMEstVendorAmount?t.CCMEstVendorAmount:null,p8:t&&t.CCMActVendorAmount?t.CCMActVendorAmount:null,p9:t&&t.CCMVendorInvDate?t.CCMVendorInvDate:null,p10:t&&t.CCMVendorInvDateType?t.CCMVendorInvDateType:null,p11:t&&t.CCMVendorInvDateBetween?t.CCMVendorInvDateBetween:null,p12:t&&t.CCMVendorDectAmount?t.CCMVendorDectAmount:null,p13:t&&t.CCMVendorDectKey?t.CCMVendorDectKey:null,p14:t&&t.CCMEstTaxValue?t.CCMEstTaxValue:null,p15:t&&t.CCMEstTotalAmount?t.CCMEstTotalAmount:null,p16:t&&t.CCMEstTaxAmount?t.CCMEstTaxAmount:null,p17:t&&t.CCMEstgrandTotal?t.CCMEstgrandTotal:null,p18:t&&t.CCMEstEstimateSubTotal?t.CCMEstEstimateSubTotal:null,p19:null,p20:null,p21:Fe?"1":"0",p22:null,p23:t&&t.TaxID?t.TaxID:null,p24:e.parentId?Number(e.parentId):0,p25:t&&t.MatVendorID?t.MatVendorID:null,p26:t&&t.IsActive,p27:null,p28:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p29:t&&t.CreatedTtm?t.CreatedTtm:null,p30:t&&t.CreatedTtmType?t.CreatedTtmType:null,p31:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p32:null,p33:t&&t.TaxCode?t.TaxCode:null,p34:t&&t.TaxName?t.TaxName:null,p35:t&&t.TaxValue?t.TaxValue:null,p36:t&&t.ContractID?t.ContractID:null,p37:t&&t.ContractCode?t.ContractCode:null,p38:t&&t.ContractName?t.ContractName:null,p39:t&&t.LocalityID?t.LocalityID:null,p40:t&&t.LocalityCode?t.LocalityCode:null,p41:t&&t.LocalityName?t.LocalityName:null,p42:t&&t.BuildingID?t.BuildingID:null,p43:t&&t.BuildingCode?t.BuildingCode:null,p44:t&&t.BuildingName?t.BuildingName:null,p45:t&&t.FloorID?t.FloorID:null,p46:t&&t.FloorCode?t.FloorCode:null,p47:t&&t.FloorName?t.FloorName:null,p48:t&&t.SpotID?t.SpotID:null,p49:t&&t.SpotCode?t.SpotCode:null,p50:t&&t.SpotName?t.SpotName:null,p51:t&&t.PriorityID?t.PriorityID:null,p52:t&&t.PriorityCode?t.PriorityCode:null,p53:t&&t.PriorityName?t.PriorityName:null,p54:t&&t.DivisionID?t.DivisionID:null,p55:t&&t.DivisionCode?t.DivisionCode:null,p56:t&&t.DivisionName?t.DivisionName:null,p57:t&&t.DisciplineID?t.DisciplineID:null,p58:t&&t.DisciplineCode?t.DisciplineCode:null,p59:t&&t.DisciplineName?t.DisciplineName:null,p60:t&&t.ComplainerID?t.ComplainerID:null,p61:t&&t.ComplainerCode?t.ComplainerCode:null,p62:t&&t.ComplainerName?t.ComplainerName:null,p63:t&&t.ComplaintNatureID?t.ComplaintNatureID:null,p64:t&&t.ComplaintNatureCode?t.ComplaintNatureCode:null,p65:t&&t.ComplaintNatureName?t.ComplaintNatureName:null,p66:t&&t.CCMComplaintModeID?t.CCMComplaintModeID:null,p67:t&&t.CCMComplaintModeCode?t.CCMComplaintModeCode:null,p68:t&&t.CCMComplaintModeName?t.CCMComplaintModeName:null,p69:t&&t.ServiceTypeID?t.ServiceTypeID:null,p70:t&&t.ServiceTypCode?t.ServiceTypCode:null,p71:t&&t.ServiceTypeName?t.ServiceTypeName:null,p72:t&&t.ComplaintHeaderID?t.ComplaintHeaderID:null,p73:t&&t.ComplaintHeaderCode?t.ComplaintHeaderCode:null,p74:t&&t.ComplaintHeaderName?t.ComplaintHeaderName:null,p75:t&&t.CCMComplaintModeIndexID?t.CCMComplaintModeIndexID:null,p76:t&&t.CCMComplaintModeIndexCode?t.CCMComplaintModeIndexCode:null,p77:t&&t.CCMComplaintModeIndexName?t.CCMComplaintModeIndexName:null,p78:t&&t.CCMWoTypeID?t.CCMWoTypeID:null,p79:t&&t.CCMWoTypeCode?t.CCMWoTypeCode:null,p80:t&&t.CCMWoTypeName?t.CCMWoTypeName:null,p81:t&&t.CCMComplaintTypeID?t.CCMComplaintTypeID:null,p82:t&&t.CCMComplaintTypeCode?t.CCMComplaintTypeCode:null,p83:t&&t.CCMComplaintTypeName?t.CCMComplaintTypeName:null,p84:t&&t.CCMStageID?t.CCMStageID:null,p85:t&&t.CCMStageICode?t.CCMStageICode:null,p86:t&&t.CCMStageIName?t.CCMStageIName:null,p87:t&&t.StageSeqNo?t.StageSeqNo:null,p88:t&&t.IncidentID?t.IncidentID:null,p89:t&&t.IncidentCode?t.IncidentCode:null,p90:t&&t.IncidentName?t.IncidentName:null,p91:t&&t.AssetID?t.AssetID:null,p92:t&&t.EquipmentName?t.EquipmentName:null,p93:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p94:t&&t.AssetBarcode?t.AssetBarcode:null,p95:t&&t.AssetTagNo?t.AssetTagNo:null,p96:t&&t.PPMCreationAssetID?t.PPMCreationAssetID:null,p97:t&&t.WorkOrder?t.WorkOrder:null,p98:t&&t.WoDateTime?t.WoDateTime:null,p99:t&&t.WoDateTimeType?t.WoDateTimeType:null,p100:t&&t.WoDateTimeBetween?t.WoDateTimeBetween:null,p101:t&&t.SubComponentID?t.SubComponentID:null,p102:t&&t.SubComponentName?t.SubComponentName:null,p103:t&&t.ComplaintNo?t.ComplaintNo:null,p104:t&&t.CMResonForPending?t.CMResonForPending:null,p105:t&&t.CCMMobNo?t.CCMMobNo:null,p106:t&&t.ClientWoNo?t.ClientWoNo:null,p107:t&&t.CCMDescription?t.CCMDescription:null,p108:t&&t.MatVendorTypeID?t.MatVendorTypeID:null,p109:t&&t.MatVendorTypeCode?t.MatVendorTypeCode:null,p110:t&&t.VendorTypeName?t.VendorTypeName:null,p111:t&&t.CityID?t.CityID:null,p112:t&&t.CityCode?t.CityCode:null,p113:t&&t.CityName?t.CityName:null,p114:t&&t.StateID?t.StateID:null,p115:t&&t.StateCode?t.StateCode:null,p116:t&&t.StateName?t.StateName:null,p117:t&&t.CountryID?t.CountryID:null,p118:t&&t.CountryCode?t.CountryCode:null,p119:t&&t.CountryName?t.CountryName:null,p120:t&&t.MatVendorCode?t.MatVendorCode:null,p121:t&&t.VendorName?t.VendorName:null,p122:w.current,p123:b,p124:Fe?"DraftCCMEstVendorID":"CCMEstVendorID",p125:null,p126:null,p127:localStorage.getItem("UserGroupID"),p128:localStorage.getItem("userid")}};fe.loading(!1),fe.alert({open:!0,color:"success",message:[`${yt(300)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(i,C,Se.token[0],r).then((e=>{(0,ee.PDF_Excel_Generate)(e,fe,nt,k,l,r)}))})(Ce,L.column,0,0,t)},Refresh:()=>{ue(""),P({current:1,pageSize:100}),m.current.clearItem(),Se.IsDraft?ft({current:1,pageSize:100},he,"DraftCCMEstVendorID"):ft({current:1,pageSize:100},he,"CCMEstVendorID")},disabledPrint:!Se.AccessRights.IsPrint,disabledExport:!Se.AccessRights.IsExport,ref:l,iconinfo:"displayNone"}),!Fe&&!Ve&&!N&&a().createElement("div",{className:"buttoncard",onClick:()=>dt(!it)},a().createElement("span",null,it?a().createElement(s.ZP,{disableFocusListener:!0,title:gt("Less"),placement:"top"},a().createElement("span",{id:"fld300L1TCLess"},a().createElement(Y.ldB,{className:"tableFilterColumnIcon"}))):a().createElement(s.ZP,{disableFocusListener:!0,title:gt("More"),placement:"top"},a().createElement("span",{id:"fld300L1TCMore"},a().createElement(Y.ilJ,{className:"tableFilterColumnIcon"}))))),it?a().createElement("div",{className:"EntryHeaderMore"},a().createElement("div",{style:{display:"flex"}},Ve||!Re?null:N||!Se.AccessRights.IsAdd||Fe?"":a().createElement("div",null,a().createElement("div",{frmctrlid:"fld300L1TCFilterDataIsAdd",id:"CCMEstimationVendorInvoiceDetailscoldiv",className:"buttoncard",onClick:()=>{fe.EditClose(!0),pe?(document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv").style.width="0%",document.getElementById("CCMEstimationVendorInvoiceDetailsTabDiv").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv").style.display="none",document.getElementById("CCMEstimationVendorInvoiceDetailscoldiv").style.width="fit-content",document.getElementById("CCMEstimationVendorInvoiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ce(!1)):(document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv").style.width="25%",document.getElementById("CCMEstimationVendorInvoiceDetailsTabDiv").style.width="75%",document.getElementById("CCMEstimationVendorInvoiceDetailsFilterDiv").style.display="block",document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv").style.width="fit-content",document.getElementById("CCMEstimationVendorInvoiceDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMEstimationVendorInvoiceDetailscoldiv").style.width="fit-content",document.getElementById("CCMEstimationVendorInvoiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ce(!0)),de(!1)}},a().createElement(s.ZP,{title:gt("Manage Columns"),placement:"top"},a().createElement("div",null,a().createElement(Q.gYA,{className:"tableFilterColumnIcon"}))),a().createElement("span",{className:"displayNone"},gt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!N&&Re&&!Ve&&!Fe&&a().createElement("div",null,a().createElement("div",{id:"CCMEstimationVendorInvoiceDetailscoldiv",className:"buttoncard",onClick:()=>{Ge?je(!1):(je(!0),vt({current:1,pageSize:100}))}},a().createElement(s.ZP,{title:gt("TableScrollData"),placement:"top"},a().createElement("div",{id:"fld300L1TCTableScrollData"},a().createElement(oe.Z,{className:"tableFilterColumnIcon"}))),a().createElement("span",{className:"displayNone"},gt("Table Scroll Data")))))):""),!Fe&&!N&&a().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ve||Fe?null:a().createElement("div",null,a().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},a().createElement("div",{className:"b2",id:"button-11"},a().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld300L1TCListView",onClick:()=>{ze(!0),rt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement(Y.umT,null)),a().createElement("span",null,gt("List"))),a().createElement("div",{className:_e||ot?"buttonGrid":"buttonList",id:"fld300L1TCCardView",onClick:()=>{ze(!1),rt(!1)}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement(y.aCJ,null)),a().createElement("span",null,gt("Card"))),a().createElement("div",{className:ot?"buttonList":"buttonGrid",id:"fld300L1TCTileView",onClick:()=>{rt(!0),ze(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement($.f_H,null)),a().createElement("span",null,gt("Tile"))))))),Ve?null:Ge?e.IsCollapse?a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(U.Z,{style:{color:"#777"},id:"fld300L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:V,onPageChange:(e,t)=>{T(t),vt({current:t+1,pageSize:Xe.pageSize}),et({current:t+1,pageSize:Xe.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(_.Z,{count:Ye,color:"primary",page:Xe.current,onChange:(e,t)=>{et({current:t,pageSize:Xe.pageSize}),$e(t),vt({current:t,pageSize:Xe.pageSize})}}),a().createElement("div",null,a().createElement(W.Z,{className:"BootstrapInputStyle",value:Xe.pageSize,frmctrlid:"fld300L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},a().createElement(z.Z,{value:10},"10"),a().createElement(z.Z,{value:20},"20"),a().createElement(z.Z,{value:50},"50"),a().createElement(z.Z,{value:100},"100"))),Re&&a().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",Je,")")):e.IsCollapse?a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(U.Z,{style:{color:"#777"},id:"fld300L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(b),page:V,onPageChange:(e,t)=>{T(t),ft({current:t+1,pageSize:w.pageSize},he,Fe?"DraftCCMEstVendorID":"CCMEstVendorID",Fe&&"DraftPage"),P({current:t+1,pageSize:w.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(_.Z,{count:f,siblingCount:0,color:"primary",page:w.current,onChange:(e,t)=>{if(P({current:t,pageSize:w.pageSize}),Fe)ft({current:t,pageSize:w.pageSize},xe,"DraftCCMEstVendorID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";se.length>0?St(se,{current:t,pageSize:w.pageSize}):ft({current:t,pageSize:w.pageSize},xe,"CCMEstVendorID")}}}),a().createElement("div",null,a().createElement(W.Z,{className:"BootstrapInputStyle",value:w.pageSize,id:"fld300L1TCSelectPaging",onChange:e=>{P({current:1,pageSize:e.target.value}),Fe?ft({current:1,pageSize:e.target.value},xe,"DraftCCMEstVendorID","DraftPage"):se.length>0?St(se,{current:1,pageSize:e.target.value}):ft({current:1,pageSize:e.target.value},xe,"CCMEstVendorID")}},a().createElement(z.Z,{value:10},"10"),a().createElement(z.Z,{value:20},"20"),a().createElement(z.Z,{value:50},"50"),a().createElement(z.Z,{value:100},"100"))),Re&&a().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",b,") "))),a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},a().createElement("div",{id:"CCMEstimationVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ie&&a().createElement(R,{parentId:e.parentId,searchData:e=>{me(e||It),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:p,data:()=>{},visibleData:()=>{},token:Se.token[0],CloseBtnClk:()=>Tt(),userGrid:pt,msg:(e,t)=>fe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&a().createElement(H.Z,{Refresh:e=>{ft({current:1,pageSize:100},he,"CCMEstVendorID")},frmctrlid:"fld300L1TCTableColumnOrder",loading:e=>fe.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>fe.alert({open:!0,color:t,message:[e]}),select:pe,userID:u,userGridViewFormID:p,saved:(e,t)=>{e&&bt(t),ct(t),be({type:"showTableview",payload:t})},Token:Se.token[0]})),a().createElement("div",{id:"CCMEstimationVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?a().createElement(ht,null):a().createElement(q.Z,{frmctrlid:"fld300L1TCExpandedCardDual",data:te,id:"CCMEstimationVendorInvoiceDetails",title:"Code",cardTile:!!ot,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{N?fe.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),fe.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),fe.Expanded(!0),fe.viewtoggle()),ie?de(!0):pe?ce(!0):(ce(!1),ce(!1))),fe.hideAddBtn(!0)}}))),te.length>0&&a().createElement("div",{className:"rcontainerbox"},a().createElement("p",{className:"txtlabtabl"},"Estimation Total Amount :  ",a().createElement("span",{className:"clblack"},te[0].SumEstTotal)," "),a().createElement("p",{className:"txtlabtabl"},"Actual Total Amount :  ",a().createElement("span",{className:"clblack"},te[0].SumActTotal)," "))))))}));var ie=l(37148),de=l(29800),Ce=(l(10966),l(21392),l(26537)),me=l(44528),se=(l(99090),l(1695)),ue=l(61924),pe=l.n(ue),ce=(l(40826),l(55490)),Ie=l(92371);const Ee={EnterKeyValues:{CCMEstimationVendorInvoiceDetails:["CCMEstTaxAmount","CCMEstgrandTotal","CCMEstEstimateSubTotal","Code","Narration","VendorName","CCMVendorInvNo","CCMVendorInvDate","CCMVendorRefNo","CCMEstVendorAmount","TaxName","CCMEstTaxValue","CCMEstTotalAmount","CCMActVendorAmount","CCMEstVendorCode","IsActual","ComplaintNo","CCMVendorDectAmount","CCMVendorDectKey"]},Label:{CCMEstimationVendorInvoiceDetails:{CCMEstTaxAmount:["CCMEstVendorCode","Code"],CCMEstgrandTotal:["CCMEstVendorCode","Code"],CCMEstEstimateSubTotal:["CCMEstVendorCode","Code"],Code:["CCMEstVendorCode","Code"],Narration:["CCMEstVendorCode","Code"],MatVendorID:["VendorName"],CCMVendorInvNo:["CCMEstVendorCode","Code"],CCMVendorInvDate:["CCMEstVendorCode","Code"],CCMVendorRefNo:["CCMEstVendorCode","Code"],CCMEstVendorAmount:["CCMEstVendorCode","Code"],TaxID:["TaxCode","TaxValue"],CCMEstTaxValue:["CCMEstVendorCode","Code"],CCMEstTotalAmount:["CCMEstVendorCode","Code"],CCMActVendorAmount:["CCMEstVendorCode","Code"],CCMEstVendorCode:["CCMEstVendorCode","Code"],IsActual:["CCMEstVendorCode","Code"],ComplaintID:["CCMEstVendorCode","Code"],CCMVendorDectAmount:["CCMEstVendorCode","Code"],CCMVendorDectKey:["CCMEstVendorCode","Code"]}},LabelHeader:{CCMEstimationVendorInvoiceDetails:{CCMEstTaxAmount:["CCMEstVendorCode","Code"],CCMEstgrandTotal:["CCMEstVendorCode","Code"],CCMEstEstimateSubTotal:["CCMEstVendorCode","Code"],Code:["CCMEstVendorCode","Code"],Narration:["CCMEstVendorCode","Code"],MatVendorID:["Vendor Name"],CCMVendorInvNo:["CCMEstVendorCode","Code"],CCMVendorInvDate:["CCMEstVendorCode","Code"],CCMVendorRefNo:["CCMEstVendorCode","Code"],CCMEstVendorAmount:["CCMEstVendorCode","Code"],TaxID:["Tax Code","Tax Value"],CCMEstTaxValue:["CCMEstVendorCode","Code"],CCMEstTotalAmount:["CCMEstVendorCode","Code"],CCMActVendorAmount:["CCMEstVendorCode","Code"],CCMEstVendorCode:["CCMEstVendorCode","Code"],IsActual:["CCMEstVendorCode","Code"],ComplaintID:["CCMEstVendorCode","Code"],CCMVendorDectAmount:["CCMEstVendorCode","Code"],CCMVendorDectKey:["CCMEstVendorCode","Code"]}},Property:{CCMEstimationVendorInvoiceDetails:{CCMEstTaxAmount:{id:"fld300_41918",labelID:"CCMEstTaxAmount",maxLength:"",labelname:"",frmctrlid:"fld300_41918",frmctrlidname:"CCMEstTaxAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMEstgrandTotal:{id:"fld300_41919",labelID:"CCMEstgrandTotal",maxLength:"",labelname:"",frmctrlid:"fld300_41919",frmctrlidname:"CCMEstgrandTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMEstEstimateSubTotal:{id:"fld300_41920",labelID:"CCMEstEstimateSubTotal",maxLength:"",labelname:"",frmctrlid:"fld300_41920",frmctrlidname:"CCMEstEstimateSubTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Code:{id:"fld300_14604",labelID:"Code",maxLength:"20",labelname:"Code",frmctrlid:"fld300_14604",frmctrlidname:"Code",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},Narration:{id:"fld300_14605",labelID:"Narration",maxLength:"150",labelname:"Narration",frmctrlid:"fld300_14605",frmctrlidname:"Narration",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},MatVendorID:{id:"fld300_18515",clearID:"CCMEstimationVendorInvoiceDetailsVendorNameClear",type:"select",labelID:"MatVendorIDPK",labelname:"Vendor",fielddisplayname:"VendorName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},CCMVendorInvNo:{id:"fld300_18508",labelID:"CCMVendorInvNo",maxLength:"20",labelname:"Invoice No",frmctrlid:"fld300_18508",frmctrlidname:"CCMVendorInvNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMVendorInvDate:{id:"fld300_18512",labelID:"CCMVendorInvDate",maxLength:"15",labelname:"Invoice Date",frmctrlid:"fld300_18512",frmctrlidname:"CCMVendorInvDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMVendorRefNo:{id:"fld300_18509",labelID:"CCMVendorRefNo",maxLength:"15",labelname:"Ref.No.",frmctrlid:"fld300_18509",frmctrlidname:"CCMVendorRefNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMEstVendorAmount:{id:"fld300_18510",labelID:"CCMEstVendorAmount",maxLength:"15",labelname:"Amount",frmctrlid:"fld300_18510",frmctrlidname:"CCMEstVendorAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},TaxID:{id:"fld300_41921",clearID:"CCMEstimationVendorInvoiceDetailsTaxNameClear",type:"select",labelID:"TaxIDPK",labelname:"Tax",fielddisplayname:"TaxName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},CCMEstTaxValue:{id:"fld300_41916",labelID:"CCMEstTaxValue",maxLength:"",labelname:"Tax Value",frmctrlid:"fld300_41916",frmctrlidname:"CCMEstTaxValue",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMEstTotalAmount:{id:"fld300_41917",labelID:"CCMEstTotalAmount",maxLength:"",labelname:"Total Amount",frmctrlid:"fld300_41917",frmctrlidname:"CCMEstTotalAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMActVendorAmount:{id:"fld300_18511",labelID:"CCMActVendorAmount",maxLength:"0",labelname:"Vendor Amount",frmctrlid:"fld300_18511",frmctrlidname:"CCMActVendorAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},CCMEstVendorCode:{id:"fld300_14603",labelID:"CCMEstVendorCode",maxLength:"50",labelname:"CCMEstVendorCode",frmctrlid:"fld300_14603",frmctrlidname:"CCMEstVendorCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsActual:{id:"fld300_14607",labelID:"IsActual",maxLength:"",labelname:"IsActual",frmctrlid:"fld300_14607",frmctrlidname:"IsActual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ComplaintID:{id:"fld300_14611",clearID:"CCMEstimationVendorInvoiceDetailsComplaintNoClear",type:"select",labelID:"ComplaintIDPK",labelname:"",fielddisplayname:"ComplaintNo",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},CCMVendorDectAmount:{id:"fld300_18513",labelID:"CCMVendorDectAmount",maxLength:"",labelname:"CCMVendorDectAmount",frmctrlid:"fld300_18513",frmctrlidname:"CCMVendorDectAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMVendorDectKey:{id:"fld300_18514",labelID:"CCMVendorDectKey",maxLength:"",labelname:"CCMVendorDectKey",frmctrlid:"fld300_18514",frmctrlidname:"CCMVendorDectKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{CCMEstimationVendorInvoiceDetails:{MatVendorID:["VendorName","MatVendorCode"],TaxID:["TaxCode","TaxName","TaxValue"],ComplaintID:[""]}}};var De=l(6562),Me=l(45155),ge=l(49174),ye=(l(38773),l(19089),l(16233)),Ne=l.n(ye),ve=l(82729),Ve=l(75355),Te=l(11107),fe=l(91113),Se=l.n(fe);const be={CCMEstVendorIDPK:"",CCMEstVendorCode:"",Code:"",Narration:"",CCMVendorInvNo:"",CCMVendorRefNo:"",CCMEstVendorAmount:"",CCMActVendorAmount:"",CCMVendorInvDate:"",CCMVendorInvDateType:"",CCMVendorInvDateBetween:"",CCMVendorDectAmount:"",CCMVendorDectKey:"",CCMEstTaxValue:"",CCMEstTotalAmount:"",CCMEstTaxAmount:"",CCMEstgrandTotal:"",CCMEstEstimateSubTotal:"",IsActual:!1,IsDefault:!1,IsDraft:!1,Remarks:"",TaxID:null,ComplaintID:null,MatVendorID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",TaxCode:"",TaxName:"",TaxValue:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",PriorityID:null,PriorityCode:"",PriorityName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",ComplainerID:null,ComplainerCode:"",ComplainerName:"",ComplaintNatureID:null,ComplaintNatureCode:"",ComplaintNatureName:"",CCMComplaintModeID:null,CCMComplaintModeCode:"",CCMComplaintModeName:"",ServiceTypeID:null,ServiceTypCode:"",ServiceTypeName:"",ComplaintHeaderID:null,ComplaintHeaderCode:"",ComplaintHeaderName:"",CCMComplaintModeIndexID:null,CCMComplaintModeIndexCode:"",CCMComplaintModeIndexName:"",CCMWoTypeID:null,CCMWoTypeCode:"",CCMWoTypeName:"",CCMComplaintTypeID:null,CCMComplaintTypeCode:"",CCMComplaintTypeName:"",CCMStageID:null,CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",IncidentID:null,IncidentCode:"",IncidentName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",PPMCreationAssetID:null,WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",SubComponentID:null,SubComponentName:"",ComplaintNo:"",CMResonForPending:"",CCMMobNo:"",ClientWoNo:"",CCMDescription:"",MatVendorTypeID:null,MatVendorTypeCode:"",VendorTypeName:"",CityID:null,CityCode:"",CityName:"",StateID:null,StateCode:"",StateName:"",CountryID:null,CountryCode:"",CountryName:"",MatVendorCode:"",VendorName:"",Type:"CCMEstVendorID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},he=(0,n.forwardRef)(((e,t)=>{const l=(0,o.useSelector)((e=>e.form)),[C,m]=(0,n.useState)(!1),[s,u]=(0,n.useState)(!0),[E,D]=(0,n.useState)(!1),[g,y]=(0,n.useState)(!1),[N,V]=(0,n.useState)(""),[S,b]=(0,n.useState)(!1),[h,x]=(0,n.useState)([]),[A,w]=(0,n.useState)(null),[P,F]=(0,n.useReducer)(Ie.Z,be),[k,B]=(0,n.useState)(!1),[L,K]=(0,n.useState)([]),[R,O]=(0,n.useState)(!1),_=(0,n.useContext)(e.context?e.context:ke),{cstate:z,cdispatch:W}=e.ContextApi?e.ContextApi:Be(),[H,G]=(0,n.useState)(0),[U,q]=(0,n.useState)(""),Y=(0,n.useRef)(null),[$,J]=Ne()("300"),{data:Q,isLoading:X,error:ee,isParams:te,setIsFetching:le,setParams:ne}=Se()(null),[ae,oe]=(0,n.useState)({}),[re,de]=(0,n.useState)(!0),[ue,ye]=(0,n.useState)(!0),[fe,he]=(0,n.useState)(!0),[xe,Ae]=(0,n.useState)(""),[we,Pe]=(0,n.useState)(!0),[Fe,Ze]=(0,n.useState)(!0),[Le,Ke]=(0,n.useState)(!0),[Re,Oe]=(0,n.useState)(!0),[_e,ze]=(0,n.useState)(!0),[We,He]=(0,n.useState)(!1);let Ge=(0,M.Z)();const[je,Ue]=(0,n.useState)({}),qe=e=>Ge[e]?Ge[e]:e,Ye=t=>z.language?.[t]?z.language[t]:e.createEasy?je?.[t]:t;(0,n.useEffect)((()=>{z.PrimaryId&&G(Number(z.PrimaryId))}),[z.PrimaryId]),(0,n.useEffect)((()=>{Qe(),ne({id:e.parentId,type:["ESTACTUALDATAENTER"],url:"FPC1S3/"}),le(!0)}),[]),(0,n.useEffect)((()=>{Q&&Q.map((e=>{200==e.Output.status.code&&e.Output.data.length>0&&oe(e.Output.data[0])}))}),[Q]),(0,n.useEffect)((()=>{Qe()}),[e.parentId]),(0,n.useEffect)((()=>{z.editData.length>0?(Je(z.editData[0],""),D(!0)):z.Add&&(Qe(),D(!0))}),[z.editData]),(0,n.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),Ue(Object.assign({},...t))}($)}),[$]),(0,n.useImperativeHandle)(t,(()=>({clear:()=>{Qe()},CreateEasyProps:(e=!0,t)=>{le(!0),t?(dt(t),D(e)):(Qe(),D(e))},AddOpen:e=>{Qe(),D(!0)}})));const $e=e=>e?e.split("-").reverse().join("-"):null,Je=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),y(t.IsDraft),F({type:"number",name:"CCMEstTaxAmount",number:Number(t.CCMEstTaxAmount)}),F({type:"number",name:"CCMEstgrandTotal",number:Number(t.CCMEstgrandTotal)}),F({type:"number",name:"CCMEstEstimateSubTotal",number:Number(t.CCMEstEstimateSubTotal)}),F({type:"text",name:"Code",value:t.Code?t.Code:""}),F({type:"text",name:"Narration",value:t.Narration?t.Narration:""}),F({type:"number",name:"MatVendorID",number:t.MatVendorID?Number(t.MatVendorID):0}),F({type:"text",name:"VendorName",value:t.VendorName}),F({type:"text",name:"CCMVendorInvNo",value:t.CCMVendorInvNo?t.CCMVendorInvNo:""}),F({type:"text",name:"CCMVendorInvDate",value:t.CCMVendorInvDate?$e(t.CCMVendorInvDate):null}),F({type:"text",name:"CCMVendorRefNo",value:t.CCMVendorRefNo?t.CCMVendorRefNo:""}),F({type:"number",name:"CCMEstVendorAmount",number:Number(t.CCMEstVendorAmount)}),F({type:"number",name:"TaxID",number:t.TaxID?Number(t.TaxID):0}),F({type:"text",name:"TaxName",value:t.TaxName}),F({type:"number",name:"CCMEstTaxValue",number:Number(t.CCMEstTaxValue)}),F({type:"number",name:"CCMEstTotalAmount",number:Number(t.CCMEstTotalAmount)}),F({type:"number",name:"CCMActVendorAmount",number:Number(t.CCMActVendorAmount)}),"SetDefaultCCMEstVendorID"==l?q(t.CCMEstVendorIDPK):(G(e.primid?Number(e.primid):t.CCMEstVendorIDPK?t.CCMEstVendorIDPK:0),W({type:"PrimaryId",payload:t.CCMEstVendorIDPK})),F({type:"text",name:"CCMEstVendorCode",value:t.CCMEstVendorCode?t.CCMEstVendorCode:""}),F({type:"boolean",name:"IsActual",boolean:!!t.IsActual&&t.IsActual}),F({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),F({type:"number",name:"ComplaintID",number:t.ComplaintID?Number(t.ComplaintID):0}),F({type:"text",name:"ComplaintNo",value:t.ComplaintNo}),F({type:"number",name:"CCMVendorDectAmount",number:Number(t.CCMVendorDectAmount)}),F({type:"number",name:"CCMVendorDectKey",number:t.CCMVendorDectKey}),t.IsDraft?u(!0):u(!("1"!=t.IsActive&&!t.IsActive))},Qe=()=>{x([]),G(0),q(""),e.createEasy||_.resetImg(),F({type:"number",name:"CCMEstTaxAmount",number:0}),F({type:"number",name:"CCMEstgrandTotal",number:0}),F({type:"number",name:"CCMEstEstimateSubTotal",number:0}),F({type:"text",name:"Code",value:""}),F({type:"text",name:"Narration",value:""}),F({type:"text",name:"MatVendorID",value:null}),F({type:"text",name:"VendorName",value:""}),document.getElementById("CCMEstimationVendorInvoiceDetailsVendorNameClear")&&document.getElementById("CCMEstimationVendorInvoiceDetailsVendorNameClear").click(),F({type:"text",name:"CCMVendorInvNo",value:""}),F({type:"text",name:"CCMVendorInvDate",value:""}),F({type:"text",name:"CCMVendorRefNo",value:""}),F({type:"number",name:"CCMEstVendorAmount",number:0}),F({type:"text",name:"TaxID",value:null}),F({type:"text",name:"TaxName",value:""}),document.getElementById("CCMEstimationVendorInvoiceDetailsTaxNameClear")&&document.getElementById("CCMEstimationVendorInvoiceDetailsTaxNameClear").click(),F({type:"number",name:"CCMEstTaxValue",number:0}),F({type:"number",name:"CCMEstTotalAmount",number:0}),F({type:"number",name:"CCMActVendorAmount",number:0}),W({type:"PrimaryId",payload:""}),F({type:"text",name:"CCMEstVendorCode",value:""}),F({type:"boolean",name:"IsActual",boolean:!1}),F({type:"boolean",name:"IsDefault",boolean:!1}),F({type:"text",name:"ComplaintID",value:null}),F({type:"text",name:"ComplaintNo",value:""}),document.getElementById("CCMEstimationVendorInvoiceDetailsComplaintNoClear")&&document.getElementById("CCMEstimationVendorInvoiceDetailsComplaintNoClear").click(),F({type:"number",name:"CCMVendorDectAmount",number:0}),F({type:"number",name:"CCMVendorDectKey",number:0}),u(!0),V(""),de(!0),ye(!0),he(!0),Pe(!0),Ze(!0),Ke(!0),Oe(!0),ze(!0)},Xe=t=>{_.loading(!0),_.ConfirmAlert(null);const l=I.v.Api+"FP300S2/",n={data:[{p1:"SetDefaultCCMEstVendorID"==t?"NORECORDS"!=U&&U?U:0:H,p2:Ct(P.CCMEstVendorCode),p3:Ct(P.Code),p4:Ct(P.Narration),p5:Ct(P.CCMVendorInvNo),p6:Ct(P.CCMVendorRefNo),p7:P.CCMEstVendorAmount?Number(P.CCMEstVendorAmount):0,p8:P.CCMActVendorAmount?Number(P.CCMActVendorAmount):0,p9:P.CCMVendorInvDate?P.CCMVendorInvDate:null,p10:P.CCMVendorDectAmount?Number(P.CCMVendorDectAmount):0,p11:P.CCMVendorDectKey?Number(P.CCMVendorDectKey):0,p12:P.CCMEstTaxValue?Number(P.CCMEstTaxValue):0,p13:P.CCMEstTotalAmount?Number(P.CCMEstTotalAmount):0,p14:P.CCMEstTaxAmount?Number(P.CCMEstTaxAmount):0,p15:P.CCMEstgrandTotal?Number(P.CCMEstgrandTotal):0,p16:P.CCMEstEstimateSubTotal?Number(P.CCMEstEstimateSubTotal):0,p17:P.IsActual,p18:P.IsDefault,p19:!1,p20:"SetDefaultCCMEstVendorID"==t?"SetDefault":null,p21:P.TaxID?P.TaxID:0,p22:e.parentId?Number(e.parentId):P.ComplaintID?P.ComplaintID:0,p23:P.MatVendorID?P.MatVendorID:0,p24:s,p25:"SetDefaultCCMEstVendorID"==t,p26:localStorage.getItem("userid"),p27:T()().format("YYYY-MM-DD hh:mm:ss"),p28:localStorage.getItem("userid"),p29:T()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Ce.Z)(0).then((t=>{(0,d.Z)(l,n,t).then((t=>{const l=t.Output[0].status;let n=t.Output[0].Data,a=new Array,o=new Array;"200"===l.code?(n.map((e=>{e&&(a.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),a.some((e=>"1"==e))?(_.alert({open:!0,color:"warning",message:o}),_.loading(!1)):(t=>{de(!0),ye(!0),he(!0),Pe(!0),Ze(!0),Ke(!0),Oe(!0),ze(!0),_.loading(!0),_.ConfirmAlert(null),W({type:"IsDraft",payload:!1});const l=I.v.Api+"FP300S1/",n={data:[{p1:H,p2:Ct(P.CCMEstVendorCode),p3:Ct(P.Code),p4:Ct(P.Narration),p5:Ct(P.CCMVendorInvNo),p6:Ct(P.CCMVendorRefNo),p7:P.CCMEstVendorAmount?Number(P.CCMEstVendorAmount):0,p8:P.CCMActVendorAmount?Number(P.CCMActVendorAmount):0,p9:P.CCMVendorInvDate?P.CCMVendorInvDate:null,p10:P.CCMVendorDectAmount?Number(P.CCMVendorDectAmount):0,p11:P.CCMVendorDectKey?Number(P.CCMVendorDectKey):0,p12:P.CCMEstTaxValue?Number(P.CCMEstTaxValue):0,p13:P.CCMEstTotalAmount?Number(P.CCMEstTotalAmount):0,p14:P.CCMEstTaxAmount?Number(P.CCMEstTaxAmount):0,p15:P.CCMEstgrandTotal?Number(P.CCMEstgrandTotal):0,p16:P.CCMEstEstimateSubTotal?Number(P.CCMEstEstimateSubTotal):0,p17:P.IsActual,p18:P.IsDefault,p19:!1,p20:null,p21:P.TaxID?P.TaxID:0,p22:e.parentId?Number(e.parentId):P.ComplaintID?P.ComplaintID:0,p23:P.MatVendorID?P.MatVendorID:0,p24:s,p25:!1,p26:localStorage.getItem("userid"),p27:T()().format("YYYY-MM-DD hh:mm:ss"),p28:localStorage.getItem("userid"),p29:T()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Ce.Z)(0).then((t=>{(0,f.Z)(l,n,t).then((t=>{const l=t[0].status;200==l.code?(_.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails"),_.loading(!1),W({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(_.RefreshTable(),_.attachmentSave(t[0].Data.IDPK)),Qe(),z.AccessRights.IsApproval&&_.Approval(!0),document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails")&&(document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails").style.width="0%",document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails").style.display="none",document.getElementById("divCCMEstimationVendorInvoiceDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("CCMEstimationVendorInvoiceDetails-MainTable").style.display="block")):(_.alert({open:!0,color:"warning",message:[l.message]}),_.loading(!1)),D(!0)}))}))})()):(_.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),_.loading(!1))}))}))};function et(e){return CreateEasy(e,z,W,_,Y),!1}function tt(e,l){return AdvanceSearch(e,l,ke,Be(),at,t),!1}const lt=(t,l,n,a,o,r)=>{const i=I.v.Api+"FP300S3/",C={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:P.CCMVendorInvDate?P.CCMVendorInvDate:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:1==P.IsActual,p20:null,p21:null,p22:null,p23:"0"==P.TaxID?null:P.TaxID,p24:e.parentId?Number(e.parentId):0,p25:"0"==P.MatVendorID?null:P.MatVendorID,p26:e.Dialogview?"1":null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:l?"%"+l+"%":null,p34:l?"%"+l+"%":null,p35:l?"%"+l+"%":null,p36:"0"==P.ContractID?null:P.ContractID,p37:l?"%"+l+"%":null,p38:l?"%"+l+"%":null,p39:"0"==P.LocalityID?null:P.LocalityID,p40:l?"%"+l+"%":null,p41:l?"%"+l+"%":null,p42:"0"==P.BuildingID?null:P.BuildingID,p43:l?"%"+l+"%":null,p44:l?"%"+l+"%":null,p45:"0"==P.FloorID?null:P.FloorID,p46:l?"%"+l+"%":null,p47:l?"%"+l+"%":null,p48:"0"==P.SpotID?null:P.SpotID,p49:l?"%"+l+"%":null,p50:l?"%"+l+"%":null,p51:"0"==P.PriorityID?null:P.PriorityID,p52:l?"%"+l+"%":null,p53:l?"%"+l+"%":null,p54:"0"==P.DivisionID?null:P.DivisionID,p55:l?"%"+l+"%":null,p56:l?"%"+l+"%":null,p57:"0"==P.DisciplineID?null:P.DisciplineID,p58:l?"%"+l+"%":null,p59:l?"%"+l+"%":null,p60:"0"==P.ComplainerID?null:P.ComplainerID,p61:l?"%"+l+"%":null,p62:l?"%"+l+"%":null,p63:"0"==P.ComplaintNatureID?null:P.ComplaintNatureID,p64:l?"%"+l+"%":null,p65:l?"%"+l+"%":null,p66:"0"==P.CCMComplaintModeID?null:P.CCMComplaintModeID,p67:l?"%"+l+"%":null,p68:l?"%"+l+"%":null,p69:"0"==P.ServiceTypeID?null:P.ServiceTypeID,p70:l?"%"+l+"%":null,p71:l?"%"+l+"%":null,p72:"0"==P.ComplaintHeaderID?null:P.ComplaintHeaderID,p73:l?"%"+l+"%":null,p74:l?"%"+l+"%":null,p75:"0"==P.CCMComplaintModeIndexID?null:P.CCMComplaintModeIndexID,p76:l?"%"+l+"%":null,p77:l?"%"+l+"%":null,p78:"0"==P.CCMWoTypeID?null:P.CCMWoTypeID,p79:l?"%"+l+"%":null,p80:l?"%"+l+"%":null,p81:"0"==P.CCMComplaintTypeID?null:P.CCMComplaintTypeID,p82:l?"%"+l+"%":null,p83:l?"%"+l+"%":null,p84:"0"==P.CCMStageID?null:P.CCMStageID,p85:l?"%"+l+"%":null,p86:l?"%"+l+"%":null,p87:l?"%"+l+"%":null,p88:"0"==P.IncidentID?null:P.IncidentID,p89:l?"%"+l+"%":null,p90:l?"%"+l+"%":null,p91:"0"==P.AssetID?null:P.AssetID,p92:l?"%"+l+"%":null,p93:l?"%"+l+"%":null,p94:l?"%"+l+"%":null,p95:l?"%"+l+"%":null,p96:"0"==P.PPMCreationAssetID?null:P.PPMCreationAssetID,p97:l?"%"+l+"%":null,p98:P.WoDateTime?P.WoDateTime:null,p99:null,p100:null,p101:"0"==P.SubComponentID?null:P.SubComponentID,p102:l?"%"+l+"%":null,p103:l?"%"+l+"%":null,p104:l?"%"+l+"%":null,p105:l?"%"+l+"%":null,p106:l?"%"+l+"%":null,p107:l?"%"+l+"%":null,p108:"0"==P.MatVendorTypeID?null:P.MatVendorTypeID,p109:l?"%"+l+"%":null,p110:l?"%"+l+"%":null,p111:"0"==P.CityID?null:P.CityID,p112:l?"%"+l+"%":null,p113:l?"%"+l+"%":null,p114:"0"==P.StateID?null:P.StateID,p115:l?"%"+l+"%":null,p116:l?"%"+l+"%":null,p117:"0"==P.CountryID?null:P.CountryID,p118:l?"%"+l+"%":null,p119:l?"%"+l+"%":null,p120:l?"%"+l+"%":null,p121:l?"%"+l+"%":null,p122:t,p123:10,p124:n,p125:null,p126:null,p127:localStorage.getItem("UserGroupID"),p128:localStorage.getItem("userid")}},m=Object.keys(C.data).slice(0,Object.keys(C.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(C.data).length-8?C.data[t]:null,e)),{});B(!0);const s={data:m};return(0,d.Z)(i,"ClearAll"==n?s:C,"SetDefaultCCMEstVendorID"==n&&a?a:z.token[0]).then((e=>{const l=e.Output.status.code,a=e.Output.data;if("200"==l){const e=a.length;if(o)return 1==a.length?a[0]:{};K(1==t?e>0?a:[]:L.concat(a)),"SetDefaultCCMEstVendorID"==n&&(e>0?Je(a[0],"SetDefaultCCMEstVendorID"):q("NORECORDS")),B(!1)}else _.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},nt=(t,n,a)=>{const o=I.v.Api+"FP300S3/",r={data:{p1:null,p2:"CCMEstVendorCode"==a&&n?"%"+n+"%":null,p3:"Code"==a&&n?"%"+n+"%":null,p4:"Narration"==a&&n?"%"+n+"%":null,p5:"CCMVendorInvNo"==a&&n?"%"+n+"%":null,p6:"CCMVendorRefNo"==a&&n?"%"+n+"%":null,p7:"CCMEstVendorAmount"==a&&n?"%"+n+"%":null,p8:"CCMActVendorAmount"==a&&n?"%"+n+"%":null,p9:null,p10:null,p11:null,p12:"CCMVendorDectAmount"==a&&n?"%"+n+"%":null,p13:"CCMVendorDectKey"==a&&n?"%"+n+"%":null,p14:"CCMEstTaxValue"==a&&n?"%"+n+"%":null,p15:"CCMEstTotalAmount"==a&&n?"%"+n+"%":null,p16:"CCMEstTaxAmount"==a&&n?"%"+n+"%":null,p17:"CCMEstgrandTotal"==a&&n?"%"+n+"%":null,p18:"CCMEstEstimateSubTotal"==a&&n?"%"+n+"%":null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:l.CCMComplaintsComplaintID?l.CCMComplaintsComplaintID:"0",p25:null,p26:e.Dialogview?"1":null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:t,p123:10,p124:"CCMEstVendorID",p125:null,p126:null,p127:localStorage.getItem("UserGroupID"),p128:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};B(!0),(0,d.Z)(o,"ClearAll"==a?i:r,z.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;1==t?("CCMEstTaxAmount"==a&&de(e>0),"CCMEstgrandTotal"==a&&ye(e>0),"CCMEstEstimateSubTotal"==a&&he(e>0),"CCMEstTaxValue"==a&&Pe(e>0),"CCMEstTotalAmount"==a&&Ze(e>0),"CCMEstVendorCode"==a&&Ke(e>0),"CCMVendorDectAmount"==a&&Oe(e>0),"CCMVendorDectKey"==a&&ze(e>0),K(n)):("CCMEstTaxAmount"==a&&de(!0),"CCMEstgrandTotal"==a&&ye(!0),"CCMEstEstimateSubTotal"==a&&he(!0),"CCMEstTaxValue"==a&&Pe(!0),"CCMEstTotalAmount"==a&&Ze(!0),"CCMEstVendorCode"==a&&Ke(!0),"CCMVendorDectAmount"==a&&Oe(!0),"CCMVendorDectKey"==a&&ze(!0),K(L.concat(n))),B(!1)}else _.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},at=(0,n.useCallback)((async(e,t,l)=>{if("text"==l)F({type:l,name:t,value:e});else if("number"==l){if(F({type:l,name:t,number:Number(e)}),"CCMEstVendorAmount"==t)if(P.CCMEstTaxValue){let t=Number(e)+Number(P.CCMEstTaxValue);F({type:"number",name:"CCMEstTotalAmount",number:Number(t).toFixed(2)})}else F({type:"number",name:"CCMEstTotalAmount",number:Number(e).toFixed(2)});if("CCMEstTotalAmount"===t){let t=Number(e*P.TaxValue/100);F({type:"number",name:"CCMEstTaxValue",number:Number(t).toFixed(2)});let l=Number(t)+Number(e);F({type:"number",name:"CCMEstTotalAmount",number:Number(l).toFixed(2)})}}else if("boolean"==l)F({type:l,name:t,boolean:e});else if("date"==l)F({type:"text",name:t,value:e});else if("select"==l)if("MatVendorID"==t)F({type:"text",name:"MatVendorID",value:e.MatVendorIDPK?e.MatVendorIDPK:null}),F({type:"text",name:"VendorName",value:e.VendorName?e.VendorName:null});else if("TaxID"==t){F({type:"text",name:"TaxID",value:e.TaxIDPK?e.TaxIDPK:null}),F({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:null});let t=Number(e.TaxValue*P.CCMEstVendorAmount/100);F({type:"number",name:"CCMEstTaxValue",number:Number(t).toFixed(2)});let l=Number(t)+Number(P.CCMEstTotalAmount);F({type:"number",name:"CCMEstTotalAmount",number:Number(l).toFixed(2)})}}),[P]);function ot(e){if("MatVendorID"==e){if(!P.MatVendorID)return!1;F({type:"text",name:"MatVendorID",value:null}),F({type:"text",name:"VendorName",value:""}),document.getElementById("CCMEstimationVendorInvoiceDetailsVendorNameClear")&&document.getElementById("CCMEstimationVendorInvoiceDetailsVendorNameClear").click()}else if("TaxID"==e){if(!P.TaxID)return!1;F({type:"text",name:"TaxID",value:null}),F({type:"text",name:"TaxName",value:""}),document.getElementById("CCMEstimationVendorInvoiceDetailsTaxNameClear")&&document.getElementById("CCMEstimationVendorInvoiceDetailsTaxNameClear").click(),F({type:"number",name:"CCMEstTaxValue",number:0}),F({type:"number",name:"CCMEstTotalAmount",number:Number(P.CCMEstVendorAmount).toFixed(2)})}else if("ComplaintID"==e&&!P.ComplaintID)return!1}function rt(e){if("MatVendorID"==e){if(!P.MatVendorID)return!1;F({type:"text",name:"MatVendorID",value:null})}else if("TaxID"==e){if(!P.TaxID)return!1;F({type:"text",name:"TaxID",value:null}),F({type:"number",name:"CCMEstTaxValue",number:0}),F({type:"number",name:"CCMEstTotalAmount",number:Number(P.CCMEstVendorAmount).toFixed(2)})}else if("ComplaintID"==e&&!P.ComplaintID)return!1}const it=e=>{_.ConfirmAlert(a().createElement(pe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>dt(e),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:qe("Yes"),cancelBtnText:qe("No"),showCancel:!0},qe("Do you want to update this record?")))};function dt(e){_.ConfirmAlert(null),y(e.IsDraft),G(Number(e.CCMEstVendorIDPK)?Number(e.CCMEstVendorIDPK):0),F({type:"text",name:"CCMEstTaxAmount",value:e.CCMEstTaxAmount?e.CCMEstTaxAmount:""}),F({type:"text",name:"CCMEstgrandTotal",value:e.CCMEstgrandTotal?e.CCMEstgrandTotal:""}),F({type:"text",name:"CCMEstEstimateSubTotal",value:e.CCMEstEstimateSubTotal?e.CCMEstEstimateSubTotal:""}),F({type:"text",name:"Code",value:e.Code?e.Code:""}),F({type:"text",name:"Narration",value:e.Narration?e.Narration:""}),F({type:"number",name:"MatVendorID",number:e.MatVendorID?Number(e.MatVendorID):0}),F({type:"text",name:"VendorName",value:e.VendorName?e.VendorName:""}),F({type:"text",name:"CCMVendorInvNo",value:e.CCMVendorInvNo?e.CCMVendorInvNo:""}),F({type:"text",name:"CCMVendorInvDate",value:e.CCMVendorInvDate?$e(e.CCMVendorInvDate):null}),F({type:"text",name:"CCMVendorRefNo",value:e.CCMVendorRefNo?e.CCMVendorRefNo:""}),F({type:"number",name:"CCMEstVendorAmount",number:e.CCMEstVendorAmount?Number(e.CCMEstVendorAmount):0}),F({type:"number",name:"TaxID",number:e.TaxID?Number(e.TaxID):0}),F({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:""}),F({type:"text",name:"CCMEstTaxValue",value:e.CCMEstTaxValue?e.CCMEstTaxValue:""}),F({type:"text",name:"CCMEstTotalAmount",value:e.CCMEstTotalAmount?e.CCMEstTotalAmount:""}),F({type:"number",name:"CCMActVendorAmount",number:e.CCMActVendorAmount?Number(e.CCMActVendorAmount):0}),F({type:"text",name:"CCMEstVendorCode",value:e.CCMEstVendorCode?e.CCMEstVendorCode:""}),F({type:"boolean",name:"IsActual",boolean:!!e.IsActual&&e.IsActual}),F({type:"number",name:"ComplaintID",number:e.ComplaintID?Number(e.ComplaintID):0}),F({type:"text",name:"ComplaintNo",value:e.ComplaintNo?e.ComplaintNo:""}),F({type:"text",name:"CCMVendorDectAmount",value:e.CCMVendorDectAmount?e.CCMVendorDectAmount:""}),F({type:"text",name:"CCMVendorDectKey",value:e.CCMVendorDectKey?e.CCMVendorDectKey:""})}const Ct=e=>"string"==typeof e?e.trim():e;return a().createElement("div",null,a().createElement(r.Z,{expanded:E,onChange:e=>{}},a().createElement(j.Z,null,a().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},E&&a().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},a().createElement("div",{className:"HeadTxt",title:"10.0.0.84-17:19:01-6-9[300]"}," ",qe("Add "),Ye("300")),a().createElement("div",{className:"displayFlex EntryHeaderBtn"},z.AccessRights.IsDelete&&a().createElement("div",{className:"GridAlign"},a().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},a().createElement(De.Z,{row:!0},a().createElement(Z.Z,{labelPlacement:"bottom",id:"fld300L1ECEntryCheckbox",control:a().createElement(v.Z,{checked:"1"==s,onChange:e=>u(e.target.checked)}),label:qe(1==s?"Active":"In Active")})))),!e.createEasy&&a().createElement("div",{className:"GridAlign",onClick:()=>{_.AttachExpand(!0)},id:"fld300L1ECIconButton"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement("div",{disableRipple:!0,disabled:!1},a().createElement(Me.Ypb,{className:"Iconstyles"}))),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,qe("Attach")))),!H&&a().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Qe()},id:"fld300L1ECClearBtn"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement(Me.pYJ,{className:"Iconstyles"})),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,qe("Reset")))),z.AccessRights.IsAdd||z.AccessRights.IsEdit?a().createElement(se.Z,{frmctrlid:"fld300L1ECSaveBtnIsAdd",name:qe(H?"Update":"Save"),disabled:!1,onClick:()=>{Ct(P.Code)?Ct(P.Narration)?e.parentId&&0!=e.parentId?_.ConfirmAlert(a().createElement(pe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:qe("Are you sure?"),onConfirm:()=>Xe(),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:qe("Yes"),cancelBtnText:qe("Cancel"),showCancel:!0},qe(H?"Do you want to Update?":"Do you want to Save?"))):_.alert({open:!0,color:"warning",message:[qe("Please select the ")+" "+Ye("ComplaintID")]}):_.alert({open:!0,color:"warning",message:[qe("Please enter the")+""+Ye("Narration")]}):_.alert({open:!0,color:"warning",message:[qe("Please enter the")+""+Ye("Code")]})}}):null,!e.createEasy&&a().createElement(ie.Z,{frmctrlid:"fld300L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Qe(),D(!1),_.EditClose(!0),_.hideAddBtn(!1),W({type:"Add",payload:!1})}}))))),a().createElement(i.Z,null,a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-Detail",className:"detailCard detailDiv"},a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-MainBody",className:"padding paddingLeft "},a().createElement("div",null,a().createElement(ve.Z,null,a().createElement(Te.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},a().createElement(p.Z,null,a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement("div",{className:"GrpViewHeadingTitle"},a().createElement("p",null))))),a().createElement(Ve.Z,{style:{padding:"5px 20px 15px"}},a().createElement(p.Z,{spacing:2},a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(ce.Z,{"data-testid":P.CCMEstTaxAmount,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMEstTaxAmount",tfLabel:Ye("CCMEstTaxAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{re&&nt(1,"","ClearAll"),de(!0)},frmctrlid:"fld300_41918",frmctrlidName:"CCMEstTaxAmount",fieldorder:"0",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{re&&nt(e,t,"CCMEstTaxAmount"),at(t,"CCMEstTaxAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:P.CCMEstTaxAmount,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMEstTaxAmount",value:""}),de(!0))}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(ce.Z,{"data-testid":P.CCMEstgrandTotal,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMEstgrandTotal",tfLabel:Ye("CCMEstgrandTotal"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{ue&&nt(1,"","ClearAll"),ye(!0)},frmctrlid:"fld300_41919",frmctrlidName:"CCMEstgrandTotal",fieldorder:"0",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ue&&nt(e,t,"CCMEstgrandTotal"),at(t,"CCMEstgrandTotal","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:ue,SideEntryView:!1,KeyBack:e=>{},value:P.CCMEstgrandTotal,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMEstgrandTotal",value:""}),ye(!0))}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(ce.Z,{"data-testid":P.CCMEstEstimateSubTotal,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMEstEstimateSubTotal",tfLabel:Ye("CCMEstEstimateSubTotal"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{fe&&nt(1,"","ClearAll"),he(!0)},frmctrlid:"fld300_41920",frmctrlidName:"CCMEstEstimateSubTotal",fieldorder:"0",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{fe&&nt(e,t,"CCMEstEstimateSubTotal"),at(t,"CCMEstEstimateSubTotal","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:fe,SideEntryView:!1,KeyBack:e=>{},value:P.CCMEstEstimateSubTotal,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMEstEstimateSubTotal",value:""}),he(!0))}}))))),a().createElement(ve.Z,null,a().createElement(Te.Z,{color:"info",icon:!0,className:"cardheadvh"},a().createElement(p.Z,null,a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement("div",{className:"GrpViewHeadingTitle"},a().createElement("p",null,"Vendor"))))),a().createElement(Ve.Z,{style:{padding:"5px 20px 15px"}},a().createElement(p.Z,{spacing:2},a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(me.Z,{json:Ee,"data-testid":P.Code,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"Code",tfLabel:Ye("Code"),frmctrlid:"fld300_14604",fieldorder:"1",onChange:e=>{at(e,"Code","text")},clear:e=>{e&&F({type:"text",name:"Code",value:""})},value:P.Code})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(me.Z,{json:Ee,"data-testid":P.Narration,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"Narration",tfLabel:Ye("Narration"),frmctrlid:"fld300_14605",fieldorder:"2",onChange:e=>{at(e,"Narration","text")},clear:e=>{e&&F({type:"text",name:"Narration",value:""})},value:P.Narration})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(ce.Z,{json:Ee,id:P.MatVendorID,"data-testid":P.MatVendorID,value:P.VendorName,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"MatVendorID",tfLabel:Ye("MatVendorID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>at(e,"MatVendorID","select"),onChange:(e,t)=>{lt(e,t,"MatVendorIDPK")},KeyBack:e=>{rt("MatVendorID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{et("442")},Tabledialog:()=>tt("442","MatVendorID"),loading:k,clear:e=>{e&&ot("MatVendorID")}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(me.Z,{json:Ee,"data-testid":P.CCMVendorInvNo,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMVendorInvNo",tfLabel:Ye("CCMVendorInvNo"),frmctrlid:"fld300_18508",fieldorder:"4",onChange:e=>{at(e,"CCMVendorInvNo","text")},clear:e=>{e&&F({type:"text",name:"CCMVendorInvNo",value:""})},value:P.CCMVendorInvNo})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},a().createElement(ge.Z,{value:P.CCMVendorInvDate,"data-testid":P.CCMVendorInvDate,disabled:!1,onChange:e=>{at(e,"CCMVendorInvDate","date")},onErr:e=>{Ae(e)},label:Ye("CCMVendorInvDate"),frmctrlid:"fld300_18512",frmctrlidName:"CCMVendorInvDate",fieldorder:"1"})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(me.Z,{json:Ee,"data-testid":P.CCMVendorRefNo,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMVendorRefNo",tfLabel:Ye("CCMVendorRefNo"),frmctrlid:"fld300_18509",fieldorder:"2",onChange:e=>{at(e,"CCMVendorRefNo","text")},clear:e=>{e&&F({type:"text",name:"CCMVendorRefNo",value:""})},value:P.CCMVendorRefNo}))))),a().createElement(ve.Z,null,a().createElement(Te.Z,{color:"info",icon:!0,className:"cardheadvh"},a().createElement(p.Z,null,a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement("div",{className:"GrpViewHeadingTitle"},a().createElement("p",null,"Estimation Cost"))))),a().createElement(Ve.Z,{style:{padding:"5px 20px 15px"}},a().createElement(p.Z,{spacing:2},a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(me.Z,{json:Ee,"data-testid":P.CCMEstVendorAmount,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMEstVendorAmount",tfLabel:Ye("CCMEstVendorAmount"),frmctrlid:"fld300_18510",fieldorder:"1",disabled:!ae.Estimate,onChange:e=>{at(e,"CCMEstVendorAmount","number")},clear:e=>{e&&F({type:"number",name:"CCMEstVendorAmount",number:0})},Iscurr:!0,value:P.CCMEstVendorAmount})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3}),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3}),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3}),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(ce.Z,{json:Ee,id:P.TaxID,"data-testid":P.TaxID,value:P.TaxName,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"TaxID",tfLabel:Ye("TaxID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>at(e,"TaxID","select"),onChange:(e,t)=>{lt(e,t,"TaxIDPK")},KeyBack:e=>{rt("TaxID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{et("19")},Tabledialog:()=>tt("19","TaxID"),loading:k,clear:e=>{e&&ot("TaxID")}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(ce.Z,{"data-testid":P.CCMEstTaxValue,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMEstTaxValue",tfLabel:Ye("CCMEstTaxValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{we&&nt(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld300_41916",frmctrlidName:"CCMEstTaxValue",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{we&&nt(e,t,"CCMEstTaxValue"),at(t,"CCMEstTaxValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:we,SideEntryView:!1,KeyBack:e=>{},value:P.CCMEstTaxValue,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMEstTaxValue",value:""}),Pe(!0))}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(ce.Z,{"data-testid":P.CCMEstTotalAmount,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMEstTotalAmount",tfLabel:Ye("CCMEstTotalAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Fe&&nt(1,"","ClearAll"),Ze(!0)},frmctrlid:"fld300_41917",frmctrlidName:"CCMEstTotalAmount",fieldorder:"4",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Fe&&nt(e,t,"CCMEstTotalAmount"),at(t,"CCMEstTotalAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ze(!0)},showList:Fe,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:P.CCMEstTotalAmount,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMEstTotalAmount",value:""}),Ze(!0))}}))))),a().createElement(ve.Z,null,a().createElement(Te.Z,{color:"info",icon:!0,className:"cardheadvh"},a().createElement(p.Z,null,a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement("div",{className:"GrpViewHeadingTitle"},a().createElement("p",null,"Actual Cost"))))),a().createElement(Ve.Z,{style:{padding:"5px 20px 15px"}},a().createElement(p.Z,{spacing:2},a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(me.Z,{json:Ee,"data-testid":P.CCMActVendorAmount,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMActVendorAmount",tfLabel:Ye("CCMActVendorAmount"),frmctrlid:"fld300_18511",fieldorder:"1",disabled:!ae.Actual,onChange:e=>{at(e,"CCMActVendorAmount","number")},clear:e=>{e&&F({type:"number",name:"CCMActVendorAmount",number:0})},Iscurr:!0,value:P.CCMActVendorAmount}))))),a().createElement(ve.Z,null,a().createElement(Te.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},a().createElement(p.Z,null,a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},a().createElement("div",{className:"GrpViewHeadingTitle"},a().createElement("p",null,"Invisible Fields"))))),a().createElement(Ve.Z,{style:{padding:"5px 20px 15px"}},a().createElement(p.Z,{spacing:2},a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(ce.Z,{"data-testid":P.CCMEstVendorCode,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMEstVendorCode",tfLabel:Ye("CCMEstVendorCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Le&&nt(1,"","ClearAll"),Ke(!0)},frmctrlid:"fld300_14603",frmctrlidName:"CCMEstVendorCode",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Le&&nt(e,t,"CCMEstVendorCode"),at(t,"CCMEstVendorCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ke(!0)},showList:Le,SideEntryView:!1,KeyBack:e=>{},value:P.CCMEstVendorCode,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMEstVendorCode",value:""}),Ke(!0))}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement("div",{className:"EntryView-Checkbox"},a().createElement(Z.Z,{style:{color:"#337ab7"},"data-testid":P.IsActual,labelPlacement:"end",control:a().createElement(v.Z,{checked:"1"==P.IsActual,onChange:e=>{at(e.target.checked,"IsActual","boolean")},frmctrlid:"fld300_14607",frmctrlidname:"IsActual",fieldorder:"1",tfLabel:Ye("IsActual")}),label:a().createElement("p",{className:"ToggleSwitchLabel",style:{color:P.IsActual?"#21446F":"#999"}},Ye("IsActual"))}))),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(ce.Z,{json:Ee,id:P.ComplaintID,"data-testid":P.ComplaintID,value:P.ComplaintNo,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"ComplaintID",tfLabel:Ye("ComplaintID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>at(e,"ComplaintID","select"),onChange:(e,t)=>{lt(e,t,"ComplaintIDPK")},KeyBack:e=>{rt("ComplaintID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{et("1630")},Tabledialog:()=>tt("1630","ComplaintID"),loading:k,clear:e=>{e&&ot("ComplaintID")}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(ce.Z,{"data-testid":P.CCMVendorDectAmount,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMVendorDectAmount",tfLabel:Ye("CCMVendorDectAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Re&&nt(1,"","ClearAll"),Oe(!0)},frmctrlid:"fld300_18513",frmctrlidName:"CCMVendorDectAmount",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Re&&nt(e,t,"CCMVendorDectAmount"),at(t,"CCMVendorDectAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Oe(!0)},showList:Re,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:P.CCMVendorDectAmount,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMVendorDectAmount",value:""}),Oe(!0))}})),a().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(ce.Z,{"data-testid":P.CCMVendorDectKey,json:Ee,SPName:"CCMEstimationVendorInvoiceDetails",FieldName:"CCMVendorDectKey",tfLabel:Ye("CCMVendorDectKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{_e&&nt(1,"","ClearAll"),ze(!0)},frmctrlid:"fld300_18514",frmctrlidName:"CCMVendorDectKey",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{_e&&nt(e,t,"CCMVendorDectKey"),at(t,"CCMVendorDectKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ze(!0)},showList:_e,SideEntryView:!1,KeyBack:e=>{},value:P.CCMVendorDectKey,loading:k,clear:e=>{e&&(F({type:"text",name:"CCMVendorDectKey",value:""}),ze(!0))}})))))),a().createElement("div",{id:"CCMEstimationVendorInvoiceDetailsSideBar",className:"sidenav"},a().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("CCMEstimationVendorInvoiceDetailsSideBar").style.width="0",void b(!1))},""),S&&a().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},A))))))))}));l(77366),l(97829);var xe=l(65197);const Ae=(0,n.forwardRef)(((e,t)=>{const l=(0,n.useRef)(),[C,m]=((0,o.useSelector)((e=>e.form)),(0,n.useState)([])),[s,u]=(0,n.useState)(!0),[p,c]=(0,n.useState)(e.showDetail),[E,D]=(0,n.useState)(""),[g,y]=a().useState(!1),[N,v]=a().useState(""),[V,T]=a().useState(!1),f=(0,n.useContext)(ke),{cstate:S,cdispatch:b}=Be(),[h,x]=(0,n.useState)(!1),[A,w]=(0,n.useState)(""),[P,F]=(0,n.useState)(""),[k,B]=(0,n.useState)("");let Z=(0,M.Z)();(0,n.useEffect)((()=>{S.editData.length>0&&(m(S.editData),y(!1),b({type:"PrimaryId",payload:S.editData[0].CCMEstVendorIDPK}))}),[S.editData]),(0,n.useEffect)((()=>{S.showTableview&&B(S.showTableview)}),[S.showTableview]),(0,n.useEffect)((()=>{u(S.ExpandDetailValue)}),[S.ExpandDetailValue]),(0,n.useImperativeHandle)(t,(()=>({tableClick:e=>{u(e),y(null)},viewtoggle:()=>{y(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let n=I.v.Api+"FP300S3/",a={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:e.Dialogview?"1":null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:1,p123:10,p124:S.IsDraft?"DraftCCMEstVendorID":"CCMEstVendorID",p125:null,p126:null,p127:localStorage.getItem("UserGroupID"),p128:localStorage.getItem("userid")}};(0,Ce.Z)(0).then((e=>{(0,d.Z)(n,a,e).then((e=>{f.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===g&&l.current.clear()}})));const L=e=>Z?.[e]?Z?.[e]:e,K=e=>S.language?.[e]?S.language[e]:e;function R(e,t){}const O=(e,t)=>(l,n)=>{v(V?Object.assign(...C.filter((e=>e.CCMEstVendorIDPK==t)).map((e=>e))):S.editData),y(!n&&e)};return a().createElement("div",null,a().createElement(r.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&u(!s)}},!g&&a().createElement(j.Z,null,a().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?a().createElement("div",{className:"displayFlex EntryViewHeader"},a().createElement("p",{className:"ListP"},S.IsDraft?L("Draft"):"",K("CCMEstimationVendorInvoiceDetails"),e.viewonly?" ":"("+S.count+")")):"",s?a().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&S.AccessRights.IsAdd?a().createElement(X.Z,{name:L("Add"),frmctrlid:"fld300L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{f.hideAddBtn(!0),b({type:"editData",payload:[]}),b({type:"ShowDetail",payload:!1}),b({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&S.AccessRights.IsEdit?a().createElement(de.Z,{frmctrlid:"fld300L1VCEditBtn",onClick:O("panel0",""),disabled:!1}):S.IsDraft&&S.AccessRights.IsAdd&&a().createElement(de.Z,{frmctrlid:"fld300L1VCEditBtnIsAdd",onClick:()=>{O("panel","")},disabled:!1}),!e.viewonly&&a().createElement(ie.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld300L1VCCloseBtn",onClick:()=>{u(!1),f.hideAddBtn(!1),V&&(b({type:"editData",payload:[]}),m([]))}})):"")),a().createElement(i.Z,{style:{display:"block"}},C.map(((t,n)=>a().createElement("div",{key:n},g==="panel"+n?a().createElement(he,{ref:l,parentId:e.parentId}):a().createElement(a().Fragment,null,a().createElement(xe.Z,{tableName:"CCMEstimationVendorInvoiceDetails",tableID:300,parentID:t.CCMEstVendorIDPK,fldid:"fld300L1VCContainer",OpenSlideComponent:R,index:n,refresh:k,val:t,tf:K,t:L,title:"10.0.0.84-17:19:01-6-9[300]"}))))))))}));var we=l(67698),Pe=l(55995),Fe=(l(45965),l(41722));l(9175);const ke=(0,n.createContext)(),Be=()=>{const e=(0,n.useContext)(ke);if(void 0===e)throw new Error("useCont must be used within  CCMEstimationVendorInvoiceDetailsContext Provider");return e},Ze=[],Le=(0,n.forwardRef)(((e,t)=>{const l=(0,n.useRef)(),r=(0,n.useRef)(),i=(0,n.useRef)(),d=(0,n.useRef)(),C=(0,n.useRef)(),[m,s]=(0,n.useState)(!0),[u,p]=(0,n.useState)(),c=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[I,E]=(0,n.useState)(0),[D,M]=(0,n.useReducer)(Fe.D,Fe.E),[g,y]=(0,n.useState)(""),[N,v]=(0,n.useState)([]),[V,T]=(0,n.useState)(!1);(0,n.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divCCMEstimationVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,n.useEffect)((()=>{s(!0),document.getElementById("divCCMEstimationVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,n.useEffect)((()=>{e.editData&&(M({type:"editData",payload:[e.editData]}),M({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,n.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{M(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>l.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>l.current.HideEntryFields(!0)),500)}})));const f=e=>{v([]),document.getElementById("divCCMEstimationVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetailsEntryTable").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainEntry").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainEntry").style.display="block",document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.add("displayFlex"),document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails").style.width="0%",document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails").style.display="none"};(0,n.useEffect)((()=>{c((e=>{(0,Ce.Z)(1).then((e=>{var t=new Array;t.push(e),M({type:"token",payload:t}),E(t.length),S(e)}))}))}),[]);const S=t=>{M({type:"AccessRights",payload:e.AccessRights})};return a().createElement("div",{style:{width:"100%"}},a().createElement(ke.Provider,{value:{cstate:D,cdispatch:M,ContextApi:Be,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh()},searchItem:e=>{0!==I&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{C.current.tempsave(e,N),v([])},EditClose:e=>f(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewCCMEstimationVendorInvoiceDetails").style.width="50%",document.getElementById("divCCMEstimationVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainEntry").style.width="100%",document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMEstimationVendorInvoiceDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails").style.display="block",document.getElementById("overlayimgAttCCMEstimationVendorInvoiceDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),M({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{M({type:"ShowDetail",payload:!1}),M({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{C.current.tempClear(),d.current.clrImgstate(!0)},cardRefresh:t=>e.cardRefresh()}},a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-MainEntry",className:"",style:{background:"#fff"}},a().createElement("div",{style:{display:"flex"}},a().createElement("div",{id:"CCMEstimationVendorInvoiceDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?a().createElement("div",null,a().createElement("div",{className:"displayFlex width100"},a().createElement("div",{id:"divCCMEstimationVendorInvoiceDetails-Entry",style:{width:"100%"}},0!==I?a().createElement(Ae,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),a().createElement(Pe.Z,{ref:C,menurefID:300,fileId:"LogoImgCCMEstimationVendorInvoiceDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewCCMEstimationVendorInvoiceDetails",frmctrlid:"PvwIm_300_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),v(e)},clearTempData:D.Add})):a().createElement("div",null,a().createElement("div",{className:"displayFlex width100"},a().createElement("div",{id:"divCCMEstimationVendorInvoiceDetails-Entry",style:{width:"100%"}},!e.tableview&&a().createElement(he,{ref:r,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),a().createElement(Pe.Z,{ref:C,menurefID:300,fileId:"LogoImgCCMEstimationVendorInvoiceDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewCCMEstimationVendorInvoiceDetails",frmctrlid:"PvwIm_300_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),v(e)},clearTempData:D.Add})),a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-MainTable"},0!==I?a().createElement(re,{ref:l,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),a().createElement(we.Z,{ImgAttachment:e=>f(),menurefID:300,fileId:"AttImgCCMEstimationVendorInvoiceDetails",imgid:"overlayimgAttCCMEstimationVendorInvoiceDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,l,n)=>{C.current.PriviewItem(e,t,l,n)},previd:"overlayPreviewCCMEstimationVendorInvoiceDetails",ref:d,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_300_L1_",timglist:e=>{C.current.timglist(e),v(e)},clearTempData:D.Add}))),a().createElement("div",{id:"CCMEstimationVendorInvoiceDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))}}]);