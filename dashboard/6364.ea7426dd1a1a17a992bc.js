"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[6364],{6364:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(92950),n=a.n(s),i=a(71168),l=a.n(i),o=a(49375),r=a(14439),c=a(27848),u=a(40900),m=a(24522),d=a(25108);const g=[{name:"Customer",id:0,active:"btnactvtab",width:"25%",IsConflict:"0",count:0},{name:"BusinessClassification",id:1,active:"",width:"25%",IsConflict:"0",count:0}],f=function(e){const{classes:t}=e,a=(0,s.useRef)(null),[i,f]=(0,s.useState)(""),[b,p]=(0,s.useState)(""),[C,h]=(0,s.useState)([]),[v,E]=(0,s.useState)([]),[S,y]=(0,s.useState)([]),[M,I]=(0,s.useState)([]),[w,B]=(0,s.useState)(0),[N,O]=(0,s.useState)([]),[x,D]=(0,s.useState)([]),[k,T]=(0,s.useState)({}),[_,F]=(0,s.useState)(g);var Z=[...g];const[R,L]=(0,s.useState)(!0),[j,A]=(0,s.useState)(!1),[U,V]=l()("772");function K(t){if("200"!=t.Output.status.code)return e.loading(!1),e.alertmsg({open:!0,color:"error",message:[t.Output.status.message]}),!1;{a.current.conflictStage(),e.loading(!0);const s={Customer:{setter:D},BusinessClassification:{setter:O}};Object.keys(t.Output.data).forEach((e=>{const a=t.Output.data[e],n=a.filter((e=>"1"===e.IsConflict));n.length>0&&P(0,n.length),e in s&&s[e].setter(a)})),e.loading(!1)}}const P=(e,t)=>{const a=g.filter((t=>t.id==e)),s={name:a[0].name,id:a[0].id,active:a[0].active,width:a[0].width,IsConflict:"1",count:t},n=[...Z],i=n.findIndex((t=>t.id==e)),l=n[i];n.splice(i,1,{...l,...s}),Z=n,F(n)};return n().createElement("div",null,n().createElement("div",{id:"CustomerMig-MainDiv",className:"MainDivStyles displayFlex"},n().createElement("div",{id:"CustomerMig-MainEntry",className:"Maincontent",style:{width:"100%"}},n().createElement(r.Z,null,n().createElement(c.Z,{sm:12},n().createElement(o.Z,{MigType:"CustomerMigration",alertmsg:t=>e.alertmsg(t),conflictFinalData:{Customer:x,BusinessClassification:N},data:e=>K(e),reset:()=>(O([]),D([]),L(!0),A(!1),MigrationClear(),void F(g)),filename:e=>f(e),fileData:e=>p(e),importSave:t=>function(t){if(!b)return e.alertmsg({open:!0,color:"error",message:["Kindly Upload file to Import"]}),!1;e.loading(!0);let a=new FileReader;a.readAsDataURL(b[0]),a.onload=()=>{let a=u.v.Api+"uploadExcel/",s=new FormData;s.append("uploadExcel",b[0]),fetch(a,{method:"POST",headers:{"x-userid":localStorage.getItem("userid"),"mig-type":"CustomerMigration","mig-btn-type":t,FORM_ID:1},body:s}).then((e=>e.json())).then((a=>{"200"==a.Output.status.code?(K(a),e.loading(!1),e.alertmsg({open:!0,color:"Success",message:[a.Output.status.message]}),"process"!=t&&(f(""),p(""))):(e.loading(!1),e.alertmsg({open:!0,color:"error",message:[a.Output.status.message]}))})).catch((t=>{e.loading(!1),d.error(t)}))}}(t),NameFile:i,excelfile:u.v.excel+"CustomerMigration.xlsx",SheetCount:11,ref:a,importdisabled:_.filter((e=>"1"==e.IsConflict)).length>0}))),n().createElement("div",{className:"CustomerMig-formtabs formtabs"},_.map(((e,t)=>n().createElement("button",{key:t,disabled:!1,style:{width:e.width,background:"1"==e.IsConflict?"#fad6a5":"#fff"},className:e.active+" secondaryMenuBtn ",onClick:()=>function(e){var t=_.length;for(let e=0;e<t;e++)document.getElementsByClassName("CustomerMig-formtabs")[0].getElementsByTagName("button")[e].classList.remove("btnactvtab");document.getElementsByClassName("CustomerMig-formtabs")[0].getElementsByTagName("button")[e].classList.add("btnactvtab"),B(e)}(e.id)},e.name,n().createElement("span",null," "),n().createElement("span",null,Number(e.count)>0?"("+e.count+")":""))))),0==w&&n().createElement(m.Z,{tableData:x,TableVisibleItem:S,TableBodyItem:M,n:!0}),1==w&&n().createElement(m.Z,{tableData:N,TableVisibleItem:C,TableBodyItem:v}))))}}}]);