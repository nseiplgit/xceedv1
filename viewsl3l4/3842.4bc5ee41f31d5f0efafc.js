"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[3842],{92448:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),s=(0,l(a(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=s},25462:(e,t,a)=>{a.d(t,{Oh:()=>Me,kN:()=>Se,ZP:()=>Ne});var l=a(92950),i=a.n(l),n=(a(95866),a(45237)),s=a(36939),r=a(61201),o=a(59009),c=a(51673),d=(a(99058),a(80366)),C=a(282),m=a(868),p=a(78513),g=a(14439),u=a(27848),D=a(40900),y=a(64059),h=a(24038),f=a(8981),I=a(47516),v=a(86893),P=a(33681),E=a(63163),k=a(25108);const M=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,s]=(0,l.useState)([]),[r,o]=(0,l.useState)({idpk:"",name:"",type:""}),[M,S]=(0,l.useState)(""),[N,w]=(0,l.useState)({}),[b,T]=(0,l.useState)(!0),[x,A]=(0,l.useState)(!1),{cstate:R,cdispatch:B}=e.ContextApi?e.ContextApi:Se(),[F,L]=(0,l.useState)(1),[Z,O]=(0,l.useState)(0),[z,K]=(0,l.useState)(!1),[G,V]=(0,l.useState)({}),[_,U]=(0,l.useState)([]),[H,Y]=(0,l.useState)(!0);let j=localStorage.getItem("Language");const $={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let W=(0,f.Z)();const J=e=>W[e]?W[e]:e,q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[$[j]];function Q(){w({}),V({}),e.searchData({}),A(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));U(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Q()}})));const X=async(t,a,l,i)=>{K(!0);let r=a.IsForeign?a.FieldName+"PK":"CCMCheckPtsDetIDPK";try{let d="",C=[],m={};await o((e=>(d=e.name,e))),await w((e=>(C=e,e))),await V((e=>(m=e,e)));const p=D.v.Api+"FP1450S3/",g={data:{p1:a.IsForeign?await ae():null,p2:"CCMCheckPtsDetCode"==d&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:"CheckPointName"!=d&&C.CheckPointName?C.CheckPointName.map((e=>e.CCMCheckPointIDPK)).toString():null,p6:e.parentId?e.parentId:"0",p7:e.Dialogview?"1":null,p8:null,p9:"p9"==d&&l.length>0?l:null,p10:null,p11:null,p12:null,p13:null,p14:"CheckPointCode"==d&&l.length>0?"%"+l+"%":null,p15:"CheckPointName"==d&&l.length>0?"%"+l+"%":null,p16:"DivisionName"!=d&&C.DivisionName?C.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p17:"DivisionCode"==d&&l.length>0?"%"+l+"%":null,p18:"DivisionName"==d&&l.length>0?"%"+l+"%":null,p19:"DisciplineName"!=d&&C.DisciplineName?C.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p20:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p21:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p22:i||1,p23:10,p24:t,p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};await(0,c.Z)(p,g,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===i){let e=te(l,d),t=ee(e,N[d],r);s(t),O(t.length>0?t[0].TotalCount:N[d].length)}else{let e=[...n,...l],t=te(e,d);O(t.length<10?t.length:l[0].TotalCount),s(te(t,d))}else M.length>0&&s([]),O(n.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},ee=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function ae(){let e={};await w((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.CCMCheckPtsDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function le(t,a,l,i,n,s){let r={[i]:{From:t,Type:l,To:a}},o={};V((e=>({...e,...r})));const c={...N};let d=[..._],C=[];for(let e of d){let t=c[e]?.map((e=>e.CCMCheckPtsDetIDPK)).toString();t&&C.push(t)}await V((e=>(o=e,e)));let m={CCMCheckPtsDetIDPK:C?[...new Set(C)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,CCMCheckPtsConfigID:N.CheckPointsConfigCode?.map((e=>e.CCMCheckPtsConfigIDPK)).toString(),CCMCheckPointID:N.CheckPointName?.map((e=>e.CCMCheckPointIDPK)).toString()};e.searchData(m)}function ie(){return i().createElement(y.Z,{frmctrlid:"fld1450L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{le(e,t,a,r.name,l)},keyboardback:()=>{A(!1),o({idpk:"",name:"",type:""})},title:J(r.name),fieldname:r.name,save:e=>{alert(!0)}})}return i().createElement("div",null,x?"Created Ttm"===r.name||r.name.includes("Date")?i().createElement(ie,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(g.Z,null,i().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},q(r.idpk)," (",n.length,"/",Z,")")),i().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(m.ZP,{title:J("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(d.Z,{id:"fld1450L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{A(!1),o({idpk:"",name:"",type:""}),L(1)}}))),N[r.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(C.Z,{frmctrlid:"fld1450L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await w((t=>(e=t,k.log("clear fewItems",e),t))),e[r.name]=[],X(r.type,r.name,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},J("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},b?i().createElement(m.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(v.D7o,{className:"FilterMaximizeIcon",onClick:()=>{T(!1)}}))):i().createElement(m.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(v.dOw,{className:"FilterMaximizeIcon",onClick:()=>{T(!0)}})))),i().createElement("ul",null,N[r.name]&&N[r.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:b?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[r.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{L(1);let a=N[r.name].filter((t=>t!=e)),l={};await w((e=>(l=e,e))),l[r.name]=a,w(l),s((t=>[e,...t]))})(e)},i().createElement(d.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(h.Z,{frmctrlid:"fld1450L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:M,placeholder:J("Enter ")+" "+q(r.idpk),onChange:e=>{S(e),X(r.type,r.name,e,1,ae())}})),i().createElement("div",{id:"fld1450L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await w((e=>(a=e,e)));let i=[..._],n=[];for(let e of i){let t=a[e]?.map((e=>e.CCMCheckPtsDetIDPK)).toString();t&&n.push(t)}await V((e=>(l=e,e)));let s={CCMCheckPtsDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",CCMCheckPtsConfigID:N.CheckPointsConfigCode?.map((e=>e.CCMCheckPtsConfigIDPK)).toString(),CCMCheckPointID:N.CheckPointName?.map((e=>e.CCMCheckPointIDPK)).toString()};e.searchData(s),A(!1)}},i().createElement(m.ZP,{title:"",placement:"top"},i().createElement(C.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),z&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(P.Z,{color:"secondary"})),i().createElement("div",{id:"fld1450L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await w((e=>(l=e,e)));let i=l[r.name];t[r.name]=i?[...a,...i]:a,l={...l,...t},w(l),s((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(p.Z,{className:"DotIcon"}),i().createElement("span",null,e[r.name])))),n.length+0<Z&&n.length>0&&i().createElement("div",{id:"fld1450L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{L(F+1),X(r.type,r.name,"",F+1)}},i().createElement("p",null," more... ")),0===n.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:D.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(I.Ol$,{className:"columnHeaderIcon"})),i().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,i().createElement(m.ZP,{title:"",placement:"top"},i().createElement(C.Z,{className:"ColumnApplyButton",onClick:()=>{Q()},id:"fld1450L1TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},J("Clear")))),i().createElement(m.ZP,{title:"",placement:"top"},i().createElement(C.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1450L1TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},J("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld1450L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{A(!0),S(""),s([]),O(0),o({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterCCMCheckPtsDetID"}),X(e.IsForeign?"Filter"+e.FieldName:"FilterCCMCheckPtsDetID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,q(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,q(e.AdminUserGridViewIDPK)),i().createElement(E.Z,{checked:"1"==H,onChange:t=>{Y(t.target.checked),le("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,q(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,N[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},N[a][0][a]),N[a].length>1&&i().createElement("span",{className:"RoundedDivName"},N[a][1][a]),N[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(N[a].length-2))))));var a}))))))}));var S=a(54180),N=a(43031),w=a(110),b=a(5109),T=a(88995),x=a(50743),A=a(61657),R=a(51209),B=a(53854),F=a(51649),L=a(37106),Z=a(5434),O=a(83817),z=a(39327),K=a(3212),G=a(93521),V=a(71168),_=a.n(V),U=a(65107),H=a(94986),Y=a(15999);a(11557),window.clickFilter="";const j=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),C=(0,l.useRef)(null),[p]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g]=(0,l.useState)("1450"),[u,y]=(0,l.useState)(!1),[P,E]=(0,l.useState)(!1),[k,V]=(0,l.useState)(0),[j,$]=(0,l.useState)(0),[W,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ie]=(0,l.useState)([]),[ne,se]=(0,l.useState)({val:"",column:""}),[re,oe]=(0,l.useState)([]),[ce,de]=(0,l.useState)(!1),[Ce,me]=(0,l.useState)(""),[pe,ge]=(0,l.useState)(""),[ue,De]=(0,l.useState)(!1),[ye,he]=(0,l.useState)([]),[fe,Ie]=(0,l.useState)([]),[ve,Pe]=(0,l.useState)([]),[Ee,ke]=(0,l.useState)({children:[{name:"CCMCheckPtsConfigDetails",children:[]}]}),[Ne,we]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:Me),{cstate:Te,cdispatch:xe}=e.ContextApi?e.ContextApi:Se();let Ae={CCMCheckPtsDetIDPK:"",CCMCheckPtsDetCode:"",IsDraft:"",Remarks:"",CCMCheckPointID:"",CCMCheckPtsConfigID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",CheckPointCode:"",CheckPointName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Re,Be]=(0,l.useState)(Ae),[Fe,Le]=(0,l.useState)(Ae),[Ze,Oe]=(0,l.useState)(!1),[ze,Ke]=(0,l.useState)(!0),[Ge,Ve]=(0,l.useState)(!1),[_e,Ue]=(0,l.useState)(!0),[He,Ye]=(0,l.useState)({CCMCheckPtsDetCode:"",CheckPointsConfigCode:"",CheckPointName:""}),[je,$e]=(0,l.useState)(!1),[We,Je]=(0,l.useState)([]),[qe,Qe]=(0,l.useState)(0),[Xe,et]=(0,l.useState)(0),[tt,at]=(0,l.useState)({current:1,pageSize:10}),[lt,it]=(0,l.useState)([]),[nt,st]=(0,l.useState)([]),[rt,ot]=(0,l.useState)(!1),[ct,dt]=(0,l.useState)(!1),[Ct,mt]=(0,l.useState)(!1),[pt,gt]=(0,l.useState)(""),[ut,Dt]=_()("1450"),[yt,ht]=(0,l.useState)({}),[ft,It]=(0,l.useState)({}),vt=[{columns:lt,data:te}];let Pt=(0,f.Z)();const Et=e=>Pt[e]?Pt[e]:e,kt=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{xt(ut)}),[ut]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?bt(X,Ae,"CCMCheckPtsDetID"):oe([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ne&&e.parentId?bt(X,Ce,"CCMCheckPtsDetID"):Ne&&Le(Ce)}),[Ce]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Mt(e)},tableRefresh:()=>{bt(X,Ae,"CCMCheckPtsDetID")},DialogTableProps:e=>{E(e)},HideEntryFields:e=>{mt(!0===e)}})));const Mt=e=>{""==e?bt(X,Ae,Ze?"DraftCCMCheckPtsDetID":"CCMCheckPtsDetID",Ze&&"DraftPage"):Tt(e,{current:1,pageSize:100}),ge(e)};function St(t){be.loading(!0);let a=D.v.Api+"FP1450S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,et(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Qe(Math.ceil(a)):20==t.pageSize?Qe(Math.ceil(a/2)):50==t.pageSize?Qe(Math.ceil(a/5)):100==t.pageSize&&Qe(Math.ceil(a/10)),Je(e.Output.data),be.loading(!1)}}))}function Nt(e,t){xe({type:"editData",payload:[t]}),xe({type:"IsDraft",payload:Ze}),xe({type:"ShowDetail",payload:!0}),be.Expanded(!0),Ge&&De(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(E(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Tt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]);const wt=()=>{be.EditClose(!0),ce?(document.getElementById("CCMCheckPtsConfigDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("CCMCheckPtsConfigDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("CCMCheckPtsConfigDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),_e?(P||(document.getElementById("CCMCheckPtsConfigDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("CCMCheckPtsConfigDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMCheckPtsConfigDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("CCMCheckPtsConfigDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("CCMCheckPtsConfigDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("CCMCheckPtsConfigDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),document.getElementById("CCMCheckPtsConfigDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),De(!1),window.clickFilter=!ce},bt=(t,a,l,i,n,s)=>{be.loading(!0),"DraftPage"!==i&&Oe(Te.IsDraft);let r=D.v.Api+"FP1450S3/",o={data:{p1:n||(a&&a.CCMCheckPtsDetIDPK?a.CCMCheckPtsDetIDPK:null),p2:a&&a.CCMCheckPtsDetCode?a.CCMCheckPtsDetCode:null,p3:"DraftCCMCheckPtsDetID"==l?"1":"0",p4:null,p5:a&&a.CCMCheckPointID?a.CCMCheckPointID:null,p6:e.parentId?Number(e.parentId):0,p7:a&&a.IsActive,p8:null,p9:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p10:a&&a.CreatedTtm?a.CreatedTtm:null,p11:a&&a.CreatedTtmType?a.CreatedTtmType:null,p12:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p13:null,p14:a&&a.CheckPointCode?a.CheckPointCode:null,p15:a&&a.CheckPointName?a.CheckPointName:null,p16:a&&a.DivisionID?a.DivisionID:null,p17:a&&a.DivisionCode?a.DivisionCode:null,p18:a&&a.DivisionName?a.DivisionName:null,p19:a&&a.DisciplineID?a.DisciplineID:null,p20:a&&a.DisciplineCode?a.DisciplineCode:null,p21:a&&a.DisciplineName?a.DisciplineName:null,p22:n?1:t.current,p23:t.pageSize,p24:l,p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};(0,c.Z)(r,o,Te.token[0]).then((r=>{if(n)(0,O.a)(r,xe,i,s,be);else if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let e=0;r.Output.data.length>0?(e=parseFloat(r.Output.data[0].TotalCount,10)/10,J(r.Output.data[0].TotalCount),Q(r.Output.data[0].DraftCnt),xe({type:"count",payload:r.Output.data[0].TotalCount}),"DraftPage"==i&&Q(r.Output.data[0].TotalCount)):e=0,10==t.pageSize?$(Math.ceil(e)):20==t.pageSize?$(Math.ceil(e/2)):50==t.pageSize?$(Math.ceil(e/5)):100==t.pageSize&&$(Math.ceil(e/10)),oe(r.Output.data),be.loading(!1)}e.Dialogview||(document.getElementById("divCCMCheckPtsConfigDetails-Entry").style.height="auto",document.getElementById("divCCMCheckPtsConfigDetails-Entry").style.display="block")}else be.loading(!1),"DraftCCMCheckPtsDetID"===l?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),Oe(!1)):(oe([]),ee({current:1,pageSize:10}),$(0),J(0),xe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[r.Output.status.message]}),be.loading(!1)}))};function Tt(t,a){be.loading(!0);const l=D.v.Api+"FP1450S4/",i={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,i,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),xe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?$(Math.ceil(t)):20==a.pageSize?$(Math.ceil(t/2)):50==a.pageSize?$(Math.ceil(t/5)):100==a.pageSize&&$(Math.ceil(t/10)),oe(e.Output.data),be.loading(!1)}else oe([]),$(0),J(0),xe({type:"count",payload:"0"}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function xt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),xe({type:"language",payload:Object.assign({},...i)}),Ye(a.reduce(((e,t)=>(e[t]="",e)),{})),he(e),Ie(t),Pe(a),it(l),st(a)}const At=()=>Ne?null:i().createElement("div",null,je?i().createElement(H.Z,{data:We,expanded:e=>!P&&be.Expanded(e),edit:(e,t,a)=>{P?be.select(e):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:t}),xe({type:"ShowDetail",payload:a}))}}):i().createElement(U.Z,{ref:C,frmctrlid:"tblcs_1450_L1_",id:"CCMCheckPtsConfigDetailsTable",headerdata:fe,tablesearchparams:He,searchvalue:e=>{Ye(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...yt};It(t),ee({current:1,pageSize:10}),bt({current:1,pageSize:10},t,Ze?"DraftCCMCheckPtsDetID":"CCMCheckPtsDetID",Ze&&"DraftPage")},bodydata:re,ondrag:Nt,bodyitem:ve,visibleitem:fe,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:g,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!P&&be.Expanded(e),edit:(e,t,a)=>{P?be.select(e):(Object.keys(e).map(((l,i)=>{l.includes("IDPK")&&bt(X,null,t?"DraftCCMCheckPtsDetID":"CCMCheckPtsDetID",t&&"DraftPage",e[l],a)})),be.hideAddBtn(!0))},viewtoggle:be.viewtoggle,isexpanded:!P||Ge,tf:kt,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ve(Te.ExpandTableValue)}),[Te.ExpandTableValue]),i().createElement("div",null,!Ct&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld1450L1ECSearchBar",className:"searchbar1"},i().createElement(h.Z,{frmctrlid:"fld1450L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:pe,onChange:e=>{ge(e),be.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},pe?i().createElement("div",{id:"fld1450L1TCCloseIconCommonSearch",onClick:()=>{ge(""),be.searchItem("")}},i().createElement(d.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld1450L1TCInputSearchIcon"},i().createElement(T.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("CCMCheckPtsConfigDetailsgridsearch").focus()}})))),i().createElement("div",null,Te.AccessRights.IsAdd?i().createElement(K.Z,{className:"SaveBtnCommon",frmctrlid:"fld1450L1TCAddBtnIsAdd",onClick:()=>{be.hideAddBtn(!0),xe({type:"editData",payload:[]}),xe({type:"ShowDetail",payload:!1}),xe({type:"Add",payload:!0})}}):"")),i().createElement(s.Z,{expanded:ze,onChange:()=>()=>{Ke(Ge)}},e.Dialogview&&i().createElement(x.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.28-13:05:52-4-5[1450]"},`${kt("1450")} (${W})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld1450L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(h.Z,{frmctrlid:"fld1450L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:pe,onChange:e=>{Mt(e)}}),i().createElement("div",{className:"search_icon"},pe?i().createElement("div",{id:"fld1450L1TCInputCloseIcon",onClick:()=>{Mt("")}},i().createElement(d.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld1450L1TCInputSearchIcon"},i().createElement(T.Z,{className:"InputSearchIcon"}))))))),i().createElement(r.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"CCMCheckPtsConfigDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&i().createElement("div",{frmctrlid:"fld1450L1TCFilterDataIsDraft",id:"CCMCheckPtsConfigDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{wt()}},i().createElement(m.ZP,{title:Et("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Et("Filter Data"))),!P&&!Ze&&!Ne&&i().createElement(S.Z,{formctrlidprint:"fld1450L1TCExportPrint",formctrlidexport:"fld1450L1TCExportTable",formctrlidrefresh:"fld1450L1TCExportRefresh",title:kt("CCMCheckPtsConfigDetails"),data:le,exportData:vt,Items:nt,columnIndex:lt,TableVisibleItem:fe,userGridViewFormID:g,TableTotalCount:W,triggerApi:t=>{((t,l,i,n,s)=>{if(0===W)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let r=D.v.Api+"FP1450S3/",o={data:{p1:t&&t.CCMCheckPtsDetIDPK?t.CCMCheckPtsDetIDPK:null,p2:t&&t.CCMCheckPtsDetCode?t.CCMCheckPtsDetCode:null,p3:Ze?"1":"0",p4:null,p5:t&&t.CCMCheckPointID?t.CCMCheckPointID:null,p6:e.parentId?Number(e.parentId):0,p7:t&&t.IsActive,p8:null,p9:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p10:t&&t.CreatedTtm?t.CreatedTtm:null,p11:t&&t.CreatedTtmType?t.CreatedTtmType:null,p12:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p13:null,p14:t&&t.CheckPointCode?t.CheckPointCode:null,p15:t&&t.CheckPointName?t.CheckPointName:null,p16:t&&t.DivisionID?t.DivisionID:null,p17:t&&t.DivisionCode?t.DivisionCode:null,p18:t&&t.DivisionName?t.DivisionName:null,p19:t&&t.DisciplineID?t.DisciplineID:null,p20:t&&t.DisciplineCode?t.DisciplineCode:null,p21:t&&t.DisciplineName?t.DisciplineName:null,p22:X.current,p23:W,p24:Ze?"DraftCCMCheckPtsDetID":"CCMCheckPtsDetID",p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${kt(1450)} - ${s.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(r,o,Te.token[0],s).then((e=>{(0,G.PDF_Excel_Generate)(e,be,nt,ae,a,s)}))})(Ce,ne.column,0,0,t)},Refresh:()=>{ge(""),ee({current:1,pageSize:100}),C.current.clearItem(),!Te.ShowDetail&&be.clear(),Te.IsDraft?bt({current:1,pageSize:100},Ae,"DraftCCMCheckPtsDetID"):bt({current:1,pageSize:100},Ae,"CCMCheckPtsDetID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ze&&!Ne&&!P&&i().createElement("div",{className:"buttoncard",onClick:()=>dt(!ct)},i().createElement("span",null,ct?i().createElement(m.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},i().createElement("span",{id:"fld1450L1TCLess"},i().createElement(B.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(m.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},i().createElement("span",{id:"fld1450L1TCMore"},i().createElement(B.ilJ,{className:"tableFilterColumnIcon"}))))),ct?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},Ne||!Ge?null:P||!Te.AccessRights.IsAdd||Ze?"":i().createElement("div",null,i().createElement("div",{frmctrlid:"fld1450L1TCFilterDataIsAdd",id:"CCMCheckPtsConfigDetailscoldiv",className:"buttoncard",onClick:()=>{be.EditClose(!0),ue?(document.getElementById("CCMCheckPtsConfigDetailsFilterDiv").style.width="0%",document.getElementById("CCMCheckPtsConfigDetailsTabDiv").style.width="100%",document.getElementById("CCMCheckPtsConfigDetailsFilterDiv").style.display="none",document.getElementById("CCMCheckPtsConfigDetailscoldiv").style.width="fit-content",document.getElementById("CCMCheckPtsConfigDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("CCMCheckPtsConfigDetailsFilterDiv").style.width="25%",document.getElementById("CCMCheckPtsConfigDetailsTabDiv").style.width="75%",document.getElementById("CCMCheckPtsConfigDetailsFilterDiv").style.display="block",document.getElementById("CCMCheckPtsConfigDetailsfildiv").style.width="fit-content",document.getElementById("CCMCheckPtsConfigDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMCheckPtsConfigDetailscoldiv").style.width="fit-content",document.getElementById("CCMCheckPtsConfigDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),de(!1)}},i().createElement(m.ZP,{title:Et("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(z.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&Ge&&!Ne&&!Ze&&i().createElement("div",null,i().createElement("div",{id:"CCMCheckPtsConfigDetailscoldiv",className:"buttoncard",onClick:()=>{je?$e(!1):($e(!0),St({current:1,pageSize:100}))}},i().createElement(m.ZP,{title:Et("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld1450L1TCTableScrollData"},i().createElement(Y.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!Ne&&Ze?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{be.hideAddBtn(!1),be.ExpandEntry(),bt({current:1,pageSize:100},Ae,"CCMCheckPtsDetID"),Oe(!1),ge(""),xe({type:"IsDraft",payload:!1}),ee({current:1,pageSize:10})}},i().createElement(m.ZP,{title:Et("List"),placement:"top"},i().createElement("div",{id:"fld1450L1TCList"},i().createElement(F.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},Et("Drafts")," ",W)):!P&&!Ne&&Te.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(o.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},i().createElement("div",{id:"fld1450L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{q>0?(ee({current:1,pageSize:100}),V(0),be.clear(),ge(""),xe({type:"Add",payload:!1}),bt({current:1,pageSize:10},Ae,"DraftCCMCheckPtsDetID"),Oe(!0),xe({type:"IsDraft",payload:!0}),De(!1),Ue(!0),document.getElementById("CCMCheckPtsConfigDetailsFilterDiv").style.width="0%",document.getElementById("CCMCheckPtsConfigDetailsTabDiv").style.width="100%",document.getElementById("CCMCheckPtsConfigDetailsFilterDiv").style.display="none",ee({current:1,pageSize:100}),we(!1)):be.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},i().createElement(m.ZP,{title:Et("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(L.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!Ze&&!P&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ne||Ze?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld1450L1TCListView",onClick:()=>{Ue(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(B.umT,null)),i().createElement("span",null,Et("List"))),i().createElement("div",{className:_e||rt?"buttonGrid":"buttonList",id:"fld1450L1TCCardView",onClick:()=>{Ue(!1),ot(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(v.aCJ,null)),i().createElement("span",null,Et("Card"))),i().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld1450L1TCTileView",onClick:()=>{ot(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(Z.f_H,null)),i().createElement("span",null,Et("Tile"))))))),Ne?null:je?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(A.Z,{style:{color:"#777"},id:"fld1450L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:k,onPageChange:(e,t)=>{V(t),St({current:t+1,pageSize:tt.pageSize}),at({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(N.Z,{count:qe,color:"primary",page:tt.current,onChange:(e,t)=>{at({current:t,pageSize:tt.pageSize}),Qe(t),St({current:t,pageSize:tt.pageSize})}}),i().createElement("div",null,i().createElement(w.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld1450L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),St({current:1,pageSize:e.target.value})}},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),Ge&&i().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",Xe,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(A.Z,{style:{color:"#777"},id:"fld1450L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(W),page:k,onPageChange:(e,t)=>{V(t),bt({current:t+1,pageSize:X.pageSize},Ae,Ze?"DraftCCMCheckPtsDetID":"CCMCheckPtsDetID",Ze&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(N.Z,{count:j,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),Ze)bt({current:t,pageSize:X.pageSize},Re,"DraftCCMCheckPtsDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";pe.length>0?Tt(pe,{current:t,pageSize:X.pageSize}):bt({current:t,pageSize:X.pageSize},Re,"CCMCheckPtsDetID")}}}),i().createElement("div",null,i().createElement(w.Z,{className:"BootstrapInputStyle",value:X.pageSize,id:"fld1450L1TCSelectPaging",onChange:e=>{ee({current:1,pageSize:e.target.value}),Ze?bt({current:1,pageSize:e.target.value},Re,"DraftCCMCheckPtsDetID","DraftPage"):pe.length>0?Tt(pe,{current:1,pageSize:e.target.value}):bt({current:1,pageSize:e.target.value},Re,"CCMCheckPtsDetID")}},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),Ge&&i().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",W,") "))),i().createElement("div",{id:"CCMCheckPtsConfigDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"CCMCheckPtsConfigDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&i().createElement(M,{parentId:e.parentId,searchData:e=>{me(e||ft);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));ht(t)},formID:g,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>wt(),userGrid:ut,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]})}),ue&&i().createElement(b.Z,{Refresh:e=>{bt({current:1,pageSize:100},Ae,"CCMCheckPtsDetID")},frmctrlid:"fld1450L1TCTableColumnOrder",loading:e=>be.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:ue,userID:p,userGridViewFormID:g,saved:(e,t)=>{e&&xt(t),Dt(t),xe({type:"showTableview",payload:t})},Token:Te.token[0]})),i().createElement("div",{id:"CCMCheckPtsConfigDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?i().createElement(At,null):i().createElement(R.Z,{frmctrlid:"fld1450L1TCExpandedCardDual",data:re,id:"CCMCheckPtsConfigDetails",title:"CCMCheckPtsDetCode",cardTile:!!rt,visibleitem:fe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?be.select(e):("edit"==t?(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Ze}),xe({type:"ShowDetail",payload:!1}),be.Expanded(!0)):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Ze}),xe({type:"ShowDetail",payload:!0}),be.Expanded(!0),be.viewtoggle()),ce?de(!0):ue?De(!0):(De(!1),De(!1))),be.hideAddBtn(!0)}})))))))}));var $=a(37148),W=a(29800),J=(a(10966),a(21392),a(26537)),q=a(30553),Q=a(61956),X=(a(44528),a(99090)),ee=a(35131),te=a.n(ee),ae=a(1695),le=a(61924),ie=a.n(le),ne=(a(40826),a(55490)),se=a(92371);const re={EnterKeyValues:{CCMCheckPtsConfigDetails:["CCMCheckPtsDetCode","CheckPointsConfigCode","CheckPointName"]},Label:{CCMCheckPtsConfigDetails:{CCMCheckPtsDetCode:["CCMCheckPtsDetCode"],CCMCheckPtsConfigID:["CCMCheckPtsDetCode"],CCMCheckPointID:["CheckPointCode","CheckPointName"]}},LabelHeader:{CCMCheckPtsConfigDetails:{CCMCheckPtsDetCode:["CCMCheckPtsDetCode"],CCMCheckPtsConfigID:["CCMCheckPtsDetCode"],CCMCheckPointID:["Check Point Code","Check Point Name"]}},Property:{CCMCheckPtsConfigDetails:{CCMCheckPtsDetCode:{id:"fld1450_37747",labelID:"CCMCheckPtsDetCode",maxLength:"50",labelname:"",frmctrlid:"fld1450_37747",frmctrlidname:"CCMCheckPtsDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMCheckPtsConfigID:{id:"fld1450_37928",clearID:"CCMCheckPtsConfigDetailsCheckPointsConfigCodeClear",type:"select",labelID:"CCMCheckPtsConfigIDPK",labelname:"",fielddisplayname:"CheckPointsConfigCode",fieldOrder:"0",frmctrlid:"fld1450_37928",frmctrlidname:"CCMCheckPtsConfigID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},CCMCheckPointID:{id:"fld1450_37750",clearID:"CCMCheckPtsConfigDetailsCheckPointNameClear",type:"select",labelID:"CCMCheckPointIDPK",labelname:"Check Points",fielddisplayname:"CheckPointName",fieldOrder:"1",frmctrlid:"fld1450_37750",frmctrlidname:"CCMCheckPointID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{CCMCheckPtsConfigDetails:{CCMCheckPtsConfigID:["DisciplineID","DivisionID","CPNarration"],CCMCheckPointID:["CheckPointCode","CheckPointName"]}}};var oe=a(6562),ce=a(45155),de=a(79352),Ce=(a(49174),a(38773),a(19089),a(16233)),me=a.n(Ce),pe=a(82729),ge=a(75355),ue=a(11107),De=a(74095);const ye={CCMCheckPtsDetIDPK:"",CCMCheckPtsDetCode:"",IsDraft:!1,Remarks:"",CCMCheckPointID:null,CCMCheckPtsConfigID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",CheckPointCode:"",CheckPointName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",Type:"CCMCheckPtsDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},he=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[o,d]=(0,l.useState)(!1),[C,m]=(0,l.useState)(!0),[p,y]=(0,l.useState)(!1),[h,I]=(0,l.useState)(!1),[v,P]=(0,l.useState)(""),[k,M]=(0,l.useState)(!1),[S,N]=(0,l.useState)([]),[w,b]=(0,l.useState)(null),[T,A]=(0,l.useReducer)(se.Z,ye),[R,B]=(0,l.useState)(!1),[F,L]=(0,l.useState)([]),[Z,O]=(0,l.useState)(!1),z=(0,l.useContext)(e.context?e.context:Me),{cstate:K,cdispatch:G}=e.ContextApi?e.ContextApi:Se(),[V,_]=(0,l.useState)(0),[U,H]=(0,l.useState)(""),Y=(0,l.useRef)(null),[j,W]=me()("1450"),[ee,le]=(0,l.useState)([]),Ce=(0,l.useRef)(null),[he,fe]=(0,l.useState)(!1),[Ie,ve]=(0,l.useState)(!0),[Pe,Ee]=(0,l.useState)(!1);let ke=(0,f.Z)();const[Ne,we]=(0,l.useState)({}),be=e=>ke[e]?ke[e]:e,Te=t=>K.language?.[t]?K.language[t]:e.createEasy?Ne?.[t]:t;(0,l.useEffect)((()=>{K.PrimaryId&&_(Number(K.PrimaryId))}),[K.PrimaryId]),(0,l.useEffect)((()=>{Ae()}),[]),(0,l.useEffect)((()=>{Ae()}),[e.parentId]),(0,l.useEffect)((()=>{K.editData.length>0?(xe(K.editData[0],""),y(!0)):K.Add&&(Ae(),y(!0))}),[K.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),we(Object.assign({},...t))}(j)}),[j]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ae()},CreateEasyProps:(e=!0,t)=>{W(!0),t?(_e(t),y(e)):(Ae(),y(e))},AddOpen:e=>{Ae(),y(!0)}})));const xe=(t,a)=>{I(t.IsDraft),"SetDefaultCCMCheckPtsDetID"==a?H(t.CCMCheckPtsDetIDPK):(_(e.primid?Number(e.primid):t.CCMCheckPtsDetIDPK),G({type:"PrimaryId",payload:t.CCMCheckPtsDetIDPK})),A({type:"text",name:"CCMCheckPtsDetCode",value:t.CCMCheckPtsDetCode?t.CCMCheckPtsDetCode:""}),A({type:"number",name:"CCMCheckPtsConfigID",number:t.CCMCheckPtsConfigID?Number(t.CCMCheckPtsConfigID):0}),A({type:"text",name:"CheckPointsConfigCode",value:t.CheckPointsConfigCode}),A({type:"number",name:"CCMCheckPointID",number:t.CCMCheckPointID?Number(t.CCMCheckPointID):0}),A({type:"text",name:"CheckPointName",value:t.CheckPointName}),t.IsDraft?m(!0):m(!("1"!=t.IsActive&&!t.IsActive))},Ae=()=>{N([]),H(""),G({type:"PrimaryId",payload:""}),A({type:"text",name:"CCMCheckPtsDetCode",value:""}),A({type:"text",name:"CCMCheckPtsConfigID",value:null}),A({type:"text",name:"CheckPointsConfigCode",value:""}),document.getElementById("CCMCheckPtsConfigDetailsCheckPointsConfigCodeClear")&&document.getElementById("CCMCheckPtsConfigDetailsCheckPointsConfigCodeClear").click(),A({type:"text",name:"CCMCheckPointID",value:null}),A({type:"text",name:"CheckPointName",value:""}),document.getElementById("CCMCheckPtsConfigDetailsCheckPointNameClear")&&document.getElementById("CCMCheckPtsConfigDetailsCheckPointNameClear").click(),document.getElementById("CCMCheckPtsConfigDetailsCCMCheckPointIDClear")&&document.getElementById("CCMCheckPtsConfigDetailsCCMCheckPointIDClear").click(),le([]),_(0),m(!0),P(""),ve(!0)},Re=t=>{ve(!0),z.loading(!0),z.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const a=`${D.v.Api}${V?"FP1450S1/":"FP1450S19/"}`,l={data:[{p1:"SetDefaultCCMCheckPtsDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:Ue(T.CCMCheckPtsDetCode),p3:!1,p4:"SetDefaultCCMCheckPtsDetID"==t?"SetDefault":null,p5:V?T.CCMCheckPointID:0==ee.length?0:ee.map((e=>e.CCMCheckPointIDPK)).toString(),p6:e.parentId?Number(e.parentId):T.CCMCheckPtsConfigID?T.CCMCheckPtsConfigID:0,p7:C,p8:"SetDefaultCCMCheckPtsDetID"==t,p9:localStorage.getItem("userid"),p10:te()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:te()().format("YYYY-MM-DD hh:mm:ss")}]};(0,J.Z)(0).then((i=>{(0,Q.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?("SetDefaultCCMCheckPtsDetID"==t?z.alert({open:!0,color:"success",message:[be("Default Record Configured")]}):z.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttCCMCheckPtsConfigDetails"),z.loading(!1),G({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(a[0].Data.IDPK)),Ae(),K.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttCCMCheckPtsConfigDetails")&&(document.getElementById("overlayimgAttCCMCheckPtsConfigDetails").style.width="0%",document.getElementById("overlayimgAttCCMCheckPtsConfigDetails").style.display="none",document.getElementById("divCCMCheckPtsConfigDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("CCMCheckPtsConfigDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[l.message]}),z.loading(!1)),y(!0)}))}))},Be=t=>{z.loading(!0),z.ConfirmAlert(null);const a=D.v.Api+"FP1450S2/",l={data:[{p1:"SetDefaultCCMCheckPtsDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:Ue(T.CCMCheckPtsDetCode),p3:!1,p4:"SetDefaultCCMCheckPtsDetID"==t?"SetDefault":null,p5:V?T.CCMCheckPointID:0==ee.length?0:ee.map((e=>e.CCMCheckPointIDPK)).toString(),p6:e.parentId?Number(e.parentId):T.CCMCheckPtsConfigID?T.CCMCheckPtsConfigID:0,p7:C,p8:"SetDefaultCCMCheckPtsDetID"==t,p9:localStorage.getItem("userid"),p10:te()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:te()().format("YYYY-MM-DD hh:mm:ss")}]};(0,J.Z)(0).then((e=>{(0,c.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,i=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:i}),z.loading(!1)):Re()):(z.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),z.loading(!1))}))}))};function Fe(t,a,l,i){if(!(K.count>0))return z.alert({open:!0,color:"warning",message:[be("Please save atleast one record")]}),!1;if(!((()=>{const e={...T};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return z.alert({open:!0,color:"warning",message:[be("Please enter the primary fields")]}),!1;{ve(!0),z.loading(!0),z.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const a=D.v.Api+"FP1450S1/",l={data:[{p1:"SetDefaultCCMCheckPtsDetID"==i?"NORECORDS"!=U&&U?U:0:V,p2:Ue(T.CCMCheckPtsDetCode),p3:!0,p4:"SetDefaultCCMCheckPtsDetID"==i?"SetDefault":null,p5:V?T.CCMCheckPointID:0==ee.length?0:ee.map((e=>e.CCMCheckPointIDPK)).toString(),p6:e.parentId?Number(e.parentId):T.CCMCheckPtsConfigID?T.CCMCheckPtsConfigID:0,p7:!1,p8:"SetDefaultCCMCheckPtsDetID"==i,p9:localStorage.getItem("userid"),p10:te()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:te()().format("YYYY-MM-DD hh:mm:ss")}]};(0,J.Z)(0).then((i=>{(0,Q.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?z.alert({open:!0,color:"warning",message:[be("Deleted Successfully")]}):z.alert({open:!0,color:"success",message:[be("Saved to Draft")]}),z.loading(!1),z.attachmentSave(a[0].Data.IDPK),Ae(),z.RefreshTable(),e.clrImgstate(!0)):(z.alert({open:!0,color:"warning",message:[l.message]}),z.loading(!1))}))}))}}function Le(e){return CreateEasy(e,K,G,z,Y),!1}function Ze(e,a){return AdvanceSearch(e,a,Me,Se(),Ke,t),!1}const Oe=(t,a,l,i,n,s)=>{const r=D.v.Api+"FP1450S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:"0"==T.CCMCheckPointID?null:T.CCMCheckPointID,p6:e.parentId?Number(e.parentId):0,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:a?"%"+a+"%":null,p15:a?"%"+a+"%":null,p16:"0"==T.DivisionID?null:T.DivisionID,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:"0"==T.DisciplineID?null:T.DisciplineID,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:t,p23:s||10,p24:l,p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}},d=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});B(!0);const C={data:d};(0,c.Z)(r,"ClearAll"==l?C:o,"PKDrag"==i?n:K.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;1==t?e>0?(L(i),s&&"CCMCheckPointIDPK"==l&&(Ce.current.checkedAll(i),z.loading(!1))):L([]):L(F.concat(i)),"SetDefaultCCMCheckPtsDetID"==l&&(e>0?xe(i[0],"SetDefaultCCMCheckPtsDetID"):H("NORECORDS")),B(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},ze=(t,l,i)=>{const n=D.v.Api+"FP1450S3/",s={data:{p1:null,p2:"CCMCheckPtsDetCode"==i&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:a.CCMCheckPtsConfigRegistryCCMCheckPtsConfigID?a.CCMCheckPtsConfigRegistryCCMCheckPtsConfigID:"0",p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:t,p23:10,p24:"CCMCheckPtsDetID",p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}},r={data:Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{})};B(!0),(0,c.Z)(n,"ClearAll"==i?r:s,K.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("CCMCheckPtsDetCode"==i&&ve(e>0),L(l)):("CCMCheckPtsDetCode"==i&&ve(!0),L(F.concat(l))),B(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},Ke=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a?A({type:"text",name:t,value:e}):"select"==a&&("CCMCheckPtsConfigID"==t||"CCMCheckPointID"==t&&(A({type:"text",name:"CCMCheckPointID",value:e.CCMCheckPointIDPK?e.CCMCheckPointIDPK:null}),A({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:null})))}),[T]);function Ge(e){"CCMCheckPtsConfigID"==e||"CCMCheckPointID"==e&&(A({type:"text",name:"CCMCheckPointID",value:null}),A({type:"text",name:"CheckPointName",value:""}),document.getElementById("CCMCheckPtsConfigDetailsCCMCheckPointIDClear")&&document.getElementById("CCMCheckPtsConfigDetailsCCMCheckPointIDClear").click(),le([]),document.getElementById("CCMCheckPtsConfigDetailsCheckPointNameClear")&&document.getElementById("CCMCheckPtsConfigDetailsCheckPointNameClear").click())}function Ve(e){"CCMCheckPtsConfigID"==e||"CCMCheckPointID"==e&&A({type:"text",name:"CCMCheckPointID",value:null})}function _e(e){z.ConfirmAlert(null),I(e.IsDraft),_(Number(e.CCMCheckPtsDetIDPK)?Number(e.CCMCheckPtsDetIDPK):0),A({type:"text",name:"CCMCheckPtsDetCode",value:e.CCMCheckPtsDetCode?e.CCMCheckPtsDetCode:""}),A({type:"number",name:"CCMCheckPtsConfigID",number:e.CCMCheckPtsConfigID?Number(e.CCMCheckPtsConfigID):0}),A({type:"text",name:"CheckPointsConfigCode",value:e.CheckPointsConfigCode?e.CheckPointsConfigCode:""}),A({type:"number",name:"CCMCheckPointID",number:e.CCMCheckPointID?Number(e.CCMCheckPointID):0}),A({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:""})}const Ue=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(s.Z,{expanded:p,onChange:e=>{}},i().createElement(x.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},p&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt",title:"10.0.0.28-13:05:52-4-5[1450]"}," ",be("Add "),Te("1450")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},K.AccessRights.IsDelete&&i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(oe.Z,{row:!0},i().createElement(q.Z,{labelPlacement:"bottom",id:"fld1450L1ECEntryCheckbox",control:i().createElement(E.Z,{checked:"1"==C,onChange:e=>m(e.target.checked)}),label:be(1==C?"Active":"In Active")})))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld1450L1ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(ce.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,be("Attach")))),!V&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ae()},id:"fld1450L1ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(ce.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,be("Reset")))),"1"===h&&V&&i().createElement(X.Z,{frmctrlid:"fld1450L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Fe("draftdel")}}),V&&"1"!==h||e.createEasy?null:K.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{Fe()},frmctrlid:"fld1450L1ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(de.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,be("Draft")))),K.AccessRights.IsAdd||K.AccessRights.IsEdit?i().createElement(ae.Z,{frmctrlid:"fld1450L1ECSaveBtnIsAdd",name:be(V?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?V||0!=ee.length?V&&!T.CCMCheckPointID?z.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+Te("CCMCheckPointID")]}):V?z.ConfirmAlert(i().createElement(ie(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:be("Are you sure?"),onConfirm:()=>Be(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("Cancel"),showCancel:!0},be(V?"Do you want to Update?":"Do you want to Save?"))):Re():z.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+Te("CCMCheckPointID")]}):z.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+Te("CCMCheckPtsConfigID")]})}}):null,!e.createEasy&&i().createElement($.Z,{frmctrlid:"fld1450L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ae(),y(!1),z.EditClose(!0),z.hideAddBtn(!1),G({type:"Add",payload:!1})}}))))),i().createElement(r.Z,null,i().createElement("div",{id:"CCMCheckPtsConfigDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"CCMCheckPtsConfigDetails-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"CCMCheckPtsConfigDetails-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(pe.Z,null,i().createElement(ue.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},i().createElement(g.Z,null,i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement("div",{className:"GrpViewHeadingTitle"},i().createElement("p",null))))),i().createElement(ge.Z,{style:{padding:"5px 20px 15px"}},i().createElement(g.Z,{spacing:2},i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(ne.Z,{"data-testid":T.CCMCheckPtsDetCode,json:re,SPName:"CCMCheckPtsConfigDetails",FieldName:"CCMCheckPtsDetCode",tfLabel:Te("CCMCheckPtsDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{z.ConfirmAlert(i().createElement(ie(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>_e(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("No"),showCancel:!0},be("Do you want to update this record?")))})(t),onClick:()=>{Ie&&ze(1,"","ClearAll"),ve(!0)},frmctrlid:"fld1450_37747",frmctrlidName:"CCMCheckPtsDetCode",fieldorder:"0",data:F,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:F.length>0?F[0].TotalCount:0,onChange:(e,t)=>{Ie&&ze(e,t,"CCMCheckPtsDetCode"),Ke(t,"CCMCheckPtsDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ve(!0)},showList:Ie,SideEntryView:!1,KeyBack:e=>{},value:T.CCMCheckPtsDetCode,loading:R,clear:e=>{e&&(A({type:"text",name:"CCMCheckPtsDetCode",value:""}),ve(!0))}})),i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(ne.Z,{json:re,id:T.CCMCheckPtsConfigID,"data-testid":T.CCMCheckPtsConfigID,value:T.CheckPointsConfigCode,SPName:"CCMCheckPtsConfigDetails",FieldName:"CCMCheckPtsConfigID",tfLabel:Te("CCMCheckPtsConfigID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"CCMCheckPtsConfigID","select"),onChange:(e,t)=>{Oe(e,t,"CCMCheckPtsConfigIDPK")},KeyBack:e=>{Ve("CCMCheckPtsConfigID")},fieldorder:"0",data:F,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:F.length>0?F[0].TotalCount:0,openSlide:()=>{Le("1451")},Tabledialog:()=>Ze("1451","CCMCheckPtsConfigID"),loading:R,clear:e=>{e&&Ge("CCMCheckPtsConfigID")}}))))),i().createElement(pe.Z,null,i().createElement(ue.Z,{color:"info",icon:!0,className:"cardheadvh"},i().createElement(g.Z,null,i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement("div",{className:"GrpViewHeadingTitle"},i().createElement("p",null))))),i().createElement(ge.Z,{style:{padding:"5px 20px 15px"}},i().createElement(g.Z,{spacing:2},V?null:i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(De.Z,{json:re,id:T.CCMCheckPointID,"data-testid":T.CCMCheckPointID,value:T.CheckPointName,SPName:"CCMCheckPtsConfigDetails",FieldName:"CCMCheckPointID",tfLabel:Te("CCMCheckPointID"),ref:Ce,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>((e,t,a)=>{if(le(t),t.length>0){let e=[];t.map(((a,l)=>e.push(t.length==l+1?a.CheckPointName+",":a.CheckPointName)))}})(0,t),onChange:(e,t)=>{Oe(e,t,"CCMCheckPointIDPK")},fieldorder:"1",data:F,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:F.length>0?F[0].TotalCount:0,SideEntryView:!1,allData:e=>{z.loading(!0),Oe("1","","CCMCheckPointIDPK","","",e)},openSlide:()=>{Le("282")},Tabledialog:()=>Ze("282","CCMCheckPointID"),loading:R,clear:e=>{e&&Ge("CCMCheckPointID")}})),V?i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(ne.Z,{json:re,id:T.CCMCheckPointID,"data-testid":T.CCMCheckPointID,value:T.CheckPointName,SPName:"CCMCheckPtsConfigDetails",FieldName:"CCMCheckPointID",tfLabel:Te("CCMCheckPointID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Ke(e,"CCMCheckPointID","select"),onChange:(e,t)=>{Oe(e,t,"CCMCheckPointIDPK")},KeyBack:e=>{Ve("CCMCheckPointID")},fieldorder:"1",data:F,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:F.length>0?F[0].TotalCount:0,openSlide:()=>{Le("282")},Tabledialog:()=>Ze("282","CCMCheckPointID"),loading:R,SideEntryView:!1,clear:e=>{e&&Ge("CCMCheckPointID")}})):null)))),i().createElement("div",{id:"CCMCheckPtsConfigDetailsSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("CCMCheckPtsConfigDetailsSideBar").style.width="0",void M(!1))},"×"),k&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))}));a(77366),a(97829);var fe=a(65197);const Ie=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[o,d]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[C,m]=(0,l.useState)(!0),[p,g]=(0,l.useState)(e.showDetail),[u,y]=(0,l.useState)(""),[h,I]=i().useState(!1),[v,P]=i().useState(""),[E,k]=i().useState(!1),M=(0,l.useContext)(Me),{cstate:S,cdispatch:N}=Se(),[w,b]=(0,l.useState)(!1),[T,A]=(0,l.useState)(""),[R,B]=(0,l.useState)(""),[F,L]=(0,l.useState)("");let Z=(0,f.Z)();(0,l.useEffect)((()=>{S.editData.length>0&&(d(S.editData),I(!1),N({type:"PrimaryId",payload:S.editData[0].CCMCheckPtsDetIDPK}))}),[S.editData]),(0,l.useEffect)((()=>{S.showTableview&&L(S.showTableview)}),[S.showTableview]),(0,l.useEffect)((()=>{m(S.ExpandDetailValue)}),[S.ExpandDetailValue]),(0,l.useEffect)((()=>{m(S.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),I(null)},viewtoggle:()=>{I(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=D.v.Api+"FP1450S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:1,p23:10,p24:S.IsDraft?"DraftCCMCheckPtsDetID":"CCMCheckPtsDetID",p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};(0,J.Z)(0).then((e=>{(0,c.Z)(l,i,e).then((e=>{M.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===h&&a.current.clear()}})));const O=e=>Z?.[e]?Z?.[e]:e,z=e=>S.language?.[e]?S.language[e]:e;function G(e,t){}const V=(e,t)=>(a,l)=>{P(E?Object.assign(...o.filter((e=>e.CCMCheckPtsDetIDPK==t)).map((e=>e))):S.editData),I(!l&&e)};return i().createElement("div",null,i().createElement(s.Z,{expanded:C,onChange:()=>()=>{e.expandTable&&m(!C)}},!h&&i().createElement(x.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},C?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},S.IsDraft?O("Draft"):"",z("CCMCheckPtsConfigDetails"),e.viewonly?" ":"("+S.count+")")):"",C?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&S.AccessRights.IsAdd?i().createElement(K.Z,{name:O("Add"),frmctrlid:"fld1450L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{M.hideAddBtn(!0),N({type:"editData",payload:[]}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&S.AccessRights.IsEdit?i().createElement(W.Z,{frmctrlid:"fld1450L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):S.IsDraft&&S.AccessRights.IsAdd&&i().createElement(W.Z,{frmctrlid:"fld1450L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&i().createElement($.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1450L1VCCloseBtn",onClick:()=>{m(!1),M.hideAddBtn(!1),E&&(N({type:"editData",payload:[]}),d([]))}})):"")),i().createElement(r.Z,{style:{display:"block"}},o.map(((t,l)=>i().createElement("div",{key:l},h==="panel"+l?i().createElement(he,{ref:a,parentId:e.parentId}):i().createElement(i().Fragment,null,i().createElement(fe.Z,{tableName:"CCMCheckPtsConfigDetails",tableID:1450,parentID:t.CCMCheckPtsDetIDPK,fldid:"fld1450L1VCContainer",OpenSlideComponent:G,index:l,refresh:F,val:t,tf:z,t:O,title:"10.0.0.28-13:05:52-4-5[1450]"}))))))))}));var ve=a(67698),Pe=a(55995),Ee=a(45965),ke=a(41722);a(9175);const Me=(0,l.createContext)(),Se=()=>{const e=(0,l.useContext)(Me);if(void 0===e)throw new Error("useCont must be used within  CCMCheckPtsConfigDetailsContext Provider");return e},Ne=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),s=(0,l.useRef)(),r=(0,l.useRef)(),o=(0,l.useRef)(),c=(0,l.useRef)(),[d,C]=(0,l.useState)(!0),[m,p]=(0,l.useState)(),g=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[u,D]=(0,l.useState)(0),[y,h]=(0,l.useReducer)(ke.D,ke.E),[f,I]=(0,l.useState)(""),[v,P]=(0,l.useState)([]),[E,k]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||s.current.clear(),document.getElementById("divCCMCheckPtsConfigDetails-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainTable").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{C(!0),document.getElementById("divCCMCheckPtsConfigDetails-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainTable").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(h({type:"editData",payload:[e.editData]}),h({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{h(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),s.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const M=e=>{document.getElementById("divCCMCheckPtsConfigDetails-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigDetailsEntryTable").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainEntry").style.display="block",document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.add("displayFlex"),document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMCheckPtsConfigDetails").style.width="0%",document.getElementById("overlayimgAttCCMCheckPtsConfigDetails").style.display="none"};(0,l.useEffect)((()=>{g((e=>{(0,J.Z)(1).then((e=>{var t=new Array;t.push(e),h({type:"token",payload:t}),D(t.length),S(e)}))}))}),[]);const S=e=>{(0,Ee.Z)(e,1451).then((e=>h({type:"AccessRights",payload:e})))};return i().createElement("div",{style:{width:"100%"}},i().createElement(Me.Provider,{value:{cstate:y,cdispatch:h,ContextApi:Se,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==u&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{c.current.tempsave(e,v),P([])},EditClose:e=>M(),AttachExpand:e=>(o.current.AttachmentData(y.PrimaryId),void(d&&(document.getElementById("overlayPreviewCCMCheckPtsConfigDetails").style.width="50%",document.getElementById("divCCMCheckPtsConfigDetails-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainTable").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttCCMCheckPtsConfigDetails").style.display="block",document.getElementById("overlayimgAttCCMCheckPtsConfigDetails").style.width="25%"))),Expanded:e=>{y.ShowDetail&&r.current.tableClick(e),h({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{y.ShowDetail&&r.current.viewtoggle()},clear:e=>{h({type:"ShowDetail",payload:!1}),h({type:"editData",payload:[]}),y.ShowDetail?r.current.clear(e):s.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{y.ShowDetail?r.current.tableClick(!1):s.current.CreateEasyProps(!1)},resetImg:()=>{c.current.tempClear(),o.current.clrImgstate(!0)}}},i().createElement("div",{id:"CCMCheckPtsConfigDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},i().createElement("div",{id:"CCMCheckPtsConfigDetails-MainEntry",className:"",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"CCMCheckPtsConfigDetailsEntryTable",style:{width:"100%"}},y.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divCCMCheckPtsConfigDetails-Entry",style:{width:"100%"}},0!==u?i().createElement(Ie,{ref:r,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),i().createElement(Pe.Z,{ref:c,menurefID:1450,fileId:"LogoImgCCMCheckPtsConfigDetails",imgloading:t=>{t||y.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:y.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewCCMCheckPtsConfigDetails",frmctrlid:"PvwIm_1450_L1_",tempImg:e=>{y.PrimaryId?o.current.AttachmentData(y.PrimaryId):o.current.tempImg(e),P(e)},clearTempData:y.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divCCMCheckPtsConfigDetails-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(he,{ref:s,clrImgstate:e=>o.current.clrImgstate(e),triggerAttSelect:e=>o.current.triggerAttSelect(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),i().createElement(Pe.Z,{ref:c,menurefID:1450,fileId:"LogoImgCCMCheckPtsConfigDetails",imgloading:t=>{t||y.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:y.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewCCMCheckPtsConfigDetails",frmctrlid:"PvwIm_1450_L1_",tempImg:e=>{y.PrimaryId?o.current.AttachmentData(y.PrimaryId):o.current.tempImg(e),P(e)},clearTempData:y.Add})),i().createElement("div",{id:"CCMCheckPtsConfigDetails-MainTable"},0!==u?i().createElement(j,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),i().createElement(ve.Z,{ImgAttachment:e=>M(),menurefID:1450,fileId:"AttImgCCMCheckPtsConfigDetails",imgid:"overlayimgAttCCMCheckPtsConfigDetails",valueIDPK:y.PrimaryId,PriviewData:(e,t,a,l)=>{c.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewCCMCheckPtsConfigDetails",ref:o,imgloading:m,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1450_L1_",timglist:e=>c.current.timglist(e),clearTempData:y.Add}))),i().createElement("div",{id:"CCMCheckPtsConfigDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},8185:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K,saveComponent:()=>V,trimFunc:()=>G});var l=a(92950),i=a.n(l),n=a(45237),s=a(36939),r=a(61201),o=a(50743),c=(a(3212),a(10966),a(30553)),d=(a(99090),a(44528)),C=a(37148),m=a(61956),p=a(51673),g=(a(96071),a(14439)),u=a(27848),D=(a(49174),a(38773),a(19089),a(1695)),y=(a(13235),a(61924)),h=a.n(y),f=a(26537),I=a(40900),v=a(35131),P=a.n(v),E=a(55490),k=(a(2493),a(92371)),M=a(82729),S=a(75355),N=a(11107);a(40826);const w={EnterKeyValues:{CCMCheckPtsConfigRegistry:["CheckPointsConfigCode","DivisionName","DisciplineName","CPNarration"]},Label:{CCMCheckPtsConfigRegistry:{CheckPointsConfigCode:["CheckPointsConfigCode"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName"],CPNarration:["CheckPointsConfigCode"]}},LabelHeader:{CCMCheckPtsConfigRegistry:{CheckPointsConfigCode:["CheckPointsConfigCode"],DivisionID:["Division Code","Division Name"],DisciplineID:["Discipline Code","Discipline Name"],CPNarration:["CheckPointsConfigCode"]}},Property:{CCMCheckPtsConfigRegistry:{CheckPointsConfigCode:{id:"fld1451_37758",labelID:"CheckPointsConfigCode",maxLength:"50",labelname:"",frmctrlid:"fld1451_37758",frmctrlidname:"CheckPointsConfigCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},DivisionID:{id:"fld1451_37762",clearID:"CCMCheckPtsConfigRegistryDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division ",fielddisplayname:"DivisionName",fieldOrder:"1",frmctrlid:"fld1451_37762",frmctrlidname:"DivisionID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},DisciplineID:{id:"fld1451_37763",clearID:"CCMCheckPtsConfigRegistryDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline ",fielddisplayname:"DisciplineName",fieldOrder:"2",frmctrlid:"fld1451_37763",frmctrlidname:"DisciplineID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},CPNarration:{id:"fld1451_37759",labelID:"CPNarration",maxLength:"200",labelname:"Remarks",frmctrlid:"fld1451_37759",frmctrlidname:"CPNarration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{CCMCheckPtsConfigRegistry:{DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"]}}};a(42258),a(97829);var b=a(39264),T=a(8981),x=a(63163),A=a(45155),R=a(79352),B=a(63750),F=a(51649),L=a(16233),Z=a.n(L);const O={CCMCheckPtsConfigIDPK:"",CheckPointsConfigCode:"",CPNarration:"",IsDraft:!1,Remarks:"",DivisionID:null,DisciplineID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",Type:"CCMCheckPtsConfigID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},z=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,y]=(0,l.useState)(!1),[v,L]=(0,l.useState)(!0),[z,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)(!1),[U,H]=(0,l.useState)(!1),[Y,j]=(0,l.useState)(!1),[$,W]=(0,l.useState)([]),[J,q]=(0,l.useState)(null),[Q,X]=(0,l.useReducer)(k.Z,O),[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)([]),[ie,ne]=(0,l.useState)(0),[se,re]=(0,l.useState)(""),[oe,ce]=(0,l.useState)(!0),de=(0,l.useContext)(b.CCMCheckPtsConfigRegistryContext),{cstate:Ce,cdispatch:me}=(0,b.ContextApi)(),[pe]=(0,l.useState)(localStorage.getItem("Language")),[ge]=(0,l.useState)(localStorage.getItem("Language")),[ue,De]=(0,l.useState)([]),[ye,he]=(0,l.useState)(null),[fe,Ie]=(0,l.useState)(!1),[ve,Pe]=(0,l.useState)(""),Ee=(0,l.useRef)(null),[ke,Me]=Z()("1451"),[Se,Ne]=(0,l.useState)(!1);let we=(0,T.Z)();const[be,Te]=(0,l.useState)({}),xe=e=>we?.[e]?we[e]:e,Ae=t=>Ce.language?.[t]?Ce.language[t]:e.createEasy?be?.[t]:t;(0,l.useEffect)((()=>{Ce.PrimaryId&&ne(Number(Ce.PrimaryId))}),[Ce.PrimaryId]),(0,l.useEffect)((()=>{Ce.editData.length<0&&(0,f.Z)(1).then((e=>{Ke(1,null,"SetDefaultCCMCheckPtsConfigID",e)}))}),[]),(0,l.useEffect)((()=>{Ce.editData.length>0?(Re(Ce.editData[0],""),_(!0)):Ce.Add&&(ne(0),_(!0))}),[Ce.editData,Ce.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Te(Object.assign({},...t))}(ke)}),[ke]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){_(!0),K(!1)},CreateEasyProps:(e=!0,t)=>{Me(!0),t?(He(t),_(e)):(Be(),_(e))},clear:()=>{Be()}})));const Re=(t,a,l)=>{let i=t;H(i.IsDraft),me({type:"EditIsDraft",payload:"1"==i.IsDraft}),"SetDefaultCCMCheckPtsConfigID"==a?re(i.CCMCheckPtsConfigIDPK):(ne(e.primid?Number(e.primid):i.CCMCheckPtsConfigIDPK),me({type:"PrimaryId",payload:i.CCMCheckPtsConfigIDPK})),X({type:"text",name:"CheckPointsConfigCode",value:i.CheckPointsConfigCode?i.CheckPointsConfigCode:""}),X({type:"number",name:"DivisionID",number:i.DivisionID?Number(i.DivisionID):0}),X({type:"text",name:"DivisionName",value:i.DivisionName}),X({type:"number",name:"DisciplineID",number:i.DisciplineID?Number(i.DisciplineID):0}),X({type:"text",name:"DisciplineName",value:i.DisciplineName}),X({type:"text",name:"CPNarration",value:i.CPNarration?i.CPNarration:""}),i.IsDraft?L(!0):L(!("1"!=i.IsActive&&!i.IsActive))},Be=()=>{W([]),ne(0),re(""),ce(!0),me({type:"PrimaryId",payload:""}),X({type:"text",name:"CheckPointsConfigCode",value:""}),X({type:"text",name:"DivisionID",value:null}),X({type:"text",name:"DivisionName",value:""}),document.getElementById("CCMCheckPtsConfigRegistryDivisionNameClear")&&document.getElementById("CCMCheckPtsConfigRegistryDivisionNameClear").click(),X({type:"text",name:"DisciplineID",value:null}),X({type:"text",name:"DisciplineName",value:""}),document.getElementById("CCMCheckPtsConfigRegistryDisciplineNameClear")&&document.getElementById("CCMCheckPtsConfigRegistryDisciplineNameClear").click(),X({type:"text",name:"CPNarration",value:""}),L(!0)},Fe=(e,t)=>{de.loading(!0),de.ConfirmAlert(null),me({type:"IsDraft",payload:!1}),V({url:I.v.Api+"FP1451S2/",PrimID:ie,ParamType:e,state:Q,active:v,token:Ce.token[0],DefaultPrimaryId:se,IndirectID}).then((t=>{const a=t[0].status;let l=t[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(de.alert({open:!0,color:"warning",message:n}),de.loading(!1)):Le(e)):(de.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),de.loading(!1))}))},Le=(t,a)=>{ce(!0),de.loading(!0),de.ConfirmAlert(null),V({url:I.v.Api+"FP1451S1/",PrimID:ie,ParamType:t,state:Q,active:v,token:Ce.token[0],DefaultPrimaryId:se,IndirectID}).then((a=>{const l=a[0].status;200==l.code?(me({type:"PrimaryId",payload:a[0].Data.IDPK}),de.AddOpen(a[0].Data.IDPK),"SetDefaultCCMCheckPtsConfigID"==t?de.alert({open:!0,color:"success",message:["Default Record Configured"]}):de.alert({open:!0,color:"success",message:[l.message]}),de.attachmentSave(a[0].Data.IDPK),de.loading(!1),Ce.AccessRights.IsApproval&&de.Approval(!0),e.createEasy,me({type:"EditOpen",payload:!1}),me({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry")&&(document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.width="0%",document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.display="none",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.width="100%"),document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.display="none"):(de.alert({open:!0,color:"warning",message:[l.message]}),de.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultCCMCheckPtsConfigID"==t&&(_(!0),Ke(1,null,"SetDefaultCCMCheckPtsConfigID",Ce.token[0]))}))};function Ze(t,a,l,i){if((()=>{const e={...Q};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){ce(!0),de.loading(!0),de.ConfirmAlert(null),me({type:"IsDraft",payload:!1});const a=I.v.Api+"FP1451S1/",l={data:[{p1:"SetDefaultCCMCheckPtsConfigID"==i?"NORECORDS"!=se&&se?se:0:ie,p2:Ye(Q.CheckPointsConfigCode),p3:Ye(Q.CPNarration),p4:!0,p5:"SetDefaultCCMCheckPtsConfigID"==i?"SetDefault":null,p6:Q.DivisionID?Q.DivisionID:0,p7:Q.DisciplineID?Q.DisciplineID:0,p8:!1,p9:"SetDefaultCCMCheckPtsConfigID"==i,p10:localStorage.getItem("userid"),p11:P()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:P()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((i=>{(0,m.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?de.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):de.alert({open:!0,color:"success",message:["Saved to Draft"]}),me({type:"EditIsDraft",payload:!0}),de.attachmentSave(a[0].Data.IDPK),de.loading(!1),Be(),e.clrImgstate(!0),de.AddOpen(a[0].Data.IDPK,"1")):(de.alert({open:!0,color:"warning",message:[l.message]}),de.loading(!1))}))}))}else de.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}function Oe(e){return CreateEasy(e,Ce,me,de,Ee),!1}function ze(e,a){return AdvanceSearch(e,a,b.CCMCheckPtsConfigRegistryContext,(0,b.ContextApi)(),Ve,t),!1}(0,l.useEffect)((()=>{_(Ce.ExpandDetailValue)}),[Ce.ExpandDetailValue]);const Ke=(t,a,l,i,n,s)=>{const r=I.v.Api+"FP1451S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:"0"==Q.DivisionID?null:Q.DivisionID,p7:"0"==Q.DisciplineID?null:Q.DisciplineID,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:t,p20:10,p21:l,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}},c=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});te(!0);const d={data:c};return(0,p.Z)(r,"ClearAll"==l?d:o,"SetDefaultCCMCheckPtsConfigID"==l&&i?i:Ce.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return 1==i.length?i[0]:{};le(1==t?e>0?i:[]:ae.concat(i)),"SetDefaultCCMCheckPtsConfigID"==l&&(e>0?Re(i[0],"SetDefaultCCMCheckPtsConfigID"):re("NORECORDS")),te(!1)}else de.alert({open:!0,color:"warning",message:[e.Output.status.message]}),te(!1)}))},Ge=(t,a,l)=>{const i=I.v.Api+"FP1451S3/",n={data:{p1:null,p2:"CheckPointsConfigCode"==l&&a?"%"+a+"%":null,p3:"CPNarration"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:t,p20:10,p21:"CCMCheckPtsConfigID",p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}},s={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};te(!0),(0,p.Z)(i,"ClearAll"==l?s:n,Ce.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;1==t?("CheckPointsConfigCode"==l&&ce(e>0),le(i)):("CheckPointsConfigCode"==l&&ce(!0),le(ae.concat(i))),te(!1)}else de.alert({open:!0,color:"warning",message:[e.Output.status.message]}),te(!1)}))},Ve=(0,l.useCallback)((async(e,t,a)=>{"text"==a?X({type:a,name:t,value:e}):"number"==a?X({type:a,name:t,number:Number(e)}):"boolean"==a?X({type:a,name:t,boolean:e}):"date"==a?X({type:"text",name:t,value:e}):"select"==a&&("DivisionID"==t?(X({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),X({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null}),X({type:"text",name:"DisciplineID",value:e.DisciplineID?e.DisciplineID:null}),X({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null})):"DisciplineID"==t&&(X({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),X({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null}),X({type:"text",name:"DivisionID",value:e.DivisionID?e.DivisionID:null}),X({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})))}),[Q]);function _e(e){"DivisionID"==e?(X({type:"text",name:"DivisionID",value:null}),X({type:"text",name:"DivisionName",value:""}),document.getElementById("CCMCheckPtsConfigRegistryDivisionNameClear")&&document.getElementById("CCMCheckPtsConfigRegistryDivisionNameClear").click(),X({type:"text",name:"DisciplineID",value:null}),X({type:"text",name:"DisciplineName",value:""}),document.getElementById("CCMCheckPtsConfigRegistryDisciplineNameClear")&&document.getElementById("CCMCheckPtsConfigRegistryDisciplineNameClear").click()):"DisciplineID"==e&&(X({type:"text",name:"DisciplineID",value:null}),X({type:"text",name:"DisciplineName",value:""}),document.getElementById("CCMCheckPtsConfigRegistryDisciplineNameClear")&&document.getElementById("CCMCheckPtsConfigRegistryDisciplineNameClear").click(),X({type:"text",name:"DivisionID",value:null}),X({type:"text",name:"DivisionName",value:""}),document.getElementById("CCMCheckPtsConfigRegistryDivisionNameClear")&&document.getElementById("CCMCheckPtsConfigRegistryDivisionNameClear").click())}function Ue(e){"DivisionID"==e?(X({type:"text",name:"DivisionID",value:null}),X({type:"text",name:"DisciplineID",value:null})):"DisciplineID"==e&&(X({type:"text",name:"DisciplineID",value:null}),X({type:"text",name:"DivisionID",value:null}))}function He(t){de.ConfirmAlert(null),H(t.IsDraft),e.createEasy||(me({type:"editData",payload:[t]}),me({type:"PrimaryId",payload:t.CCMCheckPtsConfigIDPK})),ne(Number(t.CCMCheckPtsConfigIDPK)?Number(t.CCMCheckPtsConfigIDPK):0),X({type:"text",name:"CheckPointsConfigCode",value:t.CheckPointsConfigCode?t.CheckPointsConfigCode:""}),X({type:"number",name:"DivisionID",number:t.DivisionID?Number(t.DivisionID):0}),X({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:""}),X({type:"number",name:"DisciplineID",number:t.DisciplineID?Number(t.DisciplineID):0}),X({type:"text",name:"DisciplineName",value:t.DisciplineName?t.DisciplineName:""}),X({type:"text",name:"CPNarration",value:t.CPNarration?t.CPNarration:""})}const Ye=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(s.Z,{expanded:G,onChange:e=>{}},i().createElement(o.Z,null,i().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&i().createElement("span",{style:{cursor:"pointer"}},i().createElement(F.u1R,{className:"backButtonList",onClick:()=>de.ShowTableDiv()})),i().createElement("p",{id:"fld1451L3ECListP",className:"ListP",title:"10.0.0.23-11:09:46-2-5[1451]",onClick:()=>Ce.ExpandTableValue&&_(!G)},ie?"Edit ":"New ",Ae("1451")," (",Ce.count,")")),G&&i().createElement("div",{className:"displayFlex EntryHeaderBtn"},Ce.AccessRights.IsDelete&&i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(c.Z,{labelPlacement:"bottom",frmctrlid:"fld1451L3ECEntryCheckbox",control:i().createElement(x.Z,{checked:"1"==v,onChange:e=>L(e.target.checked)}),label:xe(1==v?"Active":"In Active")}))),e.createEasy||ie||!Ce.AccessRights.IsAdd||!se&&"NORECORDS"!=se?!e.createEasy&&!ie&&i().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ke(1,null,"SetDefaultCCMCheckPtsConfigID",Ce.token[0])},id:"fld1451L3ECSetDefaultBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(B.j39,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Get Default"))):i().createElement("div",{className:"GridAlignDefault",onClick:()=>{Le("SetDefaultCCMCheckPtsConfigID",!0)},id:"fld1451L3ECSetDefaultBtnIsAdd"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(B.j39,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Set Default"))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{de.AttachExpand(!0)},id:"fld1451L3ECAttachment",disableRipple:!0,disabled:!ie},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",null,i().createElement(A.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Attach"))),!e.createEasy&&(!ie||!Ce.editData.length>0)&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Be()},id:"fld1451L3ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(A.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Reset"))),!e.createEasy&&!ie||"1"===U?Ce.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{Ze()},id:"fld1451L3ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(R.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Draft"))):null,Ce.AccessRights.IsAdd&&i().createElement(D.Z,{name:ie?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return e=ie?"update":"next",Q.DivisionID&&0!=Q.DivisionID?Q.DisciplineID&&0!=Q.DisciplineID?void("next"==e?Ze(""):de.ConfirmAlert(i().createElement(h(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:xe("Are you sure?"),onConfirm:()=>Fe(),onCancel:()=>de.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("Cancel"),showCancel:!0},Ce.PrimaryId?xe("Do you want to Update?"):xe("Do you want to Save?")))):(de.alert({open:!0,color:"warning",message:[xe("Please select the ")+" "+Ae("DisciplineID")]}),!1):(de.alert({open:!0,color:"warning",message:[xe("Please select the ")+" "+Ae("DivisionID")]}),!1);var e}}),ie?i().createElement(C.Z,{disabled:!1,frmctrlid:"fld1451L3ECCloseBtn",onClick:()=>{de.detailview(!0,ie)}}):null))),i().createElement(r.Z,null,Ce.AccessRights.IsAdd?null:Ce.AccessRights.IsEdit?!Ce.PrimaryId&&i().createElement("div",{className:"divdisable"}):i().createElement("div",{className:"divdisable"}),i().createElement("div",{id:"CCMCheckPtsConfigRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"CCMCheckPtsConfigRegistry-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"CCMCheckPtsConfigRegistry-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(M.Z,null,i().createElement(N.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},i().createElement(g.Z,null,i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement("div",{className:"GrpViewHeadingTitle"},i().createElement("p",null))))),i().createElement(S.Z,{style:{padding:"5px 20px 15px"}},i().createElement(g.Z,{spacing:2},i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(E.Z,{"data-testid":Q.CheckPointsConfigCode,json:w,SPName:"CCMCheckPtsConfigRegistry",FieldName:"CheckPointsConfigCode",tfLabel:Ae("CheckPointsConfigCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{de.ConfirmAlert(i().createElement(h(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>He(e),onCancel:()=>de.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("No"),showCancel:!0},xe("Do you want to update this record?")))})(t),onClick:()=>{oe&&Ge(1,"","ClearAll"),ce(!0)},frmctrlid:"fld1451_37758",frmctrlidName:"CheckPointsConfigCode",fieldorder:"0",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,onChange:(e,t)=>{oe&&Ge(e,t,"CheckPointsConfigCode"),Ve(t,"CheckPointsConfigCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:Q.CheckPointsConfigCode,loading:ee,clear:e=>{e&&(X({type:"text",name:"CheckPointsConfigCode",value:""}),ce(!0))}}))))),i().createElement(M.Z,null,i().createElement(N.Z,{color:"info",icon:!0,className:"cardheadvh"},i().createElement(g.Z,null,i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement("div",{className:"GrpViewHeadingTitle"},i().createElement("p",null))))),i().createElement(S.Z,{style:{padding:"5px 20px 15px"}},i().createElement(g.Z,{spacing:2},i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(E.Z,{json:w,id:Q.DivisionID,"data-testid":Q.DivisionID,value:Q.DivisionName,SPName:"CCMCheckPtsConfigRegistry",FieldName:"DivisionID",tfLabel:Ae("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ve(e,"DivisionID","select"),onChange:(e,t)=>{Ke(e,t,"DivisionIDPK")},KeyBack:e=>{Ue("DivisionID")},fieldorder:"1",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,openSlide:()=>{Oe("35")},Tabledialog:()=>ze("35","DivisionID"),loading:ee,clear:e=>{e&&_e("DivisionID")}})),i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(E.Z,{json:w,id:Q.DisciplineID,"data-testid":Q.DisciplineID,value:Q.DisciplineName,SPName:"CCMCheckPtsConfigRegistry",FieldName:"DisciplineID",tfLabel:Ae("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ve(e,"DisciplineID","select"),onChange:(e,t)=>{Ke(e,t,"DisciplineIDPK")},KeyBack:e=>{Ue("DisciplineID")},fieldorder:"2",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,openSlide:()=>{Oe("34")},Tabledialog:()=>ze("34","DisciplineID"),loading:ee,clear:e=>{e&&_e("DisciplineID")}})),i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(d.Z,{json:w,"data-testid":Q.CPNarration,SPName:"CCMCheckPtsConfigRegistry",FieldName:"CPNarration",tfLabel:Ae("CPNarration"),frmctrlid:"fld1451_37759",fieldorder:"3",onChange:e=>{Ve(e,"CPNarration","text")},clear:e=>{e&&X({type:"text",name:"CPNarration",value:""})},value:Q.CPNarration})))))),i().createElement("div",{id:"CCMCheckPtsConfigRegistrySideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("CCMCheckPtsConfigRegistrySideBar").style.width="0",void j(!1))},"×"),Y&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},J))))))))})),K=z,G=e=>"string"==typeof e?e.trim():e;function V(e){const{url:t,PrimID:a,ParamType:l,state:i,active:n,token:s,DefaultPrimaryId:r,IndirectID:o}=e,c={data:[{p1:"SetDefaultCCMCheckPtsConfigID"==l?"NORECORDS"!=r&&r?r:0:a,p2:G(i.CheckPointsConfigCode),p3:G(i.CPNarration),p4:!1,p5:"SetDefaultCCMCheckPtsConfigID"==l?"SetDefault":null,p6:i.DivisionID?i.DivisionID:0,p7:i.DisciplineID?i.DisciplineID:0,p8:n,p9:"SetDefaultCCMCheckPtsConfigID"==l,p10:localStorage.getItem("userid"),p11:P()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:P()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,m.Z)(t,c,s).then((e=>e))}},39264:(t,a,l)=>{l.r(a),l.d(a,{CCMCheckPtsConfigRegistryContext:()=>h,ContextApi:()=>f,default:()=>I});var i=l(92950),n=l.n(i),s=l(45237),r=l(45981),o=l(95395),c=l(8185),d=l(67698),C=l(55995),m=l(26537),p=(l(35131),l(45965)),g=l(73668),u=(l(37274),l(9175)),D=l.n(u),y=l(25462);const h=(0,i.createContext)();function f(){const e=n().useContext(h);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const I=function(t){const a=(0,i.useRef)(),l=(0,i.useRef)(),u=(0,i.useRef)(),I=(0,i.useRef)(),v=(0,i.useRef)(),P=(0,i.useRef)(),E=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[k,M]=(0,i.useState)(0),[S,N]=n().useReducer(g.I,g.E),[w,b]=(0,i.useState)(""),[T,x]=(0,i.useState)(""),[A,R]=(0,i.useState)([]),B=(0,i.useRef)(),[F,L]=(0,i.useState)(!1);function Z(e){N({type:"IsExPView",payload:!0}),N({type:"IsCollapse",payload:!1}),document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.margin="0",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.margin="0",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.display="none",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayGrid"),N({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry")&&(document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.width="0%",document.getElementById("overlayPreviewCCMCheckPtsConfigRegistry").style.width="0%",document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.display="none")}(0,i.useEffect)((()=>{t.loading(!0),Z(),N({type:"IsDraft",payload:!1}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0}),N({type:"editData",payload:[]})}),[]),(0,i.useEffect)((()=>{t.editData&&N({type:"editData",payload:[t.editData]})}),[t.editData]);const O=e=>{N({type:"IsCollapse",payload:!0}),document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.width="0%",document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.display="none",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.display="block",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayGrid"),N({type:"ExpandDetailValue",payload:!0}),N({type:"PrimaryId",payload:""}),a.current.clear(),e&&P.current.AddClose()},z=e=>{S.IsCollapse?(document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width=t.inboxdata?"0":"50%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.display=t.inboxdata?"none":"block",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.display="block",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.width="0%",document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.display="none"):(document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.width="0%",document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.display="none",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.width="auto",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayGrid"))};(0,i.useEffect)((()=>{E((e=>{(0,m.Z)(1).then((e=>{var t=new Array;t.push(e),N({type:"token",payload:t}),M(t.length),K(e)}))}))}),[]);const K=e=>{(0,p.Z)(e,1451).then((e=>N({type:"AccessRights",payload:e})))};return(0,i.useEffect)((()=>{t.inboxdata&&(N({type:"ShowDetail",payload:!0}),N({type:"PrimaryId",payload:t.inboxdata.id}),setTimeout((()=>{l.current.viewlistProps(t.inboxdata.id)}),500))}),[t.inboxdata]),n().createElement("div",null,n().createElement(h.Provider,{value:{cstate:S,cdispatch:N,ContextApi:f,loading:e=>t.loading(e),ShareTab:(e,a)=>t.TabShare(e,a),alert:e=>t.alertmsg(e),SlideComponentType:e=>t.SlideComponentType(e),ConfirmAlert:e=>t.ConfirmAlert(e),openNav:e=>t.openNav(e),openDialog:e=>t.openDialog(e),AppropenDialog:(e,a)=>t.openDialogAppr(e,a),DialogComponentType:e=>t.DialogComponentType(e),ExpandTable:e=>Z(),viewtoggle:()=>{S.ShowDetail&&l.current.viewtoggle()},ExpandDetail:e=>O(e),AttachExpand:e=>(u.current.AttachmentData(S.PrimaryId),void(S.ExpandTableValue?(document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.width="28%",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.width="auto",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.display="block"):(document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width=t.inboxdata?"0":"40%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.display=t.inboxdata?"none":"block",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.display="block",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.width="28%",document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.display="block"))),RefreshTable:()=>{v.current.tableRefresh()},floatRefresh:()=>B.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttCCMCheckPtsConfigRegistry").style.display="none",attachmentSave:e=>{I.current.tempsave(e,T),x([])},detailview:(e,t)=>{v.current.viewrecord(t),N({type:"ShowDetail",payload:e}),N({type:"EditOpen",payload:!0}),S.ShowDetail&&l.current.viewtoggle()},clear:e=>{S.ShowDetail?(N({type:"ShowDetail",payload:!1}),N({type:"editData",payload:[]})):a.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var i,n,s;i=e,s=l,N({type:"IsDraft",payload:n=t}),N({type:"EditOpen",payload:!1}),N({type:"EditIsDraft",payload:n}),O(),N({type:"editData",payload:[i]}),N({type:"screenType",payload:s})},AddOpen:(e,t)=>((e,t)=>{N({type:"ShowDetail",payload:!0}),N({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&P.current.AddOpen(e,t),l.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(N({type:"ShowDetail",payload:!1}),N({type:"ExpandTableValue",payload:!0}),v.current.tableRefresh(),document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.display="block",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="0%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.display="none",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistryTabDiv").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.display="none",void(document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.width="0%"))}},n().createElement("div",{id:"CCMCheckPtsConfigRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!S.ExpandTableValue&&n().createElement("div",{id:"CCMCheckPtsConfigRegistry-MainTable",className:"Maincontent"},0!==k?n().createElement(r.default,{ref:v}):null),n().createElement("div",{id:"CCMCheckPtsConfigRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},S.ShowDetail?n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divCCMCheckPtsConfigRegistry-Entry",style:{width:"100%",display:"flex"}},n().createElement(o.default,{inboxdata:t.inboxdata,openDialog:(e,a)=>t.LevelComponentHTMLopenDialogAppr(e,a),parentId:S.PrimaryId,ref:l}),n().createElement("div",{style:{width:"70%"}},n().createElement(y.ZP,{ref:P,loading:e=>t.loading(e),alertmsg:e=>t.alertmsg(e),ConfirmAlert:e=>{t.ConfirmAlert(e)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:e=>t.openNav(e),SlideComponentType:e=>t.SlideComponentType(e),IsCollapse:S.IsCollapse,openDialog:e=>t.openDialog(e),DialogComponentType:e=>t.DialogComponentType(e)})),n().createElement(C.Z,{ref:I,menurefID:1451,fileId:"LogoImgCCMCheckPtsConfigRegistry",imgloading:e=>b(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewCCMCheckPtsConfigRegistry",AccessRights:S.AccessRights,frmctrlid:"PvwIm_1451_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{S.PrimaryId?u.current.AttachmentData(S.PrimaryId):u.current.tempImg(e),x(e)},clearTempData:S.Add})),n().createElement(d.Z,{ImgAttachment:e=>z(),menurefID:1451,fileId:"AttImgCCMCheckPtsConfigRegistry",imgid:"overlayimgAttCCMCheckPtsConfigRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{I.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewCCMCheckPtsConfigRegistry",ref:u,imgloading:w,ConfirmAlert:e=>{t.ConfirmAlert(e)},frmctrlid:"Imgatt_1451_L3_",timglist:e=>I.current.timglist(e)})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divCCMCheckPtsConfigRegistry-Entry",style:{width:"100%"}},n().createElement(c.default,{inboxdata:t.inboxdata,ref:a,clrImgstate:e=>u.current.clrImgstate(e),triggerAttSelect:e=>u.current.triggerAttSelect(e)}),n().createElement(y.ZP,{ref:P,Action:"none",loading:e=>t.loading(e),alertmsg:e=>t.alertmsg(e),ConfirmAlert:e=>{t.ConfirmAlert(e)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:e=>t.openNav(e),SlideComponentType:e=>t.SlideComponentType(e),IsCollapse:S.IsCollapse,openDialog:e=>t.openDialog(e),DialogComponentType:e=>t.DialogComponentType(e)}),n().createElement(C.Z,{ref:I,menurefID:1451,fileId:"LogoImgCCMCheckPtsConfigRegistry",imgloading:e=>b(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewCCMCheckPtsConfigRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{S.PrimaryId?u.current.AttachmentData(S.PrimaryId):u.current.tempImg(e),x(e)},clearTempData:S.Add})),n().createElement(d.Z,{ImgAttachment:e=>z(),menurefID:1451,fileId:"AttImgCCMCheckPtsConfigRegistry",imgid:"overlayimgAttCCMCheckPtsConfigRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{I.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewCCMCheckPtsConfigRegistry",ref:u,imgloading:w,ConfirmAlert:e=>{t.ConfirmAlert(e)},frmctrlid:"Imgatt_1451_L3_",timglist:e=>I.current.timglist(e),clearTempData:S.Add}))),S.ExpandTableValue&&n().createElement("div",{id:"CCMCheckPtsConfigRegistry-MainTable",className:"Maincontent"},0!==k?n().createElement(r.default,{ref:v}):null),n().createElement("div",{id:"CCMCheckPtsConfigRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}})),F&&n().createElement(D(),{openDialog:F,closeDialog:e>=L(e),formID:1451,PrimID:S.PrimaryId,alert:(e,t,l)=>{"Approval Sent Succesfully"==e.message&&a.current.cardRefresh()},loading:e=>{t.loading(e)}})))}},45981:(e,t,a)=>{a.r(t),a.d(t,{CCMCheckPtsConfigRegistryPopUpTable:()=>V,default:()=>G}),a(95866);var l=a(92950),i=a.n(l),n=a(45237),s=a(36939),r=a(61201),o=a(50743),c=a(59009),d=a(80366),C=a(51673),m=a(69651),p=a(54180),g=a(47516),u=a(39327),D=(a(14439),a(27848),a(42258),a(40900)),y=(a(83032),a(44117),a(39264)),h=a(43031),f=a(110),I=a(88995),v=a(5109),P=a(61657),E=a(868),k=a(24038),M=a(51209),S=a(8981),N=a(3212),w=a(86893),b=a(53854),T=a(51649),x=a(37106),A=a(5434),R=a(93521),B=a(25462),F=a(71168),L=a.n(F),Z=a(65107),O=a(79352),z=a(94986),K=a(15999);a(11557),window.clickFilter="";const G=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),F=((0,l.useRef)(null),(0,l.useRef)(null)),[G]=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[V]=(0,l.useState)("1451"),[_,U]=(0,l.useState)(!1),[H,Y]=(0,l.useState)(!1),[j,$]=(0,l.useState)(0),[W,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ie]=(0,l.useState)([]),[ne,se]=(0,l.useState)({val:"",column:""}),[re,oe]=(0,l.useState)([]),[ce,de]=(0,l.useState)(!1),[Ce,me]=(0,l.useState)(""),[pe,ge]=(0,l.useState)(""),[ue,De]=(0,l.useState)(!1),[ye,he]=(0,l.useState)(!1),[fe,Ie]=(0,l.useState)([]),[ve,Pe]=(0,l.useState)([]),[Ee,ke]=(0,l.useState)([]),[Me,Se]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:y.CCMCheckPtsConfigRegistryContext),{cstate:we,cdispatch:be}=e.ContextApi?e.ContextApi:(0,y.ContextApi)(),[Te,xe]=(0,l.useState)({children:[{name:"CCMCheckPtsConfigRegistry",children:[]}]}),[Ae,Re]=(0,l.useState)(!1);let Be={CCMCheckPtsConfigIDPK:"",CheckPointsConfigCode:"",CPNarration:"",IsDraft:"",Remarks:"",DivisionID:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Fe,Le]=(0,l.useState)(Be),[Ze,Oe]=(0,l.useState)(Be),[ze,Ke]=(0,l.useState)(Be),[Ge,Ve]=(0,l.useState)(Be),[_e,Ue]=(0,l.useState)("asc"),[He,Ye]=(0,l.useState)(""),[je,$e]=(0,l.useState)(!1),[We,Je]=(0,l.useState)(!0),[qe,Qe]=(0,l.useState)(!0),[Xe,et]=(0,l.useState)(!1),[tt,at]=(0,l.useState)(!0),[lt,it]=(0,l.useState)(0),[nt,st]=(0,l.useState)({CheckPointsConfigCode:"",DivisionName:"",DisciplineName:"",CPNarration:""}),[rt,ot]=(0,l.useState)(!1),[ct,dt]=(0,l.useState)([]),[Ct,mt]=(0,l.useState)(0),[pt,gt]=(0,l.useState)(0),[ut,Dt]=(0,l.useState)({current:1,pageSize:10}),[yt,ht]=(0,l.useState)([]),[ft,It]=(0,l.useState)([]),[vt,Pt]=(0,l.useState)(!1),[Et]=(0,l.useState)(localStorage.getItem("Language")),[kt]=(0,l.useState)(localStorage.getItem("Language")),[Mt,St]=L()("1451"),[Nt,wt]=(0,l.useState)({}),[bt,Tt]=(0,l.useState)({}),xt=[{columns:yt,data:te}];let At=(0,S.Z)();const Rt=e=>At?.[e]?At[e]:e,Bt=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{zt(Mt)}),[Mt]),(0,l.useEffect)((()=>{we.token.length>0&&(we.IsDraft?Zt(X,Be,"DraftCCMCheckPtsConfigID"):Zt(X,Be,"CCMCheckPtsConfigID"))}),[]),(0,l.useEffect)((()=>{ye||Me||Ae||!Ce?ye?Oe(Ce):Me?Ke(Ce):Ae&&Ve(Ce):we.IsDraft?Zt(X,Ce,"DraftCCMCheckPtsConfigID"):Zt(X,Ce,"CCMCheckPtsConfigID")}),[Ce]),(0,l.useEffect)((()=>{!1===e.cardview&&at(e.cardview),e.Dialogview&&Y(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ot(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ft()},viewrecord:e=>{re.map(((t,a)=>{t.CCMCheckPtsConfigIDPK==e&&be({type:"editData",payload:[re[a]]})}))}})));const Ft=()=>{we.IsDraft?Zt(X,Be,"DraftCCMCheckPtsConfigID"):Zt(X,Be,"CCMCheckPtsConfigID")};function Lt(e){Ne.loading(!0);let t=D.v.Api+"FP1451S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,C.Z)(t,a,we.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,gt(t.Output.data[0].TotalCount)):(a=0,Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1)),10==e.pageSize?mt(Math.ceil(a)):20==e.pageSize?mt(Math.ceil(a/2)):50==e.pageSize?mt(Math.ceil(a/5)):100==e.pageSize&&mt(Math.ceil(a/10)),dt(t.Output.data),Ne.loading(!1)}}))}const Zt=(e,t,a,l,i,n)=>{Ne.loading(!0),"DraftPage"!==l&&$e(we.IsDraft);let s=D.v.Api+"FP1451S3/",r={data:{p1:i||(t&&t.CCMCheckPtsConfigIDPK?t.CCMCheckPtsConfigIDPK:null),p2:t&&t.CheckPointsConfigCode?t.CheckPointsConfigCode:null,p3:t&&t.CPNarration?t.CPNarration:null,p4:"DraftCCMCheckPtsConfigID"==a?"1":"0",p5:null,p6:t&&t.DivisionID?t.DivisionID:null,p7:t&&t.DisciplineID?t.DisciplineID:null,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.DivisionCode?t.DivisionCode:null,p16:t&&t.DivisionName?t.DivisionName:null,p17:t&&t.DisciplineCode?t.DisciplineCode:null,p18:t&&t.DisciplineName?t.DisciplineName:null,p19:i?1:e.current,p20:e.pageSize,p21:a,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};(0,C.Z)(s,r,we.token[0]).then((i=>{if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let t=0;i.Output.data.length>0?(t=parseFloat(i.Output.data[0].TotalCount,10)/10,J(i.Output.data[0].TotalCount),be({type:"count",payload:i.Output.data[0].TotalCount}),Q(i.Output.data[0].DraftCnt),"DraftPage"==l&&Q(i.Output.data[0].TotalCount)):t=0,10==e.pageSize?$(Math.ceil(t)):20==e.pageSize?$(Math.ceil(t/2)):50==e.pageSize?$(Math.ceil(t/5)):100==e.pageSize&&$(Math.ceil(t/10)),we.ExpandTableValue&&(we.ExpandDetailValue?document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.display="block":(document.getElementById("CCMCheckPtsConfigRegistry-MainTable").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainEntry").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMCheckPtsConfigRegistry-MainDiv").classList.add("displayGrid"))),oe(i.Output.data),Ne.loading(!1),document.getElementById("divCCMCheckPtsConfigRegistry-Entry").style.height="auto"}}else Ne.loading(!1),"DraftCCMCheckPtsConfigID"===a?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),$e(!1)):(oe([]),ee({current:1,pageSize:10}),$(0),J(0),be({type:"count",payload:0}),Object.values(t).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[i.Output.status.message]}),Ne.loading(!1)}))};function Ot(e,t){Ne.loading(!0);const a=D.v.Api+"FP1451S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:je?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,C.Z)(a,l,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?$(Math.ceil(a)):20==t.pageSize?$(Math.ceil(a/2)):50==t.pageSize?$(Math.ceil(a/5)):100==t.pageSize&&$(Math.ceil(a/10)),oe(e.Output.data),Ne.loading(!1)}else oe([]),$(0),J(0),be({type:"count",payload:0}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function zt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),be({type:"language",payload:Object.assign({},...i)}),st(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),Pe(t),ke(a),ht(l),It(a)}const Kt=(e,t,a)=>{be({type:"IsDraft",payload:t}),be({type:"EditOpen",payload:!1}),be({type:"EditIsDraft",payload:t}),Ne.ExpandDetail(!1),a?Ne.AddOpen(e.CCMCheckPtsConfigIDPK,t):be({type:"editData",payload:[e]})},Gt=()=>{ce?(document.getElementById("CCMCheckPtsConfigRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("CCMCheckPtsConfigRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("CCMCheckPtsConfigRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),ye?(document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):tt?Me?(document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMCheckPtsConfigRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("CCMCheckPtsConfigRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("CCMCheckPtsConfigRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("CCMCheckPtsConfigRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),ye?(document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):tt?Me?(document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMCheckPtsConfigRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),De(!1),window.clickFilter=!ce};return i().createElement("div",null,i().createElement(s.Z,{expanded:We,onChange:()=>()=>{Je(qe)}},i().createElement(o.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},i().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},i().createElement("div",{className:"displayFlex"},Ae||ye||!je?i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("p",{className:"ListP",title:"10.0.0.23-11:09:46-2-5[1451]"},`${Bt("1451")} (${W})`)):i().createElement("div",{className:"ListHeader displayFlex"},i().createElement(E.ZP,{title:"List",placement:"top"},i().createElement("div",{id:"fld1451L3TCList",onClick:()=>{qe||(be({type:"Add",payload:!0}),be({type:"Add",payload:!0})),Ne.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Zt({current:1,pageSize:100},Be,"CCMCheckPtsConfigID"),$e(!1),be({type:"IsDraft",payload:!1})}),500)):(Zt({current:1,pageSize:100},Be,"CCMCheckPtsConfigID"),$e(!1),be({type:"IsDraft",payload:!1})),ee({current:1,pageSize:100})}},i().createElement(T.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},"Drafts(",W,")")))),i().createElement("div",{style:{display:"flex"}},ye||Me||Ae?null:i().createElement("div",{className:"searchbar",id:"fld1451L3TCSearchBar"},i().createElement(k.Z,{className:"search_input",type:"text",id:"CCMCheckPtsConfigRegistrygridsearch",placeholder:"Search",value:pe,onChange:e=>{if(ge(e),"0"==e.length)return Zt(X,Be,je?"DraftCCMCheckPtsConfigID":"CCMCheckPtsConfigID",je&&"DraftPage"),!1;Ot(e,{current:1,pageSize:100})}}),i().createElement("div",{className:"search_icon"},pe?i().createElement("div",{id:"fld1451L3TCCloseIcon",onClick:()=>{ge(""),Ft()}},i().createElement(d.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld1451L3TCInputSearchIcon",onClick:()=>{document.getElementById("CCMCheckPtsConfigRegistrygridsearch").focus()}},i().createElement(I.Z,{className:"InputSearchIcon"})))),i().createElement("div",{style:{marginLeft:"5px"}},we.AccessRights.IsAdd&&i().createElement(N.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>Ne.ExpandDetail(!0)}))))),i().createElement(r.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"CCMCheckPtsConfigRegistry-HeaderItems",className:"displayFlex padding"},i().createElement("div",{className:"tableHeaderItems displayFlex"},!je&&i().createElement("div",{frmctrlid:"fld1451L3TCFilterDataIsDraft",id:"CCMCheckPtsConfigRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Gt()},i().createElement(E.ZP,{title:Rt("Filter Data"),placement:"top"},i().createElement(g.Ol$,{className:"tableFilterColumnIcon"})),i().createElement("span",{className:"iconinfo"},Rt("Filter Data"))),H||ye||Ae||je?null:i().createElement(p.Z,{title:"Check Points",formctrlidprint:"fld1451L3TCExportPrint",formctrlidexport:"fld1451L3TCExportTable",formctrlidrefresh:"fld1451L3TCExportRefresh",data:le,exportData:xt,Items:ft,columnIndex:yt,TableVisibleItem:ve,userGridViewFormID:V,TableTotalCount:W,triggerApi:e=>{((e,t,l,i,n)=>{if(0===W)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let s=D.v.Api+"FP1451S3/",r={data:{p1:e&&e.CCMCheckPtsConfigIDPK?e.CCMCheckPtsConfigIDPK:null,p2:e&&e.CheckPointsConfigCode?e.CheckPointsConfigCode:null,p3:e&&e.CPNarration?e.CPNarration:null,p4:je?"1":"0",p5:null,p6:e&&e.DivisionID?e.DivisionID:null,p7:e&&e.DisciplineID?e.DisciplineID:null,p8:e&&e.IsActive,p9:null,p10:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p11:e&&e.CreatedTtm?e.CreatedTtm:null,p12:e&&e.CreatedTtmType?e.CreatedTtmType:null,p13:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p14:null,p15:e&&e.DivisionCode?e.DivisionCode:null,p16:e&&e.DivisionName?e.DivisionName:null,p17:e&&e.DisciplineCode?e.DisciplineCode:null,p18:e&&e.DisciplineName?e.DisciplineName:null,p19:X.current,p20:W,p21:je?"DraftCCMCheckPtsConfigID":"CCMCheckPtsConfigID",p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${Bt(1451)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,C.Z)(s,r,we.token[0],n).then((e=>{(0,R.PDF_Excel_Generate)(e,Ne,ft,ae,a,n)}))})(Ce,ne.column,0,0,e)},Refresh:()=>{ge(""),F.current.clearItem(),ee({current:1,pageSize:100}),we.IsDraft?Zt({current:1,pageSize:100},Be,"DraftCCMCheckPtsConfigID"):Zt({current:1,pageSize:100},Be,"CCMCheckPtsConfigID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:a}),ye||Me||Ae||!qe?null:!je&&we.AccessRights.IsAdd&&i().createElement("div",{id:"CCMCheckPtsConfigRegistrycoldiv",className:"buttoncard",onClick:()=>{ue?(document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.width="0%",document.getElementById("CCMCheckPtsConfigRegistryTabDiv").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.display="none",document.getElementById("CCMCheckPtsConfigRegistrycoldiv").style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.width="25%",document.getElementById("CCMCheckPtsConfigRegistryTabDiv").style.width="75%",document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.display="block",document.getElementById("CCMCheckPtsConfigRegistryfildiv").style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMCheckPtsConfigRegistrycoldiv").style.width="fit-content",document.getElementById("CCMCheckPtsConfigRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),de(!1)}},i().createElement(E.ZP,{title:"{t('Manage Columns')}",placement:"top"},i().createElement("span",null,i().createElement(u.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld1451L3TCFilterDataIsAdd"}))),i().createElement("span",{className:"iconinfo"},Rt("Manage Columns"))),!je&&_&&!ye&&!Ae&&!H&&qe&&i().createElement("div",{id:"fld1451L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},i().createElement(E.ZP,{title:Rt("Migration"),placement:"top"},i().createElement("span",null,i().createElement(O.ncH,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Rt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!H&&qe&&!Ae&&!ye&&!je&&i().createElement("div",null,i().createElement("div",{id:"CCMCheckPtsConfigRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{rt?ot(!1):(ot(!0),Lt({current:1,pageSize:100}))}},i().createElement("div",{id:"fld1451L3TCTableScrollData"},i().createElement(E.ZP,{title:Rt("Table Scroll Data"),placement:"top"},i().createElement(K.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Rt("Table Scroll Data")))),we.AccessRights.IsAdd&&!Ae&&!ye&&!je&&i().createElement(c.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},i().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){it(0),ee({current:1,pageSize:100}),qe||(be({type:"Add",payload:!0}),be({type:"Add",payload:!0})),Ne.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Zt({current:1,pageSize:100},Be,"DraftCCMCheckPtsConfigID"),$e(!0),be({type:"IsDraft",payload:!0}),De(!1),at(!0),he(!1),Se(!1)}),500)):(Zt({current:1,pageSize:100},Be,"DraftCCMCheckPtsConfigID"),$e(!0),be({type:"IsDraft",payload:!0}),De(!1),at(!0),he(!1),Se(!1)),document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.width="0%",document.getElementById("CCMCheckPtsConfigRegistryTabDiv").style.width="100%",document.getElementById("CCMCheckPtsConfigRegistryFilterDiv").style.display="none"}else Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},i().createElement(E.ZP,{title:Rt("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(x.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Rt("Drafts"))))),ye||Me||Ae||je?null:i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ae||je?null:i().createElement("div",null,qe&&i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{id:"fld1451L3TCListView",className:tt?"buttonList":"buttonGrid",onClick:()=>{de(!0),at(!0),Pt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(b.umT,null)),i().createElement("span",null,"List")),i().createElement("div",{id:"fld1451L3TCGridView",className:tt||vt?"buttonGrid":"buttonList",onClick:()=>{at(!1),Pt(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(w.aCJ,null)),i().createElement("span",null,"Card")),i().createElement("div",{className:vt?"buttonList":"buttonGrid",id:"fld1451L3TCTileView",onClick:()=>{Pt(!0),at(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(A.f_H,null)),i().createElement("span",null,"Tile"))))))),i().createElement("div",{id:"CCMCheckPtsConfigRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},i().createElement("div",{id:"CCMCheckPtsConfigRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&i().createElement(m.default,{CloseBtnClk:()=>Gt(),searchData:e=>{me(e||bt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));wt(t)},formID:V,data:()=>{},visibleData:()=>{},token:we.token[0],userGrid:Mt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]})}),ue&&!ye&&!Me&&i().createElement(v.Z,{frmctrlid:"fld1451L3TCTableColumnOrder",loading:e=>Ne.loading(e),AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:ue,userID:G,userGridViewFormID:V,saved:(e,t)=>{e&&zt(t)},Token:we.token[0]})),i().createElement("div",{id:"CCMCheckPtsConfigRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},tt?i().createElement("div",null,ye&&i().createElement(ListComponent,{onLoad:ye,data:(e,t)=>{!function(e,t){be({type:"editData",payload:[e]}),de(!1),document.getElementById("CCMCheckPtsConfigRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("CCMCheckPtsConfigRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("CCMCheckPtsConfigRegistry-ShareView").classList.remove("ViewBtnAct"),he(!1),Se(!1),Re(!1);let a={CheckPointsConfigCode:"",DivisionID:"",DisciplineID:"",CPNarration:""};Le(a),Zt({current:1,pageSize:100},a,"CCMCheckPtsConfigID")}(e)},json:Ze}),!ye&&!Ae&&i().createElement("div",null,rt?i().createElement(z.Z,{data:ct,expanded:()=>{},edit:(e,t,a)=>{Kt(e,t,a),Ne.ExpandTable(!1),be({type:"EditIsDraft",payload:t}),be({type:"EditOpen",payload:!1})}}):i().createElement(Z.Z,{ref:F,frmctrlid:"tblcs_1451_L3_",id:"CCMCheckPtsConfigRegistry-MainTable",headerdata:ve,tablesearchparams:nt,searchvalue:e=>{st(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...Nt};Tt(t),ee({current:1,pageSize:10}),Zt({current:1,pageSize:10},t,je?"DraftCCMCheckPtsConfigID":"CCMCheckPtsConfigID",je&&"DraftPage")},bodydata:re,ondrag:(e,t)=>{Kt(t,je,!0)},bodyitem:Ee,visibleitem:ve,isdraft:je,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:V,accessrights:we.AccessRights,expanded:()=>{},edit:Kt,viewtoggle:Ne.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return i().createElement(B.ZP,{loading:e=>Ne.loading(e),alertmsg:e=>Ne.alert(e),ConfirmAlert:e=>{Ne.ConfirmAlert(e)},data:we.editData,AddOpen:we.EditOpen,parentId:t.CCMCheckPtsConfigIDPK,IsDraft:we.EditIsDraft,tableview:e})}}))):i().createElement(M.Z,{frmctrlid:"fld1451L3TCExpandedCardDual",data:re,id:"CCMCheckPtsConfigRegistry",title:"Check Points",cardTile:!!vt,visibleitem:ve,gridCountmdlg:qe?4:12,gridCountxssm:qe?6:12,expanded:()=>{},edit:Kt,viewtoggle:Ne.viewtoggle,onDoubleClick:(e,t)=>{H?Ne.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:je}),be({type:"ShowDetail",payload:!1}),Ne.ExpandDetail(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:je}),be({type:"ShowDetail",payload:!0}),Ne.ExpandDetail(!0),Ne.viewtoggle()),qe&&(de(!1),De(!1)))}})))))),ye||Me||Ae?null:qe?rt?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(h.Z,{count:Ct,color:"primary",page:ut.current,onChange:(e,t)=>{Dt({current:t,pageSize:ut.pageSize}),mt(t),Lt({current:t,pageSize:ut.pageSize})}}),i().createElement("div",null,i().createElement(f.Z,{value:ut.pageSize,frmctrlid:"fld1451L3TCSelectPagination",onChange:e=>{Dt({current:1,pageSize:e.target.value}),Lt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),qe&&i().createElement("p",{className:"per-page"},"/ per page Of (",pt,")")):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(h.Z,{count:j,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),je)Zt({current:t,pageSize:X.pageSize},Ce,"DraftCCMCheckPtsConfigID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";pe.length>0?Ot(pe,{current:t,pageSize:X.pageSize}):Zt({current:t,pageSize:X.pageSize},Ce,"CCMCheckPtsConfigID")}}}),i().createElement("div",null,i().createElement(f.Z,{value:X.pageSize,frmctrlid:"fld1451L3TCSelectPagination",onChange:e=>{ee({current:1,pageSize:e.target.value}),je?Zt({current:1,pageSize:e.target.value},Fe,"DraftCCMCheckPtsConfigID","DraftPage"):pe.length>0?Ot(pe,{current:1,pageSize:e.target.value}):Zt({current:1,pageSize:e.target.value},Fe,"CCMCheckPtsConfigID")},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),qe&&i().createElement("p",{className:"per-page "},"/ per page Of (",W,") ")):i().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},i().createElement(P.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(W),page:lt,onPageChange:(e,t)=>{it(t),Zt({current:t+1,pageSize:X.pageSize},Be,je?"DraftCCMCheckPtsConfigID":"CCMCheckPtsConfigID",je&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{it(0)}})))})),V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),c=(0,l.useRef)(null),[d]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m,g]=L()("1451"),[u,I]=(0,l.useState)(!1),[v,P]=(0,l.useState)(0),[E,k]=(0,l.useState)(0),[M,N]=(0,l.useState)({current:1,pageSize:100}),[w,b]=(0,l.useState)(""),[T,x]=(0,l.useState)([]),[A,B]=(0,l.useState)({val:"",column:""}),[F,O]=(0,l.useState)([]),[z,K]=(0,l.useState)(!1),[G,V]=(0,l.useState)(""),[_,U]=(0,l.useState)([]),[H,Y]=(0,l.useState)([]),[j,$]=(0,l.useState)([]),W=(0,l.useContext)(y.CCMCheckPtsConfigRegistryContext),{cstate:J,cdispatch:q}=(0,y.ContextApi)();let Q={CCMCheckPtsConfigIDPK:"",CheckPointsConfigCode:"",CPNarration:"",IsDraft:"",Remarks:"",DivisionID:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[X,ee]=(0,l.useState)(!1),[te,ae]=(0,l.useState)(!0),[le,ie]=(0,l.useState)(!1),[ne,se]=(0,l.useState)(!0),[re,oe]=(0,l.useState)(0),[ce,de]=(0,l.useState)({CheckPointsConfigCode:"",DivisionName:"",DisciplineName:"",CPNarration:""}),[Ce,me]=(0,l.useState)([]),[pe,ge]=(0,l.useState)([]),[ue,De]=(0,l.useState)([]),[ye,he]=(0,l.useState)(!1),[fe,Ie]=(0,l.useState)("");(0,S.Z)();const ve=e=>J.language?.[e]?J.language[e]:e,Pe=[{columns:Ce,data:w}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),q({type:"language",payload:Object.assign({},...i)}),de(a.reduce(((e,t)=>(e[t]="",e)),{})),U(e),Y(t),$(a),me(l),ge(a)}(m)}),[m]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ee()},viewrecord:e=>{F.map(((t,a)=>{t.CCMCheckPtsConfigIDPK==e&&q({type:"editData",payload:[F[a]]})}))},DialogTableProps:e=>{I(e)},searchData:(t,a,l)=>{W.loading(!0),c.current&&c.current.clearItem(),Ie(l),N({current:1,pageSize:10}),Q=e.ApiParamType.params,ke({current:1,pageSize:100},a,l)}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&I(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ee=()=>{J.IsDraft?ke(M,Q,"DraftCCMCheckPtsConfigID"):ke(M,Q,"CCMCheckPtsConfigID")},ke=async(t,a,l,i)=>{if(J.token[0]){if(W.loading(!0),"DraftPage"!==i&&ee(J.IsDraft),await Ie((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],i=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=i[e];a=t}V(a);let n=D.v.Api+`${e.ApiType}/`,s={data:{p1:a&&a.CCMCheckPtsConfigIDPK?a.CCMCheckPtsConfigIDPK:null,p2:a&&a.CheckPointsConfigCode?a.CheckPointsConfigCode:null,p3:a&&a.CPNarration?a.CPNarration:null,p4:"DraftCCMCheckPtsConfigID"==l?"1":"0",p5:null,p6:a&&a.DivisionID?a.DivisionID:null,p7:a&&a.DisciplineID?a.DisciplineID:null,p8:a&&a.IsActive,p9:null,p10:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p11:a&&a.CreatedTtm?a.CreatedTtm:null,p12:a&&a.CreatedTtmType?a.CreatedTtmType:null,p13:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p14:null,p15:a&&a.DivisionCode?a.DivisionCode:null,p16:a&&a.DivisionName?a.DivisionName:null,p17:a&&a.DisciplineCode?a.DisciplineCode:null,p18:a&&a.DisciplineName?a.DisciplineName:null,p19:t.current,p20:t.pageSize,p21:l,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};(0,C.Z)(n,s,J.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,k(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?P(Math.ceil(a)):20==t.pageSize?P(Math.ceil(a/2)):50==t.pageSize?P(Math.ceil(a/5)):100==t.pageSize&&P(Math.ceil(a/10)),O(e.Output.data)}}else O([]),N({current:1,pageSize:10}),P(0),k(0),q({type:"count",payload:0})}))}};return(0,l.useEffect)((()=>{ie(J.ExpandTableValue)}),[J.ExpandTableValue]),i().createElement("div",null,i().createElement(s.Z,{expanded:te,onChange:()=>()=>{ae(le)}},i().createElement(o.Z,null),i().createElement(r.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"CCMCheckPtsConfigRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},i().createElement(p.Z,{formctrlidprint:"fld1451L3TCExportPrint",formctrlidexport:"fld1451L3TCExportTable",formctrlidrefresh:"fld1451L3TCExportRefresh",title:"Check Points",data:T,exportData:Pe,Items:pe,columnIndex:Ce,triggerApi:t=>{((t,l,i)=>{if(0===E)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let n=D.v.Api+`${e.ApiType}/`,s={data:{p1:t||(t&&t.CCMCheckPtsConfigIDPK?t.CCMCheckPtsConfigIDPK:null),p2:t&&t.CheckPointsConfigCode?t.CheckPointsConfigCode:null,p3:t&&t.CPNarration?t.CPNarration:null,p4:X?"1":"0",p5:null,p6:t&&t.DivisionID?t.DivisionID:null,p7:t&&t.DisciplineID?t.DisciplineID:null,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.DivisionCode?t.DivisionCode:null,p16:t&&t.DivisionName?t.DivisionName:null,p17:t&&t.DisciplineCode?t.DisciplineCode:null,p18:t&&t.DisciplineName?t.DisciplineName:null,p19:1,p20:E,p21:fe,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};W.loading(!1),W.alert({open:!0,color:"success",message:[`${ve("1451")} - ${i.alertName}, Once you have downloaded the file, you will be notified`]}),(0,C.Z)(n,s,J.token[0],i).then((e=>{(0,R.PDF_Excel_Generate)(e,W,pe,b,a,i)}))})(G,A.column,t)},TableVisibleItem:H,userGridViewFormID:"1451",TableTotalCount:E,Refresh:()=>{if(z)return e.refresh(),!1;ke({current:1,pageSize:100},G,fe),N({current:1,pageSize:100})},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:a})),i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(h.Z,{count:v,siblingCount:0,color:"primary",page:M.current,onChange:(e,t)=>{if(N({current:t,pageSize:M.pageSize}),X)ke({current:t,pageSize:M.pageSize},G,"DraftCCMCheckPtsConfigID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ke({current:t,pageSize:M.pageSize},G,"CCMCheckPtsConfigID")}}}),i().createElement("div",null,i().createElement(f.Z,{value:M.pageSize,onChange:e=>{N({current:1,pageSize:e.target.value}),ke({current:1,pageSize:e.target.value},G,"CCMCheckPtsConfigID")},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),le&&i().createElement("p",{className:"per-page"},"/ per page Of (",E,")"))),i().createElement("div",{id:"CCMCheckPtsConfigRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},i().createElement("div",{id:"CCMCheckPtsConfigRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?i().createElement(MUITableMulti,{type:e.viewtype,id:"CCMCheckPtsConfigRegistry",headerdata:H,tablesearchparams:ce,searchvalue:e=>{de(e),N({current:1,pageSize:100}),ke({current:1,pageSize:100},e,X?"DraftCCMCheckPtsConfigID":"CCMCheckPtsConfigID",X&&"DraftPage")},bodydata:F,ondrag:(e,t)=>{q({type:"editData",payload:[t]}),q({type:"IsDraft",payload:X}),q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:X,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{u?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,a,l):W.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{O(e)},color:!0,isexpanded:!1}):i().createElement(Z.Z,{frmctrlid:"tblcs_1451_L3_",ref:c,id:"CCMCheckPtsConfigRegistryTable",type:e.viewtype,headerdata:H,tablesearchparams:ce,searchvalue:e=>{let t={...G,...e};de(e),V(t),N({current:1,pageSize:100}),ke(M,t,fe)},bodydata:F,ondrag:(e,t)=>{q({type:"editData",payload:[t]}),q({type:"IsDraft",payload:X}),q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:X,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{u?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,a,l):W.edit(t,a,!1))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},69651:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P}),a(95866),a(99058);var l=a(92950),i=a.n(l),n=a(80366),s=a(51673),r=a(282),o=a(868),c=a(78513),d=a(14439),C=a(27848),m=a(40900),p=a(64059),g=a(24038),u=a(8981),D=a(47516),y=a(86893),h=a(39264),f=a(33681),I=a(63163),v=a(25108);const P=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[P,E]=(0,l.useState)([]),[k,M]=(0,l.useState)({idpk:"",name:"",type:""}),[S,N]=(0,l.useState)(""),[w,b]=(0,l.useState)({}),[T,x]=(0,l.useState)(!0),[A,R]=(0,l.useState)(!1),{cstate:B,cdispatch:F}=e.ContextApi?e.ContextApi:(0,h.ContextApi)(),[L,Z]=(0,l.useState)(1),[O,z]=(0,l.useState)(0),[K,G]=(0,l.useState)(!1),[V,_]=(0,l.useState)({}),[U,H]=(0,l.useState)([]),[Y,j]=(0,l.useState)(!0);let $=localStorage.getItem("Language");const W={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let J=(0,u.Z)();const q=e=>J[e]?J[e]:e,Q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[W[$]];function X(){b({}),_({}),e.searchData({}),R(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));H(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{X()}})));const ee=async(t,a,l,i)=>{G(!0);let n=a.IsForeign?a.FieldName+"PK":"CCMCheckPtsConfigIDPK";try{let r="",o=[],c={};await M((e=>(r=e.name,e))),await b((e=>(o=e,e))),await _((e=>(c=e,e)));const d=m.v.Api+"FP1451S3/",C={data:{p1:a.IsForeign?await le():null,p2:"CheckPointsConfigCode"==r&&l.length>0?"%"+l+"%":null,p3:"CPNarration"==r&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:"DivisionName"!=r&&o.DivisionName?o.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p7:"DisciplineName"!=r&&o.DisciplineName?o.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p8:e.Dialogview?"1":null,p9:null,p10:"p10"==r&&l.length>0?l:null,p11:null,p12:null,p13:null,p14:null,p15:"DivisionCode"==r&&l.length>0?"%"+l+"%":null,p16:"DivisionName"==r&&l.length>0?"%"+l+"%":null,p17:"DisciplineCode"==r&&l.length>0?"%"+l+"%":null,p18:"DisciplineName"==r&&l.length>0?"%"+l+"%":null,p19:i||1,p20:10,p21:t,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};await(0,s.Z)(d,C,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===i){let e=ae(l,r),t=te(e,w[r],n);E(t),z(t.length>0?t[0].TotalCount:w[r].length)}else{let e=[...P,...l],t=ae(e,r);z(t.length<10?t.length:l[0].TotalCount),E(ae(t,r))}else S.length>0&&E([]),z(P.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{G(!1)}},te=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ae=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function le(){let e={};await b((t=>(e=t,t)));let t=[...U],a=[];for(let l of t){let t=e[l]?.map((e=>e.CCMCheckPtsConfigIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ie(t,a,l,i,n,s){let r={[i]:{From:t,Type:l,To:a}},o={};_((e=>({...e,...r})));const c={...w};let d=[...U],C=[];for(let e of d){let t=c[e]?.map((e=>e.CCMCheckPtsConfigIDPK)).toString();t&&C.push(t)}await _((e=>(o=e,e)));let m={CCMCheckPtsConfigIDPK:C?[...new Set(C)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,DivisionID:w.DivisionName?.map((e=>e.DivisionIDPK)).toString(),DisciplineID:w.DisciplineName?.map((e=>e.DisciplineIDPK)).toString()};e.searchData(m)}function ne(){return i().createElement(p.Z,{frmctrlid:"fld1451L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{ie(e,t,a,k.name,l)},keyboardback:()=>{R(!1),M({idpk:"",name:"",type:""})},title:q(k.name),fieldname:k.name,save:e=>{alert(!0)}})}return i().createElement("div",null,A?"Created Ttm"===k.name||k.name.includes("Date")?i().createElement(ne,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(d.Z,null,i().createElement(C.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},Q(k.idpk)," (",P.length,"/",O,")")),i().createElement(C.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(o.ZP,{title:q("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(n.Z,{id:"fld1451L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{R(!1),M({idpk:"",name:"",type:""}),Z(1)}}))),w[k.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(r.Z,{frmctrlid:"fld1451L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await b((t=>(e=t,v.log("clear fewItems",e),t))),e[k.name]=[],ee(k.type,k.name,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},q("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},T?i().createElement(o.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(y.D7o,{className:"FilterMaximizeIcon",onClick:()=>{x(!1)}}))):i().createElement(o.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(y.dOw,{className:"FilterMaximizeIcon",onClick:()=>{x(!0)}})))),i().createElement("ul",null,w[k.name]&&w[k.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:T?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[k.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[k.name],onClick:()=>(async(e,t)=>{Z(1);let a=w[k.name].filter((t=>t!=e)),l={};await b((e=>(l=e,e))),l[k.name]=a,b(l),E((t=>[e,...t]))})(e)},i().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(g.Z,{frmctrlid:"fld1451L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:q("Enter ")+" "+Q(k.idpk),onChange:e=>{N(e),ee(k.type,k.name,e,1,le())}})),i().createElement("div",{id:"fld1451L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await b((e=>(a=e,e)));let i=[...U],n=[];for(let e of i){let t=a[e]?.map((e=>e.CCMCheckPtsConfigIDPK)).toString();t&&n.push(t)}await _((e=>(l=e,e)));let s={CCMCheckPtsConfigIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",DivisionID:w.DivisionName?.map((e=>e.DivisionIDPK)).toString(),DisciplineID:w.DisciplineName?.map((e=>e.DisciplineIDPK)).toString()};e.searchData(s),R(!1)}},i().createElement(o.ZP,{title:"",placement:"top"},i().createElement(r.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(f.Z,{color:"secondary"})),i().createElement("div",{id:"fld1451L3TFCScrollYDefault",className:"height65 scrollYDefault"},P.length>0&&P.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[k.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await b((e=>(l=e,e)));let i=l[k.name];t[k.name]=i?[...a,...i]:a,l={...l,...t},b(l),E((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(c.Z,{className:"DotIcon"}),i().createElement("span",null,e[k.name])))),P.length+0<O&&P.length>0&&i().createElement("div",{id:"fld1451L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(L+1),ee(k.type,k.name,"",L+1)}},i().createElement("p",null," more... ")),0===P.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:m.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(D.Ol$,{className:"columnHeaderIcon"})),i().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,i().createElement(o.ZP,{title:"",placement:"top"},i().createElement(r.Z,{className:"ColumnApplyButton",onClick:()=>{X()},id:"fld1451L3TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},q("Clear")))),i().createElement(o.ZP,{title:"",placement:"top"},i().createElement(r.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1451L3TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},q("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld1451L3TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{R(!0),N(""),E([]),z(0),M({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterCCMCheckPtsConfigID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterCCMCheckPtsConfigID",e,"",1,le())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,Q(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,Q(e.AdminUserGridViewIDPK)),i().createElement(I.Z,{checked:"1"==Y,onChange:t=>{j(t.target.checked),ie("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,Q(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,w[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},w[a][0][a]),w[a].length>1&&i().createElement("span",{className:"RoundedDivName"},w[a][1][a]),w[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(w[a].length-2))))));var a}))))))}))},95395:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var l=a(92950),i=a.n(l),n=a(45237),s=(a(37148),a(3212)),r=a(29800),o=a(14439),c=a(27848),d=(a(10966),a(36939)),C=a(61201),m=a(50743),p=a(39264),g=(a(21392),a(51673)),u=a(40900),D=a(26537),y=(a(24038),a(8185)),h=(a(77366),a(97829),a(8981)),f=(a(63163),a(1695)),I=a(99216),v=(a(35131),a(61956),a(51649)),P=a(61924),E=a.n(P);const k=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[P,k]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[M,S]=(0,l.useState)(!0),[N,w]=(0,l.useState)(e.showDetail),[b,T]=(0,l.useState)(""),[x,A]=i().useState(!1),[R,B]=i().useState(""),[F,L]=i().useState(!1),Z=(0,l.useContext)(p.CCMCheckPtsConfigRegistryContext),{cstate:O,cdispatch:z}=(0,p.ContextApi)(),[K,G]=(0,l.useState)(!1),[V,_]=(0,l.useState)(""),[U,H]=(0,l.useState)(""),[Y,j]=(0,l.useState)("");let $=(0,h.Z)();(0,l.useEffect)((()=>{O.editData.length>0&&(k(O.editData),A(!1),z({type:"PrimaryId",payload:O.editData[0].CCMCheckPtsConfigIDPK}))}),[O.editData]),(0,l.useEffect)((()=>{O.showTableview&&j(O.showTableview)}),[O.showTableview]),(0,l.useEffect)((()=>{S(O.ExpandDetailValue)}),[O.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),A(null)},viewtoggle:()=>{A(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=u.v.Api+"FP1451S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:1,p20:10,p21:a?"DraftCCMCheckPtsConfigID":"CCMCheckPtsConfigID",p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,g.Z)(l,i,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&k(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===x&&a.current.clear()}})));const W=e=>$?.[e]?$?.[e]:e,J=e=>O.language?.[e]?O.language[e]:e;function q(e,t){}const Q=e=>P[0].DivisionID&&0!=P[0].DivisionID?P[0].DisciplineID&&0!=P[0].DisciplineID?void Z.ConfirmAlert(i().createElement(E(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:W("Are you sure?"),onConfirm:()=>(()=>{Z.loading(!0),Z.ConfirmAlert(null),z({type:"IsDraft",payload:!1});let e={url:u.v.Api+"FP1451S2/",PrimID:P[0].CCMCheckPtsConfigIDPK,ParamType:"",state:P[0],active:1,token:O.token[0],DefaultPrimaryId:"",IndirectID:""};(0,y.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,i=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:i}),Z.loading(!1)):(()=>{Z.loading(!0);let e={url:u.v.Api+"FP1451S1/",PrimID:P[0].CCMCheckPtsConfigIDPK,ParamType:"",state:P[0],active:1,token:O.token[0],DefaultPrimaryId:"",IndirectID:""};(0,y.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(Z.alert({open:!0,color:"success",message:[t.message]}),Z.loading(!1),Z.ShowTableDiv(),Z.RefreshTable())}))})())}))})(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:W("Yes"),cancelBtnText:W("Cancel"),showCancel:!0},O.PrimaryId?W("Do you want to Update?"):W("Do you want to Save?"))):(Z.alert({open:!0,color:"warning",message:[W("Please select the ")+" "+J("DisciplineID")]}),!1):(Z.alert({open:!0,color:"warning",message:[W("Please select the ")+" "+J("DivisionID")]}),!1);return i().createElement("div",{className:"SubContent_1"},i().createElement(d.Z,{expanded:M,onChange:()=>()=>{e.expandTable&&S(!M)}},!x&&i().createElement(m.Z,null,i().createElement(o.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("span",{style:{cursor:"pointer"}},i().createElement(v.u1R,{className:"backButtonList",onClick:()=>{Z.ShowTableDiv(),Z.RefreshTable()}})),i().createElement("p",{className:"DListP"},O.IsDraft?"Draft ":"",J("CCMCheckPtsConfigRegistry"))))))),i().createElement(C.Z,{style:{display:"block"}},P.map(((e,t)=>i().createElement("div",{key:t},i().createElement(I.Z,{tableName:"CCMCheckPtsConfigRegistry",tableID:1451,parentID:e.CCMCheckPtsConfigIDPK,fldid:"fld1451L3VCContainer",OpenSlideComponent:q,index:t,val:e,tf:J,t:W,title:"10.0.0.23-11:09:46-2-5[1451]"}))))),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&O.AccessRights.IsAdd&&i().createElement(s.Z,{className:"L1AddBtnCommon",onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:[]}),z({type:"PrimaryId",payload:O.editData[0].CCMCheckPtsConfigIDPK})},disabled:!1}),O.IsDraft&&i().createElement(r.Z,{onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:P}),z({type:"PrimaryId",payload:O.editData[0].CCMCheckPtsConfigIDPK})},disabled:!1}),i().createElement(f.Z,{name:O.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld1451L3ECSaveBtnApprovalStatus",onClick:()=>{Q()}}))))}))}}]);