/*! For license information please see 4243.b2016199141300162be7.js.LICENSE.txt */
(self.webpackChunk_shared_routing_viewsl0l2=self.webpackChunk_shared_routing_viewsl0l2||[]).push([[4243,9861],{93657:(e,t,l)=>{"use strict";var a=l(95318),o=l(20862);t.Z=void 0;var n=o(l(92950)),r=(0,a(l(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=r},53375:(e,t,l)=>{"use strict";var a=l(95318),o=l(20862);t.Z=void 0;var n=o(l(92950)),r=(0,a(l(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=r},90482:(e,t,l)=>{"use strict";var a=l(95318),o=l(20862);t.Z=void 0;var n=o(l(92950)),r=(0,a(l(2108)).default)(n.createElement("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}),"SwapVert");t.Z=r},41722:(e,t,l)=>{"use strict";l.d(t,{D:()=>o,E:()=>a});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{}};function o(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,l)=>{"use strict";l.d(t,{Z:()=>d});var a=l(40900),o=l(26537),n=l(61956),r=l(35131),i=l.n(r),s=l(25108);function d(e,t,l,r){if("select"==e){const e=a.v.Api+"FP1454S3/",l={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":o.Z.TokenIDPK,"x-tokenname":o.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(l)}).then((e=>{if(e.ok)return s.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=a.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:r,p4:JSON.stringify(l),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:i()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:i()().format("YYYY-MM-DD hh:mm:ss")}]};(0,o.Z)(0).then((t=>{(0,n.Z)(e,d,t).then((e=>{200==e[0].status.code?s.log(e,"RES"):s.log("Error")}))}))}}},45441:(e,t,l)=>{"use strict";l.d(t,{Z:()=>N});var a=l(92950),o=l.n(a),n=l(7869),r=l.n(n),i=l(14439),s=l(27848),d=l(282),c=l(90482),m=l(868),u=l(8981);function p(e){let t=(0,u.Z)();return o().createElement(m.ZP,{placement:"top",title:e.name},o().createElement(d.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,onClick:e.onClick,frmctrlid:e.frmctrlid,startIcon:o().createElement(c.Z,{className:"PrintBtnIcon"})},t[e.name]))}function g(e){let t=(0,u.Z)();const l=e=>t?.[e]?t[e]:e;return o().createElement(m.ZP,{placement:"top",title:e.name?e.name:l("Import")},o().createElement(d.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,frmctrlid:e.frmctrlid,onClick:e.onClick,startIcon:o().createElement(c.Z,{className:"PrintBtnIcon"})},e.name?e.name:l("Import")))}l(96622);var y=l(80366),I=l(39803),f=l(13089),D=l(61657),F=l(25108);const C=function(e){const[t,l]=(0,a.useState)([]),[n,r]=(0,a.useState)(e.TableVisibleItem),[i,s]=(0,a.useState)(e.TableBodyItem);return(0,a.useEffect)((()=>{if(e.tableData.length>0){let t=[],a=[];Object.keys(e.tableData[0]).map((e=>{e.startsWith("Is")||(t.push({id:e,name:e.trim(),type:"varchar"}),a.push(e.trim()))})),r(t),s(a),l(e.tableData)}else l([])}),[e.tableData]),o().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",position:"relative",height:"61vh"}},e.tableData.length>0&&o().createElement("div",{className:"tableTopPagination displayFlex floatOrder",style:{float:"right"}},o().createElement(D.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:e.tableData.length,page:0,rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})),o().createElement(f.Z,{id:"ExcelMigrationTable",headerdata:n,tablesearchparams:"",searchvalue:e=>{setTableSearchParams(e)},bodydata:t,ondrag:(e,t)=>F.log(e,t),bodyitem:i,visibleitem:n,IsDraft:!1,IsView:!1,IsSub:"",tableExp:!1,accessrights:{},expanded:e=>{},edit:(e,t,l)=>{F.log(e,t,l)},viewtoggle:()=>{},isexpanded:!1,ViewComp:(e,t)=>{}}))};var E=l(55546),h=l.n(E),v=(l(40900),l(11557),l(51673),l(25108));h().ExcelFile,h().ExcelFile.ExcelSheet;const N=(0,a.forwardRef)(((e,t)=>{const{classes:l}=e,n=(0,a.useRef)(null),d=(0,a.useRef)(null),[c,m]=(0,a.useState)({}),[u,f]=(0,a.useState)([]),[D,F]=(0,a.useState)([]),[E,h]=(0,a.useState)(""),[N,S]=(0,a.useState)(!0),[A,L]=(0,a.useState)(!0);(0,a.useImperativeHandle)(t,(()=>({getRefresh:e=>f(e)})));const b=()=>{f([]),h(""),e.clear(),S(!0),L(!0)};async function T(t,l){e.loading(!0),e.importSave(t,l)}return e.TableBodyItem,v.log("exportData",e.exportData),o().createElement(i.Z,null,o().createElement(s.Z,{sm:12},o().createElement(i.Z,null,o().createElement(s.Z,{sm:2},o().createElement(p,{name:"download",id:e.frmctrlid+"_download",disabled:!1,onClick:e=>{d.current.click()}})),o().createElement(s.Z,{sm:2},o().createElement("input",{type:"file",className:"form-control",id:"myInput",ref:n,style:{display:"none"},onChange:t=>{(t=>{const l=t.target.files;h(t.target.files[0].name);var a=t.target.files[0].name.split(/\.(?=[^\.]+$)/);if(v.log("filename",l),"xls"!=a[1]&&"xlsx"!=a[1]&&"ods"!=a[1])return e.alert({open:!0,color:"error",message:["You can only upload Excel file!"]}),!1;{l&&l[0]&&h(l[0].name);const t=new FileReader,a=!!t.readAsBinaryString;t.onload=t=>{const l=t.target.result,o=r().read(l,{type:a?"binary":"array",bookVBA:!0});if(e.SheetCount>1){var n=o.SheetNames.slice(0,e.SheetCount);let t=[];n.map(((e,l)=>{const a=o.SheetNames[l],n=o.Sheets[a];let i=r().utils.sheet_to_json(n);t.push(i)})),e.data(t)}else{const t=o.SheetNames[0],l=o.Sheets[t],a=r().utils.sheet_to_json(l);let n=function(e,t){let l=[];for(let a=0;a<e.length;a++){let o=e[a],n={};for(let e=0;e<t.length;e++){let l=t[e];n["p"+(e+1)]=o[l]||""}l.push(n)}return l}(a,function(e){const t=[],l=r().utils.decode_range(e["!ref"]);for(let a=l.s.c;a<=l.e.c;++a){const o=e[r().utils.encode_cell({r:l.s.r,c:a})];o&&o.t&&t.push(o.v)}return t}(l));f(n),F((e=>{let t=[],l=r().utils.decode_range(e).e.c+1;for(var a=0;a<l;++a)t[a]={name:r().utils.encode_col(a),key:a};return t})(l["!ref"])),e.data(a,null,2),S(!1)}},a?t.readAsBinaryString(l[0]):t.readAsArrayBuffer(l[0])}})(t)},onClick:e=>{e.target.value=null}}),o().createElement(p,{name:"Browse",id:e.frmctrlid+"_browse2",disabled:!1,onClick:e=>{n.current.click()}})),o().createElement(s.Z,{sm:4},o().createElement(I.Z,{value:E,disabled:!0,multiline:!0,rowsMax:"2",fullWidth:!0,InputProps:{classes:l,endAdornment:E?o().createElement(y.Z,{style:{width:"18px",color:"#777"},onClick:e=>{b()}}):null}})),o().createElement(s.Z,{sm:2},o().createElement(g,{name:"Process",disabled:!!N,id:e.frmctrlid+"_Process",onClick:e=>{T(u,{type:"Process",uid:localStorage.getItem("userid")}),L(!1),S(!0)}})),o().createElement(s.Z,{sm:2},o().createElement(g,{name:"Import",disabled:!!A,id:e.frmctrlid+"_import",onClick:e=>{T(u,{type:"Import",uid:localStorage.getItem("userid")}),b()}})),o().createElement(s.Z,{sm:12},o().createElement(C,{tableData:u,TableVisibleItem:e.TableVisibleItem,TableBodyItem:e.TableBodyItem})))),o().createElement("a",{ref:d,style:{display:"none"},href:e.excelfile,download:e.filename},"Click to download"))}))},83530:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>z});var a=l(92950),o=l.n(a),n=l(45237),r=l(36939),i=l(61201),s=l(50743),d=(l(3212),l(30553)),c=l(61956),m=l(44528),u=l(51673),p=l(37148),g=l(99090),y=l(35131),I=l.n(y),f=l(14439),D=l(27848),F=l(1695),C=l(61924),E=l.n(C),h=l(26537),v=l(40900),N=(l(40826),l(11377)),S=(l(24038),l(92371));const A={EnterKeyValues:{AssFloorRegistry:["FloorCode","FloorName","BuildingName","LocalityName","FloorArea","IsNonContract","FloorLatitude","FloorLongitude"]},Label:{AssFloorRegistry:{FloorCode:["FloorCode","FloorName"],FloorName:["FloorCode","FloorName"],BuildingID:["BuildingCode","BuildingName","LocalityName"],LocalityID:["LocalityCode","LocalityName"],FloorArea:["FloorCode","FloorName","BuildingCode","BuildingName","LocalityCode","LocalityName"],IsNonContract:["FloorCode","FloorName","BuildingCode","BuildingName","LocalityCode","LocalityName"],FloorLatitude:["FloorCode","FloorName","BuildingCode","BuildingName","LocalityCode","LocalityName"],FloorLongitude:["FloorCode","FloorName","BuildingCode","BuildingName","LocalityCode","LocalityName"]}},LabelHeader:{AssFloorRegistry:{FloorCode:["Floor Code","Floor Name"],FloorName:["Floor Code","Floor Name"],BuildingID:["Building Code","Building Name","LocalityName"],LocalityID:["Location Code","Location Name"],FloorArea:["Floor Code","Floor Name","BuildingCode","BuildingName","LocalityCode","LocalityName"],IsNonContract:["Floor Code","Floor Name","BuildingCode","BuildingName","LocalityCode","LocalityName"],FloorLatitude:["Floor Code","Floor Name","BuildingCode","BuildingName","LocalityCode","LocalityName"],FloorLongitude:["Floor Code","Floor Name","BuildingCode","BuildingName","LocalityCode","LocalityName"]}},Property:{AssFloorRegistry:{FloorCode:{id:"fld52_1054",labelID:"FloorCode",maxLength:"20",labelname:"Floor Code",frmctrlid:"fld52_1054",frmctrlidname:"FloorCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},FloorName:{id:"fld52_1055",labelID:"FloorName",maxLength:"50",labelname:"Floor Name",frmctrlid:"fld52_1055",frmctrlidname:"FloorName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BuildingID:{id:"fld52_1066",clearID:"AssFloorRegistryBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"Building",fielddisplayname:"BuildingName",foreignName:[],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!0},LocalityID:{id:"fld52_1065",clearID:"AssFloorRegistryLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FloorArea:{id:"fld52_1057",labelID:"FloorArea",maxLength:"50",labelname:"Area",frmctrlid:"fld52_1057",frmctrlidname:"FloorArea",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsNonContract:{id:"fld52_1056",labelID:"IsNonContract",maxLength:"",labelname:"Non Contract",frmctrlid:"fld52_1056",frmctrlidname:"IsNonContract",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FloorLatitude:{id:"fld52_1059",labelID:"FloorLatitude",maxLength:"",labelname:"Floor Latitude",frmctrlid:"fld52_1059",frmctrlidname:"FloorLatitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FloorLongitude:{id:"fld52_1060",labelID:"FloorLongitude",maxLength:"",labelname:"Floor Longitude",frmctrlid:"fld52_1060",frmctrlidname:"FloorLongitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{AssFloorRegistry:{BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"]}}};var L=l(9597),b=l(99263),T=l(99323),B=(l(79117),l(8981)),w=l(6562),x=l(63163),R=l(45155),P=l(79352),k=(l(49174),l(38773),l(19089),l(16233)),Z=l.n(k);l(82729),l(75355),l(11107);const O={FloorIDPK:"",FloorCode:"",FloorName:"",IsNonContract:!1,FloorArea:"",FloorLatitude:"",FloorLongitude:"",IsDefault:!1,IsDraft:!1,Remarks:"",LocalityID:null,BuildingID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:null,AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",Type:"FloorID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},z=(0,a.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[l,y]=(0,a.useState)(!1),[C,k]=((0,a.useRef)(),(0,a.useState)(!0)),[z,M]=(0,a.useState)(!1),[G,_]=(0,a.useState)(!1),[K,V]=(0,a.useState)(""),[U,Y]=(0,a.useState)(!1),[H,j]=(0,a.useState)([]),[$,W]=(0,a.useState)(null),[J,q]=(0,a.useReducer)(S.Z,O),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)([]),[le,ae]=(0,a.useState)(!1),oe=(0,a.useContext)(e.context?e.context:L.AssFloorRegistryContext),{cstate:ne,cdispatch:re}=e.ContextApi?e.ContextApi:(0,L.ContextApi)(),[ie,se]=(0,a.useState)(0),[de,ce]=(0,a.useState)(""),me=(0,a.useRef)(null),[ue,pe]=Z()("52"),[ge,ye]=(0,a.useState)(!0),[Ie,fe]=(0,a.useState)(!0),[De,Fe]=(0,a.useState)(!0),[Ce,Ee]=(0,a.useState)(!0),[he,ve]=(0,a.useState)(!1);let Ne=(0,B.Z)();const[Se,Ae]=(0,a.useState)({}),Le=e=>Ne[e]?Ne[e]:e,be=t=>ne.language?.[t]?ne.language[t]:e.createEasy?Se?.[t]:t;(0,a.useEffect)((()=>{Be(),ne.editData.length<0&&(0,h.Z)(1).then((e=>{ke(1,null,"SetDefaultFloorID",e)}))}),[]),(0,a.useEffect)((()=>{ne.editData.length>0?(Te(ne.editData[0],""),M(!0)):ne.Add&&(Be(),ke(1,null,"SetDefaultFloorID",ne.token[0]),M(!0))}),[ne.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),Ae(Object.assign({},...t))}(ue)}),[ue]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Be()},CreateEasyProps:(e=!0,t)=>{pe(!0),t?(_e(t),M(e)):(Be(),M(e))}})));const Te=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),_(t.IsDraft),"SetDefaultFloorID"==l?ce(t.FloorIDPK):(se(e.primid?Number(e.primid):t.FloorIDPK?t.FloorIDPK:0),re({type:"PrimaryId",payload:t.FloorIDPK})),q({type:"text",name:"FloorCode",value:t.FloorCode?t.FloorCode:""}),q({type:"text",name:"FloorName",value:t.FloorName?t.FloorName:""}),q({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),q({type:"text",name:"BuildingName",value:t.BuildingName}),q({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),q({type:"text",name:"LocalityName",value:t.LocalityName}),q({type:"number",name:"FloorArea",number:Number(t.FloorArea)}),q({type:"boolean",name:"IsNonContract",boolean:!!t.IsNonContract&&t.IsNonContract}),q({type:"text",name:"FloorLatitude",value:t.FloorLatitude?t.FloorLatitude:""}),q({type:"text",name:"FloorLongitude",value:t.FloorLongitude?t.FloorLongitude:""}),q({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),t.IsDraft?k(!0):k(!("1"!=t.IsActive&&!t.IsActive))},Be=()=>{j([]),se(0),ce(""),e.createEasy||oe.resetImg(),re({type:"PrimaryId",payload:""}),q({type:"text",name:"FloorCode",value:""}),q({type:"text",name:"FloorName",value:""}),q({type:"text",name:"BuildingID",value:null}),q({type:"text",name:"BuildingName",value:""}),document.getElementById("AssFloorRegistryBuildingNameClear")&&document.getElementById("AssFloorRegistryBuildingNameClear").click(),q({type:"text",name:"LocalityID",value:null}),q({type:"text",name:"LocalityName",value:""}),document.getElementById("AssFloorRegistryLocalityNameClear")&&document.getElementById("AssFloorRegistryLocalityNameClear").click(),q({type:"number",name:"FloorArea",number:0}),q({type:"boolean",name:"IsNonContract",boolean:!1}),q({type:"text",name:"FloorLatitude",value:""}),q({type:"text",name:"FloorLongitude",value:""}),q({type:"boolean",name:"IsDefault",boolean:!1}),k(!0),V(""),ye(!0),fe(!0),Fe(!0),Ee(!0)},we=t=>{oe.loading(!0),oe.ConfirmAlert(null);const l=v.v.Api+"FP52S2/",a={data:[{p1:"SetDefaultFloorID"==t?"NORECORDS"!=de&&de?de:0:ie,p2:Ke(J.FloorCode),p3:Ke(J.FloorName),p4:J.IsNonContract,p5:J.FloorArea?Number(J.FloorArea):0,p6:Ke(J.FloorLatitude),p7:Ke(J.FloorLongitude),p8:J.IsDefault,p9:!1,p10:"SetDefaultFloorID"==t?"SetDefault":null,p11:J.LocalityID?J.LocalityID:0,p12:J.BuildingID?J.BuildingID:0,p13:C,p14:"SetDefaultFloorID"==t,p15:localStorage.getItem("userid"),p16:I()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,h.Z)(0).then((t=>{(0,u.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,o=new Array,n=new Array;"200"===l.code?(a.map((e=>{e&&(o.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),o.some((e=>"1"==e))?(oe.alert({open:!0,color:"warning",message:n}),oe.loading(!1)):(t=>{ye(!0),fe(!0),Fe(!0),Ee(!0),oe.loading(!0),oe.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const l=v.v.Api+"FP52S1/",a={data:[{p1:ie,p2:Ke(J.FloorCode),p3:Ke(J.FloorName),p4:J.IsNonContract,p5:J.FloorArea?Number(J.FloorArea):0,p6:Ke(J.FloorLatitude),p7:Ke(J.FloorLongitude),p8:J.IsDefault,p9:!1,p10:null,p11:J.LocalityID?J.LocalityID:0,p12:J.BuildingID?J.BuildingID:0,p13:C,p14:!1,p15:localStorage.getItem("userid"),p16:I()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,h.Z)(0).then((t=>{(0,c.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(oe.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttAssFloorRegistry"),oe.loading(!1),e.createEasy||ne.ShowDetail||(oe.RefreshTable(),oe.attachmentSave(t[0].Data.IDPK),e.clrImgstate(!0)),Be(),ne.AccessRights.IsApproval&&oe.Approval(!0),document.getElementById("overlayimgAttAssFloorRegistry")&&(document.getElementById("overlayimgAttAssFloorRegistry").style.width="0%",document.getElementById("overlayimgAttAssFloorRegistry").style.display="none",document.getElementById("divAssFloorRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("AssFloorRegistry-MainTable").style.display="block")):(oe.alert({open:!0,color:"warning",message:[l.message]}),oe.loading(!1)),M(!0),ke(1,null,"SetDefaultFloorID",ne.token[0])}))}))})()):(oe.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),oe.loading(!1))}))}))};function xe(t,l,a,o){if(!(ne.count>0))return oe.alert({open:!0,color:"warning",message:[Le("Please save atleast one record")]}),!1;if(!((()=>{const e={...J};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return oe.alert({open:!0,color:"warning",message:[Le("Please enter the primary fields")]}),!1;{ye(!0),fe(!0),Fe(!0),Ee(!0),oe.loading(!0),oe.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const l=v.v.Api+"FP52S1/",a={data:[{p1:"SetDefaultFloorID"==o?"NORECORDS"!=de&&de?de:0:ie,p2:Ke(J.FloorCode),p3:Ke(J.FloorName),p4:J.IsNonContract,p5:J.FloorArea?Number(J.FloorArea):0,p6:Ke(J.FloorLatitude),p7:Ke(J.FloorLongitude),p8:J.IsDefault,p9:!0,p10:"SetDefaultFloorID"==o?"SetDefault":null,p11:J.LocalityID?J.LocalityID:0,p12:J.BuildingID?J.BuildingID:0,p13:!1,p14:"SetDefaultFloorID"==o,p15:localStorage.getItem("userid"),p16:I()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,h.Z)(0).then((o=>{(0,c.Z)(l,a,o).then((l=>{const a=l[0].status;200==a.code?(t?oe.alert({open:!0,color:"warning",message:[Le("Deleted Successfully")]}):oe.alert({open:!0,color:"success",message:[Le("Saved to Draft")]}),oe.loading(!1),oe.attachmentSave(l[0].Data.IDPK),Be(),oe.RefreshTable(),e.clrImgstate(!0)):(oe.alert({open:!0,color:"warning",message:[a.message]}),oe.loading(!1))}))}))}}function Re(e){return(0,b.CreateEasy)(e,ne,re,oe,me),!1}function Pe(e,l){return(0,T.AdvanceSearch)(e,l,L.AssFloorRegistryContext,(0,L.ContextApi)(),Oe,t),!1}const ke=(t,l,a,o,n,r)=>{const i=v.v.Api+"FP52S3/",s={data:{p1:null,p2:null,p3:null,p4:1==J.IsNonContract,p5:l?"%"+l+"%":null,p6:l?"%"+l+"%":null,p7:l?"%"+l+"%":null,p8:null,p9:null,p10:null,p11:"0"==J.LocalityID?null:J.LocalityID,p12:"0"==J.BuildingID?null:J.BuildingID,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:"0"==J.LocalityGroupID?null:J.LocalityGroupID,p21:l?"%"+l+"%":null,p22:l?"%"+l+"%":null,p23:"0"==J.CityID?null:J.CityID,p24:l?"%"+l+"%":null,p25:l?"%"+l+"%":null,p26:"0"==J.AdminLocalityTypeID?null:J.AdminLocalityTypeID,p27:l?"%"+l+"%":null,p28:l?"%"+l+"%":null,p29:l?"%"+l+"%":null,p30:l?"%"+l+"%":null,p31:"0"==J.AssBuildingTypeID?null:J.AssBuildingTypeID,p32:l?"%"+l+"%":null,p33:l?"%"+l+"%":null,p34:l?"%"+l+"%":null,p35:l?"%"+l+"%":null,p36:t,p37:10,p38:a,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}},d=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(s.data).length-8?s.data[t]:null,e)),{});X(!0);const c={data:d};return(0,u.Z)(i,"ClearAll"==a?c:s,"SetDefaultFloorID"==a&&o?o:ne.token[0]).then((e=>{const l=e.Output.status.code,o=e.Output.data;if("200"==l){const e=o.length;if(n)return 1==o.length?o[0]:{};te(1==t?e>0?o:[]:ee.concat(o)),"SetDefaultFloorID"==a&&(e>0?Te(o[0],"SetDefaultFloorID"):ce("NORECORDS")),X(!1)}else oe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Ze=(t,l,a)=>{const o=v.v.Api+"FP52S3/",n={data:{p1:null,p2:"FloorCode"==a&&l?"%"+l+"%":null,p3:"FloorName"==a&&l?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:t,p37:10,p38:"FloorID",p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}},r={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};X(!0),(0,u.Z)(o,"ClearAll"==a?r:n,ne.token[0]).then((e=>{const l=e.Output.status.code,o=e.Output.data;if("200"==l){const e=o.length;1==t?("FloorCode"==a&&ye(e>0),"FloorName"==a&&fe(e>0),"FloorLatitude"==a&&Fe(e>0),"FloorLongitude"==a&&Ee(e>0),te(o)):("FloorCode"==a&&ye(!0),"FloorName"==a&&fe(!0),"FloorLatitude"==a&&Fe(!0),"FloorLongitude"==a&&Ee(!0),te(ee.concat(o))),X(!1)}else oe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Oe=(0,a.useCallback)((async(e,t,l)=>{"text"==l?q({type:l,name:t,value:e}):"number"==l?q({type:l,name:t,number:Number(e)}):"boolean"==l?q({type:l,name:t,boolean:e}):"date"==l?q({type:"text",name:t,value:e}):"select"==l&&("BuildingID"==t?(q({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),q({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),q({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),q({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"LocalityID"==t&&(q({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),q({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})))}),[J]);function ze(e){if("BuildingID"==e){if(!J.BuildingID)return!1;q({type:"text",name:"BuildingID",value:null}),q({type:"text",name:"BuildingName",value:""}),document.getElementById("AssFloorRegistryBuildingNameClear")&&document.getElementById("AssFloorRegistryBuildingNameClear").click(),q({type:"text",name:"LocalityID",value:null}),q({type:"text",name:"LocalityName",value:""}),document.getElementById("AssFloorRegistryLocalityNameClear")&&document.getElementById("AssFloorRegistryLocalityNameClear").click()}else if("LocalityID"==e){if(!J.LocalityID)return!1;q({type:"text",name:"LocalityID",value:null}),q({type:"text",name:"LocalityName",value:""}),document.getElementById("AssFloorRegistryLocalityNameClear")&&document.getElementById("AssFloorRegistryLocalityNameClear").click(),q({type:"text",name:"BuildingID",value:null}),q({type:"text",name:"BuildingName",value:""}),document.getElementById("AssFloorRegistryBuildingNameClear")&&document.getElementById("AssFloorRegistryBuildingNameClear").click()}}function Me(e){if("BuildingID"==e){if(!J.BuildingID)return!1;q({type:"text",name:"BuildingID",value:null}),q({type:"text",name:"LocalityID",value:null})}else if("LocalityID"==e){if(!J.LocalityID)return!1;q({type:"text",name:"LocalityID",value:null}),q({type:"text",name:"BuildingID",value:null})}}const Ge=e=>{oe.ConfirmAlert(o().createElement(E(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>_e(e),onCancel:()=>oe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Le("Yes"),cancelBtnText:Le("No"),showCancel:!0},Le("Do you want to update this record?")))};function _e(e){oe.ConfirmAlert(null),_(e.IsDraft),se(Number(e.FloorIDPK)?Number(e.FloorIDPK):0),q({type:"text",name:"FloorCode",value:e.FloorCode?e.FloorCode:""}),q({type:"text",name:"FloorName",value:e.FloorName?e.FloorName:""}),q({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),q({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),q({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),q({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),q({type:"number",name:"FloorArea",number:e.FloorArea?Number(e.FloorArea):0}),q({type:"boolean",name:"IsNonContract",boolean:!!e.IsNonContract&&e.IsNonContract}),q({type:"text",name:"FloorLatitude",value:e.FloorLatitude?e.FloorLatitude:""}),q({type:"text",name:"FloorLongitude",value:e.FloorLongitude?e.FloorLongitude:""})}const Ke=e=>"string"==typeof e?e.trim():e;return o().createElement("div",null,o().createElement(r.Z,{expanded:z,onChange:e=>{}},o().createElement(s.Z,null,o().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},z&&o().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},o().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[52]"}," ",Le("Add "),be("52")),o().createElement("div",{className:"displayFlex EntryHeaderBtn"},ne.AccessRights.IsDelete&&o().createElement("div",{className:"GridAlign"},o().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},o().createElement(w.Z,{row:!0},o().createElement(d.Z,{labelPlacement:"bottom",id:"fld52L2ECEntryCheckbox",control:o().createElement(x.Z,{checked:"1"==C,onChange:e=>k(e.target.checked)}),label:Le(1==C?"Active":"In Active")})))),!e.createEasy&&o().createElement("div",{className:"GridAlign",onClick:()=>{oe.AttachExpand(!0)},id:"fld52L2ECIconButton"},o().createElement("div",{className:"Entry-Checkbox"},o().createElement("div",{disableRipple:!0,disabled:!1},o().createElement(R.Ypb,{className:"Iconstyles"}))),o().createElement("div",{className:"GridLabel"},o().createElement("p",null,Le("Attach")))),!ie&&o().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Be()},id:"fld52L2ECClearBtn"},o().createElement("div",{className:"Entry-Checkbox"},o().createElement(R.pYJ,{className:"Iconstyles"})),o().createElement("div",{className:"GridLabel"},o().createElement("p",null,Le("Reset")))),"1"===G&&ie&&o().createElement(g.Z,{frmctrlid:"fld52L2ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{xe("draftdel")}}),ie&&"1"!==G||e.createEasy?null:ne.AccessRights.IsAdd&&o().createElement("div",{className:"GridAlign",onClick:()=>{xe()},frmctrlid:"fld52L2ECDraftBtn"},o().createElement("div",{className:"Entry-Checkbox"},o().createElement(P.IcR,{className:"Iconstyles"})),o().createElement("div",{className:"GridLabel"},o().createElement("p",null,Le("Draft")))),ne.AccessRights.IsAdd||ne.AccessRights.IsEdit?o().createElement(F.Z,{frmctrlid:"fld52L2ECSaveBtnIsAdd",name:Le(ie?"Update":"Save"),disabled:!1,onClick:()=>{Ke(J.FloorCode)?Ke(J.FloorName)?J.BuildingID&&0!=J.BuildingID?J.LocalityID&&0!=J.LocalityID?oe.ConfirmAlert(o().createElement(E(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Le("Are you sure?"),onConfirm:()=>we(),onCancel:()=>oe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Le("Yes"),cancelBtnText:Le("Cancel"),showCancel:!0},Le(ie?"Do you want to Update?":"Do you want to Save?"))):oe.alert({open:!0,color:"warning",message:[Le("Please select the ")+" "+be("LocalityID")]}):oe.alert({open:!0,color:"warning",message:[Le("Please select the ")+" "+be("BuildingID")]}):oe.alert({open:!0,color:"warning",message:[Le("Please enter the")+""+be("FloorName")]}):oe.alert({open:!0,color:"warning",message:[Le("Please enter the")+""+be("FloorCode")]})}}):null,!e.createEasy&&o().createElement(p.Z,{frmctrlid:"fld52L2ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Be(),M(!1),oe.EditClose(!0),oe.hideAddBtn(!1),re({type:"Add",payload:!1})}}))))),o().createElement(i.Z,null,o().createElement("div",{id:"AssFloorRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},o().createElement("div",{id:"AssFloorRegistry-Detail",className:"detailCard detailDiv"},o().createElement("div",{id:"AssFloorRegistry-MainBody",className:"padding paddingLeft "},o().createElement("div",null,o().createElement(f.Z,{spacing:2},o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},o().createElement(N.Z,{"data-testid":J.FloorCode,json:A,SPName:"AssFloorRegistry",FieldName:"FloorCode",tfLabel:be("FloorCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{ge&&Ze(1,"","ClearAll"),ye(!0)},frmctrlid:"fld52_1054",frmctrlidName:"FloorCode",fieldorder:"1",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{ge&&Ze(e,t,"FloorCode"),Oe(t,"FloorCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:J.FloorCode,loading:Q,clear:e=>{e&&(q({type:"text",name:"FloorCode",value:""}),ye(!0))}})),o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},o().createElement(N.Z,{"data-testid":J.FloorName,json:A,SPName:"AssFloorRegistry",FieldName:"FloorName",tfLabel:be("FloorName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{Ie&&Ze(1,"","ClearAll"),fe(!0)},frmctrlid:"fld52_1055",frmctrlidName:"FloorName",fieldorder:"2",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{Ie&&Ze(e,t,"FloorName"),Oe(t,"FloorName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:Ie,SideEntryView:!1,KeyBack:e=>{},value:J.FloorName,loading:Q,clear:e=>{e&&(q({type:"text",name:"FloorName",value:""}),fe(!0))}})),o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},o().createElement(N.Z,{json:A,id:J.BuildingID,"data-testid":J.BuildingID,value:J.BuildingName,disabled:!!ie,SPName:"AssFloorRegistry",FieldName:"BuildingID",tfLabel:be("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Oe(e,"BuildingID","select"),onChange:(e,t)=>{ke(e,t,"BuildingIDPK")},KeyBack:e=>{Me("BuildingID")},fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Re("30")},Tabledialog:()=>Pe("30","BuildingID"),loading:Q,clear:e=>{e&&ze("BuildingID")}})),o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},o().createElement(N.Z,{json:A,id:J.LocalityID,"data-testid":J.LocalityID,value:J.LocalityName,disabled:!!ie,SPName:"AssFloorRegistry",FieldName:"LocalityID",tfLabel:be("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Oe(e,"LocalityID","select"),onChange:(e,t)=>{ke(e,t,"LocalityIDPK")},KeyBack:e=>{Me("LocalityID")},fieldorder:"4",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Re("12")},Tabledialog:()=>Pe("12","LocalityID"),loading:Q,clear:e=>{e&&ze("LocalityID")}})),o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},o().createElement(m.Z,{json:A,"data-testid":J.FloorArea,SPName:"AssFloorRegistry",FieldName:"FloorArea",tfLabel:be("FloorArea"),frmctrlid:"fld52_1057",fieldorder:"1",onChange:e=>{Oe(e,"FloorArea","number")},clear:e=>{e&&q({type:"number",name:"FloorArea",number:0})},value:J.FloorArea})),o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},o().createElement("div",{className:"EntryView-Checkbox"},o().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":J.IsNonContract,labelPlacement:"end",control:o().createElement(x.Z,{checked:"1"==J.IsNonContract,onChange:e=>{Oe(e.target.checked,"IsNonContract","boolean")},frmctrlid:"fld52_1056",frmctrlidname:"IsNonContract",fieldorder:"2",tfLabel:be("IsNonContract")}),label:o().createElement("p",{className:"ToggleSwitchLabel",style:{color:J.IsNonContract?"#21446F":"#999"}},be("IsNonContract"))}))),o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},o().createElement(N.Z,{"data-testid":J.FloorLatitude,json:A,SPName:"AssFloorRegistry",FieldName:"FloorLatitude",tfLabel:be("FloorLatitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{De&&Ze(1,"","ClearAll"),Fe(!0)},frmctrlid:"fld52_1059",frmctrlidName:"FloorLatitude",fieldorder:"2",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{De&&Ze(e,t,"FloorLatitude"),Oe(t,"FloorLatitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Fe(!0)},showList:De,SideEntryView:!1,KeyBack:e=>{},value:J.FloorLatitude,loading:Q,clear:e=>{e&&(q({type:"text",name:"FloorLatitude",value:""}),Fe(!0))}})),o().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},o().createElement(N.Z,{"data-testid":J.FloorLongitude,json:A,SPName:"AssFloorRegistry",FieldName:"FloorLongitude",tfLabel:be("FloorLongitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{Ce&&Ze(1,"","ClearAll"),Ee(!0)},frmctrlid:"fld52_1060",frmctrlidName:"FloorLongitude",fieldorder:"2",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{Ce&&Ze(e,t,"FloorLongitude"),Oe(t,"FloorLongitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ee(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:J.FloorLongitude,loading:Q,clear:e=>{e&&(q({type:"text",name:"FloorLongitude",value:""}),Ee(!0))}})))),o().createElement("div",{id:"AssFloorRegistrySideBar",className:"sidenav"},o().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AssFloorRegistrySideBar").style.width="0",void Y(!1))},"×"),U&&o().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},$))))))))}))},9597:(e,t,l)=>{"use strict";l.r(t),l.d(t,{AssFloorRegistryContext:()=>g,ContextApi:()=>y,UserGridViewData:()=>I,default:()=>f});var a=l(92950),o=l.n(a),n=l(19611),r=l(53485),i=l(83530),s=l(67698),d=l(55995),c=l(26537),m=l(45237),u=l(45965),p=l(41722);l(51673),l(40900),l(9175);const g=(0,a.createContext)(),y=()=>{const e=(0,a.useContext)(g);if(void 0===e)throw new Error("useCont must be used within  AssFloorRegistryContext Provider");return e},I=[],f=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),I=(0,a.useRef)(),f=(0,a.useRef)(),D=(0,a.useRef)(),F=(0,a.useRef)(),[C,E]=(0,a.useState)(!0),[h,v]=(0,a.useState)(),N=((0,m.useSelector)((e=>e.form)),(0,m.useDispatch)()),[S,A]=(0,a.useState)(0),[L,b]=(0,a.useReducer)(p.D,p.E),[T,B]=(0,a.useState)(""),[w,x]=(0,a.useState)([]),[R,P]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||I.current.clear(),document.getElementById("divAssFloorRegistry-Entry").style.width="100%",document.getElementById("AssFloorRegistry-MainTable").style.width="100%",document.getElementById("AssFloorRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssFloorRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{E(!0),document.getElementById("divAssFloorRegistry-Entry").style.width="100%",document.getElementById("AssFloorRegistry-MainTable").style.width="100%",document.getElementById("AssFloorRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssFloorRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(b({type:"editData",payload:[e.editData]}),b({type:"ShowDetail",payload:!0}))}),[e.editData]);const k=e=>{x([]),document.getElementById("divAssFloorRegistry-Entry").style.width="100%",document.getElementById("AssFloorRegistryEntryTable").style.width="100%",document.getElementById("AssFloorRegistry-MainEntry").style.width="100%",document.getElementById("AssFloorRegistry-MainEntry").style.display="block",document.getElementById("AssFloorRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssFloorRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssFloorRegistry").style.width="0%",document.getElementById("overlayimgAttAssFloorRegistry").style.display="none"};(0,a.useEffect)((()=>{N((e=>{(0,c.Z)(1).then((e=>{var t=new Array;t.push(e),b({type:"token",payload:t}),A(t.length),Z(e)}))}))}),[]);const Z=e=>{(0,u.Z)(e,52).then((e=>b({type:"AccessRights",payload:e})))};return o().createElement("div",{style:{width:"100%"}},o().createElement(g.Provider,{value:{cstate:L,cdispatch:b,ContextApi:y,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh()},searchItem:e=>{0!==S&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{F.current.tempsave(e,w),x([])},EditClose:e=>k(),AttachExpand:e=>(D.current.AttachmentData(L.PrimaryId),void(C&&(document.getElementById("overlayimgAttAssFloorRegistry").style.width="25%",document.getElementById("overlayPreviewAssFloorRegistry").style.width="50%",document.getElementById("divAssFloorRegistry-Entry").style.width="100%",document.getElementById("AssFloorRegistry-MainTable").style.width="100%",document.getElementById("AssFloorRegistry-MainEntry").style.width="100%",document.getElementById("AssFloorRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssFloorRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAssFloorRegistry").style.display="block",document.getElementById("overlayimgAttAssFloorRegistry").style.width="25%"))),Expanded:e=>{L.ShowDetail&&f.current.tableClick(e),b({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{L.ShowDetail&&f.current.viewtoggle()},clear:e=>{b({type:"ShowDetail",payload:!1}),b({type:"editData",payload:[]}),L.ShowDetail?f.current.clear(e):I.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{L.ShowDetail?f.current.tableClick(!1):I.current.CreateEasyProps(!1)},resetImg:()=>{F.current.tempClear(),D.current.clrImgstate(!0)}}},o().createElement("div",{id:"AssFloorRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},o().createElement("div",{id:"AssFloorRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},o().createElement("div",{style:{display:"flex"}},o().createElement("div",{id:"AssFloorRegistryEntryTable",style:{width:"100%"}},L.ShowDetail?o().createElement("div",null,o().createElement("div",{className:"displayFlex width100"},o().createElement("div",{id:"divAssFloorRegistry-Entry",style:{width:"100%"}},0!==S?o().createElement(r.default,{ref:f}):null)),o().createElement(d.Z,{ref:F,menurefID:52,fileId:"LogoImgAssFloorRegistry",imgloading:t=>{t||L.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:L.PrimaryId,AttachmentVal:e=>D.current.AttachmentData(e),previd:"overlayPreviewAssFloorRegistry",frmctrlid:"PvwIm_52_L2_",tempImg:e=>{L.PrimaryId?D.current.AttachmentData(L.PrimaryId):D.current.tempImg(e),x(e)},clearTempData:L.Add})):o().createElement("div",null,o().createElement("div",{className:"displayFlex width100"},o().createElement("div",{id:"divAssFloorRegistry-Entry",style:{width:"100%"}},!e.tableview&&o().createElement(i.default,{ref:I,clrImgstate:e=>D.current.clrImgstate(e)}))),o().createElement(d.Z,{ref:F,menurefID:52,fileId:"LogoImgAssFloorRegistry",imgloading:t=>{t||L.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:L.PrimaryId,AttachmentVal:e=>D.current.AttachmentData(e),previd:"overlayPreviewAssFloorRegistry",frmctrlid:"PvwIm_52_L2_",tempImg:e=>{L.PrimaryId?D.current.AttachmentData(L.PrimaryId):D.current.tempImg(e),x(e)},clearTempData:L.Add})),o().createElement("div",{id:"AssFloorRegistry-MainTable"},0!==S?o().createElement(n.default,{ref:l}):null)),o().createElement(s.Z,{ImgAttachment:e=>k(),menurefID:52,fileId:"AttImgAssFloorRegistry",imgid:"overlayimgAttAssFloorRegistry",valueIDPK:L.PrimaryId,PriviewData:(e,t,l,a)=>{F.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewAssFloorRegistry",ref:D,imgloading:h,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_52_L2_",timglist:e=>{F.current.timglist(e),x(e)},clearTempData:L.Add}))),o().createElement("div",{id:"AssFloorRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},19611:(e,t,l)=>{"use strict";l.r(t),l.d(t,{AssFloorRegistryPopUpTable:()=>H,default:()=>Y}),l(95866);var a=l(92950),o=l.n(a),n=l(45237),r=l(36939),i=l(61201),s=l(59009),d=l(51673),c=l(20648),m=l(54180),u=l(43031),p=l(110),g=l(85639),y=l(5109),I=l(868),f=l(40900),D=l(88995),F=l(50743),C=l(80366),E=l(24038),h=l(61657),v=l(51209),N=l(86893),S=l(53854),A=l(51649),L=l(37106),b=l(5434),T=l(83817),B=l(47516),w=l(39327),x=l(79352),R=l(3212),P=l(93521),k=(l(79117),l(26537),l(61956),l(35131),l(45441)),Z=l(71168),O=l.n(Z),z=l(65107),M=l(9597),G=l(94986),_=l(15999),K=l(8981),V=l(11557),U=l(25108);window.clickFilter="";const Y=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),Z=(0,a.useRef)(null),Y=(0,a.useRef)(null),[H]=((0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[j]=(0,a.useState)("52"),[$,W]=(0,a.useState)(!0),[J,q]=(0,a.useState)(!1),[Q,X]=(0,a.useState)(0),[ee,te]=(0,a.useState)(0),[le,ae]=(0,a.useState)(0),[oe,ne]=(0,a.useState)(0),[re,ie]=(0,a.useState)({current:1,pageSize:100}),[se,de]=(0,a.useState)(""),[ce,me]=(0,a.useState)([]),[ue,pe]=(0,a.useState)({val:"",column:""}),[ge,ye]=(0,a.useState)([]),[Ie,fe]=(0,a.useState)(!1),[De,Fe]=(0,a.useState)(""),[Ce,Ee]=(0,a.useState)(""),[he,ve]=(0,a.useState)(!1),[Ne,Se]=(0,a.useState)([]),[Ae,Le]=(0,a.useState)([]),[be,Te]=(0,a.useState)([]),[Be,we]=(0,a.useState)({children:[{name:"AssFloorRegistry",children:[]}]}),[xe,Re]=(0,a.useState)(!1),Pe=(0,a.useContext)(e.context?e.context:M.AssFloorRegistryContext),{cstate:ke,cdispatch:Ze}=e.ContextApi?e.ContextApi:(0,M.ContextApi)();let Oe={FloorIDPK:"",FloorCode:"",FloorName:"",IsNonContract:"",FloorArea:"",FloorLatitude:"",FloorLongitude:"",IsDefault:"",IsDraft:"",Remarks:"",LocalityID:"",BuildingID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ze,Me]=(0,a.useState)(Oe),[Ge,_e]=(0,a.useState)(Oe),[Ke,Ve]=(0,a.useState)(!1),[Ue,Ye]=(0,a.useState)(!0),[He,je]=(0,a.useState)(!1),[$e,We]=(0,a.useState)(!0),[Je,qe]=(0,a.useState)({FloorCode:"",FloorName:"",BuildingName:"",LocalityName:"",FloorArea:"",IsNonContract:"",FloorLatitude:"",FloorLongitude:""}),[Qe,Xe]=(0,a.useState)(!1),[et,tt]=(0,a.useState)([]),[lt,at]=(0,a.useState)(0),[ot,nt]=(0,a.useState)(0),[rt,it]=(0,a.useState)({current:1,pageSize:10}),[st,dt]=(0,a.useState)([]),[ct,mt]=(0,a.useState)([]),[ut,pt]=(0,a.useState)(!1),[gt,yt]=(0,a.useState)(!1),[It,ft]=(0,a.useState)(!1),[Dt,Ft]=(0,a.useState)(""),[Ct,Et]=O()("52"),[ht,vt]=(0,a.useState)({}),[Nt]=(0,a.useState)("767"),[St,At]=(0,a.useState)([]),[Lt,bt]=(0,a.useState)([]),Tt=[{columns:st,data:se}];let Bt=(0,K.Z)();const wt=e=>Bt[e]?Bt[e]:e,xt=e=>ke.language?.[e]?ke.language[e]:e;(0,a.useEffect)((()=>{Mt(Ct),function(e){const t=e.filter((e=>e.FormID==Nt));let l=[],a=[];t.map((e=>{"1"==e.IsVisible&&(l.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),a.push(e.FieldName))})),At(l),bt(a)}(Ct)}),[Ct]),(0,a.useEffect)((()=>{ke.token.length>0&&Ot(re,Oe,"FloorID")}),[]),(0,a.useEffect)((()=>{!xe&&De?(Me(De),Ot(re,De,"FloorID")):xe&&_e(De)}),[De]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{Rt(e)},tableRefresh:()=>{Ot(re,Oe,"FloorID")},DialogTableProps:e=>{q(e)},HideEntryFields:e=>{ft(e)}})));const Rt=e=>{""==e?Ot(re,Oe,Ke?"DraftFloorID":"FloorID",Ke&&"DraftPage"):zt(e,{current:1,pageSize:100}),Ee(e)};function Pt(e){Pe.loading(!0);let t=f.v.Api+"FP52S7/",l={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,l,ke.token[0]).then((t=>{if(200==t.Output.status.code){let l=0;t.Output.data.length>0?(l=parseFloat(t.Output.data[0].TotalCount,10)/10,nt(t.Output.data[0].TotalCount)):l=0,10==e.pageSize?at(Math.ceil(l)):20==e.pageSize?at(Math.ceil(l/2)):50==e.pageSize?at(Math.ceil(l/5)):100==e.pageSize&&at(Math.ceil(l/10)),tt(t.Output.data),Pe.loading(!1)}}))}function kt(e,t){Ze({type:"editData",payload:[t]}),Ze({type:"IsDraft",payload:Ke}),Ze({type:"ShowDetail",payload:!0}),Pe.Expanded(!0),He&&ve(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&We(e.cardview),e.Dialogview&&(q(e.Dialogview),ft(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&zt(e.searchsafaritext,{current:re.current,pageSize:re.pageSize})}),[e.searchsafaritext]);const Zt=()=>{Pe.EditClose(!0),Ie?(document.getElementById("AssFloorRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AssFloorRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AssFloorRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",fe(!1),$e?(J||(document.getElementById("AssFloorRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssFloorRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("AssFloorRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssFloorRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssFloorRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssFloorRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AssFloorRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AssFloorRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AssFloorRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",fe(!0),document.getElementById("AssFloorRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssFloorRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ve(!1),window.clickFilter=!Ie},Ot=(t,l,a,o,n,r)=>{Pe.loading(!0),"DraftPage"!==o&&Ve(ke.IsDraft);let i=f.v.Api+"FP52S3/",s={data:{p1:n||(l&&l.FloorIDPK?l.FloorIDPK:null),p2:l&&l.FloorCode?l.FloorCode:null,p3:l&&l.FloorName?l.FloorName:null,p4:null,p5:l&&l.FloorArea?l.FloorArea:null,p6:l&&l.FloorLatitude?l.FloorLatitude:null,p7:l&&l.FloorLongitude?l.FloorLongitude:null,p8:null,p9:"DraftFloorID"==a?"1":"0",p10:null,p11:l&&l.LocalityID?l.LocalityID:null,p12:l&&l.BuildingID?l.BuildingID:null,p13:l&&l.IsActive,p14:null,p15:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p16:l&&l.CreatedTtm?l.CreatedTtm:null,p17:l&&l.CreatedTtmType?l.CreatedTtmType:null,p18:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p19:null,p20:l&&l.LocalityGroupID?l.LocalityGroupID:null,p21:l&&l.LocalityGroupCode?l.LocalityGroupCode:null,p22:l&&l.LocalityGroupName?l.LocalityGroupName:null,p23:l&&l.CityID?l.CityID:null,p24:l&&l.CityCode?l.CityCode:null,p25:l&&l.CityName?l.CityName:null,p26:l&&l.AdminLocalityTypeID?l.AdminLocalityTypeID:null,p27:l&&l.AdminLocalityTypeCode?l.AdminLocalityTypeCode:null,p28:l&&l.AdminLocalityTypeName?l.AdminLocalityTypeName:null,p29:l&&l.LocalityCode?l.LocalityCode:null,p30:l&&l.LocalityName?l.LocalityName:null,p31:l&&l.AssBuildingTypeID?l.AssBuildingTypeID:null,p32:l&&l.AssBuildingTypeCode?l.AssBuildingTypeCode:null,p33:l&&l.AssBuildingTypeName?l.AssBuildingTypeName:null,p34:l&&l.BuildingCode?l.BuildingCode:null,p35:l&&l.BuildingName?l.BuildingName:null,p36:n?1:t.current,p37:t.pageSize,p38:a,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};(0,d.Z)(i,s,ke.token[0]).then((i=>{if(n)(0,T.a)(i,Ze,o,r,Pe);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,ae(i.Output.data[0].TotalCount),ne(i.Output.data[0].DraftCnt),Ze({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==o&&ne(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?te(Math.ceil(e)):20==t.pageSize?te(Math.ceil(e/2)):50==t.pageSize?te(Math.ceil(e/5)):100==t.pageSize&&te(Math.ceil(e/10)),ye(i.Output.data),Pe.loading(!1)}e.Dialogview||(document.getElementById("divAssFloorRegistry-Entry").style.height="auto",document.getElementById("divAssFloorRegistry-Entry").style.display="block")}else Pe.loading(!1),"DraftFloorID"===a?(Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ve(!0),Ve(!1)):(ye([]),ie({current:1,pageSize:10}),te(0),ae(0),Ze({type:"count",payload:"0"}),Ze({type:"ExpandDetailValue",payload:!0}),Object.values(l).some((e=>e))&&Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Pe.alert({open:!0,color:"warning",message:[i.Output.status.message]}),Pe.loading(!1)}))};function zt(e,t){Pe.loading(!0);const l=f.v.Api+"FP52S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:Ke?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,a,ke.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,ae(e.Output.data[0].TotalCount),Ze({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?te(Math.ceil(l)):20==t.pageSize?te(Math.ceil(l/2)):50==t.pageSize?te(Math.ceil(l/5)):100==t.pageSize&&te(Math.ceil(l/10)),ye(e.Output.data),Pe.loading(!1)}else ye([]),te(0),ae(0),Ze({type:"count",payload:"0"}),Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Pe.loading(!1);else Pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Pe.loading(!1)}))}function Mt(e){let t=[],l=[],a=[],o=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");o.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Ze({type:"language",payload:Object.assign({},...o)}),qe(l.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),Le(t),Te(l),dt(a),mt(l)}const Gt=()=>xe?null:o().createElement("div",null,Qe?o().createElement(G.Z,{data:et,expanded:e=>!J&&Pe.Expanded(e),edit:(e,t,l)=>{J?Pe.select(e):(Ze({type:"editData",payload:[e]}),Ze({type:"IsDraft",payload:t}),Ze({type:"ShowDetail",payload:l}))}}):o().createElement(z.Z,{ref:Z,frmctrlid:"tblcs_52_L2_",id:"AssFloorRegistryTable",headerdata:Ae,tablesearchparams:Je,searchvalue:e=>{qe(e),Fe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};vt(t),ie({current:1,pageSize:10}),Ot({current:1,pageSize:10},t,Ke?"DraftFloorID":"FloorID",Ke&&"DraftPage")},bodydata:ge,ondrag:kt,bodyitem:be,visibleitem:Ae,isdraft:Ke,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:j,showMore:!1,accessrights:ke.AccessRights,expanded:e=>!J&&Pe.Expanded(e),edit:(e,t,l)=>{J?Pe.select(e):(Object.keys(e).map(((a,o)=>{a.includes("IDPK")&&Ot(re,null,t?"DraftFloorID":"FloorID",t&&"DraftPage",e[a],l)})),Pe.hideAddBtn(!0))},viewtoggle:Pe.viewtoggle,isexpanded:!J||He,tf:xt,action:J?"none":"",ViewComp:(e,t)=>{}}));(0,a.useEffect)((()=>{je(ke.ExpandTableValue)}),[ke.ExpandTableValue]);return o().createElement("div",null,!It&&!e.tableview&&o().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},o().createElement("div",{id:"fld52L2ECSearchBar",className:"searchbar1"},o().createElement(E.Z,{frmctrlid:"fld52L2TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:wt("Search"),value:Ce,onChange:e=>{Ee(e),Pe.searchItem(e)},style:{width:"300px"}}),o().createElement("div",{className:"search_icon"},Ce?o().createElement("div",{id:"fld52L2TCCloseIconCommonSearch",onClick:()=>{Ee(""),Pe.searchItem("")}},o().createElement(C.Z,{className:"InputSearchIcon"})):o().createElement("div",{id:"fld52L2TCInputSearchIcon"},o().createElement(D.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("AssFloorRegistrygridsearch").focus()}})))),o().createElement("div",null,ke.AccessRights.IsAdd?o().createElement(R.Z,{className:"SaveBtnCommon",frmctrlid:"fld52L2TCAddBtnIsAdd",onClick:()=>{Pe.hideAddBtn(!0),Ze({type:"editData",payload:[]}),Ze({type:"ShowDetail",payload:!1}),Ze({type:"Add",payload:!0})}}):"")),o().createElement(r.Z,{expanded:Ue,onChange:()=>()=>{Ye(He)}},e.Dialogview&&o().createElement(F.Z,null,o().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},o().createElement("div",{className:"displayFlex EntryHeader"},o().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[52]"},`${xt("52")} (${le})`)),!1===e.cardview?null:o().createElement("div",{className:"displayFlex EntryHeaderBtn"},o().createElement("div",{id:"fld52L2TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},o().createElement(E.Z,{frmctrlid:"fld52L2TCInputSearch",className:"search_input",type:"text",placeholder:wt("Search"),value:Ce,onChange:e=>{Rt(e)}}),o().createElement("div",{className:"search_icon"},Ce?o().createElement("div",{id:"fld52L2TCInputCloseIcon",onClick:()=>{Rt("")}},o().createElement(C.Z,{className:"InputSearchIcon"})):o().createElement("div",{id:"fld52L2TCInputSearchIcon"},o().createElement(D.Z,{className:"InputSearchIcon"}))))))),o().createElement(i.Z,{className:"AccDetails"},o().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&o().createElement("div",{id:"AssFloorRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:o().createElement("div",{className:"tableHeaderItems displayFlex"},!Ke&&o().createElement("div",{frmctrlid:"fld52L2TCFilterDataIsDraft",id:"AssFloorRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Zt()}},o().createElement(I.ZP,{title:wt("Filter Data"),placement:"top"},o().createElement("span",null,o().createElement(B.Ol$,{className:"tableFilterColumnIcon"}))),o().createElement("span",{className:"iconinfo"},wt("Filter Data"))),!J&&!Ke&&!xe&&o().createElement(m.Z,{formctrlidprint:"fld52L2TCExportPrint",formctrlidexport:"fld52L2TCExportTable",formctrlidrefresh:"fld52L2TCExportRefresh",title:xt("52"),data:ce,exportData:Tt,Items:ct,columnIndex:st,TableVisibleItem:Ae,userGridViewFormID:j,TableTotalCount:le,triggerApi:e=>{((e,t,a,o,n)=>{if(0===le)return Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Pe.loading(!0);let r=f.v.Api+"FP52S3/",i={data:{p1:e&&e.FloorIDPK?e.FloorIDPK:null,p2:e&&e.FloorCode?e.FloorCode:null,p3:e&&e.FloorName?e.FloorName:null,p4:null,p5:e&&e.FloorArea?e.FloorArea:null,p6:e&&e.FloorLatitude?e.FloorLatitude:null,p7:e&&e.FloorLongitude?e.FloorLongitude:null,p8:null,p9:Ke?"1":"0",p10:null,p11:e&&e.LocalityID?e.LocalityID:null,p12:e&&e.BuildingID?e.BuildingID:null,p13:e&&e.IsActive,p14:null,p15:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p16:e&&e.CreatedTtm?e.CreatedTtm:null,p17:e&&e.CreatedTtmType?e.CreatedTtmType:null,p18:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p19:null,p20:e&&e.LocalityGroupID?e.LocalityGroupID:null,p21:e&&e.LocalityGroupCode?e.LocalityGroupCode:null,p22:e&&e.LocalityGroupName?e.LocalityGroupName:null,p23:e&&e.CityID?e.CityID:null,p24:e&&e.CityCode?e.CityCode:null,p25:e&&e.CityName?e.CityName:null,p26:e&&e.AdminLocalityTypeID?e.AdminLocalityTypeID:null,p27:e&&e.AdminLocalityTypeCode?e.AdminLocalityTypeCode:null,p28:e&&e.AdminLocalityTypeName?e.AdminLocalityTypeName:null,p29:e&&e.LocalityCode?e.LocalityCode:null,p30:e&&e.LocalityName?e.LocalityName:null,p31:e&&e.AssBuildingTypeID?e.AssBuildingTypeID:null,p32:e&&e.AssBuildingTypeCode?e.AssBuildingTypeCode:null,p33:e&&e.AssBuildingTypeName?e.AssBuildingTypeName:null,p34:e&&e.BuildingCode?e.BuildingCode:null,p35:e&&e.BuildingName?e.BuildingName:null,p36:re.current,p37:le,p38:Ke?"DraftFloorID":"FloorID",p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};Pe.loading(!1),Pe.alert({open:!0,color:"success",message:[`${xt(52)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(r,i,ke.token[0],n).then((e=>{(0,P.PDF_Excel_Generate)(e,Pe,ct,de,l,n)}))})(De,ue.column,0,0,e)},Refresh:()=>{Ee(""),ie({current:1,pageSize:100}),Z.current.clearItem(),ke.IsDraft?Ot({current:1,pageSize:100},Oe,"DraftFloorID"):Ot({current:1,pageSize:100},Oe,"FloorID")},disabledPrint:!ke.AccessRights.IsPrint,disabledExport:!ke.AccessRights.IsExport,ref:l,iconinfo:"iconinfo"}),!Ke&&!xe&&!J&&o().createElement("div",{className:"buttoncard",onClick:()=>yt(!gt)},o().createElement("span",null,gt?o().createElement(I.ZP,{disableFocusListener:!0,title:wt("Less"),placement:"top"},o().createElement("span",{id:"fld52L2TCLess"},o().createElement(S.ldB,{className:"tableFilterColumnIcon"}))):o().createElement(I.ZP,{disableFocusListener:!0,title:wt("More"),placement:"top"},o().createElement("span",{id:"fld52L2TCMore"},o().createElement(S.ilJ,{className:"tableFilterColumnIcon"}))))),gt?o().createElement("div",{className:"EntryHeaderMore"},o().createElement("div",{style:{display:"flex"}},xe||!He?null:J||!ke.AccessRights.IsAdd||Ke?"":o().createElement("div",null,o().createElement("div",{frmctrlid:"fld52L2TCFilterDataIsAdd",id:"AssFloorRegistrycoldiv",className:"buttoncard",onClick:()=>{Pe.EditClose(!0),he?(document.getElementById("AssFloorRegistryFilterDiv").style.width="0%",document.getElementById("AssFloorRegistryTabDiv").style.width="100%",document.getElementById("AssFloorRegistryFilterDiv").style.display="none",document.getElementById("AssFloorRegistrycoldiv").style.width="fit-content",document.getElementById("AssFloorRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!1)):(document.getElementById("AssFloorRegistryFilterDiv").style.width="25%",document.getElementById("AssFloorRegistryTabDiv").style.width="75%",document.getElementById("AssFloorRegistryFilterDiv").style.display="block",document.getElementById("AssFloorRegistryfildiv").style.width="fit-content",document.getElementById("AssFloorRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssFloorRegistrycoldiv").style.width="fit-content",document.getElementById("AssFloorRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!0)),fe(!1)}},o().createElement(I.ZP,{title:wt("Manage Columns"),placement:"top"},o().createElement("div",null,o().createElement(w.gYA,{className:"tableFilterColumnIcon"}))),o().createElement("span",{className:"iconinfo"},wt("Manage Columns")))),!Ke&&$&&!xe&&!J&&o().createElement("div",{className:"buttoncard",onClick:()=>(setTimeout((()=>Y.current.getRefresh([])),2e3),Pe.openNav(),void Pe.SlideComponentType(o().createElement(k.Z,{ref:Y,alert:e=>Pe.alert(e),loading:e=>Pe.loading(e),Api:"FP52S8/",data:e=>U.log(e),SheetCount:1,frmctrlid:"fld52L2TCExpMig",importSave:(e,t)=>(async(e,t)=>{if(e.length>0){Pe.loading(!0);const l=f.v.Api+"FP52S8/";await(0,V.ProcessDataSyncSave)(l,e,t,Pe,Y)}})(e,t),TableVisibleItem:St,TableBodyItem:Lt,clear:e=>Y.current.getRefresh([]),excelfile:f.v.excel+"AssFloorRegistry.xlsx",filename:"AssFloorRegistry.xlsx"}))),id:"fld52L2TCExpMigSlide"},o().createElement(I.ZP,{title:wt("Migration"),placement:"top"},o().createElement("span",null,o().createElement(x.ncH,{className:"tableFilterColumnIcon"}))),o().createElement("span",{className:"iconinfo"},wt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!J&&He&&!xe&&!Ke&&o().createElement("div",null,o().createElement("div",{id:"AssFloorRegistrycoldiv",className:"buttoncard",onClick:()=>{Qe?Xe(!1):(Xe(!0),Pt({current:1,pageSize:100}))}},o().createElement(I.ZP,{title:wt("TableScrollData"),placement:"top"},o().createElement("div",{id:"fld52L2TCTableScrollData"},o().createElement(_.Z,{className:"tableFilterColumnIcon"}))),o().createElement("span",{className:"iconinfo"},wt("Table Scroll Data")))),!xe&&Ke?o().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Pe.hideAddBtn(!1),Pe.ExpandEntry(),Ot({current:1,pageSize:100},Oe,"FloorID"),Ve(!1),Ee(""),Ze({type:"IsDraft",payload:!1}),ie({current:1,pageSize:10})}},o().createElement(I.ZP,{title:wt("List"),placement:"top"},o().createElement("div",{id:"fld52L2TCList"},o().createElement(A.u1R,{className:"backButtonList"}))),o().createElement("p",{className:"DraftP"},wt("Drafts")," ",le)):!J&&!xe&&ke.AccessRights.IsAdd&&o().createElement("div",null,o().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:oe,showZero:!0},o().createElement("div",{id:"fld52L2TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{oe>0?(ie({current:1,pageSize:100}),X(0),Pe.clear(),Ee(""),Ze({type:"Add",payload:!1}),Ot({current:1,pageSize:10},Oe,"DraftFloorID"),Ve(!0),Ze({type:"IsDraft",payload:!0}),ve(!1),We(!0),document.getElementById("AssFloorRegistryFilterDiv").style.width="0%",document.getElementById("AssFloorRegistryTabDiv").style.width="100%",document.getElementById("AssFloorRegistryFilterDiv").style.display="none",ie({current:1,pageSize:100}),Re(!1)):Pe.alert({open:!0,color:"warning",message:[wt("There is no Record Found")]})}},o().createElement(I.ZP,{title:wt("Drafts"),placement:"top"},o().createElement("div",null,o().createElement(L.rNm,{className:"DraftIcon"}))),o().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},wt("Drafts"))))))):""),!Ke&&!J&&o().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},xe||Ke?null:o().createElement("div",null,o().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},o().createElement("div",{className:"b2",id:"button-11"},o().createElement("div",{className:$e?"buttonList":"buttonGrid",id:"fld52L2TCListView",onClick:()=>{We(!0),pt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},o().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},o().createElement(S.umT,null)),o().createElement("span",null,wt("List"))),o().createElement("div",{className:$e||ut?"buttonGrid":"buttonList",id:"fld52L2TCCardView",onClick:()=>{We(!1),pt(!1)}},o().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},o().createElement(N.aCJ,null)),o().createElement("span",null,wt("Card"))),o().createElement("div",{className:ut?"buttonList":"buttonGrid",id:"fld52L2TCTileView",onClick:()=>{pt(!0),We(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},o().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},o().createElement(b.f_H,null)),o().createElement("span",null,wt("Tile"))))))),xe?null:Qe?e.IsCollapse?o().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},o().createElement(h.Z,{style:{color:"#777"},id:"fld52L2TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(ot),page:Q,onPageChange:(e,t)=>{X(t),Pt({current:t+1,pageSize:rt.pageSize}),it({current:t+1,pageSize:rt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):o().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},o().createElement(u.Z,{count:lt,color:"primary",page:rt.current,onChange:(e,t)=>{it({current:t,pageSize:rt.pageSize}),at(t),Pt({current:t,pageSize:rt.pageSize})}}),o().createElement("div",null,o().createElement(p.Z,{className:"BootstrapInputStyle",value:rt.pageSize,frmctrlid:"fld52L2TCSelectPagination",onChange:e=>{it({current:1,pageSize:e.target.value}),Pt({current:1,pageSize:e.target.value})}},o().createElement(g.Z,{value:10},"10"),o().createElement(g.Z,{value:20},"20"),o().createElement(g.Z,{value:50},"50"),o().createElement(g.Z,{value:100},"100"))),He&&o().createElement("p",{className:"per-page"},"/ ",wt("RowperpageOf")," (",ot,")")):e.IsCollapse?o().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},o().createElement(h.Z,{style:{color:"#777"},id:"fld52L2TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(le),page:Q,onPageChange:(e,t)=>{X(t),Ot({current:t+1,pageSize:re.pageSize},Oe,Ke?"DraftFloorID":"FloorID",Ke&&"DraftPage"),ie({current:t+1,pageSize:re.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):o().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},o().createElement(u.Z,{count:ee,siblingCount:0,color:"primary",page:re.current,onChange:(e,t)=>{if(ie({current:t,pageSize:re.pageSize}),Ke)Ot({current:t,pageSize:re.pageSize},ze,"DraftFloorID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";Ce.length>0?zt(Ce,{current:t,pageSize:re.pageSize}):Ot({current:t,pageSize:re.pageSize},ze,"FloorID")}}}),o().createElement("div",null,o().createElement(p.Z,{className:"BootstrapInputStyle",value:re.pageSize,id:"fld52L2TCSelectPaging",onChange:e=>{ie({current:1,pageSize:e.target.value}),Ke?Ot({current:1,pageSize:e.target.value},ze,"DraftFloorID","DraftPage"):Ce.length>0?zt(Ce,{current:1,pageSize:e.target.value}):Ot({current:1,pageSize:e.target.value},ze,"FloorID")}},o().createElement(g.Z,{value:10},"10"),o().createElement(g.Z,{value:20},"20"),o().createElement(g.Z,{value:50},"50"),o().createElement(g.Z,{value:100},"100"))),He&&o().createElement("p",{className:"per-page"},"/ ",wt("RowperpageOf")," (",le,") "))),o().createElement("div",{id:"AssFloorRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},o().createElement("div",{id:"AssFloorRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},Ie&&o().createElement(c.default,{parentId:e.parentId,searchData:e=>{Fe(e||ht),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:j,data:()=>{},visibleData:()=>{},token:ke.token[0],CloseBtnClk:()=>Zt(),userGrid:Ct,msg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),he&&o().createElement(y.Z,{Refresh:e=>{Ot({current:1,pageSize:100},Oe,"FloorID")},frmctrlid:"fld52L2TCTableColumnOrder",loading:e=>Pe.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]}),select:he,userID:H,userGridViewFormID:j,saved:(e,t)=>{e&&Mt(t),Et(t),Ze({type:"showTableview",payload:t})},Token:ke.token[0]})),o().createElement("div",{id:"AssFloorRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},$e?o().createElement(Gt,null):o().createElement(v.Z,{frmctrlid:"fld52L2TCExpandedCardDual",data:ge,id:"AssFloorRegistry",title:"FloorName",cardTile:!!ut,visibleitem:Ae,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{J?Pe.select(e):("edit"==t?(Ze({type:"editData",payload:[e]}),Ze({type:"IsDraft",payload:Ke}),Ze({type:"ShowDetail",payload:!1}),Pe.Expanded(!0)):(Ze({type:"editData",payload:[e]}),Ze({type:"IsDraft",payload:Ke}),Ze({type:"ShowDetail",payload:!0}),Pe.Expanded(!0),Pe.viewtoggle()),Ie?fe(!0):he?ve(!0):(ve(!1),ve(!1))),Pe.hideAddBtn(!0)}})))))))})),H=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),s=(0,a.useRef)(null),c=(0,a.useRef)(null),[g]=((0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[y,I]=O()("52"),[D,C]=(0,a.useState)(!1),[E,h]=(0,a.useState)(0),[v,N]=(0,a.useState)(0),[S,A]=(0,a.useState)({current:1,pageSize:100}),[L,b]=(0,a.useState)(""),[T,B]=(0,a.useState)([]),[w,x]=(0,a.useState)({val:"",column:""}),[R,k]=(0,a.useState)([]),[Z,G]=(0,a.useState)(!1),[_,V]=(0,a.useState)(""),[U,Y]=(0,a.useState)([]),[H,j]=(0,a.useState)([]),[$,W]=(0,a.useState)([]),J=(0,a.useContext)(M.AssFloorRegistryContext),{cstate:q,cdispatch:Q}=(0,M.ContextApi)();let X={FloorIDPK:"",FloorCode:"",FloorName:"",IsNonContract:"",FloorArea:"",FloorLatitude:"",FloorLongitude:"",IsDefault:"",IsDraft:"",Remarks:"",LocalityID:"",BuildingID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,a.useState)(!1),[le,ae]=(0,a.useState)(!0),[oe,ne]=(0,a.useState)(!1),[re,ie]=(0,a.useState)(!0),[se,de]=(0,a.useState)(0),[ce,me]=(0,a.useState)({FloorCode:"",FloorName:"",BuildingName:"",LocalityName:"",FloorArea:"",IsNonContract:"",FloorLatitude:"",FloorLongitude:""}),[ue,pe]=(0,a.useState)([]),[ge,ye]=(0,a.useState)([]),[Ie,fe]=(0,a.useState)([]),[De,Fe]=(0,a.useState)(!1),[Ce,Ee]=(0,a.useState)("");let he=(0,K.Z)();const ve=[{columns:ue,data:L}];(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],o=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");o.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...o)}),me(l.reduce(((e,t)=>(e[t]="",e)),{})),Y(e),j(t),W(l),pe(a),ye(l)}(y)}),[y]),(0,a.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ne()},viewrecord:e=>{R.map(((t,l)=>{t.FloorIDPK==e&&Q({type:"editData",payload:[R[l]]})}))},DialogTableProps:e=>{C(e)},searchData:(t,l,a)=>{J.loading(!0),s.current&&s.current.clearItem(),Ee(a),A({current:1,pageSize:10}),X=e.ApiParamType.params,Se({current:1,pageSize:100},l,a),c.current&&c.current.clearItem()}}))),(0,a.useEffect)((()=>{!1===e.cardview&&ie(e.cardview),e.Dialogview&&C(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ne=()=>{q.IsDraft?Se(S,X,"DraftFloorID"):Se(S,X,"FloorID")},Se=async(t,l,a,o)=>{if(q.token[0]){if(J.loading(!0),"DraftPage"!==o&&te(q.IsDraft),await Ee((e=>(a=e,e))),l&&Object.keys(l).length>0){let e=Object.keys(l),t={},a=[],o=Object.values(l);e.map((e=>{a.push(e.split("_")[0])}));for(let e=0;e<a.length;e++)t[a[e]]=o[e];l=t}V(l);let n=f.v.Api+`${e.ApiType}/`,r={data:{p1:l&&l.FloorIDPK?l.FloorIDPK:null,p2:l&&l.FloorCode?l.FloorCode:null,p3:l&&l.FloorName?l.FloorName:null,p4:null,p5:l&&l.FloorArea?l.FloorArea:null,p6:l&&l.FloorLatitude?l.FloorLatitude:null,p7:l&&l.FloorLongitude?l.FloorLongitude:null,p8:null,p9:"DraftFloorID"==a?"1":"0",p10:null,p11:l&&l.LocalityID?l.LocalityID:null,p12:l&&l.BuildingID?l.BuildingID:null,p13:l&&l.IsActive,p14:null,p15:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p16:l&&l.CreatedTtm?l.CreatedTtm:null,p17:l&&l.CreatedTtmType?l.CreatedTtmType:null,p18:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p19:null,p20:l&&l.LocalityGroupID?l.LocalityGroupID:null,p21:l&&l.LocalityGroupCode?l.LocalityGroupCode:null,p22:l&&l.LocalityGroupName?l.LocalityGroupName:null,p23:l&&l.CityID?l.CityID:null,p24:l&&l.CityCode?l.CityCode:null,p25:l&&l.CityName?l.CityName:null,p26:l&&l.AdminLocalityTypeID?l.AdminLocalityTypeID:null,p27:l&&l.AdminLocalityTypeCode?l.AdminLocalityTypeCode:null,p28:l&&l.AdminLocalityTypeName?l.AdminLocalityTypeName:null,p29:l&&l.LocalityCode?l.LocalityCode:null,p30:l&&l.LocalityName?l.LocalityName:null,p31:l&&l.AssBuildingTypeID?l.AssBuildingTypeID:null,p32:l&&l.AssBuildingTypeCode?l.AssBuildingTypeCode:null,p33:l&&l.AssBuildingTypeName?l.AssBuildingTypeName:null,p34:l&&l.BuildingCode?l.BuildingCode:null,p35:l&&l.BuildingName?l.BuildingName:null,p36:t.current,p37:t.pageSize,p38:a,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};(0,d.Z)(n,r,q.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,N(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?h(Math.ceil(l)):20==t.pageSize?h(Math.ceil(l/2)):50==t.pageSize?h(Math.ceil(l/5)):100==t.pageSize&&h(Math.ceil(l/10)),k(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(l="There is no Record Found",he?.[l]?he[l]:l)]}),k([]),h(0),N(0),Q({type:"count",payload:0});var l}))}};return(0,a.useEffect)((()=>{ne(q.ExpandTableValue)}),[q.ExpandTableValue]),o().createElement("div",null,o().createElement(r.Z,{expanded:le,onChange:()=>()=>{ae(oe)}},o().createElement(F.Z,null,o().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},o().createElement("div",{style:{width:"60%"}},o().createElement("div",{className:"displayFlex"},o().createElement("div",{className:"ListHeader displayFlex"},o().createElement("p",{className:"ListP"}," ",e.CardName," (",v,")")))))),o().createElement(i.Z,{className:"AccDetails"},o().createElement("div",{className:"tableCard"},o().createElement("div",{id:"AssFloorRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:o().createElement("div",{className:"tableHeaderItems displayFlex"},o().createElement(m.Z,{formctrlidprint:"fld52L2TCExportPrint",formctrlidexport:"fld52L2TCExportTable",formctrlidrefresh:"fld52L2TCExportRefresh",title:"52",data:T,exportData:ve,Items:ge,columnIndex:ue,triggerApi:t=>{((t,a,o)=>{if(0===v)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let n=f.v.Api+`${e.ApiType}/`,r={data:{p1:t||(t&&t.FloorIDPK?t.FloorIDPK:null),p2:t&&t.FloorCode?t.FloorCode:null,p3:t&&t.FloorName?t.FloorName:null,p4:null,p5:t&&t.FloorArea?t.FloorArea:null,p6:t&&t.FloorLatitude?t.FloorLatitude:null,p7:t&&t.FloorLongitude?t.FloorLongitude:null,p8:null,p9:ee?"1":"0",p10:null,p11:t&&t.LocalityID?t.LocalityID:null,p12:t&&t.BuildingID?t.BuildingID:null,p13:t&&t.IsActive,p14:null,p15:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p16:t&&t.CreatedTtm?t.CreatedTtm:null,p17:t&&t.CreatedTtmType?t.CreatedTtmType:null,p18:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p19:null,p20:t&&t.LocalityGroupID?t.LocalityGroupID:null,p21:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p22:t&&t.LocalityGroupName?t.LocalityGroupName:null,p23:t&&t.CityID?t.CityID:null,p24:t&&t.CityCode?t.CityCode:null,p25:t&&t.CityName?t.CityName:null,p26:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p27:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p28:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p29:t&&t.LocalityCode?t.LocalityCode:null,p30:t&&t.LocalityName?t.LocalityName:null,p31:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p32:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p33:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p34:t&&t.BuildingCode?t.BuildingCode:null,p35:t&&t.BuildingName?t.BuildingName:null,p36:1,p37:v,p38:Ce,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};var i;J.loading(!1),J.alert({open:!0,color:"success",message:[`${i="52",q.language?.[i]?q.language[i]:i} - ${o.alertName}, Once you have downloaded the file, you will be notified`]}),(0,d.Z)(n,r,q.token[0],o).then((e=>{(0,P.PDF_Excel_Generate)(e,J,ge,b,l,o)}))})(_,w.column,t)},TableVisibleItem:H,userGridViewFormID:"52",TableTotalCount:v,Refresh:()=>{Se({current:1,pageSize:100},_,Ce),A({current:1,pageSize:100}),c.current&&c.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:l})),o().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},o().createElement(u.Z,{count:E,siblingCount:0,color:"primary",page:S.current,onChange:(e,t)=>{if(A({current:t,pageSize:S.pageSize}),ee)Se({current:t,pageSize:S.pageSize},_,"DraftFloorID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";Se({current:t,pageSize:S.pageSize},_,"FloorID")}}}),o().createElement("div",null,o().createElement(p.Z,{value:S.pageSize,onChange:e=>{A({current:1,pageSize:e.target.value}),Se({current:1,pageSize:e.target.value},_,"FloorID")},className:"BootstrapInputStyle2"},o().createElement("option",{value:10},"10"),o().createElement("option",{value:20},"20"),o().createElement("option",{value:50},"50"),o().createElement("option",{value:100},"100"))),oe&&o().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),o().createElement("div",{id:"AssFloorRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},o().createElement("div",{id:"AssFloorRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?o().createElement(MUITableMulti,{ref:c,type:e.viewtype,id:"AssFloorRegistry",headerdata:H,tablesearchparams:ce,searchvalue:e=>{me(e),A({current:1,pageSize:100}),Se({current:1,pageSize:100},e,ee?"DraftFloorID":"FloorID",ee&&"DraftPage")},bodydata:R,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:H,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,l,a)=>{D?J.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?J.edit(t,l,a):J.edit(t,l,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{k(e)},color:!0,isexpanded:!1}):o().createElement(z.Z,{frmctrlid:"tblcs_52_L2_",ref:s,id:"AssFloorRegistryTable",type:e.viewtype,headerdata:H,tablesearchparams:ce,searchvalue:e=>{let t={..._,...e};me(e),V(t),A({current:1,pageSize:100}),Se(S,t,Ce)},bodydata:R,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:H,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,l,a)=>{D?J.select(t):(e.editdata(t,"view"),J.edit(t,l,1!=t.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},20648:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>P}),l(95866),l(99058);var a=l(92950),o=l.n(a),n=l(80366),r=l(51673),i=l(282),s=l(868),d=l(78513),c=l(14439),m=l(27848),u=l(40900),p=l(64059),g=l(24038),y=l(8981),I=l(47516),f=l(86893),D=l(9597),F=l(33681),C=l(63163),E=(l(35131),l(61956),l(93657)),h=l(53375),v=l(52663),N=l(66083),S=l(29525),A=l(66856),L=l(39803),b=l(99940),T=l(17149),B=l(62810),w=l(30553),x=l(92381),R=l(25108);const P=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[P,k]=(0,a.useState)([]),[Z,O]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[z,M]=(0,a.useState)(""),[G,_]=(0,a.useState)({}),[K,V]=(0,a.useState)(!0),[U,Y]=(0,a.useState)(!1),{cstate:H,cdispatch:j}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[$,W]=(0,a.useState)(1),[J,q]=(0,a.useState)(0),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({}),[le,ae]=(0,a.useState)([]),[oe,ne]=(0,a.useState)(!0),[re,ie]=(0,a.useState)(!1),[se,de]=(0,a.useState)(""),[ce,me]=(0,a.useState)(!1),[ue,pe]=(0,a.useState)(!1),[ge,ye]=(0,a.useState)(!1),[Ie,fe]=(0,a.useState)(""),De=(0,a.useRef)(null),[Fe,Ce]=(0,a.useState)({});let Ee=localStorage.getItem("Language");const he={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,y.Z)();const Ne=e=>ve[e]?ve[e]:e,Se=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[he[Ee]];function Ae(){_({}),te({}),e.searchData({}),Y(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});Ce(l),ae(t)}),[]),(0,a.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Ae()}})));const Le=async(t,l,a,o)=>{X(!0);try{De.current&&De.current.abort();const n=new AbortController;De.current=n;let i="",s=[],d={};await O((e=>(i=e.name,e))),await _((e=>(s=e,e))),await te((e=>(d=e,e)));const c=u.v.Api+"FP52S3/",m={data:{p1:"FloorIDPK"==l?null:await xe(),p2:"FloorCode"==i&&a.length>0?"%"+a+"%":null,p3:"FloorName"==i&&a.length>0?"%"+a+"%":null,p4:"IsNonContract"==i&&a.length>0?"%"+a+"%":null,p5:"FloorArea"==i&&a.length>0?"%"+a+"%":null,p6:"FloorLatitude"==i&&a.length>0?"%"+a+"%":null,p7:"FloorLongitude"==i&&a.length>0?"%"+a+"%":null,p8:null,p9:null,p10:null,p11:"LocalityName"!=i&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p12:"BuildingName"!=i&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p13:e.Dialogview?"1":null,p14:null,p15:"p15"==i&&a.length>0?a:null,p16:null,p17:null,p18:null,p19:null,p20:"LocalityGroupName"!=i&&s.LocalityGroupName?s.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p21:"LocalityGroupCode"==i&&a.length>0?"%"+a+"%":null,p22:"LocalityGroupName"==i&&a.length>0?"%"+a+"%":null,p23:"CityName"!=i&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p24:"CityCode"==i&&a.length>0?"%"+a+"%":null,p25:"CityName"==i&&a.length>0?"%"+a+"%":null,p26:"AdminLocalityTypeName"!=i&&s.AdminLocalityTypeName?s.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p27:"AdminLocalityTypeCode"==i&&a.length>0?"%"+a+"%":null,p28:"AdminLocalityTypeName"==i&&a.length>0?"%"+a+"%":null,p29:"LocalityCode"==i&&a.length>0?"%"+a+"%":null,p30:"LocalityName"==i&&a.length>0?"%"+a+"%":null,p31:"AssBuildingTypeName"!=i&&s.AssBuildingTypeName?s.AssBuildingTypeName.map((e=>e.AssBuildingTypeIDPK)).toString():null,p32:"AssBuildingTypeCode"==i&&a.length>0?"%"+a+"%":null,p33:"AssBuildingTypeName"==i&&a.length>0?"%"+a+"%":null,p34:"BuildingCode"==i&&a.length>0?"%"+a+"%":null,p35:"BuildingName"==i&&a.length>0?"%"+a+"%":null,p36:o||1,p37:10,p38:t,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}},p=await(0,r.Z)(c,m,e.token,"",n.signal);if(!p)return!1;const g=p.Output.status.code,y=p.Output.data;if("200"===g)if(y.length>0)if(1===o){let e=Te(y,i),t=be(e,G[i],l);k(t),q(t.length>0?t[0].TotalCount:G[i].length)}else{let e=[...P,...y],t=Te(e,i);q(t.length<10?t.length:y[0].TotalCount),k(Te(t,i))}else z.length>0&&k([]),q(P.length);else e.alertmsg("error",[p.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},be=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),Te=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function Be(e){let t=e+"PK",l=Fe[e];if(l){const e=l.flatMap((e=>G[e]?G[e].map((e=>e[t])):[]));return e.toString()}return""}const we=async t=>{let l="",a={};await _((e=>(l=e,e)));let o=[...le],n=[];for(let e of o){let t=l[e]?.map((e=>e.FloorIDPK)).toString();t&&n.push(t)}await te((e=>(a=e,e)));let r={FloorIDPK:n?[...new Set(n)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",BuildingID:Be("BuildingID"),LocalityID:Be("LocalityID")};"saveFav"==t?ke("save",r):(e.searchData(r),Y(!1))};async function xe(){let e={};await _((t=>(e=t,t)));let t=[...le],l=[];for(let a of t){let t=e[a]?.map((e=>e.FloorIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Re(t,l,a,o,n,r){let i={[o]:{From:t,Type:a,To:l}},s={};te((e=>({...e,...i})));const d={...G};let c=[...le],m=[];for(let e of c){let t=d[e]?.map((e=>e.FloorIDPK)).toString();t&&m.push(t)}await te((e=>(s=e,e)));let u={FloorIDPK:m?[...new Set(m)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==a?n:null,BuildingID:G.BuildingName?.map((e=>e.BuildingIDPK)).toString(),LocalityID:G.LocalityName?.map((e=>e.LocalityIDPK)).toString()};e.searchData(u)}function Pe(){return o().createElement(p.Z,{frmctrlid:"fld52L2TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,o)=>{Re(e,t,l,Z.name,a)},keyboardback:()=>{Y(!1),O({idpk:"",name:"",type:"",fieldidpk:""})},title:Ne(Z.name),fieldname:Z.name,save:e=>{alert(!0)}})}const ke=(t,l)=>{(0,x.Z)(t,e.formID,l,se).then((e=>{const t=e.Output.data;fe(t)}))};return o().createElement("div",null,o().createElement(v.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},o().createElement(N.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),o().createElement(S.Z,{dividers:!0,style:{minWidth:"500px"}},o().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},o().createElement(L.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>de(e.target.value),fullWidth:!0})),o().createElement(w.Z,{style:{color:"#337ab7"},control:o().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:o().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:o().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Quick"}),o().createElement(w.Z,{style:{color:"#337ab7"},control:o().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:o().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:o().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ge,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),o().createElement(A.Z,null,o().createElement(i.Z,{onClick:()=>{we("saveFav"),me(!1)},color:"primary"},"Save"))),U?"Created Ttm"===Z.name||Z.name.includes("Date")?o().createElement(Pe,null):o().createElement("div",null,o().createElement("div",{className:"columnHeader displayFlex"},o().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},o().createElement(c.Z,null,o().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},o().createElement("p",{className:"columnHeaderp"},Se(Z.idpk)," (",P.length,"/",J,")")),o().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},o().createElement(s.ZP,{title:Ne("Close"),placement:"top"},o().createElement("div",{className:"FilterItemClose",align:"right"},o().createElement(n.Z,{id:"fld52L2TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{Y(!1),O({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),G[Z.name]&&o().createElement("div",{className:"FiltercloseAlign",align:"right"},o().createElement(i.Z,{frmctrlid:"fld52L2TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await _((t=>(e=t,R.log("clear fewItems",e),t))),e[Z.name]=[],Le(Z.type,Z.fieldidpk,"",1)})()}},o().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear All")))))))),o().createElement("div",{className:"FilterParentDiv"},o().createElement("div",{"data-list-scroll-container":"true"},o().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},o().createElement("div",{className:"FilterMaximize"},K?o().createElement(s.ZP,{title:"Maximize",placement:"right"},o().createElement("span",null,o().createElement(f.D7o,{className:"FilterMaximizeIcon",onClick:()=>{V(!1)}}))):o().createElement(s.ZP,{title:"Minimize",placement:"right"},o().createElement("span",null,o().createElement(f.dOw,{className:"FilterMaximizeIcon",onClick:()=>{V(!0)}})))),o().createElement("ul",null,G[Z.name]&&G[Z.name].map(((e,t)=>o().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},o().createElement("div",{className:"filterSelectedItemNames"},o().createElement("span",null,e[Z.name])),o().createElement("div",{className:"filterSelectedItemClose"},o().createElement("div",{id:"fildacls_3_L2_"+e[Z.name],onClick:()=>(async(e,t)=>{W(1);let l=G[Z.name].filter((t=>t!=e)),a={};await _((e=>(a=e,e))),a[Z.name]=l,_(a),k((t=>[e,...t]))})(e)},o().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),o().createElement("div",{className:"displayFlex width100 FilterSearch"},o().createElement("div",{className:"FilterSearchInputDiv"},o().createElement(g.Z,{frmctrlid:"fld52L2TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:z,placeholder:Ne("Enter ")+" "+Se(Z.idpk),onChange:e=>{M(e),Le(Z.type,Z.fieldidpk,e,1,xe())}})),o().createElement("div",{id:"fld52L2TFCFilterGoForward",className:"FilterSearchBtn",onClick:we},o().createElement(s.ZP,{title:"",placement:"top"},o().createElement(i.Z,{className:"ColumnSearchButton"},o().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&o().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},o().createElement(F.Z,{color:"secondary"})),o().createElement("div",{id:"fld52L2TFCScrollYDefault",className:"height65 scrollYDefault"},P.length>0&&P.map(((e,t)=>o().createElement("div",{id:"filda_3_L2_"+e[Z.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await _((e=>(a=e,e)));let o=a[Z.name];t[Z.name]=o?[...l,...o]:l,a={...a,...t},_(a),k((t=>t.filter((t=>t!=e))))})(e)}},o().createElement(d.Z,{className:"DotIcon"}),o().createElement("span",null,e[Z.name])))),P.length+0<J&&P.length>0&&o().createElement("div",{id:"fld52L2TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W($+1),Le(Z.type,Z.fieldidpk,"",$+1)}},o().createElement("p",null," more... ")),0===P.length&&o().createElement("div",null,o().createElement("div",{className:"NoDataImage"},o().createElement("img",{src:u.v.NoData,alt:"NoImage"})),o().createElement("div",{className:"NoDataDesc"},o().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):o().createElement("div",null,o().createElement("div",{className:"columnHeader displayFlex"},o().createElement("div",{className:"columnHeaderTitle"},o().createElement(I.Ol$,{className:"columnHeaderIcon"}),o().createElement("p",{className:"columnHeaderp"}," ",Ne("Filter")," ",se.length>0&&`(${se})`)),o().createElement("div",{className:"columnHeaderbtn",align:"right"},o().createElement(s.ZP,{title:"Favorite List",placement:"top"},re?o().createElement(n.Z,{className:"favlisticon",onClick:()=>{ie(!1),fe(""),Ae()}}):o().createElement(E.Z,{className:"favlisticon",onClick:()=>{ie(!0),ke("select"),Ae()}})),Object.keys(G).length>0&&o().createElement(s.ZP,{title:"Save Favorites",placement:"top"},o().createElement(h.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),o().createElement(s.ZP,{title:"",placement:"top"},o().createElement(i.Z,{className:"ColumnApplyButton",onClick:()=>{Ae()},id:"fld52L2TFCColumApplyBttn"},o().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear")))),o().createElement(s.ZP,{title:"",placement:"top"},o().createElement(i.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld52L2TFCColumnCloseButton"},o().createElement("span",{className:"ColumnCloseTitle"},Ne("Close")))))),o().createElement("div",{className:"height65"},o().createElement("div",{id:"fld52L2TFCFilItems",className:"FilterItems"},!Ie&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return o().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{Y(!0),M(""),k([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"FloorIDPK";O({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterFloorID",fieldidpk:t}),Le(e.IsForeign?"Filter"+e.FieldName:"FilterFloorID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?o().createElement(o().Fragment,null,Se(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&o().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?o().createElement(o().Fragment,null,o().createElement("span",null,Se(e.AdminUserGridViewIDPK)),o().createElement(C.Z,{checked:"1"==oe,onChange:t=>{ne(t.target.checked),Re("","",e.FieldName,"",t.target.checked)}})):o().createElement(o().Fragment,null,o().createElement("span",null,Se(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,G[l]?.length>0&&o().createElement("div",{className:"FilterItemDivSelected"},o().createElement("span",{className:"RoundedDivName"},G[l][0][l]),G[l].length>1&&o().createElement("span",{className:"RoundedDivName"},G[l][1][l]),G[l].length>2&&o().createElement("span",{className:"RoundedDivNumber"},"+"+(G[l].length-2))))));var l})),Ie&&Ie.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return o().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Le("FilterFloorID",l),we("")}},o().createElement(o().Fragment,null,e.TableFilterFavName))}))))))}))},53485:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>h});var a=l(92950),o=l.n(a),n=l(45237),r=l(37148),i=l(3212),s=l(29800),d=(l(14439),l(27848),l(10966),l(36939)),c=l(61201),m=l(50743),u=l(9597),p=(l(21392),l(51673)),g=l(40900),y=l(26537),I=(l(24038),l(83530)),f=(l(77366),l(97829),l(8981)),D=(l(63163),l(1695),l(79117),l(65197)),F=l(98036),C=l.n(F),E=l(88268);const h=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),F=((0,n.useSelector)((e=>e.form)),(0,a.useRef)()),[h,v]=(0,a.useState)([]),[N,S]=(0,a.useState)(!0),[A,L]=(0,a.useState)(e.showDetail),[b,T]=(0,a.useState)(""),[B,w]=o().useState(!1),[x,R]=o().useState(""),[P,k]=o().useState(!1),Z=(0,a.useContext)(u.AssFloorRegistryContext),{cstate:O,cdispatch:z}=(0,u.ContextApi)(),[M,G]=(0,a.useState)(!1),[_,K]=(0,a.useState)(""),[V,U]=(0,a.useState)(""),[Y,H]=(0,a.useState)("");let j=(0,f.Z)();(0,a.useEffect)((()=>{O.editData.length>0&&(v(O.editData),w(!1),z({type:"PrimaryId",payload:O.editData[0].FloorIDPK}))}),[O.editData]),(0,a.useEffect)((()=>{O.showTableview&&H(O.showTableview)}),[O.showTableview]),(0,a.useEffect)((()=>{S(O.ExpandDetailValue)}),[O.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),w(null)},viewtoggle:()=>{w(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=g.v.Api+"FP52S3/",o={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:1,p37:10,p38:O.IsDraft?"DraftFloorID":"FloorID",p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};(0,y.Z)(0).then((e=>{(0,p.Z)(a,o,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&v(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===B&&l.current.clear()}})));const $=e=>j?.[e]?j?.[e]:e,W=e=>O.language?.[e]?O.language[e]:e;function J(e,t){"BuildingIDPK"===e&&(Z.openNav(),setTimeout((function(){F.current.viewlistProps(t)}),1e3),Z.SlideComponentType(o().createElement("div",{id:"divAssBuildingRegistry-View",style:{width:"100%"}},o().createElement(E.AssBuildingRegistryContext.Provider,{value:{cstate:O,cdispatch:z,loading:e=>Z.loading(e),alert:e=>Z.alert(e),openNav:()=>Z.openNav(),SlideComponentType:e=>Z.SlideComponentType(e)}},o().createElement(C(),{viewonly:!0,ref:F})))))}const q=(e,t)=>(l,a)=>{R(P?Object.assign(...h.filter((e=>e.FloorIDPK==t)).map((e=>e))):O.editData),w(!a&&e)};return o().createElement("div",null,o().createElement(d.Z,{expanded:N,onChange:()=>()=>{e.expandTable&&S(!N)}},!B&&o().createElement(m.Z,null,o().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},N?o().createElement("div",{className:"displayFlex EntryViewHeader"},o().createElement("p",{className:"ListP"},O.IsDraft?$("Draft"):"",W("AssFloorRegistry"),e.viewonly?" ":"("+O.count+")")):"",N?o().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&O.AccessRights.IsAdd?o().createElement(i.Z,{name:$("Add"),frmctrlid:"fld52L2VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{Z.hideAddBtn(!0),z({type:"editData",payload:[]}),z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&O.AccessRights.IsEdit?o().createElement(s.Z,{frmctrlid:"fld52L2VCEditBtn",onClick:q("panel0",""),disabled:!1}):O.IsDraft&&O.AccessRights.IsAdd&&o().createElement(s.Z,{frmctrlid:"fld52L2VCEditBtnIsAdd",onClick:()=>{q("panel","")},disabled:!1}),!e.viewonly&&o().createElement(r.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld52L2VCCloseBtn",onClick:()=>{S(!1),Z.hideAddBtn(!1),P&&(z({type:"editData",payload:[]}),v([]))}})):"")),o().createElement(c.Z,{style:{display:"block"}},h.map(((e,t)=>o().createElement("div",{key:t},B==="panel"+t?o().createElement(I.default,{ref:l}):o().createElement(o().Fragment,null,o().createElement(D.Z,{tableName:"AssFloorRegistry",tableID:52,parentID:e.FloorIDPK,fldid:"fld52L2VCContainer",OpenSlideComponent:J,index:t,refresh:Y,val:e,tf:W,t:$,title:"10.0.0.59-3:08:17 PM-18-7[52]"}))))))))}))},80950:()=>{},46601:()=>{},89214:()=>{},96419:()=>{},56353:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},69386:()=>{},31616:()=>{},56619:()=>{},77108:()=>{},69862:()=>{},40964:()=>{},72095:()=>{}}]);