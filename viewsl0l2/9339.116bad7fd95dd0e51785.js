/*! For license information please see 9339.116bad7fd95dd0e51785.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl0l2=self.webpackChunk_shared_routing_viewsl0l2||[]).push([[9339],{93657:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=r},53375:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var i=n(a(92950)),r=(0,l(a(2108)).default)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=r},41722:(e,t,a)=>{a.d(t,{D:()=>n,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{}};function n(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(40900),n=a(26537),i=a(61956),r=a(35131),o=a.n(r),s=a(25108);function d(e,t,a,r){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":n.Z.TokenIDPK,"x-tokenname":n.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return s.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:r,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:o()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:o()().format("YYYY-MM-DD hh:mm:ss")}]};(0,n.Z)(0).then((t=>{(0,i.Z)(e,d,t).then((e=>{200==e[0].status.code?s.log(e,"RES"):s.log("Error")}))}))}}},75787:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var l=a(92950),n=a.n(l),i=a(45237),r=a(36939),o=a(61201),s=a(50743),d=(a(3212),a(30553)),m=a(61956),c=(a(44528),a(51673)),p=a(37148),u=a(99090),y=a(35131),g=a.n(y),P=a(14439),D=a(27848),S=a(1695),C=a(61924),I=a.n(C),E=a(26537),f=a(40900),v=a(40826),h=a(11377),B=(a(24038),a(92371));const T={EnterKeyValues:{PPMStandByRegistry:["PPMCreationStandByCode","TimeFrom","TimeTo","OrderNo","StandbyKey","WorkOrder"]},Label:{PPMStandByRegistry:{PPMCreationStandByCode:["PPMCreationStandByCode"],TimeFrom:["PPMCreationStandByCode"],TimeTo:["PPMCreationStandByCode"],OrderNo:["PPMCreationStandByCode"],StandbyKey:["PPMCreationStandByCode"],PPMCreationAssetID:["PPMCreationStandByCode"]}},LabelHeader:{PPMStandByRegistry:{PPMCreationStandByCode:["PPM Creation Stand By Code"],TimeFrom:["PPM Creation Stand By Code"],TimeTo:["PPM Creation Stand By Code"],OrderNo:["PPM Creation Stand By Code"],StandbyKey:["PPM Creation Stand By Code"],PPMCreationAssetID:["PPMCreationStandByCode"]}},Property:{PPMStandByRegistry:{PPMCreationStandByCode:{id:"fld543_10771",labelID:"PPMCreationStandByCode",maxLength:"50",labelname:"PPM Creation Stand By Code",frmctrlid:"fld543_10771",frmctrlidname:"PPMCreationStandByCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},TimeFrom:{id:"fld543_10772",labelID:"TimeFrom",maxLength:"",labelname:"Time From",frmctrlid:"fld543_10772",frmctrlidname:"TimeFrom",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},TimeTo:{id:"fld543_10773",labelID:"TimeTo",maxLength:"",labelname:"Time To",frmctrlid:"fld543_10773",frmctrlidname:"TimeTo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},OrderNo:{id:"fld543_10774",labelID:"OrderNo",maxLength:"",labelname:"Order No",frmctrlid:"fld543_10774",frmctrlidname:"OrderNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StandbyKey:{id:"fld543_10775",labelID:"StandbyKey",maxLength:"",labelname:"Standby Key",frmctrlid:"fld543_10775",frmctrlidname:"StandbyKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAssetID:{id:"fld543_10776",clearID:"PPMStandByRegistryWorkOrderClear",type:"select",labelID:"PPMCreationAssetIDPK",labelname:"PPMCreationAssetCode",fielddisplayname:"WorkOrder",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMStandByRegistry:{PPMCreationAssetID:["ContractID","BuildingID","AssetID","DisciplineID","DivisionID","FloorID","FrequencyID","SpotID"]}}};var N=a(19339),F=(a(79117),a(8981)),M=a(6562),w=a(63163),b=a(45155),x=a(79352),A=(a(49174),a(38773)),R=(a(19089),a(16233)),k=a.n(R);a(82729),a(75355),a(11107);const O={PPMCreationStandByIDPK:"",PPMCreationStandByCode:"",TimeFrom:"",TimeTo:"",OrderNo:"",StandbyKey:"",IsDraft:!1,Remarks:"",PPMCreationAssetID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",Type:"PPMCreationStandByID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},L=(0,l.forwardRef)(((e,t)=>{(0,i.useSelector)((e=>e.form));const[a,y]=(0,l.useState)(!1),[C,R]=(0,l.useState)(!0),[L,Z]=(0,l.useState)(!1),[K,z]=(0,l.useState)(!1),[q,W]=(0,l.useState)(""),[_,V]=(0,l.useState)(!1),[U,G]=(0,l.useState)([]),[Y,H]=(0,l.useState)(null),[j,$]=(0,l.useReducer)(B.Z,O),[J,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)(!1),le=(0,l.useContext)(e.context?e.context:N.PPMStandByRegistryContext),{cstate:ne,cdispatch:ie}=e.ContextApi?e.ContextApi:(0,N.ContextApi)(),[re,oe]=(0,l.useState)(0),[se,de]=(0,l.useState)(""),me=(0,l.useRef)(null),[ce,pe]=k()("543"),[ue,ye]=(0,l.useState)(!0),[ge,Pe]=(0,l.useState)(""),[De,Se]=(0,l.useState)(""),[Ce,Ie]=(0,l.useState)(!0),[Ee,fe]=(0,l.useState)(!0),[ve,he]=(0,l.useState)(!1);let Be=(0,F.Z)();const[Te,Ne]=(0,l.useState)({}),Fe=e=>Be[e]?Be[e]:e,Me=t=>ne.language?.[t]?ne.language[t]:e.createEasy?Te?.[t]:t;(0,l.useEffect)((()=>{Ae(),ne.editData.length<0&&(0,E.Z)(1).then((e=>{Oe(1,null,"SetDefaultPPMCreationStandByID",e)}))}),[]),(0,l.useEffect)((()=>{ne.editData.length>0?(xe(ne.editData[0],""),Z(!0)):ne.Add&&(Ae(),Oe(1,null,"SetDefaultPPMCreationStandByID",ne.token[0]),Z(!0))}),[ne.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ne(Object.assign({},...t))}(ce)}),[ce]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ae()},CreateEasyProps:(e=!0,t)=>{pe(!0),t?(ze(t),Z(e)):(Ae(),Z(e))}})));const we=e=>{if(e){let a=(t=e)?t.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(a)?(0,v.format)(new Date(a),"yyyy-MM-dd"):e}return null;var t},be=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},xe=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),z(t.IsDraft),"SetDefaultPPMCreationStandByID"==a?de(t.PPMCreationStandByIDPK):(oe(e.primid?Number(e.primid):t.PPMCreationStandByIDPK?t.PPMCreationStandByIDPK:0),ie({type:"PrimaryId",payload:t.PPMCreationStandByIDPK})),$({type:"text",name:"PPMCreationStandByCode",value:t.PPMCreationStandByCode?t.PPMCreationStandByCode:""}),$({type:"text",name:"TimeFrom",value:t.TimeFrom?be(t.TimeFrom):null}),$({type:"text",name:"TimeTo",value:t.TimeTo?be(t.TimeTo):null}),$({type:"number",name:"OrderNo",number:t.OrderNo}),$({type:"number",name:"StandbyKey",number:t.StandbyKey}),$({type:"number",name:"PPMCreationAssetID",number:t.PPMCreationAssetID?Number(t.PPMCreationAssetID):0}),$({type:"text",name:"WorkOrder",value:t.WorkOrder}),t.IsDraft?R(!0):R(!("1"!=t.IsActive&&!t.IsActive))},Ae=()=>{G([]),oe(0),de(""),e.createEasy||le.resetImg(),ie({type:"PrimaryId",payload:""}),$({type:"text",name:"PPMCreationStandByCode",value:""}),$({type:"text",name:"TimeFrom",value:null}),$({type:"text",name:"TimeTo",value:null}),$({type:"number",name:"OrderNo",number:0}),$({type:"number",name:"StandbyKey",number:0}),$({type:"text",name:"PPMCreationAssetID",value:null}),$({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMStandByRegistryWorkOrderClear")&&document.getElementById("PPMStandByRegistryWorkOrderClear").click(),R(!0),W(""),ye(!0),Ie(!0),fe(!0)},Re=t=>{le.loading(!0),le.ConfirmAlert(null);const a=f.v.Api+"FP543S2/",l={data:[{p1:"SetDefaultPPMCreationStandByID"==t?"NORECORDS"!=se&&se?se:0:re,p2:qe(j.PPMCreationStandByCode),p3:j.TimeFrom?we(j.TimeFrom):null,p4:j.TimeTo?we(j.TimeTo):null,p5:j.OrderNo?Number(j.OrderNo):0,p6:j.StandbyKey?Number(j.StandbyKey):0,p7:!1,p8:"SetDefaultPPMCreationStandByID"==t?"SetDefault":null,p9:j.PPMCreationAssetID?j.PPMCreationAssetID:0,p10:C,p11:"SetDefaultPPMCreationStandByID"==t,p12:localStorage.getItem("userid"),p13:g()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:g()().format("YYYY-MM-DD hh:mm:ss")}]};(0,E.Z)(0).then((t=>{(0,c.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,i=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(le.alert({open:!0,color:"warning",message:i}),le.loading(!1)):(t=>{ye(!0),Ie(!0),fe(!0),le.loading(!0),le.ConfirmAlert(null),ie({type:"IsDraft",payload:!1});const a=f.v.Api+"FP543S1/",l={data:[{p1:re,p2:qe(j.PPMCreationStandByCode),p3:j.TimeFrom?we(j.TimeFrom):null,p4:j.TimeTo?we(j.TimeTo):null,p5:j.OrderNo?Number(j.OrderNo):0,p6:j.StandbyKey?Number(j.StandbyKey):0,p7:!1,p8:null,p9:j.PPMCreationAssetID?j.PPMCreationAssetID:0,p10:C,p11:!1,p12:localStorage.getItem("userid"),p13:g()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:g()().format("YYYY-MM-DD hh:mm:ss")}]};(0,E.Z)(0).then((t=>{(0,m.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(le.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMStandByRegistry"),le.loading(!1),e.createEasy||ne.ShowDetail||(le.RefreshTable(),le.attachmentSave(t[0].Data.IDPK),e.clrImgstate(!0)),Ae(),ne.AccessRights.IsApproval&&le.Approval(!0),document.getElementById("overlayimgAttPPMStandByRegistry")&&(document.getElementById("overlayimgAttPPMStandByRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStandByRegistry").style.display="none",document.getElementById("divPPMStandByRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMStandByRegistry-MainTable").style.display="block")):(le.alert({open:!0,color:"warning",message:[a.message]}),le.loading(!1)),Z(!0),Oe(1,null,"SetDefaultPPMCreationStandByID",ne.token[0])}))}))})()):(le.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),le.loading(!1))}))}))};function ke(t,a,l,n){if(!(ne.count>0))return le.alert({open:!0,color:"warning",message:[Fe("Please save atleast one record")]}),!1;if(!((()=>{const e={...j};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return le.alert({open:!0,color:"warning",message:[Fe("Please enter the primary fields")]}),!1;{ye(!0),Ie(!0),fe(!0),le.loading(!0),le.ConfirmAlert(null),ie({type:"IsDraft",payload:!1});const a=f.v.Api+"FP543S1/",l={data:[{p1:"SetDefaultPPMCreationStandByID"==n?"NORECORDS"!=se&&se?se:0:re,p2:qe(j.PPMCreationStandByCode),p3:j.TimeFrom?we(j.TimeFrom):null,p4:j.TimeTo?we(j.TimeTo):null,p5:j.OrderNo?Number(j.OrderNo):0,p6:j.StandbyKey?Number(j.StandbyKey):0,p7:!0,p8:"SetDefaultPPMCreationStandByID"==n?"SetDefault":null,p9:j.PPMCreationAssetID?j.PPMCreationAssetID:0,p10:!1,p11:"SetDefaultPPMCreationStandByID"==n,p12:localStorage.getItem("userid"),p13:g()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:g()().format("YYYY-MM-DD hh:mm:ss")}]};(0,E.Z)(0).then((n=>{(0,m.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?le.alert({open:!0,color:"warning",message:[Fe("Deleted Successfully")]}):le.alert({open:!0,color:"success",message:[Fe("Saved to Draft")]}),le.loading(!1),le.attachmentSave(a[0].Data.IDPK),Ae(),le.RefreshTable(),e.clrImgstate(!0)):(le.alert({open:!0,color:"warning",message:[l.message]}),le.loading(!1))}))}))}}const Oe=(t,a,l,n,i,r)=>{const o=f.v.Api+"FP543S3/",s={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"0"==j.PPMCreationAssetID?null:j.PPMCreationAssetID,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:"0"==j.ContractID?null:j.ContractID,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:"0"==j.LocalityID?null:j.LocalityID,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:"0"==j.BuildingID?null:j.BuildingID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==j.FloorID?null:j.FloorID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==j.SpotID?null:j.SpotID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==j.DivisionID?null:j.DivisionID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"==j.DisciplineID?null:j.DisciplineID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==j.FrequencyID?null:j.FrequencyID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==j.AssetID?null:j.AssetID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==j.EmployeeID?null:j.EmployeeID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==j.PPMBusinessFlowID?null:j.PPMBusinessFlowID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==j.PPMFixonBusinessFlowID?null:j.PPMFixonBusinessFlowID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==j.PPMStageID?null:j.PPMStageID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:a?"%"+a+"%":null,p62:j.WoDateTime?j.WoDateTime:null,p63:null,p64:null,p65:t,p66:10,p67:l,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},d=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{});Q(!0);const m={data:d};return(0,c.Z)(o,"ClearAll"==l?m:s,"SetDefaultPPMCreationStandByID"==l&&n?n:ne.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(i)return 1==n.length?n[0]:{};ee(1==t?e>0?n:[]:X.concat(n)),"SetDefaultPPMCreationStandByID"==l&&(e>0?xe(n[0],"SetDefaultPPMCreationStandByID"):de("NORECORDS")),Q(!1)}else le.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Q(!1)}))},Le=(t,a,l)=>{const n=f.v.Api+"FP543S3/",i={data:{p1:null,p2:"PPMCreationStandByCode"==l&&a?"%"+a+"%":null,p3:"TimeFrom"==l&&a?"%"+a+"%":null,p4:"TimeTo"==l&&a?"%"+a+"%":null,p5:"OrderNo"==l&&a?"%"+a+"%":null,p6:"StandbyKey"==l&&a?"%"+a+"%":null,p7:null,p8:null,p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:t,p66:10,p67:"PPMCreationStandByID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},r={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};Q(!0),(0,c.Z)(n,"ClearAll"==l?r:i,ne.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("PPMCreationStandByCode"==l&&ye(e>0),"OrderNo"==l&&Ie(e>0),"StandbyKey"==l&&fe(e>0),ee(n)):("PPMCreationStandByCode"==l&&ye(!0),"OrderNo"==l&&Ie(!0),"StandbyKey"==l&&fe(!0),ee(X.concat(n))),Q(!1)}else le.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Q(!1)}))},Ze=(0,l.useCallback)((async(e,t,a)=>{"text"==a?$({type:a,name:t,value:e}):"number"==a?$({type:a,name:t,number:Number(e)}):"boolean"==a?$({type:a,name:t,boolean:e}):"date"==a&&$({type:"text",name:t,value:e})}),[j]),Ke=e=>{le.ConfirmAlert(n().createElement(I(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ze(e),onCancel:()=>le.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Fe("Yes"),cancelBtnText:Fe("No"),showCancel:!0},Fe("Do you want to update this record?")))};function ze(e){le.ConfirmAlert(null),z(e.IsDraft),oe(Number(e.PPMCreationStandByIDPK)?Number(e.PPMCreationStandByIDPK):0),$({type:"text",name:"PPMCreationStandByCode",value:e.PPMCreationStandByCode?e.PPMCreationStandByCode:""}),$({type:"text",name:"TimeFrom",value:e.TimeFrom?be(e.TimeFrom):null}),$({type:"text",name:"TimeTo",value:e.TimeTo?be(e.TimeTo):null}),$({type:"text",name:"OrderNo",value:e.OrderNo?e.OrderNo:""}),$({type:"text",name:"StandbyKey",value:e.StandbyKey?e.StandbyKey:""}),$({type:"number",name:"PPMCreationAssetID",number:e.PPMCreationAssetID?Number(e.PPMCreationAssetID):0}),$({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:""})}const qe=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(r.Z,{expanded:L,onChange:e=>{}},n().createElement(s.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},L&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[543]"}," ",Fe("Add "),Me("543")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},ne.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(M.Z,{row:!0},n().createElement(d.Z,{labelPlacement:"bottom",id:"fld543L2ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==C,onChange:e=>R(e.target.checked)}),label:Fe(1==C?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{le.AttachExpand(!0)},id:"fld543L2ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(b.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Fe("Attach")))),!re&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ae()},id:"fld543L2ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(b.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Fe("Reset")))),"1"===K&&re&&n().createElement(u.Z,{frmctrlid:"fld543L2ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{ke("draftdel")}}),re&&"1"!==K||e.createEasy?null:ne.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{ke()},frmctrlid:"fld543L2ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(x.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Fe("Draft")))),ne.AccessRights.IsAdd||ne.AccessRights.IsEdit?n().createElement(S.Z,{frmctrlid:"fld543L2ECSaveBtnIsAdd",name:Fe(re?"Update":"Save"),disabled:!1,onClick:()=>{qe(j.PPMCreationStandByCode)?j.PPMCreationAssetID&&0!=j.PPMCreationAssetID?le.ConfirmAlert(n().createElement(I(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Fe("Are you sure?"),onConfirm:()=>Re(),onCancel:()=>le.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Fe("Yes"),cancelBtnText:Fe("Cancel"),showCancel:!0},Fe(re?"Do you want to Update?":"Do you want to Save?"))):le.alert({open:!0,color:"warning",message:[Fe("Please select the ")+" "+Me("PPMCreationAssetID")]}):le.alert({open:!0,color:"warning",message:[Fe("Please enter the")+""+Me("PPMCreationStandByCode")]})}}):null,!e.createEasy&&n().createElement(p.Z,{frmctrlid:"fld543L2ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ae(),Z(!1),le.EditClose(!0),le.hideAddBtn(!1),ie({type:"Add",payload:!1})}}))))),n().createElement(o.Z,null,n().createElement("div",{id:"PPMStandByRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMStandByRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMStandByRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(P.Z,{spacing:2},n().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(h.Z,{"data-testid":j.PPMCreationStandByCode,json:T,SPName:"PPMStandByRegistry",FieldName:"PPMCreationStandByCode",tfLabel:Me("PPMCreationStandByCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ke(t),onClick:()=>{ue&&Le(1,"","ClearAll"),ye(!0)},frmctrlid:"fld543_10771",frmctrlidName:"PPMCreationStandByCode",fieldorder:"1",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{ue&&Le(e,t,"PPMCreationStandByCode"),Ze(t,"PPMCreationStandByCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:ue,SideEntryView:!1,KeyBack:e=>{},value:j.PPMCreationStandByCode,loading:J,clear:e=>{e&&($({type:"text",name:"PPMCreationStandByCode",value:""}),ye(!0))}})),n().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(A.Z,{"data-testid":j.TimeFrom,onErr:e=>{Pe(e)},value:j.TimeFrom,onChange:e=>{Ze(e,"TimeFrom","date")},label:Me("TimeFrom"),frmctrlid:"fld543_10772",frmctrlidName:"TimeFrom",fieldorder:"2"})),n().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(A.Z,{"data-testid":j.TimeTo,onErr:e=>{Se(e)},value:j.TimeTo,onChange:e=>{Ze(e,"TimeTo","date")},label:Me("TimeTo"),frmctrlid:"fld543_10773",frmctrlidName:"TimeTo",fieldorder:"3"})),n().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(h.Z,{"data-testid":j.OrderNo,json:T,SPName:"PPMStandByRegistry",FieldName:"OrderNo",tfLabel:Me("OrderNo"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ke(t),onClick:()=>{Ce&&Le(1,"","ClearAll"),Ie(!0)},frmctrlid:"fld543_10774",frmctrlidName:"OrderNo",fieldorder:"4",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{Ce&&Le(e,t,"OrderNo"),Ze(t,"OrderNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ie(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:j.OrderNo,loading:J,clear:e=>{e&&($({type:"text",name:"OrderNo",value:""}),Ie(!0))}})),n().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(h.Z,{"data-testid":j.StandbyKey,json:T,SPName:"PPMStandByRegistry",FieldName:"StandbyKey",tfLabel:Me("StandbyKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ke(t),onClick:()=>{Ee&&Le(1,"","ClearAll"),fe(!0)},frmctrlid:"fld543_10775",frmctrlidName:"StandbyKey",fieldorder:"1",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{Ee&&Le(e,t,"StandbyKey"),Ze(t,"StandbyKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:Ee,SideEntryView:!1,KeyBack:e=>{},value:j.StandbyKey,loading:J,clear:e=>{e&&($({type:"text",name:"StandbyKey",value:""}),fe(!0))}})),n().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(h.Z,{json:T,id:j.PPMCreationAssetID,"data-testid":j.PPMCreationAssetID,value:j.WorkOrder,SPName:"PPMStandByRegistry",FieldName:"PPMCreationAssetID",tfLabel:Me("PPMCreationAssetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ze(e,"PPMCreationAssetID","select"),onChange:(e,t)=>{Oe(e,t,"PPMCreationAssetIDPK")},KeyBack:e=>{j.PPMCreationAssetID},fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{CreateEasy("1390",ne,ie,le,me)},Tabledialog:()=>(AdvanceSearch("1390","PPMCreationAssetID",N.PPMStandByRegistryContext,(0,N.ContextApi)(),Ze,t),!1),loading:J,clear:e=>{e&&j.PPMCreationAssetID}})))),n().createElement("div",{id:"PPMStandByRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMStandByRegistrySideBar").style.width="0",void V(!1))},"Ã—"),_&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},Y))))))))}))},19339:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>g,PPMStandByRegistryContext:()=>y,UserGridViewData:()=>P,default:()=>D});var l=a(92950),n=a.n(l),i=a(91861),r=a(51597),o=a(75787),s=a(67698),d=a(55995),m=a(26537),c=a(45237),p=a(45965),u=a(41722);a(51673),a(40900),a(9175);const y=(0,l.createContext)(),g=()=>{const e=(0,l.useContext)(y);if(void 0===e)throw new Error("useCont must be used within  PPMStandByRegistryContext Provider");return e},P=[],D=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),P=(0,l.useRef)(),D=(0,l.useRef)(),S=(0,l.useRef)(),C=(0,l.useRef)(),[I,E]=(0,l.useState)(!0),[f,v]=(0,l.useState)(),h=((0,c.useSelector)((e=>e.form)),(0,c.useDispatch)()),[B,T]=(0,l.useState)(0),[N,F]=(0,l.useReducer)(u.D,u.E),[M,w]=(0,l.useState)(""),[b,x]=(0,l.useState)([]),[A,R]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||P.current.clear(),document.getElementById("divPPMStandByRegistry-Entry").style.width="100%",document.getElementById("PPMStandByRegistry-MainTable").style.width="100%",document.getElementById("PPMStandByRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStandByRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{E(!0),document.getElementById("divPPMStandByRegistry-Entry").style.width="100%",document.getElementById("PPMStandByRegistry-MainTable").style.width="100%",document.getElementById("PPMStandByRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStandByRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(F({type:"editData",payload:[e.editData]}),F({type:"ShowDetail",payload:!0}))}),[e.editData]);const k=e=>{x([]),document.getElementById("divPPMStandByRegistry-Entry").style.width="100%",document.getElementById("PPMStandByRegistryEntryTable").style.width="100%",document.getElementById("PPMStandByRegistry-MainEntry").style.width="100%",document.getElementById("PPMStandByRegistry-MainEntry").style.display="block",document.getElementById("PPMStandByRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMStandByRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMStandByRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStandByRegistry").style.display="none"};(0,l.useEffect)((()=>{h((e=>{(0,m.Z)(1).then((e=>{var t=new Array;t.push(e),F({type:"token",payload:t}),T(t.length),O(e)}))}))}),[]);const O=e=>{(0,p.Z)(e,543).then((e=>F({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(y.Provider,{value:{cstate:N,cdispatch:F,ContextApi:g,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==B&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{C.current.tempsave(e,b),x([])},EditClose:e=>k(),AttachExpand:e=>(S.current.AttachmentData(N.PrimaryId),void(I&&(document.getElementById("overlayimgAttPPMStandByRegistry").style.width="25%",document.getElementById("overlayPreviewPPMStandByRegistry").style.width="50%",document.getElementById("divPPMStandByRegistry-Entry").style.width="100%",document.getElementById("PPMStandByRegistry-MainTable").style.width="100%",document.getElementById("PPMStandByRegistry-MainEntry").style.width="100%",document.getElementById("PPMStandByRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStandByRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMStandByRegistry").style.display="block",document.getElementById("overlayimgAttPPMStandByRegistry").style.width="25%"))),Expanded:e=>{N.ShowDetail&&D.current.tableClick(e),F({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{N.ShowDetail&&D.current.viewtoggle()},clear:e=>{F({type:"ShowDetail",payload:!1}),F({type:"editData",payload:[]}),N.ShowDetail?D.current.clear(e):P.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{N.ShowDetail?D.current.tableClick(!1):P.current.CreateEasyProps(!1)},resetImg:()=>{C.current.tempClear(),S.current.clrImgstate(!0)}}},n().createElement("div",{id:"PPMStandByRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"PPMStandByRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"PPMStandByRegistryEntryTable",style:{width:"100%"}},N.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMStandByRegistry-Entry",style:{width:"100%"}},0!==B?n().createElement(r.default,{ref:D}):null)),n().createElement(d.Z,{ref:C,menurefID:543,fileId:"LogoImgPPMStandByRegistry",imgloading:t=>{t||N.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>S.current.AttachmentData(e),previd:"overlayPreviewPPMStandByRegistry",frmctrlid:"PvwIm_543_L2_",tempImg:e=>{N.PrimaryId?S.current.AttachmentData(N.PrimaryId):S.current.tempImg(e),x(e)},clearTempData:N.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMStandByRegistry-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(o.default,{ref:P,clrImgstate:e=>S.current.clrImgstate(e)}))),n().createElement(d.Z,{ref:C,menurefID:543,fileId:"LogoImgPPMStandByRegistry",imgloading:t=>{t||N.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>S.current.AttachmentData(e),previd:"overlayPreviewPPMStandByRegistry",frmctrlid:"PvwIm_543_L2_",tempImg:e=>{N.PrimaryId?S.current.AttachmentData(N.PrimaryId):S.current.tempImg(e),x(e)},clearTempData:N.Add})),n().createElement("div",{id:"PPMStandByRegistry-MainTable"},0!==B?n().createElement(i.default,{ref:a}):null)),n().createElement(s.Z,{ImgAttachment:e=>k(),menurefID:543,fileId:"AttImgPPMStandByRegistry",imgid:"overlayimgAttPPMStandByRegistry",valueIDPK:N.PrimaryId,PriviewData:(e,t,a,l)=>{C.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMStandByRegistry",ref:S,imgloading:f,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_543_L2_",timglist:e=>{C.current.timglist(e),x(e)},clearTempData:N.Add}))),n().createElement("div",{id:"PPMStandByRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},91861:(e,t,a)=>{a.r(t),a.d(t,{PPMStandByRegistryPopUpTable:()=>W,default:()=>q}),a(95866);var l=a(92950),n=a.n(l),i=a(45237),r=a(36939),o=a(61201),s=a(59009),d=a(51673),m=a(22641),c=a(54180),p=a(43031),u=a(110),y=a(85639),g=a(5109),P=a(868),D=a(40900),S=a(88995),C=a(50743),I=a(80366),E=a(24038),f=a(61657),v=a(51209),h=a(86893),B=a(53854),T=a(51649),N=a(37106),F=a(5434),M=a(83817),w=a(47516),b=a(39327),x=a(3212),A=a(93521),R=(a(79117),a(71168)),k=a.n(R),O=a(65107),L=a(19339),Z=a(94986),K=a(15999),z=a(8981);a(11557),window.clickFilter="";const q=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),R=(0,l.useRef)(null),[q]=((0,l.useRef)(null),(0,i.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[W]=(0,l.useState)("543"),[_,V]=(0,l.useState)(!1),[U,G]=(0,l.useState)(!1),[Y,H]=(0,l.useState)(0),[j,$]=(0,l.useState)(0),[J,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)(0),[te,ae]=(0,l.useState)({current:1,pageSize:100}),[le,ne]=(0,l.useState)(""),[ie,re]=(0,l.useState)([]),[oe,se]=(0,l.useState)({val:"",column:""}),[de,me]=(0,l.useState)([]),[ce,pe]=(0,l.useState)(!1),[ue,ye]=(0,l.useState)(""),[ge,Pe]=(0,l.useState)(""),[De,Se]=(0,l.useState)(!1),[Ce,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[ve,he]=(0,l.useState)([]),[Be,Te]=(0,l.useState)({children:[{name:"PPMStandByRegistry",children:[]}]}),[Ne,Fe]=(0,l.useState)(!1),Me=(0,l.useContext)(e.context?e.context:L.PPMStandByRegistryContext),{cstate:we,cdispatch:be}=e.ContextApi?e.ContextApi:(0,L.ContextApi)();let xe={PPMCreationStandByIDPK:"",PPMCreationStandByCode:"",TimeFrom:"",TimeTo:"",OrderNo:"",StandbyKey:"",IsDraft:"",Remarks:"",PPMCreationAssetID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,Re]=(0,l.useState)(xe),[ke,Oe]=(0,l.useState)(xe),[Le,Ze]=(0,l.useState)(!1),[Ke,ze]=(0,l.useState)(!0),[qe,We]=(0,l.useState)(!1),[_e,Ve]=(0,l.useState)(!0),[Ue,Ge]=(0,l.useState)({PPMCreationStandByCode:"",TimeFrom:"",TimeTo:"",OrderNo:"",StandbyKey:"",WorkOrder:""}),[Ye,He]=(0,l.useState)(!1),[je,$e]=(0,l.useState)([]),[Je,Qe]=(0,l.useState)(0),[Xe,et]=(0,l.useState)(0),[tt,at]=(0,l.useState)({current:1,pageSize:10}),[lt,nt]=(0,l.useState)([]),[it,rt]=(0,l.useState)([]),[ot,st]=(0,l.useState)(!1),[dt,mt]=(0,l.useState)(!1),[ct,pt]=(0,l.useState)(!1),[ut,yt]=(0,l.useState)(""),[gt,Pt]=k()("543"),[Dt,St]=(0,l.useState)({}),Ct=[{columns:lt,data:le}];let It=(0,z.Z)();const Et=e=>It[e]?It[e]:e,ft=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{Mt(gt)}),[gt]),(0,l.useEffect)((()=>{we.token.length>0&&Nt(te,xe,"PPMCreationStandByID")}),[]),(0,l.useEffect)((()=>{!Ne&&ue?(Re(ue),Nt(te,ue,"PPMCreationStandByID")):Ne&&Oe(ue)}),[ue]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{vt(e)},tableRefresh:()=>{Nt(te,xe,"PPMCreationStandByID")},DialogTableProps:e=>{G(e)},HideEntryFields:e=>{pt(e)}})));const vt=e=>{""==e?Nt(te,xe,Le?"DraftPPMCreationStandByID":"PPMCreationStandByID",Le&&"DraftPage"):Ft(e,{current:1,pageSize:100}),Pe(e)};function ht(e){Me.loading(!0);let t=D.v.Api+"FP543S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,a,we.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,et(t.Output.data[0].TotalCount)):a=0,10==e.pageSize?Qe(Math.ceil(a)):20==e.pageSize?Qe(Math.ceil(a/2)):50==e.pageSize?Qe(Math.ceil(a/5)):100==e.pageSize&&Qe(Math.ceil(a/10)),$e(t.Output.data),Me.loading(!1)}}))}function Bt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!0}),Me.Expanded(!0),qe&&Se(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ve(e.cardview),e.Dialogview&&(G(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ft(e.searchsafaritext,{current:te.current,pageSize:te.pageSize})}),[e.searchsafaritext]);const Tt=()=>{Me.EditClose(!0),ce?(document.getElementById("PPMStandByRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMStandByRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMStandByRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",pe(!1),_e?(U||(document.getElementById("PPMStandByRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStandByRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMStandByRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStandByRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMStandByRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStandByRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMStandByRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMStandByRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMStandByRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",pe(!0),document.getElementById("PPMStandByRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStandByRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Se(!1),window.clickFilter=!ce},Nt=(t,a,l,n,i,r)=>{Me.loading(!0),"DraftPage"!==n&&Ze(we.IsDraft);let o=D.v.Api+"FP543S3/",s={data:{p1:i||(a&&a.PPMCreationStandByIDPK?a.PPMCreationStandByIDPK:null),p2:a&&a.PPMCreationStandByCode?a.PPMCreationStandByCode:null,p3:a&&a.TimeFrom?a.TimeFrom:null,p4:a&&a.TimeTo?a.TimeTo:null,p5:a&&a.OrderNo?a.OrderNo:null,p6:a&&a.StandbyKey?a.StandbyKey:null,p7:"DraftPPMCreationStandByID"==l?"1":"0",p8:null,p9:a&&a.PPMCreationAssetID?a.PPMCreationAssetID:null,p10:a&&a.IsActive,p11:null,p12:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p13:a&&a.CreatedTtm?a.CreatedTtm:null,p14:a&&a.CreatedTtmType?a.CreatedTtmType:null,p15:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p16:null,p17:a&&a.ContractID?a.ContractID:null,p18:a&&a.ContractCode?a.ContractCode:null,p19:a&&a.ContractName?a.ContractName:null,p20:a&&a.LocalityID?a.LocalityID:null,p21:a&&a.LocalityCode?a.LocalityCode:null,p22:a&&a.LocalityName?a.LocalityName:null,p23:a&&a.BuildingID?a.BuildingID:null,p24:a&&a.BuildingCode?a.BuildingCode:null,p25:a&&a.BuildingName?a.BuildingName:null,p26:a&&a.FloorID?a.FloorID:null,p27:a&&a.FloorCode?a.FloorCode:null,p28:a&&a.FloorName?a.FloorName:null,p29:a&&a.SpotID?a.SpotID:null,p30:a&&a.SpotCode?a.SpotCode:null,p31:a&&a.SpotName?a.SpotName:null,p32:a&&a.DivisionID?a.DivisionID:null,p33:a&&a.DivisionCode?a.DivisionCode:null,p34:a&&a.DivisionName?a.DivisionName:null,p35:a&&a.DisciplineID?a.DisciplineID:null,p36:a&&a.DisciplineCode?a.DisciplineCode:null,p37:a&&a.DisciplineName?a.DisciplineName:null,p38:a&&a.FrequencyID?a.FrequencyID:null,p39:a&&a.FrequencyCode?a.FrequencyCode:null,p40:a&&a.FrequencyName?a.FrequencyName:null,p41:a&&a.AssetID?a.AssetID:null,p42:a&&a.EquipmentName?a.EquipmentName:null,p43:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p44:a&&a.AssetBarcode?a.AssetBarcode:null,p45:a&&a.AssetTagNo?a.AssetTagNo:null,p46:a&&a.EmployeeID?a.EmployeeID:null,p47:a&&a.EmployeeCode?a.EmployeeCode:null,p48:a&&a.FirstName?a.FirstName:null,p49:a&&a.EmpContactNo1?a.EmpContactNo1:null,p50:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p51:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p52:a&&a.BriefDetails?a.BriefDetails:null,p53:a&&a.FlowCode?a.FlowCode:null,p54:a&&a.FlowDisplayName?a.FlowDisplayName:null,p55:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p56:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p57:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p58:a&&a.PPMStageID?a.PPMStageID:null,p59:a&&a.PPMStageName?a.PPMStageName:null,p60:a&&a.StageSeqNo?a.StageSeqNo:null,p61:a&&a.WorkOrder?a.WorkOrder:null,p62:a&&a.WoDateTime?a.WoDateTime:null,p63:a&&a.WoDateTimeType?a.WoDateTimeType:null,p64:a&&a.WoDateTimeBetween?a.WoDateTimeBetween:null,p65:i?1:t.current,p66:t.pageSize,p67:l,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};(0,d.Z)(o,s,we.token[0]).then((o=>{if(i)(0,M.a)(o,be,n,r,Me);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,Q(o.Output.data[0].TotalCount),ee(o.Output.data[0].DraftCnt),be({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&ee(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?$(Math.ceil(e)):20==t.pageSize?$(Math.ceil(e/2)):50==t.pageSize?$(Math.ceil(e/5)):100==t.pageSize&&$(Math.ceil(e/10)),me(o.Output.data),Me.loading(!1)}e.Dialogview||(document.getElementById("divPPMStandByRegistry-Entry").style.height="auto",document.getElementById("divPPMStandByRegistry-Entry").style.display="block")}else Me.loading(!1),"DraftPPMCreationStandByID"===l?(Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Se(!0),Ze(!1)):(me([]),ae({current:1,pageSize:10}),$(0),Q(0),be({type:"count",payload:"0"}),be({type:"ExpandDetailValue",payload:!0}),Object.values(a).some((e=>e))&&Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Me.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Me.loading(!1)}))};function Ft(e,t){Me.loading(!0);const a=D.v.Api+"FP543S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Le?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,l,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Q(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?$(Math.ceil(a)):20==t.pageSize?$(Math.ceil(a/2)):50==t.pageSize?$(Math.ceil(a/5)):100==t.pageSize&&$(Math.ceil(a/10)),me(e.Output.data),Me.loading(!1)}else me([]),$(0),Q(0),be({type:"count",payload:"0"}),Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me.loading(!1);else Me.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Me.loading(!1)}))}function Mt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),be({type:"language",payload:Object.assign({},...n)}),Ge(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),fe(t),he(a),nt(l),rt(a)}const wt=()=>Ne?null:n().createElement("div",null,Ye?n().createElement(Z.Z,{data:je,expanded:e=>!U&&Me.Expanded(e),edit:(e,t,a)=>{U?Me.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(O.Z,{ref:R,frmctrlid:"tblcs_543_L2_",id:"PPMStandByRegistryTable",headerdata:Ee,tablesearchparams:Ue,searchvalue:e=>{Ge(e),ye(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};St(t),ae({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,Le?"DraftPPMCreationStandByID":"PPMCreationStandByID",Le&&"DraftPage")},bodydata:de,ondrag:Bt,bodyitem:ve,visibleitem:Ee,isdraft:Le,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:W,showMore:!1,accessrights:we.AccessRights,expanded:e=>!U&&Me.Expanded(e),edit:(e,t,a)=>{U?Me.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Nt(te,null,t?"DraftPPMCreationStandByID":"PPMCreationStandByID",t&&"DraftPage",e[l],a)})),Me.hideAddBtn(!0))},viewtoggle:Me.viewtoggle,isexpanded:!U||qe,tf:ft,action:U?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{We(we.ExpandTableValue)}),[we.ExpandTableValue]),n().createElement("div",null,!ct&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld543L2ECSearchBar",className:"searchbar1"},n().createElement(E.Z,{frmctrlid:"fld543L2TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ge,onChange:e=>{Pe(e),Me.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ge?n().createElement("div",{id:"fld543L2TCCloseIconCommonSearch",onClick:()=>{Pe(""),Me.searchItem("")}},n().createElement(I.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld543L2TCInputSearchIcon"},n().createElement(S.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMStandByRegistrygridsearch").focus()}})))),n().createElement("div",null,we.AccessRights.IsAdd?n().createElement(x.Z,{className:"SaveBtnCommon",frmctrlid:"fld543L2TCAddBtnIsAdd",onClick:()=>{Me.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(r.Z,{expanded:Ke,onChange:()=>()=>{ze(qe)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[543]"},`${ft("543")} (${J})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld543L2TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(E.Z,{frmctrlid:"fld543L2TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ge,onChange:e=>{vt(e)}}),n().createElement("div",{className:"search_icon"},ge?n().createElement("div",{id:"fld543L2TCInputCloseIcon",onClick:()=>{vt("")}},n().createElement(I.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld543L2TCInputSearchIcon"},n().createElement(S.Z,{className:"InputSearchIcon"}))))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"PPMStandByRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&n().createElement("div",{frmctrlid:"fld543L2TCFilterDataIsDraft",id:"PPMStandByRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Tt()}},n().createElement(P.ZP,{title:Et("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(w.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Et("Filter Data"))),!U&&!Le&&!Ne&&n().createElement(c.Z,{formctrlidprint:"fld543L2TCExportPrint",formctrlidexport:"fld543L2TCExportTable",formctrlidrefresh:"fld543L2TCExportRefresh",title:ft("543"),data:ie,exportData:Ct,Items:it,columnIndex:lt,TableVisibleItem:Ee,userGridViewFormID:W,TableTotalCount:J,triggerApi:e=>{((e,t,l,n,i)=>{if(0===J)return Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Me.loading(!0);let r=D.v.Api+"FP543S3/",o={data:{p1:e&&e.PPMCreationStandByIDPK?e.PPMCreationStandByIDPK:null,p2:e&&e.PPMCreationStandByCode?e.PPMCreationStandByCode:null,p3:e&&e.TimeFrom?e.TimeFrom:null,p4:e&&e.TimeTo?e.TimeTo:null,p5:e&&e.OrderNo?e.OrderNo:null,p6:e&&e.StandbyKey?e.StandbyKey:null,p7:Le?"1":"0",p8:null,p9:e&&e.PPMCreationAssetID?e.PPMCreationAssetID:null,p10:e&&e.IsActive,p11:null,p12:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p13:e&&e.CreatedTtm?e.CreatedTtm:null,p14:e&&e.CreatedTtmType?e.CreatedTtmType:null,p15:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p16:null,p17:e&&e.ContractID?e.ContractID:null,p18:e&&e.ContractCode?e.ContractCode:null,p19:e&&e.ContractName?e.ContractName:null,p20:e&&e.LocalityID?e.LocalityID:null,p21:e&&e.LocalityCode?e.LocalityCode:null,p22:e&&e.LocalityName?e.LocalityName:null,p23:e&&e.BuildingID?e.BuildingID:null,p24:e&&e.BuildingCode?e.BuildingCode:null,p25:e&&e.BuildingName?e.BuildingName:null,p26:e&&e.FloorID?e.FloorID:null,p27:e&&e.FloorCode?e.FloorCode:null,p28:e&&e.FloorName?e.FloorName:null,p29:e&&e.SpotID?e.SpotID:null,p30:e&&e.SpotCode?e.SpotCode:null,p31:e&&e.SpotName?e.SpotName:null,p32:e&&e.DivisionID?e.DivisionID:null,p33:e&&e.DivisionCode?e.DivisionCode:null,p34:e&&e.DivisionName?e.DivisionName:null,p35:e&&e.DisciplineID?e.DisciplineID:null,p36:e&&e.DisciplineCode?e.DisciplineCode:null,p37:e&&e.DisciplineName?e.DisciplineName:null,p38:e&&e.FrequencyID?e.FrequencyID:null,p39:e&&e.FrequencyCode?e.FrequencyCode:null,p40:e&&e.FrequencyName?e.FrequencyName:null,p41:e&&e.AssetID?e.AssetID:null,p42:e&&e.EquipmentName?e.EquipmentName:null,p43:e&&e.EquipmentRefNo?e.EquipmentRefNo:null,p44:e&&e.AssetBarcode?e.AssetBarcode:null,p45:e&&e.AssetTagNo?e.AssetTagNo:null,p46:e&&e.EmployeeID?e.EmployeeID:null,p47:e&&e.EmployeeCode?e.EmployeeCode:null,p48:e&&e.FirstName?e.FirstName:null,p49:e&&e.EmpContactNo1?e.EmpContactNo1:null,p50:e&&e.EmpEmailOfficial?e.EmpEmailOfficial:null,p51:e&&e.PPMBusinessFlowID?e.PPMBusinessFlowID:null,p52:e&&e.BriefDetails?e.BriefDetails:null,p53:e&&e.FlowCode?e.FlowCode:null,p54:e&&e.FlowDisplayName?e.FlowDisplayName:null,p55:e&&e.PPMFixonBusinessFlowID?e.PPMFixonBusinessFlowID:null,p56:e&&e.FixonBusinessFlowName?e.FixonBusinessFlowName:null,p57:e&&e.PPMFixonBusinessFlowCode?e.PPMFixonBusinessFlowCode:null,p58:e&&e.PPMStageID?e.PPMStageID:null,p59:e&&e.PPMStageName?e.PPMStageName:null,p60:e&&e.StageSeqNo?e.StageSeqNo:null,p61:e&&e.WorkOrder?e.WorkOrder:null,p62:e&&e.WoDateTime?e.WoDateTime:null,p63:e&&e.WoDateTimeType?e.WoDateTimeType:null,p64:e&&e.WoDateTimeBetween?e.WoDateTimeBetween:null,p65:te.current,p66:J,p67:Le?"DraftPPMCreationStandByID":"PPMCreationStandByID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};Me.loading(!1),Me.alert({open:!0,color:"success",message:[`${ft(543)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(r,o,we.token[0],i).then((e=>{(0,A.PDF_Excel_Generate)(e,Me,it,ne,a,i)}))})(ue,oe.column,0,0,e)},Refresh:()=>{Pe(""),ae({current:1,pageSize:100}),R.current.clearItem(),we.IsDraft?Nt({current:1,pageSize:100},xe,"DraftPPMCreationStandByID"):Nt({current:1,pageSize:100},xe,"PPMCreationStandByID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:a,iconinfo:"iconinfo"}),!Le&&!Ne&&!U&&n().createElement("div",{className:"buttoncard",onClick:()=>mt(!dt)},n().createElement("span",null,dt?n().createElement(P.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},n().createElement("span",{id:"fld543L2TCLess"},n().createElement(B.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(P.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},n().createElement("span",{id:"fld543L2TCMore"},n().createElement(B.ilJ,{className:"tableFilterColumnIcon"}))))),dt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ne||!qe?null:U||!we.AccessRights.IsAdd||Le?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld543L2TCFilterDataIsAdd",id:"PPMStandByRegistrycoldiv",className:"buttoncard",onClick:()=>{Me.EditClose(!0),De?(document.getElementById("PPMStandByRegistryFilterDiv").style.width="0%",document.getElementById("PPMStandByRegistryTabDiv").style.width="100%",document.getElementById("PPMStandByRegistryFilterDiv").style.display="none",document.getElementById("PPMStandByRegistrycoldiv").style.width="fit-content",document.getElementById("PPMStandByRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Se(!1)):(document.getElementById("PPMStandByRegistryFilterDiv").style.width="25%",document.getElementById("PPMStandByRegistryTabDiv").style.width="75%",document.getElementById("PPMStandByRegistryFilterDiv").style.display="block",document.getElementById("PPMStandByRegistryfildiv").style.width="fit-content",document.getElementById("PPMStandByRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMStandByRegistrycoldiv").style.width="fit-content",document.getElementById("PPMStandByRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Se(!0)),pe(!1)}},n().createElement(P.ZP,{title:Et("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(b.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!U&&qe&&!Ne&&!Le&&n().createElement("div",null,n().createElement("div",{id:"PPMStandByRegistrycoldiv",className:"buttoncard",onClick:()=>{Ye?He(!1):(He(!0),ht({current:1,pageSize:100}))}},n().createElement(P.ZP,{title:Et("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld543L2TCTableScrollData"},n().createElement(K.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Et("Table Scroll Data")))),!Ne&&Le?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Me.hideAddBtn(!1),Me.ExpandEntry(),Nt({current:1,pageSize:100},xe,"PPMCreationStandByID"),Ze(!1),Pe(""),be({type:"IsDraft",payload:!1}),ae({current:1,pageSize:10})}},n().createElement(P.ZP,{title:Et("List"),placement:"top"},n().createElement("div",{id:"fld543L2TCList"},n().createElement(T.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Et("Drafts")," ",J)):!U&&!Ne&&we.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:X,showZero:!0},n().createElement("div",{id:"fld543L2TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{X>0?(ae({current:1,pageSize:100}),H(0),Me.clear(),Pe(""),be({type:"Add",payload:!1}),Nt({current:1,pageSize:10},xe,"DraftPPMCreationStandByID"),Ze(!0),be({type:"IsDraft",payload:!0}),Se(!1),Ve(!0),document.getElementById("PPMStandByRegistryFilterDiv").style.width="0%",document.getElementById("PPMStandByRegistryTabDiv").style.width="100%",document.getElementById("PPMStandByRegistryFilterDiv").style.display="none",ae({current:1,pageSize:100}),Fe(!1)):Me.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},n().createElement(P.ZP,{title:Et("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(N.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!Le&&!U&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ne||Le?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld543L2TCListView",onClick:()=>{Ve(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(B.umT,null)),n().createElement("span",null,Et("List"))),n().createElement("div",{className:_e||ot?"buttonGrid":"buttonList",id:"fld543L2TCCardView",onClick:()=>{Ve(!1),st(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(h.aCJ,null)),n().createElement("span",null,Et("Card"))),n().createElement("div",{className:ot?"buttonList":"buttonGrid",id:"fld543L2TCTileView",onClick:()=>{st(!0),Ve(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(F.f_H,null)),n().createElement("span",null,Et("Tile"))))))),Ne?null:Ye?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(f.Z,{style:{color:"#777"},id:"fld543L2TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:Y,onPageChange:(e,t)=>{H(t),ht({current:t+1,pageSize:tt.pageSize}),at({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(p.Z,{count:Je,color:"primary",page:tt.current,onChange:(e,t)=>{at({current:t,pageSize:tt.pageSize}),Qe(t),ht({current:t,pageSize:tt.pageSize})}}),n().createElement("div",null,n().createElement(u.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld543L2TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),ht({current:1,pageSize:e.target.value})}},n().createElement(y.Z,{value:10},"10"),n().createElement(y.Z,{value:20},"20"),n().createElement(y.Z,{value:50},"50"),n().createElement(y.Z,{value:100},"100"))),qe&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",Xe,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(f.Z,{style:{color:"#777"},id:"fld543L2TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(J),page:Y,onPageChange:(e,t)=>{H(t),Nt({current:t+1,pageSize:te.pageSize},xe,Le?"DraftPPMCreationStandByID":"PPMCreationStandByID",Le&&"DraftPage"),ae({current:t+1,pageSize:te.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(p.Z,{count:j,siblingCount:0,color:"primary",page:te.current,onChange:(e,t)=>{if(ae({current:t,pageSize:te.pageSize}),Le)Nt({current:t,pageSize:te.pageSize},Ae,"DraftPPMCreationStandByID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ge.length>0?Ft(ge,{current:t,pageSize:te.pageSize}):Nt({current:t,pageSize:te.pageSize},Ae,"PPMCreationStandByID")}}}),n().createElement("div",null,n().createElement(u.Z,{className:"BootstrapInputStyle",value:te.pageSize,id:"fld543L2TCSelectPaging",onChange:e=>{ae({current:1,pageSize:e.target.value}),Le?Nt({current:1,pageSize:e.target.value},Ae,"DraftPPMCreationStandByID","DraftPage"):ge.length>0?Ft(ge,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},Ae,"PPMCreationStandByID")}},n().createElement(y.Z,{value:10},"10"),n().createElement(y.Z,{value:20},"20"),n().createElement(y.Z,{value:50},"50"),n().createElement(y.Z,{value:100},"100"))),qe&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",J,") "))),n().createElement("div",{id:"PPMStandByRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMStandByRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&n().createElement(m.default,{parentId:e.parentId,searchData:e=>{ye(e||Dt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:W,data:()=>{},visibleData:()=>{},token:we.token[0],CloseBtnClk:()=>Tt(),userGrid:gt,msg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),De&&n().createElement(g.Z,{Refresh:e=>{Nt({current:1,pageSize:100},xe,"PPMCreationStandByID")},frmctrlid:"fld543L2TCTableColumnOrder",loading:e=>Me.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),select:De,userID:q,userGridViewFormID:W,saved:(e,t)=>{e&&Mt(t),Pt(t),be({type:"showTableview",payload:t})},Token:we.token[0]})),n().createElement("div",{id:"PPMStandByRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?n().createElement(wt,null):n().createElement(v.Z,{frmctrlid:"fld543L2TCExpandedCardDual",data:de,id:"PPMStandByRegistry",title:"PPMCreationStandByCode",cardTile:!!ot,visibleitem:Ee,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{U?Me.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!1}),Me.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!0}),Me.Expanded(!0),Me.viewtoggle()),ce?pe(!0):De?Se(!0):(Se(!1),Se(!1))),Me.hideAddBtn(!0)}})))))))})),W=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),s=(0,l.useRef)(null),m=(0,l.useRef)(null),[y]=((0,i.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g,P]=k()("543"),[S,I]=(0,l.useState)(!1),[E,f]=(0,l.useState)(0),[v,h]=(0,l.useState)(0),[B,T]=(0,l.useState)({current:1,pageSize:100}),[N,F]=(0,l.useState)(""),[M,w]=(0,l.useState)([]),[b,x]=(0,l.useState)({val:"",column:""}),[R,Z]=(0,l.useState)([]),[K,q]=(0,l.useState)(!1),[W,_]=(0,l.useState)(""),[V,U]=(0,l.useState)([]),[G,Y]=(0,l.useState)([]),[H,j]=(0,l.useState)([]),$=(0,l.useContext)(L.PPMStandByRegistryContext),{cstate:J,cdispatch:Q}=(0,L.ContextApi)();let X={PPMCreationStandByIDPK:"",PPMCreationStandByCode:"",TimeFrom:"",TimeTo:"",OrderNo:"",StandbyKey:"",IsDraft:"",Remarks:"",PPMCreationAssetID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ne,ie]=(0,l.useState)(!1),[re,oe]=(0,l.useState)(!0),[se,de]=(0,l.useState)(0),[me,ce]=(0,l.useState)({PPMCreationStandByCode:"",TimeFrom:"",TimeTo:"",OrderNo:"",StandbyKey:"",WorkOrder:""}),[pe,ue]=(0,l.useState)([]),[ye,ge]=(0,l.useState)([]),[Pe,De]=(0,l.useState)([]),[Se,Ce]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)("");let fe=(0,z.Z)();const ve=[{columns:pe,data:N}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),Q({type:"language",payload:Object.assign({},...n)}),ce(a.reduce(((e,t)=>(e[t]="",e)),{})),U(e),Y(t),j(a),ue(l),ge(a)}(g)}),[g]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{he()},viewrecord:e=>{R.map(((t,a)=>{t.PPMCreationStandByIDPK==e&&Q({type:"editData",payload:[R[a]]})}))},DialogTableProps:e=>{I(e)},searchData:(t,a,l)=>{$.loading(!0),s.current&&s.current.clearItem(),Ee(l),T({current:1,pageSize:10}),X=e.ApiParamType.params,Be({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&I(e.Dialogview)}),[e.cardview,e.Dialogview]);const he=()=>{J.IsDraft?Be(B,X,"DraftPPMCreationStandByID"):Be(B,X,"PPMCreationStandByID")},Be=async(t,a,l,n)=>{if(J.token[0]){if($.loading(!0),"DraftPage"!==n&&te(J.IsDraft),await Ee((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],n=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=n[e];a=t}_(a);let i=D.v.Api+`${e.ApiType}/`,r={data:{p1:a&&a.PPMCreationStandByIDPK?a.PPMCreationStandByIDPK:null,p2:a&&a.PPMCreationStandByCode?a.PPMCreationStandByCode:null,p3:a&&a.TimeFrom?a.TimeFrom:null,p4:a&&a.TimeTo?a.TimeTo:null,p5:a&&a.OrderNo?a.OrderNo:null,p6:a&&a.StandbyKey?a.StandbyKey:null,p7:"DraftPPMCreationStandByID"==l?"1":"0",p8:null,p9:a&&a.PPMCreationAssetID?a.PPMCreationAssetID:null,p10:a&&a.IsActive,p11:null,p12:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p13:a&&a.CreatedTtm?a.CreatedTtm:null,p14:a&&a.CreatedTtmType?a.CreatedTtmType:null,p15:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p16:null,p17:a&&a.ContractID?a.ContractID:null,p18:a&&a.ContractCode?a.ContractCode:null,p19:a&&a.ContractName?a.ContractName:null,p20:a&&a.LocalityID?a.LocalityID:null,p21:a&&a.LocalityCode?a.LocalityCode:null,p22:a&&a.LocalityName?a.LocalityName:null,p23:a&&a.BuildingID?a.BuildingID:null,p24:a&&a.BuildingCode?a.BuildingCode:null,p25:a&&a.BuildingName?a.BuildingName:null,p26:a&&a.FloorID?a.FloorID:null,p27:a&&a.FloorCode?a.FloorCode:null,p28:a&&a.FloorName?a.FloorName:null,p29:a&&a.SpotID?a.SpotID:null,p30:a&&a.SpotCode?a.SpotCode:null,p31:a&&a.SpotName?a.SpotName:null,p32:a&&a.DivisionID?a.DivisionID:null,p33:a&&a.DivisionCode?a.DivisionCode:null,p34:a&&a.DivisionName?a.DivisionName:null,p35:a&&a.DisciplineID?a.DisciplineID:null,p36:a&&a.DisciplineCode?a.DisciplineCode:null,p37:a&&a.DisciplineName?a.DisciplineName:null,p38:a&&a.FrequencyID?a.FrequencyID:null,p39:a&&a.FrequencyCode?a.FrequencyCode:null,p40:a&&a.FrequencyName?a.FrequencyName:null,p41:a&&a.AssetID?a.AssetID:null,p42:a&&a.EquipmentName?a.EquipmentName:null,p43:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p44:a&&a.AssetBarcode?a.AssetBarcode:null,p45:a&&a.AssetTagNo?a.AssetTagNo:null,p46:a&&a.EmployeeID?a.EmployeeID:null,p47:a&&a.EmployeeCode?a.EmployeeCode:null,p48:a&&a.FirstName?a.FirstName:null,p49:a&&a.EmpContactNo1?a.EmpContactNo1:null,p50:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p51:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p52:a&&a.BriefDetails?a.BriefDetails:null,p53:a&&a.FlowCode?a.FlowCode:null,p54:a&&a.FlowDisplayName?a.FlowDisplayName:null,p55:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p56:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p57:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p58:a&&a.PPMStageID?a.PPMStageID:null,p59:a&&a.PPMStageName?a.PPMStageName:null,p60:a&&a.StageSeqNo?a.StageSeqNo:null,p61:a&&a.WorkOrder?a.WorkOrder:null,p62:a&&a.WoDateTime?a.WoDateTime:null,p63:a&&a.WoDateTimeType?a.WoDateTimeType:null,p64:a&&a.WoDateTimeBetween?a.WoDateTimeBetween:null,p65:t.current,p66:t.pageSize,p67:l,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};(0,d.Z)(i,r,J.token[0]).then((e=>{if($.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,h(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?f(Math.ceil(a)):20==t.pageSize?f(Math.ceil(a/2)):50==t.pageSize?f(Math.ceil(a/5)):100==t.pageSize&&f(Math.ceil(a/10)),Z(e.Output.data)}}else $.alert({open:!0,color:"warning",message:[(a="There is no Record Found",fe?.[a]?fe[a]:a)]}),Z([]),f(0),h(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ie(J.ExpandTableValue)}),[J.ExpandTableValue]),n().createElement("div",null,n().createElement(r.Z,{expanded:ae,onChange:()=>()=>{le(ne)}},n().createElement(C.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",v,")")))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"PPMStandByRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(c.Z,{formctrlidprint:"fld543L2TCExportPrint",formctrlidexport:"fld543L2TCExportTable",formctrlidrefresh:"fld543L2TCExportRefresh",title:"543",data:M,exportData:ve,Items:ye,columnIndex:pe,triggerApi:t=>{((t,l,n)=>{if(0===v)return $.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;$.loading(!0);let i=D.v.Api+`${e.ApiType}/`,r={data:{p1:t||(t&&t.PPMCreationStandByIDPK?t.PPMCreationStandByIDPK:null),p2:t&&t.PPMCreationStandByCode?t.PPMCreationStandByCode:null,p3:t&&t.TimeFrom?t.TimeFrom:null,p4:t&&t.TimeTo?t.TimeTo:null,p5:t&&t.OrderNo?t.OrderNo:null,p6:t&&t.StandbyKey?t.StandbyKey:null,p7:ee?"1":"0",p8:null,p9:t&&t.PPMCreationAssetID?t.PPMCreationAssetID:null,p10:t&&t.IsActive,p11:null,p12:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p13:t&&t.CreatedTtm?t.CreatedTtm:null,p14:t&&t.CreatedTtmType?t.CreatedTtmType:null,p15:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p16:null,p17:t&&t.ContractID?t.ContractID:null,p18:t&&t.ContractCode?t.ContractCode:null,p19:t&&t.ContractName?t.ContractName:null,p20:t&&t.LocalityID?t.LocalityID:null,p21:t&&t.LocalityCode?t.LocalityCode:null,p22:t&&t.LocalityName?t.LocalityName:null,p23:t&&t.BuildingID?t.BuildingID:null,p24:t&&t.BuildingCode?t.BuildingCode:null,p25:t&&t.BuildingName?t.BuildingName:null,p26:t&&t.FloorID?t.FloorID:null,p27:t&&t.FloorCode?t.FloorCode:null,p28:t&&t.FloorName?t.FloorName:null,p29:t&&t.SpotID?t.SpotID:null,p30:t&&t.SpotCode?t.SpotCode:null,p31:t&&t.SpotName?t.SpotName:null,p32:t&&t.DivisionID?t.DivisionID:null,p33:t&&t.DivisionCode?t.DivisionCode:null,p34:t&&t.DivisionName?t.DivisionName:null,p35:t&&t.DisciplineID?t.DisciplineID:null,p36:t&&t.DisciplineCode?t.DisciplineCode:null,p37:t&&t.DisciplineName?t.DisciplineName:null,p38:t&&t.FrequencyID?t.FrequencyID:null,p39:t&&t.FrequencyCode?t.FrequencyCode:null,p40:t&&t.FrequencyName?t.FrequencyName:null,p41:t&&t.AssetID?t.AssetID:null,p42:t&&t.EquipmentName?t.EquipmentName:null,p43:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p44:t&&t.AssetBarcode?t.AssetBarcode:null,p45:t&&t.AssetTagNo?t.AssetTagNo:null,p46:t&&t.EmployeeID?t.EmployeeID:null,p47:t&&t.EmployeeCode?t.EmployeeCode:null,p48:t&&t.FirstName?t.FirstName:null,p49:t&&t.EmpContactNo1?t.EmpContactNo1:null,p50:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p51:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p52:t&&t.BriefDetails?t.BriefDetails:null,p53:t&&t.FlowCode?t.FlowCode:null,p54:t&&t.FlowDisplayName?t.FlowDisplayName:null,p55:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p56:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p57:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p58:t&&t.PPMStageID?t.PPMStageID:null,p59:t&&t.PPMStageName?t.PPMStageName:null,p60:t&&t.StageSeqNo?t.StageSeqNo:null,p61:t&&t.WorkOrder?t.WorkOrder:null,p62:t&&t.WoDateTime?t.WoDateTime:null,p63:t&&t.WoDateTimeType?t.WoDateTimeType:null,p64:t&&t.WoDateTimeBetween?t.WoDateTimeBetween:null,p65:1,p66:v,p67:Ie,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};var o;$.loading(!1),$.alert({open:!0,color:"success",message:[`${o="543",J.language?.[o]?J.language[o]:o} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,d.Z)(i,r,J.token[0],n).then((e=>{(0,A.PDF_Excel_Generate)(e,$,ye,F,a,n)}))})(W,b.column,t)},TableVisibleItem:G,userGridViewFormID:"543",TableTotalCount:v,Refresh:()=>{Be({current:1,pageSize:100},W,Ie),T({current:1,pageSize:100}),m.current&&m.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:a})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(p.Z,{count:E,siblingCount:0,color:"primary",page:B.current,onChange:(e,t)=>{if(T({current:t,pageSize:B.pageSize}),ee)Be({current:t,pageSize:B.pageSize},W,"DraftPPMCreationStandByID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Be({current:t,pageSize:B.pageSize},W,"PPMCreationStandByID")}}}),n().createElement("div",null,n().createElement(u.Z,{value:B.pageSize,onChange:e=>{T({current:1,pageSize:e.target.value}),Be({current:1,pageSize:e.target.value},W,"PPMCreationStandByID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),n().createElement("div",{id:"PPMStandByRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"PPMStandByRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"PPMStandByRegistry",headerdata:G,tablesearchparams:me,searchvalue:e=>{ce(e),T({current:1,pageSize:100}),Be({current:1,pageSize:100},e,ee?"DraftPPMCreationStandByID":"PPMCreationStandByID",ee&&"DraftPage")},bodydata:R,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:H,visibleitem:G,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{S?$.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?$.edit(t,a,l):$.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{Z(e)},color:!0,isexpanded:!1}):n().createElement(O.Z,{frmctrlid:"tblcs_543_L2_",ref:s,id:"PPMStandByRegistryTable",type:e.viewtype,headerdata:G,tablesearchparams:me,searchvalue:e=>{let t={...W,...e};ce(e),_(t),T({current:1,pageSize:100}),Be(B,t,Ie)},bodydata:R,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:H,visibleitem:G,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{S?$.select(t):(e.editdata(t,"view"),$.edit(t,a,1!=t.Entry))},viewtoggle:$.viewtoggle,IsSub:e.IsSub})))))))}))},22641:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R}),a(95866),a(99058);var l=a(92950),n=a.n(l),i=a(80366),r=a(51673),o=a(282),s=a(868),d=a(78513),m=a(14439),c=a(27848),p=a(40900),u=a(64059),y=a(24038),g=a(8981),P=a(47516),D=a(86893),S=a(19339),C=a(33681),I=a(63163),E=(a(35131),a(61956),a(93657)),f=a(53375),v=a(52663),h=a(66083),B=a(29525),T=a(66856),N=a(39803),F=a(99940),M=a(17149),w=a(62810),b=a(30553),x=a(92381),A=a(25108);const R=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[R,k]=(0,l.useState)([]),[O,L]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[Z,K]=(0,l.useState)(""),[z,q]=(0,l.useState)({}),[W,_]=(0,l.useState)(!0),[V,U]=(0,l.useState)(!1),{cstate:G,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,S.ContextApi)(),[H,j]=(0,l.useState)(1),[$,J]=(0,l.useState)(0),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[ne,ie]=(0,l.useState)(!0),[re,oe]=(0,l.useState)(!1),[se,de]=(0,l.useState)(""),[me,ce]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[ye,ge]=(0,l.useState)(!1),[Pe,De]=(0,l.useState)(""),Se=(0,l.useRef)(null),[Ce,Ie]=(0,l.useState)({});let Ee=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,g.Z)();const he=e=>ve[e]?ve[e]:e,Be=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Ee]];function Te(){q({}),te({}),e.searchData({}),U(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Se.current&&Se.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Te()}})));const Ne=async(t,a,l,n)=>{X(!0);try{Se.current&&Se.current.abort();const i=new AbortController;Se.current=i;let o="",s=[],d={};await L((e=>(o=e.name,e))),await q((e=>(s=e,e))),await te((e=>(d=e,e)));const m=p.v.Api+"FP543S3/",c={data:{p1:"PPMCreationStandByIDPK"==a?null:await xe(),p2:"PPMCreationStandByCode"==o&&l.length>0?"%"+l+"%":null,p3:"TimeFrom"==o&&l.length>0?"%"+l+"%":null,p4:"TimeTo"==o&&l.length>0?"%"+l+"%":null,p5:"OrderNo"==o&&l.length>0?"%"+l+"%":null,p6:"StandbyKey"==o&&l.length>0?"%"+l+"%":null,p7:null,p8:null,p9:"WorkOrder"!=o&&s.WorkOrder?s.WorkOrder.map((e=>e.PPMCreationAssetIDPK)).toString():null,p10:e.Dialogview?"1":null,p11:null,p12:"p12"==o&&l.length>0?l:null,p13:null,p14:null,p15:null,p16:null,p17:"ContractName"!=o&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p18:"ContractCode"==o&&l.length>0?"%"+l+"%":null,p19:"ContractName"==o&&l.length>0?"%"+l+"%":null,p20:"LocalityName"!=o&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p21:"LocalityCode"==o&&l.length>0?"%"+l+"%":null,p22:"LocalityName"==o&&l.length>0?"%"+l+"%":null,p23:"BuildingName"!=o&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p24:"BuildingCode"==o&&l.length>0?"%"+l+"%":null,p25:"BuildingName"==o&&l.length>0?"%"+l+"%":null,p26:"FloorName"!=o&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p27:"FloorCode"==o&&l.length>0?"%"+l+"%":null,p28:"FloorName"==o&&l.length>0?"%"+l+"%":null,p29:"SpotName"!=o&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p30:"SpotCode"==o&&l.length>0?"%"+l+"%":null,p31:"SpotName"==o&&l.length>0?"%"+l+"%":null,p32:"DivisionName"!=o&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p33:"DivisionCode"==o&&l.length>0?"%"+l+"%":null,p34:"DivisionName"==o&&l.length>0?"%"+l+"%":null,p35:"DisciplineName"!=o&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p36:"DisciplineCode"==o&&l.length>0?"%"+l+"%":null,p37:"DisciplineName"==o&&l.length>0?"%"+l+"%":null,p38:"FrequencyName"!=o&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p39:"FrequencyCode"==o&&l.length>0?"%"+l+"%":null,p40:"FrequencyName"==o&&l.length>0?"%"+l+"%":null,p41:"EquipmentName"!=o&&s.EquipmentName?s.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p42:"EquipmentName"==o&&l.length>0?"%"+l+"%":null,p43:"EquipmentRefNo"==o&&l.length>0?"%"+l+"%":null,p44:"AssetBarcode"==o&&l.length>0?"%"+l+"%":null,p45:"AssetTagNo"==o&&l.length>0?"%"+l+"%":null,p46:"FirstName"!=o&&s.FirstName?s.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p47:"EmployeeCode"==o&&l.length>0?"%"+l+"%":null,p48:"FirstName"==o&&l.length>0?"%"+l+"%":null,p49:"EmpContactNo1"==o&&l.length>0?"%"+l+"%":null,p50:"EmpEmailOfficial"==o&&l.length>0?"%"+l+"%":null,p51:"FlowDisplayName"!=o&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p52:"BriefDetails"==o&&l.length>0?"%"+l+"%":null,p53:"FlowCode"==o&&l.length>0?"%"+l+"%":null,p54:"FlowDisplayName"==o&&l.length>0?"%"+l+"%":null,p55:"FixonBusinessFlowName"!=o&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p56:"FixonBusinessFlowName"==o&&l.length>0?"%"+l+"%":null,p57:"PPMFixonBusinessFlowCode"==o&&l.length>0?"%"+l+"%":null,p58:"PPMStageName"!=o&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p59:"PPMStageName"==o&&l.length>0?"%"+l+"%":null,p60:"StageSeqNo"==o&&l.length>0?"%"+l+"%":null,p61:"WorkOrder"==o&&l.length>0?"%"+l+"%":null,p62:d.WoDateTime?d.WoDateTime.From:null,p63:d.WoDateTime?d.WoDateTime.Type:null,p64:d.WoDateTime?d.WoDateTime.To:null,p65:n||1,p66:10,p67:t,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},u=await(0,r.Z)(m,c,e.token,"",i.signal);if(!u)return!1;const y=u.Output.status.code,g=u.Output.data;if("200"===y)if(g.length>0)if(1===n){let e=Me(g,o),t=Fe(e,z[o],a);k(t),J(t.length>0?t[0].TotalCount:z[o].length)}else{let e=[...R,...g],t=Me(e,o);J(t.length<10?t.length:g[0].TotalCount),k(Me(t,o))}else Z.length>0&&k([]),J(R.length);else e.alertmsg("error",[u.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Fe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Me=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=Ce[e];if(a){const e=a.flatMap((e=>z[e]?z[e].map((e=>e[t])):[]));return e.toString()}return""}const be=async t=>{let a="",l={};await q((e=>(a=e,e)));let n=[...ae],i=[];for(let e of n){let t=a[e]?.map((e=>e.PPMCreationStandByIDPK)).toString();t&&i.push(t)}await te((e=>(l=e,e)));let r={PPMCreationStandByIDPK:i?[...new Set(i)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",TimeFrom:l.TimeFrom?l.TimeFrom.From:"",TimeFromType:l.TimeFrom?l.TimeFrom.Type:"",TimeFromBetween:l.TimeFrom?l.TimeFrom.To:"",TimeTo:l.TimeTo?l.TimeTo.From:"",TimeToType:l.TimeTo?l.TimeTo.Type:"",TimeToBetween:l.TimeTo?l.TimeTo.To:"",PPMCreationAssetID:we("PPMCreationAssetID")};"saveFav"==t?ke("save",r):(e.searchData(r),U(!1))};async function xe(){let e={};await q((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMCreationStandByIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ae(t,a,l,n,i,r){let o={[n]:{From:t,Type:l,To:a}},s={};te((e=>({...e,...o})));const d={...z};let m=[...ae],c=[];for(let e of m){let t=d[e]?.map((e=>e.PPMCreationStandByIDPK)).toString();t&&c.push(t)}await te((e=>(s=e,e)));let p={PPMCreationStandByIDPK:c?[...new Set(c)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?i:null,TimeFrom:s.TimeFrom?s.TimeFrom.From:"",TimeFromType:s.TimeFrom?s.TimeFrom.Type:"",TimeFromBetween:s.TimeFrom?s.TimeFrom.To:"",TimeTo:s.TimeTo?s.TimeTo.From:"",TimeToType:s.TimeTo?s.TimeTo.Type:"",TimeToBetween:s.TimeTo?s.TimeTo.To:"",PPMCreationAssetID:z.WorkOrder?.map((e=>e.PPMCreationAssetIDPK)).toString()};e.searchData(p)}function Re(){return n().createElement(u.Z,{frmctrlid:"fld543L2TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Ae(e,t,a,O.name,l)},keyboardback:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:""})},title:he(O.name),fieldname:O.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,x.Z)(t,e.formID,a,se).then((e=>{const t=e.Output.data;De(t)}))};return n().createElement("div",null,n().createElement(v.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:me},n().createElement(h.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),n().createElement(B.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(N.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>de(e.target.value),fullWidth:!0})),n().createElement(b.Z,{style:{color:"#337ab7"},control:n().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(M.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Quick"}),n().createElement(b.Z,{style:{color:"#337ab7"},control:n().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(M.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ye,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),n().createElement(T.Z,null,n().createElement(o.Z,{onClick:()=>{be("saveFav"),ce(!1)},color:"primary"},"Save"))),V?"Created Ttm"===O.name||O.name.includes("Date")?n().createElement(Re,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(m.Z,null,n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Be(O.idpk)," (",R.length,"/",$,")")),n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(s.ZP,{title:he("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(i.Z,{id:"fld543L2TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:!1}),j(1)}}))),z[O.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(o.Z,{frmctrlid:"fld543L2TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await q((t=>(e=t,A.log("clear fewItems",e),t))),e[O.name]=[],Ne(O.type,O.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},W?n().createElement(s.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):n().createElement(s.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),n().createElement("ul",null,z[O.name]&&z[O.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:W?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[O.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[O.name],onClick:()=>(async(e,t)=>{j(1);let a=z[O.name].filter((t=>t!=e)),l={};await q((e=>(l=e,e))),l[O.name]=a,q(l),k((t=>[e,...t]))})(e)},n().createElement(i.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(y.Z,{frmctrlid:"fld543L2TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:Z,placeholder:he("Enter ")+" "+Be(O.idpk),onChange:e=>{K(e),Ne(O.type,O.fieldidpk,e,1,xe())}})),n().createElement("div",{id:"fld543L2TFCFilterGoForward",className:"FilterSearchBtn",onClick:be},n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(C.Z,{color:"secondary"})),n().createElement("div",{id:"fld543L2TFCScrollYDefault",className:"height65 scrollYDefault"},R.length>0&&R.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[O.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await q((e=>(l=e,e)));let n=l[O.name];t[O.name]=n?[...a,...n]:a,l={...l,...t},q(l),k((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(d.Z,{className:"DotIcon"}),n().createElement("span",null,e[O.name])))),R.length+0<$&&R.length>0&&n().createElement("div",{id:"fld543L2TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{j(H+1),Ne(O.type,O.fieldidpk,"",H+1)}},n().createElement("p",null," more... ")),0===R.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:p.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(P.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",se.length>0&&`(${se})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(s.ZP,{title:"Favorite List",placement:"top"},re?n().createElement(i.Z,{className:"favlisticon",onClick:()=>{oe(!1),De(""),Te()}}):n().createElement(E.Z,{className:"favlisticon",onClick:()=>{oe(!0),ke("select"),Te()}})),Object.keys(z).length>0&&n().createElement(s.ZP,{title:"Save Favorites",placement:"top"},n().createElement(f.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{Te()},id:"fld543L2TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld543L2TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld543L2TFCFilItems",className:"FilterItems"},!Pe&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{U(!0),K(""),k([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"PPMCreationStandByIDPK";L({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMCreationStandByID",fieldidpk:t}),Ne(e.IsForeign?"Filter"+e.FieldName:"FilterPPMCreationStandByID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Be(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Be(e.AdminUserGridViewIDPK)),n().createElement(I.Z,{checked:"1"==ne,onChange:t=>{ie(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Be(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,z[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},z[a][0][a]),z[a].length>1&&n().createElement("span",{className:"RoundedDivName"},z[a][1][a]),z[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(z[a].length-2))))));var a})),Pe&&Pe.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ne("FilterPPMCreationStandByID",a),be("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}))},51597:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var l=a(92950),n=a.n(l),i=a(45237),r=a(37148),o=a(3212),s=a(29800),d=(a(14439),a(27848),a(10966),a(36939)),m=a(61201),c=a(50743),p=a(19339),u=(a(21392),a(51673)),y=a(40900),g=a(26537),P=(a(24038),a(75787)),D=(a(77366),a(97829),a(8981)),S=(a(63163),a(1695),a(79117),a(65197));const C=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[C,I]=((0,i.useSelector)((e=>e.form)),(0,l.useState)([])),[E,f]=(0,l.useState)(!0),[v,h]=(0,l.useState)(e.showDetail),[B,T]=(0,l.useState)(""),[N,F]=n().useState(!1),[M,w]=n().useState(""),[b,x]=n().useState(!1),A=(0,l.useContext)(p.PPMStandByRegistryContext),{cstate:R,cdispatch:k}=(0,p.ContextApi)(),[O,L]=(0,l.useState)(!1),[Z,K]=(0,l.useState)(""),[z,q]=(0,l.useState)(""),[W,_]=(0,l.useState)("");let V=(0,D.Z)();(0,l.useEffect)((()=>{R.editData.length>0&&(I(R.editData),F(!1),k({type:"PrimaryId",payload:R.editData[0].PPMCreationStandByIDPK}))}),[R.editData]),(0,l.useEffect)((()=>{R.showTableview&&_(R.showTableview)}),[R.showTableview]),(0,l.useEffect)((()=>{f(R.ExpandDetailValue)}),[R.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{f(e),F(null)},viewtoggle:()=>{F(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=y.v.Api+"FP543S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:1,p66:10,p67:R.IsDraft?"DraftPPMCreationStandByID":"PPMCreationStandByID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};(0,g.Z)(0).then((e=>{(0,u.Z)(l,n,e).then((e=>{A.loading(!1),"200"==e.Output.status.code&&I(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===N&&a.current.clear()}})));const U=e=>V?.[e]?V?.[e]:e,G=e=>R.language?.[e]?R.language[e]:e;function Y(e,t){}const H=(e,t)=>(a,l)=>{w(b?Object.assign(...C.filter((e=>e.PPMCreationStandByIDPK==t)).map((e=>e))):R.editData),F(!l&&e)};return n().createElement("div",null,n().createElement(d.Z,{expanded:E,onChange:()=>()=>{e.expandTable&&f(!E)}},!N&&n().createElement(c.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},E?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},R.IsDraft?U("Draft"):"",G("PPMStandByRegistry"),e.viewonly?" ":"("+R.count+")")):"",E?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&R.AccessRights.IsAdd?n().createElement(o.Z,{name:U("Add"),frmctrlid:"fld543L2VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{A.hideAddBtn(!0),k({type:"editData",payload:[]}),k({type:"ShowDetail",payload:!1}),k({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&R.AccessRights.IsEdit?n().createElement(s.Z,{frmctrlid:"fld543L2VCEditBtn",onClick:H("panel0",""),disabled:!1}):R.IsDraft&&R.AccessRights.IsAdd&&n().createElement(s.Z,{frmctrlid:"fld543L2VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&n().createElement(r.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld543L2VCCloseBtn",onClick:()=>{f(!1),A.hideAddBtn(!1),b&&(k({type:"editData",payload:[]}),I([]))}})):"")),n().createElement(m.Z,{style:{display:"block"}},C.map(((e,t)=>n().createElement("div",{key:t},N==="panel"+t?n().createElement(P.default,{ref:a}):n().createElement(n().Fragment,null,n().createElement(S.Z,{tableName:"PPMStandByRegistry",tableID:543,parentID:e.PPMCreationStandByIDPK,fldid:"fld543L2VCContainer",OpenSlideComponent:Y,index:t,refresh:W,val:e,tf:G,t:U,title:"10.0.0.59-3:08:17 PM-18-7[543]"}))))))))}))}}]);