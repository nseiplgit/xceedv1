"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[88079],{88079:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var i=a(92950),n=a.n(i),l=a(71168),s=a.n(l),o=a(49375),c=a(14439),r=a(27848),u=a(40900),d=a(24522),m=a(25108);const b=[{name:"Country",id:0,active:"btnactvtab",width:"25%",IsConflict:"0",count:0},{name:"State/Region",id:1,active:"",width:"25%",IsConflict:"0",count:0},{name:"City",id:2,active:"",width:"25%",IsConflict:"0",count:0},{name:"Location Group",id:3,active:"",width:"25%",IsConflict:"0",count:0},{name:"Location",id:4,active:"",width:"25%",IsConflict:"0",count:0},{name:"Zone",id:5,active:"",width:"25%",IsConflict:"0",count:0},{name:"Building",id:6,active:"",width:"25%",IsConflict:"0",count:0},{name:"Floor",id:7,active:"",width:"25%",IsConflict:"0",count:0},{name:"Wing",id:8,active:"",width:"25%",IsConflict:"0",count:0},{name:"Spot",id:9,active:"",width:"25%",IsConflict:"0",count:0},{name:"Spot Type",id:10,active:"",width:"25%",IsConflict:"0",count:0}],g=function(e){const[t,a]=n().useState(0),[l,g]=n().useState(0),{classes:S}=e,f=(0,i.useRef)(null),[y,p]=(0,i.useState)(""),[I,h]=(0,i.useState)(""),[v,C]=(0,i.useState)([]),[E,T]=(0,i.useState)([]),[B,w]=(0,i.useState)([]),[F,Z]=(0,i.useState)([]),[D,M]=(0,i.useState)([]),[L,V]=(0,i.useState)([]),[N,O]=(0,i.useState)([]),[R,x]=(0,i.useState)([]),[k,_]=(0,i.useState)([]),[G,W]=(0,i.useState)([]),[j,A]=(0,i.useState)([]),[U,K]=(0,i.useState)([]),[P,q]=(0,i.useState)([]),[z,H]=(0,i.useState)([]),[J,Q]=(0,i.useState)([]),[X,Y]=(0,i.useState)([]),[$,ee]=(0,i.useState)([]),[te,ae]=(0,i.useState)([]),[ie,ne]=(0,i.useState)([]),[le,se]=(0,i.useState)([]),[oe,ce]=(0,i.useState)([]),[re,ue]=(0,i.useState)([]),[de,me]=(0,i.useState)(0),[be,ge]=(0,i.useState)([]),[Se,fe]=(0,i.useState)([]),[ye,pe]=(0,i.useState)([]),[Ie,he]=(0,i.useState)([]),[ve,Ce]=(0,i.useState)([]),[Ee,Te]=(0,i.useState)([]),[Be,we]=(0,i.useState)([]),[Fe,Ze]=(0,i.useState)([]),[De,Me]=(0,i.useState)([]),[Le,Ve]=(0,i.useState)([]),[Ne,Oe]=(0,i.useState)([]),[Re,xe]=(0,i.useState)({Country:0,Region:0,City:0,LocationGrp:0,Location:0,Building:0,Floor:0,Spot:0,Zone:0,Wing:0}),[ke,_e]=(0,i.useState)(b);var Ge=[...b];const[We,je]=s()("770"),Ae=n().useRef((()=>{}));function Ue(t){if("200"!=t.Output.status.code)return e.loading(!1),e.alertmsg({open:!0,color:"error",message:[t.Output.status.message]}),!1;{f.current.conflictStage(),e.loading(!0);const a={Country:{setter:ge},Region:{setter:fe},City:{setter:pe},Zone:{setter:Ve},LocationGroup:{setter:Ce},Location:{setter:he},Building:{setter:we},Wing:{setter:Oe},Floor:{setter:Te},Spot:{setter:Ze},SpotType:{setter:Me}};Object.keys(t.Output.data).forEach((e=>{const i=t.Output.data[e],n=i.filter((e=>"1"===e.IsConflict));n.length>0&&Ke(0,n.length),e in a&&a[e].setter(i)})),e.loading(!1)}}n().useEffect((()=>{Ae.current=()=>{if(t>100)a(0),g(10);else{const e=10*Math.random(),i=10*Math.random();a(t+e),g(t+e+i)}}})),n().useEffect((()=>{const e=setInterval((()=>{Ae.current()}),2e3);return()=>{clearInterval(e)}}),[]);const Ke=(e,t)=>{const a=b.filter((t=>t.id==e)),i={name:a[0].name,id:a[0].id,active:a[0].active,width:a[0].width,IsConflict:"1",count:t},n=[...Ge],l=n.findIndex((t=>t.id==e)),s=n[l];n.splice(l,1,{...s,...i}),Ge=n,_e(n)};return n().createElement("div",null,n().createElement("div",{id:"FacilityMig-MainDiv",className:"MainDivStyles displayFlex"},n().createElement("div",{id:"FacilityMig-MainEntry",className:"Maincontent",style:{width:"100%"}},n().createElement(c.Z,null,n().createElement(r.Z,{sm:12},n().createElement(o.Z,{MigType:"FacilityMigration",alertmsg:t=>e.alertmsg(t),conflictFinalData:{Country:be,Region:Se,City:ye,Zone:Le,LocationGroup:ve,Location:Ie,Building:Be,Wing:Ne,Floor:Ee,Spot:Fe,SpotType:De},data:e=>Ue(e),reset:()=>(ge([]),fe([]),pe([]),Ce([]),he([]),we([]),Te([]),Ve([]),Ze([]),Me([]),Oe([]),_e(b),p(""),h(""),void xe({Country:0,Region:0,City:0,LocationGrp:0,Location:0,Building:0,Floor:0,Spot:0,Zone:0,Wing:0})),filename:e=>p(e),fileData:e=>h(e),importSave:t=>function(t){if(!I)return e.alertmsg({open:!0,color:"error",message:["Kindly Upload file to Import"]}),!1;e.loading(!0);let a=new FileReader;a.readAsDataURL(I[0]),a.onload=()=>{let a=u.v.Api+"uploadExcel/",i=new FormData;i.append("uploadExcel",I[0]),fetch(a,{method:"POST",headers:{"x-userid":localStorage.getItem("userid"),"mig-type":"FacilityMigration","mig-btn-type":t,FORM_ID:1},body:i}).then((e=>e.json())).then((a=>{"200"==a.Output.status.code?(Ue(a),e.loading(!1),e.alertmsg({open:!0,color:"Success",message:[a.Output.status.message]}),"process"!=t&&(p(""),h(""))):(e.loading(!1),e.alertmsg({open:!0,color:"error",message:[a.Output.status.message]}))})).catch((t=>{e.loading(!1),m.error(t)}))}}(t),NameFile:y,excelfile:u.v.excel+"FacilityMigration.xlsx",SheetCount:11,ref:f,importdisabled:ke.filter((e=>"1"==e.IsConflict)).length>0}))),n().createElement("div",{className:"FacilityMig-formtabs formtabs"},ke.map(((e,t)=>n().createElement("button",{key:t,disabled:!1,style:{width:e.width,background:"1"==e.IsConflict?"#fad6a5":"#fff"},className:e.active+" secondaryMenuBtn ",onClick:()=>function(e){var t=ke.length;for(let e=0;e<t;e++)document.getElementsByClassName("FacilityMig-formtabs")[0].getElementsByTagName("button")[e].classList.remove("btnactvtab");document.getElementsByClassName("FacilityMig-formtabs")[0].getElementsByTagName("button")[e].classList.add("btnactvtab"),me(e)}(e.id)},e.name,n().createElement("span",null," "),n().createElement("span",null,Number(e.count)>0?"("+e.count+")":""))))),0==de&&n().createElement(d.Z,{tableData:be,TableVisibleItem:v,TableBodyItem:v}),1==de&&n().createElement(d.Z,{tableData:Se,TableVisibleItem:B,TableBodyItem:F}),2==de&&n().createElement(d.Z,{tableData:ye,TableVisibleItem:D,TableBodyItem:L}),3==de&&n().createElement(d.Z,{tableData:ve,TableVisibleItem:N,TableBodyItem:R}),4==de&&n().createElement(d.Z,{tableData:Ie,TableVisibleItem:k,TableBodyItem:G}),5==de&&n().createElement(d.Z,{tableData:Le,TableVisibleItem:P,TableBodyItem:z}),6==de&&n().createElement(d.Z,{tableData:Be,TableVisibleItem:j,TableBodyItem:U}),7==de&&n().createElement(d.Z,{tableData:Ee,TableVisibleItem:J,TableBodyItem:X}),8==de&&n().createElement(d.Z,{tableData:Ne,TableVisibleItem:ie,TableBodyItem:le}),9==de&&n().createElement(d.Z,{tableData:Fe,TableVisibleItem:$,TableBodyItem:te}),10==de&&n().createElement(d.Z,{tableData:De,TableVisibleItem:oe,TableBodyItem:re}))))}}}]);