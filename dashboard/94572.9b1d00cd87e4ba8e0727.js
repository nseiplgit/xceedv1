"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[94572],{51767:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"AppsRounded");t.Z=o},70329:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"}),"Attachment");t.Z=o},60625:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");t.Z=o},28428:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},70195:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"}),"EventAvailable");t.Z=o},89260:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M17 10H7v2h10v-2zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-5-5H7v2h7v-2z"}),"EventNote");t.Z=o},60314:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M21 1H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-1 16H8c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM2 5c-.55 0-1 .45-1 1v15c0 1.1.9 2 2 2h15c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1-.45-1-1V6c0-.55-.45-1-1-1zm15 8v-1.5c0-.83-.67-1.5-1.5-1.5.83 0 1.5-.67 1.5-1.5V7c0-1.1-.9-2-2-2h-3c-.55 0-1 .45-1 1s.45 1 1 1h3v2h-1c-.55 0-1 .45-1 1s.45 1 1 1h1v2h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2z"}),"Filter3Rounded");t.Z=o},22261:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M2 5c-.55 0-1 .45-1 1v15c0 1.1.9 2 2 2h15c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1-.45-1-1V6c0-.55-.45-1-1-1zm19-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm-1 16H8c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm-6.75-2.49l3.58-7.17c.11-.22.17-.47.17-.72 0-.9-.72-1.62-1.62-1.62H12c-.55 0-1 .45-1 1s.45 1 1 1h3l-3.36 6.71c-.3.59.13 1.29.8 1.29h.01c.34 0 .65-.19.8-.49z"}),"Filter7Rounded");t.Z=o},64379:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace");t.Z=o},60796:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"}),"SwapHoriz");t.Z=o},90482:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}),"SwapVert");t.Z=o},89883:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),o=(0,l(a(2108)).default)(r.createElement("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"}),"Today");t.Z=o},2036:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>ie,MaterialStockDetailRegistryContext:()=>oe,UserGridViewData:()=>ce,default:()=>me});var l=a(92950),n=a.n(l),r=(a(95866),a(45237)),o=a(36939),i=a(61201),c=a(51673),m=(a(99058),a(80366)),u=a(282),s=a(868),d=a(78513),p=a(14439),y=a(27848),C=a(40900),D=a(64059),S=a(24038),g=a(8981),M=a(47516),I=a(86893),N=a(25108);const k=["MaterialStockDetailsCode","StockYearEndKey","StockOpeningQty","StockClosingQty","StockCurrentQty","StockAvailableQty","StockCommittedQty","StockCostValue","StockCostPrice","StockQuantity","StockPieces"];function h(e){const[t]=(0,l.useState)(localStorage.getItem("userid")),[a,r]=(0,l.useState)([]),[o,i]=(0,l.useState)({name:"",type:""}),[h,v]=(0,l.useState)(""),[f,E]=(0,l.useState)({}),[b,T]=(0,l.useState)(!0),[P,x]=(0,l.useState)(!1),{cstate:B,cdispatch:L}=e.ContextApi?e.ContextApi:ie(),[w,R]=(0,l.useState)(1),[Z,A]=(0,l.useState)(0),[H,G]=(0,l.useState)(!1),[O,F]=(0,l.useState)({});let z=(0,g.Z)();const Q=e=>z[e]?z[e]:e,W=e=>B.language?.[e]?B.language[e]:e,V=async(t,l,n,o=1,m,u)=>{G(!0);try{let u="",s=[];await i((e=>(u=e.name,e))),await E((e=>(s=e,e)));const d=C.v.Api+"FP366S3/",p={data:{p1:m?await _():null,p2:"MaterialStockDetailsCode"==l&&n.length>0?"%"+n+"%":null,p3:"StockYearEndKey"==l&&n.length>0?"%"+n+"%":null,p4:"StockOpeningQty"==l&&n.length>0?"%"+n+"%":null,p5:"StockClosingQty"==l&&n.length>0?"%"+n+"%":null,p6:"StockCurrentQty"==l&&n.length>0?"%"+n+"%":null,p7:"StockAvailableQty"==l&&n.length>0?"%"+n+"%":null,p8:"StockCommittedQty"==l&&n.length>0?"%"+n+"%":null,p9:"StockCostValue"==l&&n.length>0?"%"+n+"%":null,p10:"StockCostPrice"==l&&n.length>0?"%"+n+"%":null,p11:"StockQuantity"==l&&n.length>0?"%"+n+"%":null,p12:"StockPieces"==l&&n.length>0?"%"+n+"%":null,p13:null,p14:null,p15:"ContractName"!=l&&s.ContractName?s.ContractName.map((e=>e.ContractID)).toString():null,p16:"LocalityName"!=l&&s.LocalityName?s.LocalityName.map((e=>e.LocalityID)).toString():null,p17:"CustomerName"!=l&&s.CustomerName?s.CustomerName.map((e=>e.CustomerID)).toString():null,p18:"LocalityGroupName"!=l&&s.LocalityGroupName?s.LocalityGroupName.map((e=>e.LocalityGroupID)).toString():null,p19:"WareHouseName"!=l&&s.WareHouseName?s.WareHouseName.map((e=>e.MatWareHouseID)).toString():null,p20:"ProStoreName"!=l&&s.ProStoreName?s.ProStoreName.map((e=>e.ProStoreID)).toString():null,p21:"MaterialName"!=l&&s.MaterialName?s.MaterialName.map((e=>e.MaterialID)).toString():null,p22:"MatBatchCode"!=l&&s.MatBatchCode?s.MatBatchCode.map((e=>e.MatBatchID)).toString():null,p23:"MatBinName"!=l&&s.MatBinName?s.MatBinName.map((e=>e.MatBinID)).toString():null,p24:e.Dialogview?"1":null,p25:null,p26:"p26"==l&&n.length>0?n:null,p27:null,p28:null,p29:null,p30:null,p31:"ContractGroupName"!=l&&s.ContractGroupName?s.ContractGroupName.map((e=>e.ContractGroupID)).toString():null,p32:"ContractGroupCode"==l&&n.length>0?"%"+n+"%":null,p33:"ContractGroupName"==l&&n.length>0?"%"+n+"%":null,p34:"TaxName"!=l&&s.TaxName?s.TaxName.map((e=>e.TaxID)).toString():null,p35:"TaxCode"==l&&n.length>0?"%"+n+"%":null,p36:"TaxName"==l&&n.length>0?"%"+n+"%":null,p37:"TaxValue"==l&&n.length>0?"%"+n+"%":null,p38:"CustomerCode"==l&&n.length>0?"%"+n+"%":null,p39:"CustomerName"==l&&n.length>0?"%"+n+"%":null,p40:"ContractTypeName"!=l&&s.ContractTypeName?s.ContractTypeName.map((e=>e.ContractTypeID)).toString():null,p41:"ContractTypCode"==l&&n.length>0?"%"+n+"%":null,p42:"ContractTypeName"==l&&n.length>0?"%"+n+"%":null,p43:"ContractCategName"!=l&&s.ContractCategName?s.ContractCategName.map((e=>e.ContractCategID)).toString():null,p44:"ContractCategCode"==l&&n.length>0?"%"+n+"%":null,p45:"ContractCategName"==l&&n.length>0?"%"+n+"%":null,p46:"ConPaymentTermsName"!=l&&s.ConPaymentTermsName?s.ConPaymentTermsName.map((e=>e.ConPaymentTermsID)).toString():null,p47:"ConPaymentTermsName"==l&&n.length>0?"%"+n+"%":null,p48:"ContractCode"==l&&n.length>0?"%"+n+"%":null,p49:"ContractName"==l&&n.length>0?"%"+n+"%":null,p50:"LocalityGroupCode"==l&&n.length>0?"%"+n+"%":null,p51:"LocalityGroupName"==l&&n.length>0?"%"+n+"%":null,p52:"CityName"!=l&&s.CityName?s.CityName.map((e=>e.CityID)).toString():null,p53:"CityCode"==l&&n.length>0?"%"+n+"%":null,p54:"CityName"==l&&n.length>0?"%"+n+"%":null,p55:"AdminLocalityTypeName"!=l&&s.AdminLocalityTypeName?s.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeID)).toString():null,p56:"AdminLocalityTypeCode"==l&&n.length>0?"%"+n+"%":null,p57:"AdminLocalityTypeName"==l&&n.length>0?"%"+n+"%":null,p58:"LocalityCode"==l&&n.length>0?"%"+n+"%":null,p59:"LocalityName"==l&&n.length>0?"%"+n+"%":null,p60:"FirstName"!=l&&s.FirstName?s.FirstName.map((e=>e.EmployeeID)).toString():null,p61:"EmployeeCode"==l&&n.length>0?"%"+n+"%":null,p62:"FirstName"==l&&n.length>0?"%"+n+"%":null,p63:"EmpContactNo1"==l&&n.length>0?"%"+n+"%":null,p64:"EmpEmailOfficial"==l&&n.length>0?"%"+n+"%":null,p65:"RegionName"!=l&&s.RegionName?s.RegionName.map((e=>e.RegionID)).toString():null,p66:"RegionCode"==l&&n.length>0?"%"+n+"%":null,p67:"RegionName"==l&&n.length>0?"%"+n+"%":null,p68:"CountryName"!=l&&s.CountryName?s.CountryName.map((e=>e.CountryID)).toString():null,p69:"CountryCode"==l&&n.length>0?"%"+n+"%":null,p70:"CountryName"==l&&n.length>0?"%"+n+"%":null,p71:"CustGroupName"!=l&&s.CustGroupName?s.CustGroupName.map((e=>e.CustGroupID)).toString():null,p72:"CustGroupCode"==l&&n.length>0?"%"+n+"%":null,p73:"CustGroupName"==l&&n.length>0?"%"+n+"%":null,p74:"ClasificationName"!=l&&s.ClasificationName?s.ClasificationName.map((e=>e.BusinessClasificationID)).toString():null,p75:"ClasificationCode"==l&&n.length>0?"%"+n+"%":null,p76:"ClasificationName"==l&&n.length>0?"%"+n+"%":null,p77:"WareHouseCode"==l&&n.length>0?"%"+n+"%":null,p78:"WareHouseName"==l&&n.length>0?"%"+n+"%":null,p79:"ProStoreCode"==l&&n.length>0?"%"+n+"%":null,p80:"ProStoreName"==l&&n.length>0?"%"+n+"%":null,p81:"MatProcessTypeName"!=l&&s.MatProcessTypeName?s.MatProcessTypeName.map((e=>e.MatProcessTypeID)).toString():null,p82:"MatProcessTypeCode"==l&&n.length>0?"%"+n+"%":null,p83:"MatProcessTypeName"==l&&n.length>0?"%"+n+"%":null,p84:"MaterialTypeName"!=l&&s.MaterialTypeName?s.MaterialTypeName.map((e=>e.MaterialTypeID)).toString():null,p85:"MaterialTypeCode"==l&&n.length>0?"%"+n+"%":null,p86:"MaterialTypeName"==l&&n.length>0?"%"+n+"%":null,p87:"MatMainClassName"!=l&&s.MatMainClassName?s.MatMainClassName.map((e=>e.MaterialMainClassID)).toString():null,p88:"MatMainClassCode"==l&&n.length>0?"%"+n+"%":null,p89:"MatMainClassName"==l&&n.length>0?"%"+n+"%":null,p90:"MatSubClassName"!=l&&s.MatSubClassName?s.MatSubClassName.map((e=>e.MatSubClassID)).toString():null,p91:"MatSubClassCode"==l&&n.length>0?"%"+n+"%":null,p92:"MatSubClassName"==l&&n.length>0?"%"+n+"%":null,p93:"MatMakeName"!=l&&s.MatMakeName?s.MatMakeName.map((e=>e.MaterialMakeID)).toString():null,p94:"MatMakeCode"==l&&n.length>0?"%"+n+"%":null,p95:"MatMakeName"==l&&n.length>0?"%"+n+"%":null,p96:"MatModelName"!=l&&s.MatModelName?s.MatModelName.map((e=>e.MaterialModelID)).toString():null,p97:"MatModelCode"==l&&n.length>0?"%"+n+"%":null,p98:"MatModelName"==l&&n.length>0?"%"+n+"%":null,p99:"UOMName"!=l&&s.UOMName?s.UOMName.map((e=>e.MATUOMID)).toString():null,p100:"MATUOMCode"==l&&n.length>0?"%"+n+"%":null,p101:"UOMName"==l&&n.length>0?"%"+n+"%":null,p102:"GradeName"!=l&&s.GradeName?s.GradeName.map((e=>e.MatGradeID)).toString():null,p103:"GradeName"==l&&n.length>0?"%"+n+"%":null,p104:"MatGradeCode"==l&&n.length>0?"%"+n+"%":null,p105:"MaterialColorName"!=l&&s.MaterialColorName?s.MaterialColorName.map((e=>e.MatMaterialColorID)).toString():null,p106:"MaterialColorName"==l&&n.length>0?"%"+n+"%":null,p107:"MatMaterialColorCode"==l&&n.length>0?"%"+n+"%":null,p108:"RawMaterialName"!=l&&s.RawMaterialName?s.RawMaterialName.map((e=>e.MadeRawMaterialID)).toString():null,p109:"MadeRawMaterialCode"==l&&n.length>0?"%"+n+"%":null,p110:"RawMaterialName"==l&&n.length>0?"%"+n+"%":null,p111:"MaterialSizeName"!=l&&s.MaterialSizeName?s.MaterialSizeName.map((e=>e.MatMaterialSizeID)).toString():null,p112:"MaterialSizeName"==l&&n.length>0?"%"+n+"%":null,p113:"MatMaterialSizeCode"==l&&n.length>0?"%"+n+"%":null,p114:"MaterialCode"==l&&n.length>0?"%"+n+"%":null,p115:"MaterialName"==l&&n.length>0?"%"+n+"%":null,p116:"BatchNo"==l&&n.length>0?"%"+n+"%":null,p117:"MatBatchCode"==l&&n.length>0?"%"+n+"%":null,p118:"ZoneName"!=l&&s.ZoneName?s.ZoneName.map((e=>e.ZoneID)).toString():null,p119:"ZoneCode"==l&&n.length>0?"%"+n+"%":null,p120:"ZoneDisplayName"==l&&n.length>0?"%"+n+"%":null,p121:"ZoneName"==l&&n.length>0?"%"+n+"%":null,p122:"MatBinCode"==l&&n.length>0?"%"+n+"%":null,p123:"MatBinName"==l&&n.length>0?"%"+n+"%":null,p124:o,p125:10,p126:t,p127:null,p128:null,p129:localStorage.getItem("UserGroupID"),p130:localStorage.getItem("userid")}};await(0,c.Z)(d,p,e.token).then((e=>{const t=e.Output.status.code,l=e.Output.data;if("200"===t)if(l.length>0)if(1===o){let e=K(l,u);r(e),A(e[0].TotalCount)}else{let e=[...a,...l],t=K(e,u);A(t.length<10?t.length:l[0].TotalCount),r(K(t,u))}else h.length>0&&r([]),A(a.length)}))}catch(t){e.msg(t,"warning")}finally{G(!1)}},K=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function _(){let e={};await E((t=>(e=t,t)));let t=[...k],a=[];for(let l of t){let t=e[l]?.map((e=>e.MaterialStockDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}function U(){return n().createElement(D.Z,{frmctrlid:"fld366L1TCDateCompCreatedTtm",SendDateVal:(t,a,l,n,r)=>{!async function(t,a,l,n,r,o){let i={[n]:{From:t,Type:l,To:a}},c={};F((e=>({...e,...i})));const m={...f};let u=[...k],s=[];for(let e of u){let t=m[e]?.map((e=>e.MaterialStockDetailsIDPK)).toString();t&&s.push(t)}await F((e=>(c=e,e)));let d={MaterialStockDetailsIDPK:s?[...new Set(s)].toString():"",CreatedTtm:datefields.CreatedTtm?datefields.CreatedTtm.From:"",CreatedTtmType:datefields.CreatedTtm?datefields.CreatedTtm.Type:"",CreatedTtmBetween:datefields.CreatedTtm?datefields.CreatedTtm.To:"",ContractID:f.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:f.LocalityName?.map((e=>e.LocalityIDPK)).toString(),MatBinID:f.MatBinName?.map((e=>e.MatBinIDPK)).toString(),ProStoreID:f.ProStoreName?.map((e=>e.ProStoreIDPK)).toString(),MatWareHouseID:f.WareHouseName?.map((e=>e.MatWareHouseIDPK)).toString(),CustomerID:f.CustomerName?.map((e=>e.CustomerIDPK)).toString(),LocalityGroupID:f.LocalityGroupName?.map((e=>e.LocalityGroupIDPK)).toString(),MaterialID:f.MaterialName?.map((e=>e.MaterialIDPK)).toString(),MatBatchID:f.MatBatchCode?.map((e=>e.MatBatchIDPK)).toString()};e.searchData(d)}(t,a,l,o.name)},keyboardback:()=>{x(!1),i({name:"",type:""})},title:Q(o.name),fieldname:o.name,save:e=>{alert(!0)}})}return n().createElement("div",null,P?"Created Ttm"===o.name||o.name.includes("Date")?n().createElement(U,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(p.Z,null,n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},W(o.name)," (",a.length,"/",a[0]?.TotalCount,")")),n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(s.ZP,{title:Q("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(m.Z,{id:"fld366L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{x(!1),i({name:"",type:""}),R(1)}}))),f[o.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(u.Z,{frmctrlid:"fld366L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await E((t=>(e=t,N.log("clear fewItems",e),t))),e[o.name]=[],V(o.type,o.name,"",1,"")})()}},n().createElement("span",{className:"ColumnApplyTitle"},Q("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},b?n().createElement(s.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(I.D7o,{className:"FilterMaximizeIcon",onClick:()=>{T(!1)}}))):n().createElement(s.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(I.dOw,{className:"FilterMaximizeIcon",onClick:()=>{T(!0)}})))),n().createElement("ul",null,f[o.name]&&f[o.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:b?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[o.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{R(1);let a=f[o.name].filter((t=>t!=e)),l={};await E((e=>(l=e,e))),l[o.name]=a,E(l),r((t=>[e,...t]))})(e)},n().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(S.Z,{frmctrlid:"fld366L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:h,placeholder:Q("Enter ")+" "+W(o.name),onChange:e=>{v(e),V(o.type,o.name,e,1,_())}})),n().createElement("div",{id:"fld366L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await E((e=>(a=e,e)));let n=[...k],r=[];for(let e of n){let t=a[e]?.map((e=>e.MaterialStockDetailsIDPK)).toString();t&&r.push(t)}await F((e=>(l=e,e)));let o={MaterialStockDetailsIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",ContractID:f.ContractName?.map((e=>e.ContractID)).toString(),LocalityID:f.LocalityName?.map((e=>e.LocalityID)).toString(),MatBinID:f.MatBinName?.map((e=>e.MatBinID)).toString(),ProStoreID:f.ProStoreName?.map((e=>e.ProStoreID)).toString(),MatWareHouseID:f.WareHouseName?.map((e=>e.MatWareHouseID)).toString(),CustomerID:f.CustomerName?.map((e=>e.CustomerID)).toString(),LocalityGroupID:f.LocalityGroupName?.map((e=>e.LocalityGroupID)).toString(),MaterialID:f.MaterialName?.map((e=>e.MaterialID)).toString(),MatBatchID:f.MatBatchCode?.map((e=>e.MatBatchID)).toString()};e.searchData(o),x(!1)}},n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(u.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),n().createElement("div",{id:"fld366L1TFCScrollYDefault",className:"height65 scrollYDefault"},H?n().createElement("span",null,"Loading...."):n().createElement(n().Fragment,null,a.length>0&&a.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await E((e=>(l=e,e)));let n=l[o.name];t[o.name]=n?[...a,...n]:a,l={...l,...t},E(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(d.Z,{className:"DotIcon"}),n().createElement("span",null,e[o.name])))),a.length+0<a[0]?.TotalCount&&a.length>0&&n().createElement("div",{id:"fld366L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{R(w+1),V(o.type,o.name,"",w+1,"")}},n().createElement("p",null," more... ")),0===a.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:C.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list.")))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(M.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(u.Z,{className:"ColumnApplyButton",onClick:()=>{E({}),F({}),e.searchData({}),x(!1)},id:"fld366L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Q("Clear")))),n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(u.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld366L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Q("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld366L1TFCFilItems",className:"FilterItems"},e.userGrid.filter((e=>e.IsVisible&&!e.FieldName.startsWith("Is"))).map(((e,t)=>{return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{(e=>{x(!0),v(""),i({name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMaterialStockDetailsID"}),V(e.IsForeign?"Filter"+e.FieldName:"FilterMaterialStockDetailsID",e,"",1,_())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,W(e.FieldName)," ",O[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",O[e.FieldName]?.From+" to "+O[e.FieldName]?.To,")")):n().createElement(n().Fragment,null,n().createElement("span",null,W(e.FieldName)),(a=e.FieldDisplay,f[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},f[a][0][a]),f[a].length>1&&n().createElement("span",{className:"RoundedDivName"},f[a][1][a]),f[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(f[a].length-2))))));var a}))))))}var v=a(54180),f=a(43031),E=a(110),b=a(5109),T=a(88995),P=a(50743),x=a(61657),B=a(51209),L=a(83817),w=a(3212),R=a(93521),Z=a(26537),A=(a(61956),a(35131),a(41270),a(71168)),H=a.n(A),G=a(65107),O=a(94986);a(25108),window.clickFilter="";const F=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),u=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("366"),[p,y]=(0,l.useState)(!0),[D,M]=(0,l.useState)(!1),[I,N]=(0,l.useState)(0),[k,w]=(0,l.useState)({}),[Z,A]=(0,l.useState)({}),[F,z]=(0,l.useState)(0),[Q,W]=(0,l.useState)(0),[V,K]=(0,l.useState)(0),[_,U]=(0,l.useState)({current:1,pageSize:100}),[Y,j]=(0,l.useState)(""),[$,q]=(0,l.useState)([]),[J,X]=(0,l.useState)({val:"",column:""}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!1),[ne,re]=(0,l.useState)(""),[ce,me]=(0,l.useState)(""),[ue,se]=(0,l.useState)(!1),[de,pe]=(0,l.useState)([]),[ye,Ce]=(0,l.useState)([]),[De,Se]=(0,l.useState)([]),[ge,Me]=(0,l.useState)({children:[{name:"MaterialStockDetailRegistry",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),ke=(0,l.useContext)(e.context?e.context:oe),{cstate:he,cdispatch:ve}=e.ContextApi?e.ContextApi:ie();let fe={MaterialStockDetailsIDPK:"",MaterialStockDetailsCode:"",StockYearEndKey:"",StockOpeningQty:"",StockClosingQty:"",StockCurrentQty:"",StockAvailableQty:"",StockCommittedQty:"",StockCostValue:"",StockCostPrice:"",StockQuantity:"",StockPieces:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",CustomerID:"",LocalityGroupID:"",MatWareHouseID:"",ProStoreID:"",MaterialID:"",MatBatchID:"",MatBinID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CustGroupID:"",CustGroupCode:"",CustGroupName:"",BusinessClasificationID:"",ClasificationCode:"",ClasificationName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",BatchNo:"",MatBatchCode:"",ZoneID:"",ZoneCode:"",ZoneDisplayName:"",ZoneName:"",MatBinCode:"",MatBinName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ee,be]=(0,l.useState)(fe),[Te,Pe]=(0,l.useState)(fe),[xe,Be]=(0,l.useState)(!1),[Le,we]=(0,l.useState)(!0),[Re,Ze]=(0,l.useState)(!1),[Ae,He]=(0,l.useState)(!0),[Ge,Oe]=(0,l.useState)({ContractName:"",LocalityName:"",MatBinName:"",ProStoreName:"",WareHouseName:"",MaterialStockDetailsCode:"",StockYearEndKey:"",StockOpeningQty:"",StockClosingQty:"",StockCurrentQty:"",StockAvailableQty:"",StockCommittedQty:"",StockCostValue:"",StockCostPrice:"",StockQuantity:"",StockPieces:"",CustomerName:"",LocalityGroupName:"",MaterialName:"",MatBatchCode:""}),[Fe,ze]=(0,l.useState)(!1),[Qe,We]=(0,l.useState)([]),[Ve,Ke]=(0,l.useState)(0),[_e,Ue]=(0,l.useState)(0),[Ye,je]=(0,l.useState)({current:1,pageSize:10}),[$e,qe]=(0,l.useState)([]),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!1),[nt,rt]=(0,l.useState)(!1),[ot,it]=(0,l.useState)(""),[ct,mt]=H()("366"),[ut]=(0,l.useState)("664"),[st,dt]=(0,l.useState)([]),[pt,yt]=(0,l.useState)([]),Ct=[{columns:$e,data:Y}];let Dt=(0,g.Z)();const St=e=>Dt[e]?Dt[e]:e,gt=e=>he.language?.[e]?he.language[e]:e;(0,l.useEffect)((()=>{vt(ct),function(e){const t=e.filter((e=>e.FormID==ut));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldName))})),dt(a),yt(l)}(ct)}),[ct]),(0,l.useEffect)((()=>{he.token.length>0&&kt(_,fe,"MaterialStockDetailsID")}),[]),(0,l.useEffect)((()=>{!Ie&&ne?(be(ne),kt(_,ne,"MaterialStockDetailsID")):Ie&&Pe(ne)}),[ne]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Mt(e)},tableRefresh:e=>{re(e),kt(_,e,null)},DialogTableProps:e=>{M(e)},HideEntryFields:e=>{rt(e)},Stocktable:(e,t)=>{Ce(e),Se(t)}})));const Mt=e=>{""==e?kt(_,fe,xe?"DraftMaterialStockDetailsID":"MaterialStockDetailsID",xe&&"DraftPage"):ht(e,{current:1,pageSize:10}),me(e)};function It(e){ke.loading(!0);let t=C.v.Api+"FP366S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(t,a,he.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,Ue(t.Output.data[0].TotalCount)):a=0,10==e.pageSize?Ke(Math.ceil(a)):20==e.pageSize?Ke(Math.ceil(a/2)):50==e.pageSize?Ke(Math.ceil(a/5)):100==e.pageSize&&Ke(Math.ceil(a/10)),We(t.Output.data),ke.loading(!1)}}))}function Nt(e,t){ve({type:"editData",payload:[t]}),ve({type:"IsDraft",payload:xe}),ve({type:"ShowDetail",payload:!0}),ke.Expanded(!0),Re&&se(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&He(e.cardview),e.Dialogview&&(M(e.Dialogview),rt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&ht(e.searchsafaritext,{current:_.current,pageSize:_.pageSize})}),[e.searchsafaritext]);const kt=(t,a,l,n,r,o)=>{ke.loading(!0),"DraftPage"!==n&&Be(he.IsDraft);let i=C.v.Api+"FP366S3/",m={data:{p1:r||(a&&a.MaterialStockDetailsIDPK?a.MaterialStockDetailsIDPK:null),p2:a&&a.MaterialStockDetailsCode?a.MaterialStockDetailsCode:null,p3:a&&a.StockYearEndKey?a.StockYearEndKey:null,p4:a&&a.StockOpeningQty?a.StockOpeningQty:null,p5:a&&a.StockClosingQty?a.StockClosingQty:null,p6:a&&a.StockCurrentQty?a.StockCurrentQty:null,p7:a&&a.StockAvailableQty?a.StockAvailableQty:null,p8:a&&a.StockCommittedQty?a.StockCommittedQty:null,p9:a&&a.StockCostValue?a.StockCostValue:null,p10:a&&a.StockCostPrice?a.StockCostPrice:null,p11:a&&a.StockQuantity?a.StockQuantity:null,p12:a&&a.StockPieces?a.StockPieces:null,p13:"DraftMaterialStockDetailsID"==l?"1":"0",p14:null,p15:a&&a.ContractID?a.ContractID:null,p16:a&&a.LocalityID?a.LocalityID:null,p17:a&&a.CustomerID?a.CustomerID:null,p18:a&&a.LocalityGroupID?a.LocalityGroupID:null,p19:a&&a.MatWareHouseID?a.MatWareHouseID:null,p20:a&&a.ProStoreID?a.ProStoreID:null,p21:a&&a.MaterialID?a.MaterialID:null,p22:a&&a.MatBatchID?a.MatBatchID:null,p23:a&&a.MatBinID?a.MatBinID:null,p24:e.Dialogview?"1":null,p25:null,p26:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p27:a&&a.CreatedTtm?a.CreatedTtm:null,p28:a&&a.CreatedTtmType?a.CreatedTtmType:null,p29:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p30:null,p31:a&&a.ContractGroupID?a.ContractGroupID:null,p32:a&&a.ContractGroupCode?a.ContractGroupCode:null,p33:a&&a.ContractGroupName?a.ContractGroupName:null,p34:a&&a.TaxID?a.TaxID:null,p35:a&&a.TaxCode?a.TaxCode:null,p36:a&&a.TaxName?a.TaxName:null,p37:a&&a.TaxValue?a.TaxValue:null,p38:a&&a.CustomerCode?a.CustomerCode:null,p39:a&&a.CustomerName?a.CustomerName:null,p40:a&&a.ContractTypeID?a.ContractTypeID:null,p41:a&&a.ContractTypCode?a.ContractTypCode:null,p42:a&&a.ContractTypeName?a.ContractTypeName:null,p43:a&&a.ContractCategID?a.ContractCategID:null,p44:a&&a.ContractCategCode?a.ContractCategCode:null,p45:a&&a.ContractCategName?a.ContractCategName:null,p46:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p47:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p48:a&&a.ContractCode?a.ContractCode:null,p49:a&&a.ContractName?a.ContractName:null,p50:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p51:a&&a.LocalityGroupName?a.LocalityGroupName:null,p52:a&&a.CityID?a.CityID:null,p53:a&&a.CityCode?a.CityCode:null,p54:a&&a.CityName?a.CityName:null,p55:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p56:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p57:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p58:a&&a.LocalityCode?a.LocalityCode:null,p59:a&&a.LocalityName?a.LocalityName:null,p60:a&&a.EmployeeID?a.EmployeeID:null,p61:a&&a.EmployeeCode?a.EmployeeCode:null,p62:a&&a.FirstName?a.FirstName:null,p63:a&&a.EmpContactNo1?a.EmpContactNo1:null,p64:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p65:a&&a.RegionID?a.RegionID:null,p66:a&&a.RegionCode?a.RegionCode:null,p67:a&&a.RegionName?a.RegionName:null,p68:a&&a.CountryID?a.CountryID:null,p69:a&&a.CountryCode?a.CountryCode:null,p70:a&&a.CountryName?a.CountryName:null,p71:a&&a.CustGroupID?a.CustGroupID:null,p72:a&&a.CustGroupCode?a.CustGroupCode:null,p73:a&&a.CustGroupName?a.CustGroupName:null,p74:a&&a.BusinessClasificationID?a.BusinessClasificationID:null,p75:a&&a.ClasificationCode?a.ClasificationCode:null,p76:a&&a.ClasificationName?a.ClasificationName:null,p77:a&&a.WareHouseCode?a.WareHouseCode:null,p78:a&&a.WareHouseName?a.WareHouseName:null,p79:a&&a.ProStoreCode?a.ProStoreCode:null,p80:a&&a.ProStoreName?a.ProStoreName:null,p81:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p82:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p83:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p84:a&&a.MaterialTypeID?a.MaterialTypeID:null,p85:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p86:a&&a.MaterialTypeName?a.MaterialTypeName:null,p87:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p88:a&&a.MatMainClassCode?a.MatMainClassCode:null,p89:a&&a.MatMainClassName?a.MatMainClassName:null,p90:a&&a.MatSubClassID?a.MatSubClassID:null,p91:a&&a.MatSubClassCode?a.MatSubClassCode:null,p92:a&&a.MatSubClassName?a.MatSubClassName:null,p93:a&&a.MaterialMakeID?a.MaterialMakeID:null,p94:a&&a.MatMakeCode?a.MatMakeCode:null,p95:a&&a.MatMakeName?a.MatMakeName:null,p96:a&&a.MaterialModelID?a.MaterialModelID:null,p97:a&&a.MatModelCode?a.MatModelCode:null,p98:a&&a.MatModelName?a.MatModelName:null,p99:a&&a.MATUOMID?a.MATUOMID:null,p100:a&&a.MATUOMCode?a.MATUOMCode:null,p101:a&&a.UOMName?a.UOMName:null,p102:a&&a.MatGradeID?a.MatGradeID:null,p103:a&&a.GradeName?a.GradeName:null,p104:a&&a.MatGradeCode?a.MatGradeCode:null,p105:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p106:a&&a.MaterialColorName?a.MaterialColorName:null,p107:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p108:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p109:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p110:a&&a.RawMaterialName?a.RawMaterialName:null,p111:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p112:a&&a.MaterialSizeName?a.MaterialSizeName:null,p113:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p114:a&&a.MaterialCode?a.MaterialCode:null,p115:a&&a.MaterialName?a.MaterialName:null,p116:a&&a.BatchNo?a.BatchNo:null,p117:a&&a.MatBatchCode?a.MatBatchCode:null,p118:a&&a.ZoneID?a.ZoneID:null,p119:a&&a.ZoneCode?a.ZoneCode:null,p120:a&&a.ZoneDisplayName?a.ZoneDisplayName:null,p121:a&&a.ZoneName?a.ZoneName:null,p122:a&&a.MatBinCode?a.MatBinCode:null,p123:a&&a.MatBinName?a.MatBinName:null,p124:r?1:t.current,p125:t.pageSize,p126:a.Stock?a.Stock:"MaterialStockDetailsID",p127:null,p128:null,p129:localStorage.getItem("UserGroupID"),p130:localStorage.getItem("userid")}};(0,c.Z)(i,m,he.token[0]).then((i=>{if(r)(0,L.a)(i,ve,n,o,ke);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,W(i.Output.data[0].TotalCount),K(i.Output.data[0].DraftCnt),ve({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&K(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?z(Math.ceil(e)):20==t.pageSize?z(Math.ceil(e/2)):50==t.pageSize?z(Math.ceil(e/5)):100==t.pageSize&&z(Math.ceil(e/10)),te(i.Output.data),ke.loading(!1)}e.Dialogview||(document.getElementById("divMaterialStockDetailRegistry-Entry").style.height="auto",document.getElementById("divMaterialStockDetailRegistry-Entry").style.display="block")}else ke.loading(!1),"DraftMaterialStockDetailsID"===l?(ke.alert({open:!0,color:"warning",message:["There is no Record Found"]}),se(!0),Be(!1)):(te([]),U({current:1,pageSize:10}),z(0),W(0),ve({type:"count",payload:"0"}),ve({type:"ExpandDetailValue",payload:!0}),Object.values(a).some((e=>e))&&ke.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else ke.alert({open:!0,color:"warning",message:[i.Output.status.message]}),ke.loading(!1)}))};function ht(e,t){ke.loading(!0);const a=C.v.Api+"FP366S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:xe?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,W(e.Output.data[0].TotalCount),ve({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?z(Math.ceil(a)):20==t.pageSize?z(Math.ceil(a/2)):50==t.pageSize?z(Math.ceil(a/5)):100==t.pageSize&&z(Math.ceil(a/10)),te(e.Output.data),ke.loading(!1)}else te([]),z(0),W(0),ve({type:"count",payload:"0"}),ke.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ke.loading(!1);else ke.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ke.loading(!1)}))}function vt(e){let t=["ContractName","LocalityName","MaterialCode","MaterialName","UOMName","WareHouseName","ProStoreName","MatBinName","BatchNo","StockCurrentQty","ExpiryDate"];pe(e),Ce([{id:"ContractName",name:"Contract",type:"varchar"},{id:"LocalityName",name:"Locality",type:"varchar"},{id:"MaterialCode",name:"Material Code",type:"varchar"},{id:"MaterialName",name:"Material Name",type:"varchar"},{id:"UOMName",name:"UOM",type:"varchar"},{id:"WareHouseName",name:"WareHouse",type:"varchar"},{id:"ProStoreName",name:"Store",type:"varchar"},{id:"MatBinName",name:"Bin",type:"varchar"},{id:"BatchNo",name:"Batch",type:"varchar"},{id:"StockCurrentQty",name:" Current Stock",type:"varchar"},{id:"ExpiryDate",name:"Expiry Date",type:"varchar"}]),Se(t),qe(["Contract","Locality","Material Code","Material Name","UOM","Ware House","Store","Bin","Batch","Current Stock","Expiry Date"]),Xe(t)}const ft=()=>Ie?null:n().createElement("div",null,Fe?n().createElement(O.Z,{data:Qe,expanded:e=>!D&&ke.Expanded(e),edit:(e,t,a)=>{D?ke.select(e):(ve({type:"editData",payload:[e]}),ve({type:"IsDraft",payload:t}),ve({type:"ShowDetail",payload:a}))}}):n().createElement(G.Z,{ref:u,frmctrlid:"tblcs_366_L1_",id:"MaterialStockDetailRegistryTable",headerdata:ye,tablesearchparams:Ge,searchdisabled:!0,searchvalue:e=>{Oe(e),re(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...Z};w(t),U({current:1,pageSize:10}),kt({current:1,pageSize:10},t,xe?"DraftMaterialStockDetailsID":"MaterialStockDetailsID",xe&&"DraftPage")},bodydata:ee,ondrag:Nt,bodyitem:De,visibleitem:ye,isdraft:xe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:he.AccessRights,expanded:e=>!D&&ke.Expanded(e),edit:(e,t,a)=>{},viewtoggle:ke.viewtoggle,action:"none",isexpanded:!D||Re,tf:gt,ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ze(he.ExpandTableValue)}),[he.ExpandTableValue]),n().createElement("div",null,!nt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld366L1ECSearchBar",className:"searchbar1"},n().createElement(S.Z,{frmctrlid:"fld366L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:ce,onChange:e=>{me(e),ke.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ce?n().createElement("div",{id:"fld366L1TCCloseIconCommonSearch",onClick:()=>{me(""),ke.searchItem("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld366L1TCInputSearchIcon"},n().createElement(T.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MaterialStockDetailRegistrygridsearch").focus()}})))),n().createElement("div",null)),n().createElement(o.Z,{expanded:Le,onChange:()=>()=>{we(Re)}},e.Dialogview&&n().createElement(P.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"9.0.0.2-08:47:45-5-4"},`${gt("366")} (${Q})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld366L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(S.Z,{frmctrlid:"fld366L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:ce,onChange:e=>{Mt(e)}}),n().createElement("div",{className:"search_icon"},ce?n().createElement("div",{id:"fld366L1TCInputCloseIcon",onClick:()=>{Mt("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld366L1TCInputSearchIcon"},n().createElement(T.Z,{className:"InputSearchIcon"}))))))),n().createElement(i.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"MaterialStockDetailRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!D&&!xe&&!Ie&&n().createElement(v.Z,{formctrlidprint:"fld366L1TCExportPrint",formctrlidexport:"fld366L1TCExportTable",formctrlidrefresh:"fld366L1TCExportRefresh",title:gt("MaterialStockDetailRegistry"),data:$,exportData:Ct,Items:Je,columnIndex:$e,TableVisibleItem:ye,userGridViewFormID:d,TableTotalCount:Q,triggerApi:t=>{((t,l,n,r,o)=>{if(0===Q)return ke.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;ke.loading(!0);let i=C.v.Api+"FP366S3/",m={data:{p1:t&&t.MaterialStockDetailsIDPK?t.MaterialStockDetailsIDPK:null,p2:t&&t.MaterialStockDetailsCode?t.MaterialStockDetailsCode:null,p3:t&&t.StockYearEndKey?t.StockYearEndKey:null,p4:t&&t.StockOpeningQty?t.StockOpeningQty:null,p5:t&&t.StockClosingQty?t.StockClosingQty:null,p6:t&&t.StockCurrentQty?t.StockCurrentQty:null,p7:t&&t.StockAvailableQty?t.StockAvailableQty:null,p8:t&&t.StockCommittedQty?t.StockCommittedQty:null,p9:t&&t.StockCostValue?t.StockCostValue:null,p10:t&&t.StockCostPrice?t.StockCostPrice:null,p11:t&&t.StockQuantity?t.StockQuantity:null,p12:t&&t.StockPieces?t.StockPieces:null,p13:xe?"1":"0",p14:null,p15:t&&t.ContractID?t.ContractID:null,p16:t&&t.LocalityID?t.LocalityID:null,p17:t&&t.CustomerID?t.CustomerID:null,p18:t&&t.LocalityGroupID?t.LocalityGroupID:null,p19:t&&t.MatWareHouseID?t.MatWareHouseID:null,p20:t&&t.ProStoreID?t.ProStoreID:null,p21:t&&t.MaterialID?t.MaterialID:null,p22:t&&t.MatBatchID?t.MatBatchID:null,p23:t&&t.MatBinID?t.MatBinID:null,p24:e.Dialogview?"1":null,p25:null,p26:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p27:t&&t.CreatedTtm?t.CreatedTtm:null,p28:t&&t.CreatedTtmType?t.CreatedTtmType:null,p29:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p30:null,p31:t&&t.ContractGroupID?t.ContractGroupID:null,p32:t&&t.ContractGroupCode?t.ContractGroupCode:null,p33:t&&t.ContractGroupName?t.ContractGroupName:null,p34:t&&t.TaxID?t.TaxID:null,p35:t&&t.TaxCode?t.TaxCode:null,p36:t&&t.TaxName?t.TaxName:null,p37:t&&t.TaxValue?t.TaxValue:null,p38:t&&t.CustomerCode?t.CustomerCode:null,p39:t&&t.CustomerName?t.CustomerName:null,p40:t&&t.ContractTypeID?t.ContractTypeID:null,p41:t&&t.ContractTypCode?t.ContractTypCode:null,p42:t&&t.ContractTypeName?t.ContractTypeName:null,p43:t&&t.ContractCategID?t.ContractCategID:null,p44:t&&t.ContractCategCode?t.ContractCategCode:null,p45:t&&t.ContractCategName?t.ContractCategName:null,p46:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p47:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p48:t&&t.ContractCode?t.ContractCode:null,p49:t&&t.ContractName?t.ContractName:null,p50:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p51:t&&t.LocalityGroupName?t.LocalityGroupName:null,p52:t&&t.CityID?t.CityID:null,p53:t&&t.CityCode?t.CityCode:null,p54:t&&t.CityName?t.CityName:null,p55:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p56:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p57:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p58:t&&t.LocalityCode?t.LocalityCode:null,p59:t&&t.LocalityName?t.LocalityName:null,p60:t&&t.EmployeeID?t.EmployeeID:null,p61:t&&t.EmployeeCode?t.EmployeeCode:null,p62:t&&t.FirstName?t.FirstName:null,p63:t&&t.EmpContactNo1?t.EmpContactNo1:null,p64:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p65:t&&t.RegionID?t.RegionID:null,p66:t&&t.RegionCode?t.RegionCode:null,p67:t&&t.RegionName?t.RegionName:null,p68:t&&t.CountryID?t.CountryID:null,p69:t&&t.CountryCode?t.CountryCode:null,p70:t&&t.CountryName?t.CountryName:null,p71:t&&t.CustGroupID?t.CustGroupID:null,p72:t&&t.CustGroupCode?t.CustGroupCode:null,p73:t&&t.CustGroupName?t.CustGroupName:null,p74:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p75:t&&t.ClasificationCode?t.ClasificationCode:null,p76:t&&t.ClasificationName?t.ClasificationName:null,p77:t&&t.WareHouseCode?t.WareHouseCode:null,p78:t&&t.WareHouseName?t.WareHouseName:null,p79:t&&t.ProStoreCode?t.ProStoreCode:null,p80:t&&t.ProStoreName?t.ProStoreName:null,p81:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p82:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p83:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p84:t&&t.MaterialTypeID?t.MaterialTypeID:null,p85:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p86:t&&t.MaterialTypeName?t.MaterialTypeName:null,p87:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p88:t&&t.MatMainClassCode?t.MatMainClassCode:null,p89:t&&t.MatMainClassName?t.MatMainClassName:null,p90:t&&t.MatSubClassID?t.MatSubClassID:null,p91:t&&t.MatSubClassCode?t.MatSubClassCode:null,p92:t&&t.MatSubClassName?t.MatSubClassName:null,p93:t&&t.MaterialMakeID?t.MaterialMakeID:null,p94:t&&t.MatMakeCode?t.MatMakeCode:null,p95:t&&t.MatMakeName?t.MatMakeName:null,p96:t&&t.MaterialModelID?t.MaterialModelID:null,p97:t&&t.MatModelCode?t.MatModelCode:null,p98:t&&t.MatModelName?t.MatModelName:null,p99:t&&t.MATUOMID?t.MATUOMID:null,p100:t&&t.MATUOMCode?t.MATUOMCode:null,p101:t&&t.UOMName?t.UOMName:null,p102:t&&t.MatGradeID?t.MatGradeID:null,p103:t&&t.GradeName?t.GradeName:null,p104:t&&t.MatGradeCode?t.MatGradeCode:null,p105:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p106:t&&t.MaterialColorName?t.MaterialColorName:null,p107:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p108:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p109:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p110:t&&t.RawMaterialName?t.RawMaterialName:null,p111:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p112:t&&t.MaterialSizeName?t.MaterialSizeName:null,p113:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p114:t&&t.MaterialCode?t.MaterialCode:null,p115:t&&t.MaterialName?t.MaterialName:null,p116:t&&t.BatchNo?t.BatchNo:null,p117:t&&t.MatBatchCode?t.MatBatchCode:null,p118:t&&t.ZoneID?t.ZoneID:null,p119:t&&t.ZoneCode?t.ZoneCode:null,p120:t&&t.ZoneDisplayName?t.ZoneDisplayName:null,p121:t&&t.ZoneName?t.ZoneName:null,p122:t&&t.MatBinCode?t.MatBinCode:null,p123:t&&t.MatBinName?t.MatBinName:null,p124:_.current,p125:Q,p126:xe?"DraftMaterialStockDetailsID":"MaterialStockDetailsID",p127:null,p128:null,p129:localStorage.getItem("UserGroupID"),p130:localStorage.getItem("userid")}};ke.loading(!1),ke.alert({open:!0,color:"success",message:[`${gt(366)} - ${o.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(i,m,he.token[0],o).then((e=>{(0,R.PDF_Excel_Generate)(e,ke,Je,j,a,o)}))})(ne,J.column,0,0,t)},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:a,iconinfo:"iconinfo"})),Ie?null:Fe?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld366L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(_e),page:I,onPageChange:(e,t)=>{N(t),It({current:t+1,pageSize:Ye.pageSize}),je({current:t+1,pageSize:Ye.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(f.Z,{count:Ve,color:"primary",page:Ye.current,onChange:(e,t)=>{je({current:t,pageSize:Ye.pageSize}),Ke(t),It({current:t,pageSize:Ye.pageSize})}}),n().createElement("div",null,n().createElement(E.Z,{className:"BootstrapInputStyle",value:Ye.pageSize,frmctrlid:"fld366L1TCSelectPagination",onChange:e=>{je({current:1,pageSize:e.target.value}),It({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Re&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",_e,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld366L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(Q),page:I,onPageChange:(e,t)=>{N(t),kt({current:t+1,pageSize:_.pageSize},fe,xe?"DraftMaterialStockDetailsID":"MaterialStockDetailsID",xe&&"DraftPage"),U({current:t+1,pageSize:_.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(f.Z,{count:F,siblingCount:0,color:"primary",page:_.current,onChange:(e,t)=>{if(U({current:t,pageSize:_.pageSize}),xe)kt({current:t,pageSize:_.pageSize},Ee,"DraftMaterialStockDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ce.length>0?ht(ce,{current:t,pageSize:_.pageSize}):kt({current:t,pageSize:_.pageSize},ne,"MaterialStockDetailsID")}}}),n().createElement("div",null,n().createElement(E.Z,{className:"BootstrapInputStyle",value:_.pageSize,id:"fld366L1TCSelectPaging",onChange:e=>{U({current:1,pageSize:e.target.value}),xe?kt({current:1,pageSize:e.target.value},Ee,"DraftMaterialStockDetailsID","DraftPage"):ce.length>0?ht(ce,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},ne,"MaterialStockDetailsID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Re&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",Q,") "))),n().createElement("div",{id:"MaterialStockDetailRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"MaterialStockDetailRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ae&&n().createElement(h,{parentId:e.parentId,searchData:e=>{re(e||k);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));A(t)},formID:d,data:()=>{},visibleData:()=>{},token:he.token[0],CloseBtnClk:()=>(ke.EditClose(!0),ae?(document.getElementById("MaterialStockDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MaterialStockDetailRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MaterialStockDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",le(!1),Ae?(D||(document.getElementById("MaterialStockDetailRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialStockDetailRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MaterialStockDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialStockDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialStockDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialStockDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MaterialStockDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MaterialStockDetailRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MaterialStockDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",le(!0),document.getElementById("MaterialStockDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialStockDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),se(!1),void(window.clickFilter=!ae)),userGrid:ct,msg:(e,t)=>ke.alert({open:!0,color:t,message:[e]})}),ue&&n().createElement(b.Z,{Refresh:e=>{kt({current:1,pageSize:10},fe,"MaterialStockDetailsID")},frmctrlid:"fld366L1TCTableColumnOrder",loading:e=>ke.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>ke.alert({open:!0,color:t,message:[e]}),select:ue,userID:s,userGridViewFormID:d,saved:(e,t)=>{e&&vt(t),mt(t),ve({type:"showTableview",payload:t})},Token:he.token[0]})),n().createElement("div",{id:"MaterialStockDetailRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ae?n().createElement(ft,null):n().createElement(B.Z,{frmctrlid:"fld366L1TCExpandedCardDual",data:ee,id:"MaterialStockDetailRegistry",title:"MaterialStockDetailsCode",cardTile:!!et,visibleitem:ye,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{D?ke.select(e):("edit"==t?(ve({type:"editData",payload:[e]}),ve({type:"IsDraft",payload:xe}),ve({type:"ShowDetail",payload:!1}),ke.Expanded(!0)):(ve({type:"editData",payload:[e]}),ve({type:"IsDraft",payload:xe}),ve({type:"ShowDetail",payload:!0}),ke.Expanded(!0),ke.viewtoggle()),ae?le(!0):ue?se(!0):(se(!1),se(!1))),ke.hideAddBtn(!0)}})))))))}));var z=a(37148),Q=a(29800),W=(a(10966),a(21392),a(44528),a(99090),a(1695),a(61924),a(10635),a(11377));(0,a(48904).Z)({palette:{secondary:{main:"#34ace0"},text:{secondary:"#34ace0",error:"#e34463"}},overrides:{MuiInputLabel:{root:{color:"#34ace0"}},MuiInput:{underline:{"&:after":{borderBottom:"2px solid #0095FB"}}}}});var V=a(92371);const K={EnterKeyValues:{MaterialStockDetailRegistry:["ContractName","LocalityName","MatBinName","ProStoreName","WareHouseName","MaterialStockDetailsCode","StockYearEndKey","StockOpeningQty","StockClosingQty","StockCurrentQty","StockAvailableQty","StockCommittedQty","StockCostValue","StockCostPrice","StockQuantity","StockPieces","CustomerName","LocalityGroupName","MaterialName","MatBatchCode"]},Label:{MaterialStockDetailRegistry:{StockID:["StockName"],ContractID:["ContractCode","ContractName"],LocalityID:["LocalityCode","LocalityName"],MatBinID:["MatBinCode","MatBinName","ProStoreName","WareHouseName"],ProStoreID:["ProStoreCode","ProStoreName","WareHouseName"],MatWareHouseID:["WareHouseCode","WareHouseName"],MaterialStockDetailsCode:["MaterialStockDetailsCode"],StockYearEndKey:["MaterialStockDetailsCode"],StockOpeningQty:["MaterialStockDetailsCode"],StockClosingQty:["MaterialStockDetailsCode"],StockCurrentQty:["MaterialStockDetailsCode"],StockAvailableQty:["MaterialStockDetailsCode"],StockCommittedQty:["MaterialStockDetailsCode"],StockCostValue:["MaterialStockDetailsCode"],StockCostPrice:["MaterialStockDetailsCode"],StockQuantity:["MaterialStockDetailsCode"],StockPieces:["MaterialStockDetailsCode"],CustomerID:["MaterialStockDetailsCode"],LocalityGroupID:["MaterialStockDetailsCode"],MaterialID:["MaterialCode","MaterialName"],MatBatchID:["MaterialStockDetailsCode"]}},LabelHeader:{MaterialStockDetailRegistry:{StockID:["Stockk Name"],ContractID:["Contract Code","Contract Name"],LocalityID:["Location Code","Location Name"],MatBinID:["Bin Code","Bin Name","Store Name","Ware House Name"],ProStoreID:["Store Code","Store Name","Ware House Name"],MatWareHouseID:["Ware House Code","Ware House Name"],MaterialStockDetailsCode:["MaterialStockDetailsCode"],StockYearEndKey:["MaterialStockDetailsCode"],StockOpeningQty:["MaterialStockDetailsCode"],StockClosingQty:["MaterialStockDetailsCode"],StockCurrentQty:["MaterialStockDetailsCode"],StockAvailableQty:["MaterialStockDetailsCode"],StockCommittedQty:["MaterialStockDetailsCode"],StockCostValue:["MaterialStockDetailsCode"],StockCostPrice:["MaterialStockDetailsCode"],StockQuantity:["MaterialStockDetailsCode"],StockPieces:["MaterialStockDetailsCode"],CustomerID:["MaterialStockDetailsCode"],LocalityGroupID:["MaterialStockDetailsCode"],MaterialID:["Material Code","Material Name"],MatBatchID:["MaterialStockDetailsCode"]}},Property:{MaterialStockDetailRegistry:{ContractID:{id:"fld366_24914",clearID:"MaterialStockDetailRegistryContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",fieldOrder:"1",frmctrlid:"fld366_24914",frmctrlidname:"ContractID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},StockID:{id:"fld1390_3644501",clearID:"MaterialStockDetailRegistryStockNameClear",type:"select",labelID:"StockIDPK",labelname:"Stock",fielddisplayname:"StockName",fieldorder:"1",formctrlid:"fld1390_3644501",formctrlidname:"StockID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},LocalityID:{id:"fld366_24915",clearID:"MaterialStockDetailRegistryLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",fieldOrder:"2",frmctrlid:"fld366_24915",frmctrlidname:"LocalityID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MatBinID:{id:"fld366_24922",clearID:"MaterialStockDetailRegistryMatBinNameClear",type:"select",labelID:"MatBinIDPK",labelname:"Bin",fielddisplayname:"MatBinName",fieldOrder:"3",frmctrlid:"fld366_24922",frmctrlidname:"MatBinID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ProStoreID:{id:"fld366_24919",clearID:"MaterialStockDetailRegistryProStoreNameClear",type:"select",labelID:"ProStoreIDPK",labelname:"Store",fielddisplayname:"ProStoreName",fieldOrder:"4",frmctrlid:"fld366_24919",frmctrlidname:"ProStoreID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MatWareHouseID:{id:"fld366_24918",clearID:"MaterialStockDetailRegistryWareHouseNameClear",type:"select",labelID:"MatWareHouseIDPK",labelname:"Warehouse",fielddisplayname:"WareHouseName",fieldOrder:"1",frmctrlid:"fld366_24918",frmctrlidname:"MatWareHouseID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},MaterialStockDetailsCode:{id:"fld366_24901",labelID:"MaterialStockDetailsCode",maxLength:"50",labelname:"MaterialStockDetailsCode",frmctrlid:"fld366_24901",frmctrlidname:"MaterialStockDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockYearEndKey:{id:"fld366_24902",labelID:"StockYearEndKey",maxLength:"",labelname:"StockYearEndKey",frmctrlid:"fld366_24902",frmctrlidname:"StockYearEndKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockOpeningQty:{id:"fld366_24903",labelID:"StockOpeningQty",maxLength:"",labelname:"StockOpeningQty",frmctrlid:"fld366_24903",frmctrlidname:"StockOpeningQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockClosingQty:{id:"fld366_24904",labelID:"StockClosingQty",maxLength:"",labelname:"StockClosingQty",frmctrlid:"fld366_24904",frmctrlidname:"StockClosingQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockCurrentQty:{id:"fld366_24905",labelID:"StockCurrentQty",maxLength:"",labelname:"StockCurrentQty",frmctrlid:"fld366_24905",frmctrlidname:"StockCurrentQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockAvailableQty:{id:"fld366_24906",labelID:"StockAvailableQty",maxLength:"",labelname:"StockAvailableQty",frmctrlid:"fld366_24906",frmctrlidname:"StockAvailableQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockCommittedQty:{id:"fld366_24907",labelID:"StockCommittedQty",maxLength:"",labelname:"StockCommittedQty",frmctrlid:"fld366_24907",frmctrlidname:"StockCommittedQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockCostValue:{id:"fld366_24908",labelID:"StockCostValue",maxLength:"",labelname:"StockCostValue",frmctrlid:"fld366_24908",frmctrlidname:"StockCostValue",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockCostPrice:{id:"fld366_24909",labelID:"StockCostPrice",maxLength:"",labelname:"StockCostPrice",frmctrlid:"fld366_24909",frmctrlidname:"StockCostPrice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockQuantity:{id:"fld366_24910",labelID:"StockQuantity",maxLength:"",labelname:"StockQuantity",frmctrlid:"fld366_24910",frmctrlidname:"StockQuantity",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StockPieces:{id:"fld366_24911",labelID:"StockPieces",maxLength:"",labelname:"StockPieces",frmctrlid:"fld366_24911",frmctrlidname:"StockPieces",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CustomerID:{id:"fld366_24916",clearID:"MaterialStockDetailRegistryCustomerNameClear",type:"select",labelID:"CustomerIDPK",labelname:"CustomerID",fielddisplayname:"CustomerName",fieldOrder:"1",frmctrlid:"fld366_24916",frmctrlidname:"CustomerID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},LocalityGroupID:{id:"fld366_24917",clearID:"MaterialStockDetailRegistryLocalityGroupNameClear",type:"select",labelID:"LocalityGroupIDPK",labelname:"LocalityGroupID",fielddisplayname:"LocalityGroupName",fieldOrder:"1",frmctrlid:"fld366_24917",frmctrlidname:"LocalityGroupID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MaterialID:{id:"fld366_24920",clearID:"MaterialStockDetailRegistryMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",fieldOrder:"1",frmctrlid:"fld366_24920",frmctrlidname:"MaterialID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MatBatchID:{id:"fld366_24921",clearID:"MaterialStockDetailRegistryMatBatchCodeClear",type:"select",labelID:"MatBatchIDPK",labelname:"MatBatchID",fielddisplayname:"MatBatchCode",fieldOrder:"1",frmctrlid:"fld366_24921",frmctrlidname:"MatBatchID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{MaterialStockDetailRegistry:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],MatBinID:["IsActive","MatBinCode","IsDraft","CreatedTtm","MatBinName"],ProStoreID:["ProStoreCode","ProStoreName","MatProStoreAddress1","MatProStoreAddress2","POBoxNo","Pincode","CityName"],MatWareHouseID:["WareHouseCode","WareHouseName","WHAddress1","WHAddress2","POBoxNo","Pincode","CityName","IsActive","CreatedTtm","UpdatedTtm"],CustomerID:["CustomerCode","CustomerName","CityName","PhoneNo1","Email","CreatedTtm","IsActive"],LocalityGroupID:["LocalityGroupCode","LocalityGroupName"],MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],MatBatchID:["BatchNo","MatBatchCode","IsActive","IsDraft","AvailableQuantity","MatDate","CreatedTtm","MatBatchCode"]}}};var _=a(20067),U=(a(79117),a(63163),a(45155)),Y=(a(49174),a(38773),a(19089),a(16233)),j=a.n(Y),$=(a(82729),a(75355),a(11107),a(25108));const q={MaterialStockDetailsIDPK:"",MaterialStockDetailsCode:"",StockYearEndKey:"",StockOpeningQty:"",StockClosingQty:"",StockCurrentQty:"",StockAvailableQty:"",StockCommittedQty:"",StockCostValue:"",StockCostPrice:"",StockQuantity:"",StockPieces:"",IsDraft:!1,Remarks:"",ContractID:null,LocalityID:null,CustomerID:null,LocalityGroupID:null,MatWareHouseID:null,ProStoreID:null,MaterialID:null,MatBatchID:null,MatBinID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",CustGroupID:null,CustGroupCode:"",CustGroupName:"",BusinessClasificationID:null,ClasificationCode:"",ClasificationName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",BatchNo:"",MatBatchCode:"",ZoneID:null,ZoneCode:"",ZoneDisplayName:"",ZoneName:"",MatBinCode:"",MatBinName:"",StockID:"MATERAILSTOCKDETAILS",Type:"MaterialStockDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},J=[{StockName:"Stock Details",StockID:"MATERAILSTOCKDETAILS",TotalCount:2},{StockName:"Stock Consolidate",StockID:"MATERAILSTOCKCONSOLIDATE"}],X=(0,l.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const[a,m]=(0,l.useState)(!1),[s,d]=(0,l.useState)(!0),[D,S]=(0,l.useState)(!1),[M,I]=(0,l.useState)(!1),[N,k]=(0,l.useState)(""),[h,v]=(0,l.useState)(!1),[f,E]=(0,l.useState)([]),[b,T]=(0,l.useState)(null),[P,x]=(0,l.useReducer)(V.Z,q),[B,L]=(0,l.useState)(!1),[w,R]=(0,l.useState)([]),[A,H]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:oe),{cstate:O,cdispatch:F}=e.ContextApi?e.ContextApi:ie(),[z,Q]=(0,l.useState)(0),[Y,X]=(0,l.useState)(""),[ee,te]=((0,l.useRef)(null),j()("366")),[ae,le]=(0,l.useState)(!0),[ne,re]=(0,l.useState)(!0),[ce,me]=(0,l.useState)(!0),[ue,se]=(0,l.useState)(!0),[de,pe]=(0,l.useState)(!0),[ye,Ce]=(0,l.useState)(!0),[De,Se]=(0,l.useState)(!0),[ge,Me]=(0,l.useState)(!0),[Ie,Ne]=(0,l.useState)(!0),[ke,he]=(0,l.useState)(!0),[ve,fe]=(0,l.useState)(!0),[Ee,be]=(0,l.useState)(!1);let Te=(0,g.Z)();const[Pe,xe]=(0,l.useState)({}),Be=e=>Te[e]?Te[e]:e,Le=t=>O.language?.[t]?O.language[t]:e.createEasy?Pe?.[t]:t;(0,l.useEffect)((()=>{Re(),O.editData.length<0&&(0,Z.Z)(1).then((e=>{Ae(1,null,"SetDefaultMaterialStockDetailsID",e)}))}),[]),(0,l.useEffect)((()=>{O.editData.length>0?(we(O.editData[0],""),S(!0)):O.Add&&(Re(),Ae(1,null,"SetDefaultMaterialStockDetailsID",O.token[0]),S(!0))}),[O.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),xe(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Re()},CreateEasyProps:(e=!0,t)=>{var a;te(!0),t?(a=t,G.ConfirmAlert(null),I(a.IsDraft),Q(Number(a.MaterialStockDetailsIDPK)?Number(a.MaterialStockDetailsIDPK):0),x({type:"number",name:"ContractID",number:a.ContractID?Number(a.ContractID):0}),x({type:"text",name:"ContractName",value:a.ContractName?a.ContractName:""}),x({type:"number",name:"LocalityID",number:a.LocalityID?Number(a.LocalityID):0}),x({type:"text",name:"LocalityName",value:a.LocalityName?a.LocalityName:""}),x({type:"number",name:"MatBinID",number:a.MatBinID?Number(a.MatBinID):0}),x({type:"text",name:"MatBinName",value:a.MatBinName?a.MatBinName:""}),x({type:"number",name:"ProStoreID",number:a.ProStoreID?Number(a.ProStoreID):0}),x({type:"text",name:"ProStoreName",value:a.ProStoreName?a.ProStoreName:""}),x({type:"number",name:"MatWareHouseID",number:a.MatWareHouseID?Number(a.MatWareHouseID):0}),x({type:"text",name:"WareHouseName",value:a.WareHouseName?a.WareHouseName:""}),x({type:"text",name:"MaterialStockDetailsCode",value:a.MaterialStockDetailsCode?a.MaterialStockDetailsCode:""}),x({type:"text",name:"StockYearEndKey",value:a.StockYearEndKey?a.StockYearEndKey:""}),x({type:"text",name:"StockOpeningQty",value:a.StockOpeningQty?a.StockOpeningQty:""}),x({type:"text",name:"StockClosingQty",value:a.StockClosingQty?a.StockClosingQty:""}),x({type:"text",name:"StockCurrentQty",value:a.StockCurrentQty?a.StockCurrentQty:""}),x({type:"text",name:"StockAvailableQty",value:a.StockAvailableQty?a.StockAvailableQty:""}),x({type:"text",name:"StockCommittedQty",value:a.StockCommittedQty?a.StockCommittedQty:""}),x({type:"text",name:"StockCostValue",value:a.StockCostValue?a.StockCostValue:""}),x({type:"text",name:"StockCostPrice",value:a.StockCostPrice?a.StockCostPrice:""}),x({type:"text",name:"StockQuantity",value:a.StockQuantity?a.StockQuantity:""}),x({type:"text",name:"StockPieces",value:a.StockPieces?a.StockPieces:""}),x({type:"number",name:"CustomerID",number:a.CustomerID?Number(a.CustomerID):0}),x({type:"text",name:"CustomerName",value:a.CustomerName?a.CustomerName:""}),x({type:"number",name:"LocalityGroupID",number:a.LocalityGroupID?Number(a.LocalityGroupID):0}),x({type:"text",name:"LocalityGroupName",value:a.LocalityGroupName?a.LocalityGroupName:""}),x({type:"number",name:"MaterialID",number:a.MaterialID?Number(a.MaterialID):0}),x({type:"text",name:"MaterialName",value:a.MaterialName?a.MaterialName:""}),x({type:"number",name:"MatBatchID",number:a.MatBatchID?Number(a.MatBatchID):0}),x({type:"text",name:"MatBatchCode",value:a.MatBatchCode?a.MatBatchCode:""}),S(e)):(Re(),S(e))}})));const we=(t,a)=>{I(t.IsDraft),"SetDefaultMaterialStockDetailsID"==a?X(t.MaterialStockDetailsIDPK):(Q(e.primid?Number(e.primid):t.MaterialStockDetailsIDPK),F({type:"PrimaryId",payload:t.MaterialStockDetailsIDPK})),x({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),x({type:"text",name:"ContractName",value:t.ContractName}),x({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),x({type:"text",name:"LocalityName",value:t.LocalityName}),x({type:"number",name:"MatBinID",number:t.MatBinID?Number(t.MatBinID):0}),x({type:"text",name:"MatBinName",value:t.MatBinName}),x({type:"number",name:"ProStoreID",number:t.ProStoreID?Number(t.ProStoreID):0}),x({type:"text",name:"ProStoreName",value:t.ProStoreName}),x({type:"number",name:"MatWareHouseID",number:t.MatWareHouseID?Number(t.MatWareHouseID):0}),x({type:"text",name:"WareHouseName",value:t.WareHouseName}),x({type:"text",name:"MaterialStockDetailsCode",value:t.MaterialStockDetailsCode?t.MaterialStockDetailsCode:""}),x({type:"number",name:"StockYearEndKey",number:t.StockYearEndKey}),x({type:"number",name:"StockOpeningQty",number:Number(t.StockOpeningQty)}),x({type:"number",name:"StockClosingQty",number:Number(t.StockClosingQty)}),x({type:"number",name:"StockCurrentQty",number:Number(t.StockCurrentQty)}),x({type:"number",name:"StockAvailableQty",number:Number(t.StockAvailableQty)}),x({type:"number",name:"StockCommittedQty",number:Number(t.StockCommittedQty)}),x({type:"number",name:"StockCostValue",number:Number(t.StockCostValue)}),x({type:"number",name:"StockCostPrice",number:Number(t.StockCostPrice)}),x({type:"number",name:"StockQuantity",number:Number(t.StockQuantity)}),x({type:"number",name:"StockPieces",number:t.StockPieces}),x({type:"number",name:"CustomerID",number:t.CustomerID?Number(t.CustomerID):0}),x({type:"text",name:"CustomerName",value:t.CustomerName}),x({type:"number",name:"LocalityGroupID",number:t.LocalityGroupID?Number(t.LocalityGroupID):0}),x({type:"text",name:"LocalityGroupName",value:t.LocalityGroupName}),x({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),x({type:"text",name:"MaterialName",value:t.MaterialName}),x({type:"number",name:"MatBatchID",number:t.MatBatchID?Number(t.MatBatchID):0}),x({type:"text",name:"MatBatchCode",value:t.MatBatchCode}),t.IsDraft?d(!0):d(!("1"!=t.IsActive&&!t.IsActive))},Re=()=>{E([]),Q(0),X(""),e.createEasy||G.resetImg(),F({type:"PrimaryId",payload:""}),x({type:"text",name:"ContractID",value:null}),x({type:"text",name:"ContractName",value:""}),document.getElementById("MaterialStockDetailRegistryContractNameClear")&&document.getElementById("MaterialStockDetailRegistryContractNameClear").click(),x({type:"text",name:"StockID",value:"MATERAILSTOCKDETAILS"}),x({type:"text",name:"StockName",value:"Stock Details"}),x({type:"text",name:"LocalityID",value:null}),x({type:"text",name:"LocalityName",value:""}),document.getElementById("MaterialStockDetailRegistryLocalityNameClear")&&document.getElementById("MaterialStockDetailRegistryLocalityNameClear").click(),x({type:"text",name:"MatBinID",value:null}),x({type:"text",name:"MatBinName",value:""}),document.getElementById("MaterialStockDetailRegistryMatBinNameClear")&&document.getElementById("MaterialStockDetailRegistryMatBinNameClear").click(),x({type:"text",name:"ProStoreID",value:null}),x({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialStockDetailRegistryProStoreNameClear")&&document.getElementById("MaterialStockDetailRegistryProStoreNameClear").click(),x({type:"text",name:"MatWareHouseID",value:null}),x({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialStockDetailRegistryWareHouseNameClear")&&document.getElementById("MaterialStockDetailRegistryWareHouseNameClear").click(),x({type:"text",name:"MaterialStockDetailsCode",value:""}),x({type:"number",name:"StockYearEndKey",number:0}),x({type:"number",name:"StockOpeningQty",number:0}),x({type:"number",name:"StockClosingQty",number:0}),x({type:"number",name:"StockCurrentQty",number:0}),x({type:"number",name:"StockAvailableQty",number:0}),x({type:"number",name:"StockCommittedQty",number:0}),x({type:"number",name:"StockCostValue",number:0}),x({type:"number",name:"StockCostPrice",number:0}),x({type:"number",name:"StockQuantity",number:0}),x({type:"number",name:"StockPieces",number:0}),x({type:"text",name:"CustomerID",value:null}),x({type:"text",name:"CustomerName",value:""}),document.getElementById("MaterialStockDetailRegistryCustomerNameClear")&&document.getElementById("MaterialStockDetailRegistryCustomerNameClear").click(),x({type:"text",name:"LocalityGroupID",value:null}),x({type:"text",name:"LocalityGroupName",value:""}),document.getElementById("MaterialStockDetailRegistryLocalityGroupNameClear")&&document.getElementById("MaterialStockDetailRegistryLocalityGroupNameClear").click(),x({type:"text",name:"MaterialID",value:null}),x({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialStockDetailRegistryMaterialNameClear")&&document.getElementById("MaterialStockDetailRegistryMaterialNameClear").click(),x({type:"text",name:"MatBatchID",value:null}),x({type:"text",name:"MatBatchCode",value:""}),document.getElementById("MaterialStockDetailRegistryMatBatchCodeClear")&&document.getElementById("MaterialStockDetailRegistryMatBatchCodeClear").click(),d(!0),k(""),le(!0),re(!0),me(!0),se(!0),pe(!0),Ce(!0),Se(!0),Me(!0),Ne(!0),he(!0),fe(!0)},Ze=()=>{let e={ContractID:P.ContractID?P.ContractID:null,LocalityID:P.LocalityID?P.LocalityID:null,MatWareHouseID:P.MatWareHouseID?P.MatWareHouseID:null,MaterialID:P.MaterialID?P.MaterialID:null,ProStoreID:P.ProStoreID?P.ProStoreID:null,Stock:P.Stock};return G.RefreshTable(e),$.log("json",e),!1},Ae=(t,a,l,n,r,o)=>{const i=C.v.Api+"FP366S3/",m={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:"0"==P.ContractID?null:P.ContractID,p16:"0"==P.LocalityID?null:P.LocalityID,p17:"0"==P.CustomerID?null:P.CustomerID,p18:"0"==P.LocalityGroupID?null:P.LocalityGroupID,p19:"0"==P.MatWareHouseID?null:P.MatWareHouseID,p20:"0"==P.ProStoreID?null:P.ProStoreID,p21:"0"==P.MaterialID?null:P.MaterialID,p22:"0"==P.MatBatchID?null:P.MatBatchID,p23:"0"==P.MatBinID?null:P.MatBinID,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:"0"==P.ContractGroupID?null:P.ContractGroupID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==P.TaxID?null:P.TaxID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:"0"==P.ContractTypeID?null:P.ContractTypeID,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==P.ContractCategID?null:P.ContractCategID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==P.ConPaymentTermsID?null:P.ConPaymentTermsID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==P.CityID?null:P.CityID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==P.AdminLocalityTypeID?null:P.AdminLocalityTypeID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:"0"==P.EmployeeID?null:P.EmployeeID,p61:a?"%"+a+"%":null,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:"0"==P.RegionID?null:P.RegionID,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:"0"==P.CountryID?null:P.CountryID,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:"0"==P.CustGroupID?null:P.CustGroupID,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:"0"==P.BusinessClasificationID?null:P.BusinessClasificationID,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:a?"%"+a+"%":null,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:"0"==P.MatProcessTypeID?null:P.MatProcessTypeID,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:"0"==P.MaterialTypeID?null:P.MaterialTypeID,p85:a?"%"+a+"%":null,p86:a?"%"+a+"%":null,p87:"0"==P.MaterialMainClassID?null:P.MaterialMainClassID,p88:a?"%"+a+"%":null,p89:a?"%"+a+"%":null,p90:"0"==P.MatSubClassID?null:P.MatSubClassID,p91:a?"%"+a+"%":null,p92:a?"%"+a+"%":null,p93:"0"==P.MaterialMakeID?null:P.MaterialMakeID,p94:a?"%"+a+"%":null,p95:a?"%"+a+"%":null,p96:"0"==P.MaterialModelID?null:P.MaterialModelID,p97:a?"%"+a+"%":null,p98:a?"%"+a+"%":null,p99:"0"==P.MATUOMID?null:P.MATUOMID,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:"0"==P.MatGradeID?null:P.MatGradeID,p103:a?"%"+a+"%":null,p104:a?"%"+a+"%":null,p105:"0"==P.MatMaterialColorID?null:P.MatMaterialColorID,p106:a?"%"+a+"%":null,p107:a?"%"+a+"%":null,p108:"0"==P.MadeRawMaterialID?null:P.MadeRawMaterialID,p109:a?"%"+a+"%":null,p110:a?"%"+a+"%":null,p111:"0"==P.MatMaterialSizeID?null:P.MatMaterialSizeID,p112:a?"%"+a+"%":null,p113:a?"%"+a+"%":null,p114:a?"%"+a+"%":null,p115:a?"%"+a+"%":null,p116:a?"%"+a+"%":null,p117:a?"%"+a+"%":null,p118:"0"==P.ZoneID?null:P.ZoneID,p119:a?"%"+a+"%":null,p120:a?"%"+a+"%":null,p121:a?"%"+a+"%":null,p122:a?"%"+a+"%":null,p123:a?"%"+a+"%":null,p124:t,p125:10,p126:l,p127:null,p128:null,p129:localStorage.getItem("UserGroupID"),p130:localStorage.getItem("userid")}},u=Object.keys(m.data).slice(0,Object.keys(m.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(m.data).length-8?m.data[t]:null,e)),{});L(!0);const s={data:u};return(0,c.Z)(i,"ClearAll"==l?s:m,"SetDefaultMaterialStockDetailsID"==l&&n?n:O.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return n?n[0]:{};R(1==t?e>0?n:[]:w.concat(n)),"SetDefaultMaterialStockDetailsID"==l&&(e>0?we(n[0],"SetDefaultMaterialStockDetailsID"):X("NORECORDS")),L(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),L(!1)}))},He=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a?x({type:"text",name:t,value:e}):"select"==a&&("ContractID"==t?(x({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),x({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null})):"LocalityID"==t?(x({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),x({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"MatBinID"==t?(x({type:"text",name:"MatBinID",value:e.MatBinIDPK?e.MatBinIDPK:null}),x({type:"text",name:"MatBinName",value:e.MatBinName?e.MatBinName:null})):"ProStoreID"==t?(x({type:"text",name:"ProStoreID",value:e.ProStoreIDPK?e.ProStoreIDPK:null}),x({type:"text",name:"ProStoreName",value:e.ProStoreName?e.ProStoreName:null}),x({type:"text",name:"MatWareHouseID",value:e.MatWareHouseID?e.MatWareHouseID:null}),x({type:"text",name:"WareHouseName",value:e.WareHouseName?e.WareHouseName:null})):"MatWareHouseID"==t?(x({type:"text",name:"MatWareHouseID",value:e.MatWareHouseIDPK?e.MatWareHouseIDPK:null}),x({type:"text",name:"WareHouseName",value:e.WareHouseName?e.WareHouseName:null})):"MaterialID"==t?(x({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),x({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null})):"StockID"==t&&($.log(e,e.StockID,e.StockName,"STOCK"),x({type:"text",name:"StockID",value:e.StockID?e.StockID:null}),x({type:"text",name:"StockName",value:e.StockName?e.StockName:null})))}),[P]);function Ge(e){"ContractID"==e?(x({type:"text",name:"ContractID",value:null}),x({type:"text",name:"ContractName",value:""}),document.getElementById("MaterialStockDetailRegistryContractNameClear")&&document.getElementById("MaterialStockDetailRegistryContractNameClear").click()):"StockID"==e?(x({type:"text",name:"StockID",value:null}),x({type:"text",name:"StockName",value:""}),document.getElementById("MaterialStockDetailRegistryStockNameClear")&&document.getElementById("MaterialStockDetailRegistryStockNameClear").click()):"LocalityID"==e?(x({type:"text",name:"LocalityID",value:null}),x({type:"text",name:"LocalityName",value:""}),document.getElementById("MaterialStockDetailRegistryLocalityNameClear")&&document.getElementById("MaterialStockDetailRegistryLocalityNameClear").click()):"MatBinID"==e?(x({type:"text",name:"MatBinID",value:null}),x({type:"text",name:"MatBinName",value:""}),document.getElementById("MaterialStockDetailRegistryMatBinNameClear")&&document.getElementById("MaterialStockDetailRegistryMatBinNameClear").click()):"ProStoreID"==e?(x({type:"text",name:"ProStoreID",value:null}),x({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialStockDetailRegistryProStoreNameClear")&&document.getElementById("MaterialStockDetailRegistryProStoreNameClear").click(),x({type:"text",name:"MatWareHouseID",value:null}),x({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialStockDetailRegistryWareHouseNameClear")&&document.getElementById("MaterialStockDetailRegistryWareHouseNameClear").click()):"MatWareHouseID"==e?(x({type:"text",name:"MatWareHouseID",value:null}),x({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialStockDetailRegistryWareHouseNameClear")&&document.getElementById("MaterialStockDetailRegistryWareHouseNameClear").click()):"CustomerID"==e||"LocalityGroupID"==e||"MaterialID"==e&&(x({type:"text",name:"MaterialID",value:null}),x({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialStockDetailRegistryMaterialNameClear")&&document.getElementById("MaterialStockDetailRegistryMaterialNameClear").click())}function Oe(e){"ContractID"==e?x({type:"text",name:"ContractID",value:null}):"LocalityID"==e?x({type:"text",name:"LocalityID",value:null}):"MatBinID"==e?x({type:"text",name:"MatBinID",value:null}):"ProStoreID"==e?x({type:"text",name:"ProStoreID",value:null}):"MatWareHouseID"==e?x({type:"text",name:"MatWareHouseID",value:null}):"CustomerID"==e||"LocalityGroupID"==e||"MaterialID"==e&&x({type:"text",name:"MaterialID",value:null})}return n().createElement("div",null,n().createElement(o.Z,{expanded:D,onChange:e=>{}},n().createElement(i.Z,null,n().createElement("div",{id:"MaterialStockDetailRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"MaterialStockDetailRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"MaterialStockDetailRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:2,md:2,lg:2,sm:2},n().createElement(W.Z,{json:K,id:P.ContractID,"data-testid":P.ContractID,value:P.ContractName,SPName:"MaterialStockDetailRegistry",FieldName:"ContractID",tfLabel:Le("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"ContractID","select"),onChange:(e,t)=>{Ae(e,t,"ContractIDPK")},KeyBack:e=>{Oe("ContractID")},fieldorder:"1",data:w,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:w.length>0?w[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:B,clear:e=>{e&&Ge("ContractID")}})),n().createElement(y.Z,{xs:2,md:2,lg:2,sm:2},n().createElement(W.Z,{json:K,id:P.LocalityID,"data-testid":P.LocalityID,value:P.LocalityName,SPName:"MaterialStockDetailRegistry",FieldName:"LocalityID",tfLabel:Le("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"LocalityID","select"),onChange:(e,t)=>{Ae(e,t,"LocalityIDPK")},KeyBack:e=>{Oe("LocalityID")},fieldorder:"2",data:w,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:w.length>0?w[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:B,clear:e=>{e&&Ge("LocalityID")}})),n().createElement(y.Z,{xs:2,md:2,lg:2,sm:2},n().createElement(W.Z,{json:K,id:P.ProStoreID,"data-testid":P.ProStoreID,value:P.ProStoreName,SPName:"MaterialStockDetailRegistry",FieldName:"ProStoreID",tfLabel:Le("ProStoreID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"ProStoreID","select"),onChange:(e,t)=>{Ae(e,t,"ProStoreIDPK")},KeyBack:e=>{Oe("ProStoreID")},fieldorder:"3",data:w,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:w.length>0?w[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:B,clear:e=>{e&&Ge("ProStoreID")}})),n().createElement(y.Z,{xs:2,md:2,lg:2,sm:2},n().createElement(W.Z,{json:K,id:P.MatWareHouseID,"data-testid":P.MatWareHouseID,value:P.WareHouseName,SPName:"MaterialStockDetailRegistry",FieldName:"MatWareHouseID",tfLabel:Le("MatWareHouseID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"MatWareHouseID","select"),onChange:(e,t)=>{Ae(e,t,"MatWareHouseIDPK")},KeyBack:e=>{Oe("MatWareHouseID")},fieldorder:"4",data:w,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:w.length>0?w[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:B,clear:e=>{e&&Ge("MatWareHouseID")}})),n().createElement(y.Z,{xs:2,md:2,lg:2,sm:2},n().createElement(W.Z,{json:K,id:P.MaterialID,"data-testid":P.MaterialID,value:P.MaterialName,SPName:"MaterialStockDetailRegistry",FieldName:"MaterialID",tfLabel:Le("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"MaterialID","select"),onChange:(e,t)=>{Ae(e,t,"MaterialIDPK")},KeyBack:e=>{Oe("MaterialID")},fieldorder:"4",data:w,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:w.length>0?w[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:B,clear:e=>{e&&Ge("MaterialID")}})),n().createElement(y.Z,{xs:2,md:2,lg:2,sm:2,className:"flexEnd",style:{textAlign:"initial"}},n().createElement(W.Z,{value:P.StockName,json:K,SPName:"MaterialStockDetailRegistry",FieldName:"StockID",EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>He(e,"StockID","select"),onChange:(e,t)=>{$.log(t,"Stock")},KeyBack:e=>{Oe("Stock")},fieldorder:"5",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:B,SideEntryView:!1,clear:e=>{e&&Ge("StockID")}})),n().createElement(y.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",padding:"0px 30px"}},n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Re()},id:"fld4L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(U.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Be("Reset")))),n().createElement("div",null,n().createElement(u.Z,{name:"Show",className:"  boxShadowNone SubmitBtnIcon ShowBtn",disabled:!1,startIcon:n().createElement(_.Z,{style:{marginRight:"8px",fontSize:"15px"}}),onClick:()=>{(e=>{if(!P.ContractID||0==P.ContractID)return G.alert({open:!0,color:"warning",message:[Be("Please select the Contract Name")]}),!1;(e=>{Ze(e)})(void 0)})()}}," Show"))))),n().createElement("div",{id:"MaterialStockDetailRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MaterialStockDetailRegistrySideBar").style.width="0",void v(!1))},"×"),h&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))}));a(77366),a(59562);var ee=a(65197);const te=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[m,u]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[s,d]=(0,l.useState)(!0),[p,y]=(0,l.useState)(e.showDetail),[D,S]=(0,l.useState)(""),[M,I]=n().useState(!1),[N,k]=n().useState(""),[h,v]=n().useState(!1),f=(0,l.useContext)(oe),{cstate:E,cdispatch:b}=ie(),[T,x]=(0,l.useState)(!1),[B,L]=(0,l.useState)(""),[R,A]=(0,l.useState)(""),[H,G]=(0,l.useState)("");let O=(0,g.Z)();(0,l.useEffect)((()=>{E.editData.length>0&&(u(E.editData),I(!1),b({type:"PrimaryId",payload:E.editData[0].MaterialStockDetailsIDPK}))}),[E.editData]),(0,l.useEffect)((()=>{E.showTableview&&G(E.showTableview)}),[E.showTableview]),(0,l.useEffect)((()=>{d(E.ExpandDetailValue)}),[E.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{d(e),I(null)},viewtoggle:()=>{I(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=C.v.Api+"FP366S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:null,p123:null,p124:1,p125:10,p126:E.IsDraft?"DraftMaterialStockDetailsID":"MaterialStockDetailsID",p127:null,p128:null,p129:localStorage.getItem("UserGroupID"),p130:localStorage.getItem("userid")}};(0,Z.Z)(0).then((e=>{(0,c.Z)(l,n,e).then((e=>{f.loading(!1),"200"==e.Output.status.code&&u(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const F=e=>O?.[e]?O?.[e]:e,W=e=>E.language?.[e]?E.language[e]:e;function V(e,t){}const K=(e,t)=>(a,l)=>{k(h?Object.assign(...m.filter((e=>e.MaterialStockDetailsIDPK==t)).map((e=>e))):E.editData),I(!l&&e)};return n().createElement("div",null,n().createElement(o.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&d(!s)}},!M&&n().createElement(P.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},E.IsDraft?F("Draft"):"",W("MaterialStockDetailRegistry"),e.viewonly?" ":"("+E.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&E.AccessRights.IsAdd?n().createElement(w.Z,{name:F("Add"),frmctrlid:"fld366L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{f.hideAddBtn(!0),b({type:"editData",payload:[]}),b({type:"ShowDetail",payload:!1}),b({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&E.AccessRights.IsEdit?n().createElement(Q.Z,{frmctrlid:"fld366L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):E.IsDraft&&E.AccessRights.IsAdd&&n().createElement(Q.Z,{frmctrlid:"fld366L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&n().createElement(z.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld366L1VCCloseBtn",onClick:()=>{d(!1),f.hideAddBtn(!1),h&&(b({type:"editData",payload:[]}),u([]))}})):"")),n().createElement(i.Z,{style:{display:"block"}},m.map(((e,t)=>n().createElement("div",{key:t},M==="panel"+t?n().createElement(X,{ref:a}):n().createElement(n().Fragment,null,n().createElement(ee.Z,{tableName:"MaterialStockDetailRegistry",tableID:366,parentID:e.MaterialStockDetailsIDPK,fldid:"fld366L1VCContainer",OpenSlideComponent:V,index:t,refresh:H,val:e,tf:W,t:F,title:"9.0.0.2-08:47:45-5-4"}))))))))}));var ae=a(67698),le=a(55995),ne=a(45965),re=a(41722);a(9175);const oe=(0,l.createContext)(),ie=()=>{const e=(0,l.useContext)(oe);if(void 0===e)throw new Error("useCont must be used within  MaterialStockDetailRegistryContext Provider");return e},ce=[],me=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),o=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),m=(0,l.useRef)(),[u,s]=(0,l.useState)(!0),[d,p]=(0,l.useState)(),y=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[C,D]=(0,l.useState)(0),[S,g]=(0,l.useReducer)(re.D,re.E),[M,I]=(0,l.useState)(""),[N,k]=(0,l.useState)([]),[h,v]=(0,l.useState)(!1),[f,E]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.parentId&&I(e.parentId)}),[e.parentId]),(0,l.useEffect)((()=>{e.loading(!0),e.tableview||o.current.clear(),document.getElementById("divMaterialStockDetailRegistry-Entry").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainTable").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{s(!0),document.getElementById("divMaterialStockDetailRegistry-Entry").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainTable").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]);const b=e=>{document.getElementById("divMaterialStockDetailRegistry-Entry").style.width="100%",document.getElementById("MaterialStockDetailRegistryEntryTable").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainEntry").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainEntry").style.display="block",document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialStockDetailRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialStockDetailRegistry").style.display="none"};(0,l.useEffect)((()=>{y((e=>{(0,Z.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),D(t.length),T(e)}))}))}),[]);const T=e=>{(0,ne.Z)(e,366).then((e=>g({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(oe.Provider,{value:{cstate:S,cdispatch:g,ContextApi:ie,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:e=>{a.current.tableRefresh(e)},searchItem:e=>{0!==C&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{m.current.tempsave(e,N),k([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(S.PrimaryId),void(u&&(document.getElementById("overlayimgAttMaterialStockDetailRegistry").style.width="25%",document.getElementById("overlayPreviewMaterialStockDetailRegistry").style.width="50%",document.getElementById("divMaterialStockDetailRegistry-Entry").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainTable").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainEntry").style.width="100%",document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialStockDetailRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMaterialStockDetailRegistry").style.display="block",document.getElementById("overlayimgAttMaterialStockDetailRegistry").style.width="25%"))),Expanded:e=>{S.ShowDetail&&i.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{S.ShowDetail&&i.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),S.ShowDetail?i.current.clear(e):o.current.clear(e)},stockData:(e,t)=>a.current.Stocktable(e,t),hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{S.ShowDetail?i.current.tableClick(!1):o.current.CreateEasyProps(!1)},resetImg:()=>{m.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"MaterialStockDetailRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"MaterialStockDetailRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"MaterialStockDetailRegistryEntryTable",style:{width:"100%"}},S.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialStockDetailRegistry-Entry",style:{width:"100%"}},0!==C?n().createElement(te,{ref:i}):null)),n().createElement(le.Z,{ref:m,menurefID:366,fileId:"LogoImgMaterialStockDetailRegistry",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewMaterialStockDetailRegistry",frmctrlid:"PvwIm_366_L1_",tempImg:e=>{S.PrimaryId?c.current.AttachmentData(S.PrimaryId):c.current.tempImg(e),k(e)},clearTempData:S.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialStockDetailRegistry-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(X,{ref:o,clrImgstate:e=>c.current.clrImgstate(e)}))),n().createElement(le.Z,{ref:m,menurefID:366,fileId:"LogoImgMaterialStockDetailRegistry",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewMaterialStockDetailRegistry",frmctrlid:"PvwIm_366_L1_",tempImg:e=>{S.PrimaryId?c.current.AttachmentData(S.PrimaryId):c.current.tempImg(e),k(e)},clearTempData:S.Add})),n().createElement("div",{id:"MaterialStockDetailRegistry-MainTable"},0!==C?n().createElement(F,{ref:a}):null)),n().createElement(ae.Z,{ImgAttachment:e=>b(),menurefID:366,fileId:"AttImgMaterialStockDetailRegistry",imgid:"overlayimgAttMaterialStockDetailRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{m.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialStockDetailRegistry",ref:c,imgloading:d,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_366_L1_",timglist:e=>m.current.timglist(e),clearTempData:S.Add}))),n().createElement("div",{id:"MaterialStockDetailRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},80888:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(92950),n=a.n(l),r=a(282),o=a(90482),i=a(868),c=a(8981);function m(e){return(0,c.Z)(),n().createElement(i.ZP,{placement:"top",title:e.name},n().createElement(r.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,onClick:e.onClick,frmctrlid:e.frmctrlid,startIcon:n().createElement(o.Z,{className:"PrintBtnIcon"})},e.name))}},27771:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(92950),n=a.n(l),r=a(282),o=a(90482),i=a(868),c=a(8981);function m(e){let t=(0,c.Z)();const a=e=>t?.[e]?t[e]:e;return n().createElement(i.ZP,{placement:"top",title:e.name?e.name:a("Import")},n().createElement(r.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,frmctrlid:e.frmctrlid,onClick:e.onClick,startIcon:n().createElement(o.Z,{className:"PrintBtnIcon"})},e.name?e.name:a("Import")))}},24522:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(92950),n=a.n(l),r=a(13089),o=a(61657),i=a(25108);const c=function(e){const[t,a]=(0,l.useState)([]),[c,m]=(0,l.useState)(e.TableVisibleItem),[u,s]=(0,l.useState)(e.TableBodyItem),[d,p]=(0,l.useState)(0),[y,C]=(0,l.useState)({current:1,pageSize:e.pageSize?e.pageSize:100});return(0,l.useEffect)((()=>{m(e.TableVisibleItem)}),[e.TableVisibleItem]),(0,l.useEffect)((()=>{if(e.tableData.length>0){i.log("🚀 ~ file: DynamicTable.js:18 ~ DynamicTable ~ props.tableData:",e.tableData);let t=[],l=[];Object.keys(e.tableData[0]).map((e=>{e.startsWith("Is")||(t.push({id:e,name:e.trim(),type:"varchar"}),l.push(e.trim()))})),m(t),s(l),a(e.tableData)}else a([])}),[e.tableData]),n().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",position:"relative",height:"61vh"}},e.tableData.length>0&&n().createElement("div",{className:"tableTopPagination displayFlex floatOrder",style:{float:"right"}},n().createElement(o.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:t.length,page:d,onChangePage:(e,t)=>{p(t),i.log(t,"newPage"),C({current:t+1,pageSize:y.pageSize})},rowsPerPage:e.pageSize?e.pageSize:100,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})),n().createElement(r.Z,{id:"ExcelMigrationTable",headerdata:c,tablesearchparams:"",searchvalue:e=>{setTableSearchParams(e)},bodydata:(D=t,S=y.pageSize,g=y.current,D.slice((g-1)*S,g*S)),searchdisabled:!0,ondrag:(e,t)=>i.log(e,t),bodyitem:u,visibleitem:c,IsDraft:!1,IsView:!1,IsSub:"",tableExp:!1,accessrights:{},expanded:e=>{},edit:(e,t,a)=>{i.log(e,t,a)},viewtoggle:()=>{},isexpanded:!1,ViewComp:(e,t)=>{}}));var D,S,g}},41270:(e,t,a)=>{a.d(t,{Z:()=>S});var l=a(92950),n=a.n(l),r=a(51667),o=a.n(r),i=a(14439),c=a(27848),m=a(80888),u=a(27771),s=(a(96622),a(80366)),d=a(39803),p=a(24522),y=a(55546),C=a.n(y),D=(a(40900),a(11557),a(51673),a(25108));C().ExcelFile,C().ExcelFile.ExcelSheet;const S=(0,l.forwardRef)(((e,t)=>{const{classes:a}=e,r=(0,l.useRef)(null),y=(0,l.useRef)(null),[C,S]=(0,l.useState)({}),[g,M]=(0,l.useState)([]),[I,N]=(0,l.useState)([]),[k,h]=(0,l.useState)(""),[v,f]=(0,l.useState)(!0),[E,b]=(0,l.useState)(!0);(0,l.useImperativeHandle)(t,(()=>({getRefresh:e=>M(e)})));const T=()=>{M([]),h(""),e.clear(),f(!0),b(!0)};async function P(t,a){e.loading(!0),e.importSave(t,a)}return e.TableBodyItem,D.log("exportData",e.exportData),n().createElement(i.Z,null,n().createElement(c.Z,{sm:12},n().createElement(i.Z,null,n().createElement(c.Z,{sm:2},n().createElement(m.Z,{name:"download",id:e.frmctrlid+"_download",disabled:!1,onClick:e=>{y.current.click()}})),n().createElement(c.Z,{sm:2},n().createElement("input",{type:"file",className:"form-control",id:"myInput",ref:r,style:{display:"none"},onChange:t=>{(t=>{const a=t.target.files;h(t.target.files[0].name);var l=t.target.files[0].name.split(/\.(?=[^\.]+$)/);if(D.log("filename",a),"xls"!=l[1]&&"xlsx"!=l[1]&&"ods"!=l[1])return e.alert({open:!0,color:"error",message:["You can only upload Excel file!"]}),!1;{a&&a[0]&&h(a[0].name);const t=new FileReader,l=!!t.readAsBinaryString;t.onload=t=>{const a=t.target.result,n=o().read(a,{type:l?"binary":"array",bookVBA:!0});if(e.SheetCount>1){var r=n.SheetNames.slice(0,e.SheetCount);let t=[];r.map(((e,a)=>{const l=n.SheetNames[a],r=n.Sheets[l];let i=o().utils.sheet_to_json(r);t.push(i)})),e.data(t)}else{const t=n.SheetNames[0],a=n.Sheets[t],l=o().utils.sheet_to_json(a);let r=function(e,t){let a=[];for(let l=0;l<e.length;l++){let n=e[l],r={};for(let e=0;e<t.length;e++){let a=t[e];r["p"+(e+1)]=n[a]||""}a.push(r)}return a}(l,function(e){const t=[],a=o().utils.decode_range(e["!ref"]);for(let l=a.s.c;l<=a.e.c;++l){const n=e[o().utils.encode_cell({r:a.s.r,c:l})];n&&n.t&&t.push(n.v)}return t}(a));M(r),N((e=>{let t=[],a=o().utils.decode_range(e).e.c+1;for(var l=0;l<a;++l)t[l]={name:o().utils.encode_col(l),key:l};return t})(a["!ref"])),e.data(l,null,2),f(!1)}},l?t.readAsBinaryString(a[0]):t.readAsArrayBuffer(a[0])}})(t)},onClick:e=>{e.target.value=null}}),n().createElement(m.Z,{name:"Browse",id:e.frmctrlid+"_browse2",disabled:!1,onClick:e=>{r.current.click()}})),n().createElement(c.Z,{sm:4},n().createElement(d.Z,{value:k,disabled:!0,multiline:!0,rowsMax:"2",fullWidth:!0,InputProps:{classes:a,endAdornment:k?n().createElement(s.Z,{style:{width:"18px",color:"#777"},onClick:e=>{T()}}):null}})),n().createElement(c.Z,{sm:2},n().createElement(u.Z,{name:"Process",disabled:!!v,id:e.frmctrlid+"_Process",onClick:e=>{P(g,{type:"Process",uid:localStorage.getItem("userid")}),b(!1),f(!0)}})),n().createElement(c.Z,{sm:2},n().createElement(u.Z,{name:"Import",disabled:!!E,id:e.frmctrlid+"_import",onClick:e=>{P(g,{type:"Import",uid:localStorage.getItem("userid")}),T()}})),n().createElement(c.Z,{sm:12},n().createElement(p.Z,{tableData:g,TableVisibleItem:e.TableVisibleItem,TableBodyItem:e.TableBodyItem})))),n().createElement("a",{ref:y,style:{display:"none"},href:e.excelfile,download:e.filename},"Click to download"))}))},13089:(e,t,a)=>{a.d(t,{Z:()=>x});var l=a(92950),n=a.n(l),r=a(79895),o=a(82302),i=a(99613),c=a(88222),m=a(56847),u=a(83750),s=a(57394),d=a(77256),p=a(49174),y=a(99173),C=a(88995),D=a(39431),S=a(868),g=a(59067),M=a(20067),I=a(51115),N=a(25281),k=a(66037),h=a(17812),v=a(80366),f=a(30553),E=a(13258),b=(a(10635),a(87429),a(52795)),T=a(25108);window.headercellid="";const P=(0,l.forwardRef)(((e,t)=>{const{order:a,orderBy:r,onRequestSort:o,headCells:i,isDraft:m,TableSearchParams:D}=e,[S,g]=(0,l.useState)({}),[M,I]=(0,l.useState)({}),N=["By","Contact","NROT","COT","SNA","VIA","Remarks","Date","UserName","Status","No","Total","Rate","Cnt","Time","Type","Code","Amount","Quantity","Unit","Is","TAT","Cost","Number"],[k,h]=(0,l.useState)(!1);(0,l.useEffect)((()=>{Object.keys(D).map((e=>{g({...S,[e]:!!D[e]})})),I(D)}),[D],e.height),(0,l.useImperativeHandle)(t,(()=>({clearValue:e=>{x(!0,e)}})));const T=(e,t,a)=>{g({...S,[t]:!S[t]}),setTimeout((function(){var e=document.getElementById(a+"headcell");e&&(e.focus(),document.getElementById(a+"headcell").onclick=function(e){e.stopPropagation()})}),1e3),e.stopPropagation()},P=(t,a)=>{window.headercellid=a,0===t.length&&e.value({...M,[a]:""}),I({...M,[a]:t})},x=(t,a)=>{t&&(P("",window.headercellid),T(a,window.headercellid),e.value({...M,[window.headercellid]:""},"clear"))};return n().createElement(b.Z,{onClickAway:()=>{g({})}},n().createElement(u.Z,null,n().createElement(s.Z,null,"none"==e.action?null:!0===e.isexpanded&&!e.IsSub&&n().createElement(c.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:"80px"}},n().createElement("span",{className:"trAction"},"Action")),e.IsDrag&&n().createElement(c.Z,{className:"StyledTableCellHeadStyles tbdrg"},n().createElement(f.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(E.Z,{style:{padding:"6px"},icon:n().createElement(v.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(v.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:k,onChange:t=>{e.RemoveAll()}}),label:""})),i.map((t=>{return n().createElement(c.Z,{className:"StyledTableCellHeadStyles "+(m?"draftColor":"listColor"),key:t.id,sortDirection:r===t.id&&a,style:{minWidth:N.some((e=>t.id.toLowerCase().includes(e.toLowerCase())))?S[t.id]?"155px":"185px":e.colwid?e.colwid:"180px",textAlign:"Is"==t.id.slice(0,2)?"center":"left"}},S[t.id]?t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt")?n().createElement(p.Z,{value:M[t.id],label:t.name,onChange:a=>{P(a,t.id),e.value({...M,[t.id]:a,[t.id+"Type"]:"Date"})}}):n().createElement(y.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{P(e,t.id,t.type)},disabled:!1,value:-1===M[t.id]?.indexOf("%")?M[t.id]:M[t.id]?.replace(/[%]/g,""),clear:(a,l)=>{a&&(P("",t.id),T(l,t.id),e.value({...M,[t.id]:""}))},mandatory:!1,keyPress:!0,onKeyPress:a=>{e.value({...M,[t.id]:"Number"==t.type?a:"%"+a+"%"})}}):M[t.id]?"Date"==t.type?n().createElement(p.Z,{value:M[t.id],Label:t.name,onChange:a=>{P(a,t.id),e.value({...M,[t.id]:a,[t.id+"Type"]:"Date"})}}):n().createElement(y.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{P(e,t.id,t.type)},disabled:!1,value:-1===M[t.id]?.indexOf("%")?M[t.id]:M[t.id]?.replace(/[%]/g,""),clear:(a,l)=>((t,a,l)=>{t&&(P("",l.id),T(a,l.id),e.value({...M,[l.id]:""}))})(a,l,t),isDraft:m,mandatory:!1,keyPress:!0,onKeyPress:a=>{e.value({...M,[t.id]:"Number"==t.type?a:"%"+a+"%"})}}):n().createElement(d.Z,{"filter-title":"Sort",active:r===t.id,direction:r===t.id?a:"asc",onClick:(l=t.id,e=>{o(e,l)})},n().createElement("p",{style:{width:"max-content"}},t.name?t.name.replace(/([A-Z])\s(?=[A-Z]\b)/g,"$1"):""),r===t.id?n().createElement("span",{className:"visuallyHidden"},"desc"===a?"sorted descending":"sorted ascending"):null,!S[t.id]&&"Is"!==t.id.substring(0,2)&&!M[t.id]&&(!m&&(t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt"))?null:!e.searchdisabled&&!m&&n().createElement(C.Z,{className:"tableHeadersearch",onClick:e=>T(e,t.id,t.name)}))));var l})))))})),x=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),[u,d]=(0,l.useState)("asc"),[p,y]=(0,l.useState)(""),[C,b]=n().useState(""),[x,B]=(0,l.useState)(!1),[L,w]=(0,l.useState)({}),[R,Z]=(0,l.useState)({}),[A,H]=(0,l.useState)(!1),[G,O]=(0,l.useState)([]),[F,z]=(0,l.useState)({x:0,y:0}),[Q,W]=(0,l.useState)(!1),[V,K]=(0,l.useState)(null);function _(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function U(e,t){if(t.toLowerCase().indexOf("password")>-1){var a="";for(let t=0;t<e.length;t++)a+="*";return a}return e}return(0,l.useEffect)((()=>()=>{window.open="",B(!1)}),[]),(0,l.useImperativeHandle)(t,(()=>({clearItem:e=>{a.current.clearValue(e)},open:()=>{T.log("of open"),window.open="",B(!1)}}))),n().createElement(m.Z,{component:r.Z,className:"tablecontainer2 scrollY",style:{height:e.height?e.height:e.IsSub?"auto":"60vh",marginTop:"5px"},onDrop:function(t){t.preventDefault();var a=t.dataTransfer.getData("ppmStaff");e.OnDrop(JSON.parse(a))},onDragOver:function(e){e.preventDefault()}},n().createElement(o.Z,{stickyHeader:!0,id:"Header"+e.id},n().createElement(P,{order:u,orderBy:p,onRequestSort:(e,t)=>{d(p===t&&"asc"===u?"desc":"asc"),y(t)},headCells:e.headerdata,isDraft:e.isdraft,value:e.searchvalue,action:e.action,TableSearchParams:e.tablesearchparams,isexpanded:e.isexpanded,ref:a,colwid:e.colwid,minWidth:e.minWidth,IsDrag:e.IsDrag,RemoveAll:e.RemoveAll,searchdisabled:e.searchdisabled}),n().createElement(i.Z,null,function(e,t){const a=e.map(((e,t)=>[e,t]));return a.sort(((e,a)=>{const l=t(e[0],a[0]);return 0!==l?l:e[1]-a[1]})),a.map((e=>e[0]))}(e.bodydata,function(e,t){return"desc"===e?(e,a)=>_(e,a,t):(e,a)=>-_(e,a,t)}(u,p)).map(((t,a)=>n().createElement(n().Fragment,null,n().createElement(s.Z,{key:a,style:{background:t.IsConflict?"#fad6a5":""},onDoubleClick:l=>{if(T.log("onDoubleClick"),e.IsSub&&!e.EditSub)return e.onDoubleClick&&e.edit(t,e.isdraft,!0),!1;"none"!=e.edit&&e.edit(t,e.isdraft,!0),e.expanded(!0),(e=>{var t=document.querySelectorAll(".MuiTableRow-root");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";setTimeout((function(){document.getElementById(e)&&(document.getElementById(e).style.background="#e3e4e9")}),500)})(e.id+a),!0===e.isexpanded&&document.getElementById(e.id)},id:e.id+a},e.IsDrag&&n().createElement(c.Z,{className:"StyledTableCellBodyStyles tbdrg"},n().createElement(f.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(E.Z,{style:{padding:"6px"},icon:n().createElement(v.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(v.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:!0,onChange:a=>{e.DraglistRw(t)}}),label:""})),"none"==e.action?null:!0===e.isexpanded&&n().createElement(c.Z,{className:"StyledTableCellBodyStyles",style:{display:"flex"}},e.IsView&&e.tableExp&&n().createElement(h.Z,{"aria-label":"expand row",size:"small",onClick:()=>{var e;C===(e=a)?(b(""),B(!1)):(b(e),B(!0))}},C===a?n().createElement(N.Z,null):n().createElement(I.Z,null)),e.accessrights.IsView&&e.viewOnly&&n().createElement(S.ZP,{title:"View",placement:"top"},n().createElement(M.Z,{className:"Viewtablecls",onClick:()=>{e.edit(t,e.isdraft,!0),e.expanded(!0),e.viewtoggle()}})),e.accessrights.IsEdit&&e.editOnly&&n().createElement(S.ZP,{title:"Edit",placement:"top"},n().createElement(g.Z,{className:"Edittablecls",onClick:()=>{e.edit(t,e.isdraft,!1),e.expanded(!0)}}))),e.bodyitem.map(((a,l)=>{let r=e.visibleitem.filter((e=>e.id==a));return"Is"==a.slice(0,2)?n().createElement(c.Z,{className:"StyledTableCellBodyStyles",key:l,style:{textAlign:"center"}},n().createElement(D.Z,{checked:"1"==t[a],disabled:!0})):"FilePath"==a?n().createElement(c.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[a]:""}`,key:l},n().createElement("img",{src:t[a],alt:t[a],width:"90",height:"80"})):r.length>0?n().createElement(c.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[a]:""}`,key:l,style:{textAlign:"numeric"==r[0].type||"smallint"==r[0].type||"int"==r[0].type?"right":"left"}},U(t[a],a)):n().createElement(c.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[a]:""}`,key:l},U(t[a],a))}))),n().createElement(s.Z,{key:"view"+a},n().createElement(c.Z,{style:{paddingBottom:0,paddingTop:0,paddingLeft:0,borderLeft:"20px solid #ccc"},key:"cell"+a,colSpan:8},n().createElement(k.Z,{in:C===a,timeout:"auto",unmountOnExit:!0},e.IsView&&e.ViewComp(x,t))))))))))}))}}]);