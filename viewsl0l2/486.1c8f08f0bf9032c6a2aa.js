/*! For license information please see 486.1c8f08f0bf9032c6a2aa.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl0l2=self.webpackChunk_shared_routing_viewsl0l2||[]).push([[486],{93657:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=o},53375:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=o},41722:(e,t,l)=>{l.d(t,{D:()=>n,E:()=>a});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{}};function n(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,l)=>{l.d(t,{Z:()=>p});var a=l(40900),n=l(26537),i=l(61956),o=l(35131),r=l.n(o),s=l(25108);function p(e,t,l,o){if("select"==e){const e=a.v.Api+"FP1454S3/",l={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":n.Z.TokenIDPK,"x-tokenname":n.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(l)}).then((e=>{if(e.ok)return s.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=a.v.Api+"FP1454S1/",p={data:[{p1:0,p2:null,p3:o,p4:JSON.stringify(l),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:r()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:r()().format("YYYY-MM-DD hh:mm:ss")}]};(0,n.Z)(0).then((t=>{(0,i.Z)(e,p,t).then((e=>{200==e[0].status.code?s.log(e,"RES"):s.log("Error")}))}))}}},20428:(e,t,l)=>{l.r(t),l.d(t,{default:()=>L});var a=l(92950),n=l.n(a),i=l(45237),o=l(36939),r=l(61201),s=l(50743),p=(l(3212),l(30553)),m=l(61956),d=(l(44528),l(51673)),u=l(37148),c=l(99090),y=l(35131),D=l.n(y),g=l(14439),S=l(27848),C=l(1695),P=l(61924),E=l.n(P),I=l(26537),N=l(40900),f=l(40826),v=l(11377),h=(l(24038),l(92371));const T={EnterKeyValues:{PPMSessionRegistry:["PPMSessionCode","OrderNo","WoDate","SessionStartTime","SessionEndTime","Duration","DeviceKey","SBCreWorkOrder","FirstName"]},Label:{PPMSessionRegistry:{PPMSessionCode:["PPMSessionCode"],OrderNo:["PPMSessionCode"],WoDate:["PPMSessionCode"],SessionStartTime:["PPMSessionCode"],SessionEndTime:["PPMSessionCode"],Duration:["PPMSessionCode"],DeviceKey:["PPMSessionCode"],PPMSBCreationWorkOrderID:["PPMSessionCode"],EmployeeID:["PPMSessionCode"]}},LabelHeader:{PPMSessionRegistry:{PPMSessionCode:["PPM Session Code"],OrderNo:["PPM Session Code"],WoDate:["PPM Session Code"],SessionStartTime:["PPM Session Code"],SessionEndTime:["PPM Session Code"],Duration:["PPM Session Code"],DeviceKey:["PPM Session Code"],PPMSBCreationWorkOrderID:["PPMSessionCode"],EmployeeID:["PPMSessionCode"]}},Property:{PPMSessionRegistry:{PPMSessionCode:{id:"fld512_10233",labelID:"PPMSessionCode",maxLength:"50",labelname:"PPM Session Code",frmctrlid:"fld512_10233",frmctrlidname:"PPMSessionCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},OrderNo:{id:"fld512_10234",labelID:"OrderNo",maxLength:"",labelname:"Order No",frmctrlid:"fld512_10234",frmctrlidname:"OrderNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},WoDate:{id:"fld512_10235",labelID:"WoDate",maxLength:"",labelname:"Wo Date",frmctrlid:"fld512_10235",frmctrlidname:"WoDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SessionStartTime:{id:"fld512_10236",labelID:"SessionStartTime",maxLength:"",labelname:"Session Start Time",frmctrlid:"fld512_10236",frmctrlidname:"SessionStartTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SessionEndTime:{id:"fld512_10237",labelID:"SessionEndTime",maxLength:"",labelname:"Session End Time",frmctrlid:"fld512_10237",frmctrlidname:"SessionEndTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Duration:{id:"fld512_10238",labelID:"Duration",maxLength:"",labelname:"Duration",frmctrlid:"fld512_10238",frmctrlidname:"Duration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},DeviceKey:{id:"fld512_10239",labelID:"DeviceKey",maxLength:"",labelname:"Device Key",frmctrlid:"fld512_10239",frmctrlidname:"DeviceKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBCreationWorkOrderID:{id:"fld512_10240",clearID:"PPMSessionRegistrySBCreWorkOrderClear",type:"select",labelID:"PPMSBCreationWorkOrderIDPK",labelname:"PPMSBCreationWorkOrderCode",fielddisplayname:"SBCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},EmployeeID:{id:"fld512_10241",clearID:"PPMSessionRegistryFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"FirstName",fielddisplayname:"FirstName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMSessionRegistry:{PPMSBCreationWorkOrderID:["SBCreSLAHours","SBCreWorkOrder","SBCreWoDateTime","ContractID","BuildingID","LocalityID","SpotID","FloorID","DisciplineID","DivisionID","FrequencyID","PPMStageID"],EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"]}}};var M=l(10486),F=(l(79117),l(8981)),w=l(6562),B=l(63163),b=l(45155),k=l(79352),x=l(49174),O=l(38773),R=(l(19089),l(16233)),W=l.n(R);l(82729),l(75355),l(11107);const A={PPMSessionIDPK:"",PPMSessionCode:"",OrderNo:"",WoDate:"",WoDateType:"",WoDateBetween:"",SessionStartTime:"",SessionEndTime:"",Duration:"",DeviceKey:"",IsDraft:!1,Remarks:"",PPMSBCreationWorkOrderID:null,EmployeeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",ServiceTypeID:null,ServiceTypCode:"",ServiceTypeName:"",SBCreWorkOrder:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:null,EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",Type:"PPMSessionID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},L=(0,a.forwardRef)(((e,t)=>{(0,i.useSelector)((e=>e.form));const[l,y]=(0,a.useState)(!1),[P,R]=(0,a.useState)(!0),[L,G]=(0,a.useState)(!1),[Z,K]=(0,a.useState)(!1),[z,_]=(0,a.useState)(""),[V,q]=(0,a.useState)(!1),[U,Y]=(0,a.useState)([]),[H,j]=(0,a.useState)(null),[$,J]=(0,a.useReducer)(h.Z,A),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)([]),[le,ae]=(0,a.useState)(!1),ne=(0,a.useContext)(e.context?e.context:M.PPMSessionRegistryContext),{cstate:ie,cdispatch:oe}=e.ContextApi?e.ContextApi:(0,M.ContextApi)(),[re,se]=(0,a.useState)(0),[pe,me]=(0,a.useState)(""),de=(0,a.useRef)(null),[ue,ce]=W()("512"),[ye,De]=(0,a.useState)(!0),[ge,Se]=(0,a.useState)(!0),[Ce,Pe]=(0,a.useState)(""),[Ee,Ie]=(0,a.useState)(""),[Ne,fe]=(0,a.useState)(""),[ve,he]=(0,a.useState)(!0),[Te,Me]=(0,a.useState)(!0),[Fe,we]=(0,a.useState)(!1);let Be=(0,F.Z)();const[be,ke]=(0,a.useState)({}),xe=e=>Be[e]?Be[e]:e,Oe=t=>ie.language?.[t]?ie.language[t]:e.createEasy?be?.[t]:t;(0,a.useEffect)((()=>{Ge(),ie.editData.length<0&&(0,I.Z)(1).then((e=>{Ve(1,null,"SetDefaultPPMSessionID",e)}))}),[]),(0,a.useEffect)((()=>{ie.editData.length>0?(Le(ie.editData[0],""),G(!0)):ie.Add&&(Ge(),Ve(1,null,"SetDefaultPPMSessionID",ie.token[0]),G(!0))}),[ie.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),ke(Object.assign({},...t))}(ue)}),[ue]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Ge()},CreateEasyProps:(e=!0,t)=>{ce(!0),t?($e(t),G(e)):(Ge(),G(e))}})));const Re=e=>e?e.split("-").reverse().join("-"):null,We=e=>{if(e){let t=Re(e);return"Invalid Date"!=new Date(t)?(0,f.format)(new Date(t),"yyyy-MM-dd"):e}return null},Ae=e=>{if(!e)return e;if(e){let t=e.split(" "),l=t[0].split("-").reverse().join("-");return 2==t.length?l+" "+t[1]:l}},Le=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),K(t.IsDraft),"SetDefaultPPMSessionID"==l?me(t.PPMSessionIDPK):(se(e.primid?Number(e.primid):t.PPMSessionIDPK?t.PPMSessionIDPK:0),oe({type:"PrimaryId",payload:t.PPMSessionIDPK})),J({type:"text",name:"PPMSessionCode",value:t.PPMSessionCode?t.PPMSessionCode:""}),J({type:"number",name:"OrderNo",number:t.OrderNo}),J({type:"text",name:"WoDate",value:t.WoDate?Re(t.WoDate):null}),J({type:"text",name:"SessionStartTime",value:t.SessionStartTime?Ae(t.SessionStartTime):null}),J({type:"text",name:"SessionEndTime",value:t.SessionEndTime?Ae(t.SessionEndTime):null}),J({type:"number",name:"Duration",number:t.Duration}),J({type:"number",name:"DeviceKey",number:t.DeviceKey}),J({type:"number",name:"PPMSBCreationWorkOrderID",number:t.PPMSBCreationWorkOrderID?Number(t.PPMSBCreationWorkOrderID):0}),J({type:"text",name:"SBCreWorkOrder",value:t.SBCreWorkOrder}),J({type:"number",name:"EmployeeID",number:t.EmployeeID?Number(t.EmployeeID):0}),J({type:"text",name:"FirstName",value:t.FirstName}),t.IsDraft?R(!0):R(!("1"!=t.IsActive&&!t.IsActive))},Ge=()=>{Y([]),se(0),me(""),e.createEasy||ne.resetImg(),oe({type:"PrimaryId",payload:""}),J({type:"text",name:"PPMSessionCode",value:""}),J({type:"number",name:"OrderNo",number:0}),J({type:"text",name:"WoDate",value:""}),J({type:"text",name:"SessionStartTime",value:null}),J({type:"text",name:"SessionEndTime",value:null}),J({type:"number",name:"Duration",number:0}),J({type:"number",name:"DeviceKey",number:0}),J({type:"text",name:"PPMSBCreationWorkOrderID",value:null}),J({type:"text",name:"SBCreWorkOrder",value:""}),document.getElementById("PPMSessionRegistrySBCreWorkOrderClear")&&document.getElementById("PPMSessionRegistrySBCreWorkOrderClear").click(),J({type:"text",name:"EmployeeID",value:null}),J({type:"text",name:"FirstName",value:""}),document.getElementById("PPMSessionRegistryFirstNameClear")&&document.getElementById("PPMSessionRegistryFirstNameClear").click(),R(!0),_(""),De(!0),Se(!0),he(!0),Me(!0)},Ze=t=>{ne.loading(!0),ne.ConfirmAlert(null);const l=N.v.Api+"FP512S2/",a={data:[{p1:"SetDefaultPPMSessionID"==t?"NORECORDS"!=pe&&pe?pe:0:re,p2:Je($.PPMSessionCode),p3:$.OrderNo?Number($.OrderNo):0,p4:$.WoDate?We($.WoDate):null,p5:$.SessionStartTime?We($.SessionStartTime):null,p6:$.SessionEndTime?We($.SessionEndTime):null,p7:$.Duration?Number($.Duration):0,p8:$.DeviceKey?Number($.DeviceKey):0,p9:!1,p10:"SetDefaultPPMSessionID"==t?"SetDefault":null,p11:$.PPMSBCreationWorkOrderID?$.PPMSBCreationWorkOrderID:0,p12:$.EmployeeID?$.EmployeeID:0,p13:P,p14:"SetDefaultPPMSessionID"==t,p15:localStorage.getItem("userid"),p16:D()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:D()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((t=>{(0,d.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,n=new Array,i=new Array;"200"===l.code?(a.map((e=>{e&&(n.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(ne.alert({open:!0,color:"warning",message:i}),ne.loading(!1)):(t=>{De(!0),Se(!0),he(!0),Me(!0),ne.loading(!0),ne.ConfirmAlert(null),oe({type:"IsDraft",payload:!1});const l=N.v.Api+"FP512S1/",a={data:[{p1:re,p2:Je($.PPMSessionCode),p3:$.OrderNo?Number($.OrderNo):0,p4:$.WoDate?We($.WoDate):null,p5:$.SessionStartTime?We($.SessionStartTime):null,p6:$.SessionEndTime?We($.SessionEndTime):null,p7:$.Duration?Number($.Duration):0,p8:$.DeviceKey?Number($.DeviceKey):0,p9:!1,p10:null,p11:$.PPMSBCreationWorkOrderID?$.PPMSBCreationWorkOrderID:0,p12:$.EmployeeID?$.EmployeeID:0,p13:P,p14:!1,p15:localStorage.getItem("userid"),p16:D()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:D()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((t=>{(0,m.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(ne.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttPPMSessionRegistry"),ne.loading(!1),e.createEasy||ie.ShowDetail||(ne.RefreshTable(),ne.attachmentSave(t[0].Data.IDPK),e.clrImgstate(!0)),Ge(),ie.AccessRights.IsApproval&&ne.Approval(!0),document.getElementById("overlayimgAttPPMSessionRegistry")&&(document.getElementById("overlayimgAttPPMSessionRegistry").style.width="0%",document.getElementById("overlayimgAttPPMSessionRegistry").style.display="none",document.getElementById("divPPMSessionRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSessionRegistry-MainTable").style.display="block")):(ne.alert({open:!0,color:"warning",message:[l.message]}),ne.loading(!1)),G(!0),Ve(1,null,"SetDefaultPPMSessionID",ie.token[0])}))}))})()):(ne.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ne.loading(!1))}))}))};function Ke(t,l,a,n){if(!(ie.count>0))return ne.alert({open:!0,color:"warning",message:[xe("Please save atleast one record")]}),!1;if(!((()=>{const e={...$};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return ne.alert({open:!0,color:"warning",message:[xe("Please enter the primary fields")]}),!1;{De(!0),Se(!0),he(!0),Me(!0),ne.loading(!0),ne.ConfirmAlert(null),oe({type:"IsDraft",payload:!1});const l=N.v.Api+"FP512S1/",a={data:[{p1:"SetDefaultPPMSessionID"==n?"NORECORDS"!=pe&&pe?pe:0:re,p2:Je($.PPMSessionCode),p3:$.OrderNo?Number($.OrderNo):0,p4:$.WoDate?We($.WoDate):null,p5:$.SessionStartTime?We($.SessionStartTime):null,p6:$.SessionEndTime?We($.SessionEndTime):null,p7:$.Duration?Number($.Duration):0,p8:$.DeviceKey?Number($.DeviceKey):0,p9:!0,p10:"SetDefaultPPMSessionID"==n?"SetDefault":null,p11:$.PPMSBCreationWorkOrderID?$.PPMSBCreationWorkOrderID:0,p12:$.EmployeeID?$.EmployeeID:0,p13:!1,p14:"SetDefaultPPMSessionID"==n,p15:localStorage.getItem("userid"),p16:D()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:D()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((n=>{(0,m.Z)(l,a,n).then((l=>{const a=l[0].status;200==a.code?(t?ne.alert({open:!0,color:"warning",message:[xe("Deleted Successfully")]}):ne.alert({open:!0,color:"success",message:[xe("Saved to Draft")]}),ne.loading(!1),ne.attachmentSave(l[0].Data.IDPK),Ge(),ne.RefreshTable(),e.clrImgstate(!0)):(ne.alert({open:!0,color:"warning",message:[a.message]}),ne.loading(!1))}))}))}}function ze(e){return CreateEasy(e,ie,oe,ne,de),!1}function _e(e,l){return AdvanceSearch(e,l,M.PPMSessionRegistryContext,(0,M.ContextApi)(),Ue,t),!1}const Ve=(t,l,a,n,i,o)=>{const r=N.v.Api+"FP512S3/",s={data:{p1:null,p2:null,p3:null,p4:$.WoDate?$.WoDate:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:"0"==$.PPMSBCreationWorkOrderID?null:$.PPMSBCreationWorkOrderID,p14:"0"==$.EmployeeID?null:$.EmployeeID,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:"0"==$.ContractID?null:$.ContractID,p23:l?"%"+l+"%":null,p24:l?"%"+l+"%":null,p25:"0"==$.LocalityID?null:$.LocalityID,p26:l?"%"+l+"%":null,p27:l?"%"+l+"%":null,p28:"0"==$.BuildingID?null:$.BuildingID,p29:l?"%"+l+"%":null,p30:l?"%"+l+"%":null,p31:"0"==$.FloorID?null:$.FloorID,p32:l?"%"+l+"%":null,p33:l?"%"+l+"%":null,p34:"0"==$.SpotID?null:$.SpotID,p35:l?"%"+l+"%":null,p36:l?"%"+l+"%":null,p37:"0"==$.DivisionID?null:$.DivisionID,p38:l?"%"+l+"%":null,p39:l?"%"+l+"%":null,p40:"0"==$.DisciplineID?null:$.DisciplineID,p41:l?"%"+l+"%":null,p42:l?"%"+l+"%":null,p43:"0"==$.FrequencyID?null:$.FrequencyID,p44:l?"%"+l+"%":null,p45:l?"%"+l+"%":null,p46:"0"==$.PPMBusinessFlowID?null:$.PPMBusinessFlowID,p47:l?"%"+l+"%":null,p48:l?"%"+l+"%":null,p49:l?"%"+l+"%":null,p50:"0"==$.PPMFixonBusinessFlowID?null:$.PPMFixonBusinessFlowID,p51:l?"%"+l+"%":null,p52:l?"%"+l+"%":null,p53:"0"==$.PPMStageID?null:$.PPMStageID,p54:l?"%"+l+"%":null,p55:l?"%"+l+"%":null,p56:"0"==$.ServiceTypeID?null:$.ServiceTypeID,p57:l?"%"+l+"%":null,p58:l?"%"+l+"%":null,p59:l?"%"+l+"%":null,p60:"0"==$.ShiftID?null:$.ShiftID,p61:l?"%"+l+"%":null,p62:l?"%"+l+"%":null,p63:"0"==$.ClassificationID?null:$.ClassificationID,p64:l?"%"+l+"%":null,p65:l?"%"+l+"%":null,p66:"0"==$.DepartmentID?null:$.DepartmentID,p67:l?"%"+l+"%":null,p68:l?"%"+l+"%":null,p69:"0"==$.DesignationID?null:$.DesignationID,p70:l?"%"+l+"%":null,p71:l?"%"+l+"%":null,p72:"0"==$.NationalityID?null:$.NationalityID,p73:l?"%"+l+"%":null,p74:l?"%"+l+"%":null,p75:"0"==$.EmpWorkNatureID?null:$.EmpWorkNatureID,p76:l?"%"+l+"%":null,p77:l?"%"+l+"%":null,p78:"0"==$.EmployeeTypeID?null:$.EmployeeTypeID,p79:l?"%"+l+"%":null,p80:l?"%"+l+"%":null,p81:"0"==$.EmploymentTypeID?null:$.EmploymentTypeID,p82:l?"%"+l+"%":null,p83:l?"%"+l+"%":null,p84:"0"==$.EmployeeGroupID?null:$.EmployeeGroupID,p85:l?"%"+l+"%":null,p86:l?"%"+l+"%":null,p87:"0"==$.EmpGradeID?null:$.EmpGradeID,p88:l?"%"+l+"%":null,p89:l?"%"+l+"%":null,p90:"0"==$.CityID?null:$.CityID,p91:l?"%"+l+"%":null,p92:l?"%"+l+"%":null,p93:"0"==$.RegionID?null:$.RegionID,p94:l?"%"+l+"%":null,p95:l?"%"+l+"%":null,p96:"0"==$.CountryID?null:$.CountryID,p97:l?"%"+l+"%":null,p98:l?"%"+l+"%":null,p99:"0"==$.EmpGenderID?null:$.EmpGenderID,p100:l?"%"+l+"%":null,p101:"0"==$.EmpTitleID?null:$.EmpTitleID,p102:l?"%"+l+"%":null,p103:l?"%"+l+"%":null,p104:l?"%"+l+"%":null,p105:l?"%"+l+"%":null,p106:l?"%"+l+"%":null,p107:t,p108:10,p109:a,p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}},p=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(s.data).length-8?s.data[t]:null,e)),{});X(!0);const m={data:p};return(0,d.Z)(r,"ClearAll"==a?m:s,"SetDefaultPPMSessionID"==a&&n?n:ie.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;if(i)return 1==n.length?n[0]:{};te(1==t?e>0?n:[]:ee.concat(n)),"SetDefaultPPMSessionID"==a&&(e>0?Le(n[0],"SetDefaultPPMSessionID"):me("NORECORDS")),X(!1)}else ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},qe=(t,l,a)=>{const n=N.v.Api+"FP512S3/",i={data:{p1:null,p2:"PPMSessionCode"==a&&l?"%"+l+"%":null,p3:"OrderNo"==a&&l?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:"SessionStartTime"==a&&l?"%"+l+"%":null,p8:"SessionEndTime"==a&&l?"%"+l+"%":null,p9:"Duration"==a&&l?"%"+l+"%":null,p10:"DeviceKey"==a&&l?"%"+l+"%":null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:t,p108:10,p109:"PPMSessionID",p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};X(!0),(0,d.Z)(n,"ClearAll"==a?o:i,ie.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;1==t?("PPMSessionCode"==a&&De(e>0),"OrderNo"==a&&Se(e>0),"Duration"==a&&he(e>0),"DeviceKey"==a&&Me(e>0),te(n)):("PPMSessionCode"==a&&De(!0),"OrderNo"==a&&Se(!0),"Duration"==a&&he(!0),"DeviceKey"==a&&Me(!0),te(ee.concat(n))),X(!1)}else ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Ue=(0,a.useCallback)((async(e,t,l)=>{"text"==l?J({type:l,name:t,value:e}):"number"==l?J({type:l,name:t,number:Number(e)}):"boolean"==l?J({type:l,name:t,boolean:e}):"date"==l&&J({type:"text",name:t,value:e})}),[$]);function Ye(e){if("PPMSBCreationWorkOrderID"==e){if(!$.PPMSBCreationWorkOrderID)return!1}else if("EmployeeID"==e&&!$.EmployeeID)return!1}function He(e){if("PPMSBCreationWorkOrderID"==e){if(!$.PPMSBCreationWorkOrderID)return!1}else if("EmployeeID"==e&&!$.EmployeeID)return!1}const je=e=>{ne.ConfirmAlert(n().createElement(E(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>$e(e),onCancel:()=>ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("No"),showCancel:!0},xe("Do you want to update this record?")))};function $e(e){ne.ConfirmAlert(null),K(e.IsDraft),se(Number(e.PPMSessionIDPK)?Number(e.PPMSessionIDPK):0),J({type:"text",name:"PPMSessionCode",value:e.PPMSessionCode?e.PPMSessionCode:""}),J({type:"text",name:"OrderNo",value:e.OrderNo?e.OrderNo:""}),J({type:"text",name:"WoDate",value:e.WoDate?Re(e.WoDate):null}),J({type:"text",name:"SessionStartTime",value:e.SessionStartTime?Ae(e.SessionStartTime):null}),J({type:"text",name:"SessionEndTime",value:e.SessionEndTime?Ae(e.SessionEndTime):null}),J({type:"text",name:"Duration",value:e.Duration?e.Duration:""}),J({type:"text",name:"DeviceKey",value:e.DeviceKey?e.DeviceKey:""}),J({type:"number",name:"PPMSBCreationWorkOrderID",number:e.PPMSBCreationWorkOrderID?Number(e.PPMSBCreationWorkOrderID):0}),J({type:"text",name:"SBCreWorkOrder",value:e.SBCreWorkOrder?e.SBCreWorkOrder:""}),J({type:"number",name:"EmployeeID",number:e.EmployeeID?Number(e.EmployeeID):0}),J({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:""})}const Je=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(o.Z,{expanded:L,onChange:e=>{}},n().createElement(s.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},L&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[512]"}," ",xe("Add "),Oe("512")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},ie.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(w.Z,{row:!0},n().createElement(p.Z,{labelPlacement:"bottom",id:"fld512L2ECEntryCheckbox",control:n().createElement(B.Z,{checked:"1"==P,onChange:e=>R(e.target.checked)}),label:xe(1==P?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{ne.AttachExpand(!0)},id:"fld512L2ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(b.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,xe("Attach")))),!re&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ge()},id:"fld512L2ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(b.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,xe("Reset")))),"1"===Z&&re&&n().createElement(c.Z,{frmctrlid:"fld512L2ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ke("draftdel")}}),re&&"1"!==Z||e.createEasy?null:ie.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Ke()},frmctrlid:"fld512L2ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(k.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,xe("Draft")))),ie.AccessRights.IsAdd||ie.AccessRights.IsEdit?n().createElement(C.Z,{frmctrlid:"fld512L2ECSaveBtnIsAdd",name:xe(re?"Update":"Save"),disabled:!1,onClick:()=>{Je($.PPMSessionCode)?$.PPMSBCreationWorkOrderID&&0!=$.PPMSBCreationWorkOrderID?$.EmployeeID&&0!=$.EmployeeID?ne.ConfirmAlert(n().createElement(E(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:xe("Are you sure?"),onConfirm:()=>Ze(),onCancel:()=>ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("Cancel"),showCancel:!0},xe(re?"Do you want to Update?":"Do you want to Save?"))):ne.alert({open:!0,color:"warning",message:[xe("Please select the ")+" "+Oe("EmployeeID")]}):ne.alert({open:!0,color:"warning",message:[xe("Please select the ")+" "+Oe("PPMSBCreationWorkOrderID")]}):ne.alert({open:!0,color:"warning",message:[xe("Please enter the")+""+Oe("PPMSessionCode")]})}}):null,!e.createEasy&&n().createElement(u.Z,{frmctrlid:"fld512L2ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ge(),G(!1),ne.EditClose(!0),ne.hideAddBtn(!1),oe({type:"Add",payload:!1})}}))))),n().createElement(r.Z,null,n().createElement("div",{id:"PPMSessionRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMSessionRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMSessionRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(g.Z,{spacing:2},n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{"data-testid":$.PPMSessionCode,json:T,SPName:"PPMSessionRegistry",FieldName:"PPMSessionCode",tfLabel:Oe("PPMSessionCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&je(t),onClick:()=>{ye&&qe(1,"","ClearAll"),De(!0)},frmctrlid:"fld512_10233",frmctrlidName:"PPMSessionCode",fieldorder:"1",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{ye&&qe(e,t,"PPMSessionCode"),Ue(t,"PPMSessionCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:ye,SideEntryView:!1,KeyBack:e=>{},value:$.PPMSessionCode,loading:Q,clear:e=>{e&&(J({type:"text",name:"PPMSessionCode",value:""}),De(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{"data-testid":$.OrderNo,json:T,SPName:"PPMSessionRegistry",FieldName:"OrderNo",tfLabel:Oe("OrderNo"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&je(t),onClick:()=>{ge&&qe(1,"","ClearAll"),Se(!0)},frmctrlid:"fld512_10234",frmctrlidName:"OrderNo",fieldorder:"2",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{ge&&qe(e,t,"OrderNo"),Ue(t,"OrderNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Se(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:$.OrderNo,loading:Q,clear:e=>{e&&(J({type:"text",name:"OrderNo",value:""}),Se(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(x.Z,{value:$.WoDate,"data-testid":$.WoDate,disabled:!1,onChange:e=>{Ue(e,"WoDate","date")},onErr:e=>{Pe(e)},label:Oe("WoDate"),frmctrlid:"fld512_10235",frmctrlidName:"WoDate",fieldorder:"3"})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(O.Z,{"data-testid":$.SessionStartTime,onErr:e=>{Ie(e)},value:$.SessionStartTime,onChange:e=>{Ue(e,"SessionStartTime","date")},label:Oe("SessionStartTime"),frmctrlid:"fld512_10236",frmctrlidName:"SessionStartTime",fieldorder:"4"})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(O.Z,{"data-testid":$.SessionEndTime,onErr:e=>{fe(e)},value:$.SessionEndTime,onChange:e=>{Ue(e,"SessionEndTime","date")},label:Oe("SessionEndTime"),frmctrlid:"fld512_10237",frmctrlidName:"SessionEndTime",fieldorder:"1"})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{"data-testid":$.Duration,json:T,SPName:"PPMSessionRegistry",FieldName:"Duration",tfLabel:Oe("Duration"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&je(t),onClick:()=>{ve&&qe(1,"","ClearAll"),he(!0)},frmctrlid:"fld512_10238",frmctrlidName:"Duration",fieldorder:"2",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{ve&&qe(e,t,"Duration"),Ue(t,"Duration","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:ve,SideEntryView:!1,KeyBack:e=>{},value:$.Duration,loading:Q,clear:e=>{e&&(J({type:"text",name:"Duration",value:""}),he(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{"data-testid":$.DeviceKey,json:T,SPName:"PPMSessionRegistry",FieldName:"DeviceKey",tfLabel:Oe("DeviceKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&je(t),onClick:()=>{Te&&qe(1,"","ClearAll"),Me(!0)},frmctrlid:"fld512_10239",frmctrlidName:"DeviceKey",fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,t)=>{Te&&qe(e,t,"DeviceKey"),Ue(t,"DeviceKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Me(!0)},showList:Te,SideEntryView:!1,KeyBack:e=>{},value:$.DeviceKey,loading:Q,clear:e=>{e&&(J({type:"text",name:"DeviceKey",value:""}),Me(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:T,id:$.PPMSBCreationWorkOrderID,"data-testid":$.PPMSBCreationWorkOrderID,value:$.SBCreWorkOrder,SPName:"PPMSessionRegistry",FieldName:"PPMSBCreationWorkOrderID",tfLabel:Oe("PPMSBCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ue(e,"PPMSBCreationWorkOrderID","select"),onChange:(e,t)=>{Ve(e,t,"PPMSBCreationWorkOrderIDPK")},KeyBack:e=>{He("PPMSBCreationWorkOrderID")},fieldorder:"4",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{ze("494")},Tabledialog:()=>_e("494","PPMSBCreationWorkOrderID"),loading:Q,clear:e=>{e&&Ye("PPMSBCreationWorkOrderID")}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:T,id:$.EmployeeID,"data-testid":$.EmployeeID,value:$.FirstName,SPName:"PPMSessionRegistry",FieldName:"EmployeeID",tfLabel:Oe("EmployeeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ue(e,"EmployeeID","select"),onChange:(e,t)=>{Ve(e,t,"EmployeeIDPK")},KeyBack:e=>{He("EmployeeID")},fieldorder:"1",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{ze("197")},Tabledialog:()=>_e("197","EmployeeID"),loading:Q,clear:e=>{e&&Ye("EmployeeID")}})))),n().createElement("div",{id:"PPMSessionRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSessionRegistrySideBar").style.width="0",void q(!1))},"Ã—"),V&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},H))))))))}))},10486:(e,t,l)=>{l.r(t),l.d(t,{ContextApi:()=>D,PPMSessionRegistryContext:()=>y,UserGridViewData:()=>g,default:()=>S});var a=l(92950),n=l.n(a),i=l(25131),o=l(93250),r=l(20428),s=l(67698),p=l(55995),m=l(26537),d=l(45237),u=l(45965),c=l(41722);l(51673),l(40900),l(9175);const y=(0,a.createContext)(),D=()=>{const e=(0,a.useContext)(y);if(void 0===e)throw new Error("useCont must be used within  PPMSessionRegistryContext Provider");return e},g=[],S=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),g=(0,a.useRef)(),S=(0,a.useRef)(),C=(0,a.useRef)(),P=(0,a.useRef)(),[E,I]=(0,a.useState)(!0),[N,f]=(0,a.useState)(),v=((0,d.useSelector)((e=>e.form)),(0,d.useDispatch)()),[h,T]=(0,a.useState)(0),[M,F]=(0,a.useReducer)(c.D,c.E),[w,B]=(0,a.useState)(""),[b,k]=(0,a.useState)([]),[x,O]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||g.current.clear(),document.getElementById("divPPMSessionRegistry-Entry").style.width="100%",document.getElementById("PPMSessionRegistry-MainTable").style.width="100%",document.getElementById("PPMSessionRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSessionRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{I(!0),document.getElementById("divPPMSessionRegistry-Entry").style.width="100%",document.getElementById("PPMSessionRegistry-MainTable").style.width="100%",document.getElementById("PPMSessionRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSessionRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(F({type:"editData",payload:[e.editData]}),F({type:"ShowDetail",payload:!0}))}),[e.editData]);const R=e=>{k([]),document.getElementById("divPPMSessionRegistry-Entry").style.width="100%",document.getElementById("PPMSessionRegistryEntryTable").style.width="100%",document.getElementById("PPMSessionRegistry-MainEntry").style.width="100%",document.getElementById("PPMSessionRegistry-MainEntry").style.display="block",document.getElementById("PPMSessionRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSessionRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSessionRegistry").style.width="0%",document.getElementById("overlayimgAttPPMSessionRegistry").style.display="none"};(0,a.useEffect)((()=>{v((e=>{(0,m.Z)(1).then((e=>{var t=new Array;t.push(e),F({type:"token",payload:t}),T(t.length),W(e)}))}))}),[]);const W=e=>{(0,u.Z)(e,512).then((e=>F({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(y.Provider,{value:{cstate:M,cdispatch:F,ContextApi:D,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh()},searchItem:e=>{0!==h&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{P.current.tempsave(e,b),k([])},EditClose:e=>R(),AttachExpand:e=>(C.current.AttachmentData(M.PrimaryId),void(E&&(document.getElementById("overlayimgAttPPMSessionRegistry").style.width="25%",document.getElementById("overlayPreviewPPMSessionRegistry").style.width="50%",document.getElementById("divPPMSessionRegistry-Entry").style.width="100%",document.getElementById("PPMSessionRegistry-MainTable").style.width="100%",document.getElementById("PPMSessionRegistry-MainEntry").style.width="100%",document.getElementById("PPMSessionRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSessionRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSessionRegistry").style.display="block",document.getElementById("overlayimgAttPPMSessionRegistry").style.width="25%"))),Expanded:e=>{M.ShowDetail&&S.current.tableClick(e),F({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{M.ShowDetail&&S.current.viewtoggle()},clear:e=>{F({type:"ShowDetail",payload:!1}),F({type:"editData",payload:[]}),M.ShowDetail?S.current.clear(e):g.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{M.ShowDetail?S.current.tableClick(!1):g.current.CreateEasyProps(!1)},resetImg:()=>{P.current.tempClear(),C.current.clrImgstate(!0)}}},n().createElement("div",{id:"PPMSessionRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"PPMSessionRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"PPMSessionRegistryEntryTable",style:{width:"100%"}},M.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMSessionRegistry-Entry",style:{width:"100%"}},0!==h?n().createElement(o.default,{ref:S}):null)),n().createElement(p.Z,{ref:P,menurefID:512,fileId:"LogoImgPPMSessionRegistry",imgloading:t=>{t||M.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:M.PrimaryId,AttachmentVal:e=>C.current.AttachmentData(e),previd:"overlayPreviewPPMSessionRegistry",frmctrlid:"PvwIm_512_L2_",tempImg:e=>{M.PrimaryId?C.current.AttachmentData(M.PrimaryId):C.current.tempImg(e),k(e)},clearTempData:M.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMSessionRegistry-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(r.default,{ref:g,clrImgstate:e=>C.current.clrImgstate(e)}))),n().createElement(p.Z,{ref:P,menurefID:512,fileId:"LogoImgPPMSessionRegistry",imgloading:t=>{t||M.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:M.PrimaryId,AttachmentVal:e=>C.current.AttachmentData(e),previd:"overlayPreviewPPMSessionRegistry",frmctrlid:"PvwIm_512_L2_",tempImg:e=>{M.PrimaryId?C.current.AttachmentData(M.PrimaryId):C.current.tempImg(e),k(e)},clearTempData:M.Add})),n().createElement("div",{id:"PPMSessionRegistry-MainTable"},0!==h?n().createElement(i.default,{ref:l}):null)),n().createElement(s.Z,{ImgAttachment:e=>R(),menurefID:512,fileId:"AttImgPPMSessionRegistry",imgid:"overlayimgAttPPMSessionRegistry",valueIDPK:M.PrimaryId,PriviewData:(e,t,l,a)=>{P.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewPPMSessionRegistry",ref:C,imgloading:N,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_512_L2_",timglist:e=>{P.current.timglist(e),k(e)},clearTempData:M.Add}))),n().createElement("div",{id:"PPMSessionRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},25131:(e,t,l)=>{l.r(t),l.d(t,{PPMSessionRegistryPopUpTable:()=>z,default:()=>K}),l(95866);var a=l(92950),n=l.n(a),i=l(45237),o=l(36939),r=l(61201),s=l(59009),p=l(51673),m=l(64027),d=l(54180),u=l(43031),c=l(110),y=l(85639),D=l(5109),g=l(868),S=l(40900),C=l(88995),P=l(50743),E=l(80366),I=l(24038),N=l(61657),f=l(51209),v=l(86893),h=l(53854),T=l(51649),M=l(37106),F=l(5434),w=l(83817),B=l(47516),b=l(39327),k=l(3212),x=l(93521),O=(l(79117),l(71168)),R=l.n(O),W=l(65107),A=l(10486),L=l(94986),G=l(15999),Z=l(8981);l(11557),window.clickFilter="";const K=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),O=(0,a.useRef)(null),[K]=((0,a.useRef)(null),(0,i.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[z]=(0,a.useState)("512"),[_,V]=(0,a.useState)(!1),[q,U]=(0,a.useState)(!1),[Y,H]=(0,a.useState)(0),[j,$]=(0,a.useState)(0),[J,Q]=(0,a.useState)(0),[X,ee]=(0,a.useState)(0),[te,le]=(0,a.useState)({current:1,pageSize:100}),[ae,ne]=(0,a.useState)(""),[ie,oe]=(0,a.useState)([]),[re,se]=(0,a.useState)({val:"",column:""}),[pe,me]=(0,a.useState)([]),[de,ue]=(0,a.useState)(!1),[ce,ye]=(0,a.useState)(""),[De,ge]=(0,a.useState)(""),[Se,Ce]=(0,a.useState)(!1),[Pe,Ee]=(0,a.useState)([]),[Ie,Ne]=(0,a.useState)([]),[fe,ve]=(0,a.useState)([]),[he,Te]=(0,a.useState)({children:[{name:"PPMSessionRegistry",children:[]}]}),[Me,Fe]=(0,a.useState)(!1),we=(0,a.useContext)(e.context?e.context:A.PPMSessionRegistryContext),{cstate:Be,cdispatch:be}=e.ContextApi?e.ContextApi:(0,A.ContextApi)();let ke={PPMSessionIDPK:"",PPMSessionCode:"",OrderNo:"",WoDate:"",WoDateType:"",WoDateBetween:"",SessionStartTime:"",SessionEndTime:"",Duration:"",DeviceKey:"",IsDraft:"",Remarks:"",PPMSBCreationWorkOrderID:"",EmployeeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",ServiceTypeID:"",ServiceTypCode:"",ServiceTypeName:"",SBCreWorkOrder:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[xe,Oe]=(0,a.useState)(ke),[Re,We]=(0,a.useState)(ke),[Ae,Le]=(0,a.useState)(!1),[Ge,Ze]=(0,a.useState)(!0),[Ke,ze]=(0,a.useState)(!1),[_e,Ve]=(0,a.useState)(!0),[qe,Ue]=(0,a.useState)({PPMSessionCode:"",OrderNo:"",WoDate:"",SessionStartTime:"",SessionEndTime:"",Duration:"",DeviceKey:"",SBCreWorkOrder:"",FirstName:""}),[Ye,He]=(0,a.useState)(!1),[je,$e]=(0,a.useState)([]),[Je,Qe]=(0,a.useState)(0),[Xe,et]=(0,a.useState)(0),[tt,lt]=(0,a.useState)({current:1,pageSize:10}),[at,nt]=(0,a.useState)([]),[it,ot]=(0,a.useState)([]),[rt,st]=(0,a.useState)(!1),[pt,mt]=(0,a.useState)(!1),[dt,ut]=(0,a.useState)(!1),[ct,yt]=(0,a.useState)(""),[Dt,gt]=R()("512"),[St,Ct]=(0,a.useState)({}),Pt=[{columns:at,data:ae}];let Et=(0,Z.Z)();const It=e=>Et[e]?Et[e]:e,Nt=e=>Be.language?.[e]?Be.language[e]:e;(0,a.useEffect)((()=>{wt(Dt)}),[Dt]),(0,a.useEffect)((()=>{Be.token.length>0&&Mt(te,ke,"PPMSessionID")}),[]),(0,a.useEffect)((()=>{!Me&&ce?(Oe(ce),Mt(te,ce,"PPMSessionID")):Me&&We(ce)}),[ce]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Mt(te,ke,"PPMSessionID")},DialogTableProps:e=>{U(e)},HideEntryFields:e=>{ut(e)}})));const ft=e=>{""==e?Mt(te,ke,Ae?"DraftPPMSessionID":"PPMSessionID",Ae&&"DraftPage"):Ft(e,{current:1,pageSize:100}),ge(e)};function vt(e){we.loading(!0);let t=S.v.Api+"FP512S7/",l={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(t,l,Be.token[0]).then((t=>{if(200==t.Output.status.code){let l=0;t.Output.data.length>0?(l=parseFloat(t.Output.data[0].TotalCount,10)/10,et(t.Output.data[0].TotalCount)):l=0,10==e.pageSize?Qe(Math.ceil(l)):20==e.pageSize?Qe(Math.ceil(l/2)):50==e.pageSize?Qe(Math.ceil(l/5)):100==e.pageSize&&Qe(Math.ceil(l/10)),$e(t.Output.data),we.loading(!1)}}))}function ht(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Ae}),be({type:"ShowDetail",payload:!0}),we.Expanded(!0),Ke&&Ce(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&Ve(e.cardview),e.Dialogview&&(U(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&Ft(e.searchsafaritext,{current:te.current,pageSize:te.pageSize})}),[e.searchsafaritext]);const Tt=()=>{we.EditClose(!0),de?(document.getElementById("PPMSessionRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSessionRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSessionRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ue(!1),_e?(q||(document.getElementById("PPMSessionRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSessionRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSessionRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSessionRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSessionRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSessionRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSessionRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSessionRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSessionRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ue(!0),document.getElementById("PPMSessionRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSessionRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ce(!1),window.clickFilter=!de},Mt=(t,l,a,n,i,o)=>{we.loading(!0),"DraftPage"!==n&&Le(Be.IsDraft);let r=S.v.Api+"FP512S3/",s={data:{p1:i||(l&&l.PPMSessionIDPK?l.PPMSessionIDPK:null),p2:l&&l.PPMSessionCode?l.PPMSessionCode:null,p3:l&&l.OrderNo?l.OrderNo:null,p4:l&&l.WoDate?l.WoDate:null,p5:l&&l.WoDateType?l.WoDateType:null,p6:l&&l.WoDateBetween?l.WoDateBetween:null,p7:l&&l.SessionStartTime?l.SessionStartTime:null,p8:l&&l.SessionEndTime?l.SessionEndTime:null,p9:l&&l.Duration?l.Duration:null,p10:l&&l.DeviceKey?l.DeviceKey:null,p11:"DraftPPMSessionID"==a?"1":"0",p12:null,p13:l&&l.PPMSBCreationWorkOrderID?l.PPMSBCreationWorkOrderID:null,p14:l&&l.EmployeeID?l.EmployeeID:null,p15:l&&l.IsActive,p16:null,p17:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p18:l&&l.CreatedTtm?l.CreatedTtm:null,p19:l&&l.CreatedTtmType?l.CreatedTtmType:null,p20:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p21:null,p22:l&&l.ContractID?l.ContractID:null,p23:l&&l.ContractCode?l.ContractCode:null,p24:l&&l.ContractName?l.ContractName:null,p25:l&&l.LocalityID?l.LocalityID:null,p26:l&&l.LocalityCode?l.LocalityCode:null,p27:l&&l.LocalityName?l.LocalityName:null,p28:l&&l.BuildingID?l.BuildingID:null,p29:l&&l.BuildingCode?l.BuildingCode:null,p30:l&&l.BuildingName?l.BuildingName:null,p31:l&&l.FloorID?l.FloorID:null,p32:l&&l.FloorCode?l.FloorCode:null,p33:l&&l.FloorName?l.FloorName:null,p34:l&&l.SpotID?l.SpotID:null,p35:l&&l.SpotCode?l.SpotCode:null,p36:l&&l.SpotName?l.SpotName:null,p37:l&&l.DivisionID?l.DivisionID:null,p38:l&&l.DivisionCode?l.DivisionCode:null,p39:l&&l.DivisionName?l.DivisionName:null,p40:l&&l.DisciplineID?l.DisciplineID:null,p41:l&&l.DisciplineCode?l.DisciplineCode:null,p42:l&&l.DisciplineName?l.DisciplineName:null,p43:l&&l.FrequencyID?l.FrequencyID:null,p44:l&&l.FrequencyCode?l.FrequencyCode:null,p45:l&&l.FrequencyName?l.FrequencyName:null,p46:l&&l.PPMBusinessFlowID?l.PPMBusinessFlowID:null,p47:l&&l.BriefDetails?l.BriefDetails:null,p48:l&&l.FlowCode?l.FlowCode:null,p49:l&&l.FlowDisplayName?l.FlowDisplayName:null,p50:l&&l.PPMFixonBusinessFlowID?l.PPMFixonBusinessFlowID:null,p51:l&&l.FixonBusinessFlowName?l.FixonBusinessFlowName:null,p52:l&&l.PPMFixonBusinessFlowCode?l.PPMFixonBusinessFlowCode:null,p53:l&&l.PPMStageID?l.PPMStageID:null,p54:l&&l.PPMStageName?l.PPMStageName:null,p55:l&&l.StageSeqNo?l.StageSeqNo:null,p56:l&&l.ServiceTypeID?l.ServiceTypeID:null,p57:l&&l.ServiceTypCode?l.ServiceTypCode:null,p58:l&&l.ServiceTypeName?l.ServiceTypeName:null,p59:l&&l.SBCreWorkOrder?l.SBCreWorkOrder:null,p60:l&&l.ShiftID?l.ShiftID:null,p61:l&&l.ShiftCode?l.ShiftCode:null,p62:l&&l.ShiftName?l.ShiftName:null,p63:l&&l.ClassificationID?l.ClassificationID:null,p64:l&&l.ClassificationCode?l.ClassificationCode:null,p65:l&&l.ClassificationName?l.ClassificationName:null,p66:l&&l.DepartmentID?l.DepartmentID:null,p67:l&&l.DepartmentCode?l.DepartmentCode:null,p68:l&&l.DepartmentName?l.DepartmentName:null,p69:l&&l.DesignationID?l.DesignationID:null,p70:l&&l.DesignationCode?l.DesignationCode:null,p71:l&&l.DesignationName?l.DesignationName:null,p72:l&&l.NationalityID?l.NationalityID:null,p73:l&&l.NationalityCode?l.NationalityCode:null,p74:l&&l.NationalityName?l.NationalityName:null,p75:l&&l.EmpWorkNatureID?l.EmpWorkNatureID:null,p76:l&&l.NatureOfWorkCode?l.NatureOfWorkCode:null,p77:l&&l.NatureOfWorkName?l.NatureOfWorkName:null,p78:l&&l.EmployeeTypeID?l.EmployeeTypeID:null,p79:l&&l.EmployeeTypeCode?l.EmployeeTypeCode:null,p80:l&&l.EmployeeTypeName?l.EmployeeTypeName:null,p81:l&&l.EmploymentTypeID?l.EmploymentTypeID:null,p82:l&&l.EmploymentTypCode?l.EmploymentTypCode:null,p83:l&&l.EmploymentTypeName?l.EmploymentTypeName:null,p84:l&&l.EmployeeGroupID?l.EmployeeGroupID:null,p85:l&&l.EmployeeGroupCode?l.EmployeeGroupCode:null,p86:l&&l.EmployeeGroupName?l.EmployeeGroupName:null,p87:l&&l.EmpGradeID?l.EmpGradeID:null,p88:l&&l.EmpGradeCode?l.EmpGradeCode:null,p89:l&&l.EmpGradeName?l.EmpGradeName:null,p90:l&&l.CityID?l.CityID:null,p91:l&&l.CityCode?l.CityCode:null,p92:l&&l.CityName?l.CityName:null,p93:l&&l.RegionID?l.RegionID:null,p94:l&&l.RegionCode?l.RegionCode:null,p95:l&&l.RegionName?l.RegionName:null,p96:l&&l.CountryID?l.CountryID:null,p97:l&&l.CountryCode?l.CountryCode:null,p98:l&&l.CountryName?l.CountryName:null,p99:l&&l.EmpGenderID?l.EmpGenderID:null,p100:l&&l.EmpGenderName?l.EmpGenderName:null,p101:l&&l.EmpTitleID?l.EmpTitleID:null,p102:l&&l.EmpTitleName?l.EmpTitleName:null,p103:l&&l.EmployeeCode?l.EmployeeCode:null,p104:l&&l.FirstName?l.FirstName:null,p105:l&&l.EmpContactNo1?l.EmpContactNo1:null,p106:l&&l.EmpEmailOfficial?l.EmpEmailOfficial:null,p107:i?1:t.current,p108:t.pageSize,p109:a,p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}};(0,p.Z)(r,s,Be.token[0]).then((r=>{if(i)(0,w.a)(r,be,n,o,we);else if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let e=0;r.Output.data.length>0?(e=parseFloat(r.Output.data[0].TotalCount,10)/10,Q(r.Output.data[0].TotalCount),ee(r.Output.data[0].DraftCnt),be({type:"count",payload:r.Output.data[0].TotalCount}),"DraftPage"==n&&ee(r.Output.data[0].TotalCount)):e=0,10==t.pageSize?$(Math.ceil(e)):20==t.pageSize?$(Math.ceil(e/2)):50==t.pageSize?$(Math.ceil(e/5)):100==t.pageSize&&$(Math.ceil(e/10)),me(r.Output.data),we.loading(!1)}e.Dialogview||(document.getElementById("divPPMSessionRegistry-Entry").style.height="auto",document.getElementById("divPPMSessionRegistry-Entry").style.display="block")}else we.loading(!1),"DraftPPMSessionID"===a?(we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),Le(!1)):(me([]),le({current:1,pageSize:10}),$(0),Q(0),be({type:"count",payload:"0"}),be({type:"ExpandDetailValue",payload:!0}),Object.values(l).some((e=>e))&&we.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else we.alert({open:!0,color:"warning",message:[r.Output.status.message]}),we.loading(!1)}))};function Ft(e,t){we.loading(!0);const l=S.v.Api+"FP512S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:Ae?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,a,Be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,Q(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?$(Math.ceil(l)):20==t.pageSize?$(Math.ceil(l/2)):50==t.pageSize?$(Math.ceil(l/5)):100==t.pageSize&&$(Math.ceil(l/10)),me(e.Output.data),we.loading(!1)}else me([]),$(0),Q(0),be({type:"count",payload:"0"}),we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1);else we.alert({open:!0,color:"warning",message:[e.Output.status.message]}),we.loading(!1)}))}function wt(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),be({type:"language",payload:Object.assign({},...n)}),Ue(l.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),Ne(t),ve(l),nt(a),ot(l)}const Bt=()=>Me?null:n().createElement("div",null,Ye?n().createElement(L.Z,{data:je,expanded:e=>!q&&we.Expanded(e),edit:(e,t,l)=>{q?we.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:l}))}}):n().createElement(W.Z,{ref:O,frmctrlid:"tblcs_512_L2_",id:"PPMSessionRegistryTable",headerdata:Ie,tablesearchparams:qe,searchvalue:e=>{Ue(e),ye(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Ct(t),le({current:1,pageSize:10}),Mt({current:1,pageSize:10},t,Ae?"DraftPPMSessionID":"PPMSessionID",Ae&&"DraftPage")},bodydata:pe,ondrag:ht,bodyitem:fe,visibleitem:Ie,isdraft:Ae,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:z,showMore:!1,accessrights:Be.AccessRights,expanded:e=>!q&&we.Expanded(e),edit:(e,t,l)=>{q?we.select(e):(Object.keys(e).map(((a,n)=>{a.includes("IDPK")&&Mt(te,null,t?"DraftPPMSessionID":"PPMSessionID",t&&"DraftPage",e[a],l)})),we.hideAddBtn(!0))},viewtoggle:we.viewtoggle,isexpanded:!q||Ke,tf:Nt,action:q?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{ze(Be.ExpandTableValue)}),[Be.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld512L2ECSearchBar",className:"searchbar1"},n().createElement(I.Z,{frmctrlid:"fld512L2TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:It("Search"),value:De,onChange:e=>{ge(e),we.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},De?n().createElement("div",{id:"fld512L2TCCloseIconCommonSearch",onClick:()=>{ge(""),we.searchItem("")}},n().createElement(E.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld512L2TCInputSearchIcon"},n().createElement(C.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSessionRegistrygridsearch").focus()}})))),n().createElement("div",null,Be.AccessRights.IsAdd?n().createElement(k.Z,{className:"SaveBtnCommon",frmctrlid:"fld512L2TCAddBtnIsAdd",onClick:()=>{we.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(o.Z,{expanded:Ge,onChange:()=>()=>{Ze(Ke)}},e.Dialogview&&n().createElement(P.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[512]"},`${Nt("512")} (${J})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld512L2TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(I.Z,{frmctrlid:"fld512L2TCInputSearch",className:"search_input",type:"text",placeholder:It("Search"),value:De,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},De?n().createElement("div",{id:"fld512L2TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(E.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld512L2TCInputSearchIcon"},n().createElement(C.Z,{className:"InputSearchIcon"}))))))),n().createElement(r.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"PPMSessionRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ae&&n().createElement("div",{frmctrlid:"fld512L2TCFilterDataIsDraft",id:"PPMSessionRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Tt()}},n().createElement(g.ZP,{title:It("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(B.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},It("Filter Data"))),!q&&!Ae&&!Me&&n().createElement(d.Z,{formctrlidprint:"fld512L2TCExportPrint",formctrlidexport:"fld512L2TCExportTable",formctrlidrefresh:"fld512L2TCExportRefresh",title:Nt("512"),data:ie,exportData:Pt,Items:it,columnIndex:at,TableVisibleItem:Ie,userGridViewFormID:z,TableTotalCount:J,triggerApi:e=>{((e,t,a,n,i)=>{if(0===J)return we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;we.loading(!0);let o=S.v.Api+"FP512S3/",r={data:{p1:e&&e.PPMSessionIDPK?e.PPMSessionIDPK:null,p2:e&&e.PPMSessionCode?e.PPMSessionCode:null,p3:e&&e.OrderNo?e.OrderNo:null,p4:e&&e.WoDate?e.WoDate:null,p5:e&&e.WoDateType?e.WoDateType:null,p6:e&&e.WoDateBetween?e.WoDateBetween:null,p7:e&&e.SessionStartTime?e.SessionStartTime:null,p8:e&&e.SessionEndTime?e.SessionEndTime:null,p9:e&&e.Duration?e.Duration:null,p10:e&&e.DeviceKey?e.DeviceKey:null,p11:Ae?"1":"0",p12:null,p13:e&&e.PPMSBCreationWorkOrderID?e.PPMSBCreationWorkOrderID:null,p14:e&&e.EmployeeID?e.EmployeeID:null,p15:e&&e.IsActive,p16:null,p17:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p18:e&&e.CreatedTtm?e.CreatedTtm:null,p19:e&&e.CreatedTtmType?e.CreatedTtmType:null,p20:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p21:null,p22:e&&e.ContractID?e.ContractID:null,p23:e&&e.ContractCode?e.ContractCode:null,p24:e&&e.ContractName?e.ContractName:null,p25:e&&e.LocalityID?e.LocalityID:null,p26:e&&e.LocalityCode?e.LocalityCode:null,p27:e&&e.LocalityName?e.LocalityName:null,p28:e&&e.BuildingID?e.BuildingID:null,p29:e&&e.BuildingCode?e.BuildingCode:null,p30:e&&e.BuildingName?e.BuildingName:null,p31:e&&e.FloorID?e.FloorID:null,p32:e&&e.FloorCode?e.FloorCode:null,p33:e&&e.FloorName?e.FloorName:null,p34:e&&e.SpotID?e.SpotID:null,p35:e&&e.SpotCode?e.SpotCode:null,p36:e&&e.SpotName?e.SpotName:null,p37:e&&e.DivisionID?e.DivisionID:null,p38:e&&e.DivisionCode?e.DivisionCode:null,p39:e&&e.DivisionName?e.DivisionName:null,p40:e&&e.DisciplineID?e.DisciplineID:null,p41:e&&e.DisciplineCode?e.DisciplineCode:null,p42:e&&e.DisciplineName?e.DisciplineName:null,p43:e&&e.FrequencyID?e.FrequencyID:null,p44:e&&e.FrequencyCode?e.FrequencyCode:null,p45:e&&e.FrequencyName?e.FrequencyName:null,p46:e&&e.PPMBusinessFlowID?e.PPMBusinessFlowID:null,p47:e&&e.BriefDetails?e.BriefDetails:null,p48:e&&e.FlowCode?e.FlowCode:null,p49:e&&e.FlowDisplayName?e.FlowDisplayName:null,p50:e&&e.PPMFixonBusinessFlowID?e.PPMFixonBusinessFlowID:null,p51:e&&e.FixonBusinessFlowName?e.FixonBusinessFlowName:null,p52:e&&e.PPMFixonBusinessFlowCode?e.PPMFixonBusinessFlowCode:null,p53:e&&e.PPMStageID?e.PPMStageID:null,p54:e&&e.PPMStageName?e.PPMStageName:null,p55:e&&e.StageSeqNo?e.StageSeqNo:null,p56:e&&e.ServiceTypeID?e.ServiceTypeID:null,p57:e&&e.ServiceTypCode?e.ServiceTypCode:null,p58:e&&e.ServiceTypeName?e.ServiceTypeName:null,p59:e&&e.SBCreWorkOrder?e.SBCreWorkOrder:null,p60:e&&e.ShiftID?e.ShiftID:null,p61:e&&e.ShiftCode?e.ShiftCode:null,p62:e&&e.ShiftName?e.ShiftName:null,p63:e&&e.ClassificationID?e.ClassificationID:null,p64:e&&e.ClassificationCode?e.ClassificationCode:null,p65:e&&e.ClassificationName?e.ClassificationName:null,p66:e&&e.DepartmentID?e.DepartmentID:null,p67:e&&e.DepartmentCode?e.DepartmentCode:null,p68:e&&e.DepartmentName?e.DepartmentName:null,p69:e&&e.DesignationID?e.DesignationID:null,p70:e&&e.DesignationCode?e.DesignationCode:null,p71:e&&e.DesignationName?e.DesignationName:null,p72:e&&e.NationalityID?e.NationalityID:null,p73:e&&e.NationalityCode?e.NationalityCode:null,p74:e&&e.NationalityName?e.NationalityName:null,p75:e&&e.EmpWorkNatureID?e.EmpWorkNatureID:null,p76:e&&e.NatureOfWorkCode?e.NatureOfWorkCode:null,p77:e&&e.NatureOfWorkName?e.NatureOfWorkName:null,p78:e&&e.EmployeeTypeID?e.EmployeeTypeID:null,p79:e&&e.EmployeeTypeCode?e.EmployeeTypeCode:null,p80:e&&e.EmployeeTypeName?e.EmployeeTypeName:null,p81:e&&e.EmploymentTypeID?e.EmploymentTypeID:null,p82:e&&e.EmploymentTypCode?e.EmploymentTypCode:null,p83:e&&e.EmploymentTypeName?e.EmploymentTypeName:null,p84:e&&e.EmployeeGroupID?e.EmployeeGroupID:null,p85:e&&e.EmployeeGroupCode?e.EmployeeGroupCode:null,p86:e&&e.EmployeeGroupName?e.EmployeeGroupName:null,p87:e&&e.EmpGradeID?e.EmpGradeID:null,p88:e&&e.EmpGradeCode?e.EmpGradeCode:null,p89:e&&e.EmpGradeName?e.EmpGradeName:null,p90:e&&e.CityID?e.CityID:null,p91:e&&e.CityCode?e.CityCode:null,p92:e&&e.CityName?e.CityName:null,p93:e&&e.RegionID?e.RegionID:null,p94:e&&e.RegionCode?e.RegionCode:null,p95:e&&e.RegionName?e.RegionName:null,p96:e&&e.CountryID?e.CountryID:null,p97:e&&e.CountryCode?e.CountryCode:null,p98:e&&e.CountryName?e.CountryName:null,p99:e&&e.EmpGenderID?e.EmpGenderID:null,p100:e&&e.EmpGenderName?e.EmpGenderName:null,p101:e&&e.EmpTitleID?e.EmpTitleID:null,p102:e&&e.EmpTitleName?e.EmpTitleName:null,p103:e&&e.EmployeeCode?e.EmployeeCode:null,p104:e&&e.FirstName?e.FirstName:null,p105:e&&e.EmpContactNo1?e.EmpContactNo1:null,p106:e&&e.EmpEmailOfficial?e.EmpEmailOfficial:null,p107:te.current,p108:J,p109:Ae?"DraftPPMSessionID":"PPMSessionID",p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}};we.loading(!1),we.alert({open:!0,color:"success",message:[`${Nt(512)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(o,r,Be.token[0],i).then((e=>{(0,x.PDF_Excel_Generate)(e,we,it,ne,l,i)}))})(ce,re.column,0,0,e)},Refresh:()=>{ge(""),le({current:1,pageSize:100}),O.current.clearItem(),Be.IsDraft?Mt({current:1,pageSize:100},ke,"DraftPPMSessionID"):Mt({current:1,pageSize:100},ke,"PPMSessionID")},disabledPrint:!Be.AccessRights.IsPrint,disabledExport:!Be.AccessRights.IsExport,ref:l,iconinfo:"iconinfo"}),!Ae&&!Me&&!q&&n().createElement("div",{className:"buttoncard",onClick:()=>mt(!pt)},n().createElement("span",null,pt?n().createElement(g.ZP,{disableFocusListener:!0,title:It("Less"),placement:"top"},n().createElement("span",{id:"fld512L2TCLess"},n().createElement(h.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(g.ZP,{disableFocusListener:!0,title:It("More"),placement:"top"},n().createElement("span",{id:"fld512L2TCMore"},n().createElement(h.ilJ,{className:"tableFilterColumnIcon"}))))),pt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Me||!Ke?null:q||!Be.AccessRights.IsAdd||Ae?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld512L2TCFilterDataIsAdd",id:"PPMSessionRegistrycoldiv",className:"buttoncard",onClick:()=>{we.EditClose(!0),Se?(document.getElementById("PPMSessionRegistryFilterDiv").style.width="0%",document.getElementById("PPMSessionRegistryTabDiv").style.width="100%",document.getElementById("PPMSessionRegistryFilterDiv").style.display="none",document.getElementById("PPMSessionRegistrycoldiv").style.width="fit-content",document.getElementById("PPMSessionRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("PPMSessionRegistryFilterDiv").style.width="25%",document.getElementById("PPMSessionRegistryTabDiv").style.width="75%",document.getElementById("PPMSessionRegistryFilterDiv").style.display="block",document.getElementById("PPMSessionRegistryfildiv").style.width="fit-content",document.getElementById("PPMSessionRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSessionRegistrycoldiv").style.width="fit-content",document.getElementById("PPMSessionRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),ue(!1)}},n().createElement(g.ZP,{title:It("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(b.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},It("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!q&&Ke&&!Me&&!Ae&&n().createElement("div",null,n().createElement("div",{id:"PPMSessionRegistrycoldiv",className:"buttoncard",onClick:()=>{Ye?He(!1):(He(!0),vt({current:1,pageSize:100}))}},n().createElement(g.ZP,{title:It("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld512L2TCTableScrollData"},n().createElement(G.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},It("Table Scroll Data")))),!Me&&Ae?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{we.hideAddBtn(!1),we.ExpandEntry(),Mt({current:1,pageSize:100},ke,"PPMSessionID"),Le(!1),ge(""),be({type:"IsDraft",payload:!1}),le({current:1,pageSize:10})}},n().createElement(g.ZP,{title:It("List"),placement:"top"},n().createElement("div",{id:"fld512L2TCList"},n().createElement(T.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},It("Drafts")," ",J)):!q&&!Me&&Be.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:X,showZero:!0},n().createElement("div",{id:"fld512L2TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{X>0?(le({current:1,pageSize:100}),H(0),we.clear(),ge(""),be({type:"Add",payload:!1}),Mt({current:1,pageSize:10},ke,"DraftPPMSessionID"),Le(!0),be({type:"IsDraft",payload:!0}),Ce(!1),Ve(!0),document.getElementById("PPMSessionRegistryFilterDiv").style.width="0%",document.getElementById("PPMSessionRegistryTabDiv").style.width="100%",document.getElementById("PPMSessionRegistryFilterDiv").style.display="none",le({current:1,pageSize:100}),Fe(!1)):we.alert({open:!0,color:"warning",message:[It("There is no Record Found")]})}},n().createElement(g.ZP,{title:It("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(M.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},It("Drafts"))))))):""),!Ae&&!q&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Me||Ae?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld512L2TCListView",onClick:()=>{Ve(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(h.umT,null)),n().createElement("span",null,It("List"))),n().createElement("div",{className:_e||rt?"buttonGrid":"buttonList",id:"fld512L2TCCardView",onClick:()=>{Ve(!1),st(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(v.aCJ,null)),n().createElement("span",null,It("Card"))),n().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld512L2TCTileView",onClick:()=>{st(!0),Ve(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(F.f_H,null)),n().createElement("span",null,It("Tile"))))))),Me?null:Ye?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(N.Z,{style:{color:"#777"},id:"fld512L2TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:Y,onPageChange:(e,t)=>{H(t),vt({current:t+1,pageSize:tt.pageSize}),lt({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(u.Z,{count:Je,color:"primary",page:tt.current,onChange:(e,t)=>{lt({current:t,pageSize:tt.pageSize}),Qe(t),vt({current:t,pageSize:tt.pageSize})}}),n().createElement("div",null,n().createElement(c.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld512L2TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(y.Z,{value:10},"10"),n().createElement(y.Z,{value:20},"20"),n().createElement(y.Z,{value:50},"50"),n().createElement(y.Z,{value:100},"100"))),Ke&&n().createElement("p",{className:"per-page"},"/ ",It("RowperpageOf")," (",Xe,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(N.Z,{style:{color:"#777"},id:"fld512L2TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(J),page:Y,onPageChange:(e,t)=>{H(t),Mt({current:t+1,pageSize:te.pageSize},ke,Ae?"DraftPPMSessionID":"PPMSessionID",Ae&&"DraftPage"),le({current:t+1,pageSize:te.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(u.Z,{count:j,siblingCount:0,color:"primary",page:te.current,onChange:(e,t)=>{if(le({current:t,pageSize:te.pageSize}),Ae)Mt({current:t,pageSize:te.pageSize},xe,"DraftPPMSessionID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";De.length>0?Ft(De,{current:t,pageSize:te.pageSize}):Mt({current:t,pageSize:te.pageSize},xe,"PPMSessionID")}}}),n().createElement("div",null,n().createElement(c.Z,{className:"BootstrapInputStyle",value:te.pageSize,id:"fld512L2TCSelectPaging",onChange:e=>{le({current:1,pageSize:e.target.value}),Ae?Mt({current:1,pageSize:e.target.value},xe,"DraftPPMSessionID","DraftPage"):De.length>0?Ft(De,{current:1,pageSize:e.target.value}):Mt({current:1,pageSize:e.target.value},xe,"PPMSessionID")}},n().createElement(y.Z,{value:10},"10"),n().createElement(y.Z,{value:20},"20"),n().createElement(y.Z,{value:50},"50"),n().createElement(y.Z,{value:100},"100"))),Ke&&n().createElement("p",{className:"per-page"},"/ ",It("RowperpageOf")," (",J,") "))),n().createElement("div",{id:"PPMSessionRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMSessionRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&n().createElement(m.default,{parentId:e.parentId,searchData:e=>{ye(e||St),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:z,data:()=>{},visibleData:()=>{},token:Be.token[0],CloseBtnClk:()=>Tt(),userGrid:Dt,msg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Se&&n().createElement(D.Z,{Refresh:e=>{Mt({current:1,pageSize:100},ke,"PPMSessionID")},frmctrlid:"fld512L2TCTableColumnOrder",loading:e=>we.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),select:Se,userID:K,userGridViewFormID:z,saved:(e,t)=>{e&&wt(t),gt(t),be({type:"showTableview",payload:t})},Token:Be.token[0]})),n().createElement("div",{id:"PPMSessionRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?n().createElement(Bt,null):n().createElement(f.Z,{frmctrlid:"fld512L2TCExpandedCardDual",data:pe,id:"PPMSessionRegistry",title:"PPMSessionCode",cardTile:!!rt,visibleitem:Ie,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{q?we.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Ae}),be({type:"ShowDetail",payload:!1}),we.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Ae}),be({type:"ShowDetail",payload:!0}),we.Expanded(!0),we.viewtoggle()),de?ue(!0):Se?Ce(!0):(Ce(!1),Ce(!1))),we.hideAddBtn(!0)}})))))))})),z=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),s=(0,a.useRef)(null),m=(0,a.useRef)(null),[y]=((0,i.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[D,g]=R()("512"),[C,E]=(0,a.useState)(!1),[I,N]=(0,a.useState)(0),[f,v]=(0,a.useState)(0),[h,T]=(0,a.useState)({current:1,pageSize:100}),[M,F]=(0,a.useState)(""),[w,B]=(0,a.useState)([]),[b,k]=(0,a.useState)({val:"",column:""}),[O,L]=(0,a.useState)([]),[G,K]=(0,a.useState)(!1),[z,_]=(0,a.useState)(""),[V,q]=(0,a.useState)([]),[U,Y]=(0,a.useState)([]),[H,j]=(0,a.useState)([]),$=(0,a.useContext)(A.PPMSessionRegistryContext),{cstate:J,cdispatch:Q}=(0,A.ContextApi)();let X={PPMSessionIDPK:"",PPMSessionCode:"",OrderNo:"",WoDate:"",WoDateType:"",WoDateBetween:"",SessionStartTime:"",SessionEndTime:"",Duration:"",DeviceKey:"",IsDraft:"",Remarks:"",PPMSBCreationWorkOrderID:"",EmployeeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",ServiceTypeID:"",ServiceTypCode:"",ServiceTypeName:"",SBCreWorkOrder:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,a.useState)(!1),[le,ae]=(0,a.useState)(!0),[ne,ie]=(0,a.useState)(!1),[oe,re]=(0,a.useState)(!0),[se,pe]=(0,a.useState)(0),[me,de]=(0,a.useState)({PPMSessionCode:"",OrderNo:"",WoDate:"",SessionStartTime:"",SessionEndTime:"",Duration:"",DeviceKey:"",SBCreWorkOrder:"",FirstName:""}),[ue,ce]=(0,a.useState)([]),[ye,De]=(0,a.useState)([]),[ge,Se]=(0,a.useState)([]),[Ce,Pe]=(0,a.useState)(!1),[Ee,Ie]=(0,a.useState)("");let Ne=(0,Z.Z)();const fe=[{columns:ue,data:M}];(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),Q({type:"language",payload:Object.assign({},...n)}),de(l.reduce(((e,t)=>(e[t]="",e)),{})),q(e),Y(t),j(l),ce(a),De(l)}(D)}),[D]),(0,a.useImperativeHandle)(t,(()=>({tableRefresh:()=>{ve()},viewrecord:e=>{O.map(((t,l)=>{t.PPMSessionIDPK==e&&Q({type:"editData",payload:[O[l]]})}))},DialogTableProps:e=>{E(e)},searchData:(t,l,a)=>{$.loading(!0),s.current&&s.current.clearItem(),Ie(a),T({current:1,pageSize:10}),X=e.ApiParamType.params,he({current:1,pageSize:100},l,a),m.current&&m.current.clearItem()}}))),(0,a.useEffect)((()=>{!1===e.cardview&&re(e.cardview),e.Dialogview&&E(e.Dialogview)}),[e.cardview,e.Dialogview]);const ve=()=>{J.IsDraft?he(h,X,"DraftPPMSessionID"):he(h,X,"PPMSessionID")},he=async(t,l,a,n)=>{if(J.token[0]){if($.loading(!0),"DraftPage"!==n&&te(J.IsDraft),await Ie((e=>(a=e,e))),l&&Object.keys(l).length>0){let e=Object.keys(l),t={},a=[],n=Object.values(l);e.map((e=>{a.push(e.split("_")[0])}));for(let e=0;e<a.length;e++)t[a[e]]=n[e];l=t}_(l);let i=S.v.Api+`${e.ApiType}/`,o={data:{p1:l&&l.PPMSessionIDPK?l.PPMSessionIDPK:null,p2:l&&l.PPMSessionCode?l.PPMSessionCode:null,p3:l&&l.OrderNo?l.OrderNo:null,p4:l&&l.WoDate?l.WoDate:null,p5:l&&l.WoDateType?l.WoDateType:null,p6:l&&l.WoDateBetween?l.WoDateBetween:null,p7:l&&l.SessionStartTime?l.SessionStartTime:null,p8:l&&l.SessionEndTime?l.SessionEndTime:null,p9:l&&l.Duration?l.Duration:null,p10:l&&l.DeviceKey?l.DeviceKey:null,p11:"DraftPPMSessionID"==a?"1":"0",p12:null,p13:l&&l.PPMSBCreationWorkOrderID?l.PPMSBCreationWorkOrderID:null,p14:l&&l.EmployeeID?l.EmployeeID:null,p15:l&&l.IsActive,p16:null,p17:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p18:l&&l.CreatedTtm?l.CreatedTtm:null,p19:l&&l.CreatedTtmType?l.CreatedTtmType:null,p20:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p21:null,p22:l&&l.ContractID?l.ContractID:null,p23:l&&l.ContractCode?l.ContractCode:null,p24:l&&l.ContractName?l.ContractName:null,p25:l&&l.LocalityID?l.LocalityID:null,p26:l&&l.LocalityCode?l.LocalityCode:null,p27:l&&l.LocalityName?l.LocalityName:null,p28:l&&l.BuildingID?l.BuildingID:null,p29:l&&l.BuildingCode?l.BuildingCode:null,p30:l&&l.BuildingName?l.BuildingName:null,p31:l&&l.FloorID?l.FloorID:null,p32:l&&l.FloorCode?l.FloorCode:null,p33:l&&l.FloorName?l.FloorName:null,p34:l&&l.SpotID?l.SpotID:null,p35:l&&l.SpotCode?l.SpotCode:null,p36:l&&l.SpotName?l.SpotName:null,p37:l&&l.DivisionID?l.DivisionID:null,p38:l&&l.DivisionCode?l.DivisionCode:null,p39:l&&l.DivisionName?l.DivisionName:null,p40:l&&l.DisciplineID?l.DisciplineID:null,p41:l&&l.DisciplineCode?l.DisciplineCode:null,p42:l&&l.DisciplineName?l.DisciplineName:null,p43:l&&l.FrequencyID?l.FrequencyID:null,p44:l&&l.FrequencyCode?l.FrequencyCode:null,p45:l&&l.FrequencyName?l.FrequencyName:null,p46:l&&l.PPMBusinessFlowID?l.PPMBusinessFlowID:null,p47:l&&l.BriefDetails?l.BriefDetails:null,p48:l&&l.FlowCode?l.FlowCode:null,p49:l&&l.FlowDisplayName?l.FlowDisplayName:null,p50:l&&l.PPMFixonBusinessFlowID?l.PPMFixonBusinessFlowID:null,p51:l&&l.FixonBusinessFlowName?l.FixonBusinessFlowName:null,p52:l&&l.PPMFixonBusinessFlowCode?l.PPMFixonBusinessFlowCode:null,p53:l&&l.PPMStageID?l.PPMStageID:null,p54:l&&l.PPMStageName?l.PPMStageName:null,p55:l&&l.StageSeqNo?l.StageSeqNo:null,p56:l&&l.ServiceTypeID?l.ServiceTypeID:null,p57:l&&l.ServiceTypCode?l.ServiceTypCode:null,p58:l&&l.ServiceTypeName?l.ServiceTypeName:null,p59:l&&l.SBCreWorkOrder?l.SBCreWorkOrder:null,p60:l&&l.ShiftID?l.ShiftID:null,p61:l&&l.ShiftCode?l.ShiftCode:null,p62:l&&l.ShiftName?l.ShiftName:null,p63:l&&l.ClassificationID?l.ClassificationID:null,p64:l&&l.ClassificationCode?l.ClassificationCode:null,p65:l&&l.ClassificationName?l.ClassificationName:null,p66:l&&l.DepartmentID?l.DepartmentID:null,p67:l&&l.DepartmentCode?l.DepartmentCode:null,p68:l&&l.DepartmentName?l.DepartmentName:null,p69:l&&l.DesignationID?l.DesignationID:null,p70:l&&l.DesignationCode?l.DesignationCode:null,p71:l&&l.DesignationName?l.DesignationName:null,p72:l&&l.NationalityID?l.NationalityID:null,p73:l&&l.NationalityCode?l.NationalityCode:null,p74:l&&l.NationalityName?l.NationalityName:null,p75:l&&l.EmpWorkNatureID?l.EmpWorkNatureID:null,p76:l&&l.NatureOfWorkCode?l.NatureOfWorkCode:null,p77:l&&l.NatureOfWorkName?l.NatureOfWorkName:null,p78:l&&l.EmployeeTypeID?l.EmployeeTypeID:null,p79:l&&l.EmployeeTypeCode?l.EmployeeTypeCode:null,p80:l&&l.EmployeeTypeName?l.EmployeeTypeName:null,p81:l&&l.EmploymentTypeID?l.EmploymentTypeID:null,p82:l&&l.EmploymentTypCode?l.EmploymentTypCode:null,p83:l&&l.EmploymentTypeName?l.EmploymentTypeName:null,p84:l&&l.EmployeeGroupID?l.EmployeeGroupID:null,p85:l&&l.EmployeeGroupCode?l.EmployeeGroupCode:null,p86:l&&l.EmployeeGroupName?l.EmployeeGroupName:null,p87:l&&l.EmpGradeID?l.EmpGradeID:null,p88:l&&l.EmpGradeCode?l.EmpGradeCode:null,p89:l&&l.EmpGradeName?l.EmpGradeName:null,p90:l&&l.CityID?l.CityID:null,p91:l&&l.CityCode?l.CityCode:null,p92:l&&l.CityName?l.CityName:null,p93:l&&l.RegionID?l.RegionID:null,p94:l&&l.RegionCode?l.RegionCode:null,p95:l&&l.RegionName?l.RegionName:null,p96:l&&l.CountryID?l.CountryID:null,p97:l&&l.CountryCode?l.CountryCode:null,p98:l&&l.CountryName?l.CountryName:null,p99:l&&l.EmpGenderID?l.EmpGenderID:null,p100:l&&l.EmpGenderName?l.EmpGenderName:null,p101:l&&l.EmpTitleID?l.EmpTitleID:null,p102:l&&l.EmpTitleName?l.EmpTitleName:null,p103:l&&l.EmployeeCode?l.EmployeeCode:null,p104:l&&l.FirstName?l.FirstName:null,p105:l&&l.EmpContactNo1?l.EmpContactNo1:null,p106:l&&l.EmpEmailOfficial?l.EmpEmailOfficial:null,p107:t.current,p108:t.pageSize,p109:a,p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}};(0,p.Z)(i,o,J.token[0]).then((e=>{if($.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?N(Math.ceil(l)):20==t.pageSize?N(Math.ceil(l/2)):50==t.pageSize?N(Math.ceil(l/5)):100==t.pageSize&&N(Math.ceil(l/10)),L(e.Output.data)}}else $.alert({open:!0,color:"warning",message:[(l="There is no Record Found",Ne?.[l]?Ne[l]:l)]}),L([]),N(0),v(0),Q({type:"count",payload:0});var l}))}};return(0,a.useEffect)((()=>{ie(J.ExpandTableValue)}),[J.ExpandTableValue]),n().createElement("div",null,n().createElement(o.Z,{expanded:le,onChange:()=>()=>{ae(ne)}},n().createElement(P.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",f,")")))))),n().createElement(r.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"PPMSessionRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(d.Z,{formctrlidprint:"fld512L2TCExportPrint",formctrlidexport:"fld512L2TCExportTable",formctrlidrefresh:"fld512L2TCExportRefresh",title:"512",data:w,exportData:fe,Items:ye,columnIndex:ue,triggerApi:t=>{((t,a,n)=>{if(0===f)return $.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;$.loading(!0);let i=S.v.Api+`${e.ApiType}/`,o={data:{p1:t||(t&&t.PPMSessionIDPK?t.PPMSessionIDPK:null),p2:t&&t.PPMSessionCode?t.PPMSessionCode:null,p3:t&&t.OrderNo?t.OrderNo:null,p4:t&&t.WoDate?t.WoDate:null,p5:t&&t.WoDateType?t.WoDateType:null,p6:t&&t.WoDateBetween?t.WoDateBetween:null,p7:t&&t.SessionStartTime?t.SessionStartTime:null,p8:t&&t.SessionEndTime?t.SessionEndTime:null,p9:t&&t.Duration?t.Duration:null,p10:t&&t.DeviceKey?t.DeviceKey:null,p11:ee?"1":"0",p12:null,p13:t&&t.PPMSBCreationWorkOrderID?t.PPMSBCreationWorkOrderID:null,p14:t&&t.EmployeeID?t.EmployeeID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.ContractID?t.ContractID:null,p23:t&&t.ContractCode?t.ContractCode:null,p24:t&&t.ContractName?t.ContractName:null,p25:t&&t.LocalityID?t.LocalityID:null,p26:t&&t.LocalityCode?t.LocalityCode:null,p27:t&&t.LocalityName?t.LocalityName:null,p28:t&&t.BuildingID?t.BuildingID:null,p29:t&&t.BuildingCode?t.BuildingCode:null,p30:t&&t.BuildingName?t.BuildingName:null,p31:t&&t.FloorID?t.FloorID:null,p32:t&&t.FloorCode?t.FloorCode:null,p33:t&&t.FloorName?t.FloorName:null,p34:t&&t.SpotID?t.SpotID:null,p35:t&&t.SpotCode?t.SpotCode:null,p36:t&&t.SpotName?t.SpotName:null,p37:t&&t.DivisionID?t.DivisionID:null,p38:t&&t.DivisionCode?t.DivisionCode:null,p39:t&&t.DivisionName?t.DivisionName:null,p40:t&&t.DisciplineID?t.DisciplineID:null,p41:t&&t.DisciplineCode?t.DisciplineCode:null,p42:t&&t.DisciplineName?t.DisciplineName:null,p43:t&&t.FrequencyID?t.FrequencyID:null,p44:t&&t.FrequencyCode?t.FrequencyCode:null,p45:t&&t.FrequencyName?t.FrequencyName:null,p46:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p47:t&&t.BriefDetails?t.BriefDetails:null,p48:t&&t.FlowCode?t.FlowCode:null,p49:t&&t.FlowDisplayName?t.FlowDisplayName:null,p50:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p51:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p52:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p53:t&&t.PPMStageID?t.PPMStageID:null,p54:t&&t.PPMStageName?t.PPMStageName:null,p55:t&&t.StageSeqNo?t.StageSeqNo:null,p56:t&&t.ServiceTypeID?t.ServiceTypeID:null,p57:t&&t.ServiceTypCode?t.ServiceTypCode:null,p58:t&&t.ServiceTypeName?t.ServiceTypeName:null,p59:t&&t.SBCreWorkOrder?t.SBCreWorkOrder:null,p60:t&&t.ShiftID?t.ShiftID:null,p61:t&&t.ShiftCode?t.ShiftCode:null,p62:t&&t.ShiftName?t.ShiftName:null,p63:t&&t.ClassificationID?t.ClassificationID:null,p64:t&&t.ClassificationCode?t.ClassificationCode:null,p65:t&&t.ClassificationName?t.ClassificationName:null,p66:t&&t.DepartmentID?t.DepartmentID:null,p67:t&&t.DepartmentCode?t.DepartmentCode:null,p68:t&&t.DepartmentName?t.DepartmentName:null,p69:t&&t.DesignationID?t.DesignationID:null,p70:t&&t.DesignationCode?t.DesignationCode:null,p71:t&&t.DesignationName?t.DesignationName:null,p72:t&&t.NationalityID?t.NationalityID:null,p73:t&&t.NationalityCode?t.NationalityCode:null,p74:t&&t.NationalityName?t.NationalityName:null,p75:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p76:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p77:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p78:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p79:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p80:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p81:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p82:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p83:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p84:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p85:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p86:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p87:t&&t.EmpGradeID?t.EmpGradeID:null,p88:t&&t.EmpGradeCode?t.EmpGradeCode:null,p89:t&&t.EmpGradeName?t.EmpGradeName:null,p90:t&&t.CityID?t.CityID:null,p91:t&&t.CityCode?t.CityCode:null,p92:t&&t.CityName?t.CityName:null,p93:t&&t.RegionID?t.RegionID:null,p94:t&&t.RegionCode?t.RegionCode:null,p95:t&&t.RegionName?t.RegionName:null,p96:t&&t.CountryID?t.CountryID:null,p97:t&&t.CountryCode?t.CountryCode:null,p98:t&&t.CountryName?t.CountryName:null,p99:t&&t.EmpGenderID?t.EmpGenderID:null,p100:t&&t.EmpGenderName?t.EmpGenderName:null,p101:t&&t.EmpTitleID?t.EmpTitleID:null,p102:t&&t.EmpTitleName?t.EmpTitleName:null,p103:t&&t.EmployeeCode?t.EmployeeCode:null,p104:t&&t.FirstName?t.FirstName:null,p105:t&&t.EmpContactNo1?t.EmpContactNo1:null,p106:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p107:1,p108:f,p109:Ee,p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}};var r;$.loading(!1),$.alert({open:!0,color:"success",message:[`${r="512",J.language?.[r]?J.language[r]:r} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,p.Z)(i,o,J.token[0],n).then((e=>{(0,x.PDF_Excel_Generate)(e,$,ye,F,l,n)}))})(z,b.column,t)},TableVisibleItem:U,userGridViewFormID:"512",TableTotalCount:f,Refresh:()=>{he({current:1,pageSize:100},z,Ee),T({current:1,pageSize:100}),m.current&&m.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:l})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(u.Z,{count:I,siblingCount:0,color:"primary",page:h.current,onChange:(e,t)=>{if(T({current:t,pageSize:h.pageSize}),ee)he({current:t,pageSize:h.pageSize},z,"DraftPPMSessionID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";he({current:t,pageSize:h.pageSize},z,"PPMSessionID")}}}),n().createElement("div",null,n().createElement(c.Z,{value:h.pageSize,onChange:e=>{T({current:1,pageSize:e.target.value}),he({current:1,pageSize:e.target.value},z,"PPMSessionID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",f,")"))),n().createElement("div",{id:"PPMSessionRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"PPMSessionRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"PPMSessionRegistry",headerdata:U,tablesearchparams:me,searchvalue:e=>{de(e),T({current:1,pageSize:100}),he({current:1,pageSize:100},e,ee?"DraftPPMSessionID":"PPMSessionID",ee&&"DraftPage")},bodydata:O,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:H,visibleitem:U,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{C?$.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?$.edit(t,l,a):$.edit(t,l,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{L(e)},color:!0,isexpanded:!1}):n().createElement(W.Z,{frmctrlid:"tblcs_512_L2_",ref:s,id:"PPMSessionRegistryTable",type:e.viewtype,headerdata:U,tablesearchparams:me,searchvalue:e=>{let t={...z,...e};de(e),_(t),T({current:1,pageSize:100}),he(h,t,Ee)},bodydata:O,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:H,visibleitem:U,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{C?$.select(t):(e.editdata(t,"view"),$.edit(t,l,1!=t.Entry))},viewtoggle:$.viewtoggle,IsSub:e.IsSub})))))))}))},64027:(e,t,l)=>{l.r(t),l.d(t,{default:()=>O}),l(95866),l(99058);var a=l(92950),n=l.n(a),i=l(80366),o=l(51673),r=l(282),s=l(868),p=l(78513),m=l(14439),d=l(27848),u=l(40900),c=l(64059),y=l(24038),D=l(8981),g=l(47516),S=l(86893),C=l(10486),P=l(33681),E=l(63163),I=(l(35131),l(61956),l(93657)),N=l(53375),f=l(52663),v=l(66083),h=l(29525),T=l(66856),M=l(39803),F=l(99940),w=l(17149),B=l(62810),b=l(30553),k=l(92381),x=l(25108);const O=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[O,R]=(0,a.useState)([]),[W,A]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[L,G]=(0,a.useState)(""),[Z,K]=(0,a.useState)({}),[z,_]=(0,a.useState)(!0),[V,q]=(0,a.useState)(!1),{cstate:U,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,C.ContextApi)(),[H,j]=(0,a.useState)(1),[$,J]=(0,a.useState)(0),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({}),[le,ae]=(0,a.useState)([]),[ne,ie]=(0,a.useState)(!0),[oe,re]=(0,a.useState)(!1),[se,pe]=(0,a.useState)(""),[me,de]=(0,a.useState)(!1),[ue,ce]=(0,a.useState)(!1),[ye,De]=(0,a.useState)(!1),[ge,Se]=(0,a.useState)(""),Ce=(0,a.useRef)(null),[Pe,Ee]=(0,a.useState)({});let Ie=localStorage.getItem("Language");const Ne={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,D.Z)();const ve=e=>fe[e]?fe[e]:e,he=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ne[Ie]];function Te(){K({}),te({}),e.searchData({}),q(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});Ee(l),ae(t)}),[]),(0,a.useEffect)((()=>()=>{Ce.current&&Ce.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Te()}})));const Me=async(t,l,a,n)=>{X(!0);try{Ce.current&&Ce.current.abort();const i=new AbortController;Ce.current=i;let r="",s=[],p={};await A((e=>(r=e.name,e))),await K((e=>(s=e,e))),await te((e=>(p=e,e)));const m=u.v.Api+"FP512S3/",d={data:{p1:"PPMSessionIDPK"==l?null:await ke(),p2:"PPMSessionCode"==r&&a.length>0?"%"+a+"%":null,p3:"OrderNo"==r&&a.length>0?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:"SessionStartTime"==r&&a.length>0?"%"+a+"%":null,p8:"SessionEndTime"==r&&a.length>0?"%"+a+"%":null,p9:"Duration"==r&&a.length>0?"%"+a+"%":null,p10:"DeviceKey"==r&&a.length>0?"%"+a+"%":null,p11:null,p12:null,p13:"SBCreWorkOrder"!=r&&s.SBCreWorkOrder?s.SBCreWorkOrder.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString():null,p14:"FirstName"!=r&&s.FirstName?s.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p15:e.Dialogview?"1":null,p16:null,p17:"p17"==r&&a.length>0?a:null,p18:null,p19:null,p20:null,p21:null,p22:"ContractName"!=r&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p23:"ContractCode"==r&&a.length>0?"%"+a+"%":null,p24:"ContractName"==r&&a.length>0?"%"+a+"%":null,p25:"LocalityName"!=r&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p26:"LocalityCode"==r&&a.length>0?"%"+a+"%":null,p27:"LocalityName"==r&&a.length>0?"%"+a+"%":null,p28:"BuildingName"!=r&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p29:"BuildingCode"==r&&a.length>0?"%"+a+"%":null,p30:"BuildingName"==r&&a.length>0?"%"+a+"%":null,p31:"FloorName"!=r&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p32:"FloorCode"==r&&a.length>0?"%"+a+"%":null,p33:"FloorName"==r&&a.length>0?"%"+a+"%":null,p34:"SpotName"!=r&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p35:"SpotCode"==r&&a.length>0?"%"+a+"%":null,p36:"SpotName"==r&&a.length>0?"%"+a+"%":null,p37:"DivisionName"!=r&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p38:"DivisionCode"==r&&a.length>0?"%"+a+"%":null,p39:"DivisionName"==r&&a.length>0?"%"+a+"%":null,p40:"DisciplineName"!=r&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p41:"DisciplineCode"==r&&a.length>0?"%"+a+"%":null,p42:"DisciplineName"==r&&a.length>0?"%"+a+"%":null,p43:"FrequencyName"!=r&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p44:"FrequencyCode"==r&&a.length>0?"%"+a+"%":null,p45:"FrequencyName"==r&&a.length>0?"%"+a+"%":null,p46:"FlowDisplayName"!=r&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p47:"BriefDetails"==r&&a.length>0?"%"+a+"%":null,p48:"FlowCode"==r&&a.length>0?"%"+a+"%":null,p49:"FlowDisplayName"==r&&a.length>0?"%"+a+"%":null,p50:"FixonBusinessFlowName"!=r&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p51:"FixonBusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p52:"PPMFixonBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p53:"PPMStageName"!=r&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p54:"PPMStageName"==r&&a.length>0?"%"+a+"%":null,p55:"StageSeqNo"==r&&a.length>0?"%"+a+"%":null,p56:"ServiceTypeName"!=r&&s.ServiceTypeName?s.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p57:"ServiceTypCode"==r&&a.length>0?"%"+a+"%":null,p58:"ServiceTypeName"==r&&a.length>0?"%"+a+"%":null,p59:"SBCreWorkOrder"==r&&a.length>0?"%"+a+"%":null,p60:"ShiftName"!=r&&s.ShiftName?s.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p61:"ShiftCode"==r&&a.length>0?"%"+a+"%":null,p62:"ShiftName"==r&&a.length>0?"%"+a+"%":null,p63:"ClassificationName"!=r&&s.ClassificationName?s.ClassificationName.map((e=>e.ClassificationIDPK)).toString():null,p64:"ClassificationCode"==r&&a.length>0?"%"+a+"%":null,p65:"ClassificationName"==r&&a.length>0?"%"+a+"%":null,p66:"DepartmentName"!=r&&s.DepartmentName?s.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p67:"DepartmentCode"==r&&a.length>0?"%"+a+"%":null,p68:"DepartmentName"==r&&a.length>0?"%"+a+"%":null,p69:"DesignationName"!=r&&s.DesignationName?s.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p70:"DesignationCode"==r&&a.length>0?"%"+a+"%":null,p71:"DesignationName"==r&&a.length>0?"%"+a+"%":null,p72:"NationalityName"!=r&&s.NationalityName?s.NationalityName.map((e=>e.NationalityIDPK)).toString():null,p73:"NationalityCode"==r&&a.length>0?"%"+a+"%":null,p74:"NationalityName"==r&&a.length>0?"%"+a+"%":null,p75:"NatureOfWorkName"!=r&&s.NatureOfWorkName?s.NatureOfWorkName.map((e=>e.EmpWorkNatureIDPK)).toString():null,p76:"NatureOfWorkCode"==r&&a.length>0?"%"+a+"%":null,p77:"NatureOfWorkName"==r&&a.length>0?"%"+a+"%":null,p78:"EmployeeTypeName"!=r&&s.EmployeeTypeName?s.EmployeeTypeName.map((e=>e.EmployeeTypeIDPK)).toString():null,p79:"EmployeeTypeCode"==r&&a.length>0?"%"+a+"%":null,p80:"EmployeeTypeName"==r&&a.length>0?"%"+a+"%":null,p81:"EmploymentTypeName"!=r&&s.EmploymentTypeName?s.EmploymentTypeName.map((e=>e.EmploymentTypeIDPK)).toString():null,p82:"EmploymentTypCode"==r&&a.length>0?"%"+a+"%":null,p83:"EmploymentTypeName"==r&&a.length>0?"%"+a+"%":null,p84:"EmployeeGroupName"!=r&&s.EmployeeGroupName?s.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p85:"EmployeeGroupCode"==r&&a.length>0?"%"+a+"%":null,p86:"EmployeeGroupName"==r&&a.length>0?"%"+a+"%":null,p87:"EmpGradeName"!=r&&s.EmpGradeName?s.EmpGradeName.map((e=>e.EmpGradeIDPK)).toString():null,p88:"EmpGradeCode"==r&&a.length>0?"%"+a+"%":null,p89:"EmpGradeName"==r&&a.length>0?"%"+a+"%":null,p90:"CityName"!=r&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p91:"CityCode"==r&&a.length>0?"%"+a+"%":null,p92:"CityName"==r&&a.length>0?"%"+a+"%":null,p93:"RegionName"!=r&&s.RegionName?s.RegionName.map((e=>e.RegionIDPK)).toString():null,p94:"RegionCode"==r&&a.length>0?"%"+a+"%":null,p95:"RegionName"==r&&a.length>0?"%"+a+"%":null,p96:"CountryName"!=r&&s.CountryName?s.CountryName.map((e=>e.CountryIDPK)).toString():null,p97:"CountryCode"==r&&a.length>0?"%"+a+"%":null,p98:"CountryName"==r&&a.length>0?"%"+a+"%":null,p99:"EmpGenderName"!=r&&s.EmpGenderName?s.EmpGenderName.map((e=>e.EmpGenderIDPK)).toString():null,p100:"EmpGenderName"==r&&a.length>0?"%"+a+"%":null,p101:"EmpTitleName"!=r&&s.EmpTitleName?s.EmpTitleName.map((e=>e.EmpTitleIDPK)).toString():null,p102:"EmpTitleName"==r&&a.length>0?"%"+a+"%":null,p103:"EmployeeCode"==r&&a.length>0?"%"+a+"%":null,p104:"FirstName"==r&&a.length>0?"%"+a+"%":null,p105:"EmpContactNo1"==r&&a.length>0?"%"+a+"%":null,p106:"EmpEmailOfficial"==r&&a.length>0?"%"+a+"%":null,p107:n||1,p108:10,p109:t,p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}},c=await(0,o.Z)(m,d,e.token,"",i.signal);if(!c)return!1;const y=c.Output.status.code,D=c.Output.data;if("200"===y)if(D.length>0)if(1===n){let e=we(D,r),t=Fe(e,Z[r],l);R(t),J(t.length>0?t[0].TotalCount:Z[r].length)}else{let e=[...O,...D],t=we(e,r);J(t.length<10?t.length:D[0].TotalCount),R(we(t,r))}else L.length>0&&R([]),J(O.length);else e.alertmsg("error",[c.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Fe=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),we=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function Be(e){let t=e+"PK",l=Pe[e];if(l){const e=l.flatMap((e=>Z[e]?Z[e].map((e=>e[t])):[]));return e.toString()}return""}const be=async t=>{let l="",a={};await K((e=>(l=e,e)));let n=[...le],i=[];for(let e of n){let t=l[e]?.map((e=>e.PPMSessionIDPK)).toString();t&&i.push(t)}await te((e=>(a=e,e)));let o={PPMSessionIDPK:i?[...new Set(i)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",WoDate:a.WoDate?a.WoDate.From:"",WoDateType:a.WoDate?a.WoDate.Type:"",WoDateBetween:a.WoDate?a.WoDate.To:"",SessionStartTime:a.SessionStartTime?a.SessionStartTime.From:"",SessionStartTimeType:a.SessionStartTime?a.SessionStartTime.Type:"",SessionStartTimeBetween:a.SessionStartTime?a.SessionStartTime.To:"",SessionEndTime:a.SessionEndTime?a.SessionEndTime.From:"",SessionEndTimeType:a.SessionEndTime?a.SessionEndTime.Type:"",SessionEndTimeBetween:a.SessionEndTime?a.SessionEndTime.To:"",PPMSBCreationWorkOrderID:Be("PPMSBCreationWorkOrderID"),EmployeeID:Be("EmployeeID")};"saveFav"==t?Re("save",o):(e.searchData(o),q(!1))};async function ke(){let e={};await K((t=>(e=t,t)));let t=[...le],l=[];for(let a of t){let t=e[a]?.map((e=>e.PPMSessionIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function xe(t,l,a,n,i,o){let r={[n]:{From:t,Type:a,To:l}},s={};te((e=>({...e,...r})));const p={...Z};let m=[...le],d=[];for(let e of m){let t=p[e]?.map((e=>e.PPMSessionIDPK)).toString();t&&d.push(t)}await te((e=>(s=e,e)));let u={PPMSessionIDPK:d?[...new Set(d)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==a?i:null,WoDate:s.WoDate?s.WoDate.From:"",WoDateType:s.WoDate?s.WoDate.Type:"",WoDateBetween:s.WoDate?s.WoDate.To:"",SessionStartTime:s.SessionStartTime?s.SessionStartTime.From:"",SessionStartTimeType:s.SessionStartTime?s.SessionStartTime.Type:"",SessionStartTimeBetween:s.SessionStartTime?s.SessionStartTime.To:"",SessionEndTime:s.SessionEndTime?s.SessionEndTime.From:"",SessionEndTimeType:s.SessionEndTime?s.SessionEndTime.Type:"",SessionEndTimeBetween:s.SessionEndTime?s.SessionEndTime.To:"",PPMSBCreationWorkOrderID:Z.SBCreWorkOrder?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString(),EmployeeID:Z.FirstName?.map((e=>e.EmployeeIDPK)).toString()};e.searchData(u)}function Oe(){return n().createElement(c.Z,{frmctrlid:"fld512L2TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,n)=>{xe(e,t,l,W.name,a)},keyboardback:()=>{q(!1),A({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(W.name),fieldname:W.name,save:e=>{alert(!0)}})}const Re=(t,l)=>{(0,k.Z)(t,e.formID,l,se).then((e=>{const t=e.Output.data;Se(t)}))};return n().createElement("div",null,n().createElement(f.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:me},n().createElement(v.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(h.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(M.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>pe(e.target.value),fullWidth:!0})),n().createElement(b.Z,{style:{color:"#337ab7"},control:n().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>ce(e.target.checked)}),label:"Quick"}),n().createElement(b.Z,{style:{color:"#337ab7"},control:n().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ye,onChange:e=>De(e.target.checked)}),label:"Dashboard"})),n().createElement(T.Z,null,n().createElement(r.Z,{onClick:()=>{be("saveFav"),de(!1)},color:"primary"},"Save"))),V?"Created Ttm"===W.name||W.name.includes("Date")?n().createElement(Oe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(m.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},he(W.idpk)," (",O.length,"/",$,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(s.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(i.Z,{id:"fld512L2TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{q(!1),A({idpk:"",name:"",type:"",fieldidpk:!1}),j(1)}}))),Z[W.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(r.Z,{frmctrlid:"fld512L2TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,x.log("clear fewItems",e),t))),e[W.name]=[],Me(W.type,W.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},z?n().createElement(s.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(S.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):n().createElement(s.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(S.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),n().createElement("ul",null,Z[W.name]&&Z[W.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:z?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[W.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[W.name],onClick:()=>(async(e,t)=>{j(1);let l=Z[W.name].filter((t=>t!=e)),a={};await K((e=>(a=e,e))),a[W.name]=l,K(a),R((t=>[e,...t]))})(e)},n().createElement(i.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(y.Z,{frmctrlid:"fld512L2TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:L,placeholder:ve("Enter ")+" "+he(W.idpk),onChange:e=>{G(e),Me(W.type,W.fieldidpk,e,1,ke())}})),n().createElement("div",{id:"fld512L2TFCFilterGoForward",className:"FilterSearchBtn",onClick:be},n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(r.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(P.Z,{color:"secondary"})),n().createElement("div",{id:"fld512L2TFCScrollYDefault",className:"height65 scrollYDefault"},O.length>0&&O.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[W.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await K((e=>(a=e,e)));let n=a[W.name];t[W.name]=n?[...l,...n]:l,a={...a,...t},K(a),R((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(p.Z,{className:"DotIcon"}),n().createElement("span",null,e[W.name])))),O.length+0<$&&O.length>0&&n().createElement("div",{id:"fld512L2TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{j(H+1),Me(W.type,W.fieldidpk,"",H+1)}},n().createElement("p",null," more... ")),0===O.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:u.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(g.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",se.length>0&&`(${se})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(s.ZP,{title:"Favorite List",placement:"top"},oe?n().createElement(i.Z,{className:"favlisticon",onClick:()=>{re(!1),Se(""),Te()}}):n().createElement(I.Z,{className:"favlisticon",onClick:()=>{re(!0),Re("select"),Te()}})),Object.keys(Z).length>0&&n().createElement(s.ZP,{title:"Save Favorites",placement:"top"},n().createElement(N.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(r.Z,{className:"ColumnApplyButton",onClick:()=>{Te()},id:"fld512L2TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(r.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld512L2TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld512L2TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{q(!0),G(""),R([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSessionIDPK";A({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSessionID",fieldidpk:t}),Me(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSessionID",t,"",1,ke())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,he(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,he(e.AdminUserGridViewIDPK)),n().createElement(E.Z,{checked:"1"==ne,onChange:t=>{ie(t.target.checked),xe("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,he(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,Z[l]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},Z[l][0][l]),Z[l].length>1&&n().createElement("span",{className:"RoundedDivName"},Z[l][1][l]),Z[l].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(Z[l].length-2))))));var l})),ge&&ge.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Me("FilterPPMSessionID",l),be("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}))},93250:(e,t,l)=>{l.r(t),l.d(t,{default:()=>P});var a=l(92950),n=l.n(a),i=l(45237),o=l(37148),r=l(3212),s=l(29800),p=(l(14439),l(27848),l(10966),l(36939)),m=l(61201),d=l(50743),u=l(10486),c=(l(21392),l(51673)),y=l(40900),D=l(26537),g=(l(24038),l(20428)),S=(l(77366),l(97829),l(8981)),C=(l(63163),l(1695),l(79117),l(65197));const P=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[P,E]=((0,i.useSelector)((e=>e.form)),(0,a.useState)([])),[I,N]=(0,a.useState)(!0),[f,v]=(0,a.useState)(e.showDetail),[h,T]=(0,a.useState)(""),[M,F]=n().useState(!1),[w,B]=n().useState(""),[b,k]=n().useState(!1),x=(0,a.useContext)(u.PPMSessionRegistryContext),{cstate:O,cdispatch:R}=(0,u.ContextApi)(),[W,A]=(0,a.useState)(!1),[L,G]=(0,a.useState)(""),[Z,K]=(0,a.useState)(""),[z,_]=(0,a.useState)("");let V=(0,S.Z)();(0,a.useEffect)((()=>{O.editData.length>0&&(E(O.editData),F(!1),R({type:"PrimaryId",payload:O.editData[0].PPMSessionIDPK}))}),[O.editData]),(0,a.useEffect)((()=>{O.showTableview&&_(O.showTableview)}),[O.showTableview]),(0,a.useEffect)((()=>{N(O.ExpandDetailValue)}),[O.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{N(e),F(null)},viewtoggle:()=>{F(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=y.v.Api+"FP512S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:1,p108:10,p109:O.IsDraft?"DraftPPMSessionID":"PPMSessionID",p110:null,p111:null,p112:localStorage.getItem("UserGroupID"),p113:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,c.Z)(a,n,e).then((e=>{x.loading(!1),"200"==e.Output.status.code&&E(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===M&&l.current.clear()}})));const q=e=>V?.[e]?V?.[e]:e,U=e=>O.language?.[e]?O.language[e]:e;function Y(e,t){}const H=(e,t)=>(l,a)=>{B(b?Object.assign(...P.filter((e=>e.PPMSessionIDPK==t)).map((e=>e))):O.editData),F(!a&&e)};return n().createElement("div",null,n().createElement(p.Z,{expanded:I,onChange:()=>()=>{e.expandTable&&N(!I)}},!M&&n().createElement(d.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},I?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},O.IsDraft?q("Draft"):"",U("PPMSessionRegistry"),e.viewonly?" ":"("+O.count+")")):"",I?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&O.AccessRights.IsAdd?n().createElement(r.Z,{name:q("Add"),frmctrlid:"fld512L2VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{x.hideAddBtn(!0),R({type:"editData",payload:[]}),R({type:"ShowDetail",payload:!1}),R({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&O.AccessRights.IsEdit?n().createElement(s.Z,{frmctrlid:"fld512L2VCEditBtn",onClick:H("panel0",""),disabled:!1}):O.IsDraft&&O.AccessRights.IsAdd&&n().createElement(s.Z,{frmctrlid:"fld512L2VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&n().createElement(o.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld512L2VCCloseBtn",onClick:()=>{N(!1),x.hideAddBtn(!1),b&&(R({type:"editData",payload:[]}),E([]))}})):"")),n().createElement(m.Z,{style:{display:"block"}},P.map(((e,t)=>n().createElement("div",{key:t},M==="panel"+t?n().createElement(g.default,{ref:l}):n().createElement(n().Fragment,null,n().createElement(C.Z,{tableName:"PPMSessionRegistry",tableID:512,parentID:e.PPMSessionIDPK,fldid:"fld512L2VCContainer",OpenSlideComponent:Y,index:t,refresh:z,val:e,tf:U,t:q,title:"10.0.0.59-3:08:17 PM-18-7[512]"}))))))))}))}}]);