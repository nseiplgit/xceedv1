/*! For license information please see 5853.06a5779b089f8e0f044f.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[5853,7164,2325,3129,6939,7442,6408,7587,3795,7805],{45332:(e,t,l)=>{l.d(t,{Z:()=>p});var a=l(22122),s=l(81253),n=l(85061),i=l(92950),o=l(86010),r=l(79437),d=l(52543),c=l(83711),u=function(e,t){var l,a,s,i;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((l=e.classList).remove.apply(l,(0,n.Z)(t.imgFullWidth.split(" "))),(a=e.classList).add.apply(a,(0,n.Z)(t.imgFullHeight.split(" ")))):((s=e.classList).remove.apply(s,(0,n.Z)(t.imgFullHeight.split(" "))),(i=e.classList).add.apply(i,(0,n.Z)(t.imgFullWidth.split(" ")))))},m=i.forwardRef((function(e,t){var l=e.children,n=e.classes,d=e.className,m=(e.cols,e.component),p=void 0===m?"li":m,D=(e.rows,(0,s.Z)(e,["children","classes","className","cols","component","rows"])),B=i.useRef(null);return i.useEffect((function(){!function(e,t){e&&(e.complete?u(e,t):e.addEventListener("load",(function(){u(e,t)})))}(B.current,n)})),i.useEffect((function(){var e=(0,r.Z)((function(){u(B.current,n)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[n]),i.createElement(p,(0,a.Z)({className:(0,o.default)(n.root,d),ref:t},D),i.createElement("div",{className:n.tile},i.Children.map(l,(function(e){return i.isValidElement(e)?"img"===e.type||(0,c.Z)(e,["Image"])?i.cloneElement(e,{ref:B}):e:null}))))}));const p=(0,d.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(m)},69685:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(22122),s=l(81253),n=l(92950),i=(l(59864),l(86010)),o=l(52543),r=n.forwardRef((function(e,t){var l=e.cellHeight,o=e.children,r=e.classes,d=e.className,c=e.cols,u=void 0===c?2:c,m=e.component,p=void 0===m?"ul":m,D=e.gap,B=void 0===D?4:D,F=e.rowHeight,g=void 0===F?180:F,y=e.spacing,w=e.style,I=(0,s.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),E=y||B,f=l||g;return n.createElement(p,(0,a.Z)({className:(0,i.default)(r.root,d),ref:t,style:(0,a.Z)({margin:-E/2},w)},I),n.Children.map(o,(function(e){if(!n.isValidElement(e))return null;var t=e.props.cols||1,l=e.props.rows||1;return n.cloneElement(e,{style:(0,a.Z)({width:"".concat(100/u*t,"%"),height:"auto"===f?"auto":f*l+E,padding:E/2},e.props.style)})})))}));const d=(0,o.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(r)},35025:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.Z=i},64566:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=i},83173:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=i},92448:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},93657:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=i},53375:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i},85984:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=i},59535:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");t.Z=i},41722:(e,t,l)=>{l.d(t,{D:()=>s,E:()=>a});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function s(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(40900),s=l(26537),n=l(61956),i=l(35131),o=l.n(i),r=l(25108);function d(e,t,l,i){if("select"==e){const e=a.v.Api+"FP1454S3/",l={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":s.Z.TokenIDPK,"x-tokenname":s.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(l)}).then((e=>{if(e.ok)return r.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=a.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:i,p4:JSON.stringify(l),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:o()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:o()().format("YYYY-MM-DD hh:mm:ss")}]};(0,s.Z)(0).then((t=>{(0,n.Z)(e,d,t).then((e=>{200==e[0].status.code?r.log(e,"RES"):r.log("Error")}))}))}}},83817:(e,t,l)=>{function a(e,t,l,a,s){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:l}),t({type:"ShowDetail",payload:a}),s.loading(!1)):(s.loading(!1),s.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){s.loading(!1),s.alert({open:!0,color:"error",message:[e.message]})}}l.d(t,{a:()=>a})},65197:(e,t,l)=>{l.d(t,{Z:()=>E});var a=l(92950),s=l.n(a),n=l(14439),i=l(27848),o=l(63163),r=l(6562),d=l(30553),c=l(83173),u=l(21392),m=l(69685),p=l(45332),D=l(26537),B=l(77366),F=l(71168),g=l.n(F),y=l(99940),w=l(55918),I=l.n(w);function E(e){const[t,l]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[m,p]=g()(e.tableID);(0,a.useEffect)((()=>{B(m)}),[m,e.val]),(0,a.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&B(e.refresh)}),[e.refresh]);const D=t=>e.t(t);function B(t){const a=t.filter((t=>t.FormID==e.tableID));let s=[],n=[];a.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):s.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),u(F(n,"id")),l(F(s,"id"))}function F(e,t){const l=e.map((e=>e[t])),a=e.filter((({value:e},t)=>!l.includes(e,t+1)));return a}return s().createElement(s().Fragment,null,s().createElement("div",{index:e.index,className:"padding paddingLeft width100"},s().createElement(n.Z,{container:!0},s().createElement(i.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},s().createElement(n.Z,{container:!0},s().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},s().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},s().createElement("div",{className:"ViewHeadingTitle"},s().createElement("p",null,(w=e.tableName,e.tf(w)+" "+D("view")))),s().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},c.map(((t,l)=>s().createElement(s().Fragment,null,s().createElement(y.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},s().createElement("div",{key:l,className:"GridAlignSwitch"},s().createElement(r.Z,null,s().createElement(d.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:s().createElement(o.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),s().createElement(n.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",s().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},s().createElement(n.Z,{container:!0},t.map(((t,l)=>s().createElement(s().Fragment,null,t.ForeignTag?s().createElement(s().Fragment,null,s().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},s().createElement("div",{className:"DetailViewRow"},s().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:D(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),s().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var l,a;l=t.IDPK,a=e.val[t.ValID],e.OpenSlideComponent(l,a)},title:e.val[t.id]},e.val[t.id])))):s().createElement(s().Fragment,null,s().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},s().createElement("div",{className:"DetailViewRow"},s().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),s().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?I()(e.val[t.id]):e.val[t.id]))))))))))),s().createElement(i.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",s().createElement(n.Z,{container:!0},s().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},s().createElement("div",{className:"ViewFileImgCont"},s().createElement(n.Z,{container:!0},s().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},s().createElement("div",{className:"ViewHeadingTitle1"},s().createElement("p",{className:"ViewHeadpTagHD"},D("Attachments")))),s().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},s().createElement("div",{className:"ViewHeadingAttachmentL4"},s().createElement(f,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var w}const f=e=>{const[t,l]=(0,a.useState)([]);(0,a.useEffect)((()=>{e.id&&n()}),[e.id]);const n=()=>{(0,D.Z)(0).then((t=>{(0,B.Z)(t,e.id,e.tableID).then((e=>l(e)))}))};return s().createElement("div",null,s().createElement(m.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,l)=>{if(0==l)return s().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:l,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?s().createElement("img",{src:e.ImgPath,alt:e.ImageName}):s().createElement(c.Z,{className:"previewFile"}),t.length>1&&s().createElement("div",{className:"Imgbgmstyle"},s().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),s().createElement(u.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},19367:(e,t,l)=>{l.r(t),l.d(t,{default:()=>L});var a=l(92950),s=l.n(a),n=l(45237),i=l(36939),o=l(61201),r=l(50743),d=(l(67698),l(10966),l(30553)),c=(l(99090),l(61956)),u=l(51673),m=(l(44528),l(96071),l(14439)),p=l(27848),D=(l(49174),l(38773),l(19089),l(1695)),B=(l(13235),l(61924)),F=l.n(B),g=l(26537),y=l(40900),w=l(35131),I=l.n(w),E=l(55490),f=(l(2493),l(82729),l(75355),l(11107),l(37148)),S=(l(45965),l(92371)),x=(l(40826),l(64566)),v=l(63221),C=l(23419),h=l(60264),M=l(8981),b=l(63163),N=l(99940),T=l(5434),A=l(45155),P=l(79352),k=(l(99263),l(16233)),R=l.n(k);l(91113),l(79117);const Z={BDMFixonBusinessFlowIDPK:"",BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",IsBMS:!1,IsPortal:!1,IsDefault:!1,IsDraft:!1,Remarks:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",Type:"BDMFixonBusinessFlowID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},L=(0,a.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[l,B]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!0),[L,O]=(0,a.useState)(!1),[z,V]=(0,a.useState)(!1),[K,G]=(0,a.useState)(0),[_,H]=(0,a.useState)(!0),[U,j]=(0,a.useState)({}),[Y,q]=(0,a.useState)([]),[$,W]=(0,a.useState)(!1),[J,Q]=((0,a.useRef)(),(0,a.useState)(!1)),[X,ee]=(0,a.useState)(null),[te,le]=((0,a.useRef)(),(0,a.useState)(!0)),[ae,se]=(0,a.useState)(!0),[ne,ie]=(0,a.useState)(0),[oe,re]=(0,a.useState)(0),[de,ce]=(0,a.useState)([]),[ue,me]=(0,a.useState)([]),[pe,De]=(0,a.useReducer)(S.Z,Z),[Be,Fe]=(0,a.useState)(!1),[ge,ye]=(0,a.useState)([]),[we,Ie]=(0,a.useState)(null),Ee=(0,a.useContext)(C.BDMFixonBusinessFlowRegistryContext),{cstate:fe,cdispatch:Se}=(0,C.ContextApi)(),[xe,ve]=(0,a.useState)(!0),[Ce,he]=(0,a.useState)(""),[Me,be]=(0,a.useState)(!1),[Ne,Te]=(0,a.useState)(""),[Ae,Pe]=(0,a.useState)(!0),[ke,Re]=(0,a.useState)(!0),[Ze,Le]=(0,a.useState)(0),[Oe]=(0,a.useState)(localStorage.getItem("Language")),[ze]=(0,a.useState)(localStorage.getItem("Language")),[Ve,Ke]=(0,a.useState)(!1),[Ge,_e]=(0,a.useState)(!1),He=((0,a.useRef)(null),(0,a.useRef)(null)),[Ue,je]=R()("269"),[Ye,qe]=(0,a.useState)(!1),[$e,We]=(0,a.useState)("panelS5"),[Je,Qe]=(0,a.useState)([]);let Xe=(0,M.Z)();const[et,tt]=(0,a.useState)({}),lt=e=>Xe?.[e]?Xe[e]:e,at=t=>fe.language?.[t]?fe.language[t]:e.createEasy?et?.[t]:t;(0,a.useEffect)((()=>{fe.PrimaryId&&Le(Number(fe.PrimaryId))}),[fe.PrimaryId]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),tt(Object.assign({},...t))}(Ue)}),[Ue]),(0,a.useEffect)((()=>{fe.editData.length<0&&(0,g.Z)(1).then((e=>{rt(1,null,"SetDefaultBDMFixonBusinessFlowID",e)}))}),[]),(0,a.useEffect)((()=>{st(Je,"SetDefaultBDMFixonBusinessFlowID")}),[Je]),(0,a.useImperativeHandle)(t,(()=>({getAlert:e=>{Se({type:"expandDetail",payload:!0}),O(!1)},getPreview:e=>{},clear:()=>{nt(),rt(1,null,"SetDefaultBDMFixonBusinessFlowID",fe.token[0])},formlink:e=>{},editRecord:(e,t,l)=>{st(e,""),W(l)},Add:()=>{nt(),W(!1),Se({type:"expandDetail",payload:"mainpanel"})},Editview:(e,t,l)=>{st(e,""),W(l),se(!1)},CreateEasyProps:(e=!0,t)=>{setIsFetching(!0),t?(mt(t),Ke(e)):(nt(),Ke(e))},cardRefresh:()=>{He.current.cardRefresh()}})));const st=(t,l)=>{let a=t;Object.keys(a).forEach((function(e){0==a[e]&&(a[e]=null)})),Se({type:"ViewID",payload:a.BDMFixonBusinessFlowIDPK}),"SetDefaultBDMFixonBusinessFlowID"==l?Te(a.BDMFixonBusinessFlowIDPK):(Le(e.primid?Number(e.primid):a.BDMFixonBusinessFlowIDPK?a.BDMFixonBusinessFlowIDPK:0),Se({type:"PrimaryId",payload:a.BDMFixonBusinessFlowIDPK})),De({type:"text",name:"BDMFixonBusinessFlowCode",value:a.BDMFixonBusinessFlowCode?a.BDMFixonBusinessFlowCode:""}),De({type:"text",name:"BDMFixonBusinessFlowName",value:a.BDMFixonBusinessFlowName?a.BDMFixonBusinessFlowName:""}),De({type:"boolean",name:"IsBMS",boolean:!!a.IsBMS&&a.IsBMS}),De({type:"boolean",name:"IsPortal",boolean:!!a.IsPortal&&a.IsPortal}),a.IsActive&&k("1"==a.IsActive)},nt=()=>{ce([]),Le(0),Te(""),Se({type:"PrimaryId",payload:""}),De({type:"text",name:"BDMFixonBusinessFlowCode",value:""}),De({type:"text",name:"BDMFixonBusinessFlowName",value:""}),De({type:"boolean",name:"IsBMS",boolean:!1}),De({type:"boolean",name:"IsPortal",boolean:!1}),Pe(!0),Re(!0),k(!0)},it=e=>{Ee.loading(!0),Ee.ConfirmAlert(null);const t=y.v.Api+"FP269S2/",l={data:[{p1:"SetDefaultBDMFixonBusinessFlowID"==e?"NORECORDS"!=Ne&&Ne?Ne:0:Ze,p2:pt(pe.BDMFixonBusinessFlowCode),p3:pt(pe.BDMFixonBusinessFlowName),p4:pe.IsBMS,p5:pe.IsPortal,p6:pe.IsDefault,p7:!1,p8:"SetDefaultBDMFixonBusinessFlowID"==e?"SetDefault":null,p9:w,p10:"SetDefaultBDMFixonBusinessFlowID"==e,p11:localStorage.getItem("userid"),p12:I()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((a=>{(0,u.Z)(t,l,a).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,s=new Array,n=new Array;"200"===l.code?(a.map((e=>{e&&(s.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),s.some((e=>"1"==e))?(Ee.alert({open:!0,color:"warning",message:n}),Ee.loading(!1)):ot(e)):(Ee.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Ee.loading(!1))}))}))},ot=e=>{Pe(!0),Re(!0),Ee.ConfirmAlert(null);const t=y.v.Api+"FP269S1/",l={data:[{p1:"SetDefaultBDMFixonBusinessFlowID"==e?"NORECORDS"!=Ne&&Ne?Ne:0:Ze,p2:pt(pe.BDMFixonBusinessFlowCode),p3:pt(pe.BDMFixonBusinessFlowName),p4:pe.IsBMS,p5:pe.IsPortal,p6:pe.IsDefault,p7:!1,p8:"SetDefaultBDMFixonBusinessFlowID"==e?"SetDefault":null,p9:w,p10:"SetDefaultBDMFixonBusinessFlowID"==e,p11:localStorage.getItem("userid"),p12:I()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((a=>{(0,c.Z)(t,l,a).then((async t=>{const l=t[0].status;200==l.code?("SetDefaultBDMFixonBusinessFlowID"==e?Ee.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Ee.alert({open:!0,color:"success",message:[l.message]}),Se({type:"ViewID",payload:t[0].Data.IDPK}),Se({type:"PrimaryId",payload:t[0].Data.IDPK}),await W(!0)),Ee.attachmentSave(t[0].Data.IDPK),Ee.loading(!1),document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry")&&(document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="none")):(Ee.alert({open:!0,color:"warning",message:[l.message]}),Ee.loading(!1)),"SetDefaultBDMFixonBusinessFlowID"==e&&(Ke(!0),rt(1,null,"SetDefaultBDMFixonBusinessFlowID",fe.token[0]))}))}))};const rt=(t,l,a,s,n,i)=>{const o=y.v.Api+"FP269S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:1,p17:10,p18:a,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}},d={data:{p1:null,p2:null,p3:null,p4:1==pe.IsBMS,p5:1==pe.IsPortal,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:t,p17:10,p18:a,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}};return Fe(!0),(0,u.Z)(o,"ClearAll"==a?r:d,"SetDefaultBDMFixonBusinessFlowID"==a&&s?s:fe.token[0]).then((e=>{const l=e.Output.status.code,s=e.Output.data;if("200"==l){const e=s.length;if(n)return s?s[0]:{};ye(1==t?e>0?s:[]:ge.concat(s)),"SetDefaultBDMFixonBusinessFlowID"==a&&(e>0?st(s[0],"SetDefaultBDMFixonBusinessFlowID"):Te("NORECORDS")),Fe(!1)}else Ee.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Fe(!1)}))},dt=(t,l,a)=>{const s=y.v.Api+"FP269S3/",n={data:{p1:null,p2:"BDMFixonBusinessFlowCode"==a&&l?"%"+l+"%":null,p3:"BDMFixonBusinessFlowName"==a&&l?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:t,p17:10,p18:"BDMFixonBusinessFlowID",p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};Fe(!0),(0,u.Z)(s,"ClearAll"==a?i:n,fe.token[0]).then((e=>{const l=e.Output.status.code,s=e.Output.data;if("200"==l){const e=s.length;1==t?("BDMFixonBusinessFlowCode"==a&&Pe(e>0),"BDMFixonBusinessFlowName"==a&&Re(e>0),ye(s)):("BDMFixonBusinessFlowCode"==a&&Pe(!0),"BDMFixonBusinessFlowName"==a&&Re(!0),ye(ge.concat(s))),Fe(!1)}else Ee.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Fe(!1)}))},ct=(0,a.useCallback)((async(e,t,l)=>{"text"==l?De({type:l,name:t,value:e}):"number"==l?De({type:l,name:t,number:Number(e)}):"boolean"==l?De({type:l,name:t,boolean:e}):"date"==l&&De({type:"text",name:t,value:e})}),[pe]),ut=e=>{Ee.ConfirmAlert(s().createElement(F(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>mt(e),onCancel:()=>Ee.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:lt("Yes"),cancelBtnText:lt("No"),showCancel:!0},lt("Do you want to update this record?")))};function mt(e){Ee.ConfirmAlert(null),V(e.IsDraft),Se({type:"editData",payload:[e]}),Se({type:"PrimaryId",payload:e.BDMFixonBusinessFlowIDPK}),Le(Number(e.BDMFixonBusinessFlowIDPK)?Number(e.BDMFixonBusinessFlowIDPK):0),De({type:"text",name:"BDMFixonBusinessFlowCode",value:e.BDMFixonBusinessFlowCode?e.BDMFixonBusinessFlowCode:""}),De({type:"text",name:"BDMFixonBusinessFlowName",value:e.BDMFixonBusinessFlowName?e.BDMFixonBusinessFlowName:""}),De({type:"boolean",name:"IsBMS",boolean:!!e.IsBMS&&e.IsBMS}),De({type:"boolean",name:"IsPortal",boolean:!!e.IsPortal&&e.IsPortal})}const pt=e=>"string"==typeof e?e.trim():e;return s().createElement("div",{style:{width:"100%",display:"none"},id:"BDMFixonBusinessFlowRegistry-MainEntry"},s().createElement("div",{className:"tabcontainer padleft5"},s().createElement("div",{className:"formcontent"},s().createElement("div",{className:"mar0"},s().createElement("div",{className:"ascardpad"},$?s().createElement("div",null,s().createElement(v.default,{ref:He,ExpandDetailValue:!0,EntryExp:fe.expandDetail,inboxdata:{}})):s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divBDMFixonBusinessFlowRegistry-Entry",style:{width:"100%",position:"relative"}},s().createElement(i.Z,{expanded:"mainpanel"==fe.expandDetail},s().createElement(r.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},s().createElement("div",{className:"displayFlex backgroundLightL3 borderRadiusTop width100"},s().createElement("div",{className:"displayFlex EntryHeader"},s().createElement("div",{id:"fld269L4ECdFlexEntryHeader",onClick:()=>{Ee.ShowTableDiv(!1),document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="none"}},s().createElement(T.aQX,{className:"BackBtnIcon"})),s().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[269]"},Ze?"Edit ":"New ",at("269"))),s().createElement("div",{className:"displayFlex EntryHeaderBtn"},s().createElement("div",{className:"GridAlign"},s().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},"mainpanel"===fe.expandDetail&&!Ze&&s().createElement(N.FormGroup,{row:!0},s().createElement(d.Z,{labelPlacement:"bottom",id:"fld269L4ECEntryCheckbox",control:s().createElement(b.Z,{checked:"1"==w,onChange:e=>k(e.target.checked)}),label:lt(1==w?"Active":"In Active")})))),Ze&&"mainpanel"===fe.expandDetail?s().createElement("div",{className:"GridAlign",onClick:()=>{Ee.AttachExpand(!0)},id:"fld269L4ECIconButton"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement("div",{disableRipple:!0,disabled:!Ze},s().createElement(A.Ypb,{className:"Iconstyles"}))),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,lt("Attach")))):null,!Ze&&s().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{nt()},id:"fld269L4ECClearBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(A.pYJ,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,lt("Reset")))),Ze?null:s().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,l,a,s){if(!(fe.count>0))return Ee.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...pe};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){Pe(!0),Re(!0),Ee.loading(!0),Ee.ConfirmAlert(null);const l=y.v.Api+"FP269S1/",a={data:[{p1:"SetDefaultBDMFixonBusinessFlowID"==s?"NORECORDS"!=Ne&&Ne?Ne:0:Ze,p2:pt(pe.BDMFixonBusinessFlowCode),p3:pt(pe.BDMFixonBusinessFlowName),p4:pe.IsBMS,p5:pe.IsPortal,p6:pe.IsDefault,p7:!0,p8:"SetDefaultBDMFixonBusinessFlowID"==s?"SetDefault":null,p9:!1,p10:"SetDefaultBDMFixonBusinessFlowID"==s,p11:localStorage.getItem("userid"),p12:I()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((s=>{(0,c.Z)(l,a,s).then((l=>{const a=l[0].status;200==a.code?(t?Ee.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):Ee.alert({open:!0,color:"success",message:["Saved to Draft"]}),nt(),e.clrImgstate(!0),document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.width="0%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.display="flex",document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.display="none",H(!1),Ee.loading(!1),document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry")&&(document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="none")):(Ee.alert({open:!0,color:"warning",message:[a.message]}),Ee.loading(!1))}))}))}else Ee.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}()},id:"fld269L4ECDraftBtn",disabled:!1},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(P.IcR,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,lt("Draft")))),"mainpanel"===fe.expandDetail?s().createElement(D.Z,{name:Ze?"Update":"Save",disabled:!1,frmctrlid:"fld269L4ECSaveBtnIsAdd",onClick:()=>{pt(pe.BDMFixonBusinessFlowCode)?pt(pe.BDMFixonBusinessFlowName)?Ee.ConfirmAlert(s().createElement(F(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:lt("Are you sure?"),onConfirm:()=>it(),onCancel:()=>Ee.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:lt("Yes"),cancelBtnText:lt("Cancel"),showCancel:!0},lt("Do you want to Save?"))):Ee.alert({open:!0,color:"warning",message:[lt("Please enter the")+""+at("BDMFixonBusinessFlowName")]}):Ee.alert({open:!0,color:"warning",message:[lt("Please enter the")+""+at("BDMFixonBusinessFlowCode")]})}}):null,Ze&&"mainpanel"===fe.expandDetail?s().createElement(f.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld269L4ECCloseBtn",onClick:()=>{Ee.ShowTableDiv(!1),nt(),W(!0),se(!0),document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="none"}}):null))),s().createElement(o.Z,null,s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-Detail",className:"detailCard detailDiv"},s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-MainBody",className:"padding paddingLeft"},s().createElement("div",{className:"display-inline-flex"},s().createElement("div",{className:"l4-side-component displayFlex"+(xe?"":"l4width")},s().createElement("div",{className:"l4-side-component"},s().createElement("div",{className:"cardl4 "},s().createElement("div",{color:"info",className:"cardheadvh"},s().createElement(m.Z,null,s().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},s().createElement("div",{className:"GrpViewHeadingTitle"},s().createElement("p",null,"Primary Details"))))),s().createElement("div",{style:{padding:"15px"}},s().createElement(m.Z,{spacing:2},s().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(E.Z,{"data-testid":pe.BDMFixonBusinessFlowCode,json:h.A,SPName:"BDMFixonBusinessFlowRegistry",FieldName:"BDMFixonBusinessFlowCode",tfLabel:at("BDMFixonBusinessFlowCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ut(t),onClick:()=>{Ae&&dt(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld269_5188",frmctrlidName:"BDMFixonBusinessFlowCode",fieldorder:"1",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,onChange:(e,t)=>{Ae&&dt(e,t,"BDMFixonBusinessFlowCode"),ct(t,"BDMFixonBusinessFlowCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:Ae,SideEntryView:!1,KeyBack:e=>{},value:pe.BDMFixonBusinessFlowCode,loading:Be,clear:e=>{e&&(De({type:"text",name:"BDMFixonBusinessFlowCode",value:""}),Pe(!0))}})),s().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(E.Z,{"data-testid":pe.BDMFixonBusinessFlowName,json:h.A,SPName:"BDMFixonBusinessFlowRegistry",FieldName:"BDMFixonBusinessFlowName",tfLabel:at("BDMFixonBusinessFlowName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ut(t),onClick:()=>{ke&&dt(1,"","ClearAll"),Re(!0)},frmctrlid:"fld269_5189",frmctrlidName:"BDMFixonBusinessFlowName",fieldorder:"2",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,onChange:(e,t)=>{ke&&dt(e,t,"BDMFixonBusinessFlowName"),ct(t,"BDMFixonBusinessFlowName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Re(!0)},showList:ke,SideEntryView:!1,KeyBack:e=>{},value:pe.BDMFixonBusinessFlowName,loading:Be,clear:e=>{e&&(De({type:"text",name:"BDMFixonBusinessFlowName",value:""}),Re(!0))}})))))),s().createElement("div",{className:"l4-side-menu "+(xe?"":"displayNone")},s().createElement("div",{className:"cardhight cardl4"},s().createElement("div",null,s().createElement("div",{className:"BDMFixonBusinessFlowRegistry-sublink formpanel"},s().createElement("div",{className:"divacc",style:{display:"none"}},s().createElement(i.Z,{expanded:"panelS@number@"==$e,onChange:("panelS@number@",(e,t)=>{We(!!t&&"panelS@number@")})},s().createElement(r.Z,{className:"accpanel",expandIcon:s().createElement(x.Z,{className:"iconExpand"})},s().createElement("p",{className:"mpadd5 plinkactive"},"Invisible Fields")),s().createElement(o.Z,null,s().createElement(m.Z,{spacing:12},s().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},s().createElement("div",{className:"EntryView-Checkbox"},s().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":pe.IsBMS,labelPlacement:"end",control:s().createElement(b.Z,{checked:"1"==pe.IsBMS,onChange:e=>{ct(e.target.checked,"IsBMS","boolean")},frmctrlid:"fld269_5190",frmctrlidname:"IsBMS",fieldorder:"2",tfLabel:at("IsBMS")}),label:s().createElement("p",{className:"ToggleSwitchLabel",style:{color:pe.IsBMS?"#21446F":"#999"}},at("IsBMS"))}))),s().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},s().createElement("div",{className:"EntryView-Checkbox"},s().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":pe.IsPortal,labelPlacement:"end",control:s().createElement(b.Z,{checked:"1"==pe.IsPortal,onChange:e=>{ct(e.target.checked,"IsPortal","boolean")},frmctrlid:"fld269_5191",frmctrlidname:"IsPortal",fieldorder:"2",tfLabel:at("IsPortal")}),label:s().createElement("p",{className:"ToggleSwitchLabel",style:{color:pe.IsPortal?"#21446F":"#999"}},at("IsPortal"))})))))))))),s().createElement("div",{id:"BDMFixonBusinessFlowRegistrySideBar",className:"sidenav"},s().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BDMFixonBusinessFlowRegistrySideBar").style.width="0",void Q(!1))},"×"),J&&s().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},X)))))))))))))))))}))},23419:(e,t,l)=>{l.r(t),l.d(t,{BDMFixonBusinessFlowRegistryContext:()=>B,ContextApi:()=>F,default:()=>g});var a=l(92950),s=l.n(a),n=l(19367),i=l(45965),o=l(93255),r=l(45237),d=l(26537),c=l(30037),u=l(67698),m=l(55995),p=(l(37274),l(9175)),D=l.n(p);const B=(0,a.createContext)();function F(){const e=s().useContext(B);if(void 0===e)throw new Error("ContextApi must be used within a BDMFixonBusinessFlowRegistryContext.Provider");return e}const g=(0,a.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const l=(0,a.useRef)(),p=(0,r.useDispatch)(),[F,g]=(0,a.useState)(0),[y,w]=s().useReducer(c.d,c.E),I=(0,a.useRef)(),E=(0,a.useRef)(),f=(0,a.useRef)(),[S,x]=(0,a.useState)(),[v,C]=(0,a.useState)(null),[h,M]=(0,a.useState)(""),b=(0,a.useRef)(),[N,T]=(0,a.useState)([]),[A,P]=(0,a.useState)(!1);(0,a.useEffect)((()=>{p((e=>{(0,d.Z)(1).then((e=>{var t=new Array;t.push(e),w({type:"token",payload:t}),g(t.length),k(e)}))})),e.loading(!0)}),[]),(0,a.useEffect)((()=>{e.editData&&(w({type:"ShowView",payload:!0}),w({type:"PrimaryData",payload:e.editData}),l.current.editRecord(e.editData,!1,!0),w({type:"IsDraft",payload:!1}),R(!0))}),[e.editData]);const k=e=>{(0,i.Z)(e,269).then((e=>w({type:"AccessRights",payload:e})))};function R(e){w({type:"expandDetail",payload:"mainpanel"}),e?(document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.width="0%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.display="flex",document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.display="none",w({type:"Showtable",payload:!1})):(document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.display="block",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.width="0%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.display="none",w({type:"Showtable",payload:!0}),I.current.tableRefresh())}return s().createElement("div",null,s().createElement(B.Provider,{value:{cstate:y,cdispatch:w,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),edit:(e,t,a)=>{return n=t,i=a,void((s=e)?(w({type:"ShowView",payload:!0}),w({type:"PrimaryData",payload:s}),n?l.current.editRecord(s,n,!1):l.current.editRecord(s,n,i),w({type:"IsDraft",payload:n}),R(!0)):(l.current.formlink(0),w({type:"ShowView",payload:!1}),R(!0),l.current.clear()));var s,n,i},add:()=>l.current.Add(),editview:e=>{l.current.Editview(e),w({type:"expandDetail",payload:"mainpanel"})},ShowTableDiv:e=>R(e),AttachExpand:e=>(E.current.AttachmentData(y.PrimaryId),void(y.ExpandTableValue?(document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.width="30%",document.getElementById("divBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="block",document.getElementById("BDMFixonBusinessFlowRegistryTbsearch").style.display="none"):(document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.width="40%",document.getElementById("divBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.display="block",document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.width="30%",document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="block",document.getElementById("BDMFixonBusinessFlowRegistryTbsearch").style.display="none"))),openDialog:t=>e.openDialog(t),Approval:e=>P(e),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{f.current.tempsave(e,N),T([])},floatRefresh:()=>b.current.countRefresh()}},s().createElement("div",{className:"MainDivStyles displayGrid"},s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-MainDiv",className:"Maincontent",style:{paddingTop:"8px",minHeight:"100vh"}},s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{className:"width100"},s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-MainTable",className:"commonSlide",style:{width:"100%",display:"block"}},0!==F&&s().createElement(o.default,{ref:I})),s().createElement("div",{className:"displayFlex"},s().createElement("div",{className:"width100"},s().createElement(n.default,{ref:l,clrImgstate:e=>E.current.clrImgstate(e)}),s().createElement(m.Z,{ref:f,menurefID:269,fileId:"LogoImgBDMFixonBusinessFlowRegistry",imgloading:e=>x(e),valueIDPK:y.PrimaryId,AttachmentVal:e=>E.current.AttachmentData(e),previd:"overlayPreviewBDMFixonBusinessFlowRegistry",AccessRights:y.AccessRights,frmctrlid:"PvwIm_269_L4_",tempImg:e=>{y.PrimaryId?E.current.AttachmentData(y.PrimaryId):E.current.tempImg(e),T(e)},clearTempData:y.Add})),s().createElement(u.Z,{ImgAttachment:e=>{y.IsCollapse?(document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.width="50%",document.getElementById("divBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.display="block",document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="none",document.getElementById("BDMFixonBusinessFlowRegistryTbsearch").style.display="block"):(document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowRegistry").style.display="none",document.getElementById("divBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("BDMFixonBusinessFlowRegistryTbsearch").style.display="block")},menurefID:269,fileId:"AttImgBDMFixonBusinessFlowRegistry",imgid:"overlayimgAttBDMFixonBusinessFlowRegistry",valueIDPK:y.PrimaryId,PriviewData:(e,t,l,a)=>{f.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewBDMFixonBusinessFlowRegistry",ref:E,imgloading:S,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_269_L4_",timglist:e=>f.current.timglist(e),clearTempData:y.Add})))))),A&&s().createElement(D(),{openDialog:A,closeDialog:e=>P(e),formID:269,PrimID:y.PrimaryId,alert:(e,t,a)=>{"Approval Sent Succesfully"==e.message&&l.current.cardRefresh()},loading:t=>{e.loading(t)}})))}))},93255:(e,t,l)=>{l.r(t),l.d(t,{BDMFixonBusinessFlowRegistryPopUpTable:()=>H,default:()=>_}),l(95866);var a=l(92950),s=l.n(a),n=l(45237),i=l(36939),o=l(61201),r=l(50743),d=l(59009),c=l(80366),u=l(51673),m=l(77264),p=l(35025),D=l(64566),B=l(54180),F=l(47516),g=(l(14439),l(27848),l(42258)),y=l(40900),w=l(83032),I=(l(44117),l(23419));function E(e){(0,n.useSelector)((e=>e.form));const[t,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[r,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)([]),[p,D]=(0,a.useState)([]),[B,F]=(0,a.useState)([]),[E,f]=(0,a.useState)([]),[S,x]=(0,a.useState)([]),[v,C]=(0,a.useState)({id:"",type:""}),[h,M]=(0,a.useState)({}),[b,N]=(0,a.useState)(1),{cstate:T,cdispatch:A}=(0,I.ContextApi)(),[P,k]=(0,a.useState)({}),[R,Z]=(0,a.useState)(!1),[L,O]=(0,a.useState)({}),[z,V]=(0,a.useState)({current:1,pageSize:10}),[K,G]=(0,a.useState)(""),[_,H]=(0,a.useState)(""),[U,j]=(0,a.useState)({type:"BDMFixonBusinessFlowIDPK",params:{}});(0,a.useEffect)((()=>{e.onload&&Y(P,"BDMFixonBusinessFlowIDPK"),d(!1)}),[e.onload]),(0,a.useEffect)((()=>{e.refresh&&Y(U.params,"BDMFixonBusinessFlowIDPK")}),[e.refresh]),(0,a.useEffect)((()=>{Y(e.json,"BDMFixonBusinessFlowIDPK"),M(e.json),document.getElementById("BDMFixonBusinessFlowRegistryGridViewCard").style.width="100%"}),[e.json]);const Y=(t,a)=>{let s=y.v.Api+"FP269S5/",n={data:{p1:t&&t.BDMFixonBusinessFlowIDPK?t.BDMFixonBusinessFlowIDPK:null,p2:t&&t.BDMFixonBusinessFlowCode?t.BDMFixonBusinessFlowCode:null,p3:t&&t.BDMFixonBusinessFlowName?t.BDMFixonBusinessFlowName:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:1,p17:10,p18:a,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}};(0,u.Z)(s,n,T.token[0]).then((e=>{if(e.Output.data){let t=e.Output.data;"BDMFixonBusinessFlowIDPK"==a?(l(t),d(!1)):(o(t),d(!0))}}))};return s().createElement("div",{id:"BDMFixonBusinessFlowRegistryGridViewCard"},s().createElement("div",{className:"GridViewChildCard"},s().createElement(w.Z,{name:K.DisplayName,count:K.Total,id:"BDMFixonBusinessFlowRegistryPopUpTableSchema",showSearch:e.showSearch,type:"Schema",chipdata:i,showview:R,viewcomponent:R&&s().createElement(ViewComponent,{ExpandDetailValue:!0,l4viewonly:R,data:L,editopen:function(e){O(e),document.getElementById("BDMFixonBusinessFlowRegistryPopUpTableSchema").style.width="0",document.getElementById("BDMFixonBusinessFlowRegistryPopUpTableSchema").style.padding="0",document.getElementById("BDMFixonBusinessFlowRegistry-ThemeSlide1").style.width="3.3%",document.getElementById("BDMFixonBusinessFlowRegistry-ThemeSlide1").style.background="none",document.getElementById("BDMFixonBusinessFlowRegistry-Floatcnt").style.width="0",document.getElementById("BDMFixonBusinessFlowRegistry-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}}),tablecomponent:s().createElement(g.Z,{dynamic:!0,name:CardName,tableData:i,TableVisibleItem:[],TableBodyItem:[]}),data:t,sendparams:k,getChildData:(e,t)=>{Y(h,e,z),setCardName(t.Name)},float:!0})))}var f=l(43031),S=l(110),x=l(88995),v=l(5109),C=l(868),h=l(39327),M=l(3212),b=l(24038),N=l(79352),T=l(51209),A=l(8981),P=l(86893),k=l(53854),R=l(37106),Z=l(5434),L=l(93521),O=(l(79117),l(71168)),z=l.n(O),V=l(65107),K=l(94986),G=l(15999);l(11557),window.clickFilter="";const _=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),g=(0,a.useRef)(null),w=(0,a.useRef)(null),O=((0,a.useRef)(null),(0,a.useRef)(null)),[_]=((0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[H]=(0,a.useState)("269"),[U,j]=(0,a.useState)(!1),[Y,q]=(0,a.useState)(!1),[$,W]=(0,a.useState)(0),[J,Q]=(0,a.useState)(0),[X,ee]=(0,a.useState)(0),[te,le]=(0,a.useState)({current:1,pageSize:100}),[ae,se]=(0,a.useState)(""),[ne,ie]=(0,a.useState)([]),[oe,re]=(0,a.useState)({val:"",column:""}),[de,ce]=(0,a.useState)([]),[ue,me]=(0,a.useState)(!1),[pe,De]=(0,a.useState)(""),[Be,Fe]=(0,a.useState)(""),[ge,ye]=(0,a.useState)(!1),[we,Ie]=(0,a.useState)(!1),[Ee,fe]=(0,a.useState)([]),[Se,xe]=(0,a.useState)([]),[ve,Ce]=(0,a.useState)([]),[he,Me]=(0,a.useState)(!1),[be,Ne]=(0,a.useState)({children:[{name:"BDMFixonBusinessFlowRegistry",children:[]}]}),[Te,Ae]=(0,a.useState)(!1);let Pe={BDMFixonBusinessFlowIDPK:"",BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",IsBMS:"",IsPortal:"",IsDefault:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ke,Re]=(0,a.useState)(Pe),[Ze,Le]=(0,a.useState)(Pe),[Oe,ze]=(0,a.useState)(Pe),[Ve,Ke]=(0,a.useState)(Pe),[Ge,_e]=(0,a.useState)("asc"),[He,Ue]=(0,a.useState)(""),[je,Ye]=(0,a.useState)(!1),[qe,$e]=(0,a.useState)(!0),[We,Je]=(0,a.useState)(!1),[Qe,Xe]=(0,a.useState)(!0),[et,tt]=(0,a.useState)({BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",IsBMS:"",IsPortal:""}),lt=(0,a.useContext)(e.context?e.context:I.BDMFixonBusinessFlowRegistryContext),{cstate:at,cdispatch:st}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[nt,it]=(0,a.useState)(!1),[ot,rt]=(0,a.useState)([]),[dt,ct]=(0,a.useState)(0),[ut,mt]=(0,a.useState)(0),[pt,Dt]=(0,a.useState)({current:1,pageSize:10}),[Bt,Ft]=(0,a.useState)([]),[gt,yt]=(0,a.useState)([]),[wt,It]=(0,a.useState)(!1),[Et]=(0,a.useState)(localStorage.getItem("Language")),[ft]=(0,a.useState)(localStorage.getItem("Language")),[St,xt]=(0,a.useState)(!1),[vt,Ct]=z()("269"),[ht,Mt]=(0,a.useState)(0);let bt={BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",IsBMS:"",IsPortal:""};const Nt=[{columns:Bt,data:ae}];let Tt=(0,A.Z)();const At=e=>Tt?.[e]?Tt[e]:e,Pt=e=>at.language?.[e]?at.language[e]:e;(0,a.useEffect)((()=>{zt(vt)}),[vt]),(0,a.useEffect)((()=>{we||he||Te?we?Le(pe):he?ze(pe):Te&&Ke(pe):(Re(pe),at.token.length>0&&kt({current:1,pageSize:100},pe,"BDMFixonBusinessFlowID"))}),[pe]),(0,a.useEffect)((()=>{!1===e.cardview&&Xe(e.cardview),e.Dialogview&&q(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&Lt(e.searchsafaritext,{current:te.current,pageSize:te.pageSize})}),[e.searchsafaritext]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{Lt(e,{current:1,pageSize:100})},tableRefresh:()=>{kt(te,pe,"BDMFixonBusinessFlowID")}})));const kt=(e,t,l,a,s)=>{lt.loading(!0);let n=y.v.Api+"FP269S3/",i={data:{p1:a||(t&&t.BDMFixonBusinessFlowIDPK?t.BDMFixonBusinessFlowIDPK:null),p2:t&&t.BDMFixonBusinessFlowCode?t.BDMFixonBusinessFlowCode:null,p3:t&&t.BDMFixonBusinessFlowName?t.BDMFixonBusinessFlowName:null,p4:null,p5:null,p6:null,p7:"DraftBDMFixonBusinessFlowID"==l?"1":"0",p8:null,p9:t&&t.IsActive,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:a?1:e.current,p17:e.pageSize,p18:l,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}};(0,u.Z)(n,i,at.token[0]).then((a=>{if("200"==a.Output.status.code)if(a.Output.data.length>0){if(a.Output.data){let t=0;a.Output.data.length>0?(t=parseFloat(a.Output.data[0].TotalCount,10)/10,Q(a.Output.data[0].TotalCount),st({type:"count",payload:a.Output.data[0].TotalCount}),ee(a.Output.data[0].DraftCnt)):(t=0,Q(0),st({type:"count",payload:0}),ee(0)),10==e.pageSize?W(Math.ceil(t)):20==e.pageSize?W(Math.ceil(t/2)):50==e.pageSize?W(Math.ceil(t/5)):100==e.pageSize&&W(Math.ceil(t/10)),ce(a.Output.data),lt.loading(!1)}"DraftBDMFixonBusinessFlowID"===l?(Ye(!0),ye(!1)):Ye(!1)}else"DraftBDMFixonBusinessFlowID"===l?(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ye(!0),Ye(!1),lt.loading(!1)):(Ye(!1),ce([]),le({current:1,pageSize:100}),W(0),Q(0),lt.loading(!1),Object.values(t).some((e=>e))&&(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),document.getElementById("BDMFixonBusinessFlowRegistry-MainTable").style.display="block"));else lt.alert({open:!0,color:"warning",message:[a.Output.status.message]}),lt.loading(!1)}))},Rt=()=>{ue?(document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.display="none",me(!1),we?(document.getElementById("BDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):Qe?he?(document.getElementById("BDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMFixonBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.width="25%",document.getElementById("BDMFixonBusinessFlowRegistryTabDiv").style.width="75%",document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.display="block",me(!0),document.getElementById("BDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"),ye(!1),window.clickFilter=!ue},Zt=()=>{ge?(document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.display="none",document.getElementById("BDMFixonBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!1)):(document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.width="25%",document.getElementById("BDMFixonBusinessFlowRegistryTabDiv").style.width="75%",document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.display="block",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BDMFixonBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!0)),me(!1)};function Lt(e,t){lt.loading(!0);const l=y.v.Api+"FP269S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:je?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(l,a,at.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let s=0;e.Output.data.length>0?(s=parseFloat(e.Output.data[0].TotalCount,10)/10,Q(e.Output.data[0].TotalCount),ee(e.Output.data[0].DraftCnt)):(s=0,Q(0),ee(0)),10==t.pageSize?W(Math.ceil(s)):20==t.pageSize?W(Math.ceil(s/2)):50==t.pageSize?W(Math.ceil(s/5)):100==t.pageSize&&W(Math.ceil(s/10)),ce(e.Output.data);for(var l=document.querySelectorAll("#BDMFixonBusinessFlowRegistryTable td"),a=0;a<l.length;++a)l.forEach((function(e,t){e.textContent.toLowerCase().includes(Be.toLowerCase())&&Be.length>0&&(e.style.color="#ffa502")}));lt.loading(!1)}else ce([]),le({current:1,pageSize:100}),W(0),Q(0),ee(0),lt.loading(!1),lt.alert({open:!0,color:"warning",message:["There is no Record Found"]});else lt.alert({open:!0,color:"warning",message:[e.Output.status.message]}),lt.loading(!1)}))}function Ot(e){"Table"==e?(document.getElementById("BDMFixonBusinessFlowRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("BDMFixonBusinessFlowRegistry-ShowView").classList.remove("ViewBtnAct"),Ie(!1),Me(!1),Ae(!1)):"Grid"==e?(document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.display="none",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").style.width="35px",document.getElementById("BDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="15%",Ie(!0),Me(!1),Ae(!1),me(!1),ye(!1),Xe(!0),document.querySelector('[data-bid="269List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Grid"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="269Tile"]').classList.remove("buttonGrpActive")):"Bubble"==e?(document.getElementById("BDMFixonBusinessFlowRegistry-TabView").classList.remove("ViewBtnAct"),document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowRegistryFilterDiv").style.display="none",Me(!0),Ie(!1),Ae(!1),me(!1),ye(!1),Xe(!0)):"Share"==e?(document.getElementById("BDMFixonBusinessFlowRegistry-TabView").classList.remove("ViewBtnAct"),document.querySelector('[data-bid="269List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Grid"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Share"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="269Tile"]').classList.remove("buttonGrpActive"),Me(!1),Ie(!1),Ae(!0),me(!1),ye(!1),Xe(!0)):"List"==e?(Ie(!1),Ae(!1),Xe(!0),It(!1),document.querySelector('[data-bid="269List"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="269Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Tile"]').classList.remove("buttonGrpActive")):"Card"==e?(Xe(!1),It(!1),document.querySelector('[data-bid="269List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Card"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="269Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Tile"]').classList.remove("buttonGrpActive")):"Tile"==e?(It(!0),Xe(!1),document.querySelector('[data-bid="269List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Tile"]').classList.add("buttonGrpActive")):"Show"==e&&(document.querySelector('[data-bid="269List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Tile"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="269Show"]').classList.add("buttonGrpActive"),Me(!1),Ie(!1),Ae(!0),Xe(!0),ue&&Zt())}function zt(e){let t=[],l=[],a=[],s=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,fieldname:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");s.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]}),"IsShow"==e.FieldName&&st({type:"IsShow",payload:!0})})),st({type:"language",payload:Object.assign({},...s)}),tt(l.reduce(((e,t)=>(e[t]="",e)),{})),fe(e),xe(t),Ce(l),Ft(a),yt(l)}function Vt(e,t){lt.edit(e),me(!1),document.getElementById("BDMFixonBusinessFlowRegistry-Detail").style.width="64%",document.getElementById("BDMFixonBusinessFlowRegistry-Detail").style.display="block",document.getElementById("BDMFixonBusinessFlowRegistry-Table").style.width="35%",document.getElementById("BDMFixonBusinessFlowRegistry-TabView").classList.add("ViewButtonAct"),document.getElementById("BDMFixonBusinessFlowRegistry-GridView").classList.remove("ViewButtonAct"),document.getElementById("BDMFixonBusinessFlowRegistry-BubbleView").classList.remove("ViewButtonAct"),Ie(!1),Me(!1),Ae(!1);let l={BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",IsBMS:"",IsPortal:""};Re(l),kt({current:1,pageSize:100},l,"BDMFixonBusinessFlowID")}function Kt(e){lt.loading(!0);let t=y.v.Api+"FP269S7/",l={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(t,l,at.token[0]).then((t=>{if(200==t.Output.status.code){let l=0;t.Output.data.length>0?(l=parseFloat(t.Output.data[0].TotalCount,10)/10,mt(t.Output.data[0].TotalCount)):(l=0,mt(0)),10==e.pageSize?ct(Math.ceil(l)):20==e.pageSize?ct(Math.ceil(l/2)):50==e.pageSize?ct(Math.ceil(l/5)):100==e.pageSize&&ct(Math.ceil(l/10)),rt(t.Output.data),lt.loading(!1)}else lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),lt.loading(!1)}))}return(0,a.useEffect)((()=>{Je(e.ExpandTableValue)}),[e.ExpandTableValue]),s().createElement("div",null,s().createElement(i.Z,{expanded:qe,onChange:()=>()=>{$e(We)}},s().createElement(r.Z,null,s().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100 L3Header"},s().createElement("div",null,s().createElement("div",{className:"displayFlex"},je?s().createElement("div",{className:"ListHeader displayFlex"},s().createElement("div",{id:"fld269L4TCKeyboardBackspaceRounded",onClick:()=>{kt(te,Pe,"BDMFixonBusinessFlowID"),Ye(!1)}},s().createElement(C.ZP,{title:"List",placement:"top"},s().createElement(Z.aQX,{className:"BackBtnIcon"}))),s().createElement("div",{id:"fld269L4TCDraftP",onClick:()=>kt(te,Pe,"DraftBDMFixonBusinessFlowID")},s().createElement(C.ZP,{title:"Draft",placement:"top"},s().createElement("p",{className:"DraftP"},"Drafts(",J,")")))):s().createElement("div",{className:"ListHeader displayFlex"},e.ExpandTableValue?qe?s().createElement(p.Z,{className:"ArrowIconsLight",onClick:()=>{$e(!1)}}):s().createElement(D.Z,{className:"ArrowIconsLight",onClick:()=>{$e(!0)}}):null,s().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[269]",onClick:()=>e.ExpandTableValue&&$e(!qe)},`${Pt("269")} (${Te?ht:J})`)))),s().createElement("div",null,we||he||Te||je?null:s().createElement("div",{className:"displayFlex"},s().createElement("div",{id:"fld269L4TCSearchBar",className:"searchbar",style:{marginRight:"2%"}},s().createElement(b.Z,{className:"search_input",type:"text",id:"BDMFixonBusinessFlowRegistrygridsearch",placeholder:"Search",value:Be,onChange:e=>{if(Fe(e),"0"==e.length)return kt(te,pe,je?"DraftBDMFixonBusinessFlowID":"BDMFixonBusinessFlowID",je&&"DraftPage"),!1;Lt(e,{current:1,pageSize:100})}}),s().createElement("div",{className:"search_icon"},Be?s().createElement("div",{id:"fld269L4TCInputCloseIcon",onClick:()=>{Fe(""),kt(te,pe,je?"DraftBDMFixonBusinessFlowID":"BDMFixonBusinessFlowID",je&&"DraftPage")}},s().createElement(c.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld269L4TCInputSearchIcon",onClick:()=>{Fe(""),tableRefresh()}},s().createElement(x.Z,{className:"InputSearchIcon"})))),at.AccessRights.IsAdd&&s().createElement(M.Z,{disabled:!1,className:"SaveBtnCommon",name:"Add",frmctrlid:"fld269L4ECAddBtnIsAdd",onClick:()=>{lt.edit(!1),lt.add()}}))))),s().createElement(o.Z,{className:"AccDetails"},s().createElement("div",{className:"tableCard"},s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-HeaderItems",className:"displayFlex padding"},s().createElement("div",{className:"tableHeaderItems displayFlex"},!je&&s().createElement("div",{frmctrlid:"fld269L4TCFilterDataIsDraft",id:"BDMFixonBusinessFlowRegistryfildiv",className:"buttoncard",onClick:()=>{Rt()}},s().createElement(C.ZP,{title:At("Filter Data"),placement:"top"},s().createElement("span",null,s().createElement(F.Ol$,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"iconinfo"},At("Filter Data"))),s().createElement(B.Z,{formctrlidprint:"fld269L4TCExportPrint",formctrlidexport:"fld269L4TCExportTable",formctrlidrefresh:"fld269L4TCExportRefresh",title:"269",data:ne,exportData:Nt,Items:gt,columnIndex:Bt,TableVisibleItem:Se,userGridViewFormID:H,TableTotalCount:J,triggerApi:e=>{((e,t,a,s,n)=>{if(0===J)return lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;bt[t]=e,lt.loading(!0);let i=y.v.Api+"FP269S3/",o={data:{p1:e&&e.BDMFixonBusinessFlowIDPK?e.BDMFixonBusinessFlowIDPK:null,p2:e&&e.BDMFixonBusinessFlowCode?e.BDMFixonBusinessFlowCode:null,p3:e&&e.BDMFixonBusinessFlowName?e.BDMFixonBusinessFlowName:null,p4:null,p5:null,p6:null,p7:je?"1":"0",p8:null,p9:e&&e.IsActive,p10:null,p11:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p12:e&&e.CreatedTtm?e.CreatedTtm:null,p13:e&&e.CreatedTtmType?e.CreatedTtmType:null,p14:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p15:null,p16:te.current,p17:J,p18:je?"DraftBDMFixonBusinessFlowID":"BDMFixonBusinessFlowID",p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}};lt.loading(!1),lt.alert({open:!0,color:"success",message:[`${Pt(269)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,u.Z)(i,o,at.token[0],n).then((e=>{(0,L.PDF_Excel_Generate)(e,lt,gt,se,l,n)}))})(pe,oe.column,0,0,e)},Refresh:()=>{Fe(""),e.draftval?(kt({current:1,pageSize:100},Pe,"DraftBDMFixonBusinessFlowID"),le({current:1,pageSize:100})):(kt({current:1,pageSize:100},Pe,"BDMFixonBusinessFlowID"),le({current:1,pageSize:100}),De({})),O.current&&O.current.clearItem()},disabledPrint:!at.AccessRights.IsPrint,disabledExport:!at.AccessRights.IsExport,ref:l}),!je&&s().createElement("div",{className:"buttoncard",onClick:()=>xt(!St)},s().createElement("span",null,St?s().createElement(C.ZP,{disableFocusListener:!0,title:"Less",placement:"top"},s().createElement("span",{id:"fld269L4TCLess"},s().createElement(k.ldB,{className:"tableFilterColumnIcon"}))):s().createElement(C.ZP,{disableFocusListener:!0,title:"More",placement:"top"},s().createElement("span",{id:"fld269L4TCMore"},s().createElement(k.ilJ,{className:"tableFilterColumnIcon"}))))),!je&&St?s().createElement("div",{className:"EntryHeaderMore"},we||he||Te||je?null:!je&&s().createElement("div",null,s().createElement("div",{frmctrlid:"fld269L4TCFilterDataIsAdd",id:"BDMFixonBusinessFlowRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Zt()}},s().createElement(C.ZP,{title:At("Manage Columns"),placement:"top"},s().createElement("div",null,s().createElement(h.gYA,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"iconinfo"},At("Manage Columns")))),!je&&U&&!we&&!Te&&!Y&&s().createElement("div",{frmctrlid:"fld269L4TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},s().createElement(C.ZP,{title:At("Migration"),placement:"top"},s().createElement("div",null,s().createElement(N.ncH,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"iconinfo"},At("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&s().createElement("div",null,s().createElement("div",{frmctrlid:"fld269L4TCTableScrollData",id:"BDMFixonBusinessFlowRegistrycoldiv",className:"buttoncard",onClick:()=>{nt?it(!1):(it(!0),Kt({current:1,pageSize:100}))}},s().createElement(C.ZP,{title:At("Table Scroll Data"),placement:"top"},s().createElement("div",null,s().createElement(G.Z,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"iconinfo"},At("Table Scroll Data")))),at.AccessRights.IsAdd&&!Te&&s().createElement("div",null,s().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:X,showZero:!0},s().createElement("div",{id:"fld269L4TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{kt({current:1,pageSize:100},Pe,"DraftBDMFixonBusinessFlowID"),Ye(!0),ye(!1),st({type:"IsDraft",payload:!0}),document.getElementById("BDMFixonBusinessFlowRegistryTabDiv").style.width="100%"}},s().createElement(C.ZP,{title:"Drafts",placement:"top"},s().createElement("div",null,s().createElement(R.rNm,{className:"DraftIcon"}))),s().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},At("Drafts")))))):""),!je&&!Y&&s().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},s().createElement("div",null,s().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},s().createElement("div",{className:"b2",id:"button-11"},at.IsShow?s().createElement("div",{className:"buttonGrpUnActive buttonGrpActive","data-bid":"269Show",id:"fld269L4TCShowView",onClick:()=>{Ae(!0),Ot("Show"),ShowComponent}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(P.aCJ,null)),s().createElement("span",null,At("Show"))):"",s().createElement("div",{className:"buttonGrpUnActive","data-bid":"269List",id:"fld269L4TCListView",onClick:()=>{Ot("List")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(k.umT,null)),s().createElement("span",null,At("List"))),s().createElement("div",{className:"buttonGrpUnActive","data-bid":"269Card",id:"fld269L4TCCardView",onClick:()=>{Ot("Card")}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(P.aCJ,null)),s().createElement("span",null,At("Card"))),s().createElement("div",{className:"buttonGrpUnActive","data-bid":"269Tile",id:"fld269L4TCTileView",onClick:()=>{Ot("Tile")},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(Z.f_H,null)),s().createElement("span",null,At("Tile"))))))),we||he||Te?null:nt?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(f.Z,{count:dt,color:"primary",page:pt.current,onChange:(e,t)=>{Dt({current:t,pageSize:pt.pageSize}),ct(t),Kt({current:t,pageSize:pt.pageSize})}}),s().createElement("div",null,s().createElement(S.Z,{value:pt.pageSize,frmctrlid:"fld269L4TCSelectPagination",onChange:e=>{Dt({current:1,pageSize:e.target.value}),Kt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle"},s().createElement("option",{value:10},"10"),s().createElement("option",{value:20},"20"),s().createElement("option",{value:50},"50"),s().createElement("option",{value:100},"100"))),We&&s().createElement("p",{className:"per-page"},"/ per page Of (",ut,")")):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(f.Z,{count:$,siblingCount:0,color:"primary",page:te.current,onChange:(e,t)=>{le({current:t,pageSize:te.pageSize}),Be.length>0?Lt(Be,{current:t,pageSize:te.pageSize}):kt({current:t,pageSize:te.pageSize},pe,je?"DraftBDMFixonBusinessFlowID":"BDMFixonBusinessFlowID")}}),s().createElement("div",null,s().createElement(S.Z,{value:te.pageSize,frmctrlid:"fld269L4TCSelectPagination",onChange:e=>{le({current:1,pageSize:e.target.value}),Be.length>0?Lt(Be,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},ke,je?"DraftBDMFixonBusinessFlowID":"BDMFixonBusinessFlowID")},className:"BootstrapInputStyle"},s().createElement("option",{value:10},"10"),s().createElement("option",{value:20},"20"),s().createElement("option",{value:50},"50"),s().createElement("option",{value:100},"100"))),We&&s().createElement("p",{className:"per-page"},"/ per page of (",J,") "))),s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},!je&&s().createElement("div",{id:"BDMFixonBusinessFlowRegistryFilterDiv",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ue&&s().createElement(m.default,{ref:w,userGrid:vt,CloseBtnClk:()=>Rt(),searchData:e=>De(e),formID:H,data:()=>{},visibleData:()=>{},token:at.token[0],alertmsg:(e,t)=>lt.alert({open:!0,color:e,message:[t]}),clearTableFilter:()=>{tableRefresh()}}),ge&&!we&&!he&&s().createElement(v.Z,{frmctrlid:"fld269L4TCTableColumnOrder",loading:e=>lt.loading(e),AltMsg:(e,t)=>lt.alert({open:!0,color:t,message:[e]}),select:ge,userID:_,userGridViewFormID:H,saved:(e,t)=>{e&&zt(t),Ct(t)},Token:at.token[0]})),s().createElement("div",{id:"BDMFixonBusinessFlowRegistryTabDiv",style:{width:"100%",position:"relative",height:"66vh"}},Qe?s().createElement("div",null,we&&s().createElement(E,{onLoad:we,showSearch:ue,data:(e,t)=>{Vt(e)},json:Ze}),Te&&s().createElement(ShowComponent,{ref:g,onload:Te,showSearch:!1,showViewCount:e=>Mt(e),data:(e,t)=>{Vt(e)},json:pe}),!we&&!Te&&s().createElement("div",null,nt?s().createElement(K.Z,{data:ot,expanded:()=>{},edit:lt.edit}):s().createElement(V.Z,{ref:O,frmctrlid:"tblcs_269_L4_",id:"BDMFixonBusinessFlowRegistryTable",headerdata:Se,tablesearchparams:et,searchvalue:e=>{let t={...pe,...e};tt(e),De(t),le({current:1,pageSize:100}),kt({current:1,pageSize:100},t,je?"DraftBDMFixonBusinessFlowID":"BDMFixonBusinessFlowID",je&&"DraftPage")},bodydata:de,ondrag:(e,t)=>{lt.edit(t,je,!0)},bodyitem:ve,visibleitem:Se,isdraft:je,action:"none",tableID:H,accessrights:at.AccessRights,expanded:()=>{},edit:lt.edit,viewtoggle:()=>at.viewtoggle,tf:Pt,isexpanded:!Y||We}))):s().createElement(T.Z,{frmctrlid:"fld269L4TCExpandedCardDual",data:de,id:"BDMFixonBusinessFlowRegistry",title:"BDMFixonBusinessFlowName",cardTile:!!wt,visibleitem:Se,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{Y?lt.select(e):("edit"==t?lt.edit(e,t):lt.edit(e,!1,!0),We&&(me(!1),ye(!1)))}})))))))})),H=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),d=(0,a.useRef)(null),c=(0,a.useRef)(null),[m]=((0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[p,D]=z()("269"),[F,g]=(0,a.useState)(!1),[w,E]=(0,a.useState)(0),[x,v]=(0,a.useState)(0),[C,h]=(0,a.useState)({current:1,pageSize:100}),[M,b]=(0,a.useState)(""),[N,T]=(0,a.useState)([]),[P,k]=(0,a.useState)({val:"",column:""}),[R,Z]=(0,a.useState)([]),[O,K]=(0,a.useState)(!1),[G,_]=(0,a.useState)(""),[H,U]=(0,a.useState)([]),[j,Y]=(0,a.useState)([]),[q,$]=(0,a.useState)([]),W=(0,a.useContext)(I.BDMFixonBusinessFlowRegistryContext),{cstate:J,cdispatch:Q}=(0,I.ContextApi)();let X={BDMFixonBusinessFlowIDPK:"",BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",IsBMS:"",IsPortal:"",IsDefault:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,a.useState)(!1),[le,ae]=(0,a.useState)(!0),[se,ne]=(0,a.useState)(!1),[ie,oe]=(0,a.useState)(!0),[re,de]=(0,a.useState)(0),[ce,ue]=(0,a.useState)({BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",IsBMS:"",IsPortal:""}),[me,pe]=(0,a.useState)([]),[De,Be]=(0,a.useState)([]),[Fe,ge]=(0,a.useState)([]),[ye,we]=(0,a.useState)(!1),[Ie,Ee]=(0,a.useState)("");let fe=(0,A.Z)();const Se=[{columns:me,data:M}];(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],s=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");s.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...s)}),ue(l.reduce(((e,t)=>(e[t]="",e)),{})),U(e),Y(t),$(l),pe(a),Be(l)}(p)}),[p]),(0,a.useImperativeHandle)(t,(()=>({tableRefresh:()=>{xe()},viewrecord:e=>{R.map(((t,l)=>{t.BDMFixonBusinessFlowIDPK==e&&Q({type:"editData",payload:[R[l]]})}))},DialogTableProps:e=>{g(e)},searchData:(t,l,a)=>{W.loading(!0),d.current&&d.current.clearItem(),Ee(a),h({current:1,pageSize:10}),X=e.ApiParamType.params,ve({current:1,pageSize:100},l,a),c.current&&c.current.clearItem()}}))),(0,a.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&g(e.Dialogview)}),[e.cardview,e.Dialogview]);const xe=()=>{J.IsDraft?ve(C,X,"DraftBDMFixonBusinessFlowID"):ve(C,X,"BDMFixonBusinessFlowID")},ve=async(t,l,a,s)=>{if(J.token[0]){if(W.loading(!0),"DraftPage"!==s&&te(J.IsDraft),await Ee((e=>(a=e,e))),l&&Object.keys(l).length>0){let e=Object.keys(l),t={},a=[],s=Object.values(l);e.map((e=>{a.push(e.split("_")[0])}));for(let e=0;e<a.length;e++)t[a[e]]=s[e];l=t}_(l);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:l&&l.BDMFixonBusinessFlowIDPK?l.BDMFixonBusinessFlowIDPK:null,p2:l&&l.BDMFixonBusinessFlowCode?l.BDMFixonBusinessFlowCode:null,p3:l&&l.BDMFixonBusinessFlowName?l.BDMFixonBusinessFlowName:null,p4:null,p5:null,p6:null,p7:"DraftBDMFixonBusinessFlowID"==a?"1":"0",p8:null,p9:l&&l.IsActive,p10:null,p11:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p12:l&&l.CreatedTtm?l.CreatedTtm:null,p13:l&&l.CreatedTtmType?l.CreatedTtmType:null,p14:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p15:null,p16:t.current,p17:t.pageSize,p18:a,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}};(0,u.Z)(n,i,J.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?E(Math.ceil(l)):20==t.pageSize?E(Math.ceil(l/2)):50==t.pageSize?E(Math.ceil(l/5)):100==t.pageSize&&E(Math.ceil(l/10)),Z(e.Output.data)}}else W.alert({open:!0,color:"warning",message:[(l="There is no Record Found",fe?.[l]?fe[l]:l)]}),Z([]),E(0),v(0),Q({type:"count",payload:0});var l}))}};return(0,a.useEffect)((()=>{ne(J.ExpandTableValue)}),[J.ExpandTableValue]),s().createElement("div",null,s().createElement(i.Z,{expanded:le,onChange:()=>()=>{ae(se)}},s().createElement(r.Z,null,s().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},s().createElement("div",{style:{width:"60%"}},s().createElement("div",{className:"displayFlex"},s().createElement("div",{className:"ListHeader displayFlex"},s().createElement("p",{className:"ListP"}," ",e.CardName," (",x,")")))))),s().createElement(o.Z,{className:"AccDetails"},s().createElement("div",{className:"tableCard"},s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:s().createElement("div",{className:"tableHeaderItems displayFlex"},s().createElement(B.Z,{formctrlidprint:"fld269L4TCExportPrint",formctrlidexport:"fld269L4TCExportTable",formctrlidrefresh:"fld269L4TCExportRefresh",title:"269",data:N,exportData:Se,Items:De,columnIndex:me,triggerApi:t=>{((t,a,s)=>{if(0===x)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.BDMFixonBusinessFlowIDPK?t.BDMFixonBusinessFlowIDPK:null),p2:t&&t.BDMFixonBusinessFlowCode?t.BDMFixonBusinessFlowCode:null,p3:t&&t.BDMFixonBusinessFlowName?t.BDMFixonBusinessFlowName:null,p4:null,p5:null,p6:null,p7:ee?"1":"0",p8:null,p9:t&&t.IsActive,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:1,p17:x,p18:Ie,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}};var o;W.loading(!1),W.alert({open:!0,color:"success",message:[`${o="269",J.language?.[o]?J.language[o]:o} - ${s.alertName}, Once you have downloaded the file, you will be notified`]}),(0,u.Z)(n,i,J.token[0],s).then((e=>{(0,L.PDF_Excel_Generate)(e,W,De,b,l,s)}))})(G,P.column,t)},TableVisibleItem:j,userGridViewFormID:"269",TableTotalCount:x,Refresh:()=>{ve({current:1,pageSize:100},G,Ie),h({current:1,pageSize:100}),c.current&&c.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:l})),s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(f.Z,{count:w,siblingCount:0,color:"primary",page:C.current,onChange:(e,t)=>{if(h({current:t,pageSize:C.pageSize}),ee)ve({current:t,pageSize:C.pageSize},G,"DraftBDMFixonBusinessFlowID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";ve({current:t,pageSize:C.pageSize},G,"BDMFixonBusinessFlowID")}}}),s().createElement("div",null,s().createElement(S.Z,{value:C.pageSize,onChange:e=>{h({current:1,pageSize:e.target.value}),ve({current:1,pageSize:e.target.value},G,"BDMFixonBusinessFlowID")},className:"BootstrapInputStyle2"},s().createElement("option",{value:10},"10"),s().createElement("option",{value:20},"20"),s().createElement("option",{value:50},"50"),s().createElement("option",{value:100},"100"))),se&&s().createElement("p",{className:"per-page"},"/ per page Of (",x,")"))),s().createElement("div",{id:"BDMFixonBusinessFlowRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},s().createElement("div",{id:"BDMFixonBusinessFlowRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?s().createElement(MUITableMulti,{ref:c,type:e.viewtype,id:"BDMFixonBusinessFlowRegistry",headerdata:j,tablesearchparams:ce,searchvalue:e=>{ue(e),h({current:1,pageSize:100}),ve({current:1,pageSize:100},e,ee?"DraftBDMFixonBusinessFlowID":"BDMFixonBusinessFlowID",ee&&"DraftPage")},bodydata:R,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:q,visibleitem:j,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{F?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,l,a):W.edit(t,l,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{Z(e)},color:!0,isexpanded:!1}):s().createElement(V.Z,{frmctrlid:"tblcs_269_L4_",ref:d,id:"BDMFixonBusinessFlowRegistryTable",type:e.viewtype,headerdata:j,tablesearchparams:ce,searchvalue:e=>{let t={...G,...e};ue(e),_(t),h({current:1,pageSize:100}),ve(C,t,Ie)},bodydata:R,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:q,visibleitem:j,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{F?W.select(t):(e.editdata(t,"view"),W.edit(t,l,1!=t.Entry))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},77264:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k}),l(95866),l(99058);var a=l(92950),s=l.n(a),n=l(80366),i=l(51673),o=l(282),r=l(868),d=l(78513),c=l(14439),u=l(27848),m=l(40900),p=l(64059),D=l(24038),B=l(8981),F=l(47516),g=l(86893),y=l(23419),w=l(33681),I=l(63163),E=(l(35131),l(61956),l(93657)),f=l(53375),S=l(52663),x=l(66083),v=l(29525),C=l(66856),h=l(39803),M=l(99940),b=l(17149),N=l(62810),T=l(30553),A=l(92381),P=l(25108);const k=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[k,R]=(0,a.useState)([]),[Z,L]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,z]=(0,a.useState)(""),[V,K]=(0,a.useState)({}),[G,_]=(0,a.useState)(!0),[H,U]=(0,a.useState)(!1),{cstate:j,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,y.ContextApi)(),[q,$]=(0,a.useState)(1),[W,J]=(0,a.useState)(0),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({}),[le,ae]=(0,a.useState)([]),[se,ne]=(0,a.useState)(!0),[ie,oe]=(0,a.useState)(!1),[re,de]=(0,a.useState)(""),[ce,ue]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(!1),[De,Be]=(0,a.useState)(!1),[Fe,ge]=(0,a.useState)(""),ye=(0,a.useRef)(null),[we,Ie]=(0,a.useState)({});let Ee=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Se=(0,B.Z)();const xe=e=>Se[e]?Se[e]:e,ve=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Ee]];function Ce(){K({}),te({}),e.searchData({}),U(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});Ie(l),ae(t)}),[]),(0,a.useEffect)((()=>()=>{ye.current&&ye.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Ce()}})));const he=async(t,l,a,s)=>{X(!0);try{ye.current&&ye.current.abort();const n=new AbortController;ye.current=n;let o="",r=[],d={};await L((e=>(o=e.name,e))),await K((e=>(r=e,e))),await te((e=>(d=e,e)));const c=m.v.Api+"FP269S3/",u={data:{p1:"BDMFixonBusinessFlowIDPK"==l?null:await Te(),p2:"BDMFixonBusinessFlowCode"==o&&a.length>0?"%"+a+"%":null,p3:"BDMFixonBusinessFlowName"==o&&a.length>0?"%"+a+"%":null,p4:"IsBMS"==o&&a.length>0?"%"+a+"%":null,p5:"IsPortal"==o&&a.length>0?"%"+a+"%":null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:"p11"==o&&a.length>0?a:null,p12:null,p13:null,p14:null,p15:null,p16:s||1,p17:10,p18:t,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}},p=await(0,i.Z)(c,u,e.token,"",n.signal);if(!p)return!1;const D=p.Output.status.code,B=p.Output.data;if("200"===D)if(B.length>0)if(1===s){let e=be(B,o),t=Me(e,V[o],l);R(t),J(t.length>0?t[0].TotalCount:V[o].length)}else{let e=[...k,...B],t=be(e,o);J(t.length<10?t.length:B[0].TotalCount),R(be(t,o))}else O.length>0&&R([]),J(k.length);else e.alertmsg("error",[p.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Me=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),be=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l)),Ne=async t=>{let l="",a={};await K((e=>(l=e,e)));let s=[...le],n=[];for(let e of s){let t=l[e]?.map((e=>e.BDMFixonBusinessFlowIDPK)).toString();t&&n.push(t)}await te((e=>(a=e,e)));let i={BDMFixonBusinessFlowIDPK:n?[...new Set(n)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:""};"saveFav"==t?ke("save",i):(e.searchData(i),U(!1))};async function Te(){let e={};await K((t=>(e=t,t)));let t=[...le],l=[];for(let a of t){let t=e[a]?.map((e=>e.BDMFixonBusinessFlowIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Ae(t,l,a,s,n,i){let o={[s]:{From:t,Type:a,To:l}},r={};te((e=>({...e,...o})));const d={...V};let c=[...le],u=[];for(let e of c){let t=d[e]?.map((e=>e.BDMFixonBusinessFlowIDPK)).toString();t&&u.push(t)}await te((e=>(r=e,e)));let m={BDMFixonBusinessFlowIDPK:u?[...new Set(u)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?n:null};e.searchData(m)}function Pe(){return s().createElement(p.Z,{frmctrlid:"fld269L4TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,s)=>{Ae(e,t,l,Z.name,a)},keyboardback:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:""})},title:xe(Z.name),fieldname:Z.name,save:e=>{alert(!0)}})}const ke=(t,l)=>{(0,A.Z)(t,e.formID,l,re).then((e=>{const t=e.Output.data;ge(t)}))};return s().createElement("div",null,s().createElement(S.Z,{onClose:()=>ue(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},s().createElement(x.Z,{id:"customized-dialog-title",onClose:()=>ue(!1)},"Add Favorite"),s().createElement(v.Z,{dividers:!0,style:{minWidth:"500px"}},s().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},s().createElement(h.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>de(e.target.value),fullWidth:!0})),s().createElement(T.Z,{style:{color:"#337ab7"},control:s().createElement(M.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(N.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>pe(e.target.checked)}),label:"Quick"}),s().createElement(T.Z,{style:{color:"#337ab7"},control:s().createElement(M.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(N.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:De,onChange:e=>Be(e.target.checked)}),label:"Dashboard"})),s().createElement(C.Z,null,s().createElement(o.Z,{onClick:()=>{Ne("saveFav"),ue(!1)},color:"primary"},"Save"))),H?"Created Ttm"===Z.name||Z.name.includes("Date")?s().createElement(Pe,null):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},s().createElement(c.Z,null,s().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},s().createElement("p",{className:"columnHeaderp"},ve(Z.idpk)," (",k.length,"/",W,")")),s().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},s().createElement(r.ZP,{title:xe("Close"),placement:"top"},s().createElement("div",{className:"FilterItemClose",align:"right"},s().createElement(n.Z,{id:"fld269L4TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),V[Z.name]&&s().createElement("div",{className:"FiltercloseAlign",align:"right"},s().createElement(o.Z,{frmctrlid:"fld269L4TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,P.log("clear fewItems",e),t))),e[Z.name]=[],he(Z.type,Z.fieldidpk,"",1)})()}},s().createElement("span",{className:"ColumnApplyTitle"},xe("Clear All")))))))),s().createElement("div",{className:"FilterParentDiv"},s().createElement("div",{"data-list-scroll-container":"true"},s().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},s().createElement("div",{className:"FilterMaximize"},G?s().createElement(r.ZP,{title:"Maximize",placement:"right"},s().createElement("span",null,s().createElement(g.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):s().createElement(r.ZP,{title:"Minimize",placement:"right"},s().createElement("span",null,s().createElement(g.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),s().createElement("ul",null,V[Z.name]&&V[Z.name].map(((e,t)=>s().createElement("div",{key:t,tabIndex:"-1",className:G?"filterSelectedItems":"filterSelectedItemsMaximize"},s().createElement("div",{className:"filterSelectedItemNames"},s().createElement("span",null,e[Z.name])),s().createElement("div",{className:"filterSelectedItemClose"},s().createElement("div",{id:"fildacls_3_L2_"+e[Z.name],onClick:()=>(async(e,t)=>{$(1);let l=V[Z.name].filter((t=>t!=e)),a={};await K((e=>(a=e,e))),a[Z.name]=l,K(a),R((t=>[e,...t]))})(e)},s().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),s().createElement("div",{className:"displayFlex width100 FilterSearch"},s().createElement("div",{className:"FilterSearchInputDiv"},s().createElement(D.Z,{frmctrlid:"fld269L4TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:xe("Enter ")+" "+ve(Z.idpk),onChange:e=>{z(e),he(Z.type,Z.fieldidpk,e,1,Te())}})),s().createElement("div",{id:"fld269L4TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ne},s().createElement(r.ZP,{title:"",placement:"top"},s().createElement(o.Z,{className:"ColumnSearchButton"},s().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&s().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},s().createElement(w.Z,{color:"secondary"})),s().createElement("div",{id:"fld269L4TFCScrollYDefault",className:"height65 scrollYDefault"},k.length>0&&k.map(((e,t)=>s().createElement("div",{id:"filda_3_L2_"+e[Z.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await K((e=>(a=e,e)));let s=a[Z.name];t[Z.name]=s?[...l,...s]:l,a={...a,...t},K(a),R((t=>t.filter((t=>t!=e))))})(e)}},s().createElement(d.Z,{className:"DotIcon"}),s().createElement("span",null,e[Z.name])))),k.length+0<W&&k.length>0&&s().createElement("div",{id:"fld269L4TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(q+1),he(Z.type,Z.fieldidpk,"",q+1)}},s().createElement("p",null," more... ")),0===k.length&&s().createElement("div",null,s().createElement("div",{className:"NoDataImage"},s().createElement("img",{src:m.v.NoData,alt:"NoImage"})),s().createElement("div",{className:"NoDataDesc"},s().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnHeaderTitle"},s().createElement(F.Ol$,{className:"columnHeaderIcon"}),s().createElement("p",{className:"columnHeaderp"}," ",xe("Filter")," ",re.length>0&&`(${re})`)),s().createElement("div",{className:"columnHeaderbtn",align:"right"},s().createElement(r.ZP,{title:"Favorite List",placement:"top"},ie?s().createElement(n.Z,{className:"favlisticon",onClick:()=>{oe(!1),ge(""),Ce()}}):s().createElement(E.Z,{className:"favlisticon",onClick:()=>{oe(!0),ke("select"),Ce()}})),Object.keys(V).length>0&&s().createElement(r.ZP,{title:"Save Favorites",placement:"top"},s().createElement(f.Z,{className:"favlisticon",onClick:()=>{ue(!0)}})),s().createElement(r.ZP,{title:"",placement:"top"},s().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{Ce()},id:"fld269L4TFCColumApplyBttn"},s().createElement("span",{className:"ColumnApplyTitle"},xe("Clear")))),s().createElement(r.ZP,{title:"",placement:"top"},s().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld269L4TFCColumnCloseButton"},s().createElement("span",{className:"ColumnCloseTitle"},xe("Close")))))),s().createElement("div",{className:"height65"},s().createElement("div",{id:"fld269L4TFCFilItems",className:"FilterItems"},!Fe&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return s().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{U(!0),z(""),R([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"BDMFixonBusinessFlowIDPK";L({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBDMFixonBusinessFlowID",fieldidpk:t}),he(e.IsForeign?"Filter"+e.FieldName:"FilterBDMFixonBusinessFlowID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?s().createElement(s().Fragment,null,ve(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&s().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?s().createElement(s().Fragment,null,s().createElement("span",null,ve(e.AdminUserGridViewIDPK)),s().createElement(I.Z,{checked:"1"==se,onChange:t=>{ne(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):s().createElement(s().Fragment,null,s().createElement("span",null,ve(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,V[l]?.length>0&&s().createElement("div",{className:"FilterItemDivSelected"},s().createElement("span",{className:"RoundedDivName"},V[l][0][l]),V[l].length>1&&s().createElement("span",{className:"RoundedDivName"},V[l][1][l]),V[l].length>2&&s().createElement("span",{className:"RoundedDivNumber"},"+"+(V[l].length-2))))));var l})),Fe&&Fe.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return s().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{he("FilterBDMFixonBusinessFlowID",l),Ne("")}},s().createElement(s().Fragment,null,e.TableFilterFavName))}))))))}))},63221:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Qe});var a=l(92950),s=l.n(a),n=l(45237),i=l(868),o=l(3212),r=l(29800),d=l(14439),c=l(27848),u=(l(10966),l(23419)),m=(l(21392),l(51673)),p=l(40900),D=(l(77366),l(26537)),B=l(1695),F=(l(97829),l(20506),l(59067)),g=l(63957),y=l(59535),w=(l(60264),l(8981)),I=l(5434),E=l(99940),f=l(37148),S=(l(79117),l(93255),l(95866),l(36939)),x=l(61201),v=l(59009),C=(l(99058),l(80366)),h=l(282),M=l(78513),b=l(64059),N=l(24038),T=l(47516),A=l(86893),P=l(33681),k=l(63163),R=l(35131),Z=l.n(R),L=l(61956),O=l(93657),z=l(53375),V=l(52663),K=l(66083),G=l(29525),_=l(66856),H=l(39803),U=l(17149),j=l(62810),Y=l(30553),q=l(92381),$=l(25108);const W=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[n,o]=(0,a.useState)([]),[r,u]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[D,B]=(0,a.useState)(""),[F,g]=(0,a.useState)({}),[y,I]=(0,a.useState)(!0),[f,S]=(0,a.useState)(!1),{cstate:x,cdispatch:v}=e.ContextApi?e.ContextApi:ze(),[R,Z]=(0,a.useState)(1),[L,W]=(0,a.useState)(0),[J,Q]=(0,a.useState)(!1),[X,ee]=(0,a.useState)({}),[te,le]=(0,a.useState)([]),[ae,se]=(0,a.useState)(!0),[ne,ie]=(0,a.useState)(!1),[oe,re]=(0,a.useState)(""),[de,ce]=(0,a.useState)(!1),[ue,me]=(0,a.useState)(!1),[pe,De]=(0,a.useState)(!1),[Be,Fe]=(0,a.useState)(""),ge=(0,a.useRef)(null),[ye,we]=(0,a.useState)({});let Ie=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,w.Z)();const Se=e=>fe[e]?fe[e]:e,xe=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Ie]];function ve(){g({}),ee({}),e.searchData({}),S(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});we(l),le(t)}),[]),(0,a.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{ve()}})));const Ce=async(t,l,a,s)=>{Q(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let r="",d=[],c={};await u((e=>(r=e.name,e))),await g((e=>(d=e,e))),await ee((e=>(c=e,e)));const B=p.v.Api+"FP268S3/",y={data:{p1:"BDMFixonBusinessFlowDetailsIDPK"==l?null:await Te(),p2:"BDMFixonBusinessFlowDetCode"==r&&a.length>0?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:e.parentId?e.parentId:"0",p7:"BusinessFlowName"!=r&&d.BusinessFlowName?d.BusinessFlowName.map((e=>e.BDMBusinessFlowIDPK)).toString():null,p8:e.Dialogview?"1":null,p9:null,p10:"p10"==r&&a.length>0?a:null,p11:null,p12:null,p13:null,p14:null,p15:"BDMFixonBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p16:"BDMFixonBusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p17:"BDMBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p18:"BriefDetails"==r&&a.length>0?"%"+a+"%":null,p19:"BusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p20:"FlowCode"==r&&a.length>0?"%"+a+"%":null,p21:"FlowDisplayName"==r&&a.length>0?"%"+a+"%":null,p22:"FlowSeqNo"==r&&a.length>0?"%"+a+"%":null,p23:s||1,p24:10,p25:t,p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}},w=await(0,m.Z)(B,y,e.token,"",i.signal);if(!w)return!1;const I=w.Output.status.code,E=w.Output.data;if("200"===I)if(E.length>0)if(1===s){let e=Me(E,r),t=he(e,F[r],l);o(t),W(t.length>0?t[0].TotalCount:F[r].length)}else{let e=[...n,...E],t=Me(e,r);W(t.length<10?t.length:E[0].TotalCount),o(Me(t,r))}else D.length>0&&o([]),W(n.length);else e.alertmsg("error",[w.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},he=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),Me=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function be(e){let t=e+"PK",l=ye[e];if(l){const e=l.flatMap((e=>F[e]?F[e].map((e=>e[t])):[]));return e.toString()}return""}const Ne=async t=>{let l="",a={};await g((e=>(l=e,e)));let s=[...te],n=[];for(let e of s){let t=l[e]?.map((e=>e.BDMFixonBusinessFlowDetailsIDPK)).toString();t&&n.push(t)}await ee((e=>(a=e,e)));let i={BDMFixonBusinessFlowDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",BDMBusinessFlowID:be("BDMBusinessFlowID"),BDMFixonBusinessFlowID:be("BDMFixonBusinessFlowID")};"saveFav"==t?ke("save",i):(e.searchData(i),S(!1))};async function Te(){let e={};await g((t=>(e=t,t)));let t=[...te],l=[];for(let a of t){let t=e[a]?.map((e=>e.BDMFixonBusinessFlowDetailsIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Ae(t,l,a,s,n,i){let o={[s]:{From:t,Type:a,To:l}},r={};ee((e=>({...e,...o})));const d={...F};let c=[...te],u=[];for(let e of c){let t=d[e]?.map((e=>e.BDMFixonBusinessFlowDetailsIDPK)).toString();t&&u.push(t)}await ee((e=>(r=e,e)));let m={BDMFixonBusinessFlowDetailsIDPK:u?[...new Set(u)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?n:null,BDMBusinessFlowID:F.BusinessFlowName?.map((e=>e.BDMBusinessFlowIDPK)).toString(),BDMFixonBusinessFlowID:F.BDMFixonBusinessFlowName?.map((e=>e.BDMFixonBusinessFlowIDPK)).toString()};e.searchData(m)}function Pe(){return s().createElement(b.Z,{frmctrlid:"fld268L1TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,s)=>{Ae(e,t,l,r.name,a)},keyboardback:()=>{S(!1),u({idpk:"",name:"",type:"",fieldidpk:""})},title:Se(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const ke=(t,l)=>{(0,q.Z)(t,e.formID,l,oe).then((e=>{const t=e.Output.data;Fe(t)}))};return s().createElement("div",null,s().createElement(V.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},s().createElement(K.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),s().createElement(G.Z,{dividers:!0,style:{minWidth:"500px"}},s().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},s().createElement(H.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>re(e.target.value),fullWidth:!0})),s().createElement(Y.Z,{style:{color:"#337ab7"},control:s().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>me(e.target.checked)}),label:"Quick"}),s().createElement(Y.Z,{style:{color:"#337ab7"},control:s().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>De(e.target.checked)}),label:"Dashboard"})),s().createElement(_.Z,null,s().createElement(h.Z,{onClick:()=>{Ne("saveFav"),ce(!1)},color:"primary"},"Save"))),f?"Created Ttm"===r.name||r.name.includes("Date")?s().createElement(Pe,null):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},s().createElement(d.Z,null,s().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},s().createElement("p",{className:"columnHeaderp"},xe(r.idpk)," (",n.length,"/",L,")")),s().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},s().createElement(i.ZP,{title:Se("Close"),placement:"top"},s().createElement("div",{className:"FilterItemClose",align:"right"},s().createElement(C.Z,{id:"fld268L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{S(!1),u({idpk:"",name:"",type:"",fieldidpk:!1}),Z(1)}}))),F[r.name]&&s().createElement("div",{className:"FiltercloseAlign",align:"right"},s().createElement(h.Z,{frmctrlid:"fld268L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await g((t=>(e=t,$.log("clear fewItems",e),t))),e[r.name]=[],Ce(r.type,r.fieldidpk,"",1)})()}},s().createElement("span",{className:"ColumnApplyTitle"},Se("Clear All")))))))),s().createElement("div",{className:"FilterParentDiv"},s().createElement("div",{"data-list-scroll-container":"true"},s().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},s().createElement("div",{className:"FilterMaximize"},y?s().createElement(i.ZP,{title:"Maximize",placement:"right"},s().createElement("span",null,s().createElement(A.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):s().createElement(i.ZP,{title:"Minimize",placement:"right"},s().createElement("span",null,s().createElement(A.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),s().createElement("ul",null,F[r.name]&&F[r.name].map(((e,t)=>s().createElement("div",{key:t,tabIndex:"-1",className:y?"filterSelectedItems":"filterSelectedItemsMaximize"},s().createElement("div",{className:"filterSelectedItemNames"},s().createElement("span",null,e[r.name])),s().createElement("div",{className:"filterSelectedItemClose"},s().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{Z(1);let l=F[r.name].filter((t=>t!=e)),a={};await g((e=>(a=e,e))),a[r.name]=l,g(a),o((t=>[e,...t]))})(e)},s().createElement(C.Z,{className:"filterSelectedItemCloseIcon"})))))))),s().createElement("div",{className:"displayFlex width100 FilterSearch"},s().createElement("div",{className:"FilterSearchInputDiv"},s().createElement(N.Z,{frmctrlid:"fld268L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:D,placeholder:Se("Enter ")+" "+xe(r.idpk),onChange:e=>{B(e),Ce(r.type,r.fieldidpk,e,1,Te())}})),s().createElement("div",{id:"fld268L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ne},s().createElement(i.ZP,{title:"",placement:"top"},s().createElement(h.Z,{className:"ColumnSearchButton"},s().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&s().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},s().createElement(P.Z,{color:"secondary"})),s().createElement("div",{id:"fld268L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>s().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await g((e=>(a=e,e)));let s=a[r.name];t[r.name]=s?[...l,...s]:l,a={...a,...t},g(a),o((t=>t.filter((t=>t!=e))))})(e)}},s().createElement(M.Z,{className:"DotIcon"}),s().createElement("span",null,e[r.name])))),n.length+0<L&&n.length>0&&s().createElement("div",{id:"fld268L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(R+1),Ce(r.type,r.fieldidpk,"",R+1)}},s().createElement("p",null," more... ")),0===n.length&&s().createElement("div",null,s().createElement("div",{className:"NoDataImage"},s().createElement("img",{src:p.v.NoData,alt:"NoImage"})),s().createElement("div",{className:"NoDataDesc"},s().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnHeaderTitle"},s().createElement(T.Ol$,{className:"columnHeaderIcon"}),s().createElement("p",{className:"columnHeaderp"}," ",Se("Filter")," ",oe.length>0&&`(${oe})`)),s().createElement("div",{className:"columnHeaderbtn",align:"right"},s().createElement(i.ZP,{title:"Favorite List",placement:"top"},ne?s().createElement(C.Z,{className:"favlisticon",onClick:()=>{ie(!1),Fe(""),ve()}}):s().createElement(O.Z,{className:"favlisticon",onClick:()=>{ie(!0),ke("select"),ve()}})),Object.keys(F).length>0&&s().createElement(i.ZP,{title:"Save Favorites",placement:"top"},s().createElement(z.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),s().createElement(i.ZP,{title:"",placement:"top"},s().createElement(h.Z,{className:"ColumnApplyButton",onClick:()=>{ve()},id:"fld268L1TFCColumApplyBttn"},s().createElement("span",{className:"ColumnApplyTitle"},Se("Clear")))),s().createElement(i.ZP,{title:"",placement:"top"},s().createElement(h.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld268L1TFCColumnCloseButton"},s().createElement("span",{className:"ColumnCloseTitle"},Se("Close")))))),s().createElement("div",{className:"height65"},s().createElement("div",{id:"fld268L1TFCFilItems",className:"FilterItems"},!Be&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return s().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{S(!0),B(""),o([]),W(0);let t=e.IsForeign?e.FieldName+"PK":"BDMFixonBusinessFlowDetailsIDPK";u({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBDMFixonBusinessFlowDetailsID",fieldidpk:t}),Ce(e.IsForeign?"Filter"+e.FieldName:"FilterBDMFixonBusinessFlowDetailsID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?s().createElement(s().Fragment,null,xe(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&s().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?s().createElement(s().Fragment,null,s().createElement("span",null,xe(e.AdminUserGridViewIDPK)),s().createElement(k.Z,{checked:"1"==ae,onChange:t=>{se(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):s().createElement(s().Fragment,null,s().createElement("span",null,xe(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,F[l]?.length>0&&s().createElement("div",{className:"FilterItemDivSelected"},s().createElement("span",{className:"RoundedDivName"},F[l][0][l]),F[l].length>1&&s().createElement("span",{className:"RoundedDivName"},F[l][1][l]),F[l].length>2&&s().createElement("span",{className:"RoundedDivNumber"},"+"+(F[l].length-2))))));var l})),Be&&Be.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return s().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ce("FilterBDMFixonBusinessFlowDetailsID",l),Ne("")}},s().createElement(s().Fragment,null,e.TableFilterFavName))}))))))}));var J=l(54180),Q=l(43031),X=l(85639),ee=l(110),te=l(5109),le=l(88995),ae=l(50743),se=l(61657),ne=l(51209),ie=l(53854),oe=l(51649),re=l(37106),de=l(83817),ce=l(39327),ue=l(93521),me=l(71168),pe=l.n(me),De=l(65107),Be=l(94986),Fe=l(15999);l(11557),window.clickFilter="";const ge=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),r=(0,a.useRef)(null),[d]=((0,a.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[c]=(0,a.useState)("268"),[u,D]=(0,a.useState)(!1),[B,F]=(0,a.useState)(!1),[g,y]=(0,a.useState)(0),[E,f]=(0,a.useState)(0),[h,M]=(0,a.useState)(0),[b,P]=(0,a.useState)(0),[k,R]=(0,a.useState)({current:1,pageSize:100}),[Z,L]=(0,a.useState)(""),[O,z]=(0,a.useState)([]),[V,K]=(0,a.useState)({val:"",column:""}),[G,_]=(0,a.useState)([]),[H,U]=(0,a.useState)(!1),[j,Y]=(0,a.useState)(""),[q,$]=(0,a.useState)(""),[me,ge]=(0,a.useState)(!1),[ye,we]=(0,a.useState)([]),[Ie,Ee]=(0,a.useState)([]),[fe,Se]=(0,a.useState)([]),[xe,ve]=(0,a.useState)({children:[{name:"BDMFixonBusinessFlowDetail",children:[]}]}),[Ce,he]=(0,a.useState)(!1),Me=(0,a.useContext)(e.context?e.context:Oe),{cstate:be,cdispatch:Ne}=e.ContextApi?e.ContextApi:ze();let Te={BDMFixonBusinessFlowDetailsIDPK:"",BDMFixonBusinessFlowDetCode:"",IsDefault:"",IsDraft:"",Remarks:"",BDMFixonBusinessFlowID:"",BDMBusinessFlowID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",BDMBusinessFlowCode:"",BriefDetails:"",BusinessFlowName:"",FlowCode:"",FlowDisplayName:"",FlowSeqNo:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,Pe]=(0,a.useState)(Te),[ke,Re]=(0,a.useState)(Te),[Ze,Le]=(0,a.useState)(!1),[Ve,Ke]=(0,a.useState)(!0),[Ge,_e]=(0,a.useState)(!1),[He,Ue]=(0,a.useState)(!0),[je,Ye]=(0,a.useState)({BusinessFlowName:"",BDMFixonBusinessFlowDetCode:"",BDMFixonBusinessFlowName:""}),[qe,$e]=(0,a.useState)(!1),[We,Je]=(0,a.useState)([]),[Qe,Xe]=(0,a.useState)(0),[et,tt]=(0,a.useState)(0),[lt,at]=(0,a.useState)({current:1,pageSize:10}),[st,nt]=(0,a.useState)([]),[it,ot]=(0,a.useState)([]),[rt,dt]=(0,a.useState)(!1),[ct,ut]=(0,a.useState)(!1),[mt,pt]=(0,a.useState)(!1),[Dt,Bt]=(0,a.useState)(""),[Ft,gt]=pe()("268"),[yt,wt]=(0,a.useState)({}),It=[{columns:st,data:Z}];let Et=(0,w.Z)();const ft=e=>Et[e]?Et[e]:e,St=e=>be.language?.[e]?be.language[e]:e;(0,a.useEffect)((()=>{Nt(Ft)}),[Ft]),(0,a.useEffect)((()=>{be.token.length>0&&(e.parentId?Mt(k,Te,"BDMFixonBusinessFlowDetailsID"):_([]))}),[e.parentId]),(0,a.useEffect)((()=>{!Ce&&e.parentId?Mt(k,j,"BDMFixonBusinessFlowDetailsID"):Ce&&Re(j)}),[j]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{xt(e)},tableRefresh:()=>{Mt(k,Te,"BDMFixonBusinessFlowDetailsID")},DialogTableProps:e=>{F(e)},HideEntryFields:e=>{pt(!0===e)}})));const xt=e=>{""==e?Mt(k,Te,Ze?"DraftBDMFixonBusinessFlowDetailsID":"BDMFixonBusinessFlowDetailsID",Ze&&"DraftPage"):bt(e,{current:1,pageSize:100}),$(e)};function vt(t){Me.loading(!0);let l=p.v.Api+"FP268S7/",a={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(l,a,be.token[0]).then((e=>{if(200==e.Output.status.code){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):l=0,10==t.pageSize?Xe(Math.ceil(l)):20==t.pageSize?Xe(Math.ceil(l/2)):50==t.pageSize?Xe(Math.ceil(l/5)):100==t.pageSize&&Xe(Math.ceil(l/10)),Je(e.Output.data),Me.loading(!1)}}))}function Ct(e,t){Ne({type:"editData",payload:[t]}),Ne({type:"IsDraft",payload:Ze}),Ne({type:"ShowDetail",payload:!0}),Me.Expanded(!0),Ge&&ge(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(F(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:k.current,pageSize:k.pageSize})}),[e.searchsafaritext]);const ht=()=>{Me.EditClose(!0),H?(document.getElementById("BDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BDMFixonBusinessFlowDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",U(!1),He?(B||(document.getElementById("BDMFixonBusinessFlowDetailcoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowDetailcoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("BDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BDMFixonBusinessFlowDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",U(!0),document.getElementById("BDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!H},Mt=(t,l,a,s,n,i)=>{Me.loading(!0),"DraftPage"!==s&&Le(be.IsDraft);let o=p.v.Api+"FP268S3/",r={data:{p1:n||(l&&l.BDMFixonBusinessFlowDetailsIDPK?l.BDMFixonBusinessFlowDetailsIDPK:null),p2:l&&l.BDMFixonBusinessFlowDetCode?l.BDMFixonBusinessFlowDetCode:null,p3:null,p4:"DraftBDMFixonBusinessFlowDetailsID"==a?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:l&&l.BDMBusinessFlowID?l.BDMBusinessFlowID:null,p8:l&&l.IsActive,p9:null,p10:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p11:l&&l.CreatedTtm?l.CreatedTtm:null,p12:l&&l.CreatedTtmType?l.CreatedTtmType:null,p13:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p14:null,p15:l&&l.BDMFixonBusinessFlowCode?l.BDMFixonBusinessFlowCode:null,p16:l&&l.BDMFixonBusinessFlowName?l.BDMFixonBusinessFlowName:null,p17:l&&l.BDMBusinessFlowCode?l.BDMBusinessFlowCode:null,p18:l&&l.BriefDetails?l.BriefDetails:null,p19:l&&l.BusinessFlowName?l.BusinessFlowName:null,p20:l&&l.FlowCode?l.FlowCode:null,p21:l&&l.FlowDisplayName?l.FlowDisplayName:null,p22:l&&l.FlowSeqNo?l.FlowSeqNo:null,p23:n?1:t.current,p24:t.pageSize,p25:a,p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}};(0,m.Z)(o,r,be.token[0]).then((o=>{if(n)(0,de.a)(o,Ne,s,i,Me);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,M(o.Output.data[0].TotalCount),P(o.Output.data[0].DraftCnt),Ne({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==s&&P(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?f(Math.ceil(e)):20==t.pageSize?f(Math.ceil(e/2)):50==t.pageSize?f(Math.ceil(e/5)):100==t.pageSize&&f(Math.ceil(e/10)),_(o.Output.data),Me.loading(!1)}e.Dialogview||(document.getElementById("divBDMFixonBusinessFlowDetail-Entry").style.height="auto",document.getElementById("divBDMFixonBusinessFlowDetail-Entry").style.display="block")}else Me.loading(!1),"DraftBDMFixonBusinessFlowDetailsID"===a?(Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Le(!1)):(_([]),R({current:1,pageSize:10}),f(0),M(0),Ne({type:"count",payload:"0"}),Object.values(l).some((e=>e))&&Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Me.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Me.loading(!1)}))};function bt(t,l){Me.loading(!0);const a=p.v.Api+"FP268S4/",s={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:l.current,p5:l.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,s,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,M(e.Output.data[0].TotalCount),Ne({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==l.pageSize?f(Math.ceil(t)):20==l.pageSize?f(Math.ceil(t/2)):50==l.pageSize?f(Math.ceil(t/5)):100==l.pageSize&&f(Math.ceil(t/10)),_(e.Output.data),Me.loading(!1)}else _([]),f(0),M(0),Ne({type:"count",payload:"0"}),Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me.loading(!1);else Me.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Me.loading(!1)}))}function Nt(e){let t=[],l=[],a=[],s=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");s.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Ne({type:"language",payload:Object.assign({},...s)}),Ye(l.reduce(((e,t)=>(e[t]="",e)),{})),we(e),Ee(t),Se(l),nt(a),ot(l)}const Tt=()=>Ce?null:s().createElement("div",null,qe?s().createElement(Be.Z,{data:We,expanded:e=>!B&&Me.Expanded(e),edit:(e,t,l)=>{B?Me.select(e):(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:t}),Ne({type:"ShowDetail",payload:l}))}}):s().createElement(De.Z,{ref:r,frmctrlid:"tblcs_268_L1_",id:"BDMFixonBusinessFlowDetailTable",headerdata:Ie,tablesearchparams:je,searchvalue:e=>{Ye(e),Y(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};wt(t),R({current:1,pageSize:10}),Mt({current:1,pageSize:10},t,Ze?"DraftBDMFixonBusinessFlowDetailsID":"BDMFixonBusinessFlowDetailsID",Ze&&"DraftPage")},bodydata:G,ondrag:Ct,bodyitem:fe,visibleitem:Ie,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:c,showMore:!1,accessrights:be.AccessRights,expanded:e=>!B&&Me.Expanded(e),edit:(e,t,l)=>{B?Me.select(e):(Object.keys(e).map(((a,s)=>{a.includes("IDPK")&&Mt(k,null,t?"DraftBDMFixonBusinessFlowDetailsID":"BDMFixonBusinessFlowDetailsID",t&&"DraftPage",e[a],l)})),Me.hideAddBtn(!0))},viewtoggle:Me.viewtoggle,isexpanded:!B||Ge,tf:St,action:B?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{_e(be.ExpandTableValue)}),[be.ExpandTableValue]),s().createElement("div",null,!mt&&!e.tableview&&s().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},s().createElement("div",{id:"fld268L1ECSearchBar",className:"searchbar1"},s().createElement(N.Z,{frmctrlid:"fld268L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:ft("Search"),value:q,onChange:e=>{$(e),Me.searchItem(e)},style:{width:"300px"}}),s().createElement("div",{className:"search_icon"},q?s().createElement("div",{id:"fld268L1TCCloseIconCommonSearch",onClick:()=>{$(""),Me.searchItem("")}},s().createElement(C.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld268L1TCInputSearchIcon"},s().createElement(le.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("BDMFixonBusinessFlowDetailgridsearch").focus()}})))),s().createElement("div",null,be.AccessRights.IsAdd?s().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld268L1TCAddBtnIsAdd",onClick:()=>{Me.hideAddBtn(!0),Ne({type:"editData",payload:[]}),Ne({type:"ShowDetail",payload:!1}),Ne({type:"Add",payload:!0})}}):"")),s().createElement(S.Z,{expanded:Ve,onChange:()=>()=>{Ke(Ge)}},e.Dialogview&&s().createElement(ae.Z,null,s().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},s().createElement("div",{className:"displayFlex EntryHeader"},s().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[268]"},`${St("268")} (${h})`)),!1===e.cardview?null:s().createElement("div",{className:"displayFlex EntryHeaderBtn"},s().createElement("div",{id:"fld268L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},s().createElement(N.Z,{frmctrlid:"fld268L1TCInputSearch",className:"search_input",type:"text",placeholder:ft("Search"),value:q,onChange:e=>{xt(e)}}),s().createElement("div",{className:"search_icon"},q?s().createElement("div",{id:"fld268L1TCInputCloseIcon",onClick:()=>{xt("")}},s().createElement(C.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld268L1TCInputSearchIcon"},s().createElement(le.Z,{className:"InputSearchIcon"}))))))),s().createElement(x.Z,{className:"AccDetails"},s().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&s().createElement("div",{id:"BDMFixonBusinessFlowDetail-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:s().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&s().createElement("div",{frmctrlid:"fld268L1TCFilterDataIsDraft",id:"BDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},s().createElement(i.ZP,{title:ft("Filter Data"),placement:"top"},s().createElement("span",null,s().createElement(T.Ol$,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},ft("Filter Data"))),!B&&!Ze&&!Ce&&s().createElement(J.Z,{formctrlidprint:"fld268L1TCExportPrint",formctrlidexport:"fld268L1TCExportTable",formctrlidrefresh:"fld268L1TCExportRefresh",title:St("268"),data:O,exportData:It,Items:it,columnIndex:st,TableVisibleItem:Ie,userGridViewFormID:c,TableTotalCount:h,triggerApi:t=>{((t,a,s,n,i)=>{if(0===h)return Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Me.loading(!0);let o=p.v.Api+"FP268S3/",r={data:{p1:t&&t.BDMFixonBusinessFlowDetailsIDPK?t.BDMFixonBusinessFlowDetailsIDPK:null,p2:t&&t.BDMFixonBusinessFlowDetCode?t.BDMFixonBusinessFlowDetCode:null,p3:null,p4:Ze?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:t&&t.BDMBusinessFlowID?t.BDMBusinessFlowID:null,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.BDMFixonBusinessFlowCode?t.BDMFixonBusinessFlowCode:null,p16:t&&t.BDMFixonBusinessFlowName?t.BDMFixonBusinessFlowName:null,p17:t&&t.BDMBusinessFlowCode?t.BDMBusinessFlowCode:null,p18:t&&t.BriefDetails?t.BriefDetails:null,p19:t&&t.BusinessFlowName?t.BusinessFlowName:null,p20:t&&t.FlowCode?t.FlowCode:null,p21:t&&t.FlowDisplayName?t.FlowDisplayName:null,p22:t&&t.FlowSeqNo?t.FlowSeqNo:null,p23:k.current,p24:h,p25:Ze?"DraftBDMFixonBusinessFlowDetailsID":"BDMFixonBusinessFlowDetailsID",p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}};Me.loading(!1),Me.alert({open:!0,color:"success",message:[`${St(268)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(o,r,be.token[0],i).then((e=>{(0,ue.PDF_Excel_Generate)(e,Me,it,L,l,i)}))})(j,V.column,0,0,t)},Refresh:()=>{$(""),R({current:1,pageSize:100}),r.current.clearItem(),be.IsDraft?Mt({current:1,pageSize:100},Te,"DraftBDMFixonBusinessFlowDetailsID"):Mt({current:1,pageSize:100},Te,"BDMFixonBusinessFlowDetailsID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:l,iconinfo:"displayNone"}),!Ze&&!Ce&&!B&&s().createElement("div",{className:"buttoncard",onClick:()=>ut(!ct)},s().createElement("span",null,ct?s().createElement(i.ZP,{disableFocusListener:!0,title:ft("Less"),placement:"top"},s().createElement("span",{id:"fld268L1TCLess"},s().createElement(ie.ldB,{className:"tableFilterColumnIcon"}))):s().createElement(i.ZP,{disableFocusListener:!0,title:ft("More"),placement:"top"},s().createElement("span",{id:"fld268L1TCMore"},s().createElement(ie.ilJ,{className:"tableFilterColumnIcon"}))))),ct?s().createElement("div",{className:"EntryHeaderMore"},s().createElement("div",{style:{display:"flex"}},Ce||!Ge?null:B||!be.AccessRights.IsAdd||Ze?"":s().createElement("div",null,s().createElement("div",{frmctrlid:"fld268L1TCFilterDataIsAdd",id:"BDMFixonBusinessFlowDetailcoldiv",className:"buttoncard",onClick:()=>{Me.EditClose(!0),me?(document.getElementById("BDMFixonBusinessFlowDetailFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowDetailTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetailFilterDiv").style.display="none",document.getElementById("BDMFixonBusinessFlowDetailcoldiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("BDMFixonBusinessFlowDetailFilterDiv").style.width="25%",document.getElementById("BDMFixonBusinessFlowDetailTabDiv").style.width="75%",document.getElementById("BDMFixonBusinessFlowDetailFilterDiv").style.display="block",document.getElementById("BDMFixonBusinessFlowDetailfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowDetailfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BDMFixonBusinessFlowDetailcoldiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),U(!1)}},s().createElement(i.ZP,{title:ft("Manage Columns"),placement:"top"},s().createElement("div",null,s().createElement(ce.gYA,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},ft("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!B&&Ge&&!Ce&&!Ze&&s().createElement("div",null,s().createElement("div",{id:"BDMFixonBusinessFlowDetailcoldiv",className:"buttoncard",onClick:()=>{qe?$e(!1):($e(!0),vt({current:1,pageSize:100}))}},s().createElement(i.ZP,{title:ft("TableScrollData"),placement:"top"},s().createElement("div",{id:"fld268L1TCTableScrollData"},s().createElement(Fe.Z,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},ft("Table Scroll Data")))),!Ce&&Ze?s().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Me.hideAddBtn(!1),Me.ExpandEntry(),Mt({current:1,pageSize:100},Te,"BDMFixonBusinessFlowDetailsID"),Le(!1),$(""),Ne({type:"IsDraft",payload:!1}),R({current:1,pageSize:10})}},s().createElement(i.ZP,{title:ft("List"),placement:"top"},s().createElement("div",{id:"fld268L1TCList"},s().createElement(oe.u1R,{className:"backButtonList"}))),s().createElement("p",{className:"DraftP"},ft("Drafts")," ",h)):!B&&!Ce&&be.AccessRights.IsAdd&&s().createElement("div",null,s().createElement(v.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},s().createElement("div",{id:"fld268L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(R({current:1,pageSize:100}),y(0),Me.clear(),$(""),Ne({type:"Add",payload:!1}),Mt({current:1,pageSize:10},Te,"DraftBDMFixonBusinessFlowDetailsID"),Le(!0),Ne({type:"IsDraft",payload:!0}),ge(!1),Ue(!0),document.getElementById("BDMFixonBusinessFlowDetailFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowDetailTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetailFilterDiv").style.display="none",R({current:1,pageSize:100}),he(!1)):Me.alert({open:!0,color:"warning",message:[ft("There is no Record Found")]})}},s().createElement(i.ZP,{title:ft("Drafts"),placement:"top"},s().createElement("div",null,s().createElement(re.rNm,{className:"DraftIcon"}))),s().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},ft("Drafts"))))))):""),!Ze&&!B&&s().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ce||Ze?null:s().createElement("div",null,s().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},s().createElement("div",{className:"b2",id:"button-11"},s().createElement("div",{className:He?"buttonList":"buttonGrid",id:"fld268L1TCListView",onClick:()=>{Ue(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(ie.umT,null)),s().createElement("span",null,ft("List"))),s().createElement("div",{className:He||rt?"buttonGrid":"buttonList",id:"fld268L1TCCardView",onClick:()=>{Ue(!1),dt(!1)}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(A.aCJ,null)),s().createElement("span",null,ft("Card"))),s().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld268L1TCTileView",onClick:()=>{dt(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(I.f_H,null)),s().createElement("span",null,ft("Tile"))))))),Ce?null:qe?e.IsCollapse?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(se.Z,{style:{color:"#777"},id:"fld268L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:g,onPageChange:(e,t)=>{y(t),vt({current:t+1,pageSize:lt.pageSize}),at({current:t+1,pageSize:lt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(Q.Z,{count:Qe,color:"primary",page:lt.current,onChange:(e,t)=>{at({current:t,pageSize:lt.pageSize}),Xe(t),vt({current:t,pageSize:lt.pageSize})}}),s().createElement("div",null,s().createElement(ee.Z,{className:"BootstrapInputStyle",value:lt.pageSize,frmctrlid:"fld268L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},s().createElement(X.Z,{value:10},"10"),s().createElement(X.Z,{value:20},"20"),s().createElement(X.Z,{value:50},"50"),s().createElement(X.Z,{value:100},"100"))),Ge&&s().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",et,")")):e.IsCollapse?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(se.Z,{style:{color:"#777"},id:"fld268L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:g,onPageChange:(e,t)=>{y(t),Mt({current:t+1,pageSize:k.pageSize},Te,Ze?"DraftBDMFixonBusinessFlowDetailsID":"BDMFixonBusinessFlowDetailsID",Ze&&"DraftPage"),R({current:t+1,pageSize:k.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(Q.Z,{count:E,siblingCount:0,color:"primary",page:k.current,onChange:(e,t)=>{if(R({current:t,pageSize:k.pageSize}),Ze)Mt({current:t,pageSize:k.pageSize},Ae,"DraftBDMFixonBusinessFlowDetailsID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";q.length>0?bt(q,{current:t,pageSize:k.pageSize}):Mt({current:t,pageSize:k.pageSize},Ae,"BDMFixonBusinessFlowDetailsID")}}}),s().createElement("div",null,s().createElement(ee.Z,{className:"BootstrapInputStyle",value:k.pageSize,id:"fld268L1TCSelectPaging",onChange:e=>{R({current:1,pageSize:e.target.value}),Ze?Mt({current:1,pageSize:e.target.value},Ae,"DraftBDMFixonBusinessFlowDetailsID","DraftPage"):q.length>0?bt(q,{current:1,pageSize:e.target.value}):Mt({current:1,pageSize:e.target.value},Ae,"BDMFixonBusinessFlowDetailsID")}},s().createElement(X.Z,{value:10},"10"),s().createElement(X.Z,{value:20},"20"),s().createElement(X.Z,{value:50},"50"),s().createElement(X.Z,{value:100},"100"))),Ge&&s().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",h,") "))),s().createElement("div",{id:"BDMFixonBusinessFlowDetail-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},s().createElement("div",{id:"BDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},H&&s().createElement(W,{parentId:e.parentId,searchData:e=>{Y(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:c,data:()=>{},visibleData:()=>{},token:be.token[0],CloseBtnClk:()=>ht(),userGrid:Ft,msg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),me&&s().createElement(te.Z,{Refresh:e=>{Mt({current:1,pageSize:100},Te,"BDMFixonBusinessFlowDetailsID")},frmctrlid:"fld268L1TCTableColumnOrder",loading:e=>Me.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),select:me,userID:d,userGridViewFormID:c,saved:(e,t)=>{e&&Nt(t),gt(t),Ne({type:"showTableview",payload:t})},Token:be.token[0]})),s().createElement("div",{id:"BDMFixonBusinessFlowDetailTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},He?s().createElement(Tt,null):s().createElement(ne.Z,{frmctrlid:"fld268L1TCExpandedCardDual",data:G,id:"BDMFixonBusinessFlowDetail",title:"BDMFixonBusinessFlowDetCode",cardTile:!!rt,visibleitem:Ie,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{B?Me.select(e):("edit"==t?(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:Ze}),Ne({type:"ShowDetail",payload:!1}),Me.Expanded(!0)):(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:Ze}),Ne({type:"ShowDetail",payload:!0}),Me.Expanded(!0),Me.viewtoggle()),H?U(!0):me?ge(!0):(ge(!1),ge(!1))),Me.hideAddBtn(!0)}})))))))}));l(44528);var ye=l(99090),we=l(61924),Ie=l.n(we),Ee=(l(40826),l(55490)),fe=l(92371);const Se={EnterKeyValues:{BDMFixonBusinessFlowDetail:["BusinessFlowName","BDMFixonBusinessFlowDetCode","BDMFixonBusinessFlowName"]},Label:{BDMFixonBusinessFlowDetail:{BDMBusinessFlowID:["FlowCode","FlowSeqNo","BusinessFlowName"],BDMFixonBusinessFlowDetCode:["BDMFixonBusinessFlowDetCode"],BDMFixonBusinessFlowID:["BDMFixonBusinessFlowDetCode"]}},LabelHeader:{BDMFixonBusinessFlowDetail:{BDMBusinessFlowID:["Flow Code","Flow Seq No","Business Flow Name"],BDMFixonBusinessFlowDetCode:["BDM Fixon Business Flow Det Code"],BDMFixonBusinessFlowID:["BDMFixonBusinessFlowDetCode"]}},Property:{BDMFixonBusinessFlowDetail:{BDMBusinessFlowID:{id:"fld268_5182",clearID:"BDMFixonBusinessFlowDetailBusinessFlowNameClear",type:"select",labelID:"BDMBusinessFlowIDPK",labelname:"Flow Name",fielddisplayname:"BusinessFlowName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},BDMFixonBusinessFlowDetCode:{id:"fld268_5180",labelID:"BDMFixonBusinessFlowDetCode",maxLength:"50",labelname:"BDM Fixon Business Flow Det Code",frmctrlid:"fld268_5180",frmctrlidname:"BDMFixonBusinessFlowDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BDMFixonBusinessFlowID:{id:"fld268_5181",clearID:"BDMFixonBusinessFlowDetailBDMFixonBusinessFlowNameClear",type:"select",labelID:"BDMFixonBusinessFlowIDPK",labelname:"BDMFixonBusinessFlowName",fielddisplayname:"BDMFixonBusinessFlowName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{BDMFixonBusinessFlowDetail:{BDMBusinessFlowID:["BusinessFlowName","FlowCode","BriefDetails","TableKey","FlowSeqNo"],BDMFixonBusinessFlowID:["BDMFixonBusinessFlowCode","BDMFixonBusinessFlowName","IsBMS","IsPortal"]}}};var xe=l(6562),ve=l(45155),Ce=l(79352),he=(l(49174),l(38773),l(19089),l(16233)),Me=l.n(he);l(82729),l(75355),l(11107);const be={BDMFixonBusinessFlowDetailsIDPK:"",BDMFixonBusinessFlowDetCode:"",IsDefault:!1,IsDraft:!1,Remarks:"",BDMFixonBusinessFlowID:null,BDMBusinessFlowID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",BDMBusinessFlowCode:"",BriefDetails:"",BusinessFlowName:"",FlowCode:"",FlowDisplayName:"",FlowSeqNo:"",Type:"BDMFixonBusinessFlowDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ne=(0,a.forwardRef)(((e,t)=>{const l=(0,n.useSelector)((e=>e.form)),[i,o]=(0,a.useState)(!1),[r,u]=(0,a.useState)(!0),[F,g]=(0,a.useState)(!1),[y,I]=(0,a.useState)(!1),[E,v]=(0,a.useState)(""),[C,h]=(0,a.useState)(!1),[M,b]=(0,a.useState)([]),[N,T]=(0,a.useState)(null),[A,P]=(0,a.useReducer)(fe.Z,be),[R,O]=(0,a.useState)(!1),[z,V]=(0,a.useState)([]),[K,G]=(0,a.useState)(!1),_=(0,a.useContext)(e.context?e.context:Oe),{cstate:H,cdispatch:U}=e.ContextApi?e.ContextApi:ze(),[j,q]=(0,a.useState)(0),[$,W]=(0,a.useState)(""),J=(0,a.useRef)(null),[Q,X]=Me()("268"),[ee,te]=(0,a.useState)(!0),[le,se]=(0,a.useState)(!1);let ne=(0,w.Z)();const[ie,oe]=(0,a.useState)({}),re=e=>ne[e]?ne[e]:e,de=t=>H.language?.[t]?H.language[t]:e.createEasy?ie?.[t]:t;(0,a.useEffect)((()=>{H.PrimaryId&&q(Number(H.PrimaryId))}),[H.PrimaryId]),(0,a.useEffect)((()=>{ue()}),[]),(0,a.useEffect)((()=>{ue()}),[e.parentId]),(0,a.useEffect)((()=>{H.editData.length>0?(ce(H.editData[0],""),g(!0)):H.Add&&(ue(),g(!0))}),[H.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),oe(Object.assign({},...t))}(Q)}),[Q]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{ue()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(Te(t),g(e)):(ue(),g(e))},AddOpen:e=>{ue(),g(!0)}})));const ce=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultBDMFixonBusinessFlowDetailsID"==l?W(t.BDMFixonBusinessFlowDetailsIDPK):(q(e.primid?Number(e.primid):t.BDMFixonBusinessFlowDetailsIDPK?t.BDMFixonBusinessFlowDetailsIDPK:0),U({type:"PrimaryId",payload:t.BDMFixonBusinessFlowDetailsIDPK})),P({type:"number",name:"BDMBusinessFlowID",number:t.BDMBusinessFlowID?Number(t.BDMBusinessFlowID):0}),P({type:"text",name:"BusinessFlowName",value:t.BusinessFlowName}),P({type:"text",name:"BDMFixonBusinessFlowDetCode",value:t.BDMFixonBusinessFlowDetCode?t.BDMFixonBusinessFlowDetCode:""}),P({type:"number",name:"BDMFixonBusinessFlowID",number:t.BDMFixonBusinessFlowID?Number(t.BDMFixonBusinessFlowID):0}),P({type:"text",name:"BDMFixonBusinessFlowName",value:t.BDMFixonBusinessFlowName}),t.IsDraft?u(!0):u(!("1"!=t.IsActive&&!t.IsActive))},ue=()=>{b([]),q(0),W(""),e.createEasy||_.resetImg(),U({type:"PrimaryId",payload:""}),P({type:"text",name:"BDMBusinessFlowID",value:null}),P({type:"text",name:"BusinessFlowName",value:""}),document.getElementById("BDMFixonBusinessFlowDetailBusinessFlowNameClear")&&document.getElementById("BDMFixonBusinessFlowDetailBusinessFlowNameClear").click(),P({type:"text",name:"BDMFixonBusinessFlowDetCode",value:""}),P({type:"text",name:"BDMFixonBusinessFlowID",value:null}),P({type:"text",name:"BDMFixonBusinessFlowName",value:""}),document.getElementById("BDMFixonBusinessFlowDetailBDMFixonBusinessFlowNameClear")&&document.getElementById("BDMFixonBusinessFlowDetailBDMFixonBusinessFlowNameClear").click(),u(!0),v(""),te(!0)},me=t=>{_.loading(!0),_.ConfirmAlert(null);const l=p.v.Api+"FP268S2/",a={data:[{p1:"SetDefaultBDMFixonBusinessFlowDetailsID"==t?"NORECORDS"!=$&&$?$:0:j,p2:Ae(A.BDMFixonBusinessFlowDetCode),p3:A.IsDefault,p4:!1,p5:"SetDefaultBDMFixonBusinessFlowDetailsID"==t?"SetDefault":null,p6:e.parentId?Number(e.parentId):A.BDMFixonBusinessFlowID?A.BDMFixonBusinessFlowID:0,p7:A.BDMBusinessFlowID?A.BDMBusinessFlowID:0,p8:r,p9:"SetDefaultBDMFixonBusinessFlowDetailsID"==t,p10:localStorage.getItem("userid"),p11:Z()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,m.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,s=new Array,n=new Array;"200"===l.code?(a.map((e=>{e&&(s.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),s.some((e=>"1"==e))?(_.alert({open:!0,color:"warning",message:n}),_.loading(!1)):(t=>{te(!0),_.loading(!0),_.ConfirmAlert(null),U({type:"IsDraft",payload:!1});const l=p.v.Api+"FP268S1/",a={data:[{p1:j,p2:Ae(A.BDMFixonBusinessFlowDetCode),p3:A.IsDefault,p4:!1,p5:null,p6:e.parentId?Number(e.parentId):A.BDMFixonBusinessFlowID?A.BDMFixonBusinessFlowID:0,p7:A.BDMBusinessFlowID?A.BDMBusinessFlowID:0,p8:r,p9:!1,p10:localStorage.getItem("userid"),p11:Z()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,L.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(_.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail"),_.loading(!1),U({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(_.RefreshTable(),_.attachmentSave(t[0].Data.IDPK)),ue(),H.AccessRights.IsApproval&&_.Approval(!0),document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail")&&(document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail").style.display="none",document.getElementById("divBDMFixonBusinessFlowDetail-Entry").style.width="100%"),e.createEasy||(document.getElementById("BDMFixonBusinessFlowDetail-MainTable").style.display="block")):(_.alert({open:!0,color:"warning",message:[l.message]}),_.loading(!1)),g(!0)}))}))})()):(_.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),_.loading(!1))}))}))};function pe(t,l,a,s){if(!(H.count>0))return _.alert({open:!0,color:"warning",message:[re("Please save atleast one record")]}),!1;if(!((()=>{const e={...A};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return _.alert({open:!0,color:"warning",message:[re("Please enter the primary fields")]}),!1;{te(!0),_.loading(!0),_.ConfirmAlert(null),U({type:"IsDraft",payload:!1});const l=p.v.Api+"FP268S1/",a={data:[{p1:"SetDefaultBDMFixonBusinessFlowDetailsID"==s?"NORECORDS"!=$&&$?$:0:j,p2:Ae(A.BDMFixonBusinessFlowDetCode),p3:A.IsDefault,p4:!0,p5:"SetDefaultBDMFixonBusinessFlowDetailsID"==s?"SetDefault":null,p6:e.parentId?Number(e.parentId):A.BDMFixonBusinessFlowID?A.BDMFixonBusinessFlowID:0,p7:A.BDMBusinessFlowID?A.BDMBusinessFlowID:0,p8:!1,p9:"SetDefaultBDMFixonBusinessFlowDetailsID"==s,p10:localStorage.getItem("userid"),p11:Z()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((s=>{(0,L.Z)(l,a,s).then((l=>{const a=l[0].status;200==a.code?(t?_.alert({open:!0,color:"warning",message:[re("Deleted Successfully")]}):_.alert({open:!0,color:"success",message:[re("Saved to Draft")]}),_.loading(!1),_.attachmentSave(l[0].Data.IDPK),ue(),_.RefreshTable(),e.clrImgstate(!0)):(_.alert({open:!0,color:"warning",message:[a.message]}),_.loading(!1))}))}))}}function De(e){return CreateEasy(e,H,U,_,J),!1}function Be(e,l){return AdvanceSearch(e,l,Oe,ze(),we,t),!1}const Fe=(t,l,a,s,n,i)=>{const o=p.v.Api+"FP268S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:e.parentId?Number(e.parentId):0,p7:"0"==A.BDMBusinessFlowID?null:A.BDMBusinessFlowID,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:l?"%"+l+"%":null,p16:l?"%"+l+"%":null,p17:l?"%"+l+"%":null,p18:l?"%"+l+"%":null,p19:l?"%"+l+"%":null,p20:l?"%"+l+"%":null,p21:l?"%"+l+"%":null,p22:l?"%"+l+"%":null,p23:t,p24:10,p25:a,p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}},d=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const c={data:d};return(0,m.Z)(o,"ClearAll"==a?c:r,"SetDefaultBDMFixonBusinessFlowDetailsID"==a&&s?s:H.token[0]).then((e=>{const l=e.Output.status.code,s=e.Output.data;if("200"==l){const e=s.length;if(n)return 1==s.length?s[0]:{};V(1==t?e>0?s:[]:z.concat(s)),"SetDefaultBDMFixonBusinessFlowDetailsID"==a&&(e>0?ce(s[0],"SetDefaultBDMFixonBusinessFlowDetailsID"):W("NORECORDS")),O(!1)}else _.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ge=(t,a,s)=>{const n=p.v.Api+"FP268S3/",i={data:{p1:null,p2:"BDMFixonBusinessFlowDetCode"==s&&a?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:l.BDMFixonBusinessFlowRegistryBDMFixonBusinessFlowID?l.BDMFixonBusinessFlowRegistryBDMFixonBusinessFlowID:"0",p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:t,p24:10,p25:"BDMFixonBusinessFlowDetailsID",p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};O(!0),(0,m.Z)(n,"ClearAll"==s?o:i,H.token[0]).then((e=>{const l=e.Output.status.code,a=e.Output.data;if("200"==l){const e=a.length;1==t?("BDMFixonBusinessFlowDetCode"==s&&te(e>0),V(a)):("BDMFixonBusinessFlowDetCode"==s&&te(!0),V(z.concat(a))),O(!1)}else _.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},we=(0,a.useCallback)((async(e,t,l)=>{"text"==l?P({type:l,name:t,value:e}):"number"==l?P({type:l,name:t,number:Number(e)}):"boolean"==l?P({type:l,name:t,boolean:e}):"date"==l?P({type:"text",name:t,value:e}):"select"==l&&"BDMBusinessFlowID"==t&&(P({type:"text",name:"BDMBusinessFlowID",value:e.BDMBusinessFlowIDPK?e.BDMBusinessFlowIDPK:null}),P({type:"text",name:"BusinessFlowName",value:e.BusinessFlowName?e.BusinessFlowName:null}))}),[A]);function he(e){if("BDMBusinessFlowID"==e){if(!A.BDMBusinessFlowID)return!1;P({type:"text",name:"BDMBusinessFlowID",value:null}),P({type:"text",name:"BusinessFlowName",value:""}),document.getElementById("BDMFixonBusinessFlowDetailBusinessFlowNameClear")&&document.getElementById("BDMFixonBusinessFlowDetailBusinessFlowNameClear").click()}else if("BDMFixonBusinessFlowID"==e&&!A.BDMFixonBusinessFlowID)return!1}function Ne(e){if("BDMBusinessFlowID"==e){if(!A.BDMBusinessFlowID)return!1;P({type:"text",name:"BDMBusinessFlowID",value:null})}else if("BDMFixonBusinessFlowID"==e&&!A.BDMFixonBusinessFlowID)return!1}function Te(e){_.ConfirmAlert(null),I(e.IsDraft),q(Number(e.BDMFixonBusinessFlowDetailsIDPK)?Number(e.BDMFixonBusinessFlowDetailsIDPK):0),P({type:"number",name:"BDMBusinessFlowID",number:e.BDMBusinessFlowID?Number(e.BDMBusinessFlowID):0}),P({type:"text",name:"BusinessFlowName",value:e.BusinessFlowName?e.BusinessFlowName:""}),P({type:"text",name:"BDMFixonBusinessFlowDetCode",value:e.BDMFixonBusinessFlowDetCode?e.BDMFixonBusinessFlowDetCode:""}),P({type:"number",name:"BDMFixonBusinessFlowID",number:e.BDMFixonBusinessFlowID?Number(e.BDMFixonBusinessFlowID):0}),P({type:"text",name:"BDMFixonBusinessFlowName",value:e.BDMFixonBusinessFlowName?e.BDMFixonBusinessFlowName:""})}const Ae=e=>"string"==typeof e?e.trim():e;return s().createElement("div",null,s().createElement(S.Z,{expanded:F,onChange:e=>{}},s().createElement(ae.Z,null,s().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},F&&s().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},s().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[268]"}," ",re("Add "),de("268")),s().createElement("div",{className:"displayFlex EntryHeaderBtn"},s().createElement("div",{className:"GridAlign"},s().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},s().createElement(xe.Z,{row:!0},s().createElement(Y.Z,{labelPlacement:"bottom",id:"fld268L1ECEntryCheckbox",control:s().createElement(k.Z,{checked:"1"==r,onChange:e=>u(e.target.checked)}),label:re(1==r?"Active":"In Active")})))),!e.createEasy&&s().createElement("div",{className:"GridAlign",onClick:()=>{_.AttachExpand(!0)},id:"fld268L1ECIconButton"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement("div",{disableRipple:!0,disabled:!1},s().createElement(ve.Ypb,{className:"Iconstyles"}))),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,re("Attach")))),!j&&s().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ue()},id:"fld268L1ECClearBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(ve.pYJ,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,re("Reset")))),"1"===y&&j&&s().createElement(ye.Z,{frmctrlid:"fld268L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{pe("draftdel")}}),j&&"1"!==y||e.createEasy?null:H.AccessRights.IsAdd&&s().createElement("div",{className:"GridAlign",onClick:()=>{pe()},frmctrlid:"fld268L1ECDraftBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(Ce.IcR,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,re("Draft")))),H.AccessRights.IsAdd||H.AccessRights.IsEdit?s().createElement(B.Z,{frmctrlid:"fld268L1ECSaveBtnIsAdd",name:re(j?"Update":"Save"),disabled:!1,onClick:()=>{A.BDMBusinessFlowID&&0!=A.BDMBusinessFlowID?e.parentId&&0!=e.parentId?_.ConfirmAlert(s().createElement(Ie(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:re("Are you sure?"),onConfirm:()=>me(),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("Cancel"),showCancel:!0},re(j?"Do you want to Update?":"Do you want to Save?"))):_.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("BDMFixonBusinessFlowID")]}):_.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("BDMBusinessFlowID")]})}}):null,!e.createEasy&&s().createElement(f.Z,{frmctrlid:"fld268L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ue(),g(!1),_.EditClose(!0),_.hideAddBtn(!1),U({type:"Add",payload:!1})}}))))),s().createElement(x.Z,null,s().createElement("div",{id:"BDMFixonBusinessFlowDetail-Main",className:"width100 displayFlex componentMainDiv cardDiv"},s().createElement("div",{id:"BDMFixonBusinessFlowDetail-Detail",className:"detailCard detailDiv"},s().createElement("div",{id:"BDMFixonBusinessFlowDetail-MainBody",className:"padding paddingLeft "},s().createElement("div",null,s().createElement(d.Z,{spacing:2},s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(Ee.Z,{json:Se,id:A.BDMBusinessFlowID,"data-testid":A.BDMBusinessFlowID,value:A.BusinessFlowName,SPName:"BDMFixonBusinessFlowDetail",FieldName:"BDMBusinessFlowID",tfLabel:de("BDMBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"BDMBusinessFlowID","select"),onChange:(e,t)=>{Fe(e,t,"BDMBusinessFlowIDPK")},KeyBack:e=>{Ne("BDMBusinessFlowID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{De("262")},Tabledialog:()=>Be("262","BDMBusinessFlowID"),loading:R,clear:e=>{e&&he("BDMBusinessFlowID")}})),s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(Ee.Z,{"data-testid":A.BDMFixonBusinessFlowDetCode,json:Se,SPName:"BDMFixonBusinessFlowDetail",FieldName:"BDMFixonBusinessFlowDetCode",tfLabel:de("BDMFixonBusinessFlowDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{_.ConfirmAlert(s().createElement(Ie(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Te(e),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("No"),showCancel:!0},re("Do you want to update this record?")))})(t),onClick:()=>{ee&&ge(1,"","ClearAll"),te(!0)},frmctrlid:"fld268_5180",frmctrlidName:"BDMFixonBusinessFlowDetCode",fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ee&&ge(e,t,"BDMFixonBusinessFlowDetCode"),we(t,"BDMFixonBusinessFlowDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:A.BDMFixonBusinessFlowDetCode,loading:R,clear:e=>{e&&(P({type:"text",name:"BDMFixonBusinessFlowDetCode",value:""}),te(!0))}})),s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(Ee.Z,{json:Se,id:A.BDMFixonBusinessFlowID,"data-testid":A.BDMFixonBusinessFlowID,value:A.BDMFixonBusinessFlowName,SPName:"BDMFixonBusinessFlowDetail",FieldName:"BDMFixonBusinessFlowID",tfLabel:de("BDMFixonBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"BDMFixonBusinessFlowID","select"),onChange:(e,t)=>{Fe(e,t,"BDMFixonBusinessFlowIDPK")},KeyBack:e=>{Ne("BDMFixonBusinessFlowID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{De("269")},Tabledialog:()=>Be("269","BDMFixonBusinessFlowID"),loading:R,clear:e=>{e&&he("BDMFixonBusinessFlowID")}})))),s().createElement("div",{id:"BDMFixonBusinessFlowDetailSideBar",className:"sidenav"},s().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BDMFixonBusinessFlowDetailSideBar").style.width="0",void h(!1))},"×"),C&&s().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},N))))))))}));var Te=l(65197);const Ae=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[i,d]=((0,n.useSelector)((e=>e.form)),(0,a.useState)([])),[c,u]=(0,a.useState)(!0),[B,F]=(0,a.useState)(e.showDetail),[g,y]=(0,a.useState)(""),[I,E]=s().useState(!1),[v,C]=s().useState(""),[h,M]=s().useState(!1),b=(0,a.useContext)(Oe),{cstate:N,cdispatch:T}=ze(),[A,P]=(0,a.useState)(!1),[k,R]=(0,a.useState)(""),[Z,L]=(0,a.useState)(""),[O,z]=(0,a.useState)("");let V=(0,w.Z)();(0,a.useEffect)((()=>{N.editData.length>0&&(d(N.editData),E(!1),T({type:"PrimaryId",payload:N.editData[0].BDMFixonBusinessFlowDetailsIDPK}))}),[N.editData]),(0,a.useEffect)((()=>{N.showTableview&&z(N.showTableview)}),[N.showTableview]),(0,a.useEffect)((()=>{u(N.ExpandDetailValue)}),[N.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{u(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=p.v.Api+"FP268S3/",s={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:1,p24:10,p25:N.IsDraft?"DraftBDMFixonBusinessFlowDetailsID":"BDMFixonBusinessFlowDetailsID",p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,m.Z)(a,s,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===I&&l.current.clear()}})));const K=e=>V?.[e]?V?.[e]:e,G=e=>N.language?.[e]?N.language[e]:e;function _(e,t){}const H=(e,t)=>(l,a)=>{C(h?Object.assign(...i.filter((e=>e.BDMFixonBusinessFlowDetailsIDPK==t)).map((e=>e))):N.editData),E(!a&&e)};return s().createElement("div",null,s().createElement(S.Z,{expanded:c,onChange:()=>()=>{e.expandTable&&u(!c)}},!I&&s().createElement(ae.Z,null,s().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},c?s().createElement("div",{className:"displayFlex EntryViewHeader"},s().createElement("p",{className:"ListP"},N.IsDraft?K("Draft"):"",G("BDMFixonBusinessFlowDetail"),e.viewonly?" ":"("+N.count+")")):"",c?s().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&N.AccessRights.IsAdd?s().createElement(o.Z,{name:K("Add"),frmctrlid:"fld268L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),T({type:"editData",payload:[]}),T({type:"ShowDetail",payload:!1}),T({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&N.AccessRights.IsEdit?s().createElement(r.Z,{frmctrlid:"fld268L1VCEditBtn",onClick:H("panel0",""),disabled:!1}):N.IsDraft&&N.AccessRights.IsAdd&&s().createElement(r.Z,{frmctrlid:"fld268L1VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&s().createElement(f.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld268L1VCCloseBtn",onClick:()=>{u(!1),b.hideAddBtn(!1),h&&(T({type:"editData",payload:[]}),d([]))}})):"")),s().createElement(x.Z,{style:{display:"block"}},i.map(((t,a)=>s().createElement("div",{key:a},I==="panel"+a?s().createElement(Ne,{ref:l,parentId:e.parentId}):s().createElement(s().Fragment,null,s().createElement(Te.Z,{tableName:"BDMFixonBusinessFlowDetail",tableID:268,parentID:t.BDMFixonBusinessFlowDetailsIDPK,fldid:"fld268L1VCContainer",OpenSlideComponent:_,index:a,refresh:O,val:t,tf:G,t:K,title:"10.0.0.59-3:08:17 PM-18-7[268]"}))))))))}));var Pe=l(67698),ke=l(55995),Re=(l(45965),l(41722)),Ze=l(9175),Le=l.n(Ze);const Oe=(0,a.createContext)(),ze=()=>{const e=(0,a.useContext)(Oe);if(void 0===e)throw new Error("useCont must be used within  BDMFixonBusinessFlowDetailContext Provider");return e},Ve=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),i=(0,a.useRef)(),o=(0,a.useRef)(),r=(0,a.useRef)(),d=(0,a.useRef)(),[c,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(),B=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[F,g]=(0,a.useState)(0),[y,w]=(0,a.useReducer)(Re.D,Re.E),[I,E]=(0,a.useState)(""),[f,S]=(0,a.useState)([]),[x,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{u(!0),document.getElementById("divBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(w({type:"editData",payload:[e.editData]}),w({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,a.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{w(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>l.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>l.current.HideEntryFields(!0)),500)}})));const C=e=>{S([]),document.getElementById("divBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetailEntryTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainEntry").style.display="block",document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.add("displayFlex"),document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail").style.display="none"};(0,a.useEffect)((()=>{B((e=>{(0,D.Z)(1).then((e=>{var t=new Array;t.push(e),w({type:"token",payload:t}),g(t.length),h(e)}))}))}),[]);const h=t=>{w({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return s().createElement("div",{style:{width:"100%"}},s().createElement(Oe.Provider,{value:{cstate:y,cdispatch:w,ContextApi:ze,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==F&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,f),S([])},EditClose:e=>C(),AttachExpand:e=>(r.current.AttachmentData(y.PrimaryId),void(c&&(document.getElementById("overlayPreviewBDMFixonBusinessFlowDetail").style.width="50%",document.getElementById("divBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowDetail-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail").style.display="block",document.getElementById("overlayimgAttBDMFixonBusinessFlowDetail").style.width="25%"))),Expanded:e=>{y.ShowDetail&&o.current.tableClick(e),w({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{y.ShowDetail&&o.current.viewtoggle()},clear:e=>{w({type:"ShowDetail",payload:!1}),w({type:"editData",payload:[]}),y.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{y.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),r.current.clrImgstate(!0)}}},s().createElement("div",{id:"BDMFixonBusinessFlowDetail-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},s().createElement("div",{id:"BDMFixonBusinessFlowDetail-MainEntry",className:"",style:{background:"#fff"}},s().createElement("div",{style:{display:"flex"}},s().createElement("div",{id:"BDMFixonBusinessFlowDetailEntryTable",style:{width:"100%"}},y.ShowDetail?s().createElement("div",null,s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divBDMFixonBusinessFlowDetail-Entry",style:{width:"100%"}},0!==F?s().createElement(Ae,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),s().createElement(ke.Z,{ref:d,menurefID:268,fileId:"LogoImgBDMFixonBusinessFlowDetail",imgloading:t=>{t||y.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:y.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewBDMFixonBusinessFlowDetail",frmctrlid:"PvwIm_268_L1_",tempImg:e=>{y.PrimaryId?r.current.AttachmentData(y.PrimaryId):r.current.tempImg(e),S(e)},clearTempData:y.Add})):s().createElement("div",null,s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divBDMFixonBusinessFlowDetail-Entry",style:{width:"100%"}},!e.tableview&&s().createElement(Ne,{ref:i,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),s().createElement(ke.Z,{ref:d,menurefID:268,fileId:"LogoImgBDMFixonBusinessFlowDetail",imgloading:t=>{t||y.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:y.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewBDMFixonBusinessFlowDetail",frmctrlid:"PvwIm_268_L1_",tempImg:e=>{y.PrimaryId?r.current.AttachmentData(y.PrimaryId):r.current.tempImg(e),S(e)},clearTempData:y.Add})),s().createElement("div",{id:"BDMFixonBusinessFlowDetail-MainTable"},0!==F?s().createElement(ge,{ref:l,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),s().createElement(Pe.Z,{ImgAttachment:e=>C(),menurefID:268,fileId:"AttImgBDMFixonBusinessFlowDetail",imgid:"overlayimgAttBDMFixonBusinessFlowDetail",valueIDPK:y.PrimaryId,PriviewData:(e,t,l,a)=>{d.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewBDMFixonBusinessFlowDetail",ref:r,imgloading:m,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_268_L1_",timglist:e=>{d.current.timglist(e),S(e)},clearTempData:y.Add}))),s().createElement("div",{id:"BDMFixonBusinessFlowDetail-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),x&&s().createElement(Le(),{openDialog:x,closeDialog:e=>v(e),formID:268,PrimID:e.parentId,alert:(t,l,a)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Ke=l(25108);const Ge=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[n,o]=(0,a.useState)([]),[r,u]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[D,B]=(0,a.useState)(""),[F,g]=(0,a.useState)({}),[y,I]=(0,a.useState)(!0),[f,S]=(0,a.useState)(!1),{cstate:x,cdispatch:v}=e.ContextApi?e.ContextApi:$e(),[R,Z]=(0,a.useState)(1),[L,$]=(0,a.useState)(0),[W,J]=(0,a.useState)(!1),[Q,X]=(0,a.useState)({}),[ee,te]=(0,a.useState)([]),[le,ae]=(0,a.useState)(!0),[se,ne]=(0,a.useState)(!1),[ie,oe]=(0,a.useState)(""),[re,de]=(0,a.useState)(!1),[ce,ue]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(!1),[De,Be]=(0,a.useState)(""),Fe=(0,a.useRef)(null),[ge,ye]=(0,a.useState)({});let we=localStorage.getItem("Language");const Ie={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ee=(0,w.Z)();const fe=e=>Ee[e]?Ee[e]:e,Se=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ie[we]];function xe(){g({}),X({}),e.searchData({}),S(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});ye(l),te(t)}),[]),(0,a.useEffect)((()=>()=>{Fe.current&&Fe.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{xe()}})));const ve=async(t,l,a,s)=>{J(!0);try{Fe.current&&Fe.current.abort();const i=new AbortController;Fe.current=i;let r="",d=[],c={};await u((e=>(r=e.name,e))),await g((e=>(d=e,e))),await X((e=>(c=e,e)));const B=p.v.Api+"FP270S3/",y={data:{p1:"BDMFixonBusinessFlowSubDetailsIDPK"==l?null:await Ne(),p2:"BDMFixonBusinessFlowSubDetCode"==r&&a.length>0?"%"+a+"%":null,p3:"IsReject"==r&&a.length>0?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:e.parentId?e.parentId:"0",p8:"BusinessFlowName"!=r&&d.BusinessFlowName?d.BusinessFlowName.map((e=>e.BDMBusinessFlowIDPK)).toString():null,p9:"CCMStageIName"!=r&&d.CCMStageIName?d.CCMStageIName.map((e=>e.CCMStageIDPK)).toString():null,p10:e.Dialogview?"1":null,p11:null,p12:"p12"==r&&a.length>0?a:null,p13:null,p14:null,p15:null,p16:null,p17:"BDMFixonBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p18:"BDMFixonBusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p19:"BDMBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p20:"BriefDetails"==r&&a.length>0?"%"+a+"%":null,p21:"BusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p22:"FlowCode"==r&&a.length>0?"%"+a+"%":null,p23:"FlowDisplayName"==r&&a.length>0?"%"+a+"%":null,p24:"FlowSeqNo"==r&&a.length>0?"%"+a+"%":null,p25:"CCMStageICode"==r&&a.length>0?"%"+a+"%":null,p26:"CCMStageIName"==r&&a.length>0?"%"+a+"%":null,p27:"StageSeqNo"==r&&a.length>0?"%"+a+"%":null,p28:s||1,p29:10,p30:t,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}},w=await(0,m.Z)(B,y,e.token,"",i.signal);if(!w)return!1;const I=w.Output.status.code,E=w.Output.data;if("200"===I)if(E.length>0)if(1===s){let e=he(E,r),t=Ce(e,F[r],l);o(t),$(t.length>0?t[0].TotalCount:F[r].length)}else{let e=[...n,...E],t=he(e,r);$(t.length<10?t.length:E[0].TotalCount),o(he(t,r))}else D.length>0&&o([]),$(n.length);else e.alertmsg("error",[w.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{J(!1)}},Ce=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),he=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function Me(e){let t=e+"PK",l=ge[e];if(l){const e=l.flatMap((e=>F[e]?F[e].map((e=>e[t])):[]));return e.toString()}return""}const be=async t=>{let l="",a={};await g((e=>(l=e,e)));let s=[...ee],n=[];for(let e of s){let t=l[e]?.map((e=>e.BDMFixonBusinessFlowSubDetailsIDPK)).toString();t&&n.push(t)}await X((e=>(a=e,e)));let i={BDMFixonBusinessFlowSubDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",CCMStageID:Me("CCMStageID"),BDMBusinessFlowID:Me("BDMBusinessFlowID"),BDMFixonBusinessFlowID:Me("BDMFixonBusinessFlowID")};"saveFav"==t?Pe("save",i):(e.searchData(i),S(!1))};async function Ne(){let e={};await g((t=>(e=t,t)));let t=[...ee],l=[];for(let a of t){let t=e[a]?.map((e=>e.BDMFixonBusinessFlowSubDetailsIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Te(t,l,a,s,n,i){let o={[s]:{From:t,Type:a,To:l}},r={};X((e=>({...e,...o})));const d={...F};let c=[...ee],u=[];for(let e of c){let t=d[e]?.map((e=>e.BDMFixonBusinessFlowSubDetailsIDPK)).toString();t&&u.push(t)}await X((e=>(r=e,e)));let m={BDMFixonBusinessFlowSubDetailsIDPK:u?[...new Set(u)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?n:null,CCMStageID:F.CCMStageIName?.map((e=>e.CCMStageIDPK)).toString(),BDMBusinessFlowID:F.BusinessFlowName?.map((e=>e.BDMBusinessFlowIDPK)).toString(),BDMFixonBusinessFlowID:F.BDMFixonBusinessFlowName?.map((e=>e.BDMFixonBusinessFlowIDPK)).toString()};e.searchData(m)}function Ae(){return s().createElement(b.Z,{frmctrlid:"fld270L1TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,s)=>{Te(e,t,l,r.name,a)},keyboardback:()=>{S(!1),u({idpk:"",name:"",type:"",fieldidpk:""})},title:fe(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const Pe=(t,l)=>{(0,q.Z)(t,e.formID,l,ie).then((e=>{const t=e.Output.data;Be(t)}))};return s().createElement("div",null,s().createElement(V.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:re},s().createElement(K.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),s().createElement(G.Z,{dividers:!0,style:{minWidth:"500px"}},s().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},s().createElement(H.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>oe(e.target.value),fullWidth:!0})),s().createElement(Y.Z,{style:{color:"#337ab7"},control:s().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>ue(e.target.checked)}),label:"Quick"}),s().createElement(Y.Z,{style:{color:"#337ab7"},control:s().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),s().createElement(_.Z,null,s().createElement(h.Z,{onClick:()=>{be("saveFav"),de(!1)},color:"primary"},"Save"))),f?"Created Ttm"===r.name||r.name.includes("Date")?s().createElement(Ae,null):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},s().createElement(d.Z,null,s().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},s().createElement("p",{className:"columnHeaderp"},Se(r.idpk)," (",n.length,"/",L,")")),s().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},s().createElement(i.ZP,{title:fe("Close"),placement:"top"},s().createElement("div",{className:"FilterItemClose",align:"right"},s().createElement(C.Z,{id:"fld270L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{S(!1),u({idpk:"",name:"",type:"",fieldidpk:!1}),Z(1)}}))),F[r.name]&&s().createElement("div",{className:"FiltercloseAlign",align:"right"},s().createElement(h.Z,{frmctrlid:"fld270L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await g((t=>(e=t,Ke.log("clear fewItems",e),t))),e[r.name]=[],ve(r.type,r.fieldidpk,"",1)})()}},s().createElement("span",{className:"ColumnApplyTitle"},fe("Clear All")))))))),s().createElement("div",{className:"FilterParentDiv"},s().createElement("div",{"data-list-scroll-container":"true"},s().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},s().createElement("div",{className:"FilterMaximize"},y?s().createElement(i.ZP,{title:"Maximize",placement:"right"},s().createElement("span",null,s().createElement(A.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):s().createElement(i.ZP,{title:"Minimize",placement:"right"},s().createElement("span",null,s().createElement(A.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),s().createElement("ul",null,F[r.name]&&F[r.name].map(((e,t)=>s().createElement("div",{key:t,tabIndex:"-1",className:y?"filterSelectedItems":"filterSelectedItemsMaximize"},s().createElement("div",{className:"filterSelectedItemNames"},s().createElement("span",null,e[r.name])),s().createElement("div",{className:"filterSelectedItemClose"},s().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{Z(1);let l=F[r.name].filter((t=>t!=e)),a={};await g((e=>(a=e,e))),a[r.name]=l,g(a),o((t=>[e,...t]))})(e)},s().createElement(C.Z,{className:"filterSelectedItemCloseIcon"})))))))),s().createElement("div",{className:"displayFlex width100 FilterSearch"},s().createElement("div",{className:"FilterSearchInputDiv"},s().createElement(N.Z,{frmctrlid:"fld270L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:D,placeholder:fe("Enter ")+" "+Se(r.idpk),onChange:e=>{B(e),ve(r.type,r.fieldidpk,e,1,Ne())}})),s().createElement("div",{id:"fld270L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:be},s().createElement(i.ZP,{title:"",placement:"top"},s().createElement(h.Z,{className:"ColumnSearchButton"},s().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),W&&s().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},s().createElement(P.Z,{color:"secondary"})),s().createElement("div",{id:"fld270L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>s().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await g((e=>(a=e,e)));let s=a[r.name];t[r.name]=s?[...l,...s]:l,a={...a,...t},g(a),o((t=>t.filter((t=>t!=e))))})(e)}},s().createElement(M.Z,{className:"DotIcon"}),s().createElement("span",null,e[r.name])))),n.length+0<L&&n.length>0&&s().createElement("div",{id:"fld270L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(R+1),ve(r.type,r.fieldidpk,"",R+1)}},s().createElement("p",null," more... ")),0===n.length&&s().createElement("div",null,s().createElement("div",{className:"NoDataImage"},s().createElement("img",{src:p.v.NoData,alt:"NoImage"})),s().createElement("div",{className:"NoDataDesc"},s().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnHeaderTitle"},s().createElement(T.Ol$,{className:"columnHeaderIcon"}),s().createElement("p",{className:"columnHeaderp"}," ",fe("Filter")," ",ie.length>0&&`(${ie})`)),s().createElement("div",{className:"columnHeaderbtn",align:"right"},s().createElement(i.ZP,{title:"Favorite List",placement:"top"},se?s().createElement(C.Z,{className:"favlisticon",onClick:()=>{ne(!1),Be(""),xe()}}):s().createElement(O.Z,{className:"favlisticon",onClick:()=>{ne(!0),Pe("select"),xe()}})),Object.keys(F).length>0&&s().createElement(i.ZP,{title:"Save Favorites",placement:"top"},s().createElement(z.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),s().createElement(i.ZP,{title:"",placement:"top"},s().createElement(h.Z,{className:"ColumnApplyButton",onClick:()=>{xe()},id:"fld270L1TFCColumApplyBttn"},s().createElement("span",{className:"ColumnApplyTitle"},fe("Clear")))),s().createElement(i.ZP,{title:"",placement:"top"},s().createElement(h.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld270L1TFCColumnCloseButton"},s().createElement("span",{className:"ColumnCloseTitle"},fe("Close")))))),s().createElement("div",{className:"height65"},s().createElement("div",{id:"fld270L1TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return s().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{S(!0),B(""),o([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"BDMFixonBusinessFlowSubDetailsIDPK";u({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBDMFixonBusinessFlowSubDetailsID",fieldidpk:t}),ve(e.IsForeign?"Filter"+e.FieldName:"FilterBDMFixonBusinessFlowSubDetailsID",t,"",1,Ne())})(e)}},e.FieldName.includes("Date")?s().createElement(s().Fragment,null,Se(e.AdminUserGridViewIDPK)," ",Q[e.FieldName]&&s().createElement("p",{className:"filterdatevalue"},"(",Q[e.FieldName]?.From+" to "+Q[e.FieldName]?.To,")")):"IsActive"==e.FieldName?s().createElement(s().Fragment,null,s().createElement("span",null,Se(e.AdminUserGridViewIDPK)),s().createElement(k.Z,{checked:"1"==le,onChange:t=>{ae(t.target.checked),Te("","",e.FieldName,"",t.target.checked)}})):s().createElement(s().Fragment,null,s().createElement("span",null,Se(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,F[l]?.length>0&&s().createElement("div",{className:"FilterItemDivSelected"},s().createElement("span",{className:"RoundedDivName"},F[l][0][l]),F[l].length>1&&s().createElement("span",{className:"RoundedDivName"},F[l][1][l]),F[l].length>2&&s().createElement("span",{className:"RoundedDivNumber"},"+"+(F[l].length-2))))));var l})),De&&De.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return s().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{ve("FilterBDMFixonBusinessFlowSubDetailsID",l),be("")}},s().createElement(s().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const _e=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),r=(0,a.useRef)(null),[d]=((0,a.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[c]=(0,a.useState)("270"),[u,D]=(0,a.useState)(!1),[B,F]=(0,a.useState)(!1),[g,y]=(0,a.useState)(0),[E,f]=(0,a.useState)(0),[h,M]=(0,a.useState)(0),[b,P]=(0,a.useState)(0),[k,R]=(0,a.useState)({current:1,pageSize:100}),[Z,L]=(0,a.useState)(""),[O,z]=(0,a.useState)([]),[V,K]=(0,a.useState)({val:"",column:""}),[G,_]=(0,a.useState)([]),[H,U]=(0,a.useState)(!1),[j,Y]=(0,a.useState)(""),[q,$]=(0,a.useState)(""),[W,me]=(0,a.useState)(!1),[ge,ye]=(0,a.useState)([]),[we,Ie]=(0,a.useState)([]),[Ee,fe]=(0,a.useState)([]),[Se,xe]=(0,a.useState)({children:[{name:"BDMFixonBusinessFlowSubDetails",children:[]}]}),[ve,Ce]=(0,a.useState)(!1),he=(0,a.useContext)(e.context?e.context:qe),{cstate:Me,cdispatch:be}=e.ContextApi?e.ContextApi:$e();let Ne={BDMFixonBusinessFlowSubDetailsIDPK:"",BDMFixonBusinessFlowSubDetCode:"",IsReject:"",IsDefault:"",IsDraft:"",Remarks:"",BDMFixonBusinessFlowID:"",BDMBusinessFlowID:"",CCMStageID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",BDMBusinessFlowCode:"",BriefDetails:"",BusinessFlowName:"",FlowCode:"",FlowDisplayName:"",FlowSeqNo:"",CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Te,Ae]=(0,a.useState)(Ne),[Pe,ke]=(0,a.useState)(Ne),[Re,Ze]=(0,a.useState)(!1),[Le,Oe]=(0,a.useState)(!0),[ze,Ve]=(0,a.useState)(!1),[Ke,_e]=(0,a.useState)(!0),[He,Ue]=(0,a.useState)({CCMStageIName:"",IsReject:"",BDMFixonBusinessFlowSubDetCode:"",BusinessFlowName:"",BDMFixonBusinessFlowName:""}),[je,Ye]=(0,a.useState)(!1),[We,Je]=(0,a.useState)([]),[Qe,Xe]=(0,a.useState)(0),[et,tt]=(0,a.useState)(0),[lt,at]=(0,a.useState)({current:1,pageSize:10}),[st,nt]=(0,a.useState)([]),[it,ot]=(0,a.useState)([]),[rt,dt]=(0,a.useState)(!1),[ct,ut]=(0,a.useState)(!1),[mt,pt]=(0,a.useState)(!1),[Dt,Bt]=(0,a.useState)(""),[Ft,gt]=pe()("270"),[yt,wt]=(0,a.useState)({}),It=[{columns:st,data:Z}];let Et=(0,w.Z)();const ft=e=>Et[e]?Et[e]:e,St=e=>Me.language?.[e]?Me.language[e]:e;(0,a.useEffect)((()=>{Nt(Ft)}),[Ft]),(0,a.useEffect)((()=>{Me.token.length>0&&(e.parentId?Mt(k,Ne,"BDMFixonBusinessFlowSubDetailsID"):_([]))}),[e.parentId]),(0,a.useEffect)((()=>{!ve&&e.parentId?Mt(k,j,"BDMFixonBusinessFlowSubDetailsID"):ve&&ke(j)}),[j]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{xt(e)},tableRefresh:()=>{Mt(k,Ne,"BDMFixonBusinessFlowSubDetailsID")},DialogTableProps:e=>{F(e)},HideEntryFields:e=>{pt(!0===e)}})));const xt=e=>{""==e?Mt(k,Ne,Re?"DraftBDMFixonBusinessFlowSubDetailsID":"BDMFixonBusinessFlowSubDetailsID",Re&&"DraftPage"):bt(e,{current:1,pageSize:100}),$(e)};function vt(t){he.loading(!0);let l=p.v.Api+"FP270S7/",a={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(l,a,Me.token[0]).then((e=>{if(200==e.Output.status.code){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):l=0,10==t.pageSize?Xe(Math.ceil(l)):20==t.pageSize?Xe(Math.ceil(l/2)):50==t.pageSize?Xe(Math.ceil(l/5)):100==t.pageSize&&Xe(Math.ceil(l/10)),Je(e.Output.data),he.loading(!1)}}))}function Ct(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Re}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ze&&me(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&_e(e.cardview),e.Dialogview&&(F(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:k.current,pageSize:k.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),H?(document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BDMFixonBusinessFlowSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",U(!1),Ke?(B||(document.getElementById("BDMFixonBusinessFlowSubDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowSubDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BDMFixonBusinessFlowSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",U(!0),document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),me(!1),window.clickFilter=!H},Mt=(t,l,a,s,n,i)=>{he.loading(!0),"DraftPage"!==s&&Ze(Me.IsDraft);let o=p.v.Api+"FP270S3/",r={data:{p1:n||(l&&l.BDMFixonBusinessFlowSubDetailsIDPK?l.BDMFixonBusinessFlowSubDetailsIDPK:null),p2:l&&l.BDMFixonBusinessFlowSubDetCode?l.BDMFixonBusinessFlowSubDetCode:null,p3:null,p4:null,p5:"DraftBDMFixonBusinessFlowSubDetailsID"==a?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:l&&l.BDMBusinessFlowID?l.BDMBusinessFlowID:null,p9:l&&l.CCMStageID?l.CCMStageID:null,p10:l&&l.IsActive,p11:null,p12:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p13:l&&l.CreatedTtm?l.CreatedTtm:null,p14:l&&l.CreatedTtmType?l.CreatedTtmType:null,p15:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p16:null,p17:l&&l.BDMFixonBusinessFlowCode?l.BDMFixonBusinessFlowCode:null,p18:l&&l.BDMFixonBusinessFlowName?l.BDMFixonBusinessFlowName:null,p19:l&&l.BDMBusinessFlowCode?l.BDMBusinessFlowCode:null,p20:l&&l.BriefDetails?l.BriefDetails:null,p21:l&&l.BusinessFlowName?l.BusinessFlowName:null,p22:l&&l.FlowCode?l.FlowCode:null,p23:l&&l.FlowDisplayName?l.FlowDisplayName:null,p24:l&&l.FlowSeqNo?l.FlowSeqNo:null,p25:l&&l.CCMStageICode?l.CCMStageICode:null,p26:l&&l.CCMStageIName?l.CCMStageIName:null,p27:l&&l.StageSeqNo?l.StageSeqNo:null,p28:n?1:t.current,p29:t.pageSize,p30:a,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};(0,m.Z)(o,r,Me.token[0]).then((o=>{if(n)(0,de.a)(o,be,s,i,he);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,M(o.Output.data[0].TotalCount),P(o.Output.data[0].DraftCnt),be({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==s&&P(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?f(Math.ceil(e)):20==t.pageSize?f(Math.ceil(e/2)):50==t.pageSize?f(Math.ceil(e/5)):100==t.pageSize&&f(Math.ceil(e/10)),_(o.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divBDMFixonBusinessFlowSubDetails-Entry").style.height="auto",document.getElementById("divBDMFixonBusinessFlowSubDetails-Entry").style.display="block")}else he.loading(!1),"DraftBDMFixonBusinessFlowSubDetailsID"===a?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),me(!0),Ze(!1)):(_([]),R({current:1,pageSize:10}),f(0),M(0),be({type:"count",payload:"0"}),Object.values(l).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[o.Output.status.message]}),he.loading(!1)}))};function bt(t,l){he.loading(!0);const a=p.v.Api+"FP270S4/",s={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Re?"1":"0",p4:l.current,p5:l.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,s,Me.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,M(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==l.pageSize?f(Math.ceil(t)):20==l.pageSize?f(Math.ceil(t/2)):50==l.pageSize?f(Math.ceil(t/5)):100==l.pageSize&&f(Math.ceil(t/10)),_(e.Output.data),he.loading(!1)}else _([]),f(0),M(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Nt(e){let t=[],l=[],a=[],s=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");s.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),be({type:"language",payload:Object.assign({},...s)}),Ue(l.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),Ie(t),fe(l),nt(a),ot(l)}const Tt=()=>ve?null:s().createElement("div",null,je?s().createElement(Be.Z,{data:We,expanded:e=>!B&&he.Expanded(e),edit:(e,t,l)=>{B?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:l}))}}):s().createElement(De.Z,{ref:r,frmctrlid:"tblcs_270_L1_",id:"BDMFixonBusinessFlowSubDetailsTable",headerdata:we,tablesearchparams:He,searchvalue:e=>{Ue(e),Y(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};wt(t),R({current:1,pageSize:10}),Mt({current:1,pageSize:10},t,Re?"DraftBDMFixonBusinessFlowSubDetailsID":"BDMFixonBusinessFlowSubDetailsID",Re&&"DraftPage")},bodydata:G,ondrag:Ct,bodyitem:Ee,visibleitem:we,isdraft:Re,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:c,showMore:!1,accessrights:Me.AccessRights,expanded:e=>!B&&he.Expanded(e),edit:(e,t,l)=>{B?he.select(e):(Object.keys(e).map(((a,s)=>{a.includes("IDPK")&&Mt(k,null,t?"DraftBDMFixonBusinessFlowSubDetailsID":"BDMFixonBusinessFlowSubDetailsID",t&&"DraftPage",e[a],l)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!B||ze,tf:St,action:B?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{Ve(Me.ExpandTableValue)}),[Me.ExpandTableValue]),s().createElement("div",null,!mt&&!e.tableview&&s().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},s().createElement("div",{id:"fld270L1ECSearchBar",className:"searchbar1"},s().createElement(N.Z,{frmctrlid:"fld270L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:ft("Search"),value:q,onChange:e=>{$(e),he.searchItem(e)},style:{width:"300px"}}),s().createElement("div",{className:"search_icon"},q?s().createElement("div",{id:"fld270L1TCCloseIconCommonSearch",onClick:()=>{$(""),he.searchItem("")}},s().createElement(C.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld270L1TCInputSearchIcon"},s().createElement(le.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("BDMFixonBusinessFlowSubDetailsgridsearch").focus()}})))),s().createElement("div",null,Me.AccessRights.IsAdd?s().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld270L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),s().createElement(S.Z,{expanded:Le,onChange:()=>()=>{Oe(ze)}},e.Dialogview&&s().createElement(ae.Z,null,s().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},s().createElement("div",{className:"displayFlex EntryHeader"},s().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[270]"},`${St("270")} (${h})`)),!1===e.cardview?null:s().createElement("div",{className:"displayFlex EntryHeaderBtn"},s().createElement("div",{id:"fld270L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},s().createElement(N.Z,{frmctrlid:"fld270L1TCInputSearch",className:"search_input",type:"text",placeholder:ft("Search"),value:q,onChange:e=>{xt(e)}}),s().createElement("div",{className:"search_icon"},q?s().createElement("div",{id:"fld270L1TCInputCloseIcon",onClick:()=>{xt("")}},s().createElement(C.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld270L1TCInputSearchIcon"},s().createElement(le.Z,{className:"InputSearchIcon"}))))))),s().createElement(x.Z,{className:"AccDetails"},s().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:s().createElement("div",{className:"tableHeaderItems displayFlex"},!Re&&s().createElement("div",{frmctrlid:"fld270L1TCFilterDataIsDraft",id:"BDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},s().createElement(i.ZP,{title:ft("Filter Data"),placement:"top"},s().createElement("span",null,s().createElement(T.Ol$,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},ft("Filter Data"))),!B&&!Re&&!ve&&s().createElement(J.Z,{formctrlidprint:"fld270L1TCExportPrint",formctrlidexport:"fld270L1TCExportTable",formctrlidrefresh:"fld270L1TCExportRefresh",title:St("270"),data:O,exportData:It,Items:it,columnIndex:st,TableVisibleItem:we,userGridViewFormID:c,TableTotalCount:h,triggerApi:t=>{((t,a,s,n,i)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let o=p.v.Api+"FP270S3/",r={data:{p1:t&&t.BDMFixonBusinessFlowSubDetailsIDPK?t.BDMFixonBusinessFlowSubDetailsIDPK:null,p2:t&&t.BDMFixonBusinessFlowSubDetCode?t.BDMFixonBusinessFlowSubDetCode:null,p3:null,p4:null,p5:Re?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:t&&t.BDMBusinessFlowID?t.BDMBusinessFlowID:null,p9:t&&t.CCMStageID?t.CCMStageID:null,p10:t&&t.IsActive,p11:null,p12:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p13:t&&t.CreatedTtm?t.CreatedTtm:null,p14:t&&t.CreatedTtmType?t.CreatedTtmType:null,p15:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p16:null,p17:t&&t.BDMFixonBusinessFlowCode?t.BDMFixonBusinessFlowCode:null,p18:t&&t.BDMFixonBusinessFlowName?t.BDMFixonBusinessFlowName:null,p19:t&&t.BDMBusinessFlowCode?t.BDMBusinessFlowCode:null,p20:t&&t.BriefDetails?t.BriefDetails:null,p21:t&&t.BusinessFlowName?t.BusinessFlowName:null,p22:t&&t.FlowCode?t.FlowCode:null,p23:t&&t.FlowDisplayName?t.FlowDisplayName:null,p24:t&&t.FlowSeqNo?t.FlowSeqNo:null,p25:t&&t.CCMStageICode?t.CCMStageICode:null,p26:t&&t.CCMStageIName?t.CCMStageIName:null,p27:t&&t.StageSeqNo?t.StageSeqNo:null,p28:k.current,p29:h,p30:Re?"DraftBDMFixonBusinessFlowSubDetailsID":"BDMFixonBusinessFlowSubDetailsID",p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${St(270)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(o,r,Me.token[0],i).then((e=>{(0,ue.PDF_Excel_Generate)(e,he,it,L,l,i)}))})(j,V.column,0,0,t)},Refresh:()=>{$(""),R({current:1,pageSize:100}),r.current.clearItem(),Me.IsDraft?Mt({current:1,pageSize:100},Ne,"DraftBDMFixonBusinessFlowSubDetailsID"):Mt({current:1,pageSize:100},Ne,"BDMFixonBusinessFlowSubDetailsID")},disabledPrint:!Me.AccessRights.IsPrint,disabledExport:!Me.AccessRights.IsExport,ref:l,iconinfo:"displayNone"}),!Re&&!ve&&!B&&s().createElement("div",{className:"buttoncard",onClick:()=>ut(!ct)},s().createElement("span",null,ct?s().createElement(i.ZP,{disableFocusListener:!0,title:ft("Less"),placement:"top"},s().createElement("span",{id:"fld270L1TCLess"},s().createElement(ie.ldB,{className:"tableFilterColumnIcon"}))):s().createElement(i.ZP,{disableFocusListener:!0,title:ft("More"),placement:"top"},s().createElement("span",{id:"fld270L1TCMore"},s().createElement(ie.ilJ,{className:"tableFilterColumnIcon"}))))),ct?s().createElement("div",{className:"EntryHeaderMore"},s().createElement("div",{style:{display:"flex"}},ve||!ze?null:B||!Me.AccessRights.IsAdd||Re?"":s().createElement("div",null,s().createElement("div",{frmctrlid:"fld270L1TCFilterDataIsAdd",id:"BDMFixonBusinessFlowSubDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),W?(document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowSubDetailsTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv").style.display="none",document.getElementById("BDMFixonBusinessFlowSubDetailscoldiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",me(!1)):(document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv").style.width="25%",document.getElementById("BDMFixonBusinessFlowSubDetailsTabDiv").style.width="75%",document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv").style.display="block",document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowSubDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BDMFixonBusinessFlowSubDetailscoldiv").style.width="fit-content",document.getElementById("BDMFixonBusinessFlowSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",me(!0)),U(!1)}},s().createElement(i.ZP,{title:ft("Manage Columns"),placement:"top"},s().createElement("div",null,s().createElement(ce.gYA,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},ft("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!B&&ze&&!ve&&!Re&&s().createElement("div",null,s().createElement("div",{id:"BDMFixonBusinessFlowSubDetailscoldiv",className:"buttoncard",onClick:()=>{je?Ye(!1):(Ye(!0),vt({current:1,pageSize:100}))}},s().createElement(i.ZP,{title:ft("TableScrollData"),placement:"top"},s().createElement("div",{id:"fld270L1TCTableScrollData"},s().createElement(Fe.Z,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},ft("Table Scroll Data")))),!ve&&Re?s().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Mt({current:1,pageSize:100},Ne,"BDMFixonBusinessFlowSubDetailsID"),Ze(!1),$(""),be({type:"IsDraft",payload:!1}),R({current:1,pageSize:10})}},s().createElement(i.ZP,{title:ft("List"),placement:"top"},s().createElement("div",{id:"fld270L1TCList"},s().createElement(oe.u1R,{className:"backButtonList"}))),s().createElement("p",{className:"DraftP"},ft("Drafts")," ",h)):!B&&!ve&&Me.AccessRights.IsAdd&&s().createElement("div",null,s().createElement(v.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},s().createElement("div",{id:"fld270L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(R({current:1,pageSize:100}),y(0),he.clear(),$(""),be({type:"Add",payload:!1}),Mt({current:1,pageSize:10},Ne,"DraftBDMFixonBusinessFlowSubDetailsID"),Ze(!0),be({type:"IsDraft",payload:!0}),me(!1),_e(!0),document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv").style.width="0%",document.getElementById("BDMFixonBusinessFlowSubDetailsTabDiv").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetailsFilterDiv").style.display="none",R({current:1,pageSize:100}),Ce(!1)):he.alert({open:!0,color:"warning",message:[ft("There is no Record Found")]})}},s().createElement(i.ZP,{title:ft("Drafts"),placement:"top"},s().createElement("div",null,s().createElement(re.rNm,{className:"DraftIcon"}))),s().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},ft("Drafts"))))))):""),!Re&&!B&&s().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},ve||Re?null:s().createElement("div",null,s().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},s().createElement("div",{className:"b2",id:"button-11"},s().createElement("div",{className:Ke?"buttonList":"buttonGrid",id:"fld270L1TCListView",onClick:()=>{_e(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(ie.umT,null)),s().createElement("span",null,ft("List"))),s().createElement("div",{className:Ke||rt?"buttonGrid":"buttonList",id:"fld270L1TCCardView",onClick:()=>{_e(!1),dt(!1)}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(A.aCJ,null)),s().createElement("span",null,ft("Card"))),s().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld270L1TCTileView",onClick:()=>{dt(!0),_e(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(I.f_H,null)),s().createElement("span",null,ft("Tile"))))))),ve?null:je?e.IsCollapse?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(se.Z,{style:{color:"#777"},id:"fld270L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:g,onPageChange:(e,t)=>{y(t),vt({current:t+1,pageSize:lt.pageSize}),at({current:t+1,pageSize:lt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(Q.Z,{count:Qe,color:"primary",page:lt.current,onChange:(e,t)=>{at({current:t,pageSize:lt.pageSize}),Xe(t),vt({current:t,pageSize:lt.pageSize})}}),s().createElement("div",null,s().createElement(ee.Z,{className:"BootstrapInputStyle",value:lt.pageSize,frmctrlid:"fld270L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},s().createElement(X.Z,{value:10},"10"),s().createElement(X.Z,{value:20},"20"),s().createElement(X.Z,{value:50},"50"),s().createElement(X.Z,{value:100},"100"))),ze&&s().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",et,")")):e.IsCollapse?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(se.Z,{style:{color:"#777"},id:"fld270L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:g,onPageChange:(e,t)=>{y(t),Mt({current:t+1,pageSize:k.pageSize},Ne,Re?"DraftBDMFixonBusinessFlowSubDetailsID":"BDMFixonBusinessFlowSubDetailsID",Re&&"DraftPage"),R({current:t+1,pageSize:k.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(Q.Z,{count:E,siblingCount:0,color:"primary",page:k.current,onChange:(e,t)=>{if(R({current:t,pageSize:k.pageSize}),Re)Mt({current:t,pageSize:k.pageSize},Te,"DraftBDMFixonBusinessFlowSubDetailsID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";q.length>0?bt(q,{current:t,pageSize:k.pageSize}):Mt({current:t,pageSize:k.pageSize},Te,"BDMFixonBusinessFlowSubDetailsID")}}}),s().createElement("div",null,s().createElement(ee.Z,{className:"BootstrapInputStyle",value:k.pageSize,id:"fld270L1TCSelectPaging",onChange:e=>{R({current:1,pageSize:e.target.value}),Re?Mt({current:1,pageSize:e.target.value},Te,"DraftBDMFixonBusinessFlowSubDetailsID","DraftPage"):q.length>0?bt(q,{current:1,pageSize:e.target.value}):Mt({current:1,pageSize:e.target.value},Te,"BDMFixonBusinessFlowSubDetailsID")}},s().createElement(X.Z,{value:10},"10"),s().createElement(X.Z,{value:20},"20"),s().createElement(X.Z,{value:50},"50"),s().createElement(X.Z,{value:100},"100"))),ze&&s().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",h,") "))),s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},s().createElement("div",{id:"BDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},H&&s().createElement(Ge,{parentId:e.parentId,searchData:e=>{Y(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:c,data:()=>{},visibleData:()=>{},token:Me.token[0],CloseBtnClk:()=>ht(),userGrid:Ft,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),W&&s().createElement(te.Z,{Refresh:e=>{Mt({current:1,pageSize:100},Ne,"BDMFixonBusinessFlowSubDetailsID")},frmctrlid:"fld270L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:W,userID:d,userGridViewFormID:c,saved:(e,t)=>{e&&Nt(t),gt(t),be({type:"showTableview",payload:t})},Token:Me.token[0]})),s().createElement("div",{id:"BDMFixonBusinessFlowSubDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ke?s().createElement(Tt,null):s().createElement(ne.Z,{frmctrlid:"fld270L1TCExpandedCardDual",data:G,id:"BDMFixonBusinessFlowSubDetails",title:"BDMFixonBusinessFlowSubDetCode",cardTile:!!rt,visibleitem:we,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{B?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Re}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Re}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),H?U(!0):W?me(!0):(me(!1),me(!1))),he.hideAddBtn(!0)}})))))))})),He={EnterKeyValues:{BDMFixonBusinessFlowSubDetails:["CCMStageIName","IsReject","BDMFixonBusinessFlowSubDetCode","BusinessFlowName","BDMFixonBusinessFlowName"]},Label:{BDMFixonBusinessFlowSubDetails:{CCMStageID:["CCMStageIName","StageSeqNo"],IsReject:["BDMFixonBusinessFlowSubDetCode"],BDMFixonBusinessFlowSubDetCode:["BDMFixonBusinessFlowSubDetCode"],BDMBusinessFlowID:["BDMFixonBusinessFlowSubDetCode"],BDMFixonBusinessFlowID:["BDMFixonBusinessFlowSubDetCode"]}},LabelHeader:{BDMFixonBusinessFlowSubDetails:{CCMStageID:["CCM Stage Name","Stage Seq No"],IsReject:["BDM Fixon Business Flow Sub Det Code"],BDMFixonBusinessFlowSubDetCode:["BDM Fixon Business Flow Sub Det Code"],BDMBusinessFlowID:["BDMFixonBusinessFlowSubDetCode"],BDMFixonBusinessFlowID:["BDMFixonBusinessFlowSubDetCode"]}},Property:{BDMFixonBusinessFlowSubDetails:{CCMStageID:{id:"fld270_5201",clearID:"BDMFixonBusinessFlowSubDetailsCCMStageINameClear",type:"select",labelID:"CCMStageIDPK",labelname:"Stage Name",fielddisplayname:"CCMStageIName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},IsReject:{id:"fld270_5198",labelID:"IsReject",maxLength:"",labelname:"Reject",frmctrlid:"fld270_5198",frmctrlidname:"IsReject",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BDMFixonBusinessFlowSubDetCode:{id:"fld270_5197",labelID:"BDMFixonBusinessFlowSubDetCode",maxLength:"50",labelname:"BDM Fixon Business Flow Sub Det Code",frmctrlid:"fld270_5197",frmctrlidname:"BDMFixonBusinessFlowSubDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BDMBusinessFlowID:{id:"fld270_5200",clearID:"BDMFixonBusinessFlowSubDetailsBusinessFlowNameClear",type:"select",labelID:"BDMBusinessFlowIDPK",labelname:"BusinessFlowName",fielddisplayname:"BusinessFlowName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BDMFixonBusinessFlowID:{id:"fld270_5199",clearID:"BDMFixonBusinessFlowSubDetailsBDMFixonBusinessFlowNameClear",type:"select",labelID:"BDMFixonBusinessFlowIDPK",labelname:"BDMFixonBusinessFlowName",fielddisplayname:"BDMFixonBusinessFlowName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{BDMFixonBusinessFlowSubDetails:{CCMStageID:["IsActive","StageSeqNo","IsDraft","CreatedTtm","CCMStageIName"],BDMBusinessFlowID:["BusinessFlowName","FlowCode","BriefDetails","TableKey","FlowSeqNo"],BDMFixonBusinessFlowID:["BDMFixonBusinessFlowCode","BDMFixonBusinessFlowName","IsBMS","IsPortal"]}}},Ue={BDMFixonBusinessFlowSubDetailsIDPK:"",BDMFixonBusinessFlowSubDetCode:"",IsReject:!1,IsDefault:!1,IsDraft:!1,Remarks:"",BDMFixonBusinessFlowID:null,BDMBusinessFlowID:null,CCMStageID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BDMFixonBusinessFlowCode:"",BDMFixonBusinessFlowName:"",BDMBusinessFlowCode:"",BriefDetails:"",BusinessFlowName:"",FlowCode:"",FlowDisplayName:"",FlowSeqNo:"",CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",Type:"BDMFixonBusinessFlowSubDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},je=(0,a.forwardRef)(((e,t)=>{const l=(0,n.useSelector)((e=>e.form)),[i,o]=(0,a.useState)(!1),[r,u]=(0,a.useState)(!0),[F,g]=(0,a.useState)(!1),[y,I]=(0,a.useState)(!1),[E,v]=(0,a.useState)(""),[C,h]=(0,a.useState)(!1),[M,b]=(0,a.useState)([]),[N,T]=(0,a.useState)(null),[A,P]=(0,a.useReducer)(fe.Z,Ue),[R,O]=(0,a.useState)(!1),[z,V]=(0,a.useState)([]),[K,G]=(0,a.useState)(!1),_=(0,a.useContext)(e.context?e.context:qe),{cstate:H,cdispatch:U}=e.ContextApi?e.ContextApi:$e(),[j,q]=(0,a.useState)(0),[$,W]=(0,a.useState)(""),J=(0,a.useRef)(null),[Q,X]=Me()("270"),[ee,te]=(0,a.useState)(!0),[le,se]=(0,a.useState)(!1);let ne=(0,w.Z)();const[ie,oe]=(0,a.useState)({}),re=e=>ne[e]?ne[e]:e,de=t=>H.language?.[t]?H.language[t]:e.createEasy?ie?.[t]:t;(0,a.useEffect)((()=>{H.PrimaryId&&q(Number(H.PrimaryId))}),[H.PrimaryId]),(0,a.useEffect)((()=>{ue()}),[]),(0,a.useEffect)((()=>{ue()}),[e.parentId]),(0,a.useEffect)((()=>{H.editData.length>0?(ce(H.editData[0],""),g(!0)):H.Add&&(ue(),g(!0))}),[H.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),oe(Object.assign({},...t))}(Q)}),[Q]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{ue()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(be(t),g(e)):(ue(),g(e))},AddOpen:e=>{ue(),g(!0)}})));const ce=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultBDMFixonBusinessFlowSubDetailsID"==l?W(t.BDMFixonBusinessFlowSubDetailsIDPK):(q(e.primid?Number(e.primid):t.BDMFixonBusinessFlowSubDetailsIDPK?t.BDMFixonBusinessFlowSubDetailsIDPK:0),U({type:"PrimaryId",payload:t.BDMFixonBusinessFlowSubDetailsIDPK})),P({type:"number",name:"CCMStageID",number:t.CCMStageID?Number(t.CCMStageID):0}),P({type:"text",name:"CCMStageIName",value:t.CCMStageIName}),P({type:"boolean",name:"IsReject",boolean:!!t.IsReject&&t.IsReject}),P({type:"text",name:"BDMFixonBusinessFlowSubDetCode",value:t.BDMFixonBusinessFlowSubDetCode?t.BDMFixonBusinessFlowSubDetCode:""}),P({type:"number",name:"BDMBusinessFlowID",number:t.BDMBusinessFlowID?Number(t.BDMBusinessFlowID):0}),P({type:"text",name:"BusinessFlowName",value:t.BusinessFlowName}),P({type:"number",name:"BDMFixonBusinessFlowID",number:t.BDMFixonBusinessFlowID?Number(t.BDMFixonBusinessFlowID):0}),P({type:"text",name:"BDMFixonBusinessFlowName",value:t.BDMFixonBusinessFlowName}),t.IsDraft?u(!0):u(!("1"!=t.IsActive&&!t.IsActive))},ue=()=>{b([]),q(0),W(""),e.createEasy||_.resetImg(),U({type:"PrimaryId",payload:""}),P({type:"text",name:"CCMStageID",value:null}),P({type:"text",name:"CCMStageIName",value:""}),document.getElementById("BDMFixonBusinessFlowSubDetailsCCMStageINameClear")&&document.getElementById("BDMFixonBusinessFlowSubDetailsCCMStageINameClear").click(),P({type:"boolean",name:"IsReject",boolean:!1}),P({type:"text",name:"BDMFixonBusinessFlowSubDetCode",value:""}),P({type:"text",name:"BDMBusinessFlowID",value:null}),P({type:"text",name:"BusinessFlowName",value:""}),document.getElementById("BDMFixonBusinessFlowSubDetailsBusinessFlowNameClear")&&document.getElementById("BDMFixonBusinessFlowSubDetailsBusinessFlowNameClear").click(),P({type:"text",name:"BDMFixonBusinessFlowID",value:null}),P({type:"text",name:"BDMFixonBusinessFlowName",value:""}),document.getElementById("BDMFixonBusinessFlowSubDetailsBDMFixonBusinessFlowNameClear")&&document.getElementById("BDMFixonBusinessFlowSubDetailsBDMFixonBusinessFlowNameClear").click(),u(!0),v(""),te(!0)},me=t=>{_.loading(!0),_.ConfirmAlert(null);const l=p.v.Api+"FP270S2/",a={data:[{p1:"SetDefaultBDMFixonBusinessFlowSubDetailsID"==t?"NORECORDS"!=$&&$?$:0:j,p2:Ne(A.BDMFixonBusinessFlowSubDetCode),p3:A.IsReject,p4:A.IsDefault,p5:!1,p6:"SetDefaultBDMFixonBusinessFlowSubDetailsID"==t?"SetDefault":null,p7:e.parentId?Number(e.parentId):A.BDMFixonBusinessFlowID?A.BDMFixonBusinessFlowID:0,p8:A.BDMBusinessFlowID?A.BDMBusinessFlowID:0,p9:A.CCMStageID?A.CCMStageID:0,p10:r,p11:"SetDefaultBDMFixonBusinessFlowSubDetailsID"==t,p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,m.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,s=new Array,n=new Array;"200"===l.code?(a.map((e=>{e&&(s.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),s.some((e=>"1"==e))?(_.alert({open:!0,color:"warning",message:n}),_.loading(!1)):(t=>{te(!0),_.loading(!0),_.ConfirmAlert(null),U({type:"IsDraft",payload:!1});const l=p.v.Api+"FP270S1/",a={data:[{p1:j,p2:Ne(A.BDMFixonBusinessFlowSubDetCode),p3:A.IsReject,p4:A.IsDefault,p5:!1,p6:null,p7:e.parentId?Number(e.parentId):A.BDMFixonBusinessFlowID?A.BDMFixonBusinessFlowID:0,p8:A.BDMBusinessFlowID?A.BDMBusinessFlowID:0,p9:A.CCMStageID?A.CCMStageID:0,p10:r,p11:!1,p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,L.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(_.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails"),_.loading(!1),U({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(_.RefreshTable(),_.attachmentSave(t[0].Data.IDPK)),ue(),H.AccessRights.IsApproval&&_.Approval(!0),document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails")&&(document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails").style.display="none",document.getElementById("divBDMFixonBusinessFlowSubDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("BDMFixonBusinessFlowSubDetails-MainTable").style.display="block")):(_.alert({open:!0,color:"warning",message:[l.message]}),_.loading(!1)),g(!0)}))}))})()):(_.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),_.loading(!1))}))}))};function pe(t,l,a,s){if(!(H.count>0))return _.alert({open:!0,color:"warning",message:[re("Please save atleast one record")]}),!1;if(!((()=>{const e={...A};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return _.alert({open:!0,color:"warning",message:[re("Please enter the primary fields")]}),!1;{te(!0),_.loading(!0),_.ConfirmAlert(null),U({type:"IsDraft",payload:!1});const l=p.v.Api+"FP270S1/",a={data:[{p1:"SetDefaultBDMFixonBusinessFlowSubDetailsID"==s?"NORECORDS"!=$&&$?$:0:j,p2:Ne(A.BDMFixonBusinessFlowSubDetCode),p3:A.IsReject,p4:A.IsDefault,p5:!0,p6:"SetDefaultBDMFixonBusinessFlowSubDetailsID"==s?"SetDefault":null,p7:e.parentId?Number(e.parentId):A.BDMFixonBusinessFlowID?A.BDMFixonBusinessFlowID:0,p8:A.BDMBusinessFlowID?A.BDMBusinessFlowID:0,p9:A.CCMStageID?A.CCMStageID:0,p10:!1,p11:"SetDefaultBDMFixonBusinessFlowSubDetailsID"==s,p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((s=>{(0,L.Z)(l,a,s).then((l=>{const a=l[0].status;200==a.code?(t?_.alert({open:!0,color:"warning",message:[re("Deleted Successfully")]}):_.alert({open:!0,color:"success",message:[re("Saved to Draft")]}),_.loading(!1),_.attachmentSave(l[0].Data.IDPK),ue(),_.RefreshTable(),e.clrImgstate(!0)):(_.alert({open:!0,color:"warning",message:[a.message]}),_.loading(!1))}))}))}}function De(e){return CreateEasy(e,H,U,_,J),!1}function Be(e,l){return AdvanceSearch(e,l,qe,$e(),we,t),!1}const Fe=(t,l,a,s,n,i)=>{const o=p.v.Api+"FP270S3/",r={data:{p1:null,p2:null,p3:1==A.IsReject,p4:null,p5:null,p6:null,p7:e.parentId?Number(e.parentId):0,p8:"0"==A.BDMBusinessFlowID?null:A.BDMBusinessFlowID,p9:"0"==A.CCMStageID?null:A.CCMStageID,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:l?"%"+l+"%":null,p18:l?"%"+l+"%":null,p19:l?"%"+l+"%":null,p20:l?"%"+l+"%":null,p21:l?"%"+l+"%":null,p22:l?"%"+l+"%":null,p23:l?"%"+l+"%":null,p24:l?"%"+l+"%":null,p25:l?"%"+l+"%":null,p26:l?"%"+l+"%":null,p27:l?"%"+l+"%":null,p28:t,p29:10,p30:a,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}},d=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const c={data:d};return(0,m.Z)(o,"ClearAll"==a?c:r,"SetDefaultBDMFixonBusinessFlowSubDetailsID"==a&&s?s:H.token[0]).then((e=>{const l=e.Output.status.code,s=e.Output.data;if("200"==l){const e=s.length;if(n)return 1==s.length?s[0]:{};V(1==t?e>0?s:[]:z.concat(s)),"SetDefaultBDMFixonBusinessFlowSubDetailsID"==a&&(e>0?ce(s[0],"SetDefaultBDMFixonBusinessFlowSubDetailsID"):W("NORECORDS")),O(!1)}else _.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ge=(t,a,s)=>{const n=p.v.Api+"FP270S3/",i={data:{p1:null,p2:"BDMFixonBusinessFlowSubDetCode"==s&&a?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:null,p7:l.BDMFixonBusinessFlowRegistryBDMFixonBusinessFlowID?l.BDMFixonBusinessFlowRegistryBDMFixonBusinessFlowID:"0",p8:null,p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:t,p29:10,p30:"BDMFixonBusinessFlowSubDetailsID",p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};O(!0),(0,m.Z)(n,"ClearAll"==s?o:i,H.token[0]).then((e=>{const l=e.Output.status.code,a=e.Output.data;if("200"==l){const e=a.length;1==t?("BDMFixonBusinessFlowSubDetCode"==s&&te(e>0),V(a)):("BDMFixonBusinessFlowSubDetCode"==s&&te(!0),V(z.concat(a))),O(!1)}else _.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},we=(0,a.useCallback)((async(e,t,l)=>{"text"==l?P({type:l,name:t,value:e}):"number"==l?P({type:l,name:t,number:Number(e)}):"boolean"==l?P({type:l,name:t,boolean:e}):"date"==l?P({type:"text",name:t,value:e}):"select"==l&&"CCMStageID"==t&&(P({type:"text",name:"CCMStageID",value:e.CCMStageIDPK?e.CCMStageIDPK:null}),P({type:"text",name:"CCMStageIName",value:e.CCMStageIName?e.CCMStageIName:null}))}),[A]);function Se(e){if("CCMStageID"==e){if(!A.CCMStageID)return!1;P({type:"text",name:"CCMStageID",value:null}),P({type:"text",name:"CCMStageIName",value:""}),document.getElementById("BDMFixonBusinessFlowSubDetailsCCMStageINameClear")&&document.getElementById("BDMFixonBusinessFlowSubDetailsCCMStageINameClear").click()}else if("BDMBusinessFlowID"==e){if(!A.BDMBusinessFlowID)return!1}else if("BDMFixonBusinessFlowID"==e&&!A.BDMFixonBusinessFlowID)return!1}function he(e){if("CCMStageID"==e){if(!A.CCMStageID)return!1;P({type:"text",name:"CCMStageID",value:null})}else if("BDMBusinessFlowID"==e){if(!A.BDMBusinessFlowID)return!1}else if("BDMFixonBusinessFlowID"==e&&!A.BDMFixonBusinessFlowID)return!1}function be(e){_.ConfirmAlert(null),I(e.IsDraft),q(Number(e.BDMFixonBusinessFlowSubDetailsIDPK)?Number(e.BDMFixonBusinessFlowSubDetailsIDPK):0),P({type:"number",name:"CCMStageID",number:e.CCMStageID?Number(e.CCMStageID):0}),P({type:"text",name:"CCMStageIName",value:e.CCMStageIName?e.CCMStageIName:""}),P({type:"boolean",name:"IsReject",boolean:!!e.IsReject&&e.IsReject}),P({type:"text",name:"BDMFixonBusinessFlowSubDetCode",value:e.BDMFixonBusinessFlowSubDetCode?e.BDMFixonBusinessFlowSubDetCode:""}),P({type:"number",name:"BDMBusinessFlowID",number:e.BDMBusinessFlowID?Number(e.BDMBusinessFlowID):0}),P({type:"text",name:"BusinessFlowName",value:e.BusinessFlowName?e.BusinessFlowName:""}),P({type:"number",name:"BDMFixonBusinessFlowID",number:e.BDMFixonBusinessFlowID?Number(e.BDMFixonBusinessFlowID):0}),P({type:"text",name:"BDMFixonBusinessFlowName",value:e.BDMFixonBusinessFlowName?e.BDMFixonBusinessFlowName:""})}const Ne=e=>"string"==typeof e?e.trim():e;return s().createElement("div",null,s().createElement(S.Z,{expanded:F,onChange:e=>{}},s().createElement(ae.Z,null,s().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},F&&s().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},s().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[270]"}," ",re("Add "),de("270")),s().createElement("div",{className:"displayFlex EntryHeaderBtn"},s().createElement("div",{className:"GridAlign"},s().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},s().createElement(xe.Z,{row:!0},s().createElement(Y.Z,{labelPlacement:"bottom",id:"fld270L1ECEntryCheckbox",control:s().createElement(k.Z,{checked:"1"==r,onChange:e=>u(e.target.checked)}),label:re(1==r?"Active":"In Active")})))),!e.createEasy&&s().createElement("div",{className:"GridAlign",onClick:()=>{_.AttachExpand(!0)},id:"fld270L1ECIconButton"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement("div",{disableRipple:!0,disabled:!1},s().createElement(ve.Ypb,{className:"Iconstyles"}))),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,re("Attach")))),!j&&s().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ue()},id:"fld270L1ECClearBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(ve.pYJ,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,re("Reset")))),"1"===y&&j&&s().createElement(ye.Z,{frmctrlid:"fld270L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{pe("draftdel")}}),j&&"1"!==y||e.createEasy?null:H.AccessRights.IsAdd&&s().createElement("div",{className:"GridAlign",onClick:()=>{pe()},frmctrlid:"fld270L1ECDraftBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(Ce.IcR,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,re("Draft")))),H.AccessRights.IsAdd||H.AccessRights.IsEdit?s().createElement(B.Z,{frmctrlid:"fld270L1ECSaveBtnIsAdd",name:re(j?"Update":"Save"),disabled:!1,onClick:()=>{A.CCMStageID&&0!=A.CCMStageID?e.parentId&&0!=e.parentId?_.ConfirmAlert(s().createElement(Ie(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:re("Are you sure?"),onConfirm:()=>me(),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("Cancel"),showCancel:!0},re(j?"Do you want to Update?":"Do you want to Save?"))):_.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("BDMFixonBusinessFlowID")]}):_.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("CCMStageID")]})}}):null,!e.createEasy&&s().createElement(f.Z,{frmctrlid:"fld270L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ue(),g(!1),_.EditClose(!0),_.hideAddBtn(!1),U({type:"Add",payload:!1})}}))))),s().createElement(x.Z,null,s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-Detail",className:"detailCard detailDiv"},s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-MainBody",className:"padding paddingLeft "},s().createElement("div",null,s().createElement(d.Z,{spacing:2},s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(Ee.Z,{json:He,id:A.CCMStageID,"data-testid":A.CCMStageID,value:A.CCMStageIName,SPName:"BDMFixonBusinessFlowSubDetails",FieldName:"CCMStageID",tfLabel:de("CCMStageID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"CCMStageID","select"),onChange:(e,t)=>{Fe(e,t,"CCMStageIDPK")},KeyBack:e=>{he("CCMStageID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{De("322")},Tabledialog:()=>Be("322","CCMStageID"),loading:R,clear:e=>{e&&Se("CCMStageID")}})),s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},s().createElement("div",{className:"EntryView-Checkbox"},s().createElement(Y.Z,{style:{color:"#337ab7"},"data-testid":A.IsReject,labelPlacement:"end",control:s().createElement(k.Z,{checked:"1"==A.IsReject,onChange:e=>{we(e.target.checked,"IsReject","boolean")},frmctrlid:"fld270_5198",frmctrlidname:"IsReject",fieldorder:"2",tfLabel:de("IsReject")}),label:s().createElement("p",{className:"ToggleSwitchLabel",style:{color:A.IsReject?"#21446F":"#999"}},de("IsReject"))}))),s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(Ee.Z,{"data-testid":A.BDMFixonBusinessFlowSubDetCode,json:He,SPName:"BDMFixonBusinessFlowSubDetails",FieldName:"BDMFixonBusinessFlowSubDetCode",tfLabel:de("BDMFixonBusinessFlowSubDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{_.ConfirmAlert(s().createElement(Ie(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>be(e),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("No"),showCancel:!0},re("Do you want to update this record?")))})(t),onClick:()=>{ee&&ge(1,"","ClearAll"),te(!0)},frmctrlid:"fld270_5197",frmctrlidName:"BDMFixonBusinessFlowSubDetCode",fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ee&&ge(e,t,"BDMFixonBusinessFlowSubDetCode"),we(t,"BDMFixonBusinessFlowSubDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:A.BDMFixonBusinessFlowSubDetCode,loading:R,clear:e=>{e&&(P({type:"text",name:"BDMFixonBusinessFlowSubDetCode",value:""}),te(!0))}})),s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(Ee.Z,{json:He,id:A.BDMBusinessFlowID,"data-testid":A.BDMBusinessFlowID,value:A.BusinessFlowName,SPName:"BDMFixonBusinessFlowSubDetails",FieldName:"BDMBusinessFlowID",tfLabel:de("BDMBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"BDMBusinessFlowID","select"),onChange:(e,t)=>{Fe(e,t,"BDMBusinessFlowIDPK")},KeyBack:e=>{he("BDMBusinessFlowID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{De("262")},Tabledialog:()=>Be("262","BDMBusinessFlowID"),loading:R,clear:e=>{e&&Se("BDMBusinessFlowID")}})),s().createElement(c.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(Ee.Z,{json:He,id:A.BDMFixonBusinessFlowID,"data-testid":A.BDMFixonBusinessFlowID,value:A.BDMFixonBusinessFlowName,SPName:"BDMFixonBusinessFlowSubDetails",FieldName:"BDMFixonBusinessFlowID",tfLabel:de("BDMFixonBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"BDMFixonBusinessFlowID","select"),onChange:(e,t)=>{Fe(e,t,"BDMFixonBusinessFlowIDPK")},KeyBack:e=>{he("BDMFixonBusinessFlowID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{De("269")},Tabledialog:()=>Be("269","BDMFixonBusinessFlowID"),loading:R,clear:e=>{e&&Se("BDMFixonBusinessFlowID")}})))),s().createElement("div",{id:"BDMFixonBusinessFlowSubDetailsSideBar",className:"sidenav"},s().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BDMFixonBusinessFlowSubDetailsSideBar").style.width="0",void h(!1))},"×"),C&&s().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},N))))))))})),Ye=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[i,d]=((0,n.useSelector)((e=>e.form)),(0,a.useState)([])),[c,u]=(0,a.useState)(!0),[B,F]=(0,a.useState)(e.showDetail),[g,y]=(0,a.useState)(""),[I,E]=s().useState(!1),[v,C]=s().useState(""),[h,M]=s().useState(!1),b=(0,a.useContext)(qe),{cstate:N,cdispatch:T}=$e(),[A,P]=(0,a.useState)(!1),[k,R]=(0,a.useState)(""),[Z,L]=(0,a.useState)(""),[O,z]=(0,a.useState)("");let V=(0,w.Z)();(0,a.useEffect)((()=>{N.editData.length>0&&(d(N.editData),E(!1),T({type:"PrimaryId",payload:N.editData[0].BDMFixonBusinessFlowSubDetailsIDPK}))}),[N.editData]),(0,a.useEffect)((()=>{N.showTableview&&z(N.showTableview)}),[N.showTableview]),(0,a.useEffect)((()=>{u(N.ExpandDetailValue)}),[N.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{u(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=p.v.Api+"FP270S3/",s={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:1,p29:10,p30:N.IsDraft?"DraftBDMFixonBusinessFlowSubDetailsID":"BDMFixonBusinessFlowSubDetailsID",p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,m.Z)(a,s,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===I&&l.current.clear()}})));const K=e=>V?.[e]?V?.[e]:e,G=e=>N.language?.[e]?N.language[e]:e;function _(e,t){}const H=(e,t)=>(l,a)=>{C(h?Object.assign(...i.filter((e=>e.BDMFixonBusinessFlowSubDetailsIDPK==t)).map((e=>e))):N.editData),E(!a&&e)};return s().createElement("div",null,s().createElement(S.Z,{expanded:c,onChange:()=>()=>{e.expandTable&&u(!c)}},!I&&s().createElement(ae.Z,null,s().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},c?s().createElement("div",{className:"displayFlex EntryViewHeader"},s().createElement("p",{className:"ListP"},N.IsDraft?K("Draft"):"",G("BDMFixonBusinessFlowSubDetails"),e.viewonly?" ":"("+N.count+")")):"",c?s().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&N.AccessRights.IsAdd?s().createElement(o.Z,{name:K("Add"),frmctrlid:"fld270L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),T({type:"editData",payload:[]}),T({type:"ShowDetail",payload:!1}),T({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&N.AccessRights.IsEdit?s().createElement(r.Z,{frmctrlid:"fld270L1VCEditBtn",onClick:H("panel0",""),disabled:!1}):N.IsDraft&&N.AccessRights.IsAdd&&s().createElement(r.Z,{frmctrlid:"fld270L1VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&s().createElement(f.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld270L1VCCloseBtn",onClick:()=>{u(!1),b.hideAddBtn(!1),h&&(T({type:"editData",payload:[]}),d([]))}})):"")),s().createElement(x.Z,{style:{display:"block"}},i.map(((t,a)=>s().createElement("div",{key:a},I==="panel"+a?s().createElement(je,{ref:l,parentId:e.parentId}):s().createElement(s().Fragment,null,s().createElement(Te.Z,{tableName:"BDMFixonBusinessFlowSubDetails",tableID:270,parentID:t.BDMFixonBusinessFlowSubDetailsIDPK,fldid:"fld270L1VCContainer",OpenSlideComponent:_,index:a,refresh:O,val:t,tf:G,t:K,title:"10.0.0.59-3:08:17 PM-18-7[270]"}))))))))})),qe=(0,a.createContext)(),$e=()=>{const e=(0,a.useContext)(qe);if(void 0===e)throw new Error("useCont must be used within  BDMFixonBusinessFlowSubDetailsContext Provider");return e},We=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),i=(0,a.useRef)(),o=(0,a.useRef)(),r=(0,a.useRef)(),d=(0,a.useRef)(),[c,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(),B=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[F,g]=(0,a.useState)(0),[y,w]=(0,a.useReducer)(Re.D,Re.E),[I,E]=(0,a.useState)(""),[f,S]=(0,a.useState)([]),[x,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{u(!0),document.getElementById("divBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(w({type:"editData",payload:[e.editData]}),w({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,a.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{w(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>l.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>l.current.HideEntryFields(!0)),500)}})));const C=e=>{S([]),document.getElementById("divBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetailsEntryTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainEntry").style.display="block",document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayFlex"),document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails").style.width="0%",document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails").style.display="none"};(0,a.useEffect)((()=>{B((e=>{(0,D.Z)(1).then((e=>{var t=new Array;t.push(e),w({type:"token",payload:t}),g(t.length),h(e)}))}))}),[]);const h=t=>{w({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return s().createElement("div",{style:{width:"100%"}},s().createElement(qe.Provider,{value:{cstate:y,cdispatch:w,ContextApi:$e,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==F&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,f),S([])},EditClose:e=>C(),AttachExpand:e=>(r.current.AttachmentData(y.PrimaryId),void(c&&(document.getElementById("overlayPreviewBDMFixonBusinessFlowSubDetails").style.width="50%",document.getElementById("divBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainTable").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainEntry").style.width="100%",document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails").style.display="block",document.getElementById("overlayimgAttBDMFixonBusinessFlowSubDetails").style.width="25%"))),Expanded:e=>{y.ShowDetail&&o.current.tableClick(e),w({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{y.ShowDetail&&o.current.viewtoggle()},clear:e=>{w({type:"ShowDetail",payload:!1}),w({type:"editData",payload:[]}),y.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{y.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),r.current.clrImgstate(!0)}}},s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-MainEntry",className:"",style:{background:"#fff"}},s().createElement("div",{style:{display:"flex"}},s().createElement("div",{id:"BDMFixonBusinessFlowSubDetailsEntryTable",style:{width:"100%"}},y.ShowDetail?s().createElement("div",null,s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divBDMFixonBusinessFlowSubDetails-Entry",style:{width:"100%"}},0!==F?s().createElement(Ye,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),s().createElement(ke.Z,{ref:d,menurefID:270,fileId:"LogoImgBDMFixonBusinessFlowSubDetails",imgloading:t=>{t||y.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:y.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewBDMFixonBusinessFlowSubDetails",frmctrlid:"PvwIm_270_L1_",tempImg:e=>{y.PrimaryId?r.current.AttachmentData(y.PrimaryId):r.current.tempImg(e),S(e)},clearTempData:y.Add})):s().createElement("div",null,s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divBDMFixonBusinessFlowSubDetails-Entry",style:{width:"100%"}},!e.tableview&&s().createElement(je,{ref:i,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),s().createElement(ke.Z,{ref:d,menurefID:270,fileId:"LogoImgBDMFixonBusinessFlowSubDetails",imgloading:t=>{t||y.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:y.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewBDMFixonBusinessFlowSubDetails",frmctrlid:"PvwIm_270_L1_",tempImg:e=>{y.PrimaryId?r.current.AttachmentData(y.PrimaryId):r.current.tempImg(e),S(e)},clearTempData:y.Add})),s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-MainTable"},0!==F?s().createElement(_e,{ref:l,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),s().createElement(Pe.Z,{ImgAttachment:e=>C(),menurefID:270,fileId:"AttImgBDMFixonBusinessFlowSubDetails",imgid:"overlayimgAttBDMFixonBusinessFlowSubDetails",valueIDPK:y.PrimaryId,PriviewData:(e,t,l,a)=>{d.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewBDMFixonBusinessFlowSubDetails",ref:r,imgloading:m,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_270_L1_",timglist:e=>{d.current.timglist(e),S(e)},clearTempData:y.Add}))),s().createElement("div",{id:"BDMFixonBusinessFlowSubDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),x&&s().createElement(Le(),{openDialog:x,closeDialog:e=>v(e),formID:270,PrimID:e.parentId,alert:(t,l,a)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Je=l(52743);const Qe=(0,a.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const l=(0,n.useDispatch)(),o=(0,a.useRef)(),[r,E]=(0,a.useState)([]),[f,S]=(0,a.useState)(!1),[x,v]=(0,a.useState)(!0),[C,h]=(0,a.useState)(e.showDetail),[M,b]=(0,a.useState)(!1),N=(0,a.useContext)(u.BDMFixonBusinessFlowRegistryContext),{cstate:A,cdispatch:P}=(0,u.ContextApi)(),[k,R]=(0,a.useState)(!1),[Z,L]=(0,a.useState)(!1),[O,z]=(0,a.useState)(!1),[V,K]=(0,a.useState)(0),[G,_]=(0,a.useState)(""),[H,U]=(0,a.useState)(""),[j,Y]=(0,a.useState)(null),[q,$]=(0,a.useState)(""),[W,J]=(0,a.useState)([]),[Q,X]=(0,a.useState)({IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!1,IsPrint:!0,IsExport:!0});let ee=(0,w.Z)();async function te(t,l,a){G&&_(t),N.loading(!0);let s=p.v.Api+"FPN269S3/",n={data:{p1:t||A.PrimaryId,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:1,p17:10,p18:a,p19:null,p20:null,p21:localStorage.getItem("UserGroupID"),p22:localStorage.getItem("userid")}};var i={};0==A.token.length&&await(0,D.Z)(0).then((e=>{i=e})),await(0,m.Z)(s,n,0==A.token.length?i:A.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=e.Output.data[0][269][0];E(t),K(e.Output.data[0][269][0].ViewCancelCheck);let l=e.Output.data[0];delete l[269];const a=Object.values(l).flat().sort(((e,t)=>e.orderno-t.orderno));J(a),N.loading(!1)}else N.loading(!1),N.alert({open:!0,color:"warning",message:["No record found"]})}))}(0,a.useEffect)((()=>{e.l4viewonly?E(e.data):e.viewonly?te(A.PrimaryId,0,"BDMFixonBusinessFlowID"):(E(A.PrimaryData),l({type:"BDMFixonBusinessFlowRegistry269",BDMFixonBusinessFlowRegistryBDMFixonBusinessFlowID:A.PrimaryData.BDMFixonBusinessFlowIDPK}))}),[e.data]),(0,a.useEffect)((()=>A.PrimaryData.length>0||A.PrimaryId?(te(A.PrimaryId,0,"BDMFixonBusinessFlowID"),!1):void 0),[A.PrimaryData,A.PrimaryId]),(0,a.useEffect)((()=>{v(e.ExpandDetailValue)}),[e.ExpandDetailValue]),(0,a.useEffect)((()=>{e.inboxdata&&Object.keys(e.inboxdata).length>0&&(v(!0),te(e.inboxdata.id,e.inboxdata.token,"BDMFixonBusinessFlowID"),L(!0))}),[e.inboxdata]),(0,a.useImperativeHandle)(t,(()=>({getAlert:e=>{v(!0),S(!1)},inboxprops:e=>{v(!0),te(e.id,e.token,"BDMFixonBusinessFlowID"),P({type:"PrimaryId",payload:e.id}),L(!0)}})));const le=()=>{z(!0)};return s().createElement("div",null,s().createElement(d.Z,null,s().createElement(c.Z,{xs:q?3:12,md:q?3:12,lg:q?3:12},s().createElement("div",{className:"gridcardl41A",id:"BDMFixonBusinessFlowRegistryDiv"},s().createElement(d.Z,null,s().createElement(c.Z,{sm:12,md:12,lg:12,xs:12},s().createElement(d.Z,{style:{marginBottom:"1%"}},s().createElement(c.Z,{sm:12,md:12,lg:12,xs:12},s().createElement("div",{className:"ViewHeadingTitle2"},s().createElement("span",{style:{cursor:"pointer"}},s().createElement("div",{id:"fld269L4VCMdOutlineArrowBackIosNew"},s().createElement(I.aQX,{className:"BackBtnIcon",onClick:()=>{N.ShowTableDiv(!1),N.add()}}),"Primary Details")),s().createElement("div",{className:"iconstyle displayFlex"},Z&&s().createElement(B.Z,{className:"ApprBtnCommon",name:"Approve",disabled:!1,onClick:()=>{le()}}),Z&&s().createElement(B.Z,{className:"RejBtnCommon",name:"Reject",disabled:!1,onClick:()=>{le()}}),A.AccessRights.IsEdit&&s().createElement("div",{id:"fld269L4VCEditIcon",onClick:()=>{N.editview(r)}},s().createElement(i.ZP,{title:"Edit"},s().createElement("span",null,s().createElement(F.Z,{style:{width:"20px",marginRight:"10px"}})))),A.AccessRights.IsAdd&&s().createElement("div",{id:"fld269L4VCCreateNewFolderIcon",onClick:()=>{N.add()}},s().createElement(i.ZP,{title:"Add"},s().createElement("span",null," ",s().createElement(g.Z,null)," "))),s().createElement("div",{id:"fld269L4VCRefreshIcon",onClick:()=>{te(A.PrimaryId,0,"BDMFixonBusinessFlowID")}},s().createElement(i.ZP,{title:"Refresh"},s().createElement("span",null," ",s().createElement(y.Z,null)," "))),q&&s().createElement("div",{id:"fld269L4VCFullscreen",onClick:()=>q&&$("")},s().createElement(i.ZP,{title:"Expand"},s().createElement("span",null,s().createElement(T.$4j,{style:{width:"18px",height:"18px",marginTop:"3px"}})))))))),s().createElement(Je.Z,{tableName:"BDMFixonBusinessFlowRegistry",tableID:269,parentID:A.PrimaryId,fldid:"fld269L4VCContainer",OpenSlideComponent:function(e,t){},index:0,val:r,tf:e=>A.language?.[e]?A.language[e]:e,t:e=>ee?.[e]?ee[e]:e,cardName:q,SubCardData:W,SubformsLink:function(e){$(e.name),X((t=>({...t,IsAdd:e.isNestAdd,IsEdit:e.isNestEdit})))},alertmsg:e=>N.alert(e),title:"10.0.0.59-3:08:17 PM-18-7[269]"}))))),q&&s().createElement(c.Z,{sm:9,md:9,xs:9,className:"lstscroll",style:{height:"auto"}},"BDMFixonBusinessFlowDetail"==q&&s().createElement(Ve,{AccessRights:Q,loading:e=>N.loading(e),parentData:r,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:A.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>te(A.PrimaryId,0,"BDMFixonBusinessFlowID")}),"BDMFixonBusinessFlowSubDetails"==q&&s().createElement(We,{AccessRights:Q,loading:e=>N.loading(e),parentData:r,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:A.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>te(A.PrimaryId,0,"BDMFixonBusinessFlowID")}))))}))},60264:(e,t,l)=>{l.d(t,{A:()=>a});const a={EnterKeyValues:{BDMFixonBusinessFlowRegistry:["BDMFixonBusinessFlowCode","BDMFixonBusinessFlowName","IsBMS","IsPortal"]},Label:{BDMFixonBusinessFlowRegistry:{BDMFixonBusinessFlowCode:["BDMFixonBusinessFlowCode","BDMFixonBusinessFlowName"],BDMFixonBusinessFlowName:["BDMFixonBusinessFlowCode","BDMFixonBusinessFlowName"],IsBMS:["BDMFixonBusinessFlowCode","BDMFixonBusinessFlowName"],IsPortal:["BDMFixonBusinessFlowCode","BDMFixonBusinessFlowName"]}},LabelHeader:{BDMFixonBusinessFlowRegistry:{BDMFixonBusinessFlowCode:["Business Flow Code","Business Flow Name"],BDMFixonBusinessFlowName:["Business Flow Code","Business Flow Name"],IsBMS:["Business Flow Code","Business Flow Name"],IsPortal:["Business Flow Code","Business Flow Name"]}},Property:{BDMFixonBusinessFlowRegistry:{BDMFixonBusinessFlowCode:{id:"fld269_5188",labelID:"BDMFixonBusinessFlowCode",maxLength:"20",labelname:"Business Flow Code",frmctrlid:"fld269_5188",frmctrlidname:"BDMFixonBusinessFlowCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BDMFixonBusinessFlowName:{id:"fld269_5189",labelID:"BDMFixonBusinessFlowName",maxLength:"50",labelname:"Business Flow Name",frmctrlid:"fld269_5189",frmctrlidname:"BDMFixonBusinessFlowName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},IsBMS:{id:"fld269_5190",labelID:"IsBMS",maxLength:"",labelname:"BMS",frmctrlid:"fld269_5190",frmctrlidname:"IsBMS",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPortal:{id:"fld269_5191",labelID:"IsPortal",maxLength:"",labelname:"Portal",frmctrlid:"fld269_5191",frmctrlidname:"IsPortal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{BDMFixonBusinessFlowRegistry:{}}}}}]);