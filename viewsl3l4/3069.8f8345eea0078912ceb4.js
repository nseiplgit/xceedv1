/*! For license information please see 3069.8f8345eea0078912ceb4.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[3069,7164,2325,3129,6939,7442,6408,7587,3795,7805],{45332:(e,t,a)=>{a.d(t,{Z:()=>u});var l=a(22122),i=a(81253),n=a(85061),c=a(92950),s=a(86010),r=a(79437),o=a(52543),m=a(83711),d=function(e,t){var a,l,i,c;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,n.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,n.Z)(t.imgFullHeight.split(" ")))):((i=e.classList).remove.apply(i,(0,n.Z)(t.imgFullHeight.split(" "))),(c=e.classList).add.apply(c,(0,n.Z)(t.imgFullWidth.split(" ")))))},p=c.forwardRef((function(e,t){var a=e.children,n=e.classes,o=e.className,p=(e.cols,e.component),u=void 0===p?"li":p,S=(e.rows,(0,i.Z)(e,["children","classes","className","cols","component","rows"])),P=c.useRef(null);return c.useEffect((function(){!function(e,t){e&&(e.complete?d(e,t):e.addEventListener("load",(function(){d(e,t)})))}(P.current,n)})),c.useEffect((function(){var e=(0,r.Z)((function(){d(P.current,n)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[n]),c.createElement(u,(0,l.Z)({className:(0,s.default)(n.root,o),ref:t},S),c.createElement("div",{className:n.tile},c.Children.map(a,(function(e){return c.isValidElement(e)?"img"===e.type||(0,m.Z)(e,["Image"])?c.cloneElement(e,{ref:P}):e:null}))))}));const u=(0,o.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(p)},69685:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(22122),i=a(81253),n=a(92950),c=(a(59864),a(86010)),s=a(52543),r=n.forwardRef((function(e,t){var a=e.cellHeight,s=e.children,r=e.classes,o=e.className,m=e.cols,d=void 0===m?2:m,p=e.component,u=void 0===p?"ul":p,S=e.gap,P=void 0===S?4:S,D=e.rowHeight,M=void 0===D?180:D,C=e.spacing,g=e.style,h=(0,i.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),y=C||P,B=a||M;return n.createElement(u,(0,l.Z)({className:(0,c.default)(r.root,o),ref:t,style:(0,l.Z)({margin:-y/2},g)},h),n.Children.map(s,(function(e){if(!n.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return n.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/d*t,"%"),height:"auto"===B?"auto":B*a+y,padding:y/2},e.props.style)})})))}));const o=(0,s.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(r)},35025:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.Z=c},64566:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=c},83173:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=c},92448:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=c},93657:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=c},53375:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=c},85984:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=c},59535:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");t.Z=c},41722:(e,t,a)=>{a.d(t,{D:()=>i,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function i(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(40900),i=a(26537),n=a(61956),c=a(35131),s=a.n(c),r=a(25108);function o(e,t,a,c){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":i.Z.TokenIDPK,"x-tokenname":i.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return r.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",o={data:[{p1:0,p2:null,p3:c,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:s()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:s()().format("YYYY-MM-DD hh:mm:ss")}]};(0,i.Z)(0).then((t=>{(0,n.Z)(e,o,t).then((e=>{200==e[0].status.code?r.log(e,"RES"):r.log("Error")}))}))}}},83817:(e,t,a)=>{function l(e,t,a,l,i){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:a}),t({type:"ShowDetail",payload:l}),i.loading(!1)):(i.loading(!1),i.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){i.loading(!1),i.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{a:()=>l})},65197:(e,t,a)=>{a.d(t,{Z:()=>y});var l=a(92950),i=a.n(l),n=a(14439),c=a(27848),s=a(63163),r=a(6562),o=a(30553),m=a(83173),d=a(21392),p=a(69685),u=a(45332),S=a(26537),P=a(77366),D=a(71168),M=a.n(D),C=a(99940),g=a(55918),h=a.n(g);function y(e){const[t,a]=(0,l.useState)([]),[m,d]=(0,l.useState)([]),[p,u]=M()(e.tableID);(0,l.useEffect)((()=>{P(p)}),[p,e.val]),(0,l.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&P(e.refresh)}),[e.refresh]);const S=t=>e.t(t);function P(t){const l=t.filter((t=>t.FormID==e.tableID));let i=[],n=[];l.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):i.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),d(D(n,"id")),a(D(i,"id"))}function D(e,t){const a=e.map((e=>e[t])),l=e.filter((({value:e},t)=>!a.includes(e,t+1)));return l}return i().createElement(i().Fragment,null,i().createElement("div",{index:e.index,className:"padding paddingLeft width100"},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i().createElement("div",{className:"ViewHeadingTitle"},i().createElement("p",null,(g=e.tableName,e.tf(g)+" "+S("view")))),i().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},m.map(((t,a)=>i().createElement(i().Fragment,null,i().createElement(C.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},i().createElement("div",{key:a,className:"GridAlignSwitch"},i().createElement(r.Z,null,i().createElement(o.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:i().createElement(s.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),i().createElement(n.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement(n.Z,{container:!0},t.map(((t,a)=>i().createElement(i().Fragment,null,t.ForeignTag?i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:S(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var a,l;a=t.IDPK,l=e.val[t.ValID],e.OpenSlideComponent(a,l)},title:e.val[t.id]},e.val[t.id])))):i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?h()(e.val[t.id]):e.val[t.id]))))))))))),i().createElement(c.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewFileImgCont"},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingTitle1"},i().createElement("p",{className:"ViewHeadpTagHD"},S("Attachments")))),i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingAttachmentL4"},i().createElement(B,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var g}const B=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&n()}),[e.id]);const n=()=>{(0,S.Z)(0).then((t=>{(0,P.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return i().createElement("div",null,i().createElement(p.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return i().createElement(u.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?i().createElement("img",{src:e.ImgPath,alt:e.ImageName}):i().createElement(m.Z,{className:"previewFile"}),t.length>1&&i().createElement("div",{className:"Imgbgmstyle"},i().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),i().createElement(d.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},406:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var l=a(92950),i=a.n(l),n=a(45237),c=a(36939),s=a(61201),r=a(50743),o=(a(67698),a(10966),a(30553)),m=(a(99090),a(61956)),d=a(51673),p=a(44528),u=(a(96071),a(14439)),S=a(27848),P=(a(49174),a(38773),a(19089),a(1695)),D=(a(13235),a(61924)),M=a.n(D),C=a(26537),g=a(40900),h=a(35131),y=a.n(h),B=a(55490),I=(a(2493),a(82729),a(75355),a(11107),a(37148)),E=(a(45965),a(92371)),f=(a(40826),a(64566)),v=a(17624),b=a(16689),N=a(41381),w=a(8981),T=a(63163),x=a(99940),F=a(5434),k=a(45155),A=a(99263),Z=a(16233),R=a.n(Z),L=(a(91113),a(79117),a(55918)),O=a.n(L);const z={PPMSBSchComDisciplineIDPK:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBMinRange:"",PPMSBMaxRang:"",PPMSBManHour:"",PPMSBManMinute:"",PPMSBManSecond:"",PPMSBManPower:"",PPMSBMaintenanceHours:"",IsDraft:!1,Remarks:"",FrequencyID:null,DisciplineID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",Type:"PPMSBSchComDisciplineID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid"),PPMSBMaintenanceHoursDays:""},K=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,D]=(0,l.useState)(!1),[h,Z]=(0,l.useState)(!0),[L,K]=(0,l.useState)(!1),[H,V]=(0,l.useState)(!1),[G,q]=(0,l.useState)(0),[_,U]=(0,l.useState)(!0),[j,Y]=(0,l.useState)({}),[Q,$]=(0,l.useState)([]),[W,J]=(0,l.useState)(!1),[X,ee]=((0,l.useRef)(),(0,l.useState)(!1)),[te,ae]=(0,l.useState)(null),[le,ie]=((0,l.useRef)(),(0,l.useState)(!0)),[ne,ce]=(0,l.useState)(!0),[se,re]=(0,l.useState)(0),[oe,me]=(0,l.useState)(0),[de,pe]=(0,l.useState)([]),[ue,Se]=(0,l.useState)([]),[Pe,De]=(0,l.useReducer)(E.Z,z),[Me,Ce]=(0,l.useState)(!1),[ge,he]=(0,l.useState)([]),[ye,Be]=(0,l.useState)(null),Ie=(0,l.useContext)(b.PPMSBSchComDisciplineContext),{cstate:Ee,cdispatch:fe}=(0,b.ContextApi)(),[ve,be]=(0,l.useState)(!0),[Ne,we]=(0,l.useState)(""),[Te,xe]=(0,l.useState)(!1),[Fe,ke]=(0,l.useState)(""),[Ae,Ze]=(0,l.useState)(!0),[Re,Le]=(0,l.useState)(!0),[Oe,ze]=(0,l.useState)(!0),[Ke,He]=(0,l.useState)(!0),[Ve,Ge]=(0,l.useState)(!0),[qe,_e]=(0,l.useState)(0),[Ue]=(0,l.useState)(localStorage.getItem("Language")),[je]=(0,l.useState)(localStorage.getItem("Language")),[Ye,Qe]=(0,l.useState)(!1),[$e,We]=(0,l.useState)(!1),Je=(0,l.useRef)(null),Xe=(0,l.useRef)(null),[et,tt]=R()("499"),[at,lt]=(0,l.useState)(!1),[it,nt]=(0,l.useState)("panelS5"),[ct,st]=(0,l.useState)([]);let rt=(0,w.Z)();const[ot,mt]=(0,l.useState)({}),dt=e=>rt?.[e]?rt[e]:e,pt=t=>Ee.language?.[t]?Ee.language[t]:e.createEasy?ot?.[t]:t;(0,l.useEffect)((()=>{Ee.PrimaryId&&_e(Number(Ee.PrimaryId))}),[Ee.PrimaryId]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),mt(Object.assign({},...t))}(et)}),[et]),(0,l.useEffect)((()=>{St(ct,"SetDefaultPPMSBSchComDisciplineID")}),[ct]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{fe({type:"expandDetail",payload:!0}),K(!1)},getPreview:e=>{},clear:()=>{Pt(),ht(1,null,"SetDefaultPPMSBSchComDisciplineID",Ee.token[0])},formlink:e=>{},editRecord:(e,t,a)=>{St(e,""),J(a)},Add:()=>{Pt(),J(!1),fe({type:"expandDetail",payload:"mainpanel"})},Editview:(e,t,a)=>{St(e,""),J(a),ce(!1)},CreateEasyProps:(e=!0,t)=>{setIsFetching(!0),t?(vt(t),Qe(e)):(Pt(),Qe(e))},cardRefresh:()=>{Xe.current.cardRefresh()}})));const ut=e=>{let t=60*Number(e),a=parseInt(t,10),l=Math.floor(a/86400);a-=3600*l*24;let i=Math.floor(a/3600);a-=3600*i;let n=Math.floor(a/60);a-=60*n;let c=l.toString().length;2===c?l="0"+l:1===c&&(l="00"+l),1===i.toString().length&&(i="0"+i),1===n.toString().length&&(n="0"+n);let s=(l.toString()+i.toString()+n.toString()).replace(/\D/g,"").match(/(\d{0,3})(\d{0,2})(\d{0,2})/);return s[2]?s[1]+": "+s[2]+(s[3]?":"+s[3]:""):s[1]},St=(t,a)=>{let l=t;Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),fe({type:"ViewID",payload:l.PPMSBSchComDisciplineIDPK}),"SetDefaultPPMSBSchComDisciplineID"==a?ke(l.PPMSBSchComDisciplineIDPK):(_e(e.primid?Number(e.primid):l.PPMSBSchComDisciplineIDPK?l.PPMSBSchComDisciplineIDPK:0),fe({type:"PrimaryId",payload:l.PPMSBSchComDisciplineIDPK})),De({type:"number",name:"DisciplineID",number:l.DisciplineID?Number(l.DisciplineID):0}),De({type:"text",name:"DisciplineName",value:l.DisciplineName}),De({type:"number",name:"FrequencyID",number:l.FrequencyID?Number(l.FrequencyID):0}),De({type:"text",name:"FrequencyName",value:l.FrequencyName}),De({type:"text",name:"PPMSBMaintenanceHoursDays",value:ut(l.PPMSBMaintenanceHours)}),De({type:"text",name:"PPMSBMaintenanceHours",value:l.PPMSBMaintenanceHours}),De({type:"number",name:"PPMSBManPower",number:l.PPMSBManPower}),De({type:"number",name:"PPMSBManHour",number:l.PPMSBManHour}),De({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:l.PPMSBSchComDisciplineDetailsCode?l.PPMSBSchComDisciplineDetailsCode:""}),De({type:"number",name:"PPMSBMinRange",number:l.PPMSBMinRange}),De({type:"number",name:"PPMSBMaxRang",number:l.PPMSBMaxRang}),De({type:"number",name:"PPMSBManMinute",number:l.PPMSBManMinute}),De({type:"number",name:"PPMSBManSecond",number:l.PPMSBManSecond}),l.IsActive&&Z("1"==l.IsActive)},Pt=()=>{pe([]),_e(0),ke(""),fe({type:"PrimaryId",payload:""}),De({type:"text",name:"DisciplineID",value:null}),De({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSBSchComDisciplineDisciplineNameClear")&&document.getElementById("PPMSBSchComDisciplineDisciplineNameClear").click(),De({type:"text",name:"FrequencyID",value:null}),De({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSBSchComDisciplineFrequencyNameClear")&&document.getElementById("PPMSBSchComDisciplineFrequencyNameClear").click(),De({type:"text",name:"PPMSBMaintenanceHoursDays",value:""}),De({type:"text",name:"PPMSBMaintenanceHours",value:""}),De({type:"number",name:"PPMSBManPower",number:0}),De({type:"number",name:"PPMSBManHour",number:0}),De({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:""}),De({type:"number",name:"PPMSBMinRange",number:0}),De({type:"number",name:"PPMSBMaxRang",number:0}),De({type:"number",name:"PPMSBManMinute",number:0}),De({type:"number",name:"PPMSBManSecond",number:0}),Ze(!0),Le(!0),ze(!0),He(!0),Ge(!0),Z(!0)},Dt=e=>{Ie.loading(!0),Ie.ConfirmAlert(null);const t=g.v.Api+"FP499S2/",a={data:[{p1:"SetDefaultPPMSBSchComDisciplineID"==e?"NORECORDS"!=Fe&&Fe?Fe:0:qe,p2:bt(Pe.PPMSBSchComDisciplineDetailsCode),p3:Pe.PPMSBMinRange?Number(Pe.PPMSBMinRange):0,p4:Pe.PPMSBMaxRang?Number(Pe.PPMSBMaxRang):0,p5:Pe.PPMSBManHour?Number(Pe.PPMSBManHour):0,p6:Pe.PPMSBManMinute?Number(Pe.PPMSBManMinute):0,p7:Pe.PPMSBManSecond?Number(Pe.PPMSBManSecond):0,p8:Pe.PPMSBManPower?Number(Pe.PPMSBManPower):0,p9:Pe.PPMSBMaintenanceHours?Number(Pe.PPMSBMaintenanceHours):0,p10:!1,p11:"SetDefaultPPMSBSchComDisciplineID"==e?"SetDefault":null,p12:Pe.FrequencyID?Pe.FrequencyID:0,p13:Pe.DisciplineID?Pe.DisciplineID:0,p14:h,p15:"SetDefaultPPMSBSchComDisciplineID"==e,p16:localStorage.getItem("userid"),p17:y()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,C.Z)(0).then((l=>{(0,d.Z)(t,a,l).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(Ie.alert({open:!0,color:"warning",message:n}),Ie.loading(!1)):Mt(e)):(Ie.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Ie.loading(!1))}))}))},Mt=e=>{Ze(!0),Le(!0),ze(!0),He(!0),Ge(!0),Ie.ConfirmAlert(null);const t=g.v.Api+"FP499S1/",a={data:[{p1:"SetDefaultPPMSBSchComDisciplineID"==e?"NORECORDS"!=Fe&&Fe?Fe:0:qe,p2:bt(Pe.PPMSBSchComDisciplineDetailsCode),p3:Pe.PPMSBMinRange?Number(Pe.PPMSBMinRange):0,p4:Pe.PPMSBMaxRang?Number(Pe.PPMSBMaxRang):0,p5:Pe.PPMSBManHour?Number(Pe.PPMSBManHour):0,p6:Pe.PPMSBManMinute?Number(Pe.PPMSBManMinute):0,p7:Pe.PPMSBManSecond?Number(Pe.PPMSBManSecond):0,p8:Pe.PPMSBManPower?Number(Pe.PPMSBManPower):0,p9:Pe.PPMSBMaintenanceHours?Number(Pe.PPMSBMaintenanceHours):0,p10:!1,p11:"SetDefaultPPMSBSchComDisciplineID"==e?"SetDefault":null,p12:Pe.FrequencyID?Pe.FrequencyID:0,p13:Pe.DisciplineID?Pe.DisciplineID:0,p14:h,p15:"SetDefaultPPMSBSchComDisciplineID"==e,p16:localStorage.getItem("userid"),p17:y()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,C.Z)(0).then((l=>{(0,m.Z)(t,a,l).then((async t=>{const a=t[0].status;200==a.code?("SetDefaultPPMSBSchComDisciplineID"==e?Ie.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Ie.alert({open:!0,color:"success",message:[a.message]}),fe({type:"ViewID",payload:t[0].Data.IDPK}),fe({type:"PrimaryId",payload:t[0].Data.IDPK}),await J(!0)),Ie.attachmentSave(t[0].Data.IDPK),Ie.loading(!1),document.getElementById("overlayimgAttPPMSBSchComDiscipline")&&(document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.width="0%",document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.display="none")):(Ie.alert({open:!0,color:"warning",message:[a.message]}),Ie.loading(!1)),"SetDefaultPPMSBSchComDisciplineID"==e&&(Qe(!0),ht(1,null,"SetDefaultPPMSBSchComDisciplineID",Ee.token[0]))}))}))};function Ct(e,t){(0,A.CreateEasy)(e,Ee,fe,Ie,Je)}function gt(e,a){return AdvanceSearch(e,a,b.PPMSBSchComDisciplineContext,(0,b.ContextApi)(),Bt,t),!1}const ht=(t,a,l,i,n,c)=>{const s=g.v.Api+"FP499S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:"0"==Pe.FrequencyID?null:Pe.FrequencyID,p13:"0"==Pe.DisciplineID?null:Pe.DisciplineID,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:"0"==Pe.DivisionID?null:Pe.DivisionID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:t,p29:10,p30:l,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}},o=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{});Ce(!0);const m={data:o};return(0,d.Z)(s,"ClearAll"==l?m:r,"SetDefaultPPMSBSchComDisciplineID"==l&&i?i:Ee.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return 1==i.length?i[0]:{};he(1==t?e>0?i:[]:ge.concat(i)),"SetDefaultPPMSBSchComDisciplineID"==l&&(e>0?st(i[0]):ke("NORECORDS")),Ce(!1)}else Ie.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ce(!1)}))},yt=(t,a,l)=>{const i=g.v.Api+"FP499S3/",n={data:{p1:null,p2:"PPMSBSchComDisciplineDetailsCode"==l&&a?"%"+a+"%":null,p3:"PPMSBMinRange"==l&&a?"%"+a+"%":null,p4:"PPMSBMaxRang"==l&&a?"%"+a+"%":null,p5:"PPMSBManHour"==l&&a?"%"+a+"%":null,p6:"PPMSBManMinute"==l&&a?"%"+a+"%":null,p7:"PPMSBManSecond"==l&&a?"%"+a+"%":null,p8:"PPMSBManPower"==l&&a?"%"+a+"%":null,p9:"PPMSBMaintenanceHours"==l&&a?"%"+a+"%":null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:t,p29:10,p30:"PPMSBSchComDisciplineID",p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}},c={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};Ce(!0),(0,d.Z)(i,"ClearAll"==l?c:n,Ee.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;1==t?("PPMSBSchComDisciplineDetailsCode"==l&&Ze(e>0),"PPMSBMinRange"==l&&Le(e>0),"PPMSBMaxRang"==l&&ze(e>0),"PPMSBManMinute"==l&&He(e>0),"PPMSBManSecond"==l&&Ge(e>0),he(i)):("PPMSBSchComDisciplineDetailsCode"==l&&Ze(!0),"PPMSBMinRange"==l&&Le(!0),"PPMSBMaxRang"==l&&ze(!0),"PPMSBManMinute"==l&&He(!0),"PPMSBManSecond"==l&&Ge(!0),he(ge.concat(i))),Ce(!1)}else Ie.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ce(!1)}))},Bt=(0,l.useCallback)((async(e,t,a)=>{if("text"==a)De({type:a,name:t,value:e});else if("number"==a){if(De({type:a,name:t,number:Number(e)}),"PPMSBMaintenanceHours"===t){let t=e.Days*Pe.PPMSBManPower;De({type:"number",name:"PPMSBManHour",number:Number(t)})}else if("PPMSBManPower"===t){let t=e*Pe.PPMSBMaintenanceHours;De({type:"number",name:"PPMSBManHour",number:Number(t)})}}else"boolean"==a?De({type:a,name:t,boolean:e}):"date"==a?De({type:"text",name:t,value:e}):"select"==a&&("DisciplineID"==t?(De({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),De({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null})):"FrequencyID"==t&&(De({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),De({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null})))}),[Pe]);function It(e){if("DisciplineID"==e){if(!Pe.DisciplineID)return!1;De({type:"text",name:"DisciplineID",value:null}),De({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSBSchComDisciplineDisciplineNameClear")&&document.getElementById("PPMSBSchComDisciplineDisciplineNameClear").click()}else if("FrequencyID"==e){if(!Pe.FrequencyID)return!1;De({type:"text",name:"FrequencyID",value:null}),De({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSBSchComDisciplineFrequencyNameClear")&&document.getElementById("PPMSBSchComDisciplineFrequencyNameClear").click()}}function Et(e){if("DisciplineID"==e){if(!Pe.DisciplineID)return!1;De({type:"text",name:"DisciplineID",value:null})}else if("FrequencyID"==e){if(!Pe.FrequencyID)return!1;De({type:"text",name:"FrequencyID",value:null})}}const ft=e=>{Ie.ConfirmAlert(i().createElement(M(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>vt(e),onCancel:()=>Ie.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:dt("Yes"),cancelBtnText:dt("No"),showCancel:!0},dt("Do you want to update this record?")))};function vt(e){Ie.ConfirmAlert(null),V(e.IsDraft),fe({type:"editData",payload:[e]}),fe({type:"PrimaryId",payload:e.PPMSBSchComDisciplineIDPK}),_e(Number(e.PPMSBSchComDisciplineIDPK)?Number(e.PPMSBSchComDisciplineIDPK):0),De({type:"number",name:"DisciplineID",number:e.DisciplineID?Number(e.DisciplineID):0}),De({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:""}),De({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),De({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""}),De({type:"text",name:"PPMSBMaintenanceHours",value:e.PPMSBMaintenanceHours?e.PPMSBMaintenanceHours:""}),De({type:"number",name:"PPMSBManPower",number:e.PPMSBManPower?Number(e.PPMSBManPower):0}),De({type:"number",name:"PPMSBManHour",number:e.PPMSBManHour?Number(e.PPMSBManHour):0}),De({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:e.PPMSBSchComDisciplineDetailsCode?e.PPMSBSchComDisciplineDetailsCode:""}),De({type:"text",name:"PPMSBMinRange",value:e.PPMSBMinRange?e.PPMSBMinRange:""}),De({type:"text",name:"PPMSBMaxRang",value:e.PPMSBMaxRang?e.PPMSBMaxRang:""}),De({type:"text",name:"PPMSBManMinute",value:e.PPMSBManMinute?e.PPMSBManMinute:""}),De({type:"text",name:"PPMSBManSecond",value:e.PPMSBManSecond?e.PPMSBManSecond:""})}const bt=e=>"string"==typeof e?e.trim():e;return i().createElement("div",{style:{width:"100%",display:"none"},id:"PPMSBSchComDiscipline-MainEntry"},i().createElement("div",{className:"tabcontainer padleft5"},i().createElement("div",{className:"formcontent"},i().createElement("div",{className:"mar0"},i().createElement("div",{className:"ascardpad"},W?i().createElement("div",null,i().createElement(v.default,{ref:Xe,ExpandDetailValue:!0,EntryExp:Ee.expandDetail,inboxdata:{}})):i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divPPMSBSchComDiscipline-Entry",style:{width:"100%",position:"relative"}},i().createElement(c.Z,{expanded:"mainpanel"==Ee.expandDetail},i().createElement(r.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},i().createElement("div",{className:"displayFlex backgroundLightL3 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("div",{id:"fld499L4ECdFlexEntryHeader",onClick:()=>{Ie.ShowTableDiv(!1),document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.display="none"}},i().createElement(F.aQX,{className:"BackBtnIcon"})),i().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[499]"},qe?"Edit ":"New ",pt("499"))),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},"mainpanel"===Ee.expandDetail&&!qe&&i().createElement(x.FormGroup,{row:!0},i().createElement(o.Z,{labelPlacement:"bottom",id:"fld499L4ECEntryCheckbox",control:i().createElement(T.Z,{checked:"1"==h,onChange:e=>Z(e.target.checked)}),label:dt(1==h?"Active":"In Active")})))),qe&&"mainpanel"===Ee.expandDetail?i().createElement("div",{className:"GridAlign",onClick:()=>{Ie.AttachExpand(!0)},id:"fld499L4ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!qe},i().createElement(k.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,dt("Attach")))):null,!qe&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Pt()},id:"fld499L4ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(k.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,dt("Reset")))),"mainpanel"===Ee.expandDetail?i().createElement(P.Z,{name:qe?"Update":"Save",disabled:!1,frmctrlid:"fld499L4ECSaveBtnIsAdd",onClick:()=>{Pe.DisciplineID&&0!=Pe.DisciplineID?Pe.FrequencyID&&0!=Pe.FrequencyID?Pe.PPMSBMaintenanceHours&&0!=Pe.PPMSBMaintenanceHours?bt(Pe.PPMSBManPower)?Ie.ConfirmAlert(i().createElement(M(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:dt("Are you sure?"),onConfirm:()=>Dt(),onCancel:()=>Ie.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:dt("Yes"),cancelBtnText:dt("Cancel"),showCancel:!0},dt("Do you want to Save?"))):Ie.alert({open:!0,color:"warning",message:[dt("Please enter the")+""+pt("PPMSBManPower")]}):Ie.alert({open:!0,color:"warning",message:[dt("Please enter the Maintenance Hours")]}):Ie.alert({open:!0,color:"warning",message:[dt("Please select the ")+" "+pt("FrequencyID")]}):Ie.alert({open:!0,color:"warning",message:[dt("Please select the ")+" "+pt("DisciplineID")]})}}):null,qe&&"mainpanel"===Ee.expandDetail?i().createElement(I.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld499L4ECCloseBtn",onClick:()=>{Ie.ShowTableDiv(!1),Pt(),J(!0),ce(!0),document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.display="none"}}):null))),i().createElement(s.Z,null,i().createElement("div",{id:"PPMSBSchComDiscipline-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"PPMSBSchComDiscipline-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"PPMSBSchComDiscipline-MainBody",className:"padding paddingLeft"},i().createElement("div",{className:"display-inline-flex"},i().createElement("div",{className:"l4-side-component100 displayFlex"+(ve?"":"l4width")},i().createElement("div",{className:"l4-side-component100"},i().createElement("div",{className:"cardl4 "},i().createElement("div",{color:"info",className:"cardheadvh"},i().createElement(u.Z,null,i().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},i().createElement("div",{className:"GrpViewHeadingTitle"},i().createElement("p",null,"Primary Details"))))),i().createElement("div",{style:{padding:"15px"}},i().createElement(u.Z,{spacing:2},i().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(B.Z,{json:N.A,id:Pe.DisciplineID,"data-testid":Pe.DisciplineID,value:Pe.DisciplineName,SPName:"PPMSBSchComDiscipline",FieldName:"DisciplineID",tfLabel:pt("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Bt(e,"DisciplineID","select"),onChange:(e,t)=>{ht(e,t,"DisciplineIDPK")},KeyBack:e=>{Et("DisciplineID")},fieldorder:"1",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,openSlide:()=>{Ct("34")},Tabledialog:()=>gt("34","DisciplineID"),loading:Me,clear:e=>{e&&It("DisciplineID")}})),i().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(B.Z,{json:N.A,id:Pe.FrequencyID,"data-testid":Pe.FrequencyID,value:Pe.FrequencyName,SPName:"PPMSBSchComDiscipline",FieldName:"FrequencyID",tfLabel:pt("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Bt(e,"FrequencyID","select"),onChange:(e,t)=>{ht(e,t,"FrequencyIDPK")},KeyBack:e=>{Et("FrequencyID")},fieldorder:"2",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,openSlide:()=>{Ct("457")},Tabledialog:()=>gt("457","FrequencyID"),loading:Me,clear:e=>{e&&It("FrequencyID")}})),i().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(p.Z,{json:N.A,"data-testid":Pe.PPMSBMaintenanceHours,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBMaintenanceHours",tfLabel:pt("PPMSBMaintenanceHours"),frmctrlid:"fld499_22833",fieldorder:"3",onChange:e=>{Bt(e,"PPMSBMaintenanceHours","number"),De({type:"text",name:"PPMSBMaintenanceHours",value:e.Days}),De({type:"text",name:"PPMSBMaintenanceHoursDays",value:e.val})},clear:e=>{e&&(De({type:"text",name:"PPMSBMaintenanceHours",value:""}),De({type:"text",name:"PPMSBMaintenanceHoursDays",value:""}))},placeholder:"DDD:MM:YY",value:Pe.PPMSBMaintenanceHoursDays})),i().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(p.Z,{json:N.A,"data-testid":Pe.PPMSBManPower,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBManPower",tfLabel:pt("PPMSBManPower"),frmctrlid:"fld499_22832",fieldorder:"4",onChange:e=>{Bt(e,"PPMSBManPower","number")},clear:e=>{e&&De({type:"number",name:"PPMSBManPower",number:0})},value:Pe.PPMSBManPower})),i().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(p.Z,{json:N.A,"data-testid":Pe.PPMSBManHour,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBManHour",tfLabel:pt("PPMSBManHour"),frmctrlid:"fld499_22829",fieldorder:"1",onChange:e=>{Bt(e,"PPMSBManHour","number")},clear:e=>{e&&De({type:"number",name:"PPMSBManHour",number:0})},value:O()(Pe.PPMSBManHour)})))))),i().createElement("div",{className:"l4-side-menu "+(ve?"":"displayNone"),style:{display:"none"}},i().createElement("div",{className:"cardhight cardl4"},i().createElement("div",null,i().createElement("div",{className:"PPMSBSchComDiscipline-sublink formpanel"},i().createElement("div",{className:"divacc",style:{display:"none"}},i().createElement(c.Z,{expanded:"panelS@number@"==it,onChange:("panelS@number@",(e,t)=>{nt(!!t&&"panelS@number@")})},i().createElement(r.Z,{className:"accpanel",expandIcon:i().createElement(f.Z,{className:"iconExpand"})},i().createElement("p",{className:"mpadd5 plinkactive"},"Invisible Field")),i().createElement(s.Z,null,i().createElement(u.Z,{spacing:12},i().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(B.Z,{"data-testid":Pe.PPMSBSchComDisciplineDetailsCode,json:N.A,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBSchComDisciplineDetailsCode",tfLabel:pt("PPMSBSchComDisciplineDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ft(t),onClick:()=>{Ae&&yt(1,"","ClearAll"),Ze(!0)},frmctrlid:"fld499_22826",frmctrlidName:"PPMSBSchComDisciplineDetailsCode",fieldorder:"1",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,onChange:(e,t)=>{Ae&&yt(e,t,"PPMSBSchComDisciplineDetailsCode"),Bt(t,"PPMSBSchComDisciplineDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ze(!0)},showList:Ae,SideEntryView:!1,KeyBack:e=>{},value:Pe.PPMSBSchComDisciplineDetailsCode,loading:Me,clear:e=>{e&&(De({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:""}),Ze(!0))}})),i().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(B.Z,{"data-testid":Pe.PPMSBMinRange,json:N.A,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBMinRange",tfLabel:pt("PPMSBMinRange"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ft(t),onClick:()=>{Re&&yt(1,"","ClearAll"),Le(!0)},frmctrlid:"fld499_22827",frmctrlidName:"PPMSBMinRange",fieldorder:"1",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,onChange:(e,t)=>{Re&&yt(e,t,"PPMSBMinRange"),Bt(t,"PPMSBMinRange","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Le(!0)},showList:Re,SideEntryView:!1,KeyBack:e=>{},value:Pe.PPMSBMinRange,loading:Me,clear:e=>{e&&(De({type:"text",name:"PPMSBMinRange",value:""}),Le(!0))}})),i().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(B.Z,{"data-testid":Pe.PPMSBMaxRang,json:N.A,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBMaxRang",tfLabel:pt("PPMSBMaxRang"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ft(t),onClick:()=>{Oe&&yt(1,"","ClearAll"),ze(!0)},frmctrlid:"fld499_22828",frmctrlidName:"PPMSBMaxRang",fieldorder:"1",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,onChange:(e,t)=>{Oe&&yt(e,t,"PPMSBMaxRang"),Bt(t,"PPMSBMaxRang","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ze(!0)},showList:Oe,SideEntryView:!1,KeyBack:e=>{},value:Pe.PPMSBMaxRang,loading:Me,clear:e=>{e&&(De({type:"text",name:"PPMSBMaxRang",value:""}),ze(!0))}})),i().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(B.Z,{"data-testid":Pe.PPMSBManMinute,json:N.A,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBManMinute",tfLabel:pt("PPMSBManMinute"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ft(t),onClick:()=>{Ke&&yt(1,"","ClearAll"),He(!0)},frmctrlid:"fld499_22830",frmctrlidName:"PPMSBManMinute",fieldorder:"1",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,onChange:(e,t)=>{Ke&&yt(e,t,"PPMSBManMinute"),Bt(t,"PPMSBManMinute","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||He(!0)},showList:Ke,SideEntryView:!1,KeyBack:e=>{},value:Pe.PPMSBManMinute,loading:Me,clear:e=>{e&&(De({type:"text",name:"PPMSBManMinute",value:""}),He(!0))}})),i().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(B.Z,{"data-testid":Pe.PPMSBManSecond,json:N.A,SPName:"PPMSBSchComDiscipline",FieldName:"PPMSBManSecond",tfLabel:pt("PPMSBManSecond"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ft(t),onClick:()=>{Ve&&yt(1,"","ClearAll"),Ge(!0)},frmctrlid:"fld499_22831",frmctrlidName:"PPMSBManSecond",fieldorder:"1",data:ge,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ge.length>0?ge[0].TotalCount:0,onChange:(e,t)=>{Ve&&yt(e,t,"PPMSBManSecond"),Bt(t,"PPMSBManSecond","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ge(!0)},showList:Ve,SideEntryView:!1,KeyBack:e=>{},value:Pe.PPMSBManSecond,loading:Me,clear:e=>{e&&(De({type:"text",name:"PPMSBManSecond",value:""}),Ge(!0))}}))))))))),i().createElement("div",{id:"PPMSBSchComDisciplineSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBSchComDisciplineSideBar").style.width="0",void ee(!1))},"Ã—"),X&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},te)))))))))))))))))}))},16689:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>D,PPMSBSchComDisciplineContext:()=>P,default:()=>M});var l=a(92950),i=a.n(l),n=a(406),c=a(45965),s=a(88269),r=a(45237),o=a(26537),m=a(30037),d=a(67698),p=a(55995),u=(a(37274),a(9175)),S=a.n(u);const P=(0,l.createContext)();function D(){const e=i().useContext(P);if(void 0===e)throw new Error("ContextApi must be used within a PPMSBSchComDisciplineContext.Provider");return e}const M=(0,l.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const a=(0,l.useRef)(),u=(0,r.useDispatch)(),[D,M]=(0,l.useState)(0),[C,g]=i().useReducer(m.d,m.E),h=(0,l.useRef)(),y=(0,l.useRef)(),B=(0,l.useRef)(),[I,E]=(0,l.useState)(),[f,v]=(0,l.useState)(null),[b,N]=(0,l.useState)(""),w=(0,l.useRef)(),[T,x]=(0,l.useState)([]),[F,k]=(0,l.useState)(!1);(0,l.useEffect)((()=>{u((e=>{(0,o.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),M(t.length),A(e)}))})),e.loading(!0)}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"ShowView",payload:!0}),g({type:"PrimaryData",payload:e.editData}),a.current.editRecord(e.editData,!1,!0),g({type:"IsDraft",payload:!1}),Z(!0))}),[e.editData]);const A=e=>{(0,c.Z)(e,499).then((e=>g({type:"AccessRights",payload:e})))};function Z(e){g({type:"expandDetail",payload:"mainpanel"}),e?(document.getElementById("PPMSBSchComDiscipline-MainTable").style.width="0%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.display="flex",document.getElementById("PPMSBSchComDiscipline-MainTable").style.display="none",g({type:"Showtable",payload:!1})):(document.getElementById("PPMSBSchComDiscipline-MainTable").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainTable").style.display="block",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.width="0%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.display="none",g({type:"Showtable",payload:!0}),h.current.tableRefresh())}return i().createElement("div",null,i().createElement(P.Provider,{value:{cstate:C,cdispatch:g,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),edit:(e,t,l)=>{return n=t,c=l,void((i=e)?(g({type:"ShowView",payload:!0}),g({type:"PrimaryData",payload:i}),n?a.current.editRecord(i,n,!1):a.current.editRecord(i,n,c),g({type:"IsDraft",payload:n}),Z(!0)):(a.current.formlink(0),g({type:"ShowView",payload:!1}),Z(!0),a.current.clear()));var i,n,c},add:()=>a.current.Add(),editview:e=>{a.current.Editview(e),g({type:"expandDetail",payload:"mainpanel"})},ShowTableDiv:e=>Z(e),AttachExpand:e=>(y.current.AttachmentData(C.PrimaryId),void(C.ExpandTableValue?(document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.width="30%",document.getElementById("divPPMSBSchComDiscipline-Entry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainTable").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.display="block",document.getElementById("PPMSBSchComDisciplineTbsearch").style.display="none"):(document.getElementById("PPMSBSchComDiscipline-MainTable").style.width="40%",document.getElementById("divPPMSBSchComDiscipline-Entry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.display="block",document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.width="30%",document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.display="block",document.getElementById("PPMSBSchComDisciplineTbsearch").style.display="none"))),openDialog:t=>e.openDialog(t),Approval:e=>k(e),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{B.current.tempsave(e,T),x([])},floatRefresh:()=>w.current.countRefresh()}},i().createElement("div",{className:"MainDivStyles displayGrid"},i().createElement("div",{id:"PPMSBSchComDiscipline-MainDiv",className:"Maincontent",style:{paddingTop:"8px",minHeight:"100vh"}},i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{className:"width100"},i().createElement("div",{id:"PPMSBSchComDiscipline-MainTable",className:"commonSlide",style:{width:"100%",display:"block"}},0!==D&&i().createElement(s.default,{ref:h})),i().createElement("div",{className:"displayFlex"},i().createElement("div",{className:"width100"},i().createElement(n.default,{ref:a,clrImgstate:e=>y.current.clrImgstate(e)}),i().createElement(p.Z,{ref:B,menurefID:499,fileId:"LogoImgPPMSBSchComDiscipline",imgloading:e=>E(e),valueIDPK:C.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewPPMSBSchComDiscipline",AccessRights:C.AccessRights,frmctrlid:"PvwIm_499_L4_",tempImg:e=>{C.PrimaryId?y.current.AttachmentData(C.PrimaryId):y.current.tempImg(e),x(e)},clearTempData:C.Add})),i().createElement(d.Z,{ImgAttachment:e=>{C.IsCollapse?(document.getElementById("PPMSBSchComDiscipline-MainTable").style.width="50%",document.getElementById("divPPMSBSchComDiscipline-Entry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.display="block",document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.width="0%",document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.display="none",document.getElementById("PPMSBSchComDisciplineTbsearch").style.display="block"):(document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.width="0%",document.getElementById("overlayimgAttPPMSBSchComDiscipline").style.display="none",document.getElementById("divPPMSBSchComDiscipline-Entry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainTable").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDiscipline-MainDiv").classList.add("displayGrid"),document.getElementById("PPMSBSchComDisciplineTbsearch").style.display="block")},menurefID:499,fileId:"AttImgPPMSBSchComDiscipline",imgid:"overlayimgAttPPMSBSchComDiscipline",valueIDPK:C.PrimaryId,PriviewData:(e,t,a,l)=>{B.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBSchComDiscipline",ref:y,imgloading:I,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_499_L4_",timglist:e=>B.current.timglist(e),clearTempData:C.Add})))))),F&&i().createElement(S(),{openDialog:F,closeDialog:e=>k(e),formID:499,PrimID:C.PrimaryId,alert:(e,t,l)=>{"Approval Sent Succesfully"==e.message&&a.current.cardRefresh()},loading:t=>{e.loading(t)}})))}))},88269:(e,t,a)=>{a.r(t),a.d(t,{PPMSBSchComDisciplinePopUpTable:()=>V,default:()=>H}),a(95866);var l=a(92950),i=a.n(l),n=a(45237),c=a(36939),s=a(61201),r=a(50743),o=a(80366),m=a(51673),d=a(8382),p=a(35025),u=a(64566),S=a(54180),P=a(47516),D=(a(14439),a(27848),a(42258)),M=a(40900),C=a(83032),g=(a(44117),a(16689));function h(e){(0,n.useSelector)((e=>e.form));const[t,a]=(0,l.useState)([]),[c,s]=(0,l.useState)([]),[r,o]=(0,l.useState)(!1),[d,p]=(0,l.useState)([]),[u,S]=(0,l.useState)([]),[P,h]=(0,l.useState)([]),[y,B]=(0,l.useState)([]),[I,E]=(0,l.useState)([]),[f,v]=(0,l.useState)({id:"",type:""}),[b,N]=(0,l.useState)({}),[w,T]=(0,l.useState)(1),{cstate:x,cdispatch:F}=(0,g.ContextApi)(),[k,A]=(0,l.useState)({}),[Z,R]=(0,l.useState)(!1),[L,O]=(0,l.useState)({}),[z,K]=(0,l.useState)({current:1,pageSize:10}),[H,V]=(0,l.useState)(""),[G,q]=(0,l.useState)(""),[_,U]=(0,l.useState)({type:"PPMSBSchComDisciplineIDPK",params:{}});(0,l.useEffect)((()=>{e.onload&&j(k,"PPMSBSchComDisciplineIDPK"),o(!1)}),[e.onload]),(0,l.useEffect)((()=>{e.refresh&&j(_.params,"PPMSBSchComDisciplineIDPK")}),[e.refresh]),(0,l.useEffect)((()=>{j(e.json,"PPMSBSchComDisciplineIDPK"),N(e.json),document.getElementById("PPMSBSchComDisciplineGridViewCard").style.width="100%"}),[e.json]);const j=(t,l)=>{let i=M.v.Api+"FP499S5/",n={data:{p1:t&&t.PPMSBSchComDisciplineIDPK?t.PPMSBSchComDisciplineIDPK:null,p2:t&&t.PPMSBSchComDisciplineDetailsCode?t.PPMSBSchComDisciplineDetailsCode:null,p3:t&&t.PPMSBMinRange?t.PPMSBMinRange:null,p4:t&&t.PPMSBMaxRang?t.PPMSBMaxRang:null,p5:t&&t.PPMSBManHour?t.PPMSBManHour:null,p6:t&&t.PPMSBManMinute?t.PPMSBManMinute:null,p7:t&&t.PPMSBManSecond?t.PPMSBManSecond:null,p8:t&&t.PPMSBManPower?t.PPMSBManPower:null,p9:t&&t.PPMSBMaintenanceHours?t.PPMSBMaintenanceHours:null,p10:null,p11:null,p12:t&&t.FrequencyID?t.FrequencyID:null,p13:t&&t.DisciplineID?t.DisciplineID:null,p14:e.Dialogview?"1":null,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.FrequencyCode?t.FrequencyCode:null,p22:t&&t.FrequencyName?t.FrequencyName:null,p23:t&&t.DivisionID?t.DivisionID:null,p24:t&&t.DivisionCode?t.DivisionCode:null,p25:t&&t.DivisionName?t.DivisionName:null,p26:t&&t.DisciplineCode?t.DisciplineCode:null,p27:t&&t.DisciplineName?t.DisciplineName:null,p28:1,p29:10,p30:l,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};(0,m.Z)(i,n,x.token[0]).then((e=>{if(e.Output.data){let t=e.Output.data;"PPMSBSchComDisciplineIDPK"==l?(a(t),o(!1)):(s(t),o(!0))}}))};return i().createElement("div",{id:"PPMSBSchComDisciplineGridViewCard"},i().createElement("div",{className:"GridViewChildCard"},i().createElement(C.Z,{name:H.DisplayName,count:H.Total,id:"PPMSBSchComDisciplinePopUpTableSchema",showSearch:e.showSearch,type:"Schema",chipdata:c,showview:Z,viewcomponent:Z&&i().createElement(ViewComponent,{ExpandDetailValue:!0,l4viewonly:Z,data:L,editopen:function(e){O(e),document.getElementById("PPMSBSchComDisciplinePopUpTableSchema").style.width="0",document.getElementById("PPMSBSchComDisciplinePopUpTableSchema").style.padding="0",document.getElementById("PPMSBSchComDiscipline-ThemeSlide1").style.width="3.3%",document.getElementById("PPMSBSchComDiscipline-ThemeSlide1").style.background="none",document.getElementById("PPMSBSchComDiscipline-Floatcnt").style.width="0",document.getElementById("PPMSBSchComDiscipline-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}}),tablecomponent:i().createElement(D.Z,{dynamic:!0,name:CardName,tableData:c,TableVisibleItem:[],TableBodyItem:[]}),data:t,sendparams:A,getChildData:(e,t)=>{j(b,e,z),setCardName(t.Name)},float:!0})))}var y=a(43031),B=a(110),I=a(88995),E=a(5109),f=a(868),v=a(39327),b=a(3212),N=a(24038),w=a(79352),T=a(51209),x=a(8981),F=a(86893),k=a(53854),A=a(5434),Z=a(93521),R=(a(79117),a(71168)),L=a.n(R),O=a(65107),z=a(94986),K=a(15999);a(11557),window.clickFilter="";const H=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),D=(0,l.useRef)(null),C=(0,l.useRef)(null),R=((0,l.useRef)(null),(0,l.useRef)(null)),[H]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[V]=(0,l.useState)("499"),[G,q]=(0,l.useState)(!1),[_,U]=(0,l.useState)(!1),[j,Y]=(0,l.useState)(0),[Q,$]=(0,l.useState)(0),[W,J]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ie]=(0,l.useState)([]),[ne,ce]=(0,l.useState)({val:"",column:""}),[se,re]=(0,l.useState)([]),[oe,me]=(0,l.useState)(!1),[de,pe]=(0,l.useState)(""),[ue,Se]=(0,l.useState)(""),[Pe,De]=(0,l.useState)(!1),[Me,Ce]=(0,l.useState)(!1),[ge,he]=(0,l.useState)([]),[ye,Be]=(0,l.useState)([]),[Ie,Ee]=(0,l.useState)([]),[fe,ve]=(0,l.useState)(!1),[be,Ne]=(0,l.useState)({children:[{name:"PPMSBSchComDiscipline",children:[]}]}),[we,Te]=(0,l.useState)(!1);let xe={PPMSBSchComDisciplineIDPK:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBMinRange:"",PPMSBMaxRang:"",PPMSBManHour:"",PPMSBManMinute:"",PPMSBManSecond:"",PPMSBManPower:"",PPMSBMaintenanceHours:"",IsDraft:"",Remarks:"",FrequencyID:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Fe,ke]=(0,l.useState)(xe),[Ae,Ze]=(0,l.useState)(xe),[Re,Le]=(0,l.useState)(xe),[Oe,ze]=(0,l.useState)(xe),[Ke,He]=(0,l.useState)("asc"),[Ve,Ge]=(0,l.useState)(""),[qe,_e]=(0,l.useState)(!1),[Ue,je]=(0,l.useState)(!0),[Ye,Qe]=(0,l.useState)(!1),[$e,We]=(0,l.useState)(!0),[Je,Xe]=(0,l.useState)({DisciplineName:"",FrequencyName:"",PPMSBMaintenanceHours:"",PPMSBManPower:"",PPMSBManHour:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBMinRange:"",PPMSBMaxRang:"",PPMSBManMinute:"",PPMSBManSecond:""}),et=(0,l.useContext)(e.context?e.context:g.PPMSBSchComDisciplineContext),{cstate:tt,cdispatch:at}=e.ContextApi?e.ContextApi:(0,g.ContextApi)(),[lt,it]=(0,l.useState)(!1),[nt,ct]=(0,l.useState)([]),[st,rt]=(0,l.useState)(0),[ot,mt]=(0,l.useState)(0),[dt,pt]=(0,l.useState)({current:1,pageSize:10}),[ut,St]=(0,l.useState)([]),[Pt,Dt]=(0,l.useState)([]),[Mt,Ct]=(0,l.useState)(!1),[gt]=(0,l.useState)(localStorage.getItem("Language")),[ht]=(0,l.useState)(localStorage.getItem("Language")),[yt,Bt]=(0,l.useState)(!1),[It,Et]=L()("499"),[ft,vt]=(0,l.useState)(0);let bt={DisciplineName:"",FrequencyName:"",PPMSBMaintenanceHours:"",PPMSBManPower:"",PPMSBManHour:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBMinRange:"",PPMSBMaxRang:"",PPMSBManMinute:"",PPMSBManSecond:""};const Nt=[{columns:ut,data:te}];let wt=(0,x.Z)();const Tt=e=>wt?.[e]?wt[e]:e,xt=e=>tt.language?.[e]?tt.language[e]:e;(0,l.useEffect)((()=>{Lt(It)}),[It]),(0,l.useEffect)((()=>{Me||fe||we?Me?Ze(de):fe?Le(de):we&&ze(de):(ke(de),tt.token.length>0&&Ft({current:1,pageSize:100},de,"PPMSBSchComDisciplineID"))}),[de]),(0,l.useEffect)((()=>{!1===e.cardview&&We(e.cardview),e.Dialogview&&U(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Zt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Zt(e,{current:1,pageSize:100})},tableRefresh:()=>{Ft(X,de,"PPMSBSchComDisciplineID")}})));const Ft=(e,t,a,l,i)=>{et.loading(!0);let n=M.v.Api+"FP499S3/",c={data:{p1:l||(t&&t.PPMSBSchComDisciplineIDPK?t.PPMSBSchComDisciplineIDPK:null),p2:t&&t.PPMSBSchComDisciplineDetailsCode?t.PPMSBSchComDisciplineDetailsCode:null,p3:t&&t.PPMSBMinRange?t.PPMSBMinRange:null,p4:t&&t.PPMSBMaxRang?t.PPMSBMaxRang:null,p5:t&&t.PPMSBManHour?t.PPMSBManHour:null,p6:t&&t.PPMSBManMinute?t.PPMSBManMinute:null,p7:t&&t.PPMSBManSecond?t.PPMSBManSecond:null,p8:t&&t.PPMSBManPower?t.PPMSBManPower:null,p9:t&&t.PPMSBMaintenanceHours?t.PPMSBMaintenanceHours:null,p10:"DraftPPMSBSchComDisciplineID"==a?"1":"0",p11:null,p12:t&&t.FrequencyID?t.FrequencyID:null,p13:t&&t.DisciplineID?t.DisciplineID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.FrequencyCode?t.FrequencyCode:null,p22:t&&t.FrequencyName?t.FrequencyName:null,p23:t&&t.DivisionID?t.DivisionID:null,p24:t&&t.DivisionCode?t.DivisionCode:null,p25:t&&t.DivisionName?t.DivisionName:null,p26:t&&t.DisciplineCode?t.DisciplineCode:null,p27:t&&t.DisciplineName?t.DisciplineName:null,p28:l?1:e.current,p29:e.pageSize,p30:a,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};(0,m.Z)(n,c,tt.token[0]).then((l=>{if("200"==l.Output.status.code)if(l.Output.data.length>0){if(l.Output.data){let t=0;l.Output.data.length>0?(t=parseFloat(l.Output.data[0].TotalCount,10)/10,$(l.Output.data[0].TotalCount),at({type:"count",payload:l.Output.data[0].TotalCount}),J(l.Output.data[0].DraftCnt)):(t=0,$(0),at({type:"count",payload:0}),J(0)),10==e.pageSize?Y(Math.ceil(t)):20==e.pageSize?Y(Math.ceil(t/2)):50==e.pageSize?Y(Math.ceil(t/5)):100==e.pageSize&&Y(Math.ceil(t/10)),re(l.Output.data),et.loading(!1)}"DraftPPMSBSchComDisciplineID"===a?(_e(!0),De(!1)):_e(!1)}else"DraftPPMSBSchComDisciplineID"===a?(et.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),_e(!1),et.loading(!1)):(_e(!1),re([]),ee({current:1,pageSize:100}),Y(0),$(0),et.loading(!1),Object.values(t).some((e=>e))&&(et.alert({open:!0,color:"warning",message:["There is no Record Found"]}),document.getElementById("PPMSBSchComDiscipline-MainTable").style.display="block"));else et.alert({open:!0,color:"warning",message:[l.Output.status.message]}),et.loading(!1)}))},kt=()=>{oe?(document.getElementById("PPMSBSchComDisciplineFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineFilterDiv").style.display="none",me(!1),Me?(document.getElementById("PPMSBSchComDisciplinefildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"):$e?fe?(document.getElementById("PPMSBSchComDisciplinefildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBSchComDisciplinecoldiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinecoldiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBSchComDisciplinefildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBSchComDisciplinefildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBSchComDisciplineFilterDiv").style.width="25%",document.getElementById("PPMSBSchComDisciplineTabDiv").style.width="75%",document.getElementById("PPMSBSchComDisciplineFilterDiv").style.display="block",me(!0),document.getElementById("PPMSBSchComDisciplinefildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"),De(!1),window.clickFilter=!oe},At=()=>{Pe?(document.getElementById("PPMSBSchComDisciplineFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineFilterDiv").style.display="none",document.getElementById("PPMSBSchComDisciplinecoldiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinecoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("PPMSBSchComDisciplineFilterDiv").style.width="25%",document.getElementById("PPMSBSchComDisciplineTabDiv").style.width="75%",document.getElementById("PPMSBSchComDisciplineFilterDiv").style.display="block",document.getElementById("PPMSBSchComDisciplinefildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBSchComDisciplinecoldiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplinecoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),me(!1)};function Zt(e,t){et.loading(!0);const a=M.v.Api+"FP499S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:qe?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,l,tt.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let i=0;e.Output.data.length>0?(i=parseFloat(e.Output.data[0].TotalCount,10)/10,$(e.Output.data[0].TotalCount),J(e.Output.data[0].DraftCnt)):(i=0,$(0),J(0)),10==t.pageSize?Y(Math.ceil(i)):20==t.pageSize?Y(Math.ceil(i/2)):50==t.pageSize?Y(Math.ceil(i/5)):100==t.pageSize&&Y(Math.ceil(i/10)),re(e.Output.data);for(var a=document.querySelectorAll("#PPMSBSchComDisciplineTable td"),l=0;l<a.length;++l)a.forEach((function(e,t){e.textContent.toLowerCase().includes(ue.toLowerCase())&&ue.length>0&&(e.style.color="#ffa502")}));et.loading(!1)}else re([]),ee({current:1,pageSize:100}),Y(0),$(0),J(0),et.loading(!1),et.alert({open:!0,color:"warning",message:["There is no Record Found"]});else et.alert({open:!0,color:"warning",message:[e.Output.status.message]}),et.loading(!1)}))}function Rt(e){"Table"==e?(document.getElementById("PPMSBSchComDiscipline-TabView").classList.add("ViewBtnAct"),document.getElementById("PPMSBSchComDiscipline-ShowView").classList.remove("ViewBtnAct"),Ce(!1),ve(!1),Te(!1)):"Grid"==e?(document.getElementById("PPMSBSchComDisciplineFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineFilterDiv").style.display="none",document.getElementById("PPMSBSchComDisciplinefildiv").style.width="35px",document.getElementById("PPMSBSchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="15%",Ce(!0),ve(!1),Te(!1),me(!1),De(!1),We(!0),document.querySelector('[data-bid="499List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Grid"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="499Tile"]').classList.remove("buttonGrpActive")):"Bubble"==e?(document.getElementById("PPMSBSchComDiscipline-TabView").classList.remove("ViewBtnAct"),document.getElementById("PPMSBSchComDisciplineFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineFilterDiv").style.display="none",ve(!0),Ce(!1),Te(!1),me(!1),De(!1),We(!0)):"Share"==e?(document.getElementById("PPMSBSchComDiscipline-TabView").classList.remove("ViewBtnAct"),document.querySelector('[data-bid="499List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Grid"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Share"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="499Tile"]').classList.remove("buttonGrpActive"),ve(!1),Ce(!1),Te(!0),me(!1),De(!1),We(!0)):"List"==e?(Ce(!1),Te(!1),We(!0),Ct(!1),document.querySelector('[data-bid="499List"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="499Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Tile"]').classList.remove("buttonGrpActive")):"Card"==e?(We(!1),Ct(!1),document.querySelector('[data-bid="499List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Card"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="499Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Tile"]').classList.remove("buttonGrpActive")):"Tile"==e?(Ct(!0),We(!1),document.querySelector('[data-bid="499List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Tile"]').classList.add("buttonGrpActive")):"Show"==e&&(document.querySelector('[data-bid="499List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Tile"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="499Show"]').classList.add("buttonGrpActive"),ve(!1),Ce(!1),Te(!0),We(!0),oe&&At())}function Lt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,fieldname:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]}),"IsShow"==e.FieldName&&at({type:"IsShow",payload:!0})})),at({type:"language",payload:Object.assign({},...i)}),Xe(a.reduce(((e,t)=>(e[t]="",e)),{})),he(e),Be(t),Ee(a),St(l),Dt(a)}function Ot(e,t){et.edit(e),me(!1),document.getElementById("PPMSBSchComDiscipline-Detail").style.width="64%",document.getElementById("PPMSBSchComDiscipline-Detail").style.display="block",document.getElementById("PPMSBSchComDiscipline-Table").style.width="35%",document.getElementById("PPMSBSchComDiscipline-TabView").classList.add("ViewButtonAct"),document.getElementById("PPMSBSchComDiscipline-GridView").classList.remove("ViewButtonAct"),document.getElementById("PPMSBSchComDiscipline-BubbleView").classList.remove("ViewButtonAct"),Ce(!1),ve(!1),Te(!1);let a={DisciplineID:"",FrequencyID:"",PPMSBMaintenanceHours:"",PPMSBManPower:"",PPMSBManHour:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBMinRange:"",PPMSBMaxRang:"",PPMSBManMinute:"",PPMSBManSecond:""};ke(a),Ft({current:1,pageSize:100},a,"PPMSBSchComDisciplineID")}function zt(e){et.loading(!0);let t=M.v.Api+"FP499S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(t,a,tt.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,mt(t.Output.data[0].TotalCount)):(a=0,mt(0)),10==e.pageSize?rt(Math.ceil(a)):20==e.pageSize?rt(Math.ceil(a/2)):50==e.pageSize?rt(Math.ceil(a/5)):100==e.pageSize&&rt(Math.ceil(a/10)),ct(t.Output.data),et.loading(!1)}else et.alert({open:!0,color:"warning",message:["There is no Record Found"]}),et.loading(!1)}))}return(0,l.useEffect)((()=>{Qe(e.ExpandTableValue)}),[e.ExpandTableValue]),i().createElement("div",null,i().createElement(c.Z,{expanded:Ue,onChange:()=>()=>{je(Ye)}},i().createElement(r.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100 L3Header"},i().createElement("div",null,i().createElement("div",{className:"displayFlex"},qe?i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("div",{id:"fld499L4TCKeyboardBackspaceRounded",onClick:()=>{Ft(X,xe,"PPMSBSchComDisciplineID"),_e(!1)}},i().createElement(f.ZP,{title:"List",placement:"top"},i().createElement(A.aQX,{className:"BackBtnIcon"}))),i().createElement("div",{id:"fld499L4TCDraftP",onClick:()=>Ft(X,xe,"DraftPPMSBSchComDisciplineID")},i().createElement(f.ZP,{title:"Draft",placement:"top"},i().createElement("p",{className:"DraftP"},"Drafts(",Q,")")))):i().createElement("div",{className:"ListHeader displayFlex"},e.ExpandTableValue?Ue?i().createElement(p.Z,{className:"ArrowIconsLight",onClick:()=>{je(!1)}}):i().createElement(u.Z,{className:"ArrowIconsLight",onClick:()=>{je(!0)}}):null,i().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[499]",onClick:()=>e.ExpandTableValue&&je(!Ue)},`${xt("499")} (${we?ft:Q})`)))),i().createElement("div",null,Me||fe||we||qe?null:i().createElement("div",{className:"displayFlex"},i().createElement("div",{id:"fld499L4TCSearchBar",className:"searchbar",style:{marginRight:"2%"}},i().createElement(N.Z,{className:"search_input",type:"text",id:"PPMSBSchComDisciplinegridsearch",placeholder:"Search",value:ue,onChange:e=>{if(Se(e),"0"==e.length)return Ft(X,de,qe?"DraftPPMSBSchComDisciplineID":"PPMSBSchComDisciplineID",qe&&"DraftPage"),!1;Zt(e,{current:1,pageSize:100})}}),i().createElement("div",{className:"search_icon"},ue?i().createElement("div",{id:"fld499L4TCInputCloseIcon",onClick:()=>{Se(""),Ft(X,de,qe?"DraftPPMSBSchComDisciplineID":"PPMSBSchComDisciplineID",qe&&"DraftPage")}},i().createElement(o.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld499L4TCInputSearchIcon",onClick:()=>{Se(""),tableRefresh()}},i().createElement(I.Z,{className:"InputSearchIcon"})))),tt.AccessRights.IsAdd&&i().createElement(b.Z,{disabled:!1,className:"SaveBtnCommon",name:"Add",frmctrlid:"fld499L4ECAddBtnIsAdd",onClick:()=>{et.edit(!1),et.add()}}))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"PPMSBSchComDiscipline-HeaderItems",className:"displayFlex padding"},i().createElement("div",{className:"tableHeaderItems displayFlex"},!qe&&i().createElement("div",{frmctrlid:"fld499L4TCFilterDataIsDraft",id:"PPMSBSchComDisciplinefildiv",className:"buttoncard",onClick:()=>{kt()}},i().createElement(f.ZP,{title:Tt("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(P.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Tt("Filter Data"))),i().createElement(S.Z,{formctrlidprint:"fld499L4TCExportPrint",formctrlidexport:"fld499L4TCExportTable",formctrlidrefresh:"fld499L4TCExportRefresh",title:"499",data:le,exportData:Nt,Items:Pt,columnIndex:ut,TableVisibleItem:ye,userGridViewFormID:V,TableTotalCount:Q,triggerApi:e=>{((e,t,l,i,n)=>{if(0===Q)return et.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;bt[t]=e,et.loading(!0);let c=M.v.Api+"FP499S3/",s={data:{p1:e&&e.PPMSBSchComDisciplineIDPK?e.PPMSBSchComDisciplineIDPK:null,p2:e&&e.PPMSBSchComDisciplineDetailsCode?e.PPMSBSchComDisciplineDetailsCode:null,p3:e&&e.PPMSBMinRange?e.PPMSBMinRange:null,p4:e&&e.PPMSBMaxRang?e.PPMSBMaxRang:null,p5:e&&e.PPMSBManHour?e.PPMSBManHour:null,p6:e&&e.PPMSBManMinute?e.PPMSBManMinute:null,p7:e&&e.PPMSBManSecond?e.PPMSBManSecond:null,p8:e&&e.PPMSBManPower?e.PPMSBManPower:null,p9:e&&e.PPMSBMaintenanceHours?e.PPMSBMaintenanceHours:null,p10:qe?"1":"0",p11:null,p12:e&&e.FrequencyID?e.FrequencyID:null,p13:e&&e.DisciplineID?e.DisciplineID:null,p14:e&&e.IsActive,p15:null,p16:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p17:e&&e.CreatedTtm?e.CreatedTtm:null,p18:e&&e.CreatedTtmType?e.CreatedTtmType:null,p19:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p20:null,p21:e&&e.FrequencyCode?e.FrequencyCode:null,p22:e&&e.FrequencyName?e.FrequencyName:null,p23:e&&e.DivisionID?e.DivisionID:null,p24:e&&e.DivisionCode?e.DivisionCode:null,p25:e&&e.DivisionName?e.DivisionName:null,p26:e&&e.DisciplineCode?e.DisciplineCode:null,p27:e&&e.DisciplineName?e.DisciplineName:null,p28:X.current,p29:Q,p30:qe?"DraftPPMSBSchComDisciplineID":"PPMSBSchComDisciplineID",p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};et.loading(!1),et.alert({open:!0,color:"success",message:[`${xt(499)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(c,s,tt.token[0],n).then((e=>{(0,Z.PDF_Excel_Generate)(e,et,Pt,ae,a,n)}))})(de,ne.column,0,0,e)},Refresh:()=>{Se(""),e.draftval?(Ft({current:1,pageSize:100},xe,"DraftPPMSBSchComDisciplineID"),ee({current:1,pageSize:100})):(Ft({current:1,pageSize:100},xe,"PPMSBSchComDisciplineID"),ee({current:1,pageSize:100}),pe({})),R.current&&R.current.clearItem()},disabledPrint:!tt.AccessRights.IsPrint,disabledExport:!tt.AccessRights.IsExport,ref:a}),!qe&&i().createElement("div",{className:"buttoncard",onClick:()=>Bt(!yt)},i().createElement("span",null,yt?i().createElement(f.ZP,{disableFocusListener:!0,title:"Less",placement:"top"},i().createElement("span",{id:"fld499L4TCLess"},i().createElement(k.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(f.ZP,{disableFocusListener:!0,title:"More",placement:"top"},i().createElement("span",{id:"fld499L4TCMore"},i().createElement(k.ilJ,{className:"tableFilterColumnIcon"}))))),!qe&&yt?i().createElement("div",{className:"EntryHeaderMore"},Me||fe||we||qe?null:!qe&&i().createElement("div",null,i().createElement("div",{frmctrlid:"fld499L4TCFilterDataIsAdd",id:"PPMSBSchComDisciplinecoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{At()}},i().createElement(f.ZP,{title:Tt("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(v.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Tt("Manage Columns")))),!qe&&G&&!Me&&!we&&!_&&i().createElement("div",{frmctrlid:"fld499L4TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},i().createElement(f.ZP,{title:Tt("Migration"),placement:"top"},i().createElement("div",null,i().createElement(w.ncH,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Tt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&i().createElement("div",null,i().createElement("div",{frmctrlid:"fld499L4TCTableScrollData",id:"PPMSBSchComDisciplinecoldiv",className:"buttoncard",onClick:()=>{lt?it(!1):(it(!0),zt({current:1,pageSize:100}))}},i().createElement(f.ZP,{title:Tt("Table Scroll Data"),placement:"top"},i().createElement("div",null,i().createElement(K.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Tt("Table Scroll Data"))))):""),!qe&&!_&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},tt.IsShow?i().createElement("div",{className:"buttonGrpUnActive buttonGrpActive","data-bid":"499Show",id:"fld499L4TCShowView",onClick:()=>{Te(!0),Rt("Show"),ShowComponent}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(F.aCJ,null)),i().createElement("span",null,Tt("Show"))):"",i().createElement("div",{className:"buttonGrpUnActive","data-bid":"499List",id:"fld499L4TCListView",onClick:()=>{Rt("List")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(k.umT,null)),i().createElement("span",null,Tt("List"))),i().createElement("div",{className:"buttonGrpUnActive","data-bid":"499Card",id:"fld499L4TCCardView",onClick:()=>{Rt("Card")}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(F.aCJ,null)),i().createElement("span",null,Tt("Card"))),i().createElement("div",{className:"buttonGrpUnActive","data-bid":"499Tile",id:"fld499L4TCTileView",onClick:()=>{Rt("Tile")},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(A.f_H,null)),i().createElement("span",null,Tt("Tile"))))))),Me||fe||we?null:lt?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(y.Z,{count:st,color:"primary",page:dt.current,onChange:(e,t)=>{pt({current:t,pageSize:dt.pageSize}),rt(t),zt({current:t,pageSize:dt.pageSize})}}),i().createElement("div",null,i().createElement(B.Z,{value:dt.pageSize,frmctrlid:"fld499L4TCSelectPagination",onChange:e=>{pt({current:1,pageSize:e.target.value}),zt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),Ye&&i().createElement("p",{className:"per-page"},"/ per page Of (",ot,")")):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(y.Z,{count:j,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{ee({current:t,pageSize:X.pageSize}),ue.length>0?Zt(ue,{current:t,pageSize:X.pageSize}):Ft({current:t,pageSize:X.pageSize},de,qe?"DraftPPMSBSchComDisciplineID":"PPMSBSchComDisciplineID")}}),i().createElement("div",null,i().createElement(B.Z,{value:X.pageSize,frmctrlid:"fld499L4TCSelectPagination",onChange:e=>{ee({current:1,pageSize:e.target.value}),ue.length>0?Zt(ue,{current:1,pageSize:e.target.value}):Ft({current:1,pageSize:e.target.value},Fe,qe?"DraftPPMSBSchComDisciplineID":"PPMSBSchComDisciplineID")},className:"BootstrapInputStyle"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),Ye&&i().createElement("p",{className:"per-page"},"/ per page of (",Q,") "))),i().createElement("div",{id:"PPMSBSchComDiscipline-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},!qe&&i().createElement("div",{id:"PPMSBSchComDisciplineFilterDiv",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},oe&&i().createElement(d.default,{ref:C,userGrid:It,CloseBtnClk:()=>kt(),searchData:e=>pe(e),formID:V,data:()=>{},visibleData:()=>{},token:tt.token[0],alertmsg:(e,t)=>et.alert({open:!0,color:e,message:[t]}),clearTableFilter:()=>{tableRefresh()}}),Pe&&!Me&&!fe&&i().createElement(E.Z,{frmctrlid:"fld499L4TCTableColumnOrder",loading:e=>et.loading(e),AltMsg:(e,t)=>et.alert({open:!0,color:t,message:[e]}),select:Pe,userID:H,userGridViewFormID:V,saved:(e,t)=>{e&&Lt(t),Et(t)},Token:tt.token[0]})),i().createElement("div",{id:"PPMSBSchComDisciplineTabDiv",style:{width:"100%",position:"relative",height:"66vh"}},$e?i().createElement("div",null,Me&&i().createElement(h,{onLoad:Me,showSearch:oe,data:(e,t)=>{Ot(e)},json:Ae}),we&&i().createElement(ShowComponent,{ref:D,onload:we,showSearch:!1,showViewCount:e=>vt(e),data:(e,t)=>{Ot(e)},json:de}),!Me&&!we&&i().createElement("div",null,lt?i().createElement(z.Z,{data:nt,expanded:()=>{},edit:et.edit}):i().createElement(O.Z,{ref:R,frmctrlid:"tblcs_499_L4_",id:"PPMSBSchComDisciplineTable",headerdata:ye,tablesearchparams:Je,searchvalue:e=>{let t={...de,...e};Xe(e),pe(t),ee({current:1,pageSize:100}),Ft({current:1,pageSize:100},t,qe?"DraftPPMSBSchComDisciplineID":"PPMSBSchComDisciplineID",qe&&"DraftPage")},bodydata:se,ondrag:(e,t)=>{et.edit(t,qe,!0)},bodyitem:Ie,visibleitem:ye,isdraft:qe,action:"none",tableID:V,accessrights:tt.AccessRights,expanded:()=>{},edit:et.edit,viewtoggle:()=>tt.viewtoggle,tf:xt,isexpanded:!_||Ye}))):i().createElement(T.Z,{frmctrlid:"fld499L4TCExpandedCardDual",data:se,id:"PPMSBSchComDiscipline",title:"PPMSBSchComDisciplineCode",cardTile:!!Mt,visibleitem:ye,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{_?et.select(e):("edit"==t?et.edit(e,t):et.edit(e,!1,!0),Ye&&(me(!1),De(!1)))}})))))))})),V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),o=(0,l.useRef)(null),d=(0,l.useRef)(null),[p]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[u,P]=L()("499"),[D,C]=(0,l.useState)(!1),[h,I]=(0,l.useState)(0),[E,f]=(0,l.useState)(0),[v,b]=(0,l.useState)({current:1,pageSize:100}),[N,w]=(0,l.useState)(""),[T,F]=(0,l.useState)([]),[k,A]=(0,l.useState)({val:"",column:""}),[R,z]=(0,l.useState)([]),[K,H]=(0,l.useState)(!1),[V,G]=(0,l.useState)(""),[q,_]=(0,l.useState)([]),[U,j]=(0,l.useState)([]),[Y,Q]=(0,l.useState)([]),$=(0,l.useContext)(g.PPMSBSchComDisciplineContext),{cstate:W,cdispatch:J}=(0,g.ContextApi)();let X={PPMSBSchComDisciplineIDPK:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBMinRange:"",PPMSBMaxRang:"",PPMSBManHour:"",PPMSBManMinute:"",PPMSBManSecond:"",PPMSBManPower:"",PPMSBMaintenanceHours:"",IsDraft:"",Remarks:"",FrequencyID:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ie,ne]=(0,l.useState)(!1),[ce,se]=(0,l.useState)(!0),[re,oe]=(0,l.useState)(0),[me,de]=(0,l.useState)({DisciplineName:"",FrequencyName:"",PPMSBMaintenanceHours:"",PPMSBManPower:"",PPMSBManHour:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBMinRange:"",PPMSBMaxRang:"",PPMSBManMinute:"",PPMSBManSecond:""}),[pe,ue]=(0,l.useState)([]),[Se,Pe]=(0,l.useState)([]),[De,Me]=(0,l.useState)([]),[Ce,ge]=(0,l.useState)(!1),[he,ye]=(0,l.useState)("");let Be=(0,x.Z)();const Ie=[{columns:pe,data:N}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),J({type:"language",payload:Object.assign({},...i)}),de(a.reduce(((e,t)=>(e[t]="",e)),{})),_(e),j(t),Q(a),ue(l),Pe(a)}(u)}),[u]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ee()},viewrecord:e=>{R.map(((t,a)=>{t.PPMSBSchComDisciplineIDPK==e&&J({type:"editData",payload:[R[a]]})}))},DialogTableProps:e=>{C(e)},searchData:(t,a,l)=>{$.loading(!0),o.current&&o.current.clearItem(),ye(l),b({current:1,pageSize:10}),X=e.ApiParamType.params,fe({current:1,pageSize:100},a,l),d.current&&d.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&C(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ee=()=>{W.IsDraft?fe(v,X,"DraftPPMSBSchComDisciplineID"):fe(v,X,"PPMSBSchComDisciplineID")},fe=async(t,a,l,i)=>{if(W.token[0]){if($.loading(!0),"DraftPage"!==i&&te(W.IsDraft),await ye((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],i=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=i[e];a=t}G(a);let n=M.v.Api+`${e.ApiType}/`,c={data:{p1:a&&a.PPMSBSchComDisciplineIDPK?a.PPMSBSchComDisciplineIDPK:null,p2:a&&a.PPMSBSchComDisciplineDetailsCode?a.PPMSBSchComDisciplineDetailsCode:null,p3:a&&a.PPMSBMinRange?a.PPMSBMinRange:null,p4:a&&a.PPMSBMaxRang?a.PPMSBMaxRang:null,p5:a&&a.PPMSBManHour?a.PPMSBManHour:null,p6:a&&a.PPMSBManMinute?a.PPMSBManMinute:null,p7:a&&a.PPMSBManSecond?a.PPMSBManSecond:null,p8:a&&a.PPMSBManPower?a.PPMSBManPower:null,p9:a&&a.PPMSBMaintenanceHours?a.PPMSBMaintenanceHours:null,p10:"DraftPPMSBSchComDisciplineID"==l?"1":"0",p11:null,p12:a&&a.FrequencyID?a.FrequencyID:null,p13:a&&a.DisciplineID?a.DisciplineID:null,p14:a&&a.IsActive,p15:null,p16:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p17:a&&a.CreatedTtm?a.CreatedTtm:null,p18:a&&a.CreatedTtmType?a.CreatedTtmType:null,p19:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p20:null,p21:a&&a.FrequencyCode?a.FrequencyCode:null,p22:a&&a.FrequencyName?a.FrequencyName:null,p23:a&&a.DivisionID?a.DivisionID:null,p24:a&&a.DivisionCode?a.DivisionCode:null,p25:a&&a.DivisionName?a.DivisionName:null,p26:a&&a.DisciplineCode?a.DisciplineCode:null,p27:a&&a.DisciplineName?a.DisciplineName:null,p28:t.current,p29:t.pageSize,p30:l,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};(0,m.Z)(n,c,W.token[0]).then((e=>{if($.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,f(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),J({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?I(Math.ceil(a)):20==t.pageSize?I(Math.ceil(a/2)):50==t.pageSize?I(Math.ceil(a/5)):100==t.pageSize&&I(Math.ceil(a/10)),z(e.Output.data)}}else $.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Be?.[a]?Be[a]:a)]}),z([]),I(0),f(0),J({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ne(W.ExpandTableValue)}),[W.ExpandTableValue]),i().createElement("div",null,i().createElement(c.Z,{expanded:ae,onChange:()=>()=>{le(ie)}},i().createElement(r.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},i().createElement("div",{style:{width:"60%"}},i().createElement("div",{className:"displayFlex"},i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("p",{className:"ListP"}," ",e.CardName," (",E,")")))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"PPMSBSchComDiscipline-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},i().createElement(S.Z,{formctrlidprint:"fld499L4TCExportPrint",formctrlidexport:"fld499L4TCExportTable",formctrlidrefresh:"fld499L4TCExportRefresh",title:"499",data:T,exportData:Ie,Items:Se,columnIndex:pe,triggerApi:t=>{((t,l,i)=>{if(0===E)return $.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;$.loading(!0);let n=M.v.Api+`${e.ApiType}/`,c={data:{p1:t||(t&&t.PPMSBSchComDisciplineIDPK?t.PPMSBSchComDisciplineIDPK:null),p2:t&&t.PPMSBSchComDisciplineDetailsCode?t.PPMSBSchComDisciplineDetailsCode:null,p3:t&&t.PPMSBMinRange?t.PPMSBMinRange:null,p4:t&&t.PPMSBMaxRang?t.PPMSBMaxRang:null,p5:t&&t.PPMSBManHour?t.PPMSBManHour:null,p6:t&&t.PPMSBManMinute?t.PPMSBManMinute:null,p7:t&&t.PPMSBManSecond?t.PPMSBManSecond:null,p8:t&&t.PPMSBManPower?t.PPMSBManPower:null,p9:t&&t.PPMSBMaintenanceHours?t.PPMSBMaintenanceHours:null,p10:ee?"1":"0",p11:null,p12:t&&t.FrequencyID?t.FrequencyID:null,p13:t&&t.DisciplineID?t.DisciplineID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.FrequencyCode?t.FrequencyCode:null,p22:t&&t.FrequencyName?t.FrequencyName:null,p23:t&&t.DivisionID?t.DivisionID:null,p24:t&&t.DivisionCode?t.DivisionCode:null,p25:t&&t.DivisionName?t.DivisionName:null,p26:t&&t.DisciplineCode?t.DisciplineCode:null,p27:t&&t.DisciplineName?t.DisciplineName:null,p28:1,p29:E,p30:he,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};var s;$.loading(!1),$.alert({open:!0,color:"success",message:[`${s="499",W.language?.[s]?W.language[s]:s} - ${i.alertName}, Once you have downloaded the file, you will be notified`]}),(0,m.Z)(n,c,W.token[0],i).then((e=>{(0,Z.PDF_Excel_Generate)(e,$,Se,w,a,i)}))})(V,k.column,t)},TableVisibleItem:U,userGridViewFormID:"499",TableTotalCount:E,Refresh:()=>{fe({current:1,pageSize:100},V,he),b({current:1,pageSize:100}),d.current&&d.current.clearItem(),o.current&&o.current.clearItem()},disabledPrint:!W.AccessRights.IsPrint,disabledExport:!W.AccessRights.IsExport,ref:a})),i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(y.Z,{count:h,siblingCount:0,color:"primary",page:v.current,onChange:(e,t)=>{if(b({current:t,pageSize:v.pageSize}),ee)fe({current:t,pageSize:v.pageSize},V,"DraftPPMSBSchComDisciplineID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";fe({current:t,pageSize:v.pageSize},V,"PPMSBSchComDisciplineID")}}}),i().createElement("div",null,i().createElement(B.Z,{value:v.pageSize,onChange:e=>{b({current:1,pageSize:e.target.value}),fe({current:1,pageSize:e.target.value},V,"PPMSBSchComDisciplineID")},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),ie&&i().createElement("p",{className:"per-page"},"/ per page Of (",E,")"))),i().createElement("div",{id:"PPMSBSchComDiscipline-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},i().createElement("div",{id:"PPMSBSchComDisciplineTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?i().createElement(MUITableMulti,{ref:d,type:e.viewtype,id:"PPMSBSchComDiscipline",headerdata:U,tablesearchparams:me,searchvalue:e=>{de(e),b({current:1,pageSize:100}),fe({current:1,pageSize:100},e,ee?"DraftPPMSBSchComDisciplineID":"PPMSBSchComDisciplineID",ee&&"DraftPage")},bodydata:R,ondrag:(e,t)=>{J({type:"editData",payload:[t]}),J({type:"IsDraft",payload:ee}),J({type:"ShowDetail",payload:!0})},bodyitem:Y,visibleitem:U,isdraft:ee,accessrights:W.AccessRights,expanded:()=>{},edit:(t,a,l)=>{D?$.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?$.edit(t,a,l):$.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{z(e)},color:!0,isexpanded:!1}):i().createElement(O.Z,{frmctrlid:"tblcs_499_L4_",ref:o,id:"PPMSBSchComDisciplineTable",type:e.viewtype,headerdata:U,tablesearchparams:me,searchvalue:e=>{let t={...V,...e};de(e),G(t),b({current:1,pageSize:100}),fe(v,t,he)},bodydata:R,ondrag:(e,t)=>{J({type:"editData",payload:[t]}),J({type:"IsDraft",payload:ee}),J({type:"ShowDetail",payload:!0})},bodyitem:Y,visibleitem:U,isdraft:ee,accessrights:W.AccessRights,expanded:()=>{},edit:(t,a,l)=>{D?$.select(t):(e.editdata(t,"view"),$.edit(t,a,1!=t.Entry))},viewtoggle:$.viewtoggle,IsSub:e.IsSub})))))))}))},8382:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A}),a(95866),a(99058);var l=a(92950),i=a.n(l),n=a(80366),c=a(51673),s=a(282),r=a(868),o=a(78513),m=a(14439),d=a(27848),p=a(40900),u=a(64059),S=a(24038),P=a(8981),D=a(47516),M=a(86893),C=a(16689),g=a(33681),h=a(63163),y=(a(35131),a(61956),a(93657)),B=a(53375),I=a(52663),E=a(66083),f=a(29525),v=a(66856),b=a(39803),N=a(99940),w=a(17149),T=a(62810),x=a(30553),F=a(92381),k=a(25108);const A=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[A,Z]=(0,l.useState)([]),[R,L]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,z]=(0,l.useState)(""),[K,H]=(0,l.useState)({}),[V,G]=(0,l.useState)(!0),[q,_]=(0,l.useState)(!1),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:(0,C.ContextApi)(),[Y,Q]=(0,l.useState)(1),[$,W]=(0,l.useState)(0),[J,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[ie,ne]=(0,l.useState)(!0),[ce,se]=(0,l.useState)(!1),[re,oe]=(0,l.useState)(""),[me,de]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[Se,Pe]=(0,l.useState)(!1),[De,Me]=(0,l.useState)(""),Ce=(0,l.useRef)(null),[ge,he]=(0,l.useState)({});let ye=localStorage.getItem("Language");const Be={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ie=(0,P.Z)();const Ee=e=>Ie[e]?Ie[e]:e,fe=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Be[ye]];function ve(){H({}),te({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});he(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Ce.current&&Ce.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ve()}})));const be=async(t,a,l,i)=>{X(!0);try{Ce.current&&Ce.current.abort();const n=new AbortController;Ce.current=n;let s="",r=[],o={};await L((e=>(s=e.name,e))),await H((e=>(r=e,e))),await te((e=>(o=e,e)));const m=p.v.Api+"FP499S3/",d={data:{p1:"PPMSBSchComDisciplineIDPK"==a?null:await Fe(),p2:"PPMSBSchComDisciplineDetailsCode"==s&&l.length>0?"%"+l+"%":null,p3:"PPMSBMinRange"==s&&l.length>0?"%"+l+"%":null,p4:"PPMSBMaxRang"==s&&l.length>0?"%"+l+"%":null,p5:"PPMSBManHour"==s&&l.length>0?"%"+l+"%":null,p6:"PPMSBManMinute"==s&&l.length>0?"%"+l+"%":null,p7:"PPMSBManSecond"==s&&l.length>0?"%"+l+"%":null,p8:"PPMSBManPower"==s&&l.length>0?"%"+l+"%":null,p9:"PPMSBMaintenanceHours"==s&&l.length>0?"%"+l+"%":null,p10:null,p11:null,p12:"FrequencyName"!=s&&r.FrequencyName?r.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p13:"DisciplineName"!=s&&r.DisciplineName?r.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p14:e.Dialogview?"1":null,p15:null,p16:"p16"==s&&l.length>0?l:null,p17:null,p18:null,p19:null,p20:null,p21:"FrequencyCode"==s&&l.length>0?"%"+l+"%":null,p22:"FrequencyName"==s&&l.length>0?"%"+l+"%":null,p23:"DivisionName"!=s&&r.DivisionName?r.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p24:"DivisionCode"==s&&l.length>0?"%"+l+"%":null,p25:"DivisionName"==s&&l.length>0?"%"+l+"%":null,p26:"DisciplineCode"==s&&l.length>0?"%"+l+"%":null,p27:"DisciplineName"==s&&l.length>0?"%"+l+"%":null,p28:i||1,p29:10,p30:t,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}},u=await(0,c.Z)(m,d,e.token,"",n.signal);if(!u)return!1;const S=u.Output.status.code,P=u.Output.data;if("200"===S)if(P.length>0)if(1===i){let e=we(P,s),t=Ne(e,K[s],a);Z(t),W(t.length>0?t[0].TotalCount:K[s].length)}else{let e=[...A,...P],t=we(e,s);W(t.length<10?t.length:P[0].TotalCount),Z(we(t,s))}else O.length>0&&Z([]),W(A.length);else e.alertmsg("error",[u.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Ne=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),we=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Te(e){let t=e+"PK",a=ge[e];if(a){const e=a.flatMap((e=>K[e]?K[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await H((e=>(a=e,e)));let i=[...ae],n=[];for(let e of i){let t=a[e]?.map((e=>e.PPMSBSchComDisciplineIDPK)).toString();t&&n.push(t)}await te((e=>(l=e,e)));let c={PPMSBSchComDisciplineIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",DisciplineID:Te("DisciplineID"),FrequencyID:Te("FrequencyID")};"saveFav"==t?Ze("save",c):(e.searchData(c),_(!1))};async function Fe(){let e={};await H((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBSchComDisciplineIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ke(t,a,l,i,n,c){let s={[i]:{From:t,Type:l,To:a}},r={};te((e=>({...e,...s})));const o={...K};let m=[...ae],d=[];for(let e of m){let t=o[e]?.map((e=>e.PPMSBSchComDisciplineIDPK)).toString();t&&d.push(t)}await te((e=>(r=e,e)));let p={PPMSBSchComDisciplineIDPK:d?[...new Set(d)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,DisciplineID:K.DisciplineName?.map((e=>e.DisciplineIDPK)).toString(),FrequencyID:K.FrequencyName?.map((e=>e.FrequencyIDPK)).toString()};e.searchData(p)}function Ae(){return i().createElement(u.Z,{frmctrlid:"fld499L4TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{ke(e,t,a,R.name,l)},keyboardback:()=>{_(!1),L({idpk:"",name:"",type:"",fieldidpk:""})},title:Ee(R.name),fieldname:R.name,save:e=>{alert(!0)}})}const Ze=(t,a)=>{(0,F.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;Me(t)}))};return i().createElement("div",null,i().createElement(I.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:me},i().createElement(E.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),i().createElement(f.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(b.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>oe(e.target.value),fullWidth:!0})),i().createElement(x.Z,{style:{color:"#337ab7"},control:i().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Quick"}),i().createElement(x.Z,{style:{color:"#337ab7"},control:i().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:Se,onChange:e=>Pe(e.target.checked)}),label:"Dashboard"})),i().createElement(v.Z,null,i().createElement(s.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),q?"Created Ttm"===R.name||R.name.includes("Date")?i().createElement(Ae,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(m.Z,null,i().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},fe(R.idpk)," (",A.length,"/",$,")")),i().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(r.ZP,{title:Ee("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(n.Z,{id:"fld499L4TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),L({idpk:"",name:"",type:"",fieldidpk:!1}),Q(1)}}))),K[R.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(s.Z,{frmctrlid:"fld499L4TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await H((t=>(e=t,k.log("clear fewItems",e),t))),e[R.name]=[],be(R.type,R.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},V?i().createElement(r.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(M.D7o,{className:"FilterMaximizeIcon",onClick:()=>{G(!1)}}))):i().createElement(r.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(M.dOw,{className:"FilterMaximizeIcon",onClick:()=>{G(!0)}})))),i().createElement("ul",null,K[R.name]&&K[R.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:V?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[R.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[R.name],onClick:()=>(async(e,t)=>{Q(1);let a=K[R.name].filter((t=>t!=e)),l={};await H((e=>(l=e,e))),l[R.name]=a,H(l),Z((t=>[e,...t]))})(e)},i().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(S.Z,{frmctrlid:"fld499L4TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:Ee("Enter ")+" "+fe(R.idpk),onChange:e=>{z(e),be(R.type,R.fieldidpk,e,1,Fe())}})),i().createElement("div",{id:"fld499L4TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(g.Z,{color:"secondary"})),i().createElement("div",{id:"fld499L4TFCScrollYDefault",className:"height65 scrollYDefault"},A.length>0&&A.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[R.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await H((e=>(l=e,e)));let i=l[R.name];t[R.name]=i?[...a,...i]:a,l={...l,...t},H(l),Z((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(o.Z,{className:"DotIcon"}),i().createElement("span",null,e[R.name])))),A.length+0<$&&A.length>0&&i().createElement("div",{id:"fld499L4TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Q(Y+1),be(R.type,R.fieldidpk,"",Y+1)}},i().createElement("p",null," more... ")),0===A.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:p.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(D.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",Ee("Filter")," ",re.length>0&&`(${re})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(r.ZP,{title:"Favorite List",placement:"top"},ce?i().createElement(n.Z,{className:"favlisticon",onClick:()=>{se(!1),Me(""),ve()}}):i().createElement(y.Z,{className:"favlisticon",onClick:()=>{se(!0),Ze("select"),ve()}})),Object.keys(K).length>0&&i().createElement(r.ZP,{title:"Save Favorites",placement:"top"},i().createElement(B.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{ve()},id:"fld499L4TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear")))),i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld499L4TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},Ee("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld499L4TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),z(""),Z([]),W(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBSchComDisciplineIDPK";L({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBSchComDisciplineID",fieldidpk:t}),be(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBSchComDisciplineID",t,"",1,Fe())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,fe(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,fe(e.AdminUserGridViewIDPK)),i().createElement(h.Z,{checked:"1"==ie,onChange:t=>{ne(t.target.checked),ke("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,fe(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,K[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},K[a][0][a]),K[a].length>1&&i().createElement("span",{className:"RoundedDivName"},K[a][1][a]),K[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(K[a].length-2))))));var a})),De&&De.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{be("FilterPPMSBSchComDisciplineID",a),xe("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}))},17624:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Xe});var l=a(92950),i=a.n(l),n=a(45237),c=a(868),s=a(3212),r=a(29800),o=a(14439),m=a(27848),d=(a(10966),a(16689)),p=(a(21392),a(51673)),u=a(40900),S=(a(77366),a(26537)),P=a(1695),D=(a(97829),a(20506),a(59067)),M=a(63957),C=a(59535),g=(a(41381),a(8981)),h=a(5434),y=a(99940),B=a(37148),I=(a(79117),a(88269),a(95866),a(36939)),E=a(61201),f=a(59009),v=(a(99058),a(80366)),b=a(282),N=a(78513),w=a(64059),T=a(24038),x=a(47516),F=a(86893),k=a(33681),A=a(63163),Z=a(35131),R=a.n(Z),L=a(61956),O=a(93657),z=a(53375),K=a(52663),H=a(66083),V=a(29525),G=a(66856),q=a(39803),_=a(17149),U=a(62810),j=a(30553),Y=a(92381),Q=a(25108);const $=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,s]=(0,l.useState)([]),[r,d]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[S,P]=(0,l.useState)(""),[D,M]=(0,l.useState)({}),[C,h]=(0,l.useState)(!0),[B,I]=(0,l.useState)(!1),{cstate:E,cdispatch:f}=e.ContextApi?e.ContextApi:Ke(),[Z,R]=(0,l.useState)(1),[L,$]=(0,l.useState)(0),[W,J]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,ie]=(0,l.useState)(!0),[ne,ce]=(0,l.useState)(!1),[se,re]=(0,l.useState)(""),[oe,me]=(0,l.useState)(!1),[de,pe]=(0,l.useState)(!1),[ue,Se]=(0,l.useState)(!1),[Pe,De]=(0,l.useState)(""),Me=(0,l.useRef)(null),[Ce,ge]=(0,l.useState)({});let he=localStorage.getItem("Language");const ye={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Be=(0,g.Z)();const Ie=e=>Be[e]?Be[e]:e,Ee=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[ye[he]];function fe(){M({}),ee({}),e.searchData({}),I(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});ge(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{Me.current&&Me.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{fe()}})));const ve=async(t,a,l,i)=>{J(!0);try{Me.current&&Me.current.abort();const c=new AbortController;Me.current=c;let r="",o=[],m={};await d((e=>(r=e.name,e))),await M((e=>(o=e,e))),await ee((e=>(m=e,e)));const P=u.v.Api+"FP500S3/",C={data:{p1:"PPMSBSchComDisciplineDetailsIDPK"==a?null:await xe(),p2:"PPMSBSchComDisciplineDetailsCode"==r&&l.length>0?"%"+l+"%":null,p3:"PPMSBOrderKey"==r&&l.length>0?"%"+l+"%":null,p4:"PPMSBMaterialStatus"==r&&l.length>0?"%"+l+"%":null,p5:"PPMSBTotalDuration"==r&&l.length>0?"%"+l+"%":null,p6:"PPMSBRangeMax"==r&&l.length>0?"%"+l+"%":null,p7:"PPMSBRangeMin"==r&&l.length>0?"%"+l+"%":null,p8:"PPMSBAccessType"==r&&l.length>0?"%"+l+"%":null,p9:"IsPPMSBMandatory"==r&&l.length>0?"%"+l+"%":null,p10:null,p11:null,p12:e.parentId?e.parentId:"0",p13:"CheckPointName"!=r&&o.CheckPointName?o.CheckPointName.map((e=>e.PPMCheckPointIDPK)).toString():null,p14:e.Dialogview?"1":null,p15:null,p16:"p16"==r&&l.length>0?l:null,p17:null,p18:null,p19:null,p20:null,p21:"CheckPointLevel"==r&&l.length>0?"%"+l+"%":null,p22:"CheckPointName"==r&&l.length>0?"%"+l+"%":null,p23:"PPMCheckPointCode"==r&&l.length>0?"%"+l+"%":null,p24:i||1,p25:10,p26:t,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},g=await(0,p.Z)(P,C,e.token,"",c.signal);if(!g)return!1;const h=g.Output.status.code,y=g.Output.data;if("200"===h)if(y.length>0)if(1===i){let e=Ne(y,r),t=be(e,D[r],a);s(t),$(t.length>0?t[0].TotalCount:D[r].length)}else{let e=[...n,...y],t=Ne(e,r);$(t.length<10?t.length:y[0].TotalCount),s(Ne(t,r))}else S.length>0&&s([]),$(n.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{J(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Ne=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=Ce[e];if(a){const e=a.flatMap((e=>D[e]?D[e].map((e=>e[t])):[]));return e.toString()}return""}const Te=async t=>{let a="",l={};await M((e=>(a=e,e)));let i=[...te],n=[];for(let e of i){let t=a[e]?.map((e=>e.PPMSBSchComDisciplineDetailsIDPK)).toString();t&&n.push(t)}await ee((e=>(l=e,e)));let c={PPMSBSchComDisciplineDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMCheckPointID:we("PPMCheckPointID"),PPMSBSchComDisciplineID:we("PPMSBSchComDisciplineID")};"saveFav"==t?Ae("save",c):(e.searchData(c),I(!1))};async function xe(){let e={};await M((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBSchComDisciplineDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Fe(t,a,l,i,n,c){let s={[i]:{From:t,Type:l,To:a}},r={};ee((e=>({...e,...s})));const o={...D};let m=[...te],d=[];for(let e of m){let t=o[e]?.map((e=>e.PPMSBSchComDisciplineDetailsIDPK)).toString();t&&d.push(t)}await ee((e=>(r=e,e)));let p={PPMSBSchComDisciplineDetailsIDPK:d?[...new Set(d)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,PPMCheckPointID:D.CheckPointName?.map((e=>e.PPMCheckPointIDPK)).toString(),PPMSBSchComDisciplineID:D.PPMSBSchComDisciplineCode?.map((e=>e.PPMSBSchComDisciplineIDPK)).toString()};e.searchData(p)}function ke(){return i().createElement(w.Z,{frmctrlid:"fld500L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{Fe(e,t,a,r.name,l)},keyboardback:()=>{I(!1),d({idpk:"",name:"",type:"",fieldidpk:""})},title:Ie(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,Y.Z)(t,e.formID,a,se).then((e=>{const t=e.Output.data;De(t)}))};return i().createElement("div",null,i().createElement(K.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:oe},i().createElement(H.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),i().createElement(V.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(q.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>re(e.target.value),fullWidth:!0})),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(y.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:de,onChange:e=>pe(e.target.checked)}),label:"Quick"}),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(y.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>Se(e.target.checked)}),label:"Dashboard"})),i().createElement(G.Z,null,i().createElement(b.Z,{onClick:()=>{Te("saveFav"),me(!1)},color:"primary"},"Save"))),B?"Created Ttm"===r.name||r.name.includes("Date")?i().createElement(ke,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(o.Z,null,i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},Ee(r.idpk)," (",n.length,"/",L,")")),i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(c.ZP,{title:Ie("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(v.Z,{id:"fld500L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{I(!1),d({idpk:"",name:"",type:"",fieldidpk:!1}),R(1)}}))),D[r.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(b.Z,{frmctrlid:"fld500L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await M((t=>(e=t,Q.log("clear fewItems",e),t))),e[r.name]=[],ve(r.type,r.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},Ie("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},C?i().createElement(c.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(F.D7o,{className:"FilterMaximizeIcon",onClick:()=>{h(!1)}}))):i().createElement(c.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(F.dOw,{className:"FilterMaximizeIcon",onClick:()=>{h(!0)}})))),i().createElement("ul",null,D[r.name]&&D[r.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:C?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[r.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{R(1);let a=D[r.name].filter((t=>t!=e)),l={};await M((e=>(l=e,e))),l[r.name]=a,M(l),s((t=>[e,...t]))})(e)},i().createElement(v.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(T.Z,{frmctrlid:"fld500L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:Ie("Enter ")+" "+Ee(r.idpk),onChange:e=>{P(e),ve(r.type,r.fieldidpk,e,1,xe())}})),i().createElement("div",{id:"fld500L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Te},i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(b.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),W&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(k.Z,{color:"secondary"})),i().createElement("div",{id:"fld500L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await M((e=>(l=e,e)));let i=l[r.name];t[r.name]=i?[...a,...i]:a,l={...l,...t},M(l),s((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(N.Z,{className:"DotIcon"}),i().createElement("span",null,e[r.name])))),n.length+0<L&&n.length>0&&i().createElement("div",{id:"fld500L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{R(Z+1),ve(r.type,r.fieldidpk,"",Z+1)}},i().createElement("p",null," more... ")),0===n.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:u.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(x.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",Ie("Filter")," ",se.length>0&&`(${se})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(c.ZP,{title:"Favorite List",placement:"top"},ne?i().createElement(v.Z,{className:"favlisticon",onClick:()=>{ce(!1),De(""),fe()}}):i().createElement(O.Z,{className:"favlisticon",onClick:()=>{ce(!0),Ae("select"),fe()}})),Object.keys(D).length>0&&i().createElement(c.ZP,{title:"Save Favorites",placement:"top"},i().createElement(z.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(b.Z,{className:"ColumnApplyButton",onClick:()=>{fe()},id:"fld500L1TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},Ie("Clear")))),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(b.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld500L1TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},Ie("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld500L1TFCFilItems",className:"FilterItems"},!Pe&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{I(!0),P(""),s([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBSchComDisciplineDetailsIDPK";d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBSchComDisciplineDetailsID",fieldidpk:t}),ve(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBSchComDisciplineDetailsID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,Ee(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),i().createElement(A.Z,{checked:"1"==le,onChange:t=>{ie(t.target.checked),Fe("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,D[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},D[a][0][a]),D[a].length>1&&i().createElement("span",{className:"RoundedDivName"},D[a][1][a]),D[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(D[a].length-2))))));var a})),Pe&&Pe.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{ve("FilterPPMSBSchComDisciplineDetailsID",a),Te("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}));var W=a(54180),J=a(43031),X=a(85639),ee=a(110),te=a(5109),ae=a(88995),le=a(50743),ie=a(61657),ne=a(51209),ce=a(53854),se=a(51649),re=a(37106),oe=a(83817),me=a(39327),de=a(93521),pe=a(71168),ue=a.n(pe),Se=a(65107),Pe=a(94986),De=a(15999);a(11557),window.clickFilter="";const Me=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),r=(0,l.useRef)(null),[o]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("500"),[d,S]=(0,l.useState)(!1),[P,D]=(0,l.useState)(!1),[M,C]=(0,l.useState)(0),[y,B]=(0,l.useState)(0),[b,N]=(0,l.useState)(0),[w,k]=(0,l.useState)(0),[A,Z]=(0,l.useState)({current:1,pageSize:100}),[R,L]=(0,l.useState)(""),[O,z]=(0,l.useState)([]),[K,H]=(0,l.useState)({val:"",column:""}),[V,G]=(0,l.useState)([]),[q,_]=(0,l.useState)(!1),[U,j]=(0,l.useState)(""),[Y,Q]=(0,l.useState)(""),[pe,Me]=(0,l.useState)(!1),[Ce,ge]=(0,l.useState)([]),[he,ye]=(0,l.useState)([]),[Be,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)({children:[{name:"PPMSBSchComDisciplineDetails",children:[]}]}),[ve,be]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:ze),{cstate:we,cdispatch:Te}=e.ContextApi?e.ContextApi:Ke();let xe={PPMSBSchComDisciplineDetailsIDPK:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBOrderKey:"",PPMSBMaterialStatus:"",PPMSBTotalDuration:"",PPMSBRangeMax:"",PPMSBRangeMin:"",PPMSBAccessType:"",IsPPMSBMandatory:"",IsDraft:"",Remarks:"",PPMSBSchComDisciplineID:"",PPMCheckPointID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Fe,ke]=(0,l.useState)(xe),[Ae,Ze]=(0,l.useState)(xe),[Re,Le]=(0,l.useState)(!1),[Oe,He]=(0,l.useState)(!0),[Ve,Ge]=(0,l.useState)(!1),[qe,_e]=(0,l.useState)(!0),[Ue,je]=(0,l.useState)({CheckPointName:"",PPMSBTotalDuration:"",PPMSBRangeMin:"",PPMSBRangeMax:"",PPMSBAccessType:"",IsPPMSBMandatory:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBOrderKey:"",PPMSBMaterialStatus:"",PPMSBSchComDisciplineCode:""}),[Ye,Qe]=(0,l.useState)(!1),[$e,We]=(0,l.useState)([]),[Je,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[it,nt]=(0,l.useState)([]),[ct,st]=(0,l.useState)([]),[rt,ot]=(0,l.useState)(!1),[mt,dt]=(0,l.useState)(!1),[pt,ut]=(0,l.useState)(!1),[St,Pt]=(0,l.useState)(""),[Dt,Mt]=ue()("500"),[Ct,gt]=(0,l.useState)({}),ht=[{columns:it,data:R}];let yt=(0,g.Z)();const Bt=e=>yt[e]?yt[e]:e,It=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{Tt(Dt)}),[Dt]),(0,l.useEffect)((()=>{we.token.length>0&&(e.parentId?Nt(A,xe,"PPMSBSchComDisciplineDetailsID"):G([]))}),[e.parentId]),(0,l.useEffect)((()=>{!ve&&e.parentId?Nt(A,U,"PPMSBSchComDisciplineDetailsID"):ve&&Ze(U)}),[U]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Et(e)},tableRefresh:()=>{Nt(A,xe,"PPMSBSchComDisciplineDetailsID")},DialogTableProps:e=>{D(e)},HideEntryFields:e=>{ut(!0===e)}})));const Et=e=>{""==e?Nt(A,xe,Re?"DraftPPMSBSchComDisciplineDetailsID":"PPMSBSchComDisciplineDetailsID",Re&&"DraftPage"):wt(e,{current:1,pageSize:100}),Q(e)};function ft(t){Ne.loading(!0);let a=u.v.Api+"FP500S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,we.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),We(e.Output.data),Ne.loading(!1)}}))}function vt(e,t){Te({type:"editData",payload:[t]}),Te({type:"IsDraft",payload:Re}),Te({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ve&&Me(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&_e(e.cardview),e.Dialogview&&(D(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&wt(e.searchsafaritext,{current:A.current,pageSize:A.pageSize})}),[e.searchsafaritext]);const bt=()=>{Ne.EditClose(!0),q?(document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBSchComDisciplineDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),qe?(P||(document.getElementById("PPMSBSchComDisciplineDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBSchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBSchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBSchComDisciplineDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("PPMSBSchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Me(!1),window.clickFilter=!q},Nt=(t,a,l,i,n,c)=>{Ne.loading(!0),"DraftPage"!==i&&Le(we.IsDraft);let s=u.v.Api+"FP500S3/",r={data:{p1:n||(a&&a.PPMSBSchComDisciplineDetailsIDPK?a.PPMSBSchComDisciplineDetailsIDPK:null),p2:a&&a.PPMSBSchComDisciplineDetailsCode?a.PPMSBSchComDisciplineDetailsCode:null,p3:a&&a.PPMSBOrderKey?a.PPMSBOrderKey:null,p4:a&&a.PPMSBMaterialStatus?a.PPMSBMaterialStatus:null,p5:a&&a.PPMSBTotalDuration?a.PPMSBTotalDuration:null,p6:a&&a.PPMSBRangeMax?a.PPMSBRangeMax:null,p7:a&&a.PPMSBRangeMin?a.PPMSBRangeMin:null,p8:a&&a.PPMSBAccessType?a.PPMSBAccessType:null,p9:null,p10:"DraftPPMSBSchComDisciplineDetailsID"==l?"1":"0",p11:null,p12:e.parentId?Number(e.parentId):0,p13:a&&a.PPMCheckPointID?a.PPMCheckPointID:null,p14:a&&a.IsActive,p15:null,p16:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p17:a&&a.CreatedTtm?a.CreatedTtm:null,p18:a&&a.CreatedTtmType?a.CreatedTtmType:null,p19:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p20:null,p21:a&&a.CheckPointLevel?a.CheckPointLevel:null,p22:a&&a.CheckPointName?a.CheckPointName:null,p23:a&&a.PPMCheckPointCode?a.PPMCheckPointCode:null,p24:n?1:t.current,p25:t.pageSize,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,p.Z)(s,r,we.token[0]).then((s=>{if(n)(0,oe.a)(s,Te,i,c,Ne);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,N(s.Output.data[0].TotalCount),k(s.Output.data[0].DraftCnt),Te({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==i&&k(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?B(Math.ceil(e)):20==t.pageSize?B(Math.ceil(e/2)):50==t.pageSize?B(Math.ceil(e/5)):100==t.pageSize&&B(Math.ceil(e/10)),G(s.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBSchComDisciplineDetails-Entry").style.height="auto",document.getElementById("divPPMSBSchComDisciplineDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftPPMSBSchComDisciplineDetailsID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me(!0),Le(!1)):(G([]),Z({current:1,pageSize:10}),B(0),N(0),Te({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[s.Output.status.message]}),Ne.loading(!1)}))};function wt(t,a){Ne.loading(!0);const l=u.v.Api+"FP500S4/",i={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Re?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,i,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,N(e.Output.data[0].TotalCount),Te({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?B(Math.ceil(t)):20==a.pageSize?B(Math.ceil(t/2)):50==a.pageSize?B(Math.ceil(t/5)):100==a.pageSize&&B(Math.ceil(t/10)),G(e.Output.data),Ne.loading(!1)}else G([]),B(0),N(0),Te({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function Tt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Te({type:"language",payload:Object.assign({},...i)}),je(a.reduce(((e,t)=>(e[t]="",e)),{})),ge(e),ye(t),Ie(a),nt(l),st(a)}const xt=()=>ve?null:i().createElement("div",null,Ye?i().createElement(Pe.Z,{data:$e,expanded:e=>!P&&Ne.Expanded(e),edit:(e,t,a)=>{P?Ne.select(e):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:t}),Te({type:"ShowDetail",payload:a}))}}):i().createElement(Se.Z,{ref:r,frmctrlid:"tblcs_500_L1_",id:"PPMSBSchComDisciplineDetailsTable",headerdata:he,tablesearchparams:Ue,searchvalue:e=>{je(e),j(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),Z({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,Re?"DraftPPMSBSchComDisciplineDetailsID":"PPMSBSchComDisciplineDetailsID",Re&&"DraftPage")},bodydata:V,ondrag:vt,bodyitem:Be,visibleitem:he,isdraft:Re,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:we.AccessRights,expanded:e=>!P&&Ne.Expanded(e),edit:(e,t,a)=>{P?Ne.select(e):(Object.keys(e).map(((l,i)=>{l.includes("IDPK")&&Nt(A,null,t?"DraftPPMSBSchComDisciplineDetailsID":"PPMSBSchComDisciplineDetailsID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!P||Ve,tf:It,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ge(we.ExpandTableValue)}),[we.ExpandTableValue]),i().createElement("div",null,!pt&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld500L1ECSearchBar",className:"searchbar1"},i().createElement(T.Z,{frmctrlid:"fld500L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Bt("Search"),value:Y,onChange:e=>{Q(e),Ne.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld500L1TCCloseIconCommonSearch",onClick:()=>{Q(""),Ne.searchItem("")}},i().createElement(v.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld500L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBSchComDisciplineDetailsgridsearch").focus()}})))),i().createElement("div",null,we.AccessRights.IsAdd?i().createElement(s.Z,{className:"SaveBtnCommon",frmctrlid:"fld500L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),Te({type:"editData",payload:[]}),Te({type:"ShowDetail",payload:!1}),Te({type:"Add",payload:!0})}}):"")),i().createElement(I.Z,{expanded:Oe,onChange:()=>()=>{He(Ve)}},e.Dialogview&&i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[500]"},`${It("500")} (${b})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld500L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(T.Z,{frmctrlid:"fld500L1TCInputSearch",className:"search_input",type:"text",placeholder:Bt("Search"),value:Y,onChange:e=>{Et(e)}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld500L1TCInputCloseIcon",onClick:()=>{Et("")}},i().createElement(v.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld500L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon"}))))))),i().createElement(E.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"PPMSBSchComDisciplineDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Re&&i().createElement("div",{frmctrlid:"fld500L1TCFilterDataIsDraft",id:"PPMSBSchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{bt()}},i().createElement(c.ZP,{title:Bt("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(x.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Bt("Filter Data"))),!P&&!Re&&!ve&&i().createElement(W.Z,{formctrlidprint:"fld500L1TCExportPrint",formctrlidexport:"fld500L1TCExportTable",formctrlidrefresh:"fld500L1TCExportRefresh",title:It("500"),data:O,exportData:ht,Items:ct,columnIndex:it,TableVisibleItem:he,userGridViewFormID:m,TableTotalCount:b,triggerApi:t=>{((t,l,i,n,c)=>{if(0===b)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let s=u.v.Api+"FP500S3/",r={data:{p1:t&&t.PPMSBSchComDisciplineDetailsIDPK?t.PPMSBSchComDisciplineDetailsIDPK:null,p2:t&&t.PPMSBSchComDisciplineDetailsCode?t.PPMSBSchComDisciplineDetailsCode:null,p3:t&&t.PPMSBOrderKey?t.PPMSBOrderKey:null,p4:t&&t.PPMSBMaterialStatus?t.PPMSBMaterialStatus:null,p5:t&&t.PPMSBTotalDuration?t.PPMSBTotalDuration:null,p6:t&&t.PPMSBRangeMax?t.PPMSBRangeMax:null,p7:t&&t.PPMSBRangeMin?t.PPMSBRangeMin:null,p8:t&&t.PPMSBAccessType?t.PPMSBAccessType:null,p9:null,p10:Re?"1":"0",p11:null,p12:e.parentId?Number(e.parentId):0,p13:t&&t.PPMCheckPointID?t.PPMCheckPointID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.CheckPointLevel?t.CheckPointLevel:null,p22:t&&t.CheckPointName?t.CheckPointName:null,p23:t&&t.PPMCheckPointCode?t.PPMCheckPointCode:null,p24:A.current,p25:b,p26:Re?"DraftPPMSBSchComDisciplineDetailsID":"PPMSBSchComDisciplineDetailsID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${It(500)} - ${c.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(s,r,we.token[0],c).then((e=>{(0,de.PDF_Excel_Generate)(e,Ne,ct,L,a,c)}))})(U,K.column,0,0,t)},Refresh:()=>{Q(""),Z({current:1,pageSize:100}),r.current.clearItem(),we.IsDraft?Nt({current:1,pageSize:100},xe,"DraftPPMSBSchComDisciplineDetailsID"):Nt({current:1,pageSize:100},xe,"PPMSBSchComDisciplineDetailsID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Re&&!ve&&!P&&i().createElement("div",{className:"buttoncard",onClick:()=>dt(!mt)},i().createElement("span",null,mt?i().createElement(c.ZP,{disableFocusListener:!0,title:Bt("Less"),placement:"top"},i().createElement("span",{id:"fld500L1TCLess"},i().createElement(ce.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(c.ZP,{disableFocusListener:!0,title:Bt("More"),placement:"top"},i().createElement("span",{id:"fld500L1TCMore"},i().createElement(ce.ilJ,{className:"tableFilterColumnIcon"}))))),mt?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},ve||!Ve?null:P||!we.AccessRights.IsAdd||Re?"":i().createElement("div",null,i().createElement("div",{frmctrlid:"fld500L1TCFilterDataIsAdd",id:"PPMSBSchComDisciplineDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),pe?(document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineDetailsTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv").style.display="none",document.getElementById("PPMSBSchComDisciplineDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplineDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!1)):(document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv").style.width="25%",document.getElementById("PPMSBSchComDisciplineDetailsTabDiv").style.width="75%",document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv").style.display="block",document.getElementById("PPMSBSchComDisciplineDetailsfildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplineDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBSchComDisciplineDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplineDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!0)),_(!1)}},i().createElement(c.ZP,{title:Bt("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(me.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Bt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&Ve&&!ve&&!Re&&i().createElement("div",null,i().createElement("div",{id:"PPMSBSchComDisciplineDetailscoldiv",className:"buttoncard",onClick:()=>{Ye?Qe(!1):(Qe(!0),ft({current:1,pageSize:100}))}},i().createElement(c.ZP,{title:Bt("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld500L1TCTableScrollData"},i().createElement(De.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Bt("Table Scroll Data")))),!ve&&Re?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Nt({current:1,pageSize:100},xe,"PPMSBSchComDisciplineDetailsID"),Le(!1),Q(""),Te({type:"IsDraft",payload:!1}),Z({current:1,pageSize:10})}},i().createElement(c.ZP,{title:Bt("List"),placement:"top"},i().createElement("div",{id:"fld500L1TCList"},i().createElement(se.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},Bt("Drafts")," ",b)):!P&&!ve&&we.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(f.Z,{color:"secondary",className:"badge",max:999,badgeContent:w,showZero:!0},i().createElement("div",{id:"fld500L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{w>0?(Z({current:1,pageSize:100}),C(0),Ne.clear(),Q(""),Te({type:"Add",payload:!1}),Nt({current:1,pageSize:10},xe,"DraftPPMSBSchComDisciplineDetailsID"),Le(!0),Te({type:"IsDraft",payload:!0}),Me(!1),_e(!0),document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineDetailsTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetailsFilterDiv").style.display="none",Z({current:1,pageSize:100}),be(!1)):Ne.alert({open:!0,color:"warning",message:[Bt("There is no Record Found")]})}},i().createElement(c.ZP,{title:Bt("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(re.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Bt("Drafts"))))))):""),!Re&&!P&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},ve||Re?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:qe?"buttonList":"buttonGrid",id:"fld500L1TCListView",onClick:()=>{_e(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(ce.umT,null)),i().createElement("span",null,Bt("List"))),i().createElement("div",{className:qe||rt?"buttonGrid":"buttonList",id:"fld500L1TCCardView",onClick:()=>{_e(!1),ot(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(F.aCJ,null)),i().createElement("span",null,Bt("Card"))),i().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld500L1TCTileView",onClick:()=>{ot(!0),_e(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(h.f_H,null)),i().createElement("span",null,Bt("Tile"))))))),ve?null:Ye?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld500L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:M,onPageChange:(e,t)=>{C(t),ft({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:Je,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),ft({current:t,pageSize:at.pageSize})}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld500L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),Ve&&i().createElement("p",{className:"per-page"},"/ ",Bt("RowperpageOf")," (",et,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld500L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(b),page:M,onPageChange:(e,t)=>{C(t),Nt({current:t+1,pageSize:A.pageSize},xe,Re?"DraftPPMSBSchComDisciplineDetailsID":"PPMSBSchComDisciplineDetailsID",Re&&"DraftPage"),Z({current:t+1,pageSize:A.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:y,siblingCount:0,color:"primary",page:A.current,onChange:(e,t)=>{if(Z({current:t,pageSize:A.pageSize}),Re)Nt({current:t,pageSize:A.pageSize},Fe,"DraftPPMSBSchComDisciplineDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Y.length>0?wt(Y,{current:t,pageSize:A.pageSize}):Nt({current:t,pageSize:A.pageSize},Fe,"PPMSBSchComDisciplineDetailsID")}}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:A.pageSize,id:"fld500L1TCSelectPaging",onChange:e=>{Z({current:1,pageSize:e.target.value}),Re?Nt({current:1,pageSize:e.target.value},Fe,"DraftPPMSBSchComDisciplineDetailsID","DraftPage"):Y.length>0?wt(Y,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},Fe,"PPMSBSchComDisciplineDetailsID")}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),Ve&&i().createElement("p",{className:"per-page"},"/ ",Bt("RowperpageOf")," (",b,") "))),i().createElement("div",{id:"PPMSBSchComDisciplineDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"PPMSBSchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},q&&i().createElement($,{parentId:e.parentId,searchData:e=>{j(e||Ct),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:we.token[0],CloseBtnClk:()=>bt(),userGrid:Dt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&i().createElement(te.Z,{Refresh:e=>{Nt({current:1,pageSize:100},xe,"PPMSBSchComDisciplineDetailsID")},frmctrlid:"fld500L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:pe,userID:o,userGridViewFormID:m,saved:(e,t)=>{e&&Tt(t),Mt(t),Te({type:"showTableview",payload:t})},Token:we.token[0]})),i().createElement("div",{id:"PPMSBSchComDisciplineDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},qe?i().createElement(xt,null):i().createElement(ne.Z,{frmctrlid:"fld500L1TCExpandedCardDual",data:V,id:"PPMSBSchComDisciplineDetails",title:"PPMSBSchComDisciplineDetailsCode",cardTile:!!rt,visibleitem:he,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?Ne.select(e):("edit"==t?(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Re}),Te({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Re}),Te({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),q?_(!0):pe?Me(!0):(Me(!1),Me(!1))),Ne.hideAddBtn(!0)}})))))))}));var Ce=a(44528),ge=a(99090),he=a(61924),ye=a.n(he),Be=(a(40826),a(55490)),Ie=a(92371);const Ee={EnterKeyValues:{PPMSBSchComDisciplineDetails:["CheckPointName","PPMSBTotalDuration","PPMSBRangeMin","PPMSBRangeMax","PPMSBAccessType","IsPPMSBMandatory","PPMSBSchComDisciplineDetailsCode","PPMSBOrderKey","PPMSBMaterialStatus","PPMSBSchComDisciplineCode"]},Label:{PPMSBSchComDisciplineDetails:{PPMCheckPointID:["PPMCheckPointCode","CheckPointName"],PPMSBTotalDuration:["PPMSBSchComDisciplineDetailsCode"],PPMSBRangeMin:["PPMSBSchComDisciplineDetailsCode"],PPMSBRangeMax:["PPMSBSchComDisciplineDetailsCode"],PPMSBAccessType:["PPMSBSchComDisciplineDetailsCode"],IsPPMSBMandatory:["PPMSBSchComDisciplineDetailsCode"],PPMSBSchComDisciplineDetailsCode:["PPMSBSchComDisciplineDetailsCode"],PPMSBOrderKey:["PPMSBSchComDisciplineDetailsCode"],PPMSBMaterialStatus:["PPMSBSchComDisciplineDetailsCode"],PPMSBSchComDisciplineID:["PPMSBSchComDisciplineDetailsCode"]}},LabelHeader:{PPMSBSchComDisciplineDetails:{PPMCheckPointID:["Checkpoint Code","Checkpoint Name"],PPMSBTotalDuration:["PPMSBSchComDisciplineDetailsCode"],PPMSBRangeMin:["PPMSBSchComDisciplineDetailsCode"],PPMSBRangeMax:["PPMSBSchComDisciplineDetailsCode"],PPMSBAccessType:["PPMSBSchComDisciplineDetailsCode"],IsPPMSBMandatory:["PPMSBSchComDisciplineDetailsCode"],PPMSBSchComDisciplineDetailsCode:["PPMSBSchComDisciplineDetailsCode"],PPMSBOrderKey:["PPMSBSchComDisciplineDetailsCode"],PPMSBMaterialStatus:["PPMSBSchComDisciplineDetailsCode"],PPMSBSchComDisciplineID:["PPMSBSchComDisciplineDetailsCode"]}},Property:{PPMSBSchComDisciplineDetails:{PPMCheckPointID:{id:"fld500_22856",clearID:"PPMSBSchComDisciplineDetailsCheckPointNameClear",type:"select",labelID:"PPMCheckPointIDPK",labelname:"Check Point",fielddisplayname:"CheckPointName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMSBTotalDuration:{id:"fld500_22848",labelID:"PPMSBTotalDuration",maxLength:"20",labelname:"Total Duration",frmctrlid:"fld500_22848",frmctrlidname:"PPMSBTotalDuration",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBRangeMin:{id:"fld500_22850",labelID:"PPMSBRangeMin",maxLength:"10",labelname:"Range Min",frmctrlid:"fld500_22850",frmctrlidname:"PPMSBRangeMin",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBRangeMax:{id:"fld500_22849",labelID:"PPMSBRangeMax",maxLength:"10",labelname:"Range Max",frmctrlid:"fld500_22849",frmctrlidname:"PPMSBRangeMax",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBAccessType:{id:"fld500_22851",labelID:"PPMSBAccessType",maxLength:"50",labelname:"Access Type",frmctrlid:"fld500_22851",frmctrlidname:"PPMSBAccessType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPPMSBMandatory:{id:"fld500_22852",labelID:"IsPPMSBMandatory",maxLength:"",labelname:"Mandatory",frmctrlid:"fld500_22852",frmctrlidname:"IsPPMSBMandatory",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBSchComDisciplineDetailsCode:{id:"fld500_22845",labelID:"PPMSBSchComDisciplineDetailsCode",maxLength:"50",labelname:"PPMSBSchComDisciplineDetailsCode",frmctrlid:"fld500_22845",frmctrlidname:"PPMSBSchComDisciplineDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBOrderKey:{id:"fld500_22846",labelID:"PPMSBOrderKey",maxLength:"",labelname:"PPMSBOrderKey",frmctrlid:"fld500_22846",frmctrlidname:"PPMSBOrderKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBMaterialStatus:{id:"fld500_22847",labelID:"PPMSBMaterialStatus",maxLength:"",labelname:"PPMSBMaterialStatus",frmctrlid:"fld500_22847",frmctrlidname:"PPMSBMaterialStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBSchComDisciplineID:{id:"fld500_22855",clearID:"PPMSBSchComDisciplineDetailsPPMSBSchComDisciplineCodeClear",type:"select",labelID:"PPMSBSchComDisciplineIDPK",labelname:"PPMSBSchComDisciplineID",fielddisplayname:"PPMSBSchComDisciplineCode",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBSchComDisciplineDetails:{PPMCheckPointID:["IsActive","CheckPointName","IsDraft","PPMCheckPointCode","CreatedTtm"],PPMSBSchComDisciplineID:["DisciplineID","FrequencyID","PPMSBManHour","PPMSBManPower","PPMSBMaintenanceHours"]}}};var fe=a(6562),ve=a(45155),be=a(79352),Ne=(a(49174),a(38773),a(19089),a(16233)),we=a.n(Ne);a(82729),a(75355),a(11107);const Te={PPMSBSchComDisciplineDetailsIDPK:"",PPMSBSchComDisciplineDetailsCode:"",PPMSBOrderKey:"",PPMSBMaterialStatus:"",PPMSBTotalDuration:"",PPMSBRangeMax:"",PPMSBRangeMin:"",PPMSBAccessType:"",IsPPMSBMandatory:!1,IsDraft:!1,Remarks:"",PPMSBSchComDisciplineID:null,PPMCheckPointID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",Type:"PPMSBSchComDisciplineDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},xe=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[c,s]=(0,l.useState)(!1),[r,d]=(0,l.useState)(!0),[D,M]=(0,l.useState)(!1),[C,h]=(0,l.useState)(!1),[y,f]=(0,l.useState)(""),[v,b]=(0,l.useState)(!1),[N,w]=(0,l.useState)([]),[T,x]=(0,l.useState)(null),[F,k]=(0,l.useReducer)(Ie.Z,Te),[Z,O]=(0,l.useState)(!1),[z,K]=(0,l.useState)([]),[H,V]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:ze),{cstate:q,cdispatch:_}=e.ContextApi?e.ContextApi:Ke(),[U,Y]=(0,l.useState)(0),[Q,$]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,X]=we()("500"),[ee,te]=(0,l.useState)(!0),[ae,ie]=(0,l.useState)(!0),[ne,ce]=(0,l.useState)(!0),[se,re]=(0,l.useState)(!1);let oe=(0,g.Z)();const[me,de]=(0,l.useState)({}),pe=e=>oe[e]?oe[e]:e,ue=t=>q.language?.[t]?q.language[t]:e.createEasy?me?.[t]:t;(0,l.useEffect)((()=>{q.PrimaryId&&Y(Number(q.PrimaryId))}),[q.PrimaryId]),(0,l.useEffect)((()=>{Pe()}),[]),(0,l.useEffect)((()=>{Pe()}),[e.parentId]),(0,l.useEffect)((()=>{q.editData.length>0?(Se(q.editData[0],""),M(!0)):q.Add&&(Pe(),M(!0))}),[q.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),de(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Pe()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(Le(t),M(e)):(Pe(),M(e))},AddOpen:e=>{Pe(),M(!0)}})));const Se=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultPPMSBSchComDisciplineDetailsID"==a?$(t.PPMSBSchComDisciplineDetailsIDPK):(Y(e.primid?Number(e.primid):t.PPMSBSchComDisciplineDetailsIDPK?t.PPMSBSchComDisciplineDetailsIDPK:0),_({type:"PrimaryId",payload:t.PPMSBSchComDisciplineDetailsIDPK})),k({type:"number",name:"PPMCheckPointID",number:t.PPMCheckPointID?Number(t.PPMCheckPointID):0}),k({type:"text",name:"CheckPointName",value:t.CheckPointName}),k({type:"number",name:"PPMSBTotalDuration",number:Number(t.PPMSBTotalDuration)}),k({type:"number",name:"PPMSBRangeMin",number:t.PPMSBRangeMin}),k({type:"number",name:"PPMSBRangeMax",number:t.PPMSBRangeMax}),k({type:"text",name:"PPMSBAccessType",value:t.PPMSBAccessType?t.PPMSBAccessType:""}),k({type:"boolean",name:"IsPPMSBMandatory",boolean:!!t.IsPPMSBMandatory&&t.IsPPMSBMandatory}),k({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:t.PPMSBSchComDisciplineDetailsCode?t.PPMSBSchComDisciplineDetailsCode:""}),k({type:"number",name:"PPMSBOrderKey",number:t.PPMSBOrderKey}),k({type:"boolean",name:"PPMSBMaterialStatus",boolean:!!t.PPMSBMaterialStatus&&t.PPMSBMaterialStatus}),k({type:"number",name:"PPMSBSchComDisciplineID",number:t.PPMSBSchComDisciplineID?Number(t.PPMSBSchComDisciplineID):0}),k({type:"text",name:"PPMSBSchComDisciplineCode",value:t.PPMSBSchComDisciplineCode}),t.IsDraft?d(!0):d(!("1"!=t.IsActive&&!t.IsActive))},Pe=()=>{w([]),Y(0),$(""),e.createEasy||G.resetImg(),_({type:"PrimaryId",payload:""}),k({type:"text",name:"PPMCheckPointID",value:null}),k({type:"text",name:"CheckPointName",value:""}),document.getElementById("PPMSBSchComDisciplineDetailsCheckPointNameClear")&&document.getElementById("PPMSBSchComDisciplineDetailsCheckPointNameClear").click(),k({type:"number",name:"PPMSBTotalDuration",number:0}),k({type:"number",name:"PPMSBRangeMin",number:0}),k({type:"number",name:"PPMSBRangeMax",number:0}),k({type:"text",name:"PPMSBAccessType",value:""}),k({type:"boolean",name:"IsPPMSBMandatory",boolean:!1}),k({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:""}),k({type:"number",name:"PPMSBOrderKey",number:0}),k({type:"boolean",name:"PPMSBMaterialStatus",boolean:!1}),k({type:"text",name:"PPMSBSchComDisciplineID",value:null}),k({type:"text",name:"PPMSBSchComDisciplineCode",value:""}),document.getElementById("PPMSBSchComDisciplineDetailsPPMSBSchComDisciplineCodeClear")&&document.getElementById("PPMSBSchComDisciplineDetailsPPMSBSchComDisciplineCodeClear").click(),d(!0),f(""),te(!0),ie(!0),ce(!0)},De=t=>{G.loading(!0),G.ConfirmAlert(null);const a=u.v.Api+"FP500S2/",l={data:[{p1:"SetDefaultPPMSBSchComDisciplineDetailsID"==t?"NORECORDS"!=Q&&Q?Q:0:U,p2:Oe(F.PPMSBSchComDisciplineDetailsCode),p3:F.PPMSBOrderKey?Number(F.PPMSBOrderKey):0,p4:F.PPMSBMaterialStatus,p5:F.PPMSBTotalDuration?Number(F.PPMSBTotalDuration):0,p6:F.PPMSBRangeMax?Number(F.PPMSBRangeMax):0,p7:F.PPMSBRangeMin?Number(F.PPMSBRangeMin):0,p8:Oe(F.PPMSBAccessType),p9:F.IsPPMSBMandatory,p10:!1,p11:"SetDefaultPPMSBSchComDisciplineDetailsID"==t?"SetDefault":null,p12:e.parentId?Number(e.parentId):F.PPMSBSchComDisciplineID?F.PPMSBSchComDisciplineID:0,p13:F.PPMCheckPointID?F.PPMCheckPointID:0,p14:r,p15:"SetDefaultPPMSBSchComDisciplineDetailsID"==t,p16:localStorage.getItem("userid"),p17:R()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:n}),G.loading(!1)):(t=>{te(!0),ie(!0),ce(!0),G.loading(!0),G.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP500S1/",l={data:[{p1:U,p2:Oe(F.PPMSBSchComDisciplineDetailsCode),p3:F.PPMSBOrderKey?Number(F.PPMSBOrderKey):0,p4:F.PPMSBMaterialStatus,p5:F.PPMSBTotalDuration?Number(F.PPMSBTotalDuration):0,p6:F.PPMSBRangeMax?Number(F.PPMSBRangeMax):0,p7:F.PPMSBRangeMin?Number(F.PPMSBRangeMin):0,p8:Oe(F.PPMSBAccessType),p9:F.IsPPMSBMandatory,p10:!1,p11:null,p12:e.parentId?Number(e.parentId):F.PPMSBSchComDisciplineID?F.PPMSBSchComDisciplineID:0,p13:F.PPMCheckPointID?F.PPMCheckPointID:0,p14:r,p15:!1,p16:localStorage.getItem("userid"),p17:R()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,L.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(G.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails"),G.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK)),Pe(),q.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails")&&(document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails").style.display="none",document.getElementById("divPPMSBSchComDisciplineDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBSchComDisciplineDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[a.message]}),G.loading(!1)),M(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function Me(t,a,l,i){if(!(q.count>0))return G.alert({open:!0,color:"warning",message:[pe("Please save atleast one record")]}),!1;if(!((()=>{const e={...F};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return G.alert({open:!0,color:"warning",message:[pe("Please enter the primary fields")]}),!1;{te(!0),ie(!0),ce(!0),G.loading(!0),G.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP500S1/",l={data:[{p1:"SetDefaultPPMSBSchComDisciplineDetailsID"==i?"NORECORDS"!=Q&&Q?Q:0:U,p2:Oe(F.PPMSBSchComDisciplineDetailsCode),p3:F.PPMSBOrderKey?Number(F.PPMSBOrderKey):0,p4:F.PPMSBMaterialStatus,p5:F.PPMSBTotalDuration?Number(F.PPMSBTotalDuration):0,p6:F.PPMSBRangeMax?Number(F.PPMSBRangeMax):0,p7:F.PPMSBRangeMin?Number(F.PPMSBRangeMin):0,p8:Oe(F.PPMSBAccessType),p9:F.IsPPMSBMandatory,p10:!0,p11:"SetDefaultPPMSBSchComDisciplineDetailsID"==i?"SetDefault":null,p12:e.parentId?Number(e.parentId):F.PPMSBSchComDisciplineID?F.PPMSBSchComDisciplineID:0,p13:F.PPMCheckPointID?F.PPMCheckPointID:0,p14:!1,p15:"SetDefaultPPMSBSchComDisciplineDetailsID"==i,p16:localStorage.getItem("userid"),p17:R()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((i=>{(0,L.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?G.alert({open:!0,color:"warning",message:[pe("Deleted Successfully")]}):G.alert({open:!0,color:"success",message:[pe("Saved to Draft")]}),G.loading(!1),G.attachmentSave(a[0].Data.IDPK),Pe(),G.RefreshTable(),e.clrImgstate(!0)):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1))}))}))}}function he(e){return CreateEasy(e,q,_,G,W),!1}function Ne(e,a){return AdvanceSearch(e,a,ze,Ke(),ke,t),!1}const xe=(t,a,l,i,n,c)=>{const s=u.v.Api+"FP500S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:1==F.IsPPMSBMandatory,p10:null,p11:null,p12:e.parentId?Number(e.parentId):0,p13:"0"==F.PPMCheckPointID?null:F.PPMCheckPointID,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:t,p25:10,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},o=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const m={data:o};return(0,p.Z)(s,"ClearAll"==l?m:r,"SetDefaultPPMSBSchComDisciplineDetailsID"==l&&i?i:q.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return 1==i.length?i[0]:{};K(1==t?e>0?i:[]:z.concat(i)),"SetDefaultPPMSBSchComDisciplineDetailsID"==l&&(e>0?Se(i[0],"SetDefaultPPMSBSchComDisciplineDetailsID"):$("NORECORDS")),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},Fe=(t,l,i)=>{const n=u.v.Api+"FP500S3/",c={data:{p1:null,p2:"PPMSBSchComDisciplineDetailsCode"==i&&l?"%"+l+"%":null,p3:"PPMSBOrderKey"==i&&l?"%"+l+"%":null,p4:"PPMSBMaterialStatus"==i&&l?"%"+l+"%":null,p5:"PPMSBTotalDuration"==i&&l?"%"+l+"%":null,p6:"PPMSBRangeMax"==i&&l?"%"+l+"%":null,p7:"PPMSBRangeMin"==i&&l?"%"+l+"%":null,p8:"PPMSBAccessType"==i&&l?"%"+l+"%":null,p9:null,p10:null,p11:null,p12:a.PPMSBSchComDisciplinePPMSBSchComDisciplineID?a.PPMSBSchComDisciplinePPMSBSchComDisciplineID:"0",p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:t,p25:10,p26:"PPMSBSchComDisciplineDetailsID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},s={data:Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{})};O(!0),(0,p.Z)(n,"ClearAll"==i?s:c,q.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBSchComDisciplineDetailsCode"==i&&te(e>0),"PPMSBOrderKey"==i&&ie(e>0),"PPMSBMaterialStatus"==i&&ce(e>0),K(l)):("PPMSBSchComDisciplineDetailsCode"==i&&te(!0),"PPMSBOrderKey"==i&&ie(!0),"PPMSBMaterialStatus"==i&&ce(!0),K(z.concat(l))),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ke=(0,l.useCallback)((async(e,t,a)=>{"text"==a?k({type:a,name:t,value:e}):"number"==a?k({type:a,name:t,number:Number(e)}):"boolean"==a?k({type:a,name:t,boolean:e}):"date"==a?k({type:"text",name:t,value:e}):"select"==a&&"PPMCheckPointID"==t&&(k({type:"text",name:"PPMCheckPointID",value:e.PPMCheckPointIDPK?e.PPMCheckPointIDPK:null}),k({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:null}))}),[F]);function Ae(e){if("PPMCheckPointID"==e){if(!F.PPMCheckPointID)return!1;k({type:"text",name:"PPMCheckPointID",value:null}),k({type:"text",name:"CheckPointName",value:""}),document.getElementById("PPMSBSchComDisciplineDetailsCheckPointNameClear")&&document.getElementById("PPMSBSchComDisciplineDetailsCheckPointNameClear").click()}else if("PPMSBSchComDisciplineID"==e&&!F.PPMSBSchComDisciplineID)return!1}function Ze(e){if("PPMCheckPointID"==e){if(!F.PPMCheckPointID)return!1;k({type:"text",name:"PPMCheckPointID",value:null})}else if("PPMSBSchComDisciplineID"==e&&!F.PPMSBSchComDisciplineID)return!1}const Re=e=>{G.ConfirmAlert(i().createElement(ye(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Le(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("No"),showCancel:!0},pe("Do you want to update this record?")))};function Le(e){G.ConfirmAlert(null),h(e.IsDraft),Y(Number(e.PPMSBSchComDisciplineDetailsIDPK)?Number(e.PPMSBSchComDisciplineDetailsIDPK):0),k({type:"number",name:"PPMCheckPointID",number:e.PPMCheckPointID?Number(e.PPMCheckPointID):0}),k({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:""}),k({type:"number",name:"PPMSBTotalDuration",number:e.PPMSBTotalDuration?Number(e.PPMSBTotalDuration):0}),k({type:"number",name:"PPMSBRangeMin",number:e.PPMSBRangeMin?Number(e.PPMSBRangeMin):0}),k({type:"number",name:"PPMSBRangeMax",number:e.PPMSBRangeMax?Number(e.PPMSBRangeMax):0}),k({type:"text",name:"PPMSBAccessType",value:e.PPMSBAccessType?e.PPMSBAccessType:""}),k({type:"boolean",name:"IsPPMSBMandatory",boolean:!!e.IsPPMSBMandatory&&e.IsPPMSBMandatory}),k({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:e.PPMSBSchComDisciplineDetailsCode?e.PPMSBSchComDisciplineDetailsCode:""}),k({type:"text",name:"PPMSBOrderKey",value:e.PPMSBOrderKey?e.PPMSBOrderKey:""}),k({type:"text",name:"PPMSBMaterialStatus",value:e.PPMSBMaterialStatus?e.PPMSBMaterialStatus:""}),k({type:"number",name:"PPMSBSchComDisciplineID",number:e.PPMSBSchComDisciplineID?Number(e.PPMSBSchComDisciplineID):0}),k({type:"text",name:"PPMSBSchComDisciplineCode",value:e.PPMSBSchComDisciplineCode?e.PPMSBSchComDisciplineCode:""})}const Oe=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(I.Z,{expanded:D,onChange:e=>{}},i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},D&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[500]"}," ",pe("Add "),ue("500")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(fe.Z,{row:!0},i().createElement(j.Z,{labelPlacement:"bottom",id:"fld500L1ECEntryCheckbox",control:i().createElement(A.Z,{checked:"1"==r,onChange:e=>d(e.target.checked)}),label:pe(1==r?"Active":"In Active")})))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld500L1ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(ve.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,pe("Attach")))),!U&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Pe()},id:"fld500L1ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(ve.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,pe("Reset")))),"1"===C&&U&&i().createElement(ge.Z,{frmctrlid:"fld500L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Me("draftdel")}}),U&&"1"!==C||e.createEasy?null:q.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{Me()},frmctrlid:"fld500L1ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(be.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,pe("Draft")))),q.AccessRights.IsAdd||q.AccessRights.IsEdit?i().createElement(P.Z,{frmctrlid:"fld500L1ECSaveBtnIsAdd",name:pe(U?"Update":"Save"),disabled:!1,onClick:()=>{F.PPMCheckPointID&&0!=F.PPMCheckPointID?e.parentId&&0!=e.parentId?G.ConfirmAlert(i().createElement(ye(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:pe("Are you sure?"),onConfirm:()=>De(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("Cancel"),showCancel:!0},pe(U?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+ue("PPMSBSchComDisciplineID")]}):G.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+ue("PPMCheckPointID")]})}}):null,!e.createEasy&&i().createElement(B.Z,{frmctrlid:"fld500L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Pe(),M(!1),G.EditClose(!0),G.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),i().createElement(E.Z,null,i().createElement("div",{id:"PPMSBSchComDisciplineDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"PPMSBSchComDisciplineDetails-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"PPMSBSchComDisciplineDetails-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(o.Z,{spacing:2},i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Be.Z,{json:Ee,id:F.PPMCheckPointID,"data-testid":F.PPMCheckPointID,value:F.CheckPointName,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMCheckPointID",tfLabel:ue("PPMCheckPointID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ke(e,"PPMCheckPointID","select"),onChange:(e,t)=>{xe(e,t,"PPMCheckPointIDPK")},KeyBack:e=>{Ze("PPMCheckPointID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{he("462")},Tabledialog:()=>Ne("462","PPMCheckPointID"),loading:Z,clear:e=>{e&&Ae("PPMCheckPointID")}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Ce.Z,{json:Ee,"data-testid":F.PPMSBTotalDuration,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBTotalDuration",tfLabel:ue("PPMSBTotalDuration"),frmctrlid:"fld500_22848",fieldorder:"2",onChange:e=>{ke(e,"PPMSBTotalDuration","number")},clear:e=>{e&&k({type:"number",name:"PPMSBTotalDuration",number:0})},value:F.PPMSBTotalDuration})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Ce.Z,{json:Ee,"data-testid":F.PPMSBRangeMin,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBRangeMin",tfLabel:ue("PPMSBRangeMin"),frmctrlid:"fld500_22850",fieldorder:"3",onChange:e=>{ke(e,"PPMSBRangeMin","number")},clear:e=>{e&&k({type:"number",name:"PPMSBRangeMin",number:0})},value:F.PPMSBRangeMin})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Ce.Z,{json:Ee,"data-testid":F.PPMSBRangeMax,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBRangeMax",tfLabel:ue("PPMSBRangeMax"),frmctrlid:"fld500_22849",fieldorder:"4",onChange:e=>{ke(e,"PPMSBRangeMax","number")},clear:e=>{e&&k({type:"number",name:"PPMSBRangeMax",number:0})},value:F.PPMSBRangeMax})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Ce.Z,{json:Ee,"data-testid":F.PPMSBAccessType,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBAccessType",tfLabel:ue("PPMSBAccessType"),frmctrlid:"fld500_22851",fieldorder:"1",onChange:e=>{ke(e,"PPMSBAccessType","text")},clear:e=>{e&&k({type:"text",name:"PPMSBAccessType",value:""})},value:F.PPMSBAccessType})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},i().createElement("div",{className:"EntryView-Checkbox"},i().createElement(j.Z,{style:{color:"#337ab7"},"data-testid":F.IsPPMSBMandatory,labelPlacement:"end",control:i().createElement(A.Z,{checked:"1"==F.IsPPMSBMandatory,onChange:e=>{ke(e.target.checked,"IsPPMSBMandatory","boolean")},frmctrlid:"fld500_22852",frmctrlidname:"IsPPMSBMandatory",fieldorder:"2",tfLabel:ue("IsPPMSBMandatory")}),label:i().createElement("p",{className:"ToggleSwitchLabel",style:{color:F.IsPPMSBMandatory?"#21446F":"#999"}},ue("IsPPMSBMandatory"))}))),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(Be.Z,{"data-testid":F.PPMSBSchComDisciplineDetailsCode,json:Ee,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBSchComDisciplineDetailsCode",tfLabel:ue("PPMSBSchComDisciplineDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Re(t),onClick:()=>{ee&&Fe(1,"","ClearAll"),te(!0)},frmctrlid:"fld500_22845",frmctrlidName:"PPMSBSchComDisciplineDetailsCode",fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ee&&Fe(e,t,"PPMSBSchComDisciplineDetailsCode"),ke(t,"PPMSBSchComDisciplineDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSBSchComDisciplineDetailsCode,loading:Z,clear:e=>{e&&(k({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:""}),te(!0))}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(Be.Z,{"data-testid":F.PPMSBOrderKey,json:Ee,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBOrderKey",tfLabel:ue("PPMSBOrderKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Re(t),onClick:()=>{ae&&Fe(1,"","ClearAll"),ie(!0)},frmctrlid:"fld500_22846",frmctrlidName:"PPMSBOrderKey",fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ae&&Fe(e,t,"PPMSBOrderKey"),ke(t,"PPMSBOrderKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSBOrderKey,loading:Z,clear:e=>{e&&(k({type:"text",name:"PPMSBOrderKey",value:""}),ie(!0))}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(Be.Z,{"data-testid":F.PPMSBMaterialStatus,json:Ee,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBMaterialStatus",tfLabel:ue("PPMSBMaterialStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Re(t),onClick:()=>{ne&&Fe(1,"","ClearAll"),ce(!0)},frmctrlid:"fld500_22847",frmctrlidName:"PPMSBMaterialStatus",fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ne&&Fe(e,t,"PPMSBMaterialStatus"),ke(t,"PPMSBMaterialStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSBMaterialStatus,loading:Z,clear:e=>{e&&(k({type:"text",name:"PPMSBMaterialStatus",value:""}),ce(!0))}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(Be.Z,{json:Ee,id:F.PPMSBSchComDisciplineID,"data-testid":F.PPMSBSchComDisciplineID,value:F.PPMSBSchComDisciplineCode,SPName:"PPMSBSchComDisciplineDetails",FieldName:"PPMSBSchComDisciplineID",tfLabel:ue("PPMSBSchComDisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ke(e,"PPMSBSchComDisciplineID","select"),onChange:(e,t)=>{xe(e,t,"PPMSBSchComDisciplineIDPK")},KeyBack:e=>{Ze("PPMSBSchComDisciplineID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{he("499")},Tabledialog:()=>Ne("499","PPMSBSchComDisciplineID"),loading:Z,clear:e=>{e&&Ae("PPMSBSchComDisciplineID")}})))),i().createElement("div",{id:"PPMSBSchComDisciplineDetailsSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBSchComDisciplineDetailsSideBar").style.width="0",void b(!1))},"Ã—"),v&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},T))))))))}));var Fe=a(65197);const ke=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,o]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,d]=(0,l.useState)(!0),[P,D]=(0,l.useState)(e.showDetail),[M,C]=(0,l.useState)(""),[h,y]=i().useState(!1),[f,v]=i().useState(""),[b,N]=i().useState(!1),w=(0,l.useContext)(ze),{cstate:T,cdispatch:x}=Ke(),[F,k]=(0,l.useState)(!1),[A,Z]=(0,l.useState)(""),[R,L]=(0,l.useState)(""),[O,z]=(0,l.useState)("");let K=(0,g.Z)();(0,l.useEffect)((()=>{T.editData.length>0&&(o(T.editData),y(!1),x({type:"PrimaryId",payload:T.editData[0].PPMSBSchComDisciplineDetailsIDPK}))}),[T.editData]),(0,l.useEffect)((()=>{T.showTableview&&z(T.showTableview)}),[T.showTableview]),(0,l.useEffect)((()=>{d(T.ExpandDetailValue)}),[T.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{d(e),y(null)},viewtoggle:()=>{y(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP500S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:1,p25:10,p26:T.IsDraft?"DraftPPMSBSchComDisciplineDetailsID":"PPMSBSchComDisciplineDetailsID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,p.Z)(l,i,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&o(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===h&&a.current.clear()}})));const H=e=>K?.[e]?K?.[e]:e,V=e=>T.language?.[e]?T.language[e]:e;function G(e,t){}const q=(e,t)=>(a,l)=>{v(b?Object.assign(...c.filter((e=>e.PPMSBSchComDisciplineDetailsIDPK==t)).map((e=>e))):T.editData),y(!l&&e)};return i().createElement("div",null,i().createElement(I.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&d(!m)}},!h&&i().createElement(le.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},T.IsDraft?H("Draft"):"",V("PPMSBSchComDisciplineDetails"),e.viewonly?" ":"("+T.count+")")):"",m?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&T.AccessRights.IsAdd?i().createElement(s.Z,{name:H("Add"),frmctrlid:"fld500L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),x({type:"editData",payload:[]}),x({type:"ShowDetail",payload:!1}),x({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&T.AccessRights.IsEdit?i().createElement(r.Z,{frmctrlid:"fld500L1VCEditBtn",onClick:q("panel0",""),disabled:!1}):T.IsDraft&&T.AccessRights.IsAdd&&i().createElement(r.Z,{frmctrlid:"fld500L1VCEditBtnIsAdd",onClick:()=>{q("panel","")},disabled:!1}),!e.viewonly&&i().createElement(B.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld500L1VCCloseBtn",onClick:()=>{d(!1),w.hideAddBtn(!1),b&&(x({type:"editData",payload:[]}),o([]))}})):"")),i().createElement(E.Z,{style:{display:"block"}},c.map(((t,l)=>i().createElement("div",{key:l},h==="panel"+l?i().createElement(xe,{ref:a,parentId:e.parentId}):i().createElement(i().Fragment,null,i().createElement(Fe.Z,{tableName:"PPMSBSchComDisciplineDetails",tableID:500,parentID:t.PPMSBSchComDisciplineDetailsIDPK,fldid:"fld500L1VCContainer",OpenSlideComponent:G,index:l,refresh:O,val:t,tf:V,t:H,title:"10.0.0.59-3:08:17 PM-18-7[500]"}))))))))}));var Ae=a(67698),Ze=a(55995),Re=(a(45965),a(41722)),Le=a(9175),Oe=a.n(Le);const ze=(0,l.createContext)(),Ke=()=>{const e=(0,l.useContext)(ze);if(void 0===e)throw new Error("useCont must be used within  PPMSBSchComDisciplineDetailsContext Provider");return e},He=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),c=(0,l.useRef)(),s=(0,l.useRef)(),r=(0,l.useRef)(),o=(0,l.useRef)(),[m,d]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),P=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[D,M]=(0,l.useState)(0),[C,g]=(0,l.useReducer)(Re.D,Re.E),[h,y]=(0,l.useState)(""),[B,I]=(0,l.useState)([]),[E,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||c.current.clear(),document.getElementById("divPPMSBSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{d(!0),document.getElementById("divPPMSBSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),c.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const v=e=>{I([]),document.getElementById("divPPMSBSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetailsEntryTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainEntry").style.display="block",document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),M(t.length),b(e)}))}))}),[]);const b=t=>{g({type:"AccessRights",payload:e.AccessRights}),f(e.AccessRights?.isNestSendtoApproval)};return i().createElement("div",{style:{width:"100%"}},i().createElement(ze.Provider,{value:{cstate:C,cdispatch:g,ContextApi:Ke,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==D&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{o.current.tempsave(e,B),I([])},EditClose:e=>v(),AttachExpand:e=>(r.current.AttachmentData(C.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSBSchComDisciplineDetails").style.width="50%",document.getElementById("divPPMSBSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDisciplineDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails").style.display="block",document.getElementById("overlayimgAttPPMSBSchComDisciplineDetails").style.width="25%"))),Expanded:e=>{C.ShowDetail&&s.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{C.ShowDetail&&s.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),C.ShowDetail?s.current.clear(e):c.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{C.ShowDetail?s.current.tableClick(!1):c.current.CreateEasyProps(!1)},resetImg:()=>{o.current.tempClear(),r.current.clrImgstate(!0)}}},i().createElement("div",{id:"PPMSBSchComDisciplineDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},i().createElement("div",{id:"PPMSBSchComDisciplineDetails-MainEntry",className:"",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"PPMSBSchComDisciplineDetailsEntryTable",style:{width:"100%"}},C.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divPPMSBSchComDisciplineDetails-Entry",style:{width:"100%"}},0!==D?i().createElement(ke,{ref:s,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),i().createElement(Ze.Z,{ref:o,menurefID:500,fileId:"LogoImgPPMSBSchComDisciplineDetails",imgloading:t=>{t||C.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:C.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewPPMSBSchComDisciplineDetails",frmctrlid:"PvwIm_500_L1_",tempImg:e=>{C.PrimaryId?r.current.AttachmentData(C.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:C.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divPPMSBSchComDisciplineDetails-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(xe,{ref:c,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),i().createElement(Ze.Z,{ref:o,menurefID:500,fileId:"LogoImgPPMSBSchComDisciplineDetails",imgloading:t=>{t||C.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:C.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewPPMSBSchComDisciplineDetails",frmctrlid:"PvwIm_500_L1_",tempImg:e=>{C.PrimaryId?r.current.AttachmentData(C.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:C.Add})),i().createElement("div",{id:"PPMSBSchComDisciplineDetails-MainTable"},0!==D?i().createElement(Me,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),i().createElement(Ae.Z,{ImgAttachment:e=>v(),menurefID:500,fileId:"AttImgPPMSBSchComDisciplineDetails",imgid:"overlayimgAttPPMSBSchComDisciplineDetails",valueIDPK:C.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBSchComDisciplineDetails",ref:r,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_500_L1_",timglist:e=>{o.current.timglist(e),I(e)},clearTempData:C.Add}))),i().createElement("div",{id:"PPMSBSchComDisciplineDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),E&&i().createElement(Oe(),{openDialog:E,closeDialog:e=>f(e),formID:500,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Ve=a(25108);const Ge=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,s]=(0,l.useState)([]),[r,d]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[S,P]=(0,l.useState)(""),[D,M]=(0,l.useState)({}),[C,h]=(0,l.useState)(!0),[B,I]=(0,l.useState)(!1),{cstate:E,cdispatch:f}=e.ContextApi?e.ContextApi:$e(),[Z,R]=(0,l.useState)(1),[L,Q]=(0,l.useState)(0),[$,W]=(0,l.useState)(!1),[J,X]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ie,ne]=(0,l.useState)(!1),[ce,se]=(0,l.useState)(""),[re,oe]=(0,l.useState)(!1),[me,de]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[Se,Pe]=(0,l.useState)(""),De=(0,l.useRef)(null),[Me,Ce]=(0,l.useState)({});let ge=localStorage.getItem("Language");const he={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ye=(0,g.Z)();const Be=e=>ye[e]?ye[e]:e,Ie=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[he[ge]];function Ee(){M({}),X({}),e.searchData({}),I(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ce(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ee()}})));const fe=async(t,a,l,i)=>{W(!0);try{De.current&&De.current.abort();const c=new AbortController;De.current=c;let r="",o=[],m={};await d((e=>(r=e.name,e))),await M((e=>(o=e,e))),await X((e=>(m=e,e)));const P=u.v.Api+"FP501S3/",C={data:{p1:"PPMSBSchComDisciplineSubDetailsIDPK"==a?null:await Te(),p2:"PPMSBSchComDisciplineSubDetailsCode"==r&&l.length>0?"%"+l+"%":null,p3:"PPMSBSubQuantity"==r&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:e.parentId?e.parentId:"0",p7:"PPMSBSchComDisciplineDetailsCode"!=r&&o.PPMSBSchComDisciplineDetailsCode?o.PPMSBSchComDisciplineDetailsCode.map((e=>e.PPMSBSchComDisciplineDetailsIDPK)).toString():null,p8:"MaterialName"!=r&&o.MaterialName?o.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p9:e.Dialogview?"1":null,p10:null,p11:"p11"==r&&l.length>0?l:null,p12:null,p13:null,p14:null,p15:null,p16:"FrequencyName"!=r&&o.FrequencyName?o.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p17:"FrequencyCode"==r&&l.length>0?"%"+l+"%":null,p18:"FrequencyName"==r&&l.length>0?"%"+l+"%":null,p19:"DisciplineName"!=r&&o.DisciplineName?o.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p20:"DisciplineCode"==r&&l.length>0?"%"+l+"%":null,p21:"DisciplineName"==r&&l.length>0?"%"+l+"%":null,p22:"PPMSBMaintenanceHours"==r&&l.length>0?"%"+l+"%":null,p23:"CheckPointName"!=r&&o.CheckPointName?o.CheckPointName.map((e=>e.PPMCheckPointIDPK)).toString():null,p24:"CheckPointLevel"==r&&l.length>0?"%"+l+"%":null,p25:"CheckPointName"==r&&l.length>0?"%"+l+"%":null,p26:"PPMCheckPointCode"==r&&l.length>0?"%"+l+"%":null,p27:"PPMSBAccessType"==r&&l.length>0?"%"+l+"%":null,p28:"PPMSBTotalDuration"==r&&l.length>0?"%"+l+"%":null,p29:"MatProcessTypeName"!=r&&o.MatProcessTypeName?o.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p30:"MatProcessTypeCode"==r&&l.length>0?"%"+l+"%":null,p31:"MatProcessTypeName"==r&&l.length>0?"%"+l+"%":null,p32:"MaterialTypeName"!=r&&o.MaterialTypeName?o.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p33:"MaterialTypeCode"==r&&l.length>0?"%"+l+"%":null,p34:"MaterialTypeName"==r&&l.length>0?"%"+l+"%":null,p35:"MatMainClassName"!=r&&o.MatMainClassName?o.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p36:"MatMainClassCode"==r&&l.length>0?"%"+l+"%":null,p37:"MatMainClassName"==r&&l.length>0?"%"+l+"%":null,p38:"MatSubClassName"!=r&&o.MatSubClassName?o.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p39:"MatSubClassCode"==r&&l.length>0?"%"+l+"%":null,p40:"MatSubClassName"==r&&l.length>0?"%"+l+"%":null,p41:"MatMakeName"!=r&&o.MatMakeName?o.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p42:"MatMakeCode"==r&&l.length>0?"%"+l+"%":null,p43:"MatMakeName"==r&&l.length>0?"%"+l+"%":null,p44:"MatModelName"!=r&&o.MatModelName?o.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p45:"MatModelCode"==r&&l.length>0?"%"+l+"%":null,p46:"MatModelName"==r&&l.length>0?"%"+l+"%":null,p47:"UOMName"!=r&&o.UOMName?o.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p48:"MATUOMCode"==r&&l.length>0?"%"+l+"%":null,p49:"UOMName"==r&&l.length>0?"%"+l+"%":null,p50:"GradeName"!=r&&o.GradeName?o.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p51:"GradeName"==r&&l.length>0?"%"+l+"%":null,p52:"MatGradeCode"==r&&l.length>0?"%"+l+"%":null,p53:"MaterialColorName"!=r&&o.MaterialColorName?o.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p54:"MaterialColorName"==r&&l.length>0?"%"+l+"%":null,p55:"MatMaterialColorCode"==r&&l.length>0?"%"+l+"%":null,p56:"RawMaterialName"!=r&&o.RawMaterialName?o.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p57:"MadeRawMaterialCode"==r&&l.length>0?"%"+l+"%":null,p58:"RawMaterialName"==r&&l.length>0?"%"+l+"%":null,p59:"MaterialSizeName"!=r&&o.MaterialSizeName?o.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p60:"MaterialSizeName"==r&&l.length>0?"%"+l+"%":null,p61:"MatMaterialSizeCode"==r&&l.length>0?"%"+l+"%":null,p62:"MaterialCode"==r&&l.length>0?"%"+l+"%":null,p63:"MaterialName"==r&&l.length>0?"%"+l+"%":null,p64:i||1,p65:10,p66:t,p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}},g=await(0,p.Z)(P,C,e.token,"",c.signal);if(!g)return!1;const h=g.Output.status.code,y=g.Output.data;if("200"===h)if(y.length>0)if(1===i){let e=be(y,r),t=ve(e,D[r],a);s(t),Q(t.length>0?t[0].TotalCount:D[r].length)}else{let e=[...n,...y],t=be(e,r);Q(t.length<10?t.length:y[0].TotalCount),s(be(t,r))}else S.length>0&&s([]),Q(n.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{W(!1)}},ve=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),be=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Ne(e){let t=e+"PK",a=Me[e];if(a){const e=a.flatMap((e=>D[e]?D[e].map((e=>e[t])):[]));return e.toString()}return""}const we=async t=>{let a="",l={};await M((e=>(a=e,e)));let i=[...ee],n=[];for(let e of i){let t=a[e]?.map((e=>e.PPMSBSchComDisciplineSubDetailsIDPK)).toString();t&&n.push(t)}await X((e=>(l=e,e)));let c={PPMSBSchComDisciplineSubDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:Ne("MaterialID"),PPMSBSchComDisciplineID:Ne("PPMSBSchComDisciplineID"),PPMSBSchComDisciplineDetailsID:Ne("PPMSBSchComDisciplineDetailsID")};"saveFav"==t?ke("save",c):(e.searchData(c),I(!1))};async function Te(){let e={};await M((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBSchComDisciplineSubDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function xe(t,a,l,i,n,c){let s={[i]:{From:t,Type:l,To:a}},r={};X((e=>({...e,...s})));const o={...D};let m=[...ee],d=[];for(let e of m){let t=o[e]?.map((e=>e.PPMSBSchComDisciplineSubDetailsIDPK)).toString();t&&d.push(t)}await X((e=>(r=e,e)));let p={PPMSBSchComDisciplineSubDetailsIDPK:d?[...new Set(d)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,MaterialID:D.MaterialName?.map((e=>e.MaterialIDPK)).toString(),PPMSBSchComDisciplineID:D.PPMSBSchComDisciplineCode?.map((e=>e.PPMSBSchComDisciplineIDPK)).toString(),PPMSBSchComDisciplineDetailsID:D.PPMSBSchComDisciplineDetailsCode?.map((e=>e.PPMSBSchComDisciplineDetailsIDPK)).toString()};e.searchData(p)}function Fe(){return i().createElement(w.Z,{frmctrlid:"fld501L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{xe(e,t,a,r.name,l)},keyboardback:()=>{I(!1),d({idpk:"",name:"",type:"",fieldidpk:""})},title:Be(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,Y.Z)(t,e.formID,a,ce).then((e=>{const t=e.Output.data;Pe(t)}))};return i().createElement("div",null,i().createElement(K.Z,{onClose:()=>oe(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:re},i().createElement(H.Z,{id:"customized-dialog-title",onClose:()=>oe(!1)},"Add Favorite"),i().createElement(V.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(q.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ce,onChange:e=>se(e.target.value),fullWidth:!0})),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(y.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>de(e.target.checked)}),label:"Quick"}),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(y.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Dashboard"})),i().createElement(G.Z,null,i().createElement(b.Z,{onClick:()=>{we("saveFav"),oe(!1)},color:"primary"},"Save"))),B?"Created Ttm"===r.name||r.name.includes("Date")?i().createElement(Fe,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(o.Z,null,i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},Ie(r.idpk)," (",n.length,"/",L,")")),i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(c.ZP,{title:Be("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(v.Z,{id:"fld501L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{I(!1),d({idpk:"",name:"",type:"",fieldidpk:!1}),R(1)}}))),D[r.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(b.Z,{frmctrlid:"fld501L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await M((t=>(e=t,Ve.log("clear fewItems",e),t))),e[r.name]=[],fe(r.type,r.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},Be("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},C?i().createElement(c.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(F.D7o,{className:"FilterMaximizeIcon",onClick:()=>{h(!1)}}))):i().createElement(c.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(F.dOw,{className:"FilterMaximizeIcon",onClick:()=>{h(!0)}})))),i().createElement("ul",null,D[r.name]&&D[r.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:C?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[r.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{R(1);let a=D[r.name].filter((t=>t!=e)),l={};await M((e=>(l=e,e))),l[r.name]=a,M(l),s((t=>[e,...t]))})(e)},i().createElement(v.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(T.Z,{frmctrlid:"fld501L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:Be("Enter ")+" "+Ie(r.idpk),onChange:e=>{P(e),fe(r.type,r.fieldidpk,e,1,Te())}})),i().createElement("div",{id:"fld501L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:we},i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(b.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),$&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(k.Z,{color:"secondary"})),i().createElement("div",{id:"fld501L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await M((e=>(l=e,e)));let i=l[r.name];t[r.name]=i?[...a,...i]:a,l={...l,...t},M(l),s((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(N.Z,{className:"DotIcon"}),i().createElement("span",null,e[r.name])))),n.length+0<L&&n.length>0&&i().createElement("div",{id:"fld501L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{R(Z+1),fe(r.type,r.fieldidpk,"",Z+1)}},i().createElement("p",null," more... ")),0===n.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:u.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(x.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",Be("Filter")," ",ce.length>0&&`(${ce})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(c.ZP,{title:"Favorite List",placement:"top"},ie?i().createElement(v.Z,{className:"favlisticon",onClick:()=>{ne(!1),Pe(""),Ee()}}):i().createElement(O.Z,{className:"favlisticon",onClick:()=>{ne(!0),ke("select"),Ee()}})),Object.keys(D).length>0&&i().createElement(c.ZP,{title:"Save Favorites",placement:"top"},i().createElement(z.Z,{className:"favlisticon",onClick:()=>{oe(!0)}})),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(b.Z,{className:"ColumnApplyButton",onClick:()=>{Ee()},id:"fld501L1TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},Be("Clear")))),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(b.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld501L1TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},Be("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld501L1TFCFilItems",className:"FilterItems"},!Se&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{I(!0),P(""),s([]),Q(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBSchComDisciplineSubDetailsIDPK";d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBSchComDisciplineSubDetailsID",fieldidpk:t}),fe(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBSchComDisciplineSubDetailsID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,Ie(e.AdminUserGridViewIDPK)," ",J[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",J[e.FieldName]?.From+" to "+J[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,Ie(e.AdminUserGridViewIDPK)),i().createElement(A.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),xe("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,Ie(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,D[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},D[a][0][a]),D[a].length>1&&i().createElement("span",{className:"RoundedDivName"},D[a][1][a]),D[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(D[a].length-2))))));var a})),Se&&Se.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{fe("FilterPPMSBSchComDisciplineSubDetailsID",a),we("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const qe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),r=(0,l.useRef)(null),[o]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("501"),[d,S]=(0,l.useState)(!1),[P,D]=(0,l.useState)(!1),[M,C]=(0,l.useState)(0),[y,B]=(0,l.useState)(0),[b,N]=(0,l.useState)(0),[w,k]=(0,l.useState)(0),[A,Z]=(0,l.useState)({current:1,pageSize:100}),[R,L]=(0,l.useState)(""),[O,z]=(0,l.useState)([]),[K,H]=(0,l.useState)({val:"",column:""}),[V,G]=(0,l.useState)([]),[q,_]=(0,l.useState)(!1),[U,j]=(0,l.useState)(""),[Y,Q]=(0,l.useState)(""),[$,pe]=(0,l.useState)(!1),[Me,Ce]=(0,l.useState)([]),[ge,he]=(0,l.useState)([]),[ye,Be]=(0,l.useState)([]),[Ie,Ee]=(0,l.useState)({children:[{name:"PPMSBSchComDisciplineSubDetails",children:[]}]}),[fe,ve]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:Qe),{cstate:Ne,cdispatch:we}=e.ContextApi?e.ContextApi:$e();let Te={PPMSBSchComDisciplineSubDetailsIDPK:"",PPMSBSchComDisciplineSubDetailsCode:"",PPMSBSubQuantity:"",IsDraft:"",Remarks:"",PPMSBSchComDisciplineID:"",PPMSBSchComDisciplineDetailsID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",PPMSBMaintenanceHours:"",PPMCheckPointID:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",PPMSBAccessType:"",PPMSBTotalDuration:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[xe,Fe]=(0,l.useState)(Te),[ke,Ae]=(0,l.useState)(Te),[Ze,Re]=(0,l.useState)(!1),[Le,Oe]=(0,l.useState)(!0),[ze,Ke]=(0,l.useState)(!1),[He,Ve]=(0,l.useState)(!0),[qe,_e]=(0,l.useState)({MaterialName:"",PPMSBSubQuantity:"",PPMSBSchComDisciplineSubDetailsCode:"",PPMSBSchComDisciplineCode:"",PPMSBSchComDisciplineDetailsCode:""}),[Ue,je]=(0,l.useState)(!1),[Ye,We]=(0,l.useState)([]),[Je,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[it,nt]=(0,l.useState)([]),[ct,st]=(0,l.useState)([]),[rt,ot]=(0,l.useState)(!1),[mt,dt]=(0,l.useState)(!1),[pt,ut]=(0,l.useState)(!1),[St,Pt]=(0,l.useState)(""),[Dt,Mt]=ue()("501"),[Ct,gt]=(0,l.useState)({}),ht=[{columns:it,data:R}];let yt=(0,g.Z)();const Bt=e=>yt[e]?yt[e]:e,It=e=>Ne.language?.[e]?Ne.language[e]:e;(0,l.useEffect)((()=>{Tt(Dt)}),[Dt]),(0,l.useEffect)((()=>{Ne.token.length>0&&(e.parentId?Nt(A,Te,"PPMSBSchComDisciplineSubDetailsID"):G([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?Nt(A,U,"PPMSBSchComDisciplineSubDetailsID"):fe&&Ae(U)}),[U]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Et(e)},tableRefresh:()=>{Nt(A,Te,"PPMSBSchComDisciplineSubDetailsID")},DialogTableProps:e=>{D(e)},HideEntryFields:e=>{ut(!0===e)}})));const Et=e=>{""==e?Nt(A,Te,Ze?"DraftPPMSBSchComDisciplineSubDetailsID":"PPMSBSchComDisciplineSubDetailsID",Ze&&"DraftPage"):wt(e,{current:1,pageSize:100}),Q(e)};function ft(t){be.loading(!0);let a=u.v.Api+"FP501S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,Ne.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),We(e.Output.data),be.loading(!1)}}))}function vt(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:Ze}),we({type:"ShowDetail",payload:!0}),be.Expanded(!0),ze&&pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ve(e.cardview),e.Dialogview&&(D(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&wt(e.searchsafaritext,{current:A.current,pageSize:A.pageSize})}),[e.searchsafaritext]);const bt=()=>{be.EditClose(!0),q?(document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBSchComDisciplineSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),He?(P||(document.getElementById("PPMSBSchComDisciplineSubDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineSubDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBSchComDisciplineSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),pe(!1),window.clickFilter=!q},Nt=(t,a,l,i,n,c)=>{be.loading(!0),"DraftPage"!==i&&Re(Ne.IsDraft);let s=u.v.Api+"FP501S3/",r={data:{p1:n||(a&&a.PPMSBSchComDisciplineSubDetailsIDPK?a.PPMSBSchComDisciplineSubDetailsIDPK:null),p2:a&&a.PPMSBSchComDisciplineSubDetailsCode?a.PPMSBSchComDisciplineSubDetailsCode:null,p3:a&&a.PPMSBSubQuantity?a.PPMSBSubQuantity:null,p4:"DraftPPMSBSchComDisciplineSubDetailsID"==l?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:a&&a.PPMSBSchComDisciplineDetailsID?a.PPMSBSchComDisciplineDetailsID:null,p8:a&&a.MaterialID?a.MaterialID:null,p9:a&&a.IsActive,p10:null,p11:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p12:a&&a.CreatedTtm?a.CreatedTtm:null,p13:a&&a.CreatedTtmType?a.CreatedTtmType:null,p14:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p15:null,p16:a&&a.FrequencyID?a.FrequencyID:null,p17:a&&a.FrequencyCode?a.FrequencyCode:null,p18:a&&a.FrequencyName?a.FrequencyName:null,p19:a&&a.DisciplineID?a.DisciplineID:null,p20:a&&a.DisciplineCode?a.DisciplineCode:null,p21:a&&a.DisciplineName?a.DisciplineName:null,p22:a&&a.PPMSBMaintenanceHours?a.PPMSBMaintenanceHours:null,p23:a&&a.PPMCheckPointID?a.PPMCheckPointID:null,p24:a&&a.CheckPointLevel?a.CheckPointLevel:null,p25:a&&a.CheckPointName?a.CheckPointName:null,p26:a&&a.PPMCheckPointCode?a.PPMCheckPointCode:null,p27:a&&a.PPMSBAccessType?a.PPMSBAccessType:null,p28:a&&a.PPMSBTotalDuration?a.PPMSBTotalDuration:null,p29:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p30:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p31:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p32:a&&a.MaterialTypeID?a.MaterialTypeID:null,p33:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p34:a&&a.MaterialTypeName?a.MaterialTypeName:null,p35:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p36:a&&a.MatMainClassCode?a.MatMainClassCode:null,p37:a&&a.MatMainClassName?a.MatMainClassName:null,p38:a&&a.MatSubClassID?a.MatSubClassID:null,p39:a&&a.MatSubClassCode?a.MatSubClassCode:null,p40:a&&a.MatSubClassName?a.MatSubClassName:null,p41:a&&a.MaterialMakeID?a.MaterialMakeID:null,p42:a&&a.MatMakeCode?a.MatMakeCode:null,p43:a&&a.MatMakeName?a.MatMakeName:null,p44:a&&a.MaterialModelID?a.MaterialModelID:null,p45:a&&a.MatModelCode?a.MatModelCode:null,p46:a&&a.MatModelName?a.MatModelName:null,p47:a&&a.MATUOMID?a.MATUOMID:null,p48:a&&a.MATUOMCode?a.MATUOMCode:null,p49:a&&a.UOMName?a.UOMName:null,p50:a&&a.MatGradeID?a.MatGradeID:null,p51:a&&a.GradeName?a.GradeName:null,p52:a&&a.MatGradeCode?a.MatGradeCode:null,p53:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p54:a&&a.MaterialColorName?a.MaterialColorName:null,p55:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p56:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p57:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p58:a&&a.RawMaterialName?a.RawMaterialName:null,p59:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p60:a&&a.MaterialSizeName?a.MaterialSizeName:null,p61:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p62:a&&a.MaterialCode?a.MaterialCode:null,p63:a&&a.MaterialName?a.MaterialName:null,p64:n?1:t.current,p65:t.pageSize,p66:l,p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}};(0,p.Z)(s,r,Ne.token[0]).then((s=>{if(n)(0,oe.a)(s,we,i,c,be);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,N(s.Output.data[0].TotalCount),k(s.Output.data[0].DraftCnt),we({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==i&&k(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?B(Math.ceil(e)):20==t.pageSize?B(Math.ceil(e/2)):50==t.pageSize?B(Math.ceil(e/5)):100==t.pageSize&&B(Math.ceil(e/10)),G(s.Output.data),be.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBSchComDisciplineSubDetails-Entry").style.height="auto",document.getElementById("divPPMSBSchComDisciplineSubDetails-Entry").style.display="block")}else be.loading(!1),"DraftPPMSBSchComDisciplineSubDetailsID"===l?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),pe(!0),Re(!1)):(G([]),Z({current:1,pageSize:10}),B(0),N(0),we({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[s.Output.status.message]}),be.loading(!1)}))};function wt(t,a){be.loading(!0);const l=u.v.Api+"FP501S4/",i={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,i,Ne.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,N(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?B(Math.ceil(t)):20==a.pageSize?B(Math.ceil(t/2)):50==a.pageSize?B(Math.ceil(t/5)):100==a.pageSize&&B(Math.ceil(t/10)),G(e.Output.data),be.loading(!1)}else G([]),B(0),N(0),we({type:"count",payload:"0"}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function Tt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),we({type:"language",payload:Object.assign({},...i)}),_e(a.reduce(((e,t)=>(e[t]="",e)),{})),Ce(e),he(t),Be(a),nt(l),st(a)}const xt=()=>fe?null:i().createElement("div",null,Ue?i().createElement(Pe.Z,{data:Ye,expanded:e=>!P&&be.Expanded(e),edit:(e,t,a)=>{P?be.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:a}))}}):i().createElement(Se.Z,{ref:r,frmctrlid:"tblcs_501_L1_",id:"PPMSBSchComDisciplineSubDetailsTable",headerdata:ge,tablesearchparams:qe,searchvalue:e=>{_e(e),j(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),Z({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,Ze?"DraftPPMSBSchComDisciplineSubDetailsID":"PPMSBSchComDisciplineSubDetailsID",Ze&&"DraftPage")},bodydata:V,ondrag:vt,bodyitem:ye,visibleitem:ge,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Ne.AccessRights,expanded:e=>!P&&be.Expanded(e),edit:(e,t,a)=>{P?be.select(e):(Object.keys(e).map(((l,i)=>{l.includes("IDPK")&&Nt(A,null,t?"DraftPPMSBSchComDisciplineSubDetailsID":"PPMSBSchComDisciplineSubDetailsID",t&&"DraftPage",e[l],a)})),be.hideAddBtn(!0))},viewtoggle:be.viewtoggle,isexpanded:!P||ze,tf:It,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(Ne.ExpandTableValue)}),[Ne.ExpandTableValue]),i().createElement("div",null,!pt&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld501L1ECSearchBar",className:"searchbar1"},i().createElement(T.Z,{frmctrlid:"fld501L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Bt("Search"),value:Y,onChange:e=>{Q(e),be.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld501L1TCCloseIconCommonSearch",onClick:()=>{Q(""),be.searchItem("")}},i().createElement(v.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld501L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBSchComDisciplineSubDetailsgridsearch").focus()}})))),i().createElement("div",null,Ne.AccessRights.IsAdd?i().createElement(s.Z,{className:"SaveBtnCommon",frmctrlid:"fld501L1TCAddBtnIsAdd",onClick:()=>{be.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})}}):"")),i().createElement(I.Z,{expanded:Le,onChange:()=>()=>{Oe(ze)}},e.Dialogview&&i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[501]"},`${It("501")} (${b})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld501L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(T.Z,{frmctrlid:"fld501L1TCInputSearch",className:"search_input",type:"text",placeholder:Bt("Search"),value:Y,onChange:e=>{Et(e)}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld501L1TCInputCloseIcon",onClick:()=>{Et("")}},i().createElement(v.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld501L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon"}))))))),i().createElement(E.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&i().createElement("div",{frmctrlid:"fld501L1TCFilterDataIsDraft",id:"PPMSBSchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{bt()}},i().createElement(c.ZP,{title:Bt("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(x.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Bt("Filter Data"))),!P&&!Ze&&!fe&&i().createElement(W.Z,{formctrlidprint:"fld501L1TCExportPrint",formctrlidexport:"fld501L1TCExportTable",formctrlidrefresh:"fld501L1TCExportRefresh",title:It("501"),data:O,exportData:ht,Items:ct,columnIndex:it,TableVisibleItem:ge,userGridViewFormID:m,TableTotalCount:b,triggerApi:t=>{((t,l,i,n,c)=>{if(0===b)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let s=u.v.Api+"FP501S3/",r={data:{p1:t&&t.PPMSBSchComDisciplineSubDetailsIDPK?t.PPMSBSchComDisciplineSubDetailsIDPK:null,p2:t&&t.PPMSBSchComDisciplineSubDetailsCode?t.PPMSBSchComDisciplineSubDetailsCode:null,p3:t&&t.PPMSBSubQuantity?t.PPMSBSubQuantity:null,p4:Ze?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:t&&t.PPMSBSchComDisciplineDetailsID?t.PPMSBSchComDisciplineDetailsID:null,p8:t&&t.MaterialID?t.MaterialID:null,p9:t&&t.IsActive,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:t&&t.FrequencyID?t.FrequencyID:null,p17:t&&t.FrequencyCode?t.FrequencyCode:null,p18:t&&t.FrequencyName?t.FrequencyName:null,p19:t&&t.DisciplineID?t.DisciplineID:null,p20:t&&t.DisciplineCode?t.DisciplineCode:null,p21:t&&t.DisciplineName?t.DisciplineName:null,p22:t&&t.PPMSBMaintenanceHours?t.PPMSBMaintenanceHours:null,p23:t&&t.PPMCheckPointID?t.PPMCheckPointID:null,p24:t&&t.CheckPointLevel?t.CheckPointLevel:null,p25:t&&t.CheckPointName?t.CheckPointName:null,p26:t&&t.PPMCheckPointCode?t.PPMCheckPointCode:null,p27:t&&t.PPMSBAccessType?t.PPMSBAccessType:null,p28:t&&t.PPMSBTotalDuration?t.PPMSBTotalDuration:null,p29:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p30:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p31:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p32:t&&t.MaterialTypeID?t.MaterialTypeID:null,p33:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p34:t&&t.MaterialTypeName?t.MaterialTypeName:null,p35:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p36:t&&t.MatMainClassCode?t.MatMainClassCode:null,p37:t&&t.MatMainClassName?t.MatMainClassName:null,p38:t&&t.MatSubClassID?t.MatSubClassID:null,p39:t&&t.MatSubClassCode?t.MatSubClassCode:null,p40:t&&t.MatSubClassName?t.MatSubClassName:null,p41:t&&t.MaterialMakeID?t.MaterialMakeID:null,p42:t&&t.MatMakeCode?t.MatMakeCode:null,p43:t&&t.MatMakeName?t.MatMakeName:null,p44:t&&t.MaterialModelID?t.MaterialModelID:null,p45:t&&t.MatModelCode?t.MatModelCode:null,p46:t&&t.MatModelName?t.MatModelName:null,p47:t&&t.MATUOMID?t.MATUOMID:null,p48:t&&t.MATUOMCode?t.MATUOMCode:null,p49:t&&t.UOMName?t.UOMName:null,p50:t&&t.MatGradeID?t.MatGradeID:null,p51:t&&t.GradeName?t.GradeName:null,p52:t&&t.MatGradeCode?t.MatGradeCode:null,p53:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p54:t&&t.MaterialColorName?t.MaterialColorName:null,p55:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p56:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p57:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p58:t&&t.RawMaterialName?t.RawMaterialName:null,p59:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p60:t&&t.MaterialSizeName?t.MaterialSizeName:null,p61:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p62:t&&t.MaterialCode?t.MaterialCode:null,p63:t&&t.MaterialName?t.MaterialName:null,p64:A.current,p65:b,p66:Ze?"DraftPPMSBSchComDisciplineSubDetailsID":"PPMSBSchComDisciplineSubDetailsID",p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${It(501)} - ${c.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(s,r,Ne.token[0],c).then((e=>{(0,de.PDF_Excel_Generate)(e,be,ct,L,a,c)}))})(U,K.column,0,0,t)},Refresh:()=>{Q(""),Z({current:1,pageSize:100}),r.current.clearItem(),Ne.IsDraft?Nt({current:1,pageSize:100},Te,"DraftPPMSBSchComDisciplineSubDetailsID"):Nt({current:1,pageSize:100},Te,"PPMSBSchComDisciplineSubDetailsID")},disabledPrint:!Ne.AccessRights.IsPrint,disabledExport:!Ne.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ze&&!fe&&!P&&i().createElement("div",{className:"buttoncard",onClick:()=>dt(!mt)},i().createElement("span",null,mt?i().createElement(c.ZP,{disableFocusListener:!0,title:Bt("Less"),placement:"top"},i().createElement("span",{id:"fld501L1TCLess"},i().createElement(ce.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(c.ZP,{disableFocusListener:!0,title:Bt("More"),placement:"top"},i().createElement("span",{id:"fld501L1TCMore"},i().createElement(ce.ilJ,{className:"tableFilterColumnIcon"}))))),mt?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},fe||!ze?null:P||!Ne.AccessRights.IsAdd||Ze?"":i().createElement("div",null,i().createElement("div",{frmctrlid:"fld501L1TCFilterDataIsAdd",id:"PPMSBSchComDisciplineSubDetailscoldiv",className:"buttoncard",onClick:()=>{be.EditClose(!0),$?(document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineSubDetailsTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv").style.display="none",document.getElementById("PPMSBSchComDisciplineSubDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplineSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!1)):(document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv").style.width="25%",document.getElementById("PPMSBSchComDisciplineSubDetailsTabDiv").style.width="75%",document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv").style.display="block",document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplineSubDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBSchComDisciplineSubDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBSchComDisciplineSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!0)),_(!1)}},i().createElement(c.ZP,{title:Bt("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(me.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Bt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&ze&&!fe&&!Ze&&i().createElement("div",null,i().createElement("div",{id:"PPMSBSchComDisciplineSubDetailscoldiv",className:"buttoncard",onClick:()=>{Ue?je(!1):(je(!0),ft({current:1,pageSize:100}))}},i().createElement(c.ZP,{title:Bt("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld501L1TCTableScrollData"},i().createElement(De.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},Bt("Table Scroll Data")))),!fe&&Ze?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{be.hideAddBtn(!1),be.ExpandEntry(),Nt({current:1,pageSize:100},Te,"PPMSBSchComDisciplineSubDetailsID"),Re(!1),Q(""),we({type:"IsDraft",payload:!1}),Z({current:1,pageSize:10})}},i().createElement(c.ZP,{title:Bt("List"),placement:"top"},i().createElement("div",{id:"fld501L1TCList"},i().createElement(se.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},Bt("Drafts")," ",b)):!P&&!fe&&Ne.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(f.Z,{color:"secondary",className:"badge",max:999,badgeContent:w,showZero:!0},i().createElement("div",{id:"fld501L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{w>0?(Z({current:1,pageSize:100}),C(0),be.clear(),Q(""),we({type:"Add",payload:!1}),Nt({current:1,pageSize:10},Te,"DraftPPMSBSchComDisciplineSubDetailsID"),Re(!0),we({type:"IsDraft",payload:!0}),pe(!1),Ve(!0),document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBSchComDisciplineSubDetailsTabDiv").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetailsFilterDiv").style.display="none",Z({current:1,pageSize:100}),ve(!1)):be.alert({open:!0,color:"warning",message:[Bt("There is no Record Found")]})}},i().createElement(c.ZP,{title:Bt("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(re.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Bt("Drafts"))))))):""),!Ze&&!P&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||Ze?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:He?"buttonList":"buttonGrid",id:"fld501L1TCListView",onClick:()=>{Ve(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(ce.umT,null)),i().createElement("span",null,Bt("List"))),i().createElement("div",{className:He||rt?"buttonGrid":"buttonList",id:"fld501L1TCCardView",onClick:()=>{Ve(!1),ot(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(F.aCJ,null)),i().createElement("span",null,Bt("Card"))),i().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld501L1TCTileView",onClick:()=>{ot(!0),Ve(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(h.f_H,null)),i().createElement("span",null,Bt("Tile"))))))),fe?null:Ue?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld501L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:M,onPageChange:(e,t)=>{C(t),ft({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:Je,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),ft({current:t,pageSize:at.pageSize})}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld501L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),ze&&i().createElement("p",{className:"per-page"},"/ ",Bt("RowperpageOf")," (",et,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld501L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(b),page:M,onPageChange:(e,t)=>{C(t),Nt({current:t+1,pageSize:A.pageSize},Te,Ze?"DraftPPMSBSchComDisciplineSubDetailsID":"PPMSBSchComDisciplineSubDetailsID",Ze&&"DraftPage"),Z({current:t+1,pageSize:A.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:y,siblingCount:0,color:"primary",page:A.current,onChange:(e,t)=>{if(Z({current:t,pageSize:A.pageSize}),Ze)Nt({current:t,pageSize:A.pageSize},xe,"DraftPPMSBSchComDisciplineSubDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Y.length>0?wt(Y,{current:t,pageSize:A.pageSize}):Nt({current:t,pageSize:A.pageSize},xe,"PPMSBSchComDisciplineSubDetailsID")}}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:A.pageSize,id:"fld501L1TCSelectPaging",onChange:e=>{Z({current:1,pageSize:e.target.value}),Ze?Nt({current:1,pageSize:e.target.value},xe,"DraftPPMSBSchComDisciplineSubDetailsID","DraftPage"):Y.length>0?wt(Y,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},xe,"PPMSBSchComDisciplineSubDetailsID")}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),ze&&i().createElement("p",{className:"per-page"},"/ ",Bt("RowperpageOf")," (",b,") "))),i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"PPMSBSchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},q&&i().createElement(Ge,{parentId:e.parentId,searchData:e=>{j(e||Ct),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Ne.token[0],CloseBtnClk:()=>bt(),userGrid:Dt,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),$&&i().createElement(te.Z,{Refresh:e=>{Nt({current:1,pageSize:100},Te,"PPMSBSchComDisciplineSubDetailsID")},frmctrlid:"fld501L1TCTableColumnOrder",loading:e=>be.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:$,userID:o,userGridViewFormID:m,saved:(e,t)=>{e&&Tt(t),Mt(t),we({type:"showTableview",payload:t})},Token:Ne.token[0]})),i().createElement("div",{id:"PPMSBSchComDisciplineSubDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},He?i().createElement(xt,null):i().createElement(ne.Z,{frmctrlid:"fld501L1TCExpandedCardDual",data:V,id:"PPMSBSchComDisciplineSubDetails",title:"PPMSBSchComDisciplineSubDetailsCode",cardTile:!!rt,visibleitem:ge,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?be.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ze}),we({type:"ShowDetail",payload:!1}),be.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ze}),we({type:"ShowDetail",payload:!0}),be.Expanded(!0),be.viewtoggle()),q?_(!0):$?pe(!0):(pe(!1),pe(!1))),be.hideAddBtn(!0)}})))))))})),_e={EnterKeyValues:{PPMSBSchComDisciplineSubDetails:["MaterialName","PPMSBSubQuantity","PPMSBSchComDisciplineSubDetailsCode","PPMSBSchComDisciplineCode","PPMSBSchComDisciplineDetailsCode"]},Label:{PPMSBSchComDisciplineSubDetails:{MaterialID:["MaterialCode","MaterialName"],PPMSBSubQuantity:["PPMSBSchComDisciplineSubDetailsCode"],PPMSBSchComDisciplineSubDetailsCode:["PPMSBSchComDisciplineSubDetailsCode"],PPMSBSchComDisciplineID:["PPMSBSchComDisciplineSubDetailsCode"],PPMSBSchComDisciplineDetailsID:["PPMSBSchComDisciplineSubDetailsCode"]}},LabelHeader:{PPMSBSchComDisciplineSubDetails:{MaterialID:["Material Code","Material Name"],PPMSBSubQuantity:["PPMSBSchComDisciplineSubDetailsCode"],PPMSBSchComDisciplineSubDetailsCode:["PPMSBSchComDisciplineSubDetailsCode"],PPMSBSchComDisciplineID:["PPMSBSchComDisciplineSubDetailsCode"],PPMSBSchComDisciplineDetailsID:["PPMSBSchComDisciplineSubDetailsCode"]}},Property:{PPMSBSchComDisciplineSubDetails:{MaterialID:{id:"fld501_22096",clearID:"PPMSBSchComDisciplineSubDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMSBSubQuantity:{id:"fld501_22091",labelID:"PPMSBSubQuantity",maxLength:"10",labelname:"Quantity",frmctrlid:"fld501_22091",frmctrlidname:"PPMSBSubQuantity",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBSchComDisciplineSubDetailsCode:{id:"fld501_22090",labelID:"PPMSBSchComDisciplineSubDetailsCode",maxLength:"50",labelname:"PPMSBSchComDisciplineSubDetailsCode",frmctrlid:"fld501_22090",frmctrlidname:"PPMSBSchComDisciplineSubDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBSchComDisciplineID:{id:"fld501_22094",clearID:"PPMSBSchComDisciplineSubDetailsPPMSBSchComDisciplineCodeClear",type:"select",labelID:"PPMSBSchComDisciplineIDPK",labelname:"PPMSBSchComDisciplineID",fielddisplayname:"PPMSBSchComDisciplineCode",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMSBSchComDisciplineDetailsID:{id:"fld501_22095",clearID:"PPMSBSchComDisciplineSubDetailsPPMSBSchComDisciplineDetailsCodeClear",type:"select",labelID:"PPMSBSchComDisciplineDetailsIDPK",labelname:"PPMSBSchComDisciplineDetailsID",fielddisplayname:"PPMSBSchComDisciplineDetailsCode",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBSchComDisciplineSubDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],PPMSBSchComDisciplineID:["DisciplineID","FrequencyID","PPMSBManHour","PPMSBManPower","PPMSBMaintenanceHours"],PPMSBSchComDisciplineDetailsID:["PPMCheckPointID","PPMSBRangeMin","PPMSBRangeMax","PPMSBTotalDuration","PPMSBAccessType","IsPPMSBMandatory"]}}},Ue={PPMSBSchComDisciplineSubDetailsIDPK:"",PPMSBSchComDisciplineSubDetailsCode:"",PPMSBSubQuantity:"",IsDraft:!1,Remarks:"",PPMSBSchComDisciplineID:null,PPMSBSchComDisciplineDetailsID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",PPMSBMaintenanceHours:"",PPMCheckPointID:null,CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",PPMSBAccessType:"",PPMSBTotalDuration:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"PPMSBSchComDisciplineSubDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},je=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[c,s]=(0,l.useState)(!1),[r,d]=(0,l.useState)(!0),[D,M]=(0,l.useState)(!1),[C,h]=(0,l.useState)(!1),[y,f]=(0,l.useState)(""),[v,b]=(0,l.useState)(!1),[N,w]=(0,l.useState)([]),[T,x]=(0,l.useState)(null),[F,k]=(0,l.useReducer)(Ie.Z,Ue),[Z,O]=(0,l.useState)(!1),[z,K]=(0,l.useState)([]),[H,V]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:Qe),{cstate:q,cdispatch:_}=e.ContextApi?e.ContextApi:$e(),[U,Y]=(0,l.useState)(0),[Q,$]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,X]=we()("501"),[ee,te]=(0,l.useState)(!0),[ae,ie]=(0,l.useState)(!1);let ne=(0,g.Z)();const[ce,se]=(0,l.useState)({}),re=e=>ne[e]?ne[e]:e,oe=t=>q.language?.[t]?q.language[t]:e.createEasy?ce?.[t]:t;(0,l.useEffect)((()=>{q.PrimaryId&&Y(Number(q.PrimaryId))}),[q.PrimaryId]),(0,l.useEffect)((()=>{de()}),[]),(0,l.useEffect)((()=>{de()}),[e.parentId]),(0,l.useEffect)((()=>{q.editData.length>0?(me(q.editData[0],""),M(!0)):q.Add&&(de(),M(!0))}),[q.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),se(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{de()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(Te(t),M(e)):(de(),M(e))},AddOpen:e=>{de(),M(!0)}})));const me=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultPPMSBSchComDisciplineSubDetailsID"==a?$(t.PPMSBSchComDisciplineSubDetailsIDPK):(Y(e.primid?Number(e.primid):t.PPMSBSchComDisciplineSubDetailsIDPK?t.PPMSBSchComDisciplineSubDetailsIDPK:0),_({type:"PrimaryId",payload:t.PPMSBSchComDisciplineSubDetailsIDPK})),k({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),k({type:"text",name:"MaterialName",value:t.MaterialName}),k({type:"number",name:"PPMSBSubQuantity",number:t.PPMSBSubQuantity}),k({type:"text",name:"PPMSBSchComDisciplineSubDetailsCode",value:t.PPMSBSchComDisciplineSubDetailsCode?t.PPMSBSchComDisciplineSubDetailsCode:""}),k({type:"number",name:"PPMSBSchComDisciplineID",number:t.PPMSBSchComDisciplineID?Number(t.PPMSBSchComDisciplineID):0}),k({type:"text",name:"PPMSBSchComDisciplineCode",value:t.PPMSBSchComDisciplineCode}),k({type:"number",name:"PPMSBSchComDisciplineDetailsID",number:t.PPMSBSchComDisciplineDetailsID?Number(t.PPMSBSchComDisciplineDetailsID):0}),k({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:t.PPMSBSchComDisciplineDetailsCode}),t.IsDraft?d(!0):d(!("1"!=t.IsActive&&!t.IsActive))},de=()=>{w([]),Y(0),$(""),e.createEasy||G.resetImg(),_({type:"PrimaryId",payload:""}),k({type:"text",name:"MaterialID",value:null}),k({type:"text",name:"MaterialName",value:""}),document.getElementById("PPMSBSchComDisciplineSubDetailsMaterialNameClear")&&document.getElementById("PPMSBSchComDisciplineSubDetailsMaterialNameClear").click(),k({type:"number",name:"PPMSBSubQuantity",number:0}),k({type:"text",name:"PPMSBSchComDisciplineSubDetailsCode",value:""}),k({type:"text",name:"PPMSBSchComDisciplineID",value:null}),k({type:"text",name:"PPMSBSchComDisciplineCode",value:""}),document.getElementById("PPMSBSchComDisciplineSubDetailsPPMSBSchComDisciplineCodeClear")&&document.getElementById("PPMSBSchComDisciplineSubDetailsPPMSBSchComDisciplineCodeClear").click(),k({type:"text",name:"PPMSBSchComDisciplineDetailsID",value:null}),k({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:""}),document.getElementById("PPMSBSchComDisciplineSubDetailsPPMSBSchComDisciplineDetailsCodeClear")&&document.getElementById("PPMSBSchComDisciplineSubDetailsPPMSBSchComDisciplineDetailsCodeClear").click(),d(!0),f(""),te(!0)},pe=t=>{G.loading(!0),G.ConfirmAlert(null);const a=u.v.Api+"FP501S2/",l={data:[{p1:"SetDefaultPPMSBSchComDisciplineSubDetailsID"==t?"NORECORDS"!=Q&&Q?Q:0:U,p2:xe(F.PPMSBSchComDisciplineSubDetailsCode),p3:F.PPMSBSubQuantity?Number(F.PPMSBSubQuantity):0,p4:!1,p5:"SetDefaultPPMSBSchComDisciplineSubDetailsID"==t?"SetDefault":null,p6:e.parentId?Number(e.parentId):F.PPMSBSchComDisciplineID?F.PPMSBSchComDisciplineID:0,p7:F.PPMSBSchComDisciplineDetailsID?F.PPMSBSchComDisciplineDetailsID:0,p8:F.MaterialID?F.MaterialID:0,p9:r,p10:"SetDefaultPPMSBSchComDisciplineSubDetailsID"==t,p11:localStorage.getItem("userid"),p12:R()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:n}),G.loading(!1)):(t=>{te(!0),G.loading(!0),G.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP501S1/",l={data:[{p1:U,p2:xe(F.PPMSBSchComDisciplineSubDetailsCode),p3:F.PPMSBSubQuantity?Number(F.PPMSBSubQuantity):0,p4:!1,p5:null,p6:e.parentId?Number(e.parentId):F.PPMSBSchComDisciplineID?F.PPMSBSchComDisciplineID:0,p7:F.PPMSBSchComDisciplineDetailsID?F.PPMSBSchComDisciplineDetailsID:0,p8:F.MaterialID?F.MaterialID:0,p9:r,p10:!1,p11:localStorage.getItem("userid"),p12:R()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,L.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(G.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails"),G.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK)),de(),q.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails")&&(document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails").style.display="none",document.getElementById("divPPMSBSchComDisciplineSubDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBSchComDisciplineSubDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[a.message]}),G.loading(!1)),M(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function ue(t,a,l,i){if(!(q.count>0))return G.alert({open:!0,color:"warning",message:[re("Please save atleast one record")]}),!1;if(!((()=>{const e={...F};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return G.alert({open:!0,color:"warning",message:[re("Please enter the primary fields")]}),!1;{te(!0),G.loading(!0),G.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP501S1/",l={data:[{p1:"SetDefaultPPMSBSchComDisciplineSubDetailsID"==i?"NORECORDS"!=Q&&Q?Q:0:U,p2:xe(F.PPMSBSchComDisciplineSubDetailsCode),p3:F.PPMSBSubQuantity?Number(F.PPMSBSubQuantity):0,p4:!0,p5:"SetDefaultPPMSBSchComDisciplineSubDetailsID"==i?"SetDefault":null,p6:e.parentId?Number(e.parentId):F.PPMSBSchComDisciplineID?F.PPMSBSchComDisciplineID:0,p7:F.PPMSBSchComDisciplineDetailsID?F.PPMSBSchComDisciplineDetailsID:0,p8:F.MaterialID?F.MaterialID:0,p9:!1,p10:"SetDefaultPPMSBSchComDisciplineSubDetailsID"==i,p11:localStorage.getItem("userid"),p12:R()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((i=>{(0,L.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?G.alert({open:!0,color:"warning",message:[re("Deleted Successfully")]}):G.alert({open:!0,color:"success",message:[re("Saved to Draft")]}),G.loading(!1),G.attachmentSave(a[0].Data.IDPK),de(),G.RefreshTable(),e.clrImgstate(!0)):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1))}))}))}}function Se(e){return CreateEasy(e,q,_,G,W),!1}function Pe(e,a){return AdvanceSearch(e,a,Qe,$e(),he,t),!1}const De=(t,a,l,i,n,c)=>{const s=u.v.Api+"FP501S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:e.parentId?Number(e.parentId):0,p7:"0"==F.PPMSBSchComDisciplineDetailsID?null:F.PPMSBSchComDisciplineDetailsID,p8:"0"==F.MaterialID?null:F.MaterialID,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:"0"==F.FrequencyID?null:F.FrequencyID,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:"0"==F.DisciplineID?null:F.DisciplineID,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:"0"==F.PPMCheckPointID?null:F.PPMCheckPointID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==F.MatProcessTypeID?null:F.MatProcessTypeID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==F.MaterialTypeID?null:F.MaterialTypeID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"==F.MaterialMainClassID?null:F.MaterialMainClassID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==F.MatSubClassID?null:F.MatSubClassID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==F.MaterialMakeID?null:F.MaterialMakeID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==F.MaterialModelID?null:F.MaterialModelID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:"0"==F.MATUOMID?null:F.MATUOMID,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==F.MatGradeID?null:F.MatGradeID,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:"0"==F.MatMaterialColorID?null:F.MatMaterialColorID,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:"0"==F.MadeRawMaterialID?null:F.MadeRawMaterialID,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:"0"==F.MatMaterialSizeID?null:F.MatMaterialSizeID,p60:a?"%"+a+"%":null,p61:a?"%"+a+"%":null,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:t,p65:10,p66:l,p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}},o=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const m={data:o};return(0,p.Z)(s,"ClearAll"==l?m:r,"SetDefaultPPMSBSchComDisciplineSubDetailsID"==l&&i?i:q.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return 1==i.length?i[0]:{};K(1==t?e>0?i:[]:z.concat(i)),"SetDefaultPPMSBSchComDisciplineSubDetailsID"==l&&(e>0?me(i[0],"SetDefaultPPMSBSchComDisciplineSubDetailsID"):$("NORECORDS")),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},Me=(t,l,i)=>{const n=u.v.Api+"FP501S3/",c={data:{p1:null,p2:"PPMSBSchComDisciplineSubDetailsCode"==i&&l?"%"+l+"%":null,p3:"PPMSBSubQuantity"==i&&l?"%"+l+"%":null,p4:null,p5:null,p6:a.PPMSBSchComDisciplinePPMSBSchComDisciplineID?a.PPMSBSchComDisciplinePPMSBSchComDisciplineID:"0",p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:t,p65:10,p66:"PPMSBSchComDisciplineSubDetailsID",p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}},s={data:Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{})};O(!0),(0,p.Z)(n,"ClearAll"==i?s:c,q.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBSchComDisciplineSubDetailsCode"==i&&te(e>0),K(l)):("PPMSBSchComDisciplineSubDetailsCode"==i&&te(!0),K(z.concat(l))),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},he=(0,l.useCallback)((async(e,t,a)=>{"text"==a?k({type:a,name:t,value:e}):"number"==a?k({type:a,name:t,number:Number(e)}):"boolean"==a?k({type:a,name:t,boolean:e}):"date"==a?k({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(k({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),k({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}))}),[F]);function Ee(e){if("MaterialID"==e){if(!F.MaterialID)return!1;k({type:"text",name:"MaterialID",value:null}),k({type:"text",name:"MaterialName",value:""}),document.getElementById("PPMSBSchComDisciplineSubDetailsMaterialNameClear")&&document.getElementById("PPMSBSchComDisciplineSubDetailsMaterialNameClear").click()}else if("PPMSBSchComDisciplineID"==e){if(!F.PPMSBSchComDisciplineID)return!1}else if("PPMSBSchComDisciplineDetailsID"==e&&!F.PPMSBSchComDisciplineDetailsID)return!1}function Ne(e){if("MaterialID"==e){if(!F.MaterialID)return!1;k({type:"text",name:"MaterialID",value:null})}else if("PPMSBSchComDisciplineID"==e){if(!F.PPMSBSchComDisciplineID)return!1}else if("PPMSBSchComDisciplineDetailsID"==e&&!F.PPMSBSchComDisciplineDetailsID)return!1}function Te(e){G.ConfirmAlert(null),h(e.IsDraft),Y(Number(e.PPMSBSchComDisciplineSubDetailsIDPK)?Number(e.PPMSBSchComDisciplineSubDetailsIDPK):0),k({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),k({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),k({type:"number",name:"PPMSBSubQuantity",number:e.PPMSBSubQuantity?Number(e.PPMSBSubQuantity):0}),k({type:"text",name:"PPMSBSchComDisciplineSubDetailsCode",value:e.PPMSBSchComDisciplineSubDetailsCode?e.PPMSBSchComDisciplineSubDetailsCode:""}),k({type:"number",name:"PPMSBSchComDisciplineID",number:e.PPMSBSchComDisciplineID?Number(e.PPMSBSchComDisciplineID):0}),k({type:"text",name:"PPMSBSchComDisciplineCode",value:e.PPMSBSchComDisciplineCode?e.PPMSBSchComDisciplineCode:""}),k({type:"number",name:"PPMSBSchComDisciplineDetailsID",number:e.PPMSBSchComDisciplineDetailsID?Number(e.PPMSBSchComDisciplineDetailsID):0}),k({type:"text",name:"PPMSBSchComDisciplineDetailsCode",value:e.PPMSBSchComDisciplineDetailsCode?e.PPMSBSchComDisciplineDetailsCode:""})}const xe=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(I.Z,{expanded:D,onChange:e=>{}},i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},D&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[501]"}," ",re("Add "),oe("501")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(fe.Z,{row:!0},i().createElement(j.Z,{labelPlacement:"bottom",id:"fld501L1ECEntryCheckbox",control:i().createElement(A.Z,{checked:"1"==r,onChange:e=>d(e.target.checked)}),label:re(1==r?"Active":"In Active")})))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld501L1ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(ve.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,re("Attach")))),!U&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{de()},id:"fld501L1ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(ve.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,re("Reset")))),"1"===C&&U&&i().createElement(ge.Z,{frmctrlid:"fld501L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{ue("draftdel")}}),U&&"1"!==C||e.createEasy?null:q.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{ue()},frmctrlid:"fld501L1ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(be.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,re("Draft")))),q.AccessRights.IsAdd||q.AccessRights.IsEdit?i().createElement(P.Z,{frmctrlid:"fld501L1ECSaveBtnIsAdd",name:re(U?"Update":"Save"),disabled:!1,onClick:()=>{F.MaterialID&&0!=F.MaterialID?xe(F.PPMSBSubQuantity)?e.parentId&&0!=e.parentId?G.ConfirmAlert(i().createElement(ye(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:re("Are you sure?"),onConfirm:()=>pe(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("Cancel"),showCancel:!0},re(U?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+oe("PPMSBSchComDisciplineID")]}):G.alert({open:!0,color:"warning",message:[re("Please enter the")+""+oe("PPMSBSubQuantity")]}):G.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+oe("MaterialID")]})}}):null,!e.createEasy&&i().createElement(B.Z,{frmctrlid:"fld501L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{de(),M(!1),G.EditClose(!0),G.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),i().createElement(E.Z,null,i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(o.Z,{spacing:2},i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Be.Z,{json:_e,id:F.MaterialID,"data-testid":F.MaterialID,value:F.MaterialName,SPName:"PPMSBSchComDisciplineSubDetails",FieldName:"MaterialID",tfLabel:oe("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"MaterialID","select"),onChange:(e,t)=>{De(e,t,"MaterialIDPK")},KeyBack:e=>{Ne("MaterialID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{Se("354")},Tabledialog:()=>Pe("354","MaterialID"),loading:Z,clear:e=>{e&&Ee("MaterialID")}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Ce.Z,{json:_e,"data-testid":F.PPMSBSubQuantity,SPName:"PPMSBSchComDisciplineSubDetails",FieldName:"PPMSBSubQuantity",tfLabel:oe("PPMSBSubQuantity"),frmctrlid:"fld501_22091",fieldorder:"2",onChange:e=>{he(e,"PPMSBSubQuantity","number")},clear:e=>{e&&k({type:"number",name:"PPMSBSubQuantity",number:0})},value:F.PPMSBSubQuantity})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(Be.Z,{"data-testid":F.PPMSBSchComDisciplineSubDetailsCode,json:_e,SPName:"PPMSBSchComDisciplineSubDetails",FieldName:"PPMSBSchComDisciplineSubDetailsCode",tfLabel:oe("PPMSBSchComDisciplineSubDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{G.ConfirmAlert(i().createElement(ye(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Te(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("No"),showCancel:!0},re("Do you want to update this record?")))})(t),onClick:()=>{ee&&Me(1,"","ClearAll"),te(!0)},frmctrlid:"fld501_22090",frmctrlidName:"PPMSBSchComDisciplineSubDetailsCode",fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ee&&Me(e,t,"PPMSBSchComDisciplineSubDetailsCode"),he(t,"PPMSBSchComDisciplineSubDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSBSchComDisciplineSubDetailsCode,loading:Z,clear:e=>{e&&(k({type:"text",name:"PPMSBSchComDisciplineSubDetailsCode",value:""}),te(!0))}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(Be.Z,{json:_e,id:F.PPMSBSchComDisciplineID,"data-testid":F.PPMSBSchComDisciplineID,value:F.PPMSBSchComDisciplineCode,SPName:"PPMSBSchComDisciplineSubDetails",FieldName:"PPMSBSchComDisciplineID",tfLabel:oe("PPMSBSchComDisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"PPMSBSchComDisciplineID","select"),onChange:(e,t)=>{De(e,t,"PPMSBSchComDisciplineIDPK")},KeyBack:e=>{Ne("PPMSBSchComDisciplineID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{Se("499")},Tabledialog:()=>Pe("499","PPMSBSchComDisciplineID"),loading:Z,clear:e=>{e&&Ee("PPMSBSchComDisciplineID")}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(Be.Z,{json:_e,id:F.PPMSBSchComDisciplineDetailsID,"data-testid":F.PPMSBSchComDisciplineDetailsID,value:F.PPMSBSchComDisciplineDetailsCode,SPName:"PPMSBSchComDisciplineSubDetails",FieldName:"PPMSBSchComDisciplineDetailsID",tfLabel:oe("PPMSBSchComDisciplineDetailsID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"PPMSBSchComDisciplineDetailsID","select"),onChange:(e,t)=>{De(e,t,"PPMSBSchComDisciplineDetailsIDPK")},KeyBack:e=>{Ne("PPMSBSchComDisciplineDetailsID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{Se("500")},Tabledialog:()=>Pe("500","PPMSBSchComDisciplineDetailsID"),loading:Z,clear:e=>{e&&Ee("PPMSBSchComDisciplineDetailsID")}})))),i().createElement("div",{id:"PPMSBSchComDisciplineSubDetailsSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBSchComDisciplineSubDetailsSideBar").style.width="0",void b(!1))},"Ã—"),v&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},T))))))))})),Ye=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,o]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,d]=(0,l.useState)(!0),[P,D]=(0,l.useState)(e.showDetail),[M,C]=(0,l.useState)(""),[h,y]=i().useState(!1),[f,v]=i().useState(""),[b,N]=i().useState(!1),w=(0,l.useContext)(Qe),{cstate:T,cdispatch:x}=$e(),[F,k]=(0,l.useState)(!1),[A,Z]=(0,l.useState)(""),[R,L]=(0,l.useState)(""),[O,z]=(0,l.useState)("");let K=(0,g.Z)();(0,l.useEffect)((()=>{T.editData.length>0&&(o(T.editData),y(!1),x({type:"PrimaryId",payload:T.editData[0].PPMSBSchComDisciplineSubDetailsIDPK}))}),[T.editData]),(0,l.useEffect)((()=>{T.showTableview&&z(T.showTableview)}),[T.showTableview]),(0,l.useEffect)((()=>{d(T.ExpandDetailValue)}),[T.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{d(e),y(null)},viewtoggle:()=>{y(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP501S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:1,p65:10,p66:T.IsDraft?"DraftPPMSBSchComDisciplineSubDetailsID":"PPMSBSchComDisciplineSubDetailsID",p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,p.Z)(l,i,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&o(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===h&&a.current.clear()}})));const H=e=>K?.[e]?K?.[e]:e,V=e=>T.language?.[e]?T.language[e]:e;function G(e,t){}const q=(e,t)=>(a,l)=>{v(b?Object.assign(...c.filter((e=>e.PPMSBSchComDisciplineSubDetailsIDPK==t)).map((e=>e))):T.editData),y(!l&&e)};return i().createElement("div",null,i().createElement(I.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&d(!m)}},!h&&i().createElement(le.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},T.IsDraft?H("Draft"):"",V("PPMSBSchComDisciplineSubDetails"),e.viewonly?" ":"("+T.count+")")):"",m?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&T.AccessRights.IsAdd?i().createElement(s.Z,{name:H("Add"),frmctrlid:"fld501L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),x({type:"editData",payload:[]}),x({type:"ShowDetail",payload:!1}),x({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&T.AccessRights.IsEdit?i().createElement(r.Z,{frmctrlid:"fld501L1VCEditBtn",onClick:q("panel0",""),disabled:!1}):T.IsDraft&&T.AccessRights.IsAdd&&i().createElement(r.Z,{frmctrlid:"fld501L1VCEditBtnIsAdd",onClick:()=>{q("panel","")},disabled:!1}),!e.viewonly&&i().createElement(B.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld501L1VCCloseBtn",onClick:()=>{d(!1),w.hideAddBtn(!1),b&&(x({type:"editData",payload:[]}),o([]))}})):"")),i().createElement(E.Z,{style:{display:"block"}},c.map(((t,l)=>i().createElement("div",{key:l},h==="panel"+l?i().createElement(je,{ref:a,parentId:e.parentId}):i().createElement(i().Fragment,null,i().createElement(Fe.Z,{tableName:"PPMSBSchComDisciplineSubDetails",tableID:501,parentID:t.PPMSBSchComDisciplineSubDetailsIDPK,fldid:"fld501L1VCContainer",OpenSlideComponent:G,index:l,refresh:O,val:t,tf:V,t:H,title:"10.0.0.59-3:08:17 PM-18-7[501]"}))))))))})),Qe=(0,l.createContext)(),$e=()=>{const e=(0,l.useContext)(Qe);if(void 0===e)throw new Error("useCont must be used within  PPMSBSchComDisciplineSubDetailsContext Provider");return e},We=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),c=(0,l.useRef)(),s=(0,l.useRef)(),r=(0,l.useRef)(),o=(0,l.useRef)(),[m,d]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),P=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[D,M]=(0,l.useState)(0),[C,g]=(0,l.useReducer)(Re.D,Re.E),[h,y]=(0,l.useState)(""),[B,I]=(0,l.useState)([]),[E,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||c.current.clear(),document.getElementById("divPPMSBSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{d(!0),document.getElementById("divPPMSBSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),c.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const v=e=>{I([]),document.getElementById("divPPMSBSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetailsEntryTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainEntry").style.display="block",document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),M(t.length),b(e)}))}))}),[]);const b=t=>{g({type:"AccessRights",payload:e.AccessRights}),f(e.AccessRights?.isNestSendtoApproval)};return i().createElement("div",{style:{width:"100%"}},i().createElement(Qe.Provider,{value:{cstate:C,cdispatch:g,ContextApi:$e,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==D&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{o.current.tempsave(e,B),I([])},EditClose:e=>v(),AttachExpand:e=>(r.current.AttachmentData(C.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSBSchComDisciplineSubDetails").style.width="50%",document.getElementById("divPPMSBSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainTable").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainEntry").style.width="100%",document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchComDisciplineSubDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails").style.display="block",document.getElementById("overlayimgAttPPMSBSchComDisciplineSubDetails").style.width="25%"))),Expanded:e=>{C.ShowDetail&&s.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{C.ShowDetail&&s.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),C.ShowDetail?s.current.clear(e):c.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{C.ShowDetail?s.current.tableClick(!1):c.current.CreateEasyProps(!1)},resetImg:()=>{o.current.tempClear(),r.current.clrImgstate(!0)}}},i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-MainEntry",className:"",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"PPMSBSchComDisciplineSubDetailsEntryTable",style:{width:"100%"}},C.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divPPMSBSchComDisciplineSubDetails-Entry",style:{width:"100%"}},0!==D?i().createElement(Ye,{ref:s,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),i().createElement(Ze.Z,{ref:o,menurefID:501,fileId:"LogoImgPPMSBSchComDisciplineSubDetails",imgloading:t=>{t||C.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:C.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewPPMSBSchComDisciplineSubDetails",frmctrlid:"PvwIm_501_L1_",tempImg:e=>{C.PrimaryId?r.current.AttachmentData(C.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:C.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divPPMSBSchComDisciplineSubDetails-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(je,{ref:c,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),i().createElement(Ze.Z,{ref:o,menurefID:501,fileId:"LogoImgPPMSBSchComDisciplineSubDetails",imgloading:t=>{t||C.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:C.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewPPMSBSchComDisciplineSubDetails",frmctrlid:"PvwIm_501_L1_",tempImg:e=>{C.PrimaryId?r.current.AttachmentData(C.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:C.Add})),i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-MainTable"},0!==D?i().createElement(qe,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),i().createElement(Ae.Z,{ImgAttachment:e=>v(),menurefID:501,fileId:"AttImgPPMSBSchComDisciplineSubDetails",imgid:"overlayimgAttPPMSBSchComDisciplineSubDetails",valueIDPK:C.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBSchComDisciplineSubDetails",ref:r,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_501_L1_",timglist:e=>{o.current.timglist(e),I(e)},clearTempData:C.Add}))),i().createElement("div",{id:"PPMSBSchComDisciplineSubDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),E&&i().createElement(Oe(),{openDialog:E,closeDialog:e=>f(e),formID:501,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Je=a(52743);const Xe=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const a=(0,n.useDispatch)(),s=(0,l.useRef)(),[r,y]=(0,l.useState)([]),[B,I]=(0,l.useState)(!1),[E,f]=(0,l.useState)(!0),[v,b]=(0,l.useState)(e.showDetail),[N,w]=(0,l.useState)(!1),T=(0,l.useContext)(d.PPMSBSchComDisciplineContext),{cstate:F,cdispatch:k}=(0,d.ContextApi)(),[A,Z]=(0,l.useState)(!1),[R,L]=(0,l.useState)(!1),[O,z]=(0,l.useState)(!1),[K,H]=(0,l.useState)(0),[V,G]=(0,l.useState)(""),[q,_]=(0,l.useState)(""),[U,j]=(0,l.useState)(null),[Y,Q]=(0,l.useState)(""),[$,W]=(0,l.useState)([]),[J,X]=(0,l.useState)({IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!1,IsPrint:!0,IsExport:!0});let ee=(0,g.Z)();async function te(t,a,l){V&&G(t),T.loading(!0);let i=u.v.Api+"FPN499S3/",n={data:{p1:t||F.PrimaryId,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:1,p29:10,p30:l,p31:null,p32:null,p33:localStorage.getItem("UserGroupID"),p34:localStorage.getItem("userid")}};var c={};0==F.token.length&&await(0,S.Z)(0).then((e=>{c=e})),await(0,p.Z)(i,n,0==F.token.length?c:F.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=e.Output.data[0][499][0];y(t),H(e.Output.data[0][499][0].ViewCancelCheck);let a=e.Output.data[0];delete a[499];const l=Object.values(a).flat().sort(((e,t)=>e.orderno-t.orderno));W(l),T.loading(!1)}else T.loading(!1),T.alert({open:!0,color:"warning",message:["No record found"]})}))}(0,l.useEffect)((()=>{e.l4viewonly?y(e.data):e.viewonly?te(F.PrimaryId,0,"PPMSBSchComDisciplineID"):(y(F.PrimaryData),a({type:"PPMSBSchComDiscipline499",PPMSBSchComDisciplinePPMSBSchComDisciplineID:F.PrimaryData.PPMSBSchComDisciplineIDPK}))}),[e.data]),(0,l.useEffect)((()=>F.PrimaryData.length>0||F.PrimaryId?(te(F.PrimaryId,0,"PPMSBSchComDisciplineID"),!1):void 0),[F.PrimaryData,F.PrimaryId]),(0,l.useEffect)((()=>{f(e.ExpandDetailValue)}),[e.ExpandDetailValue]),(0,l.useEffect)((()=>{e.inboxdata&&Object.keys(e.inboxdata).length>0&&(f(!0),te(e.inboxdata.id,e.inboxdata.token,"PPMSBSchComDisciplineID"),L(!0))}),[e.inboxdata]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{f(!0),I(!1)},inboxprops:e=>{f(!0),te(e.id,e.token,"PPMSBSchComDisciplineID"),k({type:"PrimaryId",payload:e.id}),L(!0)}})));const ae=()=>{z(!0)};return i().createElement("div",null,i().createElement(o.Z,null,i().createElement(m.Z,{xs:Y?3:12,md:Y?3:12,lg:Y?3:12},i().createElement("div",{className:"gridcardl41A",id:"PPMSBSchComDisciplineDiv"},i().createElement(o.Z,null,i().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},i().createElement(o.Z,{style:{marginBottom:"1%"}},i().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},i().createElement("div",{className:"ViewHeadingTitle2"},i().createElement("span",{style:{cursor:"pointer"}},i().createElement("div",{id:"fld499L4VCMdOutlineArrowBackIosNew"},i().createElement(h.aQX,{className:"BackBtnIcon",onClick:()=>{T.ShowTableDiv(!1),T.add()}}),"Primary Details")),i().createElement("div",{className:"iconstyle displayFlex"},R&&i().createElement(P.Z,{className:"ApprBtnCommon",name:"Approve",disabled:!1,onClick:()=>{ae()}}),R&&i().createElement(P.Z,{className:"RejBtnCommon",name:"Reject",disabled:!1,onClick:()=>{ae()}}),F.AccessRights.IsEdit&&i().createElement("div",{id:"fld499L4VCEditIcon",onClick:()=>{T.editview(r)}},i().createElement(c.ZP,{title:"Edit"},i().createElement("span",null,i().createElement(D.Z,{style:{width:"20px",marginRight:"10px"}})))),F.AccessRights.IsAdd&&i().createElement("div",{id:"fld499L4VCCreateNewFolderIcon",onClick:()=>{T.add()}},i().createElement(c.ZP,{title:"Add"},i().createElement("span",null," ",i().createElement(M.Z,null)," "))),i().createElement("div",{id:"fld499L4VCRefreshIcon",onClick:()=>{te(F.PrimaryId,0,"PPMSBSchComDisciplineID")}},i().createElement(c.ZP,{title:"Refresh"},i().createElement("span",null," ",i().createElement(C.Z,null)," "))),Y&&i().createElement("div",{id:"fld499L4VCFullscreen",onClick:()=>Y&&Q("")},i().createElement(c.ZP,{title:"Expand"},i().createElement("span",null,i().createElement(x.$4j,{style:{width:"18px",height:"18px",marginTop:"3px"}})))))))),i().createElement(Je.Z,{tableName:"PPMSBSchComDiscipline",tableID:499,parentID:F.PrimaryId,fldid:"fld499L4VCContainer",OpenSlideComponent:function(e,t){},index:0,val:r,tf:e=>F.language?.[e]?F.language[e]:e,t:e=>ee?.[e]?ee[e]:e,cardName:Y,SubCardData:$,SubformsLink:function(e){Q(e.name),X((t=>({...t,IsAdd:e.isNestAdd,IsEdit:e.isNestEdit})))},alertmsg:e=>T.alert(e),title:"10.0.0.59-3:08:17 PM-18-7[499]"}))))),Y&&i().createElement(m.Z,{sm:9,md:9,xs:9,className:"lstscroll",style:{height:"auto"}},"PPMSBSchComDisciplineDetails"==Y&&i().createElement(He,{AccessRights:J,loading:e=>T.loading(e),parentData:r,alertmsg:e=>T.alert(e),ConfirmAlert:e=>{T.ConfirmAlert(e)},ref:s,PrimaryView:!1,parentId:F.PrimaryId,SlideComponentType:(e,t)=>T.SlideComponentType(e,t),openNav:e=>T.openNav(e),openDialog:e=>T.openDialog(e),DialogComponentType:e=>T.DialogComponentType(e),cardRefresh:()=>te(F.PrimaryId,0,"PPMSBSchComDisciplineID")}),"PPMSBSchComDisciplineSubDetails"==Y&&i().createElement(We,{AccessRights:J,loading:e=>T.loading(e),parentData:r,alertmsg:e=>T.alert(e),ConfirmAlert:e=>{T.ConfirmAlert(e)},ref:s,PrimaryView:!1,parentId:F.PrimaryId,SlideComponentType:(e,t)=>T.SlideComponentType(e,t),openNav:e=>T.openNav(e),openDialog:e=>T.openDialog(e),DialogComponentType:e=>T.DialogComponentType(e),cardRefresh:()=>te(F.PrimaryId,0,"PPMSBSchComDisciplineID")}))))}))},41381:(e,t,a)=>{a.d(t,{A:()=>l});const l={EnterKeyValues:{PPMSBSchComDiscipline:["DisciplineName","FrequencyName","PPMSBMaintenanceHours","PPMSBManPower","PPMSBManHour","PPMSBSchComDisciplineDetailsCode","PPMSBMinRange","PPMSBMaxRang","PPMSBManMinute","PPMSBManSecond"]},Label:{PPMSBSchComDiscipline:{DisciplineID:["DisciplineCode","DisciplineName"],FrequencyID:["FrequencyCode","FrequencyName"],PPMSBMaintenanceHours:["PPMSBSchComDisciplineCode"],PPMSBManPower:["PPMSBSchComDisciplineCode"],PPMSBManHour:["PPMSBSchComDisciplineCode"],PPMSBSchComDisciplineDetailsCode:["PPMSBSchComDisciplineCode"],PPMSBMinRange:["PPMSBSchComDisciplineCode"],PPMSBMaxRang:["PPMSBSchComDisciplineCode"],PPMSBManMinute:["PPMSBSchComDisciplineCode"],PPMSBManSecond:["PPMSBSchComDisciplineCode"]}},LabelHeader:{PPMSBSchComDiscipline:{DisciplineID:["Discipline Code","Discipline Name"],FrequencyID:["Frequency Code","Frequency Name"],PPMSBMaintenanceHours:["PPMSBSchComDisciplineCode"],PPMSBManPower:["PPMSBSchComDisciplineCode"],PPMSBManHour:["PPMSBSchComDisciplineCode"],PPMSBSchComDisciplineDetailsCode:["PPMSBSchComDisciplineCode"],PPMSBMinRange:["PPMSBSchComDisciplineCode"],PPMSBMaxRang:["PPMSBSchComDisciplineCode"],PPMSBManMinute:["PPMSBSchComDisciplineCode"],PPMSBManSecond:["PPMSBSchComDisciplineCode"]}},Property:{PPMSBSchComDiscipline:{DisciplineID:{id:"fld499_22837",clearID:"PPMSBSchComDisciplineDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FrequencyID:{id:"fld499_22836",clearID:"PPMSBSchComDisciplineFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMSBMaintenanceHours:{id:"fld499_22833",labelID:"PPMSBMaintenanceHours",maxLength:"10",labelname:"Maintenance Hours",frmctrlid:"fld499_22833",frmctrlidname:"PPMSBMaintenanceHours",type:"text",mandatory:!0,masked:!0,masktype:"Days",disabled:!1,autogen:!1},PPMSBManPower:{id:"fld499_22832",labelID:"PPMSBManPower",maxLength:"10",labelname:"Man Power",frmctrlid:"fld499_22832",frmctrlidname:"PPMSBManPower",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBManHour:{id:"fld499_22829",labelID:"PPMSBManHour",maxLength:"10",labelname:"Man Hour",frmctrlid:"fld499_22829",frmctrlidname:"PPMSBManHour",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},PPMSBSchComDisciplineDetailsCode:{id:"fld499_22826",labelID:"PPMSBSchComDisciplineDetailsCode",maxLength:"50",labelname:"PPMSBSchComDisciplineDetailsCode",frmctrlid:"fld499_22826",frmctrlidname:"PPMSBSchComDisciplineDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBMinRange:{id:"fld499_22827",labelID:"PPMSBMinRange",maxLength:"",labelname:"PPMSBMinRange",frmctrlid:"fld499_22827",frmctrlidname:"PPMSBMinRange",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBMaxRang:{id:"fld499_22828",labelID:"PPMSBMaxRang",maxLength:"",labelname:"PPMSBMaxRang",frmctrlid:"fld499_22828",frmctrlidname:"PPMSBMaxRang",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBManMinute:{id:"fld499_22830",labelID:"PPMSBManMinute",maxLength:"",labelname:"PPMSBManMinute",frmctrlid:"fld499_22830",frmctrlidname:"PPMSBManMinute",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBManSecond:{id:"fld499_22831",labelID:"PPMSBManSecond",maxLength:"",labelname:"PPMSBManSecond",frmctrlid:"fld499_22831",frmctrlidname:"PPMSBManSecond",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{PPMSBSchComDiscipline:{DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"]}}}}}]);