/*! For license information please see 722.47183612eaf2145ee295.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[722],{50722:(e,t,a)=>{a.r(t),a.d(t,{CCMMaterialDetailsContext:()=>Le,ContextApi:()=>Ke,UserGridViewData:()=>Ge,default:()=>Ve});var l=a(92950),n=a.n(l),r=(a(95866),a(45237)),i=a(36939),o=a(61201),m=a(51673),s=(a(99058),a(80366)),d=a(282),u=a(868),p=a(78513),C=a(14439),c=a(27848),M=a(40900),y=a(64059),I=a(24038),D=a(8981),g=a(47516),N=a(86893),T=a(33681),b=a(63163),E=a(35131),f=a.n(E),S=a(61956),v=a(93657),A=a(53375),h=a(52663),x=a(66083),R=a(29525),P=a(66856),k=a(39803),q=a(99940),w=a(17149),F=a(62810),U=a(30553),Z=a(92381),B=a(25108);const L=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[r,i]=(0,l.useState)([]),[o,E]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[f,S]=(0,l.useState)(""),[L,K]=(0,l.useState)({}),[G,V]=(0,l.useState)(!0),[O,_]=(0,l.useState)(!1),{cstate:Q,cdispatch:z}=e.ContextApi?e.ContextApi:Ke(),[W,H]=(0,l.useState)(1),[j,Y]=(0,l.useState)(0),[$,J]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,ne]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1),[oe,me]=(0,l.useState)(""),[se,de]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ce]=(0,l.useState)(!1),[Me,ye]=(0,l.useState)(""),Ie=(0,l.useRef)(null),[De,ge]=(0,l.useState)({});let Ne=localStorage.getItem("Language");const Te={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let be=(0,D.Z)();const Ee=e=>be[e]?be[e]:e,fe=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Te[Ne]];function Se(){me(""),ye(""),K({}),ee({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});ge(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{Ie.current&&Ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const ve=async(t,a,l,n)=>{J(!0);try{Ie.current&&Ie.current.abort();const o=new AbortController;Ie.current=o;let s="",d=[],u={};await E((e=>(s=e.name,e))),await K((e=>(d=e,e))),await ee((e=>(u=e,e)));const p=M.v.Api+"FP310S3/",C={data:{p1:"CCMMaterialIDPK"==a?null:await Pe(),p2:"CCMMaterialCode"==s&&l.length>0?"%"+l+"%":null,p3:"ReqQty"==s&&l.length>0?"%"+l+"%":null,p4:"ReqUnitPrice"==s&&l.length>0?"%"+l+"%":null,p5:"ReqMatAmt"==s&&l.length>0?"%"+l+"%":null,p6:"UsedQty"==s&&l.length>0?"%"+l+"%":null,p7:"UsedMatAmt"==s&&l.length>0?"%"+l+"%":null,p8:"UsedTotAmt"==s&&l.length>0?"%"+l+"%":null,p9:"RequestedStat"==s&&l.length>0?"%"+l+"%":null,p10:"ApprovedStat"==s&&l.length>0?"%"+l+"%":null,p11:"UsedStat"==s&&l.length>0?"%"+l+"%":null,p12:"UsedRemarks"==s&&l.length>0?"%"+l+"%":null,p13:"IsAvailable"==s&&l.length>0?"%"+l+"%":null,p14:"ApprovalKey"==s&&l.length>0?"%"+l+"%":null,p15:"EstRquestQty"==s&&l.length>0?"%"+l+"%":null,p16:"EstRequestRate"==s&&l.length>0?"%"+l+"%":null,p17:"EstRequestTotAmt"==s&&l.length>0?"%"+l+"%":null,p18:"RCRAmt"==s&&l.length>0?"%"+l+"%":null,p19:"IsEstimate"==s&&l.length>0?"%"+l+"%":null,p20:"EstReqToAmount"==s&&l.length>0?"%"+l+"%":null,p21:"MaterialName"==s&&l.length>0?"%"+l+"%":null,p22:"IsActual"==s&&l.length>0?"%"+l+"%":null,p23:"IsTools"==s&&l.length>0?"%"+l+"%":null,p24:"CMSubTotal"==s&&l.length>0?"%"+l+"%":null,p25:"CMMFVatAmount"==s&&l.length>0?"%"+l+"%":null,p26:"CMGTVatAmount"==s&&l.length>0?"%"+l+"%":null,p27:"CMGrandTotal"==s&&l.length>0?"%"+l+"%":null,p28:"CCMTaxValue"==s&&l.length>0?"%"+l+"%":null,p29:"CCMTotalAmount"==s&&l.length>0?"%"+l+"%":null,p30:"CCMTaxAmount"==s&&l.length>0?"%"+l+"%":null,p31:"CCMgrandTotal1"==s&&l.length>0?"%"+l+"%":null,p32:"CCMEstimateSubTotal"==s&&l.length>0?"%"+l+"%":null,p33:null,p34:null,p35:e.parentId?e.parentId:"0",p36:"MaterialName"!=s&&d.MaterialName?d.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p37:"MatProcessTypeName"!=s&&d.MatProcessTypeName?d.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p38:"TaxName"!=s&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p39:"TaxName1"!=s&&d.TaxName1?d.TaxName1.map((e=>e.TaxID1PK)).toString():null,p40:e.Dialogview?"1":null,p41:null,p42:"p42"==s&&l.length>0?l:null,p43:null,p44:null,p45:null,p46:null,p47:"ContractName"!=s&&d.ContractName?d.ContractName.map((e=>e.ContractIDPK)).toString():null,p48:"ContractCode"==s&&l.length>0?"%"+l+"%":null,p49:"ContractName"==s&&l.length>0?"%"+l+"%":null,p50:"LocalityName"!=s&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p51:"LocalityCode"==s&&l.length>0?"%"+l+"%":null,p52:"LocalityName"==s&&l.length>0?"%"+l+"%":null,p53:"BuildingName"!=s&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p54:"BuildingCode"==s&&l.length>0?"%"+l+"%":null,p55:"BuildingName"==s&&l.length>0?"%"+l+"%":null,p56:"FloorName"!=s&&d.FloorName?d.FloorName.map((e=>e.FloorIDPK)).toString():null,p57:"FloorCode"==s&&l.length>0?"%"+l+"%":null,p58:"FloorName"==s&&l.length>0?"%"+l+"%":null,p59:"SpotName"!=s&&d.SpotName?d.SpotName.map((e=>e.SpotIDPK)).toString():null,p60:"SpotCode"==s&&l.length>0?"%"+l+"%":null,p61:"SpotName"==s&&l.length>0?"%"+l+"%":null,p62:"PriorityName"!=s&&d.PriorityName?d.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p63:"PriorityCode"==s&&l.length>0?"%"+l+"%":null,p64:"PriorityName"==s&&l.length>0?"%"+l+"%":null,p65:"DivisionName"!=s&&d.DivisionName?d.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p66:"DivisionCode"==s&&l.length>0?"%"+l+"%":null,p67:"DivisionName"==s&&l.length>0?"%"+l+"%":null,p68:"DisciplineName"!=s&&d.DisciplineName?d.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p69:"DisciplineCode"==s&&l.length>0?"%"+l+"%":null,p70:"DisciplineName"==s&&l.length>0?"%"+l+"%":null,p71:"ComplainerName"!=s&&d.ComplainerName?d.ComplainerName.map((e=>e.ComplainerIDPK)).toString():null,p72:"ComplainerCode"==s&&l.length>0?"%"+l+"%":null,p73:"ComplainerName"==s&&l.length>0?"%"+l+"%":null,p74:"ComplaintNatureName"!=s&&d.ComplaintNatureName?d.ComplaintNatureName.map((e=>e.ComplaintNatureIDPK)).toString():null,p75:"ComplaintNatureCode"==s&&l.length>0?"%"+l+"%":null,p76:"ComplaintNatureName"==s&&l.length>0?"%"+l+"%":null,p77:"CCMComplaintModeName"!=s&&d.CCMComplaintModeName?d.CCMComplaintModeName.map((e=>e.CCMComplaintModeIDPK)).toString():null,p78:"CCMComplaintModeCode"==s&&l.length>0?"%"+l+"%":null,p79:"CCMComplaintModeName"==s&&l.length>0?"%"+l+"%":null,p80:"ServiceTypeName"!=s&&d.ServiceTypeName?d.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p81:"ServiceTypCode"==s&&l.length>0?"%"+l+"%":null,p82:"ServiceTypeName"==s&&l.length>0?"%"+l+"%":null,p83:"ComplaintHeaderName"!=s&&d.ComplaintHeaderName?d.ComplaintHeaderName.map((e=>e.ComplaintHeaderIDPK)).toString():null,p84:"ComplaintHeaderCode"==s&&l.length>0?"%"+l+"%":null,p85:"ComplaintHeaderName"==s&&l.length>0?"%"+l+"%":null,p86:"CCMComplaintModeIndexName"!=s&&d.CCMComplaintModeIndexName?d.CCMComplaintModeIndexName.map((e=>e.CCMComplaintModeIndexIDPK)).toString():null,p87:"CCMComplaintModeIndexCode"==s&&l.length>0?"%"+l+"%":null,p88:"CCMComplaintModeIndexName"==s&&l.length>0?"%"+l+"%":null,p89:"CCMWoTypeName"!=s&&d.CCMWoTypeName?d.CCMWoTypeName.map((e=>e.CCMWoTypeIDPK)).toString():null,p90:"CCMWoTypeCode"==s&&l.length>0?"%"+l+"%":null,p91:"CCMWoTypeName"==s&&l.length>0?"%"+l+"%":null,p92:"CCMComplaintTypeName"!=s&&d.CCMComplaintTypeName?d.CCMComplaintTypeName.map((e=>e.CCMComplaintTypeIDPK)).toString():null,p93:"CCMComplaintTypeCode"==s&&l.length>0?"%"+l+"%":null,p94:"CCMComplaintTypeName"==s&&l.length>0?"%"+l+"%":null,p95:"CCMStageIName"!=s&&d.CCMStageIName?d.CCMStageIName.map((e=>e.CCMStageIDPK)).toString():null,p96:"CCMStageICode"==s&&l.length>0?"%"+l+"%":null,p97:"CCMStageIName"==s&&l.length>0?"%"+l+"%":null,p98:"StageSeqNo"==s&&l.length>0?"%"+l+"%":null,p99:"IncidentName"!=s&&d.IncidentName?d.IncidentName.map((e=>e.IncidentIDPK)).toString():null,p100:"IncidentCode"==s&&l.length>0?"%"+l+"%":null,p101:"IncidentName"==s&&l.length>0?"%"+l+"%":null,p102:"EquipmentName"!=s&&d.EquipmentName?d.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p103:"EquipmentName"==s&&l.length>0?"%"+l+"%":null,p104:"EquipmentRefNo"==s&&l.length>0?"%"+l+"%":null,p105:"AssetBarcode"==s&&l.length>0?"%"+l+"%":null,p106:"AssetTagNo"==s&&l.length>0?"%"+l+"%":null,p107:"WorkOrder"!=s&&d.WorkOrder?d.WorkOrder.map((e=>e.PPMCreationAssetIDPK)).toString():null,p108:"WorkOrder"==s&&l.length>0?"%"+l+"%":null,p109:u.WoDateTime?u.WoDateTime.From:null,p110:u.WoDateTime?u.WoDateTime.Type:null,p111:u.WoDateTime?u.WoDateTime.To:null,p112:"SubComponentName"!=s&&d.SubComponentName?d.SubComponentName.map((e=>e.SubComponentIDPK)).toString():null,p113:"SubComponentName"==s&&l.length>0?"%"+l+"%":null,p114:"ComplaintNo"==s&&l.length>0?"%"+l+"%":null,p115:"CMResonForPending"==s&&l.length>0?"%"+l+"%":null,p116:"CCMMobNo"==s&&l.length>0?"%"+l+"%":null,p117:"ClientWoNo"==s&&l.length>0?"%"+l+"%":null,p118:"CCMDescription"==s&&l.length>0?"%"+l+"%":null,p119:"MatProcessTypeCode"==s&&l.length>0?"%"+l+"%":null,p120:"MatProcessTypeName"==s&&l.length>0?"%"+l+"%":null,p121:"MaterialTypeName"!=s&&d.MaterialTypeName?d.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p122:"MaterialTypeCode"==s&&l.length>0?"%"+l+"%":null,p123:"MaterialTypeName"==s&&l.length>0?"%"+l+"%":null,p124:"MatMainClassName"!=s&&d.MatMainClassName?d.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p125:"MatMainClassCode"==s&&l.length>0?"%"+l+"%":null,p126:"MatMainClassName"==s&&l.length>0?"%"+l+"%":null,p127:"MatSubClassName"!=s&&d.MatSubClassName?d.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p128:"MatSubClassCode"==s&&l.length>0?"%"+l+"%":null,p129:"MatSubClassName"==s&&l.length>0?"%"+l+"%":null,p130:"MatMakeName"!=s&&d.MatMakeName?d.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p131:"MatMakeCode"==s&&l.length>0?"%"+l+"%":null,p132:"MatMakeName"==s&&l.length>0?"%"+l+"%":null,p133:"MatModelName"!=s&&d.MatModelName?d.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p134:"MatModelCode"==s&&l.length>0?"%"+l+"%":null,p135:"MatModelName"==s&&l.length>0?"%"+l+"%":null,p136:"UOMName"!=s&&d.UOMName?d.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p137:"MATUOMCode"==s&&l.length>0?"%"+l+"%":null,p138:"UOMName"==s&&l.length>0?"%"+l+"%":null,p139:"GradeName"!=s&&d.GradeName?d.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p140:"GradeName"==s&&l.length>0?"%"+l+"%":null,p141:"MatGradeCode"==s&&l.length>0?"%"+l+"%":null,p142:"MaterialColorName"!=s&&d.MaterialColorName?d.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p143:"MaterialColorName"==s&&l.length>0?"%"+l+"%":null,p144:"MatMaterialColorCode"==s&&l.length>0?"%"+l+"%":null,p145:"RawMaterialName"!=s&&d.RawMaterialName?d.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p146:"MadeRawMaterialCode"==s&&l.length>0?"%"+l+"%":null,p147:"RawMaterialName"==s&&l.length>0?"%"+l+"%":null,p148:"MaterialSizeName"!=s&&d.MaterialSizeName?d.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p149:"MaterialSizeName"==s&&l.length>0?"%"+l+"%":null,p150:"MatMaterialSizeCode"==s&&l.length>0?"%"+l+"%":null,p151:"MaterialCode"==s&&l.length>0?"%"+l+"%":null,p152:"TaxCode"==s&&l.length>0?"%"+l+"%":null,p153:"TaxName"==s&&l.length>0?"%"+l+"%":null,p154:"TaxValue"==s&&l.length>0?"%"+l+"%":null,p155:n||1,p156:10,p157:t,p158:null,p159:null,p160:localStorage.getItem("UserGroupID"),p161:localStorage.getItem("userid")}},c=await(0,m.Z)(p,C,e.token,"",o.signal);if(!c)return!1;const y=c.Output.status.code,I=c.Output.data;if("200"===y)if(I.length>0)if(1===n){let e=he(I,s),t=Ae(e,L[s],a);i(t),Y(t.length>0?t[0].TotalCount:L[s].length)}else{let e=[...r,...I],t=he(e,s);Y(t.length<10?t.length:I[0].TotalCount),i(he(t,s))}else f.length>0&&i([]),Y(r.length);else e.alertmsg("error",[c.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{J(!1)}},Ae=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),he=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function xe(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>L[e]?L[e].map((e=>e[t])):[]));return e.toString()}return""}const Re=async(t,a)=>{let l="",n={};await K((e=>(l=e,e)));let r=[...te],i=[];for(let e of r){let t=l[e]?.map((e=>e.CCMMaterialIDPK)).toString();t&&i.push(t)}await ee((e=>(n=e,e)));let o={CCMMaterialIDPK:a?a.CCMMaterialIDPK:i?[...new Set(i)].toString():"",CreatedTtm:n.CreatedTtm?n.CreatedTtm.From:"",CreatedTtmType:n.CreatedTtm?n.CreatedTtm.Type:"",CreatedTtmBetween:n.CreatedTtm?n.CreatedTtm.To:"",MatProcessTypeID:xe("MatProcessTypeID"),MaterialID:xe("MaterialID"),TaxID:xe("TaxID"),TaxID1:xe("TaxID1"),ComplaintID:xe("ComplaintID")};"saveFav"==t?we("save",o):(e.searchData(o),_(!1))};async function Pe(){let e={};await K((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.CCMMaterialIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ke(t,a,l,n,r,i){let o={[n]:{From:t,Type:l,To:a}},m={};ee((e=>({...e,...o})));const s={...L};let d=[...te],u=[];for(let e of d){let t=s[e]?.map((e=>e.CCMMaterialIDPK)).toString();t&&u.push(t)}await ee((e=>(m=e,e)));let p={CCMMaterialIDPK:u?[...new Set(u)].toString():"",CreatedTtm:m.CreatedTtm?m.CreatedTtm.From:"",CreatedTtmType:m.CreatedTtm?m.CreatedTtm.Type:"",CreatedTtmBetween:m.CreatedTtm?m.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,MatProcessTypeID:L.MatProcessTypeName?.map((e=>e.MatProcessTypeIDPK)).toString(),MaterialID:L.MaterialName?.map((e=>e.MaterialIDPK)).toString(),TaxID:L.TaxName?.map((e=>e.TaxIDPK)).toString(),TaxID1:L.TaxName1?.map((e=>e.TaxID1PK)).toString(),ComplaintID:L.ComplaintNo?.map((e=>e.ComplaintIDPK)).toString()};e.searchData(p)}function qe(){return n().createElement(y.Z,{frmctrlid:"fld310L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{ke(e,t,a,o.name,l)},keyboardback:()=>{_(!1),E({idpk:"",name:"",type:"",fieldidpk:""})},title:Ee(o.name),fieldname:o.name,save:e=>{alert(!0)}})}const we=(t,a)=>{(0,Z.Z)(t,e.formID,a,oe).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(h.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:se},n().createElement(x.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(R.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(k.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>me(e.target.value),fullWidth:!0})),n().createElement(U.Z,{style:{color:"#337ab7"},control:n().createElement(q.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(F.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Quick"}),n().createElement(U.Z,{style:{color:"#337ab7"},control:n().createElement(q.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(F.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:Ce,onChange:e=>ce(e.target.checked)}),label:"Dashboard"})),n().createElement(P.Z,null,n().createElement(d.Z,{onClick:()=>{Re("saveFav"),de(!1)},color:"primary"},"Save"))),O?"Created Ttm"===o.name||o.name.includes("Date")?n().createElement(qe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(C.Z,null,n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},fe(o.idpk)," (",r.length,"/",j,")")),n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(u.ZP,{title:Ee("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(s.Z,{id:"fld310L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),E({idpk:"",name:"",type:"",fieldidpk:!1}),H(1)}}))),L[o.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(d.Z,{frmctrlid:"fld310L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,B.log("clear fewItems",e),t))),e[o.name]=[],ve(o.type,o.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},G?n().createElement(u.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(N.D7o,{className:"FilterMaximizeIcon",onClick:()=>{V(!1)}}))):n().createElement(u.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(N.dOw,{className:"FilterMaximizeIcon",onClick:()=>{V(!0)}})))),n().createElement("ul",null,L[o.name]&&L[o.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:G?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[o.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{H(1);let a=L[o.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[o.name]=a,K(l),i((t=>[e,...t]))})(e)},n().createElement(s.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(I.Z,{frmctrlid:"fld310L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:f,placeholder:Ee("Enter ")+" "+fe(o.idpk),onChange:e=>{S(e),ve(o.type,o.fieldidpk,e,1,Pe())}})),n().createElement("div",{id:"fld310L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Re},n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(d.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),$&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(T.Z,{color:"secondary"})),n().createElement("div",{id:"fld310L1TFCScrollYDefault",className:"height65 scrollYDefault"},r.length>0&&r.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let n=l[o.name];t[o.name]=n?[...a,...n]:a,l={...l,...t},K(l),i((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(p.Z,{className:"DotIcon"}),n().createElement("span",null,e[o.name])))),r.length+0<j&&r.length>0&&n().createElement("div",{id:"fld310L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{H(W+1),ve(o.type,o.fieldidpk,"",W+1)}},n().createElement("p",null," more... ")),0===r.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:M.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(g.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",Ee("Filter")," ",oe.length>0&&`(${oe})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(u.ZP,{title:"Favorite List",placement:"top"},re?n().createElement(s.Z,{className:"favlisticon",onClick:()=>{ie(!1),Se()}}):n().createElement(v.Z,{className:"favlisticon",onClick:()=>{ie(!0),we("select"),Se()}})),Object.keys(L).length>0&&n().createElement(u.ZP,{title:"Save Favorites",placement:"top"},n().createElement(A.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(d.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld310L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear")))),n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(d.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld310L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Ee("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld310L1TFCFilItems",className:"FilterItems"},!Me&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),S(""),i([]),Y(0);let t=e.IsForeign?e.FieldName+"PK":"CCMMaterialIDPK";E({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterCCMMaterialID",fieldidpk:t}),ve(e.IsForeign?"Filter"+e.FieldName:"FilterCCMMaterialID",t,"",1,Pe())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,fe(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,fe(e.AdminUserGridViewIDPK)),n().createElement(b.Z,{checked:"1"==le,onChange:t=>{ne(t.target.checked),ke("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,fe(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,L[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},L[a][0][a]),L[a].length>1&&n().createElement("span",{className:"RoundedDivName"},L[a][1][a]),L[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(L[a].length-2))))));var a})),Me&&Me.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{ve("FilterCCMMaterialID",a),Re("",a)}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}));var K=a(54180),G=a(43031),V=a(85639),O=a(110),_=a(5109),Q=a(88995),z=a(50743),W=a(61657),H=a(51209),j=a(53854),Y=a(5434),$=a(83817),J=a(39327),X=a(3212),ee=a(93521),te=a(79117),ae=a.n(te),le=a(71168),ne=a.n(le),re=a(65107),ie=a(94986),oe=a(15999);a(11557),window.clickFilter="";const me=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[p]=((0,l.useRef)(null),(0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[C]=(0,l.useState)("310"),[c,y]=(0,l.useState)(!1),[T,b]=(0,l.useState)(!1),[E,f]=(0,l.useState)(0),[S,v]=(0,l.useState)(0),[A,h]=(0,l.useState)(0),[x,R]=(0,l.useState)(0),[P,k]=(0,l.useState)({current:1,pageSize:100}),[q,w]=(0,l.useState)(""),[F,U]=(0,l.useState)([]),[Z,B]=(0,l.useState)({val:"",column:""}),[te,le]=(0,l.useState)([]),[me,se]=(0,l.useState)(!1),[de,ue]=(0,l.useState)(""),[pe,Ce]=(0,l.useState)(""),[ce,Me]=(0,l.useState)(!1),[ye,Ie]=(0,l.useState)([]),[De,ge]=(0,l.useState)([]),[Ne,Te]=(0,l.useState)([]),[be,Ee]=(0,l.useState)({children:[{name:"CCMMaterialDetails",children:[]}]}),[fe,Se]=(0,l.useState)(!1),ve=(0,l.useContext)(e.context?e.context:Le),{cstate:Ae,cdispatch:he}=e.ContextApi?e.ContextApi:Ke();let xe={CCMMaterialIDPK:"",CCMMaterialCode:"",ReqQty:"",ReqUnitPrice:"",ReqMatAmt:"",UsedQty:"",UsedMatAmt:"",UsedTotAmt:"",RequestedStat:"",ApprovedStat:"",UsedStat:"",UsedRemarks:"",IsAvailable:"",ApprovalKey:"",EstRquestQty:"",EstRequestRate:"",EstRequestTotAmt:"",RCRAmt:"",IsEstimate:"",EstReqToAmount:"",MaterialName:"",IsActual:"",IsTools:"",CMSubTotal:"",CMMFVatAmount:"",CMGTVatAmount:"",CMGrandTotal:"",CCMTaxValue:"",CCMTotalAmount:"",CCMTaxAmount:"",CCMgrandTotal1:"",CCMEstimateSubTotal:"",IsDraft:"",Remarks:"",ComplaintID:"",MaterialID:"",MatProcessTypeID:"",TaxID:"",TaxID1:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",PriorityID:"",PriorityCode:"",PriorityName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",ComplainerID:"",ComplainerCode:"",ComplainerName:"",ComplaintNatureID:"",ComplaintNatureCode:"",ComplaintNatureName:"",CCMComplaintModeID:"",CCMComplaintModeCode:"",CCMComplaintModeName:"",ServiceTypeID:"",ServiceTypCode:"",ServiceTypeName:"",ComplaintHeaderID:"",ComplaintHeaderCode:"",ComplaintHeaderName:"",CCMComplaintModeIndexID:"",CCMComplaintModeIndexCode:"",CCMComplaintModeIndexName:"",CCMWoTypeID:"",CCMWoTypeCode:"",CCMWoTypeName:"",CCMComplaintTypeID:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",CCMStageID:"",CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",IncidentID:"",IncidentCode:"",IncidentName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",PPMCreationAssetID:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",SubComponentID:"",SubComponentName:"",ComplaintNo:"",CMResonForPending:"",CCMMobNo:"",ClientWoNo:"",CCMDescription:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",TaxCode:"",TaxName:"",TaxValue:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Re,Pe]=(0,l.useState)(xe),[ke,qe]=(0,l.useState)(xe),[we,Fe]=(0,l.useState)(!1),[Ue,Ze]=(0,l.useState)(!0),[Be,Ge]=(0,l.useState)(!1),[Ve,Oe]=(0,l.useState)(!0),[_e,Qe]=(0,l.useState)({MatProcessTypeName:"",MaterialName:"",UsedRemarks:"",ReqQty:"",ReqUnitPrice:"",ReqMatAmt:"",UsedQty:"",UsedMatAmt:"",UsedTotAmt:"",TaxName:"",CMMFVatAmount:"",CMSubTotal:"",TaxName1:"",CMGTVatAmount:"",CMGrandTotal:"",CCMMaterialCode:"",RequestedStat:"",ApprovedStat:"",UsedStat:"",IsAvailable:"",ApprovalKey:"",EstRquestQty:"",EstRequestRate:"",EstRequestTotAmt:"",RCRAmt:"",IsEstimate:"",EstReqToAmount:"",MaterialName:"",IsActual:"",IsTools:"",ComplaintNo:""}),[ze,We]=(0,l.useState)(!1),[He,je]=(0,l.useState)([]),[Ye,$e]=(0,l.useState)(0),[Je,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)({current:1,pageSize:10}),[at,lt]=(0,l.useState)([]),[nt,rt]=(0,l.useState)([]),[it,ot]=(0,l.useState)(!1),[mt,st]=(0,l.useState)(!1),[dt,ut]=(0,l.useState)(!1),[pt,Ct]=(0,l.useState)(""),[ct,Mt]=ne()("310"),[yt,It]=(0,l.useState)({}),Dt=[{columns:at,data:q}];let gt=(0,D.Z)();const Nt=e=>gt[e]?gt[e]:e,Tt=e=>Ae.language?.[e]?Ae.language[e]:e;(0,l.useEffect)((()=>{ht(ct)}),[ct]),(0,l.useEffect)((()=>{Ae.token.length>0&&(e.parentId?vt(P,xe,"CCMMaterialID"):le([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?vt(P,de,"CCMMaterialID"):fe&&qe(de)}),[de]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{bt(e)},tableRefresh:()=>{vt(P,xe,"CCMMaterialID")},DialogTableProps:e=>{b(e)},HideEntryFields:e=>{ut(!0===e)}})));const bt=e=>{""==e?vt(P,xe,we?"DraftCCMMaterialID":"CCMMaterialID",we&&"DraftPage"):At(e,{current:1,pageSize:100}),Ce(e)};function Et(t){ve.loading(!0);let a=M.v.Api+"FP310S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,l,Ae.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Xe(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?$e(Math.ceil(a)):20==t.pageSize?$e(Math.ceil(a/2)):50==t.pageSize?$e(Math.ceil(a/5)):100==t.pageSize&&$e(Math.ceil(a/10)),je(e.Output.data),ve.loading(!1)}}))}function ft(e,t){he({type:"editData",payload:[t]}),he({type:"IsDraft",payload:we}),he({type:"ShowDetail",payload:!0}),ve.Expanded(!0),Be&&Me(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Oe(e.cardview),e.Dialogview&&(b(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&At(e.searchsafaritext,{current:P.current,pageSize:P.pageSize})}),[e.searchsafaritext]);const St=()=>{ve.EditClose(!0),me?(document.getElementById("CCMMaterialDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("CCMMaterialDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("CCMMaterialDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),Ve?(T||(document.getElementById("CCMMaterialDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMMaterialDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("CCMMaterialDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMMaterialDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMMaterialDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMMaterialDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("CCMMaterialDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("CCMMaterialDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("CCMMaterialDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),document.getElementById("CCMMaterialDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMMaterialDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Me(!1),window.clickFilter=!me},vt=(t,a,l,n,r,i)=>{ve.loading(!0),"DraftPage"!==n&&Fe(Ae.IsDraft);let o=M.v.Api+"FP310S3/",s={data:{p1:r||(a&&a.CCMMaterialIDPK?a.CCMMaterialIDPK:null),p2:a&&a.CCMMaterialCode?a.CCMMaterialCode:null,p3:a&&a.ReqQty?a.ReqQty:null,p4:a&&a.ReqUnitPrice?a.ReqUnitPrice:null,p5:a&&a.ReqMatAmt?a.ReqMatAmt:null,p6:a&&a.UsedQty?a.UsedQty:null,p7:a&&a.UsedMatAmt?a.UsedMatAmt:null,p8:a&&a.UsedTotAmt?a.UsedTotAmt:null,p9:a&&a.RequestedStat?a.RequestedStat:null,p10:a&&a.ApprovedStat?a.ApprovedStat:null,p11:a&&a.UsedStat?a.UsedStat:null,p12:null,p13:null,p14:a&&a.ApprovalKey?a.ApprovalKey:null,p15:a&&a.EstRquestQty?a.EstRquestQty:null,p16:a&&a.EstRequestRate?a.EstRequestRate:null,p17:a&&a.EstRequestTotAmt?a.EstRequestTotAmt:null,p18:a&&a.RCRAmt?a.RCRAmt:null,p19:null,p20:a&&a.EstReqToAmount?a.EstReqToAmount:null,p21:a&&a.MaterialName?a.MaterialName:null,p22:null,p23:null,p24:a&&a.CMSubTotal?a.CMSubTotal:null,p25:a&&a.CMMFVatAmount?a.CMMFVatAmount:null,p26:a&&a.CMGTVatAmount?a.CMGTVatAmount:null,p27:a&&a.CMGrandTotal?a.CMGrandTotal:null,p28:a&&a.CCMTaxValue?a.CCMTaxValue:null,p29:a&&a.CCMTotalAmount?a.CCMTotalAmount:null,p30:a&&a.CCMTaxAmount?a.CCMTaxAmount:null,p31:a&&a.CCMgrandTotal1?a.CCMgrandTotal1:null,p32:a&&a.CCMEstimateSubTotal?a.CCMEstimateSubTotal:null,p33:"DraftCCMMaterialID"==l?"1":"0",p34:null,p35:e.parentId?Number(e.parentId):0,p36:a&&a.MaterialID?a.MaterialID:null,p37:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p38:a&&a.TaxID?a.TaxID:null,p39:a&&a.TaxID1?a.TaxID1:null,p40:a&&a.IsActive,p41:null,p42:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p43:a&&a.CreatedTtm?a.CreatedTtm:null,p44:a&&a.CreatedTtmType?a.CreatedTtmType:null,p45:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p46:null,p47:a&&a.ContractID?a.ContractID:null,p48:a&&a.ContractCode?a.ContractCode:null,p49:a&&a.ContractName?a.ContractName:null,p50:a&&a.LocalityID?a.LocalityID:null,p51:a&&a.LocalityCode?a.LocalityCode:null,p52:a&&a.LocalityName?a.LocalityName:null,p53:a&&a.BuildingID?a.BuildingID:null,p54:a&&a.BuildingCode?a.BuildingCode:null,p55:a&&a.BuildingName?a.BuildingName:null,p56:a&&a.FloorID?a.FloorID:null,p57:a&&a.FloorCode?a.FloorCode:null,p58:a&&a.FloorName?a.FloorName:null,p59:a&&a.SpotID?a.SpotID:null,p60:a&&a.SpotCode?a.SpotCode:null,p61:a&&a.SpotName?a.SpotName:null,p62:a&&a.PriorityID?a.PriorityID:null,p63:a&&a.PriorityCode?a.PriorityCode:null,p64:a&&a.PriorityName?a.PriorityName:null,p65:a&&a.DivisionID?a.DivisionID:null,p66:a&&a.DivisionCode?a.DivisionCode:null,p67:a&&a.DivisionName?a.DivisionName:null,p68:a&&a.DisciplineID?a.DisciplineID:null,p69:a&&a.DisciplineCode?a.DisciplineCode:null,p70:a&&a.DisciplineName?a.DisciplineName:null,p71:a&&a.ComplainerID?a.ComplainerID:null,p72:a&&a.ComplainerCode?a.ComplainerCode:null,p73:a&&a.ComplainerName?a.ComplainerName:null,p74:a&&a.ComplaintNatureID?a.ComplaintNatureID:null,p75:a&&a.ComplaintNatureCode?a.ComplaintNatureCode:null,p76:a&&a.ComplaintNatureName?a.ComplaintNatureName:null,p77:a&&a.CCMComplaintModeID?a.CCMComplaintModeID:null,p78:a&&a.CCMComplaintModeCode?a.CCMComplaintModeCode:null,p79:a&&a.CCMComplaintModeName?a.CCMComplaintModeName:null,p80:a&&a.ServiceTypeID?a.ServiceTypeID:null,p81:a&&a.ServiceTypCode?a.ServiceTypCode:null,p82:a&&a.ServiceTypeName?a.ServiceTypeName:null,p83:a&&a.ComplaintHeaderID?a.ComplaintHeaderID:null,p84:a&&a.ComplaintHeaderCode?a.ComplaintHeaderCode:null,p85:a&&a.ComplaintHeaderName?a.ComplaintHeaderName:null,p86:a&&a.CCMComplaintModeIndexID?a.CCMComplaintModeIndexID:null,p87:a&&a.CCMComplaintModeIndexCode?a.CCMComplaintModeIndexCode:null,p88:a&&a.CCMComplaintModeIndexName?a.CCMComplaintModeIndexName:null,p89:a&&a.CCMWoTypeID?a.CCMWoTypeID:null,p90:a&&a.CCMWoTypeCode?a.CCMWoTypeCode:null,p91:a&&a.CCMWoTypeName?a.CCMWoTypeName:null,p92:a&&a.CCMComplaintTypeID?a.CCMComplaintTypeID:null,p93:a&&a.CCMComplaintTypeCode?a.CCMComplaintTypeCode:null,p94:a&&a.CCMComplaintTypeName?a.CCMComplaintTypeName:null,p95:a&&a.CCMStageID?a.CCMStageID:null,p96:a&&a.CCMStageICode?a.CCMStageICode:null,p97:a&&a.CCMStageIName?a.CCMStageIName:null,p98:a&&a.StageSeqNo?a.StageSeqNo:null,p99:a&&a.IncidentID?a.IncidentID:null,p100:a&&a.IncidentCode?a.IncidentCode:null,p101:a&&a.IncidentName?a.IncidentName:null,p102:a&&a.AssetID?a.AssetID:null,p103:a&&a.EquipmentName?a.EquipmentName:null,p104:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p105:a&&a.AssetBarcode?a.AssetBarcode:null,p106:a&&a.AssetTagNo?a.AssetTagNo:null,p107:a&&a.PPMCreationAssetID?a.PPMCreationAssetID:null,p108:a&&a.WorkOrder?a.WorkOrder:null,p109:a&&a.WoDateTime?a.WoDateTime:null,p110:a&&a.WoDateTimeType?a.WoDateTimeType:null,p111:a&&a.WoDateTimeBetween?a.WoDateTimeBetween:null,p112:a&&a.SubComponentID?a.SubComponentID:null,p113:a&&a.SubComponentName?a.SubComponentName:null,p114:a&&a.ComplaintNo?a.ComplaintNo:null,p115:a&&a.CMResonForPending?a.CMResonForPending:null,p116:a&&a.CCMMobNo?a.CCMMobNo:null,p117:a&&a.ClientWoNo?a.ClientWoNo:null,p118:a&&a.CCMDescription?a.CCMDescription:null,p119:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p120:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p121:a&&a.MaterialTypeID?a.MaterialTypeID:null,p122:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p123:a&&a.MaterialTypeName?a.MaterialTypeName:null,p124:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p125:a&&a.MatMainClassCode?a.MatMainClassCode:null,p126:a&&a.MatMainClassName?a.MatMainClassName:null,p127:a&&a.MatSubClassID?a.MatSubClassID:null,p128:a&&a.MatSubClassCode?a.MatSubClassCode:null,p129:a&&a.MatSubClassName?a.MatSubClassName:null,p130:a&&a.MaterialMakeID?a.MaterialMakeID:null,p131:a&&a.MatMakeCode?a.MatMakeCode:null,p132:a&&a.MatMakeName?a.MatMakeName:null,p133:a&&a.MaterialModelID?a.MaterialModelID:null,p134:a&&a.MatModelCode?a.MatModelCode:null,p135:a&&a.MatModelName?a.MatModelName:null,p136:a&&a.MATUOMID?a.MATUOMID:null,p137:a&&a.MATUOMCode?a.MATUOMCode:null,p138:a&&a.UOMName?a.UOMName:null,p139:a&&a.MatGradeID?a.MatGradeID:null,p140:a&&a.GradeName?a.GradeName:null,p141:a&&a.MatGradeCode?a.MatGradeCode:null,p142:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p143:a&&a.MaterialColorName?a.MaterialColorName:null,p144:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p145:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p146:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p147:a&&a.RawMaterialName?a.RawMaterialName:null,p148:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p149:a&&a.MaterialSizeName?a.MaterialSizeName:null,p150:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p151:a&&a.MaterialCode?a.MaterialCode:null,p152:a&&a.TaxCode?a.TaxCode:null,p153:a&&a.TaxName?a.TaxName:null,p154:a&&a.TaxValue?a.TaxValue:null,p155:r?1:t.current,p156:t.pageSize,p157:l,p158:null,p159:null,p160:localStorage.getItem("UserGroupID"),p161:localStorage.getItem("userid")}};(0,m.Z)(o,s,Ae.token[0]).then((a=>{if(r)(0,$.a)(a,he,n,i,ve);else if("200"==a.Output.status.code)if(a.Output.data.length>0){if(a.Output.data){let e=0;a.Output.data.length>0?(e=parseFloat(a.Output.data[0].TotalCount,10)/10,h(a.Output.data[0].TotalCount),R(a.Output.data[0].DraftCnt),he({type:"count",payload:a.Output.data[0].TotalCount}),"DraftPage"==n&&R(a.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),le(a.Output.data),ve.loading(!1)}e.Dialogview||(document.getElementById("divCCMMaterialDetails-Entry").style.height="auto",document.getElementById("divCCMMaterialDetails-Entry").style.display="block")}else ve.loading(!1),"DraftCCMMaterialID"===l?(ve.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me(!0),Fe(!1)):(le([]),k({current:1,pageSize:10}),v(0),h(0),he({type:"count",payload:"0"}));else ve.alert({open:!0,color:"warning",message:[a.Output.status.message]}),ve.loading(!1)}))};function At(t,a){ve.loading(!0);const l=M.v.Api+"FP310S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:we?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(l,n,Ae.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,h(e.Output.data[0].TotalCount),he({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),le(e.Output.data),ve.loading(!1)}else le([]),v(0),h(0),he({type:"count",payload:"0"}),ve.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ve.loading(!1);else ve.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ve.loading(!1)}))}function ht(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),he({type:"language",payload:Object.assign({},...n)}),Qe(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),ge(t),Te(a),lt(l),rt(a)}const xt=()=>fe?null:n().createElement("div",null,ze?n().createElement(ie.Z,{data:He,expanded:e=>!T&&ve.Expanded(e),edit:(e,t,a)=>{T?ve.select(e):(he({type:"editData",payload:[e]}),he({type:"IsDraft",payload:t}),he({type:"ShowDetail",payload:a}))}}):n().createElement(re.Z,{ref:d,frmctrlid:"tblcs_310_L1_",id:"CCMMaterialDetailsTable",headerdata:De,tablesearchparams:_e,searchvalue:e=>{Qe(e),ue(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};It(t),k({current:1,pageSize:10}),vt({current:1,pageSize:10},t,we?"DraftCCMMaterialID":"CCMMaterialID",we&&"DraftPage")},bodydata:te,ondrag:ft,bodyitem:Ne,visibleitem:De,isdraft:we,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:C,accessrights:Ae.AccessRights,expanded:e=>!T&&ve.Expanded(e),edit:(e,t,a)=>{T?ve.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&vt(P,null,t?"DraftCCMMaterialID":"CCMMaterialID",t&&"DraftPage",e[l],a)})),ve.hideAddBtn(!0))},viewtoggle:ve.viewtoggle,isexpanded:!T||Be,tf:Tt,action:T?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ge(Ae.ExpandTableValue)}),[Ae.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld310L1ECSearchBar",className:"searchbar1"},n().createElement(I.Z,{frmctrlid:"fld310L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Nt("Search"),value:pe,onChange:e=>{Ce(e),ve.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},pe?n().createElement("div",{id:"fld310L1TCCloseIconCommonSearch",onClick:()=>{Ce(""),ve.searchItem("")}},n().createElement(s.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld310L1TCInputSearchIcon"},n().createElement(Q.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("CCMMaterialDetailsgridsearch").focus()}})))),n().createElement("div",{style:{width:"100%"}},Ae.AccessRights.IsAdd?n().createElement(X.Z,{className:"SaveBtnCommon flotright",frmctrlid:"fld310L1TCAddBtnIsAdd",onClick:()=>{ve.hideAddBtn(!0),he({type:"editData",payload:[]}),he({type:"ShowDetail",payload:!1}),he({type:"Add",payload:!0})}}):""),n().createElement(ae(),{id:310,cstate:Ae,cdispatch:he,context:ve,parentId:e.parentId,parentData:{},model:"IsTable",dialogClose:e.dialogClose,AccessRights:Ae.AccessRights,mr:te.length>0})),n().createElement(i.Z,{expanded:Ue,onChange:()=>()=>{Ze(Be)}},e.Dialogview&&n().createElement(z.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.84-12:33:37-6-9[310]"},`${Tt("310")} (${A})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld310L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(I.Z,{frmctrlid:"fld310L1TCInputSearch",className:"search_input",type:"text",placeholder:Nt("Search"),value:pe,onChange:e=>{bt(e)}}),n().createElement("div",{className:"search_icon"},pe?n().createElement("div",{id:"fld310L1TCInputCloseIcon",onClick:()=>{bt("")}},n().createElement(s.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld310L1TCInputSearchIcon"},n().createElement(Q.Z,{className:"InputSearchIcon"}))))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1 clsRelative",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"CCMMaterialDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!we&&n().createElement("div",{frmctrlid:"fld310L1TCFilterDataIsDraft",id:"CCMMaterialDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{St()}},n().createElement(u.ZP,{title:Nt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(g.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Nt("Filter Data"))),!T&&!we&&!fe&&n().createElement(K.Z,{formctrlidprint:"fld310L1TCExportPrint",formctrlidexport:"fld310L1TCExportTable",formctrlidrefresh:"fld310L1TCExportRefresh",title:Tt("310"),data:F,exportData:Dt,Items:nt,columnIndex:at,TableVisibleItem:De,userGridViewFormID:C,TableTotalCount:A,triggerApi:t=>{((t,l,n,r,i)=>{if(0===A)return ve.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;ve.loading(!0);let o=M.v.Api+"FP310S3/",s={data:{p1:t&&t.CCMMaterialIDPK?t.CCMMaterialIDPK:null,p2:t&&t.CCMMaterialCode?t.CCMMaterialCode:null,p3:t&&t.ReqQty?t.ReqQty:null,p4:t&&t.ReqUnitPrice?t.ReqUnitPrice:null,p5:t&&t.ReqMatAmt?t.ReqMatAmt:null,p6:t&&t.UsedQty?t.UsedQty:null,p7:t&&t.UsedMatAmt?t.UsedMatAmt:null,p8:t&&t.UsedTotAmt?t.UsedTotAmt:null,p9:t&&t.RequestedStat?t.RequestedStat:null,p10:t&&t.ApprovedStat?t.ApprovedStat:null,p11:t&&t.UsedStat?t.UsedStat:null,p12:null,p13:null,p14:t&&t.ApprovalKey?t.ApprovalKey:null,p15:t&&t.EstRquestQty?t.EstRquestQty:null,p16:t&&t.EstRequestRate?t.EstRequestRate:null,p17:t&&t.EstRequestTotAmt?t.EstRequestTotAmt:null,p18:t&&t.RCRAmt?t.RCRAmt:null,p19:null,p20:t&&t.EstReqToAmount?t.EstReqToAmount:null,p21:t&&t.MaterialName?t.MaterialName:null,p22:null,p23:null,p24:t&&t.CMSubTotal?t.CMSubTotal:null,p25:t&&t.CMMFVatAmount?t.CMMFVatAmount:null,p26:t&&t.CMGTVatAmount?t.CMGTVatAmount:null,p27:t&&t.CMGrandTotal?t.CMGrandTotal:null,p28:t&&t.CCMTaxValue?t.CCMTaxValue:null,p29:t&&t.CCMTotalAmount?t.CCMTotalAmount:null,p30:t&&t.CCMTaxAmount?t.CCMTaxAmount:null,p31:t&&t.CCMgrandTotal1?t.CCMgrandTotal1:null,p32:t&&t.CCMEstimateSubTotal?t.CCMEstimateSubTotal:null,p33:we?"1":"0",p34:null,p35:e.parentId?Number(e.parentId):0,p36:t&&t.MaterialID?t.MaterialID:null,p37:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p38:t&&t.TaxID?t.TaxID:null,p39:t&&t.TaxID1?t.TaxID1:null,p40:t&&t.IsActive,p41:null,p42:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p43:t&&t.CreatedTtm?t.CreatedTtm:null,p44:t&&t.CreatedTtmType?t.CreatedTtmType:null,p45:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p46:null,p47:t&&t.ContractID?t.ContractID:null,p48:t&&t.ContractCode?t.ContractCode:null,p49:t&&t.ContractName?t.ContractName:null,p50:t&&t.LocalityID?t.LocalityID:null,p51:t&&t.LocalityCode?t.LocalityCode:null,p52:t&&t.LocalityName?t.LocalityName:null,p53:t&&t.BuildingID?t.BuildingID:null,p54:t&&t.BuildingCode?t.BuildingCode:null,p55:t&&t.BuildingName?t.BuildingName:null,p56:t&&t.FloorID?t.FloorID:null,p57:t&&t.FloorCode?t.FloorCode:null,p58:t&&t.FloorName?t.FloorName:null,p59:t&&t.SpotID?t.SpotID:null,p60:t&&t.SpotCode?t.SpotCode:null,p61:t&&t.SpotName?t.SpotName:null,p62:t&&t.PriorityID?t.PriorityID:null,p63:t&&t.PriorityCode?t.PriorityCode:null,p64:t&&t.PriorityName?t.PriorityName:null,p65:t&&t.DivisionID?t.DivisionID:null,p66:t&&t.DivisionCode?t.DivisionCode:null,p67:t&&t.DivisionName?t.DivisionName:null,p68:t&&t.DisciplineID?t.DisciplineID:null,p69:t&&t.DisciplineCode?t.DisciplineCode:null,p70:t&&t.DisciplineName?t.DisciplineName:null,p71:t&&t.ComplainerID?t.ComplainerID:null,p72:t&&t.ComplainerCode?t.ComplainerCode:null,p73:t&&t.ComplainerName?t.ComplainerName:null,p74:t&&t.ComplaintNatureID?t.ComplaintNatureID:null,p75:t&&t.ComplaintNatureCode?t.ComplaintNatureCode:null,p76:t&&t.ComplaintNatureName?t.ComplaintNatureName:null,p77:t&&t.CCMComplaintModeID?t.CCMComplaintModeID:null,p78:t&&t.CCMComplaintModeCode?t.CCMComplaintModeCode:null,p79:t&&t.CCMComplaintModeName?t.CCMComplaintModeName:null,p80:t&&t.ServiceTypeID?t.ServiceTypeID:null,p81:t&&t.ServiceTypCode?t.ServiceTypCode:null,p82:t&&t.ServiceTypeName?t.ServiceTypeName:null,p83:t&&t.ComplaintHeaderID?t.ComplaintHeaderID:null,p84:t&&t.ComplaintHeaderCode?t.ComplaintHeaderCode:null,p85:t&&t.ComplaintHeaderName?t.ComplaintHeaderName:null,p86:t&&t.CCMComplaintModeIndexID?t.CCMComplaintModeIndexID:null,p87:t&&t.CCMComplaintModeIndexCode?t.CCMComplaintModeIndexCode:null,p88:t&&t.CCMComplaintModeIndexName?t.CCMComplaintModeIndexName:null,p89:t&&t.CCMWoTypeID?t.CCMWoTypeID:null,p90:t&&t.CCMWoTypeCode?t.CCMWoTypeCode:null,p91:t&&t.CCMWoTypeName?t.CCMWoTypeName:null,p92:t&&t.CCMComplaintTypeID?t.CCMComplaintTypeID:null,p93:t&&t.CCMComplaintTypeCode?t.CCMComplaintTypeCode:null,p94:t&&t.CCMComplaintTypeName?t.CCMComplaintTypeName:null,p95:t&&t.CCMStageID?t.CCMStageID:null,p96:t&&t.CCMStageICode?t.CCMStageICode:null,p97:t&&t.CCMStageIName?t.CCMStageIName:null,p98:t&&t.StageSeqNo?t.StageSeqNo:null,p99:t&&t.IncidentID?t.IncidentID:null,p100:t&&t.IncidentCode?t.IncidentCode:null,p101:t&&t.IncidentName?t.IncidentName:null,p102:t&&t.AssetID?t.AssetID:null,p103:t&&t.EquipmentName?t.EquipmentName:null,p104:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p105:t&&t.AssetBarcode?t.AssetBarcode:null,p106:t&&t.AssetTagNo?t.AssetTagNo:null,p107:t&&t.PPMCreationAssetID?t.PPMCreationAssetID:null,p108:t&&t.WorkOrder?t.WorkOrder:null,p109:t&&t.WoDateTime?t.WoDateTime:null,p110:t&&t.WoDateTimeType?t.WoDateTimeType:null,p111:t&&t.WoDateTimeBetween?t.WoDateTimeBetween:null,p112:t&&t.SubComponentID?t.SubComponentID:null,p113:t&&t.SubComponentName?t.SubComponentName:null,p114:t&&t.ComplaintNo?t.ComplaintNo:null,p115:t&&t.CMResonForPending?t.CMResonForPending:null,p116:t&&t.CCMMobNo?t.CCMMobNo:null,p117:t&&t.ClientWoNo?t.ClientWoNo:null,p118:t&&t.CCMDescription?t.CCMDescription:null,p119:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p120:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p121:t&&t.MaterialTypeID?t.MaterialTypeID:null,p122:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p123:t&&t.MaterialTypeName?t.MaterialTypeName:null,p124:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p125:t&&t.MatMainClassCode?t.MatMainClassCode:null,p126:t&&t.MatMainClassName?t.MatMainClassName:null,p127:t&&t.MatSubClassID?t.MatSubClassID:null,p128:t&&t.MatSubClassCode?t.MatSubClassCode:null,p129:t&&t.MatSubClassName?t.MatSubClassName:null,p130:t&&t.MaterialMakeID?t.MaterialMakeID:null,p131:t&&t.MatMakeCode?t.MatMakeCode:null,p132:t&&t.MatMakeName?t.MatMakeName:null,p133:t&&t.MaterialModelID?t.MaterialModelID:null,p134:t&&t.MatModelCode?t.MatModelCode:null,p135:t&&t.MatModelName?t.MatModelName:null,p136:t&&t.MATUOMID?t.MATUOMID:null,p137:t&&t.MATUOMCode?t.MATUOMCode:null,p138:t&&t.UOMName?t.UOMName:null,p139:t&&t.MatGradeID?t.MatGradeID:null,p140:t&&t.GradeName?t.GradeName:null,p141:t&&t.MatGradeCode?t.MatGradeCode:null,p142:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p143:t&&t.MaterialColorName?t.MaterialColorName:null,p144:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p145:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p146:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p147:t&&t.RawMaterialName?t.RawMaterialName:null,p148:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p149:t&&t.MaterialSizeName?t.MaterialSizeName:null,p150:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p151:t&&t.MaterialCode?t.MaterialCode:null,p152:t&&t.TaxCode?t.TaxCode:null,p153:t&&t.TaxName?t.TaxName:null,p154:t&&t.TaxValue?t.TaxValue:null,p155:P.current,p156:A,p157:we?"DraftCCMMaterialID":"CCMMaterialID",p158:null,p159:null,p160:localStorage.getItem("UserGroupID"),p161:localStorage.getItem("userid")}};ve.loading(!1),ve.alert({open:!0,color:"success",message:[`${Tt(310)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(o,s,Ae.token[0],i).then((e=>{(0,ee.PDF_Excel_Generate)(e,ve,nt,w,a,i)}))})(de,Z.column,0,0,t)},Refresh:()=>{Ce(""),k({current:1,pageSize:100}),d.current.clearItem(),Ae.IsDraft?vt({current:1,pageSize:100},xe,"DraftCCMMaterialID"):vt({current:1,pageSize:100},xe,"CCMMaterialID")},disabledPrint:!Ae.AccessRights.IsPrint,disabledExport:!Ae.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!we&&!fe&&!T&&n().createElement("div",{className:"buttoncard",onClick:()=>st(!mt)},n().createElement("span",null,mt?n().createElement(u.ZP,{disableFocusListener:!0,title:Nt("Less"),placement:"top"},n().createElement("span",{id:"fld310L1TCLess"},n().createElement(j.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(u.ZP,{disableFocusListener:!0,title:Nt("More"),placement:"top"},n().createElement("span",{id:"fld310L1TCMore"},n().createElement(j.ilJ,{className:"tableFilterColumnIcon"}))))),mt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},fe||!Be?null:T||!Ae.AccessRights.IsAdd||we?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld310L1TCFilterDataIsAdd",id:"CCMMaterialDetailscoldiv",className:"buttoncard",onClick:()=>{ve.EditClose(!0),ce?(document.getElementById("CCMMaterialDetailsFilterDiv").style.width="0%",document.getElementById("CCMMaterialDetailsTabDiv").style.width="100%",document.getElementById("CCMMaterialDetailsFilterDiv").style.display="none",document.getElementById("CCMMaterialDetailscoldiv").style.width="fit-content",document.getElementById("CCMMaterialDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!1)):(document.getElementById("CCMMaterialDetailsFilterDiv").style.width="25%",document.getElementById("CCMMaterialDetailsTabDiv").style.width="75%",document.getElementById("CCMMaterialDetailsFilterDiv").style.display="block",document.getElementById("CCMMaterialDetailsfildiv").style.width="fit-content",document.getElementById("CCMMaterialDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMMaterialDetailscoldiv").style.width="fit-content",document.getElementById("CCMMaterialDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!0)),se(!1)}},n().createElement(u.ZP,{title:Nt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(J.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Nt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!T&&Be&&!fe&&!we&&n().createElement("div",null,n().createElement("div",{id:"CCMMaterialDetailscoldiv",className:"buttoncard",onClick:()=>{ze?We(!1):(We(!0),Et({current:1,pageSize:100}))}},n().createElement(u.ZP,{title:Nt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld310L1TCTableScrollData"},n().createElement(oe.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Nt("Table Scroll Data")))))):""),!we&&!T&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||we?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ve?"buttonList":"buttonGrid",id:"fld310L1TCListView",onClick:()=>{Oe(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(j.umT,null)),n().createElement("span",null,Nt("List"))),n().createElement("div",{className:Ve||it?"buttonGrid":"buttonList",id:"fld310L1TCCardView",onClick:()=>{Oe(!1),ot(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(N.aCJ,null)),n().createElement("span",null,Nt("Card"))),n().createElement("div",{className:it?"buttonList":"buttonGrid",id:"fld310L1TCTileView",onClick:()=>{ot(!0),Oe(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(Y.f_H,null)),n().createElement("span",null,Nt("Tile"))))))),fe?null:ze?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(W.Z,{style:{color:"#777"},id:"fld310L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:E,onPageChange:(e,t)=>{f(t),Et({current:t+1,pageSize:et.pageSize}),tt({current:t+1,pageSize:et.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(G.Z,{count:Ye,color:"primary",page:et.current,onChange:(e,t)=>{tt({current:t,pageSize:et.pageSize}),$e(t),Et({current:t,pageSize:et.pageSize})}}),n().createElement("div",null,n().createElement(O.Z,{className:"BootstrapInputStyle",value:et.pageSize,frmctrlid:"fld310L1TCSelectPagination",onChange:e=>{tt({current:1,pageSize:e.target.value}),Et({current:1,pageSize:e.target.value})}},n().createElement(V.Z,{value:10},"10"),n().createElement(V.Z,{value:20},"20"),n().createElement(V.Z,{value:50},"50"),n().createElement(V.Z,{value:100},"100"))),Be&&n().createElement("p",{className:"per-page"},"/ ",Nt("RowperpageOf")," (",Je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(W.Z,{style:{color:"#777"},id:"fld310L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(A),page:E,onPageChange:(e,t)=>{f(t),vt({current:t+1,pageSize:P.pageSize},xe,we?"DraftCCMMaterialID":"CCMMaterialID",we&&"DraftPage"),k({current:t+1,pageSize:P.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(G.Z,{count:S,siblingCount:0,color:"primary",page:P.current,onChange:(e,t)=>{if(k({current:t,pageSize:P.pageSize}),we)vt({current:t,pageSize:P.pageSize},Re,"DraftCCMMaterialID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";pe.length>0?At(pe,{current:t,pageSize:P.pageSize}):vt({current:t,pageSize:P.pageSize},Re,"CCMMaterialID")}}}),n().createElement("div",null,n().createElement(O.Z,{className:"BootstrapInputStyle",value:P.pageSize,id:"fld310L1TCSelectPaging",onChange:e=>{k({current:1,pageSize:e.target.value}),we?vt({current:1,pageSize:e.target.value},Re,"DraftCCMMaterialID","DraftPage"):pe.length>0?At(pe,{current:1,pageSize:e.target.value}):vt({current:1,pageSize:e.target.value},Re,"CCMMaterialID")}},n().createElement(V.Z,{value:10},"10"),n().createElement(V.Z,{value:20},"20"),n().createElement(V.Z,{value:50},"50"),n().createElement(V.Z,{value:100},"100"))),Be&&n().createElement("p",{className:"per-page"},"/ ",Nt("RowperpageOf")," (",A,") "))),n().createElement("div",{id:"CCMMaterialDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"CCMMaterialDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},me&&n().createElement(L,{parentId:e.parentId,searchData:e=>{ue(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:C,data:()=>{},visibleData:()=>{},token:Ae.token[0],CloseBtnClk:()=>St(),userGrid:ct,msg:(e,t)=>ve.alert({open:!0,color:t,message:[e]})}),ce&&n().createElement(_.Z,{Refresh:e=>{vt({current:1,pageSize:100},xe,"CCMMaterialID")},frmctrlid:"fld310L1TCTableColumnOrder",loading:e=>ve.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>ve.alert({open:!0,color:t,message:[e]}),select:ce,userID:p,userGridViewFormID:C,saved:(e,t)=>{e&&ht(t),Mt(t),he({type:"showTableview",payload:t})},Token:Ae.token[0]})),n().createElement("div",{id:"CCMMaterialDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ve?n().createElement(xt,null):n().createElement(H.Z,{frmctrlid:"fld310L1TCExpandedCardDual",data:te,id:"CCMMaterialDetails",title:"MaterialName",cardTile:!!it,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{T?ve.select(e):("edit"==t?(he({type:"editData",payload:[e]}),he({type:"IsDraft",payload:we}),he({type:"ShowDetail",payload:!1}),ve.Expanded(!0)):(he({type:"editData",payload:[e]}),he({type:"IsDraft",payload:we}),he({type:"ShowDetail",payload:!0}),ve.Expanded(!0),ve.viewtoggle()),me?se(!0):ce?Me(!0):(Me(!1),Me(!1))),ve.hideAddBtn(!0)}}))),te.length>0&&n().createElement("div",{className:"rcontainerbox"},n().createElement("p",{className:"txtlabtabl"},"Estimation Total Amount :  ",n().createElement("span",{className:"clblack"},te[0].SumEstMatAmount)," "),n().createElement("p",{className:"txtlabtabl"},"Actual Total Amount :  ",n().createElement("span",{className:"clblack"},te[0].SumActMatAmount)," "))))))}));var se=a(37148),de=a(29800),ue=(a(10966),a(21392),a(26537)),pe=a(44528),Ce=(a(99090),a(1695)),ce=a(61924),Me=a.n(ce),ye=(a(40826),a(55490)),Ie=a(92371);const De={EnterKeyValues:{CCMMaterialDetails:["MatProcessTypeName","MaterialName","UsedRemarks","ReqQty","ReqUnitPrice","ReqMatAmt","UsedQty","UsedMatAmt","UsedTotAmt","TaxName","CMMFVatAmount","CMSubTotal","TaxName1","CMGTVatAmount","CMGrandTotal","CCMMaterialCode","RequestedStat","ApprovedStat","UsedStat","IsAvailable","ApprovalKey","EstRquestQty","EstRequestRate","EstRequestTotAmt","RCRAmt","IsEstimate","EstReqToAmount","MaterialName","IsActual","IsTools","ComplaintNo"]},Label:{CCMMaterialDetails:{MatProcessTypeID:["MatProcessTypeCode","MatProcessTypeName"],MaterialID:["MaterialCode","MaterialName"],UsedRemarks:["CCMMaterialCode","MaterialName"],ReqQty:["CCMMaterialCode","MaterialName"],ReqUnitPrice:["CCMMaterialCode","MaterialName"],ReqMatAmt:["CCMMaterialCode","MaterialName"],UsedQty:["CCMMaterialCode","MaterialName"],UsedMatAmt:["CCMMaterialCode","MaterialName"],UsedTotAmt:["CCMMaterialCode","MaterialName"],TaxID:["TaxCode","TaxName"],CMMFVatAmount:["CCMMaterialCode","MaterialName"],CMSubTotal:["CCMMaterialCode","MaterialName"],TaxID1:["TaxCode","TaxName"],CMGTVatAmount:["CCMMaterialCode","MaterialName"],CMGrandTotal:["CCMMaterialCode","MaterialName"],CCMMaterialCode:["CCMMaterialCode","MaterialName"],RequestedStat:["CCMMaterialCode","MaterialName"],ApprovedStat:["CCMMaterialCode","MaterialName"],UsedStat:["CCMMaterialCode","MaterialName"],IsAvailable:["CCMMaterialCode","MaterialName"],ApprovalKey:["CCMMaterialCode","MaterialName"],EstRquestQty:["CCMMaterialCode","MaterialName"],EstRequestRate:["CCMMaterialCode","MaterialName"],EstRequestTotAmt:["CCMMaterialCode","MaterialName"],RCRAmt:["CCMMaterialCode","MaterialName"],IsEstimate:["CCMMaterialCode","MaterialName"],EstReqToAmount:["CCMMaterialCode","MaterialName"],MaterialName:["CCMMaterialCode","MaterialName"],IsActual:["CCMMaterialCode","MaterialName"],IsTools:["CCMMaterialCode","MaterialName"],ComplaintID:["CCMMaterialCode","MaterialName"]}},LabelHeader:{CCMMaterialDetails:{MatProcessTypeID:["Requirement Type Code","Requirement Type Name"],MaterialID:["Material Code","Material Name"],UsedRemarks:["CCMMaterialCode","MaterialName"],ReqQty:["CCMMaterialCode","MaterialName"],ReqUnitPrice:["CCMMaterialCode","MaterialName"],ReqMatAmt:["CCMMaterialCode","MaterialName"],UsedQty:["CCMMaterialCode","MaterialName"],UsedMatAmt:["CCMMaterialCode","MaterialName"],UsedTotAmt:["CCMMaterialCode","MaterialName"],TaxID:["Tax Code","Tax Name"],CMMFVatAmount:["CCMMaterialCode","MaterialName"],CMSubTotal:["CCMMaterialCode","MaterialName"],TaxID1:["TaxCode","TaxName"],CMGTVatAmount:["CCMMaterialCode","MaterialName"],CMGrandTotal:["CCMMaterialCode","MaterialName"],CCMMaterialCode:["CCMMaterialCode","MaterialName"],RequestedStat:["CCMMaterialCode","MaterialName"],ApprovedStat:["CCMMaterialCode","MaterialName"],UsedStat:["CCMMaterialCode","MaterialName"],IsAvailable:["CCMMaterialCode","MaterialName"],ApprovalKey:["CCMMaterialCode","MaterialName"],EstRquestQty:["CCMMaterialCode","MaterialName"],EstRequestRate:["CCMMaterialCode","MaterialName"],EstRequestTotAmt:["CCMMaterialCode","MaterialName"],RCRAmt:["CCMMaterialCode","MaterialName"],IsEstimate:["CCMMaterialCode","MaterialName"],EstReqToAmount:["CCMMaterialCode","MaterialName"],MaterialName:["CCMMaterialCode","MaterialName"],IsActual:["CCMMaterialCode","MaterialName"],IsTools:["CCMMaterialCode","MaterialName"],ComplaintID:["CCMMaterialCode","MaterialName"]}},Property:{CCMMaterialDetails:{MatProcessTypeID:{id:"fld310_34563",clearID:"CCMMaterialDetailsMatProcessTypeNameClear",type:"select",labelID:"MatProcessTypeIDPK",labelname:"Requirement Type",fielddisplayname:"MatProcessTypeName",fieldOrder:"1",frmctrlid:"fld310_34563",frmctrlidname:"MatProcessTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},MaterialID:{id:"fld310_14578",clearID:"CCMMaterialDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",fieldOrder:"2",frmctrlid:"fld310_14578",frmctrlidname:"MaterialID",foreignFld:["U O M","Make Name"],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},UsedRemarks:{id:"fld310_14563",labelID:"UsedRemarks",maxLength:"50",labelname:"Remarks",frmctrlid:"fld310_14563",frmctrlidname:"UsedRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ReqQty:{id:"fld310_14554",labelID:"ReqQty",maxLength:"25",labelname:"Quantity",frmctrlid:"fld310_14554",frmctrlidname:"ReqQty",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ReqUnitPrice:{id:"fld310_14555",labelID:"ReqUnitPrice",maxLength:"25",labelname:"Unit Price",frmctrlid:"fld310_14555",frmctrlidname:"ReqUnitPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},ReqMatAmt:{id:"fld310_14556",labelID:"ReqMatAmt",maxLength:"25",labelname:"Amount",frmctrlid:"fld310_14556",frmctrlidname:"ReqMatAmt",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},UsedQty:{id:"fld310_14557",labelID:"UsedQty",maxLength:"25",labelname:"Quantity",frmctrlid:"fld310_14557",frmctrlidname:"UsedQty",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},UsedMatAmt:{id:"fld310_14558",labelID:"UsedMatAmt",maxLength:"",labelname:"unit Price",frmctrlid:"fld310_14558",frmctrlidname:"UsedMatAmt",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},UsedTotAmt:{id:"fld310_14559",labelID:"UsedTotAmt",maxLength:"",labelname:"Amount",frmctrlid:"fld310_14559",frmctrlidname:"UsedTotAmt",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},TaxID:{id:"fld310_39702",clearID:"CCMMaterialDetailsTaxNameClear",type:"select",labelID:"TaxIDPK",labelname:"Management Fee",fielddisplayname:"TaxName",fieldOrder:"1",frmctrlid:"fld310_39702",frmctrlidname:"TaxID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},CMMFVatAmount:{id:"fld310_39699",labelID:"CMMFVatAmount",maxLength:"",labelname:"Management Fee Amount",frmctrlid:"fld310_39699",frmctrlidname:"CMMFVatAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CMSubTotal:{id:"fld310_39698",labelID:"CMSubTotal",maxLength:"",labelname:"Total ",frmctrlid:"fld310_39698",frmctrlidname:"CMSubTotal",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},TaxID1:{id:"fld310_39703",clearID:"CCMMaterialDetailsTaxName1Clear",type:"select",labelID:"TaxID1PK",labelname:"GST",fielddisplayname:"TaxName1",fieldOrder:"1",frmctrlid:"fld310_39703",frmctrlidname:"TaxID1",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},CMGTVatAmount:{id:"fld310_39700",labelID:"CMGTVatAmount",maxLength:"",labelname:"GST Amount",frmctrlid:"fld310_39700",frmctrlidname:"CMGTVatAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CMGrandTotal:{id:"fld310_39701",labelID:"CMGrandTotal",maxLength:"",labelname:"Grand Total",frmctrlid:"fld310_39701",frmctrlidname:"CMGrandTotal",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMMaterialCode:{id:"fld310_14553",labelID:"CCMMaterialCode",maxLength:"50",labelname:"CCMMaterialCode",frmctrlid:"fld310_14553",frmctrlidname:"CCMMaterialCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RequestedStat:{id:"fld310_14560",labelID:"RequestedStat",maxLength:"",labelname:"RequestedStat",frmctrlid:"fld310_14560",frmctrlidname:"RequestedStat",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ApprovedStat:{id:"fld310_14561",labelID:"ApprovedStat",maxLength:"",labelname:"ApprovedStat",frmctrlid:"fld310_14561",frmctrlidname:"ApprovedStat",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},UsedStat:{id:"fld310_14562",labelID:"UsedStat",maxLength:"",labelname:"UsedStat",frmctrlid:"fld310_14562",frmctrlidname:"UsedStat",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsAvailable:{id:"fld310_14564",labelID:"IsAvailable",maxLength:"",labelname:"IsAvailable",frmctrlid:"fld310_14564",frmctrlidname:"IsAvailable",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ApprovalKey:{id:"fld310_14565",labelID:"ApprovalKey",maxLength:"",labelname:"ApprovalKey",frmctrlid:"fld310_14565",frmctrlidname:"ApprovalKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EstRquestQty:{id:"fld310_14566",labelID:"EstRquestQty",maxLength:"",labelname:"EstRquestQty",frmctrlid:"fld310_14566",frmctrlidname:"EstRquestQty",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EstRequestRate:{id:"fld310_14567",labelID:"EstRequestRate",maxLength:"",labelname:"EstRequestRate",frmctrlid:"fld310_14567",frmctrlidname:"EstRequestRate",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EstRequestTotAmt:{id:"fld310_14568",labelID:"EstRequestTotAmt",maxLength:"",labelname:"EstRequestTotAmt",frmctrlid:"fld310_14568",frmctrlidname:"EstRequestTotAmt",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RCRAmt:{id:"fld310_14569",labelID:"RCRAmt",maxLength:"",labelname:"RCRAmt",frmctrlid:"fld310_14569",frmctrlidname:"RCRAmt",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsEstimate:{id:"fld310_14570",labelID:"IsEstimate",maxLength:"",labelname:"IsEstimate",frmctrlid:"fld310_14570",frmctrlidname:"IsEstimate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EstReqToAmount:{id:"fld310_14571",labelID:"EstReqToAmount",maxLength:"",labelname:"EstReqToAmount",frmctrlid:"fld310_14571",frmctrlidname:"EstReqToAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialName:{id:"fld310_14572",labelID:"MaterialName",maxLength:"50",labelname:"MaterialName",frmctrlid:"fld310_14572",frmctrlidname:"MaterialName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsActual:{id:"fld310_14573",labelID:"IsActual",maxLength:"",labelname:"IsActual",frmctrlid:"fld310_14573",frmctrlidname:"IsActual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsTools:{id:"fld310_14574",labelID:"IsTools",maxLength:"",labelname:"IsTools",frmctrlid:"fld310_14574",frmctrlidname:"IsTools",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ComplaintID:{id:"fld310_14577",clearID:"CCMMaterialDetailsComplaintNoClear",type:"select",labelID:"ComplaintIDPK",labelname:"ComplaintID",fielddisplayname:"ComplaintNo",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{CCMMaterialDetails:{MatProcessTypeID:["MatProcessTypeCode","MatProcessTypeName","IsActive","CreatedTtm","UpdatedTtm"],MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],TaxID:["TaxCode","TaxName","TaxValue"],ComplaintID:["ComplaintNo","ContractName","BuildingName","LocalityName","ComplaintNatureName","DivisionName","PriorityName","IsActive","CreatedTtm","UpdatedTtm","ComplainedDateTime"]}}};var ge=a(6562),Ne=a(45155),Te=(a(49174),a(38773),a(19089),a(16233)),be=a.n(Te),Ee=a(82729),fe=a(75355),Se=a(11107),ve=a(91113),Ae=a.n(ve),he=a(25108);const xe={CCMMaterialIDPK:"",CCMMaterialCode:"",ReqQty:"",ReqUnitPrice:"",ReqMatAmt:"",UsedQty:"",UsedMatAmt:"",UsedTotAmt:"",RequestedStat:"",ApprovedStat:"",UsedStat:"",UsedRemarks:"",IsAvailable:!1,ApprovalKey:"",EstRquestQty:"",EstRequestRate:"",EstRequestTotAmt:"",RCRAmt:"",IsEstimate:!1,EstReqToAmount:"",MaterialName:"",IsActual:!1,IsTools:!1,CMSubTotal:"",CMMFVatAmount:"",CMGTVatAmount:"",CMGrandTotal:"",CCMTaxValue:"",CCMTotalAmount:"",CCMTaxAmount:"",CCMgrandTotal1:"",CCMEstimateSubTotal:"",IsDraft:!1,Remarks:"",ComplaintID:null,MaterialID:null,MatProcessTypeID:null,TaxID:null,TaxID1:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",PriorityID:null,PriorityCode:"",PriorityName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",ComplainerID:null,ComplainerCode:"",ComplainerName:"",ComplaintNatureID:null,ComplaintNatureCode:"",ComplaintNatureName:"",CCMComplaintModeID:null,CCMComplaintModeCode:"",CCMComplaintModeName:"",ServiceTypeID:null,ServiceTypCode:"",ServiceTypeName:"",ComplaintHeaderID:null,ComplaintHeaderCode:"",ComplaintHeaderName:"",CCMComplaintModeIndexID:null,CCMComplaintModeIndexCode:"",CCMComplaintModeIndexName:"",CCMWoTypeID:null,CCMWoTypeCode:"",CCMWoTypeName:"",CCMComplaintTypeID:null,CCMComplaintTypeCode:"",CCMComplaintTypeName:"",CCMStageID:null,CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",IncidentID:null,IncidentCode:"",IncidentName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",PPMCreationAssetID:null,WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",SubComponentID:null,SubComponentName:"",ComplaintNo:"",CMResonForPending:"",CCMMobNo:"",ClientWoNo:"",CCMDescription:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",TaxCode:"",TaxName:"",TaxValue:"",Type:"CCMMaterialID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Re=(0,l.forwardRef)(((e,t)=>{const a=(0,r.useSelector)((e=>e.form)),[s,d]=(0,l.useState)(!1),[u,p]=(0,l.useState)(!0),[y,I]=(0,l.useState)(!1),[g,N]=(0,l.useState)(!1),[T,E]=(0,l.useState)(""),[v,A]=(0,l.useState)(!1),[h,x]=(0,l.useState)([]),[R,P]=(0,l.useState)(null),[k,q]=(0,l.useReducer)(Ie.Z,xe),[w,F]=(0,l.useState)(!1),[Z,B]=(0,l.useState)([]),[L,K]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:Le),{cstate:V,cdispatch:O}=e.ContextApi?e.ContextApi:Ke(),[_,Q]=(0,l.useState)(0),[W,H]=(0,l.useState)(""),j=(0,l.useRef)(null),[Y,$]=be()("310"),[J,X]=(0,l.useState)(""),[ee,te]=(0,l.useState)(""),[ae,le]=(0,l.useState)(!0),[ne,re]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(!0),[me,de]=(0,l.useState)(!0),[ce,Te]=(0,l.useState)(!0),[ve,Re]=(0,l.useState)(!0),[Pe,ke]=(0,l.useState)(!0),[qe,we]=(0,l.useState)(!0),[Fe,Ue]=(0,l.useState)(!0),[Ze,Be]=(0,l.useState)(!0),[Ge,Ve]=(0,l.useState)(!0),{data:Oe,isLoading:_e,error:Qe,isParams:ze,setIsFetching:We,setParams:He}=Ae()(null),[je,Ye]=(0,l.useState)({}),[$e,Je]=(0,l.useState)(!1);let Xe=(0,D.Z)();const[et,tt]=(0,l.useState)({}),at=e=>Xe[e]?Xe[e]:e,lt=t=>V.language?.[t]?V.language[t]:e.createEasy?et?.[t]:t;(0,l.useEffect)((()=>{rt(),He({id:e.parentId,type:["ESTACTUALDATAENTER"],url:"FPC1S3/"}),We(!0)}),[]),(0,l.useEffect)((()=>{Oe&&Oe.map((e=>{200==e.Output.status.code&&e.Output.data.length>0&&Ye(e.Output.data[0])}))}),[Oe]),(0,l.useEffect)((()=>{rt()}),[e.parentId]),(0,l.useEffect)((()=>{V.editData.length>0?(nt(V.editData[0],""),I(!0)):V.Add&&(rt(),I(!0))}),[V.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),tt(Object.assign({},...t))}(Y)}),[Y]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{rt()},CreateEasyProps:(e=!0,t)=>{We(!0),t?(Mt(t),I(e)):(rt(),I(e))},AddOpen:e=>{rt(),I(!0)}})));const nt=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),N(t.IsDraft),q({type:"number",name:"MatProcessTypeID",number:t.MatProcessTypeID?Number(t.MatProcessTypeID):0}),q({type:"text",name:"MatProcessTypeName",value:t.MatProcessTypeName}),q({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),q({type:"text",name:"MaterialName",value:t.MaterialName}),q({type:"text",name:"UsedRemarks",value:t.UsedRemarks?t.UsedRemarks:""}),q({type:"number",name:"ReqQty",number:Number(t.ReqQty)}),q({type:"number",name:"ReqUnitPrice",number:Number(t.ReqUnitPrice)}),q({type:"number",name:"ReqMatAmt",number:Number(t.ReqMatAmt)}),q({type:"number",name:"UsedQty",number:Number(t.UsedQty)}),q({type:"number",name:"UsedMatAmt",number:Number(t.UsedMatAmt)}),q({type:"number",name:"UsedTotAmt",number:Number(t.UsedTotAmt)}),q({type:"number",name:"TaxID",number:t.TaxID?Number(t.TaxID):0}),q({type:"text",name:"TaxName",value:t.TaxName}),q({type:"number",name:"CMMFVatAmount",number:Number(t.CMMFVatAmount)}),q({type:"number",name:"CMSubTotal",number:Number(t.CMSubTotal)}),q({type:"number",name:"TaxID1",number:t.TaxID1?Number(t.TaxID1):0}),q({type:"text",name:"TaxName1",value:t.TaxName1}),q({type:"number",name:"CMGTVatAmount",number:Number(t.CMGTVatAmount)}),q({type:"number",name:"CMGrandTotal",number:Number(t.CMGrandTotal)}),"SetDefaultCCMMaterialID"==a?H(t.CCMMaterialIDPK):(Q(e.primid?Number(e.primid):t.CCMMaterialIDPK?t.CCMMaterialIDPK:0),O({type:"PrimaryId",payload:t.CCMMaterialIDPK})),q({type:"text",name:"CCMMaterialCode",value:t.CCMMaterialCode?t.CCMMaterialCode:""}),q({type:"boolean",name:"RequestedStat",boolean:!!t.RequestedStat&&t.RequestedStat}),q({type:"boolean",name:"ApprovedStat",boolean:!!t.ApprovedStat&&t.ApprovedStat}),q({type:"boolean",name:"UsedStat",boolean:!!t.UsedStat&&t.UsedStat}),q({type:"boolean",name:"IsAvailable",boolean:!!t.IsAvailable&&t.IsAvailable}),q({type:"number",name:"ApprovalKey",number:t.ApprovalKey}),q({type:"number",name:"EstRquestQty",number:Number(t.EstRquestQty)}),q({type:"number",name:"EstRequestRate",number:Number(t.EstRequestRate)}),q({type:"number",name:"EstRequestTotAmt",number:Number(t.EstRequestTotAmt)}),q({type:"number",name:"RCRAmt",number:Number(t.RCRAmt)}),q({type:"boolean",name:"IsEstimate",boolean:!!t.IsEstimate&&t.IsEstimate}),q({type:"number",name:"EstReqToAmount",number:Number(t.EstReqToAmount)}),q({type:"text",name:"MaterialName",value:t.MaterialName?t.MaterialName:""}),q({type:"boolean",name:"IsActual",boolean:!!t.IsActual&&t.IsActual}),q({type:"boolean",name:"IsTools",boolean:!!t.IsTools&&t.IsTools}),q({type:"number",name:"ComplaintID",number:t.ComplaintID?Number(t.ComplaintID):0}),q({type:"text",name:"ComplaintNo",value:t.ComplaintNo}),t.IsDraft?p(!0):p(!("1"!=t.IsActive&&!t.IsActive))},rt=()=>{x([]),Q(0),H(""),e.createEasy||G.resetImg(),q({type:"text",name:"MatProcessTypeID",value:null}),q({type:"text",name:"MatProcessTypeName",value:""}),document.getElementById("CCMMaterialDetailsMatProcessTypeNameClear")&&document.getElementById("CCMMaterialDetailsMatProcessTypeNameClear").click(),q({type:"text",name:"MaterialID",value:null}),q({type:"text",name:"MaterialName",value:""}),document.getElementById("CCMMaterialDetailsMaterialNameClear")&&document.getElementById("CCMMaterialDetailsMaterialNameClear").click(),q({type:"text",name:"UsedRemarks",value:""}),q({type:"number",name:"ReqQty",number:0}),q({type:"number",name:"ReqUnitPrice",number:0}),q({type:"number",name:"ReqMatAmt",number:0}),q({type:"number",name:"UsedQty",number:0}),q({type:"number",name:"UsedMatAmt",number:0}),q({type:"number",name:"UsedTotAmt",number:0}),q({type:"text",name:"TaxID",value:null}),q({type:"text",name:"TaxName",value:""}),document.getElementById("CCMMaterialDetailsTaxNameClear")&&document.getElementById("CCMMaterialDetailsTaxNameClear").click(),q({type:"number",name:"CMMFVatAmount",number:0}),q({type:"number",name:"CMSubTotal",number:0}),q({type:"text",name:"TaxID1",value:null}),q({type:"text",name:"TaxName1",value:""}),document.getElementById("CCMMaterialDetailsTaxName1Clear")&&document.getElementById("CCMMaterialDetailsTaxName1Clear").click(),q({type:"number",name:"CMGTVatAmount",number:0}),q({type:"number",name:"CMGrandTotal",number:0}),O({type:"PrimaryId",payload:""}),q({type:"text",name:"CCMMaterialCode",value:""}),q({type:"boolean",name:"RequestedStat",boolean:!1}),q({type:"boolean",name:"ApprovedStat",boolean:!1}),q({type:"boolean",name:"UsedStat",boolean:!1}),q({type:"boolean",name:"IsAvailable",boolean:!1}),q({type:"number",name:"ApprovalKey",number:0}),q({type:"number",name:"EstRquestQty",number:0}),q({type:"number",name:"EstRequestRate",number:0}),q({type:"number",name:"EstRequestTotAmt",number:0}),q({type:"number",name:"RCRAmt",number:0}),q({type:"boolean",name:"IsEstimate",boolean:!1}),q({type:"number",name:"EstReqToAmount",number:0}),q({type:"text",name:"MaterialName",value:""}),q({type:"boolean",name:"IsActual",boolean:!1}),q({type:"boolean",name:"IsTools",boolean:!1}),q({type:"text",name:"ComplaintID",value:null}),q({type:"text",name:"ComplaintNo",value:""}),document.getElementById("CCMMaterialDetailsComplaintNoClear")&&document.getElementById("CCMMaterialDetailsComplaintNoClear").click(),p(!0),E(""),le(!0),re(!0),oe(!0),de(!0),Te(!0),Re(!0),ke(!0),we(!0),Ue(!0),Be(!0),Ve(!0),X(""),te("")},it=t=>{G.loading(!0),G.ConfirmAlert(null);const a=M.v.Api+"FP310S2/",l={data:[{p1:"SetDefaultCCMMaterialID"==t?"NORECORDS"!=W&&W?W:0:_,p2:yt(k.CCMMaterialCode),p3:k.ReqQty?Number(k.ReqQty):0,p4:k.ReqUnitPrice?Number(k.ReqUnitPrice):0,p5:k.ReqMatAmt?Number(k.ReqMatAmt):0,p6:k.UsedQty?Number(k.UsedQty):0,p7:k.UsedMatAmt?Number(k.UsedMatAmt):0,p8:k.UsedTotAmt?Number(k.UsedTotAmt):0,p9:k.RequestedStat,p10:k.ApprovedStat,p11:k.UsedStat,p12:yt(k.UsedRemarks),p13:k.IsAvailable,p14:k.ApprovalKey?Number(k.ApprovalKey):0,p15:k.EstRquestQty?Number(k.EstRquestQty):0,p16:k.EstRequestRate?Number(k.EstRequestRate):0,p17:k.EstRequestTotAmt?Number(k.EstRequestTotAmt):0,p18:k.RCRAmt?Number(k.RCRAmt):0,p19:k.IsEstimate,p20:k.EstReqToAmount?Number(k.EstReqToAmount):0,p21:yt(k.MaterialName),p22:k.IsActual,p23:k.IsTools,p24:k.CMSubTotal?Number(k.CMSubTotal):0,p25:k.CMMFVatAmount?Number(k.CMMFVatAmount):0,p26:k.CMGTVatAmount?Number(k.CMGTVatAmount):0,p27:k.CMGrandTotal?Number(k.CMGrandTotal):0,p28:k.CCMTaxValue?Number(k.CCMTaxValue):0,p29:k.CCMTotalAmount?Number(k.CCMTotalAmount):0,p30:k.CCMTaxAmount?Number(k.CCMTaxAmount):0,p31:k.CCMgrandTotal1?Number(k.CCMgrandTotal1):0,p32:k.CCMEstimateSubTotal?Number(k.CCMEstimateSubTotal):0,p33:!1,p34:"SetDefaultCCMMaterialID"==t?"SetDefault":null,p35:e.parentId?Number(e.parentId):k.ComplaintID?k.ComplaintID:0,p36:k.MaterialID?k.MaterialID:0,p37:k.MatProcessTypeID?k.MatProcessTypeID:0,p38:k.TaxID?k.TaxID:0,p39:k.TaxID1?k.TaxID1:0,p40:u,p41:"SetDefaultCCMMaterialID"==t,p42:localStorage.getItem("userid"),p43:f()().format("YYYY-MM-DD hh:mm:ss"),p44:localStorage.getItem("userid"),p45:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((t=>{(0,m.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:r}),G.loading(!1)):(t=>{le(!0),re(!0),oe(!0),de(!0),Te(!0),Re(!0),ke(!0),we(!0),Ue(!0),Be(!0),Ve(!0),G.loading(!0),G.ConfirmAlert(null),O({type:"IsDraft",payload:!1});const a=M.v.Api+"FP310S1/",l={data:[{p1:_,p2:yt(k.CCMMaterialCode),p3:k.ReqQty?Number(k.ReqQty):0,p4:k.ReqUnitPrice?Number(k.ReqUnitPrice):0,p5:k.ReqMatAmt?Number(k.ReqMatAmt):0,p6:k.UsedQty?Number(k.UsedQty):0,p7:k.UsedMatAmt?Number(k.UsedMatAmt):0,p8:k.UsedTotAmt?Number(k.UsedTotAmt):0,p9:k.RequestedStat,p10:k.ApprovedStat,p11:k.UsedStat,p12:yt(k.UsedRemarks),p13:k.IsAvailable,p14:k.ApprovalKey?Number(k.ApprovalKey):0,p15:k.EstRquestQty?Number(k.EstRquestQty):0,p16:k.EstRequestRate?Number(k.EstRequestRate):0,p17:k.EstRequestTotAmt?Number(k.EstRequestTotAmt):0,p18:k.RCRAmt?Number(k.RCRAmt):0,p19:k.IsEstimate,p20:k.EstReqToAmount?Number(k.EstReqToAmount):0,p21:yt(k.MaterialName),p22:k.IsActual,p23:k.IsTools,p24:k.CMSubTotal?Number(k.CMSubTotal):0,p25:k.CMMFVatAmount?Number(k.CMMFVatAmount):0,p26:k.CMGTVatAmount?Number(k.CMGTVatAmount):0,p27:k.CMGrandTotal?Number(k.CMGrandTotal):0,p28:k.CCMTaxValue?Number(k.CCMTaxValue):0,p29:k.CCMTotalAmount?Number(k.CCMTotalAmount):0,p30:k.CCMTaxAmount?Number(k.CCMTaxAmount):0,p31:k.CCMgrandTotal1?Number(k.CCMgrandTotal1):0,p32:k.CCMEstimateSubTotal?Number(k.CCMEstimateSubTotal):0,p33:!1,p34:null,p35:e.parentId?Number(e.parentId):k.ComplaintID?k.ComplaintID:0,p36:k.MaterialID?k.MaterialID:0,p37:k.MatProcessTypeID?k.MatProcessTypeID:0,p38:k.TaxID?k.TaxID:0,p39:k.TaxID1?k.TaxID1:0,p40:u,p41:!1,p42:localStorage.getItem("userid"),p43:f()().format("YYYY-MM-DD hh:mm:ss"),p44:localStorage.getItem("userid"),p45:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((t=>{(0,S.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(G.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttCCMMaterialDetails"),G.loading(!1),O({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK),G.cardRefresh()),rt(),document.getElementById("overlayimgAttCCMMaterialDetails")&&(document.getElementById("overlayimgAttCCMMaterialDetails").style.width="0%",document.getElementById("overlayimgAttCCMMaterialDetails").style.display="none",document.getElementById("divCCMMaterialDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("CCMMaterialDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[a.message]}),G.loading(!1)),I(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function ot(e){return CreateEasy(e,V,O,G,j),!1}function mt(e,a){return AdvanceSearch(e,a,Le,Ke(),ut,t),!1}const st=(t,a,l,n,r,i)=>{const o=M.v.Api+"FP310S3/",s={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:1==k.IsAvailable,p14:a?"%"+a+"%":null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:1==k.IsEstimate,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:1==k.IsActual,p23:1==k.IsTools,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:null,p34:null,p35:e.parentId?Number(e.parentId):0,p36:"0"==k.MaterialID?null:k.MaterialID,p37:"0"==k.MatProcessTypeID?null:k.MatProcessTypeID,p38:"0"==k.TaxID?null:k.TaxID,p39:"0"==k.TaxID1?null:k.TaxID1,p40:e.Dialogview?"1":null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:"0"==k.ContractID?null:k.ContractID,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==k.LocalityID?null:k.LocalityID,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:"0"==k.BuildingID?null:k.BuildingID,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:"0"==k.FloorID?null:k.FloorID,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:"0"==k.SpotID?null:k.SpotID,p60:a?"%"+a+"%":null,p61:a?"%"+a+"%":null,p62:"0"==k.PriorityID?null:k.PriorityID,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:"0"==k.DivisionID?null:k.DivisionID,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:"0"==k.DisciplineID?null:k.DisciplineID,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:"0"==k.ComplainerID?null:k.ComplainerID,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:"0"==k.ComplaintNatureID?null:k.ComplaintNatureID,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:"0"==k.CCMComplaintModeID?null:k.CCMComplaintModeID,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:"0"==k.ServiceTypeID?null:k.ServiceTypeID,p81:a?"%"+a+"%":null,p82:a?"%"+a+"%":null,p83:"0"==k.ComplaintHeaderID?null:k.ComplaintHeaderID,p84:a?"%"+a+"%":null,p85:a?"%"+a+"%":null,p86:"0"==k.CCMComplaintModeIndexID?null:k.CCMComplaintModeIndexID,p87:a?"%"+a+"%":null,p88:a?"%"+a+"%":null,p89:"0"==k.CCMWoTypeID?null:k.CCMWoTypeID,p90:a?"%"+a+"%":null,p91:a?"%"+a+"%":null,p92:"0"==k.CCMComplaintTypeID?null:k.CCMComplaintTypeID,p93:a?"%"+a+"%":null,p94:a?"%"+a+"%":null,p95:"0"==k.CCMStageID?null:k.CCMStageID,p96:a?"%"+a+"%":null,p97:a?"%"+a+"%":null,p98:a?"%"+a+"%":null,p99:"0"==k.IncidentID?null:k.IncidentID,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:"0"==k.AssetID?null:k.AssetID,p103:a?"%"+a+"%":null,p104:a?"%"+a+"%":null,p105:a?"%"+a+"%":null,p106:a?"%"+a+"%":null,p107:"0"==k.PPMCreationAssetID?null:k.PPMCreationAssetID,p108:a?"%"+a+"%":null,p109:k.WoDateTime?k.WoDateTime:null,p110:null,p111:null,p112:"0"==k.SubComponentID?null:k.SubComponentID,p113:a?"%"+a+"%":null,p114:a?"%"+a+"%":null,p115:a?"%"+a+"%":null,p116:a?"%"+a+"%":null,p117:a?"%"+a+"%":null,p118:a?"%"+a+"%":null,p119:a?"%"+a+"%":null,p120:a?"%"+a+"%":null,p121:"0"==k.MaterialTypeID?null:k.MaterialTypeID,p122:a?"%"+a+"%":null,p123:a?"%"+a+"%":null,p124:"0"==k.MaterialMainClassID?null:k.MaterialMainClassID,p125:a?"%"+a+"%":null,p126:a?"%"+a+"%":null,p127:"0"==k.MatSubClassID?null:k.MatSubClassID,p128:a?"%"+a+"%":null,p129:a?"%"+a+"%":null,p130:"0"==k.MaterialMakeID?null:k.MaterialMakeID,p131:a?"%"+a+"%":null,p132:a?"%"+a+"%":null,p133:"0"==k.MaterialModelID?null:k.MaterialModelID,p134:a?"%"+a+"%":null,p135:a?"%"+a+"%":null,p136:"0"==k.MATUOMID?null:k.MATUOMID,p137:a?"%"+a+"%":null,p138:a?"%"+a+"%":null,p139:"0"==k.MatGradeID?null:k.MatGradeID,p140:a?"%"+a+"%":null,p141:a?"%"+a+"%":null,p142:"0"==k.MatMaterialColorID?null:k.MatMaterialColorID,p143:a?"%"+a+"%":null,p144:a?"%"+a+"%":null,p145:"0"==k.MadeRawMaterialID?null:k.MadeRawMaterialID,p146:a?"%"+a+"%":null,p147:a?"%"+a+"%":null,p148:"0"==k.MatMaterialSizeID?null:k.MatMaterialSizeID,p149:a?"%"+a+"%":null,p150:a?"%"+a+"%":null,p151:a?"%"+a+"%":null,p152:a?"%"+a+"%":null,p153:a?"%"+a+"%":null,p154:a?"%"+a+"%":null,p155:t,p156:10,p157:l,p158:null,p159:null,p160:localStorage.getItem("UserGroupID"),p161:localStorage.getItem("userid")}},d=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{});F(!0);const u={data:d};return(0,m.Z)(o,"ClearAll"==l?u:s,"SetDefaultCCMMaterialID"==l&&n?n:V.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return 1==n.length?n[0]:{};B(1==t?e>0?n:[]:Z.concat(n)),"SetDefaultCCMMaterialID"==l&&(e>0?nt(n[0],"SetDefaultCCMMaterialID"):H("NORECORDS")),F(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),F(!1)}))},dt=(t,l,n)=>{const r=M.v.Api+"FP310S3/",i={data:{p1:null,p2:"CCMMaterialCode"==n&&l?"%"+l+"%":null,p3:"ReqQty"==n&&l?"%"+l+"%":null,p4:"ReqUnitPrice"==n&&l?"%"+l+"%":null,p5:"ReqMatAmt"==n&&l?"%"+l+"%":null,p6:"UsedQty"==n&&l?"%"+l+"%":null,p7:"UsedMatAmt"==n&&l?"%"+l+"%":null,p8:"UsedTotAmt"==n&&l?"%"+l+"%":null,p9:"RequestedStat"==n&&l?"%"+l+"%":null,p10:"ApprovedStat"==n&&l?"%"+l+"%":null,p11:"UsedStat"==n&&l?"%"+l+"%":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:a.CCMComplaintsComplaintID?a.CCMComplaintsComplaintID:"0",p36:null,p37:null,p38:null,p39:null,p40:e.Dialogview?"1":null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:null,p129:null,p130:null,p131:null,p132:null,p133:null,p134:null,p135:null,p136:null,p137:null,p138:null,p139:null,p140:null,p141:null,p142:null,p143:null,p144:null,p145:null,p146:null,p147:null,p148:null,p149:null,p150:null,p151:null,p152:null,p153:null,p154:null,p155:t,p156:10,p157:"CCMMaterialID",p158:null,p159:null,p160:localStorage.getItem("UserGroupID"),p161:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};F(!0),(0,m.Z)(r,"ClearAll"==n?o:i,V.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("CCMMaterialCode"==n&&le(e>0),"RequestedStat"==n&&re(e>0),"ApprovedStat"==n&&oe(e>0),"UsedStat"==n&&de(e>0),"ApprovalKey"==n&&Te(e>0),"EstRquestQty"==n&&Re(e>0),"EstRequestRate"==n&&ke(e>0),"EstRequestTotAmt"==n&&we(e>0),"RCRAmt"==n&&Ue(e>0),"EstReqToAmount"==n&&Be(e>0),"MaterialName"==n&&Ve(e>0),B(l)):("CCMMaterialCode"==n&&le(!0),"RequestedStat"==n&&re(!0),"ApprovedStat"==n&&oe(!0),"UsedStat"==n&&de(!0),"ApprovalKey"==n&&Te(!0),"EstRquestQty"==n&&Re(!0),"EstRequestRate"==n&&ke(!0),"EstRequestTotAmt"==n&&we(!0),"RCRAmt"==n&&Ue(!0),"EstReqToAmount"==n&&Be(!0),"MaterialName"==n&&Ve(!0),B(Z.concat(l))),F(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),F(!1)}))},ut=(0,l.useCallback)((async(e,t,a)=>{if("text"==a)q({type:a,name:t,value:e});else if("number"==a){if(q({type:a,name:t,number:Number(e)}),"ReqQty"===t){let t=e*k.ReqUnitPrice;q({type:"number",name:"ReqMatAmt",number:Number(t)}),q({type:"number",name:"CMGrandTotal",number:Number(t)})}else if("ReqUnitPrice"===t){let t=e*k.ReqQty;q({type:"number",name:"ReqMatAmt",number:Number(t)}),q({type:"number",name:"CMGrandTotal",number:Number(t)})}else if("ReqMatAmt"===t){let t=Number(e*k.TaxValue/100);q({type:"number",name:"CMMFVatAmount",number:Number(t).toFixed(2)}),q({type:"number",name:"CMGrandTotal",number:Number(t).toFixed(2)});let a=Number(t)+Number(e);a>0&&(q({type:"number",name:"CMSubTotal",number:Number(a).toFixed(2)}),q({type:"number",name:"CMGrandTotal",number:Number(a).toFixed(2)}))}else if("CMSubTotal"===t){let t=Number(e*k.TaxValue/100);q({type:"number",name:"CMGTVatAmount",number:Number(t).toFixed(2)});let a=Number(t)+Number(e);q({type:"number",name:"CMGrandTotal",number:Number(a).toFixed(2)}),q({type:"number",name:"CMGrandTotal",number:Number(a).toFixed(2)})}else if("UsedQty"===t){let t=Number(e*k.UsedMatAmt),a=Number(k.RCRAmt)-e;he.log("first",a,k.RCRAmt,e),q({type:"number",name:"EstRquestQty",number:a}),q({type:"number",name:"UsedTotAmt",number:Number(t).toFixed(2)})}}else if("boolean"==a)q({type:a,name:t,boolean:e});else if("date"==a)q({type:"text",name:t,value:e});else if("select"==a)if("MatProcessTypeID"==t)q({type:"text",name:"MatProcessTypeID",value:e.MatProcessTypeIDPK?e.MatProcessTypeIDPK:null}),q({type:"text",name:"MatProcessTypeName",value:e.MatProcessTypeName?e.MatProcessTypeName:null});else if("MaterialID"==t)q({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),q({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}),q({type:"text",name:"ReqUnitPrice",value:e.CostPrice?e.CostPrice:null}),X(e.UOMName?e.UOMName:null),te(e.MatMakeName?e.MatMakeName:null);else if("TaxID"==t){q({type:"text",name:"TaxID",value:e.TaxIDPK?e.TaxIDPK:null}),q({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:null});let t=Number(e.TaxValue*k.ReqMatAmt/100);q({type:"number",name:"CMMFVatAmount",number:Number(t).toFixed(2)});let a=Number(t)+Number(k.ReqMatAmt);q({type:"number",name:"CMSubTotal",number:Number(a).toFixed(2)}),k.TaxID1?q({type:"number",name:"CMGrandTotal",number:Number(a+k.CMGTVatAmount).toFixed(2)}):q({type:"number",name:"CMGrandTotal",number:Number(a).toFixed(2)})}else if("TaxID1"==t){q({type:"text",name:"TaxID1",value:e.TaxIDPK?e.TaxIDPK:null}),q({type:"text",name:"TaxName1",value:e.TaxName?e.TaxName:null}),he.log("ReqMatAmt",k.ReqMatAmt),he.log("CMSubTotal",k.CMSubTotal);let t=0;t=k.CMSubTotal>0?k.CMSubTotal:k.ReqMatAmt,he.log("caltot",t);let a=Number(e.TaxValue*t/100);q({type:"number",name:"CMGTVatAmount",number:Number(a).toFixed(2)});let l=Number(a)+Number(t);q({type:"number",name:"CMGrandTotal",number:Number(l).toFixed(2)})}}),[k]);function pt(e){if("MatProcessTypeID"==e){if(q({type:"text",name:"MatProcessTypeID",value:""}),q({type:"text",name:"MatProcessTypeName",value:""}),!k.MatProcessTypeID)return!1}else if("MaterialID"==e){if(!k.MaterialID)return!1;q({type:"text",name:"MaterialID",value:null}),q({type:"text",name:"MaterialName",value:""}),q({type:"text",name:"ReqUnitPrice",value:""}),document.getElementById("CCMMaterialDetailsMaterialNameClear")&&document.getElementById("CCMMaterialDetailsMaterialNameClear").click(),X(""),te("")}else if("TaxID"==e){if(!k.TaxID)return!1;q({type:"text",name:"TaxID",value:null}),q({type:"text",name:"TaxName",value:""}),document.getElementById("CCMMaterialDetailsTaxNameClear")&&document.getElementById("CCMMaterialDetailsTaxNameClear").click(),q({type:"number",name:"CMGrandTotal",number:Number(k.CMGrandTotal-k.CMMFVatAmount).toFixed(2)}),q({type:"number",name:"CMMFVatAmount",number:""}),q({type:"number",name:"CMSubTotal",number:""})}else if("TaxID1"==e){if(!k.TaxID1)return!1;q({type:"text",name:"TaxID1",value:null}),q({type:"text",name:"TaxName1",value:""}),document.getElementById("CCMMaterialDetailsTaxName1Clear")&&document.getElementById("CCMMaterialDetailsTaxName1Clear").click(),q({type:"number",name:"CMGrandTotal",number:Number(k.CMGrandTotal-k.CMGTVatAmount).toFixed(2)}),q({type:"number",name:"CMGTVatAmount",number:""})}else if("ComplaintID"==e&&!k.ComplaintID)return!1}function Ct(e){if("MatProcessTypeID"==e){if(!k.MatProcessTypeID)return!1}else if("MaterialID"==e){if(!k.MaterialID)return!1;q({type:"text",name:"MaterialID",value:null}),X(""),te("")}else if("TaxID"==e){if(!k.TaxID)return!1;q({type:"text",name:"TaxID",value:null})}else if("TaxID1"==e){if(!k.TaxID1)return!1;q({type:"text",name:"TaxID1",value:null})}else if("ComplaintID"==e&&!k.ComplaintID)return!1}const ct=e=>{G.ConfirmAlert(n().createElement(Me(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Mt(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:at("Yes"),cancelBtnText:at("No"),showCancel:!0},at("Do you want to update this record?")))};function Mt(e){G.ConfirmAlert(null),N(e.IsDraft),Q(Number(e.CCMMaterialIDPK)?Number(e.CCMMaterialIDPK):0),q({type:"number",name:"MatProcessTypeID",number:e.MatProcessTypeID?Number(e.MatProcessTypeID):0}),q({type:"text",name:"MatProcessTypeName",value:e.MatProcessTypeName?e.MatProcessTypeName:""}),q({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),q({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),q({type:"text",name:"UsedRemarks",value:e.UsedRemarks?e.UsedRemarks:""}),q({type:"number",name:"ReqQty",number:e.ReqQty?Number(e.ReqQty):0}),q({type:"number",name:"ReqUnitPrice",number:e.ReqUnitPrice?Number(e.ReqUnitPrice):0}),q({type:"number",name:"ReqMatAmt",number:e.ReqMatAmt?Number(e.ReqMatAmt):0}),q({type:"number",name:"UsedQty",number:e.UsedQty?Number(e.UsedQty):0}),q({type:"number",name:"UsedMatAmt",number:e.UsedMatAmt?Number(e.UsedMatAmt):0}),q({type:"number",name:"UsedTotAmt",number:e.UsedTotAmt?Number(e.UsedTotAmt):0}),q({type:"number",name:"TaxID",number:e.TaxID?Number(e.TaxID):0}),q({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:""}),q({type:"number",name:"CMMFVatAmount",number:e.CMMFVatAmount?Number(e.CMMFVatAmount):0}),q({type:"number",name:"CMSubTotal",number:e.CMSubTotal?Number(e.CMSubTotal):0}),q({type:"number",name:"TaxID1",number:e.TaxID1?Number(e.TaxID1):0}),q({type:"text",name:"TaxName1",value:e.TaxName1?e.TaxName1:""}),q({type:"number",name:"CMGTVatAmount",number:e.CMGTVatAmount?Number(e.CMGTVatAmount):0}),q({type:"number",name:"CMGrandTotal",number:e.CMGrandTotal?Number(e.CMGrandTotal):0}),q({type:"text",name:"CCMMaterialCode",value:e.CCMMaterialCode?e.CCMMaterialCode:""}),q({type:"text",name:"RequestedStat",value:e.RequestedStat?e.RequestedStat:""}),q({type:"text",name:"ApprovedStat",value:e.ApprovedStat?e.ApprovedStat:""}),q({type:"text",name:"UsedStat",value:e.UsedStat?e.UsedStat:""}),q({type:"boolean",name:"IsAvailable",boolean:!!e.IsAvailable&&e.IsAvailable}),q({type:"text",name:"ApprovalKey",value:e.ApprovalKey?e.ApprovalKey:""}),q({type:"number",name:"EstRquestQty",number:e.EstRquestQty?Number(e.EstRquestQty):0}),q({type:"number",name:"EstRequestRate",number:e.EstRequestRate?Number(e.EstRequestRate):0}),q({type:"number",name:"EstRequestTotAmt",number:e.EstRequestTotAmt?Number(e.EstRequestTotAmt):0}),q({type:"number",name:"RCRAmt",number:e.RCRAmt?Number(e.RCRAmt):0}),q({type:"boolean",name:"IsEstimate",boolean:!!e.IsEstimate&&e.IsEstimate}),q({type:"number",name:"EstReqToAmount",number:e.EstReqToAmount?Number(e.EstReqToAmount):0}),q({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),q({type:"boolean",name:"IsActual",boolean:!!e.IsActual&&e.IsActual}),q({type:"boolean",name:"IsTools",boolean:!!e.IsTools&&e.IsTools}),q({type:"number",name:"ComplaintID",number:e.ComplaintID?Number(e.ComplaintID):0}),q({type:"text",name:"ComplaintNo",value:e.ComplaintNo?e.ComplaintNo:""})}const yt=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:y,onChange:e=>{}},n().createElement(z.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},y&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.84-12:33:37-6-9[310]"}," ",at("Add "),lt("310")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(ge.Z,{row:!0},n().createElement(U.Z,{labelPlacement:"bottom",id:"fld310L1ECEntryCheckbox",control:n().createElement(b.Z,{checked:"1"==u,onChange:e=>p(e.target.checked)}),label:at(1==u?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld310L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Ne.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,at("Attach")))),!_&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{rt()},id:"fld310L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Ne.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,at("Reset")))),V.AccessRights.IsAdd||V.AccessRights.IsEdit?n().createElement(Ce.Z,{frmctrlid:"fld310L1ECSaveBtnIsAdd",name:at(_?"Update":"Save"),disabled:!1,onClick:()=>{k.MatProcessTypeID&&0!=k.MatProcessTypeID?k.MaterialID&&0!=k.MaterialID?e.parentId&&0!=e.parentId?G.ConfirmAlert(n().createElement(Me(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:at("Are you sure?"),onConfirm:()=>it(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:at("Yes"),cancelBtnText:at("Cancel"),showCancel:!0},at(_?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[at("Please select the ")+" "+lt("ComplaintID")]}):G.alert({open:!0,color:"warning",message:[at("Please select the ")+" "+lt("MaterialID")]}):G.alert({open:!0,color:"warning",message:[at("Please select the ")+" "+lt("MatProcessTypeID")]})}}):null,!e.createEasy&&n().createElement(se.Z,{frmctrlid:"fld310L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{rt(),I(!1),G.EditClose(!0),G.hideAddBtn(!1),O({type:"Add",payload:!1})}}))))),n().createElement(o.Z,null,n().createElement("div",{id:"CCMMaterialDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"CCMMaterialDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"CCMMaterialDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(Ee.Z,null,n().createElement(Se.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(C.Z,null,n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Primary Details"))))),n().createElement(fe.Z,{style:{padding:"5px 20px 15px"}},n().createElement(C.Z,{spacing:2},n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(ye.Z,{json:De,id:k.MatProcessTypeID,"data-testid":k.MatProcessTypeID,value:k.MatProcessTypeName,SPName:"CCMMaterialDetails",FieldName:"MatProcessTypeID",tfLabel:lt("MatProcessTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ut(e,"MatProcessTypeID","select"),onChange:(e,t)=>{st(e,t,"MatProcessTypeIDPK")},KeyBack:e=>{Ct("MatProcessTypeID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{ot("844")},Tabledialog:()=>mt("844","MatProcessTypeID"),loading:w,clear:e=>{e&&pt("MatProcessTypeID")}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(ye.Z,{json:De,id:k.MaterialID,"data-testid":k.MaterialID,value:k.MaterialName,SPName:"CCMMaterialDetails",FieldName:"MaterialID",tfLabel:lt("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>ut(e,"MaterialID","select"),onChange:(e,t)=>{st(e,t,"MaterialIDPK")},KeyBack:e=>{Ct("MaterialID")},fieldorder:"2",data:Z,foreign:!V.PrimaryId,foreignName:J||ee?[J,ee]:["U O M","Make Name"],foreignClick:t=>e.openSlideView("MaterialID",k.MaterialID?k.MaterialID:t),totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{ot("1714")},Tabledialog:()=>mt("1714","MaterialID"),loading:w,clear:e=>{e&&pt("MaterialID")}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.UsedRemarks,SPName:"CCMMaterialDetails",FieldName:"UsedRemarks",tfLabel:lt("UsedRemarks"),frmctrlid:"fld310_14563",fieldorder:"3",onChange:e=>{ut(e,"UsedRemarks","text")},clear:e=>{e&&q({type:"text",name:"UsedRemarks",value:""})},value:k.UsedRemarks}))))),n().createElement(Ee.Z,null,n().createElement(Se.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(C.Z,null,n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Estimation Cost"))))),n().createElement(fe.Z,{style:{padding:"5px 20px 15px"}},n().createElement(C.Z,{spacing:2},n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.ReqQty,SPName:"CCMMaterialDetails",FieldName:"ReqQty",tfLabel:lt("ReqQty"),frmctrlid:"fld310_14554",fieldorder:"1",disabled:!je.Estimate,onChange:e=>{ut(e,"ReqQty","number")},clear:e=>{e&&q({type:"number",name:"ReqQty",number:0})},value:k.ReqQty})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.ReqUnitPrice,SPName:"CCMMaterialDetails",FieldName:"ReqUnitPrice",tfLabel:lt("ReqUnitPrice"),frmctrlid:"fld310_14555",fieldorder:"2",disabled:!je.Estimate,onChange:e=>{ut(e,"ReqUnitPrice","number")},clear:e=>{e&&q({type:"number",name:"ReqUnitPrice",number:0})},value:k.ReqUnitPrice})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.ReqMatAmt,SPName:"CCMMaterialDetails",FieldName:"ReqMatAmt",tfLabel:lt("ReqMatAmt"),frmctrlid:"fld310_14556",fieldorder:"3",onChange:e=>{ut(e,"ReqMatAmt","number")},clear:e=>{e&&q({type:"number",name:"ReqMatAmt",number:0})},Iscurr:!0,value:k.ReqMatAmt}))))),n().createElement(Ee.Z,null,n().createElement(Se.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(C.Z,null,n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Actual Cost"))))),n().createElement(fe.Z,{style:{padding:"5px 20px 15px"}},n().createElement(C.Z,{spacing:2},n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.UsedQty,SPName:"CCMMaterialDetails",FieldName:"UsedQty",tfLabel:lt("UsedQty"),frmctrlid:"fld310_14557",fieldorder:"1",onChange:e=>{ut(e,"UsedQty","number")},clear:e=>{e&&q({type:"number",name:"UsedQty",number:0})},value:k.UsedQty})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.UsedMatAmt,SPName:"CCMMaterialDetails",FieldName:"UsedMatAmt",tfLabel:lt("UsedMatAmt"),frmctrlid:"fld310_14558",fieldorder:"2",onChange:e=>{ut(e,"UsedMatAmt","number")},clear:e=>{e&&q({type:"number",name:"UsedMatAmt",number:0})},Iscurr:!0,value:k.UsedMatAmt})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.UsedTotAmt,SPName:"CCMMaterialDetails",FieldName:"UsedTotAmt",tfLabel:lt("UsedTotAmt"),frmctrlid:"fld310_14559",fieldorder:"3",onChange:e=>{ut(e,"UsedTotAmt","number")},clear:e=>{e&&q({type:"number",name:"UsedTotAmt",number:0})},Iscurr:!0,value:k.UsedTotAmt}))))),n().createElement(Ee.Z,null,n().createElement(Se.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(C.Z,null,n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Details"))))),n().createElement(fe.Z,{style:{padding:"5px 20px 15px"}},n().createElement(C.Z,{spacing:2},n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(ye.Z,{json:De,id:k.TaxID,"data-testid":k.TaxID,value:k.TaxName,SPName:"CCMMaterialDetails",FieldName:"TaxID",tfLabel:lt("TaxID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ut(e,"TaxID","select"),onChange:(e,t)=>{st(e,t,"TaxIDPK")},KeyBack:e=>{Ct("TaxID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{ot("19")},Tabledialog:()=>mt("19","TaxID"),loading:w,clear:e=>{e&&pt("TaxID")}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.CMMFVatAmount,SPName:"CCMMaterialDetails",FieldName:"CMMFVatAmount",tfLabel:lt("CMMFVatAmount"),frmctrlid:"fld310_39699",fieldorder:"2",onChange:e=>{ut(e,"CMMFVatAmount","number")},clear:e=>{e&&q({type:"number",name:"CMMFVatAmount",number:0})},Iscurr:!0,value:k.CMMFVatAmount})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.CMSubTotal,SPName:"CCMMaterialDetails",FieldName:"CMSubTotal",tfLabel:lt("CMSubTotal"),frmctrlid:"fld310_39698",fieldorder:"3",onChange:e=>{ut(e,"CMSubTotal","number")},clear:e=>{e&&q({type:"number",name:"CMSubTotal",number:0})},value:k.CMSubTotal})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(ye.Z,{json:De,id:k.TaxID1,"data-testid":k.TaxID1,value:k.TaxName1,SPName:"CCMMaterialDetails",FieldName:"TaxID1",tfLabel:lt("TaxID1"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ut(e,"TaxID1","select"),onChange:(e,t)=>{st(e,t,"TaxID1PK")},KeyBack:e=>{Ct("TaxID1")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{ot("19")},Tabledialog:()=>mt("19","TaxID1"),loading:w,clear:e=>{e&&pt("TaxID1")}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.CMGTVatAmount,SPName:"CCMMaterialDetails",FieldName:"CMGTVatAmount",tfLabel:lt("CMGTVatAmount"),frmctrlid:"fld310_39700",fieldorder:"2",onChange:e=>{ut(e,"CMGTVatAmount","number")},clear:e=>{e&&q({type:"number",name:"CMGTVatAmount",number:0})},Iscurr:!0,value:k.CMGTVatAmount})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement(pe.Z,{json:De,"data-testid":k.CMGrandTotal,SPName:"CCMMaterialDetails",FieldName:"CMGrandTotal",tfLabel:lt("CMGrandTotal"),frmctrlid:"fld310_39701",fieldorder:"3",onChange:e=>{ut(e,"CMGrandTotal","number")},clear:e=>{e&&q({type:"number",name:"CMGrandTotal",number:0})},value:k.CMGrandTotal}))))),n().createElement(Ee.Z,null,n().createElement(Se.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(C.Z,null,n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Invisible Fields"))))),n().createElement(fe.Z,{style:{padding:"5px 20px 15px"}},n().createElement(C.Z,{spacing:2},n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.CCMMaterialCode,json:De,SPName:"CCMMaterialDetails",FieldName:"CCMMaterialCode",tfLabel:lt("CCMMaterialCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{ae&&dt(1,"","ClearAll"),le(!0)},frmctrlid:"fld310_14553",frmctrlidName:"CCMMaterialCode",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ae&&dt(e,t,"CCMMaterialCode"),ut(t,"CCMMaterialCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.CCMMaterialCode,loading:w,clear:e=>{e&&(q({type:"text",name:"CCMMaterialCode",value:""}),le(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.RequestedStat,json:De,SPName:"CCMMaterialDetails",FieldName:"RequestedStat",tfLabel:lt("RequestedStat"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{ne&&dt(1,"","ClearAll"),re(!0)},frmctrlid:"fld310_14560",frmctrlidName:"RequestedStat",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ne&&dt(e,t,"RequestedStat"),ut(t,"RequestedStat","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:k.RequestedStat,loading:w,clear:e=>{e&&(q({type:"text",name:"RequestedStat",value:""}),re(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.ApprovedStat,json:De,SPName:"CCMMaterialDetails",FieldName:"ApprovedStat",tfLabel:lt("ApprovedStat"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{ie&&dt(1,"","ClearAll"),oe(!0)},frmctrlid:"fld310_14561",frmctrlidName:"ApprovedStat",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ie&&dt(e,t,"ApprovedStat"),ut(t,"ApprovedStat","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:k.ApprovedStat,loading:w,clear:e=>{e&&(q({type:"text",name:"ApprovedStat",value:""}),oe(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.UsedStat,json:De,SPName:"CCMMaterialDetails",FieldName:"UsedStat",tfLabel:lt("UsedStat"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{me&&dt(1,"","ClearAll"),de(!0)},frmctrlid:"fld310_14562",frmctrlidName:"UsedStat",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{me&&dt(e,t,"UsedStat"),ut(t,"UsedStat","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:k.UsedStat,loading:w,clear:e=>{e&&(q({type:"text",name:"UsedStat",value:""}),de(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(U.Z,{style:{color:"#337ab7"},"data-testid":k.IsAvailable,labelPlacement:"end",control:n().createElement(b.Z,{checked:"1"==k.IsAvailable,onChange:e=>{ut(e.target.checked,"IsAvailable","boolean")},frmctrlid:"fld310_14564",frmctrlidname:"IsAvailable",fieldorder:"3",tfLabel:lt("IsAvailable")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsAvailable?"#21446F":"#999"}},lt("IsAvailable"))}))),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.ApprovalKey,json:De,SPName:"CCMMaterialDetails",FieldName:"ApprovalKey",tfLabel:lt("ApprovalKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{ce&&dt(1,"","ClearAll"),Te(!0)},frmctrlid:"fld310_14565",frmctrlidName:"ApprovalKey",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ce&&dt(e,t,"ApprovalKey"),ut(t,"ApprovalKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Te(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.ApprovalKey,loading:w,clear:e=>{e&&(q({type:"text",name:"ApprovalKey",value:""}),Te(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.EstRquestQty,json:De,SPName:"CCMMaterialDetails",FieldName:"EstRquestQty",tfLabel:lt("EstRquestQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{ve&&dt(1,"","ClearAll"),Re(!0)},frmctrlid:"fld310_14566",frmctrlidName:"EstRquestQty",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ve&&dt(e,t,"EstRquestQty"),ut(t,"EstRquestQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Re(!0)},showList:ve,SideEntryView:!1,KeyBack:e=>{},value:k.EstRquestQty,loading:w,clear:e=>{e&&(q({type:"text",name:"EstRquestQty",value:""}),Re(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.EstRequestRate,json:De,SPName:"CCMMaterialDetails",FieldName:"EstRequestRate",tfLabel:lt("EstRequestRate"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{Pe&&dt(1,"","ClearAll"),ke(!0)},frmctrlid:"fld310_14567",frmctrlidName:"EstRequestRate",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{Pe&&dt(e,t,"EstRequestRate"),ut(t,"EstRequestRate","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ke(!0)},showList:Pe,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.EstRequestRate,loading:w,clear:e=>{e&&(q({type:"text",name:"EstRequestRate",value:""}),ke(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.EstRequestTotAmt,json:De,SPName:"CCMMaterialDetails",FieldName:"EstRequestTotAmt",tfLabel:lt("EstRequestTotAmt"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{qe&&dt(1,"","ClearAll"),we(!0)},frmctrlid:"fld310_14568",frmctrlidName:"EstRequestTotAmt",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{qe&&dt(e,t,"EstRequestTotAmt"),ut(t,"EstRequestTotAmt","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||we(!0)},showList:qe,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.EstRequestTotAmt,loading:w,clear:e=>{e&&(q({type:"text",name:"EstRequestTotAmt",value:""}),we(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.RCRAmt,json:De,SPName:"CCMMaterialDetails",FieldName:"RCRAmt",tfLabel:lt("RCRAmt"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{Fe&&dt(1,"","ClearAll"),Ue(!0)},frmctrlid:"fld310_14569",frmctrlidName:"RCRAmt",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{Fe&&dt(e,t,"RCRAmt"),ut(t,"RCRAmt","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ue(!0)},showList:Fe,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.RCRAmt,loading:w,clear:e=>{e&&(q({type:"text",name:"RCRAmt",value:""}),Ue(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(U.Z,{style:{color:"#337ab7"},"data-testid":k.IsEstimate,labelPlacement:"end",control:n().createElement(b.Z,{checked:"1"==k.IsEstimate,onChange:e=>{ut(e.target.checked,"IsEstimate","boolean")},frmctrlid:"fld310_14570",frmctrlidname:"IsEstimate",fieldorder:"3",tfLabel:lt("IsEstimate")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsEstimate?"#21446F":"#999"}},lt("IsEstimate"))}))),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.EstReqToAmount,json:De,SPName:"CCMMaterialDetails",FieldName:"EstReqToAmount",tfLabel:lt("EstReqToAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{Ze&&dt(1,"","ClearAll"),Be(!0)},frmctrlid:"fld310_14571",frmctrlidName:"EstReqToAmount",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{Ze&&dt(e,t,"EstReqToAmount"),ut(t,"EstReqToAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Be(!0)},showList:Ze,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.EstReqToAmount,loading:w,clear:e=>{e&&(q({type:"text",name:"EstReqToAmount",value:""}),Be(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{"data-testid":k.MaterialName,json:De,SPName:"CCMMaterialDetails",FieldName:"MaterialName",tfLabel:lt("MaterialName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ct(t),onClick:()=>{Ge&&dt(1,"","ClearAll"),Ve(!0)},frmctrlid:"fld310_14572",frmctrlidName:"MaterialName",fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{Ge&&dt(e,t,"MaterialName"),ut(t,"MaterialName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ve(!0)},showList:Ge,SideEntryView:!1,KeyBack:e=>{},value:k.MaterialName,loading:w,clear:e=>{e&&(q({type:"text",name:"MaterialName",value:""}),Ve(!0))}})),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(U.Z,{style:{color:"#337ab7"},"data-testid":k.IsActual,labelPlacement:"end",control:n().createElement(b.Z,{checked:"1"==k.IsActual,onChange:e=>{ut(e.target.checked,"IsActual","boolean")},frmctrlid:"fld310_14573",frmctrlidname:"IsActual",fieldorder:"3",tfLabel:lt("IsActual")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsActual?"#21446F":"#999"}},lt("IsActual"))}))),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(U.Z,{style:{color:"#337ab7"},"data-testid":k.IsTools,labelPlacement:"end",control:n().createElement(b.Z,{checked:"1"==k.IsTools,onChange:e=>{ut(e.target.checked,"IsTools","boolean")},frmctrlid:"fld310_14574",frmctrlidname:"IsTools",fieldorder:"3",tfLabel:lt("IsTools")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsTools?"#21446F":"#999"}},lt("IsTools"))}))),n().createElement(c.Z,{xs:4,md:4,lg:4,sm:4,style:{display:"none"}},n().createElement(ye.Z,{json:De,id:k.ComplaintID,"data-testid":k.ComplaintID,value:k.ComplaintNo,SPName:"CCMMaterialDetails",FieldName:"ComplaintID",tfLabel:lt("ComplaintID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ut(e,"ComplaintID","select"),onChange:(e,t)=>{st(e,t,"ComplaintIDPK")},KeyBack:e=>{Ct("ComplaintID")},fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{ot("1630")},Tabledialog:()=>mt("1630","ComplaintID"),loading:w,clear:e=>{e&&pt("ComplaintID")}})))))),n().createElement("div",{id:"CCMMaterialDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("CCMMaterialDetailsSideBar").style.width="0",void A(!1))},""),v&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},R))))))))}));a(77366),a(97829);var Pe=a(65197);const ke=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[s,d]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[u,p]=(0,l.useState)(!0),[C,c]=(0,l.useState)(e.showDetail),[y,I]=(0,l.useState)(""),[g,N]=n().useState(!1),[T,b]=n().useState(""),[E,f]=n().useState(!1),S=(0,l.useContext)(Le),{cstate:v,cdispatch:A}=Ke(),[h,x]=(0,l.useState)(!1),[R,P]=(0,l.useState)(""),[k,q]=(0,l.useState)(""),[w,F]=(0,l.useState)("");let U=(0,D.Z)();(0,l.useEffect)((()=>{v.editData.length>0&&(d(v.editData),N(!1),A({type:"PrimaryId",payload:v.editData[0].CCMMaterialIDPK}))}),[v.editData]),(0,l.useEffect)((()=>{v.showTableview&&F(v.showTableview)}),[v.showTableview]),(0,l.useEffect)((()=>{p(v.ExpandDetailValue)}),[v.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{p(e),N(null)},viewtoggle:()=>{N(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=M.v.Api+"FP310S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:e.Dialogview?"1":null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:null,p129:null,p130:null,p131:null,p132:null,p133:null,p134:null,p135:null,p136:null,p137:null,p138:null,p139:null,p140:null,p141:null,p142:null,p143:null,p144:null,p145:null,p146:null,p147:null,p148:null,p149:null,p150:null,p151:null,p152:null,p153:null,p154:null,p155:1,p156:10,p157:v.IsDraft?"DraftCCMMaterialID":"CCMMaterialID",p158:null,p159:null,p160:localStorage.getItem("UserGroupID"),p161:localStorage.getItem("userid")}};(0,ue.Z)(0).then((e=>{(0,m.Z)(l,n,e).then((e=>{S.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===g&&a.current.clear()}})));const Z=e=>U?.[e]?U?.[e]:e,B=e=>v.language?.[e]?v.language[e]:e;function L(e,t){}const K=(e,t)=>(a,l)=>{b(E?Object.assign(...s.filter((e=>e.CCMMaterialIDPK==t)).map((e=>e))):v.editData),N(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&p(!u)}},!g&&n().createElement(z.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},v.IsDraft?Z("Draft"):"",B("CCMMaterialDetails"),e.viewonly?" ":"("+v.count+")")):"",u?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&v.AccessRights.IsAdd?n().createElement(X.Z,{name:Z("Add"),frmctrlid:"fld310L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{S.hideAddBtn(!0),A({type:"editData",payload:[]}),A({type:"ShowDetail",payload:!1}),A({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&v.AccessRights.IsEdit?n().createElement(de.Z,{frmctrlid:"fld310L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):v.IsDraft&&v.AccessRights.IsAdd&&n().createElement(de.Z,{frmctrlid:"fld310L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&n().createElement(se.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld310L1VCCloseBtn",onClick:()=>{p(!1),S.hideAddBtn(!1),E&&(A({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(o.Z,{style:{display:"block"}},s.map(((t,l)=>n().createElement("div",{key:l},g==="panel"+l?n().createElement(Re,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Pe.Z,{tableName:"CCMMaterialDetails",tableID:310,parentID:t.CCMMaterialIDPK,fldid:"fld310L1VCContainer",OpenSlideComponent:L,index:l,refresh:w,val:t,tf:B,t:Z,title:"10.0.0.84-12:33:37-6-9[310]"}))))))))}));var qe=a(67698),we=a(55995),Fe=(a(45965),a(41722)),Ue=a(9175),Ze=a.n(Ue),Be=a(25108);const Le=(0,l.createContext)(),Ke=()=>{const e=(0,l.useContext)(Le);if(void 0===e)throw new Error("useCont must be used within  CCMMaterialDetailsContext Provider");return e},Ge=[],Ve=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),m=(0,l.useRef)(),s=(0,l.useRef)(),[d,u]=(0,l.useState)(!0),[p,C]=(0,l.useState)(),c=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[M,y]=(0,l.useState)(0),[I,D]=(0,l.useReducer)(Fe.D,Fe.E),[g,N]=(0,l.useState)(""),[T,b]=(0,l.useState)([]),[E,f]=(0,l.useState)(!1),{data:S,isLoading:v,error:A,isParams:h,setIsFetching:x,setParams:R}=Ae()(null),[P,k]=(0,l.useState)("");(0,l.useEffect)((()=>{Be.log("first material",e.AccessRights,e.dialogClose)}),[e.AccessRights]),(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divCCMMaterialDetails-Entry").style.width="100%",document.getElementById("CCMMaterialDetails-MainTable").style.width="100%",document.getElementById("CCMMaterialDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMMaterialDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{u(!0),document.getElementById("divCCMMaterialDetails-Entry").style.width="100%",document.getElementById("CCMMaterialDetails-MainTable").style.width="100%",document.getElementById("CCMMaterialDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMMaterialDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"editData",payload:[e.editData]}),D({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:e=>{i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const q=e=>{b([]),document.getElementById("divCCMMaterialDetails-Entry").style.width="100%",document.getElementById("CCMMaterialDetailsEntryTable").style.width="100%",document.getElementById("CCMMaterialDetails-MainEntry").style.width="100%",document.getElementById("CCMMaterialDetails-MainEntry").style.display="block",document.getElementById("CCMMaterialDetails-MainDiv").classList.add("displayFlex"),document.getElementById("CCMMaterialDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMMaterialDetails").style.width="0%",document.getElementById("overlayimgAttCCMMaterialDetails").style.display="none"};return(0,l.useEffect)((()=>{c((e=>{(0,ue.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length)}))}))}),[]),(0,l.useEffect)((()=>{D({type:"AccessRights",payload:e.NestedData?e.NestedData.CCMMaterialDetails[0]:e.AccessRights})}),[e.AccessRights]),(0,l.useEffect)((()=>{S&&S.map((t=>{200==t.Output.status.code&&t.Output.data.length>0&&Object.entries(t.Output.data[0]).map((([e,t])=>({[e]:t}))).map(((t,a)=>{let l=Object.keys(t);Be.log("first key",l),"Messgae"==l&&(k(t[l]),f(!0),e.loading(!1),Be.log("setMaterialReqID",t[l]))}))})),Be.log("first data",S)}),[S]),n().createElement("div",{style:{width:"100%"}},n().createElement(Le.Provider,{value:{cstate:I,cdispatch:D,ContextApi:Ke,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==M&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,T),b([])},EditClose:e=>q(),AttachExpand:e=>(m.current.AttachmentData(I.PrimaryId),void(d&&(document.getElementById("overlayPreviewCCMMaterialDetails").style.width="50%",document.getElementById("divCCMMaterialDetails-Entry").style.width="100%",document.getElementById("CCMMaterialDetails-MainTable").style.width="100%",document.getElementById("CCMMaterialDetails-MainEntry").style.width="100%",document.getElementById("CCMMaterialDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMMaterialDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttCCMMaterialDetails").style.display="block",document.getElementById("overlayimgAttCCMMaterialDetails").style.width="25%"))),Expanded:e=>{I.ShowDetail&&o.current.tableClick(e),D({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{I.ShowDetail&&o.current.viewtoggle()},clear:e=>{D({type:"ShowDetail",payload:!1}),D({type:"editData",payload:[]}),I.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{I.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),m.current.clrImgstate(!0)},cardRefresh:()=>e.cardRefresh(),closeDialog:()=>e.closeDialog(),Approval:t=>{Be.log("Approval"),R({id:e.parentId,type:["MaterialReqApprovalCheck"],url:"FPC1S3/"}),x(!0),e.loading(!0)}}},n().createElement("div",{id:"CCMMaterialDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"CCMMaterialDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"CCMMaterialDetailsEntryTable",style:{width:"100%"}},I.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divCCMMaterialDetails-Entry",style:{width:"100%"}},0!==M?n().createElement(ke,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(we.Z,{ref:s,menurefID:310,fileId:"LogoImgCCMMaterialDetails",imgloading:t=>{t||I.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:I.PrimaryId,AttachmentVal:e=>m.current.AttachmentData(e),previd:"overlayPreviewCCMMaterialDetails",frmctrlid:"PvwIm_310_L1_",tempImg:e=>{I.PrimaryId?m.current.AttachmentData(I.PrimaryId):m.current.tempImg(e),b(e)},clearTempData:I.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divCCMMaterialDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Re,{ref:i,clrImgstate:e=>m.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(we.Z,{ref:s,menurefID:310,fileId:"LogoImgCCMMaterialDetails",imgloading:t=>{t||I.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:I.PrimaryId,AttachmentVal:e=>m.current.AttachmentData(e),previd:"overlayPreviewCCMMaterialDetails",frmctrlid:"PvwIm_310_L1_",tempImg:e=>{I.PrimaryId?m.current.AttachmentData(I.PrimaryId):m.current.tempImg(e),b(e)},clearTempData:I.Add})),n().createElement("div",{id:"CCMMaterialDetails-MainTable"},0!==M?n().createElement(me,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview,dialogClose:e.dialogClose}):null)),n().createElement(qe.Z,{ImgAttachment:e=>q(),menurefID:310,fileId:"AttImgCCMMaterialDetails",imgid:"overlayimgAttCCMMaterialDetails",valueIDPK:I.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewCCMMaterialDetails",ref:m,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_310_L1_",timglist:e=>{s.current.timglist(e),b(e)},clearTempData:I.Add}))),n().createElement("div",{id:"CCMMaterialDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}})),E&&n().createElement(Ze(),{openDialog:E,closeDialog:t=>{f(t),e.closeDialog()},formID:355,PrimID:localStorage.getItem("MrReqID")?localStorage.getItem("MrReqID"):P,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&(e.cardRefresh(),e.closeDialog())},loading:t=>{e.loading(t)}})))}))}}]);