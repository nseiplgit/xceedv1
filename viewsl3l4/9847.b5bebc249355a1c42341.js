/*! For license information please see 9847.b5bebc249355a1c42341.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[9847,7164,6408],{45332:(e,t,l)=>{l.d(t,{Z:()=>p});var a=l(22122),s=l(81253),n=l(85061),i=l(92950),o=l(86010),r=l(79437),d=l(52543),c=l(83711),u=function(e,t){var l,a,s,i;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((l=e.classList).remove.apply(l,(0,n.Z)(t.imgFullWidth.split(" "))),(a=e.classList).add.apply(a,(0,n.Z)(t.imgFullHeight.split(" ")))):((s=e.classList).remove.apply(s,(0,n.Z)(t.imgFullHeight.split(" "))),(i=e.classList).add.apply(i,(0,n.Z)(t.imgFullWidth.split(" ")))))},m=i.forwardRef((function(e,t){var l=e.children,n=e.classes,d=e.className,m=(e.cols,e.component),p=void 0===m?"li":m,g=(e.rows,(0,s.Z)(e,["children","classes","className","cols","component","rows"])),D=i.useRef(null);return i.useEffect((function(){!function(e,t){e&&(e.complete?u(e,t):e.addEventListener("load",(function(){u(e,t)})))}(D.current,n)})),i.useEffect((function(){var e=(0,r.Z)((function(){u(D.current,n)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[n]),i.createElement(p,(0,a.Z)({className:(0,o.default)(n.root,d),ref:t},g),i.createElement("div",{className:n.tile},i.Children.map(l,(function(e){return i.isValidElement(e)?"img"===e.type||(0,c.Z)(e,["Image"])?i.cloneElement(e,{ref:D}):e:null}))))}));const p=(0,d.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(m)},69685:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(22122),s=l(81253),n=l(92950),i=(l(59864),l(86010)),o=l(52543),r=n.forwardRef((function(e,t){var l=e.cellHeight,o=e.children,r=e.classes,d=e.className,c=e.cols,u=void 0===c?2:c,m=e.component,p=void 0===m?"ul":m,g=e.gap,D=void 0===g?4:g,y=e.rowHeight,C=void 0===y?180:y,w=e.spacing,B=e.style,F=(0,s.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),f=w||D,I=l||C;return n.createElement(p,(0,a.Z)({className:(0,i.default)(r.root,d),ref:t,style:(0,a.Z)({margin:-f/2},B)},F),n.Children.map(o,(function(e){if(!n.isValidElement(e))return null;var t=e.props.cols||1,l=e.props.rows||1;return n.cloneElement(e,{style:(0,a.Z)({width:"".concat(100/u*t,"%"),height:"auto"===I?"auto":I*l+f,padding:f/2},e.props.style)})})))}));const d=(0,o.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(r)},83173:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=i},92448:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},93657:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=i},53375:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i},85984:(e,t,l)=>{var a=l(95318),s=l(20862);t.Z=void 0;var n=s(l(92950)),i=(0,a(l(2108)).default)(n.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=i},92381:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(40900),s=l(26537),n=l(61956),i=l(35131),o=l.n(i),r=l(25108);function d(e,t,l,i){if("select"==e){const e=a.v.Api+"FP1454S3/",l={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":s.Z.TokenIDPK,"x-tokenname":s.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(l)}).then((e=>{if(e.ok)return r.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=a.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:i,p4:JSON.stringify(l),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:o()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:o()().format("YYYY-MM-DD hh:mm:ss")}]};(0,s.Z)(0).then((t=>{(0,n.Z)(e,d,t).then((e=>{200==e[0].status.code?r.log(e,"RES"):r.log("Error")}))}))}}},8687:(e,t,l)=>{function a(e,t,l,a,s,n){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let i=e.Output.data[0];t({type:"IsDraft",payload:l}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:l}),s.ExpandDetail(!1),a?s.AddOpen(i[n],l):t({type:"editData",payload:[i]}),s.loading(!1)}}else s.loading(!1),s.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){s.loading(!1),s.alert({open:!0,color:"error",message:[e.message]})}}l.d(t,{m:()=>a})},24483:(e,t,l)=>{l.d(t,{Tr:()=>Re,kN:()=>ke,ZP:()=>Ze});var a=l(92950),s=l.n(a),n=(l(95866),l(45237)),i=l(36939),o=l(61201),r=l(59009),d=l(51673),c=(l(99058),l(80366)),u=l(282),m=l(868),p=l(78513),g=l(14439),D=l(27848),y=l(40900),C=l(64059),w=l(24038),B=l(8981),F=l(47516),f=l(86893),I=l(33681),E=l(63163),v=l(35131),S=l.n(v),h=l(61956),M=l(93657),N=l(53375),b=l(52663),T=l(66083),x=l(29525),P=l(66856),A=l(39803),R=l(99940),k=l(17149),Z=l(62810),L=l(30553),O=l(92381),z=l(25108);const K=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[n,i]=(0,a.useState)([]),[o,r]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[v,S]=(0,a.useState)(""),[h,K]=(0,a.useState)({}),[V,_]=(0,a.useState)(!0),[G,U]=(0,a.useState)(!1),{cstate:H,cdispatch:Y}=e.ContextApi?e.ContextApi:ke(),[q,j]=(0,a.useState)(1),[$,W]=(0,a.useState)(0),[J,Q]=(0,a.useState)(!1),[X,ee]=(0,a.useState)({}),[te,le]=(0,a.useState)([]),[ae,se]=(0,a.useState)(!0),[ne,ie]=(0,a.useState)(!1),[oe,re]=(0,a.useState)(""),[de,ce]=(0,a.useState)(!1),[ue,me]=(0,a.useState)(!1),[pe,ge]=(0,a.useState)(!1),[De,ye]=(0,a.useState)(""),Ce=(0,a.useRef)(null),[we,Be]=(0,a.useState)({});let Fe=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ie=(0,B.Z)();const Ee=e=>Ie[e]?Ie[e]:e,ve=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Fe]];function Se(){K({}),ee({}),e.searchData({}),U(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});Be(l),le(t)}),[]),(0,a.useEffect)((()=>()=>{Ce.current&&Ce.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const he=async(t,l,a,s)=>{Q(!0);try{Ce.current&&Ce.current.abort();const o=new AbortController;Ce.current=o;let c="",u=[],m={};await r((e=>(c=e.name,e))),await K((e=>(u=e,e))),await ee((e=>(m=e,e)));const p=y.v.Api+"FP279S3/",g={data:{p1:"CCMBusinessFlowDetailsIDPK"==l?null:await xe(),p2:"CCMBusinessFlowDetailsCode"==c&&a.length>0?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:e.parentId?e.parentId:"0",p8:"CCMStageIName"!=c&&u.CCMStageIName?u.CCMStageIName.map((e=>e.CCMStageIDPK)).toString():null,p9:null,p10:"p10"==c&&a.length>0?a:null,p11:null,p12:null,p13:null,p14:null,p15:"BDMBusinessFlowCode"==c&&a.length>0?"%"+a+"%":null,p16:"BriefDetails"==c&&a.length>0?"%"+a+"%":null,p17:"BusinessFlowName"==c&&a.length>0?"%"+a+"%":null,p18:"FlowCode"==c&&a.length>0?"%"+a+"%":null,p19:"FlowDisplayName"==c&&a.length>0?"%"+a+"%":null,p20:"FlowSeqNo"==c&&a.length>0?"%"+a+"%":null,p21:"CCMStageICode"==c&&a.length>0?"%"+a+"%":null,p22:"CCMStageIName"==c&&a.length>0?"%"+a+"%":null,p23:"StageSeqNo"==c&&a.length>0?"%"+a+"%":null,p24:s||1,p25:10,p26:t,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},D=await(0,d.Z)(p,g,e.token,"",o.signal);if(!D)return!1;const C=D.Output.status.code,w=D.Output.data;if("200"===C)if(w.length>0)if(1===s){let e=Ne(w,c),t=Me(e,h[c],l);i(t),W(t.length>0?t[0].TotalCount:h[c].length)}else{let e=[...n,...w],t=Ne(e,c);W(t.length<10?t.length:w[0].TotalCount),i(Ne(t,c))}else v.length>0&&i([]),W(n.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Me=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),Ne=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function be(e){let t=e+"PK",l=we[e];if(l){const e=l.flatMap((e=>h[e]?h[e].map((e=>e[t])):[]));return e.toString()}return""}const Te=async t=>{let l="",a={};await K((e=>(l=e,e)));let s=[...te],n=[];for(let e of s){let t=l[e]?.map((e=>e.CCMBusinessFlowDetailsIDPK)).toString();t&&n.push(t)}await ee((e=>(a=e,e)));let i={CCMBusinessFlowDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",CCMStageID:be("CCMStageID"),BDMBusinessFlowID:be("BDMBusinessFlowID")};"saveFav"==t?Re("save",i):(e.searchData(i),U(!1))};async function xe(){let e={};await K((t=>(e=t,t)));let t=[...te],l=[];for(let a of t){let t=e[a]?.map((e=>e.CCMBusinessFlowDetailsIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Pe(t,l,a,s,n,i){let o={[s]:{From:t,Type:a,To:l}},r={};ee((e=>({...e,...o})));const d={...h};let c=[...te],u=[];for(let e of c){let t=d[e]?.map((e=>e.CCMBusinessFlowDetailsIDPK)).toString();t&&u.push(t)}await ee((e=>(r=e,e)));let m={CCMBusinessFlowDetailsIDPK:u?[...new Set(u)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?n:null,CCMStageID:h.CCMStageIName?.map((e=>e.CCMStageIDPK)).toString(),BDMBusinessFlowID:h.BusinessFlowName?.map((e=>e.BDMBusinessFlowIDPK)).toString()};e.searchData(m)}function Ae(){return s().createElement(C.Z,{frmctrlid:"fld279L1TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,s)=>{Pe(e,t,l,o.name,a)},keyboardback:()=>{U(!1),r({idpk:"",name:"",type:"",fieldidpk:""})},title:Ee(o.name),fieldname:o.name,save:e=>{alert(!0)}})}const Re=(t,l)=>{(0,O.Z)(t,e.formID,l,oe).then((e=>{const t=e.Output.data;ye(t)}))};return s().createElement("div",null,s().createElement(b.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},s().createElement(T.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),s().createElement(x.Z,{dividers:!0,style:{minWidth:"500px"}},s().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},s().createElement(A.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>re(e.target.value),fullWidth:!0})),s().createElement(L.Z,{style:{color:"#337ab7"},control:s().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>me(e.target.checked)}),label:"Quick"}),s().createElement(L.Z,{style:{color:"#337ab7"},control:s().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),s().createElement(P.Z,null,s().createElement(u.Z,{onClick:()=>{Te("saveFav"),ce(!1)},color:"primary"},"Save"))),G?"Created Ttm"===o.name||o.name.includes("Date")?s().createElement(Ae,null):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},s().createElement(g.Z,null,s().createElement(D.Z,{xs:6,sm:6,md:6,lg:6},s().createElement("p",{className:"columnHeaderp"},ve(o.idpk)," (",n.length,"/",$,")")),s().createElement(D.Z,{xs:6,sm:6,md:6,lg:6},s().createElement(m.ZP,{title:Ee("Close"),placement:"top"},s().createElement("div",{className:"FilterItemClose",align:"right"},s().createElement(c.Z,{id:"fld279L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{U(!1),r({idpk:"",name:"",type:"",fieldidpk:!1}),j(1)}}))),h[o.name]&&s().createElement("div",{className:"FiltercloseAlign",align:"right"},s().createElement(u.Z,{frmctrlid:"fld279L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,z.log("clear fewItems",e),t))),e[o.name]=[],he(o.type,o.fieldidpk,"",1)})()}},s().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear All")))))))),s().createElement("div",{className:"FilterParentDiv"},s().createElement("div",{"data-list-scroll-container":"true"},s().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},s().createElement("div",{className:"FilterMaximize"},V?s().createElement(m.ZP,{title:"Maximize",placement:"right"},s().createElement("span",null,s().createElement(f.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):s().createElement(m.ZP,{title:"Minimize",placement:"right"},s().createElement("span",null,s().createElement(f.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),s().createElement("ul",null,h[o.name]&&h[o.name].map(((e,t)=>s().createElement("div",{key:t,tabIndex:"-1",className:V?"filterSelectedItems":"filterSelectedItemsMaximize"},s().createElement("div",{className:"filterSelectedItemNames"},s().createElement("span",null,e[o.name])),s().createElement("div",{className:"filterSelectedItemClose"},s().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{j(1);let l=h[o.name].filter((t=>t!=e)),a={};await K((e=>(a=e,e))),a[o.name]=l,K(a),i((t=>[e,...t]))})(e)},s().createElement(c.Z,{className:"filterSelectedItemCloseIcon"})))))))),s().createElement("div",{className:"displayFlex width100 FilterSearch"},s().createElement("div",{className:"FilterSearchInputDiv"},s().createElement(w.Z,{frmctrlid:"fld279L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:v,placeholder:Ee("Enter ")+" "+ve(o.idpk),onChange:e=>{S(e),he(o.type,o.fieldidpk,e,1,xe())}})),s().createElement("div",{id:"fld279L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Te},s().createElement(m.ZP,{title:"",placement:"top"},s().createElement(u.Z,{className:"ColumnSearchButton"},s().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&s().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},s().createElement(I.Z,{color:"secondary"})),s().createElement("div",{id:"fld279L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>s().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await K((e=>(a=e,e)));let s=a[o.name];t[o.name]=s?[...l,...s]:l,a={...a,...t},K(a),i((t=>t.filter((t=>t!=e))))})(e)}},s().createElement(p.Z,{className:"DotIcon"}),s().createElement("span",null,e[o.name])))),n.length+0<$&&n.length>0&&s().createElement("div",{id:"fld279L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{j(q+1),he(o.type,o.fieldidpk,"",q+1)}},s().createElement("p",null," more... ")),0===n.length&&s().createElement("div",null,s().createElement("div",{className:"NoDataImage"},s().createElement("img",{src:y.v.NoData,alt:"NoImage"})),s().createElement("div",{className:"NoDataDesc"},s().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnHeaderTitle"},s().createElement(F.Ol$,{className:"columnHeaderIcon"}),s().createElement("p",{className:"columnHeaderp"}," ",Ee("Filter")," ",oe.length>0&&`(${oe})`)),s().createElement("div",{className:"columnHeaderbtn",align:"right"},s().createElement(m.ZP,{title:"Favorite List",placement:"top"},ne?s().createElement(c.Z,{className:"favlisticon",onClick:()=>{ie(!1),ye(""),Se()}}):s().createElement(M.Z,{className:"favlisticon",onClick:()=>{ie(!0),Re("select"),Se()}})),Object.keys(h).length>0&&s().createElement(m.ZP,{title:"Save Favorites",placement:"top"},s().createElement(N.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),s().createElement(m.ZP,{title:"",placement:"top"},s().createElement(u.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld279L1TFCColumApplyBttn"},s().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear")))),s().createElement(m.ZP,{title:"",placement:"top"},s().createElement(u.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld279L1TFCColumnCloseButton"},s().createElement("span",{className:"ColumnCloseTitle"},Ee("Close")))))),s().createElement("div",{className:"height65"},s().createElement("div",{id:"fld279L1TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return s().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{U(!0),S(""),i([]),W(0);let t=e.IsForeign?e.FieldName+"PK":"CCMBusinessFlowDetailsIDPK";r({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterCCMBusinessFlowDetailsID",fieldidpk:t}),he(e.IsForeign?"Filter"+e.FieldName:"FilterCCMBusinessFlowDetailsID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?s().createElement(s().Fragment,null,ve(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&s().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?s().createElement(s().Fragment,null,s().createElement("span",null,ve(e.AdminUserGridViewIDPK)),s().createElement(E.Z,{checked:"1"==ae,onChange:t=>{se(t.target.checked),Pe("","",e.FieldName,"",t.target.checked)}})):s().createElement(s().Fragment,null,s().createElement("span",null,ve(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,h[l]?.length>0&&s().createElement("div",{className:"FilterItemDivSelected"},s().createElement("span",{className:"RoundedDivName"},h[l][0][l]),h[l].length>1&&s().createElement("span",{className:"RoundedDivName"},h[l][1][l]),h[l].length>2&&s().createElement("span",{className:"RoundedDivNumber"},"+"+(h[l].length-2))))));var l})),De&&De.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return s().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{he("FilterCCMBusinessFlowDetailsID",l),Te("")}},s().createElement(s().Fragment,null,e.TableFilterFavName))}))))))}));var V=l(54180),_=l(43031),G=l(85639),U=l(110),H=l(5109),Y=l(88995),q=l(50743),j=l(61657),$=l(51209),W=l(53854),J=l(51649),Q=l(37106),X=l(5434),ee=l(83817),te=l(39327),le=l(3212),ae=l(93521),se=(l(79117),l(71168)),ne=l.n(se),ie=l(65107),oe=l(94986),re=l(15999);l(11557),window.clickFilter="";const de=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),u=(0,a.useRef)(null),[p]=((0,a.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[g]=(0,a.useState)("279"),[D,C]=(0,a.useState)(!1),[I,E]=(0,a.useState)(!1),[v,S]=(0,a.useState)(0),[h,M]=(0,a.useState)(0),[N,b]=(0,a.useState)(0),[T,x]=(0,a.useState)(0),[P,A]=(0,a.useState)({current:1,pageSize:100}),[R,k]=(0,a.useState)(""),[Z,L]=(0,a.useState)([]),[O,z]=(0,a.useState)({val:"",column:""}),[se,de]=(0,a.useState)([]),[ce,ue]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(""),[ge,De]=(0,a.useState)(""),[ye,Ce]=(0,a.useState)(!1),[we,Be]=(0,a.useState)([]),[Fe,fe]=(0,a.useState)([]),[Ie,Ee]=(0,a.useState)([]),[ve,Se]=(0,a.useState)({children:[{name:"CCMBusinessFlowDetails",children:[]}]}),[he,Me]=(0,a.useState)(!1),Ne=(0,a.useContext)(e.context?e.context:Re),{cstate:be,cdispatch:Te}=e.ContextApi?e.ContextApi:ke();let xe={CCMBusinessFlowDetailsIDPK:"",CCMBusinessFlowDetailsCode:"",IsDefault:"",IsDraft:"",Remarks:"",IsActive:"",BDMBusinessFlowID:"",CCMStageID:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BDMBusinessFlowCode:"",BriefDetails:"",BusinessFlowName:"",FlowCode:"",FlowDisplayName:"",FlowSeqNo:"",CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Pe,Ae]=(0,a.useState)(xe),[Ze,Le]=(0,a.useState)(xe),[Oe,ze]=(0,a.useState)(!1),[Ke,Ve]=(0,a.useState)(!0),[_e,Ge]=(0,a.useState)(!1),[Ue,He]=(0,a.useState)(!0),[Ye,qe]=(0,a.useState)({CCMStageIName:"",CCMBusinessFlowDetailsCode:"",BusinessFlowName:""}),[je,$e]=(0,a.useState)(!1),[We,Je]=(0,a.useState)([]),[Qe,Xe]=(0,a.useState)(0),[et,tt]=(0,a.useState)(0),[lt,at]=(0,a.useState)({current:1,pageSize:10}),[st,nt]=(0,a.useState)([]),[it,ot]=(0,a.useState)([]),[rt,dt]=(0,a.useState)(!1),[ct,ut]=(0,a.useState)(!1),[mt,pt]=(0,a.useState)(!1),[gt,Dt]=(0,a.useState)(""),[yt,Ct]=ne()("279"),[wt,Bt]=(0,a.useState)({}),Ft=[{columns:st,data:R}];let ft=(0,B.Z)();const It=e=>ft[e]?ft[e]:e,Et=e=>be.language?.[e]?be.language[e]:e;(0,a.useEffect)((()=>{Tt(yt)}),[yt]),(0,a.useEffect)((()=>{be.token.length>0&&(e.parentId?Nt(P,xe,"CCMBusinessFlowDetailsID"):de([]))}),[e.parentId]),(0,a.useEffect)((()=>{!he&&e.parentId?Nt(P,me,"CCMBusinessFlowDetailsID"):he&&Le(me)}),[me]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{vt(e)},tableRefresh:()=>{Nt(P,xe,"CCMBusinessFlowDetailsID")},DialogTableProps:e=>{E(e)},HideEntryFields:e=>{pt(!0===e)}})));const vt=e=>{""==e?Nt(P,xe,Oe?"DraftCCMBusinessFlowDetailsID":"CCMBusinessFlowDetailsID",Oe&&"DraftPage"):bt(e,{current:1,pageSize:100}),De(e)};function St(t){Ne.loading(!0);let l=y.v.Api+"FP279S7/",a={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,a,be.token[0]).then((e=>{if(200==e.Output.status.code){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):l=0,10==t.pageSize?Xe(Math.ceil(l)):20==t.pageSize?Xe(Math.ceil(l/2)):50==t.pageSize?Xe(Math.ceil(l/5)):100==t.pageSize&&Xe(Math.ceil(l/10)),Je(e.Output.data),Ne.loading(!1)}}))}function ht(e,t){Te({type:"editData",payload:[t]}),Te({type:"IsDraft",payload:Oe}),Te({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),_e&&Ce(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&He(e.cardview),e.Dialogview&&(E(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:P.current,pageSize:P.pageSize})}),[e.searchsafaritext]);const Mt=()=>{Ne.EditClose(!0),ce?(document.getElementById("CCMBusinessFlowDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("CCMBusinessFlowDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("CCMBusinessFlowDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ue(!1),Ue?(I||(document.getElementById("CCMBusinessFlowDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMBusinessFlowDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("CCMBusinessFlowDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMBusinessFlowDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMBusinessFlowDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMBusinessFlowDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("CCMBusinessFlowDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("CCMBusinessFlowDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("CCMBusinessFlowDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ue(!0),document.getElementById("CCMBusinessFlowDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMBusinessFlowDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ce(!1),window.clickFilter=!ce},Nt=(t,l,a,s,n,i)=>{Ne.loading(!0),"DraftPage"!==s&&ze(be.IsDraft);let o=y.v.Api+"FP279S3/",r={data:{p1:n||(l&&l.CCMBusinessFlowDetailsIDPK?l.CCMBusinessFlowDetailsIDPK:null),p2:l&&l.CCMBusinessFlowDetailsCode?l.CCMBusinessFlowDetailsCode:null,p3:null,p4:"DraftCCMBusinessFlowDetailsID"==a?"1":"0",p5:null,p6:l&&l.IsActive,p7:e.parentId?Number(e.parentId):0,p8:l&&l.CCMStageID?l.CCMStageID:null,p9:null,p10:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p11:l&&l.CreatedTtm?l.CreatedTtm:null,p12:l&&l.CreatedTtmType?l.CreatedTtmType:null,p13:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p14:null,p15:l&&l.BDMBusinessFlowCode?l.BDMBusinessFlowCode:null,p16:l&&l.BriefDetails?l.BriefDetails:null,p17:l&&l.BusinessFlowName?l.BusinessFlowName:null,p18:l&&l.FlowCode?l.FlowCode:null,p19:l&&l.FlowDisplayName?l.FlowDisplayName:null,p20:l&&l.FlowSeqNo?l.FlowSeqNo:null,p21:l&&l.CCMStageICode?l.CCMStageICode:null,p22:l&&l.CCMStageIName?l.CCMStageIName:null,p23:l&&l.StageSeqNo?l.StageSeqNo:null,p24:n?1:t.current,p25:t.pageSize,p26:a,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,d.Z)(o,r,be.token[0]).then((o=>{if(n)(0,ee.a)(o,Te,s,i,Ne);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,b(o.Output.data[0].TotalCount),x(o.Output.data[0].DraftCnt),Te({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==s&&x(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?M(Math.ceil(e)):20==t.pageSize?M(Math.ceil(e/2)):50==t.pageSize?M(Math.ceil(e/5)):100==t.pageSize&&M(Math.ceil(e/10)),de(o.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divCCMBusinessFlowDetails-Entry").style.height="auto",document.getElementById("divCCMBusinessFlowDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftCCMBusinessFlowDetailsID"===a?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),ze(!1)):(de([]),A({current:1,pageSize:10}),M(0),b(0),Te({type:"count",payload:"0"}),Object.values(l).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ne.loading(!1)}))};function bt(t,l){Ne.loading(!0);const a=y.v.Api+"FP279S4/",s={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Oe?"1":"0",p4:l.current,p5:l.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,s,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),Te({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==l.pageSize?M(Math.ceil(t)):20==l.pageSize?M(Math.ceil(t/2)):50==l.pageSize?M(Math.ceil(t/5)):100==l.pageSize&&M(Math.ceil(t/10)),de(e.Output.data),Ne.loading(!1)}else de([]),M(0),b(0),Te({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function Tt(e){let t=[],l=[],a=[],s=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");s.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Te({type:"language",payload:Object.assign({},...s)}),qe(l.reduce(((e,t)=>(e[t]="",e)),{})),Be(e),fe(t),Ee(l),nt(a),ot(l)}const xt=()=>he?null:s().createElement("div",null,je?s().createElement(oe.Z,{data:We,expanded:e=>!I&&Ne.Expanded(e),edit:(e,t,l)=>{I?Ne.select(e):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:t}),Te({type:"ShowDetail",payload:l}))}}):s().createElement(ie.Z,{ref:u,frmctrlid:"tblcs_279_L1_",id:"CCMBusinessFlowDetailsTable",headerdata:Fe,tablesearchparams:Ye,searchvalue:e=>{qe(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Bt(t),A({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,Oe?"DraftCCMBusinessFlowDetailsID":"CCMBusinessFlowDetailsID",Oe&&"DraftPage")},bodydata:se,ondrag:ht,bodyitem:Ie,visibleitem:Fe,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:g,showMore:!1,accessrights:be.AccessRights,expanded:e=>!I&&Ne.Expanded(e),edit:(e,t,l)=>{I?Ne.select(e):(Object.keys(e).map(((a,s)=>{a.includes("IDPK")&&Nt(P,null,t?"DraftCCMBusinessFlowDetailsID":"CCMBusinessFlowDetailsID",t&&"DraftPage",e[a],l)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!I||_e,tf:Et,action:I?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{Ge(be.ExpandTableValue)}),[be.ExpandTableValue]),s().createElement("div",null,!mt&&!e.tableview&&s().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},s().createElement("div",{id:"fld279L1ECSearchBar",className:"searchbar1"},s().createElement(w.Z,{frmctrlid:"fld279L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:It("Search"),value:ge,onChange:e=>{De(e),Ne.searchItem(e)},style:{width:"300px"}}),s().createElement("div",{className:"search_icon"},ge?s().createElement("div",{id:"fld279L1TCCloseIconCommonSearch",onClick:()=>{De(""),Ne.searchItem("")}},s().createElement(c.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld279L1TCInputSearchIcon"},s().createElement(Y.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("CCMBusinessFlowDetailsgridsearch").focus()}})))),s().createElement("div",null,be.AccessRights.IsAdd?s().createElement(le.Z,{className:"SaveBtnCommon",frmctrlid:"fld279L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),Te({type:"editData",payload:[]}),Te({type:"ShowDetail",payload:!1}),Te({type:"Add",payload:!0})}}):"")),s().createElement(i.Z,{expanded:Ke,onChange:()=>()=>{Ve(_e)}},e.Dialogview&&s().createElement(q.Z,null,s().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},s().createElement("div",{className:"displayFlex EntryHeader"},s().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[279]"},`${Et("279")} (${N})`)),!1===e.cardview?null:s().createElement("div",{className:"displayFlex EntryHeaderBtn"},s().createElement("div",{id:"fld279L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},s().createElement(w.Z,{frmctrlid:"fld279L1TCInputSearch",className:"search_input",type:"text",placeholder:It("Search"),value:ge,onChange:e=>{vt(e)}}),s().createElement("div",{className:"search_icon"},ge?s().createElement("div",{id:"fld279L1TCInputCloseIcon",onClick:()=>{vt("")}},s().createElement(c.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld279L1TCInputSearchIcon"},s().createElement(Y.Z,{className:"InputSearchIcon"}))))))),s().createElement(o.Z,{className:"AccDetails"},s().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&s().createElement("div",{id:"CCMBusinessFlowDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:s().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&s().createElement("div",{frmctrlid:"fld279L1TCFilterDataIsDraft",id:"CCMBusinessFlowDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Mt()}},s().createElement(m.ZP,{title:It("Filter Data"),placement:"top"},s().createElement("span",null,s().createElement(F.Ol$,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},It("Filter Data"))),!I&&!Oe&&!he&&s().createElement(V.Z,{formctrlidprint:"fld279L1TCExportPrint",formctrlidexport:"fld279L1TCExportTable",formctrlidrefresh:"fld279L1TCExportRefresh",title:Et("279"),data:Z,exportData:Ft,Items:it,columnIndex:st,TableVisibleItem:Fe,userGridViewFormID:g,TableTotalCount:N,triggerApi:t=>{((t,a,s,n,i)=>{if(0===N)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let o=y.v.Api+"FP279S3/",r={data:{p1:t&&t.CCMBusinessFlowDetailsIDPK?t.CCMBusinessFlowDetailsIDPK:null,p2:t&&t.CCMBusinessFlowDetailsCode?t.CCMBusinessFlowDetailsCode:null,p3:null,p4:Oe?"1":"0",p5:null,p6:t&&t.IsActive,p7:e.parentId?Number(e.parentId):0,p8:t&&t.CCMStageID?t.CCMStageID:null,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.BDMBusinessFlowCode?t.BDMBusinessFlowCode:null,p16:t&&t.BriefDetails?t.BriefDetails:null,p17:t&&t.BusinessFlowName?t.BusinessFlowName:null,p18:t&&t.FlowCode?t.FlowCode:null,p19:t&&t.FlowDisplayName?t.FlowDisplayName:null,p20:t&&t.FlowSeqNo?t.FlowSeqNo:null,p21:t&&t.CCMStageICode?t.CCMStageICode:null,p22:t&&t.CCMStageIName?t.CCMStageIName:null,p23:t&&t.StageSeqNo?t.StageSeqNo:null,p24:P.current,p25:N,p26:Oe?"DraftCCMBusinessFlowDetailsID":"CCMBusinessFlowDetailsID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${Et(279)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(o,r,be.token[0],i).then((e=>{(0,ae.PDF_Excel_Generate)(e,Ne,it,k,l,i)}))})(me,O.column,0,0,t)},Refresh:()=>{De(""),A({current:1,pageSize:100}),u.current.clearItem(),be.IsDraft?Nt({current:1,pageSize:100},xe,"DraftCCMBusinessFlowDetailsID"):Nt({current:1,pageSize:100},xe,"CCMBusinessFlowDetailsID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:l,iconinfo:"displayNone"}),!Oe&&!he&&!I&&s().createElement("div",{className:"buttoncard",onClick:()=>ut(!ct)},s().createElement("span",null,ct?s().createElement(m.ZP,{disableFocusListener:!0,title:It("Less"),placement:"top"},s().createElement("span",{id:"fld279L1TCLess"},s().createElement(W.ldB,{className:"tableFilterColumnIcon"}))):s().createElement(m.ZP,{disableFocusListener:!0,title:It("More"),placement:"top"},s().createElement("span",{id:"fld279L1TCMore"},s().createElement(W.ilJ,{className:"tableFilterColumnIcon"}))))),ct?s().createElement("div",{className:"EntryHeaderMore"},s().createElement("div",{style:{display:"flex"}},he||!_e?null:I||!be.AccessRights.IsAdd||Oe?"":s().createElement("div",null,s().createElement("div",{frmctrlid:"fld279L1TCFilterDataIsAdd",id:"CCMBusinessFlowDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),ye?(document.getElementById("CCMBusinessFlowDetailsFilterDiv").style.width="0%",document.getElementById("CCMBusinessFlowDetailsTabDiv").style.width="100%",document.getElementById("CCMBusinessFlowDetailsFilterDiv").style.display="none",document.getElementById("CCMBusinessFlowDetailscoldiv").style.width="fit-content",document.getElementById("CCMBusinessFlowDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("CCMBusinessFlowDetailsFilterDiv").style.width="25%",document.getElementById("CCMBusinessFlowDetailsTabDiv").style.width="75%",document.getElementById("CCMBusinessFlowDetailsFilterDiv").style.display="block",document.getElementById("CCMBusinessFlowDetailsfildiv").style.width="fit-content",document.getElementById("CCMBusinessFlowDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMBusinessFlowDetailscoldiv").style.width="fit-content",document.getElementById("CCMBusinessFlowDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),ue(!1)}},s().createElement(m.ZP,{title:It("Manage Columns"),placement:"top"},s().createElement("div",null,s().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},It("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!I&&_e&&!he&&!Oe&&s().createElement("div",null,s().createElement("div",{id:"CCMBusinessFlowDetailscoldiv",className:"buttoncard",onClick:()=>{je?$e(!1):($e(!0),St({current:1,pageSize:100}))}},s().createElement(m.ZP,{title:It("TableScrollData"),placement:"top"},s().createElement("div",{id:"fld279L1TCTableScrollData"},s().createElement(re.Z,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"displayNone"},It("Table Scroll Data")))),!he&&Oe?s().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Nt({current:1,pageSize:100},xe,"CCMBusinessFlowDetailsID"),ze(!1),De(""),Te({type:"IsDraft",payload:!1}),A({current:1,pageSize:10})}},s().createElement(m.ZP,{title:It("List"),placement:"top"},s().createElement("div",{id:"fld279L1TCList"},s().createElement(J.u1R,{className:"backButtonList"}))),s().createElement("p",{className:"DraftP"},It("Drafts")," ",N)):!I&&!he&&be.AccessRights.IsAdd&&s().createElement("div",null,s().createElement(r.Z,{color:"secondary",className:"badge",max:999,badgeContent:T,showZero:!0},s().createElement("div",{id:"fld279L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{T>0?(A({current:1,pageSize:100}),S(0),Ne.clear(),De(""),Te({type:"Add",payload:!1}),Nt({current:1,pageSize:10},xe,"DraftCCMBusinessFlowDetailsID"),ze(!0),Te({type:"IsDraft",payload:!0}),Ce(!1),He(!0),document.getElementById("CCMBusinessFlowDetailsFilterDiv").style.width="0%",document.getElementById("CCMBusinessFlowDetailsTabDiv").style.width="100%",document.getElementById("CCMBusinessFlowDetailsFilterDiv").style.display="none",A({current:1,pageSize:100}),Me(!1)):Ne.alert({open:!0,color:"warning",message:[It("There is no Record Found")]})}},s().createElement(m.ZP,{title:It("Drafts"),placement:"top"},s().createElement("div",null,s().createElement(Q.rNm,{className:"DraftIcon"}))),s().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},It("Drafts"))))))):""),!Oe&&!I&&s().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},he||Oe?null:s().createElement("div",null,s().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},s().createElement("div",{className:"b2",id:"button-11"},s().createElement("div",{className:Ue?"buttonList":"buttonGrid",id:"fld279L1TCListView",onClick:()=>{He(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(W.umT,null)),s().createElement("span",null,It("List"))),s().createElement("div",{className:Ue||rt?"buttonGrid":"buttonList",id:"fld279L1TCCardView",onClick:()=>{He(!1),dt(!1)}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(f.aCJ,null)),s().createElement("span",null,It("Card"))),s().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld279L1TCTileView",onClick:()=>{dt(!0),He(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(X.f_H,null)),s().createElement("span",null,It("Tile"))))))),he?null:je?e.IsCollapse?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(j.Z,{style:{color:"#777"},id:"fld279L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:v,onPageChange:(e,t)=>{S(t),St({current:t+1,pageSize:lt.pageSize}),at({current:t+1,pageSize:lt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(_.Z,{count:Qe,color:"primary",page:lt.current,onChange:(e,t)=>{at({current:t,pageSize:lt.pageSize}),Xe(t),St({current:t,pageSize:lt.pageSize})}}),s().createElement("div",null,s().createElement(U.Z,{className:"BootstrapInputStyle",value:lt.pageSize,frmctrlid:"fld279L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),St({current:1,pageSize:e.target.value})}},s().createElement(G.Z,{value:10},"10"),s().createElement(G.Z,{value:20},"20"),s().createElement(G.Z,{value:50},"50"),s().createElement(G.Z,{value:100},"100"))),_e&&s().createElement("p",{className:"per-page"},"/ ",It("RowperpageOf")," (",et,")")):e.IsCollapse?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(j.Z,{style:{color:"#777"},id:"fld279L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(N),page:v,onPageChange:(e,t)=>{S(t),Nt({current:t+1,pageSize:P.pageSize},xe,Oe?"DraftCCMBusinessFlowDetailsID":"CCMBusinessFlowDetailsID",Oe&&"DraftPage"),A({current:t+1,pageSize:P.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(_.Z,{count:h,siblingCount:0,color:"primary",page:P.current,onChange:(e,t)=>{if(A({current:t,pageSize:P.pageSize}),Oe)Nt({current:t,pageSize:P.pageSize},Pe,"DraftCCMBusinessFlowDetailsID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";ge.length>0?bt(ge,{current:t,pageSize:P.pageSize}):Nt({current:t,pageSize:P.pageSize},Pe,"CCMBusinessFlowDetailsID")}}}),s().createElement("div",null,s().createElement(U.Z,{className:"BootstrapInputStyle",value:P.pageSize,id:"fld279L1TCSelectPaging",onChange:e=>{A({current:1,pageSize:e.target.value}),Oe?Nt({current:1,pageSize:e.target.value},Pe,"DraftCCMBusinessFlowDetailsID","DraftPage"):ge.length>0?bt(ge,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},Pe,"CCMBusinessFlowDetailsID")}},s().createElement(G.Z,{value:10},"10"),s().createElement(G.Z,{value:20},"20"),s().createElement(G.Z,{value:50},"50"),s().createElement(G.Z,{value:100},"100"))),_e&&s().createElement("p",{className:"per-page"},"/ ",It("RowperpageOf")," (",N,") "))),s().createElement("div",{id:"CCMBusinessFlowDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},s().createElement("div",{id:"CCMBusinessFlowDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&s().createElement(K,{parentId:e.parentId,searchData:e=>{pe(e||wt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:g,data:()=>{},visibleData:()=>{},token:be.token[0],CloseBtnClk:()=>Mt(),userGrid:yt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ye&&s().createElement(H.Z,{Refresh:e=>{Nt({current:1,pageSize:100},xe,"CCMBusinessFlowDetailsID")},frmctrlid:"fld279L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:ye,userID:p,userGridViewFormID:g,saved:(e,t)=>{e&&Tt(t),Ct(t),Te({type:"showTableview",payload:t})},Token:be.token[0]})),s().createElement("div",{id:"CCMBusinessFlowDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ue?s().createElement(xt,null):s().createElement($.Z,{frmctrlid:"fld279L1TCExpandedCardDual",data:se,id:"CCMBusinessFlowDetails",title:"CCMBusinessFlowDetailsCode",cardTile:!!rt,visibleitem:Fe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{I?Ne.select(e):("edit"==t?(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Oe}),Te({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Oe}),Te({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),ce?ue(!0):ye?Ce(!0):(Ce(!1),Ce(!1))),Ne.hideAddBtn(!0)}})))))))}));var ce=l(37148),ue=l(29800),me=(l(10966),l(21392),l(26537)),pe=(l(44528),l(99090)),ge=l(1695),De=l(61924),ye=l.n(De),Ce=(l(40826),l(55490)),we=l(92371);const Be={EnterKeyValues:{CCMBusinessFlowDetails:["CCMStageIName","CCMBusinessFlowDetailsCode","BusinessFlowName"]},Label:{CCMBusinessFlowDetails:{CCMStageID:["StageSeqNo","CCMStageIName"],CCMBusinessFlowDetailsCode:["CCMBusinessFlowDetailsCode"],BDMBusinessFlowID:["CCMBusinessFlowDetailsCode"]}},LabelHeader:{CCMBusinessFlowDetails:{CCMStageID:["Stage Seq No","CCM Stage Name"],CCMBusinessFlowDetailsCode:["CCM Business Flow Details Code"],BDMBusinessFlowID:["CCMBusinessFlowDetailsCode"]}},Property:{CCMBusinessFlowDetails:{CCMStageID:{id:"fld279_5305",clearID:"CCMBusinessFlowDetailsCCMStageINameClear",type:"select",labelID:"CCMStageIDPK",labelname:"Flow Name",fielddisplayname:"CCMStageIName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},CCMBusinessFlowDetailsCode:{id:"fld279_5303",labelID:"CCMBusinessFlowDetailsCode",maxLength:"50",labelname:"CCM Business Flow Details Code",frmctrlid:"fld279_5303",frmctrlidname:"CCMBusinessFlowDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BDMBusinessFlowID:{id:"fld279_5304",clearID:"CCMBusinessFlowDetailsBusinessFlowNameClear",type:"select",labelID:"BDMBusinessFlowIDPK",labelname:"BusinessFlowID",fielddisplayname:"BusinessFlowName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{CCMBusinessFlowDetails:{CCMStageID:["IsActive","StageSeqNo","IsDraft","CreatedTtm","CCMStageIName"],BDMBusinessFlowID:["BusinessFlowName","FlowCode","BriefDetails","TableKey","FlowSeqNo"]}}};var Fe=l(6562),fe=l(45155),Ie=l(79352),Ee=(l(49174),l(38773),l(19089),l(16233)),ve=l.n(Ee),Se=(l(82729),l(75355),l(11107),l(74095));const he={CCMBusinessFlowDetailsIDPK:"",CCMBusinessFlowDetailsCode:"",IsDefault:!1,IsDraft:!1,Remarks:"",IsActive:!0,BDMBusinessFlowID:null,CCMStageID:null,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BDMBusinessFlowCode:"",BriefDetails:"",BusinessFlowName:"",FlowCode:"",FlowDisplayName:"",FlowSeqNo:"",CCMStageICode:"",CCMStageIName:"",StageSeqNo:"",Type:"CCMBusinessFlowDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Me=(0,a.forwardRef)(((e,t)=>{const l=(0,n.useSelector)((e=>e.form)),[r,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!0),[p,C]=(0,a.useState)(!1),[w,F]=(0,a.useState)(!1),[f,I]=(0,a.useState)(""),[v,M]=(0,a.useState)(!1),[N,b]=(0,a.useState)([]),[T,x]=(0,a.useState)(null),[P,A]=(0,a.useReducer)(we.Z,he),[R,k]=(0,a.useState)(!1),[Z,O]=(0,a.useState)([]),[z,K]=(0,a.useState)(!1),V=(0,a.useContext)(e.context?e.context:Re),{cstate:_,cdispatch:G}=e.ContextApi?e.ContextApi:ke(),[U,H]=(0,a.useState)(0),[Y,j]=(0,a.useState)(""),$=(0,a.useRef)(null),[W,J]=ve()("279"),[Q,X]=(0,a.useState)([]),ee=(0,a.useRef)(null),[te,le]=(0,a.useState)(!1),[ae,se]=(0,a.useState)(!0),[ne,ie]=(0,a.useState)(!1);let oe=(0,B.Z)();const[re,de]=(0,a.useState)({}),ue=e=>oe[e]?oe[e]:e,De=t=>_.language?.[t]?_.language[t]:e.createEasy?re?.[t]:t;(0,a.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,a.useEffect)((()=>{Me()}),[]),(0,a.useEffect)((()=>{Me()}),[e.parentId]),(0,a.useEffect)((()=>{_.editData.length>0?(le(!1),Ee(_.editData[0],""),C(!0)):_.Add&&(Me(),le(!1),C(!0))}),[_.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),de(Object.assign({},...t))}(W)}),[W]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Me()},CreateEasyProps:(e=!0,t)=>{J(!0),t?(Ke(t),C(e)):(Me(),C(e))},AddOpen:e=>{Me(),C(!0)}})));const Ee=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),F(t.IsDraft),"SetDefaultCCMBusinessFlowDetailsID"==l?j(t.CCMBusinessFlowDetailsIDPK):(H(e.primid?Number(e.primid):t.CCMBusinessFlowDetailsIDPK?t.CCMBusinessFlowDetailsIDPK:0),G({type:"PrimaryId",payload:t.CCMBusinessFlowDetailsIDPK})),A({type:"number",name:"CCMStageID",number:t.CCMStageID?Number(t.CCMStageID):0}),A({type:"text",name:"CCMStageIName",value:t.CCMStageIName}),A({type:"text",name:"CCMBusinessFlowDetailsCode",value:t.CCMBusinessFlowDetailsCode?t.CCMBusinessFlowDetailsCode:""}),A({type:"number",name:"BDMBusinessFlowID",number:t.BDMBusinessFlowID?Number(t.BDMBusinessFlowID):0}),A({type:"text",name:"BusinessFlowName",value:t.BusinessFlowName}),A({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),t.IsDraft?m(!0):m(!("1"!=t.IsActive&&!t.IsActive))},Me=()=>{b([]),j(""),G({type:"PrimaryId",payload:""}),A({type:"text",name:"CCMStageID",value:null}),A({type:"text",name:"CCMStageIName",value:""}),document.getElementById("CCMBusinessFlowDetailsCCMStageINameClear")&&document.getElementById("CCMBusinessFlowDetailsCCMStageINameClear").click(),document.getElementById("CCMBusinessFlowDetailsCCMStageIDClear")&&document.getElementById("CCMBusinessFlowDetailsCCMStageIDClear").click(),X([]),A({type:"text",name:"CCMBusinessFlowDetailsCode",value:""}),A({type:"text",name:"BDMBusinessFlowID",value:null}),A({type:"text",name:"BusinessFlowName",value:""}),document.getElementById("CCMBusinessFlowDetailsBusinessFlowNameClear")&&document.getElementById("CCMBusinessFlowDetailsBusinessFlowNameClear").click(),A({type:"boolean",name:"IsDefault",boolean:!1}),H(0),m(!0),I(""),se(!0)},Ne=t=>{se(!0),V.loading(!0),V.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const l=`${y.v.Api}${U?"FP279S1/":"FP279S19/"}`,a={data:[{p1:"SetDefaultCCMBusinessFlowDetailsID"==t?"NORECORDS"!=Y&&Y?Y:0:U,p2:Ve(P.CCMBusinessFlowDetailsCode),p3:P.IsDefault,p4:!1,p5:"SetDefaultCCMBusinessFlowDetailsID"==t?"SetDefault":null,p6:u,p7:e.parentId?Number(e.parentId):P.BDMBusinessFlowID?P.BDMBusinessFlowID:0,p8:U?P.CCMStageID:0==Q.length?0:Q.map((e=>e.CCMStageIDPK)).toString(),p9:"SetDefaultCCMBusinessFlowDetailsID"==t,p10:localStorage.getItem("userid"),p11:S()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,me.Z)(0).then((s=>{(0,h.Z)(l,a,s).then((l=>{const a=l[0].status;200==a.code?("SetDefaultCCMBusinessFlowDetailsID"==t?V.alert({open:!0,color:"success",message:[ue("Default Record Configured")]}):V.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttCCMBusinessFlowDetails"),V.loading(!1),G({type:"PrimaryId",payload:l[0].Data.IDPK}),e.createEasy||(V.RefreshTable(),V.attachmentSave(l[0].Data.IDPK)),Me(),_.AccessRights.IsApproval&&V.Approval(!0),document.getElementById("overlayimgAttCCMBusinessFlowDetails")&&(document.getElementById("overlayimgAttCCMBusinessFlowDetails").style.width="0%",document.getElementById("overlayimgAttCCMBusinessFlowDetails").style.display="none",document.getElementById("divCCMBusinessFlowDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("CCMBusinessFlowDetails-MainTable").style.display="block")):(V.alert({open:!0,color:"warning",message:[a.message]}),V.loading(!1)),C(!0)}))}))},be=t=>{V.loading(!0),V.ConfirmAlert(null);const l=y.v.Api+"FP279S2/",a={data:[{p1:"SetDefaultCCMBusinessFlowDetailsID"==t?"NORECORDS"!=Y&&Y?Y:0:U,p2:Ve(P.CCMBusinessFlowDetailsCode),p3:P.IsDefault,p4:!1,p5:"SetDefaultCCMBusinessFlowDetailsID"==t?"SetDefault":null,p6:u,p7:e.parentId?Number(e.parentId):P.BDMBusinessFlowID?P.BDMBusinessFlowID:0,p8:U?P.CCMStageID:0==Q.length?0:Q.map((e=>e.CCMStageIDPK)).toString(),p9:"SetDefaultCCMBusinessFlowDetailsID"==t,p10:localStorage.getItem("userid"),p11:S()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,me.Z)(0).then((e=>{(0,d.Z)(l,a,e).then((e=>{const t=e.Output[0].status;let l=e.Output[0].Data,a=new Array,s=new Array;"200"===t.code?(l.map((e=>{e&&(a.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),a.some((e=>"1"==e))?(V.alert({open:!0,color:"warning",message:s}),V.loading(!1)):Ne()):(V.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),V.loading(!1))}))}))};function Te(t,l,a,s){if(!(_.count>0))return V.alert({open:!0,color:"warning",message:[ue("Please save atleast one record")]}),!1;if(!((()=>{const e={...P};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return V.alert({open:!0,color:"warning",message:[ue("Please enter the primary fields")]}),!1;{se(!0),V.loading(!0),V.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const l=y.v.Api+"FP279S1/",a={data:[{p1:"SetDefaultCCMBusinessFlowDetailsID"==s?"NORECORDS"!=Y&&Y?Y:0:U,p2:Ve(P.CCMBusinessFlowDetailsCode),p3:P.IsDefault,p4:!0,p5:"SetDefaultCCMBusinessFlowDetailsID"==s?"SetDefault":null,p6:!1,p7:e.parentId?Number(e.parentId):P.BDMBusinessFlowID?P.BDMBusinessFlowID:0,p8:U?P.CCMStageID:0==Q.length?0:Q.map((e=>e.CCMStageIDPK)).toString(),p9:"SetDefaultCCMBusinessFlowDetailsID"==s,p10:localStorage.getItem("userid"),p11:S()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,me.Z)(0).then((s=>{(0,h.Z)(l,a,s).then((l=>{const a=l[0].status;200==a.code?(t?V.alert({open:!0,color:"warning",message:[ue("Deleted Successfully")]}):V.alert({open:!0,color:"success",message:[ue("Saved to Draft")]}),V.loading(!1),V.attachmentSave(l[0].Data.IDPK),Me(),V.RefreshTable(),e.clrImgstate(!0)):(V.alert({open:!0,color:"warning",message:[a.message]}),V.loading(!1))}))}))}}function xe(e){return CreateEasy(e,_,G,V,$),!1}function Pe(e,l){return AdvanceSearch(e,l,Re,ke(),Le,t),!1}const Ae=(t,l,a,s,n,i)=>{const o=y.v.Api+"FP279S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:e.parentId?Number(e.parentId):0,p8:"0"==P.CCMStageID?null:P.CCMStageID?P.CCMStageID:Q.map((e=>e.CCMStageIDPK)).toString(),p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:l?"%"+l+"%":null,p16:l?"%"+l+"%":null,p17:l?"%"+l+"%":null,p18:l?"%"+l+"%":null,p19:l?"%"+l+"%":null,p20:l?"%"+l+"%":null,p21:l?"%"+l+"%":null,p22:l?"%"+l+"%":null,p23:l?"%"+l+"%":null,p24:t,p25:i||10,p26:a,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},c=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});k(!0);const u={data:c};(0,d.Z)(o,"ClearAll"==a?u:r,"PKDrag"==s?n:_.token[0]).then((e=>{const l=e.Output.status.code,s=e.Output.data;if("200"==l){const e=s.length;1==t?e>0?(O(s),i&&"CCMStageIDPK"==a&&(ee.current.checkedAll(s),V.loading(!1))):O([]):O(Z.concat(s)),"SetDefaultCCMBusinessFlowDetailsID"==a&&(e>0?Ee(s[0],"SetDefaultCCMBusinessFlowDetailsID"):j("NORECORDS")),k(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Ze=(t,a,s)=>{const n=y.v.Api+"FP279S3/",i={data:{p1:null,p2:"CCMBusinessFlowDetailsCode"==s&&a?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:l.BDMBusinessFlowRegistryBDMBusinessFlowID?l.BDMBusinessFlowRegistryBDMBusinessFlowID:"0",p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:t,p25:10,p26:"CCMBusinessFlowDetailsID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};k(!0),(0,d.Z)(n,"ClearAll"==s?o:i,_.token[0]).then((e=>{const l=e.Output.status.code,a=e.Output.data;if("200"==l){const e=a.length;1==t?("CCMBusinessFlowDetailsCode"==s&&se(e>0),O(a)):("CCMBusinessFlowDetailsCode"==s&&se(!0),O(Z.concat(a))),k(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Le=(0,a.useCallback)((async(e,t,l)=>{"text"==l?A({type:l,name:t,value:e}):"number"==l?A({type:l,name:t,number:Number(e)}):"boolean"==l?A({type:l,name:t,boolean:e}):"date"==l?A({type:"text",name:t,value:e}):"select"==l&&"CCMStageID"==t&&(A({type:"text",name:"CCMStageID",value:e.CCMStageIDPK?e.CCMStageIDPK:null}),A({type:"text",name:"CCMStageIName",value:e.CCMStageIName?e.CCMStageIName:null}))}),[P]);function Oe(e){if("CCMStageID"==e){if(!P.CCMStageID)return!1;A({type:"text",name:"CCMStageID",value:null}),A({type:"text",name:"CCMStageIName",value:""}),document.getElementById("CCMBusinessFlowDetailsCCMStageIDClear")&&document.getElementById("CCMBusinessFlowDetailsCCMStageIDClear").click(),X([]),document.getElementById("CCMBusinessFlowDetailsCCMStageINameClear")&&document.getElementById("CCMBusinessFlowDetailsCCMStageINameClear").click()}else if("BDMBusinessFlowID"==e&&!P.BDMBusinessFlowID)return!1}function ze(e){if("CCMStageID"==e){if(!P.CCMStageID)return!1;A({type:"text",name:"CCMStageID",value:null})}else if("BDMBusinessFlowID"==e&&!P.BDMBusinessFlowID)return!1}function Ke(e){V.ConfirmAlert(null),F(e.IsDraft),H(Number(e.CCMBusinessFlowDetailsIDPK)?Number(e.CCMBusinessFlowDetailsIDPK):0),A({type:"number",name:"CCMStageID",number:e.CCMStageID?Number(e.CCMStageID):0}),A({type:"text",name:"CCMStageIName",value:e.CCMStageIName?e.CCMStageIName:""}),A({type:"text",name:"CCMBusinessFlowDetailsCode",value:e.CCMBusinessFlowDetailsCode?e.CCMBusinessFlowDetailsCode:""}),A({type:"number",name:"BDMBusinessFlowID",number:e.BDMBusinessFlowID?Number(e.BDMBusinessFlowID):0}),A({type:"text",name:"BusinessFlowName",value:e.BusinessFlowName?e.BusinessFlowName:""})}const Ve=e=>"string"==typeof e?e.trim():e;return s().createElement("div",null,s().createElement(i.Z,{expanded:p,onChange:e=>{}},s().createElement(q.Z,null,s().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},p&&s().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},s().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[279]"}," ",ue("Add "),De("279")),s().createElement("div",{className:"displayFlex EntryHeaderBtn"},_.AccessRights.IsDelete&&s().createElement("div",{className:"GridAlign"},s().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},s().createElement(Fe.Z,{row:!0},s().createElement(L.Z,{labelPlacement:"bottom",id:"fld279L1ECEntryCheckbox",control:s().createElement(E.Z,{checked:"1"==u,onChange:e=>m(e.target.checked)}),label:ue(1==u?"Active":"In Active")})))),!e.createEasy&&s().createElement("div",{className:"GridAlign",onClick:()=>{V.AttachExpand(!0)},id:"fld279L1ECIconButton"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement("div",{disableRipple:!0,disabled:!1},s().createElement(fe.Ypb,{className:"Iconstyles"}))),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,ue("Attach")))),!U&&s().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Me()},id:"fld279L1ECClearBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(fe.pYJ,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,ue("Reset")))),"1"===w&&U&&s().createElement(pe.Z,{frmctrlid:"fld279L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Te("draftdel")}}),U&&"1"!==w||e.createEasy?null:_.AccessRights.IsAdd&&s().createElement("div",{className:"GridAlign",onClick:()=>{Te()},frmctrlid:"fld279L1ECDraftBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(Ie.IcR,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,ue("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?s().createElement(ge.Z,{frmctrlid:"fld279L1ECSaveBtnIsAdd",name:ue(U?"Update":"Save"),disabled:!1,onClick:()=>{!U&&0==Q.length||U&&(!P.CCMStageID||0==P.CCMStageID)?V.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+De("CCMStageID")]}):e.parentId&&0!=e.parentId?U?V.ConfirmAlert(s().createElement(ye(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ue("Are you sure?"),onConfirm:()=>be(),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("Cancel"),showCancel:!0},ue(U?"Do you want to Update?":"Do you want to Save?"))):Ne():V.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+De("BDMBusinessFlowID")]})}}):null,!e.createEasy&&s().createElement(ce.Z,{frmctrlid:"fld279L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Me(),C(!1),V.EditClose(!0),V.hideAddBtn(!1),G({type:"Add",payload:!1})}}))))),s().createElement(o.Z,null,s().createElement("div",{id:"CCMBusinessFlowDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},s().createElement("div",{id:"CCMBusinessFlowDetails-Detail",className:"detailCard detailDiv"},s().createElement("div",{id:"CCMBusinessFlowDetails-MainBody",className:"padding paddingLeft "},s().createElement("div",null,s().createElement(g.Z,{spacing:2},U?null:s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(Se.Z,{json:Be,id:P.CCMStageID,"data-testid":P.CCMStageID,value:P.CCMStageIName,SPName:"CCMBusinessFlowDetails",FieldName:"CCMStageID",tfLabel:De("CCMStageID"),ref:ee,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return X(l=t),void l.length;var l},onChange:(e,t)=>{Ae(e,t,"CCMStageIDPK")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{V.loading(!0),Ae("1",t||"","CCMStageIDPK","","",e)},openSlide:()=>{xe("322")},Tabledialog:()=>Pe("322","CCMStageID"),loading:R,clear:e=>{e&&Oe("CCMStageID")}})),U?s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(Ce.Z,{json:Be,id:P.CCMStageID,"data-testid":P.CCMStageID,value:P.CCMStageIName,SPName:"CCMBusinessFlowDetails",FieldName:"CCMStageID",tfLabel:De("CCMStageID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Le(e,"CCMStageID","select"),onChange:(e,t)=>{Ae(e,t,"CCMStageIDPK")},KeyBack:e=>{ze("CCMStageID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{xe("322")},Tabledialog:()=>Pe("322","CCMStageID"),loading:R,SideEntryView:!1,clear:e=>{e&&Oe("CCMStageID")}})):null,s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(Ce.Z,{"data-testid":P.CCMBusinessFlowDetailsCode,json:Be,SPName:"CCMBusinessFlowDetails",FieldName:"CCMBusinessFlowDetailsCode",tfLabel:De("CCMBusinessFlowDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{V.ConfirmAlert(s().createElement(ye(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ke(e),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("No"),showCancel:!0},ue("Do you want to update this record?")))})(t),onClick:()=>{ae&&Ze(1,"","ClearAll"),se(!0)},frmctrlid:"fld279_5303",frmctrlidName:"CCMBusinessFlowDetailsCode",fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ae&&Ze(e,t,"CCMBusinessFlowDetailsCode"),Le(t,"CCMBusinessFlowDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:P.CCMBusinessFlowDetailsCode,loading:R,clear:e=>{e&&(A({type:"text",name:"CCMBusinessFlowDetailsCode",value:""}),se(!0))}})),s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(Ce.Z,{json:Be,id:P.BDMBusinessFlowID,"data-testid":P.BDMBusinessFlowID,value:P.BusinessFlowName,SPName:"CCMBusinessFlowDetails",FieldName:"BDMBusinessFlowID",tfLabel:De("BDMBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"BDMBusinessFlowID","select"),onChange:(e,t)=>{Ae(e,t,"BDMBusinessFlowIDPK")},KeyBack:e=>{ze("BDMBusinessFlowID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{xe("262")},Tabledialog:()=>Pe("262","BDMBusinessFlowID"),loading:R,clear:e=>{e&&Oe("BDMBusinessFlowID")}})))),s().createElement("div",{id:"CCMBusinessFlowDetailsSideBar",className:"sidenav"},s().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("CCMBusinessFlowDetailsSideBar").style.width="0",void M(!1))},"×"),v&&s().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},T))))))))}));l(77366),l(97829);var Ne=l(65197);const be=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[r,c]=((0,n.useSelector)((e=>e.form)),(0,a.useState)([])),[u,m]=(0,a.useState)(!0),[p,g]=(0,a.useState)(e.showDetail),[D,C]=(0,a.useState)(""),[w,F]=s().useState(!1),[f,I]=s().useState(""),[E,v]=s().useState(!1),S=(0,a.useContext)(Re),{cstate:h,cdispatch:M}=ke(),[N,b]=(0,a.useState)(!1),[T,x]=(0,a.useState)(""),[P,A]=(0,a.useState)(""),[R,k]=(0,a.useState)("");let Z=(0,B.Z)();(0,a.useEffect)((()=>{h.editData.length>0&&(c(h.editData),F(!1),M({type:"PrimaryId",payload:h.editData[0].CCMBusinessFlowDetailsIDPK}))}),[h.editData]),(0,a.useEffect)((()=>{h.showTableview&&k(h.showTableview)}),[h.showTableview]),(0,a.useEffect)((()=>{m(h.ExpandDetailValue)}),[h.ExpandDetailValue]),(0,a.useEffect)((()=>{m(h.ExpandDetailValue)}),[e.L3data]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),F(null)},viewtoggle:()=>{F(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=y.v.Api+"FP279S3/",s={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:1,p25:10,p26:h.IsDraft?"DraftCCMBusinessFlowDetailsID":"CCMBusinessFlowDetailsID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,me.Z)(0).then((e=>{(0,d.Z)(a,s,e).then((e=>{S.loading(!1),"200"==e.Output.status.code&&c(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===w&&l.current.clear()}})));const L=e=>Z?.[e]?Z?.[e]:e,O=e=>h.language?.[e]?h.language[e]:e;function z(e,t){}const K=(e,t)=>(l,a)=>{I(E?Object.assign(...r.filter((e=>e.CCMBusinessFlowDetailsIDPK==t)).map((e=>e))):h.editData),F(!a&&e)};return s().createElement("div",null,s().createElement(i.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&m(!u)}},!w&&s().createElement(q.Z,null,s().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?s().createElement("div",{className:"displayFlex EntryViewHeader"},s().createElement("p",{className:"ListP"},h.IsDraft?L("Draft"):"",O("CCMBusinessFlowDetails"),e.viewonly?" ":"("+h.count+")")):"",u?s().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&h.AccessRights.IsAdd?s().createElement(le.Z,{name:L("Add"),frmctrlid:"fld279L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{S.hideAddBtn(!0),M({type:"editData",payload:[]}),M({type:"ShowDetail",payload:!1}),M({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&h.AccessRights.IsEdit?s().createElement(ue.Z,{frmctrlid:"fld279L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):h.IsDraft&&h.AccessRights.IsAdd&&s().createElement(ue.Z,{frmctrlid:"fld279L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&s().createElement(ce.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld279L1VCCloseBtn",onClick:()=>{m(!1),S.hideAddBtn(!1),E&&(M({type:"editData",payload:[]}),c([]))}})):"")),s().createElement(o.Z,{style:{display:"block"}},r.map(((t,a)=>s().createElement("div",{key:a},w==="panel"+a?s().createElement(Me,{ref:l,parentId:e.parentId}):s().createElement(s().Fragment,null,s().createElement(Ne.Z,{tableName:"CCMBusinessFlowDetails",tableID:279,parentID:t.CCMBusinessFlowDetailsIDPK,fldid:"fld279L1VCContainer",OpenSlideComponent:z,index:a,refresh:R,val:t,tf:O,t:L,title:"10.0.0.59-3:08:17 PM-18-7[279]"}))))))))}));var Te=l(67698),xe=l(55995),Pe=l(45965),Ae=l(41722);l(9175);const Re=(0,a.createContext)(),ke=()=>{const e=(0,a.useContext)(Re);if(void 0===e)throw new Error("useCont must be used within  CCMBusinessFlowDetailsContext Provider");return e},Ze=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),i=(0,a.useRef)(),o=(0,a.useRef)(),r=(0,a.useRef)(),d=(0,a.useRef)(),[c,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(),g=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[D,y]=(0,a.useState)(0),[C,w]=(0,a.useReducer)(Ae.D,Ae.E),[B,F]=(0,a.useState)(""),[f,I]=(0,a.useState)([]),[E,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divCCMBusinessFlowDetails-Entry").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainTable").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{u(!0),document.getElementById("divCCMBusinessFlowDetails-Entry").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainTable").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(w({type:"editData",payload:[e.editData]}),w({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,a.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{w(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>l.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>l.current.HideEntryFields(!0)),500)}})));const S=e=>{I([]),document.getElementById("divCCMBusinessFlowDetails-Entry").style.width="100%",document.getElementById("CCMBusinessFlowDetailsEntryTable").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainEntry").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainEntry").style.display="block",document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.add("displayFlex"),document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMBusinessFlowDetails").style.width="0%",document.getElementById("overlayimgAttCCMBusinessFlowDetails").style.display="none"};(0,a.useEffect)((()=>{g((e=>{(0,me.Z)(1).then((e=>{var t=new Array;t.push(e),w({type:"token",payload:t}),y(t.length),h(e)}))}))}),[]);const h=e=>{(0,Pe.Z)(e,262).then((e=>w({type:"AccessRights",payload:e})))};return s().createElement("div",{style:{width:"100%"}},s().createElement(Re.Provider,{value:{cstate:C,cdispatch:w,ContextApi:ke,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh()},searchItem:e=>{0!==D&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,f),I([])},EditClose:e=>S(),AttachExpand:e=>(r.current.AttachmentData(C.PrimaryId),void(c&&(document.getElementById("overlayPreviewCCMBusinessFlowDetails").style.width="50%",document.getElementById("divCCMBusinessFlowDetails-Entry").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainTable").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainEntry").style.width="100%",document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMBusinessFlowDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttCCMBusinessFlowDetails").style.display="block",document.getElementById("overlayimgAttCCMBusinessFlowDetails").style.width="25%"))),Expanded:e=>{C.ShowDetail&&o.current.tableClick(e),w({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{C.ShowDetail&&o.current.viewtoggle()},clear:e=>{w({type:"ShowDetail",payload:!1}),w({type:"editData",payload:[]}),C.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{C.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),r.current.clrImgstate(!0)}}},s().createElement("div",{id:"CCMBusinessFlowDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},s().createElement("div",{id:"CCMBusinessFlowDetails-MainEntry",className:"",style:{background:"#fff"}},s().createElement("div",{style:{display:"flex"}},s().createElement("div",{id:"CCMBusinessFlowDetailsEntryTable",style:{width:"100%"}},C.ShowDetail?s().createElement("div",null,s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divCCMBusinessFlowDetails-Entry",style:{width:"100%"}},0!==D?s().createElement(be,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),s().createElement(xe.Z,{ref:d,menurefID:279,fileId:"LogoImgCCMBusinessFlowDetails",imgloading:t=>{t||C.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:C.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewCCMBusinessFlowDetails",frmctrlid:"PvwIm_279_L1_",tempImg:e=>{C.PrimaryId?r.current.AttachmentData(C.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:C.Add})):s().createElement("div",null,s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divCCMBusinessFlowDetails-Entry",style:{width:"100%"}},!e.tableview&&s().createElement(Me,{ref:i,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),s().createElement(xe.Z,{ref:d,menurefID:279,fileId:"LogoImgCCMBusinessFlowDetails",imgloading:t=>{t||C.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:C.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewCCMBusinessFlowDetails",frmctrlid:"PvwIm_279_L1_",tempImg:e=>{C.PrimaryId?r.current.AttachmentData(C.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:C.Add})),s().createElement("div",{id:"CCMBusinessFlowDetails-MainTable"},0!==D?s().createElement(de,{ref:l,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),s().createElement(Te.Z,{ImgAttachment:e=>S(),menurefID:279,fileId:"AttImgCCMBusinessFlowDetails",imgid:"overlayimgAttCCMBusinessFlowDetails",valueIDPK:C.PrimaryId,PriviewData:(e,t,l,a)=>{d.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewCCMBusinessFlowDetails",ref:r,imgloading:m,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_279_L1_",timglist:e=>{d.current.timglist(e),I(e)},clearTempData:C.Add}))),s().createElement("div",{id:"CCMBusinessFlowDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},89021:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k,saveComponent:()=>L,trimFunc:()=>Z});var a=l(92950),s=l.n(a),n=l(45237),i=l(36939),o=l(61201),r=l(50743),d=(l(3212),l(10966),l(30553)),c=(l(99090),l(44528)),u=l(37148),m=l(61956),p=l(51673),g=(l(96071),l(14439)),D=l(27848),y=(l(49174),l(38773),l(19089),l(1695)),C=(l(13235),l(61924)),w=l.n(C),B=l(26537),F=l(40900),f=l(35131),I=l.n(f),E=l(55490),v=(l(2493),l(92371));l(82729),l(75355),l(11107),l(40826);const S={EnterKeyValues:{BDMBusinessFlowRegistry:["FlowCode","FlowSeqNo","BusinessFlowName","BriefDetails","BDMBusinessFlowCode","FlowDisplayName","TableKey"]},Label:{BDMBusinessFlowRegistry:{FlowCode:["FlowCode"],FlowSeqNo:["BDMBusinessFlowCode","BusinessFlowName","FlowCode","FlowDisplayName"],BusinessFlowName:["BusinessFlowName"],BriefDetails:["BDMBusinessFlowCode","BusinessFlowName","FlowCode","FlowDisplayName"],BDMBusinessFlowCode:["BDMBusinessFlowCode","BusinessFlowName","FlowCode","FlowDisplayName"],FlowDisplayName:["BDMBusinessFlowCode","BusinessFlowName","FlowCode","FlowDisplayName"],TableKey:["BDMBusinessFlowCode","BusinessFlowName","FlowCode","FlowDisplayName"]}},LabelHeader:{BDMBusinessFlowRegistry:{FlowCode:["Flow Code"],FlowSeqNo:["BDM Business Flow Code","Business Flow Name","Flow Code","Flow Display Name"],BusinessFlowName:["Business Flow Name"],BriefDetails:["BDM Business Flow Code","Business Flow Name","Flow Code","Flow Display Name"],BDMBusinessFlowCode:["BDM Business Flow Code","Business Flow Name","Flow Code","Flow Display Name"],FlowDisplayName:["BDM Business Flow Code","Business Flow Name","Flow Code","Flow Display Name"],TableKey:["BDM Business Flow Code","Business Flow Name","Flow Code","Flow Display Name"]}},Property:{BDMBusinessFlowRegistry:{FlowCode:{id:"fld262_5091",labelID:"FlowCode",maxLength:"20",labelname:"Flow Code",frmctrlid:"fld262_5091",frmctrlidname:"FlowCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},FlowSeqNo:{id:"fld262_5092",labelID:"FlowSeqNo",maxLength:"25",labelname:"Flow Seq No",frmctrlid:"fld262_5092",frmctrlidname:"FlowSeqNo",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BusinessFlowName:{id:"fld262_5089",labelID:"BusinessFlowName",maxLength:"50",labelname:"Business Flow Name",frmctrlid:"fld262_5089",frmctrlidname:"BusinessFlowName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BriefDetails:{id:"fld262_5093",labelID:"BriefDetails",maxLength:"50",labelname:"Brief Details",frmctrlid:"fld262_5093",frmctrlidname:"BriefDetails",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BDMBusinessFlowCode:{id:"fld262_5088",labelID:"BDMBusinessFlowCode",maxLength:"20",labelname:"BDM Business Flow Code",frmctrlid:"fld262_5088",frmctrlidname:"BDMBusinessFlowCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FlowDisplayName:{id:"fld262_5090",labelID:"FlowDisplayName",maxLength:"50",labelname:"Flow Display Name",frmctrlid:"fld262_5090",frmctrlidname:"FlowDisplayName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},TableKey:{id:"fld262_5095",labelID:"TableKey",maxLength:"",labelname:"Table Key",frmctrlid:"fld262_5095",frmctrlidname:"TableKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{BDMBusinessFlowRegistry:{}}};l(42258),l(97829),l(79117);var h=l(84046),M=l(8981),N=l(63163),b=l(45155),T=l(51649),x=l(16233),P=l.n(x);const A={BDMBusinessFlowIDPK:"",BDMBusinessFlowCode:"",BusinessFlowName:"",FlowDisplayName:"",FlowCode:"",FlowSeqNo:"",BriefDetails:"",IsDefault:!1,IsDraft:!1,TableKey:"",Remarks:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",Type:"BDMBusinessFlowID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},R=(0,a.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[l,C]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!0),[R,k]=(0,a.useState)(!1),[Z,O]=(0,a.useState)(!1),[z,K]=(0,a.useState)(!1),[V,_]=(0,a.useState)(!1),[G,U]=(0,a.useState)([]),[H,Y]=(0,a.useState)(null),[q,j]=(0,a.useReducer)(v.Z,A),[$,W]=(0,a.useState)(!1),[J,Q]=(0,a.useState)([]),[X,ee]=(0,a.useState)(0),[te,le]=(0,a.useState)(""),[ae,se]=(0,a.useState)(!0),[ne,ie]=(0,a.useState)(!0),[oe,re]=(0,a.useState)(!0),[de,ce]=(0,a.useState)(!0),[ue,me]=(0,a.useState)(!0),pe=(0,a.useContext)(h.BDMBusinessFlowRegistryContext),{cstate:ge,cdispatch:De}=(0,h.ContextApi)(),[ye]=(0,a.useState)(localStorage.getItem("Language")),[Ce]=(0,a.useState)(localStorage.getItem("Language")),[we,Be]=(0,a.useState)([]),[Fe,fe]=(0,a.useState)(null),[Ie,Ee]=(0,a.useState)(!1),[ve,Se]=(0,a.useState)(""),[he,Me]=((0,a.useRef)(null),P()("262")),[Ne,be]=(0,a.useState)(!1);let Te=(0,M.Z)();const[xe,Pe]=(0,a.useState)({}),Ae=e=>Te?.[e]?Te[e]:e,Re=t=>ge.language?.[t]?ge.language[t]:e.createEasy?xe?.[t]:t;(0,a.useEffect)((()=>{ge.PrimaryId&&ee(Number(ge.PrimaryId))}),[ge.PrimaryId]),(0,a.useEffect)((()=>{ge.editData.length<0&&(0,B.Z)(1).then((e=>{Ve(1,null,"SetDefaultBDMBusinessFlowID",e)}))}),[]),(0,a.useEffect)((()=>{ge.editData.length>0?(ke(ge.editData[0],""),O(!0)):ge.Add&&(ee(0),O(!0))}),[ge.editData,ge.Add]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),Pe(Object.assign({},...t))}(he)}),[he]),(0,a.useImperativeHandle)(t,(()=>({getAlert(e){O(!0),k(!1)},CreateEasyProps:(e=!0,t)=>{Me(!0),t?(He(t),O(e)):(Ze(),O(e))},clear:()=>{Ze()}})));const ke=(t,l,a)=>{let s=t;Object.keys(s).forEach((function(e){0==s[e]&&(s[e]=null)})),K(s.IsDraft),De({type:"EditIsDraft",payload:"1"==s.IsDraft}),"SetDefaultBDMBusinessFlowID"==l?le(s.BDMBusinessFlowIDPK):(ee(e.primid?Number(e.primid):s.BDMBusinessFlowIDPK?s.BDMBusinessFlowIDPK:0),De({type:"PrimaryId",payload:s.BDMBusinessFlowIDPK})),j({type:"text",name:"FlowCode",value:s.FlowCode?s.FlowCode:""}),j({type:"text",name:"FlowSeqNo",value:s.FlowSeqNo?s.FlowSeqNo:""}),j({type:"text",name:"BusinessFlowName",value:s.BusinessFlowName?s.BusinessFlowName:""}),j({type:"text",name:"BriefDetails",value:s.BriefDetails?s.BriefDetails:""}),j({type:"text",name:"BDMBusinessFlowCode",value:s.BDMBusinessFlowCode?s.BDMBusinessFlowCode:""}),j({type:"text",name:"FlowDisplayName",value:s.FlowDisplayName?s.FlowDisplayName:""}),j({type:"boolean",name:"IsDefault",boolean:s.IsDefault}),j({type:"number",name:"TableKey",number:s.TableKey}),s.IsDraft?x(!0):x(!("1"!=s.IsActive&&!s.IsActive))},Ze=()=>{U([]),ee(0),le(""),se(!0),ie(!0),re(!0),ce(!0),me(!0),De({type:"PrimaryId",payload:""}),j({type:"text",name:"FlowCode",value:""}),j({type:"text",name:"FlowSeqNo",value:""}),j({type:"text",name:"BusinessFlowName",value:""}),j({type:"text",name:"BriefDetails",value:""}),j({type:"text",name:"BDMBusinessFlowCode",value:""}),j({type:"text",name:"FlowDisplayName",value:""}),j({type:"boolean",name:"IsDefault",boolean:!1}),j({type:"number",name:"TableKey",number:0}),x(!0)},Le=()=>{const e={...q};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Oe=()=>{pe.ConfirmAlert(s().createElement(w(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ae("Are you sure?"),onConfirm:()=>ze(),onCancel:()=>pe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ae("Yes"),cancelBtnText:Ae("Cancel"),showCancel:!0},ge.PrimaryId?Ae("Do you want to Update?"):Ae("Do you want to Save?")))},ze=(e,t)=>{pe.loading(!0),pe.ConfirmAlert(null),De({type:"IsDraft",payload:!1}),L({url:F.v.Api+"FP262S2/",PrimID:X,ParamType:e,state:q,active:f,token:ge.token[0],DefaultPrimaryId:te}).then((t=>{const l=t[0].status;let a=t[0].Data,s=new Array,n=new Array;"200"===l.code?(a.map((e=>{e&&(s.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),s.some((e=>"1"==e))?(pe.alert({open:!0,color:"warning",message:n}),pe.loading(!1)):Ke(e)):(pe.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),pe.loading(!1))}))},Ke=(t,l)=>{se(!0),ie(!0),re(!0),ce(!0),me(!0),pe.loading(!0),pe.ConfirmAlert(null),L({url:F.v.Api+"FP262S1/",PrimID:X,ParamType:t,state:q,active:f,token:ge.token[0],DefaultPrimaryId:te}).then((l=>{const a=l[0].status;200==a.code?(De({type:"PrimaryId",payload:l[0].Data.IDPK}),pe.AddOpen(l[0].Data.IDPK),"SetDefaultBDMBusinessFlowID"==t?pe.alert({open:!0,color:"success",message:["Default Record Configured"]}):pe.alert({open:!0,color:"success",message:[a.message]}),pe.attachmentSave(l[0].Data.IDPK),pe.loading(!1),ge.AccessRights.IsApproval&&pe.Approval(!0),e.createEasy,De({type:"EditOpen",payload:!1}),De({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttBDMBusinessFlowRegistry")&&(document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.display="none",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.width="100%"),document.getElementById("BDMBusinessFlowRegistry-MainTable").style.display="none"):(pe.alert({open:!0,color:"warning",message:[a.message]}),pe.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultBDMBusinessFlowID"==t&&(O(!0),Ve(1,null,"SetDefaultBDMBusinessFlowID",ge.token[0]))}))};(0,a.useEffect)((()=>{O(ge.ExpandDetailValue)}),[ge.ExpandDetailValue]);const Ve=(t,l,a,s,n,i)=>{const o=F.v.Api+"FP262S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:1,p20:10,p21:a,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}},d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:l?"%"+l+"%":null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:t,p20:10,p21:a,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};return W(!0),(0,p.Z)(o,"ClearAll"==a?r:d,"SetDefaultBDMBusinessFlowID"==a&&s?s:ge.token[0]).then((e=>{const l=e.Output.status.code,s=e.Output.data;if("200"==l){const e=s.length;if(n)return s?s[0]:{};Q(1==t?e>0?s:[]:J.concat(s)),"SetDefaultBDMBusinessFlowID"==a&&(e>0?ke(s[0],"SetDefaultBDMBusinessFlowID"):le("NORECORDS")),W(!1)}else pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},_e=(t,l,a)=>{const s=F.v.Api+"FP262S3/",n={data:{p1:null,p2:"BDMBusinessFlowCode"==a&&l?"%"+l+"%":null,p3:"BusinessFlowName"==a&&l?"%"+l+"%":null,p4:"FlowDisplayName"==a&&l?"%"+l+"%":null,p5:"FlowCode"==a&&l?"%"+l+"%":null,p6:"FlowSeqNo"==a&&l?"%"+l+"%":null,p7:"BriefDetails"==a&&l?"%"+l+"%":null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:t,p20:10,p21:"BDMBusinessFlowID",p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};W(!0),(0,p.Z)(s,"ClearAll"==a?i:n,ge.token[0]).then((e=>{const l=e.Output.status.code,s=e.Output.data;if("200"==l){const e=s.length;1==t?("FlowCode"==a&&se(e>0),"BusinessFlowName"==a&&ie(e>0),"BDMBusinessFlowCode"==a&&re(e>0),"FlowDisplayName"==a&&ce(e>0),"TableKey"==a&&me(e>0),Q(s)):("FlowCode"==a&&se(!0),"BusinessFlowName"==a&&ie(!0),"BDMBusinessFlowCode"==a&&re(!0),"FlowDisplayName"==a&&ce(!0),"TableKey"==a&&me(!0),Q(J.concat(s))),W(!1)}else pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Ge=(0,a.useCallback)((async(e,t,l)=>{"text"==l?j({type:l,name:t,value:e}):"number"==l?j({type:l,name:t,number:Number(e)}):"boolean"==l?j({type:l,name:t,boolean:e}):"date"==l&&j({type:"text",name:t,value:e})}),[q]),Ue=e=>{pe.ConfirmAlert(s().createElement(w(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>He(e),onCancel:()=>pe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ae("Yes"),cancelBtnText:Ae("No"),showCancel:!0},Ae("Do you want to update this record?")))};function He(t){pe.ConfirmAlert(null),K(t.IsDraft),e.createEasy||(De({type:"editData",payload:[t]}),De({type:"PrimaryId",payload:t.BDMBusinessFlowIDPK})),ee(Number(t.BDMBusinessFlowIDPK)?Number(t.BDMBusinessFlowIDPK):0),j({type:"text",name:"FlowCode",value:t.FlowCode?t.FlowCode:""}),j({type:"number",name:"FlowSeqNo",number:t.FlowSeqNo?Number(t.FlowSeqNo):0}),j({type:"text",name:"BusinessFlowName",value:t.BusinessFlowName?t.BusinessFlowName:""}),j({type:"text",name:"BriefDetails",value:t.BriefDetails?t.BriefDetails:""}),j({type:"text",name:"BDMBusinessFlowCode",value:t.BDMBusinessFlowCode?t.BDMBusinessFlowCode:""}),j({type:"text",name:"FlowDisplayName",value:t.FlowDisplayName?t.FlowDisplayName:""}),j({type:"text",name:"TableKey",value:t.TableKey?t.TableKey:""})}const Ye=e=>"string"==typeof e?e.trim():e;return s().createElement("div",null,s().createElement(i.Z,{expanded:Z,onChange:e=>{}},s().createElement(r.Z,null,s().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},s().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&s().createElement("span",{style:{cursor:"pointer"}},s().createElement(T.u1R,{className:"backButtonList",onClick:()=>{pe.ShowTableDiv(),setIndirectRecord(!1)}})),s().createElement("p",{id:"fld262L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[262]",onClick:()=>ge.ExpandTableValue&&O(!Z)},X?"Edit ":"New ",Re("262")," (",ge.count,")")),Z&&s().createElement("div",{className:"displayFlex EntryHeaderBtn"},ge.AccessRights.IsDelete&&s().createElement("div",{className:"GridAlign"},s().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},s().createElement(d.Z,{labelPlacement:"bottom",frmctrlid:"fld262L3ECEntryCheckbox",control:s().createElement(N.Z,{checked:"1"==f,onChange:e=>x(e.target.checked)}),label:Ae(1==f?"Active":"In Active")}))),!e.createEasy&&s().createElement("div",{className:"GridAlign",onClick:()=>{pe.AttachExpand(!0)},id:"fld262L3ECAttachment",disableRipple:!0,disabled:!X},s().createElement("div",{className:"Entry-Checkbox"},s().createElement("div",null,s().createElement(b.Ypb,{className:"Iconstyles"}))),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,"Attach"))),!e.createEasy&&(!X||!ge.editData.length>0)&&s().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ze()},id:"fld262L3ECClearBtn"},s().createElement("div",{className:"Entry-Checkbox"},s().createElement(b.pYJ,{className:"Iconstyles"})),s().createElement("div",{className:"GridLabel"},s().createElement("p",null,"Reset"))),ge.AccessRights.IsAdd&&s().createElement(y.Z,{name:X?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return t=X?"update":"next",Ye(q.FlowCode)?Ye(q.FlowSeqNo)?Ye(q.BusinessFlowName)?void("next"==t?function(t,l,a,s){if(Le().length>0){se(!0),ie(!0),re(!0),ce(!0),me(!0),pe.loading(!0),pe.ConfirmAlert(null),De({type:"IsDraft",payload:!1});const t=F.v.Api+"FP262S1/",l={data:[{p1:X,p2:Ye(q.BDMBusinessFlowCode),p3:Ye(q.BusinessFlowName),p4:Ye(q.FlowDisplayName),p5:Ye(q.FlowCode),p6:Ye(q.FlowSeqNo),p7:Ye(q.BriefDetails),p8:q.IsDefault,p9:!0,p10:q.TableKey?Number(q.TableKey):0,p11:null,p12:!1,p13:!1,p14:localStorage.getItem("userid"),p15:I()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:I()().format("YYYY-MM-DD hh:mm:ss")}]};(0,B.Z)(0).then((a=>{(0,m.Z)(t,l,a).then((t=>{const l=t[0].status;200==l.code?(pe.alert({open:!0,color:"success",message:["Saved to Draft"]}),De({type:"EditIsDraft",payload:!0}),pe.attachmentSave(t[0].Data.IDPK),pe.loading(!1),Ze(),e.clrImgstate(!0),pe.AddOpen(t[0].Data.IDPK,"1")):(pe.alert({open:!0,color:"warning",message:[l.message]}),pe.loading(!1))}))}))}else pe.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Oe(t)):(pe.alert({open:!0,color:"warning",message:[Ae("Please enter the")+""+Re("BusinessFlowName")]}),!1):(pe.alert({open:!0,color:"warning",message:[Ae("Please enter the")+""+Re("FlowSeqNo")]}),!1):(pe.alert({open:!0,color:"warning",message:[Ae("Please enter the")+""+Re("FlowCode")]}),!1);var t}}),X?s().createElement(u.Z,{disabled:!1,frmctrlid:"fld262L3ECCloseBtn",onClick:()=>{pe.detailview(!0,X)}}):null))),s().createElement(o.Z,null,ge.AccessRights.IsAdd?null:ge.AccessRights.IsEdit?!ge.PrimaryId&&s().createElement("div",{className:"divdisable"}):s().createElement("div",{className:"divdisable"}),s().createElement("div",{id:"BDMBusinessFlowRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},s().createElement("div",{id:"BDMBusinessFlowRegistry-Detail",className:"detailCard detailDiv"},s().createElement("div",{id:"BDMBusinessFlowRegistry-MainBody",className:"padding paddingLeft "},s().createElement("div",null,s().createElement(g.Z,{spacing:2},s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(E.Z,{"data-testid":q.FlowCode,json:S,SPName:"BDMBusinessFlowRegistry",FieldName:"FlowCode",tfLabel:Re("FlowCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ae&&_e(1,"","ClearAll"),se(!0)},frmctrlid:"fld262_5091",frmctrlidName:"FlowCode",fieldorder:"1",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{ae&&_e(e,t,"FlowCode"),Ge(t,"FlowCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:q.FlowCode,loading:$,clear:e=>{e&&(j({type:"text",name:"FlowCode",value:""}),se(!0))}})),s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(c.Z,{json:S,"data-testid":q.FlowSeqNo,SPName:"BDMBusinessFlowRegistry",FieldName:"FlowSeqNo",tfLabel:Re("FlowSeqNo"),frmctrlid:"fld262_5092",fieldorder:"2",onChange:e=>{Ge(e,"FlowSeqNo","number")},clear:e=>{e&&j({type:"number",name:"FlowSeqNo",number:0})},value:q.FlowSeqNo})),s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(E.Z,{"data-testid":q.BusinessFlowName,json:S,SPName:"BDMBusinessFlowRegistry",FieldName:"BusinessFlowName",tfLabel:Re("BusinessFlowName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ne&&_e(1,"","ClearAll"),ie(!0)},frmctrlid:"fld262_5089",frmctrlidName:"BusinessFlowName",fieldorder:"3",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{ne&&_e(e,t,"BusinessFlowName"),Ge(t,"BusinessFlowName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:q.BusinessFlowName,loading:$,clear:e=>{e&&(j({type:"text",name:"BusinessFlowName",value:""}),ie(!0))}})),s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},s().createElement(c.Z,{json:S,"data-testid":q.BriefDetails,SPName:"BDMBusinessFlowRegistry",FieldName:"BriefDetails",tfLabel:Re("BriefDetails"),frmctrlid:"fld262_5093",fieldorder:"4",onChange:e=>{Ge(e,"BriefDetails","text")},clear:e=>{e&&j({type:"text",name:"BriefDetails",value:""})},value:q.BriefDetails})),s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(E.Z,{"data-testid":q.BDMBusinessFlowCode,json:S,SPName:"BDMBusinessFlowRegistry",FieldName:"BDMBusinessFlowCode",tfLabel:Re("BDMBusinessFlowCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{oe&&_e(1,"","ClearAll"),re(!0)},frmctrlid:"fld262_5088",frmctrlidName:"BDMBusinessFlowCode",fieldorder:"4",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{oe&&_e(e,t,"BDMBusinessFlowCode"),Ge(t,"BDMBusinessFlowCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:q.BDMBusinessFlowCode,loading:$,clear:e=>{e&&(j({type:"text",name:"BDMBusinessFlowCode",value:""}),re(!0))}})),s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(E.Z,{"data-testid":q.FlowDisplayName,json:S,SPName:"BDMBusinessFlowRegistry",FieldName:"FlowDisplayName",tfLabel:Re("FlowDisplayName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{de&&_e(1,"","ClearAll"),ce(!0)},frmctrlid:"fld262_5090",frmctrlidName:"FlowDisplayName",fieldorder:"4",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{de&&_e(e,t,"FlowDisplayName"),Ge(t,"FlowDisplayName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:q.FlowDisplayName,loading:$,clear:e=>{e&&(j({type:"text",name:"FlowDisplayName",value:""}),ce(!0))}})),s().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},s().createElement(E.Z,{"data-testid":q.TableKey,json:S,SPName:"BDMBusinessFlowRegistry",FieldName:"TableKey",tfLabel:Re("TableKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ue&&_e(1,"","ClearAll"),me(!0)},frmctrlid:"fld262_5095",frmctrlidName:"TableKey",fieldorder:"1",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{ue&&_e(e,t,"TableKey"),Ge(t,"TableKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:ue,SideEntryView:!1,KeyBack:e=>{},value:q.TableKey,loading:$,clear:e=>{e&&(j({type:"text",name:"TableKey",value:""}),me(!0))}})))),s().createElement("div",{id:"BDMBusinessFlowRegistrySideBar",className:"sidenav"},s().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BDMBusinessFlowRegistrySideBar").style.width="0",void _(!1))},"×"),V&&s().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},H))))))))})),k=R,Z=e=>"string"==typeof e?e.trim():e;function L(e){const{url:t,PrimID:l,ParamType:a,state:s,active:n,token:i,DefaultPrimaryId:o}=e,r={data:[{p1:"SetDefaultBDMBusinessFlowID"==a?"NORECORDS"!=o&&o?o:0:l,p2:Z(s.BDMBusinessFlowCode),p3:Z(s.BusinessFlowName),p4:Z(s.FlowDisplayName),p5:Z(s.FlowCode),p6:Z(s.FlowSeqNo),p7:Z(s.BriefDetails),p8:s.IsDefault,p9:!1,p10:s.TableKey?Number(s.TableKey):0,p11:"SetDefaultBDMBusinessFlowID"==a?"SetDefault":null,p12:n,p13:"SetDefaultBDMBusinessFlowID"==a,p14:localStorage.getItem("userid"),p15:I()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:I()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,m.Z)(t,r,i).then((e=>e))}},84046:(e,t,l)=>{l.r(t),l.d(t,{BDMBusinessFlowRegistryContext:()=>C,ContextApi:()=>w,default:()=>B});var a=l(92950),s=l.n(a),n=l(45237),i=l(40388),o=l(22386),r=l(89021),d=l(67698),c=l(55995),u=l(26537),m=(l(35131),l(45965)),p=l(73668),g=(l(37274),l(9175)),D=l.n(g),y=l(24483);const C=(0,a.createContext)();function w(){const e=s().useContext(C);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const B=function(e){const t=(0,a.useRef)(),l=(0,a.useRef)(),g=(0,a.useRef)(),B=(0,a.useRef)(),F=(0,a.useRef)(),f=(0,a.useRef)(),I=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[E,v]=(0,a.useState)(0),[S,h]=s().useReducer(p.I,p.E),[M,N]=(0,a.useState)(""),[b,T]=(0,a.useState)(""),[x,P]=(0,a.useState)([]),A=(0,a.useRef)(),[R,k]=(0,a.useState)(!1);function Z(e){h({type:"IsExPView",payload:!0}),h({type:"IsCollapse",payload:!1}),document.getElementById("BDMBusinessFlowRegistry-MainTable").style.margin="0",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.margin="0",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.display="none",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayGrid"),h({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttBDMBusinessFlowRegistry")&&(document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.width="0%",document.getElementById("overlayPreviewBDMBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.display="none")}(0,a.useEffect)((()=>{e.loading(!0),Z(),h({type:"IsDraft",payload:!1}),h({type:"ShowDetail",payload:!1}),h({type:"Add",payload:!0}),h({type:"editData",payload:[]})}),[]),(0,a.useEffect)((()=>{e.editData&&h({type:"editData",payload:[e.editData]})}),[e.editData]);const L=e=>{h({type:"IsCollapse",payload:!0}),document.getElementById("BDMBusinessFlowRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BDMBusinessFlowRegistry-MainTable").style.width="0%",document.getElementById("BDMBusinessFlowRegistry-MainTable").style.display="none",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.display="block",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayGrid"),h({type:"ExpandDetailValue",payload:!0}),h({type:"PrimaryId",payload:""}),t.current.clear(),e&&f.current.AddClose()},O=t=>{S.IsCollapse?(document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.display="block",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.display="none"):(document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.display="none",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainTable").style.width="auto",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayGrid"))};(0,a.useEffect)((()=>{I((e=>{(0,u.Z)(1).then((e=>{var t=new Array;t.push(e),h({type:"token",payload:t}),v(t.length),z(e)}))}))}),[]);const z=e=>{(0,m.Z)(e,262).then((e=>h({type:"AccessRights",payload:e})))};return(0,a.useEffect)((()=>{e.inboxdata&&(h({type:"ShowDetail",payload:!0}),h({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{l.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),s().createElement("div",null,s().createElement(C.Provider,{value:{cstate:S,cdispatch:h,ContextApi:w,loading:t=>e.loading(t),ShareTab:(t,l)=>e.TabShare(t,l),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>k(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,l)=>e.openDialogAppr(t,l),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>Z(),viewtoggle:()=>{S.ShowDetail&&l.current.viewtoggle()},ExpandDetail:e=>L(e),AttachExpand:t=>(g.current.AttachmentData(S.PrimaryId),void(S.ExpandTableValue?(document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.width="28%",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainTable").style.width="auto",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.display="block"):(document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.display="block",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.width="28%",document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.display="block"))),RefreshTable:()=>{F.current.tableRefresh()},floatRefresh:()=>A.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttBDMBusinessFlowRegistry").style.display="none",attachmentSave:e=>{B.current.tempsave(e,b),T([])},detailview:(e,t)=>{F.current.viewrecord(t),h({type:"ShowDetail",payload:e}),h({type:"EditOpen",payload:!0}),S.ShowDetail&&l.current.viewtoggle()},clear:e=>{S.ShowDetail?(h({type:"ShowDetail",payload:!1}),h({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,l,a)=>{var s,n,i;s=e,i=a,h({type:"IsDraft",payload:n=t}),h({type:"EditOpen",payload:!1}),h({type:"EditIsDraft",payload:n}),L(),h({type:"editData",payload:[s]}),h({type:"screenType",payload:i})},AddOpen:(e,t)=>((e,t)=>{h({type:"ShowDetail",payload:!0}),h({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&f.current.AddOpen(e,t),l.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(h({type:"ShowDetail",payload:!1}),h({type:"ExpandTableValue",payload:!0}),F.current.tableRefresh(),document.getElementById("BDMBusinessFlowRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divBDMBusinessFlowRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BDMBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainTable").style.display="block",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="0%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.display="none",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.display="none",void(document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.width="0%"))}},s().createElement("div",{id:"BDMBusinessFlowRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!S.ExpandTableValue&&s().createElement("div",{id:"BDMBusinessFlowRegistry-MainTable",className:"Maincontent"},0!==E?s().createElement(i.default,{ref:F}):null),s().createElement("div",{id:"BDMBusinessFlowRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},S.ShowDetail?s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divBDMBusinessFlowRegistry-Entry",style:{width:"100%",display:"flex"}},s().createElement(o.default,{inboxdata:e.inboxdata,openDialog:(t,l)=>e.LevelComponentHTMLopenDialogAppr(t,l),parentId:S.PrimaryId,ref:l}),s().createElement("div",{style:{width:"70%"}},s().createElement(y.ZP,{ref:f,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:S.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),s().createElement(c.Z,{ref:B,menurefID:262,fileId:"LogoImgBDMBusinessFlowRegistry",imgloading:e=>N(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewBDMBusinessFlowRegistry",AccessRights:S.AccessRights,frmctrlid:"PvwIm_262_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{S.PrimaryId?g.current.AttachmentData(S.PrimaryId):g.current.tempImg(e),T(e)},clearTempData:S.Add})),s().createElement(d.Z,{ImgAttachment:e=>O(),menurefID:262,fileId:"AttImgBDMBusinessFlowRegistry",imgid:"overlayimgAttBDMBusinessFlowRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,l,a)=>{B.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewBDMBusinessFlowRegistry",ref:g,imgloading:M,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_262_L3_",timglist:e=>B.current.timglist(e)})):s().createElement("div",{className:"displayFlex width100"},s().createElement("div",{id:"divBDMBusinessFlowRegistry-Entry",style:{width:"100%"}},s().createElement(r.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>g.current.clrImgstate(e)}),s().createElement(y.ZP,{ref:f,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:S.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),s().createElement(c.Z,{ref:B,menurefID:262,fileId:"LogoImgBDMBusinessFlowRegistry",imgloading:e=>N(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewBDMBusinessFlowRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{S.PrimaryId?g.current.AttachmentData(S.PrimaryId):g.current.tempImg(e),T(e)},clearTempData:S.Add})),s().createElement(d.Z,{ImgAttachment:e=>O(),menurefID:262,fileId:"AttImgBDMBusinessFlowRegistry",imgid:"overlayimgAttBDMBusinessFlowRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,l,a)=>{B.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewBDMBusinessFlowRegistry",ref:g,imgloading:M,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_262_L3_",timglist:e=>B.current.timglist(e),clearTempData:S.Add}))),S.ExpandTableValue&&s().createElement("div",{id:"BDMBusinessFlowRegistry-MainTable",className:"Maincontent"},0!==E?s().createElement(i.default,{ref:F}):null)),R&&s().createElement(D(),{openDialog:R,closeDialog:e=>k(e),formID:262,PrimID:S.PrimaryId,alert:(e,t,l)=>{},loading:t=>{e.loading(t)}})))}},40388:(e,t,l)=>{l.r(t),l.d(t,{BDMBusinessFlowRegistryPopUpTable:()=>G,default:()=>_}),l(95866);var a=l(92950),s=l.n(a),n=l(45237),i=l(36939),o=l(61201),r=l(50743),d=l(59009),c=l(80366),u=l(51673),m=l(97031),p=l(54180),g=l(47516),D=l(39327),y=(l(14439),l(27848),l(42258),l(40900)),C=(l(83032),l(44117),l(84046)),w=l(43031),B=l(110),F=l(88995),f=l(5109),I=l(61657),E=l(868),v=l(24038),S=l(51209),h=l(8981),M=l(3212),N=l(86893),b=l(53854),T=l(51649),x=l(37106),P=l(5434),A=l(93521),R=l(8687),k=(l(79117),l(24483)),Z=l(71168),L=l.n(Z),O=l(65107),z=l(79352),K=l(94986),V=l(15999);l(11557),window.clickFilter="";const _=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),Z=((0,a.useRef)(null),(0,a.useRef)(null)),[_]=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)(),(0,a.useState)(localStorage.getItem("userid"))),[G]=(0,a.useState)("262"),[U,H]=(0,a.useState)(!1),[Y,q]=(0,a.useState)(!1),[j,$]=(0,a.useState)(0),[W,J]=(0,a.useState)(0),[Q,X]=(0,a.useState)(0),[ee,te]=(0,a.useState)({current:1,pageSize:100}),[le,ae]=(0,a.useState)(""),[se,ne]=(0,a.useState)([]),[ie,oe]=(0,a.useState)({val:"",column:""}),[re,de]=(0,a.useState)([]),[ce,ue]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(""),[ge,De]=(0,a.useState)(""),[ye,Ce]=(0,a.useState)(!1),[we,Be]=(0,a.useState)(!1),[Fe,fe]=(0,a.useState)([]),[Ie,Ee]=(0,a.useState)([]),[ve,Se]=(0,a.useState)([]),[he,Me]=(0,a.useState)(!1),Ne=(0,a.useContext)(e.context?e.context:C.BDMBusinessFlowRegistryContext),{cstate:be,cdispatch:Te}=e.ContextApi?e.ContextApi:(0,C.ContextApi)(),[xe,Pe]=(0,a.useState)({children:[{name:"BDMBusinessFlowRegistry",children:[]}]}),[Ae,Re]=(0,a.useState)(!1);let ke={BDMBusinessFlowIDPK:"",BDMBusinessFlowCode:"",BusinessFlowName:"",FlowDisplayName:"",FlowCode:"",FlowSeqNo:"",BriefDetails:"",IsDefault:"",IsDraft:"",TableKey:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ze,Le]=(0,a.useState)(ke),[Oe,ze]=(0,a.useState)(ke),[Ke,Ve]=(0,a.useState)(ke),[_e,Ge]=(0,a.useState)(ke),[Ue,He]=(0,a.useState)("asc"),[Ye,qe]=(0,a.useState)(""),[je,$e]=(0,a.useState)(!1),[We,Je]=(0,a.useState)(!0),[Qe,Xe]=(0,a.useState)(!0),[et,tt]=(0,a.useState)(!1),[lt,at]=(0,a.useState)(!0),[st,nt]=(0,a.useState)(0),[it,ot]=(0,a.useState)({FlowCode:"",FlowSeqNo:"",BusinessFlowName:"",BriefDetails:"",BDMBusinessFlowCode:"",FlowDisplayName:"",TableKey:""}),[rt,dt]=(0,a.useState)(!1),[ct,ut]=(0,a.useState)([]),[mt,pt]=(0,a.useState)(0),[gt,Dt]=(0,a.useState)(0),[yt,Ct]=(0,a.useState)({current:1,pageSize:10}),[wt,Bt]=(0,a.useState)([]),[Ft,ft]=(0,a.useState)([]),[It,Et]=(0,a.useState)(!1),[vt]=(0,a.useState)(localStorage.getItem("Language")),[St]=(0,a.useState)(localStorage.getItem("Language")),[ht,Mt]=L()("262"),[Nt,bt]=(0,a.useState)({}),[Tt,xt]=(0,a.useState)({}),Pt=[{columns:wt,data:le}];let At=(0,h.Z)();const Rt=e=>At?.[e]?At[e]:e,kt=e=>be.language?.[e]?be.language[e]:e;(0,a.useEffect)((()=>{Kt(ht)}),[ht]),(0,a.useEffect)((()=>{be.token.length>0&&(be.IsDraft?Ot(ee,ke,"DraftBDMBusinessFlowID"):Ot(ee,ke,"BDMBusinessFlowID"))}),[]),(0,a.useEffect)((()=>{we||he||Ae||!me?we?ze(me):he?Ve(me):Ae&&Ge(me):be.IsDraft?Ot(ee,me,"DraftBDMBusinessFlowID"):Ot(ee,me,"BDMBusinessFlowID")}),[me]),(0,a.useEffect)((()=>{!1===e.cardview&&at(e.cardview),e.Dialogview&&q(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&zt(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]),(0,a.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Zt()},viewrecord:e=>{re.map(((t,l)=>{t.BDMBusinessFlowIDPK==e&&Te({type:"editData",payload:[re[l]]})}))}})));const Zt=()=>{be.IsDraft?Ot(ee,ke,"DraftBDMBusinessFlowID"):Ot(ee,ke,"BDMBusinessFlowID")};function Lt(e){Ne.loading(!0);let t=y.v.Api+"FP262S7/",l={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(t,l,be.token[0]).then((t=>{if(200==t.Output.status.code){let l=0;t.Output.data.length>0?(l=parseFloat(t.Output.data[0].TotalCount,10)/10,Dt(t.Output.data[0].TotalCount)):(l=0,Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1)),10==e.pageSize?pt(Math.ceil(l)):20==e.pageSize?pt(Math.ceil(l/2)):50==e.pageSize?pt(Math.ceil(l/5)):100==e.pageSize&&pt(Math.ceil(l/10)),ut(t.Output.data),Ne.loading(!1)}}))}const Ot=(e,t,l,a,s,n)=>{Ne.loading(!0),"DraftPage"!==a&&$e(be.IsDraft);let i=y.v.Api+"FP262S3/",o={data:{p1:s||(t&&t.BDMBusinessFlowIDPK?t.BDMBusinessFlowIDPK:null),p2:t&&t.BDMBusinessFlowCode?t.BDMBusinessFlowCode:null,p3:t&&t.BusinessFlowName?t.BusinessFlowName:null,p4:t&&t.FlowDisplayName?t.FlowDisplayName:null,p5:t&&t.FlowCode?t.FlowCode:null,p6:t&&t.FlowSeqNo?t.FlowSeqNo:null,p7:t&&t.BriefDetails?t.BriefDetails:null,p8:null,p9:"DraftBDMBusinessFlowID"==l?"1":"0",p10:t&&t.TableKey?t.TableKey:null,p11:null,p12:t&&t.IsActive,p13:null,p14:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p15:t&&t.CreatedTtm?t.CreatedTtm:null,p16:t&&t.CreatedTtmType?t.CreatedTtmType:null,p17:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p18:null,p19:s?1:e.current,p20:e.pageSize,p21:l,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};(0,u.Z)(i,o,be.token[0]).then((i=>{if(s)(0,R.m)(i,Te,a,n,Ne,"BDMBusinessFlowIDPK");else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let t=0;i.Output.data.length>0?(t=parseFloat(i.Output.data[0].TotalCount,10)/10,J(i.Output.data[0].TotalCount),Te({type:"count",payload:i.Output.data[0].TotalCount}),X(i.Output.data[0].DraftCnt),"DraftPage"==a&&X(i.Output.data[0].TotalCount)):t=0,10==e.pageSize?$(Math.ceil(t)):20==e.pageSize?$(Math.ceil(t/2)):50==e.pageSize?$(Math.ceil(t/5)):100==e.pageSize&&$(Math.ceil(t/10)),be.ExpandTableValue&&(be.ExpandDetailValue?document.getElementById("BDMBusinessFlowRegistry-MainTable").style.display="block":(document.getElementById("BDMBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BDMBusinessFlowRegistry-MainDiv").classList.add("displayGrid"))),de(i.Output.data),Ne.loading(!1),document.getElementById("divBDMBusinessFlowRegistry-Entry").style.height="auto"}}else Ne.loading(!1),"DraftBDMBusinessFlowID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),$e(!1)):(de([]),te({current:1,pageSize:10}),$(0),J(0),Te({type:"count",payload:0}),Object.values(t).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[i.Output.status.message]}),Ne.loading(!1)}))};function zt(e,t){Ne.loading(!0);const l=y.v.Api+"FP262S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:je?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(l,a,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),Te({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?$(Math.ceil(l)):20==t.pageSize?$(Math.ceil(l/2)):50==t.pageSize?$(Math.ceil(l/5)):100==t.pageSize&&$(Math.ceil(l/10)),de(e.Output.data),Ne.loading(!1)}else de([]),$(0),J(0),Te({type:"count",payload:0}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function Kt(e){let t=[],l=[],a=[],s=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");s.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Te({type:"language",payload:Object.assign({},...s)}),ot(l.reduce(((e,t)=>(e[t]="",e)),{})),fe(e),Ee(t),Se(l),Bt(a),ft(l)}const Vt=(e,t,l)=>{Te({type:"IsDraft",payload:t}),Te({type:"EditOpen",payload:!1}),Te({type:"EditIsDraft",payload:t}),Ne.ExpandDetail(!1),l?Ne.AddOpen(e.BDMBusinessFlowIDPK,t):Te({type:"editData",payload:[e]})},_t=()=>{ce?(document.getElementById("BDMBusinessFlowRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BDMBusinessFlowRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BDMBusinessFlowRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ue(!1),we?(document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):lt?he?(document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMBusinessFlowRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BDMBusinessFlowRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BDMBusinessFlowRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BDMBusinessFlowRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ue(!0),we?(document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):lt?he?(document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMBusinessFlowRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),Ce(!1),window.clickFilter=!ce};return s().createElement("div",null,s().createElement(i.Z,{expanded:We,onChange:()=>()=>{Je(Qe)}},s().createElement(r.Z,null,s().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},s().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},s().createElement("div",{className:"displayFlex"},Ae||we||!je?s().createElement("div",{className:"ListHeader displayFlex"},s().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[262]"},`${kt("262")} (${W})`)):s().createElement("div",{className:"ListHeader displayFlex"},s().createElement(E.ZP,{title:"List",placement:"top"},s().createElement("div",{id:"fld262L3TCList",onClick:()=>{Qe||(Te({type:"Add",payload:!0}),Te({type:"Add",payload:!0})),Ne.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Ot({current:1,pageSize:100},ke,"BDMBusinessFlowID"),$e(!1),Te({type:"IsDraft",payload:!1})}),500)):(Ot({current:1,pageSize:100},ke,"BDMBusinessFlowID"),$e(!1),Te({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},s().createElement(T.u1R,{className:"backButtonList"}))),s().createElement("p",{className:"DraftP"},"Drafts(",W,")")))),s().createElement("div",{style:{display:"flex"}},we||he||Ae?null:s().createElement("div",{className:"searchbar",id:"fld262L3TCSearchBar"},s().createElement(v.Z,{className:"search_input",type:"text",id:"BDMBusinessFlowRegistrygridsearch",placeholder:"Search",value:ge,onChange:e=>{if(De(e),"0"==e.length)return Ot(ee,ke,je?"DraftBDMBusinessFlowID":"BDMBusinessFlowID",je&&"DraftPage"),!1;zt(e,{current:1,pageSize:100})}}),s().createElement("div",{className:"search_icon"},ge?s().createElement("div",{id:"fld262L3TCCloseIcon",onClick:()=>{De(""),Zt()}},s().createElement(c.Z,{className:"InputSearchIcon"})):s().createElement("div",{id:"fld262L3TCInputSearchIcon",onClick:()=>{document.getElementById("BDMBusinessFlowRegistrygridsearch").focus()}},s().createElement(F.Z,{className:"InputSearchIcon"})))),s().createElement("div",{style:{marginLeft:"5px"}},be.AccessRights.IsAdd&&s().createElement(M.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>{Ne.ExpandDetail(!0),Ne.Approval(!1)}}))))),s().createElement(o.Z,{className:"AccDetails"},s().createElement("div",{className:"tableCard"},s().createElement("div",{id:"BDMBusinessFlowRegistry-HeaderItems",className:"displayFlex padding"},s().createElement("div",{className:"tableHeaderItems displayFlex"},!je&&s().createElement("div",{frmctrlid:"fld262L3TCFilterDataIsDraft",id:"BDMBusinessFlowRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>_t()},s().createElement(E.ZP,{title:Rt("Filter Data"),placement:"top"},s().createElement(g.Ol$,{className:"tableFilterColumnIcon"})),s().createElement("span",{className:"iconinfo"},Rt("Filter Data"))),Y||we||Ae||je?null:s().createElement(p.Z,{title:"262",formctrlidprint:"fld262L3TCExportPrint",formctrlidexport:"fld262L3TCExportTable",formctrlidrefresh:"fld262L3TCExportRefresh",data:se,exportData:Pt,Items:Ft,columnIndex:wt,TableVisibleItem:Ie,userGridViewFormID:G,TableTotalCount:W,triggerApi:e=>{((e,t,a,s,n)=>{if(0===W)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let i=y.v.Api+"FP262S3/",o={data:{p1:e&&e.BDMBusinessFlowIDPK?e.BDMBusinessFlowIDPK:null,p2:e&&e.BDMBusinessFlowCode?e.BDMBusinessFlowCode:null,p3:e&&e.BusinessFlowName?e.BusinessFlowName:null,p4:e&&e.FlowDisplayName?e.FlowDisplayName:null,p5:e&&e.FlowCode?e.FlowCode:null,p6:e&&e.FlowSeqNo?e.FlowSeqNo:null,p7:e&&e.BriefDetails?e.BriefDetails:null,p8:null,p9:je?"1":"0",p10:e&&e.TableKey?e.TableKey:null,p11:null,p12:e&&e.IsActive,p13:null,p14:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p15:e&&e.CreatedTtm?e.CreatedTtm:null,p16:e&&e.CreatedTtmType?e.CreatedTtmType:null,p17:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p18:null,p19:ee.current,p20:W,p21:je?"DraftBDMBusinessFlowID":"BDMBusinessFlowID",p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${kt(262)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,u.Z)(i,o,be.token[0],n).then((e=>{(0,A.PDF_Excel_Generate)(e,Ne,Ft,ae,l,n)}))})(me,ie.column,0,0,e)},Refresh:()=>{De(""),Z.current.clearItem(),te({current:1,pageSize:100}),be.IsDraft?Ot({current:1,pageSize:100},ke,"DraftBDMBusinessFlowID"):Ot({current:1,pageSize:100},ke,"BDMBusinessFlowID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:l}),we||he||Ae||!Qe?null:!je&&be.AccessRights.IsAdd&&s().createElement("div",{id:"BDMBusinessFlowRegistrycoldiv",className:"buttoncard",onClick:()=>{ye?(document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("BDMBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.display="none",document.getElementById("BDMBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("BDMBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.width="25%",document.getElementById("BDMBusinessFlowRegistryTabDiv").style.width="75%",document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.display="block",document.getElementById("BDMBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("BDMBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BDMBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("BDMBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),ue(!1)}},s().createElement(E.ZP,{title:"{t('Manage Columns')}",placement:"top"},s().createElement("span",null,s().createElement(D.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld262L3TCFilterDataIsAdd"}))),s().createElement("span",{className:"iconinfo"},Rt("Manage Columns"))),!je&&U&&!we&&!Ae&&!Y&&Qe&&s().createElement("div",{id:"fld262L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},s().createElement(E.ZP,{title:Rt("Migration"),placement:"top"},s().createElement("span",null,s().createElement(z.ncH,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"iconinfo"},Rt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!Y&&Qe&&!Ae&&!we&&!je&&s().createElement("div",null,s().createElement("div",{id:"BDMBusinessFlowRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{rt?dt(!1):(dt(!0),Lt({current:1,pageSize:100}))}},s().createElement("div",{id:"fld262L3TCTableScrollData"},s().createElement(E.ZP,{title:Rt("Table Scroll Data"),placement:"top"},s().createElement(V.Z,{className:"tableFilterColumnIcon"}))),s().createElement("span",{className:"iconinfo"},Rt("Table Scroll Data")))),be.AccessRights.IsAdd&&!Ae&&!we&&!je&&s().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},s().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(Q>0){nt(0),te({current:1,pageSize:100}),Qe||(Te({type:"Add",payload:!0}),Te({type:"Add",payload:!0})),Ne.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Ot({current:1,pageSize:100},ke,"DraftBDMBusinessFlowID"),$e(!0),Te({type:"IsDraft",payload:!0}),Ce(!1),at(!0),Be(!1),Me(!1)}),500)):(Ot({current:1,pageSize:100},ke,"DraftBDMBusinessFlowID"),$e(!0),Te({type:"IsDraft",payload:!0}),Ce(!1),at(!0),Be(!1),Me(!1)),document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("BDMBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("BDMBusinessFlowRegistryFilterDiv").style.display="none"}else Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},s().createElement(E.ZP,{title:Rt("Drafts"),placement:"top"},s().createElement("div",null,s().createElement(x.rNm,{className:"DraftIcon"}))),s().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Rt("Drafts"))))),we||he||Ae||je?null:s().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ae||je?null:s().createElement("div",null,Qe&&s().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},s().createElement("div",{className:"b2",id:"button-11"},s().createElement("div",{id:"fld262L3TCListView",className:lt?"buttonList":"buttonGrid",onClick:()=>{ue(!0),at(!0),Et(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(b.umT,null)),s().createElement("span",null,"List")),s().createElement("div",{id:"fld262L3TCGridView",className:lt||It?"buttonGrid":"buttonList",onClick:()=>{at(!1),Et(!1)}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(N.aCJ,null)),s().createElement("span",null,"Card")),s().createElement("div",{className:It?"buttonList":"buttonGrid",id:"fld262L3TCTileView",onClick:()=>{Et(!0),at(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},s().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},s().createElement(P.f_H,null)),s().createElement("span",null,"Tile"))))))),s().createElement("div",{id:"BDMBusinessFlowRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},s().createElement("div",{id:"BDMBusinessFlowRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&s().createElement(m.default,{CloseBtnClk:()=>_t(),searchData:e=>{pe(e||Nt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));xt(t)},formID:G,data:()=>{},visibleData:()=>{},token:be.token[0],userGrid:ht,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Zt()}}),ye&&!we&&!he&&s().createElement(f.Z,{frmctrlid:"fld262L3TCTableColumnOrder",loading:e=>Ne.loading(e),AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:ye,userID:_,userGridViewFormID:G,saved:(e,t)=>{e&&Kt(t),Mt(t)},Token:be.token[0]})),s().createElement("div",{id:"BDMBusinessFlowRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},lt?s().createElement("div",null,we&&s().createElement(ListComponent,{onLoad:we,data:(e,t)=>{!function(e,t){Te({type:"editData",payload:[e]}),ue(!1),document.getElementById("BDMBusinessFlowRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("BDMBusinessFlowRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("BDMBusinessFlowRegistry-ShareView").classList.remove("ViewBtnAct"),Be(!1),Me(!1),Re(!1);let l={FlowCode:"",FlowSeqNo:"",BusinessFlowName:"",BriefDetails:"",BDMBusinessFlowCode:"",FlowDisplayName:"",TableKey:""};Le(l),Ot({current:1,pageSize:100},l,"BDMBusinessFlowID")}(e)},json:Oe}),!we&&!Ae&&s().createElement("div",null,rt?s().createElement(K.Z,{data:ct,expanded:()=>{},edit:(e,t,l)=>{Vt(e,t,l),Ne.ExpandTable(!1),Te({type:"EditIsDraft",payload:t}),Te({type:"EditOpen",payload:!1})}}):s().createElement(O.Z,{ref:Z,frmctrlid:"tblcs_262_L3_",id:"BDMBusinessFlowRegistry-MainTable",headerdata:Ie,tablesearchparams:it,searchvalue:e=>{ot(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...Tt};bt(t),te({current:1,pageSize:10}),Ot({current:1,pageSize:10},t,je?"DraftBDMBusinessFlowID":"BDMBusinessFlowID",je&&"DraftPage")},bodydata:re,ondrag:(e,t)=>{Vt(t,je,!0)},bodyitem:ve,visibleitem:Ie,isdraft:je,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:G,accessrights:be.AccessRights,expanded:()=>{},edit:(e,t,l)=>{Object.keys(e).map(((a,s)=>{a.includes("IDPK")&&Ot(ee,null,t?"DraftBDMBusinessFlowID":"BDMBusinessFlowID",t&&"DraftPage",e[a],l)}))},viewtoggle:Ne.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return s().createElement(k.ZP,{loading:e=>Ne.loading(e),alertmsg:e=>Ne.alert(e),ConfirmAlert:e=>{Ne.ConfirmAlert(e)},data:be.editData,AddOpen:be.EditOpen,parentId:t.BDMBusinessFlowIDPK,IsDraft:be.EditIsDraft,tableview:e})}}))):s().createElement(S.Z,{frmctrlid:"fld262L3TCExpandedCardDual",data:re,id:"BDMBusinessFlowRegistry",title:"Business Flow  Helpdesk",cardTile:!!It,visibleitem:Ie,gridCountmdlg:Qe?4:12,gridCountxssm:Qe?6:12,expanded:()=>{},edit:Vt,viewtoggle:Ne.viewtoggle,onDoubleClick:(e,t)=>{Y?Ne.select(e):("edit"==t?(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:je}),Te({type:"ShowDetail",payload:!1}),Ne.ExpandDetail(!0)):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:je}),Te({type:"ShowDetail",payload:!0}),Ne.ExpandDetail(!0),Ne.viewtoggle()),Qe&&(ue(!1),Ce(!1)))}})))))),we||he||Ae?null:Qe?rt?s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(w.Z,{count:mt,color:"primary",page:yt.current,onChange:(e,t)=>{Ct({current:t,pageSize:yt.pageSize}),pt(t),Lt({current:t,pageSize:yt.pageSize})}}),s().createElement("div",null,s().createElement(B.Z,{value:yt.pageSize,frmctrlid:"fld262L3TCSelectPagination",onChange:e=>{Ct({current:1,pageSize:e.target.value}),Lt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},s().createElement("option",{value:10},"10"),s().createElement("option",{value:20},"20"),s().createElement("option",{value:50},"50"),s().createElement("option",{value:100},"100"))),Qe&&s().createElement("p",{className:"per-page"},"/ per page Of (",gt,")")):s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(w.Z,{count:j,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),je)Ot({current:t,pageSize:ee.pageSize},me,"DraftBDMBusinessFlowID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";ge.length>0?zt(ge,{current:t,pageSize:ee.pageSize}):Ot({current:t,pageSize:ee.pageSize},me,"BDMBusinessFlowID")}}}),s().createElement("div",null,s().createElement(B.Z,{value:ee.pageSize,frmctrlid:"fld262L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),je?Ot({current:1,pageSize:e.target.value},Ze,"DraftBDMBusinessFlowID","DraftPage"):ge.length>0?zt(ge,{current:1,pageSize:e.target.value}):Ot({current:1,pageSize:e.target.value},Ze,"BDMBusinessFlowID")},className:"BootstrapInputStyle2"},s().createElement("option",{value:10},"10"),s().createElement("option",{value:20},"20"),s().createElement("option",{value:50},"50"),s().createElement("option",{value:100},"100"))),Qe&&s().createElement("p",{className:"per-page "},"/ per page Of (",W,") ")):s().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},s().createElement(I.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(W),page:st,onPageChange:(e,t)=>{nt(t),Ot({current:t+1,pageSize:ee.pageSize},ke,je?"DraftBDMBusinessFlowID":"BDMBusinessFlowID",je&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{nt(0)}})))})),G=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),d=(0,a.useRef)(null),c=(0,a.useRef)(null),[m]=((0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[g,D]=L()("262"),[F,f]=(0,a.useState)(!1),[I,E]=(0,a.useState)(0),[v,S]=(0,a.useState)(0),[M,N]=(0,a.useState)({current:1,pageSize:100}),[b,T]=(0,a.useState)(""),[x,P]=(0,a.useState)([]),[R,k]=(0,a.useState)({val:"",column:""}),[Z,z]=(0,a.useState)([]),[K,V]=(0,a.useState)(!1),[_,G]=(0,a.useState)(""),[U,H]=(0,a.useState)([]),[Y,q]=(0,a.useState)([]),[j,$]=(0,a.useState)([]),W=(0,a.useContext)(C.BDMBusinessFlowRegistryContext),{cstate:J,cdispatch:Q}=(0,C.ContextApi)();let X={BDMBusinessFlowIDPK:"",BDMBusinessFlowCode:"",BusinessFlowName:"",FlowDisplayName:"",FlowCode:"",FlowSeqNo:"",BriefDetails:"",IsDefault:"",IsDraft:"",TableKey:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,a.useState)(!1),[le,ae]=(0,a.useState)(!0),[se,ne]=(0,a.useState)(!1),[ie,oe]=(0,a.useState)(!0),[re,de]=(0,a.useState)(0),[ce,ue]=(0,a.useState)({FlowCode:"",FlowSeqNo:"",BusinessFlowName:"",BriefDetails:"",BDMBusinessFlowCode:"",FlowDisplayName:"",TableKey:""}),[me,pe]=(0,a.useState)([]),[ge,De]=(0,a.useState)([]),[ye,Ce]=(0,a.useState)([]),[we,Be]=(0,a.useState)(!1),[Fe,fe]=(0,a.useState)("");let Ie=(0,h.Z)();const Ee=[{columns:me,data:b}];(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],s=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");s.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...s)}),ue(l.reduce(((e,t)=>(e[t]="",e)),{})),H(e),q(t),$(l),pe(a),De(l)}(g)}),[g]),(0,a.useImperativeHandle)(t,(()=>({tableRefresh:()=>{ve()},viewrecord:e=>{Z.map(((t,l)=>{t.BDMBusinessFlowIDPK==e&&Q({type:"editData",payload:[Z[l]]})}))},DialogTableProps:e=>{f(e)},searchData:(t,l,a)=>{W.loading(!0),d.current&&d.current.clearItem(),fe(a),N({current:1,pageSize:10}),X=e.ApiParamType.params,Se({current:1,pageSize:100},l,a),c.current&&c.current.clearItem()}}))),(0,a.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&f(e.Dialogview)}),[e.cardview,e.Dialogview]);const ve=()=>{J.IsDraft?Se(M,X,"DraftBDMBusinessFlowID"):Se(M,X,"BDMBusinessFlowID")},Se=async(t,l,a,s)=>{if(J.token[0]){if(W.loading(!0),"DraftPage"!==s&&te(J.IsDraft),await fe((e=>(a=e,e))),l&&Object.keys(l).length>0){let e=Object.keys(l),t={},a=[],s=Object.values(l);e.map((e=>{a.push(e.split("_")[0])}));for(let e=0;e<a.length;e++)t[a[e]]=s[e];l=t}G(l);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:l&&l.BDMBusinessFlowIDPK?l.BDMBusinessFlowIDPK:null,p2:l&&l.BDMBusinessFlowCode?l.BDMBusinessFlowCode:null,p3:l&&l.BusinessFlowName?l.BusinessFlowName:null,p4:l&&l.FlowDisplayName?l.FlowDisplayName:null,p5:l&&l.FlowCode?l.FlowCode:null,p6:l&&l.FlowSeqNo?l.FlowSeqNo:null,p7:l&&l.BriefDetails?l.BriefDetails:null,p8:null,p9:"DraftBDMBusinessFlowID"==a?"1":"0",p10:l&&l.TableKey?l.TableKey:null,p11:null,p12:l&&l.IsActive,p13:null,p14:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p15:l&&l.CreatedTtm?l.CreatedTtm:null,p16:l&&l.CreatedTtmType?l.CreatedTtmType:null,p17:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p18:null,p19:t.current,p20:t.pageSize,p21:a,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};(0,u.Z)(n,i,J.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,S(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?E(Math.ceil(l)):20==t.pageSize?E(Math.ceil(l/2)):50==t.pageSize?E(Math.ceil(l/5)):100==t.pageSize&&E(Math.ceil(l/10)),z(e.Output.data)}}else W.alert({open:!0,color:"warning",message:[(l="There is no Record Found",Ie?.[l]?Ie[l]:l)]}),z([]),E(0),S(0),Q({type:"count",payload:0});var l}))}};return(0,a.useEffect)((()=>{ne(J.ExpandTableValue)}),[J.ExpandTableValue]),s().createElement("div",null,s().createElement(i.Z,{expanded:le,onChange:()=>()=>{ae(se)}},s().createElement(r.Z,null,s().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},s().createElement("div",{style:{width:"60%"}},s().createElement("div",{className:"displayFlex"},s().createElement("div",{className:"ListHeader displayFlex"},s().createElement("p",{className:"ListP"}," ",e.CardName," (",v,")")))))),s().createElement(o.Z,{className:"AccDetails"},s().createElement("div",{className:"tableCard"},s().createElement("div",{id:"BDMBusinessFlowRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:s().createElement("div",{className:"tableHeaderItems displayFlex"},s().createElement(p.Z,{formctrlidprint:"fld262L3TCExportPrint",formctrlidexport:"fld262L3TCExportTable",formctrlidrefresh:"fld262L3TCExportRefresh",title:"262",data:x,exportData:Ee,Items:ge,columnIndex:me,triggerApi:t=>{((t,a,s)=>{if(0===v)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.BDMBusinessFlowIDPK?t.BDMBusinessFlowIDPK:null),p2:t&&t.BDMBusinessFlowCode?t.BDMBusinessFlowCode:null,p3:t&&t.BusinessFlowName?t.BusinessFlowName:null,p4:t&&t.FlowDisplayName?t.FlowDisplayName:null,p5:t&&t.FlowCode?t.FlowCode:null,p6:t&&t.FlowSeqNo?t.FlowSeqNo:null,p7:t&&t.BriefDetails?t.BriefDetails:null,p8:null,p9:ee?"1":"0",p10:t&&t.TableKey?t.TableKey:null,p11:null,p12:t&&t.IsActive,p13:null,p14:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p15:t&&t.CreatedTtm?t.CreatedTtm:null,p16:t&&t.CreatedTtmType?t.CreatedTtmType:null,p17:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p18:null,p19:1,p20:v,p21:Fe,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};var o;W.loading(!1),W.alert({open:!0,color:"success",message:[`${o="262",J.language?.[o]?J.language[o]:o} - ${s.alertName}, Once you have downloaded the file, you will be notified`]}),(0,u.Z)(n,i,J.token[0],s).then((e=>{(0,A.PDF_Excel_Generate)(e,W,ge,T,l,s)}))})(_,R.column,t)},TableVisibleItem:Y,userGridViewFormID:"262",TableTotalCount:v,Refresh:()=>{Se({current:1,pageSize:100},_,Fe),N({current:1,pageSize:100}),c.current&&c.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:l})),s().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},s().createElement(w.Z,{count:I,siblingCount:0,color:"primary",page:M.current,onChange:(e,t)=>{if(N({current:t,pageSize:M.pageSize}),ee)Se({current:t,pageSize:M.pageSize},_,"DraftBDMBusinessFlowID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";Se({current:t,pageSize:M.pageSize},_,"BDMBusinessFlowID")}}}),s().createElement("div",null,s().createElement(B.Z,{value:M.pageSize,onChange:e=>{N({current:1,pageSize:e.target.value}),Se({current:1,pageSize:e.target.value},_,"BDMBusinessFlowID")},className:"BootstrapInputStyle2"},s().createElement("option",{value:10},"10"),s().createElement("option",{value:20},"20"),s().createElement("option",{value:50},"50"),s().createElement("option",{value:100},"100"))),se&&s().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),s().createElement("div",{id:"BDMBusinessFlowRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},s().createElement("div",{id:"BDMBusinessFlowRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?s().createElement(MUITableMulti,{ref:c,type:e.viewtype,id:"BDMBusinessFlowRegistry",headerdata:Y,tablesearchparams:ce,searchvalue:e=>{ue(e),N({current:1,pageSize:100}),Se({current:1,pageSize:100},e,ee?"DraftBDMBusinessFlowID":"BDMBusinessFlowID",ee&&"DraftPage")},bodydata:Z,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:Y,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{F?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,l,a):W.edit(t,l,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{z(e)},color:!0,isexpanded:!1}):s().createElement(O.Z,{frmctrlid:"tblcs_262_L3_",ref:d,id:"BDMBusinessFlowRegistryTable",type:e.viewtype,headerdata:Y,tablesearchparams:ce,searchvalue:e=>{let t={..._,...e};ue(e),G(t),N({current:1,pageSize:100}),Se(M,t,Fe)},bodydata:Z,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:Y,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{F?W.select(t):(e.editdata(t,"view"),W.edit(t,l,1!=t.Entry))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},97031:(e,t,l)=>{l.r(t),l.d(t,{default:()=>R}),l(95866),l(99058);var a=l(92950),s=l.n(a),n=l(80366),i=l(51673),o=l(282),r=l(868),d=l(78513),c=l(14439),u=l(27848),m=l(40900),p=l(64059),g=l(24038),D=l(8981),y=l(47516),C=l(86893),w=l(84046),B=l(33681),F=l(63163),f=(l(35131),l(61956),l(93657)),I=l(53375),E=l(52663),v=l(66083),S=l(29525),h=l(66856),M=l(39803),N=l(99940),b=l(17149),T=l(62810),x=l(30553),P=l(92381),A=l(25108);const R=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[R,k]=(0,a.useState)([]),[Z,L]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,z]=(0,a.useState)(""),[K,V]=(0,a.useState)({}),[_,G]=(0,a.useState)(!0),[U,H]=(0,a.useState)(!1),{cstate:Y,cdispatch:q}=e.ContextApi?e.ContextApi:(0,w.ContextApi)(),[j,$]=(0,a.useState)(1),[W,J]=(0,a.useState)(0),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({}),[le,ae]=(0,a.useState)([]),[se,ne]=(0,a.useState)(!0),[ie,oe]=(0,a.useState)(!1),[re,de]=(0,a.useState)(""),[ce,ue]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(!1),[ge,De]=(0,a.useState)(!1),[ye,Ce]=(0,a.useState)(""),we=(0,a.useRef)(null),[Be,Fe]=(0,a.useState)({});let fe=localStorage.getItem("Language");const Ie={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ee=(0,D.Z)();const ve=e=>Ee[e]?Ee[e]:e,Se=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ie[fe]];function he(){V({}),te({}),e.searchData({}),H(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});Fe(l),ae(t)}),[]),(0,a.useEffect)((()=>()=>{we.current&&we.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Me=async(t,l,a,s)=>{X(!0);try{we.current&&we.current.abort();const n=new AbortController;we.current=n;let o="",r=[],d={};await L((e=>(o=e.name,e))),await V((e=>(r=e,e))),await te((e=>(d=e,e)));const c=m.v.Api+"FP262S3/",u={data:{p1:"BDMBusinessFlowIDPK"==l?null:await xe(),p2:"BDMBusinessFlowCode"==o&&a.length>0?"%"+a+"%":null,p3:"BusinessFlowName"==o&&a.length>0?"%"+a+"%":null,p4:"FlowDisplayName"==o&&a.length>0?"%"+a+"%":null,p5:"FlowCode"==o&&a.length>0?"%"+a+"%":null,p6:"FlowSeqNo"==o&&a.length>0?"%"+a+"%":null,p7:"BriefDetails"==o&&a.length>0?"%"+a+"%":null,p8:null,p9:null,p10:"TableKey"==o&&a.length>0?"%"+a+"%":null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:"p14"==o&&a.length>0?a:null,p15:null,p16:null,p17:null,p18:null,p19:s||1,p20:10,p21:t,p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}},p=await(0,i.Z)(c,u,e.token,"",n.signal);if(!p)return!1;const g=p.Output.status.code,D=p.Output.data;if("200"===g)if(D.length>0)if(1===s){let e=be(D,o),t=Ne(e,K[o],l);k(t),J(t.length>0?t[0].TotalCount:K[o].length)}else{let e=[...R,...D],t=be(e,o);J(t.length<10?t.length:D[0].TotalCount),k(be(t,o))}else O.length>0&&k([]),J(R.length);else e.alertmsg("error",[p.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Ne=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),be=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l)),Te=async t=>{let l="",a={};await V((e=>(l=e,e)));let s=[...le],n=[];for(let e of s){let t=l[e]?.map((e=>e.BDMBusinessFlowIDPK)).toString();t&&n.push(t)}await te((e=>(a=e,e)));let i={BDMBusinessFlowIDPK:n?[...new Set(n)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:""};"saveFav"==t?Re("save",i):(e.searchData(i),H(!1))};async function xe(){let e={};await V((t=>(e=t,t)));let t=[...le],l=[];for(let a of t){let t=e[a]?.map((e=>e.BDMBusinessFlowIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Pe(t,l,a,s,n,i){let o={[s]:{From:t,Type:a,To:l}},r={};te((e=>({...e,...o})));const d={...K};let c=[...le],u=[];for(let e of c){let t=d[e]?.map((e=>e.BDMBusinessFlowIDPK)).toString();t&&u.push(t)}await te((e=>(r=e,e)));let m={BDMBusinessFlowIDPK:u?[...new Set(u)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?n:null};e.searchData(m)}function Ae(){return s().createElement(p.Z,{frmctrlid:"fld262L3TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,s)=>{Pe(e,t,l,Z.name,a)},keyboardback:()=>{H(!1),L({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(Z.name),fieldname:Z.name,save:e=>{alert(!0)}})}const Re=(t,l)=>{(0,P.Z)(t,e.formID,l,re).then((e=>{const t=e.Output.data;Ce(t)}))};return s().createElement("div",null,s().createElement(E.Z,{onClose:()=>ue(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},s().createElement(v.Z,{id:"customized-dialog-title",onClose:()=>ue(!1)},"Add Favorite"),s().createElement(S.Z,{dividers:!0,style:{minWidth:"500px"}},s().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},s().createElement(M.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>de(e.target.value),fullWidth:!0})),s().createElement(x.Z,{style:{color:"#337ab7"},control:s().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>pe(e.target.checked)}),label:"Quick"}),s().createElement(x.Z,{style:{color:"#337ab7"},control:s().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:s().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:s().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ge,onChange:e=>De(e.target.checked)}),label:"Dashboard"})),s().createElement(h.Z,null,s().createElement(o.Z,{onClick:()=>{Te("saveFav"),ue(!1)},color:"primary"},"Save"))),U?"Created Ttm"===Z.name||Z.name.includes("Date")?s().createElement(Ae,null):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},s().createElement(c.Z,null,s().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},s().createElement("p",{className:"columnHeaderp"},Se(Z.idpk)," (",R.length,"/",W,")")),s().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},s().createElement(r.ZP,{title:ve("Close"),placement:"top"},s().createElement("div",{className:"FilterItemClose",align:"right"},s().createElement(n.Z,{id:"fld262L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),L({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),K[Z.name]&&s().createElement("div",{className:"FiltercloseAlign",align:"right"},s().createElement(o.Z,{frmctrlid:"fld262L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await V((t=>(e=t,A.log("clear fewItems",e),t))),e[Z.name]=[],Me(Z.type,Z.fieldidpk,"",1)})()}},s().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),s().createElement("div",{className:"FilterParentDiv"},s().createElement("div",{"data-list-scroll-container":"true"},s().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},s().createElement("div",{className:"FilterMaximize"},_?s().createElement(r.ZP,{title:"Maximize",placement:"right"},s().createElement("span",null,s().createElement(C.D7o,{className:"FilterMaximizeIcon",onClick:()=>{G(!1)}}))):s().createElement(r.ZP,{title:"Minimize",placement:"right"},s().createElement("span",null,s().createElement(C.dOw,{className:"FilterMaximizeIcon",onClick:()=>{G(!0)}})))),s().createElement("ul",null,K[Z.name]&&K[Z.name].map(((e,t)=>s().createElement("div",{key:t,tabIndex:"-1",className:_?"filterSelectedItems":"filterSelectedItemsMaximize"},s().createElement("div",{className:"filterSelectedItemNames"},s().createElement("span",null,e[Z.name])),s().createElement("div",{className:"filterSelectedItemClose"},s().createElement("div",{id:"fildacls_3_L2_"+e[Z.name],onClick:()=>(async(e,t)=>{$(1);let l=K[Z.name].filter((t=>t!=e)),a={};await V((e=>(a=e,e))),a[Z.name]=l,V(a),k((t=>[e,...t]))})(e)},s().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),s().createElement("div",{className:"displayFlex width100 FilterSearch"},s().createElement("div",{className:"FilterSearchInputDiv"},s().createElement(g.Z,{frmctrlid:"fld262L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:ve("Enter ")+" "+Se(Z.idpk),onChange:e=>{z(e),Me(Z.type,Z.fieldidpk,e,1,xe())}})),s().createElement("div",{id:"fld262L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:Te},s().createElement(r.ZP,{title:"",placement:"top"},s().createElement(o.Z,{className:"ColumnSearchButton"},s().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&s().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},s().createElement(B.Z,{color:"secondary"})),s().createElement("div",{id:"fld262L3TFCScrollYDefault",className:"height65 scrollYDefault"},R.length>0&&R.map(((e,t)=>s().createElement("div",{id:"filda_3_L2_"+e[Z.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await V((e=>(a=e,e)));let s=a[Z.name];t[Z.name]=s?[...l,...s]:l,a={...a,...t},V(a),k((t=>t.filter((t=>t!=e))))})(e)}},s().createElement(d.Z,{className:"DotIcon"}),s().createElement("span",null,e[Z.name])))),R.length+0<W&&R.length>0&&s().createElement("div",{id:"fld262L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(j+1),Me(Z.type,Z.fieldidpk,"",j+1)}},s().createElement("p",null," more... ")),0===R.length&&s().createElement("div",null,s().createElement("div",{className:"NoDataImage"},s().createElement("img",{src:m.v.NoData,alt:"NoImage"})),s().createElement("div",{className:"NoDataDesc"},s().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):s().createElement("div",null,s().createElement("div",{className:"columnHeader displayFlex"},s().createElement("div",{className:"columnHeaderTitle"},s().createElement(y.Ol$,{className:"columnHeaderIcon"}),s().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),s().createElement("div",{className:"columnHeaderbtn",align:"right"},s().createElement(r.ZP,{title:"Favorite List",placement:"top"},ie?s().createElement(n.Z,{className:"favlisticon",onClick:()=>{oe(!1),Ce(""),he()}}):s().createElement(f.Z,{className:"favlisticon",onClick:()=>{oe(!0),Re("select"),he()}})),Object.keys(K).length>0&&s().createElement(r.ZP,{title:"Save Favorites",placement:"top"},s().createElement(I.Z,{className:"favlisticon",onClick:()=>{ue(!0)}})),s().createElement(r.ZP,{title:"",placement:"top"},s().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld262L3TFCColumApplyBttn"},s().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),s().createElement(r.ZP,{title:"",placement:"top"},s().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld262L3TFCColumnCloseButton"},s().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),s().createElement("div",{className:"height65"},s().createElement("div",{id:"fld262L3TFCFilItems",className:"FilterItems"},!ye&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return s().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),z(""),k([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"BDMBusinessFlowIDPK";L({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBDMBusinessFlowID",fieldidpk:t}),Me(e.IsForeign?"Filter"+e.FieldName:"FilterBDMBusinessFlowID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?s().createElement(s().Fragment,null,Se(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&s().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?s().createElement(s().Fragment,null,s().createElement("span",null,Se(e.AdminUserGridViewIDPK)),s().createElement(F.Z,{checked:"1"==se,onChange:t=>{ne(t.target.checked),Pe("","",e.FieldName,"",t.target.checked)}})):s().createElement(s().Fragment,null,s().createElement("span",null,Se(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,K[l]?.length>0&&s().createElement("div",{className:"FilterItemDivSelected"},s().createElement("span",{className:"RoundedDivName"},K[l][0][l]),K[l].length>1&&s().createElement("span",{className:"RoundedDivName"},K[l][1][l]),K[l].length>2&&s().createElement("span",{className:"RoundedDivNumber"},"+"+(K[l].length-2))))));var l})),ye&&ye.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return s().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Me("FilterBDMBusinessFlowID",l),Te("")}},s().createElement(s().Fragment,null,e.TableFilterFavName))}))))))}))},22386:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var a=l(92950),s=l.n(a),n=l(45237),i=(l(37148),l(3212)),o=l(29800),r=l(14439),d=l(27848),c=(l(10966),l(36939)),u=l(61201),m=l(50743),p=l(84046),g=(l(21392),l(51673)),D=l(40900),y=l(26537),C=(l(24038),l(89021)),w=(l(77366),l(97829),l(8981)),B=(l(63163),l(1695)),F=(l(79117),l(99216)),f=(l(35131),l(61956),l(51649)),I=l(61924),E=l.n(I);const v=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[I,v]=((0,n.useSelector)((e=>e.form)),(0,a.useState)([])),[S,h]=(0,a.useState)(!0),[M,N]=(0,a.useState)(e.showDetail),[b,T]=(0,a.useState)(""),[x,P]=s().useState(!1),[A,R]=s().useState(""),[k,Z]=s().useState(!1),L=(0,a.useContext)(p.BDMBusinessFlowRegistryContext),{cstate:O,cdispatch:z}=(0,p.ContextApi)(),[K,V]=(0,a.useState)(!1),[_,G]=(0,a.useState)(""),[U,H]=(0,a.useState)(""),[Y,q]=(0,a.useState)("");let j=(0,w.Z)();(0,a.useEffect)((()=>{O.editData.length>0&&(v(O.editData),P(!1),z({type:"PrimaryId",payload:O.editData[0].BDMBusinessFlowIDPK}))}),[O.editData]),(0,a.useEffect)((()=>{O.showTableview&&q(O.showTableview)}),[O.showTableview]),(0,a.useEffect)((()=>{h(O.ExpandDetailValue)}),[O.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{h(e),P(null)},viewtoggle:()=>{P(!1)},viewlistProps:(t,l)=>{!function(t,l){let a=D.v.Api+"FP262S3/",s={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:1,p20:10,p21:l?"DraftBDMBusinessFlowID":"BDMBusinessFlowID",p22:null,p23:null,p24:localStorage.getItem("UserGroupID"),p25:localStorage.getItem("userid")}};(0,y.Z)(0).then((e=>{(0,g.Z)(a,s,e).then((e=>{L.loading(!1),"200"==e.Output.status.code&&v(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===x&&l.current.clear()}})));const $=e=>j?.[e]?j?.[e]:e,W=e=>O.language?.[e]?O.language[e]:e;function J(e,t){}const Q=e=>(0,C.trimFunc)(I[0].FlowCode)?(0,C.trimFunc)(I[0].FlowSeqNo)?(0,C.trimFunc)(I[0].BusinessFlowName)?void L.ConfirmAlert(s().createElement(E(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:$("Are you sure?"),onConfirm:()=>(()=>{L.loading(!0),L.ConfirmAlert(null),z({type:"IsDraft",payload:!1});let e={url:D.v.Api+"FP262S2/",PrimID:I[0].BDMBusinessFlowIDPK,ParamType:"",state:I[0],active:1,token:O.token[0],DefaultPrimaryId:""};(0,C.saveComponent)(e).then((e=>{const t=e[0].status;let l=e[0].Data,a=new Array,s=new Array;"200"===t.code&&(l.map((e=>{e&&(a.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),a.some((e=>"1"==e))?(L.alert({open:!0,color:"warning",message:s}),L.loading(!1)):(()=>{L.loading(!0);let e={url:D.v.Api+"FP262S1/",PrimID:I[0].BDMBusinessFlowIDPK,ParamType:"",state:I[0],active:1,token:O.token[0],DefaultPrimaryId:""};(0,C.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(L.alert({open:!0,color:"success",message:[t.message]}),L.loading(!1),L.ShowTableDiv(),L.RefreshTable(),L.Approval(!0))}))})())}))})(),onCancel:()=>L.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:$("Yes"),cancelBtnText:$("Cancel"),showCancel:!0},O.PrimaryId?$("Do you want to Update?"):$("Do you want to Save?"))):(L.alert({open:!0,color:"warning",message:[$("Please enter the")+""+W("BusinessFlowName")]}),!1):(L.alert({open:!0,color:"warning",message:[$("Please enter the")+""+W("FlowSeqNo")]}),!1):(L.alert({open:!0,color:"warning",message:[$("Please enter the")+""+W("FlowCode")]}),!1);return s().createElement("div",{className:"SubContent_1"},s().createElement(c.Z,{expanded:S,onChange:()=>()=>{e.expandTable&&h(!S)}},!x&&s().createElement(m.Z,null,s().createElement(r.Z,{container:!0},s().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},s().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s().createElement("div",{className:"displayFlex EntryViewHeader"},s().createElement("span",{style:{cursor:"pointer"}},s().createElement(f.u1R,{className:"backButtonList",onClick:()=>{L.ShowTableDiv(),L.RefreshTable()}})),s().createElement("p",{className:"DListP"},O.IsDraft?"Draft ":"",W("262"))))))),s().createElement(u.Z,{style:{display:"block"}},I.map(((e,t)=>s().createElement("div",{key:t},s().createElement(F.Z,{tableName:"BDMBusinessFlowRegistry",tableID:262,parentID:e.BDMBusinessFlowIDPK,fldid:"fld262L3VCContainer",OpenSlideComponent:J,index:t,val:e,tf:W,t:$,title:"10.0.0.59-3:08:17 PM-18-7[262]"}))))),s().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&O.AccessRights.IsAdd&&s().createElement(i.Z,{className:"L1AddBtnCommon",onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:[]}),z({type:"PrimaryId",payload:O.editData[0].BDMBusinessFlowIDPK})},disabled:!1}),O.IsDraft&&s().createElement(o.Z,{onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:I}),z({type:"PrimaryId",payload:O.editData[0].BDMBusinessFlowIDPK})},disabled:!1}),s().createElement(B.Z,{name:O.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld262L3ECSaveBtnApprovalStatus",onClick:()=>{Q()}}))))}))}}]);