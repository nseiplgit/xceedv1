/*! For license information please see 1680.a40ab1d18a1cb5dcd00a.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl0l2=self.webpackChunk_shared_routing_viewsl0l2||[]).push([[1680],{41722:(e,n,t)=>{t.d(n,{D:()=>l,E:()=>a});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{}};function l(e,n){switch(n.type){case"count":return{...e,count:n.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:n.payload};case"EditIsDraft":return{...e,EditIsDraft:n.payload};case"IsDraft":return{...e,IsDraft:n.payload};case"EditOpen":return{...e,EditOpen:n.payload};case"loading":return{...e,loading:n.payload};case"AccessRights":return{...e,AccessRights:n.payload};case"createEasy":return{...e,createEasy:n.payload};case"ConfirmAlert":return{...e,ConfirmAlert:n.payload};case"editData":return{...e,editData:n.payload};case"ShowDetail":return{...e,ShowDetail:n.payload};case"Add":return{...e,Add:n.payload};case"viewonly":return{...e,viewonly:n.payload};case"showDetail":return{...e,showDetail:n.payload};case"ExpandTableValue":return{...e,ExpandTableValue:n.payload};case"id":return{...e,id:n.payload};case"PrimaryId":return{...e,PrimaryId:n.payload};case"token":return{...e,token:n.payload};case"showData":return{...e,showData:n.payload};case"showTableview":return{...e,showTableview:n.payload};case"language":return{...e,language:n.payload};default:throw new Error(`Unhandled action type: ${n.type}`)}}},74765:(e,n,t)=>{t.r(n),t.d(n,{default:()=>V});var a=t(92950),l=t.n(a),i=t(45237),r=t(36939),o=t(61201),c=t(50743),d=(t(3212),t(30553)),s=t(61956),p=t(44528),m=t(51673),u=t(37148),g=t(99090),F=t(35131),y=t.n(F),D=t(14439),I=t(27848),R=t(1695),C=t(61924),f=t.n(C),B=t(26537),v=t(40900),h=t(40826),E=t(11377),S=(t(24038),t(92371));const N={EnterKeyValues:{FinBanRecConRegistry:["FinBankReconCode","FinBankReconDate","IsReceipt","FinReceiptCode","FinPaymentCode","FinReAmount","FinReconDesp","FinReconCheqNo","LedgerName","LedgerName1","FinSalseInvocieNo"]},Label:{FinBanRecConRegistry:{FinBankReconCode:["FinBankReconCode"],FinBankReconDate:["FinBankReconCode"],IsReceipt:["FinBankReconCode"],FinReceiptID:["FinReceiptCode","FinRcptDate","FinRcptTotalAmount"],FinPaymentID:["FinPaymentCode","FinPaymentDate","FinPaymentTotalAmount"],FinReAmount:["FinBankReconCode"],FinReconDesp:["FinBankReconCode"],FinReconCheqNo:["FinBankReconCode"],FinLedgerID:["FinLedgerCode","LedgerName"],FinLedgerID1:["FinBankReconCode"],FinSalesInvoiceID:["FinBankReconCode"]}},LabelHeader:{FinBanRecConRegistry:{FinBankReconCode:["Bank Reconciliation Code"],FinBankReconDate:["Bank Reconciliation Code"],IsReceipt:["Bank Reconciliation Code"],FinReceiptID:["Receipt No","Receipt Date","FinRcptTotalAmount"],FinPaymentID:["Payment No","Receipt Date","FinPaymentTotalAmount"],FinReAmount:["Bank Reconciliation Code"],FinReconDesp:["Bank Reconciliation Code"],FinReconCheqNo:["Bank Reconciliation Code"],FinLedgerID:["Ledger Code","Ledger Name"],FinLedgerID1:["FinBankReconCode"],FinSalesInvoiceID:["FinBankReconCode"]}},Property:{FinBanRecConRegistry:{FinBankReconCode:{id:"fld1521_39719",labelID:"FinBankReconCode",maxLength:"50",labelname:"Bank Reconciliation Code",frmctrlid:"fld1521_39719",frmctrlidname:"FinBankReconCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},FinBankReconDate:{id:"fld1521_39720",labelID:"FinBankReconDate",maxLength:"",labelname:"Bank Reconciliation Date",frmctrlid:"fld1521_39720",frmctrlidname:"FinBankReconDate",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},IsReceipt:{id:"fld1521_39724",labelID:"IsReceipt",maxLength:"",labelname:"Receipt",frmctrlid:"fld1521_39724",frmctrlidname:"IsReceipt",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FinReceiptID:{id:"fld1521_39731",clearID:"FinBanRecConRegistryFinReceiptCodeClear",type:"select",labelID:"FinReceiptIDPK",labelname:"Receipt",fielddisplayname:"FinReceiptCode",fieldOrder:"4",frmctrlid:"fld1521_39731",frmctrlidname:"FinReceiptID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FinPaymentID:{id:"fld1521_39727",clearID:"FinBanRecConRegistryFinPaymentCodeClear",type:"select",labelID:"FinPaymentIDPK",labelname:"Payment",fielddisplayname:"FinPaymentCode",fieldOrder:"1",frmctrlid:"fld1521_39727",frmctrlidname:"FinPaymentID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FinReAmount:{id:"fld1521_39721",labelID:"FinReAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld1521_39721",frmctrlidname:"FinReAmount",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!0,autogen:!1},FinReconDesp:{id:"fld1521_39723",labelID:"FinReconDesp",maxLength:"200",labelname:"Description ",frmctrlid:"fld1521_39723",frmctrlidname:"FinReconDesp",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FinReconCheqNo:{id:"fld1521_39722",labelID:"FinReconCheqNo",maxLength:"-1",labelname:"",frmctrlid:"fld1521_39722",frmctrlidname:"FinReconCheqNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FinLedgerID:{id:"fld1521_39728",clearID:"FinBanRecConRegistryLedgerNameClear",type:"select",labelID:"FinLedgerIDPK",labelname:"Ledger",fielddisplayname:"LedgerName",fieldOrder:"4",frmctrlid:"fld1521_39728",frmctrlidname:"FinLedgerID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FinLedgerID1:{id:"fld1521_39729",clearID:"FinBanRecConRegistryLedgerName1Clear",type:"select",labelID:"FinLedgerID1PK",labelname:"",fielddisplayname:"LedgerName1",fieldOrder:"4",frmctrlid:"fld1521_39729",frmctrlidname:"FinLedgerID1",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FinSalesInvoiceID:{id:"fld1521_39730",clearID:"FinBanRecConRegistryFinSalseInvocieNoClear",type:"select",labelID:"FinSalesInvoiceIDPK",labelname:"",fielddisplayname:"FinSalseInvocieNo",fieldOrder:"4",frmctrlid:"fld1521_39730",frmctrlidname:"FinSalesInvoiceID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{FinBanRecConRegistry:{FinReceiptID:["FinReceiptCode","FinRcptDate","FinLedgerID","FinRcptPaymentType","FinLedgerID1","BankID","OrganisationID","FinRcptNarattion","FinRcptPaidAmt"],FinPaymentID:["FinLedgerID","FinPaymentDate","FinPaymentCode","BankID","OrganisationID"],FinLedgerID:["LedgerCode","LedgerName","OpeningBalance","FinGroupID"],FinSalesInvoiceID:["IsFinSalInvInclude","IsPerForma","BankID","CurrencyID","FinLedgerID","OrganisationID","TaxID","FinSalseInvocieNo","FinSalesInvoiceDate","FinSalesInvoiceRefNo","FinSalesInvOrderRefNo","FinSalInvNarattion","FinSalInvSubTotal","FinSalInvTaxAmount","FinSalInvTotalAmount","FinSalInvCurrencyValue","FinSalInvAAmount"]}}};var k=t(1680),T=t(8981),P=t(6562),b=t(63163),x=t(45155),w=t(79352),L=t(49174),A=(t(38773),t(19089),t(16233)),Z=t.n(A);t(82729),t(75355),t(11107);const O={FinBankReconIDPK:"",FinBankReconCode:"",FinBankReconDate:"",FinBankReconDateType:"",FinBankReconDateBetween:"",FinReAmount:"",FinReconCheqNo:"",FinReconDesp:"",IsReceipt:!1,IsDraft:!1,Remarks:"",FinPaymentID:null,FinLedgerID:null,FinLedgerID1:"",FinSalesInvoiceID:null,FinReceiptID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LedgerCode:"",LedgerName:"",CurrencyID:null,BaseCurrencyName:"",CurrencyCode:"",MatProPayTermsID:null,MatProPayTermsCode:"",TermsName:"",Validity:"",FinVoucherTypeID:null,FinVoucherTypeCode:"",FinVoucherTypeName:"",BankID:null,BankCode:"",BankName:"",BankAccountNo:"",BankBranch:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",FinPaymentCode:"",FinPaymentOrderRefNo:"",FinPaymentRefNo:"",FinPaymentTotalAmount:"",FinGroupID:null,Description:"",GroupCode:"",GroupName:"",FinReceiptCode:"",FinRcptDate:"",FinRcptDateType:"",FinRcptDateBetween:"",Type:"FinBankReconID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},V=(0,a.forwardRef)(((e,n)=>{(0,i.useSelector)((e=>e.form));const[t,F]=(0,a.useState)(!1),[C,A]=(0,a.useState)(!0),[V,M]=(0,a.useState)(!1),[z,K]=(0,a.useState)(!1),[G,_]=(0,a.useState)(""),[U,q]=(0,a.useState)(!1),[j,Y]=(0,a.useState)([]),[H,$]=(0,a.useState)(null),[W,J]=(0,a.useReducer)(S.Z,O),[Q,X]=(0,a.useState)(!1),[ee,ne]=(0,a.useState)([]),[te,ae]=(0,a.useState)(!1),le=(0,a.useContext)(e.context?e.context:k.FinBanRecConRegistryContext),{cstate:ie,cdispatch:re}=e.ContextApi?e.ContextApi:(0,k.ContextApi)(),[oe,ce]=(0,a.useState)(0),[de,se]=(0,a.useState)(""),pe=(0,a.useRef)(null),[me,ue]=Z()("1521"),[ge,Fe]=(0,a.useState)(!0),[ye,De]=(0,a.useState)(""),[Ie,Re]=(0,a.useState)(!0),[Ce,fe]=(0,a.useState)(!0),[Be,ve]=(0,a.useState)(!1);let he=(0,T.Z)();const[Ee,Se]=(0,a.useState)({}),Ne=e=>he[e]?he[e]:e,ke=n=>ie.language?.[n]?ie.language[n]:e.createEasy?Ee?.[n]:n;(0,a.useEffect)((()=>{xe(),ie.editData.length<0&&(0,B.Z)(1).then((e=>{Oe(1,null,"SetDefaultFinBankReconID",e)}))}),[]),(0,a.useEffect)((()=>{ie.editData.length>0?(be(ie.editData[0],""),M(!0)):ie.Add&&(xe(),Oe(1,null,"SetDefaultFinBankReconID",ie.token[0]),M(!0))}),[ie.editData]),(0,a.useEffect)((()=>{!function(e){let n=[];e&&e.map((e=>{let t=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[t]]})})),Se(Object.assign({},...n))}(me)}),[me]),(0,a.useImperativeHandle)(n,(()=>({clear:()=>{xe()},CreateEasyProps:(e=!0,n)=>{ue(!0),n?(_e(n),M(e)):(xe(),M(e))}})));const Te=e=>e?e.split("-").reverse().join("-"):null,Pe=e=>{if(e){let n=Te(e);return"Invalid Date"!=new Date(n)?(0,h.format)(new Date(n),"yyyy-MM-dd"):e}return null},be=(n,t)=>{Object.keys(n).forEach((function(e){0==n[e]&&(n[e]=null)})),K(n.IsDraft),"SetDefaultFinBankReconID"==t?se(n.FinBankReconIDPK):(ce(e.primid?Number(e.primid):n.FinBankReconIDPK?n.FinBankReconIDPK:0),re({type:"PrimaryId",payload:n.FinBankReconIDPK})),J({type:"text",name:"FinBankReconCode",value:n.FinBankReconCode?n.FinBankReconCode:""}),J({type:"text",name:"FinBankReconDate",value:n.FinBankReconDate?Te(n.FinBankReconDate):null}),J({type:"boolean",name:"IsReceipt",boolean:!!n.IsReceipt&&n.IsReceipt}),J({type:"number",name:"FinReceiptID",number:n.FinReceiptID?Number(n.FinReceiptID):0}),J({type:"text",name:"FinReceiptCode",value:n.FinReceiptCode}),J({type:"number",name:"FinPaymentID",number:n.FinPaymentID?Number(n.FinPaymentID):0}),J({type:"text",name:"FinPaymentCode",value:n.FinPaymentCode}),J({type:"number",name:"FinReAmount",number:Number(n.FinReAmount)}),J({type:"text",name:"FinReconDesp",value:n.FinReconDesp?n.FinReconDesp:""}),J({type:"text",name:"FinReconCheqNo",value:n.FinReconCheqNo?n.FinReconCheqNo:""}),J({type:"number",name:"FinLedgerID",number:n.FinLedgerID?Number(n.FinLedgerID):0}),J({type:"text",name:"LedgerName",value:n.LedgerName}),J({type:"number",name:"FinLedgerID1",number:n.FinLedgerID1?Number(n.FinLedgerID1):0}),J({type:"text",name:"LedgerName1",value:n.LedgerName1}),J({type:"number",name:"FinSalesInvoiceID",number:n.FinSalesInvoiceID?Number(n.FinSalesInvoiceID):0}),J({type:"text",name:"FinSalseInvocieNo",value:n.FinSalseInvocieNo}),n.IsDraft?A(!0):A(!("1"!=n.IsActive&&!n.IsActive))},xe=()=>{Y([]),ce(0),se(""),e.createEasy||le.resetImg(),re({type:"PrimaryId",payload:""}),J({type:"text",name:"FinBankReconCode",value:""}),J({type:"text",name:"FinBankReconDate",value:""}),J({type:"boolean",name:"IsReceipt",boolean:!1}),J({type:"text",name:"FinReceiptID",value:null}),J({type:"text",name:"FinReceiptCode",value:""}),document.getElementById("FinBanRecConRegistryFinReceiptCodeClear")&&document.getElementById("FinBanRecConRegistryFinReceiptCodeClear").click(),J({type:"text",name:"FinPaymentID",value:null}),J({type:"text",name:"FinPaymentCode",value:""}),document.getElementById("FinBanRecConRegistryFinPaymentCodeClear")&&document.getElementById("FinBanRecConRegistryFinPaymentCodeClear").click(),J({type:"number",name:"FinReAmount",number:0}),J({type:"text",name:"FinReconDesp",value:""}),J({type:"text",name:"FinReconCheqNo",value:""}),J({type:"text",name:"FinLedgerID",value:null}),J({type:"text",name:"LedgerName",value:""}),document.getElementById("FinBanRecConRegistryLedgerNameClear")&&document.getElementById("FinBanRecConRegistryLedgerNameClear").click(),J({type:"text",name:"FinLedgerID1",value:null}),J({type:"text",name:"LedgerName1",value:""}),document.getElementById("FinBanRecConRegistryLedgerName1Clear")&&document.getElementById("FinBanRecConRegistryLedgerName1Clear").click(),J({type:"text",name:"FinSalesInvoiceID",value:null}),J({type:"text",name:"FinSalseInvocieNo",value:""}),document.getElementById("FinBanRecConRegistryFinSalseInvocieNoClear")&&document.getElementById("FinBanRecConRegistryFinSalseInvocieNoClear").click(),A(!0),_(""),Fe(!0),Re(!0),fe(!0)},we=n=>{le.loading(!0),le.ConfirmAlert(null);const t=v.v.Api+"FP1521S2/",a={data:[{p1:"SetDefaultFinBankReconID"==n?"NORECORDS"!=de&&de?de:0:oe,p2:Ue(W.FinBankReconCode),p3:W.FinBankReconDate?Pe(W.FinBankReconDate):null,p4:W.FinReAmount?Number(W.FinReAmount):0,p5:Ue(W.FinReconCheqNo),p6:Ue(W.FinReconDesp),p7:W.IsReceipt,p8:!1,p9:"SetDefaultFinBankReconID"==n?"SetDefault":null,p10:W.FinPaymentID?W.FinPaymentID:0,p11:W.FinLedgerID?W.FinLedgerID:0,p12:W.FinLedgerID1?W.FinLedgerID1:0,p13:W.FinSalesInvoiceID?W.FinSalesInvoiceID:0,p14:W.FinReceiptID?W.FinReceiptID:0,p15:C,p16:"SetDefaultFinBankReconID"==n,p17:localStorage.getItem("userid"),p18:y()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,B.Z)(0).then((n=>{(0,m.Z)(t,a,n).then((n=>{const t=n.Output[0].status;let a=n.Output[0].Data,l=new Array,i=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(le.alert({open:!0,color:"warning",message:i}),le.loading(!1)):(n=>{Fe(!0),Re(!0),fe(!0),le.loading(!0),le.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const t=v.v.Api+"FP1521S1/",a={data:[{p1:oe,p2:Ue(W.FinBankReconCode),p3:W.FinBankReconDate?Pe(W.FinBankReconDate):null,p4:W.FinReAmount?Number(W.FinReAmount):0,p5:Ue(W.FinReconCheqNo),p6:Ue(W.FinReconDesp),p7:W.IsReceipt,p8:!1,p9:null,p10:W.FinPaymentID?W.FinPaymentID:0,p11:W.FinLedgerID?W.FinLedgerID:0,p12:W.FinLedgerID1?W.FinLedgerID1:0,p13:W.FinSalesInvoiceID?W.FinSalesInvoiceID:0,p14:W.FinReceiptID?W.FinReceiptID:0,p15:C,p16:!1,p17:localStorage.getItem("userid"),p18:y()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,B.Z)(0).then((n=>{(0,s.Z)(t,a,n).then((n=>{const t=n[0].status;200==t.code?(le.alert({open:!0,color:"success",message:[t.message]}),document.getElementById("overlayimgAttFinBanRecConRegistry"),le.loading(!1),e.createEasy||ie.ShowDetail||(le.RefreshTable(),le.attachmentSave(n[0].Data.IDPK),e.clrImgstate(!0)),xe(),ie.AccessRights.IsApproval&&le.Approval(!0),document.getElementById("overlayimgAttFinBanRecConRegistry")&&(document.getElementById("overlayimgAttFinBanRecConRegistry").style.width="0%",document.getElementById("overlayimgAttFinBanRecConRegistry").style.display="none",document.getElementById("divFinBanRecConRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("FinBanRecConRegistry-MainTable").style.display="block")):(le.alert({open:!0,color:"warning",message:[t.message]}),le.loading(!1)),M(!0),Oe(1,null,"SetDefaultFinBankReconID",ie.token[0])}))}))})()):(le.alert({open:!0,color:"warning",message:[n.Output[0].status.message]}),le.loading(!1))}))}))};function Le(n,t,a,l){if(!(ie.count>0))return le.alert({open:!0,color:"warning",message:[Ne("Please save atleast one record")]}),!1;if(!((()=>{const e={...W};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((n=>{delete e[n]})),Object.keys(e).filter((n=>e[n]))})().length>0))return le.alert({open:!0,color:"warning",message:[Ne("Please enter the primary fields")]}),!1;{Fe(!0),Re(!0),fe(!0),le.loading(!0),le.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const t=v.v.Api+"FP1521S1/",a={data:[{p1:"SetDefaultFinBankReconID"==l?"NORECORDS"!=de&&de?de:0:oe,p2:Ue(W.FinBankReconCode),p3:W.FinBankReconDate?Pe(W.FinBankReconDate):null,p4:W.FinReAmount?Number(W.FinReAmount):0,p5:Ue(W.FinReconCheqNo),p6:Ue(W.FinReconDesp),p7:W.IsReceipt,p8:!0,p9:"SetDefaultFinBankReconID"==l?"SetDefault":null,p10:W.FinPaymentID?W.FinPaymentID:0,p11:W.FinLedgerID?W.FinLedgerID:0,p12:W.FinLedgerID1?W.FinLedgerID1:0,p13:W.FinSalesInvoiceID?W.FinSalesInvoiceID:0,p14:W.FinReceiptID?W.FinReceiptID:0,p15:!1,p16:"SetDefaultFinBankReconID"==l,p17:localStorage.getItem("userid"),p18:y()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,B.Z)(0).then((l=>{(0,s.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(n?le.alert({open:!0,color:"warning",message:[Ne("Deleted Successfully")]}):le.alert({open:!0,color:"success",message:[Ne("Saved to Draft")]}),le.loading(!1),le.attachmentSave(t[0].Data.IDPK),xe(),le.RefreshTable(),e.clrImgstate(!0)):(le.alert({open:!0,color:"warning",message:[a.message]}),le.loading(!1))}))}))}}function Ae(e){return CreateEasy(e,ie,re,le,pe),!1}function Ze(e,t){return AdvanceSearch(e,t,k.FinBanRecConRegistryContext,(0,k.ContextApi)(),Me,n),!1}const Oe=(n,t,a,l,i,r)=>{const o=v.v.Api+"FP1521S3/",c={data:{p1:null,p2:null,p3:W.FinBankReconDate?W.FinBankReconDate:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:1==W.IsReceipt,p10:null,p11:null,p12:"0"==W.FinPaymentID?null:W.FinPaymentID,p13:"0"==W.FinLedgerID?null:W.FinLedgerID,p14:"0"==W.FinLedgerID1?null:W.FinLedgerID1,p15:"0"==W.FinSalesInvoiceID?null:W.FinSalesInvoiceID,p16:"0"==W.FinReceiptID?null:W.FinReceiptID,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:t?"%"+t+"%":null,p25:t?"%"+t+"%":null,p26:"0"==W.CurrencyID?null:W.CurrencyID,p27:t?"%"+t+"%":null,p28:t?"%"+t+"%":null,p29:"0"==W.MatProPayTermsID?null:W.MatProPayTermsID,p30:t?"%"+t+"%":null,p31:t?"%"+t+"%":null,p32:t?"%"+t+"%":null,p33:"0"==W.FinVoucherTypeID?null:W.FinVoucherTypeID,p34:t?"%"+t+"%":null,p35:t?"%"+t+"%":null,p36:"0"==W.BankID?null:W.BankID,p37:t?"%"+t+"%":null,p38:t?"%"+t+"%":null,p39:t?"%"+t+"%":null,p40:t?"%"+t+"%":null,p41:"0"==W.TaxID?null:W.TaxID,p42:t?"%"+t+"%":null,p43:t?"%"+t+"%":null,p44:t?"%"+t+"%":null,p45:t?"%"+t+"%":null,p46:t?"%"+t+"%":null,p47:t?"%"+t+"%":null,p48:t?"%"+t+"%":null,p49:"0"==W.FinGroupID?null:W.FinGroupID,p50:t?"%"+t+"%":null,p51:t?"%"+t+"%":null,p52:t?"%"+t+"%":null,p53:t?"%"+t+"%":null,p54:W.FinRcptDate?W.FinRcptDate:null,p55:null,p56:null,p57:n,p58:10,p59:a,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,n,t)=>(e[n]=t>Object.keys(c.data).length-8?c.data[n]:null,e)),{});X(!0);const s={data:d};return(0,m.Z)(o,"ClearAll"==a?s:c,"SetDefaultFinBankReconID"==a&&l?l:ie.token[0]).then((e=>{const t=e.Output.status.code,l=e.Output.data;if("200"==t){const e=l.length;if(i)return 1==l.length?l[0]:{};ne(1==n?e>0?l:[]:ee.concat(l)),"SetDefaultFinBankReconID"==a&&(e>0?be(l[0],"SetDefaultFinBankReconID"):se("NORECORDS")),X(!1)}else le.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Ve=(n,t,a)=>{const l=v.v.Api+"FP1521S3/",i={data:{p1:null,p2:"FinBankReconCode"==a&&t?"%"+t+"%":null,p3:null,p4:null,p5:null,p6:"FinReAmount"==a&&t?"%"+t+"%":null,p7:"FinReconCheqNo"==a&&t?"%"+t+"%":null,p8:"FinReconDesp"==a&&t?"%"+t+"%":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:n,p58:10,p59:"FinBankReconID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},r={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,n,t)=>(e[n]=t>Object.keys(i.data).length-8?i.data[n]:null,e)),{})};X(!0),(0,m.Z)(l,"ClearAll"==a?r:i,ie.token[0]).then((e=>{const t=e.Output.status.code,l=e.Output.data;if("200"==t){const e=l.length;1==n?("FinBankReconCode"==a&&Fe(e>0),"FinReconDesp"==a&&Re(e>0),"FinReconCheqNo"==a&&fe(e>0),ne(l)):("FinBankReconCode"==a&&Fe(!0),"FinReconDesp"==a&&Re(!0),"FinReconCheqNo"==a&&fe(!0),ne(ee.concat(l))),X(!1)}else le.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Me=(0,a.useCallback)((async(e,n,t)=>{"text"==t?J({type:t,name:n,value:e}):"number"==t?J({type:t,name:n,number:Number(e)}):"boolean"==t?J({type:t,name:n,boolean:e}):"date"==t?J({type:"text",name:n,value:e}):"select"==t&&("FinReceiptID"==n?(J({type:"text",name:"FinReceiptID",value:e.FinReceiptIDPK?e.FinReceiptIDPK:null}),J({type:"text",name:"FinReceiptCode",value:e.FinReceiptCode?e.FinReceiptCode:null}),J({type:"text",name:"FinReAmount",value:e.FinPaymentTotalAmount?e.FinPaymentTotalAmount:null})):"FinPaymentID"==n?(J({type:"text",name:"FinPaymentID",value:e.FinPaymentIDPK?e.FinPaymentIDPK:null}),J({type:"text",name:"FinPaymentCode",value:e.FinPaymentCode?e.FinPaymentCode:null}),J({type:"text",name:"FinReAmount",value:e.FinRcptTotalAmount?e.FinRcptTotalAmount:null})):"FinLedgerID"==n&&(J({type:"text",name:"FinLedgerID",value:e.FinLedgerIDPK?e.FinLedgerIDPK:null}),J({type:"text",name:"LedgerName",value:e.LedgerName?e.LedgerName:null})))}),[W]);function ze(e){if("FinReceiptID"==e){if(!W.FinReceiptID)return!1;J({type:"text",name:"FinReceiptID",value:null}),J({type:"text",name:"FinReceiptCode",value:""}),document.getElementById("FinBanRecConRegistryFinReceiptCodeClear")&&document.getElementById("FinBanRecConRegistryFinReceiptCodeClear").click(),J({type:"text",name:"FinReAmount",value:""})}else if("FinPaymentID"==e){if(!W.FinPaymentID)return!1;J({type:"text",name:"FinPaymentID",value:null}),J({type:"text",name:"FinPaymentCode",value:""}),document.getElementById("FinBanRecConRegistryFinPaymentCodeClear")&&document.getElementById("FinBanRecConRegistryFinPaymentCodeClear").click(),J({type:"text",name:"FinReAmount",value:""})}else if("FinLedgerID"==e){if(!W.FinLedgerID)return!1;J({type:"text",name:"FinLedgerID",value:null}),J({type:"text",name:"LedgerName",value:""}),document.getElementById("FinBanRecConRegistryLedgerNameClear")&&document.getElementById("FinBanRecConRegistryLedgerNameClear").click()}else if("FinLedgerID1"==e){if(!W.FinLedgerID1)return!1}else if("FinSalesInvoiceID"==e&&!W.FinSalesInvoiceID)return!1}function Ke(e){if("FinReceiptID"==e){if(!W.FinReceiptID)return!1}else if("FinPaymentID"==e){if(!W.FinPaymentID)return!1}else if("FinLedgerID"==e){if(!W.FinLedgerID)return!1;J({type:"text",name:"FinLedgerID",value:null})}else if("FinLedgerID1"==e){if(!W.FinLedgerID1)return!1}else if("FinSalesInvoiceID"==e&&!W.FinSalesInvoiceID)return!1}const Ge=e=>{le.ConfirmAlert(l().createElement(f(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>_e(e),onCancel:()=>le.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("No"),showCancel:!0},Ne("Do you want to update this record?")))};function _e(e){le.ConfirmAlert(null),K(e.IsDraft),ce(Number(e.FinBankReconIDPK)?Number(e.FinBankReconIDPK):0),J({type:"text",name:"FinBankReconCode",value:e.FinBankReconCode?e.FinBankReconCode:""}),J({type:"text",name:"FinBankReconDate",value:e.FinBankReconDate?Te(e.FinBankReconDate):null}),J({type:"boolean",name:"IsReceipt",boolean:!!e.IsReceipt&&e.IsReceipt}),J({type:"number",name:"FinReceiptID",number:e.FinReceiptID?Number(e.FinReceiptID):0}),J({type:"text",name:"FinReceiptCode",value:e.FinReceiptCode?e.FinReceiptCode:""}),J({type:"number",name:"FinPaymentID",number:e.FinPaymentID?Number(e.FinPaymentID):0}),J({type:"text",name:"FinPaymentCode",value:e.FinPaymentCode?e.FinPaymentCode:""}),J({type:"text",name:"FinReAmount",value:e.FinReAmount?e.FinReAmount:""}),J({type:"text",name:"FinReconDesp",value:e.FinReconDesp?e.FinReconDesp:""}),J({type:"text",name:"FinReconCheqNo",value:e.FinReconCheqNo?e.FinReconCheqNo:""}),J({type:"number",name:"FinLedgerID",number:e.FinLedgerID?Number(e.FinLedgerID):0}),J({type:"text",name:"LedgerName",value:e.LedgerName?e.LedgerName:""}),J({type:"number",name:"FinLedgerID1",number:e.FinLedgerID1?Number(e.FinLedgerID1):0}),J({type:"text",name:"LedgerName1",value:e.LedgerName1?e.LedgerName1:""}),J({type:"number",name:"FinSalesInvoiceID",number:e.FinSalesInvoiceID?Number(e.FinSalesInvoiceID):0}),J({type:"text",name:"FinSalseInvocieNo",value:e.FinSalseInvocieNo?e.FinSalseInvocieNo:""})}const Ue=e=>"string"==typeof e?e.trim():e;return l().createElement("div",null,l().createElement(r.Z,{expanded:V,onChange:e=>{}},l().createElement(c.Z,null,l().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},V&&l().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},l().createElement("div",{className:"HeadTxt",title:"10.0.0.50-2:53:36 PM-9-6[1521]"}," ",Ne("Add "),ke("1521")),l().createElement("div",{className:"displayFlex EntryHeaderBtn"},ie.AccessRights.IsDelete&&l().createElement("div",{className:"GridAlign"},l().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},l().createElement(P.Z,{row:!0},l().createElement(d.Z,{labelPlacement:"bottom",id:"fld1521L2ECEntryCheckbox",control:l().createElement(b.Z,{checked:"1"==C,onChange:e=>A(e.target.checked)}),label:Ne(1==C?"Active":"In Active")})))),!e.createEasy&&l().createElement("div",{className:"GridAlign",onClick:()=>{le.AttachExpand(!0)},id:"fld1521L2ECIconButton"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement("div",{disableRipple:!0,disabled:!1},l().createElement(x.Ypb,{className:"Iconstyles"}))),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ne("Attach")))),!oe&&l().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{xe()},id:"fld1521L2ECClearBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(x.pYJ,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ne("Reset")))),"1"===z&&oe&&l().createElement(g.Z,{frmctrlid:"fld1521L2ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Le("draftdel")}}),oe&&"1"!==z||e.createEasy?null:ie.AccessRights.IsAdd&&l().createElement("div",{className:"GridAlign",onClick:()=>{Le()},frmctrlid:"fld1521L2ECDraftBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(w.IcR,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ne("Draft")))),ie.AccessRights.IsAdd||ie.AccessRights.IsEdit?l().createElement(R.Z,{frmctrlid:"fld1521L2ECSaveBtnIsAdd",name:Ne(oe?"Update":"Save"),disabled:!1,onClick:()=>{Ue(W.FinBankReconCode)?!W.FinBankReconDate||0==W.FinBankReconDate||ye?le.alert({open:!0,color:"warning",message:[Ne("Please enter the Bank Reconciliation Date")]}):Ue(W.FinReAmount)?W.FinLedgerID&&0!=W.FinLedgerID?le.ConfirmAlert(l().createElement(f(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ne("Are you sure?"),onConfirm:()=>we(),onCancel:()=>le.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("Cancel"),showCancel:!0},Ne(oe?"Do you want to Update?":"Do you want to Save?"))):le.alert({open:!0,color:"warning",message:[Ne("Please select the ")+" "+ke("FinLedgerID")]}):le.alert({open:!0,color:"warning",message:[Ne("Please enter the")+""+ke("FinReAmount")]}):le.alert({open:!0,color:"warning",message:[Ne("Please enter the")+""+ke("FinBankReconCode")]})}}):null,!e.createEasy&&l().createElement(u.Z,{frmctrlid:"fld1521L2ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{xe(),M(!1),le.EditClose(!0),le.hideAddBtn(!1),re({type:"Add",payload:!1})}}))))),l().createElement(o.Z,null,l().createElement("div",{id:"FinBanRecConRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},l().createElement("div",{id:"FinBanRecConRegistry-Detail",className:"detailCard detailDiv"},l().createElement("div",{id:"FinBanRecConRegistry-MainBody",className:"padding paddingLeft "},l().createElement("div",null,l().createElement(D.Z,{spacing:2},l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(E.Z,{"data-testid":W.FinBankReconCode,json:N,SPName:"FinBanRecConRegistry",FieldName:"FinBankReconCode",tfLabel:ke("FinBankReconCode"),EnterSave:n=>{n&&e.submitConfirmation(n)},onSelect:n=>!e.createEasy&&Ge(n),onClick:()=>{ge&&Ve(1,"","ClearAll"),Fe(!0)},frmctrlid:"fld1521_39719",frmctrlidName:"FinBankReconCode",fieldorder:"1",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,n)=>{ge&&Ve(e,n,"FinBankReconCode"),Me(n,"FinBankReconCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Fe(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:W.FinBankReconCode,loading:Q,clear:e=>{e&&(J({type:"text",name:"FinBankReconCode",value:""}),Fe(!0))}})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},l().createElement(L.Z,{value:W.FinBankReconDate,"data-testid":W.FinBankReconDate,disabled:!1,onChange:e=>{Me(e,"FinBankReconDate","date")},onErr:e=>{De(e)},label:l().createElement("span",null,ke("FinBankReconDate"),l().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld1521_39720",frmctrlidName:"FinBankReconDate",fieldorder:"2"})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},l().createElement("div",{className:"EntryView-Checkbox"},l().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":W.IsReceipt,labelPlacement:"end",control:l().createElement(b.Z,{checked:"1"==W.IsReceipt,onChange:e=>{Me(e.target.checked,"IsReceipt","boolean")},frmctrlid:"fld1521_39724",frmctrlidname:"IsReceipt",fieldorder:"3",tfLabel:ke("IsReceipt")}),label:l().createElement("p",{className:"ToggleSwitchLabel",style:{color:W.IsReceipt?"#21446F":"#999"}},`${"1"==W.IsReceipt?ke("Payment"):ke("Receipt")}`)}))),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(E.Z,{json:N,id:W.FinReceiptID,"data-testid":W.FinReceiptID,value:W.FinReceiptCode,disabled:!!W.IsReceipt,SPName:"FinBanRecConRegistry",FieldName:"FinReceiptID",tfLabel:ke("FinReceiptID"),EnterSave:n=>{n&&e.submitConfirmation(n)},SideEntryView:!1,onSelect:e=>Me(e,"FinReceiptID","select"),onChange:(e,n)=>{Oe(e,n,"FinReceiptIDPK")},KeyBack:e=>{Ke("FinReceiptID")},fieldorder:"4",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ae("1082")},Tabledialog:()=>Ze("1082","FinReceiptID"),loading:Q,clear:e=>{e&&ze("FinReceiptID")}})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(E.Z,{json:N,id:W.FinPaymentID,"data-testid":W.FinPaymentID,value:W.FinPaymentCode,disabled:!W.IsReceipt,SPName:"FinBanRecConRegistry",FieldName:"FinPaymentID",tfLabel:ke("FinPaymentID"),EnterSave:n=>{n&&e.submitConfirmation(n)},SideEntryView:!1,onSelect:e=>Me(e,"FinPaymentID","select"),onChange:(e,n)=>{Oe(e,n,"FinPaymentIDPK")},KeyBack:e=>{Ke("FinPaymentID")},fieldorder:"1",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ae("1076")},Tabledialog:()=>Ze("1076","FinPaymentID"),loading:Q,clear:e=>{e&&ze("FinPaymentID")}})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(p.Z,{json:N,"data-testid":W.FinReAmount,SPName:"FinBanRecConRegistry",FieldName:"FinReAmount",tfLabel:ke("FinReAmount"),frmctrlid:"fld1521_39721",fieldorder:"2",onChange:e=>{Me(e,"FinReAmount","text")},clear:e=>{e&&J({type:"text",name:"FinReAmount",value:""})},Iscurr:!0,value:W.FinReAmount})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(E.Z,{"data-testid":W.FinReconDesp,json:N,SPName:"FinBanRecConRegistry",FieldName:"FinReconDesp",tfLabel:ke("FinReconDesp"),EnterSave:n=>{n&&e.submitConfirmation(n)},onSelect:n=>!e.createEasy&&Ge(n),onClick:()=>{Ie&&Ve(1,"","ClearAll"),Re(!0)},frmctrlid:"fld1521_39723",frmctrlidName:"FinReconDesp",fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,n)=>{Ie&&Ve(e,n,"FinReconDesp"),Me(n,"FinReconDesp","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Re(!0)},showList:Ie,SideEntryView:!1,KeyBack:e=>{},value:W.FinReconDesp,loading:Q,clear:e=>{e&&(J({type:"text",name:"FinReconDesp",value:""}),Re(!0))}})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(E.Z,{"data-testid":W.FinReconCheqNo,json:N,SPName:"FinBanRecConRegistry",FieldName:"FinReconCheqNo",tfLabel:ke("FinReconCheqNo"),EnterSave:n=>{n&&e.submitConfirmation(n)},onSelect:n=>!e.createEasy&&Ge(n),onClick:()=>{Ce&&Ve(1,"","ClearAll"),fe(!0)},frmctrlid:"fld1521_39722",frmctrlidName:"FinReconCheqNo",fieldorder:"3",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,onChange:(e,n)=>{Ce&&Ve(e,n,"FinReconCheqNo"),Me(n,"FinReconCheqNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:W.FinReconCheqNo,loading:Q,clear:e=>{e&&(J({type:"text",name:"FinReconCheqNo",value:""}),fe(!0))}})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(E.Z,{json:N,id:W.FinLedgerID,"data-testid":W.FinLedgerID,value:W.LedgerName,SPName:"FinBanRecConRegistry",FieldName:"FinLedgerID",tfLabel:ke("FinLedgerID"),EnterSave:n=>{n&&e.submitConfirmation(n)},SideEntryView:!1,onSelect:e=>Me(e,"FinLedgerID","select"),onChange:(e,n)=>{Oe(e,n,"FinLedgerIDPK")},KeyBack:e=>{Ke("FinLedgerID")},fieldorder:"4",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ae("673")},Tabledialog:()=>Ze("673","FinLedgerID"),loading:Q,clear:e=>{e&&ze("FinLedgerID")}})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(E.Z,{json:N,id:W.FinLedgerID1,"data-testid":W.FinLedgerID1,value:W.LedgerName1,SPName:"FinBanRecConRegistry",FieldName:"FinLedgerID1",tfLabel:ke("FinLedgerID1"),EnterSave:n=>{n&&e.submitConfirmation(n)},SideEntryView:!1,onSelect:e=>Me(e,"FinLedgerID1","select"),onChange:(e,n)=>{Oe(e,n,"FinLedgerID1PK")},KeyBack:e=>{Ke("FinLedgerID1")},fieldorder:"4",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ae("673")},Tabledialog:()=>Ze("673","FinLedgerID1"),loading:Q,clear:e=>{e&&ze("FinLedgerID1")}})),l().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(E.Z,{json:N,id:W.FinSalesInvoiceID,"data-testid":W.FinSalesInvoiceID,value:W.FinSalseInvocieNo,SPName:"FinBanRecConRegistry",FieldName:"FinSalesInvoiceID",tfLabel:ke("FinSalesInvoiceID"),EnterSave:n=>{n&&e.submitConfirmation(n)},SideEntryView:!1,onSelect:e=>Me(e,"FinSalesInvoiceID","select"),onChange:(e,n)=>{Oe(e,n,"FinSalesInvoiceIDPK")},KeyBack:e=>{Ke("FinSalesInvoiceID")},fieldorder:"4",data:ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ee.length>0?ee[0].TotalCount:0,openSlide:()=>{Ae("1086")},Tabledialog:()=>Ze("1086","FinSalesInvoiceID"),loading:Q,clear:e=>{e&&ze("FinSalesInvoiceID")}})))),l().createElement("div",{id:"FinBanRecConRegistrySideBar",className:"sidenav"},l().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("FinBanRecConRegistrySideBar").style.width="0",void q(!1))},"×"),U&&l().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},H))))))))}))},1680:(e,n,t)=>{t.r(n),t.d(n,{ContextApi:()=>F,FinBanRecConRegistryContext:()=>g,UserGridViewData:()=>y,default:()=>D});var a=t(92950),l=t.n(a),i=t(427),r=t(56481),o=t(74765),c=t(67698),d=t(55995),s=t(26537),p=t(45237),m=t(45965),u=t(41722);t(51673),t(40900),t(9175);const g=(0,a.createContext)(),F=()=>{const e=(0,a.useContext)(g);if(void 0===e)throw new Error("useCont must be used within  FinBanRecConRegistryContext Provider");return e},y=[],D=(0,a.forwardRef)(((e,n)=>{const t=(0,a.useRef)(),y=(0,a.useRef)(),D=(0,a.useRef)(),I=(0,a.useRef)(),R=(0,a.useRef)(),[C,f]=(0,a.useState)(!0),[B,v]=(0,a.useState)(),h=((0,p.useSelector)((e=>e.form)),(0,p.useDispatch)()),[E,S]=(0,a.useState)(0),[N,k]=(0,a.useReducer)(u.D,u.E),[T,P]=(0,a.useState)(""),[b,x]=(0,a.useState)([]),[w,L]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||y.current.clear(),document.getElementById("divFinBanRecConRegistry-Entry").style.width="100%",document.getElementById("FinBanRecConRegistry-MainTable").style.width="100%",document.getElementById("FinBanRecConRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinBanRecConRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{f(!0),document.getElementById("divFinBanRecConRegistry-Entry").style.width="100%",document.getElementById("FinBanRecConRegistry-MainTable").style.width="100%",document.getElementById("FinBanRecConRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinBanRecConRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(k({type:"editData",payload:[e.editData]}),k({type:"ShowDetail",payload:!0}))}),[e.editData]);const A=e=>{x([]),document.getElementById("divFinBanRecConRegistry-Entry").style.width="100%",document.getElementById("FinBanRecConRegistryEntryTable").style.width="100%",document.getElementById("FinBanRecConRegistry-MainEntry").style.width="100%",document.getElementById("FinBanRecConRegistry-MainEntry").style.display="block",document.getElementById("FinBanRecConRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("FinBanRecConRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttFinBanRecConRegistry").style.width="0%",document.getElementById("overlayimgAttFinBanRecConRegistry").style.display="none"};(0,a.useEffect)((()=>{h((e=>{(0,s.Z)(1).then((e=>{var n=new Array;n.push(e),k({type:"token",payload:n}),S(n.length),Z(e)}))}))}),[]);const Z=e=>{(0,m.Z)(e,1521).then((e=>k({type:"AccessRights",payload:e})))};return l().createElement("div",{style:{width:"100%"}},l().createElement(g.Provider,{value:{cstate:N,cdispatch:k,ContextApi:F,loading:n=>e.loading(n),alert:n=>e.alertmsg(n),ShareTab:(n,t)=>e.TabShare(n,t),ConfirmAlert:n=>e.ConfirmAlert(n),SlideComponentType:n=>e.SlideComponentType(n),openNav:n=>e.openNav(n),RefreshTable:()=>{t.current.tableRefresh()},searchItem:e=>{0!==E&&t.current.searchItem(e)},openDialog:n=>e.openDialog(n),DialogComponentType:n=>e.DialogComponentType(n),attachmentSave:e=>{R.current.tempsave(e,b),x([])},EditClose:e=>A(),AttachExpand:e=>(I.current.AttachmentData(N.PrimaryId),void(C&&(document.getElementById("overlayimgAttFinBanRecConRegistry").style.width="25%",document.getElementById("overlayPreviewFinBanRecConRegistry").style.width="50%",document.getElementById("divFinBanRecConRegistry-Entry").style.width="100%",document.getElementById("FinBanRecConRegistry-MainTable").style.width="100%",document.getElementById("FinBanRecConRegistry-MainEntry").style.width="100%",document.getElementById("FinBanRecConRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinBanRecConRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttFinBanRecConRegistry").style.display="block",document.getElementById("overlayimgAttFinBanRecConRegistry").style.width="25%"))),Expanded:e=>{N.ShowDetail&&D.current.tableClick(e),k({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{N.ShowDetail&&D.current.viewtoggle()},clear:e=>{k({type:"ShowDetail",payload:!1}),k({type:"editData",payload:[]}),N.ShowDetail?D.current.clear(e):y.current.clear(e)},hideAddBtn:e=>{t.current.HideEntryFields(e)},ExpandEntry:()=>{N.ShowDetail?D.current.tableClick(!1):y.current.CreateEasyProps(!1)},resetImg:()=>{R.current.tempClear(),I.current.clrImgstate(!0)}}},l().createElement("div",{id:"FinBanRecConRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},l().createElement("div",{id:"FinBanRecConRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},l().createElement("div",{style:{display:"flex"}},l().createElement("div",{id:"FinBanRecConRegistryEntryTable",style:{width:"100%"}},N.ShowDetail?l().createElement("div",null,l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divFinBanRecConRegistry-Entry",style:{width:"100%"}},0!==E?l().createElement(r.default,{ref:D}):null)),l().createElement(d.Z,{ref:R,menurefID:1521,fileId:"LogoImgFinBanRecConRegistry",imgloading:n=>{n||N.PrimaryId?e.loading(n):t.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>I.current.AttachmentData(e),previd:"overlayPreviewFinBanRecConRegistry",frmctrlid:"PvwIm_1521_L2_",tempImg:e=>{N.PrimaryId?I.current.AttachmentData(N.PrimaryId):I.current.tempImg(e),x(e)},clearTempData:N.Add})):l().createElement("div",null,l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divFinBanRecConRegistry-Entry",style:{width:"100%"}},!e.tableview&&l().createElement(o.default,{ref:y,clrImgstate:e=>I.current.clrImgstate(e)}))),l().createElement(d.Z,{ref:R,menurefID:1521,fileId:"LogoImgFinBanRecConRegistry",imgloading:n=>{n||N.PrimaryId?e.loading(n):t.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>I.current.AttachmentData(e),previd:"overlayPreviewFinBanRecConRegistry",frmctrlid:"PvwIm_1521_L2_",tempImg:e=>{N.PrimaryId?I.current.AttachmentData(N.PrimaryId):I.current.tempImg(e),x(e)},clearTempData:N.Add})),l().createElement("div",{id:"FinBanRecConRegistry-MainTable"},0!==E?l().createElement(i.default,{ref:t}):null)),l().createElement(c.Z,{ImgAttachment:e=>A(),menurefID:1521,fileId:"AttImgFinBanRecConRegistry",imgid:"overlayimgAttFinBanRecConRegistry",valueIDPK:N.PrimaryId,PriviewData:(e,n,t,a)=>{R.current.PriviewItem(e,n,t,a)},previd:"overlayPreviewFinBanRecConRegistry",ref:I,imgloading:B,ConfirmAlert:n=>{e.ConfirmAlert(n)},frmctrlid:"Imgatt_1521_L2_",timglist:e=>{R.current.timglist(e),x(e)},clearTempData:N.Add}))),l().createElement("div",{id:"FinBanRecConRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},427:(e,n,t)=>{t.r(n),t.d(n,{FinBanRecConRegistryPopUpTable:()=>G,default:()=>K}),t(95866);var a=t(92950),l=t.n(a),i=t(45237),r=t(36939),o=t(61201),c=t(59009),d=t(51673),s=t(22962),p=t(54180),m=t(43031),u=t(110),g=t(85639),F=t(5109),y=t(868),D=t(40900),I=t(88995),R=t(50743),C=t(80366),f=t(24038),B=t(61657),v=t(51209),h=t(86893),E=t(53854),S=t(51649),N=t(37106),k=t(5434),T=t(83817),P=t(47516),b=t(39327),x=t(3212),w=t(93521),L=t(71168),A=t.n(L),Z=t(65107),O=t(1680),V=t(94986),M=t(15999),z=t(8981);t(11557),window.clickFilter="";const K=(0,a.forwardRef)(((e,n)=>{const t=(0,a.useRef)(null),L=(0,a.useRef)(null),[K]=((0,a.useRef)(null),(0,i.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[G]=(0,a.useState)("1521"),[_,U]=(0,a.useState)(!1),[q,j]=(0,a.useState)(!1),[Y,H]=(0,a.useState)(0),[$,W]=(0,a.useState)(0),[J,Q]=(0,a.useState)(0),[X,ee]=(0,a.useState)(0),[ne,te]=(0,a.useState)({current:1,pageSize:100}),[ae,le]=(0,a.useState)(""),[ie,re]=(0,a.useState)([]),[oe,ce]=(0,a.useState)({val:"",column:""}),[de,se]=(0,a.useState)([]),[pe,me]=(0,a.useState)(!1),[ue,ge]=(0,a.useState)(""),[Fe,ye]=(0,a.useState)(""),[De,Ie]=(0,a.useState)(!1),[Re,Ce]=(0,a.useState)([]),[fe,Be]=(0,a.useState)([]),[ve,he]=(0,a.useState)([]),[Ee,Se]=(0,a.useState)({children:[{name:"FinBanRecConRegistry",children:[]}]}),[Ne,ke]=(0,a.useState)(!1),Te=(0,a.useContext)(e.context?e.context:O.FinBanRecConRegistryContext),{cstate:Pe,cdispatch:be}=e.ContextApi?e.ContextApi:(0,O.ContextApi)();let xe={FinBankReconIDPK:"",FinBankReconCode:"",FinBankReconDate:"",FinBankReconDateType:"",FinBankReconDateBetween:"",FinReAmount:"",FinReconCheqNo:"",FinReconDesp:"",IsReceipt:"",IsDraft:"",Remarks:"",FinPaymentID:"",FinLedgerID:"",FinLedgerID1:"",FinSalesInvoiceID:"",FinReceiptID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LedgerCode:"",LedgerName:"",CurrencyID:"",BaseCurrencyName:"",CurrencyCode:"",MatProPayTermsID:"",MatProPayTermsCode:"",TermsName:"",Validity:"",FinVoucherTypeID:"",FinVoucherTypeCode:"",FinVoucherTypeName:"",BankID:"",BankCode:"",BankName:"",BankAccountNo:"",BankBranch:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",FinPaymentCode:"",FinPaymentOrderRefNo:"",FinPaymentRefNo:"",FinPaymentTotalAmount:"",FinGroupID:"",Description:"",GroupCode:"",GroupName:"",FinReceiptCode:"",FinRcptDate:"",FinRcptDateType:"",FinRcptDateBetween:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[we,Le]=(0,a.useState)(xe),[Ae,Ze]=(0,a.useState)(xe),[Oe,Ve]=(0,a.useState)(!1),[Me,ze]=(0,a.useState)(!0),[Ke,Ge]=(0,a.useState)(!1),[_e,Ue]=(0,a.useState)(!0),[qe,je]=(0,a.useState)({FinBankReconCode:"",FinBankReconDate:"",IsReceipt:"",FinReceiptCode:"",FinPaymentCode:"",FinReAmount:"",FinReconDesp:"",FinReconCheqNo:"",LedgerName:"",LedgerName1:"",FinSalseInvocieNo:""}),[Ye,He]=(0,a.useState)(!1),[$e,We]=(0,a.useState)([]),[Je,Qe]=(0,a.useState)(0),[Xe,en]=(0,a.useState)(0),[nn,tn]=(0,a.useState)({current:1,pageSize:10}),[an,ln]=(0,a.useState)([]),[rn,on]=(0,a.useState)([]),[cn,dn]=(0,a.useState)(!1),[sn,pn]=(0,a.useState)(!1),[mn,un]=(0,a.useState)(!1),[gn,Fn]=(0,a.useState)(""),[yn,Dn]=A()("1521"),[In,Rn]=(0,a.useState)({}),Cn=[{columns:an,data:ae}];let fn=(0,z.Z)();const Bn=e=>fn[e]?fn[e]:e,vn=e=>Pe.language?.[e]?Pe.language[e]:e;(0,a.useEffect)((()=>{Pn(yn)}),[yn]),(0,a.useEffect)((()=>{Pe.token.length>0&&kn(ne,xe,"FinBankReconID")}),[]),(0,a.useEffect)((()=>{!Ne&&ue?(Le(ue),kn(ne,ue,"FinBankReconID")):Ne&&Ze(ue)}),[ue]),(0,a.useImperativeHandle)(n,(()=>({searchItem:e=>{hn(e)},tableRefresh:()=>{kn(ne,xe,"FinBankReconID")},DialogTableProps:e=>{j(e)},HideEntryFields:e=>{un(e)}})));const hn=e=>{""==e?kn(ne,xe,Oe?"DraftFinBankReconID":"FinBankReconID",Oe&&"DraftPage"):Tn(e,{current:1,pageSize:100}),ye(e)};function En(e){Te.loading(!0);let n=D.v.Api+"FP1521S7/",t={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(n,t,Pe.token[0]).then((n=>{if(200==n.Output.status.code){let t=0;n.Output.data.length>0?(t=parseFloat(n.Output.data[0].TotalCount,10)/10,en(n.Output.data[0].TotalCount)):t=0,10==e.pageSize?Qe(Math.ceil(t)):20==e.pageSize?Qe(Math.ceil(t/2)):50==e.pageSize?Qe(Math.ceil(t/5)):100==e.pageSize&&Qe(Math.ceil(t/10)),We(n.Output.data),Te.loading(!1)}}))}function Sn(e,n){be({type:"editData",payload:[n]}),be({type:"IsDraft",payload:Oe}),be({type:"ShowDetail",payload:!0}),Te.Expanded(!0),Ke&&Ie(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(j(e.Dialogview),un(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&Tn(e.searchsafaritext,{current:ne.current,pageSize:ne.pageSize})}),[e.searchsafaritext]);const Nn=()=>{Te.EditClose(!0),pe?(document.getElementById("FinBanRecConRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("FinBanRecConRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("FinBanRecConRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),_e?(q||(document.getElementById("FinBanRecConRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinBanRecConRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("FinBanRecConRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinBanRecConRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("FinBanRecConRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinBanRecConRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("FinBanRecConRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("FinBanRecConRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("FinBanRecConRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("FinBanRecConRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinBanRecConRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ie(!1),window.clickFilter=!pe},kn=(n,t,a,l,i,r)=>{Te.loading(!0),"DraftPage"!==l&&Ve(Pe.IsDraft);let o=D.v.Api+"FP1521S3/",c={data:{p1:i||(t&&t.FinBankReconIDPK?t.FinBankReconIDPK:null),p2:t&&t.FinBankReconCode?t.FinBankReconCode:null,p3:t&&t.FinBankReconDate?t.FinBankReconDate:null,p4:t&&t.FinBankReconDateType?t.FinBankReconDateType:null,p5:t&&t.FinBankReconDateBetween?t.FinBankReconDateBetween:null,p6:t&&t.FinReAmount?t.FinReAmount:null,p7:t&&t.FinReconCheqNo?t.FinReconCheqNo:null,p8:t&&t.FinReconDesp?t.FinReconDesp:null,p9:null,p10:"DraftFinBankReconID"==a?"1":"0",p11:null,p12:t&&t.FinPaymentID?t.FinPaymentID:null,p13:t&&t.FinLedgerID?t.FinLedgerID:null,p14:t&&t.FinLedgerID1?t.FinLedgerID1:null,p15:t&&t.FinSalesInvoiceID?t.FinSalesInvoiceID:null,p16:t&&t.FinReceiptID?t.FinReceiptID:null,p17:t&&t.IsActive,p18:null,p19:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p20:t&&t.CreatedTtm?t.CreatedTtm:null,p21:t&&t.CreatedTtmType?t.CreatedTtmType:null,p22:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p23:null,p24:t&&t.LedgerCode?t.LedgerCode:null,p25:t&&t.LedgerName?t.LedgerName:null,p26:t&&t.CurrencyID?t.CurrencyID:null,p27:t&&t.BaseCurrencyName?t.BaseCurrencyName:null,p28:t&&t.CurrencyCode?t.CurrencyCode:null,p29:t&&t.MatProPayTermsID?t.MatProPayTermsID:null,p30:t&&t.MatProPayTermsCode?t.MatProPayTermsCode:null,p31:t&&t.TermsName?t.TermsName:null,p32:t&&t.Validity?t.Validity:null,p33:t&&t.FinVoucherTypeID?t.FinVoucherTypeID:null,p34:t&&t.FinVoucherTypeCode?t.FinVoucherTypeCode:null,p35:t&&t.FinVoucherTypeName?t.FinVoucherTypeName:null,p36:t&&t.BankID?t.BankID:null,p37:t&&t.BankCode?t.BankCode:null,p38:t&&t.BankName?t.BankName:null,p39:t&&t.BankAccountNo?t.BankAccountNo:null,p40:t&&t.BankBranch?t.BankBranch:null,p41:t&&t.TaxID?t.TaxID:null,p42:t&&t.TaxCode?t.TaxCode:null,p43:t&&t.TaxName?t.TaxName:null,p44:t&&t.TaxValue?t.TaxValue:null,p45:t&&t.FinPaymentCode?t.FinPaymentCode:null,p46:t&&t.FinPaymentOrderRefNo?t.FinPaymentOrderRefNo:null,p47:t&&t.FinPaymentRefNo?t.FinPaymentRefNo:null,p48:t&&t.FinPaymentTotalAmount?t.FinPaymentTotalAmount:null,p49:t&&t.FinGroupID?t.FinGroupID:null,p50:t&&t.Description?t.Description:null,p51:t&&t.GroupCode?t.GroupCode:null,p52:t&&t.GroupName?t.GroupName:null,p53:t&&t.FinReceiptCode?t.FinReceiptCode:null,p54:t&&t.FinRcptDate?t.FinRcptDate:null,p55:t&&t.FinRcptDateType?t.FinRcptDateType:null,p56:t&&t.FinRcptDateBetween?t.FinRcptDateBetween:null,p57:i?1:n.current,p58:n.pageSize,p59:a,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};(0,d.Z)(o,c,Pe.token[0]).then((o=>{if(i)(0,T.a)(o,be,l,r,Te);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,Q(o.Output.data[0].TotalCount),ee(o.Output.data[0].DraftCnt),be({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==l&&ee(o.Output.data[0].TotalCount)):e=0,10==n.pageSize?W(Math.ceil(e)):20==n.pageSize?W(Math.ceil(e/2)):50==n.pageSize?W(Math.ceil(e/5)):100==n.pageSize&&W(Math.ceil(e/10)),se(o.Output.data),Te.loading(!1)}e.Dialogview||(document.getElementById("divFinBanRecConRegistry-Entry").style.height="auto",document.getElementById("divFinBanRecConRegistry-Entry").style.display="block")}else Te.loading(!1),"DraftFinBankReconID"===a?(Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ie(!0),Ve(!1)):(se([]),te({current:1,pageSize:10}),W(0),Q(0),be({type:"count",payload:"0"}),be({type:"ExpandDetailValue",payload:!0}),Object.values(t).some((e=>e))&&Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Te.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Te.loading(!1)}))};function Tn(e,n){Te.loading(!0);const t=D.v.Api+"FP1521S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:Oe?"1":"0",p4:n.current,p5:n.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,a,Pe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,Q(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==n.pageSize?W(Math.ceil(t)):20==n.pageSize?W(Math.ceil(t/2)):50==n.pageSize?W(Math.ceil(t/5)):100==n.pageSize&&W(Math.ceil(t/10)),se(e.Output.data),Te.loading(!1)}else se([]),W(0),Q(0),be({type:"count",payload:"0"}),Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Te.loading(!1);else Te.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Te.loading(!1)}))}function Pn(e){let n=[],t=[],a=[],l=[];e.map((e=>{"1"==e.IsVisible&&(n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(t.push(e.FieldDisplay),a.push(e.FieldDescription)));let i=localStorage.getItem("Language");l.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),be({type:"language",payload:Object.assign({},...l)}),je(t.reduce(((e,n)=>(e[n]="",e)),{})),Ce(e),Be(n),he(t),ln(a),on(t)}const bn=()=>Ne?null:l().createElement("div",null,Ye?l().createElement(V.Z,{data:$e,expanded:e=>!q&&Te.Expanded(e),edit:(e,n,t)=>{q?Te.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:n}),be({type:"ShowDetail",payload:t}))}}):l().createElement(Z.Z,{ref:L,frmctrlid:"tblcs_1521_L2_",id:"FinBanRecConRegistryTable",headerdata:fe,tablesearchparams:qe,searchvalue:e=>{je(e),ge(e);let n={...Object.fromEntries(Object.entries(e).filter((([e,n])=>""!==n))),...FilteredObj};Rn(n),te({current:1,pageSize:10}),kn({current:1,pageSize:10},n,Oe?"DraftFinBankReconID":"FinBankReconID",Oe&&"DraftPage")},bodydata:de,ondrag:Sn,bodyitem:ve,visibleitem:fe,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:G,showMore:!1,accessrights:Pe.AccessRights,expanded:e=>!q&&Te.Expanded(e),edit:(e,n,t)=>{q?Te.select(e):(Object.keys(e).map(((a,l)=>{a.includes("IDPK")&&kn(ne,null,n?"DraftFinBankReconID":"FinBankReconID",n&&"DraftPage",e[a],t)})),Te.hideAddBtn(!0))},viewtoggle:Te.viewtoggle,isexpanded:!q||Ke,tf:vn,action:q?"none":"",ViewComp:(e,n)=>{}}));return(0,a.useEffect)((()=>{Ge(Pe.ExpandTableValue)}),[Pe.ExpandTableValue]),l().createElement("div",null,!mn&&!e.tableview&&l().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},l().createElement("div",{id:"fld1521L2ECSearchBar",className:"searchbar1"},l().createElement(f.Z,{frmctrlid:"fld1521L2TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Bn("Search"),value:Fe,onChange:e=>{ye(e),Te.searchItem(e)},style:{width:"300px"}}),l().createElement("div",{className:"search_icon"},Fe?l().createElement("div",{id:"fld1521L2TCCloseIconCommonSearch",onClick:()=>{ye(""),Te.searchItem("")}},l().createElement(C.Z,{className:"InputSearchIcon"})):l().createElement("div",{id:"fld1521L2TCInputSearchIcon"},l().createElement(I.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("FinBanRecConRegistrygridsearch").focus()}})))),l().createElement("div",null,Pe.AccessRights.IsAdd?l().createElement(x.Z,{className:"SaveBtnCommon",frmctrlid:"fld1521L2TCAddBtnIsAdd",onClick:()=>{Te.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),l().createElement(r.Z,{expanded:Me,onChange:()=>()=>{ze(Ke)}},e.Dialogview&&l().createElement(R.Z,null,l().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},l().createElement("div",{className:"displayFlex EntryHeader"},l().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.50-2:53:36 PM-9-6[1521]"},`${vn("1521")} (${J})`)),!1===e.cardview?null:l().createElement("div",{className:"displayFlex EntryHeaderBtn"},l().createElement("div",{id:"fld1521L2TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},l().createElement(f.Z,{frmctrlid:"fld1521L2TCInputSearch",className:"search_input",type:"text",placeholder:Bn("Search"),value:Fe,onChange:e=>{hn(e)}}),l().createElement("div",{className:"search_icon"},Fe?l().createElement("div",{id:"fld1521L2TCInputCloseIcon",onClick:()=>{hn("")}},l().createElement(C.Z,{className:"InputSearchIcon"})):l().createElement("div",{id:"fld1521L2TCInputSearchIcon"},l().createElement(I.Z,{className:"InputSearchIcon"}))))))),l().createElement(o.Z,{className:"AccDetails"},l().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&l().createElement("div",{id:"FinBanRecConRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:l().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&l().createElement("div",{frmctrlid:"fld1521L2TCFilterDataIsDraft",id:"FinBanRecConRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Nn()}},l().createElement(y.ZP,{title:Bn("Filter Data"),placement:"top"},l().createElement("span",null,l().createElement(P.Ol$,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"iconinfo"},Bn("Filter Data"))),!q&&!Oe&&!Ne&&l().createElement(p.Z,{formctrlidprint:"fld1521L2TCExportPrint",formctrlidexport:"fld1521L2TCExportTable",formctrlidrefresh:"fld1521L2TCExportRefresh",title:vn("1521"),data:ie,exportData:Cn,Items:rn,columnIndex:an,TableVisibleItem:fe,userGridViewFormID:G,TableTotalCount:J,triggerApi:e=>{((e,n,a,l,i)=>{if(0===J)return Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Te.loading(!0);let r=D.v.Api+"FP1521S3/",o={data:{p1:e&&e.FinBankReconIDPK?e.FinBankReconIDPK:null,p2:e&&e.FinBankReconCode?e.FinBankReconCode:null,p3:e&&e.FinBankReconDate?e.FinBankReconDate:null,p4:e&&e.FinBankReconDateType?e.FinBankReconDateType:null,p5:e&&e.FinBankReconDateBetween?e.FinBankReconDateBetween:null,p6:e&&e.FinReAmount?e.FinReAmount:null,p7:e&&e.FinReconCheqNo?e.FinReconCheqNo:null,p8:e&&e.FinReconDesp?e.FinReconDesp:null,p9:null,p10:Oe?"1":"0",p11:null,p12:e&&e.FinPaymentID?e.FinPaymentID:null,p13:e&&e.FinLedgerID?e.FinLedgerID:null,p14:e&&e.FinLedgerID1?e.FinLedgerID1:null,p15:e&&e.FinSalesInvoiceID?e.FinSalesInvoiceID:null,p16:e&&e.FinReceiptID?e.FinReceiptID:null,p17:e&&e.IsActive,p18:null,p19:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p20:e&&e.CreatedTtm?e.CreatedTtm:null,p21:e&&e.CreatedTtmType?e.CreatedTtmType:null,p22:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p23:null,p24:e&&e.LedgerCode?e.LedgerCode:null,p25:e&&e.LedgerName?e.LedgerName:null,p26:e&&e.CurrencyID?e.CurrencyID:null,p27:e&&e.BaseCurrencyName?e.BaseCurrencyName:null,p28:e&&e.CurrencyCode?e.CurrencyCode:null,p29:e&&e.MatProPayTermsID?e.MatProPayTermsID:null,p30:e&&e.MatProPayTermsCode?e.MatProPayTermsCode:null,p31:e&&e.TermsName?e.TermsName:null,p32:e&&e.Validity?e.Validity:null,p33:e&&e.FinVoucherTypeID?e.FinVoucherTypeID:null,p34:e&&e.FinVoucherTypeCode?e.FinVoucherTypeCode:null,p35:e&&e.FinVoucherTypeName?e.FinVoucherTypeName:null,p36:e&&e.BankID?e.BankID:null,p37:e&&e.BankCode?e.BankCode:null,p38:e&&e.BankName?e.BankName:null,p39:e&&e.BankAccountNo?e.BankAccountNo:null,p40:e&&e.BankBranch?e.BankBranch:null,p41:e&&e.TaxID?e.TaxID:null,p42:e&&e.TaxCode?e.TaxCode:null,p43:e&&e.TaxName?e.TaxName:null,p44:e&&e.TaxValue?e.TaxValue:null,p45:e&&e.FinPaymentCode?e.FinPaymentCode:null,p46:e&&e.FinPaymentOrderRefNo?e.FinPaymentOrderRefNo:null,p47:e&&e.FinPaymentRefNo?e.FinPaymentRefNo:null,p48:e&&e.FinPaymentTotalAmount?e.FinPaymentTotalAmount:null,p49:e&&e.FinGroupID?e.FinGroupID:null,p50:e&&e.Description?e.Description:null,p51:e&&e.GroupCode?e.GroupCode:null,p52:e&&e.GroupName?e.GroupName:null,p53:e&&e.FinReceiptCode?e.FinReceiptCode:null,p54:e&&e.FinRcptDate?e.FinRcptDate:null,p55:e&&e.FinRcptDateType?e.FinRcptDateType:null,p56:e&&e.FinRcptDateBetween?e.FinRcptDateBetween:null,p57:ne.current,p58:J,p59:Oe?"DraftFinBankReconID":"FinBankReconID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};Te.loading(!1),Te.alert({open:!0,color:"success",message:[`${vn(1521)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(r,o,Pe.token[0],i).then((e=>{(0,w.PDF_Excel_Generate)(e,Te,rn,le,t,i)}))})(ue,oe.column,0,0,e)},Refresh:()=>{ye(""),te({current:1,pageSize:100}),L.current.clearItem(),Pe.IsDraft?kn({current:1,pageSize:100},xe,"DraftFinBankReconID"):kn({current:1,pageSize:100},xe,"FinBankReconID")},disabledPrint:!Pe.AccessRights.IsPrint,disabledExport:!Pe.AccessRights.IsExport,ref:t,iconinfo:"iconinfo"}),!Oe&&!Ne&&!q&&l().createElement("div",{className:"buttoncard",onClick:()=>pn(!sn)},l().createElement("span",null,sn?l().createElement(y.ZP,{disableFocusListener:!0,title:Bn("Less"),placement:"top"},l().createElement("span",{id:"fld1521L2TCLess"},l().createElement(E.ldB,{className:"tableFilterColumnIcon"}))):l().createElement(y.ZP,{disableFocusListener:!0,title:Bn("More"),placement:"top"},l().createElement("span",{id:"fld1521L2TCMore"},l().createElement(E.ilJ,{className:"tableFilterColumnIcon"}))))),sn?l().createElement("div",{className:"EntryHeaderMore"},l().createElement("div",{style:{display:"flex"}},Ne||!Ke?null:q||!Pe.AccessRights.IsAdd||Oe?"":l().createElement("div",null,l().createElement("div",{frmctrlid:"fld1521L2TCFilterDataIsAdd",id:"FinBanRecConRegistrycoldiv",className:"buttoncard",onClick:()=>{Te.EditClose(!0),De?(document.getElementById("FinBanRecConRegistryFilterDiv").style.width="0%",document.getElementById("FinBanRecConRegistryTabDiv").style.width="100%",document.getElementById("FinBanRecConRegistryFilterDiv").style.display="none",document.getElementById("FinBanRecConRegistrycoldiv").style.width="fit-content",document.getElementById("FinBanRecConRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ie(!1)):(document.getElementById("FinBanRecConRegistryFilterDiv").style.width="25%",document.getElementById("FinBanRecConRegistryTabDiv").style.width="75%",document.getElementById("FinBanRecConRegistryFilterDiv").style.display="block",document.getElementById("FinBanRecConRegistryfildiv").style.width="fit-content",document.getElementById("FinBanRecConRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("FinBanRecConRegistrycoldiv").style.width="fit-content",document.getElementById("FinBanRecConRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ie(!0)),me(!1)}},l().createElement(y.ZP,{title:Bn("Manage Columns"),placement:"top"},l().createElement("div",null,l().createElement(b.gYA,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"iconinfo"},Bn("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!q&&Ke&&!Ne&&!Oe&&l().createElement("div",null,l().createElement("div",{id:"FinBanRecConRegistrycoldiv",className:"buttoncard",onClick:()=>{Ye?He(!1):(He(!0),En({current:1,pageSize:100}))}},l().createElement(y.ZP,{title:Bn("TableScrollData"),placement:"top"},l().createElement("div",{id:"fld1521L2TCTableScrollData"},l().createElement(M.Z,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"iconinfo"},Bn("Table Scroll Data")))),!Ne&&Oe?l().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Te.hideAddBtn(!1),Te.ExpandEntry(),kn({current:1,pageSize:100},xe,"FinBankReconID"),Ve(!1),ye(""),be({type:"IsDraft",payload:!1}),te({current:1,pageSize:10})}},l().createElement(y.ZP,{title:Bn("List"),placement:"top"},l().createElement("div",{id:"fld1521L2TCList"},l().createElement(S.u1R,{className:"backButtonList"}))),l().createElement("p",{className:"DraftP"},Bn("Drafts")," ",J)):!q&&!Ne&&Pe.AccessRights.IsAdd&&l().createElement("div",null,l().createElement(c.Z,{color:"secondary",className:"badge",max:999,badgeContent:X,showZero:!0},l().createElement("div",{id:"fld1521L2TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{X>0?(te({current:1,pageSize:100}),H(0),Te.clear(),ye(""),be({type:"Add",payload:!1}),kn({current:1,pageSize:10},xe,"DraftFinBankReconID"),Ve(!0),be({type:"IsDraft",payload:!0}),Ie(!1),Ue(!0),document.getElementById("FinBanRecConRegistryFilterDiv").style.width="0%",document.getElementById("FinBanRecConRegistryTabDiv").style.width="100%",document.getElementById("FinBanRecConRegistryFilterDiv").style.display="none",te({current:1,pageSize:100}),ke(!1)):Te.alert({open:!0,color:"warning",message:[Bn("There is no Record Found")]})}},l().createElement(y.ZP,{title:Bn("Drafts"),placement:"top"},l().createElement("div",null,l().createElement(N.rNm,{className:"DraftIcon"}))),l().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Bn("Drafts"))))))):""),!Oe&&!q&&l().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ne||Oe?null:l().createElement("div",null,l().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},l().createElement("div",{className:"b2",id:"button-11"},l().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld1521L2TCListView",onClick:()=>{Ue(!0),dn(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(E.umT,null)),l().createElement("span",null,Bn("List"))),l().createElement("div",{className:_e||cn?"buttonGrid":"buttonList",id:"fld1521L2TCCardView",onClick:()=>{Ue(!1),dn(!1)}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(h.aCJ,null)),l().createElement("span",null,Bn("Card"))),l().createElement("div",{className:cn?"buttonList":"buttonGrid",id:"fld1521L2TCTileView",onClick:()=>{dn(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(k.f_H,null)),l().createElement("span",null,Bn("Tile"))))))),Ne?null:Ye?e.IsCollapse?l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(B.Z,{style:{color:"#777"},id:"fld1521L2TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:Y,onPageChange:(e,n)=>{H(n),En({current:n+1,pageSize:nn.pageSize}),tn({current:n+1,pageSize:nn.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(m.Z,{count:Je,color:"primary",page:nn.current,onChange:(e,n)=>{tn({current:n,pageSize:nn.pageSize}),Qe(n),En({current:n,pageSize:nn.pageSize})}}),l().createElement("div",null,l().createElement(u.Z,{className:"BootstrapInputStyle",value:nn.pageSize,frmctrlid:"fld1521L2TCSelectPagination",onChange:e=>{tn({current:1,pageSize:e.target.value}),En({current:1,pageSize:e.target.value})}},l().createElement(g.Z,{value:10},"10"),l().createElement(g.Z,{value:20},"20"),l().createElement(g.Z,{value:50},"50"),l().createElement(g.Z,{value:100},"100"))),Ke&&l().createElement("p",{className:"per-page"},"/ ",Bn("RowperpageOf")," (",Xe,")")):e.IsCollapse?l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(B.Z,{style:{color:"#777"},id:"fld1521L2TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(J),page:Y,onPageChange:(e,n)=>{H(n),kn({current:n+1,pageSize:ne.pageSize},xe,Oe?"DraftFinBankReconID":"FinBankReconID",Oe&&"DraftPage"),te({current:n+1,pageSize:ne.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(m.Z,{count:$,siblingCount:0,color:"primary",page:ne.current,onChange:(e,n)=>{if(te({current:n,pageSize:ne.pageSize}),Oe)kn({current:n,pageSize:ne.pageSize},we,"DraftFinBankReconID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";Fe.length>0?Tn(Fe,{current:n,pageSize:ne.pageSize}):kn({current:n,pageSize:ne.pageSize},we,"FinBankReconID")}}}),l().createElement("div",null,l().createElement(u.Z,{className:"BootstrapInputStyle",value:ne.pageSize,id:"fld1521L2TCSelectPaging",onChange:e=>{te({current:1,pageSize:e.target.value}),Oe?kn({current:1,pageSize:e.target.value},we,"DraftFinBankReconID","DraftPage"):Fe.length>0?Tn(Fe,{current:1,pageSize:e.target.value}):kn({current:1,pageSize:e.target.value},we,"FinBankReconID")}},l().createElement(g.Z,{value:10},"10"),l().createElement(g.Z,{value:20},"20"),l().createElement(g.Z,{value:50},"50"),l().createElement(g.Z,{value:100},"100"))),Ke&&l().createElement("p",{className:"per-page"},"/ ",Bn("RowperpageOf")," (",J,") "))),l().createElement("div",{id:"FinBanRecConRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},l().createElement("div",{id:"FinBanRecConRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},pe&&l().createElement(s.default,{parentId:e.parentId,searchData:e=>{ge(e||In),Object.fromEntries(Object.entries(e).filter((([e,n])=>""!==n)))},formID:G,data:()=>{},visibleData:()=>{},token:Pe.token[0],CloseBtnClk:()=>Nn(),userGrid:yn,msg:(e,n)=>Te.alert({open:!0,color:n,message:[e]})}),De&&l().createElement(F.Z,{Refresh:e=>{kn({current:1,pageSize:100},xe,"FinBankReconID")},frmctrlid:"fld1521L2TCTableColumnOrder",loading:e=>Te.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,n)=>Te.alert({open:!0,color:n,message:[e]}),select:De,userID:K,userGridViewFormID:G,saved:(e,n)=>{e&&Pn(n),Dn(n),be({type:"showTableview",payload:n})},Token:Pe.token[0]})),l().createElement("div",{id:"FinBanRecConRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?l().createElement(bn,null):l().createElement(v.Z,{frmctrlid:"fld1521L2TCExpandedCardDual",data:de,id:"FinBanRecConRegistry",title:"FinBankReconCode",cardTile:!!cn,visibleitem:fe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,n)=>{q?Te.select(e):("edit"==n?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Oe}),be({type:"ShowDetail",payload:!1}),Te.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Oe}),be({type:"ShowDetail",payload:!0}),Te.Expanded(!0),Te.viewtoggle()),pe?me(!0):De?Ie(!0):(Ie(!1),Ie(!1))),Te.hideAddBtn(!0)}})))))))})),G=(0,a.forwardRef)(((e,n)=>{const t=(0,a.useRef)(null),c=(0,a.useRef)(null),s=(0,a.useRef)(null),[g]=((0,i.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[F,y]=A()("1521"),[I,C]=(0,a.useState)(!1),[f,B]=(0,a.useState)(0),[v,h]=(0,a.useState)(0),[E,S]=(0,a.useState)({current:1,pageSize:100}),[N,k]=(0,a.useState)(""),[T,P]=(0,a.useState)([]),[b,x]=(0,a.useState)({val:"",column:""}),[L,V]=(0,a.useState)([]),[M,K]=(0,a.useState)(!1),[G,_]=(0,a.useState)(""),[U,q]=(0,a.useState)([]),[j,Y]=(0,a.useState)([]),[H,$]=(0,a.useState)([]),W=(0,a.useContext)(O.FinBanRecConRegistryContext),{cstate:J,cdispatch:Q}=(0,O.ContextApi)();let X={FinBankReconIDPK:"",FinBankReconCode:"",FinBankReconDate:"",FinBankReconDateType:"",FinBankReconDateBetween:"",FinReAmount:"",FinReconCheqNo:"",FinReconDesp:"",IsReceipt:"",IsDraft:"",Remarks:"",FinPaymentID:"",FinLedgerID:"",FinLedgerID1:"",FinSalesInvoiceID:"",FinReceiptID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LedgerCode:"",LedgerName:"",CurrencyID:"",BaseCurrencyName:"",CurrencyCode:"",MatProPayTermsID:"",MatProPayTermsCode:"",TermsName:"",Validity:"",FinVoucherTypeID:"",FinVoucherTypeCode:"",FinVoucherTypeName:"",BankID:"",BankCode:"",BankName:"",BankAccountNo:"",BankBranch:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",FinPaymentCode:"",FinPaymentOrderRefNo:"",FinPaymentRefNo:"",FinPaymentTotalAmount:"",FinGroupID:"",Description:"",GroupCode:"",GroupName:"",FinReceiptCode:"",FinRcptDate:"",FinRcptDateType:"",FinRcptDateBetween:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,ne]=(0,a.useState)(!1),[te,ae]=(0,a.useState)(!0),[le,ie]=(0,a.useState)(!1),[re,oe]=(0,a.useState)(!0),[ce,de]=(0,a.useState)(0),[se,pe]=(0,a.useState)({FinBankReconCode:"",FinBankReconDate:"",IsReceipt:"",FinReceiptCode:"",FinPaymentCode:"",FinReAmount:"",FinReconDesp:"",FinReconCheqNo:"",LedgerName:"",LedgerName1:"",FinSalseInvocieNo:""}),[me,ue]=(0,a.useState)([]),[ge,Fe]=(0,a.useState)([]),[ye,De]=(0,a.useState)([]),[Ie,Re]=(0,a.useState)(!1),[Ce,fe]=(0,a.useState)("");let Be=(0,z.Z)();const ve=[{columns:me,data:N}];(0,a.useEffect)((()=>{!function(e){let n=[],t=[],a=[],l=[];e.map((e=>{"1"==e.IsVisible&&(n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(t.push(e.FieldDisplay),a.push(e.FieldDescription)));let i=localStorage.getItem("Language");l.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),Q({type:"language",payload:Object.assign({},...l)}),pe(t.reduce(((e,n)=>(e[n]="",e)),{})),q(e),Y(n),$(t),ue(a),Fe(t)}(F)}),[F]),(0,a.useImperativeHandle)(n,(()=>({tableRefresh:()=>{he()},viewrecord:e=>{L.map(((n,t)=>{n.FinBankReconIDPK==e&&Q({type:"editData",payload:[L[t]]})}))},DialogTableProps:e=>{C(e)},searchData:(n,t,a)=>{W.loading(!0),c.current&&c.current.clearItem(),fe(a),S({current:1,pageSize:10}),X=e.ApiParamType.params,Ee({current:1,pageSize:100},t,a),s.current&&s.current.clearItem()}}))),(0,a.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&C(e.Dialogview)}),[e.cardview,e.Dialogview]);const he=()=>{J.IsDraft?Ee(E,X,"DraftFinBankReconID"):Ee(E,X,"FinBankReconID")},Ee=async(n,t,a,l)=>{if(J.token[0]){if(W.loading(!0),"DraftPage"!==l&&ne(J.IsDraft),await fe((e=>(a=e,e))),t&&Object.keys(t).length>0){let e=Object.keys(t),n={},a=[],l=Object.values(t);e.map((e=>{a.push(e.split("_")[0])}));for(let e=0;e<a.length;e++)n[a[e]]=l[e];t=n}_(t);let i=D.v.Api+`${e.ApiType}/`,r={data:{p1:t&&t.FinBankReconIDPK?t.FinBankReconIDPK:null,p2:t&&t.FinBankReconCode?t.FinBankReconCode:null,p3:t&&t.FinBankReconDate?t.FinBankReconDate:null,p4:t&&t.FinBankReconDateType?t.FinBankReconDateType:null,p5:t&&t.FinBankReconDateBetween?t.FinBankReconDateBetween:null,p6:t&&t.FinReAmount?t.FinReAmount:null,p7:t&&t.FinReconCheqNo?t.FinReconCheqNo:null,p8:t&&t.FinReconDesp?t.FinReconDesp:null,p9:null,p10:"DraftFinBankReconID"==a?"1":"0",p11:null,p12:t&&t.FinPaymentID?t.FinPaymentID:null,p13:t&&t.FinLedgerID?t.FinLedgerID:null,p14:t&&t.FinLedgerID1?t.FinLedgerID1:null,p15:t&&t.FinSalesInvoiceID?t.FinSalesInvoiceID:null,p16:t&&t.FinReceiptID?t.FinReceiptID:null,p17:t&&t.IsActive,p18:null,p19:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p20:t&&t.CreatedTtm?t.CreatedTtm:null,p21:t&&t.CreatedTtmType?t.CreatedTtmType:null,p22:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p23:null,p24:t&&t.LedgerCode?t.LedgerCode:null,p25:t&&t.LedgerName?t.LedgerName:null,p26:t&&t.CurrencyID?t.CurrencyID:null,p27:t&&t.BaseCurrencyName?t.BaseCurrencyName:null,p28:t&&t.CurrencyCode?t.CurrencyCode:null,p29:t&&t.MatProPayTermsID?t.MatProPayTermsID:null,p30:t&&t.MatProPayTermsCode?t.MatProPayTermsCode:null,p31:t&&t.TermsName?t.TermsName:null,p32:t&&t.Validity?t.Validity:null,p33:t&&t.FinVoucherTypeID?t.FinVoucherTypeID:null,p34:t&&t.FinVoucherTypeCode?t.FinVoucherTypeCode:null,p35:t&&t.FinVoucherTypeName?t.FinVoucherTypeName:null,p36:t&&t.BankID?t.BankID:null,p37:t&&t.BankCode?t.BankCode:null,p38:t&&t.BankName?t.BankName:null,p39:t&&t.BankAccountNo?t.BankAccountNo:null,p40:t&&t.BankBranch?t.BankBranch:null,p41:t&&t.TaxID?t.TaxID:null,p42:t&&t.TaxCode?t.TaxCode:null,p43:t&&t.TaxName?t.TaxName:null,p44:t&&t.TaxValue?t.TaxValue:null,p45:t&&t.FinPaymentCode?t.FinPaymentCode:null,p46:t&&t.FinPaymentOrderRefNo?t.FinPaymentOrderRefNo:null,p47:t&&t.FinPaymentRefNo?t.FinPaymentRefNo:null,p48:t&&t.FinPaymentTotalAmount?t.FinPaymentTotalAmount:null,p49:t&&t.FinGroupID?t.FinGroupID:null,p50:t&&t.Description?t.Description:null,p51:t&&t.GroupCode?t.GroupCode:null,p52:t&&t.GroupName?t.GroupName:null,p53:t&&t.FinReceiptCode?t.FinReceiptCode:null,p54:t&&t.FinRcptDate?t.FinRcptDate:null,p55:t&&t.FinRcptDateType?t.FinRcptDateType:null,p56:t&&t.FinRcptDateBetween?t.FinRcptDateBetween:null,p57:n.current,p58:n.pageSize,p59:a,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};(0,d.Z)(i,r,J.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,h(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==n.pageSize?B(Math.ceil(t)):20==n.pageSize?B(Math.ceil(t/2)):50==n.pageSize?B(Math.ceil(t/5)):100==n.pageSize&&B(Math.ceil(t/10)),V(e.Output.data)}}else W.alert({open:!0,color:"warning",message:[(t="There is no Record Found",Be?.[t]?Be[t]:t)]}),V([]),B(0),h(0),Q({type:"count",payload:0});var t}))}};return(0,a.useEffect)((()=>{ie(J.ExpandTableValue)}),[J.ExpandTableValue]),l().createElement("div",null,l().createElement(r.Z,{expanded:te,onChange:()=>()=>{ae(le)}},l().createElement(R.Z,null,l().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},l().createElement("div",{style:{width:"60%"}},l().createElement("div",{className:"displayFlex"},l().createElement("div",{className:"ListHeader displayFlex"},l().createElement("p",{className:"ListP"}," ",e.CardName," (",v,")")))))),l().createElement(o.Z,{className:"AccDetails"},l().createElement("div",{className:"tableCard"},l().createElement("div",{id:"FinBanRecConRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:l().createElement("div",{className:"tableHeaderItems displayFlex"},l().createElement(p.Z,{formctrlidprint:"fld1521L2TCExportPrint",formctrlidexport:"fld1521L2TCExportTable",formctrlidrefresh:"fld1521L2TCExportRefresh",title:"1521",data:T,exportData:ve,Items:ge,columnIndex:me,triggerApi:n=>{((n,a,l)=>{if(0===v)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let i=D.v.Api+`${e.ApiType}/`,r={data:{p1:n||(n&&n.FinBankReconIDPK?n.FinBankReconIDPK:null),p2:n&&n.FinBankReconCode?n.FinBankReconCode:null,p3:n&&n.FinBankReconDate?n.FinBankReconDate:null,p4:n&&n.FinBankReconDateType?n.FinBankReconDateType:null,p5:n&&n.FinBankReconDateBetween?n.FinBankReconDateBetween:null,p6:n&&n.FinReAmount?n.FinReAmount:null,p7:n&&n.FinReconCheqNo?n.FinReconCheqNo:null,p8:n&&n.FinReconDesp?n.FinReconDesp:null,p9:null,p10:ee?"1":"0",p11:null,p12:n&&n.FinPaymentID?n.FinPaymentID:null,p13:n&&n.FinLedgerID?n.FinLedgerID:null,p14:n&&n.FinLedgerID1?n.FinLedgerID1:null,p15:n&&n.FinSalesInvoiceID?n.FinSalesInvoiceID:null,p16:n&&n.FinReceiptID?n.FinReceiptID:null,p17:n&&n.IsActive,p18:null,p19:n&&n.CreatedUserID_varchar?n.CreatedUserID_varchar:null,p20:n&&n.CreatedTtm?n.CreatedTtm:null,p21:n&&n.CreatedTtmType?n.CreatedTtmType:null,p22:n&&n.CreatedTtmBetween?n.CreatedTtmBetween:null,p23:null,p24:n&&n.LedgerCode?n.LedgerCode:null,p25:n&&n.LedgerName?n.LedgerName:null,p26:n&&n.CurrencyID?n.CurrencyID:null,p27:n&&n.BaseCurrencyName?n.BaseCurrencyName:null,p28:n&&n.CurrencyCode?n.CurrencyCode:null,p29:n&&n.MatProPayTermsID?n.MatProPayTermsID:null,p30:n&&n.MatProPayTermsCode?n.MatProPayTermsCode:null,p31:n&&n.TermsName?n.TermsName:null,p32:n&&n.Validity?n.Validity:null,p33:n&&n.FinVoucherTypeID?n.FinVoucherTypeID:null,p34:n&&n.FinVoucherTypeCode?n.FinVoucherTypeCode:null,p35:n&&n.FinVoucherTypeName?n.FinVoucherTypeName:null,p36:n&&n.BankID?n.BankID:null,p37:n&&n.BankCode?n.BankCode:null,p38:n&&n.BankName?n.BankName:null,p39:n&&n.BankAccountNo?n.BankAccountNo:null,p40:n&&n.BankBranch?n.BankBranch:null,p41:n&&n.TaxID?n.TaxID:null,p42:n&&n.TaxCode?n.TaxCode:null,p43:n&&n.TaxName?n.TaxName:null,p44:n&&n.TaxValue?n.TaxValue:null,p45:n&&n.FinPaymentCode?n.FinPaymentCode:null,p46:n&&n.FinPaymentOrderRefNo?n.FinPaymentOrderRefNo:null,p47:n&&n.FinPaymentRefNo?n.FinPaymentRefNo:null,p48:n&&n.FinPaymentTotalAmount?n.FinPaymentTotalAmount:null,p49:n&&n.FinGroupID?n.FinGroupID:null,p50:n&&n.Description?n.Description:null,p51:n&&n.GroupCode?n.GroupCode:null,p52:n&&n.GroupName?n.GroupName:null,p53:n&&n.FinReceiptCode?n.FinReceiptCode:null,p54:n&&n.FinRcptDate?n.FinRcptDate:null,p55:n&&n.FinRcptDateType?n.FinRcptDateType:null,p56:n&&n.FinRcptDateBetween?n.FinRcptDateBetween:null,p57:1,p58:v,p59:Ce,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};var o;W.loading(!1),W.alert({open:!0,color:"success",message:[`${o="1521",J.language?.[o]?J.language[o]:o} - ${l.alertName}, Once you have downloaded the file, you will be notified`]}),(0,d.Z)(i,r,J.token[0],l).then((e=>{(0,w.PDF_Excel_Generate)(e,W,ge,k,t,l)}))})(G,b.column,n)},TableVisibleItem:j,userGridViewFormID:"1521",TableTotalCount:v,Refresh:()=>{Ee({current:1,pageSize:100},G,Ce),S({current:1,pageSize:100}),s.current&&s.current.clearItem(),c.current&&c.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:t})),l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(m.Z,{count:f,siblingCount:0,color:"primary",page:E.current,onChange:(e,n)=>{if(S({current:n,pageSize:E.pageSize}),ee)Ee({current:n,pageSize:E.pageSize},G,"DraftFinBankReconID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";Ee({current:n,pageSize:E.pageSize},G,"FinBankReconID")}}}),l().createElement("div",null,l().createElement(u.Z,{value:E.pageSize,onChange:e=>{S({current:1,pageSize:e.target.value}),Ee({current:1,pageSize:e.target.value},G,"FinBankReconID")},className:"BootstrapInputStyle2"},l().createElement("option",{value:10},"10"),l().createElement("option",{value:20},"20"),l().createElement("option",{value:50},"50"),l().createElement("option",{value:100},"100"))),le&&l().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),l().createElement("div",{id:"FinBanRecConRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},l().createElement("div",{id:"FinBanRecConRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?l().createElement(MUITableMulti,{ref:s,type:e.viewtype,id:"FinBanRecConRegistry",headerdata:j,tablesearchparams:se,searchvalue:e=>{pe(e),S({current:1,pageSize:100}),Ee({current:1,pageSize:100},e,ee?"DraftFinBankReconID":"FinBankReconID",ee&&"DraftPage")},bodydata:L,ondrag:(e,n)=>{Q({type:"editData",payload:[n]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:H,visibleitem:j,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(n,t,a)=>{I?W.select(n):(e.editdata(n,"view"),"viewonly"==e.viewtype?W.edit(n,t,a):W.edit(n,t,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{V(e)},color:!0,isexpanded:!1}):l().createElement(Z.Z,{frmctrlid:"tblcs_1521_L2_",ref:c,id:"FinBanRecConRegistryTable",type:e.viewtype,headerdata:j,tablesearchparams:se,searchvalue:e=>{let n={...G,...e};pe(e),_(n),S({current:1,pageSize:100}),Ee(E,n,Ce)},bodydata:L,ondrag:(e,n)=>{Q({type:"editData",payload:[n]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:H,visibleitem:j,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(n,t,a)=>{I?W.select(n):(e.editdata(n,"view"),W.edit(n,t,1!=n.Entry))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},22962:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B}),t(95866),t(99058);var a=t(92950),l=t.n(a),i=t(80366),r=t(51673),o=t(282),c=t(868),d=t(78513),s=t(14439),p=t(27848),m=t(40900),u=t(64059),g=t(24038),F=t(8981),y=t(47516),D=t(86893),I=t(1680),R=t(33681),C=t(63163),f=t(25108);const B=(0,a.forwardRef)(((e,n)=>{const[t]=(0,a.useState)(localStorage.getItem("userid")),[B,v]=(0,a.useState)([]),[h,E]=(0,a.useState)({idpk:"",name:"",type:""}),[S,N]=(0,a.useState)(""),[k,T]=(0,a.useState)({}),[P,b]=(0,a.useState)(!0),[x,w]=(0,a.useState)(!1),{cstate:L,cdispatch:A}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[Z,O]=(0,a.useState)(1),[V,M]=(0,a.useState)(0),[z,K]=(0,a.useState)(!1),[G,_]=(0,a.useState)({}),[U,q]=(0,a.useState)([]),[j,Y]=(0,a.useState)(!0);let H=localStorage.getItem("Language");const $={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let W=(0,F.Z)();const J=e=>W[e]?W[e]:e,Q=n=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==n))?.[$[H]];function X(){T({}),_({}),e.searchData({}),w(!1)}(0,a.useEffect)((()=>{let n=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));q(n)}),[]),(0,a.useImperativeHandle)(n,(()=>({clear:()=>{X()}})));const ee=async(n,t,a,l)=>{K(!0);let i=t.IsForeign?t.FieldName+"PK":"FinBankReconIDPK";try{let o="",c=[],d={};await E((e=>(o=e.name,e))),await T((e=>(c=e,e))),await _((e=>(d=e,e)));const s=m.v.Api+"FP1521S3/",p={data:{p1:t.IsForeign?await ae():null,p2:"FinBankReconCode"==o&&a.length>0?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:"FinReAmount"==o&&a.length>0?"%"+a+"%":null,p7:"FinReconCheqNo"==o&&a.length>0?"%"+a+"%":null,p8:"FinReconDesp"==o&&a.length>0?"%"+a+"%":null,p9:"IsReceipt"==o&&a.length>0?"%"+a+"%":null,p10:null,p11:null,p12:"FinPaymentCode"!=o&&c.FinPaymentCode?c.FinPaymentCode.map((e=>e.FinPaymentIDPK)).toString():null,p13:"LedgerName"!=o&&c.LedgerName?c.LedgerName.map((e=>e.FinLedgerIDPK)).toString():null,p14:"LedgerName1"!=o&&c.LedgerName1?c.LedgerName1.map((e=>e.FinLedgerID1PK)).toString():null,p15:"FinSalseInvocieNo"!=o&&c.FinSalseInvocieNo?c.FinSalseInvocieNo.map((e=>e.FinSalesInvoiceIDPK)).toString():null,p16:"FinReceiptCode"!=o&&c.FinReceiptCode?c.FinReceiptCode.map((e=>e.FinReceiptIDPK)).toString():null,p17:e.Dialogview?"1":null,p18:null,p19:"p19"==o&&a.length>0?a:null,p20:null,p21:null,p22:null,p23:null,p24:"LedgerCode"==o&&a.length>0?"%"+a+"%":null,p25:"LedgerName"==o&&a.length>0?"%"+a+"%":null,p26:"BaseCurrencyName"!=o&&c.BaseCurrencyName?c.BaseCurrencyName.map((e=>e.CurrencyIDPK)).toString():null,p27:"BaseCurrencyName"==o&&a.length>0?"%"+a+"%":null,p28:"CurrencyCode"==o&&a.length>0?"%"+a+"%":null,p29:"TermsName"!=o&&c.TermsName?c.TermsName.map((e=>e.MatProPayTermsIDPK)).toString():null,p30:"MatProPayTermsCode"==o&&a.length>0?"%"+a+"%":null,p31:"TermsName"==o&&a.length>0?"%"+a+"%":null,p32:"Validity"==o&&a.length>0?"%"+a+"%":null,p33:"FinVoucherTypeName"!=o&&c.FinVoucherTypeName?c.FinVoucherTypeName.map((e=>e.FinVoucherTypeIDPK)).toString():null,p34:"FinVoucherTypeCode"==o&&a.length>0?"%"+a+"%":null,p35:"FinVoucherTypeName"==o&&a.length>0?"%"+a+"%":null,p36:"BankName"!=o&&c.BankName?c.BankName.map((e=>e.BankIDPK)).toString():null,p37:"BankCode"==o&&a.length>0?"%"+a+"%":null,p38:"BankName"==o&&a.length>0?"%"+a+"%":null,p39:"BankAccountNo"==o&&a.length>0?"%"+a+"%":null,p40:"BankBranch"==o&&a.length>0?"%"+a+"%":null,p41:"TaxName"!=o&&c.TaxName?c.TaxName.map((e=>e.TaxIDPK)).toString():null,p42:"TaxCode"==o&&a.length>0?"%"+a+"%":null,p43:"TaxName"==o&&a.length>0?"%"+a+"%":null,p44:"TaxValue"==o&&a.length>0?"%"+a+"%":null,p45:"FinPaymentCode"==o&&a.length>0?"%"+a+"%":null,p46:"FinPaymentOrderRefNo"==o&&a.length>0?"%"+a+"%":null,p47:"FinPaymentRefNo"==o&&a.length>0?"%"+a+"%":null,p48:"FinPaymentTotalAmount"==o&&a.length>0?"%"+a+"%":null,p49:"GroupName"!=o&&c.GroupName?c.GroupName.map((e=>e.FinGroupIDPK)).toString():null,p50:"Description"==o&&a.length>0?"%"+a+"%":null,p51:"GroupCode"==o&&a.length>0?"%"+a+"%":null,p52:"GroupName"==o&&a.length>0?"%"+a+"%":null,p53:"FinReceiptCode"==o&&a.length>0?"%"+a+"%":null,p54:null,p55:null,p56:null,p57:l||1,p58:10,p59:n,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};await(0,r.Z)(s,p,e.token).then((n=>{const t=n.Output.status.code,a=n.Output.data;if("200"===t)if(a.length>0)if(1===l){let e=te(a,o),n=ne(e,k[o],i);v(n),M(n.length>0?n[0].TotalCount:k[o].length)}else{let e=[...B,...a],n=te(e,o);M(n.length<10?n.length:a[0].TotalCount),v(te(n,o))}else S.length>0&&v([]),M(B.length);else e.alertmsg("error",[n.Output.status.message])}))}catch(n){e.alertmsg("warning",[n])}finally{K(!1)}},ne=(e=[],n=[],t)=>e.filter((e=>!n.find((n=>e[t]===n[t])))),te=(e,n)=>e.filter(((e,t,a)=>a.findIndex((t=>t[n]===e[n]))===t));async function ae(){let e={};await T((n=>(e=n,n)));let n=[...U],t=[];for(let a of n){let n=e[a]?.map((e=>e.FinBankReconIDPK)).toString();n&&t.push(n)}return t?[...new Set(t)].toString():""}async function le(n,t,a,l,i,r){let o={[l]:{From:n,Type:a,To:t}},c={};_((e=>({...e,...o})));const d={...k};let s=[...U],p=[];for(let e of s){let n=d[e]?.map((e=>e.FinBankReconIDPK)).toString();n&&p.push(n)}await _((e=>(c=e,e)));let m={FinBankReconIDPK:p?[...new Set(p)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==a?i:null,FinBankReconDate:c.FinBankReconDate?c.FinBankReconDate.From:"",FinBankReconDateType:c.FinBankReconDate?c.FinBankReconDate.Type:"",FinBankReconDateBetween:c.FinBankReconDate?c.FinBankReconDate.To:"",FinReceiptID:k.FinReceiptCode?.map((e=>e.FinReceiptIDPK)).toString(),FinPaymentID:k.FinPaymentCode?.map((e=>e.FinPaymentIDPK)).toString(),FinLedgerID:k.LedgerName?.map((e=>e.FinLedgerIDPK)).toString(),FinLedgerID1:k.LedgerName1?.map((e=>e.FinLedgerID1PK)).toString(),FinSalesInvoiceID:k.FinSalseInvocieNo?.map((e=>e.FinSalesInvoiceIDPK)).toString()};e.searchData(m)}function ie(){return l().createElement(u.Z,{frmctrlid:"fld1521L2TCDateCompCreatedTtm",SendDateVal:(e,n,t,a,l)=>{le(e,n,t,h.name,a)},keyboardback:()=>{w(!1),E({idpk:"",name:"",type:""})},title:J(h.name),fieldname:h.name,save:e=>{alert(!0)}})}return l().createElement("div",null,x?"Created Ttm"===h.name||h.name.includes("Date")?l().createElement(ie,null):l().createElement("div",null,l().createElement("div",{className:"columnHeader displayFlex"},l().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},l().createElement(s.Z,null,l().createElement(p.Z,{xs:6,sm:6,md:6,lg:6},l().createElement("p",{className:"columnHeaderp"},Q(h.idpk)," (",B.length,"/",V,")")),l().createElement(p.Z,{xs:6,sm:6,md:6,lg:6},l().createElement(c.ZP,{title:J("Close"),placement:"top"},l().createElement("div",{className:"FilterItemClose",align:"right"},l().createElement(i.Z,{id:"fld1521L2TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{w(!1),E({idpk:"",name:"",type:""}),O(1)}}))),k[h.name]&&l().createElement("div",{className:"FiltercloseAlign",align:"right"},l().createElement(o.Z,{frmctrlid:"fld1521L2TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await T((n=>(e=n,f.log("clear fewItems",e),n))),e[h.name]=[],ee(h.type,h.name,"",1)})()}},l().createElement("span",{className:"ColumnApplyTitle"},J("Clear All")))))))),l().createElement("div",{className:"FilterParentDiv"},l().createElement("div",{"data-list-scroll-container":"true"},l().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},l().createElement("div",{className:"FilterMaximize"},P?l().createElement(c.ZP,{title:"Maximize",placement:"right"},l().createElement("span",null,l().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{b(!1)}}))):l().createElement(c.ZP,{title:"Minimize",placement:"right"},l().createElement("span",null,l().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{b(!0)}})))),l().createElement("ul",null,k[h.name]&&k[h.name].map(((e,n)=>l().createElement("div",{key:n,tabIndex:"-1",className:P?"filterSelectedItems":"filterSelectedItemsMaximize"},l().createElement("div",{className:"filterSelectedItemNames"},l().createElement("span",null,e[h.name])),l().createElement("div",{className:"filterSelectedItemClose"},l().createElement("div",{id:"fildacls_3_L2_"+e[h.name],onClick:()=>(async(e,n)=>{O(1);let t=k[h.name].filter((n=>n!=e)),a={};await T((e=>(a=e,e))),a[h.name]=t,T(a),v((n=>[e,...n]))})(e)},l().createElement(i.Z,{className:"filterSelectedItemCloseIcon"})))))))),l().createElement("div",{className:"displayFlex width100 FilterSearch"},l().createElement("div",{className:"FilterSearchInputDiv"},l().createElement(g.Z,{frmctrlid:"fld1521L2TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:J("Enter ")+" "+Q(h.idpk),onChange:e=>{N(e),ee(h.type,h.name,e,1,ae())}})),l().createElement("div",{id:"fld1521L2TFCFilterGoForward",className:"FilterSearchBtn",onClick:async n=>{let t="",a={};await T((e=>(t=e,e)));let l=[...U],i=[];for(let e of l){let n=t[e]?.map((e=>e.FinBankReconIDPK)).toString();n&&i.push(n)}await _((e=>(a=e,e)));let r={FinBankReconIDPK:i?[...new Set(i)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",FinBankReconDate:a.FinBankReconDate?a.FinBankReconDate.From:"",FinBankReconDateType:a.FinBankReconDate?a.FinBankReconDate.Type:"",FinBankReconDateBetween:a.FinBankReconDate?a.FinBankReconDate.To:"",FinReceiptID:k.FinReceiptCode?.map((e=>e.FinReceiptIDPK)).toString(),FinPaymentID:k.FinPaymentCode?.map((e=>e.FinPaymentIDPK)).toString(),FinLedgerID:k.LedgerName?.map((e=>e.FinLedgerIDPK)).toString(),FinLedgerID1:k.LedgerName1?.map((e=>e.FinLedgerID1PK)).toString(),FinSalesInvoiceID:k.FinSalseInvocieNo?.map((e=>e.FinSalesInvoiceIDPK)).toString()};e.searchData(r),w(!1)}},l().createElement(c.ZP,{title:"",placement:"top"},l().createElement(o.Z,{className:"ColumnSearchButton"},l().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),z&&l().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},l().createElement(R.Z,{color:"secondary"})),l().createElement("div",{id:"fld1521L2TFCScrollYDefault",className:"height65 scrollYDefault"},B.length>0&&B.map(((e,n)=>l().createElement("div",{id:"filda_3_L2_"+e[h.name],key:n,className:"FilterItemDiv",onClick:()=>{(async e=>{let n={},t=[];t.push(e);let a={};await T((e=>(a=e,e)));let l=a[h.name];n[h.name]=l?[...t,...l]:t,a={...a,...n},T(a),v((n=>n.filter((n=>n!=e))))})(e)}},l().createElement(d.Z,{className:"DotIcon"}),l().createElement("span",null,e[h.name])))),B.length+0<V&&B.length>0&&l().createElement("div",{id:"fld1521L2TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{O(Z+1),ee(h.type,h.name,"",Z+1)}},l().createElement("p",null," more... ")),0===B.length&&l().createElement("div",null,l().createElement("div",{className:"NoDataImage"},l().createElement("img",{src:m.v.NoData,alt:"NoImage"})),l().createElement("div",{className:"NoDataDesc"},l().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):l().createElement("div",null,l().createElement("div",{className:"columnHeader displayFlex"},l().createElement("div",{className:"columnHeaderTitle"},l().createElement(y.Ol$,{className:"columnHeaderIcon"})),l().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,l().createElement(c.ZP,{title:"",placement:"top"},l().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{X()},id:"fld1521L2TFCColumApplyBttn"},l().createElement("span",{className:"ColumnApplyTitle"},J("Clear")))),l().createElement(c.ZP,{title:"",placement:"top"},l().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1521L2TFCColumnCloseButton"},l().createElement("span",{className:"ColumnCloseTitle"},J("Close")))))),l().createElement("div",{className:"height65"},l().createElement("div",{id:"fld1521L2TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,n)=>e.Remarks-n.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,n)=>{return l().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{w(!0),N(""),v([]),M(0),E({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterFinBankReconID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterFinBankReconID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?l().createElement(l().Fragment,null,Q(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&l().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?l().createElement(l().Fragment,null,l().createElement("span",null,Q(e.AdminUserGridViewIDPK)),l().createElement(C.Z,{checked:"1"==j,onChange:n=>{Y(n.target.checked),le("","",e.FieldName,"",n.target.checked)}})):l().createElement(l().Fragment,null,l().createElement("span",null,Q(e.AdminUserGridViewIDPK)),(t=e.FieldDisplay,k[t]?.length>0&&l().createElement("div",{className:"FilterItemDivSelected"},l().createElement("span",{className:"RoundedDivName"},k[t][0][t]),k[t].length>1&&l().createElement("span",{className:"RoundedDivName"},k[t][1][t]),k[t].length>2&&l().createElement("span",{className:"RoundedDivNumber"},"+"+(k[t].length-2))))));var t}))))))}))},56481:(e,n,t)=>{t.r(n),t.d(n,{default:()=>R});var a=t(92950),l=t.n(a),i=t(45237),r=t(37148),o=t(3212),c=t(29800),d=(t(14439),t(27848),t(10966),t(36939)),s=t(61201),p=t(50743),m=t(1680),u=(t(21392),t(51673)),g=t(40900),F=t(26537),y=(t(24038),t(74765)),D=(t(77366),t(97829),t(8981)),I=(t(63163),t(1695),t(65197));const R=(0,a.forwardRef)(((e,n)=>{const t=(0,a.useRef)(),[R,C]=((0,i.useSelector)((e=>e.form)),(0,a.useState)([])),[f,B]=(0,a.useState)(!0),[v,h]=(0,a.useState)(e.showDetail),[E,S]=(0,a.useState)(""),[N,k]=l().useState(!1),[T,P]=l().useState(""),[b,x]=l().useState(!1),w=(0,a.useContext)(m.FinBanRecConRegistryContext),{cstate:L,cdispatch:A}=(0,m.ContextApi)(),[Z,O]=(0,a.useState)(!1),[V,M]=(0,a.useState)(""),[z,K]=(0,a.useState)(""),[G,_]=(0,a.useState)("");let U=(0,D.Z)();(0,a.useEffect)((()=>{L.editData.length>0&&(C(L.editData),k(!1),A({type:"PrimaryId",payload:L.editData[0].FinBankReconIDPK}))}),[L.editData]),(0,a.useEffect)((()=>{L.showTableview&&_(L.showTableview)}),[L.showTableview]),(0,a.useEffect)((()=>{B(L.ExpandDetailValue)}),[L.ExpandDetailValue]),(0,a.useImperativeHandle)(n,(()=>({tableClick:e=>{B(e),k(null)},viewtoggle:()=>{k(!1)},viewlistProps:(n,t)=>{!function(n,t=!1){let a=g.v.Api+"FP1521S3/",l={data:{p1:n,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:1,p58:10,p59:L.IsDraft?"DraftFinBankReconID":"FinBankReconID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};(0,F.Z)(0).then((e=>{(0,u.Z)(a,l,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&C(e.Output.data)}))}))}(n,t)},clear:()=>{"panel0"===N&&t.current.clear()}})));const q=e=>U?.[e]?U?.[e]:e,j=e=>L.language?.[e]?L.language[e]:e;function Y(e,n){}const H=(e,n)=>(t,a)=>{P(b?Object.assign(...R.filter((e=>e.FinBankReconIDPK==n)).map((e=>e))):L.editData),k(!a&&e)};return l().createElement("div",null,l().createElement(d.Z,{expanded:f,onChange:()=>()=>{e.expandTable&&B(!f)}},!N&&l().createElement(p.Z,null,l().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},f?l().createElement("div",{className:"displayFlex EntryViewHeader"},l().createElement("p",{className:"ListP"},L.IsDraft?q("Draft"):"",j("FinBanRecConRegistry"),e.viewonly?" ":"("+L.count+")")):"",f?l().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&L.AccessRights.IsAdd?l().createElement(o.Z,{name:q("Add"),frmctrlid:"fld1521L2VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),A({type:"editData",payload:[]}),A({type:"ShowDetail",payload:!1}),A({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&L.AccessRights.IsEdit?l().createElement(c.Z,{frmctrlid:"fld1521L2VCEditBtn",onClick:H("panel0",""),disabled:!1}):L.IsDraft&&L.AccessRights.IsAdd&&l().createElement(c.Z,{frmctrlid:"fld1521L2VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&l().createElement(r.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1521L2VCCloseBtn",onClick:()=>{B(!1),w.hideAddBtn(!1),b&&(A({type:"editData",payload:[]}),C([]))}})):"")),l().createElement(s.Z,{style:{display:"block"}},R.map(((e,n)=>l().createElement("div",{key:n},N==="panel"+n?l().createElement(y.default,{ref:t}):l().createElement(l().Fragment,null,l().createElement(I.Z,{tableName:"FinBanRecConRegistry",tableID:1521,parentID:e.FinBankReconIDPK,fldid:"fld1521L2VCContainer",OpenSlideComponent:Y,index:n,refresh:G,val:e,tf:j,t:q,title:"10.0.0.50-2:53:36 PM-9-6[1521]"}))))))))}))}}]);