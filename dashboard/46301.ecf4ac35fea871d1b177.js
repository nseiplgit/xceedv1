"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[46301],{45965:(e,t,a)=>{a.d(t,{Z:()=>n}),a(26537);var l=a(40900);function n(e,t){let a=localStorage.getItem("userid"),n=l.v.Api+"FP26S3/",m={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:t,p14:Number(localStorage.getItem("UserGroupID")),p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:1,p31:10,p32:"UserRightsID",p33:null,p34:null,p35:Number(localStorage.getItem("UserGroupID")),p36:Number(localStorage.getItem("userid"))}};return fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":e&&e.TokenIDPK,"x-tokenname":e&&e.TokenName,"x-userid":a,USER_ID:a,FORM_ID:1},body:JSON.stringify(m)}).then((e=>{if(e.ok)return e.json();throw new Error("Something went wrong")})).then((e=>{if("200"==e.Output.status.code){if(e.Output.data.length>0){let t=e.Output.data[0];return{IsAdd:"1"==t.IsAdd,IsEdit:"1"==t.IsEdit,IsView:"1"==t.IsView,IsDelete:"1"==t.IsDelete,IsPrint:"1"==t.IsPrint,IsExport:"1"==t.IsExport}}return{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1}}})).catch((e=>{e&&(window.location.href.split("/"),localStorage.setItem("error",e))}))}},67698:(e,t,a)=>{a.d(t,{Z:()=>T});var l=a(92950),n=a.n(l),m=(a(45237),a(99940),a(87239)),s=a(54769),r=a(34874),i=a(89875),c=a(66735),o=a(80366),d=a(61956),p=a(51673),g=a(35308),u=a(14439),I=a(27848),E=a(17812),f=a(14018),h=a(92762),v=a(33681),y=a(26537),N=a(868),x=a(40900),w=a(35131),P=a.n(w),b=a(61924),Z=a.n(b),D=a(43099),A=a(15940),C=a(25108);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},k.apply(this,arguments)}const T=(0,l.forwardRef)(((e,t)=>{const{t:a}=(0,A.useTranslation)(),{classes:w}=e,b=(0,l.useRef)(null),[T,S]=(0,l.useState)([]),[R,L]=(0,l.useState)(""),[B,K]=(0,l.useState)(""),[j,_]=(0,l.useState)(!1),[O,M]=(0,l.useState)({open:!1,color:"",message:""}),[F,Y]=(0,l.useState)({Name:"",Type:"",Remarks:""}),[$,G]=(0,l.useState)(""),[V,z]=(0,l.useState)(""),[U,H]=(0,l.useState)(""),[W,J]=(0,l.useState)(""),[q,X]=(0,l.useState)(""),[Q,ee]=(0,l.useState)([]);(0,l.useEffect)((()=>{_(e.imgloading),e.clearTempData&&S([])}),[e.imgloading,e.clearTempData]),(0,l.useImperativeHandle)(t,(()=>({AttachmentData(e){e&&te(e)},tempImg:e=>{S(e)},clrImgstate:e=>{!0===e&&S([])}})));const te=t=>{_(!0);let a=x.v.Api+"FP10S3/",l={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:t||null,p15:e.menurefID,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:1,p27:10,p28:"AdminImageID",p29:null,p30:null,p31:Number(localStorage.getItem("UserGroupID")),p32:Number(localStorage.getItem("userid"))}};(0,y.Z)(0).then((e=>{(0,p.Z)(a,l,e).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let t=e.Output.data;_(!1),t.length>0&&S(e.Output.data)}}else S([]),_(!1)}))}))},ae=t=>{e.ConfirmAlert(null),_(!0);const a=x.v.Api+"FP10S1/",l={data:[{p1:t.AdminImageIDPK,p2:"",p3:t.ImageName,p4:t.size,p5:"",p6:"",p7:t.ImgPath,p8:t.ImageName.split(/\.(?=[^\.]+$)/)[1],p9:t.TransType,p10:t.ImgProType,p11:0,p12:!0,p13:t.Remarks,p14:t.TransID,p15:e.menurefID,p16:0,p17:!1,p18:!1,p19:Number(localStorage.getItem("userid")),p20:P()().format("YYYY-MM-DD hh:mm:ss"),p21:Number(localStorage.getItem("userid")),p22:P()().format("YYYY-MM-DD hh:mm:ss")}]};(0,y.Z)(0).then((e=>{(0,d.Z)(a,l,e).then((e=>{const a=e[0].status,l=e[0].error;200==a.code?(M({open:!0,color:"error",message:a.message?"Deleted Successfully":""}),_(!1),te(t.TransID)):M({open:!0,color:"error",message:l.message})}))}))};function le(e,t){var a=e,l=new XMLHttpRequest;l.open("GET",a,!0),l.responseType="blob",l.onload=function(){var e=new Blob([l.response],{type:"application/octetstream"});if(document.documentMode)window.navigator.msSaveBlob(e,t);else{let l=(window.URL||window.webkitURL).createObjectURL(e);var a=document.createElement("a");a.setAttribute("download",t),a.setAttribute("href",l),document.body.appendChild(a),a.click()}},l.send()}return n().createElement("div",{id:e.imgid,className:"maindiv"},n().createElement("div",{style:{overflow:"hidden"}},n().createElement(h.Z,{open:O.open,color:O.color,message:O.message,onClose:()=>M({open:!1,color:O.color,message:[]})}),n().createElement(u.Z,{style:{overflowX:"scroll",height:"100vh"}},n().createElement(I.Z,{sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"AttachDiv"},n().createElement("p",{className:"ListP"},"Attachments"),n().createElement("div",{className:"ViewClosebtn"},n().createElement(N.ZP,{title:"Close",placement:"top"},n().createElement("div",{id:`${e.frmctrlid}cls`,onClick:()=>{e.ImgAttachment(!1)}},n().createElement(o.Z,{className:"closeBtncssAtt"}))))),j&&n().createElement(v.Z,k({},e,{classes:{colorPrimary:{backgroundColor:"#fff"},barColorPrimary:{backgroundColor:"#34ace0"}}})),n().createElement("div",{className:"FileUpload"},n().createElement(f.Z,{value:null,frmctrlid:e.frmctrlid,label:e.fileId,onChange:(t,a,l)=>{((t,a,l,n)=>{if(document.getElementById(n).style.width="100%",document.getElementById(n).style.display="block",e.valueIDPK){let n=T.map((e=>Number(e.ImgActualSize))).reduce(((e,t)=>e+t),0);C.log("Math.round(sum)",Math.round(n),n),e.PriviewData(t,a,l,Math.round(n))}else e.PriviewData(t,a,l);G(t),z(a),Q.length;const m=[{ImgId:Q.length+1,ImgUrl:t,ImgName:a}].concat(Q);ee(m),e.ImgAttachment(!1)})(t,a,l,e.previd)},message:e=>{M({open:!0,color:"warning",message:[[e]]})},id:e.fileId})),n().createElement("div",{className:"scrool"},T.length>0&&T.map(((t,l)=>n().createElement(I.Z,{xs:12,md:12,lg:12,sm:12,className:"marginTop5",style:{margin:"2% 0% 2% 0%",padding:"0px"}},n().createElement("div",{className:"customise-upload",style:{background:"#fff"}},n().createElement("div",{className:"custom-item-info"},n().createElement(u.Z,null,n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},["png","jpg","jpeg","gif","bmp"].includes(t.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("a",{className:"imgOuter"},n().createElement(N.ZP,{placement:"top",title:"Click to view"},n().createElement("img",{className:"itemImage",src:t.ImgPath,onClick:()=>{document.getElementById("ImgPriv"+e.fileId).style.display="block",document.getElementById("ImgPriv"+e.fileId).style.width="calc(100% - 58px)",document.getElementById("sidebarwid").style.zIndex="1",L(t.ImgPath),J(t.AdminImageIDPK),Y({Name:t.ImageName,Type:t.TransType,Remarks:t.Remarks}),K(t.AdminImageIDPK)},alt:"click to view"}))):n().createElement(N.ZP,{placement:"top",title:"Click to download"},n().createElement("a",{download:!0,className:"imgOuter",rel:"noreferrer",id:e.frmctrlid+"clk2download",onClick:()=>{document.getElementById("ImgPriv"+e.fileId).style.display="block",document.getElementById("ImgPriv"+e.fileId).style.width="calc(100% - 58px)",L(t.ImgPath),J(t.AdminImageIDPK),Y({Name:t.ImageName,Type:t.TransType,Remarks:t.Remarks}),K(t.AdminImageIDPK)}},"audio"==t.TransType?n().createElement(r.Z,{style:{color:"#777",marginTop:"5px"}}):n().createElement(s.Z,{style:{color:"#777",marginTop:"5px"}})))),n().createElement(I.Z,{xs:8,md:8,lg:8,sm:8,style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},(["png","jpg","jpeg","gif","bmp"].includes(t.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1]),n().createElement(N.ZP,{placement:"top",title:t.ImageName},n().createElement("span",{className:"list-item-name cusorPointer",onClick:()=>{document.getElementById("ImgPriv"+e.fileId).style.display="block",document.getElementById("ImgPriv"+e.fileId).style.width="calc(100% - 58px)",L(t.ImgPath),J(t.AdminImageIDPK),Y({Name:t.ImageName,Type:t.TransType,Remarks:t.Remarks}),K(t.AdminImageIDPK)}},t.ImageName)))),n().createElement(I.Z,{xs:1,md:1,lg:1,sm:1},n().createElement(N.ZP,{placement:"top",title:"Delete"},n().createElement("span",{className:"card-actions"},n().createElement("div",{id:e.frmctrlid+"deleteIcon",onClick:()=>{var m;e.valueIDPK?(m=t.AdminImageIDPK,e.ConfirmAlert(n().createElement(Z(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:a("Are you sure?"),onConfirm:()=>(e=>{let t=T.filter((t=>t.AdminImageIDPK==e));ae(t[0])})(m),onCancel:()=>e.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:a("Yes"),cancelBtnText:a("Cancel"),showCancel:!0},a("Do you want to Delete?")))):(t=>{let a=T.filter(((e,a)=>a!=t));S(a),e.timglist(a)})(l)}},n().createElement(g.Z,{className:"actionBtn DeleteIcon"}))))))))))))))),n().createElement("div",{id:"ImgPriv"+e.fileId,className:"viewImgPreview viewImgWidth"},j&&n().createElement(v.Z,null),n().createElement(u.Z,{style:{width:"calc(100% + 0px)"}},n().createElement(I.Z,{sm:12,style:{height:"9vh"}},n().createElement(u.Z,null,n().createElement(I.Z,{sm:12,className:"viewImgPreviewHeader"},n().createElement(u.Z,null,n().createElement(I.Z,{sm:6,align:"left",style:{padding:"10px 0px 10px 12px"}},n().createElement("p",{className:"viewImgPreviewDetails"},"Attachment Preview")),n().createElement(I.Z,{sm:6,align:"right",className:"viewImgPrevIcon"},n().createElement(N.ZP,{title:a("Download"),placement:"top"},n().createElement(E.Z,{component:"div",className:"btnAlignpad",onClick:()=>{le(R,F.Name)},disableRipple:!0,style:{height:"36px"}},n().createElement("a",{rel:"noreferrer"},n().createElement("div",{id:e.frmctrlid+"downloadIcon",onClick:()=>{le(R,F.Name)}},n().createElement(D.Z,{className:"AppIconColor"}))))),n().createElement(N.ZP,{title:a("Close"),placement:"top"},n().createElement(E.Z,{component:"div",className:"btnAlignpad",disableRipple:!0,style:{height:"36px"}},n().createElement("div",{id:e.frmctrlid+"clsdownload",onClick:()=>{document.getElementById("ImgPriv"+e.fileId).style.display="none",document.getElementById("sidebarwid").style.zIndex="1",e.ImgAttachment(!1),document.getElementById("SideBarView").offsetWidth}},n().createElement(o.Z,{className:"AppIconColor"}))))))),n().createElement(I.Z,{sm:12,style:{paddingLeft:"12px"}},n().createElement(u.Z,null,n().createElement(I.Z,{sm:2,md:1,lg:1,xs:2},n().createElement("p",{className:"ViewHeadpTag textAlignLeft"},a("Attachment Name"))),n().createElement(I.Z,{sm:10,md:11,lg:11,xs:10},n().createElement("p",{className:"ViewBodypTag ViewHightLight textAlignLeft"},": ",F.Name)),n().createElement(I.Z,{sm:2,md:1,lg:1,xs:2},n().createElement("p",{className:"ViewHeadpTag textAlignLeft"},a("Attachment Type"))),n().createElement(I.Z,{sm:10,md:11,lg:11,xs:10},n().createElement("p",{className:"ViewBodypTag ViewHightLight textAlignLeft"},": ",F.Type)),n().createElement(I.Z,{sm:2,md:1,lg:1,xs:2},n().createElement("p",{className:"ViewHeadpTag textAlignLeft"},a("Remarks"))),n().createElement(I.Z,{sm:10,md:11,lg:11,xs:10},n().createElement("p",{className:"ViewBodypTag ViewHightLight textAlignLeft"},": ",F.Remarks)))))),n().createElement(I.Z,{sm:12},n().createElement(u.Z,{style:{height:"65vh"}},n().createElement(I.Z,{sm:2},n().createElement(N.ZP,{title:a("Move Left"),placement:"top"},n().createElement(E.Z,{component:"div",style:{padding:"8px 8px",marginRight:"10px",position:"absolute",top:"45%",left:"15px"},disableRipple:!0},n().createElement("div",{id:e.frmctrlid+"ChevronLeftIcon",onClick:()=>{(e=>{let t=T.findIndex((t=>t.AdminImageIDPK===e));if(0!==t){let e=t-1;J(T[e].AdminImageIDPK),L(T[e].ImgPath),K(T[e].AdminImageIDPK),Y({Name:T[e].ImageName,Type:T[e].TransType,Remarks:T[e].Remarks})}})(B)}},n().createElement(i.Z,{style:{color:"#777"}}))))),n().createElement(I.Z,{sm:8},n().createElement("div",{className:"E7GkP"},n().createElement("div",{className:"H36t4 _19AnP _1AhJ7 _3Obxx"},n().createElement("div",{style:{position:"relative",width:"70%",height:"75%",transition:"transform 300ms cubic-bezier(0.1, 0.82, 0.25, 1) 0s"}},n().createElement("div",{className:"_8Yseo"},n().createElement("div",{className:"_1iHeu"},n().createElement("div",{className:"_2kLly"},n().createElement("div",{className:"_1G9lM"},["png","jpg","jpeg","gif","bmp","mp4"].includes(F.Name.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?"video"==F.Type?n().createElement("video",{className:"videoCss",controls:!0,autoplay:!0,name:"media"},n().createElement("source",{src:R,type:"video/mp4"})):n().createElement("img",{className:"_3hYfA",src:R,alt:"preview"}):"audio"==F.Type?n().createElement("audio",{className:"videoCss",controls:!0,autoplay:!0,name:"media"},n().createElement("source",{src:R,type:"audio/mpeg"})):n().createElement(m.Z,{className:"FilePreviewIcon-lg"}))))))))),n().createElement(I.Z,{sm:2},n().createElement(N.ZP,{title:a("Move Right"),placement:"top"},n().createElement(E.Z,{component:"div",style:{padding:"8px 8px",marginRight:"10px",position:"absolute",top:"45%",right:"15px"},disableRipple:!0},n().createElement("div",{id:e.frmctrlid+"ChevronRightIcon",onClick:()=>{(e=>{let t=T.findIndex((t=>t.AdminImageIDPK===e));if(t+1!==T.length){let e=t+1;J(T[e].AdminImageIDPK),L(T[e].ImgPath),K(T[e].AdminImageIDPK),Y({Name:T[e].ImageName,Type:T[e].TransType,Remarks:T[e].Remarks})}})(B)}},n().createElement(c.Z,{style:{color:"#777"}}))))))),n().createElement(I.Z,{sm:12,style:{height:"15vh",borderTop:"1px solid #e0e0e0",display:"flex",alignItems:"center"}},n().createElement("div",{className:"container-outer"},n().createElement("div",{className:"container-inner",ref:b,onWheel:e=>{e.preventDefault();const t=b.current,a=b.current.scrollLeft;t.scrollTo({top:0,left:a+e.deltaY})}},T.map((e=>["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{src:e.ImgPath,className:"cusorPointer",onClick:()=>{L(e.ImgPath),J(e.AdminImageIDPK),Y({Name:e.ImageName,Type:e.TransType,Remarks:e.Remarks}),K(e.AdminImageIDPK)},style:{width:"100px",height:"76px",marginLeft:"10px",marginRight:"10px",borderRadius:"6px",padding:e.AdminImageIDPK==W&&"6px",border:e.AdminImageIDPK==W?"4px solid #21446F":"0px"}}):"audio"==e.TransType?n().createElement(r.Z,{className:"FilePreviewIcon-sm cusorPointer",onClick:()=>{L(e.ImgPath),Y({Name:e.ImageName,Type:e.TransType,Remarks:e.Remarks}),J(e.AdminImageIDPK),K(e.AdminImageIDPK)},style:{width:"100px",height:"76px",marginLeft:"10px",marginRight:"10px",borderRadius:"6px",padding:e.AdminImageIDPK==W&&"6px",border:e.AdminImageIDPK==W?"4px solid #21446F":"0px"}}):n().createElement(s.Z,{className:"FilePreviewIcon-sm cusorPointer",onClick:()=>{L(e.ImgPath),Y({Name:e.ImageName,Type:e.TransType,Remarks:e.Remarks}),J(e.AdminImageIDPK),K(e.AdminImageIDPK)},style:{width:"100px",height:"76px",marginLeft:"10px",marginRight:"10px",borderRadius:"6px",padding:e.AdminImageIDPK==W&&"6px",border:e.AdminImageIDPK==W?"4px solid #21446F":"0px"}})))))))))}))},24038:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(92950),n=a.n(l);function m(e){return n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement("input",{className:e.className,type:e.type,placeholder:e.placeholder,value:e.value,disabled:e.disabled,onChange:t=>{e.onChange(t.target.value.replace(/["']/g,""),t)}}))}},92762:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(92950),n=a.n(l),m=a(5917),s=a(78715);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r.apply(this,arguments)}function i(e){return n().createElement(s.Z,r({elevation:6,variant:"filled"},e))}function c(e){return n().createElement("div",{className:"NotificationRoot"},n().createElement(m.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:e.open,autoHideDuration:5e3,onClose:(t,a)=>{"clickaway"!==a&&e.onClose()}},n().createElement(i,{color:e.color},e.message.length>0&&e.message[0].length>1?e.message[0].map((e=>n().createElement("div",null,e))):e.message)))}},55995:(e,t,a)=>{a.d(t,{Z:()=>T});var l=a(92950),n=a.n(l),m=a(45237),s=a(87239),r=a(96622),i=a(80366),c=a(61956),o=(a(51673),a(41749)),d=a(14439),p=a(27848),g=a(17812),u=a(63957),I=a(92762),E=a(47562),f=a.n(E),h=a(25108);function v(e){const[t,a]=(0,l.useState)(!0),[m,s]=(0,l.useState)("#"),r=["m4v","mov","MPEG-4","mkv","mp4","ods","xls","xlsx","doc","pdf","docx","JPEG","GIF","PNG","JPG","mpg","mov","wmv","rm","3g2","3gp"],[i,c]=(0,l.useState)(""),[o,d]=(0,l.useState)(!1),[p,g]=(0,l.useState)({open:!1,color:"",message:[]}),E=["jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp","svg","gif","avif","apng"];return(0,l.useEffect)((()=>{s(e.value)}),[e.value]),n().createElement("div",{className:"ImageAddDiv"},n().createElement(I.Z,{open:p.open,color:p.color,message:p.message,onClose:()=>g({open:!1,color:p.color,message:[]})}),n().createElement("input",{className:"ImageID",id:e.id,title:"",type:"file",name:"file",accept:"*/*",onClick:e=>e.target.value=null,onChange:t=>{h.log("e"),d(!0);let l=document.getElementById(e.id),n="",m="";if(l.files.length>0)if(n=Math.round(l.files.item(0).size/1024),m=l.files.item(0).name,t.target.files,E.some((e=>m.split(".").pop().toLowerCase().includes(e.toLowerCase()))))(async function(e){const t=e.target.files[0],a={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{const e=await f()(t,a);return await(l=e,new Promise(((e,t)=>{const a=new FileReader;a.readAsDataURL(l),a.onload=()=>{e(a.result)},a.onerror=e=>{t(e)}})))}catch(e){h.log(e)}var l})(t).then((t=>{e.onChange(t,m,n),c(m)}));else if(n<8e3){let l=new FileReader;t.target.files[0]&&l.readAsDataURL(t.target.files[0]),l.onload=t=>{let l=t.target.result;h.log("split",m.split(".").pop()),r.some((e=>m.split(".").pop().toLowerCase().includes(e.toLowerCase())))?(e.onChange(l,m,n),c(m),a(!1)):e.message("Invalid File Format"),d(!1)}}else d(!1),e.message("File Size  should be below 8 MB");else d(!1)},disabled:e.disabled}),n().createElement("div",{className:"ImageUploadPreview"},n().createElement("div",{className:"ImgNew"},n().createElement(u.Z,null),n().createElement("p",null,e.label))))}var y=a(33681);(0,a(48904).Z)({palette:{secondary:{main:"#34ace0"},text:{secondary:"#34ace0",error:"#e34463"}},overrides:{MuiInputLabel:{root:{color:"#34ace0"}},MuiInput:{underline:{"&:after":{borderBottom:"2px solid #0095FB"}}}}});var N=a(99173),x=a(30553),w=a(26537),P=(a(99940),a(40900)),b=a(35131),Z=a.n(b),D=a(15940),A=(a(74095),a(11377),a(6562)),C=a(9570),k=a(25108);const T=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),{t:u}=(0,D.useTranslation)(),[I,E]=((0,m.useSelector)((e=>e.form)),(0,m.useDispatch)(),(0,l.useState)(!1)),[f,h]=(0,l.useState)([]),[b,T]=(0,l.useState)(""),[S,R]=(0,l.useState)(""),[L,B]=(0,l.useState)(""),[K,j]=(0,l.useState)(""),[_,O]=(0,l.useState)([]),[M,F]=(0,l.useState)(!1),[Y,$]=(0,l.useState)(""),[G,V]=(0,l.useState)(null);(0,l.useEffect)((()=>{e.valueIDPK&&h([])}),[e.valueIDPK]),(0,l.useImperativeHandle)(t,(()=>({PriviewItem(e,t){z(),H(e,t)},tempClear:()=>{z(),h([])},tempsave:(e,t)=>{U(e,t)},timglist:e=>{h(e)}})));const z=()=>{R(""),B(""),j(""),F(!1)},U=(t,a)=>{if(k.log("data",a),a.length>0){e.imgloading(!0);let n=[];a.map(((a,l)=>{let m="image";["pdf"].includes(a.ImageName.split(/\.(?=[^\.]+$)/)[1])&&(m="pdf"),["mp3"].includes(a.ImageName.split(/\.(?=[^\.]+$)/)[1])&&(m="audio"),["mp4","mov"].includes(a.ImageName.split(/\.(?=[^\.]+$)/)[1])&&(m="video"),["xlsx"].includes(a.ImageName.split(/\.(?=[^\.]+$)/)[1])&&(m="xlsx"),["xls"].includes(a.ImageName.split(/\.(?=[^\.]+$)/)[1])&&(m="xls"),n.push({p1:0,p2:a.GroupID,p3:a.ImageName,p4:"",p5:"",p6:a.ImgPath,p7:"",p8:a.ImageName.split(/\.(?=[^\.]+$)/)[1],p9:m,p10:0,p11:a.IsDefault?1:0,p12:!1,p13:a.Remarks,p14:Number(t),p15:e.menurefID,p16:0,p17:!0,p18:!1,p19:Number(localStorage.getItem("userid")),p20:Z()().format("YYYY-MM-DD hh:mm:ss"),p21:Number(localStorage.getItem("userid")),p22:Z()().format("YYYY-MM-DD hh:mm:ss")})}));var l=P.v.Api+"FP10S1/";(0,w.Z)(0).then((t=>{(0,c.Z)(l,{data:n},t).then((t=>{const a=t[0].status;t[0].error,200==a.code&&(e.imgloading(!1),e.tempImg([]),z(),h([]))}))}))}},H=(e,t)=>{if(T(e),R(t),f.length>0){const a=[{ImgId:f.length+1,ImgPath:e,ImageName:t,AdminImageIDPK:"0",Remarks:L,GroupID:G,IsDefault:M}];k.log("updatedList",[...f,...a]),h([...f,...a])}else{const a=[{ImgId:f.length+1,ImgPath:e,ImageName:t,AdminImageIDPK:"0",Remarks:L,GroupID:G,IsDefault:M}].concat(f);h(a),k.log("ImgId",a)}};return n().createElement("div",{id:e.previd,className:"overlayPreview overlayattach"},n().createElement("div",{className:"_3JuBL"},n().createElement("div",{className:"_1D7Lo"},n().createElement("p",{style:{paddingLeft:"3%"}},"Preview"),n().createElement("div",{className:"_3SrqU",style:{marginLeft:"auto"}},n().createElement(g.Z,{component:"div",className:"btnpadding4",onClick:()=>{k.log("preveie"),document.getElementById(e.previd).style.width="0%",document.getElementById(e.previd).style.display="none",0==document.getElementById("SideBarView").offsetWidth&&(document.getElementById("sidebarwid").style.zIndex="1")},disableRipple:!0,id:e.frmctrlid+"attclose"},n().createElement(i.Z,{className:"Iconwhite"}))))),n().createElement("div",null,I&&n().createElement(y.Z,null),n().createElement(d.Z,{style:{padding:"0px"}},n().createElement(p.Z,{sm:12},"  ",n().createElement("div",{className:"dashedborder"},["png","jpg","jpeg","gif","bmp"].includes(S.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("div",{className:"imageDivAttPrv"},n().createElement("img",{className:"imageAtt",src:b,alt:"Preview"})):n().createElement("div",{className:"_1G9lM",style:{textAlign:"center",paddingTop:"20%"}},n().createElement(s.Z,{className:"CommonFileIcon",fontSize:"large"})))),n().createElement(p.Z,{sm:12},"  ",n().createElement("div",{className:"naICS"},n().createElement("div",{className:"_2_F5S",ref:a,onWheel:e=>{e.preventDefault();const t=a.current,l=a.current.scrollLeft;t.scrollTo({top:0,left:l+e.deltaY})}},f.map((t=>n().createElement("span",{className:"_2aa7-"},n().createElement("div",{className:"_38JkY",style:{border:t.ImgPath==b?"1px solid #8E8E8E":"0px"}},n().createElement("div",{id:e.frmctrlid+"closeImgBtn",onClick:()=>(t=>{let a=f.filter((e=>e.ImgId!==t));h(a);let l=a.filter((e=>e.ImgId===t+1)),n=a.filter((e=>e.ImgId===t-1));return l.length?(T(l[0].ImgPath),R(l[0].ImageName),!1):n.length?(T(n[0].ImgPath),R(n[0].ImageName),!1):(document.getElementById(e.previd).style.width="0%",document.getElementById(e.previd).style.display="none",void(document.getElementById("sidebarwid").style.zIndex="1"))})(t.ImgId)},n().createElement(i.Z,{className:"closeImgBtn"})),["png","jpg","jpeg","gif","bmp"].includes(t.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{className:"TZVqr",src:t.ImgPath,onClick:()=>{T(t.ImgPath),R(t.ImageName),F(t.IsDefault),B(t.Remarks)}}):n().createElement(s.Z,{className:"FilePreviewIcon-xs"})))))),n().createElement("div",{className:"_20A_P"},n().createElement("div",{className:"_2-TA4"},n().createElement("div",null,n().createElement(v,{value:"",frmctrlid:e.frmctrlid,label:"Add",onChange:(e,t)=>{z(),H(e,t)},message:e=>{k.log(e)},id:e.fileId})))))),n().createElement(o.Z,{item:!0,xs:12,style:{display:"flex",justifyContent:"flex-end"}},n().createElement("div",{style:{width:"fit-content",height:"35px",display:"flex",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"GridAlign1"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(A.Z,{row:!0},n().createElement(x.Z,{frmctrlid:"fld4L2ECEntryCheckbox",style:{marginLeft:"4px"},control:n().createElement(C.Z,{id:`${e.frmctrlid}_default`,style:{color:M?"#21446f":"#fff"},checked:M,onChange:e=>{F(e.target.checked)},size:"small"})}))),n().createElement("div",{className:"GridLabel",style:{marginRight:"12px"}},n().createElement("p",null,"Default"))))),n().createElement(p.Z,{sm:12},n().createElement(o.Z,{container:!0,style:{marginTop:"-14px"}},n().createElement(o.Z,{item:!0,xs:12,style:{paddingLeft:"0px"}},n().createElement("div",{className:"labell2"},"Attachment Name"),n().createElement(N.Z,{type:"text",frmctrlid:`${e.frmctrlid}`,newtxt:!0,hideLabel:!0,labelname:"Attachment Name",onChange:e=>{R(e)},disabled:!0,value:S,clear:e=>{e&&R("")},mandatory:!1})),n().createElement(o.Z,{item:!0,xs:12},n().createElement("div",{className:"labell2"},n().createElement("p",null,"Remarks")," "),n().createElement(N.Z,{frmctrlid:`${e.frmctrlid}attrem`,type:"text",newtxt:!0,marginTop:"0%",hideLabel:!0,onChange:e=>{B(e)},disabled:!1,value:L,clear:e=>{e&&B("")},mandatory:!1})),n().createElement(o.Z,{item:!0,xs:12},n().createElement("div",{className:"buttonAttmain"},n().createElement("div",{className:"buttonAtt"},n().createElement(r.Z,{justIcon:!0,round:!0,color:"info",id:`${e.frmctrlid}_uploadBtn`,onClick:()=>{k.log("Insert");const t=f.filter((e=>"0"==e.AdminImageIDPK));t.length>0&&e.valueIDPK&&U(e.valueIDPK,t),e.tempImg(f),document.getElementById(e.previd).style.width="0%",document.getElementById(e.previd).style.display="none",0==document.getElementById("SideBarView").offsetWidth&&(document.getElementById("sidebarwid").style.zIndex="1"),$(""),V("")}},n().createElement("span",{className:"uploadtxt"},"Upload"))))))))))}))}}]);