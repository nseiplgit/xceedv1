"use strict";(self.webpackChunk_shared_routing_viewsl1=self.webpackChunk_shared_routing_viewsl1||[]).push([[4928],{91446:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var a=s(92950),l=s.n(a),n=s(45237),i=s(36939),r=s(61201),m=s(50743),d=(s(3212),s(30553)),o=s(61956),c=s(44528),p=s(51673),u=s(37148),g=s(99090),y=s(35131),R=s.n(y),E=s(14439),A=s(27848),f=s(1695),k=s(61924),v=s.n(k),I=s(26537),D=s(40900),C=(s(40826),s(11377)),h=(s(24038),s(92371));const S={EnterKeyValues:{RiskAssessmentRegistry:["RiskAssessmentCode","RiskAssessmentName","RiskAssessmentType"]},Label:{RiskAssessmentRegistry:{RiskAssessmentCode:["RiskAssessmentCode","RiskAssessmentName","RiskAssessmentType"],RiskAssessmentName:["RiskAssessmentCode","RiskAssessmentName","RiskAssessmentType"],RiskAssessmentType:["RiskAssessmentCode","RiskAssessmentName"]}},LabelHeader:{RiskAssessmentRegistry:{RiskAssessmentCode:["Assessment Code","Assessment Name","Assessment Type"],RiskAssessmentName:["Assessment Code","Assessment Name","Assessment Type"],RiskAssessmentType:["Assessment Code","Assessment Name"]}},Property:{RiskAssessmentRegistry:{RiskAssessmentCode:{id:"fld833_18697",labelID:"RiskAssessmentCode",maxLength:"50",labelname:"Assessment Code",frmctrlid:"fld833_18697",frmctrlidname:"RiskAssessmentCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},RiskAssessmentName:{id:"fld833_18698",labelID:"RiskAssessmentName",maxLength:"100",labelname:"Assessment Name",frmctrlid:"fld833_18698",frmctrlidname:"RiskAssessmentName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},RiskAssessmentType:{id:"fld833_18699",labelID:"RiskAssessmentType",maxLength:"50",labelname:"Assessment Type",frmctrlid:"fld833_18699",frmctrlidname:"RiskAssessmentType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{RiskAssessmentRegistry:{}}};var N=s(74928),w=s(8981),T=s(6562),b=s(63163),x=s(45155),F=s(79352),B=s(63750);s(49174),s(38773),s(19089),s(82729),s(75355),s(11107);const P={RiskAssessmentIDPK:"",RiskAssessmentCode:"",RiskAssessmentName:"",RiskAssessmentType:"",IsDefault:!1,IsDraft:!1,Remarks:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",Type:"RiskAssessmentID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},L=(0,a.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[s,y]=(0,a.useState)(!1),[k,L]=(0,a.useState)(!0),[Z,O]=(0,a.useState)(!1),[z,M]=(0,a.useState)(!1),[_,G]=(0,a.useState)(""),[K,Y]=(0,a.useState)(!1),[V,U]=(0,a.useState)([]),[H,j]=(0,a.useState)(null),[$,J]=(0,a.useReducer)(h.Z,P),[W,q]=(0,a.useState)(!1),[Q,X]=(0,a.useState)([]),[ee,te]=(0,a.useState)(!1),se=(0,a.useContext)(e.context?e.context:N.RiskAssessmentRegistryContext),{cstate:ae,cdispatch:le}=e.ContextApi?e.ContextApi:(0,N.ContextApi)(),[ne,ie]=(0,a.useState)(0),[re,me]=(0,a.useState)(""),[de,oe]=((0,a.useRef)(null),(0,a.useState)(!1)),[ce,pe]=(0,a.useState)(!0),[ue,ge]=(0,a.useState)(!0),[ye,Re]=(0,a.useState)(!1);let Ee=(0,w.Z)();const Ae=e=>Ee[e]?Ee[e]:e,fe=e=>ae.language?.[e]?ae.language[e]:e;(0,a.useEffect)((()=>{ve(),ae.editData.length<0&&(0,I.Z)(1).then((e=>{he(1,null,"SetDefaultRiskAssessmentID",e)}))}),[]),(0,a.useEffect)((()=>{ae.editData.length>0?(ke(ae.editData[0],""),O(!0)):ae.Add&&(ve(),he(1,null,"SetDefaultRiskAssessmentID",ae.token[0]),O(!0))}),[ae.editData]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{ve()},CreateEasyProps:(e=!0,t)=>{t?(Te(t),O(e)):(ve(),O(e))},IsInboxApproval:e=>{oe(e)}})));const ke=(t,s)=>{M(t.IsDraft),"SetDefaultRiskAssessmentID"==s?me(t.RiskAssessmentIDPK):(ie(e.primid?Number(e.primid):t.RiskAssessmentIDPK),le({type:"PrimaryId",payload:t.RiskAssessmentIDPK})),J({type:"text",name:"RiskAssessmentCode",value:t.RiskAssessmentCode?t.RiskAssessmentCode:""}),J({type:"text",name:"RiskAssessmentName",value:t.RiskAssessmentName?t.RiskAssessmentName:""}),J({type:"text",name:"RiskAssessmentType",value:t.RiskAssessmentType?t.RiskAssessmentType:""}),J({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),t.IsDraft?L(!0):L(!("1"!=t.IsActive&&!t.IsActive))},ve=()=>{U([]),ie(0),me(""),e.createEasy||se.resetImg(),le({type:"PrimaryId",payload:""}),J({type:"text",name:"RiskAssessmentCode",value:""}),J({type:"text",name:"RiskAssessmentName",value:""}),J({type:"text",name:"RiskAssessmentType",value:""}),J({type:"boolean",name:"IsDefault",boolean:!1}),L(!0),G(""),pe(!0),ge(!0)},Ie=t=>{pe(!0),ge(!0),se.loading(!0),se.ConfirmAlert(null),le({type:"IsDraft",payload:!1});const s=D.v.Api+"FP833S1/",a={data:[{p1:"SetDefaultRiskAssessmentID"==t?"NORECORDS"!=re&&re?re:0:ne,p2:be($.RiskAssessmentCode),p3:be($.RiskAssessmentName),p4:be($.RiskAssessmentType),p5:$.IsDefault,p6:!1,p7:"SetDefaultRiskAssessmentID"==t?"SetDefault":null,p8:k,p9:"SetDefaultRiskAssessmentID"==t,p10:localStorage.getItem("userid"),p11:R()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,o.Z)(s,a,l).then((s=>{const a=s[0].status;200==a.code?("SetDefaultRiskAssessmentID"==t?se.alert({open:!0,color:"success",message:[Ae("Default Record Configured")]}):se.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttRiskAssessmentRegistry"),se.loading(!1),e.createEasy||(se.RefreshTable(),se.attachmentSave(s[0].Data.IDPK)),ve(),se.Approval(de),e.clrImgstate(!0),document.getElementById("overlayimgAttRiskAssessmentRegistry")&&(document.getElementById("overlayimgAttRiskAssessmentRegistry").style.width="0%",document.getElementById("overlayimgAttRiskAssessmentRegistry").style.display="none",document.getElementById("divRiskAssessmentRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("RiskAssessmentRegistry-MainTable").style.display="block")):(se.alert({open:!0,color:"warning",message:[a.message]}),se.loading(!1)),O(!0),he(1,null,"SetDefaultRiskAssessmentID",ae.token[0])}))}))},De=e=>{se.loading(!0),se.ConfirmAlert(null);const t=D.v.Api+"FP833S2/",s={data:[{p1:"SetDefaultRiskAssessmentID"==e?"NORECORDS"!=re&&re?re:0:ne,p2:be($.RiskAssessmentCode),p3:be($.RiskAssessmentName),p4:be($.RiskAssessmentType),p5:$.IsDefault,p6:!1,p7:"SetDefaultRiskAssessmentID"==e?"SetDefault":null,p8:k,p9:"SetDefaultRiskAssessmentID"==e,p10:localStorage.getItem("userid"),p11:R()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((e=>{(0,p.Z)(t,s,e).then((e=>{const t=e.Output[0].status;let s=e.Output[0].Data,a=new Array,l=new Array;"200"===t.code?(s.map((e=>{e&&(a.push(e.IsAlert),l.push(e.AlertMessage),e.AlertMessage)})),a.some((e=>"1"==e))?(se.alert({open:!0,color:"warning",message:l}),se.loading(!1)):Ie()):(se.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),se.loading(!1))}))}))};function Ce(t,s,a,l){if(!(ae.count>0))return se.alert({open:!0,color:"warning",message:[Ae("Please save atleast one record")]}),!1;if(!((()=>{const e={...$};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return se.alert({open:!0,color:"warning",message:[Ae("Please enter the primary fields")]}),!1;{pe(!0),ge(!0),se.loading(!0),se.ConfirmAlert(null),le({type:"IsDraft",payload:!1});const s=D.v.Api+"FP833S1/",a={data:[{p1:"SetDefaultRiskAssessmentID"==l?"NORECORDS"!=re&&re?re:0:ne,p2:be($.RiskAssessmentCode),p3:be($.RiskAssessmentName),p4:be($.RiskAssessmentType),p5:$.IsDefault,p6:!0,p7:"SetDefaultRiskAssessmentID"==l?"SetDefault":null,p8:!1,p9:"SetDefaultRiskAssessmentID"==l,p10:localStorage.getItem("userid"),p11:R()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:R()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,o.Z)(s,a,l).then((s=>{const a=s[0].status;200==a.code?(t?se.alert({open:!0,color:"warning",message:[Ae("Deleted Successfully")]}):se.alert({open:!0,color:"success",message:[Ae("Saved to Draft")]}),se.loading(!1),se.attachmentSave(s[0].Data.IDPK),ve(),se.RefreshTable(),e.clrImgstate(!0)):(se.alert({open:!0,color:"warning",message:[a.message]}),se.loading(!1))}))}))}}const he=(t,s,a,l,n)=>{const i=D.v.Api+"FP833S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:1,p16:10,p17:a,p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}},m={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:t,p16:10,p17:a,p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};return q(!0),(0,p.Z)(i,"ClearAll"==a?r:m,"SetDefaultRiskAssessmentID"==a&&l?l:ae.token[0]).then((e=>{const s=e.Output.status.code,l=e.Output.data;if("200"==s){const e=l.length;if(n)return l?l[0]:{};X(1==t?e>0?l:[]:Q.concat(l)),"SetDefaultRiskAssessmentID"==a&&(e>0?ke(l[0],"SetDefaultRiskAssessmentID"):me("NORECORDS")),q(!1)}else se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),q(!1)}))},Se=(t,s,a)=>{const l=D.v.Api+"FP833S3/",n={data:{p1:null,p2:"RiskAssessmentCode"==a&&s?"%"+s+"%":null,p3:"RiskAssessmentName"==a&&s?"%"+s+"%":null,p4:"RiskAssessmentType"==a&&s?"%"+s+"%":null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:t,p16:10,p17:"RiskAssessmentID",p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,s)=>(e[t]=s>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};q(!0),(0,p.Z)(l,"ClearAll"==a?i:n,ae.token[0]).then((e=>{const s=e.Output.status.code,l=e.Output.data;if("200"==s){const e=l.length;1==t?("RiskAssessmentCode"==a&&pe(e>0),"RiskAssessmentName"==a&&ge(e>0),X(l)):("RiskAssessmentCode"==a&&pe(!0),"RiskAssessmentName"==a&&ge(!0),X(Q.concat(l))),q(!1)}else se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),q(!1)}))},Ne=(0,a.useCallback)((async(e,t,s)=>{"text"==s?J({type:s,name:t,value:e}):"number"==s?J({type:s,name:t,number:Number(e)}):"boolean"==s?J({type:s,name:t,boolean:e}):"date"==s&&J({type:"text",name:t,value:e})}),[$]),we=e=>{se.ConfirmAlert(l().createElement(v(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Te(e),onCancel:()=>se.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ae("Yes"),cancelBtnText:Ae("No"),showCancel:!0},Ae("Do you want to update this record?")))};function Te(e){se.ConfirmAlert(null),M(e.IsDraft),ie(Number(e.RiskAssessmentIDPK)),J({type:"text",name:"RiskAssessmentCode",value:e.RiskAssessmentCode?e.RiskAssessmentCode:""}),J({type:"text",name:"RiskAssessmentName",value:e.RiskAssessmentName?e.RiskAssessmentName:""}),J({type:"text",name:"RiskAssessmentType",value:e.RiskAssessmentType?e.RiskAssessmentType:""})}const be=e=>"string"==typeof e?e.trim():e;return l().createElement("div",null,l().createElement(i.Z,{expanded:Z,onChange:e=>{}},l().createElement(m.Z,null,l().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},Z&&l().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},l().createElement("div",{className:"HeadTxt",title:"8.0.0.49-5:14:51 PM-24-3"}," ",Ae("Add "),fe("833")),l().createElement("div",{className:"displayFlex EntryHeaderBtn"},ae.AccessRights.IsDelete&&l().createElement("div",{className:"GridAlign"},l().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},l().createElement(T.Z,{row:!0},l().createElement(d.Z,{labelPlacement:"bottom",id:"fld833L1ECEntryCheckbox",control:l().createElement(b.Z,{checked:"1"==k,onChange:e=>L(e.target.checked)}),label:Ae(1==k?"Active":"In Active")})))),ne||e.createEasy||!ae.AccessRights.IsAdd||!re&&"NORECORDS"!=re?!ne&&!e.createEasy&&l().createElement("div",{className:"GridAlignDefault",onClick:()=>{he(1,null,"SetDefaultRiskAssessmentID",ae.token[0])},id:"fld833L1ECSetDefaultBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(B.j39,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ae("GetDefault")))):l().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ie("SetDefaultRiskAssessmentID")},id:"fld833L1ECSetDefaultBtnIsAdd"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(B.j39,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ae("SetDefault")))),!e.createEasy&&l().createElement("div",{className:"GridAlign",onClick:()=>{se.AttachExpand(!0)},id:"fld833L1ECIconButton"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement("div",{disableRipple:!0,disabled:!1},l().createElement(x.Ypb,{className:"Iconstyles"}))),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ae("Attach")))),!ne&&l().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ve()},id:"fld833L1ECClearBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(x.pYJ,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ae("Reset")))),"1"===z&&ne&&l().createElement(g.Z,{frmctrlid:"fld833L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ce("draftdel")}}),ne&&"1"!==z||e.createEasy?null:ae.AccessRights.IsAdd&&l().createElement("div",{className:"GridAlign",onClick:()=>{Ce()},frmctrlid:"fld833L1ECDraftBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(F.IcR,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,Ae("Draft")))),ae.AccessRights.IsAdd||ae.AccessRights.IsEdit?l().createElement(f.Z,{frmctrlid:"fld833L1ECSaveBtnIsAdd",name:Ae(ne?"Update":"Save"),disabled:!1,onClick:()=>{be($.RiskAssessmentCode)?be($.RiskAssessmentName)?se.ConfirmAlert(l().createElement(v(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ae("Are you sure?"),onConfirm:()=>De(),onCancel:()=>se.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ae("Yes"),cancelBtnText:Ae("Cancel"),showCancel:!0},Ae(ne?"Do you want to Update?":"Do you want to Save?"))):se.alert({open:!0,color:"warning",message:[Ae("Please enter the")+""+fe("RiskAssessmentName")]}):se.alert({open:!0,color:"warning",message:[Ae("Please enter the")+""+fe("RiskAssessmentCode")]})}}):null,!e.createEasy&&l().createElement(u.Z,{frmctrlid:"fld833L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ve(),O(!1),se.EditClose(!0),se.hideAddBtn(!1),le({type:"Add",payload:!1})}}))))),l().createElement(r.Z,null,l().createElement("div",{id:"RiskAssessmentRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},l().createElement("div",{id:"RiskAssessmentRegistry-Detail",className:"detailCard detailDiv"},l().createElement("div",{id:"RiskAssessmentRegistry-MainBody",className:"padding paddingLeft "},l().createElement("div",null,l().createElement(E.Z,{spacing:2},l().createElement(A.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(C.Z,{"data-testid":$.RiskAssessmentCode,json:S,SPName:"RiskAssessmentRegistry",FieldName:"RiskAssessmentCode",tfLabel:fe("RiskAssessmentCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&we(t),onClick:()=>{ce&&Se(1,"","ClearAll"),pe(!0)},frmctrlid:"fld833_18697",frmctrlidName:"RiskAssessmentCode",fieldorder:"1",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,onChange:(e,t)=>{ce&&Se(e,t,"RiskAssessmentCode"),Ne(t,"RiskAssessmentCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||pe(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:$.RiskAssessmentCode,loading:W,clear:e=>{e&&(J({type:"text",name:"RiskAssessmentCode",value:""}),pe(!0))}})),l().createElement(A.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(C.Z,{"data-testid":$.RiskAssessmentName,json:S,SPName:"RiskAssessmentRegistry",FieldName:"RiskAssessmentName",tfLabel:fe("RiskAssessmentName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&we(t),onClick:()=>{ue&&Se(1,"","ClearAll"),ge(!0)},frmctrlid:"fld833_18698",frmctrlidName:"RiskAssessmentName",fieldorder:"2",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,onChange:(e,t)=>{ue&&Se(e,t,"RiskAssessmentName"),Ne(t,"RiskAssessmentName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ge(!0)},showList:ue,SideEntryView:!1,KeyBack:e=>{},value:$.RiskAssessmentName,loading:W,clear:e=>{e&&(J({type:"text",name:"RiskAssessmentName",value:""}),ge(!0))}})),l().createElement(A.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:S,"data-testid":$.RiskAssessmentType,SPName:"RiskAssessmentRegistry",FieldName:"RiskAssessmentType",tfLabel:fe("RiskAssessmentType"),frmctrlid:"fld833_18699",fieldorder:"3",onChange:e=>{Ne(e,"RiskAssessmentType","text")},clear:e=>{e&&J({type:"text",name:"RiskAssessmentType",value:""})},value:$.RiskAssessmentType})))),l().createElement("div",{id:"RiskAssessmentRegistrySideBar",className:"sidenav"},l().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("RiskAssessmentRegistrySideBar").style.width="0",void Y(!1))},"×"),K&&l().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},H))))))))}))},74928:(e,t,s)=>{s.r(t),s.d(t,{ContextApi:()=>y,RiskAssessmentRegistryContext:()=>g,UserGridViewData:()=>R,default:()=>E});var a=s(92950),l=s.n(a),n=s(52107),i=s(82744),r=s(91446),m=s(67698),d=s(55995),o=s(26537),c=s(45237),p=s(45965),u=s(41722);s(51673),s(40900),s(9175);const g=(0,a.createContext)(),y=()=>{const e=(0,a.useContext)(g);if(void 0===e)throw new Error("useCont must be used within  RiskAssessmentRegistryContext Provider");return e},R=[],E=(0,a.forwardRef)(((e,t)=>{const s=(0,a.useRef)(),R=(0,a.useRef)(),E=(0,a.useRef)(),A=(0,a.useRef)(),f=(0,a.useRef)(),[k,v]=(0,a.useState)(!0),[I,D]=(0,a.useState)(),C=((0,c.useSelector)((e=>e.form)),(0,c.useDispatch)()),[h,S]=(0,a.useState)(0),[N,w]=(0,a.useReducer)(u.D,u.E),[T,b]=(0,a.useState)(""),[x,F]=(0,a.useState)([]),[B,P]=(0,a.useState)(!1),[L,Z]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||R.current.clear(),document.getElementById("divRiskAssessmentRegistry-Entry").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainTable").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("RiskAssessmentRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{v(!0),document.getElementById("divRiskAssessmentRegistry-Entry").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainTable").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("RiskAssessmentRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(w({type:"editData",payload:[e.editData]}),w({type:"ShowDetail",payload:!0}))}),[e.editData]);const O=e=>{document.getElementById("divRiskAssessmentRegistry-Entry").style.width="100%",document.getElementById("RiskAssessmentRegistryEntryTable").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainEntry").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainEntry").style.display="block",document.getElementById("RiskAssessmentRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("RiskAssessmentRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttRiskAssessmentRegistry").style.width="0%",document.getElementById("overlayimgAttRiskAssessmentRegistry").style.display="none"};(0,a.useEffect)((()=>{C((e=>{(0,o.Z)(1).then((e=>{var t=new Array;t.push(e),w({type:"token",payload:t}),S(t.length),z(e)}))}))}),[]);const z=e=>{(0,p.Z)(e,833).then((e=>w({type:"AccessRights",payload:e})))};return l().createElement("div",{style:{width:"100%"}},l().createElement(g.Provider,{value:{cstate:N,cdispatch:w,ContextApi:y,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,s)=>e.TabShare(t,s),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{s.current.tableRefresh()},searchItem:e=>{0!==h&&s.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{f.current.tempsave(e,x),F([])},IsInboxApproval:e=>R.current.IsInboxApproval(e),EditClose:e=>O(),AttachExpand:e=>(A.current.AttachmentData(N.PrimaryId),void(k&&(document.getElementById("overlayimgAttRiskAssessmentRegistry").style.width="25%",document.getElementById("overlayPreviewRiskAssessmentRegistry").style.width="50%",document.getElementById("divRiskAssessmentRegistry-Entry").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainTable").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainEntry").style.width="100%",document.getElementById("RiskAssessmentRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("RiskAssessmentRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttRiskAssessmentRegistry").style.display="block",document.getElementById("overlayimgAttRiskAssessmentRegistry").style.width="25%"))),Expanded:e=>{N.ShowDetail&&E.current.tableClick(e),w({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{N.ShowDetail&&E.current.viewtoggle()},clear:e=>{w({type:"ShowDetail",payload:!1}),w({type:"editData",payload:[]}),N.ShowDetail?E.current.clear(e):R.current.clear(e)},hideAddBtn:e=>{s.current.HideEntryFields(e)},ExpandEntry:()=>{N.ShowDetail?E.current.tableClick(!1):R.current.CreateEasyProps(!1)},resetImg:()=>{f.current.tempClear(),A.current.clrImgstate(!0)}}},l().createElement("div",{id:"RiskAssessmentRegistry-MainDiv",className:"MainDivStyles displayFlex"},l().createElement("div",{id:"RiskAssessmentRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},l().createElement("div",{style:{display:"flex"}},l().createElement("div",{id:"RiskAssessmentRegistryEntryTable",style:{width:"100%"}},N.ShowDetail?l().createElement("div",null,l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divRiskAssessmentRegistry-Entry",style:{width:"100%"}},0!==h?l().createElement(i.default,{ref:E}):null)),l().createElement(d.Z,{ref:f,menurefID:833,fileId:"LogoImgRiskAssessmentRegistry",imgloading:t=>{t||N.PrimaryId?e.loading(t):s.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>A.current.AttachmentData(e),previd:"overlayPreviewRiskAssessmentRegistry",frmctrlid:"PvwIm_833_L1_",tempImg:e=>{N.PrimaryId?A.current.AttachmentData(N.PrimaryId):A.current.tempImg(e),F(e)},clearTempData:N.Add})):l().createElement("div",null,l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divRiskAssessmentRegistry-Entry",style:{width:"100%"}},!e.tableview&&l().createElement(r.default,{ref:R,clrImgstate:e=>A.current.clrImgstate(e)}))),l().createElement(d.Z,{ref:f,menurefID:833,fileId:"LogoImgRiskAssessmentRegistry",imgloading:t=>{t||N.PrimaryId?e.loading(t):s.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>A.current.AttachmentData(e),previd:"overlayPreviewRiskAssessmentRegistry",frmctrlid:"PvwIm_833_L1_",tempImg:e=>{N.PrimaryId?A.current.AttachmentData(N.PrimaryId):A.current.tempImg(e),F(e)},clearTempData:N.Add})),l().createElement("div",{id:"RiskAssessmentRegistry-MainTable"},0!==h?l().createElement(n.default,{ref:s}):null)),l().createElement(m.Z,{ImgAttachment:e=>O(),menurefID:833,fileId:"AttImgRiskAssessmentRegistry",imgid:"overlayimgAttRiskAssessmentRegistry",valueIDPK:N.PrimaryId,PriviewData:(e,t,s,a)=>{f.current.PriviewItem(e,t,s,a)},previd:"overlayPreviewRiskAssessmentRegistry",ref:A,imgloading:I,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_833_L1_",timglist:e=>f.current.timglist(e),clearTempData:N.Add}))),l().createElement("div",{id:"RiskAssessmentRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},52107:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_}),s(95866);var a=s(92950),l=s.n(a),n=s(45237),i=s(36939),r=s(61201),m=s(59009),d=s(51673),o=s(90755),c=s(54180),p=s(43031),u=s(110),g=s(5109),y=s(868),R=s(40900),E=s(88995),A=s(50743),f=s(80366),k=s(24038),v=s(61657),I=s(51209),D=s(86893),C=s(53854),h=s(51649),S=s(37106),N=s(5434),w=s(83817),T=s(47516),b=s(39327),x=s(3212),F=s(93521),B=s(71168),P=s.n(B),L=s(65107),Z=s(74928),O=s(94986),z=s(15999),M=s(8981);window.clickFilter="";const _=(0,a.forwardRef)(((e,t)=>{const s=(0,a.useRef)(null),B=(0,a.useRef)(null),[_]=((0,a.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[G]=(0,a.useState)("833"),[K,Y]=(0,a.useState)(!1),[V,U]=(0,a.useState)(!1),[H,j]=(0,a.useState)(0),[$,J]=(0,a.useState)(0),[W,q]=(0,a.useState)(0),[Q,X]=(0,a.useState)(0),[ee,te]=(0,a.useState)({current:1,pageSize:10}),[se,ae]=(0,a.useState)(""),[le,ne]=(0,a.useState)([]),[ie,re]=(0,a.useState)({val:"",column:""}),[me,de]=(0,a.useState)([]),[oe,ce]=(0,a.useState)(!1),[pe,ue]=(0,a.useState)(""),[ge,ye]=(0,a.useState)(""),[Re,Ee]=(0,a.useState)(!1),[Ae,fe]=(0,a.useState)([]),[ke,ve]=(0,a.useState)([]),[Ie,De]=(0,a.useState)([]),[Ce,he]=(0,a.useState)({children:[{name:"RiskAssessmentRegistry",children:[]}]}),[Se,Ne]=(0,a.useState)(!1),we=(0,a.useContext)(e.context?e.context:Z.RiskAssessmentRegistryContext),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:(0,Z.ContextApi)();let xe={RiskAssessmentIDPK:"",RiskAssessmentCode:"",RiskAssessmentName:"",RiskAssessmentType:"",IsDefault:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Fe,Be]=(0,a.useState)(xe),[Pe,Le]=(0,a.useState)(xe),[Ze,Oe]=(0,a.useState)(!1),[ze,Me]=(0,a.useState)(!0),[_e,Ge]=(0,a.useState)(!1),[Ke,Ye]=(0,a.useState)(!0),[Ve,Ue]=(0,a.useState)({RiskAssessmentCode:"",RiskAssessmentName:"",RiskAssessmentType:""}),[He,je]=(0,a.useState)(!1),[$e,Je]=(0,a.useState)([]),[We,qe]=(0,a.useState)(0),[Qe,Xe]=(0,a.useState)(0),[et,tt]=(0,a.useState)({current:1,pageSize:10}),[st,at]=(0,a.useState)([]),[lt,nt]=(0,a.useState)([]),[it,rt]=(0,a.useState)(!1),[mt,dt]=(0,a.useState)(!1),[ot,ct]=(0,a.useState)(!1),[pt,ut]=(0,a.useState)(""),[gt,yt]=P()("833"),Rt=[{columns:st,data:se}];let Et=(0,M.Z)();const At=e=>Et[e]?Et[e]:e,ft=e=>Te.language?.[e]?Te.language[e]:e;(0,a.useEffect)((()=>{St(gt)}),[gt]),(0,a.useEffect)((()=>{Te.token.length>0&&Ct(ee,xe,"RiskAssessmentID")}),[]),(0,a.useEffect)((()=>{!Se&&pe?(Be(pe),Ct(ee,pe,"RiskAssessmentID")):Se&&Le(pe)}),[pe]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{kt(e)},tableRefresh:()=>{Ct(ee,xe,"RiskAssessmentID")},DialogTableProps:e=>{U(e)},HideEntryFields:e=>{ct(e)}})));const kt=e=>{""==e?Ct(ee,xe,Ze?"DraftRiskAssessmentID":"RiskAssessmentID",Ze&&"DraftPage"):ht(e,{current:1,pageSize:10}),ye(e)};function vt(e){we.loading(!0);let t=R.v.Api+"FP833S7/",s={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,s,Te.token[0]).then((t=>{if(200==t.Output.status.code){let s=0;t.Output.data.length>0?(s=parseFloat(t.Output.data[0].TotalCount,10)/10,Xe(t.Output.data[0].TotalCount)):s=0,10==e.pageSize?qe(Math.ceil(s)):20==e.pageSize?qe(Math.ceil(s/2)):50==e.pageSize?qe(Math.ceil(s/5)):100==e.pageSize&&qe(Math.ceil(s/10)),Je(t.Output.data),we.loading(!1)}}))}function It(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Ze}),be({type:"ShowDetail",payload:!0}),we.Expanded(!0),_e&&Ee(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&Ye(e.cardview),e.Dialogview&&(U(e.Dialogview),ct(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&ht(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]);const Dt=()=>{we.EditClose(!0),oe?(document.getElementById("RiskAssessmentRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("RiskAssessmentRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("RiskAssessmentRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ce(!1),Ke?(V||(document.getElementById("RiskAssessmentRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RiskAssessmentRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("RiskAssessmentRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RiskAssessmentRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("RiskAssessmentRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RiskAssessmentRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("RiskAssessmentRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("RiskAssessmentRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("RiskAssessmentRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ce(!0),document.getElementById("RiskAssessmentRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RiskAssessmentRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ee(!1),window.clickFilter=!oe},Ct=(t,s,a,l,n,i)=>{we.loading(!0),"DraftPage"!==l&&Oe(Te.IsDraft);let r=R.v.Api+"FP833S3/",m={data:{p1:n||(s&&s.RiskAssessmentIDPK?s.RiskAssessmentIDPK:null),p2:s&&s.RiskAssessmentCode?s.RiskAssessmentCode:null,p3:s&&s.RiskAssessmentName?s.RiskAssessmentName:null,p4:s&&s.RiskAssessmentType?s.RiskAssessmentType:null,p5:null,p6:"DraftRiskAssessmentID"==a?"1":"0",p7:null,p8:e.Dialogview?"1":null,p9:null,p10:s&&s.CreatedUserID_varchar?s.CreatedUserID_varchar:null,p11:s&&s.CreatedTtm?s.CreatedTtm:null,p12:s&&s.CreatedTtmType?s.CreatedTtmType:null,p13:s&&s.CreatedTtmBetween?s.CreatedTtmBetween:null,p14:null,p15:n?1:t.current,p16:t.pageSize,p17:a,p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};(0,d.Z)(r,m,Te.token[0]).then((r=>{if(n)(0,w.a)(r,be,l,i,we);else if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let e=0;r.Output.data.length>0?(e=parseFloat(r.Output.data[0].TotalCount,10)/10,q(r.Output.data[0].TotalCount),X(r.Output.data[0].DraftCnt),be({type:"count",payload:r.Output.data[0].TotalCount}),"DraftPage"==l&&X(r.Output.data[0].TotalCount)):e=0,10==t.pageSize?J(Math.ceil(e)):20==t.pageSize?J(Math.ceil(e/2)):50==t.pageSize?J(Math.ceil(e/5)):100==t.pageSize&&J(Math.ceil(e/10)),de(r.Output.data),we.loading(!1)}e.Dialogview||(document.getElementById("divRiskAssessmentRegistry-Entry").style.height="auto",document.getElementById("divRiskAssessmentRegistry-Entry").style.display="block")}else we.loading(!1),"DraftRiskAssessmentID"===a?(we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ee(!0),Oe(!1)):(de([]),te({current:1,pageSize:10}),J(0),q(0),be({type:"count",payload:"0"}),be({type:"ExpandDetailValue",payload:!0}),Object.values(s).some((e=>e))&&we.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else we.alert({open:!0,color:"warning",message:[r.Output.status.message]}),we.loading(!1)}))};function ht(e,t){we.loading(!0);const s=R.v.Api+"FP833S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:Ze?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(s,a,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let s=0;e.Output.data.length>0?(s=parseFloat(e.Output.data[0].TotalCount,10)/10,q(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):s=0,10==t.pageSize?J(Math.ceil(s)):20==t.pageSize?J(Math.ceil(s/2)):50==t.pageSize?J(Math.ceil(s/5)):100==t.pageSize&&J(Math.ceil(s/10)),de(e.Output.data),we.loading(!1)}else de([]),J(0),q(0),be({type:"count",payload:"0"}),we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1);else we.alert({open:!0,color:"warning",message:[e.Output.status.message]}),we.loading(!1)}))}function St(e){let t=[],s=[],a=[],l=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(s.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");l.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]}),e.IsInboxApp&&we.IsInboxApproval(!!e.IsInboxApp)})),be({type:"language",payload:Object.assign({},...l)}),Ue(s.reduce(((e,t)=>(e[t]="",e)),{})),fe(e),ve(t),De(s),at(a),nt(s)}const Nt=()=>Se?null:l().createElement("div",null,He?l().createElement(O.Z,{data:$e,expanded:e=>!V&&we.Expanded(e),edit:(e,t,s)=>{V?we.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:s}))}}):l().createElement(L.Z,{ref:B,frmctrlid:"tblcs_833_L1_",id:"RiskAssessmentRegistryTable",headerdata:ke,tablesearchparams:Ve,searchvalue:e=>{Ue(e),ue(e),Ct(ee,e,Ze?"DraftRiskAssessmentID":"RiskAssessmentID",Ze&&"DraftPage")},bodydata:me,ondrag:It,bodyitem:Ie,visibleitem:ke,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:G,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!V&&we.Expanded(e),edit:(e,t,s)=>{V?we.select(e):(Object.keys(e).map(((a,l)=>{a.includes("IDPK")&&Ct(ee,null,t?"DraftRiskAssessmentID":"RiskAssessmentID",t&&"DraftPage",e[a],s)})),we.hideAddBtn(!0))},viewtoggle:we.viewtoggle,isexpanded:!V||_e,tf:ft,action:V?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{Ge(Te.ExpandTableValue)}),[Te.ExpandTableValue]),l().createElement("div",null,!ot&&!e.tableview&&l().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},l().createElement("div",{id:"fld833L1ECSearchBar",className:"searchbar1"},l().createElement(k.Z,{frmctrlid:"fld833L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:At("Search"),value:ge,onChange:e=>{ye(e),we.searchItem(e)},style:{width:"300px"}}),l().createElement("div",{className:"search_icon"},ge?l().createElement("div",{id:"fld833L1TCCloseIconCommonSearch",onClick:()=>{ye(""),we.searchItem("")}},l().createElement(f.Z,{className:"InputSearchIcon"})):l().createElement("div",{id:"fld833L1TCInputSearchIcon"},l().createElement(E.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("RiskAssessmentRegistrygridsearch").focus()}})))),l().createElement("div",null,Te.AccessRights.IsAdd?l().createElement(x.Z,{className:"SaveBtnCommon",frmctrlid:"fld833L1TCAddBtnIsAdd",onClick:()=>{we.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),l().createElement(i.Z,{expanded:ze,onChange:()=>()=>{Me(_e)}},e.Dialogview&&l().createElement(A.Z,null,l().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},l().createElement("div",{className:"displayFlex EntryHeader"},l().createElement("p",{className:"ListP ListPlevl1",title:"8.0.0.49-5:14:51 PM-24-3"},`${ft("833")} (${W})`)),!1===e.cardview?null:l().createElement("div",{className:"displayFlex EntryHeaderBtn"},l().createElement("div",{id:"fld833L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},l().createElement(k.Z,{frmctrlid:"fld833L1TCInputSearch",className:"search_input",type:"text",placeholder:At("Search"),value:ge,onChange:e=>{kt(e)}}),l().createElement("div",{className:"search_icon"},ge?l().createElement("div",{id:"fld833L1TCInputCloseIcon",onClick:()=>{kt("")}},l().createElement(f.Z,{className:"InputSearchIcon"})):l().createElement("div",{id:"fld833L1TCInputSearchIcon"},l().createElement(E.Z,{className:"InputSearchIcon"}))))))),l().createElement(r.Z,{className:"AccDetails"},l().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&l().createElement("div",{id:"RiskAssessmentRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:l().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&l().createElement("div",{frmctrlid:"fld833L1TCFilterDataIsDraft",id:"RiskAssessmentRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Dt()}},l().createElement(y.ZP,{title:At("Filter Data"),placement:"top"},l().createElement("span",null,l().createElement(T.Ol$,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"iconinfo"},At("Filter Data"))),!V&&!Ze&&!Se&&l().createElement(c.Z,{formctrlidprint:"fld833L1TCExportPrint",formctrlidexport:"fld833L1TCExportTable",formctrlidrefresh:"fld833L1TCExportRefresh",title:ft("RiskAssessmentRegistry"),data:le,exportData:Rt,Items:lt,columnIndex:st,TableVisibleItem:ke,userGridViewFormID:G,TableTotalCount:W,triggerApi:t=>{((t,a,l,n,i)=>{if(0===W)return we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;we.loading(!0);let r=R.v.Api+"FP833S3/",m={data:{p1:t&&t.RiskAssessmentIDPK?t.RiskAssessmentIDPK:null,p2:t&&t.RiskAssessmentCode?t.RiskAssessmentCode:null,p3:t&&t.RiskAssessmentName?t.RiskAssessmentName:null,p4:t&&t.RiskAssessmentType?t.RiskAssessmentType:null,p5:null,p6:Ze?"1":"0",p7:null,p8:e.Dialogview?"1":null,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:ee.current,p16:W,p17:Ze?"DraftRiskAssessmentID":"RiskAssessmentID",p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};we.loading(!1),we.alert({open:!0,color:"success",message:[`${ft(833)} - Exports In Process, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(r,m,Te.token[0],i).then((e=>{(0,F.PDF_Excel_Generate)(e,we,lt,ae,s,i)}))})(pe,ie.column,0,0,t)},Refresh:()=>{ye(""),te({current:1,pageSize:10}),B.current.clearItem(),!Te.ShowDetail&&we.clear(),Te.IsDraft?Ct({current:1,pageSize:10},xe,"DraftRiskAssessmentID"):Ct({current:1,pageSize:10},xe,"RiskAssessmentID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:s,iconinfo:"iconinfo"}),!Ze&&!Se&&!V&&l().createElement("div",{className:"buttoncard",onClick:()=>dt(!mt)},l().createElement("span",null,mt?l().createElement(y.ZP,{disableFocusListener:!0,title:At("Less"),placement:"top"},l().createElement("span",{id:"fld833L1TCLess"},l().createElement(C.ldB,{className:"tableFilterColumnIcon"}))):l().createElement(y.ZP,{disableFocusListener:!0,title:At("More"),placement:"top"},l().createElement("span",{id:"fld833L1TCMore"},l().createElement(C.ilJ,{className:"tableFilterColumnIcon"}))))),mt?l().createElement("div",{className:"EntryHeaderMore"},l().createElement("div",{style:{display:"flex"}},Se||!_e?null:V||!Te.AccessRights.IsAdd||Ze?"":l().createElement("div",null,l().createElement("div",{frmctrlid:"fld833L1TCFilterDataIsAdd",id:"RiskAssessmentRegistrycoldiv",className:"buttoncard",onClick:()=>{we.EditClose(!0),Re?(document.getElementById("RiskAssessmentRegistryFilterDiv").style.width="0%",document.getElementById("RiskAssessmentRegistryTabDiv").style.width="100%",document.getElementById("RiskAssessmentRegistryFilterDiv").style.display="none",document.getElementById("RiskAssessmentRegistrycoldiv").style.width="fit-content",document.getElementById("RiskAssessmentRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ee(!1)):(document.getElementById("RiskAssessmentRegistryFilterDiv").style.width="25%",document.getElementById("RiskAssessmentRegistryTabDiv").style.width="75%",document.getElementById("RiskAssessmentRegistryFilterDiv").style.display="block",document.getElementById("RiskAssessmentRegistryfildiv").style.width="fit-content",document.getElementById("RiskAssessmentRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("RiskAssessmentRegistrycoldiv").style.width="fit-content",document.getElementById("RiskAssessmentRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ee(!0)),ce(!1)}},l().createElement(y.ZP,{title:At("Manage Columns"),placement:"top"},l().createElement("div",null,l().createElement(b.gYA,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"iconinfo"},At("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!V&&_e&&!Se&&!Ze&&l().createElement("div",null,l().createElement("div",{id:"RiskAssessmentRegistrycoldiv",className:"buttoncard",onClick:()=>{He?je(!1):(je(!0),vt({current:1,pageSize:10}))}},l().createElement(y.ZP,{title:At("TableScrollData"),placement:"top"},l().createElement("div",{id:"fld833L1TCTableScrollData"},l().createElement(z.Z,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"iconinfo"},At("Table Scroll Data")))),!Se&&Ze?l().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{we.hideAddBtn(!1),we.ExpandEntry(),Ct({current:1,pageSize:10},xe,"RiskAssessmentID"),Oe(!1),ye(""),be({type:"IsDraft",payload:!1}),te({current:1,pageSize:10})}},l().createElement(y.ZP,{title:At("List"),placement:"top"},l().createElement("div",{id:"fld833L1TCList"},l().createElement(h.u1R,{className:"backButtonList"}))),l().createElement("p",{className:"DraftP"},At("Drafts")," ",W)):!V&&!Se&&Te.AccessRights.IsAdd&&l().createElement("div",null,l().createElement(m.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},l().createElement("div",{id:"fld833L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{Q>0?(te({current:1,pageSize:10}),j(0),we.clear(),ye(""),be({type:"Add",payload:!1}),Ct({current:1,pageSize:10},xe,"DraftRiskAssessmentID"),Oe(!0),be({type:"IsDraft",payload:!0}),Ee(!1),Ye(!0),document.getElementById("RiskAssessmentRegistryFilterDiv").style.width="0%",document.getElementById("RiskAssessmentRegistryTabDiv").style.width="100%",document.getElementById("RiskAssessmentRegistryFilterDiv").style.display="none",te({current:1,pageSize:10}),Ne(!1)):we.alert({open:!0,color:"warning",message:[At("There is no Record Found")]})}},l().createElement(y.ZP,{title:At("Drafts"),placement:"top"},l().createElement("div",null,l().createElement(S.rNm,{className:"DraftIcon"}))),l().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},At("Drafts"))))))):""),!Ze&&!V&&l().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Se||Ze?null:l().createElement("div",null,l().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},l().createElement("div",{className:"b2",id:"button-11"},l().createElement("div",{className:Ke?"buttonList":"buttonGrid",id:"fld833L1TCListView",onClick:()=>{Ye(!0),rt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(C.umT,null)),l().createElement("span",null,At("List"))),l().createElement("div",{className:Ke||it?"buttonGrid":"buttonList",id:"fld833L1TCCardView",onClick:()=>{Ye(!1),rt(!1)}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(D.aCJ,null)),l().createElement("span",null,At("Card"))),l().createElement("div",{className:it?"buttonList":"buttonGrid",id:"fld833L1TCTileView",onClick:()=>{rt(!0),Ye(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(N.f_H,null)),l().createElement("span",null,At("Tile"))))))),Se?null:He?e.IsCollapse?l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(v.Z,{style:{color:"#777"},id:"fld833L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:H,onPageChange:(e,t)=>{j(t),vt({current:t+1,pageSize:et.pageSize}),tt({current:t+1,pageSize:et.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(p.Z,{count:We,color:"primary",page:et.current,onChange:(e,t)=>{tt({current:t,pageSize:et.pageSize}),qe(t),vt({current:t,pageSize:et.pageSize})}}),l().createElement("div",null,l().createElement(u.Z,{className:"BootstrapInputStyle",value:et.pageSize,frmctrlid:"fld833L1TCSelectPagination",onChange:e=>{tt({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},l().createElement("option",{value:10},"10"),l().createElement("option",{value:20},"20"),l().createElement("option",{value:50},"50"),l().createElement("option",{value:100},"100"))),_e&&l().createElement("p",{className:"per-page"},"/ ",At("RowperpageOf")," (",Qe,")")):e.IsCollapse?l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(v.Z,{style:{color:"#777"},id:"fld833L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(W),page:H,onPageChange:(e,t)=>{j(t),Ct({current:t+1,pageSize:ee.pageSize},xe,Ze?"DraftRiskAssessmentID":"RiskAssessmentID",Ze&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(p.Z,{count:$,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),Ze)Ct({current:t,pageSize:ee.pageSize},Fe,"DraftRiskAssessmentID","DraftPage");else{var s=document.querySelectorAll(".CardViewMain");for(let e=0;e<s.length;e++)s[e].style.background="#FFF";ge.length>0?ht(ge,{current:t,pageSize:ee.pageSize}):Ct({current:t,pageSize:ee.pageSize},Fe,"RiskAssessmentID")}}}),l().createElement("div",null,l().createElement(u.Z,{className:"BootstrapInputStyle",value:ee.pageSize,id:"fld833L1TCSelectPaging",onChange:e=>{te({current:1,pageSize:e.target.value}),Ze?Ct({current:1,pageSize:e.target.value},Fe,"DraftRiskAssessmentID","DraftPage"):ge.length>0?ht(ge,{current:1,pageSize:e.target.value}):Ct({current:1,pageSize:e.target.value},Fe,"RiskAssessmentID")}},l().createElement("option",{value:10},"10"),l().createElement("option",{value:20},"20"),l().createElement("option",{value:50},"50"),l().createElement("option",{value:100},"100"))),_e&&l().createElement("p",{className:"per-page"},"/ ",At("RowperpageOf")," (",W,") "))),l().createElement("div",{id:"RiskAssessmentRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},l().createElement("div",{id:"RiskAssessmentRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},oe&&l().createElement(o.default,{parentId:e.parentId,searchData:e=>ue(e),formID:G,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>Dt(),userGrid:gt,msg:(e,t)=>we.alert({open:!0,color:t,message:[e]})}),Re&&l().createElement(g.Z,{Refresh:e=>{Ct({current:1,pageSize:10},xe,"RiskAssessmentID")},frmctrlid:"fld833L1TCTableColumnOrder",loading:e=>we.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),select:Re,userID:_,userGridViewFormID:G,saved:(e,t)=>{e&&St(t),yt(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),l().createElement("div",{id:"RiskAssessmentRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ke?l().createElement(Nt,null):l().createElement(I.Z,{frmctrlid:"fld833L1TCExpandedCardDual",data:me,id:"RiskAssessmentRegistry",title:"RiskAssessmentName",cardTile:!!it,visibleitem:ke,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{V?we.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Ze}),be({type:"ShowDetail",payload:!1}),we.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Ze}),be({type:"ShowDetail",payload:!0}),we.Expanded(!0),we.viewtoggle()),oe?ce(!0):Re?Ee(!0):(Ee(!1),Ee(!1))),we.hideAddBtn(!0)}})))))))}))},90755:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k}),s(95866),s(99058);var a=s(92950),l=s.n(a),n=s(80366),i=s(51673),r=s(282),m=s(868),d=s(78513),o=s(14439),c=s(27848),p=s(40900),u=s(64059),g=s(24038),y=s(8981),R=s(47516),E=s(86893),A=s(74928),f=s(25108);function k(e){const[t]=(0,a.useState)(localStorage.getItem("userid")),[s,k]=(0,a.useState)([]),[v,I]=(0,a.useState)({name:"",type:""}),[D,C]=(0,a.useState)(""),[h,S]=(0,a.useState)({}),[N,w]=(0,a.useState)(!0),[T,b]=(0,a.useState)(!1),[x,F]=(0,a.useState)({from:"",to:"",type:"",dtype:"",fname:""}),{cstate:B,cdispatch:P}=e.ContextApi?e.ContextApi:(0,A.ContextApi)(),[L,Z]=(0,a.useState)(1),[O,z]=(0,a.useState)(0);let M=(0,y.Z)();const _=e=>M[e]?M[e]:e,G=e=>B.language?.[e]?B.language[e]:e;(0,a.useEffect)((()=>{}),[]);const K=async(t,a,l,n=1,r,m)=>{let d="",o=[];await I((e=>(d=e.name,e))),await S((e=>(o=e,e)));const c=p.v.Api+"FP833S3/",u={data:{p1:r?await V():null,p2:"RiskAssessmentCode"==a&&l.length>0?"%"+l+"%":null,p3:"RiskAssessmentName"==a&&l.length>0?"%"+l+"%":null,p4:"RiskAssessmentType"==a&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:"p10"==a&&l.length>0?l:null,p11:null,p12:null,p13:null,p14:null,p15:n,p16:10,p17:t,p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};(0,i.Z)(c,u,e.token).then((e=>{const t=e.Output.status.code,a=e.Output.data;if("200"===t)if(a.length>0)if(1===n){let e=Y(a,d);k(e),z(e[0].TotalCount)}else{let e=[...s,...a],t=Y(e,d);z(t.length<10?t.length:a[0].TotalCount),k(Y(t,d))}else D.length>0&&k([]),z(s.length)}))},Y=(e,t)=>e.filter(((e,s,a)=>a.findIndex((s=>s[t]===e[t]))===s));async function V(){let e={};await S((t=>(e=t,t)));let t=["RiskAssessmentCode","RiskAssessmentName","RiskAssessmentType"],s=[];for(let a of t){let t=e[a]?.map((e=>e.RiskAssessmentIDPK)).toString();t&&s.push(t)}return s?[...new Set(s)].toString():""}function U(){if("Created Ttm"===v.name)return l().createElement(u.Z,{frmctrlid:"fld3L2TFCCreatedTtm",SendDateVal:(t,s,a,l,n)=>{!function(t,s,a,l,n,i){const r={...h};let m=["RiskAssessmentCode","RiskAssessmentName","RiskAssessmentType"],d=[];for(let e of m){let t=r[e]?.map((e=>e.RiskAssessmentIDPK)).toString();t&&d.push(t)}let o={CreatedTtm:t,CreatedTtmType:a,CreatedTtmBetween:s,RiskAssessmentIDPK:d?[...new Set(d)].toString():""};F({from:t,to:s,type:a,dtype:n,fname:i}),e.searchData(o)}(t,s,a,0,l,n)},keyboardback:()=>{b(!1),I({name:"",type:""})},title:_("Created Date"),fieldname:"CreatedTtm",save:e=>{alert(!0)}})}return l().createElement("div",null,T?"Created Ttm"===v.name||[v.name].includes("Date")?l().createElement(U,null):l().createElement("div",null,l().createElement("div",{className:"columnHeader displayFlex"},l().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},l().createElement(o.Z,null,l().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},l().createElement("p",{className:"columnHeaderp"},G(v.name)," (",s.length,"/",s[0]?.TotalCount,")")),l().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},l().createElement(m.ZP,{title:_("Close"),placement:"top"},l().createElement("div",{className:"FilterItemClose",align:"right"},l().createElement(n.Z,{id:"fld833L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{b(!1),I({name:"",type:""}),Z(1)}}))),h[v.name]&&l().createElement("div",{className:"FiltercloseAlign",align:"right"},l().createElement(r.Z,{frmctrlid:"fld833L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await S((t=>(e=t,f.log("clear fewItems",e),t))),e[v.name]=[],K(v.type,v.name,"",1,"")})()}},l().createElement("span",{className:"ColumnApplyTitle"},_("Clear All")))))))),l().createElement("div",{className:"FilterParentDiv"},l().createElement("div",{"data-list-scroll-container":"true"},l().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},l().createElement("div",{className:"FilterMaximize"},N?l().createElement(m.ZP,{title:"Maximize",placement:"right"},l().createElement("span",null,l().createElement(E.D7o,{className:"FilterMaximizeIcon",onClick:()=>{w(!1)}}))):l().createElement(m.ZP,{title:"Minimize",placement:"right"},l().createElement("span",null,l().createElement(E.dOw,{className:"FilterMaximizeIcon",onClick:()=>{w(!0)}})))),l().createElement("ul",null,h[v.name]&&h[v.name].map(((e,t)=>l().createElement("div",{key:t,tabIndex:"-1",className:N?"filterSelectedItems":"filterSelectedItemsMaximize"},l().createElement("div",{className:"filterSelectedItemNames"},l().createElement("span",null,e[v.name])),l().createElement("div",{className:"filterSelectedItemClose"},l().createElement("div",{id:"fildacls_3_L2_"+e[v.name],onClick:()=>(async(e,t)=>{Z(1);let s=h[v.name].filter((t=>t!=e)),a={};await S((e=>(a=e,e))),a[v.name]=s,S(a),k((t=>[e,...t]))})(e)},l().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),l().createElement("div",{className:"displayFlex width100 FilterSearch"},l().createElement("div",{className:"FilterSearchInputDiv"},l().createElement(g.Z,{frmctrlid:"fld833L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:D,placeholder:_("Enter ")+" "+G(v.name),onChange:e=>{C(e),K(v.type,v.name,e,1,V())}})),l().createElement("div",{id:"fld833L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let s="";await S((e=>(s=e,e)));let a=["CityCode","CityName"],l=[];for(let e of a){let t=s[e]?.map((e=>e.CityIDPK)).toString();t&&l.push(t)}let n={RiskAssessmentIDPK:l?[...new Set(l)].toString():"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:""};e.searchData(n),b(!1)}},l().createElement(m.ZP,{title:"",placement:"top"},l().createElement(r.Z,{className:"ColumnSearchButton"},l().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),l().createElement("div",{id:"fld833L1TFCScrollYDefault",className:"height65 scrollYDefault"},s.length>0&&s.map(((e,t)=>l().createElement("div",{id:"filda_3_L2_"+e[v.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},s=[];s.push(e);let a={};await S((e=>(a=e,e)));let l=a[v.name];t[v.name]=l?[...s,...l]:s,a={...a,...t},S(a),k((t=>t.filter((t=>t!=e))))})(e)}},l().createElement(d.Z,{className:"DotIcon"}),l().createElement("span",null,e[v.name])))),s.length+0<s[0]?.TotalCount&&s.length>0&&l().createElement("div",{id:"fld833L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(L+1),K(v.type,v.name,"",L+1,"")}},l().createElement("p",null," more... ")),0===s.length&&l().createElement("div",null,l().createElement("div",{className:"NoDataImage"},l().createElement("img",{src:p.v.NoData,alt:"NoImage"})),l().createElement("div",{className:"NoDataDesc"},l().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):l().createElement("div",null,l().createElement("div",{className:"columnHeader displayFlex"},l().createElement("div",{className:"columnHeaderTitle"},l().createElement(R.Ol$,{className:"columnHeaderIcon"})),l().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,l().createElement(m.ZP,{title:"",placement:"top"},l().createElement(r.Z,{className:"ColumnApplyButton",onClick:()=>{S({}),F({from:"",to:"",type:"",dtype:"",fname:""}),e.searchData({}),b(!1)},id:"fld833L1TFCColumApplyBttn"},l().createElement("span",{className:"ColumnApplyTitle"},_("Clear")))),l().createElement(m.ZP,{title:"",placement:"top"},l().createElement(r.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld833L1TFCColumnCloseButton"},l().createElement("span",{className:"ColumnCloseTitle"},_("Close")))))),l().createElement("div",{className:"height65"},l().createElement("div",{id:"fld833L1TFCFilItems",className:"FilterItems"},l().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{var e,t,s;e="Created Ttm",t="FilterRiskAssessmentID",s=x,b(!0),I({name:e,type:t}),s.length>0?K(t,e,"",1,""):K(t,e,"",1,V()),C("")}},_("Created Date"),x.from&&l().createElement("p",{className:"filterdatevalue"},"(",x.from+" to "+x.to,")")),e.userGrid.filter((e=>e.IsVisible&&!e.FieldName.startsWith("Is"))).map(((e,t)=>{return l().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{(e=>{b(!0),C(""),I({name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterRiskAssessmentID"}),K(e.IsForeign?"Filter"+e.FieldName:"FilterRiskAssessmentID",e,"",1,V())})(e)}},l().createElement("span",null,G(e.FieldName)),(s=e.FieldDisplay,h[s]?.length>0&&l().createElement("div",{className:"FilterItemDivSelected"},l().createElement("span",{className:"RoundedDivName"},h[s][0][s]),h[s].length>1&&l().createElement("span",{className:"RoundedDivName"},h[s][1][s]),h[s].length>2&&l().createElement("span",{className:"RoundedDivNumber"},"+"+(h[s].length-2)))));var s}))))))}},82744:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(92950),l=s.n(a),n=s(45237),i=s(37148),r=s(3212),m=s(29800),d=(s(14439),s(27848),s(10966),s(36939)),o=s(61201),c=s(50743),p=s(74928),u=(s(21392),s(51673)),g=s(40900),y=s(26537),R=(s(24038),s(91446)),E=(s(77366),s(97829),s(8981)),A=(s(63163),s(1695),s(65197));const f=(0,a.forwardRef)(((e,t)=>{const s=(0,a.useRef)(),[f,k]=((0,n.useSelector)((e=>e.form)),(0,a.useState)([])),[v,I]=(0,a.useState)(!0),[D,C]=(0,a.useState)(e.showDetail),[h,S]=(0,a.useState)(""),[N,w]=l().useState(!1),[T,b]=l().useState(""),[x,F]=l().useState(!1),B=(0,a.useContext)(p.RiskAssessmentRegistryContext),{cstate:P,cdispatch:L}=(0,p.ContextApi)(),[Z,O]=(0,a.useState)(!1),[z,M]=(0,a.useState)(""),[_,G]=(0,a.useState)(""),[K,Y]=(0,a.useState)("");let V=(0,E.Z)();(0,a.useEffect)((()=>{P.editData.length>0&&(k(P.editData),w(!1),L({type:"PrimaryId",payload:P.editData[0].RiskAssessmentIDPK}))}),[P.editData]),(0,a.useEffect)((()=>{P.showTableview&&Y(P.showTableview)}),[P.showTableview]),(0,a.useEffect)((()=>{I(P.ExpandDetailValue)}),[P.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{I(e),w(null)},viewtoggle:()=>{w(!1)},viewlistProps:(t,s)=>{!function(t,s=!1){let a=g.v.Api+"FP833S3/",l={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:1,p16:10,p17:P.IsDraft?"DraftRiskAssessmentID":"RiskAssessmentID",p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};(0,y.Z)(0).then((e=>{(0,u.Z)(a,l,e).then((e=>{B.loading(!1),"200"==e.Output.status.code&&k(e.Output.data)}))}))}(t,s)},clear:()=>{"panel0"===N&&s.current.clear()}})));const U=e=>V?.[e]?V?.[e]:e,H=e=>P.language?.[e]?P.language[e]:e;function j(e,t){}const $=(e,t)=>(s,a)=>{b(x?Object.assign(...f.filter((e=>e.RiskAssessmentIDPK==t)).map((e=>e))):P.editData),w(!a&&e)};return l().createElement("div",null,l().createElement(d.Z,{expanded:v,onChange:()=>()=>{e.expandTable&&I(!v)}},!N&&l().createElement(c.Z,null,l().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},v?l().createElement("div",{className:"displayFlex EntryViewHeader"},l().createElement("p",{className:"ListP"},P.IsDraft?U("Draft"):"",H("RiskAssessmentRegistry"),e.viewonly?" ":"("+P.count+")")):"",v?l().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&P.AccessRights.IsAdd?l().createElement(r.Z,{name:U("Add"),frmctrlid:"fld833L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{B.hideAddBtn(!0),L({type:"editData",payload:[]}),L({type:"ShowDetail",payload:!1}),L({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&P.AccessRights.IsEdit?l().createElement(m.Z,{frmctrlid:"fld833L1VCEditBtn",onClick:$("panel0",""),disabled:!1}):P.IsDraft&&P.AccessRights.IsAdd&&l().createElement(m.Z,{frmctrlid:"fld833L1VCEditBtnIsAdd",onClick:()=>{$("panel","")},disabled:!1}),!e.viewonly&&l().createElement(i.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld833L1VCCloseBtn",onClick:()=>{I(!1),B.hideAddBtn(!1),x&&(L({type:"editData",payload:[]}),k([]))}})):"")),l().createElement(o.Z,{style:{display:"block"}},f.map(((e,t)=>l().createElement("div",{key:t},N==="panel"+t?l().createElement(R.default,{ref:s}):l().createElement(l().Fragment,null,l().createElement(A.Z,{tableName:"RiskAssessmentRegistry",tableID:833,parentID:e.RiskAssessmentIDPK,fldid:"fld833L1VCContainer",OpenSlideComponent:j,index:t,refresh:K,val:e,tf:H,t:U,title:"8.0.0.49-5:14:51 PM-24-3"}))))))))}))}}]);