"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[6038],{92448:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var i=r(a(92950)),n=(0,l(a(2108)).default)(i.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=n},67334:(t,a,l)=>{l.d(a,{kN:()=>xe,RF:()=>Re,ZP:()=>Ae});var r=l(92950),i=l.n(r),n=(l(95866),l(45237)),s=l(36939),c=l(61201),d=l(59009),o=l(51673),m=(l(99058),l(80366)),f=l(282),u=l(868),g=l(78513),p=l(14439),y=l(27848),P=l(40900),S=l(64059),E=l(24038),D=l(53375),T=l(93657),v=l(61956),k=l(52663),I=l(66083),h=l(29525),M=l(66856),C=l(39803),N=l(22318),b=l(17812),w=l(99940),R=l(17149),x=l(62810),A=l(30553),F=l(8981);const B={English:{PPMStaffTrackDetailsRegistry:"PPM Staff Track",PPMStaffTrackDetilsCode:"PPM Staff Track Detils Code",StartTime:"Start Time",EndTime:"End Time",PPMStaffTrackID:"PPM Staff Track Code",PPMTrackTimeID:"Track Time Name"},Arabic:{PPMStaffTrackDetailsRegistry:"PPM Staff Track",PPMStaffTrackDetilsCode:"كود تفاصيل تتبع موظفي PPM",StartTime:"وقت البدء",EndTime:"وقت النهاية",PPMStaffTrackID:"رمز مسار موظفي PPM",PPMTrackTimeID:"اسم وقت المسار"}};function O(){let e=localStorage.getItem("Language");return B[e]}var L=l(47516),Z=l(86893);function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},z.apply(this,arguments)}const _=e=>{const{children:t,classes:a,onClose:l,...r}=e;return i().createElement(I.Z,z({disableTypography:!0,style:{padding:0}},r),i().createElement(N.Z,{variant:"h6",style:{marginTop:"0.5rem"}},t),l?i().createElement(b.Z,{"aria-label":"close",className:"calenderdialogrootclose",id:"fld539L1TFCfiltercalenderclose",onClick:l},i().createElement(m.Z,null)):null)};function V(e){(0,n.useSelector)((e=>e.form)),(0,n.useDispatch)();const[t]=(0,r.useState)(localStorage.getItem("userid")),[a,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)({name:"",type:""}),[d,I]=(0,r.useState)(""),[N,b]=(0,r.useState)([]),[B,z]=(0,r.useState)(1),[V,K]=(0,r.useState)(0),[W,G]=(0,r.useState)(0),[H,j]=(0,r.useState)({from:"",to:"",type:"",dtype:"",fname:""}),[U,Y]=(0,r.useState)({}),[$,J]=(0,r.useState)(0),[q,Q]=(0,r.useState)(""),[X]=(0,r.useState)("539"),[ee,te]=(0,r.useState)(!1),[ae,le]=(0,r.useState)(!1),[re,ie]=(0,r.useState)(!1),[ne,se]=(0,r.useState)(!1),[ce,de]=(0,r.useState)([]),[oe,me]=(0,r.useState)([]),[fe,ue]=(0,r.useState)([]),[ge,pe]=(0,r.useState)([]),[ye,Pe]=(0,r.useState)([]),[Se,Ee]=(0,r.useState)([]),[De,Te]=(0,r.useState)([]),[ve,ke]=(0,r.useState)([]),[Ie,he]=(0,r.useState)([]),[Me,Ce]=(0,r.useState)([]),[Ne,be]=(0,r.useState)([]),[we,Re]=(0,r.useState)([]),[xe,Ae]=(0,r.useState)([]),[Fe,Be]=(0,r.useState)(!0);let Oe=(0,F.Z)(),Le=O();(0,r.useEffect)((()=>{z(1),e.Report&&We({},e.Report)}),[e.Report]);const Ze=e=>Oe[e]?Oe[e]:e,ze=e=>Le?.[e]?Le[e]:e;function _e(e,t){if(z(1),"P P M Staff Track Detils Code"===s.name){let e=oe.filter((e=>e!==oe[t])),a=fe.filter((e=>e!==fe[t]));me(e),ue(a),0==e.length&&He(0,"P P M Staff Track Detils Code",0,1)}else if("Start Time"===s.name){let e=ge.filter((e=>e!==ge[t])),a=ye.filter((e=>e!==ye[t]));pe(e),Pe(a),0==e.length&&He(0,"Start Time",0,1)}else if("End Time"===s.name){let e=Se.filter((e=>e!==Se[t])),a=De.filter((e=>e!==De[t]));Ee(e),Te(a),0==e.length&&He(0,"End Time",0,1)}else if(""===s.name){let e=ve.filter((e=>e!==ve[t])),a=Ie.filter((e=>e!==Ie[t]));ke(e),he(a),0==e.length&&He(0,"",0,1)}else if("P P M Staff Track Code"===s.name){let e=Me.filter((e=>e!==Me[t])),a=Ne.filter((e=>e!==Ne[t]));Ce(e),be(a),0==e.length&&He(0,"P P M Staff Track Code",0,1)}}function Ve(e,t,a){l(!0),c({name:e,type:t}),a.length>0?He(0,e,0,1):He(0,e,0,1,Ke()),I("")}function Ke(){let e=[...oe,...ge,...Se],t=new Array;return e.map((e=>{t.includes(e)||t.push(e)})),t.toString()}const We=(t,a)=>{let l=P.v.Api+"FP539S3/";(0,o.Z)(l,{data:{}},e.token).then((t=>{e.data(t.Output.data),Ge(t.Output.data)}))},Ge=t=>{const a=P.v.Api+"FP20S3/",l={data:{p1:null,p2:null,p3:null,p4:null,p5:e.formID,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:1,p22:100,p23:"AdminUserGridViewID",p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}};(0,o.Z)(a,l,e.token).then((a=>{e.visibleData(a.Output.data,t)}))};function He(t,a,l,r,i,n){const s=P.v.Api+"FP539S3/";(0,o.Z)(s,{data:{}},e.token).then((e=>{const t=e.Output.status.code,l=e.Output.data,i=new Array;if("200"===t)if(l.length>0)if(K(l[0].TotalCount),1===r){l.map((e=>{"P P M Staff Track Detils Code"===a?i.push({id:e.PPMStaffTrackDetilsIDPK,name:e.PPMStaffTrackDetilsCode}):"Start Time"===a?i.push({id:e.PPMStaffTrackDetilsIDPK,name:e.StartTime}):"End Time"===a?i.push({id:e.PPMStaffTrackDetilsIDPK,name:e.EndTime}):"P P M Staff Track Code"===a?i.push({id:e.PPMStaffTrackIDPK,name:e.PPMStaffTrackCode}):"Track Time Name"===a&&i.push({id:e.PPMTrackTimeIDPK,name:e.TrackTimeName})}));const e=i.map((e=>e.name)),t=i.filter((({name:t},a)=>!e.includes(t,a+1)));b(t)}else{l.map((e=>{"P P M Staff Track Detils Code"===a?i.push({id:e.PPMStaffTrackDetilsIDPK,name:e.PPMStaffTrackDetilsCode}):"Start Time"===a?i.push({id:e.PPMStaffTrackDetilsIDPK,name:e.StartTime}):"End Time"===a?i.push({id:e.PPMStaffTrackDetilsIDPK,name:e.EndTime}):"P P M Staff Track Code"===a?i.push({id:e.PPMStaffTrackIDPK,name:e.PPMStaffTrackCode}):"Track Time Name"===a&&i.push({id:e.PPMTrackTimeIDPK,name:e.TrackTimeName})}));let e=N.concat(i);const t=e.map((e=>e.name)),r=e.filter((({name:e},a)=>!t.includes(e,a+1)));K(l.length<10?r.length:l[0].TotalCount),b(r)}else d.length>0&&b([]),K(N.length)}))}function je(){if("Created Ttm"===s.name)return i().createElement(S.Z,{frmctrlid:"fld539L1TFCCreatedTtm",SendDateVal:(t,a,l,r,i)=>{!function(t,a,l,r,i,n){let s={PPMStaffTrackDetilsIDPK:Ke().toString(),PPMStaffTrackID:Me.toString(),PPMTrackTimeID:we.toString()};Y(s),e.searchData(s)}()},keyboardback:()=>{l(!1),c({name:"",type:""})},title:Ze("Created Date"),fieldname:"CreatedTtm",save:e=>{te(!0)}})}const Ue=N.map(((e,t)=>{if("P P M Staff Track Detils Code"===s.name){if(!oe.some((t=>t===e.id)))return i().createElement("div",{id:"filda_539_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Ye(e)}},i().createElement(g.Z,{className:"DotIcon"}),i().createElement("span",null,e.name));if(1===N.length)return i().createElement("div",{key:t},i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:P.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, this record already selected.")))}else if("Start Time"===s.name){if(!ge.some((t=>t===e.id)))return i().createElement("div",{id:"filda_539_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Ye(e)}},i().createElement(g.Z,{className:"DotIcon"}),i().createElement("span",null,e.name));if(1===N.length)return i().createElement("div",{key:t},i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:P.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, this record already selected.")))}else if("End Time"===s.name){if(!Se.some((t=>t===e.id)))return i().createElement("div",{id:"filda_539_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Ye(e)}},i().createElement(g.Z,{className:"DotIcon"}),i().createElement("span",null,e.name));if(1===N.length)return i().createElement("div",{key:t},i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:P.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, this record already selected.")))}else if("P P M Staff Track Code"===s.name){if(!Me.some((t=>t===e.id)))return i().createElement("div",{id:"filda_539_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Ye(e)}},i().createElement(g.Z,{className:"DotIcon"}),i().createElement("span",null,e.name));if(1===N.length)return i().createElement("div",{key:t},i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:P.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, this record already selected.")))}else if("Track Time Name"===s.name){if(!we.some((t=>t===e.id)))return i().createElement("div",{id:"filda_539_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Ye(e)}},i().createElement(g.Z,{className:"DotIcon"}),i().createElement("span",null,e.name));if(1===N.length)return i().createElement("div",{key:t},i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:P.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, this record already selected.")))}}));function Ye(e){"P P M Staff Track Detils Code"===s.name?(me((t=>[...t,e.id])),ue((t=>[...t,e.name])),G(W+1)):"Start Time"===s.name?(pe((t=>[...t,e.id])),Pe((t=>[...t,e.name])),G(W+1)):"End Time"===s.name?(Ee((t=>[...t,e.id])),Te((t=>[...t,e.name])),G(W+1)):"P P M Staff Track Code"===s.name?(Ce((t=>[...t,e.id])),be((t=>[...t,e.name])),G(W+1)):"Track Time Name"===s.name&&(Re((t=>[...t,e.id])),Ae((t=>[...t,e.name])),G(W+1)),N.filter((t=>t.id!==e.id));var t=document.getElementById("SelectedItems");t.scrollTop=t.scrollHeight}function $e(){const t=`${P.v.MongoAPI}FilterFavorites_Select/`,a={data:{_id:0,UserID:localStorage.getItem("userid"),FormID:X,IsQuick:!1,IsDashboard:!1,IsActive:!0,DeleStat:!1}};(0,o.Z)(t,a,e.token).then((e=>{de(e.Output.data),se(!0)}))}return i().createElement("div",null,i().createElement(k.Z,{onClose:()=>te(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ee},i().createElement(_,{id:"customized-dialog-title",onClose:()=>te(!1)},"Add Favorite"),i().createElement(h.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(C.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:q,onChange:e=>Q(e.target.value),fullWidth:!0})),i().createElement(A.Z,{style:{color:"#337ab7"},control:i().createElement(w.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(R.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ae,onChange:e=>le(e.target.checked)}),label:"Quick"}),i().createElement(A.Z,{style:{color:"#337ab7"},control:i().createElement(w.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(R.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:re,onChange:e=>ie(e.target.checked)}),label:"Dashboard"})),i().createElement(M.Z,null,i().createElement(f.Z,{onClick:()=>function(){let t=Object.assign({},U),a=[H],l=[];Object.keys(t).map(((e,a)=>{(e.includes("Ttm")||e.includes("Date"))&&delete t[e]})),a.map((e=>{l.push({name:e.fname,type:e.dtype})}));let r=`${P.v.MongoAPI}FilterFavorites_Save/`,i={data:{_id:$||0,UserID:localStorage.getItem("userid"),Name:q,FormID:X,FormName:"PPMStaffTrackDetailsRegistry",SearchParams:t,Date:l,CreatedDate:(new Date).toISOString(),IsQuick:ae,IsDashboard:re,IsActive:!0,DeleStat:!1,PPMStaffTrackDetilsCodeValData:fe,StartTimeValData:ye,EndTimeValData:De,PPMStaffTrackCodeValData:Ne,TrackTimeNameValData:xe}};(0,v.Z)(r,i,{}).then((t=>{te(!1),e.msg(t[0].status.message,"success")}))}(),color:"primary"},"Save"))),a?"Created Ttm"===s.name||s.name.includes("Date")?i().createElement(je,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(p.Z,null,i().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},ze(s.name)," (",N.length,"/",V,")")),i().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(u.ZP,{title:Ze("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(m.Z,{id:"fld539L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:function(){l(!1),c({name:"",type:""}),z(1)}}))),(oe.length>0||ge.length>0||Se.length>0||Me.length>0||we.length>0)&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(f.Z,{frmctrlid:"fld539L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{Q(""),me([]),ue([]),pe([]),Pe([]),Ee([]),Te([]),Ce([]),be([]),Re([]),Ae([]),G(0),He(s.type,s.name,0,1),e.searchData({}),Y({}),We({},{page:1,pageSize:10})}},i().createElement("span",{className:"ColumnApplyTitle"},Ze("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},Fe?i().createElement(u.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(Z.D7o,{className:"FilterMaximizeIcon",onClick:()=>{Be(!1)}}))):i().createElement(u.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(Z.dOw,{className:"FilterMaximizeIcon",onClick:()=>{Be(!0)}})))),i().createElement("ul",null,"P P M Staff Track Detils Code"===s.name?fe.map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:Fe?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e)),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_539_L1_"+e,onClick:()=>_e(0,t)},i().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))):"Start Time"===s.name?ye.map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:Fe?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e)),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_539_L1_"+e,onClick:()=>_e(0,t)},i().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))):"End Time"===s.name?De.map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:Fe?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e)),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_539_L1_"+e,onClick:()=>_e(0,t)},i().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))):"P P M Staff Track Code"===s.name?Ne.map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:Fe?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e)),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_539_L1_"+e,onClick:()=>_e(0,t)},i().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))):"Track Time Name"===s.name?xe.map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:Fe?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e)),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_539_L1_"+e,onClick:()=>_e(0,t)},i().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))):void 0)),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(E.Z,{frmctrlid:"fld539L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:d,placeholder:Ze("Enter ")+" "+ze(s.name),onChange:e=>{I(e),He(s.type,s.name,0,1,Ke())}})),i().createElement("div",{id:"fld539L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:function(){if(!d&&0==Ue.length)return e.msg(`please enter the ${s.name}`,"warning"),!1;if(0==Ue.length)return e.msg("No Records Found","warning"),!1;let t={PPMStaffTrackID:Me.toString(),PPMTrackTimeID:we.toString()};if(!([...oe,...ge,...Se,...Me,...we].length>0))return e.msg(`Please select the ${s.name}`,"warning"),!1;e.searchData(t),Y(t),We(t,{page:1,pageSize:10}),l(!1)}},i().createElement(u.ZP,{title:"",placement:"top"},i().createElement(f.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),i().createElement("div",{id:"fld539L1TFCScrollYDefault",className:"height65 scrollYDefault"},N.length>0&&Ue,N.length+("P P M Staff Track Detils Code"===s.name?oe.length:"Start Time"===s.name?ge.length:"End Time"===s.name?Se.length:"P P M Staff Track Code"===s.name?Me.length:"Track Time Name"===s.name?we.length:void 0)<V&&N.length>0&&i().createElement("div",{id:"fld539L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{z(B+1),He(s.type,s.name,0,B+1)}},i().createElement("p",null," more... ")),0===N.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:P.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(L.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",Ze("Filter")," ",q.length>0&&`(${q})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(u.ZP,{title:"Favorite List",placement:"top"},ne?i().createElement(m.Z,{className:"favlisticon",onClick:()=>{se(!1)}}):i().createElement(T.Z,{className:"favlisticon",onClick:()=>{$e()}})),[...oe,...ge,...Se,...Me,...we].length>0&&i().createElement(u.ZP,{title:"Save Favorites",placement:"top"},i().createElement(D.Z,{className:"favlisticon",onClick:()=>{te(!0)}})),i().createElement(u.ZP,{title:"",placement:"top"},i().createElement(f.Z,{className:"ColumnApplyButton",onClick:()=>{J(0),me([]),ue([]),pe([]),Pe([]),Ee([]),Te([]),Ce([]),be([]),Re([]),Ae([]),G(0),e.searchData({}),Y({}),We({},{page:1,pageSize:10}),l(!1),c({name:"",type:""}),j({from:"",to:"",type:"",dtype:"",fname:""})},id:"fld539L1TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},Ze("Clear")))),i().createElement(u.ZP,{title:"",placement:"top"},i().createElement(f.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld539L1TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},Ze("Close")))))),i().createElement("div",{className:"height65"},ne?i().createElement("div",{id:"fld539L1TFCFilItemsShowFav",className:"FilterItems"},ce.map((t=>i().createElement("div",{className:"FilterItemDivTitle"},i().createElement(p.Z,null,i().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},i().createElement("span",{onClick:()=>{!function(t){let a={};t.Date.length>0&&t.Date.map((e=>{a=(0,S.i)(e.type,e.name)})),e.searchData({...t.SearchParams,...a}),Y(t.SearchParams),se(!1),Q(t.Name),J(t._id),ue(t.PPMStaffTrackDetilsCodeValData||[]),Pe(t.StartTimeValData||[]),Te(t.EndTimeValData||[]),be(t.PPMStaffTrackCodeValData||[]),Ae(t.TrackTimeNameValData||[])}(t)}},t.Name)),i().createElement(y.Z,{xs:6,md:6,lg:6,sm:6}),i().createElement(y.Z,{align:"right",xs:3,md:3,lg:3,sm:3},i().createElement(m.Z,{className:"filterSelectedItemCloseIcon",onClick:()=>{!function(t){let a=`${P.v.MongoAPI}FilterFavorites_Save/`,l={data:{_id:t,DeleStat:!0}};(0,v.Z)(a,l,{}).then((t=>{e.msg(t[0].status.message,"success"),$e()}))}(t._id)}}))))))):i().createElement("div",{id:"fld539L1TFCFilItems",className:"FilterItems"},i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ve("P P M Staff Track Detils Code","FilterPPMStaffTrackDetilsID",oe)}},i().createElement("span",{className:fe.length>0?"FilterItemDivSmall":""},ze("PPMStaffTrackDetilsCode")),fe.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},fe[0]),fe.length>1&&i().createElement("span",{className:"RoundedDivName"},fe[1]),fe.length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(fe.length-2)))),i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ve("Start Time","FilterPPMStaffTrackDetilsID",ge)}},i().createElement("span",{className:ye.length>0?"FilterItemDivSmall":""},ze("StartTime")),ye.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},ye[0]),ye.length>1&&i().createElement("span",{className:"RoundedDivName"},ye[1]),ye.length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(ye.length-2)))),i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ve("End Time","FilterPPMStaffTrackDetilsID",Se)}},i().createElement("span",{className:De.length>0?"FilterItemDivSmall":""},ze("EndTime")),De.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},De[0]),De.length>1&&i().createElement("span",{className:"RoundedDivName"},De[1]),De.length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(De.length-2)))),i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ve("P P M Staff Track Code","FilterPPMStaffTrackID",Me)}},i().createElement("span",{className:Ne.length>0?"FilterItemDivSmall":""},ze("PPMStaffTrackID")),Ne.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},Ne[0]),Ne.length>1&&i().createElement("span",{className:"RoundedDivName"},Ne[1]),Ne.length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(Ne.length-2)))),i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ve("Track Time Name","FilterPPMTrackTimeID",we)}},i().createElement("span",{className:xe.length>0?"FilterItemDivSmall":""},ze("PPMTrackTimeID")),xe.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},xe[0]),xe.length>1&&i().createElement("span",{className:"RoundedDivName"},xe[1]),xe.length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(xe.length-2)))),i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ve("Created Ttm","FilterPPMStaffTrackDetilsID",H)}},Ze("Created Date"),H.from&&i().createElement("p",{className:"filterdatevalue"},"(",H.from+" to "+H.to,")"))))))}var K=l(54180),W=l(43031),G=l(110),H=l(5109),j=l(88995),U=l(50743),Y=l(61657),$=l(51209),J=l(53854),q=l(51649),Q=l(37106),X=l(5434),ee=l(83817),te=l(39327),ae=l(3212),le=l(71168),re=l(65107),ie=l(94986),ne=l(15999);window.clickFilter="";const se=(0,r.forwardRef)(((e,t)=>{const a=(0,r.useRef)(null),l=(0,r.useRef)(null),[f]=((0,r.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,r.useState)(localStorage.getItem("userid"))),[g]=(0,r.useState)("539"),[p,y]=(0,r.useState)(!1),[S,D]=(0,r.useState)(!1),[T,v]=(0,r.useState)(0),[k,I]=(0,r.useState)(0),[h,M]=(0,r.useState)(0),[C,N]=(0,r.useState)(0),[b,w]=(0,r.useState)({current:1,pageSize:10}),[R,x]=(0,r.useState)(""),[A,B]=(0,r.useState)([]),[z,_]=(0,r.useState)({val:"",column:""}),[se,ce]=(0,r.useState)([]),[de,oe]=(0,r.useState)(!1),[me,fe]=(0,r.useState)(""),[ue,ge]=(0,r.useState)(""),[pe,ye]=(0,r.useState)(!1),[Pe,Se]=(0,r.useState)([]),[Ee,De]=(0,r.useState)([]),[Te,ve]=(0,r.useState)([]),[ke,Ie]=(0,r.useState)({children:[{name:"PPMStaffTrackDetailsRegistry",children:[]}]}),[he,Me]=(0,r.useState)(!1),Ce=(0,r.useContext)(Re),{cstate:Ne,cdispatch:be}=xe();let we={};const[Ae,Fe]=(0,r.useState)(we),[Be,Oe]=(0,r.useState)(we),[Le,Ze]=(0,r.useState)(!1),[ze,_e]=(0,r.useState)(!0),[Ve,Ke]=(0,r.useState)(!1),[We,Ge]=(0,r.useState)(!0),[He,je]=(0,r.useState)({PPMStaffTrackDetilsCode:"",StartTime:"",EndTime:"",PPMStaffTrackCode:"",TrackTimeName:""}),[Ue,Ye]=(0,r.useState)(!1),[$e,Je]=(0,r.useState)([]),[qe,Qe]=(0,r.useState)(0),[Xe,et]=(0,r.useState)(0),[tt,at]=(0,r.useState)({current:1,pageSize:10}),[lt,rt]=(0,r.useState)([]),[it,nt]=(0,r.useState)([]),[st,ct]=(0,r.useState)(!1),[dt,ot]=(0,r.useState)(!1),[mt,ft]=(0,r.useState)(!1),[ut,gt]=(0,r.useState)(""),pt=[{columns:lt,data:R}];let yt=(0,F.Z)(),Pt=O();const St=e=>yt[e]?yt[e]:e,Et=e=>Pt?.[e]?Pt[e]:e;(0,r.useEffect)((()=>{Mt(le.UserGridViewData)}),[JSON.stringify(le.UserGridViewData.filter((e=>e.FormID==g)))]),(0,r.useEffect)((()=>{Ne.token.length>0&&(e.parentId?It(b,we,"PPMStaffTrackDetilsID"):ce([]))}),[e.parentId]),(0,r.useEffect)((()=>{!he&&e.parentId?It(b,me,"PPMStaffTrackDetilsID"):he&&Oe(me)}),[me]),(0,r.useImperativeHandle)(t,(()=>({searchItem:e=>{Dt(e)},tableRefresh:()=>{It(b,we,"PPMStaffTrackDetilsID")},DialogTableProps:e=>{D(e)},HideEntryFields:e=>{ft(!0===e)}})));const Dt=e=>{""==e?It(b,we,Le?"DraftPPMStaffTrackDetilsID":"PPMStaffTrackDetilsID",Le&&"DraftPage"):ht(e,{current:1,pageSize:10}),ge(e)};function Tt(t){Ce.loading(!0);let a=P.v.Api+"FP539S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(a,l,Ne.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,et(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Qe(Math.ceil(a)):20==t.pageSize?Qe(Math.ceil(a/2)):50==t.pageSize?Qe(Math.ceil(a/5)):100==t.pageSize&&Qe(Math.ceil(a/10)),Je(e.Output.data),Ce.loading(!1)}}))}function vt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!0}),Ce.Expanded(!0),Ve&&ye(!1)}(0,r.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(D(e.Dialogview),ft(!0))}),[e.cardview,e.Dialogview]),(0,r.useEffect)((()=>{e.searchsafaritext&&ht(e.searchsafaritext,{current:b.current,pageSize:b.pageSize})}),[e.searchsafaritext]);const kt=()=>{Ce.EditClose(!0),de?(document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMStaffTrackDetailsRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",oe(!1),We?(S||(document.getElementById("PPMStaffTrackDetailsRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackDetailsRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMStaffTrackDetailsRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackDetailsRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMStaffTrackDetailsRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackDetailsRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMStaffTrackDetailsRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",oe(!0),document.getElementById("PPMStaffTrackDetailsRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackDetailsRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ye(!1),window.clickFilter=!de},It=(t,a,l,r,i,n)=>{Ce.loading(!0),"DraftPage"!==r&&Ze(Ne.IsDraft);let s=P.v.Api+"FP539S3/";(0,o.Z)(s,{data:{}},Ne.token[0]).then((s=>{if(i)(0,ee.a)(s,be,r,n,Ce);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,M(s.Output.data[0].TotalCount),N(s.Output.data[0].DraftCnt),be({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==r&&N(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?I(Math.ceil(e)):20==t.pageSize?I(Math.ceil(e/2)):50==t.pageSize?I(Math.ceil(e/5)):100==t.pageSize&&I(Math.ceil(e/10)),ce(s.Output.data),Ce.loading(!1)}e.Dialogview||(document.getElementById("divPPMStaffTrackDetailsRegistry-Entry").style.height="auto",document.getElementById("divPPMStaffTrackDetailsRegistry-Entry").style.display="block")}else Ce.loading(!1),"DraftPPMStaffTrackDetilsID"===l?(Ce.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ye(!0),Ze(!1)):(ce([]),w({current:1,pageSize:10}),I(0),M(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ce.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ce.alert({open:!0,color:"warning",message:[s.Output.status.message]}),Ce.loading(!1)}))};function ht(t,a){Ce.loading(!0);const l=P.v.Api+"FP539S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Le?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(l,r,Ne.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,M(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?I(Math.ceil(t)):20==a.pageSize?I(Math.ceil(t/2)):50==a.pageSize?I(Math.ceil(t/5)):100==a.pageSize&&I(Math.ceil(t/10)),ce(e.Output.data),Ce.loading(!1)}else ce([]),I(0),M(0),be({type:"count",payload:"0"}),Ce.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce.loading(!1);else Ce.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ce.loading(!1)}))}function Mt(e){const t=e.filter((e=>e.FormID==g));let a=[],l=[],r=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldName),r.push(e.FieldDescription)))})),je(l.reduce(((e,t)=>(e[t]="",e)),{})),Se(t),De(a),ve(l),rt(r),nt(l)}const Ct=()=>he?null:i().createElement("div",null,Ue?i().createElement(ie.Z,{data:$e,expanded:e=>!S&&Ce.Expanded(e),edit:(e,t,a)=>{S?Ce.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):i().createElement(re.Z,{ref:l,frmctrlid:"tblcs_539_L1_",id:"PPMStaffTrackDetailsRegistryTable",headerdata:Ee,tablesearchparams:He,searchvalue:e=>{je(e),fe(e),It(b,e,Le?"DraftPPMStaffTrackDetilsID":"PPMStaffTrackDetilsID",Le&&"DraftPage")},bodydata:se,ondrag:vt,bodyitem:Te,visibleitem:Ee,isdraft:Le,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:g,showMore:!1,accessrights:Ne.AccessRights,expanded:e=>!S&&Ce.Expanded(e),edit:(e,t,a)=>{S?Ce.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&It(b,null,t?"DraftPPMStaffTrackDetilsID":"PPMStaffTrackDetilsID",t&&"DraftPage",e[l],a)})),Ce.hideAddBtn(!0))},viewtoggle:Ce.viewtoggle,isexpanded:!S||Ve,tf:Et,action:S?"none":"",ViewComp:(e,t)=>{}}));return(0,r.useEffect)((()=>{Ke(Ne.ExpandTableValue)}),[Ne.ExpandTableValue]),i().createElement("div",null,!mt&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld539L1ECSearchBar",className:"searchbar1"},i().createElement(E.Z,{frmctrlid:"fld539L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:ue,onChange:e=>{ge(e),Ce.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},ue?i().createElement("div",{id:"fld539L1TCCloseIconCommonSearch",onClick:()=>{ge(""),Ce.searchItem("")}},i().createElement(m.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld539L1TCInputSearchIcon"},i().createElement(j.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMStaffTrackDetailsRegistrygridsearch").focus()}})))),i().createElement("div",null,Ne.AccessRights.IsAdd&&i().createElement(ae.Z,{className:"SaveBtnCommon",frmctrlid:"fld539L1TCAddBtnIsAdd",onClick:()=>{Ce.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}))),i().createElement(s.Z,{expanded:ze,onChange:()=>()=>{_e(Ve)}},e.Dialogview&&i().createElement(U.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1"},`${Et("PPMStaffTrackDetailsRegistry")} (${h})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld539L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(E.Z,{frmctrlid:"fld539L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:ue,onChange:e=>{Dt(e)}}),i().createElement("div",{className:"search_icon"},ue?i().createElement("div",{id:"fld539L1TCInputCloseIcon",onClick:()=>{Dt("")}},i().createElement(m.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld539L1TCInputSearchIcon"},i().createElement(j.Z,{className:"InputSearchIcon"}))))))),i().createElement(c.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&i().createElement("div",{frmctrlid:"fld539L1TCFilterDataIsDraft",id:"PPMStaffTrackDetailsRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{kt()}},i().createElement(u.ZP,{title:St("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(L.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},St("Filter Data"))),!S&&!Le&&!he&&i().createElement(K.Z,{formctrlidprint:"fld539L1TCExportPrint",formctrlidexport:"fld539L1TCExportTable",formctrlidrefresh:"fld539L1TCExportRefresh",title:Et("PPMStaffTrackDetailsRegistry"),data:A,exportData:pt,Items:it,columnIndex:lt,triggerApi:()=>{((e,t,l,r,i)=>{if(0===h)return Ce.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ce.loading(!0);let n=P.v.Api+"FP539S3/";(0,o.Z)(n,{data:{}},Ne.token[0]).then((e=>{if("200"==e.Output.status.code){if(e.Output.data.length>0&&e.Output.data.length>0){B(e.Output.data);let t=[];e.Output.data.map((e=>{let a=[];it.map((t=>{a.push(e[t])})),t.push(a)})),x(t),a.current.PrintValue(),Ce.loading(!1)}}else Ce.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ce.loading(!1)}))})(0,z.column)},Refresh:()=>{ge(""),w({current:1,pageSize:10}),l.current.clearItem(),!Ne.ShowDetail&&Ce.clear(),Ne.IsDraft?It({current:1,pageSize:10},we,"DraftPPMStaffTrackDetilsID"):It({current:1,pageSize:10},we,"PPMStaffTrackDetilsID")},disabledPrint:!Ne.AccessRights.IsPrint,disabledExport:!Ne.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Le&&!he&&!S&&i().createElement("div",{className:"buttoncard",onClick:()=>ot(!dt)},i().createElement("span",null,dt?i().createElement(u.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},i().createElement("span",{id:"fld539L1TCLess"},i().createElement(J.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(u.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},i().createElement("span",{id:"fld539L1TCMore"},i().createElement(J.ilJ,{className:"tableFilterColumnIcon"}))))),dt?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},he||!Ve?null:!S&&Ne.AccessRights.IsAdd&&!Le&&i().createElement("div",null,i().createElement("div",{frmctrlid:"fld539L1TCFilterDataIsAdd",id:"PPMStaffTrackDetailsRegistrycoldiv",className:"buttoncard",onClick:()=>{Ce.EditClose(!0),pe?(document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv").style.width="0%",document.getElementById("PPMStaffTrackDetailsRegistryTabDiv").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv").style.display="none",document.getElementById("PPMStaffTrackDetailsRegistrycoldiv").style.width="fit-content",document.getElementById("PPMStaffTrackDetailsRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!1)):(document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv").style.width="25%",document.getElementById("PPMStaffTrackDetailsRegistryTabDiv").style.width="75%",document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv").style.display="block",document.getElementById("PPMStaffTrackDetailsRegistryfildiv").style.width="fit-content",document.getElementById("PPMStaffTrackDetailsRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMStaffTrackDetailsRegistrycoldiv").style.width="fit-content",document.getElementById("PPMStaffTrackDetailsRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!0)),oe(!1)}},i().createElement(u.ZP,{title:St("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!S&&Ve&&!he&&!Le&&i().createElement("div",null,i().createElement("div",{id:"PPMStaffTrackDetailsRegistrycoldiv",className:"buttoncard",onClick:()=>{Ue?Ye(!1):(Ye(!0),Tt({current:1,pageSize:10}))}},i().createElement(u.ZP,{title:St("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld539L1TCTableScrollData"},i().createElement(ne.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!he&&Le?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ce.hideAddBtn(!1),Ce.ExpandEntry(),It({current:1,pageSize:10},we,"PPMStaffTrackDetilsID"),Ze(!1),ge(""),be({type:"IsDraft",payload:!1}),w({current:1,pageSize:10})}},i().createElement(u.ZP,{title:St("List"),placement:"top"},i().createElement("div",{id:"fld539L1TCList"},i().createElement(q.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!S&&!he&&Ne.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:C,showZero:!0},i().createElement("div",{id:"fld539L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{C>0?(w({current:1,pageSize:10}),v(0),Ce.clear(),ge(""),be({type:"Add",payload:!1}),It({current:1,pageSize:10},we,"DraftPPMStaffTrackDetilsID"),Ze(!0),be({type:"IsDraft",payload:!0}),ye(!1),Ge(!0),document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv").style.width="0%",document.getElementById("PPMStaffTrackDetailsRegistryTabDiv").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistryFilterDiv").style.display="none",w({current:1,pageSize:10}),Me(!1)):Ce.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},i().createElement(u.ZP,{title:St("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(Q.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Le&&!S&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},he||Le?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:We?"buttonList":"buttonGrid",id:"fld539L1TCListView",onClick:()=>{Ge(!0),ct(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(J.umT,null)),i().createElement("span",null,St("List"))),i().createElement("div",{className:We||st?"buttonGrid":"buttonList",id:"fld539L1TCCardView",onClick:()=>{Ge(!1),ct(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(Z.aCJ,null)),i().createElement("span",null,St("Card"))),i().createElement("div",{className:st?"buttonList":"buttonGrid",id:"fld539L1TCTileView",onClick:()=>{ct(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(X.f_H,null)),i().createElement("span",null,St("Tile"))))))),he?null:Ue?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(Y.Z,{style:{color:"#777"},id:"fld539L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:T,onPageChange:(e,t)=>{v(t),Tt({current:t+1,pageSize:tt.pageSize}),at({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(W.Z,{count:qe,color:"primary",page:tt.current,onChange:(e,t)=>{at({current:t,pageSize:tt.pageSize}),Qe(t),Tt({current:t,pageSize:tt.pageSize})}}),i().createElement("div",null,i().createElement(G.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld539L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),Tt({current:1,pageSize:e.target.value})}},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),Ve&&i().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",Xe,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(Y.Z,{style:{color:"#777"},id:"fld539L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:T,onPageChange:(e,t)=>{v(t),It({current:t+1,pageSize:b.pageSize},we,Le?"DraftPPMStaffTrackDetilsID":"PPMStaffTrackDetilsID",Le&&"DraftPage"),w({current:t+1,pageSize:b.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(W.Z,{count:k,siblingCount:0,color:"primary",page:b.current,onChange:(e,t)=>{if(w({current:t,pageSize:b.pageSize}),Le)It({current:t,pageSize:b.pageSize},Ae,"DraftPPMStaffTrackDetilsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ue.length>0?ht(ue,{current:t,pageSize:b.pageSize}):It({current:t,pageSize:b.pageSize},Ae,"PPMStaffTrackDetilsID")}}}),i().createElement("div",null,i().createElement(G.Z,{className:"BootstrapInputStyle",value:b.pageSize,id:"fld539L1TCSelectPaging",onChange:e=>{w({current:1,pageSize:e.target.value}),Le?It({current:1,pageSize:e.target.value},Ae,"DraftPPMStaffTrackDetilsID","DraftPage"):ue.length>0?ht(ue,{current:1,pageSize:e.target.value}):It({current:1,pageSize:e.target.value},Ae,"PPMStaffTrackDetilsID")}},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),Ve&&i().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"PPMStaffTrackDetailsRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&i().createElement(V,{parentId:e.parentId,userGrid,searchData:e=>fe(e),formID:g,data:()=>{},visibleData:()=>{},token:Ne.token[0],CloseBtnClk:()=>kt(),msg:(e,t)=>Ce.alert({open:!0,color:t,message:[e]})}),pe&&i().createElement(H.Z,{Refresh:e=>{It({current:1,pageSize:10},we,"PPMStaffTrackDetilsID")},frmctrlid:"fld539L1TCTableColumnOrder",loading:e=>Ce.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ce.alert({open:!0,color:t,message:[e]}),select:pe,userID:f,userGridViewFormID:g,saved:(e,t)=>{e&&Mt(t)},Token:Ne.token[0]})),i().createElement("div",{id:"PPMStaffTrackDetailsRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},We?i().createElement(Ct,null):i().createElement($.Z,{frmctrlid:"fld539L1TCExpandedCardDual",data:se,id:"PPMStaffTrackDetailsRegistry",title:"PPMStaffTrackDetilsCode",cardTile:!!st,visibleitem:Ee,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{S?Ce.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!1}),Ce.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!0}),Ce.Expanded(!0),Ce.viewtoggle()),de?oe(!0):pe?ye(!0):(ye(!1),ye(!1))),Ce.hideAddBtn(!0)}})))))))}));var ce=l(37148),de=l(29800),oe=(l(10966),l(21392),l(26537)),me=(l(44528),l(99090)),fe=(l(35131),l(1695)),ue=l(61924),ge=l.n(ue),pe=(l(40826),l(55490)),ye=l(92371);const Pe={EnterKeyValues:{PPMStaffTrackDetailsRegistry:["PPMStaffTrackDetilsCode","StartTime","EndTime","PPMStaffTrackCode","TrackTimeName"]},Label:{PPMStaffTrackDetailsRegistry:{PPMStaffTrackDetilsCode:["PPMStaffTrackDetilsCode"],StartTime:["PPMStaffTrackDetilsCode"],EndTime:["PPMStaffTrackDetilsCode"],PPMStaffTrackID:["PPMStaffTrackDetilsCode"],PPMTrackTimeID:["PPMStaffTrackDetilsCode"]}},LabelHeader:{PPMStaffTrackDetailsRegistry:{PPMStaffTrackDetilsCode:["PPM Staff Track Detils Code"],StartTime:["PPM Staff Track Detils Code"],EndTime:["PPM Staff Track Detils Code"],PPMStaffTrackID:["PPMStaffTrackDetilsCode"],PPMTrackTimeID:["PPMStaffTrackDetilsCode"]}},Property:{PPMStaffTrackDetailsRegistry:{PPMStaffTrackDetilsCode:{id:"fld539_10728",labelID:"PPMStaffTrackDetilsCode",maxLength:"50",labelname:"PPM Staff Track Detils Code",frmctrlid:"fld539_10728",frmctrlidname:"PPMStaffTrackDetilsCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},StartTime:{id:"fld539_10729",labelID:"StartTime",maxLength:"",labelname:"Start Time",frmctrlid:"fld539_10729",frmctrlidname:"StartTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EndTime:{id:"fld539_10730",labelID:"EndTime",maxLength:"",labelname:"End Time",frmctrlid:"fld539_10730",frmctrlidname:"EndTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMStaffTrackID:{id:"fld539_10731",clearID:"PPMStaffTrackDetailsRegistryPPMStaffTrackCodeClear",type:"select",labelID:"PPMStaffTrackIDPK",labelname:"PPMStaffTrackCode",fielddisplayname:"PPMStaffTrackCode",fieldOrder:"4",frmctrlid:"fld539_10731",frmctrlidname:"PPMStaffTrackID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMTrackTimeID:{id:"fld539_10732",clearID:"PPMStaffTrackDetailsRegistryTrackTimeNameClear",type:"select",labelID:"PPMTrackTimeIDPK",labelname:"TrackTimeName",fielddisplayname:"TrackTimeName",fieldOrder:"1",frmctrlid:"fld539_10732",frmctrlidname:"PPMTrackTimeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMStaffTrackDetailsRegistry:{PPMStaffTrackID:["StaffTime","EndTime","IsActive","PPMStaffTrackCode","IsDraft","EmployeeID2","CreatedTtm","WorkOrderDate","WorkOrderNo","EmployeeID1","EmployeeID3","PPMStaffTrackCode"],PPMTrackTimeID:["PPMTrackTimeCode","IsActive","IsDraft","TrackTimeName","CreatedTtm","TrackTimeCode","TrackTimeName"]}}};var Se=l(6562),Ee=l(63163),De=l(45155),Te=l(79352),ve=(l(49174),l(38773));l(19089),l(82729),l(75355),l(11107);const ke={},Ie=(0,r.forwardRef)(((t,a)=>{(0,n.useSelector)((e=>e.form));const[l,d]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!0),[u,g]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),[D,T]=(0,r.useState)(""),[k,I]=(0,r.useState)(!1),[h,M]=(0,r.useState)([]),[C,N]=(0,r.useState)(null),[b,w]=(0,r.useReducer)(ye.Z,ke),[R,x]=(0,r.useState)(!1),[B,L]=(0,r.useState)([]),[Z,z]=(0,r.useState)(!1),_=(0,r.useContext)(Re),{cstate:V,cdispatch:K}=xe(),[W,G]=(0,r.useState)(0),[H,j]=(0,r.useState)(""),Y=(0,r.useRef)(null),[$,J]=(0,r.useState)(!0),[q,Q]=(0,r.useState)(""),[X,ee]=(0,r.useState)(""),[te,ae]=(0,r.useState)(!1);let le=(0,F.Z)(),re=O();(0,r.useEffect)((()=>{ue()}),[]),(0,r.useEffect)((()=>{ue()}),[t.parentId]),(0,r.useEffect)((()=>{V.editData.length>0?(de(V.editData[0],""),g(!0)):V.Add&&(ue(),g(!0))}),[V.editData]),(0,r.useImperativeHandle)(a,(()=>({clear:()=>{ue()},CreateEasyProps:(e=!0,t)=>{t?(Ae(t),g(e)):(ue(),g(e))},AddOpen:e=>{ue(),g(!0)}})));const ie=e=>le[e]?le[e]:e,ne=e=>re?.[e]?re[e]:e,se=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},de=(e,a)=>{E(e.IsDraft),"SetDefaultPPMStaffTrackDetilsID"==a?j(e.PPMStaffTrackDetilsIDPK):(G(t.primid?Number(t.primid):e.PPMStaffTrackDetilsIDPK),K({type:"PrimaryId",payload:e.PPMStaffTrackDetilsIDPK})),w({type:"text",name:"PPMStaffTrackDetilsCode",value:e.PPMStaffTrackDetilsCode?e.PPMStaffTrackDetilsCode:""}),w({type:"text",name:"StartTime",value:e.StartTime?se(e.StartTime):null}),w({type:"text",name:"EndTime",value:e.EndTime?se(e.EndTime):null}),w({type:"number",name:"PPMStaffTrackID",number:e.PPMStaffTrackID?Number(e.PPMStaffTrackID):0}),w({type:"text",name:"PPMStaffTrackCode",value:e.PPMStaffTrackCode}),w({type:"number",name:"PPMTrackTimeID",number:e.PPMTrackTimeID?Number(e.PPMTrackTimeID):0}),w({type:"text",name:"TrackTimeName",value:e.TrackTimeName}),e.IsDraft?f(!0):f(!("1"!=e.IsActive&&!e.IsActive))},ue=()=>{M([]),G(0),j(""),t.createEasy||_.resetImg(),K({type:"PrimaryId",payload:""}),w({type:"text",name:"PPMStaffTrackDetilsCode",value:""}),w({type:"text",name:"StartTime",value:null}),w({type:"text",name:"EndTime",value:null}),w({type:"text",name:"PPMStaffTrackID",value:null}),w({type:"text",name:"PPMStaffTrackCode",value:""}),document.getElementById("PPMStaffTrackDetailsRegistryPPMStaffTrackCodeClear")&&document.getElementById("PPMStaffTrackDetailsRegistryPPMStaffTrackCodeClear").click(),w({type:"text",name:"PPMTrackTimeID",value:null}),w({type:"text",name:"TrackTimeName",value:""}),document.getElementById("PPMStaffTrackDetailsRegistryTrackTimeNameClear")&&document.getElementById("PPMStaffTrackDetailsRegistryTrackTimeNameClear").click(),f(!0),T(""),J(!0)},Ie=e=>{_.loading(!0),_.ConfirmAlert(null);const a=P.v.Api+"FP539S2/",l={data:[{}]};(0,oe.Z)(0).then((e=>{(0,o.Z)(a,l,e).then((e=>{const a=e.Output[0].status;let l=e.Output[0].Data,r=new Array,i=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(_.alert({open:!0,color:"warning",message:i}),_.loading(!1)):(e=>{J(!0),_.loading(!0),_.ConfirmAlert(null),K({type:"IsDraft",payload:!1});const a=P.v.Api+"FP539S1/",l={data:[{}]};(0,oe.Z)(0).then((e=>{(0,v.Z)(a,l,e).then((e=>{const a=e[0].status;200==a.code?(_.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry"),_.loading(!1),K({type:"PrimaryId",payload:e[0].Data.IDPK}),t.createEasy||(_.RefreshTable(),_.attachmentSave(e[0].Data.IDPK)),ue(),document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry")&&(document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry").style.display="none",document.getElementById("divPPMStaffTrackDetailsRegistry-Entry").style.width="100%"),t.createEasy||(document.getElementById("PPMStaffTrackDetailsRegistry-MainTable").style.display="block")):(_.alert({open:!0,color:"warning",message:[a.message]}),_.loading(!1)),g(!0)}))}))})()):(_.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),_.loading(!1))}))}))};function he(e,a,l,r){if(!(V.count>0))return _.alert({open:!0,color:"warning",message:[ie("Please save atleast one record")]}),!1;if(!((()=>{const e={...b};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return _.alert({open:!0,color:"warning",message:[ie("Please enter the primary fields")]}),!1;{J(!0),_.loading(!0),_.ConfirmAlert(null),K({type:"IsDraft",payload:!1});const a=P.v.Api+"FP539S1/",l={data:[{}]};(0,oe.Z)(0).then((r=>{(0,v.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(e?_.alert({open:!0,color:"warning",message:[ie("Deleted Successfully")]}):_.alert({open:!0,color:"success",message:[ie("Saved to Draft")]}),_.loading(!1),_.attachmentSave(a[0].Data.IDPK),ue(),_.RefreshTable(),t.clrImgstate(!0)):(_.alert({open:!0,color:"warning",message:[l.message]}),_.loading(!1))}))}))}}function Me(e){return CreateEasy(e,V,K,_,Y),!1}function Ce(e,t){return AdvanceSearch(e,t,V,K,_,we,a),!1}const Ne=(e,t,a,l,r)=>{const i=P.v.Api+"FP539S3/",n={data:{}},s=Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{});x(!0);const c={data:s};return(0,o.Z)(i,"ClearAll"==a?c:n,"SetDefaultPPMStaffTrackDetilsID"==a&&l?l:V.token[0]).then((t=>{const l=t.Output.status.code,i=t.Output.data;if("200"==l){const t=i.length;if(r)return i?i[0]:{};L(1==e?t>0?i:[]:B.concat(i)),"SetDefaultPPMStaffTrackDetilsID"==a&&(t>0?de(i[0],"SetDefaultPPMStaffTrackDetilsID"):j("NORECORDS")),x(!1)}else _.alert({open:!0,color:"warning",message:[t.Output.status.message]}),x(!1)}))},be=(e,t,a)=>{const l=P.v.Api+"FP539S3/",r={data:{}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};x(!0),(0,o.Z)(l,"ClearAll"==a?i:r,V.token[0]).then((t=>{const l=t.Output.status.code,r=t.Output.data;if("200"==l){const t=r.length;1==e?("PPMStaffTrackDetilsCode"==a&&J(t>0),L(r)):("PPMStaffTrackDetilsCode"==a&&J(!0),L(B.concat(r))),x(!1)}else _.alert({open:!0,color:"warning",message:[t.Output.status.message]}),x(!1)}))},we=(0,r.useCallback)((async(e,t,a)=>{"text"==a?w({type:a,name:t,value:e}):"number"==a?w({type:a,name:t,number:Number(e)}):"boolean"==a?w({type:a,name:t,boolean:e}):"date"==a&&w({type:"text",name:t,value:e})}),[b]);function Ae(e){_.ConfirmAlert(null),E(e.IsDraft),G(Number(e.PPMStaffTrackDetilsIDPK)),w({type:"text",name:"PPMStaffTrackDetilsCode",value:e.PPMStaffTrackDetilsCode}),w({type:"text",name:"StartTime",value:se(e.StartTime)}),w({type:"text",name:"EndTime",value:se(e.EndTime)}),w({type:"number",name:"PPMStaffTrackID",number:Number(e.PPMStaffTrackID)}),w({type:"text",name:"PPMStaffTrackCode",value:e.PPMStaffTrackCode}),w({type:"number",name:"PPMTrackTimeID",number:Number(e.PPMTrackTimeID)}),w({type:"text",name:"TrackTimeName",value:e.TrackTimeName})}return i().createElement("div",null,i().createElement(s.Z,{expanded:u,onChange:e=>{}},i().createElement(U.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},u&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt"},ie("Add "),ne("PPMStaffTrackDetailsRegistry")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},V.AccessRights.IsDelete&&i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(Se.Z,{row:!0},i().createElement(A.Z,{labelPlacement:"bottom",id:"fld539L1ECEntryCheckbox",control:i().createElement(Ee.Z,{checked:"1"==m,onChange:e=>f(e.target.checked)}),label:ie(1==m?"Active":"In Active")})))),!t.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{_.AttachExpand(!0)},id:"fld539L1ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(De.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,ie("Attach")))),!W&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ue()},id:"fld539L1ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(De.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,ie("Reset")))),"1"===S&&W&&i().createElement(me.Z,{frmctrlid:"fld539L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{he("draftdel")}}),W&&"1"!==S||t.createEasy?null:V.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{he()},frmctrlid:"fld539L1ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(Te.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,ie("Draft")))),V.AccessRights.IsAdd||V.AccessRights.IsEdit?i().createElement(fe.Z,{frmctrlid:"fld539L1ECSaveBtnIsAdd",name:ie(W?"Update":"Save"),disabled:!1,onClick:()=>{var e;("string"==typeof(e=b.PPMStaffTrackDetilsCode)?e.trim():e)?b.PPMStaffTrackID&&0!=b.PPMStaffTrackID?t.parentId&&0!=t.parentId?_.ConfirmAlert(i().createElement(ge(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ie("Are you sure?"),onConfirm:()=>Ie(),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ie("Yes"),cancelBtnText:ie("Cancel"),showCancel:!0},ie(W?"Do you want to Update?":"Do you want to Save?"))):_.alert({open:!0,color:"warning",message:[ie("Please select the ")+" "+ne("PPMTrackTimeID")]}):_.alert({open:!0,color:"warning",message:[ie("Please select the ")+" "+ne("PPMStaffTrackID")]}):_.alert({open:!0,color:"warning",message:[ie("Please enter the")+""+ne("PPMStaffTrackDetilsCode")]})}}):null,!t.createEasy&&i().createElement(ce.Z,{frmctrlid:"fld539L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ue(),g(!1),_.EditClose(!0),_.hideAddBtn(!1),K({type:"Add",payload:!1})}}))))),i().createElement(c.Z,null,i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(p.Z,{spacing:2},i().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(pe.Z,{"data-testid":b.PPMStaffTrackDetilsCode,json:Pe,SPName:"PPMStaffTrackDetailsRegistry",FieldName:"PPMStaffTrackDetilsCode",tfLabel:ne("PPMStaffTrackDetilsCode"),EnterSave:e=>{e&&t.submitConfirmation(e)},onSelect:e=>!t.createEasy&&(e=>{_.ConfirmAlert(i().createElement(ge(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ae(e),onCancel:()=>_.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ie("Yes"),cancelBtnText:ie("No"),showCancel:!0},ie("Do you want to update this record?")))})(e),onClick:()=>{$&&be(1,0,"ClearAll"),J(!0)},frmctrlid:"fld539_10728",frmctrlidName:"PPMStaffTrackDetilsCode",fieldorder:"1",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,onChange:(e,t)=>{$&&be(e,0,"PPMStaffTrackDetilsCode"),we(t,"PPMStaffTrackDetilsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||J(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:b.PPMStaffTrackDetilsCode,loading:R,clear:e=>{e&&(w({type:"text",name:"PPMStaffTrackDetilsCode",value:""}),J(!0))}})),i().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},i().createElement(ve.Z,{label:i().createElement("span",null,ie("StartTime")),"data-testid":b.StartTime,onErr:e=>{Q(e)},value:b.StartTime,onChange:t=>{we(e,"StartTime","date")},tfLabel:ne("StartTime"),frmctrlid:"fld539_10729",frmctrlidName:"StartTime",fieldorder:"2"})),i().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},i().createElement(ve.Z,{label:i().createElement("span",null,ie("EndTime")),"data-testid":b.EndTime,onErr:e=>{ee(e)},value:b.EndTime,onChange:t=>{we(e,"EndTime","date")},tfLabel:ne("EndTime"),frmctrlid:"fld539_10730",frmctrlidName:"EndTime",fieldorder:"3"})),i().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(pe.Z,{json:Pe,id:b.PPMStaffTrackID,"data-testid":b.PPMStaffTrackID,value:b.PPMStaffTrackCode,SPName:"PPMStaffTrackDetailsRegistry",FieldName:"PPMStaffTrackID",tfLabel:ne("PPMStaffTrackID"),EnterSave:e=>{e&&t.submitConfirmation(e)},SideEntryView:!1,onSelect:e=>we(e,"PPMStaffTrackID","select"),onChange:(e,t)=>{Ne(e,0,"PPMStaffTrackIDPK")},KeyBack:e=>{},fieldorder:"4",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,openSlide:()=>{Me("540")},Tabledialog:()=>Ce("540","PPMStaffTrackID"),loading:R,clear:e=>{}})),i().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(pe.Z,{json:Pe,id:b.PPMTrackTimeID,"data-testid":b.PPMTrackTimeID,value:b.TrackTimeName,SPName:"PPMStaffTrackDetailsRegistry",FieldName:"PPMTrackTimeID",tfLabel:ne("PPMTrackTimeID"),EnterSave:e=>{e&&t.submitConfirmation(e)},SideEntryView:!1,onSelect:e=>we(e,"PPMTrackTimeID","select"),onChange:(e,t)=>{Ne(e,0,"PPMTrackTimeIDPK")},KeyBack:e=>{},fieldorder:"1",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,openSlide:()=>{Me("545")},Tabledialog:()=>Ce("545","PPMTrackTimeID"),loading:R,clear:e=>{}})))),i().createElement("div",{id:"PPMStaffTrackDetailsRegistrySideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMStaffTrackDetailsRegistrySideBar").style.width="0",void I(!1))},"×"),k&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},C))))))))}));l(77366),l(97829);var he=l(65197);const Me=(0,r.forwardRef)(((e,t)=>{const a=(0,r.useRef)(),[l,d]=((0,n.useSelector)((e=>e.form)),(0,r.useState)([])),[m,f]=(0,r.useState)(!0),[u,g]=(0,r.useState)(e.showDetail),[p,y]=(0,r.useState)(""),[S,E]=i().useState(!1),[D,T]=i().useState(""),[v,k]=i().useState(!1),I=(0,r.useContext)(Re),{cstate:h,cdispatch:M}=xe(),[C,N]=(0,r.useState)(!1),[b,w]=(0,r.useState)(""),[R,x]=(0,r.useState)("");let A=(0,F.Z)(),B=O();(0,r.useEffect)((()=>{h.editData.length>0&&(d(h.editData),E(!1),M({type:"PrimaryId",payload:h.editData[0].PPMStaffTrackDetilsIDPK}))}),[h.editData]),(0,r.useEffect)((()=>{f(h.ExpandDetailValue)}),[h.ExpandDetailValue]),(0,r.useImperativeHandle)(t,(()=>({tableClick:e=>{f(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(e,t)=>{!function(e,t=!1){let a=P.v.Api+"FP539S3/",l={data:{}};(0,oe.Z)(0).then((e=>{(0,o.Z)(a,l,e).then((e=>{I.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(0,t)},clear:()=>{"panel0"===S&&a.current.clear()}})));const L=e=>A[e]?A[e]:e,Z=e=>B?.[e]?B[e]:e;function z(e,t){}const _=(e,t)=>(a,r)=>{T(v?Object.assign(...l.filter((e=>e.PPMStaffTrackDetilsIDPK==t)).map((e=>e))):h.editData),E(!r&&e)};return i().createElement("div",null,i().createElement(s.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&f(!m)}},!S&&i().createElement(U.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},h.IsDraft?L("Draft"):"",Z("PPMStaffTrackDetailsRegistry"),e.viewonly?" ":"("+h.count+")")):"",m?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&h.AccessRights.IsAdd&&i().createElement(ae.Z,{name:L("Add"),frmctrlid:"fld539L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{I.hideAddBtn(!0),M({type:"editData",payload:[]}),M({type:"ShowDetail",payload:!1}),M({type:"Add",payload:!0})},disabled:!1}),!e.viewonly&&h.AccessRights.IsEdit?i().createElement(de.Z,{frmctrlid:"fld539L1VCEditBtn",onClick:_("panel0",""),disabled:!1}):h.IsDraft&&h.AccessRights.IsAdd&&i().createElement(de.Z,{frmctrlid:"fld539L1VCEditBtnIsAdd",onClick:()=>{_("panel","")},disabled:!1}),!e.viewonly&&i().createElement(ce.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld539L1VCCloseBtn",onClick:()=>{f(!1),I.hideAddBtn(!1),v&&(M({type:"editData",payload:[]}),d([]))}})):"")),i().createElement(c.Z,{style:{display:"block"}},l.map(((t,l)=>i().createElement("div",{key:l},S==="panel"+l?i().createElement(Ie,{ref:a,parentId:e.parentId}):i().createElement(i().Fragment,null,i().createElement(he.Z,{tableName:"PPMStaffTrackDetailsRegistry",tableID:539,parentID:t.PPMStaffTrackDetilsIDPK,fldid:"fld539L1VCContainer",OpenSlideComponent:z,index:l,val:t,tf:Z,t:L}))))))))}));var Ce=l(67698),Ne=l(55995),be=l(45965),we=l(41722);const Re=(0,r.createContext)(),xe=()=>{const e=(0,r.useContext)(Re);if(void 0===e)throw new Error("useCont must be used within  PPMStaffTrackDetailsRegistryContext Provider");return e},Ae=(0,r.forwardRef)(((e,t)=>{const a=(0,r.useRef)(),l=(0,r.useRef)(),s=(0,r.useRef)(),c=(0,r.useRef)(),d=(0,r.useRef)(),[o,m]=(0,r.useState)(!0),[f,u]=(0,r.useState)(),g=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[p,y]=(0,r.useState)(0),[P,S]=(0,r.useReducer)(we.D,we.E),[E,D]=(0,r.useState)(""),[T,v]=(0,r.useState)([]);(0,r.useEffect)((()=>{e.loading(!0),e.tableview||l.current.clear(),document.getElementById("divPPMStaffTrackDetailsRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainTable").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,r.useEffect)((()=>{m(!0),document.getElementById("divPPMStaffTrackDetailsRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainTable").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,r.useEffect)((()=>{e.editData&&(S({type:"editData",payload:[e.editData]}),S({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,r.useImperativeHandle)(t,(()=>({AddOpen:e=>{l.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const k=e=>{document.getElementById("divPPMStaffTrackDetailsRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistryEntryTable").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainEntry").style.display="block",document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry").style.display="none"};(0,r.useEffect)((()=>{g((e=>{(0,oe.Z)(1).then((e=>{var t=new Array;t.push(e),S({type:"token",payload:t}),y(t.length),I(e)}))}))}),[]);const I=e=>{(0,be.Z)(e,545).then((e=>S({type:"AccessRights",payload:e})))};return i().createElement("div",{style:{width:"100%"}},i().createElement(Re.Provider,{value:{cstate:P,cdispatch:S,ContextApi:xe,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>a.current.tableRefresh(),searchItem:e=>{0!==p&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,T),v([])},EditClose:e=>k(),AttachExpand:e=>(c.current.AttachmentData(P.PrimaryId),void(o&&(document.getElementById("overlayPreviewPPMStaffTrackDetailsRegistry").style.width="50%",document.getElementById("divPPMStaffTrackDetailsRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainTable").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackDetailsRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry").style.display="block",document.getElementById("overlayimgAttPPMStaffTrackDetailsRegistry").style.width="25%"))),Expanded:e=>{P.ShowDetail&&s.current.tableClick(e),S({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{P.ShowDetail&&s.current.viewtoggle()},clear:e=>{S({type:"ShowDetail",payload:!1}),S({type:"editData",payload:[]}),P.ShowDetail?s.current.clear(e):l.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{P.ShowDetail?s.current.tableClick(!1):l.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-MainDiv",className:"MainDivStyles displayFlex"},i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-MainEntry",className:"",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"PPMStaffTrackDetailsRegistryEntryTable",style:{width:"100%"}},P.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divPPMStaffTrackDetailsRegistry-Entry",style:{width:"100%"}},0!==p?i().createElement(Me,{ref:s,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),i().createElement(Ne.Z,{ref:d,menurefID:539,fileId:"LogoImgPPMStaffTrackDetailsRegistry",imgloading:t=>{t||P.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:P.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewPPMStaffTrackDetailsRegistry",frmctrlid:"PvwIm_539_L1_",tempImg:e=>{P.PrimaryId?c.current.AttachmentData(P.PrimaryId):c.current.tempImg(e),v(e)},clearTempData:P.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divPPMStaffTrackDetailsRegistry-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(Ie,{ref:l,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),i().createElement(Ne.Z,{ref:d,menurefID:539,fileId:"LogoImgPPMStaffTrackDetailsRegistry",imgloading:t=>{t||P.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:P.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewPPMStaffTrackDetailsRegistry",frmctrlid:"PvwIm_539_L1_",tempImg:e=>{P.PrimaryId?c.current.AttachmentData(P.PrimaryId):c.current.tempImg(e),v(e)},clearTempData:P.Add})),i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-MainTable"},0!==p?i().createElement(se,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),i().createElement(Ce.Z,{ImgAttachment:e=>k(),menurefID:539,fileId:"AttImgPPMStaffTrackDetailsRegistry",imgid:"overlayimgAttPPMStaffTrackDetailsRegistry",valueIDPK:P.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMStaffTrackDetailsRegistry",ref:c,imgloading:f,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_539_L1_",timglist:e=>d.current.timglist(e),clearTempData:P.Add}))),i().createElement("div",{id:"PPMStaffTrackDetailsRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},71006:(t,a,l)=>{l.r(a),l.d(a,{default:()=>F,saveComponent:()=>O,trimFunc:()=>B});var r=l(92950),i=l.n(r),n=l(45237),s=l(36939),c=l(61201),d=l(50743),o=(l(3212),l(10966),l(30553)),m=(l(99090),l(44528),l(37148)),f=l(61956),u=l(51673),g=(l(96071),l(14439)),p=l(27848),y=l(49174),P=l(38773),S=(l(19089),l(1695)),E=(l(13235),l(61924)),D=l.n(E),T=l(26537),v=l(40900),k=(l(35131),l(55490)),I=(l(2493),l(92371));l(82729),l(75355),l(11107),l(40826);const h={EnterKeyValues:{PPMStaffTrackRegistry:["PPMStaffTrackCode","StaffTime","EndTime","WorkOrderDate","WorkOrderNo","FirstName1","FirstName2","FirstName3","WorkOrder"]},Label:{PPMStaffTrackRegistry:{PPMStaffTrackCode:["PPMStaffTrackCode"],StaffTime:["PPMStaffTrackCode"],EndTime:["PPMStaffTrackCode"],WorkOrderDate:["PPMStaffTrackCode"],WorkOrderNo:["PPMStaffTrackCode"],EmployeeID1:["PPMStaffTrackCode"],EmployeeID2:["PPMStaffTrackCode"],EmployeeID3:["PPMStaffTrackCode"],PPMCreationAssetID:["PPMStaffTrackCode"]}},LabelHeader:{PPMStaffTrackRegistry:{PPMStaffTrackCode:["PPM Staff Track Code"],StaffTime:["PPM Staff Track Code"],EndTime:["PPM Staff Track Code"],WorkOrderDate:["PPM Staff Track Code"],WorkOrderNo:["PPM Staff Track Code"],EmployeeID1:["PPMStaffTrackCode"],EmployeeID2:["PPMStaffTrackCode"],EmployeeID3:["PPMStaffTrackCode"],PPMCreationAssetID:["PPMStaffTrackCode"]}},Property:{PPMStaffTrackRegistry:{PPMStaffTrackCode:{id:"fld540_10738",labelID:"PPMStaffTrackCode",maxLength:"50",labelname:"PPM Staff Track Code",frmctrlid:"fld540_10738",frmctrlidname:"PPMStaffTrackCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},StaffTime:{id:"fld540_10739",labelID:"StaffTime",maxLength:"",labelname:"Staff Time",frmctrlid:"fld540_10739",frmctrlidname:"StaffTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EndTime:{id:"fld540_10740",labelID:"EndTime",maxLength:"",labelname:"End Time",frmctrlid:"fld540_10740",frmctrlidname:"EndTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},WorkOrderDate:{id:"fld540_10741",labelID:"WorkOrderDate",maxLength:"",labelname:"Work Order Date",frmctrlid:"fld540_10741",frmctrlidname:"WorkOrderDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},WorkOrderNo:{id:"fld540_10742",labelID:"WorkOrderNo",maxLength:"-1",labelname:"Work Order No",frmctrlid:"fld540_10742",frmctrlidname:"WorkOrderNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EmployeeID1:{id:"fld540_10743",clearID:"PPMStaffTrackRegistryFirstName1Clear",type:"select",labelID:"EmployeeID1PK",labelname:"",fielddisplayname:"FirstName1",fieldOrder:"2",frmctrlid:"fld540_10743",frmctrlidname:"EmployeeID1",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},EmployeeID2:{id:"fld540_10744",clearID:"PPMStaffTrackRegistryFirstName2Clear",type:"select",labelID:"EmployeeID2PK",labelname:"",fielddisplayname:"FirstName2",fieldOrder:"3",frmctrlid:"fld540_10744",frmctrlidname:"EmployeeID2",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},EmployeeID3:{id:"fld540_10745",clearID:"PPMStaffTrackRegistryFirstName3Clear",type:"select",labelID:"EmployeeID3PK",labelname:"",fielddisplayname:"FirstName3",fieldOrder:"4",frmctrlid:"fld540_10745",frmctrlidname:"EmployeeID3",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMCreationAssetID:{id:"fld540_10746",clearID:"PPMStaffTrackRegistryWorkOrderClear",type:"select",labelID:"PPMCreationAssetIDPK",labelname:"PPMCreationAssetCode",fielddisplayname:"WorkOrder",fieldOrder:"1",frmctrlid:"fld540_10746",frmctrlidname:"PPMCreationAssetID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMStaffTrackRegistry:{PPMCreationAssetID:["WorkOrder","WoDateTime","AssetName","ContractName","LocalityName","BuildingName","FloorName","SpotName","DivisionName","DisciplineName","FrequencyName"]}}};l(42258),l(97829);var M=l(40846),C=l(8981),N=l(63163),b=l(45155),w=l(63750),R=l(51649);const x={},A=(0,r.forwardRef)(((t,a)=>{(0,n.useSelector)((e=>e.form));const[l,E]=(0,r.useState)(!1),[A,F]=(0,r.useState)(!0),[B,L]=(0,r.useState)(!1),[Z,z]=(0,r.useState)(!1),[_,V]=(0,r.useState)(!1),[K,W]=(0,r.useState)(!1),[G,H]=(0,r.useState)([]),[j,U]=(0,r.useState)(null),[Y,$]=(0,r.useReducer)(I.Z,x),[J,q]=(0,r.useState)(!1),[Q,X]=(0,r.useState)([]),[ee,te]=(0,r.useState)(0),[ae,le]=(0,r.useState)(""),[re,ie]=(0,r.useState)(!0),[ne,se]=(0,r.useState)(""),[ce,de]=(0,r.useState)(""),[oe,me]=(0,r.useState)(""),[fe,ue]=(0,r.useState)(!0),ge=(0,r.useContext)(M.PPMStaffTrackRegistryContext),{cstate:pe,cdispatch:ye}=(0,M.ContextApi)(),[Pe]=(0,r.useState)(localStorage.getItem("Language")),[Se]=(0,r.useState)(localStorage.getItem("Language")),[Ee,De]=(0,r.useState)([]),[Te,ve]=(0,r.useState)(null),[ke,Ie]=(0,r.useState)(!1),[he,Me]=(0,r.useState)(""),Ce=(0,r.useRef)(null),[Ne,be]=(0,r.useState)(!1);let we=(0,C.Z)(),Re=formmultilingual();(0,r.useEffect)((()=>{pe.PrimaryId&&te(Number(pe.PrimaryId))}),[pe.PrimaryId]),(0,r.useEffect)((()=>{pe.editData.length<0&&(0,T.Z)(1).then((e=>{Ge(1,null,"SetDefaultPPMStaffTrackID",e)}))}),[]),(0,r.useEffect)((()=>{pe.editData.length>0?(Oe(pe.editData[0],""),z(!0)):pe.Add&&(te(0),z(!0))}),[pe.editData,pe.Add]),(0,r.useImperativeHandle)(a,(()=>({getAlert(e){z(!0),L(!1)},CreateEasyProps:(e=!0,t)=>{t?(Ye(t),z(e)):(Le(),z(e))},clear:()=>{Le()}})));const xe=e=>we?.[e]?we[e]:e,Ae=e=>Re?.[e]?Re[e]:e,Fe=e=>e?e.split("-").reverse().join("-"):null,Be=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},Oe=(e,a,l)=>{let r=e;V(r.IsDraft),ye({type:"EditIsDraft",payload:"1"==r.IsDraft}),"SetDefaultPPMStaffTrackID"==a?le(r.PPMStaffTrackIDPK):(te(t.primid?Number(t.primid):r.PPMStaffTrackIDPK),ye({type:"PrimaryId",payload:r.PPMStaffTrackIDPK})),$({type:"text",name:"PPMStaffTrackCode",value:r.PPMStaffTrackCode?r.PPMStaffTrackCode:""}),$({type:"text",name:"StaffTime",value:r.StaffTime?Be(r.StaffTime):null}),$({type:"text",name:"EndTime",value:r.EndTime?Be(r.EndTime):null}),$({type:"text",name:"WorkOrderDate",value:r.WorkOrderDate?Fe(r.WorkOrderDate):null}),$({type:"text",name:"WorkOrderNo",value:r.WorkOrderNo?r.WorkOrderNo:""}),$({type:"number",name:"EmployeeID1",number:r.EmployeeID1?Number(r.EmployeeID1):0}),$({type:"text",name:"FirstName1",value:r.FirstName1}),$({type:"number",name:"EmployeeID2",number:r.EmployeeID2?Number(r.EmployeeID2):0}),$({type:"text",name:"FirstName2",value:r.FirstName2}),$({type:"number",name:"EmployeeID3",number:r.EmployeeID3?Number(r.EmployeeID3):0}),$({type:"text",name:"FirstName3",value:r.FirstName3}),$({type:"number",name:"PPMCreationAssetID",number:r.PPMCreationAssetID?Number(r.PPMCreationAssetID):0}),$({type:"text",name:"WorkOrder",value:r.WorkOrder}),r.IsDraft?F(!0):F(!("1"!=r.IsActive&&!r.IsActive))},Le=()=>{H([]),te(0),le(""),ie(!0),ue(!0),ye({type:"PrimaryId",payload:""}),$({type:"text",name:"PPMStaffTrackCode",value:""}),$({type:"text",name:"StaffTime",value:null}),$({type:"text",name:"EndTime",value:null}),$({type:"text",name:"WorkOrderDate",value:null}),$({type:"text",name:"WorkOrderNo",value:""}),$({type:"text",name:"EmployeeID1",value:null}),$({type:"text",name:"FirstName1",value:""}),document.getElementById("PPMStaffTrackRegistryFirstName1Clear")&&document.getElementById("PPMStaffTrackRegistryFirstName1Clear").click(),$({type:"text",name:"EmployeeID2",value:null}),$({type:"text",name:"FirstName2",value:""}),document.getElementById("PPMStaffTrackRegistryFirstName2Clear")&&document.getElementById("PPMStaffTrackRegistryFirstName2Clear").click(),$({type:"text",name:"EmployeeID3",value:null}),$({type:"text",name:"FirstName3",value:""}),document.getElementById("PPMStaffTrackRegistryFirstName3Clear")&&document.getElementById("PPMStaffTrackRegistryFirstName3Clear").click(),$({type:"text",name:"PPMCreationAssetID",value:null}),$({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMStaffTrackRegistryWorkOrderClear")&&document.getElementById("PPMStaffTrackRegistryWorkOrderClear").click(),F(!0)},Ze=()=>{const e={...Y};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},ze=()=>{ge.ConfirmAlert(i().createElement(D(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:xe("Are you sure?"),onConfirm:()=>_e(),onCancel:()=>ge.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("Cancel"),showCancel:!0},pe.PrimaryId?xe("Do you want to Update?"):xe("Do you want to Save?")))},_e=(e,t)=>{ge.loading(!0),ge.ConfirmAlert(null),ye({type:"IsDraft",payload:!1}),O({url:v.v.Api+"FP540S2/",PrimID:ee,ParamType:e,state:Y,active:A,token:pe.token[0]}).then((t=>{const a=t[0].status;let l=t[0].Data,r=new Array,i=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(ge.alert({open:!0,color:"warning",message:i}),ge.loading(!1)):Ve(e)):(ge.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ge.loading(!1))}))},Ve=(e,a)=>{ie(!0),ue(!0),ge.loading(!0),ge.ConfirmAlert(null),O({url:v.v.Api+"FP540S1/",PrimID:ee,ParamType:e,state:Y,active:A,token:pe.token[0]}).then((a=>{const l=a[0].status;200==l.code?(ye({type:"PrimaryId",payload:a[0].Data.IDPK}),ge.AddOpen(a[0].Data.IDPK),"SetDefaultPPMStaffTrackID"==e?ge.alert({open:!0,color:"success",message:["Default Record Configured"]}):ge.alert({open:!0,color:"success",message:[l.message]}),ge.attachmentSave(a[0].Data.IDPK),ge.loading(!1),t.createEasy,ye({type:"EditOpen",payload:!1}),ye({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttPPMStaffTrackRegistry")&&(document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.display="none",document.getElementById("divPPMStaffTrackRegistry-Entry").style.width="100%"),document.getElementById("PPMStaffTrackRegistry-MainTable").style.display="none"):(ge.alert({open:!0,color:"warning",message:[l.message]}),ge.loading(!1),t.enableSave(!0)),t.clrImgstate(!0),"SetDefaultPPMStaffTrackID"==e&&(z(!0),Ge(1,null,"SetDefaultPPMStaffTrackID",pe.token[0]))}))};function Ke(e){return CreateEasy(e,pe,ye,ge,Ce),!1}function We(e,t){return AdvanceSearch(e,t,pe,ye,ge,je,a),!1}(0,r.useEffect)((()=>{z(pe.ExpandDetailValue)}),[pe.ExpandDetailValue]);const Ge=(e,t,a,l,r)=>{const i=v.v.Api+"FP540S3/",n={data:{}},s=Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{});q(!0);const c={data:s};return(0,u.Z)(i,"ClearAll"==a?c:n,"SetDefaultPPMStaffTrackID"==a&&l?l:pe.token[0]).then((t=>{const l=t.Output.status.code,i=t.Output.data;if("200"==l){const t=i.length;if(r)return i?i[0]:{};X(1==e?t>0?i:[]:Q.concat(i)),"SetDefaultPPMStaffTrackID"==a&&(t>0?Oe(i[0],"SetDefaultPPMStaffTrackID"):le("NORECORDS")),q(!1)}else ge.alert({open:!0,color:"warning",message:[t.Output.status.message]}),q(!1)}))},He=(e,t,a)=>{const l=v.v.Api+"FP540S3/",r={data:{}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};q(!0),(0,u.Z)(l,"ClearAll"==a?i:r,pe.token[0]).then((t=>{const l=t.Output.status.code,r=t.Output.data;if("200"==l){const t=r.length;1==e?("PPMStaffTrackCode"==a&&ie(t>0),"WorkOrderNo"==a&&ue(t>0),X(r)):("PPMStaffTrackCode"==a&&ie(!0),"WorkOrderNo"==a&&ue(!0),X(Q.concat(r))),q(!1)}else ge.alert({open:!0,color:"warning",message:[t.Output.status.message]}),q(!1)}))},je=(0,r.useCallback)((async(e,t,a)=>{"text"==a?$({type:a,name:t,value:e}):"number"==a?$({type:a,name:t,number:Number(e)}):"boolean"==a?$({type:a,name:t,boolean:e}):"date"==a&&$({type:"text",name:t,value:e})}),[Y]),Ue=e=>{ge.ConfirmAlert(i().createElement(D(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ye(e),onCancel:()=>ge.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("No"),showCancel:!0},xe("Do you want to update this record?")))};function Ye(e){ge.ConfirmAlert(null),V(e.IsDraft),t.createEasy||(ye({type:"editData",payload:[e]}),ye({type:"PrimaryId",payload:e.PPMStaffTrackIDPK})),te(Number(e.PPMStaffTrackIDPK)),$({type:"text",name:"PPMStaffTrackCode",value:e.PPMStaffTrackCode}),$({type:"text",name:"StaffTime",value:Be(e.StaffTime)}),$({type:"text",name:"EndTime",value:Be(e.EndTime)}),$({type:"text",name:"WorkOrderDate",value:Fe(e.WorkOrderDate)}),$({type:"text",name:"WorkOrderNo",value:e.WorkOrderNo}),$({type:"number",name:"EmployeeID1",number:Number(e.EmployeeID1)}),$({type:"text",name:"FirstName1",value:e.FirstName1}),$({type:"number",name:"EmployeeID2",number:Number(e.EmployeeID2)}),$({type:"text",name:"FirstName2",value:e.FirstName2}),$({type:"number",name:"EmployeeID3",number:Number(e.EmployeeID3)}),$({type:"text",name:"FirstName3",value:e.FirstName3}),$({type:"number",name:"PPMCreationAssetID",number:Number(e.PPMCreationAssetID)}),$({type:"text",name:"WorkOrder",value:e.WorkOrder})}const $e=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(s.Z,{expanded:Z,onChange:e=>{}},i().createElement(d.Z,null,i().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},!t.createEasy&&i().createElement("span",{style:{cursor:"pointer"}},i().createElement(R.u1R,{className:"backButtonList",onClick:()=>ge.ShowTableDiv()})),i().createElement("p",{id:"fld540L3ECListP",className:"ListP",onClick:()=>pe.ExpandTableValue&&z(!Z)},ee?"Edit ":"New ",Ae("PPMStaffTrackRegistry")," (",pe.count,")")),Z&&i().createElement("div",{className:"displayFlex EntryHeaderBtn"},pe.AccessRights.IsDelete&&i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(o.Z,{labelPlacement:"bottom",frmctrlid:"fld540L3ECEntryCheckbox",control:i().createElement(N.Z,{checked:"1"==A,onChange:e=>F(e.target.checked)}),label:xe(1==A?"Active":"In Active")}))),t.createEasy||ee||!pe.AccessRights.IsAdd||!ae&&"NORECORDS"!=ae?!t.createEasy&&!ee&&i().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ge(1,null,"SetDefaultPPMStaffTrackID",pe.token[0])},id:"fld540L3ECSetDefaultBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(w.j39,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Get Default"))):i().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ve("SetDefaultPPMStaffTrackID",!0)},id:"fld540L3ECSetDefaultBtnIsAdd"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(w.j39,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Set Default"))),!t.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{ge.AttachExpand(!0)},id:"fld540L3ECAttachment",disableRipple:!0,disabled:!ee},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",null,i().createElement(b.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Attach"))),!t.createEasy&&(!ee||!pe.editData.length>0)&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Le()},id:"fld540L3ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(b.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Reset"))),pe.AccessRights.IsAdd&&i().createElement(S.Z,{name:ee?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return e=ee?"update":"next",$e(Y.PPMStaffTrackCode)?Y.PPMCreationAssetID&&0!=Y.PPMCreationAssetID?void("next"==e?function(e,a,l,r){if(Ze().length>0){ie(!0),ue(!0),ge.loading(!0),ge.ConfirmAlert(null),ye({type:"IsDraft",payload:!1});const e=v.v.Api+"FP540S1/",a={data:[{}]};(0,T.Z)(0).then((l=>{(0,f.Z)(e,a,l).then((e=>{const a=e[0].status;200==a.code?(ge.alert({open:!0,color:"success",message:["Saved to Draft"]}),ye({type:"EditIsDraft",payload:!0}),ge.attachmentSave(e[0].Data.IDPK),ge.loading(!1),Le(),t.clrImgstate(!0),ge.AddOpen(e[0].Data.IDPK,"1")):(ge.alert({open:!0,color:"warning",message:[a.message]}),ge.loading(!1))}))}))}else ge.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():ze(e)):(ge.alert({open:!0,color:"warning",message:[xe("Please select the ")+" "+Ae("PPMCreationAssetID")]}),!1):(ge.alert({open:!0,color:"warning",message:[xe("Please enter the")+""+Ae("PPMStaffTrackCode")]}),!1);var e}}),ee?i().createElement(m.Z,{disabled:!1,frmctrlid:"fld540L3ECCloseBtn",onClick:()=>{ge.detailview(!0,ee)}}):null))),i().createElement(c.Z,null,pe.AccessRights.IsAdd?null:pe.AccessRights.IsEdit?!pe.PrimaryId&&i().createElement("div",{className:"divdisable"}):i().createElement("div",{className:"divdisable"}),i().createElement("div",{id:"PPMStaffTrackRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"PPMStaffTrackRegistry-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"PPMStaffTrackRegistry-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(g.Z,{spacing:2},i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(k.Z,{"data-testid":Y.PPMStaffTrackCode,json:h,SPName:"PPMStaffTrackRegistry",FieldName:"PPMStaffTrackCode",tfLabel:Ae("PPMStaffTrackCode"),EnterSave:e=>{e&&t.submitConfirmation(e)},onSelect:e=>!t.createEasy&&Ue(e),onClick:()=>{re&&He(1,0,"ClearAll"),ie(!0)},frmctrlid:"fld540_10738",frmctrlidName:"PPMStaffTrackCode",fieldorder:"1",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,onChange:(e,t)=>{re&&He(e,0,"PPMStaffTrackCode"),je(t,"PPMStaffTrackCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:Y.PPMStaffTrackCode,loading:J,clear:e=>{e&&($({type:"text",name:"PPMStaffTrackCode",value:""}),ie(!0))}})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},i().createElement(P.Z,{label:i().createElement("span",null,xe("StaffTime")),"data-testid":Y.StaffTime,onErr:e=>{se(e)},value:Y.StaffTime,onChange:t=>{je(e,"StaffTime","date")},tfLabel:Ae("StaffTime"),frmctrlid:"fld540_10739",frmctrlidName:"StaffTime",fieldorder:"2"})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},i().createElement(P.Z,{label:i().createElement("span",null,xe("EndTime")),"data-testid":Y.EndTime,onErr:e=>{de(e)},value:Y.EndTime,onChange:t=>{je(e,"EndTime","date")},tfLabel:Ae("EndTime"),frmctrlid:"fld540_10740",frmctrlidName:"EndTime",fieldorder:"3"})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},i().createElement(y.Z,{value:Y.WorkOrderDate,"data-testid":Y.WorkOrderDate,disabled:!1,label:i().createElement("span",null,Ae("WorkOrderDate")),onChange:e=>{je(e,"WorkOrderDate","date")},onErr:e=>{me(e)},tfLabel:Ae("WorkOrderDate"),frmctrlid:"fld540_10741",frmctrlidName:"WorkOrderDate",fieldorder:"4"})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(k.Z,{"data-testid":Y.WorkOrderNo,json:h,SPName:"PPMStaffTrackRegistry",FieldName:"WorkOrderNo",tfLabel:Ae("WorkOrderNo"),EnterSave:e=>{e&&t.submitConfirmation(e)},onSelect:e=>!t.createEasy&&Ue(e),onClick:()=>{fe&&He(1,0,"ClearAll"),ue(!0)},frmctrlid:"fld540_10742",frmctrlidName:"WorkOrderNo",fieldorder:"1",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,onChange:(e,t)=>{fe&&He(e,0,"WorkOrderNo"),je(t,"WorkOrderNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ue(!0)},showList:fe,SideEntryView:!1,KeyBack:e=>{},value:Y.WorkOrderNo,loading:J,clear:e=>{e&&($({type:"text",name:"WorkOrderNo",value:""}),ue(!0))}})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(k.Z,{json:h,id:Y.EmployeeID1,"data-testid":Y.EmployeeID1,value:Y.FirstName1,SPName:"PPMStaffTrackRegistry",FieldName:"EmployeeID1",tfLabel:Ae("EmployeeID1"),EnterSave:e=>{e&&t.submitConfirmation(e)},SideEntryView:!1,onSelect:e=>je(e,"EmployeeID1","select"),onChange:(e,t)=>{Ge(e,t,"EmployeeID1PK")},KeyBack:e=>{},fieldorder:"2",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,openSlide:()=>{Ke("197")},Tabledialog:()=>We("197","EmployeeID1"),loading:J,clear:e=>{}})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(k.Z,{json:h,id:Y.EmployeeID2,"data-testid":Y.EmployeeID2,value:Y.FirstName2,SPName:"PPMStaffTrackRegistry",FieldName:"EmployeeID2",tfLabel:Ae("EmployeeID2"),EnterSave:e=>{e&&t.submitConfirmation(e)},SideEntryView:!1,onSelect:e=>je(e,"EmployeeID2","select"),onChange:(e,t)=>{Ge(e,t,"EmployeeID2PK")},KeyBack:e=>{},fieldorder:"3",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,openSlide:()=>{Ke("197")},Tabledialog:()=>We("197","EmployeeID2"),loading:J,clear:e=>{}})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(k.Z,{json:h,id:Y.EmployeeID3,"data-testid":Y.EmployeeID3,value:Y.FirstName3,SPName:"PPMStaffTrackRegistry",FieldName:"EmployeeID3",tfLabel:Ae("EmployeeID3"),EnterSave:e=>{e&&t.submitConfirmation(e)},SideEntryView:!1,onSelect:e=>je(e,"EmployeeID3","select"),onChange:(e,t)=>{Ge(e,t,"EmployeeID3PK")},KeyBack:e=>{},fieldorder:"4",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,openSlide:()=>{Ke("197")},Tabledialog:()=>We("197","EmployeeID3"),loading:J,clear:e=>{}})),i().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(k.Z,{json:h,id:Y.PPMCreationAssetID,"data-testid":Y.PPMCreationAssetID,value:Y.WorkOrder,SPName:"PPMStaffTrackRegistry",FieldName:"PPMCreationAssetID",tfLabel:Ae("PPMCreationAssetID"),EnterSave:e=>{e&&t.submitConfirmation(e)},SideEntryView:!1,onSelect:e=>je(e,"PPMCreationAssetID","select"),onChange:(e,t)=>{Ge(e,t,"PPMCreationAssetIDPK")},KeyBack:e=>{},fieldorder:"1",data:Q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Q.length>0?Q[0].TotalCount:0,openSlide:()=>{Ke("468")},Tabledialog:()=>We("468","PPMCreationAssetID"),loading:J,clear:e=>{}})))),i().createElement("div",{id:"PPMStaffTrackRegistrySideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMStaffTrackRegistrySideBar").style.width="0",void W(!1))},"×"),K&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},j))))))))})),F=A,B=e=>"string"==typeof e?e.trim():e;function O(e){const{url:t,PrimID:a,ParamType:l,state:r,active:i,token:n}=e;return(0,f.Z)(t,{data:[{}]},n).then((e=>e))}},40846:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>y,PPMStaffTrackRegistryContext:()=>p,default:()=>P});var l=a(92950),r=a.n(l),i=a(45237),n=a(2410),s=a(85294),c=a(71006),d=a(67698),o=a(55995),m=a(26537),f=(a(35131),a(45965)),u=a(73668),g=(a(37274),a(67334));const p=(0,l.createContext)();function y(){const e=r().useContext(p);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const P=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),P=(0,l.useRef)(),S=(0,l.useRef)(),E=(0,l.useRef)(),D=(0,l.useRef)(),T=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)()),[v,k]=(0,l.useState)(0),[I,h]=r().useReducer(u.I,u.E),[M,C]=(0,l.useState)(""),[N,b]=(0,l.useState)(""),[w,R]=(0,l.useState)([]),x=(0,l.useRef)();function A(e){h({type:"IsExPView",payload:!0}),h({type:"IsCollapse",payload:!1}),document.getElementById("PPMStaffTrackRegistry-MainTable").style.margin="0",document.getElementById("divPPMStaffTrackRegistry-Entry").style.margin="0",document.getElementById("divPPMStaffTrackRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainTable").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.display="none",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayGrid"),h({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttPPMStaffTrackRegistry")&&(document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.width="0%",document.getElementById("overlayPreviewPPMStaffTrackRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),A(),h({type:"IsDraft",payload:!1}),h({type:"ShowDetail",payload:!1}),h({type:"Add",payload:!0}),h({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&h({type:"editData",payload:[e.editData]})}),[e.editData]);const F=t=>{I.IsCollapse?(document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divPPMStaffTrackRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.display="block",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.display="none"):(document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.width="0%",document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.display="none",document.getElementById("divPPMStaffTrackRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainTable").style.width="auto",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{T((e=>{(0,m.Z)(1).then((e=>{var t=new Array;t.push(e),h({type:"token",payload:t}),k(t.length),B(e)}))}))}),[]);const B=e=>{(0,f.Z)(e,540).then((e=>h({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(h({type:"ShowDetail",payload:!0}),h({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),r().createElement("div",null,r().createElement(p.Provider,{value:{cstate:I,cdispatch:h,ContextApi:y,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>A(),viewtoggle:()=>{I.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>{return a=e,h({type:"IsCollapse",payload:!0}),document.getElementById("PPMStaffTrackRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divPPMStaffTrackRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("PPMStaffTrackRegistry-MainTable").style.width="0%",document.getElementById("PPMStaffTrackRegistry-MainTable").style.display="none",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.display="block",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayGrid"),h({type:"ExpandDetailValue",payload:!0}),h({type:"PrimaryId",payload:""}),t.current.clear(),void(a&&D.current.AddClose());var a},AttachExpand:t=>(P.current.AttachmentData(I.PrimaryId),void(I.ExpandTableValue?(document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.width="28%",document.getElementById("divPPMStaffTrackRegistry-Entry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainTable").style.width="auto",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.display="block"):(document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.display="block",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.width="28%",document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.display="block"))),RefreshTable:()=>{E.current.tableRefresh()},floatRefresh:()=>x.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttPPMStaffTrackRegistry").style.display="none",attachmentSave:e=>{S.current.tempsave(e,N),b([])},detailview:(e,t)=>{E.current.viewrecord(t),h({type:"ShowDetail",payload:e}),h({type:"EditOpen",payload:!0}),I.ShowDetail&&a.current.viewtoggle()},clear:e=>{I.ShowDetail?(h({type:"ShowDetail",payload:!1}),h({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:e=>{t.current.ScreenValue(e)},AddOpen:(e,t)=>((e,t)=>{h({type:"ShowDetail",payload:!0}),h({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&D.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(h({type:"ShowDetail",payload:!1}),h({type:"ExpandTableValue",payload:!0}),E.current.tableRefresh(),document.getElementById("PPMStaffTrackRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divPPMStaffTrackRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("PPMStaffTrackRegistry-MainTable").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainTable").style.display="block",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="0%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.display="none",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackRegistryTabDiv").style.width="100%",document.getElementById("PPMStaffTrackRegistryFilterDiv").style.display="none",void(document.getElementById("PPMStaffTrackRegistryFilterDiv").style.width="0%"))}},r().createElement("div",{id:"PPMStaffTrackRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!I.ExpandTableValue&&r().createElement("div",{id:"PPMStaffTrackRegistry-MainTable",className:"Maincontent"},0!==v?r().createElement(n.default,{ref:E}):null),r().createElement("div",{id:"PPMStaffTrackRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},I.ShowDetail?r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMStaffTrackRegistry-Entry",style:{width:"100%",display:"flex"}},r().createElement(s.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:I.PrimaryId,ref:a}),r().createElement("div",{style:{width:"70%"}},r().createElement(g.ZP,{ref:D,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:I.editData,AddOpen:I.EditOpen,parentId:I.PrimaryId,IsDraft:I.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:I.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),r().createElement(o.Z,{ref:S,menurefID:540,fileId:"LogoImgPPMStaffTrackRegistry",imgloading:e=>C(e),valueIDPK:I.PrimaryId,AttachmentVal:e=>P.current.AttachmentData(e),previd:"overlayPreviewPPMStaffTrackRegistry",AccessRights:I.AccessRights,frmctrlid:"PvwIm_540_L3_",formCtrlIDSave:"attachsave1163",formCtrlIDClose:"attachclose1163",tempImg:e=>{I.PrimaryId?P.current.AttachmentData(I.PrimaryId):P.current.tempImg(e),b(e)},clearTempData:I.Add})),r().createElement(d.Z,{ImgAttachment:e=>F(),menurefID:540,fileId:"AttImgPPMStaffTrackRegistry",imgid:"overlayimgAttPPMStaffTrackRegistry",valueIDPK:I.PrimaryId,PriviewData:(e,t,a,l)=>{S.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMStaffTrackRegistry",ref:P,imgloading:M,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_540_L3_",timglist:e=>S.current.timglist(e)})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMStaffTrackRegistry-Entry",style:{width:"100%"}},r().createElement(c.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>P.current.clrImgstate(e),triggerAttSelect:e=>P.current.triggerAttSelect(e)}),r().createElement(g.ZP,{ref:D,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:I.editData,AddOpen:I.EditOpen,parentId:I.PrimaryId,IsDraft:I.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:I.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),r().createElement(o.Z,{ref:S,menurefID:540,fileId:"LogoImgPPMStaffTrackRegistry",imgloading:e=>C(e),valueIDPK:I.PrimaryId,AttachmentVal:e=>P.current.AttachmentData(e),previd:"overlayPreviewPPMStaffTrackRegistry",FormCtrlIDSave:"attachsave1163",FormCtrlIDClose:"attachclose1163",tempImg:e=>{I.PrimaryId?P.current.AttachmentData(I.PrimaryId):P.current.tempImg(e),b(e)},clearTempData:I.Add})),r().createElement(d.Z,{ImgAttachment:e=>F(),menurefID:540,fileId:"AttImgPPMStaffTrackRegistry",imgid:"overlayimgAttPPMStaffTrackRegistry",valueIDPK:I.PrimaryId,PriviewData:(e,t)=>{S.current.PriviewItem(e,t)},previd:"overlayPreviewPPMStaffTrackRegistry",ref:P,imgloading:M,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_540_L3_",timglist:e=>S.current.timglist(e),clearTempData:I.Add}))),I.ExpandTableValue&&r().createElement("div",{id:"PPMStaffTrackRegistry-MainTable",className:"Maincontent"},0!==v?r().createElement(n.default,{ref:E}):null),r().createElement("div",{id:"PPMStaffTrackRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}},2410:(e,t,a)=>{a.r(t),a.d(t,{PPMStaffTrackRegistryPopUpTable:()=>Z,default:()=>L}),a(95866);var l=a(92950),r=a.n(l),i=a(45237),n=a(36939),s=a(61201),c=a(50743),d=a(80366),o=a(51673),m=a(74445),f=a(54180),u=a(47516),g=a(39327),p=(a(14439),a(27848),a(42258),a(40900)),y=a(40846);a(83032),a(44117);var P=a(43031),S=a(110),E=a(88995),D=a(5109),T=a(61657),v=a(868),k=a(24038),I=a(51209),h=a(8981),M=a(3212),C=a(86893),N=a(53854),b=a(51649),w=a(5434),R=a(67334),x=a(71168),A=a(65107),F=a(79352),B=a(94986),O=a(15999);window.clickFilter="";const L=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),L=((0,l.useRef)(null),(0,l.useRef)(null)),[Z]=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[z]=(0,l.useState)("540"),[_,V]=(0,l.useState)(!1),[K,W]=(0,l.useState)(!1),[G,H]=(0,l.useState)(0),[j,U]=(0,l.useState)(0),[Y,$]=(0,l.useState)(0),[J,q]=(0,l.useState)({current:1,pageSize:10}),[Q,X]=(0,l.useState)(""),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)({val:"",column:""}),[re,ie]=(0,l.useState)([]),[ne,se]=(0,l.useState)(!1),[ce,de]=(0,l.useState)(""),[oe,me]=(0,l.useState)(""),[fe,ue]=(0,l.useState)(!1),[ge,pe]=(0,l.useState)(!1),[ye,Pe]=(0,l.useState)([]),[Se,Ee]=(0,l.useState)([]),[De,Te]=(0,l.useState)([]),[ve,ke]=(0,l.useState)(!1),Ie=(0,l.useContext)(y.PPMStaffTrackRegistryContext),{cstate:he,cdispatch:Me}=(0,y.ContextApi)(),[Ce,Ne]=(0,l.useState)({children:[{name:"PPMStaffTrackRegistry",children:[]}]}),[be,we]=(0,l.useState)(!1);let Re={};const[xe,Ae]=(0,l.useState)(Re),[Fe,Be]=(0,l.useState)(Re),[Oe,Le]=(0,l.useState)(Re),[Ze,ze]=(0,l.useState)(Re),[_e,Ve]=(0,l.useState)("asc"),[Ke,We]=(0,l.useState)(""),[Ge,He]=(0,l.useState)(!1),[je,Ue]=(0,l.useState)(!0),[Ye,$e]=(0,l.useState)(!0),[Je,qe]=(0,l.useState)(!1),[Qe,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({PPMStaffTrackCode:"",StaffTime:"",EndTime:"",WorkOrderDate:"",WorkOrderNo:"",FirstName1:"",FirstName2:"",FirstName3:"",WorkOrder:""}),[rt,it]=(0,l.useState)(!1),[nt,st]=(0,l.useState)([]),[ct,dt]=(0,l.useState)(0),[ot,mt]=(0,l.useState)(0),[ft,ut]=(0,l.useState)({current:1,pageSize:10}),[gt,pt]=(0,l.useState)([]),[yt,Pt]=(0,l.useState)([]),[St,Et]=(0,l.useState)(!1),[Dt]=(0,l.useState)(localStorage.getItem("Language")),[Tt]=(0,l.useState)(localStorage.getItem("Language")),vt=[{columns:gt,data:Q}];let kt=(0,h.Z)(),It=formmultilingual();const ht=e=>kt?.[e]?kt[e]:e;(0,l.useEffect)((()=>{wt(x.UserGridViewData)}),[JSON.stringify(x.UserGridViewData.filter((e=>e.FormID==z)))]),(0,l.useEffect)((()=>{he.token.length>0&&(he.IsDraft?Nt(J,Re,"DraftPPMStaffTrackID"):Nt(J,Re,"PPMStaffTrackID"))}),[]),(0,l.useEffect)((()=>{ge||ve||be||!ce?ge?Be(ce):ve?Le(ce):be&&ze(ce):he.IsDraft?Nt(J,ce,"DraftPPMStaffTrackID"):Nt(J,ce,"PPMStaffTrackID")}),[ce]),(0,l.useEffect)((()=>{!1===e.cardview&&Xe(e.cardview),e.Dialogview&&W(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:J.current,pageSize:J.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Mt()},viewrecord:e=>{re.map(((t,a)=>{t.PPMStaffTrackIDPK==e&&Me({type:"editData",payload:[re[a]]})}))}})));const Mt=()=>{he.IsDraft?Nt(J,Re,"DraftPPMStaffTrackID"):Nt(J,Re,"PPMStaffTrackID")};function Ct(e){Ie.loading(!0);let t=p.v.Api+"FP540S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(t,a,he.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,mt(t.Output.data[0].TotalCount)):(a=0,Ie.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ie.loading(!1)),10==e.pageSize?dt(Math.ceil(a)):20==e.pageSize?dt(Math.ceil(a/2)):50==e.pageSize?dt(Math.ceil(a/5)):100==e.pageSize&&dt(Math.ceil(a/10)),st(t.Output.data),Ie.loading(!1)}}))}const Nt=(e,t,a,l,r,i)=>{Ie.loading(!0),"DraftPage"!==l&&He(he.IsDraft);let n=p.v.Api+"FP540S3/";(0,o.Z)(n,{data:{}},he.token[0]).then((r=>{if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let t=0;r.Output.data.length>0?(t=parseFloat(r.Output.data[0].TotalCount,10)/10,U(r.Output.data[0].TotalCount),Me({type:"count",payload:r.Output.data[0].TotalCount}),$(r.Output.data[0].DraftCnt),"DraftPage"==l&&$(r.Output.data[0].TotalCount)):t=0,10==e.pageSize?H(Math.ceil(t)):20==e.pageSize?H(Math.ceil(t/2)):50==e.pageSize?H(Math.ceil(t/5)):100==e.pageSize&&H(Math.ceil(t/10)),he.ExpandTableValue&&(he.ExpandDetailValue?document.getElementById("PPMStaffTrackRegistry-MainTable").style.display="block":(document.getElementById("PPMStaffTrackRegistry-MainTable").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainEntry").style.width="100%",document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStaffTrackRegistry-MainDiv").classList.add("displayGrid"))),ie(r.Output.data),Ie.loading(!1),document.getElementById("divPPMStaffTrackRegistry-Entry").style.height="auto"}}else Ie.loading(!1),"DraftPPMStaffTrackID"===a?(Ie.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ue(!0),He(!1)):(ie([]),q({current:1,pageSize:10}),H(0),U(0),Me({type:"count",payload:0}),Object.values(t).some((e=>e))&&Ie.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ie.alert({open:!0,color:"warning",message:[r.Output.status.message]}),Ie.loading(!1)}))};function bt(e,t){Ie.loading(!0);const a=p.v.Api+"FP540S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Ge?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(a,l,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,U(e.Output.data[0].TotalCount),Me({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?H(Math.ceil(a)):20==t.pageSize?H(Math.ceil(a/2)):50==t.pageSize?H(Math.ceil(a/5)):100==t.pageSize&&H(Math.ceil(a/10)),ie(e.Output.data),Ie.loading(!1)}else ie([]),H(0),U(0),Me({type:"count",payload:0}),Ie.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ie.loading(!1);else Ie.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ie.loading(!1)}))}function wt(e){const t=e.filter((e=>e.FormID==z));let a=[],l=[],r=[];t.map((e=>{a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldName),r.push(e.FieldDescription))})),lt(l.reduce(((e,t)=>(e[t]="",e)),{})),Pe(t),Ee(a),Te(l),pt(r),Pt(l)}const Rt=(e,t,a)=>{Me({type:"IsDraft",payload:t}),Me({type:"EditOpen",payload:!1}),Me({type:"EditIsDraft",payload:t}),Ie.ExpandDetail(!1),a?Ie.AddOpen(e.PPMStaffTrackIDPK,t):Me({type:"editData",payload:[e]})},xt=()=>{ne?(document.getElementById("PPMStaffTrackRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMStaffTrackRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMStaffTrackRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),ge?(document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Qe?ve?(document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMStaffTrackRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMStaffTrackRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMStaffTrackRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMStaffTrackRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),ge?(document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Qe?ve?(document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMStaffTrackRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),ue(!1),window.clickFilter=!ne};return r().createElement("div",null,r().createElement(n.Z,{expanded:je,onChange:()=>()=>{Ue(Ye)}},r().createElement(c.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},r().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},r().createElement("div",{className:"displayFlex"},be||ge||!Ge?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"},`${(e=>It?.[e]?It[e]:e)("PPMStaffTrackRegistry")} (${j})`)):r().createElement("div",{className:"ListHeader displayFlex"},r().createElement(v.ZP,{title:"List",placement:"top"},r().createElement("div",{id:"fld540L3TCList",onClick:()=>{Ye||(Me({type:"Add",payload:!0}),Me({type:"Add",payload:!0})),Ie.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Nt({current:1,pageSize:10},Re,"PPMStaffTrackID"),He(!1),Me({type:"IsDraft",payload:!1})}),500)):(Nt({current:1,pageSize:10},Re,"PPMStaffTrackID"),He(!1),Me({type:"IsDraft",payload:!1})),q({current:1,pageSize:10})}},r().createElement(b.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},"Drafts(",j,")")))),r().createElement("div",{style:{display:"flex"}},ge||ve||be?null:r().createElement("div",{className:"searchbar",id:"fld540L3TCSearchBar"},r().createElement(k.Z,{className:"search_input",type:"text",id:"PPMStaffTrackRegistrygridsearch",placeholder:"Search",value:oe,onChange:e=>{if(me(e),"0"==e.length)return Nt(J,Re,Ge?"DraftPPMStaffTrackID":"PPMStaffTrackID",Ge&&"DraftPage"),!1;bt(e,{current:1,pageSize:10})}}),r().createElement("div",{className:"search_icon"},oe?r().createElement("div",{id:"fld540L3TCCloseIcon",onClick:()=>{me(""),Mt()}},r().createElement(d.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld540L3TCInputSearchIcon",onClick:()=>{document.getElementById("PPMStaffTrackRegistrygridsearch").focus()}},r().createElement(E.Z,{className:"InputSearchIcon"})))),r().createElement("div",{style:{marginLeft:"5px"}},he.AccessRights.IsAdd&&r().createElement(M.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>Ie.ExpandDetail(!0)}))))),r().createElement(s.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"PPMStaffTrackRegistry-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},!Ge&&r().createElement("div",{frmctrlid:"fld540L3TCFilterDataIsDraft",id:"PPMStaffTrackRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>xt()},r().createElement(v.ZP,{title:ht("Filter Data"),placement:"top"},r().createElement(u.Ol$,{className:"tableFilterColumnIcon"})),r().createElement("span",{className:"iconinfo"},ht("Filter Data"))),K||ge||be||Ge?null:r().createElement(f.Z,{title:"PPM Staff Track",formctrlidprint:"fld540L3TCExportPrint",formctrlidexport:"fld540L3TCExportTable",formctrlidrefresh:"fld540L3TCExportRefresh",data:ee,exportData:vt,Items:yt,columnIndex:gt,triggerApi:()=>{((e,t,l,r,i)=>{if(0===j)return Ie.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ie.loading(!0);let n=p.v.Api+"FP540S3/";(0,o.Z)(n,{data:{}},he.token[0]).then((e=>{if("200"==e.Output.status.code){if(e.Output.data.length>0&&e.Output.data.length>0){te(e.Output.data);let t=[];e.Output.data.map((e=>{let a=[];yt.map((t=>{a.push(e[t])})),t.push(a)})),X(t),a.current.PrintValue(),Ie.loading(!1)}}else Ie.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ie.loading(!1)}))})(0,ae.column)},Refresh:()=>{me(""),L.current.clearItem(),q({current:1,pageSize:10}),he.IsDraft?Nt({current:1,pageSize:10},Re,"DraftPPMStaffTrackID"):Nt({current:1,pageSize:10},Re,"PPMStaffTrackID")},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:a}),ge||ve||be||!Ye?null:!Ge&&he.AccessRights.IsAdd&&r().createElement("div",{id:"PPMStaffTrackRegistrycoldiv",className:"buttoncard",onClick:()=>{fe?(document.getElementById("PPMStaffTrackRegistryFilterDiv").style.width="0%",document.getElementById("PPMStaffTrackRegistryTabDiv").style.width="100%",document.getElementById("PPMStaffTrackRegistryFilterDiv").style.display="none",document.getElementById("PPMStaffTrackRegistrycoldiv").style.width="fit-content",document.getElementById("PPMStaffTrackRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ue(!1)):(document.getElementById("PPMStaffTrackRegistryFilterDiv").style.width="25%",document.getElementById("PPMStaffTrackRegistryTabDiv").style.width="75%",document.getElementById("PPMStaffTrackRegistryFilterDiv").style.display="block",document.getElementById("PPMStaffTrackRegistryfildiv").style.width="fit-content",document.getElementById("PPMStaffTrackRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMStaffTrackRegistrycoldiv").style.width="fit-content",document.getElementById("PPMStaffTrackRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ue(!0)),se(!1)}},r().createElement(v.ZP,{title:"{t('Manage Columns')}",placement:"top"},r().createElement("span",null,r().createElement(g.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld540L3TCFilterDataIsAdd"}))),r().createElement("span",{className:"iconinfo"},ht("Manage Columns"))),!Ge&&_&&!ge&&!be&&!K&&Ye&&r().createElement("div",{id:"fld540L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(v.ZP,{title:ht("Migration"),placement:"top"},r().createElement("span",null,r().createElement(F.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},ht("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!K&&Ye&&!be&&!ge&&!Ge&&r().createElement("div",null,r().createElement("div",{id:"PPMStaffTrackRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{rt?it(!1):(it(!0),Ct({current:1,pageSize:10}))}},r().createElement("div",{id:"fld540L3TCTableScrollData"},r().createElement(v.ZP,{title:ht("Table Scroll Data"),placement:"top"},r().createElement(O.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},ht("Table Scroll Data"))))),ge||ve||be||Ge?null:r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},be||Ge?null:r().createElement("div",null,Ye&&r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{id:"fld540L3TCListView",className:Qe?"buttonList":"buttonGrid",onClick:()=>{se(!0),Xe(!0),Et(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(N.umT,null)),r().createElement("span",null,"List")),r().createElement("div",{id:"fld540L3TCGridView",className:Qe||St?"buttonGrid":"buttonList",onClick:()=>{Xe(!1),Et(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(C.aCJ,null)),r().createElement("span",null,"Card")),r().createElement("div",{className:St?"buttonList":"buttonGrid",id:"fld540L3TCTileView",onClick:()=>{Et(!0),Xe(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.f_H,null)),r().createElement("span",null,"Tile"))))))),r().createElement("div",{id:"PPMStaffTrackRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMStaffTrackRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ne&&r().createElement(m.default,{CloseBtnClk:()=>xt(),searchData:e=>de(e),formID:z,data:()=>{},visibleData:()=>{},token:he.token[0],msg:(e,t)=>Ie.alert({open:!0,color:t,message:[e]})}),fe&&!ge&&!ve&&r().createElement(D.Z,{frmctrlid:"fld540L3TCTableColumnOrder",loading:e=>Ie.loading(e),AltMsg:(e,t)=>Ie.alert({open:!0,color:t,message:[e]}),select:fe,userID:Z,userGridViewFormID:z,saved:(e,t)=>{e&&wt(t)},Token:he.token[0]})),r().createElement("div",{id:"PPMStaffTrackRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},Qe?r().createElement("div",null,ge&&r().createElement(ListComponent,{onLoad:ge,data:(e,t)=>{!function(e,t){Me({type:"editData",payload:[e]}),se(!1),document.getElementById("PPMStaffTrackRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("PPMStaffTrackRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("PPMStaffTrackRegistry-ShareView").classList.remove("ViewBtnAct"),pe(!1),ke(!1),we(!1);let a={PPMStaffTrackCode:"",StaffTime:"",EndTime:"",WorkOrderDate:"",WorkOrderNo:"",EmployeeID1:"",EmployeeID2:"",EmployeeID3:"",PPMCreationAssetID:""};Ae(a),Nt({current:1,pageSize:10},a,"PPMStaffTrackID")}(e)},json:Fe}),!ge&&!be&&r().createElement("div",null,rt?r().createElement(B.Z,{data:nt,expanded:()=>{},edit:(e,t,a)=>{Rt(e,t,a),Ie.ExpandTable(!1),Me({type:"EditIsDraft",payload:t}),Me({type:"EditOpen",payload:!1})}}):r().createElement(A.Z,{ref:L,frmctrlid:"tblcs_540_L3_",id:"PPMStaffTrackRegistry-MainTable",headerdata:Se,tablesearchparams:at,searchvalue:e=>{lt(e),de(e),Nt(J,e,Ge?"DraftPPMStaffTrackID":"PPMStaffTrackID",Ge&&"DraftPage")},bodydata:re,ondrag:(e,t)=>{Rt(t,Ge,!0)},bodyitem:De,visibleitem:Se,isdraft:Ge,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:z,accessrights:he.AccessRights,expanded:()=>{},edit:Rt,viewtoggle:Ie.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return r().createElement(R.ZP,{loading:e=>Ie.loading(e),alertmsg:e=>Ie.alert(e),ConfirmAlert:e=>{Ie.ConfirmAlert(e)},data:he.editData,AddOpen:he.EditOpen,parentId:t.PPMStaffTrackIDPK,IsDraft:he.EditIsDraft,tableview:e})}}))):r().createElement(I.Z,{frmctrlid:"fld540L3TCExpandedCardDual",data:re,id:"PPMStaffTrackRegistry",title:"PPM Staff Track",cardTile:!!St,visibleitem:Se,gridCountmdlg:Ye?4:12,gridCountxssm:Ye?6:12,expanded:()=>{},edit:Rt,viewtoggle:Ie.viewtoggle,onDoubleClick:(e,t)=>{K?Ie.select(e):("edit"==t?(Me({type:"editData",payload:[e]}),Me({type:"IsDraft",payload:Ge}),Me({type:"ShowDetail",payload:!1}),Ie.ExpandDetail(!0)):(Me({type:"editData",payload:[e]}),Me({type:"IsDraft",payload:Ge}),Me({type:"ShowDetail",payload:!0}),Ie.ExpandDetail(!0),Ie.viewtoggle()),Ye&&(se(!1),ue(!1)))}})))))),ge||ve||be?null:Ye?rt?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(P.Z,{count:ct,color:"primary",page:ft.current,onChange:(e,t)=>{ut({current:t,pageSize:ft.pageSize}),dt(t),Ct({current:t,pageSize:ft.pageSize})}}),r().createElement("div",null,r().createElement(S.Z,{value:ft.pageSize,frmctrlid:"fld540L3TCSelectPagination",onChange:e=>{ut({current:1,pageSize:e.target.value}),Ct({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Ye&&r().createElement("p",{className:"per-page"},"/ per page Of (",ot,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(P.Z,{count:G,siblingCount:0,color:"primary",page:J.current,onChange:(e,t)=>{if(q({current:t,pageSize:J.pageSize}),Ge)Nt({current:t,pageSize:J.pageSize},ce,"DraftPPMStaffTrackID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";oe.length>0?bt(oe,{current:t,pageSize:J.pageSize}):Nt({current:t,pageSize:J.pageSize},ce,"PPMStaffTrackID")}}}),r().createElement("div",null,r().createElement(S.Z,{value:J.pageSize,frmctrlid:"fld540L3TCSelectPagination",onChange:e=>{q({current:1,pageSize:e.target.value}),Ge?Nt({current:1,pageSize:e.target.value},xe,"DraftPPMStaffTrackID","DraftPage"):oe.length>0?bt(oe,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},xe,"PPMStaffTrackID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Ye&&r().createElement("p",{className:"per-page "},"/ per page Of (",j,") ")):r().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},r().createElement(T.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(j),page:et,onPageChange:(e,t)=>{tt(t),Nt({current:t+1,pageSize:J.pageSize},Re,Ge?"DraftPPMStaffTrackID":"PPMStaffTrackID",Ge&&"DraftPage"),q({current:t+1,pageSize:J.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{tt(0)}})))})),Z=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),[d]=((0,i.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[u]=(0,l.useState)("540"),[g,E]=(0,l.useState)(!1),[D,T]=(0,l.useState)(0),[v,k]=(0,l.useState)(0),[I,h]=(0,l.useState)({current:1,pageSize:10}),[M,C]=(0,l.useState)(""),[N,b]=(0,l.useState)([]),[w,R]=(0,l.useState)({val:"",column:""}),[F,B]=(0,l.useState)([]),[O,L]=(0,l.useState)(!1),[Z,z]=(0,l.useState)(""),[_,V]=(0,l.useState)([]),[K,W]=(0,l.useState)([]),[G,H]=(0,l.useState)([]),j=(0,l.useContext)(y.PPMStaffTrackRegistryContext),{cstate:U,cdispatch:Y}=(0,y.ContextApi)();let $={};const[J,q]=(0,l.useState)(!1),[Q,X]=(0,l.useState)(!0),[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(0),[ne,se]=(0,l.useState)({PPMStaffTrackCode:"",StaffTime:"",EndTime:"",WorkOrderDate:"",WorkOrderNo:"",FirstName1:"",FirstName2:"",FirstName3:"",WorkOrder:""}),[ce,de]=(0,l.useState)([]),[oe,me]=(0,l.useState)([]),fe=[{columns:ce,data:M}];(0,l.useEffect)((()=>{ge({current:1,pageSize:10},Z,"PPMStaffTrackID")}),[Z]),(0,l.useEffect)((()=>{e.ApiParamType&&(h({current:1,pageSize:10}),$=e.ApiParamType.params,ge({current:1,pageSize:10},e.ApiParamType.params,"PPMStaffTrackID"))}),[e.ApiParamType]),(0,l.useEffect)((()=>{!function(e){const t=e.filter((e=>e.FormID==u));let a=[],l=[],r=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldName),r.push(e.FieldDescription)))})),se(l.reduce(((e,t)=>(e[t]="",e)),{})),V(t),W(a),H(l),de(r),me(l)}(x.UserGridViewData)}),[JSON.stringify(x.UserGridViewData.filter((e=>e.FormID==u))),e.ScriptType]),(0,l.useEffect)((()=>{e.SearchParams&&z(e.SearchParams)}),[e.SearchParams]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{ue()},viewrecord:e=>{F.map(((t,a)=>{t.PPMStaffTrackIDPK==e&&Y({type:"editData",payload:[F[a]]})}))},DialogTableProps:e=>{E(e)}}))),(0,l.useEffect)((()=>{!1===e.cardview&&le(e.cardview),e.Dialogview&&E(e.Dialogview)}),[e.cardview,e.Dialogview]);const ue=()=>{U.IsDraft?ge(I,$,"DraftPPMStaffTrackID"):ge(I,$,"PPMStaffTrackID")},ge=(t,a,l,r)=>{if(U.token[0]){if(j.loading(!0),"DraftPage"!==r&&q(U.IsDraft),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}let l=p.v.Api+`${e.ApiType}/`,i={data:{}};(0,o.Z)(l,i,U.token[0]).then((e=>{if(j.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,k(e.Output.data[0].TotalCount),Y({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?T(Math.ceil(a)):20==t.pageSize?T(Math.ceil(a/2)):50==t.pageSize?T(Math.ceil(a/5)):100==t.pageSize&&T(Math.ceil(a/10)),B(e.Output.data)}}else B([]),h({current:1,pageSize:10}),T(0),k(0),Y({type:"count",payload:0})}))}};return(0,l.useEffect)((()=>{te(U.ExpandTableValue)}),[U.ExpandTableValue]),r().createElement("div",null,r().createElement(n.Z,{expanded:Q,onChange:()=>()=>{X(ee)}},r().createElement(c.Z,null),r().createElement(s.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"PPMStaffTrackRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(f.Z,{formctrlidprint:"fld540L3TCExportPrint",formctrlidexport:"fld540L3TCExportTable",formctrlidrefresh:"fld540L3TCExportRefresh",title:"PPM Staff Track",data:N,exportData:fe,Items:oe,columnIndex:ce,triggerApi:()=>{((t,l)=>{if(0===v)return j.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;j.loading(!0);let r=p.v.Api+`${e.ApiType}/`;(0,o.Z)(r,{data:{}},U.token[0]).then((e=>{if(j.loading(!1),"200"==e.Output.status.code&&e.Output.data.length>0&&e.Output.data.length>0){b(e.Output.data);let t=[];e.Output.data.map((e=>{let a=[];oe.map((t=>{a.push(e[t])})),t.push(a)})),C(t),a.current.PrintValue()}}))})(e.ApiParamType.params,w.column)},Refresh:()=>{ge({current:1,pageSize:10},e.ApiParamType.params?e.ApiParamType.params:{},"PPMStaffTrackID")},disabledPrint:!U.AccessRights.IsPrint,disabledExport:!U.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(P.Z,{count:D,siblingCount:0,color:"primary",page:I.current,onChange:(e,t)=>{if(h({current:t,pageSize:I.pageSize}),J)ge({current:t,pageSize:I.pageSize},Z,"DraftPPMStaffTrackID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ge({current:t,pageSize:I.pageSize},Z,"PPMStaffTrackID")}}}),r().createElement("div",null,r().createElement(S.Z,{value:I.pageSize,onChange:e=>{h({current:1,pageSize:e.target.value}),ge({current:1,pageSize:e.target.value},$,"PPMStaffTrackID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),ee&&r().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),r().createElement("div",{id:"PPMStaffTrackRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"PPMStaffTrackRegistryFilterDivPopUp",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},O&&r().createElement(m.default,{searchData:e=>z(e),formID:u,data:()=>{},visibleData:()=>{},token:U.token[0]})),r().createElement("div",{id:"PPMStaffTrackRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},r().createElement(A.Z,{frmctrlid:"tblcs_540_L3_",id:"PPMStaffTrackRegistryTable",type:e.viewtype,headerdata:K,tablesearchparams:ne,searchvalue:e=>{se(e),z(e),ge(I,e,J?"DraftPPMStaffTrackID":"PPMStaffTrackID",J&&"DraftPage")},bodydata:F,ondrag:(e,t)=>{Y({type:"editData",payload:[t]}),Y({type:"IsDraft",payload:J}),Y({type:"ShowDetail",payload:!0})},bodyitem:G,visibleitem:K,isdraft:J,accessrights:U.AccessRights,expanded:()=>{},edit:(t,a,l)=>{g?j.select(t):e.editdata(t,"view")},viewtoggle:j.viewtoggle,isexpanded:!g||ee})))))))}))},85294:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var l=a(92950),r=a.n(l),i=a(45237),n=(a(37148),a(3212)),s=a(29800),c=a(14439),d=a(27848),o=(a(10966),a(36939)),m=a(61201),f=a(50743),u=a(40846),g=(a(21392),a(51673)),p=a(40900),y=a(26537),P=(a(24038),a(71006)),S=(a(77366),a(97829),a(8981)),E=(a(63163),a(1695)),D=a(99216),T=(a(35131),a(61956),a(51649)),v=a(61924),k=a.n(v);const I=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[v,I]=((0,i.useSelector)((e=>e.form)),(0,l.useState)([])),[h,M]=(0,l.useState)(!0),[C,N]=(0,l.useState)(e.showDetail),[b,w]=(0,l.useState)(""),[R,x]=r().useState(!1),[A,F]=r().useState(""),[B,O]=r().useState(!1),L=(0,l.useContext)(u.PPMStaffTrackRegistryContext),{cstate:Z,cdispatch:z}=(0,u.ContextApi)(),[_,V]=(0,l.useState)(!1),[K,W]=(0,l.useState)(""),[G,H]=(0,l.useState)(""),[j,U]=r().useState(!1);let Y=(0,S.Z)(),$=formmultilingual();(0,l.useEffect)((()=>{Z.editData.length>0&&(I(Z.editData),x(!1),z({type:"PrimaryId",payload:Z.editData[0].PPMStaffTrackIDPK}))}),[Z.editData]),(0,l.useEffect)((()=>{M(Z.ExpandDetailValue)}),[Z.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{M(e),x(null)},viewtoggle:()=>{x(!1)},viewlistProps:(e,t)=>{!function(e,t){let a=p.v.Api+"FP540S3/",l={data:{}};(0,y.Z)(0).then((e=>{(0,g.Z)(a,l,e).then((e=>{L.loading(!1),"200"==e.Output.status.code&&I(e.Output.data)}))}))}()},clear:()=>{"panel0"===R&&a.current.clear()}})));const J=e=>Y[e]?Y[e]:e,q=e=>$?.[e]?$[e]:e;function Q(e,t){}const X=e=>(0,P.trimFunc)(v[0].PPMStaffTrackCode)?v[0].PPMCreationAssetID&&0!=v[0].PPMCreationAssetID?void L.ConfirmAlert(r().createElement(k(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:J("Are you sure?"),onConfirm:()=>(()=>{L.loading(!0),L.ConfirmAlert(null),z({type:"IsDraft",payload:!1});let e={url:p.v.Api+"FP540S2/",PrimID:v[0].PPMStaffTrackIDPK,ParamType:"",state:v[0],active:1,token:Z.token[0]};(0,P.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,r=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(L.alert({open:!0,color:"warning",message:r}),L.loading(!1)):(()=>{L.loading(!0);let e={url:p.v.Api+"FP540S1/",PrimID:v[0].PPMStaffTrackIDPK,ParamType:"",state:v[0],active:1,token:Z.token[0]};(0,P.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(L.alert({open:!0,color:"success",message:[t.message]}),L.loading(!1),L.ShowTableDiv(),L.RefreshTable())}))})())}))})(),onCancel:()=>L.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:J("Yes"),cancelBtnText:J("Cancel"),showCancel:!0},Z.PrimaryId?J("Do you want to Update?"):J("Do you want to Save?"))):(L.alert({open:!0,color:"warning",message:[J("Please select the ")+" "+q("PPMCreationAssetID")]}),!1):(L.alert({open:!0,color:"warning",message:[J("Please enter the")+""+q("PPMStaffTrackCode")]}),!1);return r().createElement("div",{className:"SubContent_1"},r().createElement(o.Z,{expanded:h,onChange:()=>()=>{e.expandTable&&M(!h)}},!R&&r().createElement(f.Z,null,r().createElement(c.Z,{container:!0},r().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement(T.u1R,{className:"backButtonList",onClick:()=>{L.ShowTableDiv(),L.RefreshTable()}})),r().createElement("p",{className:"DListP"},Z.IsDraft?"Draft ":"",q("PPMStaffTrackRegistry"))))))),r().createElement(m.Z,{style:{display:"block"}},v.map(((e,t)=>r().createElement("div",{key:t},r().createElement(D.Z,{tableName:"PPMStaffTrackRegistry",tableID:540,parentID:e.PPMStaffTrackIDPK,fldid:"fld540L3VCContainer",OpenSlideComponent:Q,index:t,val:e,tf:q,t:J}))))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&Z.AccessRights.IsAdd&&r().createElement(n.Z,{className:"L1AddBtnCommon",onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:[]}),z({type:"PrimaryId",payload:Z.editData[0].PPMStaffTrackIDPK})},disabled:!1}),Z.IsDraft&&r().createElement(s.Z,{onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:v}),z({type:"PrimaryId",payload:Z.editData[0].PPMStaffTrackIDPK})},disabled:!1}),r().createElement(E.Z,{name:Z.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld540L3ECSaveBtnApprovalStatus",onClick:()=>{X()}}))))}))}}]);