/*! For license information please see 9189.2bd1c81212d01d00c687.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[9189],{92448:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var s=n(a(92950)),i=(0,l(a(2108)).default)(s.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},64170:(e,t,a)=>{a(92950),a(8981)},87902:(e,t,a)=>{a.d(t,{eb:()=>Ke,kN:()=>ze,ZP:()=>_e});var l=a(92950),n=a.n(l),s=(a(95866),a(45237)),i=a(36939),r=a(61201),d=a(59009),o=a(51673),m=(a(99058),a(80366)),S=a(282),c=a(868),u=a(78513),p=a(14439),y=a(27848),g=a(40900),D=a(64059),M=a(24038),B=a(8981),I=a(47516),E=a(86893),f=a(33681),C=a(63163),v=a(25108);const b=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[s,i]=(0,l.useState)([]),[r,d]=(0,l.useState)({idpk:"",name:"",type:""}),[b,h]=(0,l.useState)(""),[N,T]=(0,l.useState)({}),[w,A]=(0,l.useState)(!0),[P,x]=(0,l.useState)(!1),{cstate:F,cdispatch:R}=e.ContextApi?e.ContextApi:ze(),[k,L]=(0,l.useState)(1),[Z,V]=(0,l.useState)(0),[O,K]=(0,l.useState)(!1),[z,_]=(0,l.useState)({}),[G,U]=(0,l.useState)([]),[j,H]=(0,l.useState)(!0);let Y=localStorage.getItem("Language");const q={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let $=(0,B.Z)();const W=e=>$[e]?$[e]:e,J=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[q[Y]];function Q(){T({}),_({}),e.searchData({}),x(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));U(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Q()}})));const X=async(t,a,l,n)=>{K(!0);let r=a.IsForeign?a.FieldName+"PK":"BMSSysDetIDPK";try{let m="",S=[],c={};await d((e=>(m=e.name,e))),await T((e=>(S=e,e))),await _((e=>(c=e,e)));const u=g.v.Api+"FP1514S3/",p={data:{p1:a.IsForeign?await ae():null,p2:"BMSSysDetailCode"==m&&l.length>0?"%"+l+"%":null,p3:"BMSSysDetailName"==m&&l.length>0?"%"+l+"%":null,p4:"BMSAssetName"==m&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:"EquipmentName"!=m&&S.EquipmentName?S.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p9:"SubComponentName"!=m&&S.SubComponentName?S.SubComponentName.map((e=>e.SubComponentIDPK)).toString():null,p10:e.parentId?e.parentId:"0",p11:e.Dialogview?"1":null,p12:null,p13:"p13"==m&&l.length>0?l:null,p14:null,p15:null,p16:null,p17:null,p18:"AssetCategoryName"!=m&&S.AssetCategoryName?S.AssetCategoryName.map((e=>e.AssetCategoryIDPK)).toString():null,p19:"AssetCategoryCode"==m&&l.length>0?"%"+l+"%":null,p20:"AssetCategoryName"==m&&l.length>0?"%"+l+"%":null,p21:"AssetTypeName"!=m&&S.AssetTypeName?S.AssetTypeName.map((e=>e.AssetTypeIDPK)).toString():null,p22:"AssetTypCode"==m&&l.length>0?"%"+l+"%":null,p23:"AssetTypeName"==m&&l.length>0?"%"+l+"%":null,p24:"PriorityName"!=m&&S.PriorityName?S.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p25:"PriorityCode"==m&&l.length>0?"%"+l+"%":null,p26:"PriorityName"==m&&l.length>0?"%"+l+"%":null,p27:"DivisionName"!=m&&S.DivisionName?S.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p28:"DivisionCode"==m&&l.length>0?"%"+l+"%":null,p29:"DivisionName"==m&&l.length>0?"%"+l+"%":null,p30:"DisciplineName"!=m&&S.DisciplineName?S.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p31:"DisciplineCode"==m&&l.length>0?"%"+l+"%":null,p32:"DisciplineName"==m&&l.length>0?"%"+l+"%":null,p33:"BuildingName"!=m&&S.BuildingName?S.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p34:"BuildingCode"==m&&l.length>0?"%"+l+"%":null,p35:"BuildingName"==m&&l.length>0?"%"+l+"%":null,p36:"FloorName"!=m&&S.FloorName?S.FloorName.map((e=>e.FloorIDPK)).toString():null,p37:"FloorCode"==m&&l.length>0?"%"+l+"%":null,p38:"FloorName"==m&&l.length>0?"%"+l+"%":null,p39:"SpotName"!=m&&S.SpotName?S.SpotName.map((e=>e.SpotIDPK)).toString():null,p40:"SpotCode"==m&&l.length>0?"%"+l+"%":null,p41:"SpotName"==m&&l.length>0?"%"+l+"%":null,p42:"LocalityName"!=m&&S.LocalityName?S.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p43:"LocalityCode"==m&&l.length>0?"%"+l+"%":null,p44:"LocalityName"==m&&l.length>0?"%"+l+"%":null,p45:"StatusName"!=m&&S.StatusName?S.StatusName.map((e=>e.StatusIDPK)).toString():null,p46:"StatusCode"==m&&l.length>0?"%"+l+"%":null,p47:"StatusName"==m&&l.length>0?"%"+l+"%":null,p48:"ConditionName"!=m&&S.ConditionName?S.ConditionName.map((e=>e.ConditionIDPK)).toString():null,p49:"ConditionCode"==m&&l.length>0?"%"+l+"%":null,p50:"ConditionDesp"==m&&l.length>0?"%"+l+"%":null,p51:"ConditionName"==m&&l.length>0?"%"+l+"%":null,p52:"MakeName"!=m&&S.MakeName?S.MakeName.map((e=>e.MakeIDPK)).toString():null,p53:"MakeCode"==m&&l.length>0?"%"+l+"%":null,p54:"MakeName"==m&&l.length>0?"%"+l+"%":null,p55:"ModelName"!=m&&S.ModelName?S.ModelName.map((e=>e.ModelIDPK)).toString():null,p56:"ModelCode"==m&&l.length>0?"%"+l+"%":null,p57:"ModelName"==m&&l.length>0?"%"+l+"%":null,p58:"ServiceAreaName"!=m&&S.ServiceAreaName?S.ServiceAreaName.map((e=>e.ServiceAreaIDPK)).toString():null,p59:"ServiceAreaCode"==m&&l.length>0?"%"+l+"%":null,p60:"ServiceAreaName"==m&&l.length>0?"%"+l+"%":null,p61:"TradeGroupName"!=m&&S.TradeGroupName?S.TradeGroupName.map((e=>e.TradeGroupIDPK)).toString():null,p62:"TradeGroupCode"==m&&l.length>0?"%"+l+"%":null,p63:"TradeGroupName"==m&&l.length>0?"%"+l+"%":null,p64:"EquipmentName"==m&&l.length>0?"%"+l+"%":null,p65:"EquipmentRefNo"==m&&l.length>0?"%"+l+"%":null,p66:"AssetBarcode"==m&&l.length>0?"%"+l+"%":null,p67:"AssetTagNo"==m&&l.length>0?"%"+l+"%":null,p68:"BMSManagedName"!=m&&S.BMSManagedName?S.BMSManagedName.map((e=>e.BMSManagedIDPK)).toString():null,p69:"BMSManagedCode"==m&&l.length>0?"%"+l+"%":null,p70:"BMSManagedName"==m&&l.length>0?"%"+l+"%":null,p71:"BMSTypCode"!=m&&S.BMSTypCode?S.BMSTypCode.map((e=>e.BMSTypeIDPK)).toString():null,p72:"BMSTypCode"==m&&l.length>0?"%"+l+"%":null,p73:"BMSTypeNmae"==m&&l.length>0?"%"+l+"%":null,p74:"BMSSysCode"==m&&l.length>0?"%"+l+"%":null,p75:"BMSSysName"==m&&l.length>0?"%"+l+"%":null,p76:n||1,p77:10,p78:t,p79:null,p80:null,p81:localStorage.getItem("UserGroupID"),p82:localStorage.getItem("userid")}};await(0,o.Z)(u,p,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===n){let e=te(l,m),t=ee(e,N[m],r);i(t),V(t.length>0?t[0].TotalCount:N[m].length)}else{let e=[...s,...l],t=te(e,m);V(t.length<10?t.length:l[0].TotalCount),i(te(t,m))}else b.length>0&&i([]),V(s.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},ee=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function ae(){let e={};await T((t=>(e=t,t)));let t=[...G],a=[];for(let l of t){let t=e[l]?.map((e=>e.BMSSysDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function le(t,a,l,n,s,i){let r={[n]:{From:t,Type:l,To:a}},d={};_((e=>({...e,...r})));const o={...N};let m=[...G],S=[];for(let e of m){let t=o[e]?.map((e=>e.BMSSysDetIDPK)).toString();t&&S.push(t)}await _((e=>(d=e,e)));let c={BMSSysDetIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?s:null,BMSSysID:N.BMSSysName?.map((e=>e.BMSSysIDPK)).toString(),AssetID:N.EquipmentName?.map((e=>e.AssetIDPK)).toString(),SubComponentID:N.SubComponentName?.map((e=>e.SubComponentIDPK)).toString()};e.searchData(c)}function ne(){return n().createElement(D.Z,{frmctrlid:"fld1514L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{le(e,t,a,r.name,l)},keyboardback:()=>{x(!1),d({idpk:"",name:"",type:""})},title:W(r.name),fieldname:r.name,save:e=>{alert(!0)}})}return n().createElement("div",null,P?"Created Ttm"===r.name||r.name.includes("Date")?n().createElement(ne,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(p.Z,null,n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},J(r.idpk)," (",s.length,"/",Z,")")),n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(c.ZP,{title:W("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(m.Z,{id:"fld1514L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{x(!1),d({idpk:"",name:"",type:""}),L(1)}}))),N[r.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(S.Z,{frmctrlid:"fld1514L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await T((t=>(e=t,v.log("clear fewItems",e),t))),e[r.name]=[],X(r.type,r.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},w?n().createElement(c.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(E.D7o,{className:"FilterMaximizeIcon",onClick:()=>{A(!1)}}))):n().createElement(c.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(E.dOw,{className:"FilterMaximizeIcon",onClick:()=>{A(!0)}})))),n().createElement("ul",null,N[r.name]&&N[r.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:w?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[r.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{L(1);let a=N[r.name].filter((t=>t!=e)),l={};await T((e=>(l=e,e))),l[r.name]=a,T(l),i((t=>[e,...t]))})(e)},n().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(M.Z,{frmctrlid:"fld1514L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:b,placeholder:W("Enter ")+" "+J(r.idpk),onChange:e=>{h(e),X(r.type,r.name,e,1,ae())}})),n().createElement("div",{id:"fld1514L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await T((e=>(a=e,e)));let n=[...G],s=[];for(let e of n){let t=a[e]?.map((e=>e.BMSSysDetIDPK)).toString();t&&s.push(t)}await _((e=>(l=e,e)));let i={BMSSysDetIDPK:s?[...new Set(s)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",BMSSysID:N.BMSSysName?.map((e=>e.BMSSysIDPK)).toString(),AssetID:N.EquipmentName?.map((e=>e.AssetIDPK)).toString(),SubComponentID:N.SubComponentName?.map((e=>e.SubComponentIDPK)).toString()};e.searchData(i),x(!1)}},n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),O&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(f.Z,{color:"secondary"})),n().createElement("div",{id:"fld1514L1TFCScrollYDefault",className:"height65 scrollYDefault"},s.length>0&&s.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await T((e=>(l=e,e)));let n=l[r.name];t[r.name]=n?[...a,...n]:a,l={...l,...t},T(l),i((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(u.Z,{className:"DotIcon"}),n().createElement("span",null,e[r.name])))),s.length+0<Z&&s.length>0&&n().createElement("div",{id:"fld1514L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{L(k+1),X(r.type,r.name,"",k+1)}},n().createElement("p",null," more... ")),0===s.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:g.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(I.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnApplyButton",onClick:()=>{Q()},id:"fld1514L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear")))),n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1514L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},W("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1514L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{x(!0),h(""),i([]),V(0),d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBMSSysDetID"}),X(e.IsForeign?"Filter"+e.FieldName:"FilterBMSSysDetID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,J(e.AdminUserGridViewIDPK)," ",z[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",z[e.FieldName]?.From+" to "+z[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,J(e.AdminUserGridViewIDPK)),n().createElement(C.Z,{checked:"1"==j,onChange:t=>{H(t.target.checked),le("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,J(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,N[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},N[a][0][a]),N[a].length>1&&n().createElement("span",{className:"RoundedDivName"},N[a][1][a]),N[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(N[a].length-2))))));var a}))))))}));var h=a(54180),N=a(43031),T=a(110),w=a(5109),A=a(88995),P=a(50743),x=a(61657),F=a(51209),R=a(53854),k=a(51649),L=a(37106),Z=a(5434),V=a(83817),O=a(39327),K=a(3212),z=a(93521),_=a(71168),G=a.n(_),U=a(25108);const j=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[s,i]=(0,l.useState)([]),[r,d]=(0,l.useState)({idpk:"",name:"",type:""}),[v,b]=(0,l.useState)(""),[h,N]=(0,l.useState)({}),[T,w]=(0,l.useState)(!0),[A,P]=(0,l.useState)(!1),{cstate:x,cdispatch:F}=e.ContextApi?e.ContextApi:Fe(),[R,k]=(0,l.useState)(1),[L,Z]=(0,l.useState)(0),[V,O]=(0,l.useState)(!1),[K,z]=(0,l.useState)({}),[_,G]=(0,l.useState)([]),[j,H]=(0,l.useState)(!0);let Y=localStorage.getItem("Language");const q={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let $=(0,B.Z)();const W=e=>$[e]?$[e]:e,J=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[q[Y]];function Q(){N({}),z({}),e.searchData({}),P(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));G(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Q()}})));const X=async(t,a,l,n)=>{O(!0);let r=a.IsForeign?a.FieldName+"PK":"BMSSysSubDetailsIDPK";try{let m="",S=[],c={};await d((e=>(m=e.name,e))),await N((e=>(S=e,e))),await z((e=>(c=e,e)));const u=g.v.Api+"FP1479S3/",p={data:{p1:a.IsForeign?await ae():null,p2:"BMSSysSubDetailsCode"==m&&l.length>0?"%"+l+"%":null,p3:"BMSSysSubDetailsName"==m&&l.length>0?"%"+l+"%":null,p4:"BMSKey"==m&&l.length>0?"%"+l+"%":null,p5:"BMSPointValDet"==m&&l.length>0?"%"+l+"%":null,p6:"BMSDetValue"==m&&l.length>0?"%"+l+"%":null,p7:"IsDetEnable"==m&&l.length>0?"%"+l+"%":null,p8:"BSMDetRange1"==m&&l.length>0?"%"+l+"%":null,p9:"BSMDetRange2"==m&&l.length>0?"%"+l+"%":null,p10:null,p11:null,p12:null,p13:"BMSPointValName"!=m&&S.BMSPointValName?S.BMSPointValName.map((e=>e.BMSPointValIDPK)).toString():null,p14:e.parentId?e.parentId:"0",p15:"BMSSysName"!=m&&S.BMSSysName?S.BMSSysName.map((e=>e.BMSSysIDPK)).toString():null,p16:e.Dialogview?"1":null,p17:null,p18:"p18"==m&&l.length>0?l:null,p19:null,p20:null,p21:null,p22:null,p23:"BMSPointValName"==m&&l.length>0?"%"+l+"%":null,p24:"BMSPointValBMSValue"==m&&l.length>0?"%"+l+"%":null,p25:"EquipmentName"!=m&&S.EquipmentName?S.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p26:"EquipmentName"==m&&l.length>0?"%"+l+"%":null,p27:"EquipmentRefNo"==m&&l.length>0?"%"+l+"%":null,p28:"AssetBarcode"==m&&l.length>0?"%"+l+"%":null,p29:"AssetTagNo"==m&&l.length>0?"%"+l+"%":null,p30:"SubComponentName"!=m&&S.SubComponentName?S.SubComponentName.map((e=>e.SubComponentIDPK)).toString():null,p31:"SubComponentName"==m&&l.length>0?"%"+l+"%":null,p32:"BMSSysCode"==m&&l.length>0?"%"+l+"%":null,p33:"BMSSysName"==m&&l.length>0?"%"+l+"%":null,p34:"BMSSysDetailCode"==m&&l.length>0?"%"+l+"%":null,p35:"BMSSysDetailName"==m&&l.length>0?"%"+l+"%":null,p36:"BMSManagedName"!=m&&S.BMSManagedName?S.BMSManagedName.map((e=>e.BMSManagedIDPK)).toString():null,p37:"BMSManagedCode"==m&&l.length>0?"%"+l+"%":null,p38:"BMSManagedName"==m&&l.length>0?"%"+l+"%":null,p39:"BMSTypCode"!=m&&S.BMSTypCode?S.BMSTypCode.map((e=>e.BMSTypeIDPK)).toString():null,p40:"BMSTypCode"==m&&l.length>0?"%"+l+"%":null,p41:"BMSTypeNmae"==m&&l.length>0?"%"+l+"%":null,p42:n||1,p43:10,p44:t,p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}};await(0,o.Z)(u,p,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===n){let e=te(l,m),t=ee(e,h[m],r);i(t),Z(t.length>0?t[0].TotalCount:h[m].length)}else{let e=[...s,...l],t=te(e,m);Z(t.length<10?t.length:l[0].TotalCount),i(te(t,m))}else v.length>0&&i([]),Z(s.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{O(!1)}},ee=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function ae(){let e={};await N((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.BMSSysSubDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function le(t,a,l,n,s,i){let r={[n]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...r})));const o={...h};let m=[..._],S=[];for(let e of m){let t=o[e]?.map((e=>e.BMSSysSubDetailsIDPK)).toString();t&&S.push(t)}await z((e=>(d=e,e)));let c={BMSSysSubDetailsIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?s:null,BMSSysID:h.BMSSysName?.map((e=>e.BMSSysIDPK)).toString(),BMSSysDetID:h.AssetName?.map((e=>e.BMSSysDetIDPK)).toString(),BMSPointValID:h.BMSPointValName?.map((e=>e.BMSPointValIDPK)).toString()};e.searchData(c)}function ne(){return n().createElement(D.Z,{frmctrlid:"fld1479L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{le(e,t,a,r.name,l)},keyboardback:()=>{P(!1),d({idpk:"",name:"",type:""})},title:W(r.name),fieldname:r.name,save:e=>{alert(!0)}})}return n().createElement("div",null,A?"Created Ttm"===r.name||r.name.includes("Date")?n().createElement(ne,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(p.Z,null,n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},J(r.idpk)," (",s.length,"/",L,")")),n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(c.ZP,{title:W("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(m.Z,{id:"fld1479L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{P(!1),d({idpk:"",name:"",type:""}),k(1)}}))),h[r.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(S.Z,{frmctrlid:"fld1479L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await N((t=>(e=t,U.log("clear fewItems",e),t))),e[r.name]=[],X(r.type,r.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},T?n().createElement(c.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(E.D7o,{className:"FilterMaximizeIcon",onClick:()=>{w(!1)}}))):n().createElement(c.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(E.dOw,{className:"FilterMaximizeIcon",onClick:()=>{w(!0)}})))),n().createElement("ul",null,h[r.name]&&h[r.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:T?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[r.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{k(1);let a=h[r.name].filter((t=>t!=e)),l={};await N((e=>(l=e,e))),l[r.name]=a,N(l),i((t=>[e,...t]))})(e)},n().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(M.Z,{frmctrlid:"fld1479L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:v,placeholder:W("Enter ")+" "+J(r.idpk),onChange:e=>{b(e),X(r.type,r.name,e,1,ae())}})),n().createElement("div",{id:"fld1479L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await N((e=>(a=e,e)));let n=[..._],s=[];for(let e of n){let t=a[e]?.map((e=>e.BMSSysSubDetailsIDPK)).toString();t&&s.push(t)}await z((e=>(l=e,e)));let i={BMSSysSubDetailsIDPK:s?[...new Set(s)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",BMSSysID:h.BMSSysName?.map((e=>e.BMSSysIDPK)).toString(),BMSSysDetID:h.AssetName?.map((e=>e.BMSSysDetIDPK)).toString(),BMSPointValID:h.BMSPointValName?.map((e=>e.BMSPointValIDPK)).toString()};e.searchData(i),P(!1)}},n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),V&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(f.Z,{color:"secondary"})),n().createElement("div",{id:"fld1479L1TFCScrollYDefault",className:"height65 scrollYDefault"},s.length>0&&s.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await N((e=>(l=e,e)));let n=l[r.name];t[r.name]=n?[...a,...n]:a,l={...l,...t},N(l),i((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(u.Z,{className:"DotIcon"}),n().createElement("span",null,e[r.name])))),s.length+0<L&&s.length>0&&n().createElement("div",{id:"fld1479L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{k(R+1),X(r.type,r.name,"",R+1)}},n().createElement("p",null," more... ")),0===s.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:g.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(I.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnApplyButton",onClick:()=>{Q()},id:"fld1479L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear")))),n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1479L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},W("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1479L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{P(!0),b(""),i([]),Z(0),d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBMSSysSubDetailsID"}),X(e.IsForeign?"Filter"+e.FieldName:"FilterBMSSysSubDetailsID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,J(e.AdminUserGridViewIDPK)," ",K[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",K[e.FieldName]?.From+" to "+K[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,J(e.AdminUserGridViewIDPK)),n().createElement(C.Z,{checked:"1"==j,onChange:t=>{H(t.target.checked),le("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,J(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,h[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},h[a][0][a]),h[a].length>1&&n().createElement("span",{className:"RoundedDivName"},h[a][1][a]),h[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(h[a].length-2))))));var a}))))))}));var H=a(65107),Y=a(94986),q=a(15999);a(11557),window.clickFilter="";const $=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),S=(0,l.useRef)(null),[u]=((0,l.useRef)(null),(0,s.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[p]=(0,l.useState)("1479"),[y,D]=(0,l.useState)(!1),[f,C]=(0,l.useState)(!1),[v,b]=(0,l.useState)(0),[_,U]=(0,l.useState)(0),[$,W]=(0,l.useState)(0),[J,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ne]=(0,l.useState)([]),[se,ie]=(0,l.useState)({val:"",column:""}),[re,de]=(0,l.useState)([]),[oe,me]=(0,l.useState)(!1),[Se,ce]=(0,l.useState)(""),[ue,pe]=(0,l.useState)(""),[ye,ge]=(0,l.useState)(!1),[De,Me]=(0,l.useState)([]),[Be,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[Ce,ve]=(0,l.useState)({children:[{name:"BMSSysSubDetails",children:[]}]}),[be,he]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:xe),{cstate:Te,cdispatch:we}=e.ContextApi?e.ContextApi:Fe();let Ae={BMSSysSubDetailsIDPK:"",BMSSysSubDetailsCode:"",BMSSysSubDetailsName:"",BMSKey:"",BMSPointValDet:"",BMSDetValue:"",IsDetEnable:"",BSMDetRange1:"",BSMDetRange2:"",IsDefault:"",IsDraft:"",Remarks:"",BMSPointValID:"",BMSSysDetID:"",BMSSysID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSPointValName:"",BMSPointValBMSValue:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",SubComponentID:"",SubComponentName:"",BMSSysCode:"",BMSSysName:"",BMSSysDetailCode:"",BMSSysDetailName:"",BMSManagedID:"",BMSManagedCode:"",BMSManagedName:"",BMSTypeID:"",BMSTypCode:"",BMSTypeNmae:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Pe,Re]=(0,l.useState)(Ae),[ke,Le]=(0,l.useState)(Ae),[Ze,Ve]=(0,l.useState)(!1),[Oe,Ke]=(0,l.useState)(!0),[ze,_e]=(0,l.useState)(!1),[Ge,Ue]=(0,l.useState)(!0),[je,He]=(0,l.useState)({BMSKey:"",BMSSysName:"",BMSSysSubDetailsCode:"",BMSSysSubDetailsName:"",AssetName:"",BMSPointValName:"",BMSDetValue:"",BMSPointValDet:"",BSMDetRange1:"",BSMDetRange2:"",IsDetEnable:""}),[Ye,qe]=(0,l.useState)(!1),[$e,We]=(0,l.useState)([]),[Je,Qe]=(0,l.useState)(0),[Xe,et]=(0,l.useState)(0),[tt,at]=(0,l.useState)({current:1,pageSize:10}),[lt,nt]=(0,l.useState)([]),[st,it]=(0,l.useState)([]),[rt,dt]=(0,l.useState)(!1),[ot,mt]=(0,l.useState)(!1),[St,ct]=(0,l.useState)(!1),[ut,pt]=(0,l.useState)(""),[yt,gt]=G()("1479"),[Dt,Mt]=(0,l.useState)({}),Bt=[{columns:lt,data:te}];let It=(0,B.Z)();const Et=e=>It[e]?It[e]:e,ft=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{wt(yt)}),[yt]),(0,l.useEffect)((()=>{Te.token.length>0&&Nt(X,Ae,"BMSSysSubDetailsID")}),[]),(0,l.useEffect)((()=>{!be&&Se?(Re(Se),Nt(X,Se,"BMSSysSubDetailsID")):be&&Le(Se)}),[Se]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Ct(e)},tableRefresh:()=>{Nt(X,Ae,"BMSSysSubDetailsID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{ct(e)}})));const Ct=e=>{""==e?Nt(X,Ae,Ze?"DraftBMSSysSubDetailsID":"BMSSysSubDetailsID",Ze&&"DraftPage"):Tt(e,{current:1,pageSize:100}),pe(e)};function vt(t){Ne.loading(!0);let a=g.v.Api+"FP1479S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,et(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Qe(Math.ceil(a)):20==t.pageSize?Qe(Math.ceil(a/2)):50==t.pageSize?Qe(Math.ceil(a/5)):100==t.pageSize&&Qe(Math.ceil(a/10)),We(e.Output.data),Ne.loading(!1)}}))}function bt(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:Ze}),we({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),ze&&ge(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(C(e.Dialogview),ct(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Tt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]);const ht=()=>{Ne.EditClose(!0),oe?(document.getElementById("BMSSysSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BMSSysSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BMSSysSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Ge?(f||(document.getElementById("BMSSysSubDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysSubDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("BMSSysSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSSysSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BMSSysSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BMSSysSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BMSSysSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("BMSSysSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!oe},Nt=(t,a,l,n,s,i)=>{Ne.loading(!0),"DraftPage"!==n&&Ve(Te.IsDraft);let r=g.v.Api+"FP1479S3/",d={data:{p1:s||(a&&a.BMSSysSubDetailsIDPK?a.BMSSysSubDetailsIDPK:null),p2:a&&a.BMSSysSubDetailsCode?a.BMSSysSubDetailsCode:null,p3:a&&a.BMSSysSubDetailsName?a.BMSSysSubDetailsName:null,p4:a&&a.BMSKey?a.BMSKey:null,p5:a&&a.BMSPointValDet?a.BMSPointValDet:null,p6:a&&a.BMSDetValue?a.BMSDetValue:null,p7:null,p8:a&&a.BSMDetRange1?a.BSMDetRange1:null,p9:a&&a.BSMDetRange2?a.BSMDetRange2:null,p10:null,p11:"DraftBMSSysSubDetailsID"==l?"1":"0",p12:null,p13:a&&a.BMSPointValID?a.BMSPointValID:null,p14:e.detailId?e.detailId:"0",p15:e.parentId?Number(e.parentId):0,p16:a&&a.IsActive,p17:null,p18:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p19:a&&a.CreatedTtm?a.CreatedTtm:null,p20:a&&a.CreatedTtmType?a.CreatedTtmType:null,p21:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p22:null,p23:a&&a.BMSPointValName?a.BMSPointValName:null,p24:a&&a.BMSPointValBMSValue?a.BMSPointValBMSValue:null,p25:a&&a.AssetID?a.AssetID:null,p26:a&&a.EquipmentName?a.EquipmentName:null,p27:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p28:a&&a.AssetBarcode?a.AssetBarcode:null,p29:a&&a.AssetTagNo?a.AssetTagNo:null,p30:a&&a.SubComponentID?a.SubComponentID:null,p31:a&&a.SubComponentName?a.SubComponentName:null,p32:a&&a.BMSSysCode?a.BMSSysCode:null,p33:a&&a.BMSSysName?a.BMSSysName:null,p34:a&&a.BMSSysDetailCode?a.BMSSysDetailCode:null,p35:a&&a.BMSSysDetailName?a.BMSSysDetailName:null,p36:a&&a.BMSManagedID?a.BMSManagedID:null,p37:a&&a.BMSManagedCode?a.BMSManagedCode:null,p38:a&&a.BMSManagedName?a.BMSManagedName:null,p39:a&&a.BMSTypeID?a.BMSTypeID:null,p40:a&&a.BMSTypCode?a.BMSTypCode:null,p41:a&&a.BMSTypeNmae?a.BMSTypeNmae:null,p42:s?1:t.current,p43:e.tableview?100:t.pageSize,p44:l,p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}};(0,o.Z)(r,d,Te.token[0]).then((r=>{if(s)(0,V.a)(r,we,n,i,Ne);else if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let e=0;r.Output.data.length>0?(e=parseFloat(r.Output.data[0].TotalCount,10)/10,W(r.Output.data[0].TotalCount),Q(r.Output.data[0].DraftCnt),we({type:"count",payload:r.Output.data[0].TotalCount}),"DraftPage"==n&&Q(r.Output.data[0].TotalCount)):e=0,10==t.pageSize?U(Math.ceil(e)):20==t.pageSize?U(Math.ceil(e/2)):50==t.pageSize?U(Math.ceil(e/5)):100==t.pageSize&&U(Math.ceil(e/10)),de(r.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divBMSSysSubDetails-Entry").style.height="auto",document.getElementById("divBMSSysSubDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftBMSSysSubDetailsID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Ve(!1)):(de([]),ee({current:1,pageSize:10}),U(0),W(0),we({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[r.Output.status.message]}),Ne.loading(!1)}))};function Tt(t,a){Ne.loading(!0);const l=g.v.Api+"FP1479S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,W(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?U(Math.ceil(t)):20==a.pageSize?U(Math.ceil(t/2)):50==a.pageSize?U(Math.ceil(t/5)):100==a.pageSize&&U(Math.ceil(t/10)),de(e.Output.data),Ne.loading(!1)}else de([]),U(0),W(0),we({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function wt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),we({type:"language",payload:Object.assign({},...n)}),He(a.reduce(((e,t)=>(e[t]="",e)),{})),Me(e),Ie(t),fe(a),nt(l),it(a)}const At=()=>be?null:n().createElement("div",null,Ye?n().createElement(Y.Z,{data:$e,expanded:e=>!f&&Ne.Expanded(e),edit:(e,t,a)=>{f?Ne.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:a}))}}):n().createElement(H.Z,{ref:S,frmctrlid:"tblcs_1479_L1_",id:"BMSSysSubDetailsTable",headerdata:Be,tablesearchparams:je,searchvalue:e=>{He(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Mt(t),ee({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,Ze?"DraftBMSSysSubDetailsID":"BMSSysSubDetailsID",Ze&&"DraftPage")},bodydata:re,ondrag:bt,bodyitem:Ee,visibleitem:Be,isdraft:Ze,IsView:!1,IsSub:!1,tableExp:!1,tableID:p,IsViewNone:!0,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!f&&Ne.Expanded(e),edit:(t,a,l)=>{f||e.detailId?Ne.select(t):(Object.keys(t).map(((e,n)=>{e.includes("IDPK")&&Nt(X,null,a?"DraftBMSSysSubDetailsID":"BMSSysSubDetailsID",a&&"DraftPage",t[e],l)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!0,tf:ft,action:f?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{_e(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!St&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld1479L1ECSearchBar",className:"searchbar1"},n().createElement(M.Z,{frmctrlid:"fld1479L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ue,onChange:e=>{pe(e),Ne.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld1479L1TCCloseIconCommonSearch",onClick:()=>{pe(""),Ne.searchItem("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1479L1TCInputSearchIcon"},n().createElement(A.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("BMSSysSubDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(K.Z,{className:"SaveBtnCommon",frmctrlid:"fld1479L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})}}):"")),n().createElement(i.Z,{expanded:Oe,onChange:()=>()=>{Ke(ze)}},e.Dialogview&&n().createElement(P.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.41-4:59:24 PM-25-5[1479]"},`${ft("1479")} (${$})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld1479L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(M.Z,{frmctrlid:"fld1479L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ue,onChange:e=>{Ct(e)}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld1479L1TCInputCloseIcon",onClick:()=>{Ct("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1479L1TCInputSearchIcon"},n().createElement(A.Z,{className:"InputSearchIcon"}))))))),n().createElement(r.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"BMSSysSubDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&n().createElement("div",{frmctrlid:"fld1479L1TCFilterDataIsDraft",id:"BMSSysSubDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(c.ZP,{title:Et("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Filter Data"))),!f&&!Ze&&!be&&n().createElement(h.Z,{formctrlidprint:"fld1479L1TCExportPrint",formctrlidexport:"fld1479L1TCExportTable",formctrlidrefresh:"fld1479L1TCExportRefresh",title:ft("BMSSysSubDetails"),data:le,exportData:Bt,Items:st,columnIndex:lt,TableVisibleItem:Be,userGridViewFormID:p,TableTotalCount:$,triggerApi:e=>{((e,t,l,n,s)=>{if(0===$)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let i=g.v.Api+"FP1479S3/",r={data:{p1:e&&e.BMSSysSubDetailsIDPK?e.BMSSysSubDetailsIDPK:null,p2:e&&e.BMSSysSubDetailsCode?e.BMSSysSubDetailsCode:null,p3:e&&e.BMSSysSubDetailsName?e.BMSSysSubDetailsName:null,p4:e&&e.BMSKey?e.BMSKey:null,p5:e&&e.BMSPointValDet?e.BMSPointValDet:null,p6:e&&e.BMSDetValue?e.BMSDetValue:null,p7:null,p8:e&&e.BSMDetRange1?e.BSMDetRange1:null,p9:e&&e.BSMDetRange2?e.BSMDetRange2:null,p10:null,p11:Ze?"1":"0",p12:null,p13:e&&e.BMSPointValID?e.BMSPointValID:null,p14:e&&e.BMSSysDetID?e.BMSSysDetID:null,p15:e&&e.BMSSysID?e.BMSSysID:null,p16:e&&e.IsActive,p17:null,p18:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p19:e&&e.CreatedTtm?e.CreatedTtm:null,p20:e&&e.CreatedTtmType?e.CreatedTtmType:null,p21:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p22:null,p23:e&&e.BMSPointValName?e.BMSPointValName:null,p24:e&&e.BMSPointValBMSValue?e.BMSPointValBMSValue:null,p25:e&&e.AssetID?e.AssetID:null,p26:e&&e.EquipmentName?e.EquipmentName:null,p27:e&&e.EquipmentRefNo?e.EquipmentRefNo:null,p28:e&&e.AssetBarcode?e.AssetBarcode:null,p29:e&&e.AssetTagNo?e.AssetTagNo:null,p30:e&&e.SubComponentID?e.SubComponentID:null,p31:e&&e.SubComponentName?e.SubComponentName:null,p32:e&&e.BMSSysCode?e.BMSSysCode:null,p33:e&&e.BMSSysName?e.BMSSysName:null,p34:e&&e.BMSSysDetailCode?e.BMSSysDetailCode:null,p35:e&&e.BMSSysDetailName?e.BMSSysDetailName:null,p36:e&&e.BMSManagedID?e.BMSManagedID:null,p37:e&&e.BMSManagedCode?e.BMSManagedCode:null,p38:e&&e.BMSManagedName?e.BMSManagedName:null,p39:e&&e.BMSTypeID?e.BMSTypeID:null,p40:e&&e.BMSTypCode?e.BMSTypCode:null,p41:e&&e.BMSTypeNmae?e.BMSTypeNmae:null,p42:X.current,p43:param.pageSize,p44:Ze?"DraftBMSSysSubDetailsID":"BMSSysSubDetailsID",p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${ft(1479)} - ${s.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,o.Z)(i,r,Te.token[0],s).then((e=>{(0,z.PDF_Excel_Generate)(e,Ne,st,ae,a,s)}))})(Se,se.column,0,0,e)},Refresh:()=>{pe(""),ee({current:1,pageSize:100}),S.current.clearItem(),Te.IsDraft?Nt({current:1,pageSize:100},Ae,"DraftBMSSysSubDetailsID"):Nt({current:1,pageSize:100},Ae,"BMSSysSubDetailsID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ze&&!be&&!f&&n().createElement("div",{className:"buttoncard",onClick:()=>mt(!ot)},n().createElement("span",null,ot?n().createElement(c.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},n().createElement("span",{id:"fld1479L1TCLess"},n().createElement(R.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(c.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},n().createElement("span",{id:"fld1479L1TCMore"},n().createElement(R.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},be||!ze?null:f||!Te.AccessRights.IsAdd||Ze?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld1479L1TCFilterDataIsAdd",id:"BMSSysSubDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),ye?(document.getElementById("BMSSysSubDetailsFilterDiv").style.width="0%",document.getElementById("BMSSysSubDetailsTabDiv").style.width="100%",document.getElementById("BMSSysSubDetailsFilterDiv").style.display="none",document.getElementById("BMSSysSubDetailscoldiv").style.width="fit-content",document.getElementById("BMSSysSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("BMSSysSubDetailsFilterDiv").style.width="25%",document.getElementById("BMSSysSubDetailsTabDiv").style.width="75%",document.getElementById("BMSSysSubDetailsFilterDiv").style.display="block",document.getElementById("BMSSysSubDetailsfildiv").style.width="fit-content",document.getElementById("BMSSysSubDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSSysSubDetailscoldiv").style.width="fit-content",document.getElementById("BMSSysSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),me(!1)}},n().createElement(c.ZP,{title:Et("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(O.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!f&&ze&&!be&&!Ze&&n().createElement("div",null,n().createElement("div",{id:"BMSSysSubDetailscoldiv",className:"buttoncard",onClick:()=>{Ye?qe(!1):(qe(!0),vt({current:1,pageSize:100}))}},n().createElement(c.ZP,{title:Et("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld1479L1TCTableScrollData"},n().createElement(q.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!be&&Ze?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Nt({current:1,pageSize:100},Ae,"BMSSysSubDetailsID"),Ve(!1),pe(""),we({type:"IsDraft",payload:!1}),ee({current:1,pageSize:10})}},n().createElement(c.ZP,{title:Et("List"),placement:"top"},n().createElement("div",{id:"fld1479L1TCList"},n().createElement(k.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Et("Drafts")," ",$)):!f&&!be&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:J,showZero:!0},n().createElement("div",{id:"fld1479L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{J>0?(ee({current:1,pageSize:100}),b(0),Ne.clear(),pe(""),we({type:"Add",payload:!1}),Nt({current:1,pageSize:10},Ae,"DraftBMSSysSubDetailsID"),Ve(!0),we({type:"IsDraft",payload:!0}),ge(!1),Ue(!0),document.getElementById("BMSSysSubDetailsFilterDiv").style.width="0%",document.getElementById("BMSSysSubDetailsTabDiv").style.width="100%",document.getElementById("BMSSysSubDetailsFilterDiv").style.display="none",ee({current:1,pageSize:100}),he(!1)):Ne.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},n().createElement(c.ZP,{title:Et("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(L.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!Ze&&!f&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},be||Ze?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ge?"buttonList":"buttonGrid",id:"fld1479L1TCListView",onClick:()=>{Ue(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(R.umT,null)),n().createElement("span",null,Et("List"))),n().createElement("div",{className:Ge||rt?"buttonGrid":"buttonList",id:"fld1479L1TCCardView",onClick:()=>{Ue(!1),dt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(E.aCJ,null)),n().createElement("span",null,Et("Card"))),n().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld1479L1TCTileView",onClick:()=>{dt(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(Z.f_H,null)),n().createElement("span",null,Et("Tile"))))))),be?null:Ye?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld1479L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:v,onPageChange:(e,t)=>{b(t),vt({current:t+1,pageSize:tt.pageSize}),at({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(N.Z,{count:Je,color:"primary",page:tt.current,onChange:(e,t)=>{at({current:t,pageSize:tt.pageSize}),Qe(t),vt({current:t,pageSize:tt.pageSize})}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld1479L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",Xe,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld1479L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number($),page:v,onPageChange:(e,t)=>{b(t),Nt({current:t+1,pageSize:X.pageSize},Ae,Ze?"DraftBMSSysSubDetailsID":"BMSSysSubDetailsID",Ze&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(N.Z,{count:_,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),Ze)Nt({current:t,pageSize:X.pageSize},Pe,"DraftBMSSysSubDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ue.length>0?Tt(ue,{current:t,pageSize:X.pageSize}):Nt({current:t,pageSize:X.pageSize},Pe,"BMSSysSubDetailsID")}}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:X.pageSize,id:"fld1479L1TCSelectPaging",onChange:e=>{ee({current:1,pageSize:e.target.value}),Ze?Nt({current:1,pageSize:e.target.value},Pe,"DraftBMSSysSubDetailsID","DraftPage"):ue.length>0?Tt(ue,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},Pe,"BMSSysSubDetailsID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",$,") "))),n().createElement("div",{id:"BMSSysSubDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"BMSSysSubDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},oe&&n().createElement(j,{parentId:e.parentId,searchData:e=>{ce(e||Dt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:p,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:yt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]})}),ye&&n().createElement(w.Z,{Refresh:e=>{Nt({current:1,pageSize:100},Ae,"BMSSysSubDetailsID")},frmctrlid:"fld1479L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:ye,userID:u,userGridViewFormID:p,saved:(e,t)=>{e&&wt(t),gt(t),we({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"BMSSysSubDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ge?n().createElement(At,null):n().createElement(F.Z,{frmctrlid:"fld1479L1TCExpandedCardDual",data:re,id:"BMSSysSubDetails",title:"BMS Point Value",cardTile:!!rt,visibleitem:Be,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{f?Ne.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ze}),we({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ze}),we({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),oe?me(!0):ye?ge(!0):(ge(!1),ge(!1))),Ne.hideAddBtn(!0)}})))))))}));var W=a(37148),J=a(29800),Q=(a(10966),a(21392),a(26537)),X=a(30553),ee=a(61956),te=a(44528),ae=a(99090),le=a(35131),ne=a.n(le),se=a(1695),ie=a(61924),re=a.n(ie),de=(a(40826),a(55490)),oe=a(92371);const me={EnterKeyValues:{BMSSysSubDetails:["BMSKey","BMSSysName","BMSSysSubDetailsCode","BMSSysSubDetailsName","AssetName","BMSPointValName","BMSDetValue","BMSPointValDet","BSMDetRange1","BSMDetRange2","IsDetEnable"]},Label:{BMSSysSubDetails:{BMSKey:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysID:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysSubDetailsCode:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysSubDetailsName:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysDetID:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSPointValID:["BMSPointValCode","BMSPointValName"],BMSDetValue:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSPointValDet:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BSMDetRange1:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BSMDetRange2:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],IsDetEnable:["BMSSysSubDetailsCode","BMSSysSubDetailsName"]}},LabelHeader:{BMSSysSubDetails:{BMSKey:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysID:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysSubDetailsCode:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysSubDetailsName:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSSysDetID:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSPointValID:["BMSPointValCode","Points"],BMSDetValue:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BMSPointValDet:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BSMDetRange1:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],BSMDetRange2:["BMSSysSubDetailsCode","BMSSysSubDetailsName"],IsDetEnable:["BMSSysSubDetailsCode","BMSSysSubDetailsName"]}},Property:{BMSSysSubDetails:{BMSKey:{id:"fld1479_38439",labelID:"BMSKey",maxLength:"",labelname:"",frmctrlid:"fld1479_38439",frmctrlidname:"BMSKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSSysID:{id:"fld1479_38566",clearID:"BMSSysSubDetailsBMSSysNameClear",type:"select",labelID:"BMSSysIDPK",labelname:"",fielddisplayname:"BMSSysName",fieldOrder:"1",frmctrlid:"fld1479_38566",frmctrlidname:"BMSSysID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BMSSysSubDetailsCode:{id:"fld1479_38998",labelID:"BMSSysSubDetailsCode",maxLength:"50",labelname:"",frmctrlid:"fld1479_38998",frmctrlidname:"BMSSysSubDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSSysSubDetailsName:{id:"fld1479_38999",labelID:"BMSSysSubDetailsName",maxLength:"-1",labelname:"",frmctrlid:"fld1479_38999",frmctrlidname:"BMSSysSubDetailsName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSSysDetID:{id:"fld1479_39000",clearID:"BMSSysSubDetailsAssetNameClear",type:"select",labelID:"BMSSysDetIDPK",labelname:"",fielddisplayname:"AssetName",fieldOrder:"1",frmctrlid:"fld1479_39000",frmctrlidname:"BMSSysDetID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BMSPointValID:{id:"fld1479_38448",clearID:"BMSSysSubDetailsBMSPointValNameClear",type:"select",labelID:"BMSPointValIDPK",labelname:"Points",fielddisplayname:"BMSPointValName",fieldOrder:"1",frmctrlid:"fld1479_38448",frmctrlidname:"BMSPointValID",foreignName:[],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!0},BMSDetValue:{id:"fld1479_38441",labelID:"BMSDetValue",maxLength:"50",labelname:"Value",frmctrlid:"fld1479_38441",frmctrlidname:"BMSDetValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSPointValDet:{id:"fld1479_38440",labelID:"BMSPointValDet",maxLength:"50",labelname:"Value Details ",frmctrlid:"fld1479_38440",frmctrlidname:"BMSPointValDet",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BSMDetRange1:{id:"fld1479_38443",labelID:"BSMDetRange1",maxLength:"25",labelname:"Range 1",frmctrlid:"fld1479_38443",frmctrlidname:"BSMDetRange1",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BSMDetRange2:{id:"fld1479_38444",labelID:"BSMDetRange2",maxLength:"25",labelname:"Range 2",frmctrlid:"fld1479_38444",frmctrlidname:"BSMDetRange2",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsDetEnable:{id:"fld1479_38442",labelID:"IsDetEnable",maxLength:"",labelname:"Enabled ",frmctrlid:"fld1479_38442",frmctrlidname:"IsDetEnable",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{BMSSysSubDetails:{BMSSysID:["BMSSysCode","BMSSysName","BMSMac","BMSSerial","IsAsset","IsCCM","BMSTypeID","BMSManagedID"],BMSSysDetID:["AssetName","AssetID","SubComponentID"],BMSPointValID:["BMSPointValName","BMSPointValRange1","BMSPointValRange2","IsBMSPointValEnable","BMSPointValBMSValue"]}}};var Se=a(99263),ce=a(99323),ue=a(6562),pe=a(45155),ye=a(79352),ge=(a(49174),a(38773),a(19089),a(16233)),De=a.n(ge),Me=a(82729),Be=a(75355),Ie=a(11107);const Ee={BMSSysSubDetailsIDPK:"",BMSSysSubDetailsCode:"",BMSSysSubDetailsName:"",BMSKey:"",BMSPointValDet:"",BMSDetValue:"",IsDetEnable:!1,BSMDetRange1:"",BSMDetRange2:"",IsDefault:!1,IsDraft:!1,Remarks:"",BMSPointValID:null,BMSSysDetID:null,BMSSysID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSPointValName:"",BMSPointValBMSValue:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",SubComponentID:null,SubComponentName:"",BMSSysCode:"",BMSSysName:"",BMSSysDetailCode:"",BMSSysDetailName:"",BMSManagedID:null,BMSManagedCode:"",BMSManagedName:"",BMSTypeID:null,BMSTypCode:"",BMSTypeNmae:"",Type:"BMSSysSubDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},fe=(0,l.forwardRef)(((e,t)=>{const a=(0,s.useSelector)((e=>e.form)),[d,m]=(0,l.useState)(!1),[S,c]=((0,l.useRef)(),(0,l.useState)(!0)),[u,D]=(0,l.useState)(!1),[M,I]=(0,l.useState)(!1),[E,f]=(0,l.useState)(""),[v,b]=(0,l.useState)(!1),[h,N]=(0,l.useState)([]),[T,w]=(0,l.useState)(null),[A,x]=(0,l.useReducer)(oe.Z,Ee),[F,R]=(0,l.useState)(!1),[k,L]=(0,l.useState)([]),[Z,V]=(0,l.useState)(!1),O=(0,l.useContext)(e.context?e.context:xe),{cstate:K,cdispatch:z}=e.ContextApi?e.ContextApi:Fe(),[_,G]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),H=(0,l.useRef)(null),[Y,q]=De()("1479"),[$,J]=(0,l.useState)(""),[le,ie]=(0,l.useState)(!1),[ge,fe]=(0,l.useState)(!0),[Ce,ve]=(0,l.useState)(!0),[be,he]=(0,l.useState)(!0),[Ne,Te]=(0,l.useState)(!0),[we,Ae]=(0,l.useState)(!1);let Pe=(0,B.Z)();const[Re,ke]=(0,l.useState)({}),Le=e=>Pe[e]?Pe[e]:e,Ze=t=>K.language?.[t]?K.language[t]:e.createEasy?Re?.[t]:t;(0,l.useEffect)((()=>{K.PrimaryId&&G(Number(K.PrimaryId))}),[K.PrimaryId]),(0,l.useEffect)((()=>{Oe()}),[]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ke(Object.assign({},...t))}(Y)}),[Y]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Oe()},CreateEasyProps:(e=!0,t)=>{q(!0),t?(We(t),D(e)):(Oe(),D(e))},AddOpen:e=>{Oe(),D(!0),Ve(e,"")}})));const Ve=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),x({type:"number",name:"BMSKey",number:t.BMSKey}),x({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),x({type:"number",name:"BMSSysID",number:t.BMSSysID?Number(t.BMSSysID):0}),x({type:"text",name:"BMSSysName",value:t.BMSSysName}),"SetDefaultBMSSysSubDetailsID"==a?j(t.BMSSysSubDetailsIDPK):(G(e.primid?Number(e.primid):t.BMSSysSubDetailsIDPK),z({type:"PrimaryId",payload:t.BMSSysSubDetailsIDPK})),x({type:"text",name:"BMSSysSubDetailsCode",value:t.BMSSysSubDetailsCode?t.BMSSysSubDetailsCode:""}),x({type:"text",name:"BMSSysSubDetailsName",value:t.BMSSysSubDetailsName?t.BMSSysSubDetailsName:""}),x({type:"number",name:"BMSSysDetID",number:t.BMSSysDetID?Number(t.BMSSysDetID):0}),x({type:"text",name:"AssetName",value:t.AssetName}),x({type:"number",name:"BMSPointValID",number:t.BMSPointValID?Number(t.BMSPointValID):0}),x({type:"text",name:"BMSPointValName",value:t.BMSPointValName}),x({type:"number",name:"BMSDetValue",number:t.BMSDetValue}),x({type:"text",name:"BMSPointValDet",value:t.BMSPointValDet?t.BMSPointValDet:""}),x({type:"text",name:"BSMDetRange1",value:t.BSMDetRange1?t.BSMDetRange1:""}),x({type:"text",name:"BSMDetRange2",value:t.BSMDetRange2?t.BSMDetRange2:""}),x({type:"boolean",name:"IsDetEnable",boolean:!!t.IsDetEnable&&t.IsDetEnable}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},Oe=()=>{N([]),G(0),j(""),e.createEasy||O.resetImg(),x({type:"number",name:"BMSKey",number:0}),x({type:"boolean",name:"IsDefault",boolean:!1}),x({type:"text",name:"BMSSysID",value:null}),x({type:"text",name:"BMSSysName",value:""}),document.getElementById("BMSSysSubDetailsBMSSysNameClear")&&document.getElementById("BMSSysSubDetailsBMSSysNameClear").click(),z({type:"PrimaryId",payload:""}),x({type:"text",name:"BMSSysSubDetailsCode",value:""}),x({type:"text",name:"BMSSysSubDetailsName",value:""}),x({type:"text",name:"BMSSysDetID",value:null}),x({type:"text",name:"AssetName",value:""}),document.getElementById("BMSSysSubDetailsAssetNameClear")&&document.getElementById("BMSSysSubDetailsAssetNameClear").click(),x({type:"text",name:"BMSPointValID",value:null}),x({type:"text",name:"BMSPointValName",value:""}),document.getElementById("BMSSysSubDetailsBMSPointValNameClear")&&document.getElementById("BMSSysSubDetailsBMSPointValNameClear").click(),x({type:"number",name:"BMSDetValue",number:0}),x({type:"text",name:"BMSPointValDet",value:""}),x({type:"text",name:"BSMDetRange1",value:""}),x({type:"text",name:"BSMDetRange2",value:""}),x({type:"boolean",name:"IsDetEnable",boolean:!1}),c(!0),f(""),fe(!0),ve(!0),he(!0),Te(!0)},Ke=t=>{O.loading(!0),O.ConfirmAlert(null);const a=g.v.Api+"FP1479S2/",l={data:[{p1:"SetDefaultBMSSysSubDetailsID"==t?"NORECORDS"!=U&&U?U:0:_,p2:Je(A.BMSSysSubDetailsCode),p3:Je(A.BMSSysSubDetailsName),p4:A.BMSKey?Number(A.BMSKey):0,p5:Je(A.BMSPointValDet),p6:A.BMSDetValue?Number(A.BMSDetValue):0,p7:A.IsDetEnable,p8:Je(A.BSMDetRange1),p9:Je(A.BSMDetRange2),p10:A.IsDefault,p11:!1,p12:"SetDefaultBMSSysSubDetailsID"==t?"SetDefault":null,p13:A.BMSPointValID?A.BMSPointValID:0,p14:e.detailId?e.detailId:A.BMSSysDetID,p15:e.parentId?Number(e.parentId):0,p16:S,p17:"SetDefaultBMSSysSubDetailsID"==t,p18:localStorage.getItem("userid"),p19:ne()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Q.Z)(0).then((t=>{(0,o.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,s=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(O.alert({open:!0,color:"warning",message:s}),O.loading(!1)):(t=>{fe(!0),ve(!0),he(!0),Te(!0),O.loading(!0),O.ConfirmAlert(null),z({type:"IsDraft",payload:!1});const a=g.v.Api+"FP1479S1/",l={data:[{p1:_,p2:Je(A.BMSSysSubDetailsCode),p3:Je(A.BMSSysSubDetailsName),p4:A.BMSKey?Number(A.BMSKey):0,p5:Je(A.BMSPointValDet),p6:A.BMSDetValue?Number(A.BMSDetValue):0,p7:A.IsDetEnable,p8:Je(A.BSMDetRange1),p9:Je(A.BSMDetRange2),p10:A.IsDefault,p11:!1,p12:null,p13:A.BMSPointValID?A.BMSPointValID:0,p14:e.detailId?e.detailId:A.BMSSysDetID,p15:e.parentId?Number(e.parentId):0,p16:S,p17:!1,p18:localStorage.getItem("userid"),p19:ne()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Q.Z)(0).then((t=>{(0,ee.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(O.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttBMSSysSubDetails"),O.loading(!1),e.createEasy||(O.RefreshTable(),O.attachmentSave(t[0].Data.IDPK)),Oe(),K.AccessRights.IsApproval&&O.Approval(!0),setActBalanceQty(BalanceQty),document.getElementById("overlayimgAttBMSSysSubDetails")&&(document.getElementById("overlayimgAttBMSSysSubDetails").style.width="0%",document.getElementById("overlayimgAttBMSSysSubDetails").style.display="none",document.getElementById("divBMSSysSubDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("BMSSysSubDetails-MainTable").style.display="block")):(O.alert({open:!0,color:"warning",message:[a.message]}),O.loading(!1)),D(!0)}))}))})()):(O.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),O.loading(!1))}))}))};function ze(t,a,l,n){if(!(K.count>0))return O.alert({open:!0,color:"warning",message:[Le("Please save atleast one record")]}),!1;if(!((()=>{const e={...A};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return O.alert({open:!0,color:"warning",message:[Le("Please enter the primary fields")]}),!1;{fe(!0),ve(!0),he(!0),Te(!0),O.loading(!0),O.ConfirmAlert(null),z({type:"IsDraft",payload:!1});const a=g.v.Api+"FP1479S1/",l={data:[{p1:"SetDefaultBMSSysSubDetailsID"==n?"NORECORDS"!=U&&U?U:0:_,p2:Je(A.BMSSysSubDetailsCode),p3:Je(A.BMSSysSubDetailsName),p4:A.BMSKey?Number(A.BMSKey):0,p5:Je(A.BMSPointValDet),p6:A.BMSDetValue?Number(A.BMSDetValue):0,p7:A.IsDetEnable,p8:Je(A.BSMDetRange1),p9:Je(A.BSMDetRange2),p10:A.IsDefault,p11:!0,p12:"SetDefaultBMSSysSubDetailsID"==n?"SetDefault":null,p13:A.BMSPointValID?A.BMSPointValID:0,p14:e.detailId?e.detailId:A.BMSSysDetID,p15:e.parentId?Number(e.parentId):0,p16:!1,p17:"SetDefaultBMSSysSubDetailsID"==n,p18:localStorage.getItem("userid"),p19:ne()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Q.Z)(0).then((n=>{(0,ee.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?O.alert({open:!0,color:"warning",message:[Le("Deleted Successfully")]}):O.alert({open:!0,color:"success",message:[Le("Saved to Draft")]}),O.loading(!1),O.attachmentSave(a[0].Data.IDPK),Oe(),O.RefreshTable(),e.clrImgstate(!0)):(O.alert({open:!0,color:"warning",message:[l.message]}),O.loading(!1))}))}))}}function _e(e){return(0,Se.CreateEasy)(e,K,z,O,H),!1}function Ge(e,a){return(0,ce.AdvanceSearch)(e,a,xe,Fe(),He,t),!1}const Ue=(t,a,l,n,s,i)=>{const r=g.v.Api+"FP1479S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:1==A.IsDetEnable,p8:a?"%"+a+"%":null,p9:a?"%"+a+"%":null,p10:null,p11:null,p12:null,p13:"0"==A.BMSPointValID?null:A.BMSPointValID,p14:e.parentId?Number(e.parentId):0,p15:e.detailId?Number(e.detailId):0,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:a?"%"+a+"%":null,p24:a?"%"+a+"%":null,p25:"0"==A.AssetID?null:A.AssetID,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==A.SubComponentID?null:A.SubComponentID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==A.BMSManagedID?null:A.BMSManagedID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==A.BMSTypeID?null:A.BMSTypeID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:t,p43:10,p44:l,p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}},m=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});R(!0);const S={data:m};return(0,o.Z)(r,"ClearAll"==l?S:d,"SetDefaultBMSSysSubDetailsID"==l&&n?n:K.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(s)return 1==n.length?n[0]:{};L(1==t?e>0?n:[]:k.concat(n)),"SetDefaultBMSSysSubDetailsID"==l&&(e>0?Ve(n[0],"SetDefaultBMSSysSubDetailsID"):j("NORECORDS")),R(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),R(!1)}))},je=(t,l,n)=>{const s=g.v.Api+"FP1479S3/",i={data:{p1:null,p2:"BMSSysSubDetailsCode"==n&&l?"%"+l+"%":null,p3:"BMSSysSubDetailsName"==n&&l?"%"+l+"%":null,p4:"BMSKey"==n&&l?"%"+l+"%":null,p5:"BMSPointValDet"==n&&l?"%"+l+"%":null,p6:"BMSDetValue"==n&&l?"%"+l+"%":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:a.BMSSysDetailsBMSSysDetID?a.BMSSysDetailsBMSSysDetID:"0",p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:t,p43:10,p44:"BMSSysSubDetailsID",p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}},r={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};R(!0),(0,o.Z)(s,"ClearAll"==n?r:i,K.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("BMSKey"==n&&fe(e>0),"BMSSysSubDetailsCode"==n&&ve(e>0),"BMSSysSubDetailsName"==n&&he(e>0),"BMSPointValDet"==n&&Te(e>0),L(l)):("BMSKey"==n&&fe(!0),"BMSSysSubDetailsCode"==n&&ve(!0),"BMSSysSubDetailsName"==n&&he(!0),"BMSPointValDet"==n&&Te(!0),L(k.concat(l))),R(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),R(!1)}))},He=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a?x({type:"text",name:t,value:e}):"select"==a&&("BMSSysID"==t||"BMSSysDetID"==t||"BMSPointValID"==t&&(x({type:"text",name:"BMSPointValID",value:e.BMSPointValIDPK?e.BMSPointValIDPK:null}),x({type:"text",name:"BMSPointValName",value:e.BMSPointValName?e.BMSPointValName:null})))}),[A]);function Ye(e){if("BMSSysID"==e){if(!A.BMSSysID)return!1}else if("BMSSysDetID"==e){if(!A.BMSSysDetID)return!1}else if("BMSPointValID"==e){if(!A.BMSPointValID)return!1;x({type:"text",name:"BMSPointValID",value:null}),x({type:"text",name:"BMSPointValName",value:""}),document.getElementById("BMSSysSubDetailsBMSPointValNameClear")&&document.getElementById("BMSSysSubDetailsBMSPointValNameClear").click()}}function qe(e){if("BMSSysID"==e){if(!A.BMSSysID)return!1}else if("BMSSysDetID"==e){if(!A.BMSSysDetID)return!1}else if("BMSPointValID"==e){if(!A.BMSPointValID)return!1;x({type:"text",name:"BMSPointValID",value:null})}}const $e=e=>{O.ConfirmAlert(n().createElement(re(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>We(e),onCancel:()=>O.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Le("Yes"),cancelBtnText:Le("No"),showCancel:!0},Le("Do you want to update this record?")))};function We(e){O.ConfirmAlert(null),I(e.IsDraft),G(Number(e.BMSSysSubDetailsIDPK)?Number(e.BMSSysSubDetailsIDPK):0),x({type:"text",name:"BMSKey",value:e.BMSKey?e.BMSKey:""}),x({type:"number",name:"BMSSysID",number:e.BMSSysID?Number(e.BMSSysID):0}),x({type:"text",name:"BMSSysName",value:e.BMSSysName?e.BMSSysName:""}),x({type:"text",name:"BMSSysSubDetailsCode",value:e.BMSSysSubDetailsCode?e.BMSSysSubDetailsCode:""}),x({type:"text",name:"BMSSysSubDetailsName",value:e.BMSSysSubDetailsName?e.BMSSysSubDetailsName:""}),x({type:"number",name:"BMSSysDetID",number:e.BMSSysDetID?Number(e.BMSSysDetID):0}),x({type:"text",name:"AssetName",value:e.AssetName?e.AssetName:""}),x({type:"number",name:"BMSPointValID",number:e.BMSPointValID?Number(e.BMSPointValID):0}),x({type:"text",name:"BMSPointValName",value:e.BMSPointValName?e.BMSPointValName:""}),x({type:"number",name:"BMSDetValue",number:e.BMSDetValue?Number(e.BMSDetValue):0}),x({type:"text",name:"BMSPointValDet",value:e.BMSPointValDet?e.BMSPointValDet:""}),x({type:"text",name:"BSMDetRange1",value:e.BSMDetRange1?e.BSMDetRange1:""}),x({type:"text",name:"BSMDetRange2",value:e.BSMDetRange2?e.BSMDetRange2:""}),x({type:"boolean",name:"IsDetEnable",boolean:!!e.IsDetEnable&&e.IsDetEnable})}const Je=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:u,onChange:e=>{}},n().createElement(P.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},u&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.41-4:59:24 PM-25-5[1479]"}," ",Le("Add "),Ze("1479")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},K.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(ue.Z,{row:!0},n().createElement(X.Z,{labelPlacement:"bottom",id:"fld1479L1ECEntryCheckbox",control:n().createElement(C.Z,{checked:"1"==S,onChange:e=>c(e.target.checked)}),label:Le(1==S?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{O.AttachExpand(!0)},id:"fld1479L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(pe.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Le("Attach")))),!_&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Oe()},id:"fld1479L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(pe.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Le("Reset")))),"1"===M&&_&&n().createElement(ae.Z,{frmctrlid:"fld1479L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{ze("draftdel")}}),_&&"1"!==M||e.createEasy?null:K.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{ze()},frmctrlid:"fld1479L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Le("Draft")))),K.AccessRights.IsAdd||K.AccessRights.IsEdit?n().createElement(se.Z,{frmctrlid:"fld1479L1ECSaveBtnIsAdd",name:Le(_?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?A.BMSPointValID&&0!=A.BMSPointValID?O.ConfirmAlert(n().createElement(re(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Le("Are you sure?"),onConfirm:()=>Ke(),onCancel:()=>O.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Le("Yes"),cancelBtnText:Le("Cancel"),showCancel:!0},Le(_?"Do you want to Update?":"Do you want to Save?"))):O.alert({open:!0,color:"warning",message:[Le("Please select the ")+" "+Ze("BMSPointValID")]}):O.alert({open:!0,color:"warning",message:[Le("Please select the ")+" "+Ze("BMSSysDetID")]})}}):null,!e.createEasy&&n().createElement(W.Z,{frmctrlid:"fld1479L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Oe(),D(!1),O.EditClose(!0),O.hideAddBtn(!1),z({type:"Add",payload:!1})}}))))),n().createElement(r.Z,null,n().createElement("div",{id:"BMSSysSubDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"BMSSysSubDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"BMSSysSubDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(Me.Z,null,n().createElement(Ie.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(p.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Be.Z,{style:{padding:"5px 20px 15px"}},n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{"data-testid":A.BMSKey,json:me,SPName:"BMSSysSubDetails",FieldName:"BMSKey",tfLabel:Ze("BMSKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&$e(t),onClick:()=>{ge&&je(1,"","ClearAll"),fe(!0)},frmctrlid:"fld1479_38439",frmctrlidName:"BMSKey",fieldorder:"0",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{ge&&je(e,t,"BMSKey"),He(t,"BMSKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:A.BMSKey,loading:F,clear:e=>{e&&(x({type:"text",name:"BMSKey",value:""}),fe(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{json:me,id:A.BMSSysID,"data-testid":A.BMSSysID,value:A.BMSSysName,SPName:"BMSSysSubDetails",FieldName:"BMSSysID",tfLabel:Ze("BMSSysID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"BMSSysID","select"),onChange:(e,t)=>{Ue(e,t,"BMSSysIDPK")},KeyBack:e=>{qe("BMSSysID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{_e("1483")},Tabledialog:()=>Ge("1483","BMSSysID"),loading:F,clear:e=>{e&&Ye("BMSSysID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{"data-testid":A.BMSSysSubDetailsCode,json:me,SPName:"BMSSysSubDetails",FieldName:"BMSSysSubDetailsCode",tfLabel:Ze("BMSSysSubDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&$e(t),onClick:()=>{Ce&&je(1,"","ClearAll"),ve(!0)},frmctrlid:"fld1479_38998",frmctrlidName:"BMSSysSubDetailsCode",fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{Ce&&je(e,t,"BMSSysSubDetailsCode"),He(t,"BMSSysSubDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ve(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:A.BMSSysSubDetailsCode,loading:F,clear:e=>{e&&(x({type:"text",name:"BMSSysSubDetailsCode",value:""}),ve(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{"data-testid":A.BMSSysSubDetailsName,json:me,SPName:"BMSSysSubDetails",FieldName:"BMSSysSubDetailsName",tfLabel:Ze("BMSSysSubDetailsName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&$e(t),onClick:()=>{be&&je(1,"","ClearAll"),he(!0)},frmctrlid:"fld1479_38999",frmctrlidName:"BMSSysSubDetailsName",fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{be&&je(e,t,"BMSSysSubDetailsName"),He(t,"BMSSysSubDetailsName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:be,SideEntryView:!1,KeyBack:e=>{},value:A.BMSSysSubDetailsName,loading:F,clear:e=>{e&&(x({type:"text",name:"BMSSysSubDetailsName",value:""}),he(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{json:me,id:A.BMSSysDetID,"data-testid":A.BMSSysDetID,value:A.AssetName,SPName:"BMSSysSubDetails",FieldName:"BMSSysDetID",tfLabel:Ze("BMSSysDetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"BMSSysDetID","select"),onChange:(e,t)=>{Ue(e,t,"BMSSysDetIDPK")},KeyBack:e=>{qe("BMSSysDetID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{_e("1514")},Tabledialog:()=>Ge("1514","BMSSysDetID"),loading:F,clear:e=>{e&&Ye("BMSSysDetID")}}))))),n().createElement(Me.Z,null,n().createElement(Ie.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(p.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Be.Z,{style:{padding:"5px 20px 15px"}},n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(de.Z,{json:me,id:A.BMSPointValID,"data-testid":A.BMSPointValID,value:A.BMSPointValName,SPName:"BMSSysSubDetails",FieldName:"BMSPointValID",tfLabel:Ze("BMSPointValID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"BMSPointValID","select"),onChange:(e,t)=>{Ue(e,t,"BMSPointValIDPK")},KeyBack:e=>{qe("BMSPointValID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{_e("1480")},Tabledialog:()=>Ge("1480","BMSPointValID"),loading:F,clear:e=>{e&&Ye("BMSPointValID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(te.Z,{json:me,"data-testid":A.BMSDetValue,SPName:"BMSSysSubDetails",FieldName:"BMSDetValue",tfLabel:Ze("BMSDetValue"),frmctrlid:"fld1479_38441",fieldorder:"2",onChange:e=>{He(e,"BMSDetValue","number")},clear:e=>{e&&x({type:"number",name:"BMSDetValue",number:0})},value:A.BMSDetValue})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(de.Z,{"data-testid":A.BMSPointValDet,json:me,SPName:"BMSSysSubDetails",FieldName:"BMSPointValDet",tfLabel:Ze("BMSPointValDet"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&$e(t),onClick:()=>{Ne&&je(1,"","ClearAll"),Te(!0)},frmctrlid:"fld1479_38440",frmctrlidName:"BMSPointValDet",fieldorder:"3",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{Ne&&je(e,t,"BMSPointValDet"),He(t,"BMSPointValDet","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Te(!0)},showList:Ne,SideEntryView:!1,KeyBack:e=>{},value:A.BMSPointValDet,loading:F,clear:e=>{e&&(x({type:"text",name:"BMSPointValDet",value:""}),Te(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(te.Z,{json:me,"data-testid":A.BSMDetRange1,SPName:"BMSSysSubDetails",FieldName:"BSMDetRange1",tfLabel:Ze("BSMDetRange1"),frmctrlid:"fld1479_38443",fieldorder:"4",onChange:e=>{He(e,"BSMDetRange1","text")},clear:e=>{e&&x({type:"text",name:"BSMDetRange1",value:""})},value:A.BSMDetRange1})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(te.Z,{json:me,"data-testid":A.BSMDetRange2,SPName:"BMSSysSubDetails",FieldName:"BSMDetRange2",tfLabel:Ze("BSMDetRange2"),frmctrlid:"fld1479_38444",fieldorder:"1",onChange:e=>{He(e,"BSMDetRange2","text")},clear:e=>{e&&x({type:"text",name:"BSMDetRange2",value:""})},value:A.BSMDetRange2})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(X.Z,{style:{color:"#337ab7"},"data-testid":A.IsDetEnable,labelPlacement:"end",control:n().createElement(C.Z,{checked:"1"==A.IsDetEnable,onChange:e=>{He(e.target.checked,"IsDetEnable","boolean")},frmctrlid:"fld1479_38442",frmctrlidname:"IsDetEnable",fieldorder:"2",tfLabel:Ze("IsDetEnable")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:A.IsDetEnable?"#21446F":"#999"}},Ze("IsDetEnable"))}))))))),n().createElement("div",{id:"BMSSysSubDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BMSSysSubDetailsSideBar").style.width="0",void b(!1))},""),v&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},T))))))))}));a(77366),a(97829);var Ce=a(65197),ve=a(80920),be=a.n(ve),he=a(5218);const Ne=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),d=((0,s.useSelector)((e=>e.form)),(0,l.useRef)()),[m,S]=(0,l.useState)([]),[c,u]=(0,l.useState)(!0),[p,y]=(0,l.useState)(e.showDetail),[D,M]=(0,l.useState)(""),[I,E]=n().useState(!1),[f,C]=n().useState(""),[v,b]=n().useState(!1),h=(0,l.useContext)(xe),{cstate:N,cdispatch:T}=Fe(),[w,A]=(0,l.useState)(!1),[x,F]=(0,l.useState)(""),[R,k]=(0,l.useState)(""),[L,Z]=(0,l.useState)("");let V=(0,B.Z)();(0,l.useEffect)((()=>{N.editData.length>0&&(S(N.editData),E(!1),T({type:"PrimaryId",payload:N.editData[0].BMSSysSubDetailsIDPK}))}),[N.editData]),(0,l.useEffect)((()=>{N.showTableview&&Z(N.showTableview)}),[N.showTableview]),(0,l.useEffect)((()=>{u(N.ExpandDetailValue)}),[N.ExpandDetailValue]),(0,l.useEffect)((()=>{u(N.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{u(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=g.v.Api+"FP1479S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:1,p43:10,p44:N.IsDraft?"DraftBMSSysSubDetailsID":"BMSSysSubDetailsID",p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}};(0,Q.Z)(0).then((e=>{(0,o.Z)(l,n,e).then((e=>{h.loading(!1),"200"==e.Output.status.code&&S(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const O=e=>V?.[e]?V?.[e]:e,z=e=>N.language?.[e]?N.language[e]:e;function _(e,t){"BMSPointValIDPK"===e&&(h.openNav(),setTimeout((function(){d.current.viewlistProps(t)}),1e3),h.SlideComponentType(n().createElement("div",{id:"divBMSPointsValRegistry-View",style:{width:"100%"}},n().createElement(he.BMSPointsValRegistryContext.Provider,{value:{cstate:N,cdispatch:T,loading:e=>h.loading(e),alert:e=>h.alert(e),openNav:()=>h.openNav(),SlideComponentType:e=>h.SlideComponentType(e)}},n().createElement(be(),{viewonly:!0,ref:d})))))}const G=(e,t)=>(a,l)=>{C(v?Object.assign(...m.filter((e=>e.BMSSysSubDetailsIDPK==t)).map((e=>e))):N.editData),E(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:c,onChange:()=>()=>{e.expandTable&&u(!c)}},!I&&n().createElement(P.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},c?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},N.IsDraft?O("Draft"):"",z("BMSSysSubDetails"),e.viewonly?" ":"("+N.count+")")):"",c?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&N.AccessRights.IsAdd?n().createElement(K.Z,{name:O("Add"),frmctrlid:"fld1479L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{h.hideAddBtn(!0),T({type:"editData",payload:[]}),T({type:"ShowDetail",payload:!1}),T({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&N.AccessRights.IsEdit?n().createElement(J.Z,{frmctrlid:"fld1479L1VCEditBtn",onClick:G("panel0",""),disabled:!1}):N.IsDraft&&N.AccessRights.IsAdd&&n().createElement(J.Z,{frmctrlid:"fld1479L1VCEditBtnIsAdd",onClick:()=>{G("panel","")},disabled:!1}),!e.viewonly&&n().createElement(W.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1479L1VCCloseBtn",onClick:()=>{u(!1),h.hideAddBtn(!1),v&&(T({type:"editData",payload:[]}),S([]))}})):"")),n().createElement(r.Z,{style:{display:"block"}},m.map(((t,l)=>n().createElement("div",{key:l},I==="panel"+l?n().createElement(fe,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Ce.Z,{tableName:"BMSSysSubDetails",tableID:1479,parentID:t.BMSSysSubDetailsIDPK,fldid:"fld1479L1VCContainer",OpenSlideComponent:_,index:l,refresh:L,val:t,tf:z,t:O,title:"10.0.0.41-4:59:24 PM-25-5[1479]"}))))))))}));var Te=a(67698),we=a(55995),Ae=a(45965),Pe=a(41722);a(9175);const xe=(0,l.createContext)(),Fe=()=>{const e=(0,l.useContext)(xe);if(void 0===e)throw new Error("useCont must be used within  BMSSysSubDetailsContext Provider");return e},Re=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),r=(0,l.useRef)(),d=(0,l.useRef)(),o=(0,l.useRef)(),[m,S]=(0,l.useState)(!0),[c,u]=(0,l.useState)(),p=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[y,g]=(0,l.useState)(0),[D,M]=(0,l.useReducer)(Pe.D,Pe.E),[B,I]=(0,l.useState)(""),[E,f]=(0,l.useState)([]),[C,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divBMSSysSubDetails-Entry").style.width="100%",document.getElementById("BMSSysSubDetails-MainTable").style.width="100%",document.getElementById("BMSSysSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{S(!0),document.getElementById("divBMSSysSubDetails-Entry").style.width="100%",document.getElementById("BMSSysSubDetails-MainTable").style.width="100%",document.getElementById("BMSSysSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(M({type:"editData",payload:[e.editData]}),M({type:"ShowDetail",payload:!0}))}),[e.editData]);const b=e=>{f([]),document.getElementById("divBMSSysSubDetails-Entry").style.width="100%",document.getElementById("BMSSysSubDetailsEntryTable").style.width="100%",document.getElementById("BMSSysSubDetails-MainEntry").style.width="100%",document.getElementById("BMSSysSubDetails-MainEntry").style.display="block",document.getElementById("BMSSysSubDetails-MainDiv").classList.add("displayFlex"),document.getElementById("BMSSysSubDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBMSSysSubDetails").style.width="0%",document.getElementById("overlayimgAttBMSSysSubDetails").style.display="none"};return(0,l.useEffect)((()=>{p((e=>{(0,Q.Z)(1).then((e=>{var t=new Array;t.push(e),M({type:"token",payload:t}),g(t.length)}))}))}),[]),n().createElement("div",{style:{width:"100%"}},n().createElement(xe.Provider,{value:{cstate:D,cdispatch:M,ContextApi:Fe,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{o.current.tempsave(e,E),f([])},EditClose:e=>{b()},AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayimgAttBMSSysSubDetails").style.width="25%",document.getElementById("overlayPreviewBMSSysSubDetails").style.width="50%",document.getElementById("divBMSSysSubDetails-Entry").style.width="100%",document.getElementById("BMSSysSubDetails-MainTable").style.width="100%",document.getElementById("BMSSysSubDetails-MainEntry").style.width="100%",document.getElementById("BMSSysSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysSubDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBMSSysSubDetails").style.display="block",document.getElementById("overlayimgAttBMSSysSubDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&r.current.tableClick(e),M({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&r.current.viewtoggle()},clear:e=>{M({type:"ShowDetail",payload:!1}),M({type:"editData",payload:[]}),D.ShowDetail?r.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?r.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{o.current.tempClear(),d.current.clrImgstate(!0)},select:t=>e.edit(t)}},n().createElement("div",{id:"BMSSysSubDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"BMSSysSubDetails-MainEntry",className:"Maincontent",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"BMSSysSubDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSSysSubDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Ne,{ref:r}):null)),n().createElement(we.Z,{ref:o,menurefID:1479,fileId:"LogoImgBMSSysSubDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewBMSSysSubDetails",frmctrlid:"PvwIm_1479_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),f(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSSysSubDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(fe,{ref:i,clrImgstate:e=>d.current.clrImgstate(e)}))),n().createElement(we.Z,{ref:o,menurefID:1479,fileId:"LogoImgBMSSysSubDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewBMSSysSubDetails",frmctrlid:"PvwIm_1479_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),f(e)},clearTempData:D.Add})),n().createElement("div",{id:"BMSSysSubDetails-MainTable"},0!==y?n().createElement($,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview,detailId:e.detailId}):null)),n().createElement(Te.Z,{ImgAttachment:e=>b(),menurefID:1479,fileId:"AttImgBMSSysSubDetails",imgid:"overlayimgAttBMSSysSubDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewBMSSysSubDetails",ref:d,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1479_L1_",timglist:e=>{o.current.timglist(e),f(e)},clearTempData:D.Add}))),n().createElement("div",{id:"BMSSysSubDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}));window.clickFilter="";const ke=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),S=(0,l.useRef)(null),[u]=((0,l.useRef)(null),(0,s.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[p]=(0,l.useState)("1514"),[y,D]=(0,l.useState)(!1),[f,C]=(0,l.useState)(!1),[v,_]=(0,l.useState)(0),[U,j]=(0,l.useState)(0),[$,W]=(0,l.useState)(0),[J,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ne]=(0,l.useState)([]),[se,ie]=(0,l.useState)({val:"",column:""}),[re,de]=(0,l.useState)([]),[oe,me]=(0,l.useState)(!1),[Se,ce]=(0,l.useState)(""),[ue,pe]=(0,l.useState)(""),[ye,ge]=(0,l.useState)(!1),[De,Me]=(0,l.useState)([]),[Be,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[Ce,ve]=(0,l.useState)({children:[{name:"BMSSysDetails",children:[]}]}),[be,he]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:Ke),{cstate:Te,cdispatch:we}=e.ContextApi?e.ContextApi:ze();let Ae={BMSSysDetIDPK:"",BMSSysDetailCode:"",BMSSysDetailName:"",BMSAssetName:"",IsDefault:"",IsDraft:"",Remarks:"",AssetID:"",SubComponentID:"",BMSSysID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",AssetCategoryID:"",AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:"",AssetTypCode:"",AssetTypeName:"",PriorityID:"",PriorityCode:"",PriorityName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",LocalityID:"",LocalityCode:"",LocalityName:"",StatusID:"",StatusCode:"",StatusName:"",ConditionID:"",ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:"",MakeCode:"",MakeName:"",ModelID:"",ModelCode:"",ModelName:"",ServiceAreaID:"",ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:"",TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",BMSManagedID:"",BMSManagedCode:"",BMSManagedName:"",BMSTypeID:"",BMSTypCode:"",BMSTypeNmae:"",BMSSysCode:"",BMSSysName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Pe,xe]=(0,l.useState)(Ae),[Fe,ke]=(0,l.useState)(Ae),[Le,Ze]=(0,l.useState)(!1),[Ve,Oe]=(0,l.useState)(!0),[_e,Ge]=(0,l.useState)(!1),[Ue,je]=(0,l.useState)(!0),[He,Ye]=(0,l.useState)({BMSSysDetailCode:"",BMSSysDetailName:"",BMSSysName:"",EquipmentName:"",AssetName:"",SubComponentName:""}),[qe,$e]=(0,l.useState)(!1),[We,Je]=(0,l.useState)([]),[Qe,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[nt,st]=(0,l.useState)([]),[it,rt]=(0,l.useState)([]),[dt,ot]=(0,l.useState)(!1),[mt,St]=(0,l.useState)(!1),[ct,ut]=(0,l.useState)(!1),[pt,yt]=(0,l.useState)(""),[gt,Dt]=G()("1514"),[Mt,Bt]=(0,l.useState)({}),It=[{columns:nt,data:te}];let Et=(0,B.Z)();const ft=e=>Et[e]?Et[e]:e,Ct=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{At(gt)}),[gt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(X,Ae,"BMSSysDetID"):de([]))}),[e.parentId]),(0,l.useEffect)((()=>{!be&&e.parentId?Tt(X,Se,"BMSSysDetID"):be&&ke(Se)}),[Se]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{vt(e)},tableRefresh:()=>{Tt(X,Ae,"BMSSysDetID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{ut(!0===e)}})));const vt=e=>{""==e?Tt(X,Ae,Le?"DraftBMSSysDetID":"BMSSysDetID",Le&&"DraftPage"):wt(e,{current:1,pageSize:100}),pe(e)};function bt(t){Ne.loading(!0);let a=g.v.Api+"FP1514S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),Je(e.Output.data),Ne.loading(!1)}}))}function ht(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),_e&&ge(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&je(e.cardview),e.Dialogview&&(C(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&wt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]);const Nt=()=>{Ne.EditClose(!0),oe?(document.getElementById("BMSSysDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BMSSysDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BMSSysDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Ue?(f||(document.getElementById("BMSSysDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("BMSSysDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSSysDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BMSSysDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BMSSysDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BMSSysDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("BMSSysDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!oe},Tt=(t,a,l,n,s,i)=>{Ne.loading(!0),"DraftPage"!==n&&Ze(Te.IsDraft);let r=g.v.Api+"FP1514S3/",d={data:{p1:s||(a&&a.BMSSysDetIDPK?a.BMSSysDetIDPK:null),p2:a&&a.BMSSysDetailCode?a.BMSSysDetailCode:null,p3:a&&a.BMSSysDetailName?a.BMSSysDetailName:null,p4:a&&a.BMSAssetName?a.BMSAssetName:null,p5:null,p6:"DraftBMSSysDetID"==l?"1":"0",p7:null,p8:a&&a.AssetID?a.AssetID:null,p9:a&&a.SubComponentID?a.SubComponentID:null,p10:e.parentId?Number(e.parentId):0,p11:a&&a.IsActive,p12:null,p13:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p14:a&&a.CreatedTtm?a.CreatedTtm:null,p15:a&&a.CreatedTtmType?a.CreatedTtmType:null,p16:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p17:null,p18:a&&a.AssetCategoryID?a.AssetCategoryID:null,p19:a&&a.AssetCategoryCode?a.AssetCategoryCode:null,p20:a&&a.AssetCategoryName?a.AssetCategoryName:null,p21:a&&a.AssetTypeID?a.AssetTypeID:null,p22:a&&a.AssetTypCode?a.AssetTypCode:null,p23:a&&a.AssetTypeName?a.AssetTypeName:null,p24:a&&a.PriorityID?a.PriorityID:null,p25:a&&a.PriorityCode?a.PriorityCode:null,p26:a&&a.PriorityName?a.PriorityName:null,p27:a&&a.DivisionID?a.DivisionID:null,p28:a&&a.DivisionCode?a.DivisionCode:null,p29:a&&a.DivisionName?a.DivisionName:null,p30:a&&a.DisciplineID?a.DisciplineID:null,p31:a&&a.DisciplineCode?a.DisciplineCode:null,p32:a&&a.DisciplineName?a.DisciplineName:null,p33:a&&a.BuildingID?a.BuildingID:null,p34:a&&a.BuildingCode?a.BuildingCode:null,p35:a&&a.BuildingName?a.BuildingName:null,p36:a&&a.FloorID?a.FloorID:null,p37:a&&a.FloorCode?a.FloorCode:null,p38:a&&a.FloorName?a.FloorName:null,p39:a&&a.SpotID?a.SpotID:null,p40:a&&a.SpotCode?a.SpotCode:null,p41:a&&a.SpotName?a.SpotName:null,p42:a&&a.LocalityID?a.LocalityID:null,p43:a&&a.LocalityCode?a.LocalityCode:null,p44:a&&a.LocalityName?a.LocalityName:null,p45:a&&a.StatusID?a.StatusID:null,p46:a&&a.StatusCode?a.StatusCode:null,p47:a&&a.StatusName?a.StatusName:null,p48:a&&a.ConditionID?a.ConditionID:null,p49:a&&a.ConditionCode?a.ConditionCode:null,p50:a&&a.ConditionDesp?a.ConditionDesp:null,p51:a&&a.ConditionName?a.ConditionName:null,p52:a&&a.MakeID?a.MakeID:null,p53:a&&a.MakeCode?a.MakeCode:null,p54:a&&a.MakeName?a.MakeName:null,p55:a&&a.ModelID?a.ModelID:null,p56:a&&a.ModelCode?a.ModelCode:null,p57:a&&a.ModelName?a.ModelName:null,p58:a&&a.ServiceAreaID?a.ServiceAreaID:null,p59:a&&a.ServiceAreaCode?a.ServiceAreaCode:null,p60:a&&a.ServiceAreaName?a.ServiceAreaName:null,p61:a&&a.TradeGroupID?a.TradeGroupID:null,p62:a&&a.TradeGroupCode?a.TradeGroupCode:null,p63:a&&a.TradeGroupName?a.TradeGroupName:null,p64:a&&a.EquipmentName?a.EquipmentName:null,p65:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p66:a&&a.AssetBarcode?a.AssetBarcode:null,p67:a&&a.AssetTagNo?a.AssetTagNo:null,p68:a&&a.BMSManagedID?a.BMSManagedID:null,p69:a&&a.BMSManagedCode?a.BMSManagedCode:null,p70:a&&a.BMSManagedName?a.BMSManagedName:null,p71:a&&a.BMSTypeID?a.BMSTypeID:null,p72:a&&a.BMSTypCode?a.BMSTypCode:null,p73:a&&a.BMSTypeNmae?a.BMSTypeNmae:null,p74:a&&a.BMSSysCode?a.BMSSysCode:null,p75:a&&a.BMSSysName?a.BMSSysName:null,p76:s?1:t.current,p77:t.pageSize,p78:l,p79:null,p80:null,p81:localStorage.getItem("UserGroupID"),p82:localStorage.getItem("userid")}};(0,o.Z)(r,d,Te.token[0]).then((r=>{if(s)(0,V.a)(r,we,n,i,Ne);else if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let e=0;r.Output.data.length>0?(e=parseFloat(r.Output.data[0].TotalCount,10)/10,W(r.Output.data[0].TotalCount),Q(r.Output.data[0].DraftCnt),we({type:"count",payload:r.Output.data[0].TotalCount}),"DraftPage"==n&&Q(r.Output.data[0].TotalCount)):e=0,10==t.pageSize?j(Math.ceil(e)):20==t.pageSize?j(Math.ceil(e/2)):50==t.pageSize?j(Math.ceil(e/5)):100==t.pageSize&&j(Math.ceil(e/10)),de(r.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divBMSSysDetails-Entry").style.height="auto",document.getElementById("divBMSSysDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftBMSSysDetID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Ze(!1)):(de([]),ee({current:1,pageSize:10}),j(0),W(0),we({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[r.Output.status.message]}),Ne.loading(!1)}))};function wt(t,a){Ne.loading(!0);const l=g.v.Api+"FP1514S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Le?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,W(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?j(Math.ceil(t)):20==a.pageSize?j(Math.ceil(t/2)):50==a.pageSize?j(Math.ceil(t/5)):100==a.pageSize&&j(Math.ceil(t/10)),de(e.Output.data),Ne.loading(!1)}else de([]),j(0),W(0),we({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function At(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),we({type:"language",payload:Object.assign({},...n)}),Ye(a.reduce(((e,t)=>(e[t]="",e)),{})),Me(e),Ie(t),fe(a),st(l),rt(a)}const Pt=()=>be?null:n().createElement("div",null,qe?n().createElement(Y.Z,{data:We,expanded:e=>!f&&Ne.Expanded(e),edit:(e,t,a)=>{f?Ne.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:a}))}}):n().createElement(H.Z,{ref:S,frmctrlid:"tblcs_1514_L1_",id:"BMSSysDetailsTable",headerdata:Be,tablesearchparams:He,searchvalue:e=>{Ye(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Bt(t),ee({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Le?"DraftBMSSysDetID":"BMSSysDetID",Le&&"DraftPage")},bodydata:re,ondrag:ht,bodyitem:Ee,visibleitem:Be,isdraft:Le,IsView:!0,IsSub:e.tableview,tableExp:!0,tableID:p,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!f&&Ne.Expanded(e),edit:(e,t,a)=>{f?Ne.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(X,null,t?"DraftBMSSysDetID":"BMSSysDetID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!0,tf:Ct,action:f?"none":"",ViewComp:(e,t)=>{if(e)return n().createElement(Re,{loading:e=>Ne.loading(e),alertmsg:e=>Ne.alert(e),ConfirmAlert:e=>{Ne.ConfirmAlert(e)},data:Te.editData,AddOpen:Te.EditOpen,accessrights:Te.AccessRights,parentId:t.BMSSysID,detailId:t.BMSSysDetIDPK,IsDraft:Te.EditIsDraft,edit:e=>{Object.keys(t).map(((e,a)=>{e.includes("IDPK")&&Tt(X,null,Le?"DraftBMSSysDetID":"BMSSysDetID",Le&&"DraftPage",t[e],!1)})),Ne.hideAddBtn(!0),Ne.SubAddOpen(e)},tableview:e,subForm:e})}}));return(0,l.useEffect)((()=>{Ge(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!ct&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld1514L1ECSearchBar",className:"searchbar1"},n().createElement(M.Z,{frmctrlid:"fld1514L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:ft("Search"),value:ue,onChange:e=>{pe(e),Ne.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld1514L1TCCloseIconCommonSearch",onClick:()=>{pe(""),Ne.searchItem("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1514L1TCInputSearchIcon"},n().createElement(A.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("BMSSysDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(K.Z,{className:"SaveBtnCommon",frmctrlid:"fld1514L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})}}):"")),n().createElement(i.Z,{expanded:Ve,onChange:()=>()=>{Oe(_e)}},e.Dialogview&&n().createElement(P.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.42-06:42:45 PM-26-5[1514]"},`${Ct("1514")} (${$})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld1514L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(M.Z,{frmctrlid:"fld1514L1TCInputSearch",className:"search_input",type:"text",placeholder:ft("Search"),value:ue,onChange:e=>{vt(e)}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld1514L1TCInputCloseIcon",onClick:()=>{vt("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1514L1TCInputSearchIcon"},n().createElement(A.Z,{className:"InputSearchIcon"}))))))),n().createElement(r.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"BMSSysDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&n().createElement("div",{frmctrlid:"fld1514L1TCFilterDataIsDraft",id:"BMSSysDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Nt()}},n().createElement(c.ZP,{title:ft("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},ft("Filter Data"))),!f&&!Le&&!be&&n().createElement(h.Z,{formctrlidprint:"fld1514L1TCExportPrint",formctrlidexport:"fld1514L1TCExportTable",formctrlidrefresh:"fld1514L1TCExportRefresh",title:Ct("BMSSysDetails"),data:le,exportData:It,Items:it,columnIndex:nt,TableVisibleItem:Be,userGridViewFormID:p,TableTotalCount:$,triggerApi:t=>{((t,l,n,s,i)=>{if(0===$)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let r=g.v.Api+"FP1514S3/",d={data:{p1:t&&t.BMSSysDetIDPK?t.BMSSysDetIDPK:null,p2:t&&t.BMSSysDetailCode?t.BMSSysDetailCode:null,p3:t&&t.BMSSysDetailName?t.BMSSysDetailName:null,p4:t&&t.BMSAssetName?t.BMSAssetName:null,p5:null,p6:Le?"1":"0",p7:null,p8:t&&t.AssetID?t.AssetID:null,p9:t&&t.SubComponentID?t.SubComponentID:null,p10:e.parentId?Number(e.parentId):0,p11:t&&t.IsActive,p12:null,p13:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p14:t&&t.CreatedTtm?t.CreatedTtm:null,p15:t&&t.CreatedTtmType?t.CreatedTtmType:null,p16:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p17:null,p18:t&&t.AssetCategoryID?t.AssetCategoryID:null,p19:t&&t.AssetCategoryCode?t.AssetCategoryCode:null,p20:t&&t.AssetCategoryName?t.AssetCategoryName:null,p21:t&&t.AssetTypeID?t.AssetTypeID:null,p22:t&&t.AssetTypCode?t.AssetTypCode:null,p23:t&&t.AssetTypeName?t.AssetTypeName:null,p24:t&&t.PriorityID?t.PriorityID:null,p25:t&&t.PriorityCode?t.PriorityCode:null,p26:t&&t.PriorityName?t.PriorityName:null,p27:t&&t.DivisionID?t.DivisionID:null,p28:t&&t.DivisionCode?t.DivisionCode:null,p29:t&&t.DivisionName?t.DivisionName:null,p30:t&&t.DisciplineID?t.DisciplineID:null,p31:t&&t.DisciplineCode?t.DisciplineCode:null,p32:t&&t.DisciplineName?t.DisciplineName:null,p33:t&&t.BuildingID?t.BuildingID:null,p34:t&&t.BuildingCode?t.BuildingCode:null,p35:t&&t.BuildingName?t.BuildingName:null,p36:t&&t.FloorID?t.FloorID:null,p37:t&&t.FloorCode?t.FloorCode:null,p38:t&&t.FloorName?t.FloorName:null,p39:t&&t.SpotID?t.SpotID:null,p40:t&&t.SpotCode?t.SpotCode:null,p41:t&&t.SpotName?t.SpotName:null,p42:t&&t.LocalityID?t.LocalityID:null,p43:t&&t.LocalityCode?t.LocalityCode:null,p44:t&&t.LocalityName?t.LocalityName:null,p45:t&&t.StatusID?t.StatusID:null,p46:t&&t.StatusCode?t.StatusCode:null,p47:t&&t.StatusName?t.StatusName:null,p48:t&&t.ConditionID?t.ConditionID:null,p49:t&&t.ConditionCode?t.ConditionCode:null,p50:t&&t.ConditionDesp?t.ConditionDesp:null,p51:t&&t.ConditionName?t.ConditionName:null,p52:t&&t.MakeID?t.MakeID:null,p53:t&&t.MakeCode?t.MakeCode:null,p54:t&&t.MakeName?t.MakeName:null,p55:t&&t.ModelID?t.ModelID:null,p56:t&&t.ModelCode?t.ModelCode:null,p57:t&&t.ModelName?t.ModelName:null,p58:t&&t.ServiceAreaID?t.ServiceAreaID:null,p59:t&&t.ServiceAreaCode?t.ServiceAreaCode:null,p60:t&&t.ServiceAreaName?t.ServiceAreaName:null,p61:t&&t.TradeGroupID?t.TradeGroupID:null,p62:t&&t.TradeGroupCode?t.TradeGroupCode:null,p63:t&&t.TradeGroupName?t.TradeGroupName:null,p64:t&&t.EquipmentName?t.EquipmentName:null,p65:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p66:t&&t.AssetBarcode?t.AssetBarcode:null,p67:t&&t.AssetTagNo?t.AssetTagNo:null,p68:t&&t.BMSManagedID?t.BMSManagedID:null,p69:t&&t.BMSManagedCode?t.BMSManagedCode:null,p70:t&&t.BMSManagedName?t.BMSManagedName:null,p71:t&&t.BMSTypeID?t.BMSTypeID:null,p72:t&&t.BMSTypCode?t.BMSTypCode:null,p73:t&&t.BMSTypeNmae?t.BMSTypeNmae:null,p74:t&&t.BMSSysCode?t.BMSSysCode:null,p75:t&&t.BMSSysName?t.BMSSysName:null,p76:X.current,p77:$,p78:Le?"DraftBMSSysDetID":"BMSSysDetID",p79:null,p80:null,p81:localStorage.getItem("UserGroupID"),p82:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${Ct(1514)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,o.Z)(r,d,Te.token[0],i).then((e=>{(0,z.PDF_Excel_Generate)(e,Ne,it,ae,a,i)}))})(Se,se.column,0,0,t)},Refresh:()=>{pe(""),ee({current:1,pageSize:100}),S.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Ae,"DraftBMSSysDetID"):Tt({current:1,pageSize:100},Ae,"BMSSysDetID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Le&&!be&&!f&&n().createElement("div",{className:"buttoncard",onClick:()=>St(!mt)},n().createElement("span",null,mt?n().createElement(c.ZP,{disableFocusListener:!0,title:ft("Less"),placement:"top"},n().createElement("span",{id:"fld1514L1TCLess"},n().createElement(R.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(c.ZP,{disableFocusListener:!0,title:ft("More"),placement:"top"},n().createElement("span",{id:"fld1514L1TCMore"},n().createElement(R.ilJ,{className:"tableFilterColumnIcon"}))))),mt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},be||!_e?null:f||!Te.AccessRights.IsAdd||Le?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld1514L1TCFilterDataIsAdd",id:"BMSSysDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),ye?(document.getElementById("BMSSysDetailsFilterDiv").style.width="0%",document.getElementById("BMSSysDetailsTabDiv").style.width="100%",document.getElementById("BMSSysDetailsFilterDiv").style.display="none",document.getElementById("BMSSysDetailscoldiv").style.width="fit-content",document.getElementById("BMSSysDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("BMSSysDetailsFilterDiv").style.width="25%",document.getElementById("BMSSysDetailsTabDiv").style.width="75%",document.getElementById("BMSSysDetailsFilterDiv").style.display="block",document.getElementById("BMSSysDetailsfildiv").style.width="fit-content",document.getElementById("BMSSysDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSSysDetailscoldiv").style.width="fit-content",document.getElementById("BMSSysDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),me(!1)}},n().createElement(c.ZP,{title:ft("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(O.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},ft("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!f&&_e&&!be&&!Le&&n().createElement("div",null,n().createElement("div",{id:"BMSSysDetailscoldiv",className:"buttoncard",onClick:()=>{qe?$e(!1):($e(!0),bt({current:1,pageSize:100}))}},n().createElement(c.ZP,{title:ft("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld1514L1TCTableScrollData"},n().createElement(q.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},ft("Table Scroll Data")))),!be&&Le?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Tt({current:1,pageSize:100},Ae,"BMSSysDetID"),Ze(!1),pe(""),we({type:"IsDraft",payload:!1}),ee({current:1,pageSize:10})}},n().createElement(c.ZP,{title:ft("List"),placement:"top"},n().createElement("div",{id:"fld1514L1TCList"},n().createElement(k.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},ft("Drafts")," ",$)):!f&&!be&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:J,showZero:!0},n().createElement("div",{id:"fld1514L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{J>0?(ee({current:1,pageSize:100}),_(0),Ne.clear(),pe(""),we({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Ae,"DraftBMSSysDetID"),Ze(!0),we({type:"IsDraft",payload:!0}),ge(!1),je(!0),document.getElementById("BMSSysDetailsFilterDiv").style.width="0%",document.getElementById("BMSSysDetailsTabDiv").style.width="100%",document.getElementById("BMSSysDetailsFilterDiv").style.display="none",ee({current:1,pageSize:100}),he(!1)):Ne.alert({open:!0,color:"warning",message:[ft("There is no Record Found")]})}},n().createElement(c.ZP,{title:ft("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(L.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},ft("Drafts"))))))):""),!Le&&!f&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},be||Le?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ue?"buttonList":"buttonGrid",id:"fld1514L1TCListView",onClick:()=>{je(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(R.umT,null)),n().createElement("span",null,ft("List"))),n().createElement("div",{className:Ue||dt?"buttonGrid":"buttonList",id:"fld1514L1TCCardView",onClick:()=>{je(!1),ot(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(E.aCJ,null)),n().createElement("span",null,ft("Card"))),n().createElement("div",{className:dt?"buttonList":"buttonGrid",id:"fld1514L1TCTileView",onClick:()=>{ot(!0),je(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(Z.f_H,null)),n().createElement("span",null,ft("Tile"))))))),be?null:qe?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld1514L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:v,onPageChange:(e,t)=>{_(t),bt({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(N.Z,{count:Qe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),bt({current:t,pageSize:at.pageSize})}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld1514L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),bt({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),_e&&n().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",et,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld1514L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number($),page:v,onPageChange:(e,t)=>{_(t),Tt({current:t+1,pageSize:X.pageSize},Ae,Le?"DraftBMSSysDetID":"BMSSysDetID",Le&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(N.Z,{count:U,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),Le)Tt({current:t,pageSize:X.pageSize},Pe,"DraftBMSSysDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ue.length>0?wt(ue,{current:t,pageSize:X.pageSize}):Tt({current:t,pageSize:X.pageSize},Pe,"BMSSysDetID")}}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:X.pageSize,id:"fld1514L1TCSelectPaging",onChange:e=>{ee({current:1,pageSize:e.target.value}),Le?Tt({current:1,pageSize:e.target.value},Pe,"DraftBMSSysDetID","DraftPage"):ue.length>0?wt(ue,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Pe,"BMSSysDetID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),_e&&n().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",$,") "))),n().createElement("div",{id:"BMSSysDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"BMSSysDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},oe&&n().createElement(b,{parentId:e.parentId,searchData:e=>{ce(e||Mt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:p,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>Nt(),userGrid:gt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]})}),ye&&n().createElement(w.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Ae,"BMSSysDetID")},frmctrlid:"fld1514L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:ye,userID:u,userGridViewFormID:p,saved:(e,t)=>{e&&At(t),Dt(t),we({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"BMSSysDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ue?n().createElement(Pt,null):n().createElement(F.Z,{frmctrlid:"fld1514L1TCExpandedCardDual",data:re,id:"BMSSysDetails",title:"AssetName",cardTile:!!dt,visibleitem:Be,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{f?Ne.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),oe?me(!0):ye?ge(!0):(ge(!1),ge(!1))),Ne.hideAddBtn(!0)}})))))))})),Le={EnterKeyValues:{BMSSysDetails:["BMSSysDetailCode","BMSSysDetailName","BMSSysName","EquipmentName","AssetName","SubComponentName"]},Label:{BMSSysDetails:{BMSSysDetailCode:["AssetName","BMSSysDetailCode","BMSSysDetailName"],BMSSysDetailName:["AssetName","BMSSysDetailCode","BMSSysDetailName"],BMSSysID:["AssetName","BMSSysDetailCode","BMSSysDetailName"],AssetID:["AssetTagNo","EquipmentName"],AssetName:["AssetName","BMSSysDetailCode","BMSSysDetailName"],SubComponentID:["AssetName","BMSSysDetailCode","BMSSysDetailName"]}},LabelHeader:{BMSSysDetails:{BMSSysDetailCode:["Asset","BMSSysDetailCode","BMSSysDetailName"],BMSSysDetailName:["Asset","BMSSysDetailCode","BMSSysDetailName"],BMSSysID:["AssetName","BMSSysDetailCode","BMSSysDetailName"],AssetID:["Asset Tag No","Asset Name"],AssetName:["Asset","BMSSysDetailCode","BMSSysDetailName"],SubComponentID:["AssetName","BMSSysDetailCode","BMSSysDetailName"]}},Property:{BMSSysDetails:{BMSSysDetailCode:{id:"fld1514_38981",labelID:"BMSSysDetailCode",maxLength:"50",labelname:"",frmctrlid:"fld1514_38981",frmctrlidname:"BMSSysDetailCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSSysDetailName:{id:"fld1514_38982",labelID:"BMSSysDetailName",maxLength:"-1",labelname:"",frmctrlid:"fld1514_38982",frmctrlidname:"BMSSysDetailName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSSysID:{id:"fld1514_38989",clearID:"BMSSysDetailsBMSSysNameClear",type:"select",labelID:"BMSSysIDPK",labelname:"",fielddisplayname:"BMSSysName",fieldOrder:"1",frmctrlid:"fld1514_38989",frmctrlidname:"BMSSysID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},AssetID:{id:"fld1514_38987",clearID:"BMSSysDetailsEquipmentNameClear",type:"select",labelID:"AssetIDPK",labelname:"Asset",fielddisplayname:"EquipmentName",fieldOrder:"1",frmctrlid:"fld1514_38987",frmctrlidname:"AssetID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},AssetName:{id:"fld1514_38983",labelID:"AssetName",maxLength:"50",labelname:"Asset",frmctrlid:"fld1514_38983",frmctrlidname:"AssetName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},SubComponentID:{id:"fld1514_38988",clearID:"BMSSysDetailsSubComponentNameClear",type:"select",labelID:"SubComponentIDPK",labelname:"Sub Component",fielddisplayname:"SubComponentName",fieldOrder:"1",frmctrlid:"fld1514_38988",frmctrlidname:"SubComponentID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{BMSSysDetails:{BMSSysID:["BMSSysCode","BMSSysName","BMSMac","BMSSerial","IsAsset","IsCCM","BMSTypeID","BMSManagedID"],AssetID:["AssetTagNo","EquipmentName","EquipmentRefNo","AssetSerialNo","AssetBarcode","CreatedTtm","IsActive","IsDraft"],SubComponentID:["SubTagNo","SubComponentName","SubAssetBarCode","DivisionName","DisciplineName"]}}},Ze={BMSSysDetIDPK:"",BMSSysDetailCode:"",BMSSysDetailName:"",BMSAssetName:"",IsDefault:!1,IsDraft:!1,Remarks:"",AssetID:null,SubComponentID:null,BMSSysID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",AssetCategoryID:null,AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:null,AssetTypCode:"",AssetTypeName:"",PriorityID:null,PriorityCode:"",PriorityName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",LocalityID:null,LocalityCode:"",LocalityName:"",StatusID:null,StatusCode:"",StatusName:"",ConditionID:null,ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:null,MakeCode:"",MakeName:"",ModelID:null,ModelCode:"",ModelName:"",ServiceAreaID:null,ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:null,TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",BMSManagedID:null,BMSManagedCode:"",BMSManagedName:"",BMSTypeID:null,BMSTypCode:"",BMSTypeNmae:"",BMSSysCode:"",BMSSysName:"",Type:"BMSSysDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ve=(0,l.forwardRef)(((e,t)=>{const a=(0,s.useSelector)((e=>e.form)),[d,m]=(0,l.useState)(!1),[S,c]=(0,l.useState)(!0),[u,D]=(0,l.useState)(!1),[M,I]=(0,l.useState)(!1),[E,f]=(0,l.useState)(""),[v,b]=(0,l.useState)(!1),[h,N]=(0,l.useState)([]),[T,w]=(0,l.useState)(null),[A,x]=(0,l.useReducer)(oe.Z,Ze),[F,R]=(0,l.useState)(!1),[k,L]=(0,l.useState)([]),[Z,V]=(0,l.useState)(!1),O=(0,l.useContext)(e.context?e.context:Ke),{cstate:K,cdispatch:z}=e.ContextApi?e.ContextApi:ze(),[_,G]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),H=(0,l.useRef)(null),[Y,q]=De()("1514"),[$,J]=(0,l.useState)(!1),le=(0,l.useRef)(null),[ie,me]=(0,l.useState)(!0),[Se,ce]=(0,l.useState)(!0),[ge,Ee]=(0,l.useState)(!1);let Ce=(0,B.Z)();const[ve,be]=(0,l.useState)({}),he=e=>Ce[e]?Ce[e]:e,Ne=t=>K.language?.[t]?K.language[t]:e.createEasy?ve?.[t]:t;(0,l.useEffect)((()=>{K.PrimaryId&&G(Number(K.PrimaryId))}),[K.PrimaryId]),(0,l.useEffect)((()=>{we()}),[]),(0,l.useEffect)((()=>{we()}),[e.parentId]),(0,l.useEffect)((()=>{K.editData.length>0?(Te(K.editData[0],""),D(!0)):K.Add&&(we(),D(!0))}),[K.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),be(Object.assign({},...t))}(Y)}),[Y]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{we()},CreateEasyProps:(e=!0,t)=>{q(!0),t?(Ue(t),D(e)):(we(),D(e))},AddOpen:e=>{we(),D(!0)},SubAddOpen:e=>{J(!0),setTimeout((function(){le.current.AddOpen(e)}),500)}})));const Te=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultBMSSysDetID"==a?j(t.BMSSysDetIDPK):(G(e.primid?Number(e.primid):t.BMSSysDetIDPK),z({type:"PrimaryId",payload:t.BMSSysDetIDPK})),x({type:"text",name:"BMSSysDetailCode",value:t.BMSSysDetailCode?t.BMSSysDetailCode:""}),x({type:"text",name:"BMSSysDetailName",value:t.BMSSysDetailName?t.BMSSysDetailName:""}),x({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),x({type:"number",name:"BMSSysID",number:t.BMSSysID?Number(t.BMSSysID):0}),x({type:"text",name:"BMSSysName",value:t.BMSSysName}),x({type:"number",name:"AssetID",number:t.AssetID?Number(t.AssetID):0}),x({type:"text",name:"EquipmentName",value:t.EquipmentName}),x({type:"text",name:"AssetName",value:t.AssetName?t.AssetName:""}),x({type:"number",name:"SubComponentID",number:t.SubComponentID?Number(t.SubComponentID):0}),x({type:"text",name:"SubComponentName",value:t.SubComponentName}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},we=()=>{N([]),G(0),j(""),e.createEasy||O.resetImg(),z({type:"PrimaryId",payload:""}),x({type:"text",name:"BMSSysDetailCode",value:""}),x({type:"text",name:"BMSSysDetailName",value:""}),x({type:"boolean",name:"IsDefault",boolean:!1}),x({type:"text",name:"BMSSysID",value:null}),x({type:"text",name:"BMSSysName",value:""}),document.getElementById("BMSSysDetailsBMSSysNameClear")&&document.getElementById("BMSSysDetailsBMSSysNameClear").click(),x({type:"text",name:"AssetID",value:null}),x({type:"text",name:"EquipmentName",value:""}),document.getElementById("BMSSysDetailsEquipmentNameClear")&&document.getElementById("BMSSysDetailsEquipmentNameClear").click(),x({type:"text",name:"AssetName",value:""}),x({type:"text",name:"SubComponentID",value:null}),x({type:"text",name:"SubComponentName",value:""}),document.getElementById("BMSSysDetailsSubComponentNameClear")&&document.getElementById("BMSSysDetailsSubComponentNameClear").click(),c(!0),f(""),me(!0),ce(!0)};function Ae(t,a,l,n){if(!(K.count>0))return O.alert({open:!0,color:"warning",message:[he("Please save atleast one record")]}),!1;if(!((()=>{const e={...A};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return O.alert({open:!0,color:"warning",message:[he("Please enter the primary fields")]}),!1;{me(!0),ce(!0),O.loading(!0),O.ConfirmAlert(null),z({type:"IsDraft",payload:!1});const a=g.v.Api+"FP1514S1/",l={data:[{p1:"SetDefaultBMSSysDetID"==n?"NORECORDS"!=U&&U?U:0:_,p2:je(A.BMSSysDetailCode),p3:je(A.BMSSysDetailName),p4:je(A.BMSAssetName),p5:A.IsDefault,p6:!0,p7:"SetDefaultBMSSysDetID"==n?"SetDefault":null,p8:A.AssetID?A.AssetID:0,p9:A.SubComponentID?A.SubComponentID:0,p10:e.parentId?Number(e.parentId):A.BMSSysID?A.BMSSysID:0,p11:!1,p12:"SetDefaultBMSSysDetID"==n,p13:localStorage.getItem("userid"),p14:ne()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Q.Z)(0).then((n=>{(0,ee.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?O.alert({open:!0,color:"warning",message:[he("Deleted Successfully")]}):O.alert({open:!0,color:"success",message:[he("Saved to Draft")]}),O.loading(!1),O.attachmentSave(a[0].Data.IDPK),we(),O.RefreshTable(),e.clrImgstate(!0)):(O.alert({open:!0,color:"warning",message:[l.message]}),O.loading(!1))}))}))}}function Pe(e){return CreateEasy(e,K,z,O,H),!1}function Fe(e,a){return AdvanceSearch(e,a,Ke,ze(),Ve,t),!1}const Re=(t,a,l,n,s,i)=>{const r=g.v.Api+"FP1514S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:"0"==A.AssetID?null:A.AssetID,p9:"0"==A.SubComponentID?null:A.SubComponentID,p10:e.parentId?Number(e.parentId):0,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:"0"==A.AssetCategoryID?null:A.AssetCategoryID,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==A.AssetTypeID?null:A.AssetTypeID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==A.PriorityID?null:A.PriorityID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:"0"==A.DivisionID?null:A.DivisionID,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==A.DisciplineID?null:A.DisciplineID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==A.BuildingID?null:A.BuildingID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==A.FloorID?null:A.FloorID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==A.SpotID?null:A.SpotID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==A.LocalityID?null:A.LocalityID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==A.StatusID?null:A.StatusID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==A.ConditionID?null:A.ConditionID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==A.MakeID?null:A.MakeID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==A.ModelID?null:A.ModelID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==A.ServiceAreaID?null:A.ServiceAreaID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==A.TradeGroupID?null:A.TradeGroupID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:"0"==A.BMSManagedID?null:A.BMSManagedID,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:"0"==A.BMSTypeID?null:A.BMSTypeID,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:t,p77:10,p78:l,p79:null,p80:null,p81:localStorage.getItem("UserGroupID"),p82:localStorage.getItem("userid")}},m=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});R(!0);const S={data:m};return(0,o.Z)(r,"ClearAll"==l?S:d,"SetDefaultBMSSysDetID"==l&&n?n:K.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(s)return 1==n.length?n[0]:{};L(1==t?e>0?n:[]:k.concat(n)),"SetDefaultBMSSysDetID"==l&&(e>0?Te(n[0],"SetDefaultBMSSysDetID"):j("NORECORDS")),R(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),R(!1)}))},ke=(t,l,n)=>{const s=g.v.Api+"FP1514S3/",i={data:{p1:null,p2:"BMSSysDetailCode"==n&&l?"%"+l+"%":null,p3:"BMSSysDetailName"==n&&l?"%"+l+"%":null,p4:"BMSAssetName"==n&&l?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:a.BMSSysRegistryBMSSysID?a.BMSSysRegistryBMSSysID:"0",p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:t,p77:10,p78:"BMSSysDetID",p79:null,p80:null,p81:localStorage.getItem("UserGroupID"),p82:localStorage.getItem("userid")}},r={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};R(!0),(0,o.Z)(s,"ClearAll"==n?r:i,K.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("BMSSysDetailCode"==n&&me(e>0),"BMSSysDetailName"==n&&ce(e>0),L(l)):("BMSSysDetailCode"==n&&me(!0),"BMSSysDetailName"==n&&ce(!0),L(k.concat(l))),R(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),R(!1)}))},Ve=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a?x({type:"text",name:t,value:e}):"select"==a&&("BMSSysID"==t||"AssetID"==t&&(x({type:"text",name:"AssetID",value:e.AssetIDPK?e.AssetIDPK:null}),x({type:"text",name:"EquipmentName",value:e.EquipmentName?e.EquipmentName:null})))}),[A]);function Oe(e){if("BMSSysID"==e){if(!A.BMSSysID)return!1}else if("AssetID"==e){if(!A.AssetID)return!1;x({type:"text",name:"AssetID",value:null}),x({type:"text",name:"EquipmentName",value:""}),document.getElementById("BMSSysDetailsEquipmentNameClear")&&document.getElementById("BMSSysDetailsEquipmentNameClear").click()}else if("SubComponentID"==e&&!A.SubComponentID)return!1}function _e(e){if("BMSSysID"==e){if(!A.BMSSysID)return!1}else if("AssetID"==e){if(!A.AssetID)return!1;x({type:"text",name:"AssetID",value:null})}else if("SubComponentID"==e&&!A.SubComponentID)return!1}const Ge=e=>{O.ConfirmAlert(n().createElement(re(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ue(e),onCancel:()=>O.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:he("Yes"),cancelBtnText:he("No"),showCancel:!0},he("Do you want to update this record?")))};function Ue(e){O.ConfirmAlert(null),I(e.IsDraft),G(Number(e.BMSSysDetIDPK)?Number(e.BMSSysDetIDPK):0),x({type:"text",name:"BMSSysDetailCode",value:e.BMSSysDetailCode?e.BMSSysDetailCode:""}),x({type:"text",name:"BMSSysDetailName",value:e.BMSSysDetailName?e.BMSSysDetailName:""}),x({type:"number",name:"BMSSysID",number:e.BMSSysID?Number(e.BMSSysID):0}),x({type:"text",name:"BMSSysName",value:e.BMSSysName?e.BMSSysName:""}),x({type:"number",name:"AssetID",number:e.AssetID?Number(e.AssetID):0}),x({type:"text",name:"EquipmentName",value:e.EquipmentName?e.EquipmentName:""}),x({type:"text",name:"AssetName",value:e.AssetName?e.AssetName:""}),x({type:"number",name:"SubComponentID",number:e.SubComponentID?Number(e.SubComponentID):0}),x({type:"text",name:"SubComponentName",value:e.SubComponentName?e.SubComponentName:""})}const je=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:u,onChange:e=>{}},n().createElement(P.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},u&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.42-06:42:45 PM-26-5[1514]"}," ",he("Add "),Ne("1514")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},K.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(ue.Z,{row:!0},n().createElement(X.Z,{labelPlacement:"bottom",id:"fld1514L1ECEntryCheckbox",control:n().createElement(C.Z,{checked:"1"==S,onChange:e=>c(e.target.checked)}),label:he(1==S?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{O.AttachExpand(!0)},id:"fld1514L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(pe.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,he("Attach")))),!_&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{we()},id:"fld1514L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(pe.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,he("Reset")))),"1"===M&&_&&n().createElement(ae.Z,{frmctrlid:"fld1514L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ae("draftdel")}}),_&&"1"!==M||e.createEasy?null:K.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Ae()},frmctrlid:"fld1514L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,he("Draft")))),K.AccessRights.IsAdd||K.AccessRights.IsEdit?n().createElement(se.Z,{frmctrlid:"fld1514L1ECSaveBtnIsAdd",name:he(_?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?A.AssetID&&0!=A.AssetID?(t=>{O.loading(!0),O.ConfirmAlert(null);const a=g.v.Api+"FP1514S2/",l={data:[{p1:"SetDefaultBMSSysDetID"==t?"NORECORDS"!=U&&U?U:0:_,p2:je(A.BMSSysDetailCode),p3:je(A.BMSSysDetailName),p4:je(A.BMSAssetName),p5:A.IsDefault,p6:!1,p7:"SetDefaultBMSSysDetID"==t?"SetDefault":null,p8:A.AssetID?A.AssetID:0,p9:A.SubComponentID?A.SubComponentID:0,p10:e.parentId?Number(e.parentId):A.BMSSysID?A.BMSSysID:0,p11:S,p12:"SetDefaultBMSSysDetID"==t,p13:localStorage.getItem("userid"),p14:ne()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Q.Z)(0).then((t=>{(0,o.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,s=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(O.alert({open:!0,color:"warning",message:s}),O.loading(!1)):(t=>{me(!0),ce(!0),O.loading(!0),O.ConfirmAlert(null),z({type:"IsDraft",payload:!1});const a=g.v.Api+"FP1514S1/",l={data:[{p1:_,p2:je(A.BMSSysDetailCode),p3:je(A.BMSSysDetailName),p4:je(A.BMSAssetName),p5:A.IsDefault,p6:!1,p7:null,p8:A.AssetID?A.AssetID:0,p9:A.SubComponentID?A.SubComponentID:0,p10:e.parentId?Number(e.parentId):A.BMSSysID?A.BMSSysID:0,p11:S,p12:!1,p13:localStorage.getItem("userid"),p14:ne()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,Q.Z)(0).then((t=>{(0,ee.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(O.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttBMSSysDetails"),O.loading(!1),z({type:"PrimaryId",payload:t[0].Data.IDPK}),J(!0),G(t[0].Data.IDPK),setTimeout((function(){le.current.AddOpen()}),1e3),e.createEasy||(O.RefreshTable(),O.attachmentSave(t[0].Data.IDPK)),document.getElementById("overlayimgAttBMSSysDetails")&&(document.getElementById("overlayimgAttBMSSysDetails").style.width="0%",document.getElementById("overlayimgAttBMSSysDetails").style.display="none",document.getElementById("divBMSSysDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("BMSSysDetails-MainTable").style.display="block")):(O.alert({open:!0,color:"warning",message:[a.message]}),O.loading(!1)),D(!0)}))}))})()):(O.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),O.loading(!1))}))}))})(undefined):O.alert({open:!0,color:"warning",message:[he("Please select the ")+" "+Ne("AssetID")]}):O.alert({open:!0,color:"warning",message:[he("Please select the ")+" "+Ne("BMSSysID")]})}}):null,_?n().createElement(se.Z,{name:he("Add Bin"),disabled:!1,onClick:()=>{J(!0),setTimeout((function(){le.current.AddOpen()}),500)}}):null,!e.createEasy&&n().createElement(W.Z,{disabled:!1,onClick:()=>{we(),D(!1),O.EditClose(!0)}}))))),n().createElement(r.Z,null,n().createElement("div",{id:"BMSSysDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"BMSSysDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"BMSSysDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(Me.Z,null,n().createElement(Ie.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(p.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Be.Z,{style:{padding:"5px 20px 15px"}},n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{"data-testid":A.BMSSysDetailCode,json:Le,SPName:"BMSSysDetails",FieldName:"BMSSysDetailCode",tfLabel:Ne("BMSSysDetailCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{ie&&ke(1,"","ClearAll"),me(!0)},frmctrlid:"fld1514_38981",frmctrlidName:"BMSSysDetailCode",fieldorder:"0",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{ie&&ke(e,t,"BMSSysDetailCode"),Ve(t,"BMSSysDetailCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:A.BMSSysDetailCode,loading:F,clear:e=>{e&&(x({type:"text",name:"BMSSysDetailCode",value:""}),me(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{"data-testid":A.BMSSysDetailName,json:Le,SPName:"BMSSysDetails",FieldName:"BMSSysDetailName",tfLabel:Ne("BMSSysDetailName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{Se&&ke(1,"","ClearAll"),ce(!0)},frmctrlid:"fld1514_38982",frmctrlidName:"BMSSysDetailName",fieldorder:"0",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{Se&&ke(e,t,"BMSSysDetailName"),Ve(t,"BMSSysDetailName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:Se,SideEntryView:!1,KeyBack:e=>{},value:A.BMSSysDetailName,loading:F,clear:e=>{e&&(x({type:"text",name:"BMSSysDetailName",value:""}),ce(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{json:Le,id:A.BMSSysID,"data-testid":A.BMSSysID,value:A.BMSSysName,SPName:"BMSSysDetails",FieldName:"BMSSysID",tfLabel:Ne("BMSSysID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ve(e,"BMSSysID","select"),onChange:(e,t)=>{Re(e,t,"BMSSysIDPK")},KeyBack:e=>{_e("BMSSysID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{Pe("1483")},Tabledialog:()=>Fe("1483","BMSSysID"),loading:F,clear:e=>{e&&Oe("BMSSysID")}}))))),n().createElement(Me.Z,null,n().createElement(Ie.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(p.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Be.Z,{style:{padding:"5px 20px 15px"}},n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(de.Z,{json:Le,id:A.AssetID,"data-testid":A.AssetID,value:A.EquipmentName,SPName:"BMSSysDetails",FieldName:"AssetID",tfLabel:Ne("AssetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ve(e,"AssetID","select"),onChange:(e,t)=>{Re(e,t,"AssetIDPK")},KeyBack:e=>{_e("AssetID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{Pe("801")},Tabledialog:()=>Fe("801","AssetID"),loading:F,clear:e=>{e&&Oe("AssetID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(te.Z,{json:Le,"data-testid":A.AssetName,SPName:"BMSSysDetails",FieldName:"AssetName",tfLabel:Ne("AssetName"),frmctrlid:"fld1514_38983",fieldorder:"1",onChange:e=>{Ve(e,"AssetName","text")},clear:e=>{e&&x({type:"text",name:"AssetName",value:""})},value:A.AssetName})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(de.Z,{json:Le,id:A.SubComponentID,"data-testid":A.SubComponentID,value:A.SubComponentName,SPName:"BMSSysDetails",FieldName:"SubComponentID",tfLabel:Ne("SubComponentID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ve(e,"SubComponentID","select"),onChange:(e,t)=>{Re(e,t,"SubComponentIDPK")},KeyBack:e=>{_e("SubComponentID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{Pe("72")},Tabledialog:()=>Fe("72","SubComponentID"),loading:F,clear:e=>{e&&Oe("SubComponentID")}})))))),$&&n().createElement("div",{id:"div-Entry",style:{width:"100%",display:$?"block":"none"}},n().createElement(xe.Provider,{value:{cstate:K,cdispatch:z,loading:e=>O.loading(e),alert:e=>O.alert(e),openNav:e=>O.openNav(e),SlideComponentType:e=>O.SlideComponentType(e),ConfirmAlert:e=>O.ConfirmAlert(e),openDialog:e=>O.openDialog(e),DialogComponentType:e=>O.DialogComponentType(e)}},n().createElement(fe,{createEasy:!0,ref:le,detailId:_,parentId:e.parentId,parentData:A}))),n().createElement("div",{id:"BMSSysDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BMSSysDetailsSideBar").style.width="0",void b(!1))},""),v&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},T))))))))}));a(64170);const Oe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[d,m]=((0,s.useSelector)((e=>e.form)),(0,l.useState)([])),[S,c]=(0,l.useState)(!0),[u,p]=(0,l.useState)(e.showDetail),[y,D]=(0,l.useState)(""),[M,I]=n().useState(!1),[E,f]=n().useState(""),[C,v]=n().useState(!1),b=(0,l.useContext)(Ke),{cstate:h,cdispatch:N}=ze(),[T,w]=(0,l.useState)(!1),[A,x]=(0,l.useState)(""),[F,R]=(0,l.useState)(""),[k,L]=(0,l.useState)("");let Z=(0,B.Z)();(0,l.useEffect)((()=>{h.editData.length>0&&(m(h.editData),I(!1),N({type:"PrimaryId",payload:h.editData[0].BMSSysDetIDPK}))}),[h.editData]),(0,l.useEffect)((()=>{h.showTableview&&L(h.showTableview)}),[h.showTableview]),(0,l.useEffect)((()=>{c(h.ExpandDetailValue)}),[h.ExpandDetailValue]),(0,l.useEffect)((()=>{c(h.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),I(null)},viewtoggle:()=>{I(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=g.v.Api+"FP1514S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:1,p77:10,p78:h.IsDraft?"DraftBMSSysDetID":"BMSSysDetID",p79:null,p80:null,p81:localStorage.getItem("UserGroupID"),p82:localStorage.getItem("userid")}};(0,Q.Z)(0).then((e=>{(0,o.Z)(l,n,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const V=e=>Z?.[e]?Z?.[e]:e,O=e=>h.language?.[e]?h.language[e]:e;function z(e,t){}const _=(e,t)=>(a,l)=>{f(C?Object.assign(...d.filter((e=>e.BMSSysDetIDPK==t)).map((e=>e))):h.editData),I(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:S,onChange:()=>()=>{e.expandTable&&c(!S)}},!M&&n().createElement(P.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},S?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},h.IsDraft?V("Draft"):"",O("BMSSysDetails"),e.viewonly?" ":"("+h.count+")")):"",S?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&h.AccessRights.IsAdd?n().createElement(K.Z,{name:V("Add"),frmctrlid:"fld1514L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),N({type:"editData",payload:[]}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&h.AccessRights.IsEdit?n().createElement(J.Z,{frmctrlid:"fld1514L1VCEditBtn",onClick:_("panel0",""),disabled:!1}):h.IsDraft&&h.AccessRights.IsAdd&&n().createElement(J.Z,{frmctrlid:"fld1514L1VCEditBtnIsAdd",onClick:()=>{_("panel","")},disabled:!1}),!e.viewonly&&n().createElement(W.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1514L1VCCloseBtn",onClick:()=>{c(!1),b.hideAddBtn(!1),C&&(N({type:"editData",payload:[]}),m([]))}})):"")),n().createElement(r.Z,{style:{display:"block"}},d.map(((t,l)=>n().createElement("div",{key:l},M==="panel"+l?n().createElement(Ve,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Ce.Z,{tableName:"BMSSysDetails",tableID:1514,parentID:t.BMSSysDetIDPK,fldid:"fld1514L1VCContainer",OpenSlideComponent:z,index:l,refresh:k,val:t,tf:O,t:V,title:"10.0.0.42-06:42:45 PM-26-5[1514]"}))))))))})),Ke=(0,l.createContext)(),ze=()=>{const e=(0,l.useContext)(Ke);if(void 0===e)throw new Error("useCont must be used within  BMSSysDetailsContext Provider");return e},_e=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),r=(0,l.useRef)(),d=(0,l.useRef)(),o=(0,l.useRef)(),[m,S]=(0,l.useState)(!0),[c,u]=(0,l.useState)(),p=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[y,g]=(0,l.useState)(0),[D,M]=(0,l.useReducer)(Pe.D,Pe.E),[B,I]=(0,l.useState)(""),[E,f]=(0,l.useState)([]),[C,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divBMSSysDetails-Entry").style.width="100%",document.getElementById("BMSSysDetails-MainTable").style.width="100%",document.getElementById("BMSSysDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{S(!0),document.getElementById("divBMSSysDetails-Entry").style.width="100%",document.getElementById("BMSSysDetails-MainTable").style.width="100%",document.getElementById("BMSSysDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(M({type:"editData",payload:[e.editData]}),M({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{M(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{f([]),document.getElementById("divBMSSysDetails-Entry").style.width="100%",document.getElementById("BMSSysDetailsEntryTable").style.width="100%",document.getElementById("BMSSysDetails-MainEntry").style.width="100%",document.getElementById("BMSSysDetails-MainEntry").style.display="block",document.getElementById("BMSSysDetails-MainDiv").classList.add("displayFlex"),document.getElementById("BMSSysDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBMSSysDetails").style.width="0%",document.getElementById("overlayimgAttBMSSysDetails").style.display="none"};(0,l.useEffect)((()=>{p((e=>{(0,Q.Z)(1).then((e=>{var t=new Array;t.push(e),M({type:"token",payload:t}),g(t.length),h(e)}))}))}),[]);const h=e=>{(0,Ae.Z)(e,1483).then((e=>M({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(Ke.Provider,{value:{cstate:D,cdispatch:M,ContextApi:ze,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{o.current.tempsave(e,E),f([])},EditClose:e=>{b(),a.current.HideEntryFields(!1)},AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewBMSSysDetails").style.width="50%",document.getElementById("divBMSSysDetails-Entry").style.width="100%",document.getElementById("BMSSysDetails-MainTable").style.width="100%",document.getElementById("BMSSysDetails-MainEntry").style.width="100%",document.getElementById("BMSSysDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBMSSysDetails").style.display="block",document.getElementById("overlayimgAttBMSSysDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&r.current.tableClick(e),M({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&r.current.viewtoggle()},clear:e=>{M({type:"ShowDetail",payload:!1}),M({type:"editData",payload:[]}),D.ShowDetail?r.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?r.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{o.current.tempClear(),d.current.clrImgstate(!0)},SubAddOpen:e=>i.current.SubAddOpen(e)}},n().createElement("div",{id:"BMSSysDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"BMSSysDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"BMSSysDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSSysDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Oe,{ref:r,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(we.Z,{ref:o,menurefID:1514,fileId:"LogoImgBMSSysDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewBMSSysDetails",frmctrlid:"PvwIm_1514_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),f(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSSysDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Ve,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(we.Z,{ref:o,menurefID:1514,fileId:"LogoImgBMSSysDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewBMSSysDetails",frmctrlid:"PvwIm_1514_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),f(e)},clearTempData:D.Add})),n().createElement("div",{id:"BMSSysDetails-MainTable"},0!==y?n().createElement(ke,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Te.Z,{ImgAttachment:e=>b(),menurefID:1514,fileId:"AttImgBMSSysDetails",imgid:"overlayimgAttBMSSysDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewBMSSysDetails",ref:d,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1514_L1_",timglist:e=>{o.current.timglist(e),f(e)},clearTempData:D.Add}))),n().createElement("div",{id:"BMSSysDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},10455:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K,saveComponent:()=>_,trimFunc:()=>z});var l=a(92950),n=a.n(l),s=a(45237),i=a(36939),r=a(61201),d=a(50743),o=(a(3212),a(10966),a(30553)),m=(a(99090),a(44528)),S=a(37148),c=a(61956),u=a(51673),p=(a(96071),a(14439)),y=a(27848),g=(a(49174),a(38773),a(19089),a(1695)),D=(a(13235),a(61924)),M=a.n(D),B=a(26537),I=a(40900),E=a(35131),f=a.n(E),C=a(55490),v=(a(2493),a(92371)),b=a(82729),h=a(75355),N=a(11107);a(40826);const T={EnterKeyValues:{BMSSysRegistry:["BMSSysCode","BMSSysName","BMSSerial","BMSMac","BMSTypCode","BMSManagedName","IsAsset","IsCCM","BMSManagedKey"]},Label:{BMSSysRegistry:{BMSSysCode:["BMSSysCode","BMSSysName"],BMSSysName:["BMSSysCode","BMSSysName"],BMSSerial:["BMSSerial"],BMSMac:["BMSMac"],BMSTypeID:["BMSTypCode","BMSTypeNmae"],BMSManagedID:["BMSManagedCode","BMSManagedName"],IsAsset:["BMSSysCode","BMSSysName"],IsCCM:["BMSSysCode","BMSSysName"],BMSManagedKey:["BMSSysCode","BMSSysName"]}},LabelHeader:{BMSSysRegistry:{BMSSysCode:["BMS Code","BMS Name"],BMSSysName:["BMS Code","BMS Name"],BMSSerial:["BMS Serial"],BMSMac:["BMS Mac"],BMSTypeID:["Type Code ","Type Name"],BMSManagedID:["Managed by ","Managed Name"],IsAsset:["BMS Code","BMS Name"],IsCCM:["BMS Code","BMS Name"],BMSManagedKey:["BMS Code","BMS Name"]}},Property:{BMSSysRegistry:{BMSSysCode:{id:"fld1483_38512",labelID:"BMSSysCode",maxLength:"50",labelname:"BMS Code",frmctrlid:"fld1483_38512",frmctrlidname:"BMSSysCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSSysName:{id:"fld1483_38513",labelID:"BMSSysName",maxLength:"50",labelname:"BMS Name",frmctrlid:"fld1483_38513",frmctrlidname:"BMSSysName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSSerial:{id:"fld1483_38514",labelID:"BMSSerial",maxLength:"50",labelname:"BMS Serial",frmctrlid:"fld1483_38514",frmctrlidname:"BMSSerial",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSMac:{id:"fld1483_38515",labelID:"BMSMac",maxLength:"50",labelname:"BMS Mac",frmctrlid:"fld1483_38515",frmctrlidname:"BMSMac",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSTypeID:{id:"fld1483_38523",clearID:"BMSSysRegistryBMSTypCodeClear",type:"select",labelID:"BMSTypeIDPK",labelname:"BMS Type",fielddisplayname:"BMSTypCode",fieldOrder:"1",frmctrlid:"fld1483_38523",frmctrlidname:"BMSTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BMSManagedID:{id:"fld1483_38522",clearID:"BMSSysRegistryBMSManagedNameClear",type:"select",labelID:"BMSManagedIDPK",labelname:"BMS Managed By",fielddisplayname:"BMSManagedName",fieldOrder:"2",frmctrlid:"fld1483_38522",frmctrlidname:"BMSManagedID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},IsAsset:{id:"fld1483_38516",labelID:"IsAsset",maxLength:"",labelname:"Asset",frmctrlid:"fld1483_38516",frmctrlidname:"IsAsset",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsCCM:{id:"fld1483_38517",labelID:"IsCCM",maxLength:"",labelname:"Sub Component ",frmctrlid:"fld1483_38517",frmctrlidname:"IsCCM",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSManagedKey:{id:"fld1483_38518",labelID:"BMSManagedKey",maxLength:"",labelname:"",frmctrlid:"fld1483_38518",frmctrlidname:"BMSManagedKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{BMSSysRegistry:{BMSTypeID:["BMSTypCode","BMSTypeNmae"],BMSManagedID:["BMSManagedCode"]}}};a(42258),a(97829);var w=a(86090),A=a(8981),P=a(63163),x=a(45155),F=a(79352),R=a(63750),k=a(51649),L=a(16233),Z=a.n(L);const V={BMSSysIDPK:"",BMSSysCode:"",BMSSysName:"",BMSSerial:"",BMSMac:"",IsAsset:"",IsCCM:"",BMSManagedKey:"",IsDefault:!1,IsDraft:!1,Remarks:"",BMSManagedID:null,BMSTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSManagedCode:"",BMSTypCode:"",BMSTypeNmae:"",Type:"BMSSysID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},O=(0,l.forwardRef)(((e,t)=>{(0,s.useSelector)((e=>e.form));const[a,D]=(0,l.useState)(!1),[E,L]=(0,l.useState)(!0),[O,K]=(0,l.useState)(!1),[z,G]=(0,l.useState)(!1),[U,j]=(0,l.useState)(!1),[H,Y]=(0,l.useState)(!1),[q,$]=(0,l.useState)([]),[W,J]=(0,l.useState)(null),[Q,X]=(0,l.useReducer)(v.Z,V),[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)([]),[ne,se]=(0,l.useState)(0),[ie,re]=(0,l.useState)(""),[de,oe]=(0,l.useState)(!0),[me,Se]=(0,l.useState)(!0),[ce,ue]=(0,l.useState)(!0),pe=(0,l.useContext)(w.BMSSysRegistryContext),{cstate:ye,cdispatch:ge}=(0,w.ContextApi)(),[De]=(0,l.useState)(localStorage.getItem("Language")),[Me]=(0,l.useState)(localStorage.getItem("Language")),[Be,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)(null),[Ce,ve]=(0,l.useState)(!1),[be,he]=(0,l.useState)(""),Ne=(0,l.useRef)(null),[Te,we]=Z()("1483"),[Ae,Pe]=(0,l.useState)(!1);let xe=(0,A.Z)();const[Fe,Re]=(0,l.useState)({}),ke=e=>xe?.[e]?xe[e]:e,Le=t=>ye.language?.[t]?ye.language[t]:e.createEasy?Fe?.[t]:t;(0,l.useEffect)((()=>{ye.PrimaryId&&se(Number(ye.PrimaryId))}),[ye.PrimaryId]),(0,l.useEffect)((()=>{ye.editData.length<0&&(0,B.Z)(1).then((e=>{Ue(1,null,"SetDefaultBMSSysID",e)}))}),[]),(0,l.useEffect)((()=>{ye.editData.length>0?(Ze(ye.editData[0],""),G(!0)):ye.Add&&(se(0),G(!0))}),[ye.editData,ye.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Re(Object.assign({},...t))}(Te)}),[Te]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){G(!0),K(!1)},CreateEasyProps:(e=!0,t)=>{we(!0),t?(We(t),G(e)):(Ve(),G(e))},clear:()=>{Ve()}})));const Ze=(t,a,l,n)=>{let s=t;Object.keys(s).forEach((function(e){0==s[e]&&(s[e]=null)})),j(s.IsDraft),ge({type:"EditIsDraft",payload:"1"==s.IsDraft}),X({type:"text",name:"BMSSysCode",value:s.BMSSysCode?s.BMSSysCode:""}),X({type:"text",name:"BMSSysName",value:s.BMSSysName?s.BMSSysName:""}),X({type:"text",name:"BMSSerial",value:s.BMSSerial?s.BMSSerial:""}),X({type:"text",name:"BMSMac",value:s.BMSMac?s.BMSMac:""}),X({type:"number",name:"BMSTypeID",number:s.BMSTypeID?Number(s.BMSTypeID):0}),X({type:"text",name:"BMSTypCode",value:s.BMSTypCode}),X({type:"number",name:"BMSManagedID",number:s.BMSManagedID?Number(s.BMSManagedID):0}),X({type:"text",name:"BMSManagedName",value:s.BMSManagedName}),X({type:"boolean",name:"IsAsset",boolean:!!s.IsAsset&&s.IsAsset}),X({type:"boolean",name:"IsCCM",boolean:!!s.IsCCM&&s.IsCCM}),X({type:"number",name:"BMSManagedKey",number:s.BMSManagedKey}),X({type:"boolean",name:"IsDefault",boolean:s.IsDefault}),"SetDefaultBMSSysID"==a?re(s.BMSSysIDPK):(se(e.primid?Number(e.primid):s.BMSSysIDPK),ge({type:"PrimaryId",payload:s.BMSSysIDPK})),s.IsDraft?L(!0):L(!("1"!=s.IsActive&&!s.IsActive))},Ve=()=>{$([]),se(0),re(""),oe(!0),Se(!0),ue(!0),X({type:"text",name:"BMSSysCode",value:""}),X({type:"text",name:"BMSSysName",value:""}),X({type:"text",name:"BMSSerial",value:""}),X({type:"text",name:"BMSMac",value:""}),X({type:"text",name:"BMSTypeID",value:null}),X({type:"text",name:"BMSTypCode",value:""}),document.getElementById("BMSSysRegistryBMSTypCodeClear")&&document.getElementById("BMSSysRegistryBMSTypCodeClear").click(),X({type:"text",name:"BMSManagedID",value:null}),X({type:"text",name:"BMSManagedName",value:""}),document.getElementById("BMSSysRegistryBMSManagedNameClear")&&document.getElementById("BMSSysRegistryBMSManagedNameClear").click(),X({type:"boolean",name:"IsAsset",boolean:!1}),X({type:"boolean",name:"IsCCM",boolean:!1}),X({type:"number",name:"BMSManagedKey",number:0}),X({type:"boolean",name:"IsDefault",boolean:!1}),ge({type:"PrimaryId",payload:""}),L(!0)},Oe=(e,t)=>{pe.loading(!0),pe.ConfirmAlert(null),ge({type:"IsDraft",payload:!1}),_({url:I.v.Api+"FP1483S2/",PrimID:ne,ParamType:e,state:Q,active:E,token:ye.token[0],DefaultPrimaryId:ie}).then((t=>{const a=t[0].status;let l=t[0].Data,n=new Array,s=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(pe.alert({open:!0,color:"warning",message:s}),pe.loading(!1)):Ke(e)):(pe.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),pe.loading(!1))}))},Ke=(t,a)=>{oe(!0),Se(!0),ue(!0),pe.loading(!0),pe.ConfirmAlert(null),_({url:I.v.Api+"FP1483S1/",PrimID:ne,ParamType:t,state:Q,active:E,token:ye.token[0],DefaultPrimaryId:ie}).then((a=>{const l=a[0].status;200==l.code?(ge({type:"PrimaryId",payload:a[0].Data.IDPK}),pe.AddOpen(a[0].Data.IDPK),"SetDefaultBMSSysID"==t?pe.alert({open:!0,color:"success",message:["Default Record Configured"]}):pe.alert({open:!0,color:"success",message:[l.message]}),pe.attachmentSave(a[0].Data.IDPK),pe.loading(!1),e.createEasy,ge({type:"EditOpen",payload:!1}),ge({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttBMSSysRegistry")&&(document.getElementById("overlayimgAttBMSSysRegistry").style.width="0%",document.getElementById("overlayimgAttBMSSysRegistry").style.display="none",document.getElementById("divBMSSysRegistry-Entry").style.width="100%"),document.getElementById("BMSSysRegistry-MainTable").style.display="none"):(pe.alert({open:!0,color:"warning",message:[l.message]}),pe.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultBMSSysID"==t&&(G(!0),Ue(1,null,"SetDefaultBMSSysID",ye.token[0]))}))};function ze(t,a,l,n){if((()=>{const e={...Q};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){oe(!0),Se(!0),ue(!0),pe.loading(!0),pe.ConfirmAlert(null),ge({type:"IsDraft",payload:!1});const a=I.v.Api+"FP1483S1/",l={data:[{p1:"SetDefaultBMSSysID"==n?"NORECORDS"!=ie&&ie?ie:0:ne,p2:Je(Q.BMSSysCode),p3:Je(Q.BMSSysName),p4:Je(Q.BMSSerial),p5:Je(Q.BMSMac),p6:Q.IsAsset,p7:Q.IsCCM,p8:Q.BMSManagedKey?Number(Q.BMSManagedKey):0,p9:Q.IsDefault,p10:!0,p11:"SetDefaultBMSSysID"==n?"SetDefault":null,p12:Q.BMSManagedID?Q.BMSManagedID:0,p13:Q.BMSTypeID?Q.BMSTypeID:0,p14:!1,p15:"SetDefaultBMSSysID"==n,p16:localStorage.getItem("userid"),p17:f()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,B.Z)(0).then((n=>{(0,c.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?pe.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):pe.alert({open:!0,color:"success",message:["Saved to Draft"]}),ge({type:"EditIsDraft",payload:!0}),pe.attachmentSave(a[0].Data.IDPK),pe.loading(!1),Ve(),e.clrImgstate(!0),pe.AddOpen(a[0].Data.IDPK,"1")):(pe.alert({open:!0,color:"warning",message:[l.message]}),pe.loading(!1))}))}))}else pe.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}function _e(e){return CreateEasy(e,ye,ge,pe,Ne),!1}function Ge(e,a){return AdvanceSearch(e,a,w.BMSSysRegistryContext,(0,w.ContextApi)(),He,t),!1}(0,l.useEffect)((()=>{G(ye.ExpandDetailValue)}),[ye.ExpandDetailValue]);const Ue=(t,a,l,n,s,i)=>{const r=I.v.Api+"FP1483S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:"0"==Q.BMSManagedID?null:Q.BMSManagedID,p13:"0"==Q.BMSTypeID?null:Q.BMSTypeID,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:t,p25:10,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},o=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});te(!0);const m={data:o};return(0,u.Z)(r,"ClearAll"==l?m:d,"SetDefaultBMSSysID"==l&&n?n:ye.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(s)return 1==n.length?n[0]:{};le(1==t?e>0?n:[]:ae.concat(n)),"SetDefaultBMSSysID"==l&&(e>0?Ze(n[0],"SetDefaultBMSSysID"):re("NORECORDS")),te(!1)}else pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),te(!1)}))},je=(t,a,l)=>{const n=I.v.Api+"FP1483S3/",s={data:{p1:null,p2:"BMSSysCode"==l&&a?"%"+a+"%":null,p3:"BMSSysName"==l&&a?"%"+a+"%":null,p4:"BMSSerial"==l&&a?"%"+a+"%":null,p5:"BMSMac"==l&&a?"%"+a+"%":null,p6:"IsAsset"==l&&a?"%"+a+"%":null,p7:"IsCCM"==l&&a?"%"+a+"%":null,p8:"BMSManagedKey"==l&&a?"%"+a+"%":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:t,p25:10,p26:"BMSSysID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},i={data:Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{})};te(!0),(0,u.Z)(n,"ClearAll"==l?i:s,ye.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("BMSSysCode"==l&&oe(e>0),"BMSSysName"==l&&Se(e>0),"BMSManagedKey"==l&&ue(e>0),le(n)):("BMSSysCode"==l&&oe(!0),"BMSSysName"==l&&Se(!0),"BMSManagedKey"==l&&ue(!0),le(ae.concat(n))),te(!1)}else pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),te(!1)}))},He=(0,l.useCallback)((async(e,t,a)=>{"text"==a?X({type:a,name:t,value:e}):"number"==a?X({type:a,name:t,number:Number(e)}):"boolean"==a?X({type:a,name:t,boolean:e}):"date"==a?X({type:"text",name:t,value:e}):"select"==a&&("BMSTypeID"==t?(X({type:"text",name:"BMSTypeID",value:e.BMSTypeIDPK?e.BMSTypeIDPK:null}),X({type:"text",name:"BMSTypCode",value:e.BMSTypCode?e.BMSTypCode:null})):"BMSManagedID"==t&&(X({type:"text",name:"BMSManagedID",value:e.BMSManagedIDPK?e.BMSManagedIDPK:null}),X({type:"text",name:"BMSManagedName",value:e.BMSManagedName?e.BMSManagedName:null})))}),[Q]);function Ye(e){if("BMSTypeID"==e){if(!Q.BMSTypeID)return!1;X({type:"text",name:"BMSTypeID",value:null}),X({type:"text",name:"BMSTypCode",value:""}),document.getElementById("BMSSysRegistryBMSTypCodeClear")&&document.getElementById("BMSSysRegistryBMSTypCodeClear").click()}else if("BMSManagedID"==e){if(!Q.BMSManagedID)return!1;X({type:"text",name:"BMSManagedID",value:null}),X({type:"text",name:"BMSManagedName",value:""}),document.getElementById("BMSSysRegistryBMSManagedNameClear")&&document.getElementById("BMSSysRegistryBMSManagedNameClear").click()}}function qe(e){if("BMSTypeID"==e){if(!Q.BMSTypeID)return!1;X({type:"text",name:"BMSTypeID",value:null})}else if("BMSManagedID"==e){if(!Q.BMSManagedID)return!1;X({type:"text",name:"BMSManagedID",value:null})}}const $e=e=>{pe.ConfirmAlert(n().createElement(M(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>We(e),onCancel:()=>pe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ke("Yes"),cancelBtnText:ke("No"),showCancel:!0},ke("Do you want to update this record?")))};function We(t){pe.ConfirmAlert(null),j(t.IsDraft),e.createEasy||(ge({type:"editData",payload:[t]}),ge({type:"PrimaryId",payload:t.BMSSysIDPK})),se(Number(t.BMSSysIDPK)?Number(t.BMSSysIDPK):0),X({type:"text",name:"BMSSysCode",value:t.BMSSysCode?t.BMSSysCode:""}),X({type:"text",name:"BMSSysName",value:t.BMSSysName?t.BMSSysName:""}),X({type:"text",name:"BMSSerial",value:t.BMSSerial?t.BMSSerial:""}),X({type:"text",name:"BMSMac",value:t.BMSMac?t.BMSMac:""}),X({type:"number",name:"BMSTypeID",number:t.BMSTypeID?Number(t.BMSTypeID):0}),X({type:"text",name:"BMSTypCode",value:t.BMSTypCode?t.BMSTypCode:""}),X({type:"number",name:"BMSManagedID",number:t.BMSManagedID?Number(t.BMSManagedID):0}),X({type:"text",name:"BMSManagedName",value:t.BMSManagedName?t.BMSManagedName:""}),X({type:"boolean",name:"IsAsset",boolean:!!t.IsAsset&&t.IsAsset}),X({type:"boolean",name:"IsCCM",boolean:!!t.IsCCM&&t.IsCCM}),X({type:"text",name:"BMSManagedKey",value:t.BMSManagedKey?t.BMSManagedKey:""})}const Je=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:z,onChange:e=>{}},n().createElement(d.Z,null,n().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&n().createElement("span",{style:{cursor:"pointer"}},n().createElement(k.u1R,{className:"backButtonList",onClick:()=>pe.ShowTableDiv()})),n().createElement("p",{id:"fld1483L3ECListP",className:"ListP",title:"10.0.0.40-10:08:08 AM-24-5[1483]",onClick:()=>ye.ExpandTableValue&&G(!z)},ne?"Edit ":"New ",Le("1483")," (",ye.count,")")),z&&n().createElement("div",{className:"displayFlex EntryHeaderBtn"},ye.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(o.Z,{labelPlacement:"bottom",frmctrlid:"fld1483L3ECEntryCheckbox",control:n().createElement(P.Z,{checked:"1"==E,onChange:e=>L(e.target.checked)}),label:ke(1==E?"Active":"In Active")}))),e.createEasy||ne||!ye.AccessRights.IsAdd||!ie&&"NORECORDS"!=ie?!e.createEasy&&!ne&&n().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ue(1,null,"SetDefaultBMSSysID",ye.token[0])},id:"fld1483L3ECSetDefaultBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(R.j39,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Get Default"))):n().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ke("SetDefaultBMSSysID",!0)},id:"fld1483L3ECSetDefaultBtnIsAdd"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(R.j39,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Set Default"))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{pe.AttachExpand(!0)},id:"fld1483L3ECAttachment",disableRipple:!0,disabled:!ne},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",null,n().createElement(x.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Attach"))),!e.createEasy&&(!ne||!ye.editData.length>0)&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ve()},id:"fld1483L3ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(x.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Reset"))),!e.createEasy&&!ne||"1"===U?ye.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{ze()},id:"fld1483L3ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(F.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Draft"))):null,ye.AccessRights.IsAdd&&n().createElement(g.Z,{name:ne?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>(e=>{if(!Je(Q.BMSSysCode))return pe.alert({open:!0,color:"warning",message:[ke("Please enter the")+""+Le("BMSSysCode")]}),!1;"next"==e?ze(""):pe.ConfirmAlert(n().createElement(M(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ke("Are you sure?"),onConfirm:()=>Oe(),onCancel:()=>pe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ke("Yes"),cancelBtnText:ke("Cancel"),showCancel:!0},ye.PrimaryId?ke("Do you want to Update?"):ke("Do you want to Save?")))})(ne?"update":"next")}),ne?n().createElement(S.Z,{disabled:!1,frmctrlid:"fld1483L3ECCloseBtn",onClick:()=>{pe.detailview(!0,ne)}}):null))),n().createElement(r.Z,null,ye.AccessRights.IsAdd?null:ye.AccessRights.IsEdit?!ye.PrimaryId&&n().createElement("div",{className:"divdisable"}):n().createElement("div",{className:"divdisable"}),n().createElement("div",{id:"BMSSysRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"BMSSysRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"BMSSysRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(b.Z,null,n().createElement(N.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(p.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"BMS Details "))))),n().createElement(h.Z,{style:{padding:"5px 20px 15px"}},n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(C.Z,{"data-testid":Q.BMSSysCode,json:T,SPName:"BMSSysRegistry",FieldName:"BMSSysCode",tfLabel:Le("BMSSysCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&$e(t),onClick:()=>{de&&je(1,"","ClearAll"),oe(!0)},frmctrlid:"fld1483_38512",frmctrlidName:"BMSSysCode",fieldorder:"1",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,onChange:(e,t)=>{de&&je(e,t,"BMSSysCode"),He(t,"BMSSysCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:Q.BMSSysCode,loading:ee,clear:e=>{e&&(X({type:"text",name:"BMSSysCode",value:""}),oe(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(C.Z,{"data-testid":Q.BMSSysName,json:T,SPName:"BMSSysRegistry",FieldName:"BMSSysName",tfLabel:Le("BMSSysName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&$e(t),onClick:()=>{me&&je(1,"","ClearAll"),Se(!0)},frmctrlid:"fld1483_38513",frmctrlidName:"BMSSysName",fieldorder:"2",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,onChange:(e,t)=>{me&&je(e,t,"BMSSysName"),He(t,"BMSSysName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Se(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:Q.BMSSysName,loading:ee,clear:e=>{e&&(X({type:"text",name:"BMSSysName",value:""}),Se(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(m.Z,{json:T,"data-testid":Q.BMSSerial,SPName:"BMSSysRegistry",FieldName:"BMSSerial",tfLabel:Le("BMSSerial"),frmctrlid:"fld1483_38514",fieldorder:"3",onChange:e=>{He(e,"BMSSerial","text")},clear:e=>{e&&X({type:"text",name:"BMSSerial",value:""})},value:Q.BMSSerial})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(m.Z,{json:T,"data-testid":Q.BMSMac,SPName:"BMSSysRegistry",FieldName:"BMSMac",tfLabel:Le("BMSMac"),frmctrlid:"fld1483_38515",fieldorder:"4",onChange:e=>{He(e,"BMSMac","text")},clear:e=>{e&&X({type:"text",name:"BMSMac",value:""})},value:Q.BMSMac})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(C.Z,{json:T,id:Q.BMSTypeID,"data-testid":Q.BMSTypeID,value:Q.BMSTypCode,SPName:"BMSSysRegistry",FieldName:"BMSTypeID",tfLabel:Le("BMSTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"BMSTypeID","select"),onChange:(e,t)=>{Ue(e,t,"BMSTypeIDPK")},KeyBack:e=>{qe("BMSTypeID")},fieldorder:"1",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,openSlide:()=>{_e("1484")},Tabledialog:()=>Ge("1484","BMSTypeID"),loading:ee,clear:e=>{e&&Ye("BMSTypeID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(C.Z,{json:T,id:Q.BMSManagedID,"data-testid":Q.BMSManagedID,value:Q.BMSManagedName,SPName:"BMSSysRegistry",FieldName:"BMSManagedID",tfLabel:Le("BMSManagedID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>He(e,"BMSManagedID","select"),onChange:(e,t)=>{Ue(e,t,"BMSManagedIDPK")},KeyBack:e=>{qe("BMSManagedID")},fieldorder:"2",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,openSlide:()=>{_e("1478")},Tabledialog:()=>Ge("1478","BMSManagedID"),loading:ee,clear:e=>{e&&Ye("BMSManagedID")}}))))),n().createElement(b.Z,null,n().createElement(N.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(p.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Details"))))),n().createElement(h.Z,{style:{padding:"5px 20px 15px"}},n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(o.Z,{style:{color:"#337ab7"},"data-testid":Q.IsAsset,labelPlacement:"end",control:n().createElement(P.Z,{checked:"1"==Q.IsAsset,onChange:e=>{He(e.target.checked,"IsAsset","boolean")},frmctrlid:"fld1483_38516",frmctrlidname:"IsAsset",fieldorder:"1",tfLabel:Le("IsAsset")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Q.IsAsset?"#21446F":"#999"}},Le("IsAsset"))}))),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(o.Z,{style:{color:"#337ab7"},"data-testid":Q.IsCCM,labelPlacement:"end",control:n().createElement(P.Z,{checked:"1"==Q.IsCCM,onChange:e=>{He(e.target.checked,"IsCCM","boolean")},frmctrlid:"fld1483_38517",frmctrlidname:"IsCCM",fieldorder:"2",tfLabel:Le("IsCCM")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Q.IsCCM?"#21446F":"#999"}},Le("IsCCM"))})))))),n().createElement(b.Z,null,n().createElement(N.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(p.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Invisible Fields"))))),n().createElement(h.Z,{style:{padding:"5px 20px 15px"}},n().createElement(p.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(C.Z,{"data-testid":Q.BMSManagedKey,json:T,SPName:"BMSSysRegistry",FieldName:"BMSManagedKey",tfLabel:Le("BMSManagedKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&$e(t),onClick:()=>{ce&&je(1,"","ClearAll"),ue(!0)},frmctrlid:"fld1483_38518",frmctrlidName:"BMSManagedKey",fieldorder:"2",data:ae,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:ae.length>0?ae[0].TotalCount:0,onChange:(e,t)=>{ce&&je(e,t,"BMSManagedKey"),He(t,"BMSManagedKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ue(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:Q.BMSManagedKey,loading:ee,clear:e=>{e&&(X({type:"text",name:"BMSManagedKey",value:""}),ue(!0))}})))))),n().createElement("div",{id:"BMSSysRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BMSSysRegistrySideBar").style.width="0",void Y(!1))},""),H&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},W))))))))})),K=O,z=e=>"string"==typeof e?e.trim():e;function _(e){const{url:t,PrimID:a,ParamType:l,state:n,active:s,token:i,DefaultPrimaryId:r}=e,d={data:[{p1:"SetDefaultBMSSysID"==l?"NORECORDS"!=r&&r?r:0:a,p2:z(n.BMSSysCode),p3:z(n.BMSSysName),p4:z(n.BMSSerial),p5:z(n.BMSMac),p6:n.IsAsset,p7:n.IsCCM,p8:n.BMSManagedKey?Number(n.BMSManagedKey):0,p9:n.IsDefault,p10:!1,p11:"SetDefaultBMSSysID"==l?"SetDefault":null,p12:n.BMSManagedID?n.BMSManagedID:0,p13:n.BMSTypeID?n.BMSTypeID:0,p14:s,p15:"SetDefaultBMSSysID"==l,p16:localStorage.getItem("userid"),p17:f()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:f()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,c.Z)(t,d,i).then((e=>e))}},86090:(e,t,a)=>{a.r(t),a.d(t,{BMSSysRegistryContext:()=>D,ContextApi:()=>M,default:()=>B});var l=a(92950),n=a.n(l),s=a(45237),i=a(27905),r=a(12108),d=a(10455),o=a(67698),m=a(55995),S=a(26537),c=(a(35131),a(45965)),u=a(73668),p=(a(37274),a(9175)),y=a.n(p),g=a(87902);const D=(0,l.createContext)();function M(){const e=n().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const B=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),p=(0,l.useRef)(),B=(0,l.useRef)(),I=(0,l.useRef)(),E=(0,l.useRef)(),f=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[C,v]=(0,l.useState)(0),[b,h]=n().useReducer(u.I,u.E),[N,T]=(0,l.useState)(""),[w,A]=(0,l.useState)(""),[P,x]=(0,l.useState)([]),F=(0,l.useRef)(),[R,k]=(0,l.useState)(!1);function L(e){h({type:"IsExPView",payload:!0}),h({type:"IsCollapse",payload:!1}),document.getElementById("BMSSysRegistry-MainTable").style.margin="0",document.getElementById("divBMSSysRegistry-Entry").style.margin="0",document.getElementById("divBMSSysRegistry-Entry").style.width="100%",document.getElementById("BMSSysRegistry-MainTable").style.width="100%",document.getElementById("BMSSysRegistry-MainEntry").style.width="100%",document.getElementById("BMSSysRegistry-MainEntry").style.display="none",document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayGrid"),h({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttBMSSysRegistry")&&(document.getElementById("overlayimgAttBMSSysRegistry").style.width="0%",document.getElementById("overlayPreviewBMSSysRegistry").style.width="0%",document.getElementById("overlayimgAttBMSSysRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),L(),h({type:"IsDraft",payload:!1}),h({type:"ShowDetail",payload:!1}),h({type:"Add",payload:!0}),h({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&h({type:"editData",payload:[e.editData]})}),[e.editData]);const Z=e=>{h({type:"IsCollapse",payload:!0}),document.getElementById("BMSSysRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divBMSSysRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSSysRegistry-MainTable").style.width="0%",document.getElementById("BMSSysRegistry-MainTable").style.display="none",document.getElementById("BMSSysRegistry-MainEntry").style.width="100%",document.getElementById("BMSSysRegistry-MainEntry").style.display="block",document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayGrid"),h({type:"ExpandDetailValue",payload:!0}),h({type:"PrimaryId",payload:""}),t.current.clear(),e&&E.current.AddClose()},V=t=>{b.IsCollapse?(document.getElementById("BMSSysRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("BMSSysRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divBMSSysRegistry-Entry").style.width="100%",document.getElementById("BMSSysRegistry-MainEntry").style.width="100%",document.getElementById("BMSSysRegistry-MainEntry").style.display="block",document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBMSSysRegistry").style.width="0%",document.getElementById("overlayimgAttBMSSysRegistry").style.display="none"):(document.getElementById("overlayimgAttBMSSysRegistry").style.width="0%",document.getElementById("overlayimgAttBMSSysRegistry").style.display="none",document.getElementById("divBMSSysRegistry-Entry").style.width="100%",document.getElementById("BMSSysRegistry-MainTable").style.width="auto",document.getElementById("BMSSysRegistry-MainEntry").style.width="100%",document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{f((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),h({type:"token",payload:t}),v(t.length),O(e)}))}))}),[]);const O=e=>{(0,c.Z)(e,1483).then((e=>h({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(h({type:"ShowDetail",payload:!0}),h({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),n().createElement("div",null,n().createElement(D.Provider,{value:{cstate:b,cdispatch:h,ContextApi:M,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>k(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>L(),viewtoggle:()=>{b.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>Z(e),AttachExpand:t=>(p.current.AttachmentData(b.PrimaryId),void(b.ExpandTableValue?(document.getElementById("overlayimgAttBMSSysRegistry").style.width="28%",document.getElementById("divBMSSysRegistry-Entry").style.width="100%",document.getElementById("BMSSysRegistry-MainTable").style.width="auto",document.getElementById("BMSSysRegistry-MainEntry").style.width="100%",document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBMSSysRegistry").style.display="block"):(document.getElementById("BMSSysRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("BMSSysRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("BMSSysRegistry-MainEntry").style.width="100%",document.getElementById("BMSSysRegistry-MainEntry").style.display="block",document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBMSSysRegistry").style.width="28%",document.getElementById("overlayimgAttBMSSysRegistry").style.display="block"))),RefreshTable:()=>{I.current.tableRefresh()},floatRefresh:()=>F.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttBMSSysRegistry").style.display="none",attachmentSave:e=>{B.current.tempsave(e,w),A([])},detailview:(e,t)=>{I.current.viewrecord(t),h({type:"ShowDetail",payload:e}),h({type:"EditOpen",payload:!0}),b.ShowDetail&&a.current.viewtoggle()},clear:e=>{b.ShowDetail?(h({type:"ShowDetail",payload:!1}),h({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var n,s,i;n=e,i=l,h({type:"IsDraft",payload:s=t}),h({type:"EditOpen",payload:!1}),h({type:"EditIsDraft",payload:s}),Z(),h({type:"editData",payload:[n]}),h({type:"screenType",payload:i})},AddOpen:(e,t)=>((e,t)=>{h({type:"ShowDetail",payload:!0}),h({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&E.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(h({type:"ShowDetail",payload:!1}),h({type:"ExpandTableValue",payload:!0}),I.current.tableRefresh(),document.getElementById("BMSSysRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divBMSSysRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSSysRegistry-MainTable").style.width="100%",document.getElementById("BMSSysRegistry-MainTable").style.display="block",document.getElementById("BMSSysRegistry-MainEntry").style.width="0%",document.getElementById("BMSSysRegistry-MainEntry").style.display="none",document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysRegistryTabDiv").style.width="100%",document.getElementById("BMSSysRegistryFilterDiv").style.display="none",void(document.getElementById("BMSSysRegistryFilterDiv").style.width="0%"))}},n().createElement("div",{id:"BMSSysRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!b.ExpandTableValue&&n().createElement("div",{id:"BMSSysRegistry-MainTable",className:"Maincontent"},0!==C?n().createElement(i.default,{ref:I}):null),n().createElement("div",{id:"BMSSysRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},b.ShowDetail?n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSSysRegistry-Entry",style:{width:"100%",display:"flex"}},n().createElement(r.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:b.PrimaryId,ref:a}),n().createElement("div",{style:{width:"70%"}},n().createElement(g.ZP,{ref:E,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:b.editData,AddOpen:b.EditOpen,parentId:b.PrimaryId,IsDraft:b.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:b.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),n().createElement(m.Z,{ref:B,menurefID:1483,fileId:"LogoImgBMSSysRegistry",imgloading:e=>T(e),valueIDPK:b.PrimaryId,AttachmentVal:e=>p.current.AttachmentData(e),previd:"overlayPreviewBMSSysRegistry",AccessRights:b.AccessRights,frmctrlid:"PvwIm_1483_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{b.PrimaryId?p.current.AttachmentData(b.PrimaryId):p.current.tempImg(e),A(e)},clearTempData:b.Add})),n().createElement(o.Z,{ImgAttachment:e=>V(),menurefID:1483,fileId:"AttImgBMSSysRegistry",imgid:"overlayimgAttBMSSysRegistry",valueIDPK:b.PrimaryId,PriviewData:(e,t,a,l)=>{B.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewBMSSysRegistry",ref:p,imgloading:N,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1483_L3_",timglist:e=>B.current.timglist(e)})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSSysRegistry-Entry",style:{width:"100%"}},n().createElement(d.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>p.current.clrImgstate(e)}),n().createElement(g.ZP,{ref:E,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:b.editData,AddOpen:b.EditOpen,parentId:b.PrimaryId,IsDraft:b.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:b.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),n().createElement(m.Z,{ref:B,menurefID:1483,fileId:"LogoImgBMSSysRegistry",imgloading:e=>T(e),valueIDPK:b.PrimaryId,AttachmentVal:e=>p.current.AttachmentData(e),previd:"overlayPreviewBMSSysRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{b.PrimaryId?p.current.AttachmentData(b.PrimaryId):p.current.tempImg(e),A(e)},clearTempData:b.Add})),n().createElement(o.Z,{ImgAttachment:e=>V(),menurefID:1483,fileId:"AttImgBMSSysRegistry",imgid:"overlayimgAttBMSSysRegistry",valueIDPK:b.PrimaryId,PriviewData:(e,t,a,l)=>{B.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewBMSSysRegistry",ref:p,imgloading:N,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1483_L3_",timglist:e=>B.current.timglist(e),clearTempData:b.Add}))),b.ExpandTableValue&&n().createElement("div",{id:"BMSSysRegistry-MainTable",className:"Maincontent"},0!==C?n().createElement(i.default,{ref:I}):null),n().createElement("div",{id:"BMSSysRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}})),R&&n().createElement(y(),{openDialog:R,closeDialog:e=>k(e),formID:1483,PrimID:b.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},27905:(e,t,a)=>{a.r(t),a.d(t,{BMSSysRegistryPopUpTable:()=>_,default:()=>z}),a(95866);var l=a(92950),n=a.n(l),s=a(45237),i=a(36939),r=a(61201),d=a(50743),o=a(59009),m=a(80366),S=a(51673),c=a(3188),u=a(54180),p=a(47516),y=a(39327),g=(a(14439),a(27848),a(42258),a(40900)),D=(a(83032),a(44117),a(86090)),M=a(43031),B=a(110),I=a(88995),E=a(5109),f=a(61657),C=a(868),v=a(24038),b=a(51209),h=a(8981),N=a(3212),T=a(86893),w=a(53854),A=a(51649),P=a(37106),x=a(5434),F=a(93521),R=a(87902),k=a(71168),L=a.n(k),Z=a(65107),V=a(79352),O=a(94986),K=a(15999);a(11557),window.clickFilter="";const z=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),k=((0,l.useRef)(null),(0,l.useRef)(null)),[z]=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[_]=(0,l.useState)("1483"),[G,U]=(0,l.useState)(!1),[j,H]=(0,l.useState)(!1),[Y,q]=(0,l.useState)(0),[$,W]=(0,l.useState)(0),[J,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ne]=(0,l.useState)([]),[se,ie]=(0,l.useState)({val:"",column:""}),[re,de]=(0,l.useState)([]),[oe,me]=(0,l.useState)(!1),[Se,ce]=(0,l.useState)(""),[ue,pe]=(0,l.useState)(""),[ye,ge]=(0,l.useState)(!1),[De,Me]=(0,l.useState)(!1),[Be,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[Ce,ve]=(0,l.useState)([]),[be,he]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:D.BMSSysRegistryContext),{cstate:Te,cdispatch:we}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Ae,Pe]=(0,l.useState)({children:[{name:"BMSSysRegistry",children:[]}]}),[xe,Fe]=(0,l.useState)(!1);let Re={BMSSysIDPK:"",BMSSysCode:"",BMSSysName:"",BMSSerial:"",BMSMac:"",IsAsset:"",IsCCM:"",BMSManagedKey:"",IsDefault:"",IsDraft:"",Remarks:"",BMSManagedID:"",BMSTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSManagedCode:"",BMSTypCode:"",BMSTypeNmae:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ke,Le]=(0,l.useState)(Re),[Ze,Ve]=(0,l.useState)(Re),[Oe,Ke]=(0,l.useState)(Re),[ze,_e]=(0,l.useState)(Re),[Ge,Ue]=(0,l.useState)("asc"),[je,He]=(0,l.useState)(""),[Ye,qe]=(0,l.useState)(!1),[$e,We]=(0,l.useState)(!0),[Je,Qe]=(0,l.useState)(!0),[Xe,et]=(0,l.useState)(!1),[tt,at]=(0,l.useState)(!0),[lt,nt]=(0,l.useState)(0),[st,it]=(0,l.useState)({BMSSysCode:"",BMSSysName:"",BMSSerial:"",BMSMac:"",BMSTypCode:"",BMSManagedName:"",IsAsset:"",IsCCM:"",BMSManagedKey:""}),[rt,dt]=(0,l.useState)(!1),[ot,mt]=(0,l.useState)([]),[St,ct]=(0,l.useState)(0),[ut,pt]=(0,l.useState)(0),[yt,gt]=(0,l.useState)({current:1,pageSize:10}),[Dt,Mt]=(0,l.useState)([]),[Bt,It]=(0,l.useState)([]),[Et,ft]=(0,l.useState)(!1),[Ct]=(0,l.useState)(localStorage.getItem("Language")),[vt]=(0,l.useState)(localStorage.getItem("Language")),[bt,ht]=L()("1483"),[Nt,Tt]=(0,l.useState)({}),wt=[{columns:Dt,data:te}];let At=(0,h.Z)();const Pt=e=>At?.[e]?At[e]:e,xt=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Zt(bt)}),[bt]),(0,l.useEffect)((()=>{Te.token.length>0&&(Te.IsDraft?kt(X,Re,"DraftBMSSysID"):kt(X,Re,"BMSSysID"))}),[]),(0,l.useEffect)((()=>{De||be||xe||!Se?De?Ve(Se):be?Ke(Se):xe&&_e(Se):Te.IsDraft?kt(X,Se,"DraftBMSSysID"):kt(X,Se,"BMSSysID")}),[Se]),(0,l.useEffect)((()=>{!1===e.cardview&&at(e.cardview),e.Dialogview&&H(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Lt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ft()},viewrecord:e=>{re.map(((t,a)=>{t.BMSSysIDPK==e&&we({type:"editData",payload:[re[a]]})}))}})));const Ft=()=>{Te.IsDraft?kt(X,Re,"DraftBMSSysID"):kt(X,Re,"BMSSysID")};function Rt(e){Ne.loading(!0);let t=g.v.Api+"FP1483S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,S.Z)(t,a,Te.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,pt(t.Output.data[0].TotalCount)):(a=0,Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1)),10==e.pageSize?ct(Math.ceil(a)):20==e.pageSize?ct(Math.ceil(a/2)):50==e.pageSize?ct(Math.ceil(a/5)):100==e.pageSize&&ct(Math.ceil(a/10)),mt(t.Output.data),Ne.loading(!1)}}))}const kt=(e,t,a,l,n,s)=>{Ne.loading(!0),"DraftPage"!==l&&qe(Te.IsDraft);let i=g.v.Api+"FP1483S3/",r={data:{p1:n||(t&&t.BMSSysIDPK?t.BMSSysIDPK:null),p2:t&&t.BMSSysCode?t.BMSSysCode:null,p3:t&&t.BMSSysName?t.BMSSysName:null,p4:t&&t.BMSSerial?t.BMSSerial:null,p5:t&&t.BMSMac?t.BMSMac:null,p6:null,p7:null,p8:t&&t.BMSManagedKey?t.BMSManagedKey:null,p9:null,p10:"DraftBMSSysID"==a?"1":"0",p11:null,p12:t&&t.BMSManagedID?t.BMSManagedID:null,p13:t&&t.BMSTypeID?t.BMSTypeID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.BMSManagedCode?t.BMSManagedCode:null,p22:t&&t.BMSTypCode?t.BMSTypCode:null,p23:t&&t.BMSTypeNmae?t.BMSTypeNmae:null,p24:n?1:e.current,p25:e.pageSize,p26:a,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,S.Z)(i,r,Te.token[0]).then((n=>{if("200"==n.Output.status.code)if(n.Output.data.length>0){if(n.Output.data){let t=0;n.Output.data.length>0?(t=parseFloat(n.Output.data[0].TotalCount,10)/10,W(n.Output.data[0].TotalCount),we({type:"count",payload:n.Output.data[0].TotalCount}),Q(n.Output.data[0].DraftCnt),"DraftPage"==l&&Q(n.Output.data[0].TotalCount)):t=0,10==e.pageSize?q(Math.ceil(t)):20==e.pageSize?q(Math.ceil(t/2)):50==e.pageSize?q(Math.ceil(t/5)):100==e.pageSize&&q(Math.ceil(t/10)),Te.ExpandTableValue&&(Te.ExpandDetailValue?document.getElementById("BMSSysRegistry-MainTable").style.display="block":(document.getElementById("BMSSysRegistry-MainTable").style.width="100%",document.getElementById("BMSSysRegistry-MainEntry").style.width="100%",document.getElementById("BMSSysRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSSysRegistry-MainDiv").classList.add("displayGrid"))),de(n.Output.data),Ne.loading(!1),document.getElementById("divBMSSysRegistry-Entry").style.height="auto"}}else Ne.loading(!1),"DraftBMSSysID"===a?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),qe(!1)):(de([]),ee({current:1,pageSize:10}),q(0),W(0),we({type:"count",payload:0}),Object.values(t).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[n.Output.status.message]}),Ne.loading(!1)}))};function Lt(e,t){Ne.loading(!0);const a=g.v.Api+"FP1483S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Ye?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,S.Z)(a,l,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,W(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?q(Math.ceil(a)):20==t.pageSize?q(Math.ceil(a/2)):50==t.pageSize?q(Math.ceil(a/5)):100==t.pageSize&&q(Math.ceil(a/10)),de(e.Output.data),Ne.loading(!1)}else de([]),q(0),W(0),we({type:"count",payload:0}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function Zt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),we({type:"language",payload:Object.assign({},...n)}),it(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),fe(t),ve(a),Mt(l),It(a)}const Vt=(e,t,a)=>{we({type:"IsDraft",payload:t}),we({type:"EditOpen",payload:!1}),we({type:"EditIsDraft",payload:t}),Ne.ExpandDetail(!1),a?Ne.AddOpen(e.BMSSysIDPK,t):we({type:"editData",payload:[e]})},Ot=()=>{oe?(document.getElementById("BMSSysRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BMSSysRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BMSSysRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),De?(document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):tt?be?(document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSSysRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BMSSysRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BMSSysRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BMSSysRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),De?(document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):tt?be?(document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSSysRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSSysRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),ge(!1),window.clickFilter=!oe};return n().createElement("div",null,n().createElement(i.Z,{expanded:$e,onChange:()=>()=>{We(Je)}},n().createElement(d.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},n().createElement("div",{className:"displayFlex"},xe||De||!Ye?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP",title:"10.0.0.40-10:08:08 AM-24-5[1483]"},`${xt("1483")} (${$})`)):n().createElement("div",{className:"ListHeader displayFlex"},n().createElement(C.ZP,{title:"List",placement:"top"},n().createElement("div",{id:"fld1483L3TCList",onClick:()=>{Je||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),Ne.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){kt({current:1,pageSize:100},Re,"BMSSysID"),qe(!1),we({type:"IsDraft",payload:!1})}),500)):(kt({current:1,pageSize:100},Re,"BMSSysID"),qe(!1),we({type:"IsDraft",payload:!1})),ee({current:1,pageSize:100})}},n().createElement(A.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},"Drafts(",$,")")))),n().createElement("div",{style:{display:"flex"}},De||be||xe?null:n().createElement("div",{className:"searchbar",id:"fld1483L3TCSearchBar"},n().createElement(v.Z,{className:"search_input",type:"text",id:"BMSSysRegistrygridsearch",placeholder:"Search",value:ue,onChange:e=>{if(pe(e),"0"==e.length)return kt(X,Re,Ye?"DraftBMSSysID":"BMSSysID",Ye&&"DraftPage"),!1;Lt(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld1483L3TCCloseIcon",onClick:()=>{pe(""),Ft()}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1483L3TCInputSearchIcon",onClick:()=>{document.getElementById("BMSSysRegistrygridsearch").focus()}},n().createElement(I.Z,{className:"InputSearchIcon"})))),n().createElement("div",{style:{marginLeft:"5px"}},Te.AccessRights.IsAdd&&n().createElement(N.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>Ne.ExpandDetail(!0)}))))),n().createElement(r.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"BMSSysRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ye&&n().createElement("div",{frmctrlid:"fld1483L3TCFilterDataIsDraft",id:"BMSSysRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Ot()},n().createElement(C.ZP,{title:Pt("Filter Data"),placement:"top"},n().createElement(p.Ol$,{className:"tableFilterColumnIcon"})),n().createElement("span",{className:"iconinfo"},Pt("Filter Data"))),j||De||xe||Ye?null:n().createElement(u.Z,{title:"BMS Integration Registry",formctrlidprint:"fld1483L3TCExportPrint",formctrlidexport:"fld1483L3TCExportTable",formctrlidrefresh:"fld1483L3TCExportRefresh",data:le,exportData:wt,Items:Bt,columnIndex:Dt,TableVisibleItem:Ee,userGridViewFormID:_,TableTotalCount:$,triggerApi:e=>{((e,t,l,n,s)=>{if(0===$)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let i=g.v.Api+"FP1483S3/",r={data:{p1:e&&e.BMSSysIDPK?e.BMSSysIDPK:null,p2:e&&e.BMSSysCode?e.BMSSysCode:null,p3:e&&e.BMSSysName?e.BMSSysName:null,p4:e&&e.BMSSerial?e.BMSSerial:null,p5:e&&e.BMSMac?e.BMSMac:null,p6:null,p7:null,p8:e&&e.BMSManagedKey?e.BMSManagedKey:null,p9:null,p10:Ye?"1":"0",p11:null,p12:e&&e.BMSManagedID?e.BMSManagedID:null,p13:e&&e.BMSTypeID?e.BMSTypeID:null,p14:e&&e.IsActive,p15:null,p16:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p17:e&&e.CreatedTtm?e.CreatedTtm:null,p18:e&&e.CreatedTtmType?e.CreatedTtmType:null,p19:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p20:null,p21:e&&e.BMSManagedCode?e.BMSManagedCode:null,p22:e&&e.BMSTypCode?e.BMSTypCode:null,p23:e&&e.BMSTypeNmae?e.BMSTypeNmae:null,p24:X.current,p25:$,p26:Ye?"DraftBMSSysID":"BMSSysID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${xt(1483)} - ${s.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,S.Z)(i,r,Te.token[0],s).then((e=>{(0,F.PDF_Excel_Generate)(e,Ne,Bt,ae,a,s)}))})(Se,se.column,0,0,e)},Refresh:()=>{pe(""),k.current.clearItem(),ee({current:1,pageSize:100}),Te.IsDraft?kt({current:1,pageSize:100},Re,"DraftBMSSysID"):kt({current:1,pageSize:100},Re,"BMSSysID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a}),De||be||xe||!Je?null:!Ye&&Te.AccessRights.IsAdd&&n().createElement("div",{id:"BMSSysRegistrycoldiv",className:"buttoncard",onClick:()=>{ye?(document.getElementById("BMSSysRegistryFilterDiv").style.width="0%",document.getElementById("BMSSysRegistryTabDiv").style.width="100%",document.getElementById("BMSSysRegistryFilterDiv").style.display="none",document.getElementById("BMSSysRegistrycoldiv").style.width="fit-content",document.getElementById("BMSSysRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("BMSSysRegistryFilterDiv").style.width="25%",document.getElementById("BMSSysRegistryTabDiv").style.width="75%",document.getElementById("BMSSysRegistryFilterDiv").style.display="block",document.getElementById("BMSSysRegistryfildiv").style.width="fit-content",document.getElementById("BMSSysRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSSysRegistrycoldiv").style.width="fit-content",document.getElementById("BMSSysRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),me(!1)}},n().createElement(C.ZP,{title:"{t('Manage Columns')}",placement:"top"},n().createElement("span",null,n().createElement(y.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld1483L3TCFilterDataIsAdd"}))),n().createElement("span",{className:"iconinfo"},Pt("Manage Columns"))),!Ye&&G&&!De&&!xe&&!j&&Je&&n().createElement("div",{id:"fld1483L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},n().createElement(C.ZP,{title:Pt("Migration"),placement:"top"},n().createElement("span",null,n().createElement(V.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Pt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!j&&Je&&!xe&&!De&&!Ye&&n().createElement("div",null,n().createElement("div",{id:"BMSSysRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{rt?dt(!1):(dt(!0),Rt({current:1,pageSize:100}))}},n().createElement("div",{id:"fld1483L3TCTableScrollData"},n().createElement(C.ZP,{title:Pt("Table Scroll Data"),placement:"top"},n().createElement(K.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Pt("Table Scroll Data")))),Te.AccessRights.IsAdd&&!xe&&!De&&!Ye&&n().createElement(o.Z,{color:"secondary",className:"badge",max:999,badgeContent:J,showZero:!0},n().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(J>0){nt(0),ee({current:1,pageSize:100}),Je||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),Ne.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){kt({current:1,pageSize:100},Re,"DraftBMSSysID"),qe(!0),we({type:"IsDraft",payload:!0}),ge(!1),at(!0),Me(!1),he(!1)}),500)):(kt({current:1,pageSize:100},Re,"DraftBMSSysID"),qe(!0),we({type:"IsDraft",payload:!0}),ge(!1),at(!0),Me(!1),he(!1)),document.getElementById("BMSSysRegistryFilterDiv").style.width="0%",document.getElementById("BMSSysRegistryTabDiv").style.width="100%",document.getElementById("BMSSysRegistryFilterDiv").style.display="none"}else Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},n().createElement(C.ZP,{title:Pt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(P.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Pt("Drafts"))))),De||be||xe||Ye?null:n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},xe||Ye?null:n().createElement("div",null,Je&&n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{id:"fld1483L3TCListView",className:tt?"buttonList":"buttonGrid",onClick:()=>{me(!0),at(!0),ft(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(w.umT,null)),n().createElement("span",null,"List")),n().createElement("div",{id:"fld1483L3TCGridView",className:tt||Et?"buttonGrid":"buttonList",onClick:()=>{at(!1),ft(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(T.aCJ,null)),n().createElement("span",null,"Card")),n().createElement("div",{className:Et?"buttonList":"buttonGrid",id:"fld1483L3TCTileView",onClick:()=>{ft(!0),at(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(x.f_H,null)),n().createElement("span",null,"Tile"))))))),n().createElement("div",{id:"BMSSysRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},n().createElement("div",{id:"BMSSysRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},oe&&n().createElement(c.default,{CloseBtnClk:()=>Ot(),searchData:e=>{ce(e||Nt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));setFilteredObj(t)},formID:_,data:()=>{},visibleData:()=>{},token:Te.token[0],userGrid:bt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]})}),ye&&!De&&!be&&n().createElement(E.Z,{frmctrlid:"fld1483L3TCTableColumnOrder",loading:e=>Ne.loading(e),AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:ye,userID:z,userGridViewFormID:_,saved:(e,t)=>{e&&Zt(t),ht(t)},Token:Te.token[0]})),n().createElement("div",{id:"BMSSysRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},tt?n().createElement("div",null,De&&n().createElement(ListComponent,{onLoad:De,data:(e,t)=>{!function(e,t){we({type:"editData",payload:[e]}),me(!1),document.getElementById("BMSSysRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("BMSSysRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("BMSSysRegistry-ShareView").classList.remove("ViewBtnAct"),Me(!1),he(!1),Fe(!1);let a={BMSSysCode:"",BMSSysName:"",BMSSerial:"",BMSMac:"",BMSTypeID:"",BMSManagedID:"",IsAsset:"",IsCCM:"",BMSManagedKey:""};Le(a),kt({current:1,pageSize:100},a,"BMSSysID")}(e)},json:Ze}),!De&&!xe&&n().createElement("div",null,rt?n().createElement(O.Z,{data:ot,expanded:()=>{},edit:(e,t,a)=>{Vt(e,t,a),Ne.ExpandTable(!1),we({type:"EditIsDraft",payload:t}),we({type:"EditOpen",payload:!1})}}):n().createElement(Z.Z,{ref:k,frmctrlid:"tblcs_1483_L3_",id:"BMSSysRegistry-MainTable",headerdata:Ee,tablesearchparams:st,searchvalue:e=>{it(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Tt(t),ee({current:1,pageSize:10}),kt({current:1,pageSize:10},t,Ye?"DraftBMSSysID":"BMSSysID",Ye&&"DraftPage")},bodydata:re,ondrag:(e,t)=>{Vt(t,Ye,!0)},bodyitem:Ce,visibleitem:Ee,isdraft:Ye,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:_,accessrights:Te.AccessRights,expanded:()=>{},edit:Vt,viewtoggle:Ne.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return n().createElement(R.ZP,{loading:e=>Ne.loading(e),alertmsg:e=>Ne.alert(e),ConfirmAlert:e=>{Ne.ConfirmAlert(e)},data:Te.editData,AddOpen:Te.EditOpen,parentId:t.BMSSysIDPK,IsDraft:Te.EditIsDraft,tableview:e})}}))):n().createElement(b.Z,{frmctrlid:"fld1483L3TCExpandedCardDual",data:re,id:"BMSSysRegistry",title:"BMS Integration Registry",cardTile:!!Et,visibleitem:Ee,gridCountmdlg:Je?4:12,gridCountxssm:Je?6:12,expanded:()=>{},edit:Vt,viewtoggle:Ne.viewtoggle,onDoubleClick:(e,t)=>{j?Ne.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ye}),we({type:"ShowDetail",payload:!1}),Ne.ExpandDetail(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ye}),we({type:"ShowDetail",payload:!0}),Ne.ExpandDetail(!0),Ne.viewtoggle()),Je&&(me(!1),ge(!1)))}})))))),De||be||xe?null:Je?rt?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(M.Z,{count:St,color:"primary",page:yt.current,onChange:(e,t)=>{gt({current:t,pageSize:yt.pageSize}),ct(t),Rt({current:t,pageSize:yt.pageSize})}}),n().createElement("div",null,n().createElement(B.Z,{value:yt.pageSize,frmctrlid:"fld1483L3TCSelectPagination",onChange:e=>{gt({current:1,pageSize:e.target.value}),Rt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Je&&n().createElement("p",{className:"per-page"},"/ per page Of (",ut,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(M.Z,{count:Y,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),Ye)kt({current:t,pageSize:X.pageSize},Se,"DraftBMSSysID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ue.length>0?Lt(ue,{current:t,pageSize:X.pageSize}):kt({current:t,pageSize:X.pageSize},Se,"BMSSysID")}}}),n().createElement("div",null,n().createElement(B.Z,{value:X.pageSize,frmctrlid:"fld1483L3TCSelectPagination",onChange:e=>{ee({current:1,pageSize:e.target.value}),Ye?kt({current:1,pageSize:e.target.value},ke,"DraftBMSSysID","DraftPage"):ue.length>0?Lt(ue,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},ke,"BMSSysID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Je&&n().createElement("p",{className:"per-page "},"/ per page Of (",$,") ")):n().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},n().createElement(f.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number($),page:lt,onPageChange:(e,t)=>{nt(t),kt({current:t+1,pageSize:X.pageSize},Re,Ye?"DraftBMSSysID":"BMSSysID",Ye&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{nt(0)}})))})),_=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),o=(0,l.useRef)(null),m=(0,l.useRef)(null),[c]=((0,s.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[p,y]=L()("1483"),[I,E]=(0,l.useState)(!1),[f,C]=(0,l.useState)(0),[v,b]=(0,l.useState)(0),[N,T]=(0,l.useState)({current:1,pageSize:100}),[w,A]=(0,l.useState)(""),[P,x]=(0,l.useState)([]),[R,k]=(0,l.useState)({val:"",column:""}),[V,O]=(0,l.useState)([]),[K,z]=(0,l.useState)(!1),[_,G]=(0,l.useState)(""),[U,j]=(0,l.useState)([]),[H,Y]=(0,l.useState)([]),[q,$]=(0,l.useState)([]),W=(0,l.useContext)(D.BMSSysRegistryContext),{cstate:J,cdispatch:Q}=(0,D.ContextApi)();let X={BMSSysIDPK:"",BMSSysCode:"",BMSSysName:"",BMSSerial:"",BMSMac:"",IsAsset:"",IsCCM:"",BMSManagedKey:"",IsDefault:"",IsDraft:"",Remarks:"",BMSManagedID:"",BMSTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSManagedCode:"",BMSTypCode:"",BMSTypeNmae:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ne,se]=(0,l.useState)(!1),[ie,re]=(0,l.useState)(!0),[de,oe]=(0,l.useState)(0),[me,Se]=(0,l.useState)({BMSSysCode:"",BMSSysName:"",BMSSerial:"",BMSMac:"",BMSTypCode:"",BMSManagedName:"",IsAsset:"",IsCCM:"",BMSManagedKey:""}),[ce,ue]=(0,l.useState)([]),[pe,ye]=(0,l.useState)([]),[ge,De]=(0,l.useState)([]),[Me,Be]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)("");let fe=(0,h.Z)();const Ce=[{columns:ce,data:w}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),Q({type:"language",payload:Object.assign({},...n)}),Se(a.reduce(((e,t)=>(e[t]="",e)),{})),j(e),Y(t),$(a),ue(l),ye(a)}(p)}),[p]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{ve()},viewrecord:e=>{V.map(((t,a)=>{t.BMSSysIDPK==e&&Q({type:"editData",payload:[V[a]]})}))},DialogTableProps:e=>{E(e)},searchData:(t,a,l)=>{W.loading(!0),o.current&&o.current.clearItem(),Ee(l),T({current:1,pageSize:10}),X=e.ApiParamType.params,be({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&re(e.cardview),e.Dialogview&&E(e.Dialogview)}),[e.cardview,e.Dialogview]);const ve=()=>{J.IsDraft?be(N,X,"DraftBMSSysID"):be(N,X,"BMSSysID")},be=async(t,a,l,n)=>{if(J.token[0]){if(W.loading(!0),"DraftPage"!==n&&te(J.IsDraft),await Ee((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],n=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=n[e];a=t}G(a);let s=g.v.Api+`${e.ApiType}/`,i={data:{p1:a&&a.BMSSysIDPK?a.BMSSysIDPK:null,p2:a&&a.BMSSysCode?a.BMSSysCode:null,p3:a&&a.BMSSysName?a.BMSSysName:null,p4:a&&a.BMSSerial?a.BMSSerial:null,p5:a&&a.BMSMac?a.BMSMac:null,p6:null,p7:null,p8:a&&a.BMSManagedKey?a.BMSManagedKey:null,p9:null,p10:"DraftBMSSysID"==l?"1":"0",p11:null,p12:a&&a.BMSManagedID?a.BMSManagedID:null,p13:a&&a.BMSTypeID?a.BMSTypeID:null,p14:a&&a.IsActive,p15:null,p16:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p17:a&&a.CreatedTtm?a.CreatedTtm:null,p18:a&&a.CreatedTtmType?a.CreatedTtmType:null,p19:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p20:null,p21:a&&a.BMSManagedCode?a.BMSManagedCode:null,p22:a&&a.BMSTypCode?a.BMSTypCode:null,p23:a&&a.BMSTypeNmae?a.BMSTypeNmae:null,p24:t.current,p25:t.pageSize,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,S.Z)(s,i,J.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?C(Math.ceil(a)):20==t.pageSize?C(Math.ceil(a/2)):50==t.pageSize?C(Math.ceil(a/5)):100==t.pageSize&&C(Math.ceil(a/10)),O(e.Output.data)}}else W.alert({open:!0,color:"warning",message:[(a="There is no Record Found",fe?.[a]?fe[a]:a)]}),O([]),C(0),b(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{se(J.ExpandTableValue)}),[J.ExpandTableValue]),n().createElement("div",null,n().createElement(i.Z,{expanded:ae,onChange:()=>()=>{le(ne)}},n().createElement(d.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",v,")")))))),n().createElement(r.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"BMSSysRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(u.Z,{formctrlidprint:"fld1483L3TCExportPrint",formctrlidexport:"fld1483L3TCExportTable",formctrlidrefresh:"fld1483L3TCExportRefresh",title:"BMS Integration Registry",data:P,exportData:Ce,Items:pe,columnIndex:ce,triggerApi:t=>{((t,l,n)=>{if(0===v)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let s=g.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.BMSSysIDPK?t.BMSSysIDPK:null),p2:t&&t.BMSSysCode?t.BMSSysCode:null,p3:t&&t.BMSSysName?t.BMSSysName:null,p4:t&&t.BMSSerial?t.BMSSerial:null,p5:t&&t.BMSMac?t.BMSMac:null,p6:null,p7:null,p8:t&&t.BMSManagedKey?t.BMSManagedKey:null,p9:null,p10:ee?"1":"0",p11:null,p12:t&&t.BMSManagedID?t.BMSManagedID:null,p13:t&&t.BMSTypeID?t.BMSTypeID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.BMSManagedCode?t.BMSManagedCode:null,p22:t&&t.BMSTypCode?t.BMSTypCode:null,p23:t&&t.BMSTypeNmae?t.BMSTypeNmae:null,p24:1,p25:v,p26:Ie,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};var r;W.loading(!1),W.alert({open:!0,color:"success",message:[`${r="1483",J.language?.[r]?J.language[r]:r} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,S.Z)(s,i,J.token[0],n).then((e=>{(0,F.PDF_Excel_Generate)(e,W,pe,A,a,n)}))})(_,R.column,t)},TableVisibleItem:H,userGridViewFormID:"1483",TableTotalCount:v,Refresh:()=>{be({current:1,pageSize:100},_,Ie),T({current:1,pageSize:100}),m.current&&m.current.clearItem(),o.current&&o.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:a})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(M.Z,{count:f,siblingCount:0,color:"primary",page:N.current,onChange:(e,t)=>{if(T({current:t,pageSize:N.pageSize}),ee)be({current:t,pageSize:N.pageSize},_,"DraftBMSSysID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";be({current:t,pageSize:N.pageSize},_,"BMSSysID")}}}),n().createElement("div",null,n().createElement(B.Z,{value:N.pageSize,onChange:e=>{T({current:1,pageSize:e.target.value}),be({current:1,pageSize:e.target.value},_,"BMSSysID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),n().createElement("div",{id:"BMSSysRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"BMSSysRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"BMSSysRegistry",headerdata:H,tablesearchparams:me,searchvalue:e=>{Se(e),T({current:1,pageSize:100}),be({current:1,pageSize:100},e,ee?"DraftBMSSysID":"BMSSysID",ee&&"DraftPage")},bodydata:V,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:q,visibleitem:H,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,a,l):W.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{O(e)},color:!0,isexpanded:!1}):n().createElement(Z.Z,{frmctrlid:"tblcs_1483_L3_",ref:o,id:"BMSSysRegistryTable",type:e.viewtype,headerdata:H,tablesearchparams:me,searchvalue:e=>{let t={..._,...e};Se(e),G(t),T({current:1,pageSize:100}),be(N,t,Ie)},bodydata:V,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:q,visibleitem:H,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?W.select(t):(e.editdata(t,"view"),W.edit(t,a,1!=t.Entry))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},3188:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f}),a(95866),a(99058);var l=a(92950),n=a.n(l),s=a(80366),i=a(51673),r=a(282),d=a(868),o=a(78513),m=a(14439),S=a(27848),c=a(40900),u=a(64059),p=a(24038),y=a(8981),g=a(47516),D=a(86893),M=a(86090),B=a(33681),I=a(63163),E=a(25108);const f=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[f,C]=(0,l.useState)([]),[v,b]=(0,l.useState)({idpk:"",name:"",type:""}),[h,N]=(0,l.useState)(""),[T,w]=(0,l.useState)({}),[A,P]=(0,l.useState)(!0),[x,F]=(0,l.useState)(!1),{cstate:R,cdispatch:k}=e.ContextApi?e.ContextApi:(0,M.ContextApi)(),[L,Z]=(0,l.useState)(1),[V,O]=(0,l.useState)(0),[K,z]=(0,l.useState)(!1),[_,G]=(0,l.useState)({}),[U,j]=(0,l.useState)([]),[H,Y]=(0,l.useState)(!0);let q=localStorage.getItem("Language");const $={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let W=(0,y.Z)();const J=e=>W[e]?W[e]:e,Q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[$[q]];function X(){w({}),G({}),e.searchData({}),F(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));j(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{X()}})));const ee=async(t,a,l,n)=>{z(!0);let s=a.IsForeign?a.FieldName+"PK":"BMSSysIDPK";try{let r="",d=[],o={};await b((e=>(r=e.name,e))),await w((e=>(d=e,e))),await G((e=>(o=e,e)));const m=c.v.Api+"FP1483S3/",S={data:{p1:a.IsForeign?await le():null,p2:"BMSSysCode"==r&&l.length>0?"%"+l+"%":null,p3:"BMSSysName"==r&&l.length>0?"%"+l+"%":null,p4:"BMSSerial"==r&&l.length>0?"%"+l+"%":null,p5:"BMSMac"==r&&l.length>0?"%"+l+"%":null,p6:"IsAsset"==r&&l.length>0?"%"+l+"%":null,p7:"IsCCM"==r&&l.length>0?"%"+l+"%":null,p8:"BMSManagedKey"==r&&l.length>0?"%"+l+"%":null,p9:null,p10:null,p11:null,p12:"BMSManagedName"!=r&&d.BMSManagedName?d.BMSManagedName.map((e=>e.BMSManagedIDPK)).toString():null,p13:"BMSTypCode"!=r&&d.BMSTypCode?d.BMSTypCode.map((e=>e.BMSTypeIDPK)).toString():null,p14:e.Dialogview?"1":null,p15:null,p16:"p16"==r&&l.length>0?l:null,p17:null,p18:null,p19:null,p20:null,p21:"BMSManagedCode"==r&&l.length>0?"%"+l+"%":null,p22:"BMSTypCode"==r&&l.length>0?"%"+l+"%":null,p23:"BMSTypeNmae"==r&&l.length>0?"%"+l+"%":null,p24:n||1,p25:10,p26:t,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};await(0,i.Z)(m,S,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===n){let e=ae(l,r),t=te(e,T[r],s);C(t),O(t.length>0?t[0].TotalCount:T[r].length)}else{let e=[...f,...l],t=ae(e,r);O(t.length<10?t.length:l[0].TotalCount),C(ae(t,r))}else h.length>0&&C([]),O(f.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{z(!1)}},te=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ae=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function le(){let e={};await w((t=>(e=t,t)));let t=[...U],a=[];for(let l of t){let t=e[l]?.map((e=>e.BMSSysIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ne(t,a,l,n,s,i){let r={[n]:{From:t,Type:l,To:a}},d={};G((e=>({...e,...r})));const o={...T};let m=[...U],S=[];for(let e of m){let t=o[e]?.map((e=>e.BMSSysIDPK)).toString();t&&S.push(t)}await G((e=>(d=e,e)));let c={BMSSysIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?s:null,BMSTypeID:T.BMSTypCode?.map((e=>e.BMSTypeIDPK)).toString(),BMSManagedID:T.BMSManagedName?.map((e=>e.BMSManagedIDPK)).toString()};e.searchData(c)}function se(){return n().createElement(u.Z,{frmctrlid:"fld1483L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{ne(e,t,a,v.name,l)},keyboardback:()=>{F(!1),b({idpk:"",name:"",type:""})},title:J(v.name),fieldname:v.name,save:e=>{alert(!0)}})}return n().createElement("div",null,x?"Created Ttm"===v.name||v.name.includes("Date")?n().createElement(se,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(m.Z,null,n().createElement(S.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Q(v.idpk)," (",f.length,"/",V,")")),n().createElement(S.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(d.ZP,{title:J("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(s.Z,{id:"fld1483L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{F(!1),b({idpk:"",name:"",type:""}),Z(1)}}))),T[v.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(r.Z,{frmctrlid:"fld1483L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await w((t=>(e=t,E.log("clear fewItems",e),t))),e[v.name]=[],ee(v.type,v.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},J("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},A?n().createElement(d.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{P(!1)}}))):n().createElement(d.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{P(!0)}})))),n().createElement("ul",null,T[v.name]&&T[v.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:A?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[v.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[v.name],onClick:()=>(async(e,t)=>{Z(1);let a=T[v.name].filter((t=>t!=e)),l={};await w((e=>(l=e,e))),l[v.name]=a,w(l),C((t=>[e,...t]))})(e)},n().createElement(s.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(p.Z,{frmctrlid:"fld1483L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:h,placeholder:J("Enter ")+" "+Q(v.idpk),onChange:e=>{N(e),ee(v.type,v.name,e,1,le())}})),n().createElement("div",{id:"fld1483L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await w((e=>(a=e,e)));let n=[...U],s=[];for(let e of n){let t=a[e]?.map((e=>e.BMSSysIDPK)).toString();t&&s.push(t)}await G((e=>(l=e,e)));let i={BMSSysIDPK:s?[...new Set(s)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",BMSTypeID:T.BMSTypCode?.map((e=>e.BMSTypeIDPK)).toString(),BMSManagedID:T.BMSManagedName?.map((e=>e.BMSManagedIDPK)).toString()};e.searchData(i),F(!1)}},n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(r.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(B.Z,{color:"secondary"})),n().createElement("div",{id:"fld1483L3TFCScrollYDefault",className:"height65 scrollYDefault"},f.length>0&&f.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[v.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await w((e=>(l=e,e)));let n=l[v.name];t[v.name]=n?[...a,...n]:a,l={...l,...t},w(l),C((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(o.Z,{className:"DotIcon"}),n().createElement("span",null,e[v.name])))),f.length+0<V&&f.length>0&&n().createElement("div",{id:"fld1483L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(L+1),ee(v.type,v.name,"",L+1)}},n().createElement("p",null," more... ")),0===f.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:c.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(g.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(r.Z,{className:"ColumnApplyButton",onClick:()=>{X()},id:"fld1483L3TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},J("Clear")))),n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(r.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1483L3TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},J("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1483L3TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{F(!0),N(""),C([]),O(0),b({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBMSSysID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterBMSSysID",e,"",1,le())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Q(e.AdminUserGridViewIDPK)," ",_[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",_[e.FieldName]?.From+" to "+_[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Q(e.AdminUserGridViewIDPK)),n().createElement(I.Z,{checked:"1"==H,onChange:t=>{Y(t.target.checked),ne("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Q(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,T[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},T[a][0][a]),T[a].length>1&&n().createElement("span",{className:"RoundedDivName"},T[a][1][a]),T[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(T[a].length-2))))));var a}))))))}))},12108:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var l=a(92950),n=a.n(l),s=a(45237),i=(a(37148),a(3212)),r=a(29800),d=a(14439),o=a(27848),m=(a(10966),a(36939)),S=a(61201),c=a(50743),u=a(86090),p=(a(21392),a(51673)),y=a(40900),g=a(26537),D=(a(24038),a(10455)),M=(a(77366),a(97829),a(8981)),B=(a(63163),a(1695)),I=a(99216),E=(a(35131),a(61956),a(51649)),f=a(61924),C=a.n(f);const v=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[f,v]=((0,s.useSelector)((e=>e.form)),(0,l.useState)([])),[b,h]=(0,l.useState)(!0),[N,T]=(0,l.useState)(e.showDetail),[w,A]=(0,l.useState)(""),[P,x]=n().useState(!1),[F,R]=n().useState(""),[k,L]=n().useState(!1),Z=(0,l.useContext)(u.BMSSysRegistryContext),{cstate:V,cdispatch:O}=(0,u.ContextApi)(),[K,z]=(0,l.useState)(!1),[_,G]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[H,Y]=(0,l.useState)("");let q=(0,M.Z)();(0,l.useEffect)((()=>{V.editData.length>0&&(v(V.editData),x(!1),O({type:"PrimaryId",payload:V.editData[0].BMSSysIDPK}))}),[V.editData]),(0,l.useEffect)((()=>{V.showTableview&&Y(V.showTableview)}),[V.showTableview]),(0,l.useEffect)((()=>{h(V.ExpandDetailValue)}),[V.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{h(e),x(null)},viewtoggle:()=>{x(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=y.v.Api+"FP1483S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:1,p25:10,p26:a?"DraftBMSSysID":"BMSSysID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,g.Z)(0).then((e=>{(0,p.Z)(l,n,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&v(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===P&&a.current.clear()}})));const $=e=>q?.[e]?q?.[e]:e,W=e=>V.language?.[e]?V.language[e]:e;function J(e,t){}const Q=e=>{if(!(0,D.trimFunc)(f[0].BMSSysCode))return Z.alert({open:!0,color:"warning",message:[$("Please enter the")+""+W("BMSSysCode")]}),!1;Z.ConfirmAlert(n().createElement(C(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:$("Are you sure?"),onConfirm:()=>(()=>{Z.loading(!0),Z.ConfirmAlert(null),O({type:"IsDraft",payload:!1});let e={url:y.v.Api+"FP1483S2/",PrimID:f[0].BMSSysIDPK,ParamType:"",state:f[0],active:1,token:V.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,n=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:n}),Z.loading(!1)):(()=>{Z.loading(!0);let e={url:y.v.Api+"FP1483S1/",PrimID:f[0].BMSSysIDPK,ParamType:"",state:f[0],active:1,token:V.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(Z.alert({open:!0,color:"success",message:[t.message]}),Z.loading(!1),Z.ShowTableDiv(),Z.RefreshTable(),Z.Approval(!0))}))})())}))})(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:$("Yes"),cancelBtnText:$("Cancel"),showCancel:!0},V.PrimaryId?$("Do you want to Update?"):$("Do you want to Save?")))};return n().createElement("div",{className:"SubContent_1"},n().createElement(m.Z,{expanded:b,onChange:()=>()=>{e.expandTable&&h(!b)}},!P&&n().createElement(c.Z,null,n().createElement(d.Z,{container:!0},n().createElement(o.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("span",{style:{cursor:"pointer"}},n().createElement(E.u1R,{className:"backButtonList",onClick:()=>{Z.ShowTableDiv(),Z.RefreshTable()}})),n().createElement("p",{className:"DListP"},V.IsDraft?"Draft ":"",W("1483"))))))),n().createElement(S.Z,{style:{display:"block"}},f.map(((e,t)=>n().createElement("div",{key:t},n().createElement(I.Z,{tableName:"BMSSysRegistry",tableID:1483,parentID:e.BMSSysIDPK,fldid:"fld1483L3VCContainer",OpenSlideComponent:J,index:t,val:e,tf:W,t:$,title:"10.0.0.40-10:08:08 AM-24-5[1483]"}))))),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&V.AccessRights.IsAdd&&n().createElement(i.Z,{className:"L1AddBtnCommon",onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:[]}),O({type:"PrimaryId",payload:V.editData[0].BMSSysIDPK})},disabled:!1}),V.IsDraft&&n().createElement(r.Z,{onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:f}),O({type:"PrimaryId",payload:V.editData[0].BMSSysIDPK})},disabled:!1}),n().createElement(B.Z,{name:V.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld1483L3ECSaveBtnApprovalStatus",onClick:()=>{Q()}}))))}))}}]);