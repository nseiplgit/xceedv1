/*! For license information please see 626.cce01475b03d377a2f74.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[626],{60722:(e,t,a)=>{a.d(t,{kN:()=>te,gO:()=>ee,ZP:()=>ae});var l=a(92950),r=a.n(l),n=a(45237),i=a(37148),o=a(3212),d=a(29800),s=a(14439),m=a(27848),S=(a(10966),a(36939)),c=a(61201),u=a(50743),p=(a(21392),a(51673)),C=a(40900),P=a(26537),y=(a(24038),a(30553)),D=a(44528),g=a(61956),I=a(49174),M=(a(38773),a(19089)),E=(a(99090),a(35131)),h=a.n(E),f=a(55490),v=a(1695),N=(a(13235),a(61924)),T=a.n(N),k=a(868),b=a(40826),w=a(82729),O=a(75355),F=a(11107),A=a(92371);const x={EnterKeyValues:{PPMSSTechAddOn:["PPMSSOccupantAddress","PPMSSOccupantDate","PPMSSTechAddOnCode","IsPPMSSTechManual","PPMSSEmployeeKey","IsPPMSSChargable","SSCreWorkOrder","PPMSSTechStartDateTime","PPMSSTechEndDateTime","PPMSSTechTotal","PPMSSTechRemarks","PPMSSOccupantName","PPMSSOccupContactNo","PPMSSOccupEmail","PPMSSOccupantRemarks","PPMSSOccupantRating"]},Label:{PPMSSTechAddOn:{PPMSSOccupantAddress:["PPMSSTechAddOnCode"],PPMSSOccupantDate:["PPMSSTechAddOnCode"],PPMSSTechAddOnCode:["PPMSSTechAddOnCode"],IsPPMSSTechManual:["PPMSSTechAddOnCode"],PPMSSEmployeeKey:["PPMSSTechAddOnCode"],IsPPMSSChargable:["PPMSSTechAddOnCode"],PPMSSCreationWorkOrderID:["PPMSSTechAddOnCode"],PPMSSTechStartDateTime:["PPMSSTechAddOnCode"],PPMSSTechEndDateTime:["PPMSSTechAddOnCode"],PPMSSTechTotal:["PPMSSTechAddOnCode"],PPMSSTechRemarks:["PPMSSTechAddOnCode"],PPMSSOccupantName:["PPMSSTechAddOnCode"],PPMSSOccupContactNo:["PPMSSTechAddOnCode"],PPMSSOccupEmail:["PPMSSTechAddOnCode"],PPMSSOccupantRemarks:["PPMSSTechAddOnCode"],PPMSSOccupantRating:["PPMSSTechAddOnCode"]}},LabelHeader:{PPMSSTechAddOn:{PPMSSOccupantAddress:["PPMSSTechAddOnCode"],PPMSSOccupantDate:["PPMSSTechAddOnCode"],PPMSSTechAddOnCode:["PPMSSTechAddOnCode"],IsPPMSSTechManual:["PPMSSTechAddOnCode"],PPMSSEmployeeKey:["PPMSSTechAddOnCode"],IsPPMSSChargable:["PPMSSTechAddOnCode"],PPMSSCreationWorkOrderID:["PPMSSTechAddOnCode"],PPMSSTechStartDateTime:["PPMSSTechAddOnCode"],PPMSSTechEndDateTime:["PPMSSTechAddOnCode"],PPMSSTechTotal:["PPMSSTechAddOnCode"],PPMSSTechRemarks:["PPMSSTechAddOnCode"],PPMSSOccupantName:["PPMSSTechAddOnCode"],PPMSSOccupContactNo:["PPMSSTechAddOnCode"],PPMSSOccupEmail:["PPMSSTechAddOnCode"],PPMSSOccupantRemarks:["PPMSSTechAddOnCode"],PPMSSOccupantRating:["PPMSSTechAddOnCode"]}},Property:{PPMSSTechAddOn:{PPMSSOccupantAddress:{id:"fld914_39864",labelID:"PPMSSOccupantAddress",maxLength:"100",labelname:"",frmctrlid:"fld914_39864",frmctrlidname:"PPMSSOccupantAddress",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSOccupantDate:{id:"fld914_39865",labelID:"PPMSSOccupantDate",maxLength:"",labelname:"",frmctrlid:"fld914_39865",frmctrlidname:"PPMSSOccupantDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSTechAddOnCode:{id:"fld914_22806",labelID:"PPMSSTechAddOnCode",maxLength:"50",labelname:"PPMSSTechAddOnCode",frmctrlid:"fld914_22806",frmctrlidname:"PPMSSTechAddOnCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPPMSSTechManual:{id:"fld914_22811",labelID:"IsPPMSSTechManual",maxLength:"50",labelname:"PPMSS Tech Manual",frmctrlid:"fld914_22811",frmctrlidname:"IsPPMSSTechManual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSEmployeeKey:{id:"fld914_22814",labelID:"PPMSSEmployeeKey",maxLength:"50",labelname:"PPMSS Employee Key",frmctrlid:"fld914_22814",frmctrlidname:"PPMSSEmployeeKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPPMSSChargable:{id:"fld914_22815",labelID:"IsPPMSSChargable",maxLength:"",labelname:"IsPPMSSChargable",frmctrlid:"fld914_22815",frmctrlidname:"IsPPMSSChargable",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationWorkOrderID:{id:"fld914_22818",clearID:"PPMSSTechAddOnSSCreWorkOrderClear",type:"select",labelID:"PPMSSCreationWorkOrderIDPK",labelname:"PPMSS Creation Work Order",fielddisplayname:"SSCreWorkOrder",fieldOrder:"0",frmctrlid:"fld914_22818",frmctrlidname:"PPMSSCreationWorkOrderID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMSSTechStartDateTime:{id:"fld914_22807",labelID:"PPMSSTechStartDateTime",maxLength:"20",labelname:"Start Time",frmctrlid:"fld914_22807",frmctrlidname:"PPMSSTechStartDateTime",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSTechEndDateTime:{id:"fld914_22808",labelID:"PPMSSTechEndDateTime",maxLength:"20",labelname:"End Time",frmctrlid:"fld914_22808",frmctrlidname:"PPMSSTechEndDateTime",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSTechTotal:{id:"fld914_22809",labelID:"PPMSSTechTotal",maxLength:"30",labelname:"Total Duration",frmctrlid:"fld914_22809",frmctrlidname:"PPMSSTechTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},PPMSSTechRemarks:{id:"fld914_22810",labelID:"PPMSSTechRemarks",maxLength:"250",labelname:"Remarks",frmctrlid:"fld914_22810",frmctrlidname:"PPMSSTechRemarks",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSOccupantName:{id:"fld914_39861",labelID:"PPMSSOccupantName",maxLength:"50",labelname:"Occupant Name",frmctrlid:"fld914_39861",frmctrlidname:"PPMSSOccupantName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSOccupContactNo:{id:"fld914_39862",labelID:"PPMSSOccupContactNo",maxLength:"50",labelname:"Occupant Contact No",frmctrlid:"fld914_39862",frmctrlidname:"PPMSSOccupContactNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSOccupEmail:{id:"fld914_39863",labelID:"PPMSSOccupEmail",maxLength:"50",labelname:"Occupant Email",frmctrlid:"fld914_39863",frmctrlidname:"PPMSSOccupEmail",type:"email",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSOccupantRemarks:{id:"fld914_39866",labelID:"PPMSSOccupantRemarks",maxLength:"200",labelname:"Occupant Remarks",frmctrlid:"fld914_39866",frmctrlidname:"PPMSSOccupantRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSOccupantRating:{id:"fld914_39867",labelID:"PPMSSOccupantRating",maxLength:"10",labelname:"Occupant Rating",frmctrlid:"fld914_39867",frmctrlidname:"PPMSSOccupantRating",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{PPMSSTechAddOn:{PPMSSCreationWorkOrderID:["BuildingID","ContractID","DisciplineID","DivisionID","FloorID","FrequencyID","LocalityID","PPMStageID","SpotID","SSCreWorkOrder","SSCreWoDateTime","SSCreSLAHours"]}}};var B=a(99940),W=a(63163),L=a(63750),R=a(45155),K=a(77317),Z=a(55918),G=a.n(Z),z=a(8981);const _={PPMSSTechAddOnIDPK:"",PPMSSTechAddOnCode:"",PPMSSTechStartDateTime:"",PPMSSTechStartDateTimeType:"",PPMSSTechStartDateTimeBetween:"",PPMSSTechEndDateTime:"",PPMSSTechEndDateTimeType:"",PPMSSTechEndDateTimeBetween:"",PPMSSTechTotal:"",PPMSSTechRemarks:"",IsPPMSSTechManual:!1,PPMSSEmployeeKey:"",IsPPMSSChargable:!1,PPMSSOccupantName:"",PPMSSOccupContactNo:"",PPMSSOccupEmail:"",PPMSSOccupantAddress:"",PPMSSOccupantDate:"",PPMSSOccupantDateType:"",PPMSSOccupantDateBetween:"",PPMSSOccupantRemarks:"",PPMSSOccupantRating:"",IsDraft:!1,Remarks:"",PPMSSCreationWorkOrderID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",Type:"PPMSSTechAddOnID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},q=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),o=(0,n.useDispatch)(),[d,S]=(0,l.useState)("1"),[c,u]=(0,l.useReducer)(A.Z,_),[E,N]=(0,l.useState)(!1),[Z,q]=(0,l.useState)([]),V=(0,l.useContext)(ee),{cstate:H,cdispatch:U}=te(),[j,Y]=(0,l.useState)(""),[X,Q]=(0,l.useState)(""),[$,J]=(0,l.useState)(!0),[ae,le]=(0,l.useState)(""),[re,ne]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(!0),[de,se]=(0,l.useState)(""),[me,Se]=(0,l.useState)(""),[ce,ue]=(0,l.useState)(!1),[pe,Ce]=(0,l.useState)("");let Pe=(0,z.Z)();const ye=e=>Pe?.[e]?Pe[e]:e,De=e=>H.language?.[e]?H.language[e]:e;(0,l.useEffect)((()=>{H.PrimaryId&&Y(Number(H.PrimaryId))}),[H.PrimaryId]),(0,l.useEffect)((()=>{o((e=>{0==H.token.length&&(0,P.Z)(1).then((t=>{var a=new Array;a.push(t),e({type:"PPMSSTechAddOnToken",PPMSSTechAddOnToken:a})}))})),Ee()}),[]),(0,l.useEffect)((()=>{H.editData.length>0?Me(H.editData[0],""):H.Add&&Ee()}),[H.editData]),(0,l.useImperativeHandle)(t,(()=>({clear:Ee})));const ge=e=>e?e.split("-").reverse().join("-"):null,Ie=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},Me=(t,a)=>{let l=t;Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),Y(l.PPMSSTechAddOnIDPK),Ce(l.PPMSSOccupantRating),u({type:"text",name:"PPMSSOccupantAddress",value:l.PPMSSOccupantAddress?l.PPMSSOccupantAddress:""}),u({type:"text",name:"PPMSSOccupantDate",value:l.PPMSSOccupantDate?ge(l.PPMSSOccupantDate):null}),"SetDefaultPPMSSTechAddOnID"==a?Q(l.PPMSSTechAddOnIDPK):(Y(e.primid?Number(e.primid):l.PPMSSTechAddOnIDPK?l.PPMSSTechAddOnIDPK:0),U({type:"PrimaryId",payload:l.PPMSSTechAddOnIDPK})),u({type:"text",name:"PPMSSTechAddOnCode",value:l.PPMSSTechAddOnCode?l.PPMSSTechAddOnCode:""}),u({type:"boolean",name:"IsPPMSSTechManual",boolean:!!l.IsPPMSSTechManual&&l.IsPPMSSTechManual}),u({type:"number",name:"PPMSSEmployeeKey",number:l.PPMSSEmployeeKey}),u({type:"boolean",name:"IsPPMSSChargable",boolean:!!l.IsPPMSSChargable&&l.IsPPMSSChargable}),u({type:"number",name:"PPMSSCreationWorkOrderID",number:l.PPMSSCreationWorkOrderID?Number(l.PPMSSCreationWorkOrderID):0}),u({type:"text",name:"SSCreWorkOrder",value:l.SSCreWorkOrder}),u({type:"text",name:"PPMSSTechStartDateTime",value:l.PPMSSTechStartDateTime?Ie(l.PPMSSTechStartDateTime):null}),u({type:"text",name:"PPMSSTechEndDateTime",value:l.PPMSSTechEndDateTime?Ie(l.PPMSSTechEndDateTime):null}),u({type:"number",name:"PPMSSTechTotal",number:l.PPMSSTechTotal}),u({type:"text",name:"PPMSSTechRemarks",value:l.PPMSSTechRemarks?l.PPMSSTechRemarks:""}),u({type:"text",name:"PPMSSOccupantName",value:l.PPMSSOccupantName?l.PPMSSOccupantName:""}),u({type:"text",name:"PPMSSOccupContactNo",value:l.PPMSSOccupContactNo?l.PPMSSOccupContactNo:""}),u({type:"text",name:"PPMSSOccupEmail",value:l.PPMSSOccupEmail?l.PPMSSOccupEmail:""}),u({type:"text",name:"PPMSSOccupantRemarks",value:l.PPMSSOccupantRemarks?l.PPMSSOccupantRemarks:""}),u({type:"number",name:"PPMSSOccupantRating",number:l.PPMSSOccupantRating}),l.IsActive&&S("1"==l.IsActive)},Ee=()=>{Y(""),u({type:"text",name:"PPMSSOccupantAddress",value:""}),u({type:"text",name:"PPMSSOccupantDate",value:""}),U({type:"PrimaryId",payload:""}),u({type:"text",name:"PPMSSTechAddOnCode",value:""}),u({type:"boolean",name:"IsPPMSSTechManual",boolean:!1}),u({type:"number",name:"PPMSSEmployeeKey",number:0}),u({type:"boolean",name:"IsPPMSSChargable",boolean:!1}),u({type:"text",name:"PPMSSCreationWorkOrderID",value:null}),u({type:"text",name:"SSCreWorkOrder",value:""}),document.getElementById("PPMSSTechAddOnSSCreWorkOrderClear")&&document.getElementById("PPMSSTechAddOnSSCreWorkOrderClear").click(),u({type:"text",name:"PPMSSTechStartDateTime",value:null}),u({type:"text",name:"PPMSSTechEndDateTime",value:null}),u({type:"number",name:"PPMSSTechTotal",number:0}),u({type:"text",name:"PPMSSTechRemarks",value:""}),u({type:"text",name:"PPMSSOccupantName",value:""}),u({type:"text",name:"PPMSSOccupContactNo",value:""}),u({type:"text",name:"PPMSSOccupEmail",value:""}),u({type:"text",name:"PPMSSOccupantRemarks",value:""}),u({type:"number",name:"PPMSSOccupantRating",number:0}),S(!0)},he=t=>{V.loading(!0),V.ConfirmAlert(null);const a=C.v.Api+"FP914S2/",l={data:[{p1:"SetDefaultPPMSSTechAddOnID"==t?"NORECORDS"!=X&&X?X:0:j,p2:we(c.PPMSSTechAddOnCode),p3:c.PPMSSTechStartDateTime?c.PPMSSTechStartDateTime:null,p4:c.PPMSSTechEndDateTime?c.PPMSSTechEndDateTime:null,p5:c.PPMSSTechTotal?Number(c.PPMSSTechTotal):0,p6:we(c.PPMSSTechRemarks),p7:c.IsPPMSSTechManual,p8:c.PPMSSEmployeeKey?Number(c.PPMSSEmployeeKey):0,p9:c.IsPPMSSChargable,p10:we(c.PPMSSOccupantName),p11:we(c.PPMSSOccupContactNo),p12:we(c.PPMSSOccupEmail),p13:we(c.PPMSSOccupantAddress),p14:c.PPMSSOccupantDate?c.PPMSSOccupantDate:null,p15:we(c.PPMSSOccupantRemarks),p16:c.PPMSSOccupantRating?Number(c.PPMSSOccupantRating):0,p17:!1,p18:"SetDefaultPPMSSTechAddOnID"==t?"SetDefault":null,p19:e.parentId?Number(e.parentId):c.PPMSSCreationWorkOrderID?c.PPMSSCreationWorkOrderID:0,p20:d,p21:"SetDefaultPPMSSTechAddOnID"==t,p22:localStorage.getItem("userid"),p23:h()().format("YYYY-MM-DD hh:mm:ss"),p24:localStorage.getItem("userid"),p25:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,P.Z)(0).then((e=>{(0,p.Z)(a,l,e).then((e=>{const a=e.Output[0].status;let l=e.Output[0].Data,r=new Array,n=new Array;"200"===a.code&&(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(V.alert({open:!0,color:"warning",message:n}),V.loading(!1)):fe(t))}))}))},fe=t=>{J(!0),ne(!0),oe(!0),V.loading(!0),V.ConfirmAlert(null);const a=C.v.Api+"FP914S1/",l={data:[{p1:"SetDefaultPPMSSTechAddOnID"==t?"NORECORDS"!=X&&X?X:0:j,p2:we(c.PPMSSTechAddOnCode),p3:c.PPMSSTechStartDateTime?c.PPMSSTechStartDateTime:null,p4:c.PPMSSTechEndDateTime?c.PPMSSTechEndDateTime:null,p5:c.PPMSSTechTotal?Number(c.PPMSSTechTotal):0,p6:we(c.PPMSSTechRemarks),p7:c.IsPPMSSTechManual,p8:c.PPMSSEmployeeKey?Number(c.PPMSSEmployeeKey):0,p9:c.IsPPMSSChargable,p10:we(c.PPMSSOccupantName),p11:we(c.PPMSSOccupContactNo),p12:we(c.PPMSSOccupEmail),p13:we(c.PPMSSOccupantAddress),p14:c.PPMSSOccupantDate?c.PPMSSOccupantDate:null,p15:we(c.PPMSSOccupantRemarks),p16:c.PPMSSOccupantRating?Number(c.PPMSSOccupantRating):0,p17:!1,p18:"SetDefaultPPMSSTechAddOnID"==t?"SetDefault":null,p19:e.parentId?Number(e.parentId):c.PPMSSCreationWorkOrderID?c.PPMSSCreationWorkOrderID:0,p20:d,p21:"SetDefaultPPMSSTechAddOnID"==t,p22:localStorage.getItem("userid"),p23:h()().format("YYYY-MM-DD hh:mm:ss"),p24:localStorage.getItem("userid"),p25:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,P.Z)(0).then((e=>{(0,g.Z)(a,l,e).then((e=>{const t=e[0].status;200==t.code?(V.alert({open:!0,color:"success",message:[t.message]}),V.attachmentSave(e[0].Data.IDPK),V.loading(!1),V.RefreshTable(),H.AccessRights.IsApproval&&V.Approval(!0),Ee(),document.getElementById("overlayimgAttPPMSSTechAddOn")&&(document.getElementById("overlayimgAttPPMSSTechAddOn").style.width="0%",document.getElementById("overlayimgAttPPMSSTechAddOn").style.display="none",document.getElementById("divPPMSSTechAddOn-Entry").style.width="100%")):(V.alert({open:!0,color:"warning",message:[t.message]}),V.loading(!1)),ve(1,null,"SetDefaultPPMSSTechAddOnID",H.token[0])}))}))},ve=(t,a,l,r,n,i)=>{const o=C.v.Api+"FP914S3/",d={data:{p1:null,p2:null,p3:c.PPMSSTechStartDateTime?c.PPMSSTechStartDateTime:null,p4:null,p5:null,p6:c.PPMSSTechEndDateTime?c.PPMSSTechEndDateTime:null,p7:null,p8:null,p9:null,p10:null,p11:1==c.IsPPMSSTechManual,p12:a?"%"+a+"%":null,p13:1==c.IsPPMSSChargable,p14:a?"%"+a+"%":null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:c.PPMSSOccupantDate?c.PPMSSOccupantDate:null,p19:null,p20:null,p21:null,p22:a?"%"+a+"%":null,p23:null,p24:null,p25:e.parentId?Number(e.parentId):0,p26:e.Dialogview?"1":null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:"0"==c.ContractID?null:c.ContractID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==c.LocalityID?null:c.LocalityID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==c.BuildingID?null:c.BuildingID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==c.FloorID?null:c.FloorID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==c.SpotID?null:c.SpotID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==c.DivisionID?null:c.DivisionID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==c.DisciplineID?null:c.DisciplineID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:"0"==c.FrequencyID?null:c.FrequencyID,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:"0"==c.PPMBusinessFlowID?null:c.PPMBusinessFlowID,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==c.PPMFixonBusinessFlowID?null:c.PPMFixonBusinessFlowID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==c.PPMStageID?null:c.PPMStageID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:t,p69:10,p70:l,p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});N(!0);const m={data:s};return(0,p.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSSTechAddOnID"==l&&r?r:H.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};q(1==t?e>0?r:[]:Z.concat(r)),"SetDefaultPPMSSTechAddOnID"==l&&(e>0?Me(r[0],"SetDefaultPPMSSTechAddOnID"):Q("NORECORDS")),N(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),N(!1)}))},Ne=(t,l,r)=>{const n=C.v.Api+"FP914S3/",i={data:{p1:null,p2:"PPMSSTechAddOnCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"PPMSSTechTotal"==r&&l?"%"+l+"%":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID?a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID:"0",p26:e.Dialogview?"1":null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:t,p69:10,p70:"PPMSSTechAddOnID",p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};N(!0),(0,p.Z)(n,"ClearAll"==r?o:i,H.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSSOccupantAddress"==r&&J(e>0),"PPMSSTechAddOnCode"==r&&ne(e>0),"PPMSSEmployeeKey"==r&&oe(e>0),q(l)):("PPMSSOccupantAddress"==r&&J(!0),"PPMSSTechAddOnCode"==r&&ne(!0),"PPMSSEmployeeKey"==r&&oe(!0),q(Z.concat(l))),N(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),N(!1)}))},Te=(0,l.useCallback)((async(e,t,a)=>{"text"==a?u({type:a,name:t,value:e}):"number"==a?u({type:a,name:t,number:Number(e)}):"boolean"==a?u({type:a,name:t,boolean:e}):"date"==a&&(u({type:"text",name:t,value:e}),"PPMSSTechStartDateTime"==t?(u({type:"text",name:"PPMSSTechStartDateTime",value:e}),c.PPMSSTechEndDateTime&&ke(e,c.PPMSSTechEndDateTime)&&u({type:"text",name:"PPMSSTechTotal",value:ke(e,c.PPMSSTechEndDateTime)})):"PPMSSTechEndDateTime"==t&&(u({type:"text",name:"PPMSSTechEndDateTime",value:e}),c.PPMSSTechStartDateTime&&ke(c.PPMSSTechStartDateTime,e)&&u({type:"text",name:"PPMSSTechTotal",value:ke(c.PPMSSTechStartDateTime,e)})))}),[c]),ke=(e,t)=>{let a=(0,b.format)(new Date(e),"yyyy-MM-dd HH:mm"),l=(0,b.format)(new Date(t),"yyyy-MM-dd HH:mm");if(Date.parse(l)>Date.parse(a))return(0,b.differenceInMinutes)(new Date(l),new Date(a))},be=e=>{V.ConfirmAlert(r().createElement(T(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>function(e){V.ConfirmAlert(null),u({type:"text",name:"PPMSSOccupantAddress",value:e.PPMSSOccupantAddress?e.PPMSSOccupantAddress:""}),u({type:"text",name:"PPMSSOccupantDate",value:e.PPMSSOccupantDate?ge(e.PPMSSOccupantDate):null}),u({type:"text",name:"PPMSSTechAddOnCode",value:e.PPMSSTechAddOnCode?e.PPMSSTechAddOnCode:""}),u({type:"boolean",name:"IsPPMSSTechManual",boolean:!!e.IsPPMSSTechManual&&e.IsPPMSSTechManual}),u({type:"text",name:"PPMSSEmployeeKey",value:e.PPMSSEmployeeKey?e.PPMSSEmployeeKey:""}),u({type:"boolean",name:"IsPPMSSChargable",boolean:!!e.IsPPMSSChargable&&e.IsPPMSSChargable}),u({type:"number",name:"PPMSSCreationWorkOrderID",number:e.PPMSSCreationWorkOrderID?Number(e.PPMSSCreationWorkOrderID):0}),u({type:"text",name:"SSCreWorkOrder",value:e.SSCreWorkOrder?e.SSCreWorkOrder:""}),u({type:"text",name:"PPMSSTechStartDateTime",value:e.PPMSSTechStartDateTime?Ie(e.PPMSSTechStartDateTime):null}),u({type:"text",name:"PPMSSTechEndDateTime",value:e.PPMSSTechEndDateTime?Ie(e.PPMSSTechEndDateTime):null}),u({type:"text",name:"PPMSSTechTotal",value:e.PPMSSTechTotal?e.PPMSSTechTotal:""}),u({type:"text",name:"PPMSSTechRemarks",value:e.PPMSSTechRemarks?e.PPMSSTechRemarks:""}),u({type:"text",name:"PPMSSOccupantName",value:e.PPMSSOccupantName?e.PPMSSOccupantName:""}),u({type:"text",name:"PPMSSOccupContactNo",value:e.PPMSSOccupContactNo?e.PPMSSOccupContactNo:""}),u({type:"text",name:"PPMSSOccupEmail",value:e.PPMSSOccupEmail?e.PPMSSOccupEmail:""}),u({type:"text",name:"PPMSSOccupantRemarks",value:e.PPMSSOccupantRemarks?e.PPMSSOccupantRemarks:""}),u({type:"text",name:"PPMSSOccupantRating",value:e.PPMSSOccupantRating?e.PPMSSOccupantRating:""})}(e),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ye("Yes"),cancelBtnText:ye("No"),showCancel:!0},ye("Do you want to update this record?")))},we=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP",title:"10.0.0.54-1:12:38 PM-15-6[914]"},ye("Add"),De(914))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},H.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(B.FormGroup,{row:!0},r().createElement(y.Z,{labelPlacement:"bottom",id:"fld914L0ECEntryCheckbox",control:r().createElement(W.Z,{checked:"1"==d,onChange:e=>S(e.target.checked)}),label:ye(1==d?"Active":"In Active")})))),j||!H.AccessRights.IsAdd||!X&&"NORECORDS"!=X?!j&&r().createElement(k.ZP,{placement:"top",title:"Get Default"},r().createElement("div",{className:"GridAlignDefault",onClick:()=>{ve(1,null,"SetDefaultPPMSSTechAddOnID",H.token[0])},id:"fld914L0ECGetDefault"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(L.j39,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ye("GetDefault"))))):r().createElement(k.ZP,{placement:"top",title:"Set Default"},r().createElement("div",{className:"GridAlignDefault",onClick:()=>{fe("SetDefaultPPMSSTechAddOnID")},id:"fld914L0ECSetDefault"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(L.j39,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ye("SetDefault"))))),r().createElement(k.ZP,{placement:"top",title:"Attach"},r().createElement("div",{className:"GridAlign",onClick:()=>{V.AttachExpand(!0)},id:"fld914L0ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(R.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ye("Attach"))))),!H.PrimaryId&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ee()},id:"fld914L0ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(R.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ye("Reset")))),H.AccessRights.IsAdd&&r().createElement(v.Z,{name:H.PrimaryId?"Update":"Save",disabled:!1,onClick:()=>{(t=>{if(!e.parentId||0==e.parentId)return V.alert({open:!0,color:"warning",message:[ye("Please select the ")+" "+De("PPMSSCreationWorkOrderID")]}),!1;if(!c.PPMSSTechStartDateTime||0==c.PPMSSTechStartDateTime||de)return V.alert({open:!0,color:"warning",message:[ye("Please enter the Start Time")]}),!1;if(!c.PPMSSTechEndDateTime||0==c.PPMSSTechEndDateTime||me)return V.alert({open:!0,color:"warning",message:[ye("Please enter the End Time")]}),!1;if(!we(c.PPMSSTechRemarks))return V.alert({open:!0,color:"warning",message:[ye("Please enter the")+""+De("PPMSSTechRemarks")]}),!1;let a=/^([a-zA-Z0-9_.-])+\@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/.test(c.PPMSSOccupEmail);if(c.PPMSSOccupEmail&&!a)return V.alert({open:!0,color:"error",message:[ye("Invalid")+" "+De("PPMSSOccupEmail")]}),!1;V.ConfirmAlert(r().createElement(T(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ye("Are you sure?"),onConfirm:()=>he(),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ye("Yes"),cancelBtnText:ye("Cancel"),showCancel:!0},H.PrimarId?ye("Do you want to Update?"):ye("Do you want to Save?")))})()}}),H.editData.length>0&&r().createElement(i.Z,{disabled:!1,onClick:()=>{Ee(),V.RefreshTable(!1)}}))),r().createElement("div",{id:"PPMSSTechAddOn-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSSTechAddOn-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSSTechAddOn-MainBody",className:"padding paddingLeft"},r().createElement("div",null,r().createElement(w.Z,null,r().createElement(F.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null))))),r().createElement(O.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(f.Z,{"data-testid":c.PPMSSOccupantAddress,json:x,SPName:"PPMSSTechAddOn",FieldName:"PPMSSOccupantAddress",tfLabel:De("PPMSSOccupantAddress"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&be(t),onClick:()=>{$&&Ne(1,"","ClearAll"),J(!0)},frmctrlid:"fld914_39864",frmctrlidName:"PPMSSOccupantAddress",fieldorder:"0",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{$&&Ne(e,t,"PPMSSOccupantAddress"),Te(t,"PPMSSOccupantAddress","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||J(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:c.PPMSSOccupantAddress,loading:E,clear:e=>{e&&(u({type:"text",name:"PPMSSOccupantAddress",value:""}),J(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(I.Z,{value:c.PPMSSOccupantDate,"data-testid":c.PPMSSOccupantDate,disabled:!1,onChange:e=>{Te(e,"PPMSSOccupantDate","date")},onErr:e=>{le(e)},label:De("PPMSSOccupantDate"),frmctrlid:"fld914_39865",frmctrlidName:"PPMSSOccupantDate",fieldorder:"0"}))))),r().createElement(w.Z,null,r().createElement(F.Z,{color:"info",icon:!0,className:"cardheadvh"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null))))),r().createElement(O.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(f.Z,{"data-testid":c.PPMSSTechAddOnCode,json:x,SPName:"PPMSSTechAddOn",FieldName:"PPMSSTechAddOnCode",tfLabel:De("PPMSSTechAddOnCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&be(t),onClick:()=>{re&&Ne(1,"","ClearAll"),ne(!0)},frmctrlid:"fld914_22806",frmctrlidName:"PPMSSTechAddOnCode",fieldorder:"0",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{re&&Ne(e,t,"PPMSSTechAddOnCode"),Te(t,"PPMSSTechAddOnCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:c.PPMSSTechAddOnCode,loading:E,clear:e=>{e&&(u({type:"text",name:"PPMSSTechAddOnCode",value:""}),ne(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(y.Z,{style:{color:"#337ab7"},"data-testid":c.IsPPMSSTechManual,labelPlacement:"end",control:r().createElement(W.Z,{checked:"1"==c.IsPPMSSTechManual,onChange:e=>{Te(e.target.checked,"IsPPMSSTechManual","boolean")},frmctrlid:"fld914_22811",frmctrlidname:"IsPPMSSTechManual",fieldorder:"0",tfLabel:De("IsPPMSSTechManual")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:c.IsPPMSSTechManual?"#21446F":"#999"}},De("IsPPMSSTechManual"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(f.Z,{"data-testid":c.PPMSSEmployeeKey,json:x,SPName:"PPMSSTechAddOn",FieldName:"PPMSSEmployeeKey",tfLabel:De("PPMSSEmployeeKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&be(t),onClick:()=>{ie&&Ne(1,"","ClearAll"),oe(!0)},frmctrlid:"fld914_22814",frmctrlidName:"PPMSSEmployeeKey",fieldorder:"0",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ie&&Ne(e,t,"PPMSSEmployeeKey"),Te(t,"PPMSSEmployeeKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:c.PPMSSEmployeeKey,loading:E,clear:e=>{e&&(u({type:"text",name:"PPMSSEmployeeKey",value:""}),oe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(y.Z,{style:{color:"#337ab7"},"data-testid":c.IsPPMSSChargable,labelPlacement:"end",control:r().createElement(W.Z,{checked:"1"==c.IsPPMSSChargable,onChange:e=>{Te(e.target.checked,"IsPPMSSChargable","boolean")},frmctrlid:"fld914_22815",frmctrlidname:"IsPPMSSChargable",fieldorder:"0",tfLabel:De("IsPPMSSChargable")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:c.IsPPMSSChargable?"#21446F":"#999"}},De("IsPPMSSChargable"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(f.Z,{json:x,id:c.PPMSSCreationWorkOrderID,"data-testid":c.PPMSSCreationWorkOrderID,value:c.SSCreWorkOrder,SPName:"PPMSSTechAddOn",FieldName:"PPMSSCreationWorkOrderID",tfLabel:De("PPMSSCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Te(e,"PPMSSCreationWorkOrderID","select"),onChange:(e,t)=>{ve(e,t,"PPMSSCreationWorkOrderIDPK")},KeyBack:e=>{c.PPMSSCreationWorkOrderID},fieldorder:"0",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:E,clear:e=>{e&&c.PPMSSCreationWorkOrderID}}))))),r().createElement(w.Z,null,r().createElement(F.Z,{color:"info",icon:!0,className:"cardheadvh"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null,"Technician Details"))))),r().createElement(O.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement(M.Z,{"data-testid":c.PPMSSTechStartDateTime,value:c.PPMSSTechStartDateTime,skipMin:!0,onErr:e=>{se(e)},onChange:e=>{Te(e,"PPMSSTechStartDateTime","date")},minDate:(0,b.startOfDay)(new Date(Ie(e.parentData?.SSCreWoDateTime))),maxDate:(0,b.addDays)(new Date(new Date),0),label:r().createElement("span",null,De("PPMSSTechStartDateTime"),r().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld914_22807",frmctrlidName:"PPMSSTechStartDateTime",fieldorder:"1"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement(M.Z,{"data-testid":c.PPMSSTechEndDateTime,value:c.PPMSSTechEndDateTime,skipMin:!0,onErr:e=>{Se(e)},onChange:e=>{Te(e,"PPMSSTechEndDateTime","date")},minDate:c.PPMSSTechStartDateTime,maxDate:(0,b.addDays)(new Date(new Date),0),label:r().createElement("span",null,De("PPMSSTechEndDateTime"),r().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld914_22808",frmctrlidName:"PPMSSTechEndDateTime",fieldorder:"2"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(D.Z,{json:x,"data-testid":c.PPMSSTechTotal,SPName:"PPMSSTechAddOn",FieldName:"PPMSSTechTotal",tfLabel:De("PPMSSTechTotal"),frmctrlid:"fld914_22809",fieldorder:"3",onChange:e=>{Te(e,"PPMSSTechTotal","text")},clear:e=>{e&&u({type:"text",name:"PPMSSTechTotal",value:""})},value:G()(c.PPMSSTechTotal)})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(D.Z,{json:x,"data-testid":c.PPMSSTechRemarks,SPName:"PPMSSTechAddOn",FieldName:"PPMSSTechRemarks",tfLabel:De("PPMSSTechRemarks"),frmctrlid:"fld914_22810",fieldorder:"4",onChange:e=>{Te(e,"PPMSSTechRemarks","text")},clear:e=>{e&&u({type:"text",name:"PPMSSTechRemarks",value:""})},value:c.PPMSSTechRemarks}))))),r().createElement(w.Z,null,r().createElement(F.Z,{color:"info",icon:!0,className:"cardheadvh"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null,"Technician Details"))))),r().createElement(O.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(D.Z,{json:x,"data-testid":c.PPMSSOccupantName,SPName:"PPMSSTechAddOn",FieldName:"PPMSSOccupantName",tfLabel:De("PPMSSOccupantName"),frmctrlid:"fld914_39861",fieldorder:"1",onChange:e=>{Te(e,"PPMSSOccupantName","text")},clear:e=>{e&&u({type:"text",name:"PPMSSOccupantName",value:""})},value:c.PPMSSOccupantName})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(D.Z,{json:x,"data-testid":c.PPMSSOccupContactNo,SPName:"PPMSSTechAddOn",FieldName:"PPMSSOccupContactNo",tfLabel:De("PPMSSOccupContactNo"),frmctrlid:"fld914_39862",fieldorder:"2",onChange:e=>{Te(e,"PPMSSOccupContactNo","text")},clear:e=>{e&&u({type:"text",name:"PPMSSOccupContactNo",value:""})},value:c.PPMSSOccupContactNo})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(D.Z,{json:x,"data-testid":c.PPMSSOccupEmail,SPName:"PPMSSTechAddOn",FieldName:"PPMSSOccupEmail",tfLabel:De("PPMSSOccupEmail"),onChange:e=>{u({type:"text",name:"PPMSSOccupEmail",value:e})},value:c.PPMSSOccupEmail,clear:e=>{e&&u({type:"text",name:"PPMSSOccupEmail",value:""})},frmctrlid:"fld914_39863",frmctrlidName:"PPMSSOccupEmail",fieldorder:"3"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(D.Z,{json:x,"data-testid":c.PPMSSOccupantRemarks,SPName:"PPMSSTechAddOn",FieldName:"PPMSSOccupantRemarks",tfLabel:De("PPMSSOccupantRemarks"),frmctrlid:"fld914_39866",fieldorder:"4",onChange:e=>{Te(e,"PPMSSOccupantRemarks","text")},clear:e=>{e&&u({type:"text",name:"PPMSSOccupantRemarks",value:""})},value:c.PPMSSOccupantRemarks})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(K.Z,{id:"PPMSSOccupantRating",value:c.PPMSSOccupantRating,onChange:e=>{Te(e,"PPMSSOccupantRating","text")}}))))))))))}));a(77366),a(97829);var V=a(97087);const H=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,y]=(0,l.useState)(!0),[D,g]=(0,l.useState)(e.showDetail),[I,M]=(0,l.useState)(""),[E,h]=r().useState(!1),[f,v]=r().useState(""),[N,T]=r().useState(!1),k=(0,l.useContext)(ee),{cstate:b,cdispatch:w}=te(),[O,F]=(0,l.useState)(!1),[A,x]=(0,l.useState)(""),[B,W]=(0,l.useState)(""),[L,R]=(0,l.useState)("");let K=(0,z.Z)();(0,l.useEffect)((()=>{s(b.editData)}),[b.editData]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{y(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=C.v.Api+"FP914S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:e.Dialogview?"1":null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:1,p69:10,p70:b.IsDraft?"DraftPPMSSTechAddOnID":"PPMSSTechAddOnID",p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}};(0,P.Z)(0).then((e=>{(0,p.Z)(l,r,e).then((e=>{k.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===E&&a.current.clear()}})));const Z=e=>K?.[e]?K?.[e]:e,G=e=>b.language?.[e]?b.language[e]:e;function _(e,t){}return r().createElement("div",null,r().createElement(S.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&y(!m)}},!E&&r().createElement(u.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeaderBtn",style:{marginTop:"-12px"}},b.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld914L0VCEditBtn",onClick:()=>{k.edit()},disabled:!1}):"",0==b.editData.length&&b.AccessRights.IsAdd?r().createElement(o.Z,{className:"L1AddBtnCommon",frmctrlid:"fld914L0VCAddBtn",onClick:()=>{w({type:"Add",payload:!0})},disabled:!1}):""))),r().createElement(c.Z,{style:{display:"block"}},i.slice(0,1).map(((t,l)=>r().createElement("div",{key:l},E==="panel"+l?r().createElement(q,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(V.Z,{tableName:"PPMSSTechAddOn",tableID:914,parentID:t.PPMSSTechAddOnIDPK,fldid:"fld914L0VCContainer",OpenSlideComponent:_,index:l,val:t,rating:t.PPMSSOccupantRating,tf:G,t:Z,title:"10.0.0.54-1:12:38 PM-15-6[914]"}))))))))}));var U=a(67698),j=a(55995),Y=(a(45965),a(10794)),X=a(9175),Q=a.n(X),$=a(71168),J=a.n($);const ee=(0,l.createContext)(),te=()=>{const e=(0,l.useContext)(ee);if(void 0===e)throw new Error("ContextApi must be used within  PPMSSTechAddOnContext Provider");return e},ae=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[s,m]=(0,l.useState)(!0),[S,c]=(0,l.useState)(!1),[u,y]=(0,l.useState)(0),[D,g]=(0,l.useState)(!1),[I,M]=(0,l.useState)(),[E,h]=(0,l.useReducer)(Y.p,Y.E),[f,v]=(0,l.useState)([]),[N,T]=(0,l.useState)(!1),[k,b]=J()("914");(0,l.useEffect)((()=>{document.getElementById("divPPMSSTechAddOn-Entry").style.width="100%",document.getElementById("PPMSSTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSSTechAddOn-MainEntry").style.height="80vh",document.getElementById("PPMSSTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSTechAddOn-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divPPMSSTechAddOn-Entry").style.width="100%",document.getElementById("PPMSSTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSSTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSTechAddOn-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),h({type:"language",payload:Object.assign({},...r)})}(k)}),[k]);const w=e=>{document.getElementById("divPPMSSTechAddOn-Entry").style.width="100%",document.getElementById("PPMSSTechAddOnEntryTable").style.width="100%",document.getElementById("PPMSSTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSSTechAddOn-MainEntry").style.display="block",document.getElementById("PPMSSTechAddOn-MainEntry").style.height="80vh",document.getElementById("PPMSSTechAddOn-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSTechAddOn-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSTechAddOn").style.width="0%",document.getElementById("overlayimgAttPPMSSTechAddOn").style.display="none"};(0,l.useEffect)((()=>{d((e=>{(0,P.Z)(1).then((e=>{var t=new Array;t.push(e),h({type:"token",payload:t}),O(e),y(t.length)}))}))}),[]),(0,l.useEffect)((()=>{h({type:"AccessRights",payload:e.AccessRights})}),[e.AccessRights]);const O=t=>{m(!0);let a=C.v.Api+"FP914S3/",l={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:e.parentId?Number(e.parentId):0,p26:e.Dialogview?"1":null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:1,p69:10,p70:"PPMSSTechAddOnID",p71:null,p72:null,p73:null,p74:null}};(0,p.Z)(a,l,t).then((e=>{m(!1),"200"==e.Output.status.code&&(e.Output.data.length>0?e.Output.data&&h({type:"editData",payload:e.Output.data}):h({type:"editData",payload:[]}))}))};return r().createElement("div",null,r().createElement(ee.Provider,{value:{cstate:E,cdispatch:h,ContextApi:te,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),AttachExpand:e=>(i.current.AttachmentData(E.PrimaryId),void(S&&(document.getElementById("overlayimgAttPPMSSTechAddOn").style.width="25%",document.getElementById("divPPMSSTechAddOn-Entry").style.width="100%",document.getElementById("PPMSSTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSSTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSTechAddOn-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSTechAddOn").style.display="block",document.getElementById("PPMSSTechAddOnEntryTable").style.width="100%"))),RefreshTable:()=>{O(E.token[0]),g(!1),e.cardRefresh()},edit:()=>g(!0),attachmentSave:e=>{o.current.tempsave(e,f),v([])}}},r().createElement("div",{id:"PPMSSTechAddOn-MainDiv",className:"MainDivStyles displayFlex"},r().createElement("div",{id:"PPMSSTechAddOn-MainEntry",className:"Maincontent"},0==E.editData.length?r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSSTechAddOnEntryTable",style:{width:"100%"}},r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSTechAddOn-Entry",style:{width:"100%"}},r().createElement(q,{ref:t,parentId:e.parentId,parentData:e.parentData}))),r().createElement(j.Z,{ref:o,fileId:"LogoImgPPMSSTechAddOn",menurefID:914,imgloading:e=>M(e),valueIDPK:E.PrimaryId,AttachmentVal:e=>i.current.AttachmentData(e),previd:"overlayPreviewPPMSSTechAddOn",tempImg:e=>{i.current.tempImg(e),v(e)},clearTempData:E.Add})),r().createElement(U.Z,{ImgAttachment:e=>w(),menurefID:914,fileId:"AttImgPPMSSTechAddOn",imgid:"overlayimgAttPPMSSTechAddOn",valueIDPK:E.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},ref:i,previd:"overlayPreviewPPMSSTechAddOn",ConfirmAlert:t=>{e.ConfirmAlert(t)},imgloading:I,timglist:e=>o.current.timglist(e)})):r().createElement("div",null,D?r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSSTechAddOnEntryTable",style:{width:"100%"}},r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSTechAddOn-Entry",style:{width:"100%"}},r().createElement(q,{ref:t,parentId:e.parentId,parentData:e.parentData}))),r().createElement(j.Z,{ref:o,fileId:"LogoImgPPMSSTechAddOn",menurefID:914,imgloading:e=>M(e),valueIDPK:E.PrimaryId,AttachmentVal:e=>i.current.AttachmentData(e),previd:"overlayPreviewPPMSSTechAddOn",tempImg:e=>{i.current.tempImg(e),v(e)},clearTempData:E.Add})),r().createElement(U.Z,{ImgAttachment:e=>w(),menurefID:914,fileId:"AttImgPPMSSTechAddOn",imgid:"overlayimgAttPPMSSTechAddOn",valueIDPK:E.PrimaryId,PriviewData:(e,t)=>{o.current.PriviewItem(e,t)},ref:i,previd:"overlayPreviewPPMSSTechAddOn",ConfirmAlert:t=>{e.ConfirmAlert(t)},imgloading:I,clearTempData:E.Add})):r().createElement("div",{id:"divPPMSSTechAddOn-Entry"},0!==u?r().createElement(H,{ref:a,parentId:e.parentId}):null)))),!e.inboxdata&&N&&r().createElement(Q(),{openDialog:N,closeDialog:e=>T(e),formID:914,PrimID:e.parentId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},53629:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var l=a(92950),r=a.n(l),n=a(45237),i=a(36939),o=a(61201),d=a(50743),s=(a(67698),a(10966),a(30553)),m=(a(99090),a(61956)),S=a(51673),c=a(44528),u=(a(96071),a(14439)),p=a(27848),C=a(49174),P=(a(38773),a(19089)),y=a(1695),D=(a(13235),a(61924)),g=a.n(D),I=a(26537),M=a(40900),E=a(35131),h=a.n(E),f=a(55490),v=(a(2493),a(82729),a(75355),a(11107),a(37148)),N=(a(45965),a(92371)),T=a(40826),k=a(64566),b=a(97572),w=a(20626),O=a(1238),F=a(8981),A=a(63163),x=a(99940),B=a(5434),W=a(45155),L=a(79352),R=a(99263),K=a(16233),Z=a.n(K);a(91113),a(79117),a(60722);const G={PPMSSCreationWorkOrderIDPK:"",PPMSSCreationAssetCode:"",SSCreWorkOrder:"",SSCreWoDateTime:"",SSCreWoDateTimeType:"",SSCreWoDateTimeBetween:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreActualDateType:"",SSCreActualDateBetween:"",SSCreWoCompletedDate:"",SSCreWoCompletedDateType:"",SSCreWoCompletedDateBetween:"",SSCreParentCreationKey:"",SSCreSLAHours:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:!1,SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:!1,SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:!1,SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:!1,SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreXWoDateType:"",SSCreXWoDateBetween:"",SSCreChargeLedgerKey:"",SSCreCostLedgerKey:"",HierarchyDetailsKey:"",SSTechStartDateTime:"",SSTechStartDateTimeType:"",SSTechStartDateTimeBetween:"",SSTechEndDateTime:"",SSTechEndDateTimeType:"",SSTechEndDateTimeBetween:"",SSTechName:"",SSTechKeys:"",IsDraft:!1,Remarks:"",ContractID:null,LocalityID:null,BuildingID:null,FloorID:null,SpotID:null,DivisionID:null,DisciplineID:null,FrequencyID:null,PPMBusinessFlowID:null,PPMFixonBusinessFlowID:null,PPMStageID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:null,AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",FloorCode:"",FloorName:"",SpotTypeID:null,SpotTypeCode:"",SpotTypeName:"",AssWingID:null,AssWingCode:"",AssWingName:"",SpotCode:"",SpotName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PPMStageName:"",StageSeqNo:"",Type:"PPMSSCreationWorkOrderID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},z=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,D]=(0,l.useState)(!1),[E,K]=(0,l.useState)(!0),[z,_]=(0,l.useState)(!1),[q,V]=(0,l.useState)(!1),[H,U]=(0,l.useState)(0),[j,Y]=(0,l.useState)(!0),[X,Q]=(0,l.useState)({}),[$,J]=(0,l.useState)([]),[ee,te]=(0,l.useState)(!1),[ae,le]=((0,l.useRef)(),(0,l.useState)(!1)),[re,ne]=(0,l.useState)(null),[ie,oe]=((0,l.useRef)(),(0,l.useState)(!0)),[de,se]=(0,l.useState)(!0),[me,Se]=(0,l.useState)(0),[ce,ue]=(0,l.useState)(0),[pe,Ce]=(0,l.useState)([]),[Pe,ye]=(0,l.useState)([]),[De,ge]=(0,l.useReducer)(N.Z,G),[Ie,Me]=(0,l.useState)(!1),[Ee,he]=(0,l.useState)([]),[fe,ve]=(0,l.useState)(null),Ne=(0,l.useContext)(w.PPMSSCreationWorkOrderContext),{cstate:Te,cdispatch:ke}=(0,w.ContextApi)(),[be,we]=(0,l.useState)(!0),[Oe,Fe]=(0,l.useState)(""),[Ae,xe]=(0,l.useState)(!1),[Be,We]=(0,l.useState)(""),[Le,Re]=(0,l.useState)(""),[Ke,Ze]=(0,l.useState)(!0),[Ge,ze]=(0,l.useState)(!0),[_e,qe]=(0,l.useState)(""),[Ve,He]=(0,l.useState)(""),[Ue,je]=(0,l.useState)(!0),[Ye,Xe]=(0,l.useState)(!0),[Qe,$e]=(0,l.useState)(!0),[Je,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)(!0),[lt,rt]=(0,l.useState)(!0),[nt,it]=(0,l.useState)(!0),[ot,dt]=(0,l.useState)(!0),[st,mt]=(0,l.useState)(!0),[St,ct]=(0,l.useState)(!0),[ut,pt]=(0,l.useState)(!0),[Ct,Pt]=(0,l.useState)(""),[yt,Dt]=(0,l.useState)(!0),[gt,It]=(0,l.useState)(""),[Mt,Et]=(0,l.useState)(""),[ht,ft]=(0,l.useState)(!0),[vt,Nt]=(0,l.useState)(!0),[Tt,kt]=(0,l.useState)(!0),[bt,wt]=(0,l.useState)(!0),[Ot,Ft]=(0,l.useState)(0),[At]=(0,l.useState)(localStorage.getItem("Language")),[xt]=(0,l.useState)(localStorage.getItem("Language")),[Bt,Wt]=(0,l.useState)(!1),[Lt,Rt]=(0,l.useState)(!1),Kt=(0,l.useRef)(null),Zt=(0,l.useRef)(null),[Gt,zt]=Z()("521"),[_t,qt]=(0,l.useState)(!1),[Vt,Ht]=(0,l.useState)("panelS5"),[Ut,jt]=(0,l.useState)([]);let Yt=(0,F.Z)();const[Xt,Qt]=(0,l.useState)({}),$t=e=>Yt?.[e]?Yt[e]:e,Jt=t=>Te.language?.[t]?Te.language[t]:e.createEasy?Xt?.[t]:t;(0,l.useEffect)((()=>{Te.PrimaryId&&Ft(Number(Te.PrimaryId))}),[Te.PrimaryId]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Qt(Object.assign({},...t))}(Gt)}),[Gt]),(0,l.useEffect)((()=>{Te.editData.length<0&&(0,I.Z)(1).then((e=>{sa(1,null,"SetDefaultPPMSSCreationWorkOrderID",e)}))}),[]),(0,l.useEffect)((()=>{la(Ut,"SetDefaultPPMSSCreationWorkOrderID")}),[Ut]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{ke({type:"expandDetail",payload:!0}),_(!1)},getPreview:e=>{},clear:()=>{ra(),sa(1,null,"SetDefaultPPMSSCreationWorkOrderID",Te.token[0])},formlink:e=>{},editRecord:(e,t,a)=>{la(e,""),te(a)},Add:()=>{ra(),te(!1),ke({type:"expandDetail",payload:"mainpanel"})},Editview:(e,t,a)=>{la(e,""),te(a),se(!1)},CreateEasyProps:(e=!0,t)=>{setIsFetching(!0),t?(Ca(t),Wt(e)):(ra(),Wt(e))},cardRefresh:()=>{Zt.current.cardRefresh()}})));const ea=e=>e?e.split("-").reverse().join("-"):null,ta=e=>{if(e){let t=ea(e);return"Invalid Date"!=new Date(t)?(0,T.format)(new Date(t),"yyyy-MM-dd"):e}return null},aa=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},la=(t,a)=>{let l=t;Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),ke({type:"ViewID",payload:l.PPMSSCreationWorkOrderIDPK}),ge({type:"text",name:"SSCreWorkOrder",value:l.SSCreWorkOrder?l.SSCreWorkOrder:""}),ge({type:"text",name:"SSCreWoDateTime",value:l.SSCreWoDateTime?aa(l.SSCreWoDateTime):null}),ge({type:"number",name:"ContractID",number:l.ContractID?Number(l.ContractID):0}),ge({type:"text",name:"ContractName",value:l.ContractName}),ge({type:"number",name:"LocalityID",number:l.LocalityID?Number(l.LocalityID):0}),ge({type:"text",name:"LocalityName",value:l.LocalityName}),ge({type:"number",name:"BuildingID",number:l.BuildingID?Number(l.BuildingID):0}),ge({type:"text",name:"BuildingName",value:l.BuildingName}),ge({type:"number",name:"FloorID",number:l.FloorID?Number(l.FloorID):0}),ge({type:"text",name:"FloorName",value:l.FloorName}),ge({type:"number",name:"SpotID",number:l.SpotID?Number(l.SpotID):0}),ge({type:"text",name:"SpotName",value:l.SpotName}),ge({type:"number",name:"DivisionID",number:l.DivisionID?Number(l.DivisionID):0}),ge({type:"text",name:"DivisionName",value:l.DivisionName}),ge({type:"number",name:"DisciplineID",number:l.DisciplineID?Number(l.DisciplineID):0}),ge({type:"text",name:"DisciplineName",value:l.DisciplineName}),ge({type:"number",name:"FrequencyID",number:l.FrequencyID?Number(l.FrequencyID):0}),ge({type:"text",name:"FrequencyName",value:l.FrequencyName}),ge({type:"number",name:"SSCreSLAHours",number:l.SSCreSLAHours}),ge({type:"number",name:"PPMStageID",number:l.PPMStageID?Number(l.PPMStageID):0}),ge({type:"text",name:"PPMStageName",value:l.PPMStageName}),"SetDefaultPPMSSCreationWorkOrderID"==a?We(l.PPMSSCreationWorkOrderIDPK):(Ft(e.primid?Number(e.primid):l.PPMSSCreationWorkOrderIDPK?l.PPMSSCreationWorkOrderIDPK:0),ke({type:"PrimaryId",payload:l.PPMSSCreationWorkOrderIDPK})),ge({type:"text",name:"PPMSSCreationAssetCode",value:l.PPMSSCreationAssetCode?l.PPMSSCreationAssetCode:""}),ge({type:"text",name:"SSCreGeneratedTtm",value:l.SSCreGeneratedTtm?l.SSCreGeneratedTtm:""}),ge({type:"text",name:"SSCreActualDate",value:l.SSCreActualDate?ea(l.SSCreActualDate):null}),ge({type:"text",name:"SSCreWoCompletedDate",value:l.SSCreWoCompletedDate?ea(l.SSCreWoCompletedDate):null}),ge({type:"number",name:"SSCreParentCreationKey",number:l.SSCreParentCreationKey}),ge({type:"number",name:"SSCreMaintenanceHours",number:l.SSCreMaintenanceHours}),ge({type:"boolean",name:"IsSSCreWithDraw",boolean:!!l.IsSSCreWithDraw&&l.IsSSCreWithDraw}),ge({type:"text",name:"SSCreWithDrawRemarks",value:l.SSCreWithDrawRemarks?l.SSCreWithDrawRemarks:""}),ge({type:"number",name:"SSCreWithDrawEmpKey",number:l.SSCreWithDrawEmpKey}),ge({type:"boolean",name:"IsSSCreReschedule",boolean:!!l.IsSSCreReschedule&&l.IsSSCreReschedule}),ge({type:"text",name:"SSCreRescheduleRemarks",value:l.SSCreRescheduleRemarks?l.SSCreRescheduleRemarks:""}),ge({type:"text",name:"SSCreReschduleEmpKey",value:l.SSCreReschduleEmpKey?l.SSCreReschduleEmpKey:""}),ge({type:"boolean",name:"IsSSCreRework",boolean:!!l.IsSSCreRework&&l.IsSSCreRework}),ge({type:"text",name:"SSCreReworkRemarks",value:l.SSCreReworkRemarks?l.SSCreReworkRemarks:""}),ge({type:"number",name:"SSCreReworkEmpKey",number:l.SSCreReworkEmpKey}),ge({type:"text",name:"SSCrePPMLattitude",value:l.SSCrePPMLattitude?l.SSCrePPMLattitude:""}),ge({type:"text",name:"SSCrePPMLongitude",value:l.SSCrePPMLongitude?l.SSCrePPMLongitude:""}),ge({type:"boolean",name:"IsSSCreTechManual",boolean:!!l.IsSSCreTechManual&&l.IsSSCreTechManual}),ge({type:"number",name:"SSCreXCreationAssetKey",number:l.SSCreXCreationAssetKey}),ge({type:"text",name:"SSCreXWorkOrder",value:l.SSCreXWorkOrder?l.SSCreXWorkOrder:""}),ge({type:"text",name:"SSCreXWoDate",value:l.SSCreXWoDate?ea(l.SSCreXWoDate):null}),ge({type:"number",name:"SSCreChargeLedgerKey",number:l.SSCreChargeLedgerKey}),ge({type:"text",name:"SSTechStartDateTime",value:l.SSTechStartDateTime?aa(l.SSTechStartDateTime):null}),ge({type:"text",name:"SSTechEndDateTime",value:l.SSTechEndDateTime?aa(l.SSTechEndDateTime):null}),ge({type:"number",name:"SSCreCostLedgerKey",number:l.SSCreCostLedgerKey}),ge({type:"text",name:"SSTechName",value:l.SSTechName?l.SSTechName:""}),ge({type:"number",name:"SSTechKeys",number:l.SSTechKeys}),ge({type:"number",name:"HierarchyDetailsKey",number:l.HierarchyDetailsKey}),ge({type:"number",name:"PPMBusinessFlowID",number:l.PPMBusinessFlowID?Number(l.PPMBusinessFlowID):0}),ge({type:"text",name:"FlowDisplayName",value:l.FlowDisplayName}),ge({type:"number",name:"PPMFixonBusinessFlowID",number:l.PPMFixonBusinessFlowID?Number(l.PPMFixonBusinessFlowID):0}),ge({type:"text",name:"FixonBusinessFlowName",value:l.FixonBusinessFlowName}),l.IsActive&&K("1"==l.IsActive)},ra=()=>{Ce([]),Ft(0),We(""),ge({type:"text",name:"SSCreWorkOrder",value:""}),ge({type:"text",name:"SSCreWoDateTime",value:null}),ge({type:"text",name:"ContractID",value:null}),ge({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSSCreationWorkOrderContractNameClear")&&document.getElementById("PPMSSCreationWorkOrderContractNameClear").click(),ge({type:"text",name:"LocalityID",value:null}),ge({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSCreationWorkOrderLocalityNameClear")&&document.getElementById("PPMSSCreationWorkOrderLocalityNameClear").click(),ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingNameClear").click(),ge({type:"text",name:"FloorID",value:null}),ge({type:"text",name:"FloorName",value:""}),document.getElementById("PPMSSCreationWorkOrderFloorNameClear")&&document.getElementById("PPMSSCreationWorkOrderFloorNameClear").click(),ge({type:"text",name:"SpotID",value:null}),ge({type:"text",name:"SpotName",value:""}),document.getElementById("PPMSSCreationWorkOrderSpotNameClear")&&document.getElementById("PPMSSCreationWorkOrderSpotNameClear").click(),ge({type:"text",name:"DivisionID",value:null}),ge({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMSSCreationWorkOrderDivisionNameClear")&&document.getElementById("PPMSSCreationWorkOrderDivisionNameClear").click(),ge({type:"text",name:"DisciplineID",value:null}),ge({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSSCreationWorkOrderDisciplineNameClear")&&document.getElementById("PPMSSCreationWorkOrderDisciplineNameClear").click(),ge({type:"text",name:"FrequencyID",value:null}),ge({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSSCreationWorkOrderFrequencyNameClear")&&document.getElementById("PPMSSCreationWorkOrderFrequencyNameClear").click(),ge({type:"number",name:"SSCreSLAHours",number:0}),ge({type:"text",name:"PPMStageID",value:null}),ge({type:"text",name:"PPMStageName",value:""}),document.getElementById("PPMSSCreationWorkOrderPPMStageNameClear")&&document.getElementById("PPMSSCreationWorkOrderPPMStageNameClear").click(),ke({type:"PrimaryId",payload:""}),ge({type:"text",name:"PPMSSCreationAssetCode",value:""}),ge({type:"text",name:"SSCreGeneratedTtm",value:""}),ge({type:"text",name:"SSCreActualDate",value:""}),ge({type:"text",name:"SSCreWoCompletedDate",value:""}),ge({type:"number",name:"SSCreParentCreationKey",number:0}),ge({type:"number",name:"SSCreMaintenanceHours",number:0}),ge({type:"boolean",name:"IsSSCreWithDraw",boolean:!1}),ge({type:"text",name:"SSCreWithDrawRemarks",value:""}),ge({type:"number",name:"SSCreWithDrawEmpKey",number:0}),ge({type:"boolean",name:"IsSSCreReschedule",boolean:!1}),ge({type:"text",name:"SSCreRescheduleRemarks",value:""}),ge({type:"text",name:"SSCreReschduleEmpKey",value:""}),ge({type:"boolean",name:"IsSSCreRework",boolean:!1}),ge({type:"text",name:"SSCreReworkRemarks",value:""}),ge({type:"number",name:"SSCreReworkEmpKey",number:0}),ge({type:"text",name:"SSCrePPMLattitude",value:""}),ge({type:"text",name:"SSCrePPMLongitude",value:""}),ge({type:"boolean",name:"IsSSCreTechManual",boolean:!1}),ge({type:"number",name:"SSCreXCreationAssetKey",number:0}),ge({type:"text",name:"SSCreXWorkOrder",value:""}),ge({type:"text",name:"SSCreXWoDate",value:""}),ge({type:"number",name:"SSCreChargeLedgerKey",number:0}),ge({type:"text",name:"SSTechStartDateTime",value:null}),ge({type:"text",name:"SSTechEndDateTime",value:null}),ge({type:"number",name:"SSCreCostLedgerKey",number:0}),ge({type:"text",name:"SSTechName",value:""}),ge({type:"number",name:"SSTechKeys",number:0}),ge({type:"number",name:"HierarchyDetailsKey",number:0}),ge({type:"text",name:"PPMBusinessFlowID",value:null}),ge({type:"text",name:"FlowDisplayName",value:""}),document.getElementById("PPMSSCreationWorkOrderFlowDisplayNameClear")&&document.getElementById("PPMSSCreationWorkOrderFlowDisplayNameClear").click(),ge({type:"text",name:"PPMFixonBusinessFlowID",value:null}),ge({type:"text",name:"FixonBusinessFlowName",value:""}),document.getElementById("PPMSSCreationWorkOrderFixonBusinessFlowNameClear")&&document.getElementById("PPMSSCreationWorkOrderFixonBusinessFlowNameClear").click(),Ze(!0),ze(!0),je(!0),Xe(!0),$e(!0),et(!0),at(!0),rt(!0),it(!0),dt(!0),mt(!0),ct(!0),pt(!0),Dt(!0),ft(!0),Nt(!0),kt(!0),wt(!0),K(!0)},na=e=>{Ne.loading(!0),Ne.ConfirmAlert(null);const t=M.v.Api+"FP521S2/",a={data:[{p1:"SetDefaultPPMSSCreationWorkOrderID"==e?"NORECORDS"!=Be&&Be?Be:0:Ot,p2:Pa(De.PPMSSCreationAssetCode),p3:Pa(De.SSCreWorkOrder),p4:De.SSCreWoDateTime?ta(De.SSCreWoDateTime):null,p5:De.SSCreGeneratedTtm,p6:De.SSCreActualDate?ta(De.SSCreActualDate):null,p7:De.SSCreWoCompletedDate?ta(De.SSCreWoCompletedDate):null,p8:De.SSCreParentCreationKey?Number(De.SSCreParentCreationKey):0,p9:De.SSCreSLAHours?Number(De.SSCreSLAHours):0,p10:De.SSCreMaintenanceHours?Number(De.SSCreMaintenanceHours):0,p11:De.IsSSCreWithDraw,p12:Pa(De.SSCreWithDrawRemarks),p13:De.SSCreWithDrawEmpKey?Number(De.SSCreWithDrawEmpKey):0,p14:De.IsSSCreReschedule,p15:Pa(De.SSCreRescheduleRemarks),p16:Pa(De.SSCreReschduleEmpKey),p17:De.IsSSCreRework,p18:Pa(De.SSCreReworkRemarks),p19:De.SSCreReworkEmpKey?Number(De.SSCreReworkEmpKey):0,p20:Pa(De.SSCrePPMLattitude),p21:Pa(De.SSCrePPMLongitude),p22:De.IsSSCreTechManual,p23:De.SSCreXCreationAssetKey?Number(De.SSCreXCreationAssetKey):0,p24:Pa(De.SSCreXWorkOrder),p25:De.SSCreXWoDate?ta(De.SSCreXWoDate):null,p26:De.SSCreChargeLedgerKey?Number(De.SSCreChargeLedgerKey):0,p27:De.SSCreCostLedgerKey?Number(De.SSCreCostLedgerKey):0,p28:De.HierarchyDetailsKey?Number(De.HierarchyDetailsKey):0,p29:De.SSTechStartDateTime?ta(De.SSTechStartDateTime):null,p30:De.SSTechEndDateTime?ta(De.SSTechEndDateTime):null,p31:Pa(De.SSTechName),p32:De.SSTechKeys?Number(De.SSTechKeys):0,p33:!1,p34:"SetDefaultPPMSSCreationWorkOrderID"==e?"SetDefault":null,p35:De.ContractID?De.ContractID:0,p36:De.LocalityID?De.LocalityID:0,p37:De.BuildingID?De.BuildingID:0,p38:De.FloorID?De.FloorID:0,p39:De.SpotID?De.SpotID:0,p40:De.DivisionID?De.DivisionID:0,p41:De.DisciplineID?De.DisciplineID:0,p42:De.FrequencyID?De.FrequencyID:0,p43:De.PPMBusinessFlowID?De.PPMBusinessFlowID:0,p44:De.PPMFixonBusinessFlowID?De.PPMFixonBusinessFlowID:0,p45:De.PPMStageID?De.PPMStageID:0,p46:E,p47:"SetDefaultPPMSSCreationWorkOrderID"==e,p48:localStorage.getItem("userid"),p49:h()().format("YYYY-MM-DD hh:mm:ss"),p50:localStorage.getItem("userid"),p51:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,S.Z)(t,a,l).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(Ne.alert({open:!0,color:"warning",message:n}),Ne.loading(!1)):ia(e)):(Ne.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Ne.loading(!1))}))}))},ia=e=>{Ze(!0),ze(!0),je(!0),Xe(!0),$e(!0),et(!0),at(!0),rt(!0),it(!0),dt(!0),mt(!0),ct(!0),pt(!0),Dt(!0),ft(!0),Nt(!0),kt(!0),wt(!0),Ne.ConfirmAlert(null);const t=M.v.Api+"FP521S1/",a={data:[{p1:"SetDefaultPPMSSCreationWorkOrderID"==e?"NORECORDS"!=Be&&Be?Be:0:Ot,p2:Pa(De.PPMSSCreationAssetCode),p3:Pa(De.SSCreWorkOrder),p4:De.SSCreWoDateTime?ta(De.SSCreWoDateTime):null,p5:De.SSCreGeneratedTtm,p6:De.SSCreActualDate?ta(De.SSCreActualDate):null,p7:De.SSCreWoCompletedDate?ta(De.SSCreWoCompletedDate):null,p8:De.SSCreParentCreationKey?Number(De.SSCreParentCreationKey):0,p9:De.SSCreSLAHours?Number(De.SSCreSLAHours):0,p10:De.SSCreMaintenanceHours?Number(De.SSCreMaintenanceHours):0,p11:De.IsSSCreWithDraw,p12:Pa(De.SSCreWithDrawRemarks),p13:De.SSCreWithDrawEmpKey?Number(De.SSCreWithDrawEmpKey):0,p14:De.IsSSCreReschedule,p15:Pa(De.SSCreRescheduleRemarks),p16:Pa(De.SSCreReschduleEmpKey),p17:De.IsSSCreRework,p18:Pa(De.SSCreReworkRemarks),p19:De.SSCreReworkEmpKey?Number(De.SSCreReworkEmpKey):0,p20:Pa(De.SSCrePPMLattitude),p21:Pa(De.SSCrePPMLongitude),p22:De.IsSSCreTechManual,p23:De.SSCreXCreationAssetKey?Number(De.SSCreXCreationAssetKey):0,p24:Pa(De.SSCreXWorkOrder),p25:De.SSCreXWoDate?ta(De.SSCreXWoDate):null,p26:De.SSCreChargeLedgerKey?Number(De.SSCreChargeLedgerKey):0,p27:De.SSCreCostLedgerKey?Number(De.SSCreCostLedgerKey):0,p28:De.HierarchyDetailsKey?Number(De.HierarchyDetailsKey):0,p29:De.SSTechStartDateTime?ta(De.SSTechStartDateTime):null,p30:De.SSTechEndDateTime?ta(De.SSTechEndDateTime):null,p31:Pa(De.SSTechName),p32:De.SSTechKeys?Number(De.SSTechKeys):0,p33:!1,p34:"SetDefaultPPMSSCreationWorkOrderID"==e?"SetDefault":null,p35:De.ContractID?De.ContractID:0,p36:De.LocalityID?De.LocalityID:0,p37:De.BuildingID?De.BuildingID:0,p38:De.FloorID?De.FloorID:0,p39:De.SpotID?De.SpotID:0,p40:De.DivisionID?De.DivisionID:0,p41:De.DisciplineID?De.DisciplineID:0,p42:De.FrequencyID?De.FrequencyID:0,p43:De.PPMBusinessFlowID?De.PPMBusinessFlowID:0,p44:De.PPMFixonBusinessFlowID?De.PPMFixonBusinessFlowID:0,p45:De.PPMStageID?De.PPMStageID:0,p46:E,p47:"SetDefaultPPMSSCreationWorkOrderID"==e,p48:localStorage.getItem("userid"),p49:h()().format("YYYY-MM-DD hh:mm:ss"),p50:localStorage.getItem("userid"),p51:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,m.Z)(t,a,l).then((async t=>{const a=t[0].status;200==a.code?("SetDefaultPPMSSCreationWorkOrderID"==e?Ne.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Ne.alert({open:!0,color:"success",message:[a.message]}),ke({type:"ViewID",payload:t[0].Data.IDPK}),ke({type:"PrimaryId",payload:t[0].Data.IDPK}),await te(!0)),Ne.attachmentSave(t[0].Data.IDPK),Ne.loading(!1),document.getElementById("overlayimgAttPPMSSCreationWorkOrder")&&(document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="none")):(Ne.alert({open:!0,color:"warning",message:[a.message]}),Ne.loading(!1)),"SetDefaultPPMSSCreationWorkOrderID"==e&&(Wt(!0),sa(1,null,"SetDefaultPPMSSCreationWorkOrderID",Te.token[0]))}))}))};function oa(e,t){(0,R.CreateEasy)(e,Te,ke,Ne,Kt)}function da(e,a){return AdvanceSearch(e,a,w.PPMSSCreationWorkOrderContext,(0,w.ContextApi)(),Sa,t),!1}const sa=(t,a,l,r,n,i)=>{const o=M.v.Api+"FP521S3/",d={data:{p1:null,p2:null,p3:null,p4:De.SSCreWoDateTime?De.SSCreWoDateTime:null,p5:null,p6:null,p7:null,p8:De.SSCreActualDate?De.SSCreActualDate:null,p9:null,p10:null,p11:De.SSCreWoCompletedDate?De.SSCreWoCompletedDate:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:1==De.IsSSCreWithDraw,p18:null,p19:a?"%"+a+"%":null,p20:1==De.IsSSCreReschedule,p21:null,p22:a?"%"+a+"%":null,p23:1==De.IsSSCreRework,p24:null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:1==De.IsSSCreTechManual,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:De.SSCreXWoDate?De.SSCreXWoDate:null,p32:null,p33:null,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:De.SSTechStartDateTime?De.SSTechStartDateTime:null,p38:null,p39:null,p40:De.SSTechEndDateTime?De.SSTechEndDateTime:null,p41:null,p42:null,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:null,p46:null,p47:"0"==De.ContractID?null:De.ContractID,p48:"0"==De.LocalityID?null:De.LocalityID,p49:"0"==De.BuildingID?null:De.BuildingID,p50:"0"==De.FloorID?null:De.FloorID,p51:"0"==De.SpotID?null:De.SpotID,p52:"0"==De.DivisionID?null:De.DivisionID,p53:"0"==De.DisciplineID?null:De.DisciplineID,p54:"0"==De.FrequencyID?null:De.FrequencyID,p55:"0"==De.PPMBusinessFlowID?null:De.PPMBusinessFlowID,p56:"0"==De.PPMFixonBusinessFlowID?null:De.PPMFixonBusinessFlowID,p57:"0"==De.PPMStageID?null:De.PPMStageID,p58:e.Dialogview?"1":null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:"0"==De.ContractGroupID?null:De.ContractGroupID,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:"0"==De.TaxID?null:De.TaxID,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:a?"%"+a+"%":null,p72:"0"==De.CustomerID?null:De.CustomerID,p73:a?"%"+a+"%":null,p74:a?"%"+a+"%":null,p75:"0"==De.ContractTypeID?null:De.ContractTypeID,p76:a?"%"+a+"%":null,p77:a?"%"+a+"%":null,p78:"0"==De.ContractCategID?null:De.ContractCategID,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:"0"==De.ConPaymentTermsID?null:De.ConPaymentTermsID,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:a?"%"+a+"%":null,p85:"0"==De.LocalityGroupID?null:De.LocalityGroupID,p86:a?"%"+a+"%":null,p87:a?"%"+a+"%":null,p88:"0"==De.CityID?null:De.CityID,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:"0"==De.AdminLocalityTypeID?null:De.AdminLocalityTypeID,p92:a?"%"+a+"%":null,p93:a?"%"+a+"%":null,p94:a?"%"+a+"%":null,p95:a?"%"+a+"%":null,p96:"0"==De.AssBuildingTypeID?null:De.AssBuildingTypeID,p97:a?"%"+a+"%":null,p98:a?"%"+a+"%":null,p99:a?"%"+a+"%":null,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:a?"%"+a+"%":null,p103:"0"==De.SpotTypeID?null:De.SpotTypeID,p104:a?"%"+a+"%":null,p105:a?"%"+a+"%":null,p106:"0"==De.AssWingID?null:De.AssWingID,p107:a?"%"+a+"%":null,p108:a?"%"+a+"%":null,p109:a?"%"+a+"%":null,p110:a?"%"+a+"%":null,p111:a?"%"+a+"%":null,p112:a?"%"+a+"%":null,p113:a?"%"+a+"%":null,p114:a?"%"+a+"%":null,p115:a?"%"+a+"%":null,p116:a?"%"+a+"%":null,p117:a?"%"+a+"%":null,p118:a?"%"+a+"%":null,p119:t,p120:10,p121:l,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});Me(!0);const m={data:s};return(0,S.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSSCreationWorkOrderID"==l&&r?r:Te.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};he(1==t?e>0?r:[]:Ee.concat(r)),"SetDefaultPPMSSCreationWorkOrderID"==l&&(e>0?jt(r[0]):We("NORECORDS")),Me(!1)}else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Me(!1)}))},ma=(t,a,l)=>{const r=M.v.Api+"FP521S3/",n={data:{p1:null,p2:"PPMSSCreationAssetCode"==l&&a?"%"+a+"%":null,p3:"SSCreWorkOrder"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:"SSCreGeneratedTtm"==l&&a?"%"+a+"%":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:"SSCreParentCreationKey"==l&&a?"%"+a+"%":null,p15:"SSCreSLAHours"==l&&a?"%"+a+"%":null,p16:"SSCreMaintenanceHours"==l&&a?"%"+a+"%":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:e.Dialogview?"1":null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:t,p120:10,p121:"PPMSSCreationWorkOrderID",p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};Me(!0),(0,S.Z)(r,"ClearAll"==l?i:n,Te.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?("PPMSSCreationAssetCode"==l&&Ze(e>0),"SSCreGeneratedTtm"==l&&ze(e>0),"SSCreMaintenanceHours"==l&&je(e>0),"SSCreWithDrawRemarks"==l&&Xe(e>0),"SSCreWithDrawEmpKey"==l&&$e(e>0),"SSCreRescheduleRemarks"==l&&et(e>0),"SSCreReschduleEmpKey"==l&&at(e>0),"SSCreReworkRemarks"==l&&rt(e>0),"SSCreReworkEmpKey"==l&&it(e>0),"SSCrePPMLattitude"==l&&dt(e>0),"SSCrePPMLongitude"==l&&mt(e>0),"SSCreXCreationAssetKey"==l&&ct(e>0),"SSCreXWorkOrder"==l&&pt(e>0),"SSCreChargeLedgerKey"==l&&Dt(e>0),"SSCreCostLedgerKey"==l&&ft(e>0),"SSTechName"==l&&Nt(e>0),"SSTechKeys"==l&&kt(e>0),"HierarchyDetailsKey"==l&&wt(e>0),he(r)):("PPMSSCreationAssetCode"==l&&Ze(!0),"SSCreGeneratedTtm"==l&&ze(!0),"SSCreMaintenanceHours"==l&&je(!0),"SSCreWithDrawRemarks"==l&&Xe(!0),"SSCreWithDrawEmpKey"==l&&$e(!0),"SSCreRescheduleRemarks"==l&&et(!0),"SSCreReschduleEmpKey"==l&&at(!0),"SSCreReworkRemarks"==l&&rt(!0),"SSCreReworkEmpKey"==l&&it(!0),"SSCrePPMLattitude"==l&&dt(!0),"SSCrePPMLongitude"==l&&mt(!0),"SSCreXCreationAssetKey"==l&&ct(!0),"SSCreXWorkOrder"==l&&pt(!0),"SSCreChargeLedgerKey"==l&&Dt(!0),"SSCreCostLedgerKey"==l&&ft(!0),"SSTechName"==l&&Nt(!0),"SSTechKeys"==l&&kt(!0),"HierarchyDetailsKey"==l&&wt(!0),he(Ee.concat(r))),Me(!1)}else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Me(!1)}))},Sa=(0,l.useCallback)((async(e,t,a)=>{"text"==a?ge({type:a,name:t,value:e}):"number"==a?ge({type:a,name:t,number:Number(e)}):"boolean"==a?ge({type:a,name:t,boolean:e}):"date"==a?ge({type:"text",name:t,value:e}):"select"==a&&("ContractID"==t?(ge({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),ge({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null})):"LocalityID"==t?(ge({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),ge({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"BuildingID"==t?(ge({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),ge({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),ge({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),ge({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"FloorID"==t?(ge({type:"text",name:"FloorID",value:e.FloorIDPK?e.FloorIDPK:null}),ge({type:"text",name:"FloorName",value:e.FloorName?e.FloorName:null}),ge({type:"text",name:"BuildingID",value:e.BuildingID?e.BuildingID:null}),ge({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),ge({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),ge({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"SpotID"==t||("DivisionID"==t?(ge({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),ge({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"DisciplineID"==t?(ge({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),ge({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null}),ge({type:"text",name:"DivisionID",value:e.DivisionID?e.DivisionID:null}),ge({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"FrequencyID"==t&&(ge({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),ge({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null}))))}),[De]);function ca(e){if("ContractID"==e){if(!De.ContractID)return!1;ge({type:"text",name:"ContractID",value:null}),ge({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSSCreationWorkOrderContractNameClear")&&document.getElementById("PPMSSCreationWorkOrderContractNameClear").click(),ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingNameClear").click(),ge({type:"text",name:"LocalityID",value:null}),ge({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSCreationWorkOrderLocalityNameClear")&&document.getElementById("PPMSSCreationWorkOrderLocalityNameClear").click()}else if("LocalityID"==e){if(!De.LocalityID)return!1;ge({type:"text",name:"LocalityID",value:null}),ge({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSCreationWorkOrderLocalityNameClear")&&document.getElementById("PPMSSCreationWorkOrderLocalityNameClear").click(),ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingNameClear").click(),ge({type:"text",name:"ContractID",value:null}),ge({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSSCreationWorkOrderContractNameClear")&&document.getElementById("PPMSSCreationWorkOrderContractNameClear").click()}else if("BuildingID"==e){if(!De.BuildingID)return!1;ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingNameClear").click(),ge({type:"text",name:"FloorID",value:null}),ge({type:"text",name:"FloorName",value:""}),document.getElementById("PPMSSCreationWorkOrderFloorNameClear")&&document.getElementById("PPMSSCreationWorkOrderFloorNameClear").click(),ge({type:"text",name:"LocalityID",value:null}),ge({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSCreationWorkOrderLocalityNameClear")&&document.getElementById("PPMSSCreationWorkOrderLocalityNameClear").click(),ge({type:"text",name:"ContractID",value:null}),ge({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSSCreationWorkOrderContractNameClear")&&document.getElementById("PPMSSCreationWorkOrderContractNameClear").click()}else if("FloorID"==e){if(!De.FloorID)return!1;ge({type:"text",name:"FloorID",value:null}),ge({type:"text",name:"FloorName",value:""}),document.getElementById("PPMSSCreationWorkOrderFloorNameClear")&&document.getElementById("PPMSSCreationWorkOrderFloorNameClear").click(),ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingNameClear").click(),ge({type:"text",name:"LocalityID",value:null}),ge({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSCreationWorkOrderLocalityNameClear")&&document.getElementById("PPMSSCreationWorkOrderLocalityNameClear").click()}else if("SpotID"==e){if(!De.SpotID)return!1}else if("DivisionID"==e){if(!De.DivisionID)return!1;ge({type:"text",name:"DivisionID",value:null}),ge({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMSSCreationWorkOrderDivisionNameClear")&&document.getElementById("PPMSSCreationWorkOrderDivisionNameClear").click()}else if("DisciplineID"==e){if(!De.DisciplineID)return!1;ge({type:"text",name:"DisciplineID",value:null}),ge({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSSCreationWorkOrderDisciplineNameClear")&&document.getElementById("PPMSSCreationWorkOrderDisciplineNameClear").click(),ge({type:"text",name:"DivisionID",value:null}),ge({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMSSCreationWorkOrderDivisionNameClear")&&document.getElementById("PPMSSCreationWorkOrderDivisionNameClear").click()}else if("FrequencyID"==e){if(!De.FrequencyID)return!1;ge({type:"text",name:"FrequencyID",value:null}),ge({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSSCreationWorkOrderFrequencyNameClear")&&document.getElementById("PPMSSCreationWorkOrderFrequencyNameClear").click()}else if("PPMStageID"==e){if(!De.PPMStageID)return!1}else if("PPMBusinessFlowID"==e){if(!De.PPMBusinessFlowID)return!1}else if("PPMFixonBusinessFlowID"==e&&!De.PPMFixonBusinessFlowID)return!1}function ua(e){if("ContractID"==e){if(!De.ContractID)return!1;ge({type:"text",name:"ContractID",value:null}),ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"LocalityID",value:null})}else if("LocalityID"==e){if(!De.LocalityID)return!1;ge({type:"text",name:"LocalityID",value:null}),ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"ContractID",value:null})}else if("BuildingID"==e){if(!De.BuildingID)return!1;ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"FloorID",value:null}),ge({type:"text",name:"LocalityID",value:null}),ge({type:"text",name:"ContractID",value:null})}else if("FloorID"==e){if(!De.FloorID)return!1;ge({type:"text",name:"FloorID",value:null}),ge({type:"text",name:"BuildingID",value:null}),ge({type:"text",name:"LocalityID",value:null})}else if("SpotID"==e){if(!De.SpotID)return!1}else if("DivisionID"==e){if(!De.DivisionID)return!1;ge({type:"text",name:"DivisionID",value:null})}else if("DisciplineID"==e){if(!De.DisciplineID)return!1;ge({type:"text",name:"DisciplineID",value:null}),ge({type:"text",name:"DivisionID",value:null})}else if("FrequencyID"==e){if(!De.FrequencyID)return!1;ge({type:"text",name:"FrequencyID",value:null})}else if("PPMStageID"==e){if(!De.PPMStageID)return!1}else if("PPMBusinessFlowID"==e){if(!De.PPMBusinessFlowID)return!1}else if("PPMFixonBusinessFlowID"==e&&!De.PPMFixonBusinessFlowID)return!1}const pa=e=>{Ne.ConfirmAlert(r().createElement(g(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ca(e),onCancel:()=>Ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:$t("Yes"),cancelBtnText:$t("No"),showCancel:!0},$t("Do you want to update this record?")))};function Ca(e){Ne.ConfirmAlert(null),V(e.IsDraft),ke({type:"editData",payload:[e]}),ke({type:"PrimaryId",payload:e.PPMSSCreationWorkOrderIDPK}),Ft(Number(e.PPMSSCreationWorkOrderIDPK)?Number(e.PPMSSCreationWorkOrderIDPK):0),ge({type:"text",name:"SSCreWorkOrder",value:e.SSCreWorkOrder?e.SSCreWorkOrder:""}),ge({type:"text",name:"SSCreWoDateTime",value:e.SSCreWoDateTime?aa(e.SSCreWoDateTime):null}),ge({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),ge({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),ge({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),ge({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),ge({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),ge({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),ge({type:"number",name:"FloorID",number:e.FloorID?Number(e.FloorID):0}),ge({type:"text",name:"FloorName",value:e.FloorName?e.FloorName:""}),ge({type:"number",name:"SpotID",number:e.SpotID?Number(e.SpotID):0}),ge({type:"text",name:"SpotName",value:e.SpotName?e.SpotName:""}),ge({type:"number",name:"DivisionID",number:e.DivisionID?Number(e.DivisionID):0}),ge({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:""}),ge({type:"number",name:"DisciplineID",number:e.DisciplineID?Number(e.DisciplineID):0}),ge({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:""}),ge({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),ge({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""}),ge({type:"text",name:"SSCreSLAHours",value:e.SSCreSLAHours?e.SSCreSLAHours:""}),ge({type:"number",name:"PPMStageID",number:e.PPMStageID?Number(e.PPMStageID):0}),ge({type:"text",name:"PPMStageName",value:e.PPMStageName?e.PPMStageName:""}),ge({type:"text",name:"PPMSSCreationAssetCode",value:e.PPMSSCreationAssetCode?e.PPMSSCreationAssetCode:""}),ge({type:"text",name:"SSCreGeneratedTtm",value:e.SSCreGeneratedTtm?e.SSCreGeneratedTtm:""}),ge({type:"text",name:"SSCreActualDate",value:e.SSCreActualDate?ea(e.SSCreActualDate):null}),ge({type:"text",name:"SSCreWoCompletedDate",value:e.SSCreWoCompletedDate?ea(e.SSCreWoCompletedDate):null}),ge({type:"text",name:"SSCreMaintenanceHours",value:e.SSCreMaintenanceHours?e.SSCreMaintenanceHours:""}),ge({type:"boolean",name:"IsSSCreWithDraw",boolean:!!e.IsSSCreWithDraw&&e.IsSSCreWithDraw}),ge({type:"text",name:"SSCreWithDrawRemarks",value:e.SSCreWithDrawRemarks?e.SSCreWithDrawRemarks:""}),ge({type:"text",name:"SSCreWithDrawEmpKey",value:e.SSCreWithDrawEmpKey?e.SSCreWithDrawEmpKey:""}),ge({type:"boolean",name:"IsSSCreReschedule",boolean:!!e.IsSSCreReschedule&&e.IsSSCreReschedule}),ge({type:"text",name:"SSCreRescheduleRemarks",value:e.SSCreRescheduleRemarks?e.SSCreRescheduleRemarks:""}),ge({type:"text",name:"SSCreReschduleEmpKey",value:e.SSCreReschduleEmpKey?e.SSCreReschduleEmpKey:""}),ge({type:"boolean",name:"IsSSCreRework",boolean:!!e.IsSSCreRework&&e.IsSSCreRework}),ge({type:"text",name:"SSCreReworkRemarks",value:e.SSCreReworkRemarks?e.SSCreReworkRemarks:""}),ge({type:"text",name:"SSCreReworkEmpKey",value:e.SSCreReworkEmpKey?e.SSCreReworkEmpKey:""}),ge({type:"text",name:"SSCrePPMLattitude",value:e.SSCrePPMLattitude?e.SSCrePPMLattitude:""}),ge({type:"text",name:"SSCrePPMLongitude",value:e.SSCrePPMLongitude?e.SSCrePPMLongitude:""}),ge({type:"boolean",name:"IsSSCreTechManual",boolean:!!e.IsSSCreTechManual&&e.IsSSCreTechManual}),ge({type:"text",name:"SSCreXCreationAssetKey",value:e.SSCreXCreationAssetKey?e.SSCreXCreationAssetKey:""}),ge({type:"text",name:"SSCreXWorkOrder",value:e.SSCreXWorkOrder?e.SSCreXWorkOrder:""}),ge({type:"text",name:"SSCreXWoDate",value:e.SSCreXWoDate?ea(e.SSCreXWoDate):null}),ge({type:"text",name:"SSCreChargeLedgerKey",value:e.SSCreChargeLedgerKey?e.SSCreChargeLedgerKey:""}),ge({type:"text",name:"SSTechStartDateTime",value:e.SSTechStartDateTime?aa(e.SSTechStartDateTime):null}),ge({type:"text",name:"SSTechEndDateTime",value:e.SSTechEndDateTime?aa(e.SSTechEndDateTime):null}),ge({type:"text",name:"SSCreCostLedgerKey",value:e.SSCreCostLedgerKey?e.SSCreCostLedgerKey:""}),ge({type:"text",name:"SSTechName",value:e.SSTechName?e.SSTechName:""}),ge({type:"text",name:"SSTechKeys",value:e.SSTechKeys?e.SSTechKeys:""}),ge({type:"text",name:"HierarchyDetailsKey",value:e.HierarchyDetailsKey?e.HierarchyDetailsKey:""}),ge({type:"number",name:"PPMBusinessFlowID",number:e.PPMBusinessFlowID?Number(e.PPMBusinessFlowID):0}),ge({type:"text",name:"FlowDisplayName",value:e.FlowDisplayName?e.FlowDisplayName:""}),ge({type:"number",name:"PPMFixonBusinessFlowID",number:e.PPMFixonBusinessFlowID?Number(e.PPMFixonBusinessFlowID):0}),ge({type:"text",name:"FixonBusinessFlowName",value:e.FixonBusinessFlowName?e.FixonBusinessFlowName:""})}const Pa=e=>"string"==typeof e?e.trim():e;return r().createElement("div",{style:{width:"100%",display:"none"},id:"PPMSSCreationWorkOrder-MainEntry"},r().createElement("div",{className:"tabcontainer padleft5"},r().createElement("div",{className:"formcontent"},r().createElement("div",{className:"mar0"},r().createElement("div",{className:"ascardpad"},ee?r().createElement("div",null,r().createElement(b.default,{ref:Zt,ExpandDetailValue:!0,EntryExp:Te.expandDetail,inboxdata:{}})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSCreationWorkOrder-Entry",style:{width:"100%",position:"relative"}},r().createElement(i.Z,{expanded:"mainpanel"==Te.expandDetail},r().createElement(d.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r().createElement("div",{className:"displayFlex backgroundLightL3 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("div",{id:"fld521L4ECdFlexEntryHeader",onClick:()=>{Ne.ShowTableDiv(!1),document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="none"}},r().createElement(B.aQX,{className:"BackBtnIcon"})),r().createElement("p",{className:"ListP",title:"10.0.0.46-6:37:15 PM-31-5[521]"},Ot?"Edit ":"New ",Jt("521"))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},"mainpanel"===Te.expandDetail&&!Ot&&r().createElement(x.FormGroup,{row:!0},r().createElement(s.Z,{labelPlacement:"bottom",id:"fld521L4ECEntryCheckbox",control:r().createElement(A.Z,{checked:"1"==E,onChange:e=>K(e.target.checked)}),label:$t(1==E?"Active":"In Active")})))),Ot&&"mainpanel"===Te.expandDetail?r().createElement("div",{className:"GridAlign",onClick:()=>{Ne.AttachExpand(!0)},id:"fld521L4ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!Ot},r().createElement(W.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,$t("Attach")))):null,!Ot&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ra()},id:"fld521L4ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(W.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,$t("Reset")))),Ot?null:r().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,a,l,r){if(!(Te.count>0))return Ne.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...De};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){Ze(!0),ze(!0),je(!0),Xe(!0),$e(!0),et(!0),at(!0),rt(!0),it(!0),dt(!0),mt(!0),ct(!0),pt(!0),Dt(!0),ft(!0),Nt(!0),kt(!0),wt(!0),Ne.loading(!0),Ne.ConfirmAlert(null);const a=M.v.Api+"FP521S1/",l={data:[{p1:"SetDefaultPPMSSCreationWorkOrderID"==r?"NORECORDS"!=Be&&Be?Be:0:Ot,p2:Pa(De.PPMSSCreationAssetCode),p3:Pa(De.SSCreWorkOrder),p4:De.SSCreWoDateTime?ta(De.SSCreWoDateTime):null,p5:De.SSCreGeneratedTtm,p6:De.SSCreActualDate?ta(De.SSCreActualDate):null,p7:De.SSCreWoCompletedDate?ta(De.SSCreWoCompletedDate):null,p8:De.SSCreParentCreationKey?Number(De.SSCreParentCreationKey):0,p9:De.SSCreSLAHours?Number(De.SSCreSLAHours):0,p10:De.SSCreMaintenanceHours?Number(De.SSCreMaintenanceHours):0,p11:De.IsSSCreWithDraw,p12:Pa(De.SSCreWithDrawRemarks),p13:De.SSCreWithDrawEmpKey?Number(De.SSCreWithDrawEmpKey):0,p14:De.IsSSCreReschedule,p15:Pa(De.SSCreRescheduleRemarks),p16:Pa(De.SSCreReschduleEmpKey),p17:De.IsSSCreRework,p18:Pa(De.SSCreReworkRemarks),p19:De.SSCreReworkEmpKey?Number(De.SSCreReworkEmpKey):0,p20:Pa(De.SSCrePPMLattitude),p21:Pa(De.SSCrePPMLongitude),p22:De.IsSSCreTechManual,p23:De.SSCreXCreationAssetKey?Number(De.SSCreXCreationAssetKey):0,p24:Pa(De.SSCreXWorkOrder),p25:De.SSCreXWoDate?ta(De.SSCreXWoDate):null,p26:De.SSCreChargeLedgerKey?Number(De.SSCreChargeLedgerKey):0,p27:De.SSCreCostLedgerKey?Number(De.SSCreCostLedgerKey):0,p28:De.HierarchyDetailsKey?Number(De.HierarchyDetailsKey):0,p29:De.SSTechStartDateTime?ta(De.SSTechStartDateTime):null,p30:De.SSTechEndDateTime?ta(De.SSTechEndDateTime):null,p31:Pa(De.SSTechName),p32:De.SSTechKeys?Number(De.SSTechKeys):0,p33:!0,p34:"SetDefaultPPMSSCreationWorkOrderID"==r?"SetDefault":null,p35:De.ContractID?De.ContractID:0,p36:De.LocalityID?De.LocalityID:0,p37:De.BuildingID?De.BuildingID:0,p38:De.FloorID?De.FloorID:0,p39:De.SpotID?De.SpotID:0,p40:De.DivisionID?De.DivisionID:0,p41:De.DisciplineID?De.DisciplineID:0,p42:De.FrequencyID?De.FrequencyID:0,p43:De.PPMBusinessFlowID?De.PPMBusinessFlowID:0,p44:De.PPMFixonBusinessFlowID?De.PPMFixonBusinessFlowID:0,p45:De.PPMStageID?De.PPMStageID:0,p46:!1,p47:"SetDefaultPPMSSCreationWorkOrderID"==r,p48:localStorage.getItem("userid"),p49:h()().format("YYYY-MM-DD hh:mm:ss"),p50:localStorage.getItem("userid"),p51:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((r=>{(0,m.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?Ne.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):Ne.alert({open:!0,color:"success",message:["Saved to Draft"]}),ra(),e.clrImgstate(!0),document.getElementById("PPMSSCreationWorkOrder-MainTable").style.width="0%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.display="flex",document.getElementById("PPMSSCreationWorkOrder-MainTable").style.display="none",Y(!1),Ne.loading(!1),document.getElementById("overlayimgAttPPMSSCreationWorkOrder")&&(document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="none")):(Ne.alert({open:!0,color:"warning",message:[l.message]}),Ne.loading(!1))}))}))}else Ne.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}()},id:"fld521L4ECDraftBtn",disabled:!1},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(L.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,$t("Draft")))),"mainpanel"===Te.expandDetail?r().createElement(y.Z,{name:Ot?"Update":"Save",disabled:!1,frmctrlid:"fld521L4ECSaveBtnIsAdd",onClick:()=>{De.ContractID&&0!=De.ContractID?De.LocalityID&&0!=De.LocalityID?De.BuildingID&&0!=De.BuildingID?De.FloorID&&0!=De.FloorID?De.SpotID&&0!=De.SpotID?De.DivisionID&&0!=De.DivisionID?De.DisciplineID&&0!=De.DisciplineID?De.FrequencyID&&0!=De.FrequencyID?De.PPMStageID&&0!=De.PPMStageID?De.PPMBusinessFlowID&&0!=De.PPMBusinessFlowID?De.PPMFixonBusinessFlowID&&0!=De.PPMFixonBusinessFlowID?Ne.ConfirmAlert(r().createElement(g(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:$t("Are you sure?"),onConfirm:()=>na(),onCancel:()=>Ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:$t("Yes"),cancelBtnText:$t("Cancel"),showCancel:!0},$t("Do you want to Save?"))):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("PPMFixonBusinessFlowID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("PPMBusinessFlowID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("PPMStageID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("FrequencyID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("DisciplineID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("DivisionID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("SpotID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("FloorID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("BuildingID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("LocalityID")]}):Ne.alert({open:!0,color:"warning",message:[$t("Please select the ")+" "+Jt("ContractID")]})}}):null,Ot&&"mainpanel"===Te.expandDetail?r().createElement(v.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld521L4ECCloseBtn",onClick:()=>{Ne.ShowTableDiv(!1),ra(),te(!0),se(!0),document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="none"}}):null))),r().createElement(o.Z,null,r().createElement("div",{id:"PPMSSCreationWorkOrder-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSSCreationWorkOrder-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSSCreationWorkOrder-MainBody",className:"padding paddingLeft"},r().createElement("div",{className:"display-inline-flex"},r().createElement("div",{className:"l4-side-component displayFlex"+(be?"":"l4width")},r().createElement("div",{className:"l4-side-component"},r().createElement("div",{className:"cardl4 "},r().createElement("div",{color:"info",className:"cardheadvh"},r().createElement(u.Z,null,r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null,"Primary Details"))))),r().createElement("div",{style:{padding:"15px"}},r().createElement(u.Z,{spacing:2},r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(c.Z,{json:O.A,"data-testid":De.SSCreWorkOrder,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreWorkOrder",tfLabel:Jt("SSCreWorkOrder"),frmctrlid:"fld521_21518",fieldorder:"1",onChange:e=>{Sa(e,"SSCreWorkOrder","text")},clear:e=>{e&&ge({type:"text",name:"SSCreWorkOrder",value:""})},value:De.SSCreWorkOrder})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2,className:"flexEnd"},r().createElement(P.Z,{"data-testid":De.SSCreWoDateTime,value:De.SSCreWoDateTime,skipMin:!0,onErr:e=>{Re(e)},onChange:e=>{Sa(e,"SSCreWoDateTime","date")},label:Jt("SSCreWoDateTime"),frmctrlid:"fld521_21519",frmctrlidName:"SSCreWoDateTime",fieldorder:"2"})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.ContractID,"data-testid":De.ContractID,value:De.ContractName,SPName:"PPMSSCreationWorkOrder",FieldName:"ContractID",tfLabel:Jt("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"ContractID","select"),onChange:(e,t)=>{sa(e,t,"ContractIDPK")},KeyBack:e=>{ua("ContractID")},fieldorder:"3",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("156")},Tabledialog:()=>da("156","ContractID"),loading:Ie,clear:e=>{e&&ca("ContractID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.LocalityID,"data-testid":De.LocalityID,value:De.LocalityName,SPName:"PPMSSCreationWorkOrder",FieldName:"LocalityID",tfLabel:Jt("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"LocalityID","select"),onChange:(e,t)=>{sa(e,t,"LocalityIDPK")},KeyBack:e=>{ua("LocalityID")},fieldorder:"4",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("12")},Tabledialog:()=>da("12","LocalityID"),loading:Ie,clear:e=>{e&&ca("LocalityID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.BuildingID,"data-testid":De.BuildingID,value:De.BuildingName,SPName:"PPMSSCreationWorkOrder",FieldName:"BuildingID",tfLabel:Jt("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"BuildingID","select"),onChange:(e,t)=>{sa(e,t,"BuildingIDPK")},KeyBack:e=>{ua("BuildingID")},fieldorder:"5",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("30")},Tabledialog:()=>da("30","BuildingID"),loading:Ie,clear:e=>{e&&ca("BuildingID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.FloorID,"data-testid":De.FloorID,value:De.FloorName,SPName:"PPMSSCreationWorkOrder",FieldName:"FloorID",tfLabel:Jt("FloorID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"FloorID","select"),onChange:(e,t)=>{sa(e,t,"FloorIDPK")},KeyBack:e=>{ua("FloorID")},fieldorder:"6",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("52")},Tabledialog:()=>da("52","FloorID"),loading:Ie,clear:e=>{e&&ca("FloorID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.SpotID,"data-testid":De.SpotID,value:De.SpotName,SPName:"PPMSSCreationWorkOrder",FieldName:"SpotID",tfLabel:Jt("SpotID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"SpotID","select"),onChange:(e,t)=>{sa(e,t,"SpotIDPK")},KeyBack:e=>{ua("SpotID")},fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("70")},Tabledialog:()=>da("70","SpotID"),loading:Ie,clear:e=>{e&&ca("SpotID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.DivisionID,"data-testid":De.DivisionID,value:De.DivisionName,SPName:"PPMSSCreationWorkOrder",FieldName:"DivisionID",tfLabel:Jt("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"DivisionID","select"),onChange:(e,t)=>{sa(e,t,"DivisionIDPK")},KeyBack:e=>{ua("DivisionID")},fieldorder:"2",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("35")},Tabledialog:()=>da("35","DivisionID"),loading:Ie,clear:e=>{e&&ca("DivisionID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.DisciplineID,"data-testid":De.DisciplineID,value:De.DisciplineName,SPName:"PPMSSCreationWorkOrder",FieldName:"DisciplineID",tfLabel:Jt("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"DisciplineID","select"),onChange:(e,t)=>{sa(e,t,"DisciplineIDPK")},KeyBack:e=>{ua("DisciplineID")},fieldorder:"3",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("34")},Tabledialog:()=>da("34","DisciplineID"),loading:Ie,clear:e=>{e&&ca("DisciplineID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.FrequencyID,"data-testid":De.FrequencyID,value:De.FrequencyName,SPName:"PPMSSCreationWorkOrder",FieldName:"FrequencyID",tfLabel:Jt("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"FrequencyID","select"),onChange:(e,t)=>{sa(e,t,"FrequencyIDPK")},KeyBack:e=>{ua("FrequencyID")},fieldorder:"4",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("457")},Tabledialog:()=>da("457","FrequencyID"),loading:Ie,clear:e=>{e&&ca("FrequencyID")}})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(c.Z,{json:O.A,"data-testid":De.SSCreSLAHours,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreSLAHours",tfLabel:Jt("SSCreSLAHours"),frmctrlid:"fld521_21524",fieldorder:"5",onChange:e=>{Sa(e,"SSCreSLAHours","text")},clear:e=>{e&&ge({type:"text",name:"SSCreSLAHours",value:""})},value:De.SSCreSLAHours})),r().createElement(p.Z,{xs:2,md:2,lg:2,sm:2},r().createElement(f.Z,{json:O.A,id:De.PPMStageID,"data-testid":De.PPMStageID,value:De.PPMStageName,SPName:"PPMSSCreationWorkOrder",FieldName:"PPMStageID",tfLabel:Jt("PPMStageID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"PPMStageID","select"),onChange:(e,t)=>{sa(e,t,"PPMStageIDPK")},KeyBack:e=>{ua("PPMStageID")},fieldorder:"6",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("541")},Tabledialog:()=>da("541","PPMStageID"),loading:Ie,clear:e=>{e&&ca("PPMStageID")}})))))),r().createElement("div",{className:"l4-side-menu "+(be?"":"displayNone")},r().createElement("div",{className:"cardhight cardl4"},r().createElement("div",null,r().createElement("div",{className:"PPMSSCreationWorkOrder-sublink formpanel"},r().createElement("div",{className:"divacc",style:{display:"none"}},r().createElement(i.Z,{expanded:"panelS@number@"==Vt,onChange:("panelS@number@",(e,t)=>{Ht(!!t&&"panelS@number@")})},r().createElement(d.Z,{className:"accpanel",expandIcon:r().createElement(k.Z,{className:"iconExpand"})},r().createElement("p",{className:"mpadd5 plinkactive"},"Invisible Fields")),r().createElement(o.Z,null,r().createElement(u.Z,{spacing:12},r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.PPMSSCreationAssetCode,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"PPMSSCreationAssetCode",tfLabel:Jt("PPMSSCreationAssetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{Ke&&ma(1,"","ClearAll"),Ze(!0)},frmctrlid:"fld521_21516",frmctrlidName:"PPMSSCreationAssetCode",fieldorder:"6",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{Ke&&ma(e,t,"PPMSSCreationAssetCode"),Sa(t,"PPMSSCreationAssetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ze(!0)},showList:Ke,SideEntryView:!1,KeyBack:e=>{},value:De.PPMSSCreationAssetCode,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"PPMSSCreationAssetCode",value:""}),Ze(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreGeneratedTtm,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreGeneratedTtm",tfLabel:Jt("SSCreGeneratedTtm"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{Ge&&ma(1,"","ClearAll"),ze(!0)},frmctrlid:"fld521_21520",frmctrlidName:"SSCreGeneratedTtm",fieldorder:"6",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{Ge&&ma(e,t,"SSCreGeneratedTtm"),Sa(t,"SSCreGeneratedTtm","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ze(!0)},showList:Ge,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreGeneratedTtm,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreGeneratedTtm",value:""}),ze(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(C.Z,{value:De.SSCreActualDate,"data-testid":De.SSCreActualDate,disabled:!1,onChange:e=>{Sa(e,"SSCreActualDate","date")},onErr:e=>{qe(e)},label:Jt("SSCreActualDate"),frmctrlid:"fld521_21521",frmctrlidName:"SSCreActualDate",fieldorder:"6"})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd"},r().createElement(C.Z,{value:De.SSCreWoCompletedDate,"data-testid":De.SSCreWoCompletedDate,disabled:!1,onChange:e=>{Sa(e,"SSCreWoCompletedDate","date")},onErr:e=>{He(e)},label:Jt("SSCreWoCompletedDate"),frmctrlid:"fld521_21522",frmctrlidName:"SSCreWoCompletedDate",fieldorder:"1"})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreMaintenanceHours,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreMaintenanceHours",tfLabel:Jt("SSCreMaintenanceHours"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{Ue&&ma(1,"","ClearAll"),je(!0)},frmctrlid:"fld521_21525",frmctrlidName:"SSCreMaintenanceHours",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{Ue&&ma(e,t,"SSCreMaintenanceHours"),Sa(t,"SSCreMaintenanceHours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||je(!0)},showList:Ue,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreMaintenanceHours,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreMaintenanceHours",value:""}),je(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":De.IsSSCreWithDraw,labelPlacement:"end",control:r().createElement(A.Z,{checked:"1"==De.IsSSCreWithDraw,onChange:e=>{Sa(e.target.checked,"IsSSCreWithDraw","boolean")},frmctrlid:"fld521_21526",frmctrlidname:"IsSSCreWithDraw",fieldorder:"1",tfLabel:Jt("IsSSCreWithDraw")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:De.IsSSCreWithDraw?"#21446F":"#999"}},Jt("IsSSCreWithDraw"))}))),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreWithDrawRemarks,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreWithDrawRemarks",tfLabel:Jt("SSCreWithDrawRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{Ye&&ma(1,"","ClearAll"),Xe(!0)},frmctrlid:"fld521_21527",frmctrlidName:"SSCreWithDrawRemarks",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{Ye&&ma(e,t,"SSCreWithDrawRemarks"),Sa(t,"SSCreWithDrawRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Xe(!0)},showList:Ye,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreWithDrawRemarks,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreWithDrawRemarks",value:""}),Xe(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreWithDrawEmpKey,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreWithDrawEmpKey",tfLabel:Jt("SSCreWithDrawEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{Qe&&ma(1,"","ClearAll"),$e(!0)},frmctrlid:"fld521_21528",frmctrlidName:"SSCreWithDrawEmpKey",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{Qe&&ma(e,t,"SSCreWithDrawEmpKey"),Sa(t,"SSCreWithDrawEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||$e(!0)},showList:Qe,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreWithDrawEmpKey,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreWithDrawEmpKey",value:""}),$e(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":De.IsSSCreReschedule,labelPlacement:"end",control:r().createElement(A.Z,{checked:"1"==De.IsSSCreReschedule,onChange:e=>{Sa(e.target.checked,"IsSSCreReschedule","boolean")},frmctrlid:"fld521_21529",frmctrlidname:"IsSSCreReschedule",fieldorder:"1",tfLabel:Jt("IsSSCreReschedule")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:De.IsSSCreReschedule?"#21446F":"#999"}},Jt("IsSSCreReschedule"))}))),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreRescheduleRemarks,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreRescheduleRemarks",tfLabel:Jt("SSCreRescheduleRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{Je&&ma(1,"","ClearAll"),et(!0)},frmctrlid:"fld521_21530",frmctrlidName:"SSCreRescheduleRemarks",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{Je&&ma(e,t,"SSCreRescheduleRemarks"),Sa(t,"SSCreRescheduleRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||et(!0)},showList:Je,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreRescheduleRemarks,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreRescheduleRemarks",value:""}),et(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreReschduleEmpKey,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreReschduleEmpKey",tfLabel:Jt("SSCreReschduleEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{tt&&ma(1,"","ClearAll"),at(!0)},frmctrlid:"fld521_21531",frmctrlidName:"SSCreReschduleEmpKey",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{tt&&ma(e,t,"SSCreReschduleEmpKey"),Sa(t,"SSCreReschduleEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||at(!0)},showList:tt,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreReschduleEmpKey,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreReschduleEmpKey",value:""}),at(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":De.IsSSCreRework,labelPlacement:"end",control:r().createElement(A.Z,{checked:"1"==De.IsSSCreRework,onChange:e=>{Sa(e.target.checked,"IsSSCreRework","boolean")},frmctrlid:"fld521_21532",frmctrlidname:"IsSSCreRework",fieldorder:"1",tfLabel:Jt("IsSSCreRework")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:De.IsSSCreRework?"#21446F":"#999"}},Jt("IsSSCreRework"))}))),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreReworkRemarks,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreReworkRemarks",tfLabel:Jt("SSCreReworkRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{lt&&ma(1,"","ClearAll"),rt(!0)},frmctrlid:"fld521_21533",frmctrlidName:"SSCreReworkRemarks",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{lt&&ma(e,t,"SSCreReworkRemarks"),Sa(t,"SSCreReworkRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||rt(!0)},showList:lt,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreReworkRemarks,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreReworkRemarks",value:""}),rt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreReworkEmpKey,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreReworkEmpKey",tfLabel:Jt("SSCreReworkEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{nt&&ma(1,"","ClearAll"),it(!0)},frmctrlid:"fld521_21534",frmctrlidName:"SSCreReworkEmpKey",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{nt&&ma(e,t,"SSCreReworkEmpKey"),Sa(t,"SSCreReworkEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||it(!0)},showList:nt,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreReworkEmpKey,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreReworkEmpKey",value:""}),it(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCrePPMLattitude,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCrePPMLattitude",tfLabel:Jt("SSCrePPMLattitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{ot&&ma(1,"","ClearAll"),dt(!0)},frmctrlid:"fld521_21535",frmctrlidName:"SSCrePPMLattitude",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{ot&&ma(e,t,"SSCrePPMLattitude"),Sa(t,"SSCrePPMLattitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||dt(!0)},showList:ot,SideEntryView:!1,KeyBack:e=>{},value:De.SSCrePPMLattitude,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCrePPMLattitude",value:""}),dt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCrePPMLongitude,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCrePPMLongitude",tfLabel:Jt("SSCrePPMLongitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{st&&ma(1,"","ClearAll"),mt(!0)},frmctrlid:"fld521_21536",frmctrlidName:"SSCrePPMLongitude",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{st&&ma(e,t,"SSCrePPMLongitude"),Sa(t,"SSCrePPMLongitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||mt(!0)},showList:st,SideEntryView:!1,KeyBack:e=>{},value:De.SSCrePPMLongitude,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCrePPMLongitude",value:""}),mt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":De.IsSSCreTechManual,labelPlacement:"end",control:r().createElement(A.Z,{checked:"1"==De.IsSSCreTechManual,onChange:e=>{Sa(e.target.checked,"IsSSCreTechManual","boolean")},frmctrlid:"fld521_21537",frmctrlidname:"IsSSCreTechManual",fieldorder:"1",tfLabel:Jt("IsSSCreTechManual")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:De.IsSSCreTechManual?"#21446F":"#999"}},Jt("IsSSCreTechManual"))}))),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreXCreationAssetKey,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreXCreationAssetKey",tfLabel:Jt("SSCreXCreationAssetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{St&&ma(1,"","ClearAll"),ct(!0)},frmctrlid:"fld521_21540",frmctrlidName:"SSCreXCreationAssetKey",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{St&&ma(e,t,"SSCreXCreationAssetKey"),Sa(t,"SSCreXCreationAssetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ct(!0)},showList:St,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreXCreationAssetKey,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreXCreationAssetKey",value:""}),ct(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreXWorkOrder,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreXWorkOrder",tfLabel:Jt("SSCreXWorkOrder"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{ut&&ma(1,"","ClearAll"),pt(!0)},frmctrlid:"fld521_21541",frmctrlidName:"SSCreXWorkOrder",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{ut&&ma(e,t,"SSCreXWorkOrder"),Sa(t,"SSCreXWorkOrder","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||pt(!0)},showList:ut,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreXWorkOrder,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreXWorkOrder",value:""}),pt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(C.Z,{value:De.SSCreXWoDate,"data-testid":De.SSCreXWoDate,disabled:!1,onChange:e=>{Sa(e,"SSCreXWoDate","date")},onErr:e=>{Pt(e)},label:Jt("SSCreXWoDate"),frmctrlid:"fld521_21542",frmctrlidName:"SSCreXWoDate",fieldorder:"1"})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreChargeLedgerKey,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreChargeLedgerKey",tfLabel:Jt("SSCreChargeLedgerKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{yt&&ma(1,"","ClearAll"),Dt(!0)},frmctrlid:"fld521_21543",frmctrlidName:"SSCreChargeLedgerKey",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{yt&&ma(e,t,"SSCreChargeLedgerKey"),Sa(t,"SSCreChargeLedgerKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Dt(!0)},showList:yt,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreChargeLedgerKey,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreChargeLedgerKey",value:""}),Dt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(P.Z,{"data-testid":De.SSTechStartDateTime,value:De.SSTechStartDateTime,skipMin:!0,onErr:e=>{It(e)},onChange:e=>{Sa(e,"SSTechStartDateTime","date")},label:Jt("SSTechStartDateTime"),frmctrlid:"fld521_37369",frmctrlidName:"SSTechStartDateTime",fieldorder:"1"})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(P.Z,{"data-testid":De.SSTechEndDateTime,value:De.SSTechEndDateTime,skipMin:!0,onErr:e=>{Et(e)},onChange:e=>{Sa(e,"SSTechEndDateTime","date")},label:Jt("SSTechEndDateTime"),frmctrlid:"fld521_37370",frmctrlidName:"SSTechEndDateTime",fieldorder:"1"})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSCreCostLedgerKey,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSCreCostLedgerKey",tfLabel:Jt("SSCreCostLedgerKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{ht&&ma(1,"","ClearAll"),ft(!0)},frmctrlid:"fld521_21544",frmctrlidName:"SSCreCostLedgerKey",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{ht&&ma(e,t,"SSCreCostLedgerKey"),Sa(t,"SSCreCostLedgerKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ft(!0)},showList:ht,SideEntryView:!1,KeyBack:e=>{},value:De.SSCreCostLedgerKey,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSCreCostLedgerKey",value:""}),ft(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSTechName,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSTechName",tfLabel:Jt("SSTechName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{vt&&ma(1,"","ClearAll"),Nt(!0)},frmctrlid:"fld521_37371",frmctrlidName:"SSTechName",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{vt&&ma(e,t,"SSTechName"),Sa(t,"SSTechName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Nt(!0)},showList:vt,SideEntryView:!1,KeyBack:e=>{},value:De.SSTechName,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSTechName",value:""}),Nt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.SSTechKeys,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"SSTechKeys",tfLabel:Jt("SSTechKeys"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{Tt&&ma(1,"","ClearAll"),kt(!0)},frmctrlid:"fld521_37368",frmctrlidName:"SSTechKeys",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{Tt&&ma(e,t,"SSTechKeys"),Sa(t,"SSTechKeys","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||kt(!0)},showList:Tt,SideEntryView:!1,KeyBack:e=>{},value:De.SSTechKeys,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"SSTechKeys",value:""}),kt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{"data-testid":De.HierarchyDetailsKey,json:O.A,SPName:"PPMSSCreationWorkOrder",FieldName:"HierarchyDetailsKey",tfLabel:Jt("HierarchyDetailsKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&pa(t),onClick:()=>{bt&&ma(1,"","ClearAll"),wt(!0)},frmctrlid:"fld521_21546",frmctrlidName:"HierarchyDetailsKey",fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,onChange:(e,t)=>{bt&&ma(e,t,"HierarchyDetailsKey"),Sa(t,"HierarchyDetailsKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||wt(!0)},showList:bt,SideEntryView:!1,KeyBack:e=>{},value:De.HierarchyDetailsKey,loading:Ie,clear:e=>{e&&(ge({type:"text",name:"HierarchyDetailsKey",value:""}),wt(!0))}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{json:O.A,id:De.PPMBusinessFlowID,"data-testid":De.PPMBusinessFlowID,value:De.FlowDisplayName,SPName:"PPMSSCreationWorkOrder",FieldName:"PPMBusinessFlowID",tfLabel:Jt("PPMBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"PPMBusinessFlowID","select"),onChange:(e,t)=>{sa(e,t,"PPMBusinessFlowIDPK")},KeyBack:e=>{ua("PPMBusinessFlowID")},fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("460")},Tabledialog:()=>da("460","PPMBusinessFlowID"),loading:Ie,clear:e=>{e&&ca("PPMBusinessFlowID")}})),r().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(f.Z,{json:O.A,id:De.PPMFixonBusinessFlowID,"data-testid":De.PPMFixonBusinessFlowID,value:De.FixonBusinessFlowName,SPName:"PPMSSCreationWorkOrder",FieldName:"PPMFixonBusinessFlowID",tfLabel:Jt("PPMFixonBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Sa(e,"PPMFixonBusinessFlowID","select"),onChange:(e,t)=>{sa(e,t,"PPMFixonBusinessFlowIDPK")},KeyBack:e=>{ua("PPMFixonBusinessFlowID")},fieldorder:"1",data:Ee,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Ee.length>0?Ee[0].TotalCount:0,openSlide:()=>{oa("475")},Tabledialog:()=>da("475","PPMFixonBusinessFlowID"),loading:Ie,clear:e=>{e&&ca("PPMFixonBusinessFlowID")}}))))))))),r().createElement("div",{id:"PPMSSCreationWorkOrderSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSCreationWorkOrderSideBar").style.width="0",void le(!1))},"×"),ae&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},re)))))))))))))))))}))},20626:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>P,PPMSSCreationWorkOrderContext:()=>C,default:()=>y});var l=a(92950),r=a.n(l),n=a(53629),i=a(45965),o=a(91607),d=a(45237),s=a(26537),m=a(30037),S=a(67698),c=a(55995),u=(a(37274),a(9175)),p=a.n(u);const C=(0,l.createContext)();function P(){const e=r().useContext(C);if(void 0===e)throw new Error("ContextApi must be used within a PPMSSCreationWorkOrderContext.Provider");return e}const y=(0,l.forwardRef)(((e,t)=>{(0,d.useSelector)((e=>e.form));const a=(0,l.useRef)(),u=(0,d.useDispatch)(),[P,y]=(0,l.useState)(0),[D,g]=r().useReducer(m.d,m.E),I=(0,l.useRef)(),M=(0,l.useRef)(),E=(0,l.useRef)(),[h,f]=(0,l.useState)(),[v,N]=(0,l.useState)(null),[T,k]=(0,l.useState)(""),b=(0,l.useRef)(),[w,O]=(0,l.useState)([]),[F,A]=(0,l.useState)(!1);(0,l.useEffect)((()=>{u((e=>{(0,s.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),y(t.length),x(e)}))})),e.loading(!0)}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"ShowView",payload:!0}),g({type:"PrimaryData",payload:e.editData}),a.current.editRecord(e.editData,!1,!0),g({type:"IsDraft",payload:!1}),B(!0))}),[e.editData]);const x=e=>{(0,i.Z)(e,521).then((e=>g({type:"AccessRights",payload:e})))};function B(e){g({type:"expandDetail",payload:"mainpanel"}),e?(document.getElementById("PPMSSCreationWorkOrder-MainTable").style.width="0%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.display="flex",document.getElementById("PPMSSCreationWorkOrder-MainTable").style.display="none",g({type:"Showtable",payload:!1})):(document.getElementById("PPMSSCreationWorkOrder-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainTable").style.display="block",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.width="0%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.display="none",g({type:"Showtable",payload:!0}),I.current.tableRefresh())}return r().createElement("div",null,r().createElement(C.Provider,{value:{cstate:D,cdispatch:g,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),edit:(e,t,l)=>{return n=t,i=l,void((r=e)?(g({type:"ShowView",payload:!0}),g({type:"PrimaryData",payload:r}),n?a.current.editRecord(r,n,!1):a.current.editRecord(r,n,i),g({type:"IsDraft",payload:n}),B(!0)):(a.current.formlink(0),g({type:"ShowView",payload:!1}),B(!0),a.current.clear()));var r,n,i},add:()=>a.current.Add(),editview:e=>{a.current.Editview(e),g({type:"expandDetail",payload:"mainpanel"})},ShowTableDiv:e=>B(e),AttachExpand:e=>(M.current.AttachmentData(D.PrimaryId),void(D.ExpandTableValue?(document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.width="30%",document.getElementById("divPPMSSCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="block",document.getElementById("PPMSSCreationWorkOrderTbsearch").style.display="none"):(document.getElementById("PPMSSCreationWorkOrder-MainTable").style.width="40%",document.getElementById("divPPMSSCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.display="block",document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.width="30%",document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="block",document.getElementById("PPMSSCreationWorkOrderTbsearch").style.display="none"))),openDialog:t=>e.openDialog(t),Approval:e=>A(e),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{E.current.tempsave(e,w),O([])},floatRefresh:()=>b.current.countRefresh()}},r().createElement("div",{className:"MainDivStyles displayGrid"},r().createElement("div",{id:"PPMSSCreationWorkOrder-MainDiv",className:"Maincontent",style:{paddingTop:"8px",minHeight:"100vh"}},r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{className:"width100"},r().createElement("div",{id:"PPMSSCreationWorkOrder-MainTable",className:"commonSlide",style:{width:"100%",display:"block"}},0!==P&&r().createElement(o.default,{ref:I})),r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"width100"},r().createElement(n.default,{ref:a,clrImgstate:e=>M.current.clrImgstate(e)}),r().createElement(c.Z,{ref:E,menurefID:521,fileId:"LogoImgPPMSSCreationWorkOrder",imgloading:e=>f(e),valueIDPK:D.PrimaryId,AttachmentVal:e=>M.current.AttachmentData(e),previd:"overlayPreviewPPMSSCreationWorkOrder",AccessRights:D.AccessRights,frmctrlid:"PvwIm_521_L4_",tempImg:e=>{D.PrimaryId?M.current.AttachmentData(D.PrimaryId):M.current.tempImg(e),O(e)},clearTempData:D.Add})),r().createElement(S.Z,{ImgAttachment:e=>{D.IsCollapse?(document.getElementById("PPMSSCreationWorkOrder-MainTable").style.width="50%",document.getElementById("divPPMSSCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.display="block",document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="none",document.getElementById("PPMSSCreationWorkOrderTbsearch").style.display="block"):(document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrder").style.display="none",document.getElementById("divPPMSSCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrder-MainDiv").classList.add("displayGrid"),document.getElementById("PPMSSCreationWorkOrderTbsearch").style.display="block")},menurefID:521,fileId:"AttImgPPMSSCreationWorkOrder",imgid:"overlayimgAttPPMSSCreationWorkOrder",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSSCreationWorkOrder",ref:M,imgloading:h,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_521_L4_",timglist:e=>E.current.timglist(e),clearTempData:D.Add})))))),F&&r().createElement(p(),{openDialog:F,closeDialog:e=>A(e),formID:521,PrimID:D.PrimaryId,alert:(e,t,l)=>{"Approval Sent Succesfully"==e.message&&a.current.cardRefresh()},loading:t=>{e.loading(t)}})))}))},91607:(e,t,a)=>{a.r(t),a.d(t,{PPMSSCreationWorkOrderPopUpTable:()=>U,default:()=>H}),a(95866);var l=a(92950),r=a.n(l),n=a(45237),i=a(36939),o=a(61201),d=a(50743),s=a(59009),m=a(80366),S=a(51673),c=a(56827),u=a(35025),p=a(64566),C=a(54180),P=a(47516),y=(a(14439),a(27848),a(42258)),D=a(40900),g=a(83032),I=(a(44117),a(20626)),M=a(97572),E=a(82952);function h(e){(0,n.useSelector)((e=>e.form));const[t,a]=(0,l.useState)([]),[i,o]=(0,l.useState)([]),[d,s]=(0,l.useState)(!1),[m,c]=(0,l.useState)([]),[u,p]=(0,l.useState)([]),[C,P]=(0,l.useState)([]),[E,h]=(0,l.useState)([]),[f,v]=(0,l.useState)([]),[N,T]=(0,l.useState)({id:"",type:""}),[k,b]=(0,l.useState)({}),[w,O]=(0,l.useState)(1),{cstate:F,cdispatch:A}=(0,I.ContextApi)(),[x,B]=(0,l.useState)({}),[W,L]=(0,l.useState)(!1),[R,K]=(0,l.useState)({}),[Z,G]=(0,l.useState)({current:1,pageSize:10}),[z,_]=(0,l.useState)(""),[q,V]=(0,l.useState)(""),[H,U]=(0,l.useState)({type:"PPMSSCreationWorkOrderIDPK",params:{}});(0,l.useEffect)((()=>{e.onload&&j(x,"PPMSSCreationWorkOrderIDPK"),s(!1)}),[e.onload]),(0,l.useEffect)((()=>{e.refresh&&j(H.params,"PPMSSCreationWorkOrderIDPK")}),[e.refresh]),(0,l.useEffect)((()=>{j(e.json,"PPMSSCreationWorkOrderIDPK"),b(e.json),document.getElementById("PPMSSCreationWorkOrderGridViewCard").style.width="100%"}),[e.json]);const j=(t,l)=>{let r=D.v.Api+"FP521S5/",n={data:{p1:t&&t.PPMSSCreationWorkOrderIDPK?t.PPMSSCreationWorkOrderIDPK:null,p2:t&&t.PPMSSCreationAssetCode?t.PPMSSCreationAssetCode:null,p3:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p4:t&&t.SSCreWoDateTime?t.SSCreWoDateTime:null,p5:t&&t.SSCreWoDateTimeType?t.SSCreWoDateTimeType:null,p6:t&&t.SSCreWoDateTimeBetween?t.SSCreWoDateTimeBetween:null,p7:t&&t.SSCreGeneratedTtm?t.SSCreGeneratedTtm:null,p8:t&&t.SSCreActualDate?t.SSCreActualDate:null,p9:t&&t.SSCreActualDateType?t.SSCreActualDateType:null,p10:t&&t.SSCreActualDateBetween?t.SSCreActualDateBetween:null,p11:t&&t.SSCreWoCompletedDate?t.SSCreWoCompletedDate:null,p12:t&&t.SSCreWoCompletedDateType?t.SSCreWoCompletedDateType:null,p13:t&&t.SSCreWoCompletedDateBetween?t.SSCreWoCompletedDateBetween:null,p14:t&&t.SSCreParentCreationKey?t.SSCreParentCreationKey:null,p15:t&&t.SSCreSLAHours?t.SSCreSLAHours:null,p16:t&&t.SSCreMaintenanceHours?t.SSCreMaintenanceHours:null,p17:null,p18:null,p19:t&&t.SSCreWithDrawEmpKey?t.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:t&&t.SSCreReschduleEmpKey?t.SSCreReschduleEmpKey:null,p23:null,p24:null,p25:t&&t.SSCreReworkEmpKey?t.SSCreReworkEmpKey:null,p26:t&&t.SSCrePPMLattitude?t.SSCrePPMLattitude:null,p27:t&&t.SSCrePPMLongitude?t.SSCrePPMLongitude:null,p28:null,p29:t&&t.SSCreXCreationAssetKey?t.SSCreXCreationAssetKey:null,p30:t&&t.SSCreXWorkOrder?t.SSCreXWorkOrder:null,p31:t&&t.SSCreXWoDate?t.SSCreXWoDate:null,p32:t&&t.SSCreXWoDateType?t.SSCreXWoDateType:null,p33:t&&t.SSCreXWoDateBetween?t.SSCreXWoDateBetween:null,p34:t&&t.SSCreChargeLedgerKey?t.SSCreChargeLedgerKey:null,p35:t&&t.SSCreCostLedgerKey?t.SSCreCostLedgerKey:null,p36:t&&t.HierarchyDetailsKey?t.HierarchyDetailsKey:null,p37:t&&t.SSTechStartDateTime?t.SSTechStartDateTime:null,p38:t&&t.SSTechStartDateTimeType?t.SSTechStartDateTimeType:null,p39:t&&t.SSTechStartDateTimeBetween?t.SSTechStartDateTimeBetween:null,p40:t&&t.SSTechEndDateTime?t.SSTechEndDateTime:null,p41:t&&t.SSTechEndDateTimeType?t.SSTechEndDateTimeType:null,p42:t&&t.SSTechEndDateTimeBetween?t.SSTechEndDateTimeBetween:null,p43:t&&t.SSTechName?t.SSTechName:null,p44:t&&t.SSTechKeys?t.SSTechKeys:null,p45:null,p46:null,p47:t&&t.ContractID?t.ContractID:null,p48:t&&t.LocalityID?t.LocalityID:null,p49:t&&t.BuildingID?t.BuildingID:null,p50:t&&t.FloorID?t.FloorID:null,p51:t&&t.SpotID?t.SpotID:null,p52:t&&t.DivisionID?t.DivisionID:null,p53:t&&t.DisciplineID?t.DisciplineID:null,p54:t&&t.FrequencyID?t.FrequencyID:null,p55:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p56:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p57:t&&t.PPMStageID?t.PPMStageID:null,p58:e.Dialogview?"1":null,p59:null,p60:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p61:t&&t.CreatedTtm?t.CreatedTtm:null,p62:t&&t.CreatedTtmType?t.CreatedTtmType:null,p63:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p64:null,p65:t&&t.ContractGroupID?t.ContractGroupID:null,p66:t&&t.ContractGroupCode?t.ContractGroupCode:null,p67:t&&t.ContractGroupName?t.ContractGroupName:null,p68:t&&t.TaxID?t.TaxID:null,p69:t&&t.TaxCode?t.TaxCode:null,p70:t&&t.TaxName?t.TaxName:null,p71:t&&t.TaxValue?t.TaxValue:null,p72:t&&t.CustomerID?t.CustomerID:null,p73:t&&t.CustomerCode?t.CustomerCode:null,p74:t&&t.CustomerName?t.CustomerName:null,p75:t&&t.ContractTypeID?t.ContractTypeID:null,p76:t&&t.ContractTypCode?t.ContractTypCode:null,p77:t&&t.ContractTypeName?t.ContractTypeName:null,p78:t&&t.ContractCategID?t.ContractCategID:null,p79:t&&t.ContractCategCode?t.ContractCategCode:null,p80:t&&t.ContractCategName?t.ContractCategName:null,p81:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p82:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p83:t&&t.ContractCode?t.ContractCode:null,p84:t&&t.ContractName?t.ContractName:null,p85:t&&t.LocalityGroupID?t.LocalityGroupID:null,p86:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p87:t&&t.LocalityGroupName?t.LocalityGroupName:null,p88:t&&t.CityID?t.CityID:null,p89:t&&t.CityCode?t.CityCode:null,p90:t&&t.CityName?t.CityName:null,p91:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p92:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p93:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p94:t&&t.LocalityCode?t.LocalityCode:null,p95:t&&t.LocalityName?t.LocalityName:null,p96:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p97:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p98:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p99:t&&t.BuildingCode?t.BuildingCode:null,p100:t&&t.BuildingName?t.BuildingName:null,p101:t&&t.FloorCode?t.FloorCode:null,p102:t&&t.FloorName?t.FloorName:null,p103:t&&t.SpotTypeID?t.SpotTypeID:null,p104:t&&t.SpotTypeCode?t.SpotTypeCode:null,p105:t&&t.SpotTypeName?t.SpotTypeName:null,p106:t&&t.AssWingID?t.AssWingID:null,p107:t&&t.AssWingCode?t.AssWingCode:null,p108:t&&t.AssWingName?t.AssWingName:null,p109:t&&t.SpotCode?t.SpotCode:null,p110:t&&t.SpotName?t.SpotName:null,p111:t&&t.DivisionCode?t.DivisionCode:null,p112:t&&t.DivisionName?t.DivisionName:null,p113:t&&t.DisciplineCode?t.DisciplineCode:null,p114:t&&t.DisciplineName?t.DisciplineName:null,p115:t&&t.FrequencyCode?t.FrequencyCode:null,p116:t&&t.FrequencyName?t.FrequencyName:null,p117:t&&t.PPMStageName?t.PPMStageName:null,p118:t&&t.StageSeqNo?t.StageSeqNo:null,p119:1,p120:10,p121:l,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};(0,S.Z)(r,n,F.token[0]).then((e=>{if(e.Output.data){let t=e.Output.data;"PPMSSCreationWorkOrderIDPK"==l?(a(t),s(!1)):(o(t),s(!0))}}))};return r().createElement("div",{id:"PPMSSCreationWorkOrderGridViewCard"},r().createElement("div",{className:"GridViewChildCard"},r().createElement(g.Z,{name:z.DisplayName,count:z.Total,id:"PPMSSCreationWorkOrderPopUpTableSchema",showSearch:e.showSearch,type:"Schema",chipdata:i,showview:W,viewcomponent:W&&r().createElement(M.default,{ExpandDetailValue:!0,l4viewonly:W,data:R,editopen:function(e){K(e),document.getElementById("PPMSSCreationWorkOrderPopUpTableSchema").style.width="0",document.getElementById("PPMSSCreationWorkOrderPopUpTableSchema").style.padding="0",document.getElementById("PPMSSCreationWorkOrder-ThemeSlide1").style.width="3.3%",document.getElementById("PPMSSCreationWorkOrder-ThemeSlide1").style.background="none",document.getElementById("PPMSSCreationWorkOrder-Floatcnt").style.width="0",document.getElementById("PPMSSCreationWorkOrder-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}}),tablecomponent:r().createElement(y.Z,{dynamic:!0,name:CardName,tableData:i,TableVisibleItem:[],TableBodyItem:[]}),data:t,sendparams:B,getChildData:(e,t)=>{j(k,e,Z),setCardName(t.Name)},float:!0})))}const f=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const a=(0,l.useRef)(null),[i,o]=(0,l.useState)([]),[d,s]=(0,l.useState)([]),[m,c]=(0,l.useState)(!1),[u,p]=(0,l.useState)([]),[C,P]=(0,l.useState)([]),[y,g]=(0,l.useState)([]),[h,f]=(0,l.useState)([]),[v,N]=(0,l.useState)([]),[T,k]=(0,l.useState)({id:"",type:""}),[b,w]=(0,l.useState)({}),[O,F]=(0,l.useState)(1),{cstate:A,cdispatch:x}=(0,I.ContextApi)(),[B,W]=(0,l.useState)({}),[L,R]=(0,l.useState)(""),[K,Z]=(0,l.useState)(""),[G,z]=(0,l.useState)({type:"PPMSSCreationWorkOrder",params:{}}),[_,q]=(0,l.useState)(0),V=r().useContext(I.PPMSSCreationWorkOrderContext),[H,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)({});function J(e){$(e)}(0,l.useEffect)((()=>{c(!1)}),[]),(0,l.useEffect)((()=>{e.refresh&&ee(G.params,"PPMSSCreationWorkOrderIDPK")}),[e.refresh]),(0,l.useEffect)((()=>{ee(e.json,"PPMSSCreationWorkOrderIDPK",""),w(e.json),document.getElementById("PPMSSCreationWorkOrderGridViewCard").style.width="100%"}),[e.json]),(0,l.useImperativeHandle)(t,(()=>({countRefresh:e=>{ee(e,"PPMSSCreationWorkOrderIDPK")}})));const ee=(t,a,l)=>{l&&R(l),s([]),V.loading(!0);let r=D.v.Api+"FP521S12/",n={data:{p1:t&&t.PPMSSCreationWorkOrderIDPK?t.PPMSSCreationWorkOrderIDPK:null,p2:t&&t.PPMSSCreationAssetCode?t.PPMSSCreationAssetCode:null,p3:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p4:t&&t.SSCreWoDateTime?t.SSCreWoDateTime:null,p5:t&&t.SSCreWoDateTimeType?t.SSCreWoDateTimeType:null,p6:t&&t.SSCreWoDateTimeBetween?t.SSCreWoDateTimeBetween:null,p7:t&&t.SSCreGeneratedTtm?t.SSCreGeneratedTtm:null,p8:t&&t.SSCreActualDate?t.SSCreActualDate:null,p9:t&&t.SSCreActualDateType?t.SSCreActualDateType:null,p10:t&&t.SSCreActualDateBetween?t.SSCreActualDateBetween:null,p11:t&&t.SSCreWoCompletedDate?t.SSCreWoCompletedDate:null,p12:t&&t.SSCreWoCompletedDateType?t.SSCreWoCompletedDateType:null,p13:t&&t.SSCreWoCompletedDateBetween?t.SSCreWoCompletedDateBetween:null,p14:t&&t.SSCreParentCreationKey?t.SSCreParentCreationKey:null,p15:t&&t.SSCreSLAHours?t.SSCreSLAHours:null,p16:t&&t.SSCreMaintenanceHours?t.SSCreMaintenanceHours:null,p17:null,p18:null,p19:t&&t.SSCreWithDrawEmpKey?t.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:t&&t.SSCreReschduleEmpKey?t.SSCreReschduleEmpKey:null,p23:null,p24:null,p25:t&&t.SSCreReworkEmpKey?t.SSCreReworkEmpKey:null,p26:t&&t.SSCrePPMLattitude?t.SSCrePPMLattitude:null,p27:t&&t.SSCrePPMLongitude?t.SSCrePPMLongitude:null,p28:null,p29:t&&t.SSCreXCreationAssetKey?t.SSCreXCreationAssetKey:null,p30:t&&t.SSCreXWorkOrder?t.SSCreXWorkOrder:null,p31:t&&t.SSCreXWoDate?t.SSCreXWoDate:null,p32:t&&t.SSCreXWoDateType?t.SSCreXWoDateType:null,p33:t&&t.SSCreXWoDateBetween?t.SSCreXWoDateBetween:null,p34:t&&t.SSCreChargeLedgerKey?t.SSCreChargeLedgerKey:null,p35:t&&t.SSCreCostLedgerKey?t.SSCreCostLedgerKey:null,p36:t&&t.HierarchyDetailsKey?t.HierarchyDetailsKey:null,p37:t&&t.SSTechStartDateTime?t.SSTechStartDateTime:null,p38:t&&t.SSTechStartDateTimeType?t.SSTechStartDateTimeType:null,p39:t&&t.SSTechStartDateTimeBetween?t.SSTechStartDateTimeBetween:null,p40:t&&t.SSTechEndDateTime?t.SSTechEndDateTime:null,p41:t&&t.SSTechEndDateTimeType?t.SSTechEndDateTimeType:null,p42:t&&t.SSTechEndDateTimeBetween?t.SSTechEndDateTimeBetween:null,p43:t&&t.SSTechName?t.SSTechName:null,p44:t&&t.SSTechKeys?t.SSTechKeys:null,p45:null,p46:null,p47:t&&t.ContractID?t.ContractID:null,p48:t&&t.LocalityID?t.LocalityID:null,p49:t&&t.BuildingID?t.BuildingID:null,p50:t&&t.FloorID?t.FloorID:null,p51:t&&t.SpotID?t.SpotID:null,p52:t&&t.DivisionID?t.DivisionID:null,p53:t&&t.DisciplineID?t.DisciplineID:null,p54:t&&t.FrequencyID?t.FrequencyID:null,p55:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p56:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p57:t&&t.PPMStageID?t.PPMStageID:null,p58:e.Dialogview?"1":null,p59:null,p60:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p61:t&&t.CreatedTtm?t.CreatedTtm:null,p62:t&&t.CreatedTtmType?t.CreatedTtmType:null,p63:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p64:null,p65:t&&t.ContractGroupID?t.ContractGroupID:null,p66:t&&t.ContractGroupCode?t.ContractGroupCode:null,p67:t&&t.ContractGroupName?t.ContractGroupName:null,p68:t&&t.TaxID?t.TaxID:null,p69:t&&t.TaxCode?t.TaxCode:null,p70:t&&t.TaxName?t.TaxName:null,p71:t&&t.TaxValue?t.TaxValue:null,p72:t&&t.CustomerID?t.CustomerID:null,p73:t&&t.CustomerCode?t.CustomerCode:null,p74:t&&t.CustomerName?t.CustomerName:null,p75:t&&t.ContractTypeID?t.ContractTypeID:null,p76:t&&t.ContractTypCode?t.ContractTypCode:null,p77:t&&t.ContractTypeName?t.ContractTypeName:null,p78:t&&t.ContractCategID?t.ContractCategID:null,p79:t&&t.ContractCategCode?t.ContractCategCode:null,p80:t&&t.ContractCategName?t.ContractCategName:null,p81:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p82:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p83:t&&t.ContractCode?t.ContractCode:null,p84:t&&t.ContractName?t.ContractName:null,p85:t&&t.LocalityGroupID?t.LocalityGroupID:null,p86:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p87:t&&t.LocalityGroupName?t.LocalityGroupName:null,p88:t&&t.CityID?t.CityID:null,p89:t&&t.CityCode?t.CityCode:null,p90:t&&t.CityName?t.CityName:null,p91:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p92:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p93:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p94:t&&t.LocalityCode?t.LocalityCode:null,p95:t&&t.LocalityName?t.LocalityName:null,p96:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p97:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p98:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p99:t&&t.BuildingCode?t.BuildingCode:null,p100:t&&t.BuildingName?t.BuildingName:null,p101:t&&t.FloorCode?t.FloorCode:null,p102:t&&t.FloorName?t.FloorName:null,p103:t&&t.SpotTypeID?t.SpotTypeID:null,p104:t&&t.SpotTypeCode?t.SpotTypeCode:null,p105:t&&t.SpotTypeName?t.SpotTypeName:null,p106:t&&t.AssWingID?t.AssWingID:null,p107:t&&t.AssWingCode?t.AssWingCode:null,p108:t&&t.AssWingName?t.AssWingName:null,p109:t&&t.SpotCode?t.SpotCode:null,p110:t&&t.SpotName?t.SpotName:null,p111:t&&t.DivisionCode?t.DivisionCode:null,p112:t&&t.DivisionName?t.DivisionName:null,p113:t&&t.DisciplineCode?t.DisciplineCode:null,p114:t&&t.DisciplineName?t.DisciplineName:null,p115:t&&t.FrequencyCode?t.FrequencyCode:null,p116:t&&t.FrequencyName?t.FrequencyName:null,p117:t&&t.PPMStageName?t.PPMStageName:null,p118:t&&t.StageSeqNo?t.StageSeqNo:null,p119:1,p120:10,p121:a,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};(0,S.Z)(r,n,A.token[0]).then((t=>{if(V.loading(!1),t.Output.data){let l=t.Output.data;if("PPMSSCreationWorkOrderIDPK"==a){o(l);let t=l.Child.filter((e=>"TotalWorkorder"==e.DisplayName)).map((e=>e.Total));e.showViewCount(t),c(!1)}else s(l),c(!0);z({type:a,params:n.data})}}))};return r().createElement("div",{id:"PPMSSCreationWorkOrderGridViewCard"},r().createElement("div",{className:"GridViewChildCard"},r().createElement(E.Z,{float:!0,name:L.DisplayName,count:L.Total,hideTitle:!0,id:"PPMSSCreationWorkOrderPopUpTableShow",showSearch:e.showSearch,type:"Show",chipdata:d,refresh:e=>V.refresh(e),showview:H,viewcomponent:H&&r().createElement(M.default,{ExpandDetailValue:!0,l4viewonly:H,data:Q,editopen:J}),tablecomponent:r().createElement(U,{ref:a,ApiType:"FP521S12",ApiParamType:G,IsSub:!1,viewtype:"viewonly",type:"show",data:d,searchParams:G.params,editdata:(e,t)=>{J(e)},Cardtype:Y,CardName:K}),data:i,sendparams:W,getChildData:(e,t)=>{R({DisplayName:e.DisplayName,Total:e.Total}),a.current.searchData(e,b,t),R(e),Z(e?e.DisplayName?.replace(/([A-Z])/g," $1").trim():"")}})))}));var v=a(43031),N=a(110),T=a(88995),k=a(5109),b=a(868),w=a(39327),O=(a(3212),a(24038)),F=a(79352),A=a(51209),x=a(8981),B=a(86893),W=a(53854),L=a(37106),R=a(5434),K=a(93521),Z=(a(79117),a(71168)),G=a.n(Z),z=a(65107),_=a(94986),q=a(15999),V=(a(11557),a(25108));window.clickFilter="";const H=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),y=(0,l.useRef)(null),g=(0,l.useRef)(null),M=((0,l.useRef)(null),(0,l.useRef)(null)),[E]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[Z]=(0,l.useState)("521"),[H,U]=(0,l.useState)(!1),[j,Y]=(0,l.useState)(!1),[X,Q]=(0,l.useState)(0),[$,J]=(0,l.useState)(0),[ee,te]=(0,l.useState)(0),[ae,le]=(0,l.useState)({current:1,pageSize:100}),[re,ne]=(0,l.useState)(""),[ie,oe]=(0,l.useState)([]),[de,se]=(0,l.useState)({val:"",column:""}),[me,Se]=(0,l.useState)([]),[ce,ue]=(0,l.useState)(!1),[pe,Ce]=(0,l.useState)(""),[Pe,ye]=(0,l.useState)(""),[De,ge]=(0,l.useState)(!1),[Ie,Me]=(0,l.useState)(!1),[Ee,he]=(0,l.useState)([]),[fe,ve]=(0,l.useState)([]),[Ne,Te]=(0,l.useState)([]),[ke,be]=(0,l.useState)(!1),[we,Oe]=(0,l.useState)({children:[{name:"PPMSSCreationWorkOrder",children:[]}]}),[Fe,Ae]=(0,l.useState)(!0);let xe={PPMSSCreationWorkOrderIDPK:"",PPMSSCreationAssetCode:"",SSCreWorkOrder:"",SSCreWoDateTime:"",SSCreWoDateTimeType:"",SSCreWoDateTimeBetween:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreActualDateType:"",SSCreActualDateBetween:"",SSCreWoCompletedDate:"",SSCreWoCompletedDateType:"",SSCreWoCompletedDateBetween:"",SSCreParentCreationKey:"",SSCreSLAHours:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:"",SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:"",SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:"",SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:"",SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreXWoDateType:"",SSCreXWoDateBetween:"",SSCreChargeLedgerKey:"",SSCreCostLedgerKey:"",HierarchyDetailsKey:"",SSTechStartDateTime:"",SSTechStartDateTimeType:"",SSTechStartDateTimeBetween:"",SSTechEndDateTime:"",SSTechEndDateTimeType:"",SSTechEndDateTimeBetween:"",SSTechName:"",SSTechKeys:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",FloorCode:"",FloorName:"",SpotTypeID:"",SpotTypeCode:"",SpotTypeName:"",AssWingID:"",AssWingCode:"",AssWingName:"",SpotCode:"",SpotName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PPMStageName:"",StageSeqNo:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Be,We]=(0,l.useState)(xe),[Le,Re]=(0,l.useState)(xe),[Ke,Ze]=(0,l.useState)(xe),[Ge,ze]=(0,l.useState)(xe),[_e,qe]=(0,l.useState)("asc"),[Ve,He]=(0,l.useState)(""),[Ue,je]=(0,l.useState)(!1),[Ye,Xe]=(0,l.useState)(!0),[Qe,$e]=(0,l.useState)(!1),[Je,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)({SSCreWorkOrder:"",SSCreWoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",SSCreSLAHours:"",PPMStageName:"",PPMSSCreationAssetCode:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreWoCompletedDate:"",SSCreParentCreationKey:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:"",SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:"",SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:"",SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:"",SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreChargeLedgerKey:"",SSTechStartDateTime:"",SSTechEndDateTime:"",SSCreCostLedgerKey:"",SSTechName:"",SSTechKeys:"",HierarchyDetailsKey:"",FlowDisplayName:"",FixonBusinessFlowName:""}),lt=(0,l.useContext)(e.context?e.context:I.PPMSSCreationWorkOrderContext),{cstate:rt,cdispatch:nt}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[it,ot]=(0,l.useState)(!1),[dt,st]=(0,l.useState)([]),[mt,St]=(0,l.useState)(0),[ct,ut]=(0,l.useState)(0),[pt,Ct]=(0,l.useState)({current:1,pageSize:10}),[Pt,yt]=(0,l.useState)([]),[Dt,gt]=(0,l.useState)([]),[It,Mt]=(0,l.useState)(!1),[Et]=(0,l.useState)(localStorage.getItem("Language")),[ht]=(0,l.useState)(localStorage.getItem("Language")),[ft,vt]=(0,l.useState)(!1),[Nt,Tt]=G()("521"),[kt,bt]=(0,l.useState)(0);let wt={SSCreWorkOrder:"",SSCreWoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",SSCreSLAHours:"",PPMStageName:"",PPMSSCreationAssetCode:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreWoCompletedDate:"",SSCreParentCreationKey:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:"",SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:"",SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:"",SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:"",SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreChargeLedgerKey:"",SSTechStartDateTime:"",SSTechEndDateTime:"",SSCreCostLedgerKey:"",SSTechName:"",SSTechKeys:"",HierarchyDetailsKey:"",FlowDisplayName:"",FixonBusinessFlowName:""};const Ot=[{columns:Pt,data:re}];let Ft=(0,x.Z)();const At=e=>Ft?.[e]?Ft[e]:e,xt=e=>rt.language?.[e]?rt.language[e]:e;(0,l.useEffect)((()=>{rt.token.length>0&&Bt(ae,pe,"PPMSSCreationWorkOrderID")}),[rt.token]),(0,l.useEffect)((()=>{Zt(Nt)}),[Nt]),(0,l.useEffect)((()=>{Ie||ke||Fe?Ie?Re(pe):ke?Ze(pe):Fe&&ze(pe):(We(pe),rt.token.length>0&&Bt({current:1,pageSize:100},pe,"PPMSSCreationWorkOrderID"))}),[pe]),(0,l.useEffect)((()=>{!1===e.cardview&&et(e.cardview),e.Dialogview&&Y(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Rt(e.searchsafaritext,{current:ae.current,pageSize:ae.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Rt(e,{current:1,pageSize:100})},tableRefresh:()=>{Bt(ae,pe,"PPMSSCreationWorkOrderID")}})));const Bt=(e,t,a,l,r)=>{lt.loading(!0);let n=D.v.Api+"FP521S3/",i={data:{p1:l||(t&&t.PPMSSCreationWorkOrderIDPK?t.PPMSSCreationWorkOrderIDPK:null),p2:t&&t.PPMSSCreationAssetCode?t.PPMSSCreationAssetCode:null,p3:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p4:t&&t.SSCreWoDateTime?t.SSCreWoDateTime:null,p5:t&&t.SSCreWoDateTimeType?t.SSCreWoDateTimeType:null,p6:t&&t.SSCreWoDateTimeBetween?t.SSCreWoDateTimeBetween:null,p7:t&&t.SSCreGeneratedTtm?t.SSCreGeneratedTtm:null,p8:t&&t.SSCreActualDate?t.SSCreActualDate:null,p9:t&&t.SSCreActualDateType?t.SSCreActualDateType:null,p10:t&&t.SSCreActualDateBetween?t.SSCreActualDateBetween:null,p11:t&&t.SSCreWoCompletedDate?t.SSCreWoCompletedDate:null,p12:t&&t.SSCreWoCompletedDateType?t.SSCreWoCompletedDateType:null,p13:t&&t.SSCreWoCompletedDateBetween?t.SSCreWoCompletedDateBetween:null,p14:t&&t.SSCreParentCreationKey?t.SSCreParentCreationKey:null,p15:t&&t.SSCreSLAHours?t.SSCreSLAHours:null,p16:t&&t.SSCreMaintenanceHours?t.SSCreMaintenanceHours:null,p17:null,p18:null,p19:t&&t.SSCreWithDrawEmpKey?t.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:t&&t.SSCreReschduleEmpKey?t.SSCreReschduleEmpKey:null,p23:null,p24:null,p25:t&&t.SSCreReworkEmpKey?t.SSCreReworkEmpKey:null,p26:t&&t.SSCrePPMLattitude?t.SSCrePPMLattitude:null,p27:t&&t.SSCrePPMLongitude?t.SSCrePPMLongitude:null,p28:null,p29:t&&t.SSCreXCreationAssetKey?t.SSCreXCreationAssetKey:null,p30:t&&t.SSCreXWorkOrder?t.SSCreXWorkOrder:null,p31:t&&t.SSCreXWoDate?t.SSCreXWoDate:null,p32:t&&t.SSCreXWoDateType?t.SSCreXWoDateType:null,p33:t&&t.SSCreXWoDateBetween?t.SSCreXWoDateBetween:null,p34:t&&t.SSCreChargeLedgerKey?t.SSCreChargeLedgerKey:null,p35:t&&t.SSCreCostLedgerKey?t.SSCreCostLedgerKey:null,p36:t&&t.HierarchyDetailsKey?t.HierarchyDetailsKey:null,p37:t&&t.SSTechStartDateTime?t.SSTechStartDateTime:null,p38:t&&t.SSTechStartDateTimeType?t.SSTechStartDateTimeType:null,p39:t&&t.SSTechStartDateTimeBetween?t.SSTechStartDateTimeBetween:null,p40:t&&t.SSTechEndDateTime?t.SSTechEndDateTime:null,p41:t&&t.SSTechEndDateTimeType?t.SSTechEndDateTimeType:null,p42:t&&t.SSTechEndDateTimeBetween?t.SSTechEndDateTimeBetween:null,p43:t&&t.SSTechName?t.SSTechName:null,p44:t&&t.SSTechKeys?t.SSTechKeys:null,p45:"DraftPPMSSCreationWorkOrderID"==a?"1":"0",p46:null,p47:t&&t.ContractID?t.ContractID:null,p48:t&&t.LocalityID?t.LocalityID:null,p49:t&&t.BuildingID?t.BuildingID:null,p50:t&&t.FloorID?t.FloorID:null,p51:t&&t.SpotID?t.SpotID:null,p52:t&&t.DivisionID?t.DivisionID:null,p53:t&&t.DisciplineID?t.DisciplineID:null,p54:t&&t.FrequencyID?t.FrequencyID:null,p55:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p56:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p57:t&&t.PPMStageID?t.PPMStageID:null,p58:t&&t.IsActive,p59:null,p60:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p61:t&&t.CreatedTtm?t.CreatedTtm:null,p62:t&&t.CreatedTtmType?t.CreatedTtmType:null,p63:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p64:null,p65:t&&t.ContractGroupID?t.ContractGroupID:null,p66:t&&t.ContractGroupCode?t.ContractGroupCode:null,p67:t&&t.ContractGroupName?t.ContractGroupName:null,p68:t&&t.TaxID?t.TaxID:null,p69:t&&t.TaxCode?t.TaxCode:null,p70:t&&t.TaxName?t.TaxName:null,p71:t&&t.TaxValue?t.TaxValue:null,p72:t&&t.CustomerID?t.CustomerID:null,p73:t&&t.CustomerCode?t.CustomerCode:null,p74:t&&t.CustomerName?t.CustomerName:null,p75:t&&t.ContractTypeID?t.ContractTypeID:null,p76:t&&t.ContractTypCode?t.ContractTypCode:null,p77:t&&t.ContractTypeName?t.ContractTypeName:null,p78:t&&t.ContractCategID?t.ContractCategID:null,p79:t&&t.ContractCategCode?t.ContractCategCode:null,p80:t&&t.ContractCategName?t.ContractCategName:null,p81:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p82:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p83:t&&t.ContractCode?t.ContractCode:null,p84:t&&t.ContractName?t.ContractName:null,p85:t&&t.LocalityGroupID?t.LocalityGroupID:null,p86:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p87:t&&t.LocalityGroupName?t.LocalityGroupName:null,p88:t&&t.CityID?t.CityID:null,p89:t&&t.CityCode?t.CityCode:null,p90:t&&t.CityName?t.CityName:null,p91:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p92:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p93:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p94:t&&t.LocalityCode?t.LocalityCode:null,p95:t&&t.LocalityName?t.LocalityName:null,p96:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p97:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p98:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p99:t&&t.BuildingCode?t.BuildingCode:null,p100:t&&t.BuildingName?t.BuildingName:null,p101:t&&t.FloorCode?t.FloorCode:null,p102:t&&t.FloorName?t.FloorName:null,p103:t&&t.SpotTypeID?t.SpotTypeID:null,p104:t&&t.SpotTypeCode?t.SpotTypeCode:null,p105:t&&t.SpotTypeName?t.SpotTypeName:null,p106:t&&t.AssWingID?t.AssWingID:null,p107:t&&t.AssWingCode?t.AssWingCode:null,p108:t&&t.AssWingName?t.AssWingName:null,p109:t&&t.SpotCode?t.SpotCode:null,p110:t&&t.SpotName?t.SpotName:null,p111:t&&t.DivisionCode?t.DivisionCode:null,p112:t&&t.DivisionName?t.DivisionName:null,p113:t&&t.DisciplineCode?t.DisciplineCode:null,p114:t&&t.DisciplineName?t.DisciplineName:null,p115:t&&t.FrequencyCode?t.FrequencyCode:null,p116:t&&t.FrequencyName?t.FrequencyName:null,p117:t&&t.PPMStageName?t.PPMStageName:null,p118:t&&t.StageSeqNo?t.StageSeqNo:null,p119:l?1:e.current,p120:e.pageSize,p121:a,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};(0,S.Z)(n,i,rt.token[0]).then((l=>{if("200"==l.Output.status.code)if(l.Output.data.length>0){if(l.Output.data){let t=0;l.Output.data.length>0?(t=parseFloat(l.Output.data[0].TotalCount,10)/10,J(l.Output.data[0].TotalCount),nt({type:"count",payload:l.Output.data[0].TotalCount}),te(l.Output.data[0].DraftCnt)):(t=0,J(0),nt({type:"count",payload:0}),te(0)),10==e.pageSize?Q(Math.ceil(t)):20==e.pageSize?Q(Math.ceil(t/2)):50==e.pageSize?Q(Math.ceil(t/5)):100==e.pageSize&&Q(Math.ceil(t/10)),Se(l.Output.data),lt.loading(!1)}"DraftPPMSSCreationWorkOrderID"===a?(je(!0),ge(!1)):je(!1)}else"DraftPPMSSCreationWorkOrderID"===a?(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),je(!1),lt.loading(!1)):(je(!1),Se([]),le({current:1,pageSize:100}),Q(0),J(0),lt.loading(!1),Object.values(t).some((e=>e))&&(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),document.getElementById("PPMSSCreationWorkOrder-MainTable").style.display="block"));else lt.alert({open:!0,color:"warning",message:[l.Output.status.message]}),lt.loading(!1)}))},Wt=()=>{ce?(document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.display="none",ue(!1),Ie?(document.getElementById("PPMSSCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"):Je?ke?(document.getElementById("PPMSSCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSCreationWorkOrdercoldiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrdercoldiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.width="25%",document.getElementById("PPMSSCreationWorkOrderTabDiv").style.width="75%",document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.display="block",ue(!0),document.getElementById("PPMSSCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!ce},Lt=()=>{De?(document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.display="none",document.getElementById("PPMSSCreationWorkOrdercoldiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrdercoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.width="25%",document.getElementById("PPMSSCreationWorkOrderTabDiv").style.width="75%",document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.display="block",document.getElementById("PPMSSCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSCreationWorkOrdercoldiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrdercoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),ue(!1)};function Rt(e,t){lt.loading(!0);const a=D.v.Api+"FP521S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Ue?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,S.Z)(a,l,rt.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let r=0;e.Output.data.length>0?(r=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),te(e.Output.data[0].DraftCnt)):(r=0,J(0),te(0)),10==t.pageSize?Q(Math.ceil(r)):20==t.pageSize?Q(Math.ceil(r/2)):50==t.pageSize?Q(Math.ceil(r/5)):100==t.pageSize&&Q(Math.ceil(r/10)),Se(e.Output.data);for(var a=document.querySelectorAll("#PPMSSCreationWorkOrderTable td"),l=0;l<a.length;++l)a.forEach((function(e,t){e.textContent.toLowerCase().includes(Pe.toLowerCase())&&Pe.length>0&&(e.style.color="#ffa502")}));lt.loading(!1)}else Se([]),le({current:1,pageSize:100}),Q(0),J(0),te(0),lt.loading(!1),lt.alert({open:!0,color:"warning",message:["There is no Record Found"]});else lt.alert({open:!0,color:"warning",message:[e.Output.status.message]}),lt.loading(!1)}))}function Kt(e){"Table"==e?(document.getElementById("PPMSSCreationWorkOrder-TabView").classList.add("ViewBtnAct"),document.getElementById("PPMSSCreationWorkOrder-ShowView").classList.remove("ViewBtnAct"),Me(!1),be(!1),Ae(!1)):"Grid"==e?(document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.display="none",document.getElementById("PPMSSCreationWorkOrderfildiv").style.width="35px",document.getElementById("PPMSSCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="15%",Me(!0),be(!1),Ae(!1),ue(!1),ge(!1),et(!0),document.querySelector('[data-bid="521List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Grid"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="521Tile"]').classList.remove("buttonGrpActive")):"Bubble"==e?(document.getElementById("PPMSSCreationWorkOrder-TabView").classList.remove("ViewBtnAct"),document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderFilterDiv").style.display="none",be(!0),Me(!1),Ae(!1),ue(!1),ge(!1),et(!0)):"Share"==e?(document.getElementById("PPMSSCreationWorkOrder-TabView").classList.remove("ViewBtnAct"),document.querySelector('[data-bid="521List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Grid"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Share"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="521Tile"]').classList.remove("buttonGrpActive"),be(!1),Me(!1),Ae(!0),ue(!1),ge(!1),et(!0)):"List"==e?(Me(!1),Ae(!1),et(!0),Mt(!1),document.querySelector('[data-bid="521List"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="521Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Tile"]').classList.remove("buttonGrpActive"),Bt(ae,pe,"PPMSSCreationWorkOrderID")):"Card"==e?(et(!1),Mt(!1),document.querySelector('[data-bid="521List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Card"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="521Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Tile"]').classList.remove("buttonGrpActive")):"Tile"==e?(Mt(!0),et(!1),document.querySelector('[data-bid="521List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Tile"]').classList.add("buttonGrpActive")):"Show"==e&&(document.querySelector('[data-bid="521List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Tile"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="521Show"]').classList.add("buttonGrpActive"),be(!1),Me(!1),Ae(!0),et(!0),ce&&Lt())}function Zt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,fieldname:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]}),"IsShow"==e.FieldName&&nt({type:"IsShow",payload:!0})})),nt({type:"language",payload:Object.assign({},...r)}),at(a.reduce(((e,t)=>(e[t]="",e)),{})),he(e),ve(t),Te(a),yt(l),gt(a)}function Gt(e,t){lt.edit(e),ue(!1),document.getElementById("PPMSSCreationWorkOrder-Detail").style.width="64%",document.getElementById("PPMSSCreationWorkOrder-Detail").style.display="block",document.getElementById("PPMSSCreationWorkOrder-Table").style.width="35%",document.getElementById("PPMSSCreationWorkOrder-TabView").classList.add("ViewButtonAct"),document.getElementById("PPMSSCreationWorkOrder-GridView").classList.remove("ViewButtonAct"),document.getElementById("PPMSSCreationWorkOrder-BubbleView").classList.remove("ViewButtonAct"),Me(!1),be(!1),Ae(!1);let a={SSCreWorkOrder:"",SSCreWoDateTime:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",SSCreSLAHours:"",PPMStageID:"",PPMSSCreationAssetCode:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreWoCompletedDate:"",SSCreParentCreationKey:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:"",SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:"",SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:"",SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:"",SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreChargeLedgerKey:"",SSTechStartDateTime:"",SSTechEndDateTime:"",SSCreCostLedgerKey:"",SSTechName:"",SSTechKeys:"",HierarchyDetailsKey:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:""};We(a),Bt({current:1,pageSize:100},a,"PPMSSCreationWorkOrderID")}function zt(e){lt.loading(!0);let t=D.v.Api+"FP521S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,S.Z)(t,a,rt.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,ut(t.Output.data[0].TotalCount)):(a=0,ut(0)),10==e.pageSize?St(Math.ceil(a)):20==e.pageSize?St(Math.ceil(a/2)):50==e.pageSize?St(Math.ceil(a/5)):100==e.pageSize&&St(Math.ceil(a/10)),st(t.Output.data),lt.loading(!1)}else lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),lt.loading(!1)}))}return(0,l.useEffect)((()=>{$e(e.ExpandTableValue)}),[e.ExpandTableValue]),r().createElement("div",null,r().createElement(i.Z,{expanded:Ye,onChange:()=>()=>{Xe(Qe)}},r().createElement(d.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100 L3Header"},r().createElement("div",null,r().createElement("div",{className:"displayFlex"},Ue?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("div",{id:"fld521L4TCKeyboardBackspaceRounded",onClick:()=>{Bt(ae,xe,"PPMSSCreationWorkOrderID"),je(!1)}},r().createElement(b.ZP,{title:"List",placement:"top"},r().createElement(R.aQX,{className:"BackBtnIcon"}))),r().createElement("div",{id:"fld521L4TCDraftP",onClick:()=>Bt(ae,xe,"DraftPPMSSCreationWorkOrderID")},r().createElement(b.ZP,{title:"Draft",placement:"top"},r().createElement("p",{className:"DraftP"},"Drafts(",$,")")))):r().createElement("div",{className:"ListHeader displayFlex"},e.ExpandTableValue?Ye?r().createElement(u.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!1)}}):r().createElement(p.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!0)}}):null,r().createElement("p",{className:"ListP",title:"10.0.0.46-6:37:15 PM-31-5[521]",onClick:()=>e.ExpandTableValue&&Xe(!Ye)},`${xt("521")} (${Fe?kt:$})`)))),r().createElement("div",null,Ie||ke||Fe||Ue?null:r().createElement("div",{className:"displayFlex"},r().createElement("div",{id:"fld521L4TCSearchBar",className:"searchbar",style:{marginRight:"2%"}},r().createElement(O.Z,{className:"search_input",type:"text",id:"PPMSSCreationWorkOrdergridsearch",placeholder:"Search",value:Pe,onChange:e=>{if(ye(e),"0"==e.length)return Bt(ae,pe,Ue?"DraftPPMSSCreationWorkOrderID":"PPMSSCreationWorkOrderID",Ue&&"DraftPage"),!1;Rt(e,{current:1,pageSize:100})}}),r().createElement("div",{className:"search_icon"},Pe?r().createElement("div",{id:"fld521L4TCInputCloseIcon",onClick:()=>{ye(""),Bt(ae,pe,Ue?"DraftPPMSSCreationWorkOrderID":"PPMSSCreationWorkOrderID",Ue&&"DraftPage")}},r().createElement(m.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld521L4TCInputSearchIcon",onClick:()=>{ye(""),tableRefresh()}},r().createElement(T.Z,{className:"InputSearchIcon"})))))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"PPMSSCreationWorkOrder-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},!Ue&&r().createElement("div",{frmctrlid:"fld521L4TCFilterDataIsDraft",id:"PPMSSCreationWorkOrderfildiv",className:"buttoncard",onClick:()=>{Wt()}},r().createElement(b.ZP,{title:At("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(P.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},At("Filter Data"))),r().createElement(C.Z,{formctrlidprint:"fld521L4TCExportPrint",formctrlidexport:"fld521L4TCExportTable",formctrlidrefresh:"fld521L4TCExportRefresh",title:"521",data:ie,exportData:Ot,Items:Dt,columnIndex:Pt,TableVisibleItem:fe,userGridViewFormID:Z,TableTotalCount:$,triggerApi:e=>{((e,t,l,r,n)=>{if(0===$)return lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;wt[t]=e,lt.loading(!0);let i=D.v.Api+"FP521S3/",o={data:{p1:e&&e.PPMSSCreationWorkOrderIDPK?e.PPMSSCreationWorkOrderIDPK:null,p2:e&&e.PPMSSCreationAssetCode?e.PPMSSCreationAssetCode:null,p3:e&&e.SSCreWorkOrder?e.SSCreWorkOrder:null,p4:e&&e.SSCreWoDateTime?e.SSCreWoDateTime:null,p5:e&&e.SSCreWoDateTimeType?e.SSCreWoDateTimeType:null,p6:e&&e.SSCreWoDateTimeBetween?e.SSCreWoDateTimeBetween:null,p7:e&&e.SSCreGeneratedTtm?e.SSCreGeneratedTtm:null,p8:e&&e.SSCreActualDate?e.SSCreActualDate:null,p9:e&&e.SSCreActualDateType?e.SSCreActualDateType:null,p10:e&&e.SSCreActualDateBetween?e.SSCreActualDateBetween:null,p11:e&&e.SSCreWoCompletedDate?e.SSCreWoCompletedDate:null,p12:e&&e.SSCreWoCompletedDateType?e.SSCreWoCompletedDateType:null,p13:e&&e.SSCreWoCompletedDateBetween?e.SSCreWoCompletedDateBetween:null,p14:e&&e.SSCreParentCreationKey?e.SSCreParentCreationKey:null,p15:e&&e.SSCreSLAHours?e.SSCreSLAHours:null,p16:e&&e.SSCreMaintenanceHours?e.SSCreMaintenanceHours:null,p17:null,p18:null,p19:e&&e.SSCreWithDrawEmpKey?e.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:e&&e.SSCreReschduleEmpKey?e.SSCreReschduleEmpKey:null,p23:null,p24:null,p25:e&&e.SSCreReworkEmpKey?e.SSCreReworkEmpKey:null,p26:e&&e.SSCrePPMLattitude?e.SSCrePPMLattitude:null,p27:e&&e.SSCrePPMLongitude?e.SSCrePPMLongitude:null,p28:null,p29:e&&e.SSCreXCreationAssetKey?e.SSCreXCreationAssetKey:null,p30:e&&e.SSCreXWorkOrder?e.SSCreXWorkOrder:null,p31:e&&e.SSCreXWoDate?e.SSCreXWoDate:null,p32:e&&e.SSCreXWoDateType?e.SSCreXWoDateType:null,p33:e&&e.SSCreXWoDateBetween?e.SSCreXWoDateBetween:null,p34:e&&e.SSCreChargeLedgerKey?e.SSCreChargeLedgerKey:null,p35:e&&e.SSCreCostLedgerKey?e.SSCreCostLedgerKey:null,p36:e&&e.HierarchyDetailsKey?e.HierarchyDetailsKey:null,p37:e&&e.SSTechStartDateTime?e.SSTechStartDateTime:null,p38:e&&e.SSTechStartDateTimeType?e.SSTechStartDateTimeType:null,p39:e&&e.SSTechStartDateTimeBetween?e.SSTechStartDateTimeBetween:null,p40:e&&e.SSTechEndDateTime?e.SSTechEndDateTime:null,p41:e&&e.SSTechEndDateTimeType?e.SSTechEndDateTimeType:null,p42:e&&e.SSTechEndDateTimeBetween?e.SSTechEndDateTimeBetween:null,p43:e&&e.SSTechName?e.SSTechName:null,p44:e&&e.SSTechKeys?e.SSTechKeys:null,p45:Ue?"1":"0",p46:null,p47:e&&e.ContractID?e.ContractID:null,p48:e&&e.LocalityID?e.LocalityID:null,p49:e&&e.BuildingID?e.BuildingID:null,p50:e&&e.FloorID?e.FloorID:null,p51:e&&e.SpotID?e.SpotID:null,p52:e&&e.DivisionID?e.DivisionID:null,p53:e&&e.DisciplineID?e.DisciplineID:null,p54:e&&e.FrequencyID?e.FrequencyID:null,p55:e&&e.PPMBusinessFlowID?e.PPMBusinessFlowID:null,p56:e&&e.PPMFixonBusinessFlowID?e.PPMFixonBusinessFlowID:null,p57:e&&e.PPMStageID?e.PPMStageID:null,p58:e&&e.IsActive,p59:null,p60:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p61:e&&e.CreatedTtm?e.CreatedTtm:null,p62:e&&e.CreatedTtmType?e.CreatedTtmType:null,p63:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p64:null,p65:e&&e.ContractGroupID?e.ContractGroupID:null,p66:e&&e.ContractGroupCode?e.ContractGroupCode:null,p67:e&&e.ContractGroupName?e.ContractGroupName:null,p68:e&&e.TaxID?e.TaxID:null,p69:e&&e.TaxCode?e.TaxCode:null,p70:e&&e.TaxName?e.TaxName:null,p71:e&&e.TaxValue?e.TaxValue:null,p72:e&&e.CustomerID?e.CustomerID:null,p73:e&&e.CustomerCode?e.CustomerCode:null,p74:e&&e.CustomerName?e.CustomerName:null,p75:e&&e.ContractTypeID?e.ContractTypeID:null,p76:e&&e.ContractTypCode?e.ContractTypCode:null,p77:e&&e.ContractTypeName?e.ContractTypeName:null,p78:e&&e.ContractCategID?e.ContractCategID:null,p79:e&&e.ContractCategCode?e.ContractCategCode:null,p80:e&&e.ContractCategName?e.ContractCategName:null,p81:e&&e.ConPaymentTermsID?e.ConPaymentTermsID:null,p82:e&&e.ConPaymentTermsName?e.ConPaymentTermsName:null,p83:e&&e.ContractCode?e.ContractCode:null,p84:e&&e.ContractName?e.ContractName:null,p85:e&&e.LocalityGroupID?e.LocalityGroupID:null,p86:e&&e.LocalityGroupCode?e.LocalityGroupCode:null,p87:e&&e.LocalityGroupName?e.LocalityGroupName:null,p88:e&&e.CityID?e.CityID:null,p89:e&&e.CityCode?e.CityCode:null,p90:e&&e.CityName?e.CityName:null,p91:e&&e.AdminLocalityTypeID?e.AdminLocalityTypeID:null,p92:e&&e.AdminLocalityTypeCode?e.AdminLocalityTypeCode:null,p93:e&&e.AdminLocalityTypeName?e.AdminLocalityTypeName:null,p94:e&&e.LocalityCode?e.LocalityCode:null,p95:e&&e.LocalityName?e.LocalityName:null,p96:e&&e.AssBuildingTypeID?e.AssBuildingTypeID:null,p97:e&&e.AssBuildingTypeCode?e.AssBuildingTypeCode:null,p98:e&&e.AssBuildingTypeName?e.AssBuildingTypeName:null,p99:e&&e.BuildingCode?e.BuildingCode:null,p100:e&&e.BuildingName?e.BuildingName:null,p101:e&&e.FloorCode?e.FloorCode:null,p102:e&&e.FloorName?e.FloorName:null,p103:e&&e.SpotTypeID?e.SpotTypeID:null,p104:e&&e.SpotTypeCode?e.SpotTypeCode:null,p105:e&&e.SpotTypeName?e.SpotTypeName:null,p106:e&&e.AssWingID?e.AssWingID:null,p107:e&&e.AssWingCode?e.AssWingCode:null,p108:e&&e.AssWingName?e.AssWingName:null,p109:e&&e.SpotCode?e.SpotCode:null,p110:e&&e.SpotName?e.SpotName:null,p111:e&&e.DivisionCode?e.DivisionCode:null,p112:e&&e.DivisionName?e.DivisionName:null,p113:e&&e.DisciplineCode?e.DisciplineCode:null,p114:e&&e.DisciplineName?e.DisciplineName:null,p115:e&&e.FrequencyCode?e.FrequencyCode:null,p116:e&&e.FrequencyName?e.FrequencyName:null,p117:e&&e.PPMStageName?e.PPMStageName:null,p118:e&&e.StageSeqNo?e.StageSeqNo:null,p119:ae.current,p120:$,p121:Ue?"DraftPPMSSCreationWorkOrderID":"PPMSSCreationWorkOrderID",p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};lt.loading(!1),lt.alert({open:!0,color:"success",message:[`${xt(521)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,S.Z)(i,o,rt.token[0],n).then((e=>{(0,K.PDF_Excel_Generate)(e,lt,Dt,ne,a,n)}))})(pe,de.column,0,0,e)},Refresh:()=>{if(ye(""),Ce(pe),Fe)return V.log("test"),y.current.countRefresh(pe),!1;Bt({current:1,pageSize:10},pe,"PPMSSCreationWorkOrderID"),M.current&&M.current.clearItem(),le({current:1,pageSize:10})},disabledPrint:!rt.AccessRights.IsPrint,disabledExport:!rt.AccessRights.IsExport,ref:a}),!Ue&&r().createElement("div",{className:"buttoncard",onClick:()=>vt(!ft)},r().createElement("span",null,ft?r().createElement(b.ZP,{disableFocusListener:!0,title:"Less",placement:"top"},r().createElement("span",{id:"fld521L4TCLess"},r().createElement(W.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(b.ZP,{disableFocusListener:!0,title:"More",placement:"top"},r().createElement("span",{id:"fld521L4TCMore"},r().createElement(W.ilJ,{className:"tableFilterColumnIcon"}))))),!Ue&&ft?r().createElement("div",{className:"EntryHeaderMore"},Ie||ke||Fe||Ue?null:!Ue&&r().createElement("div",null,r().createElement("div",{frmctrlid:"fld521L4TCFilterDataIsAdd",id:"PPMSSCreationWorkOrdercoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Lt()}},r().createElement(b.ZP,{title:At("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(w.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},At("Manage Columns")))),!Ue&&H&&!Ie&&!Fe&&!j&&r().createElement("div",{frmctrlid:"fld521L4TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(b.ZP,{title:At("Migration"),placement:"top"},r().createElement("div",null,r().createElement(F.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},At("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&r().createElement("div",null,r().createElement("div",{frmctrlid:"fld521L4TCTableScrollData",id:"PPMSSCreationWorkOrdercoldiv",className:"buttoncard",onClick:()=>{it?ot(!1):(ot(!0),zt({current:1,pageSize:100}))}},r().createElement(b.ZP,{title:At("Table Scroll Data"),placement:"top"},r().createElement("div",null,r().createElement(q.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},At("Table Scroll Data")))),rt.AccessRights.IsAdd&&!Fe&&r().createElement("div",null,r().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:ee,showZero:!0},r().createElement("div",{id:"fld521L4TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{Bt({current:1,pageSize:100},xe,"DraftPPMSSCreationWorkOrderID"),je(!0),ge(!1),nt({type:"IsDraft",payload:!0}),document.getElementById("PPMSSCreationWorkOrderTabDiv").style.width="100%"}},r().createElement(b.ZP,{title:"Drafts",placement:"top"},r().createElement("div",null,r().createElement(L.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},At("Drafts")))))):""),!Ue&&!j&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},rt.IsShow?r().createElement("div",{className:"buttonGrpUnActive buttonGrpActive","data-bid":"521Show",id:"fld521L4TCShowView",onClick:()=>{Ae(!0),Kt("Show")}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.aCJ,null)),r().createElement("span",null,At("Show"))):"",r().createElement("div",{className:"buttonGrpUnActive","data-bid":"521List",id:"fld521L4TCListView",onClick:()=>{Kt("List")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(W.umT,null)),r().createElement("span",null,At("List"))),r().createElement("div",{className:"buttonGrpUnActive","data-bid":"521Card",id:"fld521L4TCCardView",onClick:()=>{Kt("Card")}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.aCJ,null)),r().createElement("span",null,At("Card"))),r().createElement("div",{className:"buttonGrpUnActive","data-bid":"521Tile",id:"fld521L4TCTileView",onClick:()=>{Kt("Tile")},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(R.f_H,null)),r().createElement("span",null,At("Tile"))))))),Ie||ke||Fe?null:it?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(v.Z,{count:mt,color:"primary",page:pt.current,onChange:(e,t)=>{Ct({current:t,pageSize:pt.pageSize}),St(t),zt({current:t,pageSize:pt.pageSize})}}),r().createElement("div",null,r().createElement(N.Z,{value:pt.pageSize,frmctrlid:"fld521L4TCSelectPagination",onChange:e=>{Ct({current:1,pageSize:e.target.value}),zt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page"},"/ per page Of (",ct,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(v.Z,{count:X,siblingCount:0,color:"primary",page:ae.current,onChange:(e,t)=>{le({current:t,pageSize:ae.pageSize}),Pe.length>0?Rt(Pe,{current:t,pageSize:ae.pageSize}):Bt({current:t,pageSize:ae.pageSize},pe,Ue?"DraftPPMSSCreationWorkOrderID":"PPMSSCreationWorkOrderID")}}),r().createElement("div",null,r().createElement(N.Z,{value:ae.pageSize,frmctrlid:"fld521L4TCSelectPagination",onChange:e=>{le({current:1,pageSize:e.target.value}),Pe.length>0?Rt(Pe,{current:1,pageSize:e.target.value}):Bt({current:1,pageSize:e.target.value},Be,Ue?"DraftPPMSSCreationWorkOrderID":"PPMSSCreationWorkOrderID")},className:"BootstrapInputStyle"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page"},"/ per page of (",$,") "))),r().createElement("div",{id:"PPMSSCreationWorkOrder-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},!Ue&&r().createElement("div",{id:"PPMSSCreationWorkOrderFilterDiv",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},r().createElement("div",{style:{display:ce?"block":"none"}},r().createElement(c.default,{ref:g,userGrid:Nt,CloseBtnClk:()=>Wt(),searchData:e=>Ce(e),formID:Z,data:()=>{},visibleData:()=>{},token:rt.token[0],alertmsg:(e,t)=>lt.alert({open:!0,color:e,message:[t]})})),De&&!Ie&&!ke&&r().createElement(k.Z,{frmctrlid:"fld521L4TCTableColumnOrder",loading:e=>lt.loading(e),AltMsg:(e,t)=>lt.alert({open:!0,color:t,message:[e]}),select:De,userID:E,userGridViewFormID:Z,saved:(e,t)=>{e&&Zt(t),Tt(t)},Token:rt.token[0]})),r().createElement("div",{id:"PPMSSCreationWorkOrderTabDiv",style:{width:"100%",position:"relative",height:"66vh"}},Je?r().createElement("div",null,Ie&&r().createElement(h,{onLoad:Ie,showSearch:ce,data:(e,t)=>{Gt(e)},json:Le}),Fe&&r().createElement(f,{ref:y,onload:Fe,showSearch:!1,showViewCount:e=>bt(e),data:(e,t)=>{Gt(e)},json:pe}),!Ie&&!Fe&&r().createElement("div",null,it?r().createElement(_.Z,{data:dt,expanded:()=>{},edit:lt.edit}):r().createElement(z.Z,{ref:M,frmctrlid:"tblcs_521_L4_",id:"PPMSSCreationWorkOrderTable",headerdata:fe,tablesearchparams:tt,searchvalue:e=>{let t={...pe,...e};at(e),Ce(t),le({current:1,pageSize:100}),Bt({current:1,pageSize:100},t,Ue?"DraftPPMSSCreationWorkOrderID":"PPMSSCreationWorkOrderID",Ue&&"DraftPage")},bodydata:me,ondrag:(e,t)=>{lt.edit(t,Ue,!0)},bodyitem:Ne,visibleitem:fe,isdraft:Ue,action:"none",tableID:Z,accessrights:rt.AccessRights,expanded:()=>{},edit:lt.edit,viewtoggle:()=>rt.viewtoggle,tf:xt,isexpanded:!j||Qe}))):r().createElement(A.Z,{frmctrlid:"fld521L4TCExpandedCardDual",data:me,id:"PPMSSCreationWorkOrder",title:"SSCreWorkOrder",cardTile:!!It,visibleitem:fe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{j?lt.select(e):("edit"==t?lt.edit(e,t):lt.edit(e,!1,!0),Qe&&(ue(!1),ge(!1)))}})))))))})),U=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),s=(0,l.useRef)(null),m=(0,l.useRef)(null),[c]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[u,p]=G()("521"),[P,y]=(0,l.useState)(!1),[g,M]=(0,l.useState)(0),[E,h]=(0,l.useState)(0),[f,T]=(0,l.useState)({current:1,pageSize:100}),[k,b]=(0,l.useState)(""),[w,O]=(0,l.useState)([]),[F,A]=(0,l.useState)({val:"",column:""}),[B,W]=(0,l.useState)([]),[L,R]=(0,l.useState)(!1),[Z,_]=(0,l.useState)(""),[q,V]=(0,l.useState)([]),[H,U]=(0,l.useState)([]),[j,Y]=(0,l.useState)([]),X=(0,l.useContext)(I.PPMSSCreationWorkOrderContext),{cstate:Q,cdispatch:$}=(0,I.ContextApi)();let J={PPMSSCreationWorkOrderIDPK:"",PPMSSCreationAssetCode:"",SSCreWorkOrder:"",SSCreWoDateTime:"",SSCreWoDateTimeType:"",SSCreWoDateTimeBetween:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreActualDateType:"",SSCreActualDateBetween:"",SSCreWoCompletedDate:"",SSCreWoCompletedDateType:"",SSCreWoCompletedDateBetween:"",SSCreParentCreationKey:"",SSCreSLAHours:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:"",SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:"",SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:"",SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:"",SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreXWoDateType:"",SSCreXWoDateBetween:"",SSCreChargeLedgerKey:"",SSCreCostLedgerKey:"",HierarchyDetailsKey:"",SSTechStartDateTime:"",SSTechStartDateTimeType:"",SSTechStartDateTimeBetween:"",SSTechEndDateTime:"",SSTechEndDateTimeType:"",SSTechEndDateTimeBetween:"",SSTechName:"",SSTechKeys:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",FloorCode:"",FloorName:"",SpotTypeID:"",SpotTypeCode:"",SpotTypeName:"",AssWingID:"",AssWingCode:"",AssWingName:"",SpotCode:"",SpotName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PPMStageName:"",StageSeqNo:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(!0),[de,se]=(0,l.useState)(0),[me,Se]=(0,l.useState)({SSCreWorkOrder:"",SSCreWoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",SSCreSLAHours:"",PPMStageName:"",PPMSSCreationAssetCode:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreWoCompletedDate:"",SSCreParentCreationKey:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:"",SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:"",SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:"",SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:"",SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreChargeLedgerKey:"",SSTechStartDateTime:"",SSTechEndDateTime:"",SSCreCostLedgerKey:"",SSTechName:"",SSTechKeys:"",HierarchyDetailsKey:"",FlowDisplayName:"",FixonBusinessFlowName:""}),[ce,ue]=(0,l.useState)([]),[pe,Ce]=(0,l.useState)([]),[Pe,ye]=(0,l.useState)([]),[De,ge]=(0,l.useState)(!1),[Ie,Me]=(0,l.useState)("");let Ee=(0,x.Z)();const he=[{columns:ce,data:k}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),$({type:"language",payload:Object.assign({},...r)}),Se(a.reduce(((e,t)=>(e[t]="",e)),{})),V(e),U(t),Y(a),ue(l),Ce(a)}(u)}),[u]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{fe()},viewrecord:e=>{B.map(((t,a)=>{t.PPMSSCreationWorkOrderIDPK==e&&$({type:"editData",payload:[B[a]]})}))},DialogTableProps:e=>{y(e)},searchData:(t,a,l)=>{X.loading(!0),s.current&&s.current.clearItem(),Me(l),T({current:1,pageSize:10}),J=e.ApiParamType.params,ve({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&y(e.Dialogview)}),[e.cardview,e.Dialogview]);const fe=()=>{Q.IsDraft?ve(f,J,"DraftPPMSSCreationWorkOrderID"):ve(f,J,"PPMSSCreationWorkOrderID")},ve=async(t,a,l,r)=>{if(Q.token[0]){if(X.loading(!0),"DraftPage"!==r&&te(Q.IsDraft),await Me((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}_(a);let n=D.v.Api+`${e.ApiType}/`,i={data:{p1:a&&a.PPMSSCreationWorkOrderIDPK?a.PPMSSCreationWorkOrderIDPK:null,p2:a&&a.PPMSSCreationAssetCode?a.PPMSSCreationAssetCode:null,p3:a&&a.SSCreWorkOrder?a.SSCreWorkOrder:null,p4:a&&a.SSCreWoDateTime?a.SSCreWoDateTime:null,p5:a&&a.SSCreWoDateTimeType?a.SSCreWoDateTimeType:null,p6:a&&a.SSCreWoDateTimeBetween?a.SSCreWoDateTimeBetween:null,p7:a&&a.SSCreGeneratedTtm?a.SSCreGeneratedTtm:null,p8:a&&a.SSCreActualDate?a.SSCreActualDate:null,p9:a&&a.SSCreActualDateType?a.SSCreActualDateType:null,p10:a&&a.SSCreActualDateBetween?a.SSCreActualDateBetween:null,p11:a&&a.SSCreWoCompletedDate?a.SSCreWoCompletedDate:null,p12:a&&a.SSCreWoCompletedDateType?a.SSCreWoCompletedDateType:null,p13:a&&a.SSCreWoCompletedDateBetween?a.SSCreWoCompletedDateBetween:null,p14:a&&a.SSCreParentCreationKey?a.SSCreParentCreationKey:null,p15:a&&a.SSCreSLAHours?a.SSCreSLAHours:null,p16:a&&a.SSCreMaintenanceHours?a.SSCreMaintenanceHours:null,p17:null,p18:null,p19:a&&a.SSCreWithDrawEmpKey?a.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:a&&a.SSCreReschduleEmpKey?a.SSCreReschduleEmpKey:null,p23:null,p24:null,p25:a&&a.SSCreReworkEmpKey?a.SSCreReworkEmpKey:null,p26:a&&a.SSCrePPMLattitude?a.SSCrePPMLattitude:null,p27:a&&a.SSCrePPMLongitude?a.SSCrePPMLongitude:null,p28:null,p29:a&&a.SSCreXCreationAssetKey?a.SSCreXCreationAssetKey:null,p30:a&&a.SSCreXWorkOrder?a.SSCreXWorkOrder:null,p31:a&&a.SSCreXWoDate?a.SSCreXWoDate:null,p32:a&&a.SSCreXWoDateType?a.SSCreXWoDateType:null,p33:a&&a.SSCreXWoDateBetween?a.SSCreXWoDateBetween:null,p34:a&&a.SSCreChargeLedgerKey?a.SSCreChargeLedgerKey:null,p35:a&&a.SSCreCostLedgerKey?a.SSCreCostLedgerKey:null,p36:a&&a.HierarchyDetailsKey?a.HierarchyDetailsKey:null,p37:a&&a.SSTechStartDateTime?a.SSTechStartDateTime:null,p38:a&&a.SSTechStartDateTimeType?a.SSTechStartDateTimeType:null,p39:a&&a.SSTechStartDateTimeBetween?a.SSTechStartDateTimeBetween:null,p40:a&&a.SSTechEndDateTime?a.SSTechEndDateTime:null,p41:a&&a.SSTechEndDateTimeType?a.SSTechEndDateTimeType:null,p42:a&&a.SSTechEndDateTimeBetween?a.SSTechEndDateTimeBetween:null,p43:a&&a.SSTechName?a.SSTechName:null,p44:a&&a.SSTechKeys?a.SSTechKeys:null,p45:"DraftPPMSSCreationWorkOrderID"==l?"1":"0",p46:null,p47:a&&a.ContractID?a.ContractID:null,p48:a&&a.LocalityID?a.LocalityID:null,p49:a&&a.BuildingID?a.BuildingID:null,p50:a&&a.FloorID?a.FloorID:null,p51:a&&a.SpotID?a.SpotID:null,p52:a&&a.DivisionID?a.DivisionID:null,p53:a&&a.DisciplineID?a.DisciplineID:null,p54:a&&a.FrequencyID?a.FrequencyID:null,p55:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p56:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p57:a&&a.PPMStageID?a.PPMStageID:null,p58:a&&a.IsActive,p59:null,p60:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p61:a&&a.CreatedTtm?a.CreatedTtm:null,p62:a&&a.CreatedTtmType?a.CreatedTtmType:null,p63:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p64:null,p65:a&&a.ContractGroupID?a.ContractGroupID:null,p66:a&&a.ContractGroupCode?a.ContractGroupCode:null,p67:a&&a.ContractGroupName?a.ContractGroupName:null,p68:a&&a.TaxID?a.TaxID:null,p69:a&&a.TaxCode?a.TaxCode:null,p70:a&&a.TaxName?a.TaxName:null,p71:a&&a.TaxValue?a.TaxValue:null,p72:a&&a.CustomerID?a.CustomerID:null,p73:a&&a.CustomerCode?a.CustomerCode:null,p74:a&&a.CustomerName?a.CustomerName:null,p75:a&&a.ContractTypeID?a.ContractTypeID:null,p76:a&&a.ContractTypCode?a.ContractTypCode:null,p77:a&&a.ContractTypeName?a.ContractTypeName:null,p78:a&&a.ContractCategID?a.ContractCategID:null,p79:a&&a.ContractCategCode?a.ContractCategCode:null,p80:a&&a.ContractCategName?a.ContractCategName:null,p81:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p82:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p83:a&&a.ContractCode?a.ContractCode:null,p84:a&&a.ContractName?a.ContractName:null,p85:a&&a.LocalityGroupID?a.LocalityGroupID:null,p86:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p87:a&&a.LocalityGroupName?a.LocalityGroupName:null,p88:a&&a.CityID?a.CityID:null,p89:a&&a.CityCode?a.CityCode:null,p90:a&&a.CityName?a.CityName:null,p91:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p92:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p93:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p94:a&&a.LocalityCode?a.LocalityCode:null,p95:a&&a.LocalityName?a.LocalityName:null,p96:a&&a.AssBuildingTypeID?a.AssBuildingTypeID:null,p97:a&&a.AssBuildingTypeCode?a.AssBuildingTypeCode:null,p98:a&&a.AssBuildingTypeName?a.AssBuildingTypeName:null,p99:a&&a.BuildingCode?a.BuildingCode:null,p100:a&&a.BuildingName?a.BuildingName:null,p101:a&&a.FloorCode?a.FloorCode:null,p102:a&&a.FloorName?a.FloorName:null,p103:a&&a.SpotTypeID?a.SpotTypeID:null,p104:a&&a.SpotTypeCode?a.SpotTypeCode:null,p105:a&&a.SpotTypeName?a.SpotTypeName:null,p106:a&&a.AssWingID?a.AssWingID:null,p107:a&&a.AssWingCode?a.AssWingCode:null,p108:a&&a.AssWingName?a.AssWingName:null,p109:a&&a.SpotCode?a.SpotCode:null,p110:a&&a.SpotName?a.SpotName:null,p111:a&&a.DivisionCode?a.DivisionCode:null,p112:a&&a.DivisionName?a.DivisionName:null,p113:a&&a.DisciplineCode?a.DisciplineCode:null,p114:a&&a.DisciplineName?a.DisciplineName:null,p115:a&&a.FrequencyCode?a.FrequencyCode:null,p116:a&&a.FrequencyName?a.FrequencyName:null,p117:a&&a.PPMStageName?a.PPMStageName:null,p118:a&&a.StageSeqNo?a.StageSeqNo:null,p119:t.current,p120:t.pageSize,p121:l,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};(0,S.Z)(n,i,Q.token[0]).then((e=>{if(X.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,h(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),$({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?M(Math.ceil(a)):20==t.pageSize?M(Math.ceil(a/2)):50==t.pageSize?M(Math.ceil(a/5)):100==t.pageSize&&M(Math.ceil(a/10)),W(e.Output.data)}}else X.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Ee?.[a]?Ee[a]:a)]}),W([]),M(0),h(0),$({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ne(Q.ExpandTableValue)}),[Q.ExpandTableValue]),r().createElement("div",null,r().createElement(i.Z,{expanded:ae,onChange:()=>()=>{le(re)}},r().createElement(d.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",E,")")))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"PPMSSCreationWorkOrder-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(C.Z,{formctrlidprint:"fld521L4TCExportPrint",formctrlidexport:"fld521L4TCExportTable",formctrlidrefresh:"fld521L4TCExportRefresh",title:"521",data:w,exportData:he,Items:pe,columnIndex:ce,triggerApi:t=>{((t,l,r)=>{if(0===E)return X.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;X.loading(!0);let n=D.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.PPMSSCreationWorkOrderIDPK?t.PPMSSCreationWorkOrderIDPK:null),p2:t&&t.PPMSSCreationAssetCode?t.PPMSSCreationAssetCode:null,p3:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p4:t&&t.SSCreWoDateTime?t.SSCreWoDateTime:null,p5:t&&t.SSCreWoDateTimeType?t.SSCreWoDateTimeType:null,p6:t&&t.SSCreWoDateTimeBetween?t.SSCreWoDateTimeBetween:null,p7:t&&t.SSCreGeneratedTtm?t.SSCreGeneratedTtm:null,p8:t&&t.SSCreActualDate?t.SSCreActualDate:null,p9:t&&t.SSCreActualDateType?t.SSCreActualDateType:null,p10:t&&t.SSCreActualDateBetween?t.SSCreActualDateBetween:null,p11:t&&t.SSCreWoCompletedDate?t.SSCreWoCompletedDate:null,p12:t&&t.SSCreWoCompletedDateType?t.SSCreWoCompletedDateType:null,p13:t&&t.SSCreWoCompletedDateBetween?t.SSCreWoCompletedDateBetween:null,p14:t&&t.SSCreParentCreationKey?t.SSCreParentCreationKey:null,p15:t&&t.SSCreSLAHours?t.SSCreSLAHours:null,p16:t&&t.SSCreMaintenanceHours?t.SSCreMaintenanceHours:null,p17:null,p18:null,p19:t&&t.SSCreWithDrawEmpKey?t.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:t&&t.SSCreReschduleEmpKey?t.SSCreReschduleEmpKey:null,p23:null,p24:null,p25:t&&t.SSCreReworkEmpKey?t.SSCreReworkEmpKey:null,p26:t&&t.SSCrePPMLattitude?t.SSCrePPMLattitude:null,p27:t&&t.SSCrePPMLongitude?t.SSCrePPMLongitude:null,p28:null,p29:t&&t.SSCreXCreationAssetKey?t.SSCreXCreationAssetKey:null,p30:t&&t.SSCreXWorkOrder?t.SSCreXWorkOrder:null,p31:t&&t.SSCreXWoDate?t.SSCreXWoDate:null,p32:t&&t.SSCreXWoDateType?t.SSCreXWoDateType:null,p33:t&&t.SSCreXWoDateBetween?t.SSCreXWoDateBetween:null,p34:t&&t.SSCreChargeLedgerKey?t.SSCreChargeLedgerKey:null,p35:t&&t.SSCreCostLedgerKey?t.SSCreCostLedgerKey:null,p36:t&&t.HierarchyDetailsKey?t.HierarchyDetailsKey:null,p37:t&&t.SSTechStartDateTime?t.SSTechStartDateTime:null,p38:t&&t.SSTechStartDateTimeType?t.SSTechStartDateTimeType:null,p39:t&&t.SSTechStartDateTimeBetween?t.SSTechStartDateTimeBetween:null,p40:t&&t.SSTechEndDateTime?t.SSTechEndDateTime:null,p41:t&&t.SSTechEndDateTimeType?t.SSTechEndDateTimeType:null,p42:t&&t.SSTechEndDateTimeBetween?t.SSTechEndDateTimeBetween:null,p43:t&&t.SSTechName?t.SSTechName:null,p44:t&&t.SSTechKeys?t.SSTechKeys:null,p45:ee?"1":"0",p46:null,p47:t&&t.ContractID?t.ContractID:null,p48:t&&t.LocalityID?t.LocalityID:null,p49:t&&t.BuildingID?t.BuildingID:null,p50:t&&t.FloorID?t.FloorID:null,p51:t&&t.SpotID?t.SpotID:null,p52:t&&t.DivisionID?t.DivisionID:null,p53:t&&t.DisciplineID?t.DisciplineID:null,p54:t&&t.FrequencyID?t.FrequencyID:null,p55:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p56:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p57:t&&t.PPMStageID?t.PPMStageID:null,p58:t&&t.IsActive,p59:null,p60:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p61:t&&t.CreatedTtm?t.CreatedTtm:null,p62:t&&t.CreatedTtmType?t.CreatedTtmType:null,p63:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p64:null,p65:t&&t.ContractGroupID?t.ContractGroupID:null,p66:t&&t.ContractGroupCode?t.ContractGroupCode:null,p67:t&&t.ContractGroupName?t.ContractGroupName:null,p68:t&&t.TaxID?t.TaxID:null,p69:t&&t.TaxCode?t.TaxCode:null,p70:t&&t.TaxName?t.TaxName:null,p71:t&&t.TaxValue?t.TaxValue:null,p72:t&&t.CustomerID?t.CustomerID:null,p73:t&&t.CustomerCode?t.CustomerCode:null,p74:t&&t.CustomerName?t.CustomerName:null,p75:t&&t.ContractTypeID?t.ContractTypeID:null,p76:t&&t.ContractTypCode?t.ContractTypCode:null,p77:t&&t.ContractTypeName?t.ContractTypeName:null,p78:t&&t.ContractCategID?t.ContractCategID:null,p79:t&&t.ContractCategCode?t.ContractCategCode:null,p80:t&&t.ContractCategName?t.ContractCategName:null,p81:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p82:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p83:t&&t.ContractCode?t.ContractCode:null,p84:t&&t.ContractName?t.ContractName:null,p85:t&&t.LocalityGroupID?t.LocalityGroupID:null,p86:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p87:t&&t.LocalityGroupName?t.LocalityGroupName:null,p88:t&&t.CityID?t.CityID:null,p89:t&&t.CityCode?t.CityCode:null,p90:t&&t.CityName?t.CityName:null,p91:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p92:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p93:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p94:t&&t.LocalityCode?t.LocalityCode:null,p95:t&&t.LocalityName?t.LocalityName:null,p96:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p97:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p98:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p99:t&&t.BuildingCode?t.BuildingCode:null,p100:t&&t.BuildingName?t.BuildingName:null,p101:t&&t.FloorCode?t.FloorCode:null,p102:t&&t.FloorName?t.FloorName:null,p103:t&&t.SpotTypeID?t.SpotTypeID:null,p104:t&&t.SpotTypeCode?t.SpotTypeCode:null,p105:t&&t.SpotTypeName?t.SpotTypeName:null,p106:t&&t.AssWingID?t.AssWingID:null,p107:t&&t.AssWingCode?t.AssWingCode:null,p108:t&&t.AssWingName?t.AssWingName:null,p109:t&&t.SpotCode?t.SpotCode:null,p110:t&&t.SpotName?t.SpotName:null,p111:t&&t.DivisionCode?t.DivisionCode:null,p112:t&&t.DivisionName?t.DivisionName:null,p113:t&&t.DisciplineCode?t.DisciplineCode:null,p114:t&&t.DisciplineName?t.DisciplineName:null,p115:t&&t.FrequencyCode?t.FrequencyCode:null,p116:t&&t.FrequencyName?t.FrequencyName:null,p117:t&&t.PPMStageName?t.PPMStageName:null,p118:t&&t.StageSeqNo?t.StageSeqNo:null,p119:1,p120:E,p121:Ie,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};var o;X.loading(!1),X.alert({open:!0,color:"success",message:[`${o="521",Q.language?.[o]?Q.language[o]:o} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,S.Z)(n,i,Q.token[0],r).then((e=>{(0,K.PDF_Excel_Generate)(e,X,pe,b,a,r)}))})(Z,F.column,t)},TableVisibleItem:H,userGridViewFormID:"521",TableTotalCount:E,Refresh:()=>{ve({current:1,pageSize:100},Z,Ie),T({current:1,pageSize:100}),m.current&&m.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!Q.AccessRights.IsPrint,disabledExport:!Q.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(v.Z,{count:g,siblingCount:0,color:"primary",page:f.current,onChange:(e,t)=>{if(T({current:t,pageSize:f.pageSize}),ee)ve({current:t,pageSize:f.pageSize},Z,"DraftPPMSSCreationWorkOrderID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ve({current:t,pageSize:f.pageSize},Z,"PPMSSCreationWorkOrderID")}}}),r().createElement("div",null,r().createElement(N.Z,{value:f.pageSize,onChange:e=>{T({current:1,pageSize:e.target.value}),ve({current:1,pageSize:e.target.value},Z,"PPMSSCreationWorkOrderID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),re&&r().createElement("p",{className:"per-page"},"/ per page Of (",E,")"))),r().createElement("div",{id:"PPMSSCreationWorkOrder-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"PPMSSCreationWorkOrderTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"PPMSSCreationWorkOrder",headerdata:H,tablesearchparams:me,searchvalue:e=>{Se(e),T({current:1,pageSize:100}),ve({current:1,pageSize:100},e,ee?"DraftPPMSSCreationWorkOrderID":"PPMSSCreationWorkOrderID",ee&&"DraftPage")},bodydata:B,ondrag:(e,t)=>{$({type:"editData",payload:[t]}),$({type:"IsDraft",payload:ee}),$({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:ee,accessrights:Q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{P?X.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?X.edit(t,a,l):X.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{W(e)},color:!0,isexpanded:!1}):r().createElement(z.Z,{frmctrlid:"tblcs_521_L4_",ref:s,id:"PPMSSCreationWorkOrderTable",type:e.viewtype,headerdata:H,tablesearchparams:me,searchvalue:e=>{let t={...Z,...e};Se(e),_(t),T({current:1,pageSize:100}),ve(f,t,Ie)},bodydata:B,ondrag:(e,t)=>{$({type:"editData",payload:[t]}),$({type:"IsDraft",payload:ee}),$({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:ee,accessrights:Q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{P?X.select(t):(e.editdata(t,"view"),X.edit(t,a,1!=t.Entry))},viewtoggle:X.viewtoggle,IsSub:e.IsSub})))))))}))},56827:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F}),a(95866),a(99058);var l=a(92950),r=a.n(l),n=a(80366),i=a(51673),o=a(282),d=a(868),s=a(78513),m=a(14439),S=a(27848),c=a(40900),u=a(64059),p=a(24038),C=a(8981),P=a(47516),y=a(86893),D=a(20626),g=a(33681),I=a(63163),M=(a(35131),a(61956),a(52663)),E=a(66083),h=a(29525),f=a(66856),v=a(39803),N=a(99940),T=a(17149),k=a(62810),b=a(30553),w=a(92381),O=a(25108);const F=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[F,A]=(0,l.useState)([]),[x,B]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)({}),[Z,G]=(0,l.useState)(!0),[z,_]=(0,l.useState)(!1),{cstate:q,cdispatch:V}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[H,U]=(0,l.useState)(1),[j,Y]=(0,l.useState)(0),[X,Q]=(0,l.useState)(!1),[$,J]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(""),[de,se]=(0,l.useState)(!1),[me,Se]=(0,l.useState)(!1),[ce,ue]=(0,l.useState)(!1),[pe,Ce]=(0,l.useState)(""),Pe=(0,l.useRef)(null),[ye,De]=(0,l.useState)({});let ge=localStorage.getItem("Language");const Ie={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Me=(0,C.Z)();const Ee=e=>Me[e]?Me[e]:e,he=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ie[ge]];function fe(){K({}),J({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});De(a),te(t)}),[e.userGrid]),(0,l.useEffect)((()=>()=>{Pe.current&&Pe.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{fe()}})));const ve=async(t,a,l,r)=>{Q(!0);try{Pe.current&&Pe.current.abort();const n=new AbortController;Pe.current=n;let o="",d=[],s={};await B((e=>(o=e.name,e))),await K((e=>(d=e,e))),await J((e=>(s=e,e)));const m=c.v.Api+"FP521S3/",S={data:{p1:"PPMSSCreationWorkOrderIDPK"==a?null:await we(),p2:"PPMSSCreationAssetCode"==o&&l.length>0?"%"+l+"%":null,p3:"SSCreWorkOrder"==o&&l.length>0?"%"+l+"%":null,p4:s.SSCreWoDateTime?s.SSCreWoDateTime.From:null,p5:s.SSCreWoDateTime?s.SSCreWoDateTime.Type:null,p6:s.SSCreWoDateTime?s.SSCreWoDateTime.To:null,p7:"SSCreGeneratedTtm"==o&&l.length>0?"%"+l+"%":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:"SSCreParentCreationKey"==o&&l.length>0?"%"+l+"%":null,p15:"SSCreSLAHours"==o&&l.length>0?"%"+l+"%":null,p16:"SSCreMaintenanceHours"==o&&l.length>0?"%"+l+"%":null,p17:"IsSSCreWithDraw"==o&&l.length>0?"%"+l+"%":null,p18:"SSCreWithDrawRemarks"==o&&l.length>0?"%"+l+"%":null,p19:"SSCreWithDrawEmpKey"==o&&l.length>0?"%"+l+"%":null,p20:"IsSSCreReschedule"==o&&l.length>0?"%"+l+"%":null,p21:"SSCreRescheduleRemarks"==o&&l.length>0?"%"+l+"%":null,p22:"SSCreReschduleEmpKey"==o&&l.length>0?"%"+l+"%":null,p23:"IsSSCreRework"==o&&l.length>0?"%"+l+"%":null,p24:"SSCreReworkRemarks"==o&&l.length>0?"%"+l+"%":null,p25:"SSCreReworkEmpKey"==o&&l.length>0?"%"+l+"%":null,p26:"SSCrePPMLattitude"==o&&l.length>0?"%"+l+"%":null,p27:"SSCrePPMLongitude"==o&&l.length>0?"%"+l+"%":null,p28:"IsSSCreTechManual"==o&&l.length>0?"%"+l+"%":null,p29:"SSCreXCreationAssetKey"==o&&l.length>0?"%"+l+"%":null,p30:"SSCreXWorkOrder"==o&&l.length>0?"%"+l+"%":null,p31:null,p32:null,p33:null,p34:"SSCreChargeLedgerKey"==o&&l.length>0?"%"+l+"%":null,p35:"SSCreCostLedgerKey"==o&&l.length>0?"%"+l+"%":null,p36:"HierarchyDetailsKey"==o&&l.length>0?"%"+l+"%":null,p37:s.SSTechStartDateTime?s.SSTechStartDateTime.From:null,p38:s.SSTechStartDateTime?s.SSTechStartDateTime.Type:null,p39:s.SSTechStartDateTime?s.SSTechStartDateTime.To:null,p40:s.SSTechEndDateTime?s.SSTechEndDateTime.From:null,p41:s.SSTechEndDateTime?s.SSTechEndDateTime.Type:null,p42:s.SSTechEndDateTime?s.SSTechEndDateTime.To:null,p43:"SSTechName"==o&&l.length>0?"%"+l+"%":null,p44:"SSTechKeys"==o&&l.length>0?"%"+l+"%":null,p45:null,p46:null,p47:"ContractName"!=o&&d.ContractName?d.ContractName.map((e=>e.ContractIDPK)).toString():null,p48:"LocalityName"!=o&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p49:"BuildingName"!=o&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p50:"FloorName"!=o&&d.FloorName?d.FloorName.map((e=>e.FloorIDPK)).toString():null,p51:"SpotName"!=o&&d.SpotName?d.SpotName.map((e=>e.SpotIDPK)).toString():null,p52:"DivisionName"!=o&&d.DivisionName?d.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p53:"DisciplineName"!=o&&d.DisciplineName?d.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p54:"FrequencyName"!=o&&d.FrequencyName?d.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p55:"FlowDisplayName"!=o&&d.FlowDisplayName?d.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p56:"FixonBusinessFlowName"!=o&&d.FixonBusinessFlowName?d.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p57:"PPMStageName"!=o&&d.PPMStageName?d.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p58:e.Dialogview?"1":null,p59:null,p60:"p60"==o&&l.length>0?l:null,p61:null,p62:null,p63:null,p64:null,p65:"ContractGroupName"!=o&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p66:"ContractGroupCode"==o&&l.length>0?"%"+l+"%":null,p67:"ContractGroupName"==o&&l.length>0?"%"+l+"%":null,p68:"TaxName"!=o&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p69:"TaxCode"==o&&l.length>0?"%"+l+"%":null,p70:"TaxName"==o&&l.length>0?"%"+l+"%":null,p71:"TaxValue"==o&&l.length>0?"%"+l+"%":null,p72:"CustomerName"!=o&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p73:"CustomerCode"==o&&l.length>0?"%"+l+"%":null,p74:"CustomerName"==o&&l.length>0?"%"+l+"%":null,p75:"ContractTypeName"!=o&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p76:"ContractTypCode"==o&&l.length>0?"%"+l+"%":null,p77:"ContractTypeName"==o&&l.length>0?"%"+l+"%":null,p78:"ContractCategName"!=o&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p79:"ContractCategCode"==o&&l.length>0?"%"+l+"%":null,p80:"ContractCategName"==o&&l.length>0?"%"+l+"%":null,p81:"ConPaymentTermsName"!=o&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p82:"ConPaymentTermsName"==o&&l.length>0?"%"+l+"%":null,p83:"ContractCode"==o&&l.length>0?"%"+l+"%":null,p84:"ContractName"==o&&l.length>0?"%"+l+"%":null,p85:"LocalityGroupName"!=o&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p86:"LocalityGroupCode"==o&&l.length>0?"%"+l+"%":null,p87:"LocalityGroupName"==o&&l.length>0?"%"+l+"%":null,p88:"CityName"!=o&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p89:"CityCode"==o&&l.length>0?"%"+l+"%":null,p90:"CityName"==o&&l.length>0?"%"+l+"%":null,p91:"AdminLocalityTypeName"!=o&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p92:"AdminLocalityTypeCode"==o&&l.length>0?"%"+l+"%":null,p93:"AdminLocalityTypeName"==o&&l.length>0?"%"+l+"%":null,p94:"LocalityCode"==o&&l.length>0?"%"+l+"%":null,p95:"LocalityName"==o&&l.length>0?"%"+l+"%":null,p96:"AssBuildingTypeName"!=o&&d.AssBuildingTypeName?d.AssBuildingTypeName.map((e=>e.AssBuildingTypeIDPK)).toString():null,p97:"AssBuildingTypeCode"==o&&l.length>0?"%"+l+"%":null,p98:"AssBuildingTypeName"==o&&l.length>0?"%"+l+"%":null,p99:"BuildingCode"==o&&l.length>0?"%"+l+"%":null,p100:"BuildingName"==o&&l.length>0?"%"+l+"%":null,p101:"FloorCode"==o&&l.length>0?"%"+l+"%":null,p102:"FloorName"==o&&l.length>0?"%"+l+"%":null,p103:"SpotTypeName"!=o&&d.SpotTypeName?d.SpotTypeName.map((e=>e.SpotTypeIDPK)).toString():null,p104:"SpotTypeCode"==o&&l.length>0?"%"+l+"%":null,p105:"SpotTypeName"==o&&l.length>0?"%"+l+"%":null,p106:"AssWingName"!=o&&d.AssWingName?d.AssWingName.map((e=>e.AssWingIDPK)).toString():null,p107:"AssWingCode"==o&&l.length>0?"%"+l+"%":null,p108:"AssWingName"==o&&l.length>0?"%"+l+"%":null,p109:"SpotCode"==o&&l.length>0?"%"+l+"%":null,p110:"SpotName"==o&&l.length>0?"%"+l+"%":null,p111:"DivisionCode"==o&&l.length>0?"%"+l+"%":null,p112:"DivisionName"==o&&l.length>0?"%"+l+"%":null,p113:"DisciplineCode"==o&&l.length>0?"%"+l+"%":null,p114:"DisciplineName"==o&&l.length>0?"%"+l+"%":null,p115:"FrequencyCode"==o&&l.length>0?"%"+l+"%":null,p116:"FrequencyName"==o&&l.length>0?"%"+l+"%":null,p117:"PPMStageName"==o&&l.length>0?"%"+l+"%":null,p118:"StageSeqNo"==o&&l.length>0?"%"+l+"%":null,p119:r||1,p120:10,p121:t,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}},u=await(0,i.Z)(m,S,e.token,"",n.signal);if(!u)return!1;const p=u.Output.status.code,C=u.Output.data;if("200"===p)if(C.length>0)if(1===r){let e=Te(C,o),t=Ne(e,R[o],a);A(t),Y(t.length>0?t[0].TotalCount:R[o].length)}else{let e=[...F,...C],t=Te(e,o);Y(t.length<10?t.length:C[0].TotalCount),A(Te(t,o))}else W.length>0&&A([]),Y(F.length);else e.alertmsg("error",[u.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Ne=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function ke(e){let t=e+"PK",a=ye[e];if(a){const e=a.flatMap((e=>R[e]?R[e].map((e=>e[t])):[]));return e.toString()}return""}const be=async t=>{let a="",l={};await K((e=>(a=e,e)));let r=[...ee],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString();t&&n.push(t)}await J((e=>(l=e,e)));let i={PPMSSCreationWorkOrderIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",SSCreWoDateTime:l.SSCreWoDateTime?l.SSCreWoDateTime.From:"",SSCreWoDateTimeType:l.SSCreWoDateTime?l.SSCreWoDateTime.Type:"",SSCreWoDateTimeBetween:l.SSCreWoDateTime?l.SSCreWoDateTime.To:"",SSCreActualDate:l.SSCreActualDate?l.SSCreActualDate.From:"",SSCreActualDateType:l.SSCreActualDate?l.SSCreActualDate.Type:"",SSCreActualDateBetween:l.SSCreActualDate?l.SSCreActualDate.To:"",SSCreWoCompletedDate:l.SSCreWoCompletedDate?l.SSCreWoCompletedDate.From:"",SSCreWoCompletedDateType:l.SSCreWoCompletedDate?l.SSCreWoCompletedDate.Type:"",SSCreWoCompletedDateBetween:l.SSCreWoCompletedDate?l.SSCreWoCompletedDate.To:"",SSCreXWoDate:l.SSCreXWoDate?l.SSCreXWoDate.From:"",SSCreXWoDateType:l.SSCreXWoDate?l.SSCreXWoDate.Type:"",SSCreXWoDateBetween:l.SSCreXWoDate?l.SSCreXWoDate.To:"",SSTechStartDateTime:l.SSTechStartDateTime?l.SSTechStartDateTime.From:"",SSTechStartDateTimeType:l.SSTechStartDateTime?l.SSTechStartDateTime.Type:"",SSTechStartDateTimeBetween:l.SSTechStartDateTime?l.SSTechStartDateTime.To:"",SSTechEndDateTime:l.SSTechEndDateTime?l.SSTechEndDateTime.From:"",SSTechEndDateTimeType:l.SSTechEndDateTime?l.SSTechEndDateTime.Type:"",SSTechEndDateTimeBetween:l.SSTechEndDateTime?l.SSTechEndDateTime.To:"",ContractID:ke("ContractID"),LocalityID:ke("LocalityID"),BuildingID:ke("BuildingID"),FloorID:ke("FloorID"),SpotID:ke("SpotID"),DivisionID:ke("DivisionID"),DisciplineID:ke("DisciplineID"),FrequencyID:ke("FrequencyID"),PPMStageID:ke("PPMStageID"),PPMBusinessFlowID:ke("PPMBusinessFlowID"),PPMFixonBusinessFlowID:ke("PPMFixonBusinessFlowID")};"saveFav"==t?Ae("save",i):(e.searchData(i),_(!1))};async function we(){let e={};await K((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Oe(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};J((e=>({...e,...o})));const s={...R};let m=[...ee],S=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString();t&&S.push(t)}await J((e=>(d=e,e)));let c={PPMSSCreationWorkOrderIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,SSCreWoDateTime:d.SSCreWoDateTime?d.SSCreWoDateTime.From:"",SSCreWoDateTimeType:d.SSCreWoDateTime?d.SSCreWoDateTime.Type:"",SSCreWoDateTimeBetween:d.SSCreWoDateTime?d.SSCreWoDateTime.To:"",SSCreActualDate:d.SSCreActualDate?d.SSCreActualDate.From:"",SSCreActualDateType:d.SSCreActualDate?d.SSCreActualDate.Type:"",SSCreActualDateBetween:d.SSCreActualDate?d.SSCreActualDate.To:"",SSCreWoCompletedDate:d.SSCreWoCompletedDate?d.SSCreWoCompletedDate.From:"",SSCreWoCompletedDateType:d.SSCreWoCompletedDate?d.SSCreWoCompletedDate.Type:"",SSCreWoCompletedDateBetween:d.SSCreWoCompletedDate?d.SSCreWoCompletedDate.To:"",SSCreXWoDate:d.SSCreXWoDate?d.SSCreXWoDate.From:"",SSCreXWoDateType:d.SSCreXWoDate?d.SSCreXWoDate.Type:"",SSCreXWoDateBetween:d.SSCreXWoDate?d.SSCreXWoDate.To:"",SSTechStartDateTime:d.SSTechStartDateTime?d.SSTechStartDateTime.From:"",SSTechStartDateTimeType:d.SSTechStartDateTime?d.SSTechStartDateTime.Type:"",SSTechStartDateTimeBetween:d.SSTechStartDateTime?d.SSTechStartDateTime.To:"",SSTechEndDateTime:d.SSTechEndDateTime?d.SSTechEndDateTime.From:"",SSTechEndDateTimeType:d.SSTechEndDateTime?d.SSTechEndDateTime.Type:"",SSTechEndDateTimeBetween:d.SSTechEndDateTime?d.SSTechEndDateTime.To:"",ContractID:R.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:R.LocalityName?.map((e=>e.LocalityIDPK)).toString(),BuildingID:R.BuildingName?.map((e=>e.BuildingIDPK)).toString(),FloorID:R.FloorName?.map((e=>e.FloorIDPK)).toString(),SpotID:R.SpotName?.map((e=>e.SpotIDPK)).toString(),DivisionID:R.DivisionName?.map((e=>e.DivisionIDPK)).toString(),DisciplineID:R.DisciplineName?.map((e=>e.DisciplineIDPK)).toString(),FrequencyID:R.FrequencyName?.map((e=>e.FrequencyIDPK)).toString(),PPMStageID:R.PPMStageName?.map((e=>e.PPMStageIDPK)).toString(),PPMBusinessFlowID:R.FlowDisplayName?.map((e=>e.PPMBusinessFlowIDPK)).toString(),PPMFixonBusinessFlowID:R.FixonBusinessFlowName?.map((e=>e.PPMFixonBusinessFlowIDPK)).toString()};e.searchData(c)}function Fe(){return r().createElement(u.Z,{frmctrlid:"fld521L4TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Oe(e,t,a,x.name,l)},keyboardback:()=>{_(!1),B({idpk:"",name:"",type:"",fieldidpk:""})},title:Ee(x.name),fieldname:x.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,w.Z)(t,e.formID,a,ie).then((e=>{const t=e.Output.data;Ce(t)}))};return r().createElement("div",null,r().createElement(M.Z,{onClose:()=>se(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},r().createElement(E.Z,{id:"customized-dialog-title",onClose:()=>se(!1)},"Add Favorite"),r().createElement(h.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(v.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>oe(e.target.value),fullWidth:!0})),r().createElement(b.Z,{style:{color:"#337ab7"},control:r().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>Se(e.target.checked)}),label:"Quick"}),r().createElement(b.Z,{style:{color:"#337ab7"},control:r().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>ue(e.target.checked)}),label:"Dashboard"})),r().createElement(f.Z,null,r().createElement(o.Z,{onClick:()=>{be("saveFav"),se(!1)},color:"primary"},"Save"))),z?"Created Ttm"===x.name||x.name.includes("Date")?r().createElement(Fe,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(m.Z,null,r().createElement(S.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},he(x.idpk)," (",F.length,"/",j,")")),r().createElement(S.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(d.ZP,{title:Ee("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(n.Z,{id:"fld521L4TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),B({idpk:"",name:"",type:"",fieldidpk:!1}),U(1)}}))),R[x.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(o.Z,{frmctrlid:"fld521L4TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,O.log("clear fewItems",e),t))),e[x.name]=[],ve(x.type,x.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},Z?r().createElement(d.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(y.D7o,{className:"FilterMaximizeIcon",onClick:()=>{G(!1)}}))):r().createElement(d.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(y.dOw,{className:"FilterMaximizeIcon",onClick:()=>{G(!0)}})))),r().createElement("ul",null,R[x.name]&&R[x.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:Z?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[x.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[x.name],onClick:()=>(async(e,t)=>{U(1);let a=R[x.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[x.name]=a,K(l),A((t=>[e,...t]))})(e)},r().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(p.Z,{frmctrlid:"fld521L4TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:W,placeholder:Ee("Enter ")+" "+he(x.idpk),onChange:e=>{L(e),ve(x.type,x.fieldidpk,e,1,we())}})),r().createElement("div",{id:"fld521L4TFCFilterGoForward",className:"FilterSearchBtn",onClick:be},r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),X&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(g.Z,{color:"secondary"})),r().createElement("div",{id:"fld521L4TFCScrollYDefault",className:"height65 scrollYDefault"},F.length>0&&F.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[x.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let r=l[x.name];t[x.name]=r?[...a,...r]:a,l={...l,...t},K(l),A((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(s.Z,{className:"DotIcon"}),r().createElement("span",null,e[x.name])))),F.length+0<j&&F.length>0&&r().createElement("div",{id:"fld521L4TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{U(H+1),ve(x.type,x.fieldidpk,"",H+1)}},r().createElement("p",null," more... ")),0===F.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:c.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(P.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",Ee("Filter")," ",ie.length>0&&`(${ie})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{fe()},id:"fld521L4TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear")))),r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld521L4TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},Ee("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld521L4TFCFilItems",className:"FilterItems"},!pe&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),L(""),A([]),Y(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSSCreationWorkOrderIDPK";B({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSCreationWorkOrderID",fieldidpk:t}),ve(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSCreationWorkOrderID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,he(e.AdminUserGridViewIDPK)," ",$[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",$[e.FieldName]?.From+" to "+$[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),r().createElement(I.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Oe("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,R[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},R[a][0][a]),R[a].length>1&&r().createElement("span",{className:"RoundedDivName"},R[a][1][a]),R[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(R[a].length-2))))));var a})),pe&&pe.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{ve("FilterPPMSSCreationWorkOrderID",a),be("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}))},97572:(e,t,a)=>{a.r(t),a.d(t,{default:()=>xt});var l=a(92950),r=a.n(l),n=a(45237),i=a(868),o=a(3212),d=a(29800),s=a(14439),m=a(27848),S=(a(10966),a(20626)),c=(a(21392),a(51673)),u=a(40900),p=(a(77366),a(26537)),C=a(1695),P=(a(97829),a(20506),a(59535)),y=(a(1238),a(8981)),D=a(5434),g=a(99940),I=a(37148),M=a(79117),E=a.n(M),h=(a(91607),a(95866),a(36939)),f=a(61201),v=a(59009),N=(a(99058),a(80366)),T=a(282),k=a(78513),b=a(64059),w=a(24038),O=a(47516),F=a(86893),A=a(33681),x=a(63163),B=a(25108);const W=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,S]=(0,l.useState)({idpk:"",name:"",type:""}),[p,C]=(0,l.useState)(""),[P,D]=(0,l.useState)({}),[g,I]=(0,l.useState)(!0),[M,E]=(0,l.useState)(!1),{cstate:h,cdispatch:f}=e.ContextApi?e.ContextApi:Fe(),[v,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0);let U=localStorage.getItem("Language");const j={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Y=(0,y.Z)();const X=e=>Y[e]?Y[e]:e,Q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[j[U]];function $(){D({}),z({}),e.searchData({}),E(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));q(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{$()}})));const J=async(t,a,l,r)=>{Z(!0);let i=a.IsForeign?a.FieldName+"PK":"PPMSSEmployeeDetIDPK";try{let d="",s=[],m={};await S((e=>(d=e.name,e))),await D((e=>(s=e,e))),await z((e=>(m=e,e)));const C=u.v.Api+"FP524S3/",y={data:{p1:a.IsForeign?await ae():null,p2:"PPMSSEmployeeCode"==d&&l.length>0?"%"+l+"%":null,p3:"IsSSEmpPrimaryEmployee"==d&&l.length>0?"%"+l+"%":null,p4:"IsSSEmpAllEmployee"==d&&l.length>0?"%"+l+"%":null,p5:"SSEmpAccptKey"==d&&l.length>0?"%"+l+"%":null,p6:"SSEmpTypeKey"==d&&l.length>0?"%"+l+"%":null,p7:"SSEmpNoOfHours"==d&&l.length>0?"%"+l+"%":null,p8:"SSEmpAmount"==d&&l.length>0?"%"+l+"%":null,p9:null,p10:null,p11:"FirstName"!=d&&s.FirstName?s.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p12:e.parentId?e.parentId:"0",p13:e.Dialogview?"1":null,p14:null,p15:"p15"==d&&l.length>0?l:null,p16:null,p17:null,p18:null,p19:null,p20:"ShiftName"!=d&&s.ShiftName?s.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p21:"ShiftCode"==d&&l.length>0?"%"+l+"%":null,p22:"ShiftName"==d&&l.length>0?"%"+l+"%":null,p23:"ClassificationName"!=d&&s.ClassificationName?s.ClassificationName.map((e=>e.ClassificationIDPK)).toString():null,p24:"ClassificationCode"==d&&l.length>0?"%"+l+"%":null,p25:"ClassificationName"==d&&l.length>0?"%"+l+"%":null,p26:"DepartmentName"!=d&&s.DepartmentName?s.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p27:"DepartmentCode"==d&&l.length>0?"%"+l+"%":null,p28:"DepartmentName"==d&&l.length>0?"%"+l+"%":null,p29:"DesignationName"!=d&&s.DesignationName?s.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p30:"DesignationCode"==d&&l.length>0?"%"+l+"%":null,p31:"DesignationName"==d&&l.length>0?"%"+l+"%":null,p32:"NationalityName"!=d&&s.NationalityName?s.NationalityName.map((e=>e.NationalityIDPK)).toString():null,p33:"NationalityCode"==d&&l.length>0?"%"+l+"%":null,p34:"NationalityName"==d&&l.length>0?"%"+l+"%":null,p35:"NatureOfWorkName"!=d&&s.NatureOfWorkName?s.NatureOfWorkName.map((e=>e.EmpWorkNatureIDPK)).toString():null,p36:"NatureOfWorkCode"==d&&l.length>0?"%"+l+"%":null,p37:"NatureOfWorkName"==d&&l.length>0?"%"+l+"%":null,p38:"EmployeeTypeName"!=d&&s.EmployeeTypeName?s.EmployeeTypeName.map((e=>e.EmployeeTypeIDPK)).toString():null,p39:"EmployeeTypeCode"==d&&l.length>0?"%"+l+"%":null,p40:"EmployeeTypeName"==d&&l.length>0?"%"+l+"%":null,p41:"EmploymentTypeName"!=d&&s.EmploymentTypeName?s.EmploymentTypeName.map((e=>e.EmploymentTypeIDPK)).toString():null,p42:"EmploymentTypCode"==d&&l.length>0?"%"+l+"%":null,p43:"EmploymentTypeName"==d&&l.length>0?"%"+l+"%":null,p44:"EmployeeGroupName"!=d&&s.EmployeeGroupName?s.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p45:"EmployeeGroupCode"==d&&l.length>0?"%"+l+"%":null,p46:"EmployeeGroupName"==d&&l.length>0?"%"+l+"%":null,p47:"EmpGradeName"!=d&&s.EmpGradeName?s.EmpGradeName.map((e=>e.EmpGradeIDPK)).toString():null,p48:"EmpGradeCode"==d&&l.length>0?"%"+l+"%":null,p49:"EmpGradeName"==d&&l.length>0?"%"+l+"%":null,p50:"CityName"!=d&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p51:"CityCode"==d&&l.length>0?"%"+l+"%":null,p52:"CityName"==d&&l.length>0?"%"+l+"%":null,p53:"RegionName"!=d&&s.RegionName?s.RegionName.map((e=>e.RegionIDPK)).toString():null,p54:"RegionCode"==d&&l.length>0?"%"+l+"%":null,p55:"RegionName"==d&&l.length>0?"%"+l+"%":null,p56:"CountryName"!=d&&s.CountryName?s.CountryName.map((e=>e.CountryIDPK)).toString():null,p57:"CountryCode"==d&&l.length>0?"%"+l+"%":null,p58:"CountryName"==d&&l.length>0?"%"+l+"%":null,p59:"EmpGenderName"!=d&&s.EmpGenderName?s.EmpGenderName.map((e=>e.EmpGenderIDPK)).toString():null,p60:"EmpGenderName"==d&&l.length>0?"%"+l+"%":null,p61:"EmpTitleName"!=d&&s.EmpTitleName?s.EmpTitleName.map((e=>e.EmpTitleIDPK)).toString():null,p62:"EmpTitleName"==d&&l.length>0?"%"+l+"%":null,p63:"EmployeeCode"==d&&l.length>0?"%"+l+"%":null,p64:"FirstName"==d&&l.length>0?"%"+l+"%":null,p65:"EmpContactNo1"==d&&l.length>0?"%"+l+"%":null,p66:"EmpEmailOfficial"==d&&l.length>0?"%"+l+"%":null,p67:"ContractName"!=d&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p68:"ContractCode"==d&&l.length>0?"%"+l+"%":null,p69:"ContractName"==d&&l.length>0?"%"+l+"%":null,p70:"LocalityName"!=d&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p71:"LocalityCode"==d&&l.length>0?"%"+l+"%":null,p72:"LocalityName"==d&&l.length>0?"%"+l+"%":null,p73:"BuildingName"!=d&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p74:"BuildingCode"==d&&l.length>0?"%"+l+"%":null,p75:"BuildingName"==d&&l.length>0?"%"+l+"%":null,p76:"FloorName"!=d&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p77:"FloorCode"==d&&l.length>0?"%"+l+"%":null,p78:"FloorName"==d&&l.length>0?"%"+l+"%":null,p79:"SpotName"!=d&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p80:"SpotCode"==d&&l.length>0?"%"+l+"%":null,p81:"SpotName"==d&&l.length>0?"%"+l+"%":null,p82:"DivisionName"!=d&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p83:"DivisionCode"==d&&l.length>0?"%"+l+"%":null,p84:"DivisionName"==d&&l.length>0?"%"+l+"%":null,p85:"DisciplineName"!=d&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p86:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p87:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p88:"FrequencyName"!=d&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p89:"FrequencyCode"==d&&l.length>0?"%"+l+"%":null,p90:"FrequencyName"==d&&l.length>0?"%"+l+"%":null,p91:"FlowDisplayName"!=d&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p92:"BriefDetails"==d&&l.length>0?"%"+l+"%":null,p93:"FlowCode"==d&&l.length>0?"%"+l+"%":null,p94:"FlowDisplayName"==d&&l.length>0?"%"+l+"%":null,p95:"FixonBusinessFlowName"!=d&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p96:"FixonBusinessFlowName"==d&&l.length>0?"%"+l+"%":null,p97:"PPMFixonBusinessFlowCode"==d&&l.length>0?"%"+l+"%":null,p98:"PPMStageName"!=d&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p99:"PPMStageName"==d&&l.length>0?"%"+l+"%":null,p100:"StageSeqNo"==d&&l.length>0?"%"+l+"%":null,p101:"SSCreWorkOrder"==d&&l.length>0?"%"+l+"%":null,p102:r||1,p103:10,p104:t,p105:null,p106:null,p107:localStorage.getItem("UserGroupID"),p108:localStorage.getItem("userid")}};await(0,c.Z)(C,y,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===r){let e=te(l,d),t=ee(e,P[d],i);o(t),R(t.length>0?t[0].TotalCount:P[d].length)}else{let e=[...n,...l],t=te(e,d);R(t.length<10?t.length:l[0].TotalCount),o(te(t,d))}else p.length>0&&o([]),R(n.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},ee=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function ae(){let e={};await D((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSSEmployeeDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function le(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...P};let m=[..._],S=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSSEmployeeDetIDPK)).toString();t&&S.push(t)}await z((e=>(d=e,e)));let c={PPMSSEmployeeDetIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,EmployeeID:P.FirstName?.map((e=>e.EmployeeIDPK)).toString(),PPMSSCreationWorkOrderID:P.SSCreWorkOrder?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString()};e.searchData(c)}function re(){return r().createElement(b.Z,{frmctrlid:"fld524L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{le(e,t,a,d.name,l)},keyboardback:()=>{E(!1),S({idpk:"",name:"",type:""})},title:X(d.name),fieldname:d.name,save:e=>{alert(!0)}})}return r().createElement("div",null,M?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(re,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Q(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:X("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(N.Z,{id:"fld524L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{E(!1),S({idpk:"",name:"",type:""}),W(1)}}))),P[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld524L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await D((t=>(e=t,B.log("clear fewItems",e),t))),e[d.name]=[],J(d.type,d.name,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},X("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},g?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(F.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(F.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),r().createElement("ul",null,P[d.name]&&P[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=P[d.name].filter((t=>t!=e)),l={};await D((e=>(l=e,e))),l[d.name]=a,D(l),o((t=>[e,...t]))})(e)},r().createElement(N.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(w.Z,{frmctrlid:"fld524L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:p,placeholder:X("Enter ")+" "+Q(d.idpk),onChange:e=>{C(e),J(d.type,d.name,e,1,ae())}})),r().createElement("div",{id:"fld524L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await D((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSSEmployeeDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSSEmployeeDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",EmployeeID:P.FirstName?.map((e=>e.EmployeeIDPK)).toString(),PPMSSCreationWorkOrderID:P.SSCreWorkOrder?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString()};e.searchData(i),E(!1)}},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(A.Z,{color:"secondary"})),r().createElement("div",{id:"fld524L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await D((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},D(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(k.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld524L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(v+1),J(d.type,d.name,"",v+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(O.Ol$,{className:"columnHeaderIcon"})),r().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{$()},id:"fld524L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},X("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld524L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},X("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld524L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{E(!0),C(""),o([]),R(0),S({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSEmployeeDetID"}),J(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSEmployeeDetID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Q(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Q(e.AdminUserGridViewIDPK)),r().createElement(x.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),le("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Q(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,P[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},P[a][0][a]),P[a].length>1&&r().createElement("span",{className:"RoundedDivName"},P[a][1][a]),P[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(P[a].length-2))))));var a}))))))}));var L=a(54180),R=a(43031),K=a(110),Z=a(5109),G=a(88995),z=a(50743),_=a(61657),q=a(51209),V=a(53854),H=a(51649),U=a(37106),j=a(83817),Y=a(39327),X=a(93521),Q=a(71168),$=a.n(Q),J=a(65107),ee=a(94986),te=a(15999);a(11557),window.clickFilter="";const ae=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("524"),[S,p]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),[g,I]=(0,l.useState)(0),[M,E]=(0,l.useState)(0),[T,k]=(0,l.useState)(0),[b,A]=(0,l.useState)(0),[x,B]=(0,l.useState)({current:1,pageSize:100}),[Q,ae]=(0,l.useState)(""),[le,re]=(0,l.useState)([]),[ne,ie]=(0,l.useState)({val:"",column:""}),[oe,de]=(0,l.useState)([]),[se,me]=(0,l.useState)(!1),[Se,ce]=(0,l.useState)(""),[ue,pe]=(0,l.useState)(""),[Ce,Pe]=(0,l.useState)(!1),[ye,De]=(0,l.useState)([]),[ge,Ie]=(0,l.useState)([]),[Me,Ee]=(0,l.useState)([]),[he,fe]=(0,l.useState)({children:[{name:"PPMSSEmployeeDetails",children:[]}]}),[ve,Ne]=(0,l.useState)(!1),Te=(0,l.useContext)(e.context?e.context:Oe),{cstate:ke,cdispatch:be}=e.ContextApi?e.ContextApi:Fe();let we={PPMSSEmployeeDetIDPK:"",PPMSSEmployeeCode:"",IsSSEmpPrimaryEmployee:"",IsSSEmpAllEmployee:"",SSEmpAccptKey:"",SSEmpTypeKey:"",SSEmpNoOfHours:"",SSEmpAmount:"",IsDraft:"",Remarks:"",EmployeeID:"",PPMSSCreationWorkOrderID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,xe]=(0,l.useState)(we),[Be,We]=(0,l.useState)(we),[Le,Re]=(0,l.useState)(!1),[Ke,Ze]=(0,l.useState)(!0),[Ge,ze]=(0,l.useState)(!1),[_e,qe]=(0,l.useState)(!0),[Ve,He]=(0,l.useState)({FirstName:"",IsSSEmpPrimaryEmployee:"",IsSSEmpAllEmployee:"",SSEmpAmount:"",PPMSSEmployeeCode:"",SSEmpAccptKey:"",SSEmpTypeKey:"",SSEmpNoOfHours:"",SSCreWorkOrder:""}),[Ue,je]=(0,l.useState)(!1),[Ye,Xe]=(0,l.useState)([]),[Qe,$e]=(0,l.useState)(0),[Je,et]=(0,l.useState)(0),[tt,at]=(0,l.useState)({current:1,pageSize:10}),[lt,rt]=(0,l.useState)([]),[nt,it]=(0,l.useState)([]),[ot,dt]=(0,l.useState)(!1),[st,mt]=(0,l.useState)(!1),[St,ct]=(0,l.useState)(!1),[ut,pt]=(0,l.useState)(""),[Ct,Pt]=$()("524"),[yt,Dt]=(0,l.useState)({}),gt=[{columns:lt,data:Q}];let It=(0,y.Z)();const Mt=e=>It[e]?It[e]:e,Et=e=>ke.language?.[e]?ke.language[e]:e;(0,l.useEffect)((()=>{bt(Ct)}),[Ct]),(0,l.useEffect)((()=>{ke.token.length>0&&(e.parentId?Tt(x,we,"PPMSSEmployeeDetID"):de([]))}),[e.parentId]),(0,l.useEffect)((()=>{!ve&&e.parentId?Tt(x,Se,"PPMSSEmployeeDetID"):ve&&We(Se)}),[Se]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ht(e)},tableRefresh:()=>{Tt(x,we,"PPMSSEmployeeDetID")},DialogTableProps:e=>{P(e)},HideEntryFields:e=>{ct(!0===e)}})));const ht=e=>{""==e?Tt(x,we,Le?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",Le&&"DraftPage"):kt(e,{current:1,pageSize:100}),pe(e)};function ft(t){Te.loading(!0);let a=u.v.Api+"FP524S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,ke.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,et(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?$e(Math.ceil(a)):20==t.pageSize?$e(Math.ceil(a/2)):50==t.pageSize?$e(Math.ceil(a/5)):100==t.pageSize&&$e(Math.ceil(a/10)),Xe(e.Output.data),Te.loading(!1)}}))}function vt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!0}),Te.Expanded(!0),Ge&&Pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&qe(e.cardview),e.Dialogview&&(P(e.Dialogview),ct(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&kt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const Nt=()=>{Te.EditClose(!0),se?(document.getElementById("PPMSSEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSSEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSSEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),_e?(C||(document.getElementById("PPMSSEmployeeDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSEmployeeDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSSEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSSEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSSEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("PPMSSEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Pe(!1),window.clickFilter=!se},Tt=(t,a,l,r,n,i)=>{Te.loading(!0),"DraftPage"!==r&&Re(ke.IsDraft);let o=u.v.Api+"FP524S3/",d={data:{p1:n||(a&&a.PPMSSEmployeeDetIDPK?a.PPMSSEmployeeDetIDPK:null),p2:a&&a.PPMSSEmployeeCode?a.PPMSSEmployeeCode:null,p3:null,p4:null,p5:a&&a.SSEmpAccptKey?a.SSEmpAccptKey:null,p6:a&&a.SSEmpTypeKey?a.SSEmpTypeKey:null,p7:a&&a.SSEmpNoOfHours?a.SSEmpNoOfHours:null,p8:a&&a.SSEmpAmount?a.SSEmpAmount:null,p9:"DraftPPMSSEmployeeDetID"==l?"1":"0",p10:null,p11:a&&a.EmployeeID?a.EmployeeID:null,p12:e.parentId?Number(e.parentId):0,p13:a&&a.IsActive,p14:null,p15:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p16:a&&a.CreatedTtm?a.CreatedTtm:null,p17:a&&a.CreatedTtmType?a.CreatedTtmType:null,p18:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p19:null,p20:a&&a.ShiftID?a.ShiftID:null,p21:a&&a.ShiftCode?a.ShiftCode:null,p22:a&&a.ShiftName?a.ShiftName:null,p23:a&&a.ClassificationID?a.ClassificationID:null,p24:a&&a.ClassificationCode?a.ClassificationCode:null,p25:a&&a.ClassificationName?a.ClassificationName:null,p26:a&&a.DepartmentID?a.DepartmentID:null,p27:a&&a.DepartmentCode?a.DepartmentCode:null,p28:a&&a.DepartmentName?a.DepartmentName:null,p29:a&&a.DesignationID?a.DesignationID:null,p30:a&&a.DesignationCode?a.DesignationCode:null,p31:a&&a.DesignationName?a.DesignationName:null,p32:a&&a.NationalityID?a.NationalityID:null,p33:a&&a.NationalityCode?a.NationalityCode:null,p34:a&&a.NationalityName?a.NationalityName:null,p35:a&&a.EmpWorkNatureID?a.EmpWorkNatureID:null,p36:a&&a.NatureOfWorkCode?a.NatureOfWorkCode:null,p37:a&&a.NatureOfWorkName?a.NatureOfWorkName:null,p38:a&&a.EmployeeTypeID?a.EmployeeTypeID:null,p39:a&&a.EmployeeTypeCode?a.EmployeeTypeCode:null,p40:a&&a.EmployeeTypeName?a.EmployeeTypeName:null,p41:a&&a.EmploymentTypeID?a.EmploymentTypeID:null,p42:a&&a.EmploymentTypCode?a.EmploymentTypCode:null,p43:a&&a.EmploymentTypeName?a.EmploymentTypeName:null,p44:a&&a.EmployeeGroupID?a.EmployeeGroupID:null,p45:a&&a.EmployeeGroupCode?a.EmployeeGroupCode:null,p46:a&&a.EmployeeGroupName?a.EmployeeGroupName:null,p47:a&&a.EmpGradeID?a.EmpGradeID:null,p48:a&&a.EmpGradeCode?a.EmpGradeCode:null,p49:a&&a.EmpGradeName?a.EmpGradeName:null,p50:a&&a.CityID?a.CityID:null,p51:a&&a.CityCode?a.CityCode:null,p52:a&&a.CityName?a.CityName:null,p53:a&&a.RegionID?a.RegionID:null,p54:a&&a.RegionCode?a.RegionCode:null,p55:a&&a.RegionName?a.RegionName:null,p56:a&&a.CountryID?a.CountryID:null,p57:a&&a.CountryCode?a.CountryCode:null,p58:a&&a.CountryName?a.CountryName:null,p59:a&&a.EmpGenderID?a.EmpGenderID:null,p60:a&&a.EmpGenderName?a.EmpGenderName:null,p61:a&&a.EmpTitleID?a.EmpTitleID:null,p62:a&&a.EmpTitleName?a.EmpTitleName:null,p63:a&&a.EmployeeCode?a.EmployeeCode:null,p64:a&&a.FirstName?a.FirstName:null,p65:a&&a.EmpContactNo1?a.EmpContactNo1:null,p66:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p67:a&&a.ContractID?a.ContractID:null,p68:a&&a.ContractCode?a.ContractCode:null,p69:a&&a.ContractName?a.ContractName:null,p70:a&&a.LocalityID?a.LocalityID:null,p71:a&&a.LocalityCode?a.LocalityCode:null,p72:a&&a.LocalityName?a.LocalityName:null,p73:a&&a.BuildingID?a.BuildingID:null,p74:a&&a.BuildingCode?a.BuildingCode:null,p75:a&&a.BuildingName?a.BuildingName:null,p76:a&&a.FloorID?a.FloorID:null,p77:a&&a.FloorCode?a.FloorCode:null,p78:a&&a.FloorName?a.FloorName:null,p79:a&&a.SpotID?a.SpotID:null,p80:a&&a.SpotCode?a.SpotCode:null,p81:a&&a.SpotName?a.SpotName:null,p82:a&&a.DivisionID?a.DivisionID:null,p83:a&&a.DivisionCode?a.DivisionCode:null,p84:a&&a.DivisionName?a.DivisionName:null,p85:a&&a.DisciplineID?a.DisciplineID:null,p86:a&&a.DisciplineCode?a.DisciplineCode:null,p87:a&&a.DisciplineName?a.DisciplineName:null,p88:a&&a.FrequencyID?a.FrequencyID:null,p89:a&&a.FrequencyCode?a.FrequencyCode:null,p90:a&&a.FrequencyName?a.FrequencyName:null,p91:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p92:a&&a.BriefDetails?a.BriefDetails:null,p93:a&&a.FlowCode?a.FlowCode:null,p94:a&&a.FlowDisplayName?a.FlowDisplayName:null,p95:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p96:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p97:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p98:a&&a.PPMStageID?a.PPMStageID:null,p99:a&&a.PPMStageName?a.PPMStageName:null,p100:a&&a.StageSeqNo?a.StageSeqNo:null,p101:a&&a.SSCreWorkOrder?a.SSCreWorkOrder:null,p102:n?1:t.current,p103:t.pageSize,p104:l,p105:null,p106:null,p107:localStorage.getItem("UserGroupID"),p108:localStorage.getItem("userid")}};(0,c.Z)(o,d,ke.token[0]).then((o=>{if(n)(0,j.a)(o,be,r,i,Te);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,k(o.Output.data[0].TotalCount),A(o.Output.data[0].DraftCnt),be({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&A(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?E(Math.ceil(e)):20==t.pageSize?E(Math.ceil(e/2)):50==t.pageSize?E(Math.ceil(e/5)):100==t.pageSize&&E(Math.ceil(e/10)),de(o.Output.data),Te.loading(!1)}e.Dialogview||(document.getElementById("divPPMSSEmployeeDetails-Entry").style.height="auto",document.getElementById("divPPMSSEmployeeDetails-Entry").style.display="block")}else Te.loading(!1),"DraftPPMSSEmployeeDetID"===l?(Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Pe(!0),Re(!1)):(de([]),B({current:1,pageSize:10}),E(0),k(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Te.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Te.loading(!1)}))};function kt(t,a){Te.loading(!0);const l=u.v.Api+"FP524S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Le?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,r,ke.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,k(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?E(Math.ceil(t)):20==a.pageSize?E(Math.ceil(t/2)):50==a.pageSize?E(Math.ceil(t/5)):100==a.pageSize&&E(Math.ceil(t/10)),de(e.Output.data),Te.loading(!1)}else de([]),E(0),k(0),be({type:"count",payload:"0"}),Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Te.loading(!1);else Te.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Te.loading(!1)}))}function bt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),be({type:"language",payload:Object.assign({},...r)}),He(a.reduce(((e,t)=>(e[t]="",e)),{})),De(e),Ie(t),Ee(a),rt(l),it(a)}const wt=()=>ve?null:r().createElement("div",null,Ue?r().createElement(ee.Z,{data:Ye,expanded:e=>!C&&Te.Expanded(e),edit:(e,t,a)=>{C?Te.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):r().createElement(J.Z,{ref:d,frmctrlid:"tblcs_524_L1_",id:"PPMSSEmployeeDetailsTable",headerdata:ge,tablesearchparams:Ve,searchvalue:e=>{He(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Dt(t),B({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Le?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",Le&&"DraftPage")},bodydata:oe,ondrag:vt,bodyitem:Me,visibleitem:ge,isdraft:Le,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:ke.AccessRights,expanded:e=>!C&&Te.Expanded(e),edit:(e,t,a)=>{C?Te.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Tt(x,null,t?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",t&&"DraftPage",e[l],a)})),Te.hideAddBtn(!0))},viewtoggle:Te.viewtoggle,isexpanded:!C||Ge,tf:Et,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{ze(ke.ExpandTableValue)}),[ke.ExpandTableValue]),r().createElement("div",null,!St&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld524L1ECSearchBar",className:"searchbar1"},r().createElement(w.Z,{frmctrlid:"fld524L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Mt("Search"),value:ue,onChange:e=>{pe(e),Te.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ue?r().createElement("div",{id:"fld524L1TCCloseIconCommonSearch",onClick:()=>{pe(""),Te.searchItem("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld524L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSSEmployeeDetailsgridsearch").focus()}})))),r().createElement("div",null,ke.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld524L1TCAddBtnIsAdd",onClick:()=>{Te.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),r().createElement(h.Z,{expanded:Ke,onChange:()=>()=>{Ze(Ge)}},e.Dialogview&&r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.46-6:37:15 PM-31-5[524]"},`${Et("524")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld524L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(w.Z,{frmctrlid:"fld524L1TCInputSearch",className:"search_input",type:"text",placeholder:Mt("Search"),value:ue,onChange:e=>{ht(e)}}),r().createElement("div",{className:"search_icon"},ue?r().createElement("div",{id:"fld524L1TCInputCloseIcon",onClick:()=>{ht("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld524L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon"}))))))),r().createElement(f.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSSEmployeeDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&r().createElement("div",{frmctrlid:"fld524L1TCFilterDataIsDraft",id:"PPMSSEmployeeDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Nt()}},r().createElement(i.ZP,{title:Mt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(O.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Filter Data"))),!C&&!Le&&!ve&&r().createElement(L.Z,{formctrlidprint:"fld524L1TCExportPrint",formctrlidexport:"fld524L1TCExportTable",formctrlidrefresh:"fld524L1TCExportRefresh",title:Et("524"),data:le,exportData:gt,Items:nt,columnIndex:lt,TableVisibleItem:ge,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Te.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Te.loading(!0);let o=u.v.Api+"FP524S3/",d={data:{p1:t&&t.PPMSSEmployeeDetIDPK?t.PPMSSEmployeeDetIDPK:null,p2:t&&t.PPMSSEmployeeCode?t.PPMSSEmployeeCode:null,p3:null,p4:null,p5:t&&t.SSEmpAccptKey?t.SSEmpAccptKey:null,p6:t&&t.SSEmpTypeKey?t.SSEmpTypeKey:null,p7:t&&t.SSEmpNoOfHours?t.SSEmpNoOfHours:null,p8:t&&t.SSEmpAmount?t.SSEmpAmount:null,p9:Le?"1":"0",p10:null,p11:t&&t.EmployeeID?t.EmployeeID:null,p12:e.parentId?Number(e.parentId):0,p13:t&&t.IsActive,p14:null,p15:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p16:t&&t.CreatedTtm?t.CreatedTtm:null,p17:t&&t.CreatedTtmType?t.CreatedTtmType:null,p18:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p19:null,p20:t&&t.ShiftID?t.ShiftID:null,p21:t&&t.ShiftCode?t.ShiftCode:null,p22:t&&t.ShiftName?t.ShiftName:null,p23:t&&t.ClassificationID?t.ClassificationID:null,p24:t&&t.ClassificationCode?t.ClassificationCode:null,p25:t&&t.ClassificationName?t.ClassificationName:null,p26:t&&t.DepartmentID?t.DepartmentID:null,p27:t&&t.DepartmentCode?t.DepartmentCode:null,p28:t&&t.DepartmentName?t.DepartmentName:null,p29:t&&t.DesignationID?t.DesignationID:null,p30:t&&t.DesignationCode?t.DesignationCode:null,p31:t&&t.DesignationName?t.DesignationName:null,p32:t&&t.NationalityID?t.NationalityID:null,p33:t&&t.NationalityCode?t.NationalityCode:null,p34:t&&t.NationalityName?t.NationalityName:null,p35:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p36:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p37:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p38:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p39:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p40:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p41:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p42:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p43:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p44:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p45:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p46:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p47:t&&t.EmpGradeID?t.EmpGradeID:null,p48:t&&t.EmpGradeCode?t.EmpGradeCode:null,p49:t&&t.EmpGradeName?t.EmpGradeName:null,p50:t&&t.CityID?t.CityID:null,p51:t&&t.CityCode?t.CityCode:null,p52:t&&t.CityName?t.CityName:null,p53:t&&t.RegionID?t.RegionID:null,p54:t&&t.RegionCode?t.RegionCode:null,p55:t&&t.RegionName?t.RegionName:null,p56:t&&t.CountryID?t.CountryID:null,p57:t&&t.CountryCode?t.CountryCode:null,p58:t&&t.CountryName?t.CountryName:null,p59:t&&t.EmpGenderID?t.EmpGenderID:null,p60:t&&t.EmpGenderName?t.EmpGenderName:null,p61:t&&t.EmpTitleID?t.EmpTitleID:null,p62:t&&t.EmpTitleName?t.EmpTitleName:null,p63:t&&t.EmployeeCode?t.EmployeeCode:null,p64:t&&t.FirstName?t.FirstName:null,p65:t&&t.EmpContactNo1?t.EmpContactNo1:null,p66:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p67:t&&t.ContractID?t.ContractID:null,p68:t&&t.ContractCode?t.ContractCode:null,p69:t&&t.ContractName?t.ContractName:null,p70:t&&t.LocalityID?t.LocalityID:null,p71:t&&t.LocalityCode?t.LocalityCode:null,p72:t&&t.LocalityName?t.LocalityName:null,p73:t&&t.BuildingID?t.BuildingID:null,p74:t&&t.BuildingCode?t.BuildingCode:null,p75:t&&t.BuildingName?t.BuildingName:null,p76:t&&t.FloorID?t.FloorID:null,p77:t&&t.FloorCode?t.FloorCode:null,p78:t&&t.FloorName?t.FloorName:null,p79:t&&t.SpotID?t.SpotID:null,p80:t&&t.SpotCode?t.SpotCode:null,p81:t&&t.SpotName?t.SpotName:null,p82:t&&t.DivisionID?t.DivisionID:null,p83:t&&t.DivisionCode?t.DivisionCode:null,p84:t&&t.DivisionName?t.DivisionName:null,p85:t&&t.DisciplineID?t.DisciplineID:null,p86:t&&t.DisciplineCode?t.DisciplineCode:null,p87:t&&t.DisciplineName?t.DisciplineName:null,p88:t&&t.FrequencyID?t.FrequencyID:null,p89:t&&t.FrequencyCode?t.FrequencyCode:null,p90:t&&t.FrequencyName?t.FrequencyName:null,p91:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p92:t&&t.BriefDetails?t.BriefDetails:null,p93:t&&t.FlowCode?t.FlowCode:null,p94:t&&t.FlowDisplayName?t.FlowDisplayName:null,p95:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p96:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p97:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p98:t&&t.PPMStageID?t.PPMStageID:null,p99:t&&t.PPMStageName?t.PPMStageName:null,p100:t&&t.StageSeqNo?t.StageSeqNo:null,p101:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p102:x.current,p103:T,p104:Le?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",p105:null,p106:null,p107:localStorage.getItem("UserGroupID"),p108:localStorage.getItem("userid")}};Te.loading(!1),Te.alert({open:!0,color:"success",message:[`${Et(524)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(o,d,ke.token[0],i).then((e=>{(0,X.PDF_Excel_Generate)(e,Te,nt,ae,a,i)}))})(Se,ne.column,0,0,t)},Refresh:()=>{pe(""),B({current:1,pageSize:100}),d.current.clearItem(),ke.IsDraft?Tt({current:1,pageSize:100},we,"DraftPPMSSEmployeeDetID"):Tt({current:1,pageSize:100},we,"PPMSSEmployeeDetID")},disabledPrint:!ke.AccessRights.IsPrint,disabledExport:!ke.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Le&&!ve&&!C&&r().createElement("div",{className:"buttoncard",onClick:()=>mt(!st)},r().createElement("span",null,st?r().createElement(i.ZP,{disableFocusListener:!0,title:Mt("Less"),placement:"top"},r().createElement("span",{id:"fld524L1TCLess"},r().createElement(V.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Mt("More"),placement:"top"},r().createElement("span",{id:"fld524L1TCMore"},r().createElement(V.ilJ,{className:"tableFilterColumnIcon"}))))),st?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},ve||!Ge?null:C||!ke.AccessRights.IsAdd||Le?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld524L1TCFilterDataIsAdd",id:"PPMSSEmployeeDetailscoldiv",className:"buttoncard",onClick:()=>{Te.EditClose(!0),Ce?(document.getElementById("PPMSSEmployeeDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSEmployeeDetailsTabDiv").style.width="100%",document.getElementById("PPMSSEmployeeDetailsFilterDiv").style.display="none",document.getElementById("PPMSSEmployeeDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSEmployeeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Pe(!1)):(document.getElementById("PPMSSEmployeeDetailsFilterDiv").style.width="25%",document.getElementById("PPMSSEmployeeDetailsTabDiv").style.width="75%",document.getElementById("PPMSSEmployeeDetailsFilterDiv").style.display="block",document.getElementById("PPMSSEmployeeDetailsfildiv").style.width="fit-content",document.getElementById("PPMSSEmployeeDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSEmployeeDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSEmployeeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Pe(!0)),me(!1)}},r().createElement(i.ZP,{title:Mt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(Y.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&Ge&&!ve&&!Le&&r().createElement("div",null,r().createElement("div",{id:"PPMSSEmployeeDetailscoldiv",className:"buttoncard",onClick:()=>{Ue?je(!1):(je(!0),ft({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Mt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld524L1TCTableScrollData"},r().createElement(te.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Table Scroll Data")))),!ve&&Le?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Te.hideAddBtn(!1),Te.ExpandEntry(),Tt({current:1,pageSize:100},we,"PPMSSEmployeeDetID"),Re(!1),pe(""),be({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},r().createElement(i.ZP,{title:Mt("List"),placement:"top"},r().createElement("div",{id:"fld524L1TCList"},r().createElement(H.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Mt("Drafts")," ",T)):!C&&!ve&&ke.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(v.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},r().createElement("div",{id:"fld524L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(B({current:1,pageSize:100}),I(0),Te.clear(),pe(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},we,"DraftPPMSSEmployeeDetID"),Re(!0),be({type:"IsDraft",payload:!0}),Pe(!1),qe(!0),document.getElementById("PPMSSEmployeeDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSEmployeeDetailsTabDiv").style.width="100%",document.getElementById("PPMSSEmployeeDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),Ne(!1)):Te.alert({open:!0,color:"warning",message:[Mt("There is no Record Found")]})}},r().createElement(i.ZP,{title:Mt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(U.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Mt("Drafts"))))))):""),!Le&&!C&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},ve||Le?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld524L1TCListView",onClick:()=>{qe(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(V.umT,null)),r().createElement("span",null,Mt("List"))),r().createElement("div",{className:_e||ot?"buttonGrid":"buttonList",id:"fld524L1TCCardView",onClick:()=>{qe(!1),dt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(F.aCJ,null)),r().createElement("span",null,Mt("Card"))),r().createElement("div",{className:ot?"buttonList":"buttonGrid",id:"fld524L1TCTileView",onClick:()=>{dt(!0),qe(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(D.f_H,null)),r().createElement("span",null,Mt("Tile"))))))),ve?null:Ue?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld524L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:g,onPageChange:(e,t)=>{I(t),ft({current:t+1,pageSize:tt.pageSize}),at({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:Qe,color:"primary",page:tt.current,onChange:(e,t)=>{at({current:t,pageSize:tt.pageSize}),$e(t),ft({current:t,pageSize:tt.pageSize})}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld524L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Ge&&r().createElement("p",{className:"per-page"},"/ ",Mt("RowperpageOf")," (",Je,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld524L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:g,onPageChange:(e,t)=>{I(t),Tt({current:t+1,pageSize:x.pageSize},we,Le?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",Le&&"DraftPage"),B({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:M,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(B({current:t,pageSize:x.pageSize}),Le)Tt({current:t,pageSize:x.pageSize},Ae,"DraftPPMSSEmployeeDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ue.length>0?kt(ue,{current:t,pageSize:x.pageSize}):Tt({current:t,pageSize:x.pageSize},Ae,"PPMSSEmployeeDetID")}}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld524L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),Le?Tt({current:1,pageSize:e.target.value},Ae,"DraftPPMSSEmployeeDetID","DraftPage"):ue.length>0?kt(ue,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Ae,"PPMSSEmployeeDetID")}},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Ge&&r().createElement("p",{className:"per-page"},"/ ",Mt("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSSEmployeeDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSSEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},se&&r().createElement(W,{parentId:e.parentId,searchData:e=>{ce(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:ke.token[0],CloseBtnClk:()=>Nt(),userGrid:Ct,msg:(e,t)=>Te.alert({open:!0,color:t,message:[e]})}),Ce&&r().createElement(Z.Z,{Refresh:e=>{Tt({current:1,pageSize:100},we,"PPMSSEmployeeDetID")},frmctrlid:"fld524L1TCTableColumnOrder",loading:e=>Te.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Te.alert({open:!0,color:t,message:[e]}),select:Ce,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&bt(t),Pt(t),be({type:"showTableview",payload:t})},Token:ke.token[0]})),r().createElement("div",{id:"PPMSSEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?r().createElement(wt,null):r().createElement(q.Z,{frmctrlid:"fld524L1TCExpandedCardDual",data:oe,id:"PPMSSEmployeeDetails",title:"PPMSSEmployeeCode",cardTile:!!ot,visibleitem:ge,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?Te.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!1}),Te.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Le}),be({type:"ShowDetail",payload:!0}),Te.Expanded(!0),Te.viewtoggle()),se?me(!0):Ce?Pe(!0):(Pe(!1),Pe(!1))),Te.hideAddBtn(!0)}})))))))}));var le=a(30553),re=a(61956),ne=a(44528),ie=a(99090),oe=a(35131),de=a.n(oe),se=a(61924),me=a.n(se),Se=a(40826),ce=a(55490),ue=a(92371);const pe={EnterKeyValues:{PPMSSEmployeeDetails:["FirstName","IsSSEmpPrimaryEmployee","IsSSEmpAllEmployee","SSEmpAmount","PPMSSEmployeeCode","SSEmpAccptKey","SSEmpTypeKey","SSEmpNoOfHours","SSCreWorkOrder"]},Label:{PPMSSEmployeeDetails:{EmployeeID:["EmployeeCode","FirstName","LastName"],IsSSEmpPrimaryEmployee:["PPMSSEmployeeCode"],IsSSEmpAllEmployee:["PPMSSEmployeeCode"],SSEmpAmount:["PPMSSEmployeeCode"],PPMSSEmployeeCode:["PPMSSEmployeeCode"],SSEmpAccptKey:["PPMSSEmployeeCode"],SSEmpTypeKey:["PPMSSEmployeeCode"],SSEmpNoOfHours:["PPMSSEmployeeCode"],PPMSSCreationWorkOrderID:["PPMSSEmployeeCode"]}},LabelHeader:{PPMSSEmployeeDetails:{EmployeeID:["Employee Code","First Name","Last Name"],IsSSEmpPrimaryEmployee:["PPMSSEmployeeCode"],IsSSEmpAllEmployee:["PPMSSEmployeeCode"],SSEmpAmount:["PPMSSEmployeeCode"],PPMSSEmployeeCode:["PPMSSEmployeeCode"],SSEmpAccptKey:["PPMSSEmployeeCode"],SSEmpTypeKey:["PPMSSEmployeeCode"],SSEmpNoOfHours:["PPMSSEmployeeCode"],PPMSSCreationWorkOrderID:["PPMSSEmployeeCode"]}},Property:{PPMSSEmployeeDetails:{EmployeeID:{id:"fld524_22777",clearID:"PPMSSEmployeeDetailsFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"Employee",fielddisplayname:"FirstName",fieldOrder:"1",frmctrlid:"fld524_22777",frmctrlidname:"EmployeeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},IsSSEmpPrimaryEmployee:{id:"fld524_22769",labelID:"IsSSEmpPrimaryEmployee",maxLength:"",labelname:"Primary Employee",frmctrlid:"fld524_22769",frmctrlidname:"IsSSEmpPrimaryEmployee",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSSEmpAllEmployee:{id:"fld524_22770",labelID:"IsSSEmpAllEmployee",maxLength:"",labelname:"Show all Employees",frmctrlid:"fld524_22770",frmctrlidname:"IsSSEmpAllEmployee",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSEmpAmount:{id:"fld524_22774",labelID:"SSEmpAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld524_22774",frmctrlidname:"SSEmpAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSEmployeeCode:{id:"fld524_22768",labelID:"PPMSSEmployeeCode",maxLength:"50",labelname:"PPMSSEmployeeCode",frmctrlid:"fld524_22768",frmctrlidname:"PPMSSEmployeeCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSEmpAccptKey:{id:"fld524_22771",labelID:"SSEmpAccptKey",maxLength:"",labelname:"SSEmpAccptKey",frmctrlid:"fld524_22771",frmctrlidname:"SSEmpAccptKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSEmpTypeKey:{id:"fld524_22772",labelID:"SSEmpTypeKey",maxLength:"",labelname:"SSEmpTypeKey",frmctrlid:"fld524_22772",frmctrlidname:"SSEmpTypeKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSEmpNoOfHours:{id:"fld524_22773",labelID:"SSEmpNoOfHours",maxLength:"",labelname:"SSEmpNoOfHours",frmctrlid:"fld524_22773",frmctrlidname:"SSEmpNoOfHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationWorkOrderID:{id:"fld524_22778",clearID:"PPMSSEmployeeDetailsSSCreWorkOrderClear",type:"select",labelID:"PPMSSCreationWorkOrderIDPK",labelname:"PPMSSCreationWorkOrderID",fielddisplayname:"SSCreWorkOrder",fieldOrder:"3",frmctrlid:"fld524_22778",frmctrlidname:"PPMSSCreationWorkOrderID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSSEmployeeDetails:{EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"],PPMSSCreationWorkOrderID:["BuildingID","ContractID","DisciplineID","DivisionID","FloorID","FrequencyID","LocalityID","PPMStageID","SpotID","SSCreWorkOrder","SSCreWoDateTime","SSCreSLAHours"]}}};var Ce=a(6562),Pe=a(45155),ye=a(79352),De=(a(49174),a(38773)),ge=(a(19089),a(16233)),Ie=a.n(ge),Me=(a(82729),a(75355),a(11107),a(74095));const Ee={PPMSSEmployeeDetIDPK:"",PPMSSEmployeeCode:"",IsSSEmpPrimaryEmployee:!1,IsSSEmpAllEmployee:!1,SSEmpAccptKey:"",SSEmpTypeKey:"",SSEmpNoOfHours:"",SSEmpAmount:"",IsDraft:!1,Remarks:"",EmployeeID:null,PPMSSCreationWorkOrderID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:null,EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",Type:"PPMSSEmployeeDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},he=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,S]=(0,l.useState)(!0),[P,D]=(0,l.useState)(!1),[g,M]=(0,l.useState)(!1),[E,v]=(0,l.useState)(""),[N,T]=(0,l.useState)(!1),[k,b]=(0,l.useState)([]),[w,O]=(0,l.useState)(null),[F,A]=(0,l.useReducer)(ue.Z,Ee),[B,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:Oe),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:Fe(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ie()("524"),[$,J]=(0,l.useState)([]),ee=(0,l.useRef)(null),[te,ae]=(0,l.useState)(!0),[oe,se]=(0,l.useState)(!0),[Se,De]=(0,l.useState)(!0),[ge,he]=(0,l.useState)(!0),[fe,ve]=(0,l.useState)(!1);let Ne=(0,y.Z)();const[Te,ke]=(0,l.useState)({}),be=e=>Ne[e]?Ne[e]:e,we=t=>_.language?.[t]?_.language[t]:e.createEasy?Te?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{xe()}),[]),(0,l.useEffect)((()=>{xe()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(Ae(_.editData[0],""),D(!0)):_.Add&&(xe(),D(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ke(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{xe()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(He(t),D(e)):(xe(),D(e))},AddOpen:e=>{xe(),D(!0)}})));const Ae=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),M(t.IsDraft),"SetDefaultPPMSSEmployeeDetID"==a?j(t.PPMSSEmployeeDetIDPK):(H(e.primid?Number(e.primid):t.PPMSSEmployeeDetIDPK?t.PPMSSEmployeeDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSSEmployeeDetIDPK})),A({type:"number",name:"EmployeeID",number:t.EmployeeID?Number(t.EmployeeID):0}),A({type:"text",name:"FirstName",value:t.FirstName}),A({type:"boolean",name:"IsSSEmpPrimaryEmployee",boolean:!!t.IsSSEmpPrimaryEmployee&&t.IsSSEmpPrimaryEmployee}),A({type:"boolean",name:"IsSSEmpAllEmployee",boolean:!!t.IsSSEmpAllEmployee&&t.IsSSEmpAllEmployee}),A({type:"number",name:"SSEmpAmount",number:Number(t.SSEmpAmount)}),A({type:"text",name:"PPMSSEmployeeCode",value:t.PPMSSEmployeeCode?t.PPMSSEmployeeCode:""}),A({type:"number",name:"SSEmpAccptKey",number:t.SSEmpAccptKey}),A({type:"number",name:"SSEmpTypeKey",number:t.SSEmpTypeKey}),A({type:"number",name:"SSEmpNoOfHours",number:t.SSEmpNoOfHours}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:t.PPMSSCreationWorkOrderID?Number(t.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:t.SSCreWorkOrder}),t.IsDraft?S(!0):S(!("1"!=t.IsActive&&!t.IsActive))},xe=()=>{b([]),j(""),q({type:"PrimaryId",payload:""}),A({type:"text",name:"EmployeeID",value:null}),A({type:"text",name:"FirstName",value:""}),document.getElementById("PPMSSEmployeeDetailsFirstNameClear")&&document.getElementById("PPMSSEmployeeDetailsFirstNameClear").click(),document.getElementById("PPMSSEmployeeDetailsEmployeeIDClear")&&document.getElementById("PPMSSEmployeeDetailsEmployeeIDClear").click(),J([]),A({type:"boolean",name:"IsSSEmpPrimaryEmployee",boolean:!1}),A({type:"boolean",name:"IsSSEmpAllEmployee",boolean:!1}),A({type:"number",name:"SSEmpAmount",number:0}),A({type:"text",name:"PPMSSEmployeeCode",value:""}),A({type:"number",name:"SSEmpAccptKey",number:0}),A({type:"number",name:"SSEmpTypeKey",number:0}),A({type:"number",name:"SSEmpNoOfHours",number:0}),A({type:"text",name:"PPMSSCreationWorkOrderID",value:null}),A({type:"text",name:"SSCreWorkOrder",value:""}),document.getElementById("PPMSSEmployeeDetailsSSCreWorkOrderClear")&&document.getElementById("PPMSSEmployeeDetailsSSCreWorkOrderClear").click(),H(0),S(!0),v(""),ae(!0),se(!0),De(!0),he(!0)},Be=t=>{ae(!0),se(!0),De(!0),he(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=`${u.v.Api}${V?"FP524S1/":"FP524S19/"}`,l={data:[{p1:"SetDefaultPPMSSEmployeeDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:Ue(F.PPMSSEmployeeCode),p3:F.IsSSEmpPrimaryEmployee,p4:F.IsSSEmpAllEmployee,p5:F.SSEmpAccptKey?Number(F.SSEmpAccptKey):0,p6:F.SSEmpTypeKey?Number(F.SSEmpTypeKey):0,p7:F.SSEmpNoOfHours?Number(F.SSEmpNoOfHours):0,p8:F.SSEmpAmount?Number(F.SSEmpAmount):0,p9:!1,p10:"SetDefaultPPMSSEmployeeDetID"==t?"SetDefault":null,p11:V?F.EmployeeID:0==$.length?0:$.map((e=>e.EmployeeIDPK)).toString(),p12:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p13:d,p14:"SetDefaultPPMSSEmployeeDetID"==t,p15:localStorage.getItem("userid"),p16:de()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((r=>{(0,re.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?("SetDefaultPPMSSEmployeeDetID"==t?G.alert({open:!0,color:"success",message:[be("Default Record Configured")]}):G.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttPPMSSEmployeeDetails"),G.loading(!1),q({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(a[0].Data.IDPK)),xe(),_.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttPPMSSEmployeeDetails")&&(document.getElementById("overlayimgAttPPMSSEmployeeDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSEmployeeDetails").style.display="none",document.getElementById("divPPMSSEmployeeDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSSEmployeeDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1)),D(!0)}))}))},We=t=>{G.loading(!0),G.ConfirmAlert(null);const a=u.v.Api+"FP524S2/",l={data:[{p1:"SetDefaultPPMSSEmployeeDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:Ue(F.PPMSSEmployeeCode),p3:F.IsSSEmpPrimaryEmployee,p4:F.IsSSEmpAllEmployee,p5:F.SSEmpAccptKey?Number(F.SSEmpAccptKey):0,p6:F.SSEmpTypeKey?Number(F.SSEmpTypeKey):0,p7:F.SSEmpNoOfHours?Number(F.SSEmpNoOfHours):0,p8:F.SSEmpAmount?Number(F.SSEmpAmount):0,p9:!1,p10:"SetDefaultPPMSSEmployeeDetID"==t?"SetDefault":null,p11:V?F.EmployeeID:0==$.length?0:$.map((e=>e.EmployeeIDPK)).toString(),p12:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p13:d,p14:"SetDefaultPPMSSEmployeeDetID"==t,p15:localStorage.getItem("userid"),p16:de()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((e=>{(0,c.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,r=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:r}),G.loading(!1)):Be()):(G.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),G.loading(!1))}))}))};function Le(t,a,l,r){if(!(_.count>0))return G.alert({open:!0,color:"warning",message:[be("Please save atleast one record")]}),!1;if(!((()=>{const e={...F};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return G.alert({open:!0,color:"warning",message:[be("Please enter the primary fields")]}),!1;{ae(!0),se(!0),De(!0),he(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP524S1/",l={data:[{p1:"SetDefaultPPMSSEmployeeDetID"==r?"NORECORDS"!=U&&U?U:0:V,p2:Ue(F.PPMSSEmployeeCode),p3:F.IsSSEmpPrimaryEmployee,p4:F.IsSSEmpAllEmployee,p5:F.SSEmpAccptKey?Number(F.SSEmpAccptKey):0,p6:F.SSEmpTypeKey?Number(F.SSEmpTypeKey):0,p7:F.SSEmpNoOfHours?Number(F.SSEmpNoOfHours):0,p8:F.SSEmpAmount?Number(F.SSEmpAmount):0,p9:!0,p10:"SetDefaultPPMSSEmployeeDetID"==r?"SetDefault":null,p11:V?F.EmployeeID:0==$.length?0:$.map((e=>e.EmployeeIDPK)).toString(),p12:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p13:!1,p14:"SetDefaultPPMSSEmployeeDetID"==r,p15:localStorage.getItem("userid"),p16:de()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((r=>{(0,re.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?G.alert({open:!0,color:"warning",message:[be("Deleted Successfully")]}):G.alert({open:!0,color:"success",message:[be("Saved to Draft")]}),G.loading(!1),G.attachmentSave(a[0].Data.IDPK),xe(),G.RefreshTable(),e.clrImgstate(!0)):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1))}))}))}}function Re(e){return CreateEasy(e,_,q,G,Y),!1}function Ke(e,a){return AdvanceSearch(e,a,Oe,Fe(),ze,t),!1}const Ze=(t,a,l,r,n,i)=>{const o=u.v.Api+"FP524S3/",d={data:{p1:null,p2:null,p3:1==F.IsSSEmpPrimaryEmployee,p4:1==F.IsSSEmpAllEmployee,p5:a?"%"+a+"%":null,p6:a?"%"+a+"%":null,p7:a?"%"+a+"%":null,p8:a?"%"+a+"%":null,p9:null,p10:null,p11:F.EmployeeID?F.EmployeeID:null,p12:e.parentId?Number(e.parentId):0,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:"0"==F.ShiftID?null:F.ShiftID,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:"0"==F.ClassificationID?null:F.ClassificationID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==F.DepartmentID?null:F.DepartmentID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==F.DesignationID?null:F.DesignationID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==F.NationalityID?null:F.NationalityID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"==F.EmpWorkNatureID?null:F.EmpWorkNatureID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==F.EmployeeTypeID?null:F.EmployeeTypeID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==F.EmploymentTypeID?null:F.EmploymentTypeID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==F.EmployeeGroupID?null:F.EmployeeGroupID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:"0"==F.EmpGradeID?null:F.EmpGradeID,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==F.CityID?null:F.CityID,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:"0"==F.RegionID?null:F.RegionID,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:"0"==F.CountryID?null:F.CountryID,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:"0"==F.EmpGenderID?null:F.EmpGenderID,p60:a?"%"+a+"%":null,p61:"0"==F.EmpTitleID?null:F.EmpTitleID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:"0"==F.ContractID?null:F.ContractID,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:"0"==F.LocalityID?null:F.LocalityID,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:"0"==F.BuildingID?null:F.BuildingID,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:"0"==F.FloorID?null:F.FloorID,p77:a?"%"+a+"%":null,p78:a?"%"+a+"%":null,p79:"0"==F.SpotID?null:F.SpotID,p80:a?"%"+a+"%":null,p81:a?"%"+a+"%":null,p82:"0"==F.DivisionID?null:F.DivisionID,p83:a?"%"+a+"%":null,p84:a?"%"+a+"%":null,p85:"0"==F.DisciplineID?null:F.DisciplineID,p86:a?"%"+a+"%":null,p87:a?"%"+a+"%":null,p88:"0"==F.FrequencyID?null:F.FrequencyID,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:"0"==F.PPMBusinessFlowID?null:F.PPMBusinessFlowID,p92:a?"%"+a+"%":null,p93:a?"%"+a+"%":null,p94:a?"%"+a+"%":null,p95:"0"==F.PPMFixonBusinessFlowID?null:F.PPMFixonBusinessFlowID,p96:a?"%"+a+"%":null,p97:a?"%"+a+"%":null,p98:"0"==F.PPMStageID?null:F.PPMStageID,p99:a?"%"+a+"%":null,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:t,p103:i||10,p104:l,p105:null,p106:null,p107:localStorage.getItem("UserGroupID"),p108:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);const m={data:s};(0,c.Z)(o,"ClearAll"==l?m:d,"PKDrag"==r?n:_.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?e>0?(R(r),i&&"EmployeeIDPK"==l&&(ee.current.checkedAll(r),G.loading(!1))):R([]):R(L.concat(r)),"SetDefaultPPMSSEmployeeDetID"==l&&(e>0?Ae(r[0],"SetDefaultPPMSSEmployeeDetID"):j("NORECORDS")),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Ge=(t,l,r)=>{const n=u.v.Api+"FP524S3/",i={data:{p1:null,p2:"PPMSSEmployeeCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID?a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID:"0",p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:t,p103:10,p104:"PPMSSEmployeeDetID",p105:null,p106:null,p107:localStorage.getItem("UserGroupID"),p108:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,c.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSSEmployeeCode"==r&&ae(e>0),"SSEmpAccptKey"==r&&se(e>0),"SSEmpTypeKey"==r&&De(e>0),"SSEmpNoOfHours"==r&&he(e>0),R(l)):("PPMSSEmployeeCode"==r&&ae(!0),"SSEmpAccptKey"==r&&se(!0),"SSEmpTypeKey"==r&&De(!0),"SSEmpNoOfHours"==r&&he(!0),R(L.concat(l))),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},ze=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a?A({type:"text",name:t,value:e}):"select"==a&&"EmployeeID"==t&&(A({type:"text",name:"EmployeeID",value:e.EmployeeIDPK?e.EmployeeIDPK:null}),A({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:null}))}),[F]);function _e(e){if("EmployeeID"==e){if(!F.EmployeeID)return!1;A({type:"text",name:"EmployeeID",value:null}),A({type:"text",name:"FirstName",value:""}),document.getElementById("PPMSSEmployeeDetailsEmployeeIDClear")&&document.getElementById("PPMSSEmployeeDetailsEmployeeIDClear").click(),J([]),document.getElementById("PPMSSEmployeeDetailsFirstNameClear")&&document.getElementById("PPMSSEmployeeDetailsFirstNameClear").click()}else if("PPMSSCreationWorkOrderID"==e&&!F.PPMSSCreationWorkOrderID)return!1}function qe(e){if("EmployeeID"==e){if(!F.EmployeeID)return!1;A({type:"text",name:"EmployeeID",value:null})}else if("PPMSSCreationWorkOrderID"==e&&!F.PPMSSCreationWorkOrderID)return!1}const Ve=e=>{G.ConfirmAlert(r().createElement(me(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>He(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("No"),showCancel:!0},be("Do you want to update this record?")))};function He(e){G.ConfirmAlert(null),M(e.IsDraft),H(Number(e.PPMSSEmployeeDetIDPK)?Number(e.PPMSSEmployeeDetIDPK):0),A({type:"number",name:"EmployeeID",number:e.EmployeeID?Number(e.EmployeeID):0}),A({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:""}),A({type:"boolean",name:"IsSSEmpPrimaryEmployee",boolean:!!e.IsSSEmpPrimaryEmployee&&e.IsSSEmpPrimaryEmployee}),A({type:"boolean",name:"IsSSEmpAllEmployee",boolean:!!e.IsSSEmpAllEmployee&&e.IsSSEmpAllEmployee}),A({type:"number",name:"SSEmpAmount",number:e.SSEmpAmount?Number(e.SSEmpAmount):0}),A({type:"text",name:"PPMSSEmployeeCode",value:e.PPMSSEmployeeCode?e.PPMSSEmployeeCode:""}),A({type:"text",name:"SSEmpAccptKey",value:e.SSEmpAccptKey?e.SSEmpAccptKey:""}),A({type:"text",name:"SSEmpTypeKey",value:e.SSEmpTypeKey?e.SSEmpTypeKey:""}),A({type:"text",name:"SSEmpNoOfHours",value:e.SSEmpNoOfHours?e.SSEmpNoOfHours:""}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:e.PPMSSCreationWorkOrderID?Number(e.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:e.SSCreWorkOrder?e.SSCreWorkOrder:""})}const Ue=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(h.Z,{expanded:P,onChange:e=>{}},r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},P&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[524]"}," ",be("Add "),we("524")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(Ce.Z,{row:!0},r().createElement(le.Z,{labelPlacement:"bottom",id:"fld524L1ECEntryCheckbox",control:r().createElement(x.Z,{checked:"1"==d,onChange:e=>S(e.target.checked)}),label:be(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld524L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(Pe.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,be("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{xe()},id:"fld524L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Pe.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,be("Reset")))),"1"===g&&V&&r().createElement(ie.Z,{frmctrlid:"fld524L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Le("draftdel")}}),V&&"1"!==g||e.createEasy?null:_.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{Le()},frmctrlid:"fld524L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ye.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,be("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(C.Z,{frmctrlid:"fld524L1ECSaveBtnIsAdd",name:be(V?"Update":"Save"),disabled:!1,onClick:()=>{!V&&0==$.length||V&&(!F.EmployeeID||0==F.EmployeeID)?G.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+we("EmployeeID")]}):e.parentId&&0!=e.parentId?V?G.ConfirmAlert(r().createElement(me(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:be("Are you sure?"),onConfirm:()=>We(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("Cancel"),showCancel:!0},be(V?"Do you want to Update?":"Do you want to Save?"))):Be():G.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+we("PPMSSCreationWorkOrderID")]})}}):null,!e.createEasy&&r().createElement(I.Z,{frmctrlid:"fld524L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{xe(),D(!1),G.EditClose(!0),G.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(f.Z,null,r().createElement("div",{id:"PPMSSEmployeeDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSSEmployeeDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSSEmployeeDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},V?null:r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(Me.Z,{json:pe,id:F.EmployeeID,"data-testid":F.EmployeeID,value:F.FirstName,SPName:"PPMSSEmployeeDetails",FieldName:"EmployeeID",tfLabel:we("EmployeeID"),ref:ee,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return J(a=t),void a.length;var a},onChange:(e,t)=>{Ze(e,t,"EmployeeIDPK")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{G.loading(!0),Ze("1",t||"","EmployeeIDPK","","",e)},openSlide:()=>{Re("197")},Tabledialog:()=>Ke("197","EmployeeID"),loading:B,clear:e=>{e&&_e("EmployeeID")}})),V?r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ce.Z,{json:pe,id:F.EmployeeID,"data-testid":F.EmployeeID,value:F.FirstName,SPName:"PPMSSEmployeeDetails",FieldName:"EmployeeID",tfLabel:we("EmployeeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>ze(e,"EmployeeID","select"),onChange:(e,t)=>{Ze(e,t,"EmployeeIDPK")},KeyBack:e=>{qe("EmployeeID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Re("197")},Tabledialog:()=>Ke("197","EmployeeID"),loading:B,SideEntryView:!1,clear:e=>{e&&_e("EmployeeID")}})):null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(le.Z,{style:{color:"#337ab7"},"data-testid":F.IsSSEmpPrimaryEmployee,labelPlacement:"end",control:r().createElement(x.Z,{checked:"1"==F.IsSSEmpPrimaryEmployee,onChange:e=>{ze(e.target.checked,"IsSSEmpPrimaryEmployee","boolean")},frmctrlid:"fld524_22769",frmctrlidname:"IsSSEmpPrimaryEmployee",fieldorder:"2",tfLabel:we("IsSSEmpPrimaryEmployee")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:F.IsSSEmpPrimaryEmployee?"#21446F":"#999"}},we("IsSSEmpPrimaryEmployee"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(le.Z,{style:{color:"#337ab7"},"data-testid":F.IsSSEmpAllEmployee,labelPlacement:"end",control:r().createElement(x.Z,{checked:"1"==F.IsSSEmpAllEmployee,onChange:e=>{ze(e.target.checked,"IsSSEmpAllEmployee","boolean")},frmctrlid:"fld524_22770",frmctrlidname:"IsSSEmpAllEmployee",fieldorder:"3",tfLabel:we("IsSSEmpAllEmployee")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:F.IsSSEmpAllEmployee?"#21446F":"#999"}},we("IsSSEmpAllEmployee"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ne.Z,{json:pe,"data-testid":F.SSEmpAmount,SPName:"PPMSSEmployeeDetails",FieldName:"SSEmpAmount",tfLabel:we("SSEmpAmount"),frmctrlid:"fld524_22774",fieldorder:"3",onChange:e=>{ze(e,"SSEmpAmount","number")},clear:e=>{e&&A({type:"number",name:"SSEmpAmount",number:0})},Iscurr:!0,value:F.SSEmpAmount})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.PPMSSEmployeeCode,json:pe,SPName:"PPMSSEmployeeDetails",FieldName:"PPMSSEmployeeCode",tfLabel:we("PPMSSEmployeeCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ve(t),onClick:()=>{te&&Ge(1,"","ClearAll"),ae(!0)},frmctrlid:"fld524_22768",frmctrlidName:"PPMSSEmployeeCode",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{te&&Ge(e,t,"PPMSSEmployeeCode"),ze(t,"PPMSSEmployeeCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ae(!0)},showList:te,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSSEmployeeCode,loading:B,clear:e=>{e&&(A({type:"text",name:"PPMSSEmployeeCode",value:""}),ae(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSEmpAccptKey,json:pe,SPName:"PPMSSEmployeeDetails",FieldName:"SSEmpAccptKey",tfLabel:we("SSEmpAccptKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ve(t),onClick:()=>{oe&&Ge(1,"","ClearAll"),se(!0)},frmctrlid:"fld524_22771",frmctrlidName:"SSEmpAccptKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{oe&&Ge(e,t,"SSEmpAccptKey"),ze(t,"SSEmpAccptKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:F.SSEmpAccptKey,loading:B,clear:e=>{e&&(A({type:"text",name:"SSEmpAccptKey",value:""}),se(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSEmpTypeKey,json:pe,SPName:"PPMSSEmployeeDetails",FieldName:"SSEmpTypeKey",tfLabel:we("SSEmpTypeKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ve(t),onClick:()=>{Se&&Ge(1,"","ClearAll"),De(!0)},frmctrlid:"fld524_22772",frmctrlidName:"SSEmpTypeKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Se&&Ge(e,t,"SSEmpTypeKey"),ze(t,"SSEmpTypeKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:Se,SideEntryView:!1,KeyBack:e=>{},value:F.SSEmpTypeKey,loading:B,clear:e=>{e&&(A({type:"text",name:"SSEmpTypeKey",value:""}),De(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSEmpNoOfHours,json:pe,SPName:"PPMSSEmployeeDetails",FieldName:"SSEmpNoOfHours",tfLabel:we("SSEmpNoOfHours"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ve(t),onClick:()=>{ge&&Ge(1,"","ClearAll"),he(!0)},frmctrlid:"fld524_22773",frmctrlidName:"SSEmpNoOfHours",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ge&&Ge(e,t,"SSEmpNoOfHours"),ze(t,"SSEmpNoOfHours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:F.SSEmpNoOfHours,loading:B,clear:e=>{e&&(A({type:"text",name:"SSEmpNoOfHours",value:""}),he(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{json:pe,id:F.PPMSSCreationWorkOrderID,"data-testid":F.PPMSSCreationWorkOrderID,value:F.SSCreWorkOrder,SPName:"PPMSSEmployeeDetails",FieldName:"PPMSSCreationWorkOrderID",tfLabel:we("PPMSSCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ze(e,"PPMSSCreationWorkOrderID","select"),onChange:(e,t)=>{Ze(e,t,"PPMSSCreationWorkOrderIDPK")},KeyBack:e=>{qe("PPMSSCreationWorkOrderID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Re("521")},Tabledialog:()=>Ke("521","PPMSSCreationWorkOrderID"),loading:B,clear:e=>{e&&_e("PPMSSCreationWorkOrderID")}})))),r().createElement("div",{id:"PPMSSEmployeeDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSEmployeeDetailsSideBar").style.width="0",void T(!1))},"×"),N&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))}));var fe=a(65197);const ve=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,S]=(0,l.useState)(!0),[C,P]=(0,l.useState)(e.showDetail),[D,g]=(0,l.useState)(""),[M,E]=r().useState(!1),[v,N]=r().useState(""),[T,k]=r().useState(!1),b=(0,l.useContext)(Oe),{cstate:w,cdispatch:O}=Fe(),[F,A]=(0,l.useState)(!1),[x,B]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{w.editData.length>0&&(s(w.editData),E(!1),O({type:"PrimaryId",payload:w.editData[0].PPMSSEmployeeDetIDPK}))}),[w.editData]),(0,l.useEffect)((()=>{w.showTableview&&K(w.showTableview)}),[w.showTableview]),(0,l.useEffect)((()=>{S(w.ExpandDetailValue)}),[w.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP524S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:1,p103:10,p104:w.IsDraft?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",p105:null,p106:null,p107:localStorage.getItem("UserGroupID"),p108:localStorage.getItem("userid")}};(0,p.Z)(0).then((e=>{(0,c.Z)(l,r,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const G=e=>Z?.[e]?Z?.[e]:e,_=e=>w.language?.[e]?w.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{N(T?Object.assign(...i.filter((e=>e.PPMSSEmployeeDetIDPK==t)).map((e=>e))):w.editData),E(!l&&e)};return r().createElement("div",null,r().createElement(h.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&S(!m)}},!M&&r().createElement(z.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},w.IsDraft?G("Draft"):"",_("PPMSSEmployeeDetails"),e.viewonly?" ":"("+w.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&w.AccessRights.IsAdd?r().createElement(o.Z,{name:G("Add"),frmctrlid:"fld524L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),O({type:"editData",payload:[]}),O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&w.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld524L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):w.IsDraft&&w.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld524L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(I.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld524L1VCCloseBtn",onClick:()=>{S(!1),b.hideAddBtn(!1),T&&(O({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(f.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},M==="panel"+l?r().createElement(he,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(fe.Z,{tableName:"PPMSSEmployeeDetails",tableID:524,parentID:t.PPMSSEmployeeDetIDPK,fldid:"fld524L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:G,title:"10.0.0.46-6:37:15 PM-31-5[524]"}))))))))}));var Ne=a(67698),Te=a(55995),ke=(a(45965),a(41722)),be=a(9175),we=a.n(be);const Oe=(0,l.createContext)(),Fe=()=>{const e=(0,l.useContext)(Oe);if(void 0===e)throw new Error("useCont must be used within  PPMSSEmployeeDetailsContext Provider");return e},Ae=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,S]=(0,l.useState)(!0),[c,u]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[P,y]=(0,l.useState)(0),[D,g]=(0,l.useReducer)(ke.D,ke.E),[I,M]=(0,l.useState)(""),[E,h]=(0,l.useState)([]),[f,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSSEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{S(!0),document.getElementById("divPPMSSEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{h([]),document.getElementById("divPPMSSEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSSEmployeeDetailsEntryTable").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainEntry").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainEntry").style.display="block",document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSEmployeeDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSEmployeeDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,p.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),y(t.length),T(e)}))}))}),[]);const T=t=>{g({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(Oe.Provider,{value:{cstate:D,cdispatch:g,ContextApi:Fe,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==P&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,E),h([])},EditClose:e=>N(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSSEmployeeDetails").style.width="50%",document.getElementById("divPPMSSEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainEntry").style.width="100%",document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSEmployeeDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSEmployeeDetails").style.display="block",document.getElementById("overlayimgAttPPMSSEmployeeDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSSEmployeeDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSSEmployeeDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSSEmployeeDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSEmployeeDetails-Entry",style:{width:"100%"}},0!==P?r().createElement(ve,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Te.Z,{ref:s,menurefID:524,fileId:"LogoImgPPMSSEmployeeDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSEmployeeDetails",frmctrlid:"PvwIm_524_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSEmployeeDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(he,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Te.Z,{ref:s,menurefID:524,fileId:"LogoImgPPMSSEmployeeDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSEmployeeDetails",frmctrlid:"PvwIm_524_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})),r().createElement("div",{id:"PPMSSEmployeeDetails-MainTable"},0!==P?r().createElement(ae,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Ne.Z,{ImgAttachment:e=>N(),menurefID:524,fileId:"AttImgPPMSSEmployeeDetails",imgid:"overlayimgAttPPMSSEmployeeDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSSEmployeeDetails",ref:d,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_524_L1_",timglist:e=>{s.current.timglist(e),h(e)},clearTempData:D.Add}))),r().createElement("div",{id:"PPMSSEmployeeDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),f&&r().createElement(we(),{openDialog:f,closeDialog:e=>v(e),formID:524,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var xe=a(93657),Be=a(53375),We=a(52663),Le=a(66083),Re=a(29525),Ke=a(66856),Ze=a(39803),Ge=a(17149),ze=a(62810),_e=a(92381),qe=a(25108);const Ve=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,S]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[p,C]=(0,l.useState)(""),[P,D]=(0,l.useState)({}),[I,M]=(0,l.useState)(!0),[E,h]=(0,l.useState)(!1),{cstate:f,cdispatch:v}=e.ContextApi?e.ContextApi:Je(),[B,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,ee]=(0,l.useState)(!1),[te,ae]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Se=(0,y.Z)();const ce=e=>Se[e]?Se[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function pe(){D({}),z({}),e.searchData({}),h(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{pe()}})));const Ce=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const i=new AbortController;ie.current=i;let d="",s=[],m={};await S((e=>(d=e.name,e))),await D((e=>(s=e,e))),await z((e=>(m=e,e)));const C=u.v.Api+"FP522S3/",y={data:{p1:"PPMSSWorkOrderDetIDPK"==a?null:await Ie(),p2:"PPMSSWorkOrderDetailCode"==d&&l.length>0?"%"+l+"%":null,p3:"SSCreDetValue"==d&&l.length>0?"%"+l+"%":null,p4:"SSCreDetOrderKey"==d&&l.length>0?"%"+l+"%":null,p5:"SSCreDetEmpRemarks"==d&&l.length>0?"%"+l+"%":null,p6:"SSCreDetStatusKey"==d&&l.length>0?"%"+l+"%":null,p7:"SSCreDetDuration"==d&&l.length>0?"%"+l+"%":null,p8:"SSCreDetMin"==d&&l.length>0?"%"+l+"%":null,p9:"SSCreDetMax"==d&&l.length>0?"%"+l+"%":null,p10:"IsSSCreDetMandatory"==d&&l.length>0?"%"+l+"%":null,p11:null,p12:null,p13:e.parentId?e.parentId:"0",p14:"CheckPointName"!=d&&s.CheckPointName?s.CheckPointName.map((e=>e.PPMCheckPointIDPK)).toString():null,p15:"CheckStatusName"!=d&&s.CheckStatusName?s.CheckStatusName.map((e=>e.PPMCheckStatusIDPK)).toString():null,p16:e.Dialogview?"1":null,p17:null,p18:"p18"==d&&l.length>0?l:null,p19:null,p20:null,p21:null,p22:null,p23:"ContractName"!=d&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p24:"ContractCode"==d&&l.length>0?"%"+l+"%":null,p25:"ContractName"==d&&l.length>0?"%"+l+"%":null,p26:"LocalityName"!=d&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p27:"LocalityCode"==d&&l.length>0?"%"+l+"%":null,p28:"LocalityName"==d&&l.length>0?"%"+l+"%":null,p29:"BuildingName"!=d&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p30:"BuildingCode"==d&&l.length>0?"%"+l+"%":null,p31:"BuildingName"==d&&l.length>0?"%"+l+"%":null,p32:"FloorName"!=d&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p33:"FloorCode"==d&&l.length>0?"%"+l+"%":null,p34:"FloorName"==d&&l.length>0?"%"+l+"%":null,p35:"SpotName"!=d&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p36:"SpotCode"==d&&l.length>0?"%"+l+"%":null,p37:"SpotName"==d&&l.length>0?"%"+l+"%":null,p38:"DivisionName"!=d&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p39:"DivisionCode"==d&&l.length>0?"%"+l+"%":null,p40:"DivisionName"==d&&l.length>0?"%"+l+"%":null,p41:"DisciplineName"!=d&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p42:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p43:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p44:"FrequencyName"!=d&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p45:"FrequencyCode"==d&&l.length>0?"%"+l+"%":null,p46:"FrequencyName"==d&&l.length>0?"%"+l+"%":null,p47:"FlowDisplayName"!=d&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p48:"BriefDetails"==d&&l.length>0?"%"+l+"%":null,p49:"FlowCode"==d&&l.length>0?"%"+l+"%":null,p50:"FlowDisplayName"==d&&l.length>0?"%"+l+"%":null,p51:"FixonBusinessFlowName"!=d&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p52:"FixonBusinessFlowName"==d&&l.length>0?"%"+l+"%":null,p53:"PPMFixonBusinessFlowCode"==d&&l.length>0?"%"+l+"%":null,p54:"PPMStageName"!=d&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p55:"PPMStageName"==d&&l.length>0?"%"+l+"%":null,p56:"StageSeqNo"==d&&l.length>0?"%"+l+"%":null,p57:"SSCreWorkOrder"==d&&l.length>0?"%"+l+"%":null,p58:"CheckPointLevel"==d&&l.length>0?"%"+l+"%":null,p59:"CheckPointName"==d&&l.length>0?"%"+l+"%":null,p60:"PPMCheckPointCode"==d&&l.length>0?"%"+l+"%":null,p61:"CheckStatusName"==d&&l.length>0?"%"+l+"%":null,p62:"PPMCheckStatusCode"==d&&l.length>0?"%"+l+"%":null,p63:r||1,p64:10,p65:t,p66:null,p67:null,p68:localStorage.getItem("UserGroupID"),p69:localStorage.getItem("userid")}},g=await(0,c.Z)(C,y,e.token,"",i.signal);if(!g)return!1;const I=g.Output.status.code,M=g.Output.data;if("200"===I)if(M.length>0)if(1===r){let e=ye(M,d),t=Pe(e,P[d],a);o(t),R(t.length>0?t[0].TotalCount:P[d].length)}else{let e=[...n,...M],t=ye(e,d);R(t.length<10?t.length:M[0].TotalCount),o(ye(t,d))}else p.length>0&&o([]),R(n.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Pe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function De(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>P[e]?P[e].map((e=>e[t])):[]));return e.toString()}return""}const ge=async t=>{let a="",l={};await D((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSSWorkOrderDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSSWorkOrderDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMCheckPointID:De("PPMCheckPointID"),PPMCheckStatusID:De("PPMCheckStatusID"),PPMSSCreationWorkOrderID:De("PPMSSCreationWorkOrderID")};"saveFav"==t?he("save",i):(e.searchData(i),h(!1))};async function Ie(){let e={};await D((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSSWorkOrderDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Me(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...P};let m=[..._],S=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSSWorkOrderDetIDPK)).toString();t&&S.push(t)}await z((e=>(d=e,e)));let c={PPMSSWorkOrderDetIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,PPMCheckPointID:P.CheckPointName?.map((e=>e.PPMCheckPointIDPK)).toString(),PPMCheckStatusID:P.CheckStatusName?.map((e=>e.PPMCheckStatusIDPK)).toString(),PPMSSCreationWorkOrderID:P.SSCreWorkOrder?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString()};e.searchData(c)}function Ee(){return r().createElement(b.Z,{frmctrlid:"fld522L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Me(e,t,a,d.name,l)},keyboardback:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:""})},title:ce(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const he=(t,a)=>{(0,_e.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(We.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(Le.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Re.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Ze.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>ee(e.target.checked)}),label:"Quick"}),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:te,onChange:e=>ae(e.target.checked)}),label:"Dashboard"})),r().createElement(Ke.Z,null,r().createElement(T.Z,{onClick:()=>{ge("saveFav"),$(!1)},color:"primary"},"Save"))),E?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Ee,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:ce("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(N.Z,{id:"fld522L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),P[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld522L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await D((t=>(e=t,qe.log("clear fewItems",e),t))),e[d.name]=[],Ce(d.type,d.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},I?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(F.D7o,{className:"FilterMaximizeIcon",onClick:()=>{M(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(F.dOw,{className:"FilterMaximizeIcon",onClick:()=>{M(!0)}})))),r().createElement("ul",null,P[d.name]&&P[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:I?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=P[d.name].filter((t=>t!=e)),l={};await D((e=>(l=e,e))),l[d.name]=a,D(l),o((t=>[e,...t]))})(e)},r().createElement(N.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(w.Z,{frmctrlid:"fld522L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:p,placeholder:ce("Enter ")+" "+ue(d.idpk),onChange:e=>{C(e),Ce(d.type,d.fieldidpk,e,1,Ie())}})),r().createElement("div",{id:"fld522L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:ge},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(A.Z,{color:"secondary"})),r().createElement("div",{id:"fld522L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await D((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},D(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(k.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld522L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(B+1),Ce(d.type,d.fieldidpk,"",B+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(O.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",ce("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(N.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),pe()}}):r().createElement(xe.Z,{className:"favlisticon",onClick:()=>{j(!0),he("select"),pe()}})),Object.keys(P).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Be.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{pe()},id:"fld522L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld522L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},ce("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld522L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{h(!0),C(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSSWorkOrderDetIDPK";S({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSWorkOrderDetID",fieldidpk:t}),Ce(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSWorkOrderDetID",t,"",1,Ie())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(x.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Me("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,P[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},P[a][0][a]),P[a].length>1&&r().createElement("span",{className:"RoundedDivName"},P[a][1][a]),P[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(P[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ce("FilterPPMSSWorkOrderDetID",a),ge("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));var He=a(85639);window.clickFilter="";const Ue=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("522"),[S,p]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),[g,I]=(0,l.useState)(0),[M,E]=(0,l.useState)(0),[T,k]=(0,l.useState)(0),[b,A]=(0,l.useState)(0),[x,B]=(0,l.useState)({current:1,pageSize:100}),[W,Q]=(0,l.useState)(""),[ae,le]=(0,l.useState)([]),[re,ne]=(0,l.useState)({val:"",column:""}),[ie,oe]=(0,l.useState)([]),[de,se]=(0,l.useState)(!1),[me,Se]=(0,l.useState)(""),[ce,ue]=(0,l.useState)(""),[pe,Ce]=(0,l.useState)(!1),[Pe,ye]=(0,l.useState)([]),[De,ge]=(0,l.useState)([]),[Ie,Me]=(0,l.useState)([]),[Ee,he]=(0,l.useState)({children:[{name:"PPMSSCreationWorkOrderDetails",children:[]}]}),[fe,ve]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:$e),{cstate:Te,cdispatch:ke}=e.ContextApi?e.ContextApi:Je();let be={PPMSSWorkOrderDetIDPK:"",PPMSSWorkOrderDetailCode:"",SSCreDetValue:"",SSCreDetOrderKey:"",SSCreDetEmpRemarks:"",SSCreDetStatusKey:"",SSCreDetDuration:"",SSCreDetMin:"",SSCreDetMax:"",IsSSCreDetMandatory:"",IsDraft:"",Remarks:"",PPMSSCreationWorkOrderID:"",PPMCheckPointID:"",PPMCheckStatusID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",CheckStatusName:"",PPMCheckStatusCode:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[we,Oe]=(0,l.useState)(be),[Fe,Ae]=(0,l.useState)(be),[xe,Be]=(0,l.useState)(!1),[We,Le]=(0,l.useState)(!0),[Re,Ke]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[ze,_e]=(0,l.useState)({CheckPointName:"",SSCreDetMin:"",SSCreDetMax:"",IsSSCreDetMandatory:"",SSCreDetValue:"",CheckStatusName:"",SSCreDetEmpRemarks:"",PPMSSWorkOrderDetailCode:"",SSCreDetOrderKey:"",SSCreDetStatusKey:"",SSCreDetDuration:"",SSCreWorkOrder:""}),[qe,Ue]=(0,l.useState)(!1),[je,Ye]=(0,l.useState)([]),[Xe,Qe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[rt,nt]=(0,l.useState)([]),[it,ot]=(0,l.useState)([]),[dt,st]=(0,l.useState)(!1),[mt,St]=(0,l.useState)(!1),[ct,ut]=(0,l.useState)(!1),[pt,Ct]=(0,l.useState)(""),[Pt,yt]=$()("522"),[Dt,gt]=(0,l.useState)({}),It=[{columns:rt,data:W}];let Mt=(0,y.Z)();const Et=e=>Mt[e]?Mt[e]:e,ht=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{wt(Pt)}),[Pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?kt(x,be,"PPMSSWorkOrderDetID"):oe([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?kt(x,me,"PPMSSWorkOrderDetID"):fe&&Ae(me)}),[me]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{kt(x,be,"PPMSSWorkOrderDetID")},DialogTableProps:e=>{P(e)},HideEntryFields:e=>{ut(!0===e)}})));const ft=e=>{""==e?kt(x,be,xe?"DraftPPMSSWorkOrderDetID":"PPMSSWorkOrderDetID",xe&&"DraftPage"):bt(e,{current:1,pageSize:100}),ue(e)};function vt(t){Ne.loading(!0);let a=u.v.Api+"FP522S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Qe(Math.ceil(a)):20==t.pageSize?Qe(Math.ceil(a/2)):50==t.pageSize?Qe(Math.ceil(a/5)):100==t.pageSize&&Qe(Math.ceil(a/10)),Ye(e.Output.data),Ne.loading(!1)}}))}function Nt(e,t){ke({type:"editData",payload:[t]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Re&&Ce(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(P(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const Tt=()=>{Ne.EditClose(!0),de?(document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSSCreationWorkOrderDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),Ze?(C||(document.getElementById("PPMSSCreationWorkOrderDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSSCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSSCreationWorkOrderDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),document.getElementById("PPMSSCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ce(!1),window.clickFilter=!de},kt=(t,a,l,r,n,i)=>{Ne.loading(!0),"DraftPage"!==r&&Be(Te.IsDraft);let o=u.v.Api+"FP522S3/",d={data:{p1:n||(a&&a.PPMSSWorkOrderDetIDPK?a.PPMSSWorkOrderDetIDPK:null),p2:a&&a.PPMSSWorkOrderDetailCode?a.PPMSSWorkOrderDetailCode:null,p3:a&&a.SSCreDetValue?a.SSCreDetValue:null,p4:a&&a.SSCreDetOrderKey?a.SSCreDetOrderKey:null,p5:null,p6:a&&a.SSCreDetStatusKey?a.SSCreDetStatusKey:null,p7:a&&a.SSCreDetDuration?a.SSCreDetDuration:null,p8:a&&a.SSCreDetMin?a.SSCreDetMin:null,p9:a&&a.SSCreDetMax?a.SSCreDetMax:null,p10:null,p11:"DraftPPMSSWorkOrderDetID"==l?"1":"0",p12:null,p13:e.parentId?Number(e.parentId):0,p14:a&&a.PPMCheckPointID?a.PPMCheckPointID:null,p15:a&&a.PPMCheckStatusID?a.PPMCheckStatusID:null,p16:a&&a.IsActive,p17:null,p18:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p19:a&&a.CreatedTtm?a.CreatedTtm:null,p20:a&&a.CreatedTtmType?a.CreatedTtmType:null,p21:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p22:null,p23:a&&a.ContractID?a.ContractID:null,p24:a&&a.ContractCode?a.ContractCode:null,p25:a&&a.ContractName?a.ContractName:null,p26:a&&a.LocalityID?a.LocalityID:null,p27:a&&a.LocalityCode?a.LocalityCode:null,p28:a&&a.LocalityName?a.LocalityName:null,p29:a&&a.BuildingID?a.BuildingID:null,p30:a&&a.BuildingCode?a.BuildingCode:null,p31:a&&a.BuildingName?a.BuildingName:null,p32:a&&a.FloorID?a.FloorID:null,p33:a&&a.FloorCode?a.FloorCode:null,p34:a&&a.FloorName?a.FloorName:null,p35:a&&a.SpotID?a.SpotID:null,p36:a&&a.SpotCode?a.SpotCode:null,p37:a&&a.SpotName?a.SpotName:null,p38:a&&a.DivisionID?a.DivisionID:null,p39:a&&a.DivisionCode?a.DivisionCode:null,p40:a&&a.DivisionName?a.DivisionName:null,p41:a&&a.DisciplineID?a.DisciplineID:null,p42:a&&a.DisciplineCode?a.DisciplineCode:null,p43:a&&a.DisciplineName?a.DisciplineName:null,p44:a&&a.FrequencyID?a.FrequencyID:null,p45:a&&a.FrequencyCode?a.FrequencyCode:null,p46:a&&a.FrequencyName?a.FrequencyName:null,p47:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p48:a&&a.BriefDetails?a.BriefDetails:null,p49:a&&a.FlowCode?a.FlowCode:null,p50:a&&a.FlowDisplayName?a.FlowDisplayName:null,p51:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p52:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p53:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p54:a&&a.PPMStageID?a.PPMStageID:null,p55:a&&a.PPMStageName?a.PPMStageName:null,p56:a&&a.StageSeqNo?a.StageSeqNo:null,p57:a&&a.SSCreWorkOrder?a.SSCreWorkOrder:null,p58:a&&a.CheckPointLevel?a.CheckPointLevel:null,p59:a&&a.CheckPointName?a.CheckPointName:null,p60:a&&a.PPMCheckPointCode?a.PPMCheckPointCode:null,p61:a&&a.CheckStatusName?a.CheckStatusName:null,p62:a&&a.PPMCheckStatusCode?a.PPMCheckStatusCode:null,p63:n?1:t.current,p64:t.pageSize,p65:l,p66:null,p67:null,p68:localStorage.getItem("UserGroupID"),p69:localStorage.getItem("userid")}};(0,c.Z)(o,d,Te.token[0]).then((o=>{if(n)(0,j.a)(o,ke,r,i,Ne);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,k(o.Output.data[0].TotalCount),A(o.Output.data[0].DraftCnt),ke({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&A(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?E(Math.ceil(e)):20==t.pageSize?E(Math.ceil(e/2)):50==t.pageSize?E(Math.ceil(e/5)):100==t.pageSize&&E(Math.ceil(e/10)),oe(o.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divPPMSSCreationWorkOrderDetails-Entry").style.height="auto",document.getElementById("divPPMSSCreationWorkOrderDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftPPMSSWorkOrderDetID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),Be(!1)):(oe([]),B({current:1,pageSize:10}),E(0),k(0),ke({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ne.loading(!1)}))};function bt(t,a){Ne.loading(!0);const l=u.v.Api+"FP522S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:xe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,r,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,k(e.Output.data[0].TotalCount),ke({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?E(Math.ceil(t)):20==a.pageSize?E(Math.ceil(t/2)):50==a.pageSize?E(Math.ceil(t/5)):100==a.pageSize&&E(Math.ceil(t/10)),oe(e.Output.data),Ne.loading(!1)}else oe([]),E(0),k(0),ke({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function wt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),ke({type:"language",payload:Object.assign({},...r)}),_e(a.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),ge(t),Me(a),nt(l),ot(a)}const Ot=()=>fe?null:r().createElement("div",null,qe?r().createElement(ee.Z,{data:je,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:t}),ke({type:"ShowDetail",payload:a}))}}):r().createElement(J.Z,{ref:d,frmctrlid:"tblcs_522_L1_",id:"PPMSSCreationWorkOrderDetailsTable",headerdata:De,tablesearchparams:ze,searchvalue:e=>{_e(e),Se(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),B({current:1,pageSize:10}),kt({current:1,pageSize:10},t,xe?"DraftPPMSSWorkOrderDetID":"PPMSSWorkOrderDetID",xe&&"DraftPage")},bodydata:ie,ondrag:Nt,bodyitem:Ie,visibleitem:De,isdraft:xe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&kt(x,null,t?"DraftPPMSSWorkOrderDetID":"PPMSSWorkOrderDetID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!C||Re,tf:ht,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(Te.ExpandTableValue)}),[Te.ExpandTableValue]),r().createElement("div",null,!ct&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld522L1ECSearchBar",className:"searchbar1"},r().createElement(w.Z,{frmctrlid:"fld522L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ce,onChange:e=>{ue(e),Ne.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld522L1TCCloseIconCommonSearch",onClick:()=>{ue(""),Ne.searchItem("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld522L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSSCreationWorkOrderDetailsgridsearch").focus()}})))),r().createElement("div",null,Te.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld522L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),ke({type:"editData",payload:[]}),ke({type:"ShowDetail",payload:!1}),ke({type:"Add",payload:!0})}}):"")),r().createElement(h.Z,{expanded:We,onChange:()=>()=>{Le(Re)}},e.Dialogview&&r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[522]"},`${ht("522")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld522L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(w.Z,{frmctrlid:"fld522L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ce,onChange:e=>{ft(e)}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld522L1TCInputCloseIcon",onClick:()=>{ft("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld522L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon"}))))))),r().createElement(f.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!xe&&r().createElement("div",{frmctrlid:"fld522L1TCFilterDataIsDraft",id:"PPMSSCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Tt()}},r().createElement(i.ZP,{title:Et("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(O.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Filter Data"))),!C&&!xe&&!fe&&r().createElement(L.Z,{formctrlidprint:"fld522L1TCExportPrint",formctrlidexport:"fld522L1TCExportTable",formctrlidrefresh:"fld522L1TCExportRefresh",title:ht("522"),data:ae,exportData:It,Items:it,columnIndex:rt,TableVisibleItem:De,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let o=u.v.Api+"FP522S3/",d={data:{p1:t&&t.PPMSSWorkOrderDetIDPK?t.PPMSSWorkOrderDetIDPK:null,p2:t&&t.PPMSSWorkOrderDetailCode?t.PPMSSWorkOrderDetailCode:null,p3:t&&t.SSCreDetValue?t.SSCreDetValue:null,p4:t&&t.SSCreDetOrderKey?t.SSCreDetOrderKey:null,p5:null,p6:t&&t.SSCreDetStatusKey?t.SSCreDetStatusKey:null,p7:t&&t.SSCreDetDuration?t.SSCreDetDuration:null,p8:t&&t.SSCreDetMin?t.SSCreDetMin:null,p9:t&&t.SSCreDetMax?t.SSCreDetMax:null,p10:null,p11:xe?"1":"0",p12:null,p13:e.parentId?Number(e.parentId):0,p14:t&&t.PPMCheckPointID?t.PPMCheckPointID:null,p15:t&&t.PPMCheckStatusID?t.PPMCheckStatusID:null,p16:t&&t.IsActive,p17:null,p18:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p19:t&&t.CreatedTtm?t.CreatedTtm:null,p20:t&&t.CreatedTtmType?t.CreatedTtmType:null,p21:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p22:null,p23:t&&t.ContractID?t.ContractID:null,p24:t&&t.ContractCode?t.ContractCode:null,p25:t&&t.ContractName?t.ContractName:null,p26:t&&t.LocalityID?t.LocalityID:null,p27:t&&t.LocalityCode?t.LocalityCode:null,p28:t&&t.LocalityName?t.LocalityName:null,p29:t&&t.BuildingID?t.BuildingID:null,p30:t&&t.BuildingCode?t.BuildingCode:null,p31:t&&t.BuildingName?t.BuildingName:null,p32:t&&t.FloorID?t.FloorID:null,p33:t&&t.FloorCode?t.FloorCode:null,p34:t&&t.FloorName?t.FloorName:null,p35:t&&t.SpotID?t.SpotID:null,p36:t&&t.SpotCode?t.SpotCode:null,p37:t&&t.SpotName?t.SpotName:null,p38:t&&t.DivisionID?t.DivisionID:null,p39:t&&t.DivisionCode?t.DivisionCode:null,p40:t&&t.DivisionName?t.DivisionName:null,p41:t&&t.DisciplineID?t.DisciplineID:null,p42:t&&t.DisciplineCode?t.DisciplineCode:null,p43:t&&t.DisciplineName?t.DisciplineName:null,p44:t&&t.FrequencyID?t.FrequencyID:null,p45:t&&t.FrequencyCode?t.FrequencyCode:null,p46:t&&t.FrequencyName?t.FrequencyName:null,p47:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p48:t&&t.BriefDetails?t.BriefDetails:null,p49:t&&t.FlowCode?t.FlowCode:null,p50:t&&t.FlowDisplayName?t.FlowDisplayName:null,p51:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p52:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p53:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p54:t&&t.PPMStageID?t.PPMStageID:null,p55:t&&t.PPMStageName?t.PPMStageName:null,p56:t&&t.StageSeqNo?t.StageSeqNo:null,p57:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p58:t&&t.CheckPointLevel?t.CheckPointLevel:null,p59:t&&t.CheckPointName?t.CheckPointName:null,p60:t&&t.PPMCheckPointCode?t.PPMCheckPointCode:null,p61:t&&t.CheckStatusName?t.CheckStatusName:null,p62:t&&t.PPMCheckStatusCode?t.PPMCheckStatusCode:null,p63:x.current,p64:T,p65:xe?"DraftPPMSSWorkOrderDetID":"PPMSSWorkOrderDetID",p66:null,p67:null,p68:localStorage.getItem("UserGroupID"),p69:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${ht(522)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(o,d,Te.token[0],i).then((e=>{(0,X.PDF_Excel_Generate)(e,Ne,it,Q,a,i)}))})(me,re.column,0,0,t)},Refresh:()=>{ue(""),B({current:1,pageSize:100}),d.current.clearItem(),Te.IsDraft?kt({current:1,pageSize:100},be,"DraftPPMSSWorkOrderDetID"):kt({current:1,pageSize:100},be,"PPMSSWorkOrderDetID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!xe&&!fe&&!C&&r().createElement("div",{className:"buttoncard",onClick:()=>St(!mt)},r().createElement("span",null,mt?r().createElement(i.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},r().createElement("span",{id:"fld522L1TCLess"},r().createElement(V.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},r().createElement("span",{id:"fld522L1TCMore"},r().createElement(V.ilJ,{className:"tableFilterColumnIcon"}))))),mt?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},fe||!Re?null:C||!Te.AccessRights.IsAdd||xe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld522L1TCFilterDataIsAdd",id:"PPMSSCreationWorkOrderDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),pe?(document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderDetailsTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv").style.display="none",document.getElementById("PPMSSCreationWorkOrderDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv").style.width="25%",document.getElementById("PPMSSCreationWorkOrderDetailsTabDiv").style.width="75%",document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv").style.display="block",document.getElementById("PPMSSCreationWorkOrderDetailsfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSCreationWorkOrderDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),se(!1)}},r().createElement(i.ZP,{title:Et("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(Y.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&Re&&!fe&&!xe&&r().createElement("div",null,r().createElement("div",{id:"PPMSSCreationWorkOrderDetailscoldiv",className:"buttoncard",onClick:()=>{qe?Ue(!1):(Ue(!0),vt({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Et("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld522L1TCTableScrollData"},r().createElement(te.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!fe&&xe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),kt({current:1,pageSize:100},be,"PPMSSWorkOrderDetID"),Be(!1),ue(""),ke({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},r().createElement(i.ZP,{title:Et("List"),placement:"top"},r().createElement("div",{id:"fld522L1TCList"},r().createElement(H.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Et("Drafts")," ",T)):!C&&!fe&&Te.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(v.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},r().createElement("div",{id:"fld522L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(B({current:1,pageSize:100}),I(0),Ne.clear(),ue(""),ke({type:"Add",payload:!1}),kt({current:1,pageSize:10},be,"DraftPPMSSWorkOrderDetID"),Be(!0),ke({type:"IsDraft",payload:!0}),Ce(!1),Ge(!0),document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderDetailsTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),ve(!1)):Ne.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},r().createElement(i.ZP,{title:Et("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(U.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!xe&&!C&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||xe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld522L1TCListView",onClick:()=>{Ge(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(V.umT,null)),r().createElement("span",null,Et("List"))),r().createElement("div",{className:Ze||dt?"buttonGrid":"buttonList",id:"fld522L1TCCardView",onClick:()=>{Ge(!1),st(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(F.aCJ,null)),r().createElement("span",null,Et("Card"))),r().createElement("div",{className:dt?"buttonList":"buttonGrid",id:"fld522L1TCTileView",onClick:()=>{st(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(D.f_H,null)),r().createElement("span",null,Et("Tile"))))))),fe?null:qe?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld522L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:g,onPageChange:(e,t)=>{I(t),vt({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:Xe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Qe(t),vt({current:t,pageSize:at.pageSize})}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld522L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",et,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld522L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:g,onPageChange:(e,t)=>{I(t),kt({current:t+1,pageSize:x.pageSize},be,xe?"DraftPPMSSWorkOrderDetID":"PPMSSWorkOrderDetID",xe&&"DraftPage"),B({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:M,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(B({current:t,pageSize:x.pageSize}),xe)kt({current:t,pageSize:x.pageSize},we,"DraftPPMSSWorkOrderDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ce.length>0?bt(ce,{current:t,pageSize:x.pageSize}):kt({current:t,pageSize:x.pageSize},we,"PPMSSWorkOrderDetID")}}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld522L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),xe?kt({current:1,pageSize:e.target.value},we,"DraftPPMSSWorkOrderDetID","DraftPage"):ce.length>0?bt(ce,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},we,"PPMSSWorkOrderDetID")}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSSCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&r().createElement(Ve,{parentId:e.parentId,searchData:e=>{Se(e||Dt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>Tt(),userGrid:Pt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&r().createElement(Z.Z,{Refresh:e=>{kt({current:1,pageSize:100},be,"PPMSSWorkOrderDetID")},frmctrlid:"fld522L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:pe,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&wt(t),yt(t),ke({type:"showTableview",payload:t})},Token:Te.token[0]})),r().createElement("div",{id:"PPMSSCreationWorkOrderDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?r().createElement(Ot,null):r().createElement(q.Z,{frmctrlid:"fld522L1TCExpandedCardDual",data:ie,id:"PPMSSCreationWorkOrderDetails",title:"PPMSSWorkOrderDetailCode",cardTile:!!dt,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?Ne.select(e):("edit"==t?(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),de?se(!0):pe?Ce(!0):(Ce(!1),Ce(!1))),Ne.hideAddBtn(!0)}})))))))})),je={EnterKeyValues:{PPMSSCreationWorkOrderDetails:["CheckPointName","SSCreDetMin","SSCreDetMax","IsSSCreDetMandatory","SSCreDetValue","CheckStatusName","SSCreDetEmpRemarks","PPMSSWorkOrderDetailCode","SSCreDetOrderKey","SSCreDetStatusKey","SSCreDetDuration","SSCreWorkOrder"]},Label:{PPMSSCreationWorkOrderDetails:{PPMCheckPointID:["PPMCheckPointCode","CheckPointName"],SSCreDetMin:["PPMSSWorkOrderDetailCode"],SSCreDetMax:["PPMSSWorkOrderDetailCode"],IsSSCreDetMandatory:["PPMSSWorkOrderDetailCode"],SSCreDetValue:["PPMSSWorkOrderDetailCode"],PPMCheckStatusID:["PPMCheckStatusCode","CheckStatusName"],SSCreDetEmpRemarks:["PPMSSWorkOrderDetailCode"],PPMSSWorkOrderDetailCode:["PPMSSWorkOrderDetailCode"],SSCreDetOrderKey:["PPMSSWorkOrderDetailCode"],SSCreDetStatusKey:["PPMSSWorkOrderDetailCode"],SSCreDetDuration:["PPMSSWorkOrderDetailCode"],PPMSSCreationWorkOrderID:["PPMSSWorkOrderDetailCode"]}},LabelHeader:{PPMSSCreationWorkOrderDetails:{PPMCheckPointID:["Checkpoint Code","Checkpoint Name"],SSCreDetMin:["PPMSSWorkOrderDetailCode"],SSCreDetMax:["PPMSSWorkOrderDetailCode"],IsSSCreDetMandatory:["PPMSSWorkOrderDetailCode"],SSCreDetValue:["PPMSSWorkOrderDetailCode"],PPMCheckStatusID:["Check Status Code","Check Status Name"],SSCreDetEmpRemarks:["PPMSSWorkOrderDetailCode"],PPMSSWorkOrderDetailCode:["PPMSSWorkOrderDetailCode"],SSCreDetOrderKey:["PPMSSWorkOrderDetailCode"],SSCreDetStatusKey:["PPMSSWorkOrderDetailCode"],SSCreDetDuration:["PPMSSWorkOrderDetailCode"],PPMSSCreationWorkOrderID:["PPMSSWorkOrderDetailCode"]}},Property:{PPMSSCreationWorkOrderDetails:{PPMCheckPointID:{id:"fld522_21581",clearID:"PPMSSCreationWorkOrderDetailsCheckPointNameClear",type:"select",labelID:"PPMCheckPointIDPK",labelname:"Checkpoint",fielddisplayname:"CheckPointName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!0},SSCreDetMin:{id:"fld522_21574",labelID:"SSCreDetMin",maxLength:"10",labelname:"Min",frmctrlid:"fld522_21574",frmctrlidname:"SSCreDetMin",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},SSCreDetMax:{id:"fld522_21575",labelID:"SSCreDetMax",maxLength:"10",labelname:"Max",frmctrlid:"fld522_21575",frmctrlidname:"SSCreDetMax",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},IsSSCreDetMandatory:{id:"fld522_21576",labelID:"IsSSCreDetMandatory",maxLength:"",labelname:"Is Mandatory",frmctrlid:"fld522_21576",frmctrlidname:"IsSSCreDetMandatory",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},SSCreDetValue:{id:"fld522_21568",labelID:"SSCreDetValue",maxLength:"25",labelname:"Value",frmctrlid:"fld522_21568",frmctrlidname:"SSCreDetValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCheckStatusID:{id:"fld522_21582",clearID:"PPMSSCreationWorkOrderDetailsCheckStatusNameClear",type:"select",labelID:"PPMCheckStatusIDPK",labelname:"Technician Status",fielddisplayname:"CheckStatusName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},SSCreDetEmpRemarks:{id:"fld522_22559",labelID:"SSCreDetEmpRemarks",maxLength:"150",labelname:"Remarks",frmctrlid:"fld522_22559",frmctrlidname:"SSCreDetEmpRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSWorkOrderDetailCode:{id:"fld522_21567",labelID:"PPMSSWorkOrderDetailCode",maxLength:"50",labelname:"PPMSSWorkOrderDetailCode",frmctrlid:"fld522_21567",frmctrlidname:"PPMSSWorkOrderDetailCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreDetOrderKey:{id:"fld522_21569",labelID:"SSCreDetOrderKey",maxLength:"",labelname:"SSCreDetOrderKey",frmctrlid:"fld522_21569",frmctrlidname:"SSCreDetOrderKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreDetStatusKey:{id:"fld522_21571",labelID:"SSCreDetStatusKey",maxLength:"",labelname:"SSCreDetStatusKey",frmctrlid:"fld522_21571",frmctrlidname:"SSCreDetStatusKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreDetDuration:{id:"fld522_21573",labelID:"SSCreDetDuration",maxLength:"",labelname:"SSCreDetDuration",frmctrlid:"fld522_21573",frmctrlidname:"SSCreDetDuration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationWorkOrderID:{id:"fld522_21580",clearID:"PPMSSCreationWorkOrderDetailsSSCreWorkOrderClear",type:"select",labelID:"PPMSSCreationWorkOrderIDPK",labelname:"PPMSSCreationWorkOrderID",fielddisplayname:"SSCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSSCreationWorkOrderDetails:{PPMCheckPointID:["IsActive","CheckPointName","IsDraft","PPMCheckPointCode","CreatedTtm"],PPMCheckStatusID:["PPMCheckStatusCode","CheckStatusName","IsActive","CreatedTtm","UpdatedTtm"],PPMSSCreationWorkOrderID:["BuildingID","ContractID","DisciplineID","DivisionID","FloorID","FrequencyID","LocalityID","PPMStageID","SpotID","SSCreWorkOrder","SSCreWoDateTime","SSCreSLAHours"]}}},Ye={PPMSSWorkOrderDetIDPK:"",PPMSSWorkOrderDetailCode:"",SSCreDetValue:"",SSCreDetOrderKey:"",SSCreDetEmpRemarks:"",SSCreDetStatusKey:"",SSCreDetDuration:"",SSCreDetMin:"",SSCreDetMax:"",IsSSCreDetMandatory:!1,IsDraft:!1,Remarks:"",PPMSSCreationWorkOrderID:null,PPMCheckPointID:null,PPMCheckStatusID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",CheckStatusName:"",PPMCheckStatusCode:"",Type:"PPMSSWorkOrderDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Xe=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,S]=(0,l.useState)(!0),[P,D]=(0,l.useState)(!1),[g,M]=(0,l.useState)(!1),[E,v]=(0,l.useState)(""),[N,T]=(0,l.useState)(!1),[k,b]=(0,l.useState)([]),[w,O]=(0,l.useState)(null),[F,A]=(0,l.useReducer)(ue.Z,Ye),[B,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:$e),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:Je(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ie()("522"),[$,J]=(0,l.useState)(!0),[ee,te]=(0,l.useState)(!0),[ae,oe]=(0,l.useState)(!0),[se,Se]=(0,l.useState)(!0),[pe,De]=(0,l.useState)(!1);let ge=(0,y.Z)();const[Me,Ee]=(0,l.useState)({}),he=e=>ge[e]?ge[e]:e,fe=t=>_.language?.[t]?_.language[t]:e.createEasy?Me?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{Ne()}),[]),(0,l.useEffect)((()=>{Ne()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(ve(_.editData[0],""),D(!0)):_.Add&&(Ne(),D(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ee(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(Le(t),D(e)):(Ne(),D(e))},AddOpen:e=>{Ne(),D(!0)}})));const ve=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),M(t.IsDraft),"SetDefaultPPMSSWorkOrderDetID"==a?j(t.PPMSSWorkOrderDetIDPK):(H(e.primid?Number(e.primid):t.PPMSSWorkOrderDetIDPK?t.PPMSSWorkOrderDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSSWorkOrderDetIDPK})),A({type:"number",name:"PPMCheckPointID",number:t.PPMCheckPointID?Number(t.PPMCheckPointID):0}),A({type:"text",name:"CheckPointName",value:t.CheckPointName}),A({type:"number",name:"SSCreDetMin",number:Number(t.SSCreDetMin)}),A({type:"number",name:"SSCreDetMax",number:Number(t.SSCreDetMax)}),A({type:"boolean",name:"IsSSCreDetMandatory",boolean:!!t.IsSSCreDetMandatory&&t.IsSSCreDetMandatory}),A({type:"text",name:"SSCreDetValue",value:t.SSCreDetValue?t.SSCreDetValue:""}),A({type:"number",name:"PPMCheckStatusID",number:t.PPMCheckStatusID?Number(t.PPMCheckStatusID):0}),A({type:"text",name:"CheckStatusName",value:t.CheckStatusName}),A({type:"text",name:"SSCreDetEmpRemarks",value:t.SSCreDetEmpRemarks?t.SSCreDetEmpRemarks:""}),A({type:"text",name:"PPMSSWorkOrderDetailCode",value:t.PPMSSWorkOrderDetailCode?t.PPMSSWorkOrderDetailCode:""}),A({type:"number",name:"SSCreDetOrderKey",number:t.SSCreDetOrderKey}),A({type:"number",name:"SSCreDetStatusKey",number:t.SSCreDetStatusKey}),A({type:"number",name:"SSCreDetDuration",number:Number(t.SSCreDetDuration)}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:t.PPMSSCreationWorkOrderID?Number(t.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:t.SSCreWorkOrder}),t.IsDraft?S(!0):S(!("1"!=t.IsActive&&!t.IsActive))},Ne=()=>{b([]),H(0),j(""),e.createEasy||G.resetImg(),q({type:"PrimaryId",payload:""}),A({type:"text",name:"PPMCheckPointID",value:null}),A({type:"text",name:"CheckPointName",value:""}),document.getElementById("PPMSSCreationWorkOrderDetailsCheckPointNameClear")&&document.getElementById("PPMSSCreationWorkOrderDetailsCheckPointNameClear").click(),A({type:"number",name:"SSCreDetMin",number:0}),A({type:"number",name:"SSCreDetMax",number:0}),A({type:"boolean",name:"IsSSCreDetMandatory",boolean:!1}),A({type:"text",name:"SSCreDetValue",value:""}),A({type:"text",name:"PPMCheckStatusID",value:null}),A({type:"text",name:"CheckStatusName",value:""}),document.getElementById("PPMSSCreationWorkOrderDetailsCheckStatusNameClear")&&document.getElementById("PPMSSCreationWorkOrderDetailsCheckStatusNameClear").click(),A({type:"text",name:"SSCreDetEmpRemarks",value:""}),A({type:"text",name:"PPMSSWorkOrderDetailCode",value:""}),A({type:"number",name:"SSCreDetOrderKey",number:0}),A({type:"number",name:"SSCreDetStatusKey",number:0}),A({type:"number",name:"SSCreDetDuration",number:0}),A({type:"text",name:"PPMSSCreationWorkOrderID",value:null}),A({type:"text",name:"SSCreWorkOrder",value:""}),document.getElementById("PPMSSCreationWorkOrderDetailsSSCreWorkOrderClear")&&document.getElementById("PPMSSCreationWorkOrderDetailsSSCreWorkOrderClear").click(),S(!0),v(""),J(!0),te(!0),oe(!0),Se(!0)},Te=t=>{G.loading(!0),G.ConfirmAlert(null);const a=u.v.Api+"FP522S2/",l={data:[{p1:"SetDefaultPPMSSWorkOrderDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:Re(F.PPMSSWorkOrderDetailCode),p3:Re(F.SSCreDetValue),p4:F.SSCreDetOrderKey?Number(F.SSCreDetOrderKey):0,p5:Re(F.SSCreDetEmpRemarks),p6:F.SSCreDetStatusKey?Number(F.SSCreDetStatusKey):0,p7:F.SSCreDetDuration?Number(F.SSCreDetDuration):0,p8:F.SSCreDetMin?Number(F.SSCreDetMin):0,p9:F.SSCreDetMax?Number(F.SSCreDetMax):0,p10:F.IsSSCreDetMandatory,p11:!1,p12:"SetDefaultPPMSSWorkOrderDetID"==t?"SetDefault":null,p13:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p14:F.PPMCheckPointID?F.PPMCheckPointID:0,p15:F.PPMCheckStatusID?F.PPMCheckStatusID:0,p16:d,p17:"SetDefaultPPMSSWorkOrderDetID"==t,p18:localStorage.getItem("userid"),p19:de()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,c.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:n}),G.loading(!1)):(t=>{J(!0),te(!0),oe(!0),Se(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP522S1/",l={data:[{p1:V,p2:Re(F.PPMSSWorkOrderDetailCode),p3:Re(F.SSCreDetValue),p4:F.SSCreDetOrderKey?Number(F.SSCreDetOrderKey):0,p5:Re(F.SSCreDetEmpRemarks),p6:F.SSCreDetStatusKey?Number(F.SSCreDetStatusKey):0,p7:F.SSCreDetDuration?Number(F.SSCreDetDuration):0,p8:F.SSCreDetMin?Number(F.SSCreDetMin):0,p9:F.SSCreDetMax?Number(F.SSCreDetMax):0,p10:F.IsSSCreDetMandatory,p11:!1,p12:null,p13:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p14:F.PPMCheckPointID?F.PPMCheckPointID:0,p15:F.PPMCheckStatusID?F.PPMCheckStatusID:0,p16:d,p17:!1,p18:localStorage.getItem("userid"),p19:de()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,re.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(G.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails"),G.loading(!1),q({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK)),Ne(),_.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails")&&(document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails").style.display="none",document.getElementById("divPPMSSCreationWorkOrderDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSSCreationWorkOrderDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[a.message]}),G.loading(!1)),D(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function ke(t,a,l,r){if(!(_.count>0))return G.alert({open:!0,color:"warning",message:[he("Please save atleast one record")]}),!1;if(!((()=>{const e={...F};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return G.alert({open:!0,color:"warning",message:[he("Please enter the primary fields")]}),!1;{J(!0),te(!0),oe(!0),Se(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP522S1/",l={data:[{p1:"SetDefaultPPMSSWorkOrderDetID"==r?"NORECORDS"!=U&&U?U:0:V,p2:Re(F.PPMSSWorkOrderDetailCode),p3:Re(F.SSCreDetValue),p4:F.SSCreDetOrderKey?Number(F.SSCreDetOrderKey):0,p5:Re(F.SSCreDetEmpRemarks),p6:F.SSCreDetStatusKey?Number(F.SSCreDetStatusKey):0,p7:F.SSCreDetDuration?Number(F.SSCreDetDuration):0,p8:F.SSCreDetMin?Number(F.SSCreDetMin):0,p9:F.SSCreDetMax?Number(F.SSCreDetMax):0,p10:F.IsSSCreDetMandatory,p11:!0,p12:"SetDefaultPPMSSWorkOrderDetID"==r?"SetDefault":null,p13:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p14:F.PPMCheckPointID?F.PPMCheckPointID:0,p15:F.PPMCheckStatusID?F.PPMCheckStatusID:0,p16:!1,p17:"SetDefaultPPMSSWorkOrderDetID"==r,p18:localStorage.getItem("userid"),p19:de()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((r=>{(0,re.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?G.alert({open:!0,color:"warning",message:[he("Deleted Successfully")]}):G.alert({open:!0,color:"success",message:[he("Saved to Draft")]}),G.loading(!1),G.attachmentSave(a[0].Data.IDPK),Ne(),G.RefreshTable(),e.clrImgstate(!0)):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1))}))}))}}function be(e){return CreateEasy(e,_,q,G,Y),!1}function we(e,a){return AdvanceSearch(e,a,$e,Je(),Ae,t),!1}const Oe=(t,a,l,r,n,i)=>{const o=u.v.Api+"FP522S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:a?"%"+a+"%":null,p7:a?"%"+a+"%":null,p8:a?"%"+a+"%":null,p9:a?"%"+a+"%":null,p10:1==F.IsSSCreDetMandatory,p11:null,p12:null,p13:e.parentId?Number(e.parentId):0,p14:"0"==F.PPMCheckPointID?null:F.PPMCheckPointID,p15:"0"==F.PPMCheckStatusID?null:F.PPMCheckStatusID,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:"0"==F.ContractID?null:F.ContractID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==F.LocalityID?null:F.LocalityID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==F.BuildingID?null:F.BuildingID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==F.FloorID?null:F.FloorID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"==F.SpotID?null:F.SpotID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==F.DivisionID?null:F.DivisionID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==F.DisciplineID?null:F.DisciplineID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==F.FrequencyID?null:F.FrequencyID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:"0"==F.PPMBusinessFlowID?null:F.PPMBusinessFlowID,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==F.PPMFixonBusinessFlowID?null:F.PPMFixonBusinessFlowID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:"0"==F.PPMStageID?null:F.PPMStageID,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:a?"%"+a+"%":null,p62:a?"%"+a+"%":null,p63:t,p64:10,p65:l,p66:null,p67:null,p68:localStorage.getItem("UserGroupID"),p69:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);const m={data:s};return(0,c.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSSWorkOrderDetID"==l&&r?r:_.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};R(1==t?e>0?r:[]:L.concat(r)),"SetDefaultPPMSSWorkOrderDetID"==l&&(e>0?ve(r[0],"SetDefaultPPMSSWorkOrderDetID"):j("NORECORDS")),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Fe=(t,l,r)=>{const n=u.v.Api+"FP522S3/",i={data:{p1:null,p2:"PPMSSWorkOrderDetailCode"==r&&l?"%"+l+"%":null,p3:"SSCreDetValue"==r&&l?"%"+l+"%":null,p4:"SSCreDetOrderKey"==r&&l?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID?a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID:"0",p14:null,p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:t,p64:10,p65:"PPMSSWorkOrderDetID",p66:null,p67:null,p68:localStorage.getItem("UserGroupID"),p69:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,c.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSSWorkOrderDetailCode"==r&&J(e>0),"SSCreDetOrderKey"==r&&te(e>0),"SSCreDetStatusKey"==r&&oe(e>0),"SSCreDetDuration"==r&&Se(e>0),R(l)):("PPMSSWorkOrderDetailCode"==r&&J(!0),"SSCreDetOrderKey"==r&&te(!0),"SSCreDetStatusKey"==r&&oe(!0),"SSCreDetDuration"==r&&Se(!0),R(L.concat(l))),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Ae=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a?A({type:"text",name:t,value:e}):"select"==a&&("PPMCheckPointID"==t||"PPMCheckStatusID"==t&&(A({type:"text",name:"PPMCheckStatusID",value:e.PPMCheckStatusIDPK?e.PPMCheckStatusIDPK:null}),A({type:"text",name:"CheckStatusName",value:e.CheckStatusName?e.CheckStatusName:null})))}),[F]);function xe(e){if("PPMCheckPointID"==e){if(!F.PPMCheckPointID)return!1}else if("PPMCheckStatusID"==e){if(!F.PPMCheckStatusID)return!1;A({type:"text",name:"PPMCheckStatusID",value:null}),A({type:"text",name:"CheckStatusName",value:""}),document.getElementById("PPMSSCreationWorkOrderDetailsCheckStatusNameClear")&&document.getElementById("PPMSSCreationWorkOrderDetailsCheckStatusNameClear").click()}else if("PPMSSCreationWorkOrderID"==e&&!F.PPMSSCreationWorkOrderID)return!1}function Be(e){if("PPMCheckPointID"==e){if(!F.PPMCheckPointID)return!1}else if("PPMCheckStatusID"==e){if(!F.PPMCheckStatusID)return!1;A({type:"text",name:"PPMCheckStatusID",value:null})}else if("PPMSSCreationWorkOrderID"==e&&!F.PPMSSCreationWorkOrderID)return!1}const We=e=>{G.ConfirmAlert(r().createElement(me(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Le(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:he("Yes"),cancelBtnText:he("No"),showCancel:!0},he("Do you want to update this record?")))};function Le(e){G.ConfirmAlert(null),M(e.IsDraft),H(Number(e.PPMSSWorkOrderDetIDPK)?Number(e.PPMSSWorkOrderDetIDPK):0),A({type:"number",name:"PPMCheckPointID",number:e.PPMCheckPointID?Number(e.PPMCheckPointID):0}),A({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:""}),A({type:"number",name:"SSCreDetMin",number:e.SSCreDetMin?Number(e.SSCreDetMin):0}),A({type:"number",name:"SSCreDetMax",number:e.SSCreDetMax?Number(e.SSCreDetMax):0}),A({type:"boolean",name:"IsSSCreDetMandatory",boolean:!!e.IsSSCreDetMandatory&&e.IsSSCreDetMandatory}),A({type:"number",name:"SSCreDetValue",number:e.SSCreDetValue?Number(e.SSCreDetValue):0}),A({type:"number",name:"PPMCheckStatusID",number:e.PPMCheckStatusID?Number(e.PPMCheckStatusID):0}),A({type:"text",name:"CheckStatusName",value:e.CheckStatusName?e.CheckStatusName:""}),A({type:"text",name:"SSCreDetEmpRemarks",value:e.SSCreDetEmpRemarks?e.SSCreDetEmpRemarks:""}),A({type:"text",name:"PPMSSWorkOrderDetailCode",value:e.PPMSSWorkOrderDetailCode?e.PPMSSWorkOrderDetailCode:""}),A({type:"text",name:"SSCreDetOrderKey",value:e.SSCreDetOrderKey?e.SSCreDetOrderKey:""}),A({type:"text",name:"SSCreDetStatusKey",value:e.SSCreDetStatusKey?e.SSCreDetStatusKey:""}),A({type:"text",name:"SSCreDetDuration",value:e.SSCreDetDuration?e.SSCreDetDuration:""}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:e.PPMSSCreationWorkOrderID?Number(e.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:e.SSCreWorkOrder?e.SSCreWorkOrder:""})}const Re=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(h.Z,{expanded:P,onChange:e=>{}},r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},P&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[522]"}," ",he("Add "),fe("522")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(Ce.Z,{row:!0},r().createElement(le.Z,{labelPlacement:"bottom",id:"fld522L1ECEntryCheckbox",control:r().createElement(x.Z,{checked:"1"==d,onChange:e=>S(e.target.checked)}),label:he(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld522L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(Pe.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,he("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ne()},id:"fld522L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Pe.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,he("Reset")))),"1"===g&&V&&r().createElement(ie.Z,{frmctrlid:"fld522L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{ke("draftdel")}}),V&&"1"!==g||e.createEasy?null:_.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{ke()},frmctrlid:"fld522L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ye.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,he("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(C.Z,{frmctrlid:"fld522L1ECSaveBtnIsAdd",name:he(V?"Update":"Save"),disabled:!1,onClick:()=>{F.PPMCheckPointID&&0!=F.PPMCheckPointID?F.PPMCheckStatusID&&0!=F.PPMCheckStatusID?e.parentId&&0!=e.parentId?G.ConfirmAlert(r().createElement(me(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:he("Are you sure?"),onConfirm:()=>Te(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:he("Yes"),cancelBtnText:he("Cancel"),showCancel:!0},he(V?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[he("Please select the ")+" "+fe("PPMSSCreationWorkOrderID")]}):G.alert({open:!0,color:"warning",message:[he("Please select the ")+" "+fe("PPMCheckStatusID")]}):G.alert({open:!0,color:"warning",message:[he("Please select the ")+" "+fe("PPMCheckPointID")]})}}):null,!e.createEasy&&r().createElement(I.Z,{frmctrlid:"fld522L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ne(),D(!1),G.EditClose(!0),G.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(f.Z,null,r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ce.Z,{json:je,id:F.PPMCheckPointID,"data-testid":F.PPMCheckPointID,value:F.CheckPointName,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"PPMCheckPointID",tfLabel:fe("PPMCheckPointID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ae(e,"PPMCheckPointID","select"),onChange:(e,t)=>{Oe(e,t,"PPMCheckPointIDPK")},KeyBack:e=>{Be("PPMCheckPointID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{be("462")},Tabledialog:()=>we("462","PPMCheckPointID"),loading:B,clear:e=>{e&&xe("PPMCheckPointID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:je,"data-testid":F.SSCreDetMin,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"SSCreDetMin",tfLabel:fe("SSCreDetMin"),frmctrlid:"fld522_21574",fieldorder:"2",disabled:!0,onChange:e=>{Ae(e,"SSCreDetMin","number")},clear:e=>{e&&A({type:"number",name:"SSCreDetMin",number:0})},value:F.SSCreDetMin})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:je,"data-testid":F.SSCreDetMax,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"SSCreDetMax",tfLabel:fe("SSCreDetMax"),frmctrlid:"fld522_21575",fieldorder:"3",disabled:!0,onChange:e=>{Ae(e,"SSCreDetMax","number")},clear:e=>{e&&A({type:"number",name:"SSCreDetMax",number:0})},value:F.SSCreDetMax})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(le.Z,{style:{color:"#337ab7"},"data-testid":F.IsSSCreDetMandatory,labelPlacement:"end",control:r().createElement(x.Z,{disabled:!0,checked:"1"==F.IsSSCreDetMandatory,onChange:e=>{Ae(e.target.checked,"IsSSCreDetMandatory","boolean")},frmctrlid:"fld522_21576",frmctrlidname:"IsSSCreDetMandatory",fieldorder:"4",tfLabel:fe("IsSSCreDetMandatory")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:F.IsSSCreDetMandatory?"#21446F":"#999"}},fe("IsSSCreDetMandatory"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:je,"data-testid":F.SSCreDetValue,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"SSCreDetValue",tfLabel:fe("SSCreDetValue"),frmctrlid:"fld522_21568",fieldorder:"1",onChange:e=>{Ae(e,"SSCreDetValue","number")},clear:e=>{e&&A({type:"number",name:"SSCreDetValue",number:0})},value:F.SSCreDetValue})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ce.Z,{json:je,id:F.PPMCheckStatusID,"data-testid":F.PPMCheckStatusID,value:F.CheckStatusName,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"PPMCheckStatusID",tfLabel:fe("PPMCheckStatusID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ae(e,"PPMCheckStatusID","select"),onChange:(e,t)=>{Oe(e,t,"PPMCheckStatusIDPK")},KeyBack:e=>{Be("PPMCheckStatusID")},fieldorder:"2",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{be("463")},Tabledialog:()=>we("463","PPMCheckStatusID"),loading:B,clear:e=>{e&&xe("PPMCheckStatusID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:je,"data-testid":F.SSCreDetEmpRemarks,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"SSCreDetEmpRemarks",tfLabel:fe("SSCreDetEmpRemarks"),frmctrlid:"fld522_22559",fieldorder:"3",onChange:e=>{Ae(e,"SSCreDetEmpRemarks","text")},clear:e=>{e&&A({type:"text",name:"SSCreDetEmpRemarks",value:""})},value:F.SSCreDetEmpRemarks})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.PPMSSWorkOrderDetailCode,json:je,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"PPMSSWorkOrderDetailCode",tfLabel:fe("PPMSSWorkOrderDetailCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{$&&Fe(1,"","ClearAll"),J(!0)},frmctrlid:"fld522_21567",frmctrlidName:"PPMSSWorkOrderDetailCode",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{$&&Fe(e,t,"PPMSSWorkOrderDetailCode"),Ae(t,"PPMSSWorkOrderDetailCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||J(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSSWorkOrderDetailCode,loading:B,clear:e=>{e&&(A({type:"text",name:"PPMSSWorkOrderDetailCode",value:""}),J(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreDetOrderKey,json:je,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"SSCreDetOrderKey",tfLabel:fe("SSCreDetOrderKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{ee&&Fe(1,"","ClearAll"),te(!0)},frmctrlid:"fld522_21569",frmctrlidName:"SSCreDetOrderKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ee&&Fe(e,t,"SSCreDetOrderKey"),Ae(t,"SSCreDetOrderKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreDetOrderKey,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreDetOrderKey",value:""}),te(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreDetStatusKey,json:je,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"SSCreDetStatusKey",tfLabel:fe("SSCreDetStatusKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{ae&&Fe(1,"","ClearAll"),oe(!0)},frmctrlid:"fld522_21571",frmctrlidName:"SSCreDetStatusKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ae&&Fe(e,t,"SSCreDetStatusKey"),Ae(t,"SSCreDetStatusKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreDetStatusKey,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreDetStatusKey",value:""}),oe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreDetDuration,json:je,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"SSCreDetDuration",tfLabel:fe("SSCreDetDuration"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{se&&Fe(1,"","ClearAll"),Se(!0)},frmctrlid:"fld522_21573",frmctrlidName:"SSCreDetDuration",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{se&&Fe(e,t,"SSCreDetDuration"),Ae(t,"SSCreDetDuration","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Se(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreDetDuration,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreDetDuration",value:""}),Se(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{json:je,id:F.PPMSSCreationWorkOrderID,"data-testid":F.PPMSSCreationWorkOrderID,value:F.SSCreWorkOrder,SPName:"PPMSSCreationWorkOrderDetails",FieldName:"PPMSSCreationWorkOrderID",tfLabel:fe("PPMSSCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ae(e,"PPMSSCreationWorkOrderID","select"),onChange:(e,t)=>{Oe(e,t,"PPMSSCreationWorkOrderIDPK")},KeyBack:e=>{Be("PPMSSCreationWorkOrderID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{be("521")},Tabledialog:()=>we("521","PPMSSCreationWorkOrderID"),loading:B,clear:e=>{e&&xe("PPMSSCreationWorkOrderID")}})))),r().createElement("div",{id:"PPMSSCreationWorkOrderDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSCreationWorkOrderDetailsSideBar").style.width="0",void T(!1))},"×"),N&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))})),Qe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,S]=(0,l.useState)(!0),[C,P]=(0,l.useState)(e.showDetail),[D,g]=(0,l.useState)(""),[M,E]=r().useState(!1),[v,N]=r().useState(""),[T,k]=r().useState(!1),b=(0,l.useContext)($e),{cstate:w,cdispatch:O}=Je(),[F,A]=(0,l.useState)(!1),[x,B]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{w.editData.length>0&&(s(w.editData),E(!1),O({type:"PrimaryId",payload:w.editData[0].PPMSSWorkOrderDetIDPK}))}),[w.editData]),(0,l.useEffect)((()=>{w.showTableview&&K(w.showTableview)}),[w.showTableview]),(0,l.useEffect)((()=>{S(w.ExpandDetailValue)}),[w.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP522S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:1,p64:10,p65:w.IsDraft?"DraftPPMSSWorkOrderDetID":"PPMSSWorkOrderDetID",p66:null,p67:null,p68:localStorage.getItem("UserGroupID"),p69:localStorage.getItem("userid")}};(0,p.Z)(0).then((e=>{(0,c.Z)(l,r,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const G=e=>Z?.[e]?Z?.[e]:e,_=e=>w.language?.[e]?w.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{N(T?Object.assign(...i.filter((e=>e.PPMSSWorkOrderDetIDPK==t)).map((e=>e))):w.editData),E(!l&&e)};return r().createElement("div",null,r().createElement(h.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&S(!m)}},!M&&r().createElement(z.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},w.IsDraft?G("Draft"):"",_("PPMSSCreationWorkOrderDetails"),e.viewonly?" ":"("+w.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&w.AccessRights.IsAdd?r().createElement(o.Z,{name:G("Add"),frmctrlid:"fld522L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),O({type:"editData",payload:[]}),O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&w.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld522L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):w.IsDraft&&w.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld522L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(I.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld522L1VCCloseBtn",onClick:()=>{S(!1),b.hideAddBtn(!1),T&&(O({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(f.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},M==="panel"+l?r().createElement(Xe,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(fe.Z,{tableName:"PPMSSCreationWorkOrderDetails",tableID:522,parentID:t.PPMSSWorkOrderDetIDPK,fldid:"fld522L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:G,title:"10.0.0.59-3:08:17 PM-18-7[522]"}))))))))})),$e=(0,l.createContext)(),Je=()=>{const e=(0,l.useContext)($e);if(void 0===e)throw new Error("useCont must be used within  PPMSSCreationWorkOrderDetailsContext Provider");return e},et=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,S]=(0,l.useState)(!0),[c,u]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[P,y]=(0,l.useState)(0),[D,g]=(0,l.useReducer)(ke.D,ke.E),[I,M]=(0,l.useState)(""),[E,h]=(0,l.useState)([]),[f,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSSCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{S(!0),document.getElementById("divPPMSSCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{h([]),document.getElementById("divPPMSSCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetailsEntryTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainEntry").style.display="block",document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,p.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),y(t.length),T(e)}))}))}),[]);const T=t=>{g({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement($e.Provider,{value:{cstate:D,cdispatch:g,ContextApi:Je,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==P&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,E),h([])},EditClose:e=>N(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSSCreationWorkOrderDetails").style.width="50%",document.getElementById("divPPMSSCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrderDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails").style.display="block",document.getElementById("overlayimgAttPPMSSCreationWorkOrderDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSSCreationWorkOrderDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSCreationWorkOrderDetails-Entry",style:{width:"100%"}},0!==P?r().createElement(Qe,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Te.Z,{ref:s,menurefID:522,fileId:"LogoImgPPMSSCreationWorkOrderDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSCreationWorkOrderDetails",frmctrlid:"PvwIm_522_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSCreationWorkOrderDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Xe,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Te.Z,{ref:s,menurefID:522,fileId:"LogoImgPPMSSCreationWorkOrderDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSCreationWorkOrderDetails",frmctrlid:"PvwIm_522_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})),r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-MainTable"},0!==P?r().createElement(Ue,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Ne.Z,{ImgAttachment:e=>N(),menurefID:522,fileId:"AttImgPPMSSCreationWorkOrderDetails",imgid:"overlayimgAttPPMSSCreationWorkOrderDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSSCreationWorkOrderDetails",ref:d,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_522_L1_",timglist:e=>{s.current.timglist(e),h(e)},clearTempData:D.Add}))),r().createElement("div",{id:"PPMSSCreationWorkOrderDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),f&&r().createElement(we(),{openDialog:f,closeDialog:e=>v(e),formID:522,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var tt=a(25108);const at=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,S]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[p,C]=(0,l.useState)(""),[P,D]=(0,l.useState)({}),[I,M]=(0,l.useState)(!0),[E,h]=(0,l.useState)(!1),{cstate:f,cdispatch:v}=e.ContextApi?e.ContextApi:st(),[B,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,ee]=(0,l.useState)(!1),[te,ae]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Se=(0,y.Z)();const ce=e=>Se[e]?Se[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function pe(){D({}),z({}),e.searchData({}),h(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{pe()}})));const Ce=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const i=new AbortController;ie.current=i;let d="",s=[],m={};await S((e=>(d=e.name,e))),await D((e=>(s=e,e))),await z((e=>(m=e,e)));const C=u.v.Api+"FP523S3/",y={data:{p1:"PPMSSCreationworkOrderSubDetIDPK"==a?null:await Ie(),p2:"PPMSSCreationworkOrderSubDetCode"==d&&l.length>0?"%"+l+"%":null,p3:"SSCreMatRequiredQty"==d&&l.length>0?"%"+l+"%":null,p4:"SSCreMatRequiredPrice"==d&&l.length>0?"%"+l+"%":null,p5:"SSCreMatRequestedKey"==d&&l.length>0?"%"+l+"%":null,p6:"SSCreMatRequiredRemarks"==d&&l.length>0?"%"+l+"%":null,p7:"SSCreMatSplitQty"==d&&l.length>0?"%"+l+"%":null,p8:"SSCreMatIssuedQty"==d&&l.length>0?"%"+l+"%":null,p9:"SSCreMatIssuedPrice"==d&&l.length>0?"%"+l+"%":null,p10:"SSCreMatIssuedRemarks"==d&&l.length>0?"%"+l+"%":null,p11:"IsSSCreMatIssuedStat"==d&&l.length>0?"%"+l+"%":null,p12:"SSCreMatUtilizedQty"==d&&l.length>0?"%"+l+"%":null,p13:"SSCreMatUtilizedPrice"==d&&l.length>0?"%"+l+"%":null,p14:"SSCreMatUtilizedRemarks"==d&&l.length>0?"%"+l+"%":null,p15:"SSCreMatApprovedQty"==d&&l.length>0?"%"+l+"%":null,p16:"SSCreMatApprovedPrice"==d&&l.length>0?"%"+l+"%":null,p17:"SSCreMatMatTotAmt"==d&&l.length>0?"%"+l+"%":null,p18:"IsSLAMaterail"==d&&l.length>0?"%"+l+"%":null,p19:null,p20:null,p21:e.parentId?e.parentId:"0",p22:"MaterialName"!=d&&s.MaterialName?s.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p23:e.Dialogview?"1":null,p24:null,p25:"p25"==d&&l.length>0?l:null,p26:null,p27:null,p28:null,p29:null,p30:"MatProcessTypeName"!=d&&s.MatProcessTypeName?s.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p31:"MatProcessTypeCode"==d&&l.length>0?"%"+l+"%":null,p32:"MatProcessTypeName"==d&&l.length>0?"%"+l+"%":null,p33:"MaterialTypeName"!=d&&s.MaterialTypeName?s.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p34:"MaterialTypeCode"==d&&l.length>0?"%"+l+"%":null,p35:"MaterialTypeName"==d&&l.length>0?"%"+l+"%":null,p36:"MatMainClassName"!=d&&s.MatMainClassName?s.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p37:"MatMainClassCode"==d&&l.length>0?"%"+l+"%":null,p38:"MatMainClassName"==d&&l.length>0?"%"+l+"%":null,p39:"MatSubClassName"!=d&&s.MatSubClassName?s.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p40:"MatSubClassCode"==d&&l.length>0?"%"+l+"%":null,p41:"MatSubClassName"==d&&l.length>0?"%"+l+"%":null,p42:"MatMakeName"!=d&&s.MatMakeName?s.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p43:"MatMakeCode"==d&&l.length>0?"%"+l+"%":null,p44:"MatMakeName"==d&&l.length>0?"%"+l+"%":null,p45:"MatModelName"!=d&&s.MatModelName?s.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p46:"MatModelCode"==d&&l.length>0?"%"+l+"%":null,p47:"MatModelName"==d&&l.length>0?"%"+l+"%":null,p48:"UOMName"!=d&&s.UOMName?s.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p49:"MATUOMCode"==d&&l.length>0?"%"+l+"%":null,p50:"UOMName"==d&&l.length>0?"%"+l+"%":null,p51:"GradeName"!=d&&s.GradeName?s.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p52:"GradeName"==d&&l.length>0?"%"+l+"%":null,p53:"MatGradeCode"==d&&l.length>0?"%"+l+"%":null,p54:"MaterialColorName"!=d&&s.MaterialColorName?s.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p55:"MaterialColorName"==d&&l.length>0?"%"+l+"%":null,p56:"MatMaterialColorCode"==d&&l.length>0?"%"+l+"%":null,p57:"RawMaterialName"!=d&&s.RawMaterialName?s.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p58:"MadeRawMaterialCode"==d&&l.length>0?"%"+l+"%":null,p59:"RawMaterialName"==d&&l.length>0?"%"+l+"%":null,p60:"MaterialSizeName"!=d&&s.MaterialSizeName?s.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p61:"MaterialSizeName"==d&&l.length>0?"%"+l+"%":null,p62:"MatMaterialSizeCode"==d&&l.length>0?"%"+l+"%":null,p63:"MaterialCode"==d&&l.length>0?"%"+l+"%":null,p64:"MaterialName"==d&&l.length>0?"%"+l+"%":null,p65:r||1,p66:10,p67:t,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},g=await(0,c.Z)(C,y,e.token,"",i.signal);if(!g)return!1;const I=g.Output.status.code,M=g.Output.data;if("200"===I)if(M.length>0)if(1===r){let e=ye(M,d),t=Pe(e,P[d],a);o(t),R(t.length>0?t[0].TotalCount:P[d].length)}else{let e=[...n,...M],t=ye(e,d);R(t.length<10?t.length:M[0].TotalCount),o(ye(t,d))}else p.length>0&&o([]),R(n.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Pe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function De(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>P[e]?P[e].map((e=>e[t])):[]));return e.toString()}return""}const ge=async t=>{let a="",l={};await D((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSSCreationworkOrderSubDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSSCreationworkOrderSubDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:De("MaterialID"),PPMSSCreationWorkOrderID:De("PPMSSCreationWorkOrderID")};"saveFav"==t?he("save",i):(e.searchData(i),h(!1))};async function Ie(){let e={};await D((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSSCreationworkOrderSubDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Me(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...P};let m=[..._],S=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSSCreationworkOrderSubDetIDPK)).toString();t&&S.push(t)}await z((e=>(d=e,e)));let c={PPMSSCreationworkOrderSubDetIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,MaterialID:P.MaterialName?.map((e=>e.MaterialIDPK)).toString(),PPMSSCreationWorkOrderID:P.SSCreWorkOrder?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString()};e.searchData(c)}function Ee(){return r().createElement(b.Z,{frmctrlid:"fld523L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Me(e,t,a,d.name,l)},keyboardback:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:""})},title:ce(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const he=(t,a)=>{(0,_e.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(We.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(Le.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Re.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Ze.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>ee(e.target.checked)}),label:"Quick"}),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:te,onChange:e=>ae(e.target.checked)}),label:"Dashboard"})),r().createElement(Ke.Z,null,r().createElement(T.Z,{onClick:()=>{ge("saveFav"),$(!1)},color:"primary"},"Save"))),E?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Ee,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:ce("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(N.Z,{id:"fld523L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),P[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld523L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await D((t=>(e=t,tt.log("clear fewItems",e),t))),e[d.name]=[],Ce(d.type,d.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},I?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(F.D7o,{className:"FilterMaximizeIcon",onClick:()=>{M(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(F.dOw,{className:"FilterMaximizeIcon",onClick:()=>{M(!0)}})))),r().createElement("ul",null,P[d.name]&&P[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:I?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=P[d.name].filter((t=>t!=e)),l={};await D((e=>(l=e,e))),l[d.name]=a,D(l),o((t=>[e,...t]))})(e)},r().createElement(N.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(w.Z,{frmctrlid:"fld523L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:p,placeholder:ce("Enter ")+" "+ue(d.idpk),onChange:e=>{C(e),Ce(d.type,d.fieldidpk,e,1,Ie())}})),r().createElement("div",{id:"fld523L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:ge},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(A.Z,{color:"secondary"})),r().createElement("div",{id:"fld523L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await D((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},D(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(k.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld523L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(B+1),Ce(d.type,d.fieldidpk,"",B+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(O.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",ce("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(N.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),pe()}}):r().createElement(xe.Z,{className:"favlisticon",onClick:()=>{j(!0),he("select"),pe()}})),Object.keys(P).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Be.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{pe()},id:"fld523L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld523L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},ce("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld523L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{h(!0),C(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSSCreationworkOrderSubDetIDPK";S({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSCreationworkOrderSubDetID",fieldidpk:t}),Ce(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSCreationworkOrderSubDetID",t,"",1,Ie())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(x.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Me("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,P[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},P[a][0][a]),P[a].length>1&&r().createElement("span",{className:"RoundedDivName"},P[a][1][a]),P[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(P[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ce("FilterPPMSSCreationworkOrderSubDetID",a),ge("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const lt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("523"),[S,p]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),[g,I]=(0,l.useState)(0),[M,E]=(0,l.useState)(0),[T,k]=(0,l.useState)(0),[b,A]=(0,l.useState)(0),[x,B]=(0,l.useState)({current:1,pageSize:100}),[W,Q]=(0,l.useState)(""),[ae,le]=(0,l.useState)([]),[re,ne]=(0,l.useState)({val:"",column:""}),[ie,oe]=(0,l.useState)([]),[de,se]=(0,l.useState)(!1),[me,Se]=(0,l.useState)(""),[ce,ue]=(0,l.useState)(""),[pe,Ce]=(0,l.useState)(!1),[Pe,ye]=(0,l.useState)([]),[De,ge]=(0,l.useState)([]),[Ie,Me]=(0,l.useState)([]),[Ee,he]=(0,l.useState)({children:[{name:"PPMSSCreationWorkOrderMatDetails",children:[]}]}),[fe,ve]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:dt),{cstate:Te,cdispatch:ke}=e.ContextApi?e.ContextApi:st();let be={PPMSSCreationworkOrderSubDetIDPK:"",PPMSSCreationworkOrderSubDetCode:"",SSCreMatRequiredQty:"",SSCreMatRequiredPrice:"",SSCreMatRequestedKey:"",SSCreMatRequiredRemarks:"",SSCreMatSplitQty:"",SSCreMatIssuedQty:"",SSCreMatIssuedPrice:"",SSCreMatIssuedRemarks:"",IsSSCreMatIssuedStat:"",SSCreMatUtilizedQty:"",SSCreMatUtilizedPrice:"",SSCreMatUtilizedRemarks:"",SSCreMatApprovedQty:"",SSCreMatApprovedPrice:"",SSCreMatMatTotAmt:"",IsSLAMaterail:"",IsDraft:"",Remarks:"",PPMSSCreationWorkOrderID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[we,Oe]=(0,l.useState)(be),[Fe,Ae]=(0,l.useState)(be),[xe,Be]=(0,l.useState)(!1),[We,Le]=(0,l.useState)(!0),[Re,Ke]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[ze,_e]=(0,l.useState)({MaterialName:"",SSCreMatRequiredQty:"",SSCreMatRequiredPrice:"",SSCreMatIssuedQty:"",SSCreMatIssuedPrice:"",IsSLAMaterail:"",IsSSCreMatIssuedStat:"",PPMSSCreationworkOrderSubDetCode:"",SSCreMatRequestedKey:"",SSCreMatRequiredRemarks:"",SSCreMatSplitQty:"",SSCreMatIssuedRemarks:"",SSCreMatUtilizedQty:"",SSCreMatUtilizedPrice:"",SSCreMatUtilizedRemarks:"",SSCreMatApprovedQty:"",SSCreMatApprovedPrice:"",SSCreMatMatTotAmt:"",SSCreWorkOrder:""}),[qe,Ve]=(0,l.useState)(!1),[Ue,je]=(0,l.useState)([]),[Ye,Xe]=(0,l.useState)(0),[Qe,$e]=(0,l.useState)(0),[Je,et]=(0,l.useState)({current:1,pageSize:10}),[tt,lt]=(0,l.useState)([]),[rt,nt]=(0,l.useState)([]),[it,ot]=(0,l.useState)(!1),[mt,St]=(0,l.useState)(!1),[ct,ut]=(0,l.useState)(!1),[pt,Ct]=(0,l.useState)(""),[Pt,yt]=$()("523"),[Dt,gt]=(0,l.useState)({}),It=[{columns:tt,data:W}];let Mt=(0,y.Z)();const Et=e=>Mt[e]?Mt[e]:e,ht=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{wt(Pt)}),[Pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?kt(x,be,"PPMSSCreationworkOrderSubDetID"):oe([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?kt(x,me,"PPMSSCreationworkOrderSubDetID"):fe&&Ae(me)}),[me]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{kt(x,be,"PPMSSCreationworkOrderSubDetID")},DialogTableProps:e=>{P(e)},HideEntryFields:e=>{ut(!0===e)}})));const ft=e=>{""==e?kt(x,be,xe?"DraftPPMSSCreationworkOrderSubDetID":"PPMSSCreationworkOrderSubDetID",xe&&"DraftPage"):bt(e,{current:1,pageSize:100}),ue(e)};function vt(t){Ne.loading(!0);let a=u.v.Api+"FP523S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,$e(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),je(e.Output.data),Ne.loading(!1)}}))}function Nt(e,t){ke({type:"editData",payload:[t]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Re&&Ce(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(P(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const Tt=()=>{Ne.EditClose(!0),de?(document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSSCreationWorkOrderMatDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),Ze?(C||(document.getElementById("PPMSSCreationWorkOrderMatDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderMatDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSSCreationWorkOrderMatDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ce(!1),window.clickFilter=!de},kt=(t,a,l,r,n,i)=>{Ne.loading(!0),"DraftPage"!==r&&Be(Te.IsDraft);let o=u.v.Api+"FP523S3/",d={data:{p1:n||(a&&a.PPMSSCreationworkOrderSubDetIDPK?a.PPMSSCreationworkOrderSubDetIDPK:null),p2:a&&a.PPMSSCreationworkOrderSubDetCode?a.PPMSSCreationworkOrderSubDetCode:null,p3:a&&a.SSCreMatRequiredQty?a.SSCreMatRequiredQty:null,p4:a&&a.SSCreMatRequiredPrice?a.SSCreMatRequiredPrice:null,p5:a&&a.SSCreMatRequestedKey?a.SSCreMatRequestedKey:null,p6:null,p7:a&&a.SSCreMatSplitQty?a.SSCreMatSplitQty:null,p8:a&&a.SSCreMatIssuedQty?a.SSCreMatIssuedQty:null,p9:a&&a.SSCreMatIssuedPrice?a.SSCreMatIssuedPrice:null,p10:null,p11:null,p12:a&&a.SSCreMatUtilizedQty?a.SSCreMatUtilizedQty:null,p13:a&&a.SSCreMatUtilizedPrice?a.SSCreMatUtilizedPrice:null,p14:null,p15:a&&a.SSCreMatApprovedQty?a.SSCreMatApprovedQty:null,p16:a&&a.SSCreMatApprovedPrice?a.SSCreMatApprovedPrice:null,p17:a&&a.SSCreMatMatTotAmt?a.SSCreMatMatTotAmt:null,p18:null,p19:"DraftPPMSSCreationworkOrderSubDetID"==l?"1":"0",p20:null,p21:e.parentId?Number(e.parentId):0,p22:a&&a.MaterialID?a.MaterialID:null,p23:a&&a.IsActive,p24:null,p25:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p26:a&&a.CreatedTtm?a.CreatedTtm:null,p27:a&&a.CreatedTtmType?a.CreatedTtmType:null,p28:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p29:null,p30:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p31:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p32:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p33:a&&a.MaterialTypeID?a.MaterialTypeID:null,p34:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p35:a&&a.MaterialTypeName?a.MaterialTypeName:null,p36:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p37:a&&a.MatMainClassCode?a.MatMainClassCode:null,p38:a&&a.MatMainClassName?a.MatMainClassName:null,p39:a&&a.MatSubClassID?a.MatSubClassID:null,p40:a&&a.MatSubClassCode?a.MatSubClassCode:null,p41:a&&a.MatSubClassName?a.MatSubClassName:null,p42:a&&a.MaterialMakeID?a.MaterialMakeID:null,p43:a&&a.MatMakeCode?a.MatMakeCode:null,p44:a&&a.MatMakeName?a.MatMakeName:null,p45:a&&a.MaterialModelID?a.MaterialModelID:null,p46:a&&a.MatModelCode?a.MatModelCode:null,p47:a&&a.MatModelName?a.MatModelName:null,p48:a&&a.MATUOMID?a.MATUOMID:null,p49:a&&a.MATUOMCode?a.MATUOMCode:null,p50:a&&a.UOMName?a.UOMName:null,p51:a&&a.MatGradeID?a.MatGradeID:null,p52:a&&a.GradeName?a.GradeName:null,p53:a&&a.MatGradeCode?a.MatGradeCode:null,p54:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p55:a&&a.MaterialColorName?a.MaterialColorName:null,p56:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p57:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p58:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p59:a&&a.RawMaterialName?a.RawMaterialName:null,p60:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p61:a&&a.MaterialSizeName?a.MaterialSizeName:null,p62:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p63:a&&a.MaterialCode?a.MaterialCode:null,p64:a&&a.MaterialName?a.MaterialName:null,p65:n?1:t.current,p66:t.pageSize,p67:l,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};(0,c.Z)(o,d,Te.token[0]).then((o=>{if(n)(0,j.a)(o,ke,r,i,Ne);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,k(o.Output.data[0].TotalCount),A(o.Output.data[0].DraftCnt),ke({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&A(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?E(Math.ceil(e)):20==t.pageSize?E(Math.ceil(e/2)):50==t.pageSize?E(Math.ceil(e/5)):100==t.pageSize&&E(Math.ceil(e/10)),oe(o.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divPPMSSCreationWorkOrderMatDetails-Entry").style.height="auto",document.getElementById("divPPMSSCreationWorkOrderMatDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftPPMSSCreationworkOrderSubDetID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),Be(!1)):(oe([]),B({current:1,pageSize:10}),E(0),k(0),ke({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ne.loading(!1)}))};function bt(t,a){Ne.loading(!0);const l=u.v.Api+"FP523S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:xe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,r,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,k(e.Output.data[0].TotalCount),ke({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?E(Math.ceil(t)):20==a.pageSize?E(Math.ceil(t/2)):50==a.pageSize?E(Math.ceil(t/5)):100==a.pageSize&&E(Math.ceil(t/10)),oe(e.Output.data),Ne.loading(!1)}else oe([]),E(0),k(0),ke({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function wt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),ke({type:"language",payload:Object.assign({},...r)}),_e(a.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),ge(t),Me(a),lt(l),nt(a)}const Ot=()=>fe?null:r().createElement("div",null,qe?r().createElement(ee.Z,{data:Ue,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:t}),ke({type:"ShowDetail",payload:a}))}}):r().createElement(J.Z,{ref:d,frmctrlid:"tblcs_523_L1_",id:"PPMSSCreationWorkOrderMatDetailsTable",headerdata:De,tablesearchparams:ze,searchvalue:e=>{_e(e),Se(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),B({current:1,pageSize:10}),kt({current:1,pageSize:10},t,xe?"DraftPPMSSCreationworkOrderSubDetID":"PPMSSCreationworkOrderSubDetID",xe&&"DraftPage")},bodydata:ie,ondrag:Nt,bodyitem:Ie,visibleitem:De,isdraft:xe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&kt(x,null,t?"DraftPPMSSCreationworkOrderSubDetID":"PPMSSCreationworkOrderSubDetID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!C||Re,tf:ht,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(Te.ExpandTableValue)}),[Te.ExpandTableValue]),r().createElement("div",null,!ct&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld523L1ECSearchBar",className:"searchbar1"},r().createElement(w.Z,{frmctrlid:"fld523L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ce,onChange:e=>{ue(e),Ne.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld523L1TCCloseIconCommonSearch",onClick:()=>{ue(""),Ne.searchItem("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld523L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSSCreationWorkOrderMatDetailsgridsearch").focus()}})))),r().createElement("div",null,Te.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld523L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),ke({type:"editData",payload:[]}),ke({type:"ShowDetail",payload:!1}),ke({type:"Add",payload:!0})}}):"")),r().createElement(h.Z,{expanded:We,onChange:()=>()=>{Le(Re)}},e.Dialogview&&r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[523]"},`${ht("523")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld523L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(w.Z,{frmctrlid:"fld523L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ce,onChange:e=>{ft(e)}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld523L1TCInputCloseIcon",onClick:()=>{ft("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld523L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon"}))))))),r().createElement(f.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!xe&&r().createElement("div",{frmctrlid:"fld523L1TCFilterDataIsDraft",id:"PPMSSCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Tt()}},r().createElement(i.ZP,{title:Et("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(O.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Filter Data"))),!C&&!xe&&!fe&&r().createElement(L.Z,{formctrlidprint:"fld523L1TCExportPrint",formctrlidexport:"fld523L1TCExportTable",formctrlidrefresh:"fld523L1TCExportRefresh",title:ht("523"),data:ae,exportData:It,Items:rt,columnIndex:tt,TableVisibleItem:De,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let o=u.v.Api+"FP523S3/",d={data:{p1:t&&t.PPMSSCreationworkOrderSubDetIDPK?t.PPMSSCreationworkOrderSubDetIDPK:null,p2:t&&t.PPMSSCreationworkOrderSubDetCode?t.PPMSSCreationworkOrderSubDetCode:null,p3:t&&t.SSCreMatRequiredQty?t.SSCreMatRequiredQty:null,p4:t&&t.SSCreMatRequiredPrice?t.SSCreMatRequiredPrice:null,p5:t&&t.SSCreMatRequestedKey?t.SSCreMatRequestedKey:null,p6:null,p7:t&&t.SSCreMatSplitQty?t.SSCreMatSplitQty:null,p8:t&&t.SSCreMatIssuedQty?t.SSCreMatIssuedQty:null,p9:t&&t.SSCreMatIssuedPrice?t.SSCreMatIssuedPrice:null,p10:null,p11:null,p12:t&&t.SSCreMatUtilizedQty?t.SSCreMatUtilizedQty:null,p13:t&&t.SSCreMatUtilizedPrice?t.SSCreMatUtilizedPrice:null,p14:null,p15:t&&t.SSCreMatApprovedQty?t.SSCreMatApprovedQty:null,p16:t&&t.SSCreMatApprovedPrice?t.SSCreMatApprovedPrice:null,p17:t&&t.SSCreMatMatTotAmt?t.SSCreMatMatTotAmt:null,p18:null,p19:xe?"1":"0",p20:null,p21:e.parentId?Number(e.parentId):0,p22:t&&t.MaterialID?t.MaterialID:null,p23:t&&t.IsActive,p24:null,p25:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p26:t&&t.CreatedTtm?t.CreatedTtm:null,p27:t&&t.CreatedTtmType?t.CreatedTtmType:null,p28:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p29:null,p30:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p31:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p32:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p33:t&&t.MaterialTypeID?t.MaterialTypeID:null,p34:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p35:t&&t.MaterialTypeName?t.MaterialTypeName:null,p36:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p37:t&&t.MatMainClassCode?t.MatMainClassCode:null,p38:t&&t.MatMainClassName?t.MatMainClassName:null,p39:t&&t.MatSubClassID?t.MatSubClassID:null,p40:t&&t.MatSubClassCode?t.MatSubClassCode:null,p41:t&&t.MatSubClassName?t.MatSubClassName:null,p42:t&&t.MaterialMakeID?t.MaterialMakeID:null,p43:t&&t.MatMakeCode?t.MatMakeCode:null,p44:t&&t.MatMakeName?t.MatMakeName:null,p45:t&&t.MaterialModelID?t.MaterialModelID:null,p46:t&&t.MatModelCode?t.MatModelCode:null,p47:t&&t.MatModelName?t.MatModelName:null,p48:t&&t.MATUOMID?t.MATUOMID:null,p49:t&&t.MATUOMCode?t.MATUOMCode:null,p50:t&&t.UOMName?t.UOMName:null,p51:t&&t.MatGradeID?t.MatGradeID:null,p52:t&&t.GradeName?t.GradeName:null,p53:t&&t.MatGradeCode?t.MatGradeCode:null,p54:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p55:t&&t.MaterialColorName?t.MaterialColorName:null,p56:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p57:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p58:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p59:t&&t.RawMaterialName?t.RawMaterialName:null,p60:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p61:t&&t.MaterialSizeName?t.MaterialSizeName:null,p62:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p63:t&&t.MaterialCode?t.MaterialCode:null,p64:t&&t.MaterialName?t.MaterialName:null,p65:x.current,p66:T,p67:xe?"DraftPPMSSCreationworkOrderSubDetID":"PPMSSCreationworkOrderSubDetID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${ht(523)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(o,d,Te.token[0],i).then((e=>{(0,X.PDF_Excel_Generate)(e,Ne,rt,Q,a,i)}))})(me,re.column,0,0,t)},Refresh:()=>{ue(""),B({current:1,pageSize:100}),d.current.clearItem(),Te.IsDraft?kt({current:1,pageSize:100},be,"DraftPPMSSCreationworkOrderSubDetID"):kt({current:1,pageSize:100},be,"PPMSSCreationworkOrderSubDetID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!xe&&!fe&&!C&&r().createElement("div",{className:"buttoncard",onClick:()=>St(!mt)},r().createElement("span",null,mt?r().createElement(i.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},r().createElement("span",{id:"fld523L1TCLess"},r().createElement(V.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},r().createElement("span",{id:"fld523L1TCMore"},r().createElement(V.ilJ,{className:"tableFilterColumnIcon"}))))),mt?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},fe||!Re?null:C||!Te.AccessRights.IsAdd||xe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld523L1TCFilterDataIsAdd",id:"PPMSSCreationWorkOrderMatDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),pe?(document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderMatDetailsTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv").style.display="none",document.getElementById("PPMSSCreationWorkOrderMatDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderMatDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv").style.width="25%",document.getElementById("PPMSSCreationWorkOrderMatDetailsTabDiv").style.width="75%",document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv").style.display="block",document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderMatDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSCreationWorkOrderMatDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSCreationWorkOrderMatDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),se(!1)}},r().createElement(i.ZP,{title:Et("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(Y.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&Re&&!fe&&!xe&&r().createElement("div",null,r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetailscoldiv",className:"buttoncard",onClick:()=>{qe?Ve(!1):(Ve(!0),vt({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Et("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld523L1TCTableScrollData"},r().createElement(te.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!fe&&xe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),kt({current:1,pageSize:100},be,"PPMSSCreationworkOrderSubDetID"),Be(!1),ue(""),ke({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},r().createElement(i.ZP,{title:Et("List"),placement:"top"},r().createElement("div",{id:"fld523L1TCList"},r().createElement(H.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Et("Drafts")," ",T)):!C&&!fe&&Te.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(v.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},r().createElement("div",{id:"fld523L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(B({current:1,pageSize:100}),I(0),Ne.clear(),ue(""),ke({type:"Add",payload:!1}),kt({current:1,pageSize:10},be,"DraftPPMSSCreationworkOrderSubDetID"),Be(!0),ke({type:"IsDraft",payload:!0}),Ce(!1),Ge(!0),document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSCreationWorkOrderMatDetailsTabDiv").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),ve(!1)):Ne.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},r().createElement(i.ZP,{title:Et("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(U.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!xe&&!C&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||xe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld523L1TCListView",onClick:()=>{Ge(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(V.umT,null)),r().createElement("span",null,Et("List"))),r().createElement("div",{className:Ze||it?"buttonGrid":"buttonList",id:"fld523L1TCCardView",onClick:()=>{Ge(!1),ot(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(F.aCJ,null)),r().createElement("span",null,Et("Card"))),r().createElement("div",{className:it?"buttonList":"buttonGrid",id:"fld523L1TCTileView",onClick:()=>{ot(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(D.f_H,null)),r().createElement("span",null,Et("Tile"))))))),fe?null:qe?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld523L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:g,onPageChange:(e,t)=>{I(t),vt({current:t+1,pageSize:Je.pageSize}),et({current:t+1,pageSize:Je.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:Ye,color:"primary",page:Je.current,onChange:(e,t)=>{et({current:t,pageSize:Je.pageSize}),Xe(t),vt({current:t,pageSize:Je.pageSize})}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:Je.pageSize,frmctrlid:"fld523L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",Qe,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld523L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:g,onPageChange:(e,t)=>{I(t),kt({current:t+1,pageSize:x.pageSize},be,xe?"DraftPPMSSCreationworkOrderSubDetID":"PPMSSCreationworkOrderSubDetID",xe&&"DraftPage"),B({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:M,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(B({current:t,pageSize:x.pageSize}),xe)kt({current:t,pageSize:x.pageSize},we,"DraftPPMSSCreationworkOrderSubDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ce.length>0?bt(ce,{current:t,pageSize:x.pageSize}):kt({current:t,pageSize:x.pageSize},we,"PPMSSCreationworkOrderSubDetID")}}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld523L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),xe?kt({current:1,pageSize:e.target.value},we,"DraftPPMSSCreationworkOrderSubDetID","DraftPage"):ce.length>0?bt(ce,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},we,"PPMSSCreationworkOrderSubDetID")}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&r().createElement(at,{parentId:e.parentId,searchData:e=>{Se(e||Dt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>Tt(),userGrid:Pt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&r().createElement(Z.Z,{Refresh:e=>{kt({current:1,pageSize:100},be,"PPMSSCreationworkOrderSubDetID")},frmctrlid:"fld523L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:pe,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&wt(t),yt(t),ke({type:"showTableview",payload:t})},Token:Te.token[0]})),r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?r().createElement(Ot,null):r().createElement(q.Z,{frmctrlid:"fld523L1TCExpandedCardDual",data:ie,id:"PPMSSCreationWorkOrderMatDetails",title:"PPMSSCreationworkOrderSubDetCode",cardTile:!!it,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?Ne.select(e):("edit"==t?(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),de?se(!0):pe?Ce(!0):(Ce(!1),Ce(!1))),Ne.hideAddBtn(!0)}})))))))})),rt={EnterKeyValues:{PPMSSCreationWorkOrderMatDetails:["MaterialName","SSCreMatRequiredQty","SSCreMatRequiredPrice","SSCreMatIssuedQty","SSCreMatIssuedPrice","IsSLAMaterail","IsSSCreMatIssuedStat","PPMSSCreationworkOrderSubDetCode","SSCreMatRequestedKey","SSCreMatRequiredRemarks","SSCreMatSplitQty","SSCreMatIssuedRemarks","SSCreMatUtilizedQty","SSCreMatUtilizedPrice","SSCreMatUtilizedRemarks","SSCreMatApprovedQty","SSCreMatApprovedPrice","SSCreMatMatTotAmt","SSCreWorkOrder"]},Label:{PPMSSCreationWorkOrderMatDetails:{MaterialID:["MaterialCode","MaterialName"],SSCreMatRequiredQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatRequiredPrice:["PPMSSCreationworkOrderSubDetCode"],SSCreMatIssuedQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatIssuedPrice:["PPMSSCreationworkOrderSubDetCode"],IsSLAMaterail:["PPMSSCreationworkOrderSubDetCode"],IsSSCreMatIssuedStat:["PPMSSCreationworkOrderSubDetCode"],PPMSSCreationworkOrderSubDetCode:["PPMSSCreationworkOrderSubDetCode"],SSCreMatRequestedKey:["PPMSSCreationworkOrderSubDetCode"],SSCreMatRequiredRemarks:["PPMSSCreationworkOrderSubDetCode"],SSCreMatSplitQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatIssuedRemarks:["PPMSSCreationworkOrderSubDetCode"],SSCreMatUtilizedQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatUtilizedPrice:["PPMSSCreationworkOrderSubDetCode"],SSCreMatUtilizedRemarks:["PPMSSCreationworkOrderSubDetCode"],SSCreMatApprovedQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatApprovedPrice:["PPMSSCreationworkOrderSubDetCode"],SSCreMatMatTotAmt:["PPMSSCreationworkOrderSubDetCode"],PPMSSCreationWorkOrderID:["PPMSSCreationworkOrderSubDetCode"]}},LabelHeader:{PPMSSCreationWorkOrderMatDetails:{MaterialID:["Material Code","Material Name"],SSCreMatRequiredQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatRequiredPrice:["PPMSSCreationworkOrderSubDetCode"],SSCreMatIssuedQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatIssuedPrice:["PPMSSCreationworkOrderSubDetCode"],IsSLAMaterail:["PPMSSCreationworkOrderSubDetCode"],IsSSCreMatIssuedStat:["PPMSSCreationworkOrderSubDetCode"],PPMSSCreationworkOrderSubDetCode:["PPMSSCreationworkOrderSubDetCode"],SSCreMatRequestedKey:["PPMSSCreationworkOrderSubDetCode"],SSCreMatRequiredRemarks:["PPMSSCreationworkOrderSubDetCode"],SSCreMatSplitQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatIssuedRemarks:["PPMSSCreationworkOrderSubDetCode"],SSCreMatUtilizedQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatUtilizedPrice:["PPMSSCreationworkOrderSubDetCode"],SSCreMatUtilizedRemarks:["PPMSSCreationworkOrderSubDetCode"],SSCreMatApprovedQty:["PPMSSCreationworkOrderSubDetCode"],SSCreMatApprovedPrice:["PPMSSCreationworkOrderSubDetCode"],SSCreMatMatTotAmt:["PPMSSCreationworkOrderSubDetCode"],PPMSSCreationWorkOrderID:["PPMSSCreationworkOrderSubDetCode"]}},Property:{PPMSSCreationWorkOrderMatDetails:{MaterialID:{id:"fld523_21611",clearID:"PPMSSCreationWorkOrderMatDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",foreignFld:["Make Name","Model Name"],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},SSCreMatRequiredQty:{id:"fld523_21592",labelID:"SSCreMatRequiredQty",maxLength:"10",labelname:"Required Quantity",frmctrlid:"fld523_21592",frmctrlidname:"SSCreMatRequiredQty",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatRequiredPrice:{id:"fld523_21593",labelID:"SSCreMatRequiredPrice",maxLength:"10",labelname:"Required Price",frmctrlid:"fld523_21593",frmctrlidname:"SSCreMatRequiredPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatIssuedQty:{id:"fld523_21597",labelID:"SSCreMatIssuedQty",maxLength:"10",labelname:"Issued Quantity",frmctrlid:"fld523_21597",frmctrlidname:"SSCreMatIssuedQty",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatIssuedPrice:{id:"fld523_21598",labelID:"SSCreMatIssuedPrice",maxLength:"10",labelname:"Issued Price",frmctrlid:"fld523_21598",frmctrlidname:"SSCreMatIssuedPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSLAMaterail:{id:"fld523_21607",labelID:"IsSLAMaterail",maxLength:"",labelname:"SLA Material",frmctrlid:"fld523_21607",frmctrlidname:"IsSLAMaterail",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSSCreMatIssuedStat:{id:"fld523_21600",labelID:"IsSSCreMatIssuedStat",maxLength:"",labelname:"Issued & Utilized",frmctrlid:"fld523_21600",frmctrlidname:"IsSSCreMatIssuedStat",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationworkOrderSubDetCode:{id:"fld523_21591",labelID:"PPMSSCreationworkOrderSubDetCode",maxLength:"50",labelname:"PPMSSCreationworkOrderSubDetCode",frmctrlid:"fld523_21591",frmctrlidname:"PPMSSCreationworkOrderSubDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatRequestedKey:{id:"fld523_21594",labelID:"SSCreMatRequestedKey",maxLength:"",labelname:"SSCreMatRequestedKey",frmctrlid:"fld523_21594",frmctrlidname:"SSCreMatRequestedKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatRequiredRemarks:{id:"fld523_21595",labelID:"SSCreMatRequiredRemarks",maxLength:"-1",labelname:"SSCreMatRequiredRemarks",frmctrlid:"fld523_21595",frmctrlidname:"SSCreMatRequiredRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatSplitQty:{id:"fld523_21596",labelID:"SSCreMatSplitQty",maxLength:"",labelname:"SSCreMatSplitQty",frmctrlid:"fld523_21596",frmctrlidname:"SSCreMatSplitQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatIssuedRemarks:{id:"fld523_21599",labelID:"SSCreMatIssuedRemarks",maxLength:"-1",labelname:"SSCreMatIssuedRemarks",frmctrlid:"fld523_21599",frmctrlidname:"SSCreMatIssuedRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatUtilizedQty:{id:"fld523_21601",labelID:"SSCreMatUtilizedQty",maxLength:"",labelname:"SSCreMatUtilizedQty",frmctrlid:"fld523_21601",frmctrlidname:"SSCreMatUtilizedQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatUtilizedPrice:{id:"fld523_21602",labelID:"SSCreMatUtilizedPrice",maxLength:"",labelname:"SSCreMatUtilizedPrice",frmctrlid:"fld523_21602",frmctrlidname:"SSCreMatUtilizedPrice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatUtilizedRemarks:{id:"fld523_21603",labelID:"SSCreMatUtilizedRemarks",maxLength:"-1",labelname:"SSCreMatUtilizedRemarks",frmctrlid:"fld523_21603",frmctrlidname:"SSCreMatUtilizedRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatApprovedQty:{id:"fld523_21604",labelID:"SSCreMatApprovedQty",maxLength:"",labelname:"SSCreMatApprovedQty",frmctrlid:"fld523_21604",frmctrlidname:"SSCreMatApprovedQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatApprovedPrice:{id:"fld523_21605",labelID:"SSCreMatApprovedPrice",maxLength:"",labelname:"SSCreMatApprovedPrice",frmctrlid:"fld523_21605",frmctrlidname:"SSCreMatApprovedPrice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMatMatTotAmt:{id:"fld523_21606",labelID:"SSCreMatMatTotAmt",maxLength:"",labelname:"SSCreMatMatTotAmt",frmctrlid:"fld523_21606",frmctrlidname:"SSCreMatMatTotAmt",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationWorkOrderID:{id:"fld523_21610",clearID:"PPMSSCreationWorkOrderMatDetailsSSCreWorkOrderClear",type:"select",labelID:"PPMSSCreationWorkOrderIDPK",labelname:"PPMSSCreationWorkOrderID",fielddisplayname:"SSCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSSCreationWorkOrderMatDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],PPMSSCreationWorkOrderID:["BuildingID","ContractID","DisciplineID","DivisionID","FloorID","FrequencyID","LocalityID","PPMStageID","SpotID","SSCreWorkOrder","SSCreWoDateTime","SSCreSLAHours"]}}},nt={PPMSSCreationworkOrderSubDetIDPK:"",PPMSSCreationworkOrderSubDetCode:"",SSCreMatRequiredQty:"",SSCreMatRequiredPrice:"",SSCreMatRequestedKey:"",SSCreMatRequiredRemarks:"",SSCreMatSplitQty:"",SSCreMatIssuedQty:"",SSCreMatIssuedPrice:"",SSCreMatIssuedRemarks:"",IsSSCreMatIssuedStat:!1,SSCreMatUtilizedQty:"",SSCreMatUtilizedPrice:"",SSCreMatUtilizedRemarks:"",SSCreMatApprovedQty:"",SSCreMatApprovedPrice:"",SSCreMatMatTotAmt:"",IsSLAMaterail:!1,IsDraft:!1,Remarks:"",PPMSSCreationWorkOrderID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"PPMSSCreationworkOrderSubDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},it=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,S]=(0,l.useState)(!0),[P,D]=(0,l.useState)(!1),[g,M]=(0,l.useState)(!1),[E,v]=(0,l.useState)(""),[N,T]=(0,l.useState)(!1),[k,b]=(0,l.useState)([]),[w,O]=(0,l.useState)(null),[F,A]=(0,l.useReducer)(ue.Z,nt),[B,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:dt),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:st(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ie()("523"),[$,J]=(0,l.useState)(""),[ee,te]=(0,l.useState)(""),[ae,oe]=(0,l.useState)(!0),[se,Se]=(0,l.useState)(!0),[pe,De]=(0,l.useState)(!0),[ge,Me]=(0,l.useState)(!0),[Ee,he]=(0,l.useState)(!0),[fe,ve]=(0,l.useState)(!0),[Ne,Te]=(0,l.useState)(!0),[ke,be]=(0,l.useState)(!0),[we,Oe]=(0,l.useState)(!0),[Fe,Ae]=(0,l.useState)(!0),[xe,Be]=(0,l.useState)(!0),[We,Le]=(0,l.useState)(!1);let Re=(0,y.Z)();const[Ke,Ze]=(0,l.useState)({}),Ge=e=>Re[e]?Re[e]:e,ze=t=>_.language?.[t]?_.language[t]:e.createEasy?Ke?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{qe()}),[]),(0,l.useEffect)((()=>{qe()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(_e(_.editData[0],""),D(!0)):_.Add&&(qe(),D(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ze(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{qe()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(tt(t),D(e)):(qe(),D(e))},AddOpen:e=>{qe(),D(!0)}})));const _e=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),M(t.IsDraft),"SetDefaultPPMSSCreationworkOrderSubDetID"==a?j(t.PPMSSCreationworkOrderSubDetIDPK):(H(e.primid?Number(e.primid):t.PPMSSCreationworkOrderSubDetIDPK?t.PPMSSCreationworkOrderSubDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSSCreationworkOrderSubDetIDPK})),A({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),A({type:"text",name:"MaterialName",value:t.MaterialName}),A({type:"number",name:"SSCreMatRequiredQty",number:Number(t.SSCreMatRequiredQty)}),A({type:"number",name:"SSCreMatRequiredPrice",number:Number(t.SSCreMatRequiredPrice)}),A({type:"number",name:"SSCreMatIssuedQty",number:Number(t.SSCreMatIssuedQty)}),A({type:"number",name:"SSCreMatIssuedPrice",number:Number(t.SSCreMatIssuedPrice)}),A({type:"boolean",name:"IsSLAMaterail",boolean:!!t.IsSLAMaterail&&t.IsSLAMaterail}),A({type:"boolean",name:"IsSSCreMatIssuedStat",boolean:!!t.IsSSCreMatIssuedStat&&t.IsSSCreMatIssuedStat}),A({type:"text",name:"PPMSSCreationworkOrderSubDetCode",value:t.PPMSSCreationworkOrderSubDetCode?t.PPMSSCreationworkOrderSubDetCode:""}),A({type:"number",name:"SSCreMatRequestedKey",number:t.SSCreMatRequestedKey}),A({type:"text",name:"SSCreMatRequiredRemarks",value:t.SSCreMatRequiredRemarks?t.SSCreMatRequiredRemarks:""}),A({type:"number",name:"SSCreMatSplitQty",number:Number(t.SSCreMatSplitQty)}),A({type:"text",name:"SSCreMatIssuedRemarks",value:t.SSCreMatIssuedRemarks?t.SSCreMatIssuedRemarks:""}),A({type:"number",name:"SSCreMatUtilizedQty",number:Number(t.SSCreMatUtilizedQty)}),A({type:"number",name:"SSCreMatUtilizedPrice",number:Number(t.SSCreMatUtilizedPrice)}),A({type:"text",name:"SSCreMatUtilizedRemarks",value:t.SSCreMatUtilizedRemarks?t.SSCreMatUtilizedRemarks:""}),A({type:"number",name:"SSCreMatApprovedQty",number:Number(t.SSCreMatApprovedQty)}),A({type:"number",name:"SSCreMatApprovedPrice",number:Number(t.SSCreMatApprovedPrice)}),A({type:"number",name:"SSCreMatMatTotAmt",number:Number(t.SSCreMatMatTotAmt)}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:t.PPMSSCreationWorkOrderID?Number(t.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:t.SSCreWorkOrder}),t.IsDraft?S(!0):S(!("1"!=t.IsActive&&!t.IsActive))},qe=()=>{b([]),H(0),j(""),e.createEasy||G.resetImg(),q({type:"PrimaryId",payload:""}),A({type:"text",name:"MaterialID",value:null}),A({type:"text",name:"MaterialName",value:""}),document.getElementById("PPMSSCreationWorkOrderMatDetailsMaterialNameClear")&&document.getElementById("PPMSSCreationWorkOrderMatDetailsMaterialNameClear").click(),A({type:"number",name:"SSCreMatRequiredQty",number:0}),A({type:"number",name:"SSCreMatRequiredPrice",number:0}),A({type:"number",name:"SSCreMatIssuedQty",number:0}),A({type:"number",name:"SSCreMatIssuedPrice",number:0}),A({type:"boolean",name:"IsSLAMaterail",boolean:!1}),A({type:"boolean",name:"IsSSCreMatIssuedStat",boolean:!1}),A({type:"text",name:"PPMSSCreationworkOrderSubDetCode",value:""}),A({type:"number",name:"SSCreMatRequestedKey",number:0}),A({type:"text",name:"SSCreMatRequiredRemarks",value:""}),A({type:"number",name:"SSCreMatSplitQty",number:0}),A({type:"text",name:"SSCreMatIssuedRemarks",value:""}),A({type:"number",name:"SSCreMatUtilizedQty",number:0}),A({type:"number",name:"SSCreMatUtilizedPrice",number:0}),A({type:"text",name:"SSCreMatUtilizedRemarks",value:""}),A({type:"number",name:"SSCreMatApprovedQty",number:0}),A({type:"number",name:"SSCreMatApprovedPrice",number:0}),A({type:"number",name:"SSCreMatMatTotAmt",number:0}),A({type:"text",name:"PPMSSCreationWorkOrderID",value:null}),A({type:"text",name:"SSCreWorkOrder",value:""}),document.getElementById("PPMSSCreationWorkOrderMatDetailsSSCreWorkOrderClear")&&document.getElementById("PPMSSCreationWorkOrderMatDetailsSSCreWorkOrderClear").click(),S(!0),v(""),oe(!0),Se(!0),De(!0),Me(!0),he(!0),ve(!0),Te(!0),be(!0),Oe(!0),Ae(!0),Be(!0),J(""),te("")},Ve=t=>{G.loading(!0),G.ConfirmAlert(null);const a=u.v.Api+"FP523S2/",l={data:[{p1:"SetDefaultPPMSSCreationworkOrderSubDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:at(F.PPMSSCreationworkOrderSubDetCode),p3:F.SSCreMatRequiredQty?Number(F.SSCreMatRequiredQty):0,p4:F.SSCreMatRequiredPrice?Number(F.SSCreMatRequiredPrice):0,p5:F.SSCreMatRequestedKey?Number(F.SSCreMatRequestedKey):0,p6:at(F.SSCreMatRequiredRemarks),p7:F.SSCreMatSplitQty?Number(F.SSCreMatSplitQty):0,p8:F.SSCreMatIssuedQty?Number(F.SSCreMatIssuedQty):0,p9:F.SSCreMatIssuedPrice?Number(F.SSCreMatIssuedPrice):0,p10:at(F.SSCreMatIssuedRemarks),p11:F.IsSSCreMatIssuedStat,p12:F.SSCreMatUtilizedQty?Number(F.SSCreMatUtilizedQty):0,p13:F.SSCreMatUtilizedPrice?Number(F.SSCreMatUtilizedPrice):0,p14:at(F.SSCreMatUtilizedRemarks),p15:F.SSCreMatApprovedQty?Number(F.SSCreMatApprovedQty):0,p16:F.SSCreMatApprovedPrice?Number(F.SSCreMatApprovedPrice):0,p17:F.SSCreMatMatTotAmt?Number(F.SSCreMatMatTotAmt):0,p18:F.IsSLAMaterail,p19:!1,p20:"SetDefaultPPMSSCreationworkOrderSubDetID"==t?"SetDefault":null,p21:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p22:F.MaterialID?F.MaterialID:0,p23:d,p24:"SetDefaultPPMSSCreationworkOrderSubDetID"==t,p25:localStorage.getItem("userid"),p26:de()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,c.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:n}),G.loading(!1)):(t=>{oe(!0),Se(!0),De(!0),Me(!0),he(!0),ve(!0),Te(!0),be(!0),Oe(!0),Ae(!0),Be(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP523S1/",l={data:[{p1:V,p2:at(F.PPMSSCreationworkOrderSubDetCode),p3:F.SSCreMatRequiredQty?Number(F.SSCreMatRequiredQty):0,p4:F.SSCreMatRequiredPrice?Number(F.SSCreMatRequiredPrice):0,p5:F.SSCreMatRequestedKey?Number(F.SSCreMatRequestedKey):0,p6:at(F.SSCreMatRequiredRemarks),p7:F.SSCreMatSplitQty?Number(F.SSCreMatSplitQty):0,p8:F.SSCreMatIssuedQty?Number(F.SSCreMatIssuedQty):0,p9:F.SSCreMatIssuedPrice?Number(F.SSCreMatIssuedPrice):0,p10:at(F.SSCreMatIssuedRemarks),p11:F.IsSSCreMatIssuedStat,p12:F.SSCreMatUtilizedQty?Number(F.SSCreMatUtilizedQty):0,p13:F.SSCreMatUtilizedPrice?Number(F.SSCreMatUtilizedPrice):0,p14:at(F.SSCreMatUtilizedRemarks),p15:F.SSCreMatApprovedQty?Number(F.SSCreMatApprovedQty):0,p16:F.SSCreMatApprovedPrice?Number(F.SSCreMatApprovedPrice):0,p17:F.SSCreMatMatTotAmt?Number(F.SSCreMatMatTotAmt):0,p18:F.IsSLAMaterail,p19:!1,p20:null,p21:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p22:F.MaterialID?F.MaterialID:0,p23:d,p24:!1,p25:localStorage.getItem("userid"),p26:de()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,re.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(G.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails"),G.loading(!1),q({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK)),qe(),_.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails")&&(document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails").style.display="none",document.getElementById("divPPMSSCreationWorkOrderMatDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSSCreationWorkOrderMatDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[a.message]}),G.loading(!1)),D(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function He(t,a,l,r){if(!(_.count>0))return G.alert({open:!0,color:"warning",message:[Ge("Please save atleast one record")]}),!1;if(!((()=>{const e={...F};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return G.alert({open:!0,color:"warning",message:[Ge("Please enter the primary fields")]}),!1;{oe(!0),Se(!0),De(!0),Me(!0),he(!0),ve(!0),Te(!0),be(!0),Oe(!0),Ae(!0),Be(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP523S1/",l={data:[{p1:"SetDefaultPPMSSCreationworkOrderSubDetID"==r?"NORECORDS"!=U&&U?U:0:V,p2:at(F.PPMSSCreationworkOrderSubDetCode),p3:F.SSCreMatRequiredQty?Number(F.SSCreMatRequiredQty):0,p4:F.SSCreMatRequiredPrice?Number(F.SSCreMatRequiredPrice):0,p5:F.SSCreMatRequestedKey?Number(F.SSCreMatRequestedKey):0,p6:at(F.SSCreMatRequiredRemarks),p7:F.SSCreMatSplitQty?Number(F.SSCreMatSplitQty):0,p8:F.SSCreMatIssuedQty?Number(F.SSCreMatIssuedQty):0,p9:F.SSCreMatIssuedPrice?Number(F.SSCreMatIssuedPrice):0,p10:at(F.SSCreMatIssuedRemarks),p11:F.IsSSCreMatIssuedStat,p12:F.SSCreMatUtilizedQty?Number(F.SSCreMatUtilizedQty):0,p13:F.SSCreMatUtilizedPrice?Number(F.SSCreMatUtilizedPrice):0,p14:at(F.SSCreMatUtilizedRemarks),p15:F.SSCreMatApprovedQty?Number(F.SSCreMatApprovedQty):0,p16:F.SSCreMatApprovedPrice?Number(F.SSCreMatApprovedPrice):0,p17:F.SSCreMatMatTotAmt?Number(F.SSCreMatMatTotAmt):0,p18:F.IsSLAMaterail,p19:!0,p20:"SetDefaultPPMSSCreationworkOrderSubDetID"==r?"SetDefault":null,p21:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p22:F.MaterialID?F.MaterialID:0,p23:!1,p24:"SetDefaultPPMSSCreationworkOrderSubDetID"==r,p25:localStorage.getItem("userid"),p26:de()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((r=>{(0,re.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?G.alert({open:!0,color:"warning",message:[Ge("Deleted Successfully")]}):G.alert({open:!0,color:"success",message:[Ge("Saved to Draft")]}),G.loading(!1),G.attachmentSave(a[0].Data.IDPK),qe(),G.RefreshTable(),e.clrImgstate(!0)):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1))}))}))}}function Ue(e){return CreateEasy(e,_,q,G,Y),!1}function je(e,a){return AdvanceSearch(e,a,dt,st(),Qe,t),!1}const Ye=(t,a,l,r,n,i)=>{const o=u.v.Api+"FP523S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:a?"%"+a+"%":null,p8:a?"%"+a+"%":null,p9:a?"%"+a+"%":null,p10:null,p11:1==F.IsSSCreMatIssuedStat,p12:a?"%"+a+"%":null,p13:a?"%"+a+"%":null,p14:null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:1==F.IsSLAMaterail,p19:null,p20:null,p21:e.parentId?Number(e.parentId):0,p22:"0"==F.MaterialID?null:F.MaterialID,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:"0"==F.MatProcessTypeID?null:F.MatProcessTypeID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==F.MaterialTypeID?null:F.MaterialTypeID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==F.MaterialMainClassID?null:F.MaterialMainClassID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==F.MatSubClassID?null:F.MatSubClassID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==F.MaterialMakeID?null:F.MaterialMakeID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==F.MaterialModelID?null:F.MaterialModelID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==F.MATUOMID?null:F.MATUOMID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==F.MatGradeID?null:F.MatGradeID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:"0"==F.MatMaterialColorID?null:F.MatMaterialColorID,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:"0"==F.MadeRawMaterialID?null:F.MadeRawMaterialID,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:"0"==F.MatMaterialSizeID?null:F.MatMaterialSizeID,p61:a?"%"+a+"%":null,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:t,p66:10,p67:l,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);const m={data:s};return(0,c.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSSCreationworkOrderSubDetID"==l&&r?r:_.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};R(1==t?e>0?r:[]:L.concat(r)),"SetDefaultPPMSSCreationworkOrderSubDetID"==l&&(e>0?_e(r[0],"SetDefaultPPMSSCreationworkOrderSubDetID"):j("NORECORDS")),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Xe=(t,l,r)=>{const n=u.v.Api+"FP523S3/",i={data:{p1:null,p2:"PPMSSCreationworkOrderSubDetCode"==r&&l?"%"+l+"%":null,p3:"SSCreMatRequiredQty"==r&&l?"%"+l+"%":null,p4:"SSCreMatRequiredPrice"==r&&l?"%"+l+"%":null,p5:"SSCreMatRequestedKey"==r&&l?"%"+l+"%":null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID?a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID:"0",p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:t,p66:10,p67:"PPMSSCreationworkOrderSubDetID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,c.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSSCreationworkOrderSubDetCode"==r&&oe(e>0),"SSCreMatRequestedKey"==r&&Se(e>0),"SSCreMatRequiredRemarks"==r&&De(e>0),"SSCreMatSplitQty"==r&&Me(e>0),"SSCreMatIssuedRemarks"==r&&he(e>0),"SSCreMatUtilizedQty"==r&&ve(e>0),"SSCreMatUtilizedPrice"==r&&Te(e>0),"SSCreMatUtilizedRemarks"==r&&be(e>0),"SSCreMatApprovedQty"==r&&Oe(e>0),"SSCreMatApprovedPrice"==r&&Ae(e>0),"SSCreMatMatTotAmt"==r&&Be(e>0),R(l)):("PPMSSCreationworkOrderSubDetCode"==r&&oe(!0),"SSCreMatRequestedKey"==r&&Se(!0),"SSCreMatRequiredRemarks"==r&&De(!0),"SSCreMatSplitQty"==r&&Me(!0),"SSCreMatIssuedRemarks"==r&&he(!0),"SSCreMatUtilizedQty"==r&&ve(!0),"SSCreMatUtilizedPrice"==r&&Te(!0),"SSCreMatUtilizedRemarks"==r&&be(!0),"SSCreMatApprovedQty"==r&&Oe(!0),"SSCreMatApprovedPrice"==r&&Ae(!0),"SSCreMatMatTotAmt"==r&&Be(!0),R(L.concat(l))),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Qe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a?A({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(A({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),A({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}),J(e.MakeName?e.MakeName:null),te(e.ModelName?e.ModelName:null))}),[F]);function $e(e){if("MaterialID"==e){if(!F.MaterialID)return!1;A({type:"text",name:"MaterialID",value:null}),A({type:"text",name:"MaterialName",value:""}),document.getElementById("PPMSSCreationWorkOrderMatDetailsMaterialNameClear")&&document.getElementById("PPMSSCreationWorkOrderMatDetailsMaterialNameClear").click(),J(""),te("")}else if("PPMSSCreationWorkOrderID"==e&&!F.PPMSSCreationWorkOrderID)return!1}function Je(e){if("MaterialID"==e){if(!F.MaterialID)return!1;A({type:"text",name:"MaterialID",value:null}),J(""),te("")}else if("PPMSSCreationWorkOrderID"==e&&!F.PPMSSCreationWorkOrderID)return!1}const et=e=>{G.ConfirmAlert(r().createElement(me(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>tt(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ge("Yes"),cancelBtnText:Ge("No"),showCancel:!0},Ge("Do you want to update this record?")))};function tt(e){G.ConfirmAlert(null),M(e.IsDraft),H(Number(e.PPMSSCreationworkOrderSubDetIDPK)?Number(e.PPMSSCreationworkOrderSubDetIDPK):0),A({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),A({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),A({type:"number",name:"SSCreMatRequiredQty",number:e.SSCreMatRequiredQty?Number(e.SSCreMatRequiredQty):0}),A({type:"number",name:"SSCreMatRequiredPrice",number:e.SSCreMatRequiredPrice?Number(e.SSCreMatRequiredPrice):0}),A({type:"number",name:"SSCreMatIssuedQty",number:e.SSCreMatIssuedQty?Number(e.SSCreMatIssuedQty):0}),A({type:"number",name:"SSCreMatIssuedPrice",number:e.SSCreMatIssuedPrice?Number(e.SSCreMatIssuedPrice):0}),A({type:"boolean",name:"IsSLAMaterail",boolean:!!e.IsSLAMaterail&&e.IsSLAMaterail}),A({type:"boolean",name:"IsSSCreMatIssuedStat",boolean:!!e.IsSSCreMatIssuedStat&&e.IsSSCreMatIssuedStat}),A({type:"text",name:"PPMSSCreationworkOrderSubDetCode",value:e.PPMSSCreationworkOrderSubDetCode?e.PPMSSCreationworkOrderSubDetCode:""}),A({type:"text",name:"SSCreMatRequestedKey",value:e.SSCreMatRequestedKey?e.SSCreMatRequestedKey:""}),A({type:"text",name:"SSCreMatRequiredRemarks",value:e.SSCreMatRequiredRemarks?e.SSCreMatRequiredRemarks:""}),A({type:"text",name:"SSCreMatSplitQty",value:e.SSCreMatSplitQty?e.SSCreMatSplitQty:""}),A({type:"text",name:"SSCreMatIssuedRemarks",value:e.SSCreMatIssuedRemarks?e.SSCreMatIssuedRemarks:""}),A({type:"text",name:"SSCreMatUtilizedQty",value:e.SSCreMatUtilizedQty?e.SSCreMatUtilizedQty:""}),A({type:"text",name:"SSCreMatUtilizedPrice",value:e.SSCreMatUtilizedPrice?e.SSCreMatUtilizedPrice:""}),A({type:"text",name:"SSCreMatUtilizedRemarks",value:e.SSCreMatUtilizedRemarks?e.SSCreMatUtilizedRemarks:""}),A({type:"text",name:"SSCreMatApprovedQty",value:e.SSCreMatApprovedQty?e.SSCreMatApprovedQty:""}),A({type:"text",name:"SSCreMatApprovedPrice",value:e.SSCreMatApprovedPrice?e.SSCreMatApprovedPrice:""}),A({type:"text",name:"SSCreMatMatTotAmt",value:e.SSCreMatMatTotAmt?e.SSCreMatMatTotAmt:""}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:e.PPMSSCreationWorkOrderID?Number(e.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:e.SSCreWorkOrder?e.SSCreWorkOrder:""})}const at=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(h.Z,{expanded:P,onChange:e=>{}},r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},P&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[523]"}," ",Ge("Add "),ze("523")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(Ce.Z,{row:!0},r().createElement(le.Z,{labelPlacement:"bottom",id:"fld523L1ECEntryCheckbox",control:r().createElement(x.Z,{checked:"1"==d,onChange:e=>S(e.target.checked)}),label:Ge(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld523L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(Pe.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ge("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{qe()},id:"fld523L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Pe.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ge("Reset")))),"1"===g&&V&&r().createElement(ie.Z,{frmctrlid:"fld523L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{He("draftdel")}}),V&&"1"!==g||e.createEasy?null:_.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{He()},frmctrlid:"fld523L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ye.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ge("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(C.Z,{frmctrlid:"fld523L1ECSaveBtnIsAdd",name:Ge(V?"Update":"Save"),disabled:!1,onClick:()=>{F.MaterialID&&0!=F.MaterialID?at(F.SSCreMatRequiredQty)?e.parentId&&0!=e.parentId?G.ConfirmAlert(r().createElement(me(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ge("Are you sure?"),onConfirm:()=>Ve(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ge("Yes"),cancelBtnText:Ge("Cancel"),showCancel:!0},Ge(V?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[Ge("Please select the ")+" "+ze("PPMSSCreationWorkOrderID")]}):G.alert({open:!0,color:"warning",message:[Ge("Please enter the")+""+ze("SSCreMatRequiredQty")]}):G.alert({open:!0,color:"warning",message:[Ge("Please select the ")+" "+ze("MaterialID")]})}}):null,!e.createEasy&&r().createElement(I.Z,{frmctrlid:"fld523L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{qe(),D(!1),G.EditClose(!0),G.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(f.Z,null,r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ce.Z,{json:rt,id:F.MaterialID,"data-testid":F.MaterialID,value:F.MaterialName,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"MaterialID",tfLabel:ze("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Qe(e,"MaterialID","select"),onChange:(e,t)=>{Ye(e,t,"MaterialIDPK")},KeyBack:e=>{Je("MaterialID")},fieldorder:"1",data:L,foreign:!_.PrimaryId,foreignName:$||ee?[$,ee]:["Make Name","Model Name"],foreignClick:t=>e.openSlideView("MaterialID",F.MaterialID?F.MaterialID:t),totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Ue("354")},Tabledialog:()=>je("354","MaterialID"),loading:B,clear:e=>{e&&$e("MaterialID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:rt,"data-testid":F.SSCreMatRequiredQty,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatRequiredQty",tfLabel:ze("SSCreMatRequiredQty"),frmctrlid:"fld523_21592",fieldorder:"2",onChange:e=>{Qe(e,"SSCreMatRequiredQty","number")},clear:e=>{e&&A({type:"number",name:"SSCreMatRequiredQty",number:0})},value:F.SSCreMatRequiredQty})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:rt,"data-testid":F.SSCreMatRequiredPrice,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatRequiredPrice",tfLabel:ze("SSCreMatRequiredPrice"),frmctrlid:"fld523_21593",fieldorder:"3",onChange:e=>{Qe(e,"SSCreMatRequiredPrice","number")},clear:e=>{e&&A({type:"number",name:"SSCreMatRequiredPrice",number:0})},value:F.SSCreMatRequiredPrice})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:rt,"data-testid":F.SSCreMatIssuedQty,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatIssuedQty",tfLabel:ze("SSCreMatIssuedQty"),frmctrlid:"fld523_21597",fieldorder:"4",onChange:e=>{Qe(e,"SSCreMatIssuedQty","number")},clear:e=>{e&&A({type:"number",name:"SSCreMatIssuedQty",number:0})},value:F.SSCreMatIssuedQty})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:rt,"data-testid":F.SSCreMatIssuedPrice,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatIssuedPrice",tfLabel:ze("SSCreMatIssuedPrice"),frmctrlid:"fld523_21598",fieldorder:"1",onChange:e=>{Qe(e,"SSCreMatIssuedPrice","number")},clear:e=>{e&&A({type:"number",name:"SSCreMatIssuedPrice",number:0})},value:F.SSCreMatIssuedPrice})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(le.Z,{style:{color:"#337ab7"},"data-testid":F.IsSLAMaterail,labelPlacement:"end",control:r().createElement(x.Z,{checked:"1"==F.IsSLAMaterail,onChange:e=>{Qe(e.target.checked,"IsSLAMaterail","boolean")},frmctrlid:"fld523_21607",frmctrlidname:"IsSLAMaterail",fieldorder:"2",tfLabel:ze("IsSLAMaterail")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:F.IsSLAMaterail?"#21446F":"#999"}},ze("IsSLAMaterail"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(le.Z,{style:{color:"#337ab7"},"data-testid":F.IsSSCreMatIssuedStat,labelPlacement:"end",control:r().createElement(x.Z,{checked:"1"==F.IsSSCreMatIssuedStat,onChange:e=>{Qe(e.target.checked,"IsSSCreMatIssuedStat","boolean")},frmctrlid:"fld523_21600",frmctrlidname:"IsSSCreMatIssuedStat",fieldorder:"3",tfLabel:ze("IsSSCreMatIssuedStat")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:F.IsSSCreMatIssuedStat?"#21446F":"#999"}},ze("IsSSCreMatIssuedStat"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.PPMSSCreationworkOrderSubDetCode,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"PPMSSCreationworkOrderSubDetCode",tfLabel:ze("PPMSSCreationworkOrderSubDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{ae&&Xe(1,"","ClearAll"),oe(!0)},frmctrlid:"fld523_21591",frmctrlidName:"PPMSSCreationworkOrderSubDetCode",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ae&&Xe(e,t,"PPMSSCreationworkOrderSubDetCode"),Qe(t,"PPMSSCreationworkOrderSubDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSSCreationworkOrderSubDetCode,loading:B,clear:e=>{e&&(A({type:"text",name:"PPMSSCreationworkOrderSubDetCode",value:""}),oe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatRequestedKey,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatRequestedKey",tfLabel:ze("SSCreMatRequestedKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{se&&Xe(1,"","ClearAll"),Se(!0)},frmctrlid:"fld523_21594",frmctrlidName:"SSCreMatRequestedKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{se&&Xe(e,t,"SSCreMatRequestedKey"),Qe(t,"SSCreMatRequestedKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Se(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatRequestedKey,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatRequestedKey",value:""}),Se(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatRequiredRemarks,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatRequiredRemarks",tfLabel:ze("SSCreMatRequiredRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{pe&&Xe(1,"","ClearAll"),De(!0)},frmctrlid:"fld523_21595",frmctrlidName:"SSCreMatRequiredRemarks",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{pe&&Xe(e,t,"SSCreMatRequiredRemarks"),Qe(t,"SSCreMatRequiredRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:pe,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatRequiredRemarks,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatRequiredRemarks",value:""}),De(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatSplitQty,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatSplitQty",tfLabel:ze("SSCreMatSplitQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{ge&&Xe(1,"","ClearAll"),Me(!0)},frmctrlid:"fld523_21596",frmctrlidName:"SSCreMatSplitQty",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ge&&Xe(e,t,"SSCreMatSplitQty"),Qe(t,"SSCreMatSplitQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Me(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatSplitQty,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatSplitQty",value:""}),Me(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatIssuedRemarks,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatIssuedRemarks",tfLabel:ze("SSCreMatIssuedRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{Ee&&Xe(1,"","ClearAll"),he(!0)},frmctrlid:"fld523_21599",frmctrlidName:"SSCreMatIssuedRemarks",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Ee&&Xe(e,t,"SSCreMatIssuedRemarks"),Qe(t,"SSCreMatIssuedRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:Ee,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatIssuedRemarks,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatIssuedRemarks",value:""}),he(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatUtilizedQty,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatUtilizedQty",tfLabel:ze("SSCreMatUtilizedQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{fe&&Xe(1,"","ClearAll"),ve(!0)},frmctrlid:"fld523_21601",frmctrlidName:"SSCreMatUtilizedQty",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{fe&&Xe(e,t,"SSCreMatUtilizedQty"),Qe(t,"SSCreMatUtilizedQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ve(!0)},showList:fe,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatUtilizedQty,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatUtilizedQty",value:""}),ve(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatUtilizedPrice,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatUtilizedPrice",tfLabel:ze("SSCreMatUtilizedPrice"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{Ne&&Xe(1,"","ClearAll"),Te(!0)},frmctrlid:"fld523_21602",frmctrlidName:"SSCreMatUtilizedPrice",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Ne&&Xe(e,t,"SSCreMatUtilizedPrice"),Qe(t,"SSCreMatUtilizedPrice","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Te(!0)},showList:Ne,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatUtilizedPrice,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatUtilizedPrice",value:""}),Te(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatUtilizedRemarks,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatUtilizedRemarks",tfLabel:ze("SSCreMatUtilizedRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{ke&&Xe(1,"","ClearAll"),be(!0)},frmctrlid:"fld523_21603",frmctrlidName:"SSCreMatUtilizedRemarks",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ke&&Xe(e,t,"SSCreMatUtilizedRemarks"),Qe(t,"SSCreMatUtilizedRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||be(!0)},showList:ke,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatUtilizedRemarks,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatUtilizedRemarks",value:""}),be(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatApprovedQty,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatApprovedQty",tfLabel:ze("SSCreMatApprovedQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{we&&Xe(1,"","ClearAll"),Oe(!0)},frmctrlid:"fld523_21604",frmctrlidName:"SSCreMatApprovedQty",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{we&&Xe(e,t,"SSCreMatApprovedQty"),Qe(t,"SSCreMatApprovedQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Oe(!0)},showList:we,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatApprovedQty,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatApprovedQty",value:""}),Oe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatApprovedPrice,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatApprovedPrice",tfLabel:ze("SSCreMatApprovedPrice"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{Fe&&Xe(1,"","ClearAll"),Ae(!0)},frmctrlid:"fld523_21605",frmctrlidName:"SSCreMatApprovedPrice",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Fe&&Xe(e,t,"SSCreMatApprovedPrice"),Qe(t,"SSCreMatApprovedPrice","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ae(!0)},showList:Fe,SideEntryView:!1,KeyBack:e=>{},value:F.SSCreMatApprovedPrice,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatApprovedPrice",value:""}),Ae(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.SSCreMatMatTotAmt,json:rt,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"SSCreMatMatTotAmt",tfLabel:ze("SSCreMatMatTotAmt"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&et(t),onClick:()=>{xe&&Xe(1,"","ClearAll"),Be(!0)},frmctrlid:"fld523_21606",frmctrlidName:"SSCreMatMatTotAmt",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{xe&&Xe(e,t,"SSCreMatMatTotAmt"),Qe(t,"SSCreMatMatTotAmt","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Be(!0)},showList:xe,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:F.SSCreMatMatTotAmt,loading:B,clear:e=>{e&&(A({type:"text",name:"SSCreMatMatTotAmt",value:""}),Be(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{json:rt,id:F.PPMSSCreationWorkOrderID,"data-testid":F.PPMSSCreationWorkOrderID,value:F.SSCreWorkOrder,SPName:"PPMSSCreationWorkOrderMatDetails",FieldName:"PPMSSCreationWorkOrderID",tfLabel:ze("PPMSSCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Qe(e,"PPMSSCreationWorkOrderID","select"),onChange:(e,t)=>{Ye(e,t,"PPMSSCreationWorkOrderIDPK")},KeyBack:e=>{Je("PPMSSCreationWorkOrderID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Ue("521")},Tabledialog:()=>je("521","PPMSSCreationWorkOrderID"),loading:B,clear:e=>{e&&$e("PPMSSCreationWorkOrderID")}})))),r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSCreationWorkOrderMatDetailsSideBar").style.width="0",void T(!1))},"×"),N&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))})),ot=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,S]=(0,l.useState)(!0),[C,P]=(0,l.useState)(e.showDetail),[D,g]=(0,l.useState)(""),[M,E]=r().useState(!1),[v,N]=r().useState(""),[T,k]=r().useState(!1),b=(0,l.useContext)(dt),{cstate:w,cdispatch:O}=st(),[F,A]=(0,l.useState)(!1),[x,B]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{w.editData.length>0&&(s(w.editData),E(!1),O({type:"PrimaryId",payload:w.editData[0].PPMSSCreationworkOrderSubDetIDPK}))}),[w.editData]),(0,l.useEffect)((()=>{w.showTableview&&K(w.showTableview)}),[w.showTableview]),(0,l.useEffect)((()=>{S(w.ExpandDetailValue)}),[w.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP523S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:1,p66:10,p67:w.IsDraft?"DraftPPMSSCreationworkOrderSubDetID":"PPMSSCreationworkOrderSubDetID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};(0,p.Z)(0).then((e=>{(0,c.Z)(l,r,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const G=e=>Z?.[e]?Z?.[e]:e,_=e=>w.language?.[e]?w.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{N(T?Object.assign(...i.filter((e=>e.PPMSSCreationworkOrderSubDetIDPK==t)).map((e=>e))):w.editData),E(!l&&e)};return r().createElement("div",null,r().createElement(h.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&S(!m)}},!M&&r().createElement(z.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},w.IsDraft?G("Draft"):"",_("PPMSSCreationWorkOrderMatDetails"),e.viewonly?" ":"("+w.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&w.AccessRights.IsAdd?r().createElement(o.Z,{name:G("Add"),frmctrlid:"fld523L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),O({type:"editData",payload:[]}),O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&w.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld523L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):w.IsDraft&&w.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld523L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(I.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld523L1VCCloseBtn",onClick:()=>{S(!1),b.hideAddBtn(!1),T&&(O({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(f.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},M==="panel"+l?r().createElement(it,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(fe.Z,{tableName:"PPMSSCreationWorkOrderMatDetails",tableID:523,parentID:t.PPMSSCreationworkOrderSubDetIDPK,fldid:"fld523L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:G,title:"10.0.0.59-3:08:17 PM-18-7[523]"}))))))))})),dt=(0,l.createContext)(),st=()=>{const e=(0,l.useContext)(dt);if(void 0===e)throw new Error("useCont must be used within  PPMSSCreationWorkOrderMatDetailsContext Provider");return e},mt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,S]=(0,l.useState)(!0),[c,u]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[P,y]=(0,l.useState)(0),[D,g]=(0,l.useReducer)(ke.D,ke.E),[I,M]=(0,l.useState)(""),[E,h]=(0,l.useState)([]),[f,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSSCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{S(!0),document.getElementById("divPPMSSCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{h([]),document.getElementById("divPPMSSCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetailsEntryTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainEntry").style.display="block",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,p.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),y(t.length),T(e)}))}))}),[]);const T=t=>{g({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(dt.Provider,{value:{cstate:D,cdispatch:g,ContextApi:st,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==P&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,E),h([])},EditClose:e=>N(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSSCreationWorkOrderMatDetails").style.width="50%",document.getElementById("divPPMSSCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainTable").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainEntry").style.width="100%",document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCreationWorkOrderMatDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails").style.display="block",document.getElementById("overlayimgAttPPMSSCreationWorkOrderMatDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSCreationWorkOrderMatDetails-Entry",style:{width:"100%"}},0!==P?r().createElement(ot,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Te.Z,{ref:s,menurefID:523,fileId:"LogoImgPPMSSCreationWorkOrderMatDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSCreationWorkOrderMatDetails",frmctrlid:"PvwIm_523_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSCreationWorkOrderMatDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(it,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Te.Z,{ref:s,menurefID:523,fileId:"LogoImgPPMSSCreationWorkOrderMatDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSCreationWorkOrderMatDetails",frmctrlid:"PvwIm_523_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})),r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-MainTable"},0!==P?r().createElement(lt,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Ne.Z,{ImgAttachment:e=>N(),menurefID:523,fileId:"AttImgPPMSSCreationWorkOrderMatDetails",imgid:"overlayimgAttPPMSSCreationWorkOrderMatDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSSCreationWorkOrderMatDetails",ref:d,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_523_L1_",timglist:e=>{s.current.timglist(e),h(e)},clearTempData:D.Add}))),r().createElement("div",{id:"PPMSSCreationWorkOrderMatDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),f&&r().createElement(we(),{openDialog:f,closeDialog:e=>v(e),formID:523,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var St=a(25108);const ct=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,S]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[p,C]=(0,l.useState)(""),[P,D]=(0,l.useState)({}),[I,M]=(0,l.useState)(!0),[E,h]=(0,l.useState)(!1),{cstate:f,cdispatch:v}=e.ContextApi?e.ContextApi:gt(),[B,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,ee]=(0,l.useState)(!1),[te,ae]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Se=(0,y.Z)();const ce=e=>Se[e]?Se[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function pe(){D({}),z({}),e.searchData({}),h(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{pe()}})));const Ce=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const i=new AbortController;ie.current=i;let d="",s=[],m={};await S((e=>(d=e.name,e))),await D((e=>(s=e,e))),await z((e=>(m=e,e)));const C=u.v.Api+"FP515S3/",y={data:{p1:"PPMSSTimeCostDetIDPK"==a?null:await Ie(),p2:"PPMSSTimeCostCode"==d&&l.length>0?"%"+l+"%":null,p3:"SSGeneralCost"==d&&l.length>0?"%"+l+"%":null,p4:"SSMaterialCost"==d&&l.length>0?"%"+l+"%":null,p5:"SSVendorCost"==d&&l.length>0?"%"+l+"%":null,p6:"SSLabourCost"==d&&l.length>0?"%"+l+"%":null,p7:"SSTotalCost"==d&&l.length>0?"%"+l+"%":null,p8:null,p9:null,p10:e.parentId?e.parentId:"0",p11:e.Dialogview?"1":null,p12:null,p13:"p13"==d&&l.length>0?l:null,p14:null,p15:null,p16:null,p17:null,p18:"ContractName"!=d&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p19:"ContractCode"==d&&l.length>0?"%"+l+"%":null,p20:"ContractName"==d&&l.length>0?"%"+l+"%":null,p21:"LocalityName"!=d&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p22:"LocalityCode"==d&&l.length>0?"%"+l+"%":null,p23:"LocalityName"==d&&l.length>0?"%"+l+"%":null,p24:"BuildingName"!=d&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p25:"BuildingCode"==d&&l.length>0?"%"+l+"%":null,p26:"BuildingName"==d&&l.length>0?"%"+l+"%":null,p27:"FloorName"!=d&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p28:"FloorCode"==d&&l.length>0?"%"+l+"%":null,p29:"FloorName"==d&&l.length>0?"%"+l+"%":null,p30:"SpotName"!=d&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p31:"SpotCode"==d&&l.length>0?"%"+l+"%":null,p32:"SpotName"==d&&l.length>0?"%"+l+"%":null,p33:"DivisionName"!=d&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p34:"DivisionCode"==d&&l.length>0?"%"+l+"%":null,p35:"DivisionName"==d&&l.length>0?"%"+l+"%":null,p36:"DisciplineName"!=d&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p37:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p38:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p39:"FrequencyName"!=d&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p40:"FrequencyCode"==d&&l.length>0?"%"+l+"%":null,p41:"FrequencyName"==d&&l.length>0?"%"+l+"%":null,p42:"FlowDisplayName"!=d&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p43:"BriefDetails"==d&&l.length>0?"%"+l+"%":null,p44:"FlowCode"==d&&l.length>0?"%"+l+"%":null,p45:"FlowDisplayName"==d&&l.length>0?"%"+l+"%":null,p46:"FixonBusinessFlowName"!=d&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p47:"FixonBusinessFlowName"==d&&l.length>0?"%"+l+"%":null,p48:"PPMFixonBusinessFlowCode"==d&&l.length>0?"%"+l+"%":null,p49:"PPMStageName"!=d&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p50:"PPMStageName"==d&&l.length>0?"%"+l+"%":null,p51:"StageSeqNo"==d&&l.length>0?"%"+l+"%":null,p52:"SSCreWorkOrder"==d&&l.length>0?"%"+l+"%":null,p53:r||1,p54:10,p55:t,p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}},g=await(0,c.Z)(C,y,e.token,"",i.signal);if(!g)return!1;const I=g.Output.status.code,M=g.Output.data;if("200"===I)if(M.length>0)if(1===r){let e=ye(M,d),t=Pe(e,P[d],a);o(t),R(t.length>0?t[0].TotalCount:P[d].length)}else{let e=[...n,...M],t=ye(e,d);R(t.length<10?t.length:M[0].TotalCount),o(ye(t,d))}else p.length>0&&o([]),R(n.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Pe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function De(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>P[e]?P[e].map((e=>e[t])):[]));return e.toString()}return""}const ge=async t=>{let a="",l={};await D((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSSTimeCostDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSSTimeCostDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMSSTimeCostCode:l.PPMSSTimeCostCode?l.PPMSSTimeCostCode.From:"",PPMSSTimeCostCodeType:l.PPMSSTimeCostCode?l.PPMSSTimeCostCode.Type:"",PPMSSTimeCostCodeBetween:l.PPMSSTimeCostCode?l.PPMSSTimeCostCode.To:"",PPMSSCreationWorkOrderID:De("PPMSSCreationWorkOrderID")};"saveFav"==t?he("save",i):(e.searchData(i),h(!1))};async function Ie(){let e={};await D((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSSTimeCostDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Me(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...P};let m=[..._],S=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSSTimeCostDetIDPK)).toString();t&&S.push(t)}await z((e=>(d=e,e)));let c={PPMSSTimeCostDetIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,PPMSSTimeCostCode:d.PPMSSTimeCostCode?d.PPMSSTimeCostCode.From:"",PPMSSTimeCostCodeType:d.PPMSSTimeCostCode?d.PPMSSTimeCostCode.Type:"",PPMSSTimeCostCodeBetween:d.PPMSSTimeCostCode?d.PPMSSTimeCostCode.To:"",PPMSSCreationWorkOrderID:P.SSCreWorkOrder?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString()};e.searchData(c)}function Ee(){return r().createElement(b.Z,{frmctrlid:"fld515L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Me(e,t,a,d.name,l)},keyboardback:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:""})},title:ce(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const he=(t,a)=>{(0,_e.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(We.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(Le.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Re.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Ze.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>ee(e.target.checked)}),label:"Quick"}),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:te,onChange:e=>ae(e.target.checked)}),label:"Dashboard"})),r().createElement(Ke.Z,null,r().createElement(T.Z,{onClick:()=>{ge("saveFav"),$(!1)},color:"primary"},"Save"))),E?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Ee,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:ce("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(N.Z,{id:"fld515L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),P[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld515L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await D((t=>(e=t,St.log("clear fewItems",e),t))),e[d.name]=[],Ce(d.type,d.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},I?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(F.D7o,{className:"FilterMaximizeIcon",onClick:()=>{M(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(F.dOw,{className:"FilterMaximizeIcon",onClick:()=>{M(!0)}})))),r().createElement("ul",null,P[d.name]&&P[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:I?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=P[d.name].filter((t=>t!=e)),l={};await D((e=>(l=e,e))),l[d.name]=a,D(l),o((t=>[e,...t]))})(e)},r().createElement(N.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(w.Z,{frmctrlid:"fld515L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:p,placeholder:ce("Enter ")+" "+ue(d.idpk),onChange:e=>{C(e),Ce(d.type,d.fieldidpk,e,1,Ie())}})),r().createElement("div",{id:"fld515L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:ge},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(A.Z,{color:"secondary"})),r().createElement("div",{id:"fld515L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await D((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},D(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(k.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld515L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(B+1),Ce(d.type,d.fieldidpk,"",B+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(O.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",ce("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(N.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),pe()}}):r().createElement(xe.Z,{className:"favlisticon",onClick:()=>{j(!0),he("select"),pe()}})),Object.keys(P).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Be.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{pe()},id:"fld515L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld515L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},ce("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld515L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{h(!0),C(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSSTimeCostDetIDPK";S({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSTimeCostDetID",fieldidpk:t}),Ce(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSTimeCostDetID",t,"",1,Ie())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(x.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Me("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,P[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},P[a][0][a]),P[a].length>1&&r().createElement("span",{className:"RoundedDivName"},P[a][1][a]),P[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(P[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ce("FilterPPMSSTimeCostDetID",a),ge("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const ut=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("515"),[S,p]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),[g,I]=(0,l.useState)(0),[M,E]=(0,l.useState)(0),[T,k]=(0,l.useState)(0),[b,A]=(0,l.useState)(0),[x,B]=(0,l.useState)({current:1,pageSize:100}),[W,Q]=(0,l.useState)(""),[ae,le]=(0,l.useState)([]),[re,ne]=(0,l.useState)({val:"",column:""}),[ie,oe]=(0,l.useState)([]),[de,se]=(0,l.useState)(!1),[me,Se]=(0,l.useState)(""),[ce,ue]=(0,l.useState)(""),[pe,Ce]=(0,l.useState)(!1),[Pe,ye]=(0,l.useState)([]),[De,ge]=(0,l.useState)([]),[Ie,Me]=(0,l.useState)([]),[Ee,he]=(0,l.useState)({children:[{name:"PPMSSCostDetails",children:[]}]}),[fe,ve]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:Dt),{cstate:Te,cdispatch:ke}=e.ContextApi?e.ContextApi:gt();let be={PPMSSTimeCostDetIDPK:"",PPMSSTimeCostCode:"",SSGeneralCost:"",SSMaterialCost:"",SSVendorCost:"",SSLabourCost:"",SSTotalCost:"",IsDraft:"",Remarks:"",PPMSSCreationWorkOrderID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[we,Oe]=(0,l.useState)(be),[Fe,Ae]=(0,l.useState)(be),[xe,Be]=(0,l.useState)(!1),[We,Le]=(0,l.useState)(!0),[Re,Ke]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[ze,_e]=(0,l.useState)({SSLabourCost:"",SSMaterialCost:"",SSVendorCost:"",SSGeneralCost:"",SSTotalCost:"",PPMSSTimeCostCode:"",SSCreWorkOrder:""}),[qe,Ve]=(0,l.useState)(!1),[Ue,je]=(0,l.useState)([]),[Ye,Xe]=(0,l.useState)(0),[Qe,$e]=(0,l.useState)(0),[Je,et]=(0,l.useState)({current:1,pageSize:10}),[tt,at]=(0,l.useState)([]),[lt,rt]=(0,l.useState)([]),[nt,it]=(0,l.useState)(!1),[ot,dt]=(0,l.useState)(!1),[st,mt]=(0,l.useState)(!1),[St,ut]=(0,l.useState)(""),[pt,Ct]=$()("515"),[Pt,yt]=(0,l.useState)({}),It=[{columns:tt,data:W}];let Mt=(0,y.Z)();const Et=e=>Mt[e]?Mt[e]:e,ht=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{wt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?kt(x,be,"PPMSSEmployeeDetID"):oe([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?kt(x,me,"PPMSSEmployeeDetID"):fe&&Ae(me)}),[me]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{kt(x,be,"PPMSSEmployeeDetID")},DialogTableProps:e=>{P(e)},HideEntryFields:e=>{mt(!0===e)}})));const ft=e=>{""==e?kt(x,be,xe?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",xe&&"DraftPage"):bt(e,{current:1,pageSize:100}),ue(e)};function vt(t){Ne.loading(!0);let a=u.v.Api+"FP515S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,$e(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),je(e.Output.data),Ne.loading(!1)}}))}function Nt(e,t){ke({type:"editData",payload:[t]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Re&&Ce(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(P(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const Tt=()=>{Ne.EditClose(!0),de?(document.getElementById("PPMSSCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSSCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSSCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),Ze?(C||(document.getElementById("PPMSSCostDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCostDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSSCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSSCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSSCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),document.getElementById("PPMSSCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ce(!1),window.clickFilter=!de},kt=(t,a,l,r,n,i)=>{Ne.loading(!0),"DraftPage"!==r&&Be(Te.IsDraft);let o=u.v.Api+"FP515S3/",d={data:{p1:n||(a&&a.PPMSSTimeCostDetIDPK?a.PPMSSTimeCostDetIDPK:null),p2:a&&a.PPMSSTimeCostCode?a.PPMSSTimeCostCode:null,p3:a&&a.SSGeneralCost?a.SSGeneralCost:null,p4:a&&a.SSMaterialCost?a.SSMaterialCost:null,p5:a&&a.SSVendorCost?a.SSVendorCost:null,p6:a&&a.SSLabourCost?a.SSLabourCost:null,p7:a&&a.SSTotalCost?a.SSTotalCost:null,p8:"DraftPPMSSEmployeeDetID"==l?"1":"0",p9:null,p10:e.parentId?Number(e.parentId):0,p11:a&&a.IsActive,p12:null,p13:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p14:a&&a.CreatedTtm?a.CreatedTtm:null,p15:a&&a.CreatedTtmType?a.CreatedTtmType:null,p16:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p17:null,p18:a&&a.ContractID?a.ContractID:null,p19:a&&a.ContractCode?a.ContractCode:null,p20:a&&a.ContractName?a.ContractName:null,p21:a&&a.LocalityID?a.LocalityID:null,p22:a&&a.LocalityCode?a.LocalityCode:null,p23:a&&a.LocalityName?a.LocalityName:null,p24:a&&a.BuildingID?a.BuildingID:null,p25:a&&a.BuildingCode?a.BuildingCode:null,p26:a&&a.BuildingName?a.BuildingName:null,p27:a&&a.FloorID?a.FloorID:null,p28:a&&a.FloorCode?a.FloorCode:null,p29:a&&a.FloorName?a.FloorName:null,p30:a&&a.SpotID?a.SpotID:null,p31:a&&a.SpotCode?a.SpotCode:null,p32:a&&a.SpotName?a.SpotName:null,p33:a&&a.DivisionID?a.DivisionID:null,p34:a&&a.DivisionCode?a.DivisionCode:null,p35:a&&a.DivisionName?a.DivisionName:null,p36:a&&a.DisciplineID?a.DisciplineID:null,p37:a&&a.DisciplineCode?a.DisciplineCode:null,p38:a&&a.DisciplineName?a.DisciplineName:null,p39:a&&a.FrequencyID?a.FrequencyID:null,p40:a&&a.FrequencyCode?a.FrequencyCode:null,p41:a&&a.FrequencyName?a.FrequencyName:null,p42:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p43:a&&a.BriefDetails?a.BriefDetails:null,p44:a&&a.FlowCode?a.FlowCode:null,p45:a&&a.FlowDisplayName?a.FlowDisplayName:null,p46:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p47:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p48:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p49:a&&a.PPMStageID?a.PPMStageID:null,p50:a&&a.PPMStageName?a.PPMStageName:null,p51:a&&a.StageSeqNo?a.StageSeqNo:null,p52:a&&a.SSCreWorkOrder?a.SSCreWorkOrder:null,p53:n?1:t.current,p54:t.pageSize,p55:l,p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}};(0,c.Z)(o,d,Te.token[0]).then((o=>{if(n)(0,j.a)(o,ke,r,i,Ne);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,k(o.Output.data[0].TotalCount),A(o.Output.data[0].DraftCnt),ke({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&A(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?E(Math.ceil(e)):20==t.pageSize?E(Math.ceil(e/2)):50==t.pageSize?E(Math.ceil(e/5)):100==t.pageSize&&E(Math.ceil(e/10)),oe(o.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divPPMSSCostDetails-Entry").style.height="auto",document.getElementById("divPPMSSCostDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftPPMSSEmployeeDetID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),Be(!1)):(oe([]),B({current:1,pageSize:10}),E(0),k(0),ke({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ne.loading(!1)}))};function bt(t,a){Ne.loading(!0);const l=u.v.Api+"FP515S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:xe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,r,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,k(e.Output.data[0].TotalCount),ke({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?E(Math.ceil(t)):20==a.pageSize?E(Math.ceil(t/2)):50==a.pageSize?E(Math.ceil(t/5)):100==a.pageSize&&E(Math.ceil(t/10)),oe(e.Output.data),Ne.loading(!1)}else oe([]),E(0),k(0),ke({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function wt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),ke({type:"language",payload:Object.assign({},...r)}),_e(a.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),ge(t),Me(a),at(l),rt(a)}const Ot=()=>fe?null:r().createElement("div",null,qe?r().createElement(ee.Z,{data:Ue,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:t}),ke({type:"ShowDetail",payload:a}))}}):r().createElement(J.Z,{ref:d,frmctrlid:"tblcs_515_L1_",id:"PPMSSCostDetailsTable",headerdata:De,tablesearchparams:ze,searchvalue:e=>{_e(e),Se(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};yt(t),B({current:1,pageSize:10}),kt({current:1,pageSize:10},t,xe?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",xe&&"DraftPage")},bodydata:ie,ondrag:Nt,bodyitem:Ie,visibleitem:De,isdraft:xe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&kt(x,null,t?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!C||Re,tf:ht,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(Te.ExpandTableValue)}),[Te.ExpandTableValue]),r().createElement("div",null,!st&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld515L1ECSearchBar",className:"searchbar1"},r().createElement(w.Z,{frmctrlid:"fld515L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ce,onChange:e=>{ue(e),Ne.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld515L1TCCloseIconCommonSearch",onClick:()=>{ue(""),Ne.searchItem("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld515L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSSCostDetailsgridsearch").focus()}})))),r().createElement("div",null,Te.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld515L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),ke({type:"editData",payload:[]}),ke({type:"ShowDetail",payload:!1}),ke({type:"Add",payload:!0})}}):"")),r().createElement(h.Z,{expanded:We,onChange:()=>()=>{Le(Re)}},e.Dialogview&&r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[515]"},`${ht("515")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld515L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(w.Z,{frmctrlid:"fld515L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ce,onChange:e=>{ft(e)}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld515L1TCInputCloseIcon",onClick:()=>{ft("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld515L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon"}))))))),r().createElement(f.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSSCostDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!xe&&r().createElement("div",{frmctrlid:"fld515L1TCFilterDataIsDraft",id:"PPMSSCostDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Tt()}},r().createElement(i.ZP,{title:Et("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(O.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Filter Data"))),!C&&!xe&&!fe&&r().createElement(L.Z,{formctrlidprint:"fld515L1TCExportPrint",formctrlidexport:"fld515L1TCExportTable",formctrlidrefresh:"fld515L1TCExportRefresh",title:ht("515"),data:ae,exportData:It,Items:lt,columnIndex:tt,TableVisibleItem:De,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let o=u.v.Api+"FP515S3/",d={data:{p1:t&&t.PPMSSTimeCostDetIDPK?t.PPMSSTimeCostDetIDPK:null,p2:t&&t.PPMSSTimeCostCode?t.PPMSSTimeCostCode:null,p3:t&&t.SSGeneralCost?t.SSGeneralCost:null,p4:t&&t.SSMaterialCost?t.SSMaterialCost:null,p5:t&&t.SSVendorCost?t.SSVendorCost:null,p6:t&&t.SSLabourCost?t.SSLabourCost:null,p7:t&&t.SSTotalCost?t.SSTotalCost:null,p8:xe?"1":"0",p9:null,p10:e.parentId?Number(e.parentId):0,p11:t&&t.IsActive,p12:null,p13:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p14:t&&t.CreatedTtm?t.CreatedTtm:null,p15:t&&t.CreatedTtmType?t.CreatedTtmType:null,p16:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p17:null,p18:t&&t.ContractID?t.ContractID:null,p19:t&&t.ContractCode?t.ContractCode:null,p20:t&&t.ContractName?t.ContractName:null,p21:t&&t.LocalityID?t.LocalityID:null,p22:t&&t.LocalityCode?t.LocalityCode:null,p23:t&&t.LocalityName?t.LocalityName:null,p24:t&&t.BuildingID?t.BuildingID:null,p25:t&&t.BuildingCode?t.BuildingCode:null,p26:t&&t.BuildingName?t.BuildingName:null,p27:t&&t.FloorID?t.FloorID:null,p28:t&&t.FloorCode?t.FloorCode:null,p29:t&&t.FloorName?t.FloorName:null,p30:t&&t.SpotID?t.SpotID:null,p31:t&&t.SpotCode?t.SpotCode:null,p32:t&&t.SpotName?t.SpotName:null,p33:t&&t.DivisionID?t.DivisionID:null,p34:t&&t.DivisionCode?t.DivisionCode:null,p35:t&&t.DivisionName?t.DivisionName:null,p36:t&&t.DisciplineID?t.DisciplineID:null,p37:t&&t.DisciplineCode?t.DisciplineCode:null,p38:t&&t.DisciplineName?t.DisciplineName:null,p39:t&&t.FrequencyID?t.FrequencyID:null,p40:t&&t.FrequencyCode?t.FrequencyCode:null,p41:t&&t.FrequencyName?t.FrequencyName:null,p42:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p43:t&&t.BriefDetails?t.BriefDetails:null,p44:t&&t.FlowCode?t.FlowCode:null,p45:t&&t.FlowDisplayName?t.FlowDisplayName:null,p46:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p47:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p48:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p49:t&&t.PPMStageID?t.PPMStageID:null,p50:t&&t.PPMStageName?t.PPMStageName:null,p51:t&&t.StageSeqNo?t.StageSeqNo:null,p52:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p53:x.current,p54:T,p55:xe?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${ht(515)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(o,d,Te.token[0],i).then((e=>{(0,X.PDF_Excel_Generate)(e,Ne,lt,Q,a,i)}))})(me,re.column,0,0,t)},Refresh:()=>{ue(""),B({current:1,pageSize:100}),d.current.clearItem(),Te.IsDraft?kt({current:1,pageSize:100},be,"DraftPPMSSEmployeeDetID"):kt({current:1,pageSize:100},be,"PPMSSEmployeeDetID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!xe&&!fe&&!C&&r().createElement("div",{className:"buttoncard",onClick:()=>dt(!ot)},r().createElement("span",null,ot?r().createElement(i.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},r().createElement("span",{id:"fld515L1TCLess"},r().createElement(V.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},r().createElement("span",{id:"fld515L1TCMore"},r().createElement(V.ilJ,{className:"tableFilterColumnIcon"}))))),ot?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},fe||!Re?null:C||!Te.AccessRights.IsAdd||xe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld515L1TCFilterDataIsAdd",id:"PPMSSCostDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),pe?(document.getElementById("PPMSSCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSSCostDetailsFilterDiv").style.display="none",document.getElementById("PPMSSCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("PPMSSCostDetailsFilterDiv").style.width="25%",document.getElementById("PPMSSCostDetailsTabDiv").style.width="75%",document.getElementById("PPMSSCostDetailsFilterDiv").style.display="block",document.getElementById("PPMSSCostDetailsfildiv").style.width="fit-content",document.getElementById("PPMSSCostDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),se(!1)}},r().createElement(i.ZP,{title:Et("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(Y.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&Re&&!fe&&!xe&&r().createElement("div",null,r().createElement("div",{id:"PPMSSCostDetailscoldiv",className:"buttoncard",onClick:()=>{qe?Ve(!1):(Ve(!0),vt({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Et("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld515L1TCTableScrollData"},r().createElement(te.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!fe&&xe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),kt({current:1,pageSize:100},be,"PPMSSEmployeeDetID"),Be(!1),ue(""),ke({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},r().createElement(i.ZP,{title:Et("List"),placement:"top"},r().createElement("div",{id:"fld515L1TCList"},r().createElement(H.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Et("Drafts")," ",T)):!C&&!fe&&Te.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(v.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},r().createElement("div",{id:"fld515L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(B({current:1,pageSize:100}),I(0),Ne.clear(),ue(""),ke({type:"Add",payload:!1}),kt({current:1,pageSize:10},be,"DraftPPMSSEmployeeDetID"),Be(!0),ke({type:"IsDraft",payload:!0}),Ce(!1),Ge(!0),document.getElementById("PPMSSCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSSCostDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),ve(!1)):Ne.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},r().createElement(i.ZP,{title:Et("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(U.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!xe&&!C&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||xe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld515L1TCListView",onClick:()=>{Ge(!0),it(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(V.umT,null)),r().createElement("span",null,Et("List"))),r().createElement("div",{className:Ze||nt?"buttonGrid":"buttonList",id:"fld515L1TCCardView",onClick:()=>{Ge(!1),it(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(F.aCJ,null)),r().createElement("span",null,Et("Card"))),r().createElement("div",{className:nt?"buttonList":"buttonGrid",id:"fld515L1TCTileView",onClick:()=>{it(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(D.f_H,null)),r().createElement("span",null,Et("Tile"))))))),fe?null:qe?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld515L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:g,onPageChange:(e,t)=>{I(t),vt({current:t+1,pageSize:Je.pageSize}),et({current:t+1,pageSize:Je.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:Ye,color:"primary",page:Je.current,onChange:(e,t)=>{et({current:t,pageSize:Je.pageSize}),Xe(t),vt({current:t,pageSize:Je.pageSize})}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:Je.pageSize,frmctrlid:"fld515L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",Qe,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld515L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:g,onPageChange:(e,t)=>{I(t),kt({current:t+1,pageSize:x.pageSize},be,xe?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",xe&&"DraftPage"),B({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:M,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(B({current:t,pageSize:x.pageSize}),xe)kt({current:t,pageSize:x.pageSize},we,"DraftPPMSSEmployeeDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ce.length>0?bt(ce,{current:t,pageSize:x.pageSize}):kt({current:t,pageSize:x.pageSize},we,"PPMSSEmployeeDetID")}}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld515L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),xe?kt({current:1,pageSize:e.target.value},we,"DraftPPMSSEmployeeDetID","DraftPage"):ce.length>0?bt(ce,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},we,"PPMSSEmployeeDetID")}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSSCostDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSSCostDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&r().createElement(ct,{parentId:e.parentId,searchData:e=>{Se(e||Pt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>Tt(),userGrid:pt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&r().createElement(Z.Z,{Refresh:e=>{kt({current:1,pageSize:100},be,"PPMSSEmployeeDetID")},frmctrlid:"fld515L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:pe,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&wt(t),Ct(t),ke({type:"showTableview",payload:t})},Token:Te.token[0]})),r().createElement("div",{id:"PPMSSCostDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?r().createElement(Ot,null):r().createElement(q.Z,{frmctrlid:"fld515L1TCExpandedCardDual",data:ie,id:"PPMSSCostDetails",title:"PPMSSTimeCostCode",cardTile:!!nt,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?Ne.select(e):("edit"==t?(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),de?se(!0):pe?Ce(!0):(Ce(!1),Ce(!1))),Ne.hideAddBtn(!0)}})))))))})),pt={EnterKeyValues:{PPMSSCostDetails:["SSLabourCost","SSMaterialCost","SSVendorCost","SSGeneralCost","SSTotalCost","PPMSSTimeCostCode","SSCreWorkOrder"]},Label:{PPMSSCostDetails:{SSLabourCost:["PPMSSTimeCostCode"],SSMaterialCost:["PPMSSTimeCostCode"],SSVendorCost:["PPMSSTimeCostCode"],SSGeneralCost:["PPMSSTimeCostCode"],SSTotalCost:["PPMSSTimeCostCode"],PPMSSTimeCostCode:["PPMSSTimeCostCode"],PPMSSCreationWorkOrderID:["PPMSSTimeCostCode"]}},LabelHeader:{PPMSSCostDetails:{SSLabourCost:["PPMSSTimeCostCode"],SSMaterialCost:["PPMSSTimeCostCode"],SSVendorCost:["PPMSSTimeCostCode"],SSGeneralCost:["PPMSSTimeCostCode"],SSTotalCost:["PPMSSTimeCostCode"],PPMSSTimeCostCode:["PPMSSTimeCostCode"],PPMSSCreationWorkOrderID:["PPMSSTimeCostCode"]}},Property:{PPMSSCostDetails:{SSLabourCost:{id:"fld515_21486",labelID:"SSLabourCost",maxLength:"50",labelname:"Labour Cost",frmctrlid:"fld515_21486",frmctrlidname:"SSLabourCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSMaterialCost:{id:"fld515_21484",labelID:"SSMaterialCost",maxLength:"50",labelname:"Material Cost",frmctrlid:"fld515_21484",frmctrlidname:"SSMaterialCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSVendorCost:{id:"fld515_21485",labelID:"SSVendorCost",maxLength:"50",labelname:"Vendor Cost",frmctrlid:"fld515_21485",frmctrlidname:"SSVendorCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSGeneralCost:{id:"fld515_21483",labelID:"SSGeneralCost",maxLength:"50",labelname:"General Cost",frmctrlid:"fld515_21483",frmctrlidname:"SSGeneralCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSTotalCost:{id:"fld515_21487",labelID:"SSTotalCost",maxLength:"50",labelname:"TotalCost",frmctrlid:"fld515_21487",frmctrlidname:"SSTotalCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSTimeCostCode:{id:"fld515_21482",labelID:"PPMSSTimeCostCode",maxLength:"50",labelname:"PPMSSTimeCostCode",frmctrlid:"fld515_21482",frmctrlidname:"PPMSSTimeCostCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationWorkOrderID:{id:"fld515_21490",clearID:"PPMSSCostDetailsSSCreWorkOrderClear",type:"select",labelID:"PPMSSCreationWorkOrderIDPK",labelname:"PPMSSCreationWorkOrderID",fielddisplayname:"SSCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSSCostDetails:{PPMSSCreationWorkOrderID:["BuildingID","ContractID","DisciplineID","DivisionID","FloorID","FrequencyID","LocalityID","PPMStageID","SpotID","SSCreWorkOrder","SSCreWoDateTime","SSCreSLAHours"]}}},Ct={PPMSSTimeCostDetIDPK:"",PPMSSTimeCostCode:"",SSGeneralCost:"",SSMaterialCost:"",SSVendorCost:"",SSLabourCost:"",SSTotalCost:"",IsDraft:!1,Remarks:"",PPMSSCreationWorkOrderID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",Type:"PPMSSTimeCostDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Pt=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!0),[S,P]=(0,l.useState)(!1),[D,g]=(0,l.useState)(!1),[M,E]=(0,l.useState)(""),[v,N]=(0,l.useState)(!1),[T,k]=(0,l.useState)([]),[b,w]=(0,l.useState)(null),[O,F]=(0,l.useReducer)(ue.Z,Ct),[A,B]=(0,l.useState)(!1),[W,L]=(0,l.useState)([]),[R,K]=(0,l.useState)(!1),Z=(0,l.useContext)(e.context?e.context:Dt),{cstate:G,cdispatch:_}=e.ContextApi?e.ContextApi:gt(),[q,V]=(0,l.useState)(0),[H,U]=(0,l.useState)(""),j=(0,l.useRef)(null),[Y,X]=Ie()("515"),[Q,$]=(0,l.useState)(""),[J,ee]=(0,l.useState)(!1);let te=(0,y.Z)();const[ae,oe]=(0,l.useState)({}),se=e=>te[e]?te[e]:e,pe=t=>G.language?.[t]?G.language[t]:e.createEasy?ae?.[t]:t;(0,l.useEffect)((()=>{G.PrimaryId&&V(Number(G.PrimaryId))}),[G.PrimaryId]),(0,l.useEffect)((()=>{he()}),[]),(0,l.useEffect)((()=>{he()}),[e.parentId]),(0,l.useEffect)((()=>{G.editData.length>0?(Ee(G.editData[0],""),P(!0)):G.Add&&(he(),P(!0))}),[G.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),oe(Object.assign({},...t))}(Y)}),[Y]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()},CreateEasyProps:(e=!0,t)=>{var a;X(!0),t?(a=t,Z.ConfirmAlert(null),g(a.IsDraft),V(Number(a.PPMSSTimeCostDetIDPK)?Number(a.PPMSSTimeCostDetIDPK):0),F({type:"number",name:"SSLabourCost",number:a.SSLabourCost?Number(a.SSLabourCost):0}),F({type:"number",name:"SSMaterialCost",number:a.SSMaterialCost?Number(a.SSMaterialCost):0}),F({type:"number",name:"SSVendorCost",number:a.SSVendorCost?Number(a.SSVendorCost):0}),F({type:"number",name:"SSGeneralCost",number:a.SSGeneralCost?Number(a.SSGeneralCost):0}),F({type:"number",name:"SSTotalCost",number:a.SSTotalCost?Number(a.SSTotalCost):0}),F({type:"text",name:"PPMSSTimeCostCode",value:a.PPMSSTimeCostCode?Me(a.PPMSSTimeCostCode):null}),F({type:"number",name:"PPMSSCreationWorkOrderID",number:a.PPMSSCreationWorkOrderID?Number(a.PPMSSCreationWorkOrderID):0}),F({type:"text",name:"SSCreWorkOrder",value:a.SSCreWorkOrder?a.SSCreWorkOrder:""}),P(e)):(he(),P(e))},AddOpen:e=>{he(),P(!0)}})));const ge=e=>{if(e){let a=(t=e)?t.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(a)?(0,Se.format)(new Date(a),"yyyy-MM-dd"):e}return null;var t},Me=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},Ee=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),g(t.IsDraft),"SetDefaultPPMSSEmployeeDetID"==a?U(t.PPMSSEmployeeDetIDPK):(V(e.primid?Number(e.primid):t.PPMSSTimeCostDetIDPK?t.PPMSSTimeCostDetIDPK:0),_({type:"PrimaryId",payload:t.PPMSSEmployeeDetIDPK})),F({type:"number",name:"SSLabourCost",number:Number(t.SSLabourCost)}),F({type:"number",name:"SSMaterialCost",number:Number(t.SSMaterialCost)}),F({type:"number",name:"SSVendorCost",number:Number(t.SSVendorCost)}),F({type:"number",name:"SSGeneralCost",number:Number(t.SSGeneralCost)}),F({type:"number",name:"SSTotalCost",number:Number(t.SSTotalCost)}),F({type:"text",name:"PPMSSTimeCostCode",value:t.PPMSSTimeCostCode?Me(t.PPMSSTimeCostCode):null}),F({type:"number",name:"PPMSSCreationWorkOrderID",number:t.PPMSSCreationWorkOrderID?Number(t.PPMSSCreationWorkOrderID):0}),F({type:"text",name:"SSCreWorkOrder",value:t.SSCreWorkOrder}),t.IsDraft?d(!0):d(!("1"!=t.IsActive&&!t.IsActive))},he=()=>{k([]),V(0),U(""),e.createEasy||Z.resetImg(),_({type:"PrimaryId",payload:""}),F({type:"number",name:"SSLabourCost",number:0}),F({type:"number",name:"SSMaterialCost",number:0}),F({type:"number",name:"SSVendorCost",number:0}),F({type:"number",name:"SSGeneralCost",number:0}),F({type:"number",name:"SSTotalCost",number:0}),F({type:"text",name:"PPMSSTimeCostCode",value:null}),F({type:"text",name:"PPMSSCreationWorkOrderID",value:null}),F({type:"text",name:"SSCreWorkOrder",value:""}),document.getElementById("PPMSSCostDetailsSSCreWorkOrderClear")&&document.getElementById("PPMSSCostDetailsSSCreWorkOrderClear").click(),d(!0),E("")},fe=t=>{Z.loading(!0),Z.ConfirmAlert(null);const a=u.v.Api+"FP515S2/",l={data:[{p1:"SetDefaultPPMSSTimeCostDetID"==t?"NORECORDS"!=H&&H?H:0:q,p2:O.PPMSSTimeCostCode?ge(O.PPMSSTimeCostCode):null,p3:O.SSGeneralCost?Number(O.SSGeneralCost):0,p4:O.SSMaterialCost?Number(O.SSMaterialCost):0,p5:O.SSVendorCost?Number(O.SSVendorCost):0,p6:O.SSLabourCost?Number(O.SSLabourCost):0,p7:O.SSTotalCost?Number(O.SSTotalCost):0,p8:!1,p9:"SetDefaultPPMSSTimeCostDetID"==t?"SetDefault":null,p10:e.parentId?Number(e.parentId):O.PPMSSCreationWorkOrderID?O.PPMSSCreationWorkOrderID:0,p11:o,p12:"SetDefaultPPMSSTimeCostDetID"==t,p13:localStorage.getItem("userid"),p14:de()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,c.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:n}),Z.loading(!1)):(t=>{Z.loading(!0),Z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP515S1/",l={data:[{p1:q,p2:O.PPMSSTimeCostCode?ge(O.PPMSSTimeCostCode):null,p3:O.SSGeneralCost?Number(O.SSGeneralCost):0,p4:O.SSMaterialCost?Number(O.SSMaterialCost):0,p5:O.SSVendorCost?Number(O.SSVendorCost):0,p6:O.SSLabourCost?Number(O.SSLabourCost):0,p7:O.SSTotalCost?Number(O.SSTotalCost):0,p8:!1,p9:null,p10:e.parentId?Number(e.parentId):O.PPMSSCreationWorkOrderID?O.PPMSSCreationWorkOrderID:0,p11:o,p12:!1,p13:localStorage.getItem("userid"),p14:de()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,re.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(Z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSSCostDetails"),Z.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(Z.RefreshTable(),Z.attachmentSave(t[0].Data.IDPK)),he(),G.AccessRights.IsApproval&&Z.Approval(!0),document.getElementById("overlayimgAttPPMSSCostDetails")&&(document.getElementById("overlayimgAttPPMSSCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSCostDetails").style.display="none",document.getElementById("divPPMSSCostDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSSCostDetails-MainTable").style.display="block")):(Z.alert({open:!0,color:"warning",message:[a.message]}),Z.loading(!1)),P(!0)}))}))})()):(Z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Z.loading(!1))}))}))};function ve(t,a,l,r){if(!(G.count>0))return Z.alert({open:!0,color:"warning",message:[se("Please save atleast one record")]}),!1;if(!((()=>{const e={...O};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return Z.alert({open:!0,color:"warning",message:[se("Please enter the primary fields")]}),!1;{Z.loading(!0),Z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP515S1/",l={data:[{p1:"SetDefaultPPMSSTimeCostDetID"==r?"NORECORDS"!=H&&H?H:0:q,p2:O.PPMSSTimeCostCode?ge(O.PPMSSTimeCostCode):null,p3:O.SSGeneralCost?Number(O.SSGeneralCost):0,p4:O.SSMaterialCost?Number(O.SSMaterialCost):0,p5:O.SSVendorCost?Number(O.SSVendorCost):0,p6:O.SSLabourCost?Number(O.SSLabourCost):0,p7:O.SSTotalCost?Number(O.SSTotalCost):0,p8:!0,p9:"SetDefaultPPMSSTimeCostDetID"==r?"SetDefault":null,p10:e.parentId?Number(e.parentId):O.PPMSSCreationWorkOrderID?O.PPMSSCreationWorkOrderID:0,p11:!1,p12:"SetDefaultPPMSSTimeCostDetID"==r,p13:localStorage.getItem("userid"),p14:de()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((r=>{(0,re.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?Z.alert({open:!0,color:"warning",message:[se("Deleted Successfully")]}):Z.alert({open:!0,color:"success",message:[se("Saved to Draft")]}),Z.loading(!1),Z.attachmentSave(a[0].Data.IDPK),he(),Z.RefreshTable(),e.clrImgstate(!0)):(Z.alert({open:!0,color:"warning",message:[l.message]}),Z.loading(!1))}))}))}}const Ne=(0,l.useCallback)((async(e,t,a)=>{"text"==a?F({type:a,name:t,value:e}):"number"==a?F({type:a,name:t,number:Number(e)}):"boolean"==a?F({type:a,name:t,boolean:e}):"date"==a&&F({type:"text",name:t,value:e})}),[O]);return r().createElement("div",null,r().createElement(h.Z,{expanded:S,onChange:e=>{}},r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},S&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[515]"}," ",se("Add "),pe("515")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(Ce.Z,{row:!0},r().createElement(le.Z,{labelPlacement:"bottom",id:"fld515L1ECEntryCheckbox",control:r().createElement(x.Z,{checked:"1"==o,onChange:e=>d(e.target.checked)}),label:se(1==o?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{Z.AttachExpand(!0)},id:"fld515L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(Pe.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,se("Attach")))),!q&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{he()},id:"fld515L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Pe.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,se("Reset")))),"1"===D&&q&&r().createElement(ie.Z,{frmctrlid:"fld515L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{ve("draftdel")}}),q&&"1"!==D||e.createEasy?null:G.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{ve()},frmctrlid:"fld515L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ye.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,se("Draft")))),G.AccessRights.IsAdd||G.AccessRights.IsEdit?r().createElement(C.Z,{frmctrlid:"fld515L1ECSaveBtnIsAdd",name:se(q?"Update":"Save"),disabled:!1,onClick:()=>{(t=>{if(!e.parentId||0==e.parentId)return Z.alert({open:!0,color:"warning",message:[se("Please select the ")+" "+pe("PPMSSCreationWorkOrderID")]}),!1;Z.ConfirmAlert(r().createElement(me(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:se("Are you sure?"),onConfirm:()=>fe(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:se("Yes"),cancelBtnText:se("Cancel"),showCancel:!0},se(q?"Do you want to Update?":"Do you want to Save?")))})()}}):null,!e.createEasy&&r().createElement(I.Z,{frmctrlid:"fld515L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{he(),P(!1),Z.EditClose(!0),Z.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),r().createElement(f.Z,null,r().createElement("div",{id:"PPMSSCostDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSSCostDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSSCostDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:pt,"data-testid":O.SSLabourCost,SPName:"PPMSSCostDetails",FieldName:"SSLabourCost",tfLabel:pe("SSLabourCost"),frmctrlid:"fld515_21486",fieldorder:"1",onChange:e=>{Ne(e,"SSLabourCost","number")},clear:e=>{e&&F({type:"number",name:"SSLabourCost",number:0})},value:O.SSLabourCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:pt,"data-testid":O.SSMaterialCost,SPName:"PPMSSCostDetails",FieldName:"SSMaterialCost",tfLabel:pe("SSMaterialCost"),frmctrlid:"fld515_21484",fieldorder:"2",onChange:e=>{Ne(e,"SSMaterialCost","number")},clear:e=>{e&&F({type:"number",name:"SSMaterialCost",number:0})},value:O.SSMaterialCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:pt,"data-testid":O.SSVendorCost,SPName:"PPMSSCostDetails",FieldName:"SSVendorCost",tfLabel:pe("SSVendorCost"),frmctrlid:"fld515_21485",fieldorder:"3",onChange:e=>{Ne(e,"SSVendorCost","number")},clear:e=>{e&&F({type:"number",name:"SSVendorCost",number:0})},value:O.SSVendorCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:pt,"data-testid":O.SSGeneralCost,SPName:"PPMSSCostDetails",FieldName:"SSGeneralCost",tfLabel:pe("SSGeneralCost"),frmctrlid:"fld515_21483",fieldorder:"4",onChange:e=>{Ne(e,"SSGeneralCost","number")},clear:e=>{e&&F({type:"number",name:"SSGeneralCost",number:0})},value:O.SSGeneralCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:pt,"data-testid":O.SSTotalCost,SPName:"PPMSSCostDetails",FieldName:"SSTotalCost",tfLabel:pe("SSTotalCost"),frmctrlid:"fld515_21487",fieldorder:"1",onChange:e=>{Ne(e,"SSTotalCost","number")},clear:e=>{e&&F({type:"number",name:"SSTotalCost",number:0})},value:O.SSTotalCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":O.PPMSSTimeCostCode,onErr:e=>{$(e)},value:O.PPMSSTimeCostCode,onChange:e=>{Ne(e,"PPMSSTimeCostCode","date")},label:pe("PPMSSTimeCostCode"),frmctrlid:"fld515_21482",frmctrlidName:"PPMSSTimeCostCode",fieldorder:"1"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{json:pt,id:O.PPMSSCreationWorkOrderID,"data-testid":O.PPMSSCreationWorkOrderID,value:O.SSCreWorkOrder,SPName:"PPMSSCostDetails",FieldName:"PPMSSCreationWorkOrderID",tfLabel:pe("PPMSSCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ne(e,"PPMSSCreationWorkOrderID","select"),onChange:(t,a)=>{((t,a,l,r,n,i)=>{const o=u.v.Api+"FP515S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.parentId?Number(e.parentId):0,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:"0"==O.ContractID?null:O.ContractID,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==O.LocalityID?null:O.LocalityID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==O.BuildingID?null:O.BuildingID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:"0"==O.FloorID?null:O.FloorID,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==O.SpotID?null:O.SpotID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==O.DivisionID?null:O.DivisionID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==O.DisciplineID?null:O.DisciplineID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==O.FrequencyID?null:O.FrequencyID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==O.PPMBusinessFlowID?null:O.PPMBusinessFlowID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==O.PPMFixonBusinessFlowID?null:O.PPMFixonBusinessFlowID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==O.PPMStageID?null:O.PPMStageID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:t,p54:10,p55:l,p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}};Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});B(!0);(0,c.Z)(o,d,G.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;undefined,L(1==t?e>0?l:[]:W.concat(l)),B(!1)}else Z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))})(t,a,"PPMSSCreationWorkOrderIDPK")},KeyBack:e=>{O.PPMSSCreationWorkOrderID},fieldorder:"1",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,openSlide:()=>{CreateEasy("521",G,_,Z,j)},Tabledialog:()=>(AdvanceSearch("521","PPMSSCreationWorkOrderID",Dt,gt(),Ne,t),!1),loading:A,clear:e=>{e&&O.PPMSSCreationWorkOrderID}})))),r().createElement("div",{id:"PPMSSCostDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSCostDetailsSideBar").style.width="0",void N(!1))},"×"),v&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))})),yt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,S]=(0,l.useState)(!0),[C,P]=(0,l.useState)(e.showDetail),[D,g]=(0,l.useState)(""),[M,E]=r().useState(!1),[v,N]=r().useState(""),[T,k]=r().useState(!1),b=(0,l.useContext)(Dt),{cstate:w,cdispatch:O}=gt(),[F,A]=(0,l.useState)(!1),[x,B]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{w.editData.length>0&&(s(w.editData),E(!1),O({type:"PrimaryId",payload:w.editData[0].PPMSSTimeCostDetIDPK}))}),[w.editData]),(0,l.useEffect)((()=>{w.showTableview&&K(w.showTableview)}),[w.showTableview]),(0,l.useEffect)((()=>{S(w.ExpandDetailValue)}),[w.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP515S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:1,p54:10,p55:w.IsDraft?"DraftPPMSSEmployeeDetID":"PPMSSEmployeeDetID",p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}};(0,p.Z)(0).then((e=>{(0,c.Z)(l,r,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const G=e=>Z?.[e]?Z?.[e]:e,_=e=>w.language?.[e]?w.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{N(T?Object.assign(...i.filter((e=>e.PPMSSTimeCostDetIDPK==t)).map((e=>e))):w.editData),E(!l&&e)};return r().createElement("div",null,r().createElement(h.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&S(!m)}},!M&&r().createElement(z.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},w.IsDraft?G("Draft"):"",_("PPMSSCostDetails"),e.viewonly?" ":"("+w.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&w.AccessRights.IsAdd?r().createElement(o.Z,{name:G("Add"),frmctrlid:"fld515L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),O({type:"editData",payload:[]}),O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&w.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld515L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):w.IsDraft&&w.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld515L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(I.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld515L1VCCloseBtn",onClick:()=>{S(!1),b.hideAddBtn(!1),T&&(O({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(f.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},M==="panel"+l?r().createElement(Pt,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(fe.Z,{tableName:"PPMSSCostDetails",tableID:515,parentID:t.PPMSSTimeCostDetIDPK,fldid:"fld515L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:G,title:"10.0.0.59-3:08:17 PM-18-7[515]"}))))))))})),Dt=(0,l.createContext)(),gt=()=>{const e=(0,l.useContext)(Dt);if(void 0===e)throw new Error("useCont must be used within  PPMSSCostDetailsContext Provider");return e},It=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,S]=(0,l.useState)(!0),[c,u]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[P,y]=(0,l.useState)(0),[D,g]=(0,l.useReducer)(ke.D,ke.E),[I,M]=(0,l.useState)(""),[E,h]=(0,l.useState)([]),[f,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSSCostDetails-Entry").style.width="100%",document.getElementById("PPMSSCostDetails-MainTable").style.width="100%",document.getElementById("PPMSSCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{S(!0),document.getElementById("divPPMSSCostDetails-Entry").style.width="100%",document.getElementById("PPMSSCostDetails-MainTable").style.width="100%",document.getElementById("PPMSSCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{h([]),document.getElementById("divPPMSSCostDetails-Entry").style.width="100%",document.getElementById("PPMSSCostDetailsEntryTable").style.width="100%",document.getElementById("PPMSSCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSSCostDetails-MainEntry").style.display="block",document.getElementById("PPMSSCostDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSCostDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSCostDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,p.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),y(t.length),T(e)}))}))}),[]);const T=t=>{g({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(Dt.Provider,{value:{cstate:D,cdispatch:g,ContextApi:gt,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==P&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,E),h([])},EditClose:e=>N(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSSCostDetails").style.width="50%",document.getElementById("divPPMSSCostDetails-Entry").style.width="100%",document.getElementById("PPMSSCostDetails-MainTable").style.width="100%",document.getElementById("PPMSSCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSSCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSCostDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSCostDetails").style.display="block",document.getElementById("overlayimgAttPPMSSCostDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSSCostDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSSCostDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSSCostDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSCostDetails-Entry",style:{width:"100%"}},0!==P?r().createElement(yt,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Te.Z,{ref:s,menurefID:515,fileId:"LogoImgPPMSSCostDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSCostDetails",frmctrlid:"PvwIm_515_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSCostDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Pt,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Te.Z,{ref:s,menurefID:515,fileId:"LogoImgPPMSSCostDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSCostDetails",frmctrlid:"PvwIm_515_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})),r().createElement("div",{id:"PPMSSCostDetails-MainTable"},0!==P?r().createElement(ut,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Ne.Z,{ImgAttachment:e=>N(),menurefID:515,fileId:"AttImgPPMSSCostDetails",imgid:"overlayimgAttPPMSSCostDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSSCostDetails",ref:d,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_515_L1_",timglist:e=>{s.current.timglist(e),h(e)},clearTempData:D.Add}))),r().createElement("div",{id:"PPMSSCostDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),f&&r().createElement(we(),{openDialog:f,closeDialog:e=>v(e),formID:515,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Mt=a(25108);const Et=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,S]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[p,C]=(0,l.useState)(""),[P,D]=(0,l.useState)({}),[I,M]=(0,l.useState)(!0),[E,h]=(0,l.useState)(!1),{cstate:f,cdispatch:v}=e.ContextApi?e.ContextApi:bt(),[B,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,ee]=(0,l.useState)(!1),[te,ae]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Se=(0,y.Z)();const ce=e=>Se[e]?Se[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function pe(){D({}),z({}),e.searchData({}),h(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{pe()}})));const Ce=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const i=new AbortController;ie.current=i;let d="",s=[],m={};await S((e=>(d=e.name,e))),await D((e=>(s=e,e))),await z((e=>(m=e,e)));const C=u.v.Api+"FP526S3/",y={data:{p1:"PPMSSGeneralCostDetIDPK"==a?null:await Ie(),p2:"PPMSSGeneralCostCode"==d&&l.length>0?"%"+l+"%":null,p3:"SSGenNarration"==d&&l.length>0?"%"+l+"%":null,p4:"SSGenGenCostAmount"==d&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:e.parentId?e.parentId:"0",p8:e.Dialogview?"1":null,p9:null,p10:"p10"==d&&l.length>0?l:null,p11:null,p12:null,p13:null,p14:null,p15:"ContractName"!=d&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p16:"ContractCode"==d&&l.length>0?"%"+l+"%":null,p17:"ContractName"==d&&l.length>0?"%"+l+"%":null,p18:"LocalityName"!=d&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p19:"LocalityCode"==d&&l.length>0?"%"+l+"%":null,p20:"LocalityName"==d&&l.length>0?"%"+l+"%":null,p21:"BuildingName"!=d&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p22:"BuildingCode"==d&&l.length>0?"%"+l+"%":null,p23:"BuildingName"==d&&l.length>0?"%"+l+"%":null,p24:"FloorName"!=d&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p25:"FloorCode"==d&&l.length>0?"%"+l+"%":null,p26:"FloorName"==d&&l.length>0?"%"+l+"%":null,p27:"SpotName"!=d&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p28:"SpotCode"==d&&l.length>0?"%"+l+"%":null,p29:"SpotName"==d&&l.length>0?"%"+l+"%":null,p30:"DivisionName"!=d&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p31:"DivisionCode"==d&&l.length>0?"%"+l+"%":null,p32:"DivisionName"==d&&l.length>0?"%"+l+"%":null,p33:"DisciplineName"!=d&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p34:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p35:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p36:"FrequencyName"!=d&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p37:"FrequencyCode"==d&&l.length>0?"%"+l+"%":null,p38:"FrequencyName"==d&&l.length>0?"%"+l+"%":null,p39:"FlowDisplayName"!=d&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p40:"BriefDetails"==d&&l.length>0?"%"+l+"%":null,p41:"FlowCode"==d&&l.length>0?"%"+l+"%":null,p42:"FlowDisplayName"==d&&l.length>0?"%"+l+"%":null,p43:"FixonBusinessFlowName"!=d&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p44:"FixonBusinessFlowName"==d&&l.length>0?"%"+l+"%":null,p45:"PPMFixonBusinessFlowCode"==d&&l.length>0?"%"+l+"%":null,p46:"PPMStageName"!=d&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p47:"PPMStageName"==d&&l.length>0?"%"+l+"%":null,p48:"StageSeqNo"==d&&l.length>0?"%"+l+"%":null,p49:"SSCreWorkOrder"==d&&l.length>0?"%"+l+"%":null,p50:r||1,p51:10,p52:t,p53:null,p54:null,p55:localStorage.getItem("UserGroupID"),p56:localStorage.getItem("userid")}},g=await(0,c.Z)(C,y,e.token,"",i.signal);if(!g)return!1;const I=g.Output.status.code,M=g.Output.data;if("200"===I)if(M.length>0)if(1===r){let e=ye(M,d),t=Pe(e,P[d],a);o(t),R(t.length>0?t[0].TotalCount:P[d].length)}else{let e=[...n,...M],t=ye(e,d);R(t.length<10?t.length:M[0].TotalCount),o(ye(t,d))}else p.length>0&&o([]),R(n.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Pe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function De(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>P[e]?P[e].map((e=>e[t])):[]));return e.toString()}return""}const ge=async t=>{let a="",l={};await D((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSSGeneralCostDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSSGeneralCostDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMSSCreationWorkOrderID:De("PPMSSCreationWorkOrderID")};"saveFav"==t?he("save",i):(e.searchData(i),h(!1))};async function Ie(){let e={};await D((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSSGeneralCostDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Me(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...P};let m=[..._],S=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSSGeneralCostDetIDPK)).toString();t&&S.push(t)}await z((e=>(d=e,e)));let c={PPMSSGeneralCostDetIDPK:S?[...new Set(S)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,PPMSSCreationWorkOrderID:P.SSCreWorkOrder?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString()};e.searchData(c)}function Ee(){return r().createElement(b.Z,{frmctrlid:"fld526L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Me(e,t,a,d.name,l)},keyboardback:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:""})},title:ce(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const he=(t,a)=>{(0,_e.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(We.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(Le.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Re.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Ze.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>ee(e.target.checked)}),label:"Quick"}),r().createElement(le.Z,{style:{color:"#337ab7"},control:r().createElement(g.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Ge.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(ze.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:te,onChange:e=>ae(e.target.checked)}),label:"Dashboard"})),r().createElement(Ke.Z,null,r().createElement(T.Z,{onClick:()=>{ge("saveFav"),$(!1)},color:"primary"},"Save"))),E?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Ee,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:ce("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(N.Z,{id:"fld526L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{h(!1),S({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),P[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld526L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await D((t=>(e=t,Mt.log("clear fewItems",e),t))),e[d.name]=[],Ce(d.type,d.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},I?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(F.D7o,{className:"FilterMaximizeIcon",onClick:()=>{M(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(F.dOw,{className:"FilterMaximizeIcon",onClick:()=>{M(!0)}})))),r().createElement("ul",null,P[d.name]&&P[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:I?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=P[d.name].filter((t=>t!=e)),l={};await D((e=>(l=e,e))),l[d.name]=a,D(l),o((t=>[e,...t]))})(e)},r().createElement(N.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(w.Z,{frmctrlid:"fld526L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:p,placeholder:ce("Enter ")+" "+ue(d.idpk),onChange:e=>{C(e),Ce(d.type,d.fieldidpk,e,1,Ie())}})),r().createElement("div",{id:"fld526L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:ge},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(A.Z,{color:"secondary"})),r().createElement("div",{id:"fld526L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await D((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},D(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(k.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld526L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(B+1),Ce(d.type,d.fieldidpk,"",B+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(O.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",ce("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(N.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),pe()}}):r().createElement(xe.Z,{className:"favlisticon",onClick:()=>{j(!0),he("select"),pe()}})),Object.keys(P).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Be.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{pe()},id:"fld526L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},ce("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld526L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},ce("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld526L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{h(!0),C(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSSGeneralCostDetIDPK";S({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSGeneralCostDetID",fieldidpk:t}),Ce(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSGeneralCostDetID",t,"",1,Ie())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(x.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Me("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,P[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},P[a][0][a]),P[a].length>1&&r().createElement("span",{className:"RoundedDivName"},P[a][1][a]),P[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(P[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ce("FilterPPMSSGeneralCostDetID",a),ge("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const ht=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("526"),[S,p]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),[g,I]=(0,l.useState)(0),[M,E]=(0,l.useState)(0),[T,k]=(0,l.useState)(0),[b,A]=(0,l.useState)(0),[x,B]=(0,l.useState)({current:1,pageSize:100}),[W,Q]=(0,l.useState)(""),[ae,le]=(0,l.useState)([]),[re,ne]=(0,l.useState)({val:"",column:""}),[ie,oe]=(0,l.useState)([]),[de,se]=(0,l.useState)(!1),[me,Se]=(0,l.useState)(""),[ce,ue]=(0,l.useState)(""),[pe,Ce]=(0,l.useState)(!1),[Pe,ye]=(0,l.useState)([]),[De,ge]=(0,l.useState)([]),[Ie,Me]=(0,l.useState)([]),[Ee,he]=(0,l.useState)({children:[{name:"PPMSSGenCostDetails",children:[]}]}),[fe,ve]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:kt),{cstate:Te,cdispatch:ke}=e.ContextApi?e.ContextApi:bt();let be={PPMSSGeneralCostDetIDPK:"",PPMSSGeneralCostCode:"",SSGenNarration:"",SSGenGenCostAmount:"",IsDraft:"",Remarks:"",PPMSSCreationWorkOrderID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[we,Oe]=(0,l.useState)(be),[Fe,Ae]=(0,l.useState)(be),[xe,Be]=(0,l.useState)(!1),[We,Le]=(0,l.useState)(!0),[Re,Ke]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[ze,_e]=(0,l.useState)({SSGenNarration:"",SSGenGenCostAmount:"",PPMSSGeneralCostCode:"",SSCreWorkOrder:""}),[qe,Ve]=(0,l.useState)(!1),[Ue,je]=(0,l.useState)([]),[Ye,Xe]=(0,l.useState)(0),[Qe,$e]=(0,l.useState)(0),[Je,et]=(0,l.useState)({current:1,pageSize:10}),[tt,at]=(0,l.useState)([]),[lt,rt]=(0,l.useState)([]),[nt,it]=(0,l.useState)(!1),[ot,dt]=(0,l.useState)(!1),[st,mt]=(0,l.useState)(!1),[St,ct]=(0,l.useState)(""),[ut,pt]=$()("526"),[Ct,Pt]=(0,l.useState)({}),yt=[{columns:tt,data:W}];let Dt=(0,y.Z)();const gt=e=>Dt[e]?Dt[e]:e,It=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{wt(ut)}),[ut]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Nt(x,be,"PPMSSGeneralCostDetID"):oe([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?Nt(x,me,"PPMSSGeneralCostDetID"):fe&&Ae(me)}),[me]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Mt(e)},tableRefresh:()=>{Nt(x,be,"PPMSSGeneralCostDetID")},DialogTableProps:e=>{P(e)},HideEntryFields:e=>{mt(!0===e)}})));const Mt=e=>{""==e?Nt(x,be,xe?"DraftPPMSSGeneralCostDetID":"PPMSSGeneralCostDetID",xe&&"DraftPage"):Tt(e,{current:1,pageSize:100}),ue(e)};function ht(t){Ne.loading(!0);let a=u.v.Api+"FP526S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,$e(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),je(e.Output.data),Ne.loading(!1)}}))}function ft(e,t){ke({type:"editData",payload:[t]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Re&&Ce(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(P(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Tt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const vt=()=>{Ne.EditClose(!0),de?(document.getElementById("PPMSSGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSSGenCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSSGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),Ze?(C||(document.getElementById("PPMSSGenCostDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSGenCostDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSSGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSSGenCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSSGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),document.getElementById("PPMSSGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ce(!1),window.clickFilter=!de},Nt=(t,a,l,r,n,i)=>{Ne.loading(!0),"DraftPage"!==r&&Be(Te.IsDraft);let o=u.v.Api+"FP526S3/",d={data:{p1:n||(a&&a.PPMSSGeneralCostDetIDPK?a.PPMSSGeneralCostDetIDPK:null),p2:a&&a.PPMSSGeneralCostCode?a.PPMSSGeneralCostCode:null,p3:a&&a.SSGenNarration?a.SSGenNarration:null,p4:a&&a.SSGenGenCostAmount?a.SSGenGenCostAmount:null,p5:"DraftPPMSSGeneralCostDetID"==l?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:a&&a.IsActive,p9:null,p10:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p11:a&&a.CreatedTtm?a.CreatedTtm:null,p12:a&&a.CreatedTtmType?a.CreatedTtmType:null,p13:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p14:null,p15:a&&a.ContractID?a.ContractID:null,p16:a&&a.ContractCode?a.ContractCode:null,p17:a&&a.ContractName?a.ContractName:null,p18:a&&a.LocalityID?a.LocalityID:null,p19:a&&a.LocalityCode?a.LocalityCode:null,p20:a&&a.LocalityName?a.LocalityName:null,p21:a&&a.BuildingID?a.BuildingID:null,p22:a&&a.BuildingCode?a.BuildingCode:null,p23:a&&a.BuildingName?a.BuildingName:null,p24:a&&a.FloorID?a.FloorID:null,p25:a&&a.FloorCode?a.FloorCode:null,p26:a&&a.FloorName?a.FloorName:null,p27:a&&a.SpotID?a.SpotID:null,p28:a&&a.SpotCode?a.SpotCode:null,p29:a&&a.SpotName?a.SpotName:null,p30:a&&a.DivisionID?a.DivisionID:null,p31:a&&a.DivisionCode?a.DivisionCode:null,p32:a&&a.DivisionName?a.DivisionName:null,p33:a&&a.DisciplineID?a.DisciplineID:null,p34:a&&a.DisciplineCode?a.DisciplineCode:null,p35:a&&a.DisciplineName?a.DisciplineName:null,p36:a&&a.FrequencyID?a.FrequencyID:null,p37:a&&a.FrequencyCode?a.FrequencyCode:null,p38:a&&a.FrequencyName?a.FrequencyName:null,p39:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p40:a&&a.BriefDetails?a.BriefDetails:null,p41:a&&a.FlowCode?a.FlowCode:null,p42:a&&a.FlowDisplayName?a.FlowDisplayName:null,p43:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p44:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p45:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p46:a&&a.PPMStageID?a.PPMStageID:null,p47:a&&a.PPMStageName?a.PPMStageName:null,p48:a&&a.StageSeqNo?a.StageSeqNo:null,p49:a&&a.SSCreWorkOrder?a.SSCreWorkOrder:null,p50:n?1:t.current,p51:t.pageSize,p52:l,p53:null,p54:null,p55:localStorage.getItem("UserGroupID"),p56:localStorage.getItem("userid")}};(0,c.Z)(o,d,Te.token[0]).then((o=>{if(n)(0,j.a)(o,ke,r,i,Ne);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,k(o.Output.data[0].TotalCount),A(o.Output.data[0].DraftCnt),ke({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&A(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?E(Math.ceil(e)):20==t.pageSize?E(Math.ceil(e/2)):50==t.pageSize?E(Math.ceil(e/5)):100==t.pageSize&&E(Math.ceil(e/10)),oe(o.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divPPMSSGenCostDetails-Entry").style.height="auto",document.getElementById("divPPMSSGenCostDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftPPMSSGeneralCostDetID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ce(!0),Be(!1)):(oe([]),B({current:1,pageSize:10}),E(0),k(0),ke({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ne.loading(!1)}))};function Tt(t,a){Ne.loading(!0);const l=u.v.Api+"FP526S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:xe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,r,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,k(e.Output.data[0].TotalCount),ke({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?E(Math.ceil(t)):20==a.pageSize?E(Math.ceil(t/2)):50==a.pageSize?E(Math.ceil(t/5)):100==a.pageSize&&E(Math.ceil(t/10)),oe(e.Output.data),Ne.loading(!1)}else oe([]),E(0),k(0),ke({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function wt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),ke({type:"language",payload:Object.assign({},...r)}),_e(a.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),ge(t),Me(a),at(l),rt(a)}const Ot=()=>fe?null:r().createElement("div",null,qe?r().createElement(ee.Z,{data:Ue,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:t}),ke({type:"ShowDetail",payload:a}))}}):r().createElement(J.Z,{ref:d,frmctrlid:"tblcs_526_L1_",id:"PPMSSGenCostDetailsTable",headerdata:De,tablesearchparams:ze,searchvalue:e=>{_e(e),Se(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Pt(t),B({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,xe?"DraftPPMSSGeneralCostDetID":"PPMSSGeneralCostDetID",xe&&"DraftPage")},bodydata:ie,ondrag:ft,bodyitem:Ie,visibleitem:De,isdraft:xe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,a)=>{C?Ne.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Nt(x,null,t?"DraftPPMSSGeneralCostDetID":"PPMSSGeneralCostDetID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!C||Re,tf:It,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(Te.ExpandTableValue)}),[Te.ExpandTableValue]),r().createElement("div",null,!st&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld526L1ECSearchBar",className:"searchbar1"},r().createElement(w.Z,{frmctrlid:"fld526L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:gt("Search"),value:ce,onChange:e=>{ue(e),Ne.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld526L1TCCloseIconCommonSearch",onClick:()=>{ue(""),Ne.searchItem("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld526L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSSGenCostDetailsgridsearch").focus()}})))),r().createElement("div",null,Te.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld526L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),ke({type:"editData",payload:[]}),ke({type:"ShowDetail",payload:!1}),ke({type:"Add",payload:!0})}}):"")),r().createElement(h.Z,{expanded:We,onChange:()=>()=>{Le(Re)}},e.Dialogview&&r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[526]"},`${It("526")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld526L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(w.Z,{frmctrlid:"fld526L1TCInputSearch",className:"search_input",type:"text",placeholder:gt("Search"),value:ce,onChange:e=>{Mt(e)}}),r().createElement("div",{className:"search_icon"},ce?r().createElement("div",{id:"fld526L1TCInputCloseIcon",onClick:()=>{Mt("")}},r().createElement(N.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld526L1TCInputSearchIcon"},r().createElement(G.Z,{className:"InputSearchIcon"}))))))),r().createElement(f.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSSGenCostDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!xe&&r().createElement("div",{frmctrlid:"fld526L1TCFilterDataIsDraft",id:"PPMSSGenCostDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{vt()}},r().createElement(i.ZP,{title:gt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(O.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},gt("Filter Data"))),!C&&!xe&&!fe&&r().createElement(L.Z,{formctrlidprint:"fld526L1TCExportPrint",formctrlidexport:"fld526L1TCExportTable",formctrlidrefresh:"fld526L1TCExportRefresh",title:It("526"),data:ae,exportData:yt,Items:lt,columnIndex:tt,TableVisibleItem:De,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let o=u.v.Api+"FP526S3/",d={data:{p1:t&&t.PPMSSGeneralCostDetIDPK?t.PPMSSGeneralCostDetIDPK:null,p2:t&&t.PPMSSGeneralCostCode?t.PPMSSGeneralCostCode:null,p3:t&&t.SSGenNarration?t.SSGenNarration:null,p4:t&&t.SSGenGenCostAmount?t.SSGenGenCostAmount:null,p5:xe?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.ContractID?t.ContractID:null,p16:t&&t.ContractCode?t.ContractCode:null,p17:t&&t.ContractName?t.ContractName:null,p18:t&&t.LocalityID?t.LocalityID:null,p19:t&&t.LocalityCode?t.LocalityCode:null,p20:t&&t.LocalityName?t.LocalityName:null,p21:t&&t.BuildingID?t.BuildingID:null,p22:t&&t.BuildingCode?t.BuildingCode:null,p23:t&&t.BuildingName?t.BuildingName:null,p24:t&&t.FloorID?t.FloorID:null,p25:t&&t.FloorCode?t.FloorCode:null,p26:t&&t.FloorName?t.FloorName:null,p27:t&&t.SpotID?t.SpotID:null,p28:t&&t.SpotCode?t.SpotCode:null,p29:t&&t.SpotName?t.SpotName:null,p30:t&&t.DivisionID?t.DivisionID:null,p31:t&&t.DivisionCode?t.DivisionCode:null,p32:t&&t.DivisionName?t.DivisionName:null,p33:t&&t.DisciplineID?t.DisciplineID:null,p34:t&&t.DisciplineCode?t.DisciplineCode:null,p35:t&&t.DisciplineName?t.DisciplineName:null,p36:t&&t.FrequencyID?t.FrequencyID:null,p37:t&&t.FrequencyCode?t.FrequencyCode:null,p38:t&&t.FrequencyName?t.FrequencyName:null,p39:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p40:t&&t.BriefDetails?t.BriefDetails:null,p41:t&&t.FlowCode?t.FlowCode:null,p42:t&&t.FlowDisplayName?t.FlowDisplayName:null,p43:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p44:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p45:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p46:t&&t.PPMStageID?t.PPMStageID:null,p47:t&&t.PPMStageName?t.PPMStageName:null,p48:t&&t.StageSeqNo?t.StageSeqNo:null,p49:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p50:x.current,p51:T,p52:xe?"DraftPPMSSGeneralCostDetID":"PPMSSGeneralCostDetID",p53:null,p54:null,p55:localStorage.getItem("UserGroupID"),p56:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${It(526)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(o,d,Te.token[0],i).then((e=>{(0,X.PDF_Excel_Generate)(e,Ne,lt,Q,a,i)}))})(me,re.column,0,0,t)},Refresh:()=>{ue(""),B({current:1,pageSize:100}),d.current.clearItem(),Te.IsDraft?Nt({current:1,pageSize:100},be,"DraftPPMSSGeneralCostDetID"):Nt({current:1,pageSize:100},be,"PPMSSGeneralCostDetID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!xe&&!fe&&!C&&r().createElement("div",{className:"buttoncard",onClick:()=>dt(!ot)},r().createElement("span",null,ot?r().createElement(i.ZP,{disableFocusListener:!0,title:gt("Less"),placement:"top"},r().createElement("span",{id:"fld526L1TCLess"},r().createElement(V.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:gt("More"),placement:"top"},r().createElement("span",{id:"fld526L1TCMore"},r().createElement(V.ilJ,{className:"tableFilterColumnIcon"}))))),ot?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},fe||!Re?null:C||!Te.AccessRights.IsAdd||xe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld526L1TCFilterDataIsAdd",id:"PPMSSGenCostDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),pe?(document.getElementById("PPMSSGenCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSGenCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSSGenCostDetailsFilterDiv").style.display="none",document.getElementById("PPMSSGenCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSGenCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!1)):(document.getElementById("PPMSSGenCostDetailsFilterDiv").style.width="25%",document.getElementById("PPMSSGenCostDetailsTabDiv").style.width="75%",document.getElementById("PPMSSGenCostDetailsFilterDiv").style.display="block",document.getElementById("PPMSSGenCostDetailsfildiv").style.width="fit-content",document.getElementById("PPMSSGenCostDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSGenCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSGenCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ce(!0)),se(!1)}},r().createElement(i.ZP,{title:gt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(Y.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},gt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&Re&&!fe&&!xe&&r().createElement("div",null,r().createElement("div",{id:"PPMSSGenCostDetailscoldiv",className:"buttoncard",onClick:()=>{qe?Ve(!1):(Ve(!0),ht({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:gt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld526L1TCTableScrollData"},r().createElement(te.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},gt("Table Scroll Data")))),!fe&&xe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Nt({current:1,pageSize:100},be,"PPMSSGeneralCostDetID"),Be(!1),ue(""),ke({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},r().createElement(i.ZP,{title:gt("List"),placement:"top"},r().createElement("div",{id:"fld526L1TCList"},r().createElement(H.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},gt("Drafts")," ",T)):!C&&!fe&&Te.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(v.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},r().createElement("div",{id:"fld526L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(B({current:1,pageSize:100}),I(0),Ne.clear(),ue(""),ke({type:"Add",payload:!1}),Nt({current:1,pageSize:10},be,"DraftPPMSSGeneralCostDetID"),Be(!0),ke({type:"IsDraft",payload:!0}),Ce(!1),Ge(!0),document.getElementById("PPMSSGenCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSGenCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSSGenCostDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),ve(!1)):Ne.alert({open:!0,color:"warning",message:[gt("There is no Record Found")]})}},r().createElement(i.ZP,{title:gt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(U.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},gt("Drafts"))))))):""),!xe&&!C&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||xe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld526L1TCListView",onClick:()=>{Ge(!0),it(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(V.umT,null)),r().createElement("span",null,gt("List"))),r().createElement("div",{className:Ze||nt?"buttonGrid":"buttonList",id:"fld526L1TCCardView",onClick:()=>{Ge(!1),it(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(F.aCJ,null)),r().createElement("span",null,gt("Card"))),r().createElement("div",{className:nt?"buttonList":"buttonGrid",id:"fld526L1TCTileView",onClick:()=>{it(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(D.f_H,null)),r().createElement("span",null,gt("Tile"))))))),fe?null:qe?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld526L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:g,onPageChange:(e,t)=>{I(t),ht({current:t+1,pageSize:Je.pageSize}),et({current:t+1,pageSize:Je.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:Ye,color:"primary",page:Je.current,onChange:(e,t)=>{et({current:t,pageSize:Je.pageSize}),Xe(t),ht({current:t,pageSize:Je.pageSize})}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:Je.pageSize,frmctrlid:"fld526L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),ht({current:1,pageSize:e.target.value})}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",Qe,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{style:{color:"#777"},id:"fld526L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:g,onPageChange:(e,t)=>{I(t),Nt({current:t+1,pageSize:x.pageSize},be,xe?"DraftPPMSSGeneralCostDetID":"PPMSSGeneralCostDetID",xe&&"DraftPage"),B({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(R.Z,{count:M,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(B({current:t,pageSize:x.pageSize}),xe)Nt({current:t,pageSize:x.pageSize},we,"DraftPPMSSGeneralCostDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ce.length>0?Tt(ce,{current:t,pageSize:x.pageSize}):Nt({current:t,pageSize:x.pageSize},we,"PPMSSGeneralCostDetID")}}}),r().createElement("div",null,r().createElement(K.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld526L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),xe?Nt({current:1,pageSize:e.target.value},we,"DraftPPMSSGeneralCostDetID","DraftPage"):ce.length>0?Tt(ce,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},we,"PPMSSGeneralCostDetID")}},r().createElement(He.Z,{value:10},"10"),r().createElement(He.Z,{value:20},"20"),r().createElement(He.Z,{value:50},"50"),r().createElement(He.Z,{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSSGenCostDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSSGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&r().createElement(Et,{parentId:e.parentId,searchData:e=>{Se(e||Ct),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>vt(),userGrid:ut,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&r().createElement(Z.Z,{Refresh:e=>{Nt({current:1,pageSize:100},be,"PPMSSGeneralCostDetID")},frmctrlid:"fld526L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:pe,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&wt(t),pt(t),ke({type:"showTableview",payload:t})},Token:Te.token[0]})),r().createElement("div",{id:"PPMSSGenCostDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?r().createElement(Ot,null):r().createElement(q.Z,{frmctrlid:"fld526L1TCExpandedCardDual",data:ie,id:"PPMSSGenCostDetails",title:"PPMSSGeneralCostCode",cardTile:!!nt,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?Ne.select(e):("edit"==t?(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(ke({type:"editData",payload:[e]}),ke({type:"IsDraft",payload:xe}),ke({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),de?se(!0):pe?Ce(!0):(Ce(!1),Ce(!1))),Ne.hideAddBtn(!0)}})))))))})),ft={EnterKeyValues:{PPMSSGenCostDetails:["SSGenNarration","SSGenGenCostAmount","PPMSSGeneralCostCode","SSCreWorkOrder"]},Label:{PPMSSGenCostDetails:{SSGenNarration:["PPMSSGeneralCostCode"],SSGenGenCostAmount:["PPMSSGeneralCostCode"],PPMSSGeneralCostCode:["PPMSSGeneralCostCode"],PPMSSCreationWorkOrderID:["PPMSSGeneralCostCode"]}},LabelHeader:{PPMSSGenCostDetails:{SSGenNarration:["PPMSSGeneralCostCode"],SSGenGenCostAmount:["PPMSSGeneralCostCode"],PPMSSGeneralCostCode:["PPMSSGeneralCostCode"],PPMSSCreationWorkOrderID:["PPMSSGeneralCostCode"]}},Property:{PPMSSGenCostDetails:{SSGenNarration:{id:"fld526_21637",labelID:"SSGenNarration",maxLength:"250",labelname:"Narration",frmctrlid:"fld526_21637",frmctrlidname:"SSGenNarration",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},SSGenGenCostAmount:{id:"fld526_21638",labelID:"SSGenGenCostAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld526_21638",frmctrlidname:"SSGenGenCostAmount",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSGeneralCostCode:{id:"fld526_21636",labelID:"PPMSSGeneralCostCode",maxLength:"50",labelname:"PPMSSGeneralCostCode",frmctrlid:"fld526_21636",frmctrlidname:"PPMSSGeneralCostCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationWorkOrderID:{id:"fld526_21641",clearID:"PPMSSGenCostDetailsSSCreWorkOrderClear",type:"select",labelID:"PPMSSCreationWorkOrderIDPK",labelname:"PPMSSCreationWorkOrderID",fielddisplayname:"SSCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSSGenCostDetails:{PPMSSCreationWorkOrderID:["BuildingID","ContractID","DisciplineID","DivisionID","FloorID","FrequencyID","LocalityID","PPMStageID","SpotID","SSCreWorkOrder","SSCreWoDateTime","SSCreSLAHours"]}}},vt={PPMSSGeneralCostDetIDPK:"",PPMSSGeneralCostCode:"",SSGenNarration:"",SSGenGenCostAmount:"",IsDraft:!1,Remarks:"",PPMSSCreationWorkOrderID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",Type:"PPMSSGeneralCostDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Nt=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,S]=(0,l.useState)(!0),[P,D]=(0,l.useState)(!1),[g,M]=(0,l.useState)(!1),[E,v]=(0,l.useState)(""),[N,T]=(0,l.useState)(!1),[k,b]=(0,l.useState)([]),[w,O]=(0,l.useState)(null),[F,A]=(0,l.useReducer)(ue.Z,vt),[B,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),G=(0,l.useContext)(e.context?e.context:kt),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:bt(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ie()("526"),[$,J]=(0,l.useState)(!0),[ee,te]=(0,l.useState)(!1);let ae=(0,y.Z)();const[oe,se]=(0,l.useState)({}),Se=e=>ae[e]?ae[e]:e,pe=t=>_.language?.[t]?_.language[t]:e.createEasy?oe?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{ge()}),[]),(0,l.useEffect)((()=>{ge()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(De(_.editData[0],""),D(!0)):_.Add&&(ge(),D(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),se(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ge()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(ve(t),D(e)):(ge(),D(e))},AddOpen:e=>{ge(),D(!0)}})));const De=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),M(t.IsDraft),"SetDefaultPPMSSGeneralCostDetID"==a?j(t.PPMSSGeneralCostDetIDPK):(H(e.primid?Number(e.primid):t.PPMSSGeneralCostDetIDPK?t.PPMSSGeneralCostDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSSGeneralCostDetIDPK})),A({type:"text",name:"SSGenNarration",value:t.SSGenNarration?t.SSGenNarration:""}),A({type:"number",name:"SSGenGenCostAmount",number:Number(t.SSGenGenCostAmount)}),A({type:"text",name:"PPMSSGeneralCostCode",value:t.PPMSSGeneralCostCode?t.PPMSSGeneralCostCode:""}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:t.PPMSSCreationWorkOrderID?Number(t.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:t.SSCreWorkOrder}),t.IsDraft?S(!0):S(!("1"!=t.IsActive&&!t.IsActive))},ge=()=>{b([]),H(0),j(""),e.createEasy||G.resetImg(),q({type:"PrimaryId",payload:""}),A({type:"text",name:"SSGenNarration",value:""}),A({type:"number",name:"SSGenGenCostAmount",number:0}),A({type:"text",name:"PPMSSGeneralCostCode",value:""}),A({type:"text",name:"PPMSSCreationWorkOrderID",value:null}),A({type:"text",name:"SSCreWorkOrder",value:""}),document.getElementById("PPMSSGenCostDetailsSSCreWorkOrderClear")&&document.getElementById("PPMSSGenCostDetailsSSCreWorkOrderClear").click(),S(!0),v(""),J(!0)},Me=t=>{G.loading(!0),G.ConfirmAlert(null);const a=u.v.Api+"FP526S2/",l={data:[{p1:"SetDefaultPPMSSGeneralCostDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:Ne(F.PPMSSGeneralCostCode),p3:Ne(F.SSGenNarration),p4:F.SSGenGenCostAmount?Number(F.SSGenGenCostAmount):0,p5:!1,p6:"SetDefaultPPMSSGeneralCostDetID"==t?"SetDefault":null,p7:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p8:d,p9:"SetDefaultPPMSSGeneralCostDetID"==t,p10:localStorage.getItem("userid"),p11:de()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,c.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:n}),G.loading(!1)):(t=>{J(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP526S1/",l={data:[{p1:V,p2:Ne(F.PPMSSGeneralCostCode),p3:Ne(F.SSGenNarration),p4:F.SSGenGenCostAmount?Number(F.SSGenGenCostAmount):0,p5:!1,p6:null,p7:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p8:d,p9:!1,p10:localStorage.getItem("userid"),p11:de()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((t=>{(0,re.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(G.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSSGenCostDetails"),G.loading(!1),q({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK)),ge(),_.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttPPMSSGenCostDetails")&&(document.getElementById("overlayimgAttPPMSSGenCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSGenCostDetails").style.display="none",document.getElementById("divPPMSSGenCostDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSSGenCostDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[a.message]}),G.loading(!1)),D(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function Ee(t,a,l,r){if(!(_.count>0))return G.alert({open:!0,color:"warning",message:[Se("Please save atleast one record")]}),!1;if(!((()=>{const e={...F};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return G.alert({open:!0,color:"warning",message:[Se("Please enter the primary fields")]}),!1;{J(!0),G.loading(!0),G.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP526S1/",l={data:[{p1:"SetDefaultPPMSSGeneralCostDetID"==r?"NORECORDS"!=U&&U?U:0:V,p2:Ne(F.PPMSSGeneralCostCode),p3:Ne(F.SSGenNarration),p4:F.SSGenGenCostAmount?Number(F.SSGenGenCostAmount):0,p5:!0,p6:"SetDefaultPPMSSGeneralCostDetID"==r?"SetDefault":null,p7:e.parentId?Number(e.parentId):F.PPMSSCreationWorkOrderID?F.PPMSSCreationWorkOrderID:0,p8:!1,p9:"SetDefaultPPMSSGeneralCostDetID"==r,p10:localStorage.getItem("userid"),p11:de()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:de()().format("YYYY-MM-DD hh:mm:ss")}]};(0,p.Z)(0).then((r=>{(0,re.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?G.alert({open:!0,color:"warning",message:[Se("Deleted Successfully")]}):G.alert({open:!0,color:"success",message:[Se("Saved to Draft")]}),G.loading(!1),G.attachmentSave(a[0].Data.IDPK),ge(),G.RefreshTable(),e.clrImgstate(!0)):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1))}))}))}}const he=(t,l,r)=>{const n=u.v.Api+"FP526S3/",i={data:{p1:null,p2:"PPMSSGeneralCostCode"==r&&l?"%"+l+"%":null,p3:"SSGenNarration"==r&&l?"%"+l+"%":null,p4:"SSGenGenCostAmount"==r&&l?"%"+l+"%":null,p5:null,p6:null,p7:a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID?a.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID:"0",p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:t,p51:10,p52:"PPMSSGeneralCostDetID",p53:null,p54:null,p55:localStorage.getItem("UserGroupID"),p56:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,c.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSSGeneralCostCode"==r&&J(e>0),R(l)):("PPMSSGeneralCostCode"==r&&J(!0),R(L.concat(l))),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},fe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a&&A({type:"text",name:t,value:e})}),[F]);function ve(e){G.ConfirmAlert(null),M(e.IsDraft),H(Number(e.PPMSSGeneralCostDetIDPK)?Number(e.PPMSSGeneralCostDetIDPK):0),A({type:"text",name:"SSGenNarration",value:e.SSGenNarration?e.SSGenNarration:""}),A({type:"number",name:"SSGenGenCostAmount",number:e.SSGenGenCostAmount?Number(e.SSGenGenCostAmount):0}),A({type:"text",name:"PPMSSGeneralCostCode",value:e.PPMSSGeneralCostCode?e.PPMSSGeneralCostCode:""}),A({type:"number",name:"PPMSSCreationWorkOrderID",number:e.PPMSSCreationWorkOrderID?Number(e.PPMSSCreationWorkOrderID):0}),A({type:"text",name:"SSCreWorkOrder",value:e.SSCreWorkOrder?e.SSCreWorkOrder:""})}const Ne=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(h.Z,{expanded:P,onChange:e=>{}},r().createElement(z.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},P&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[526]"}," ",Se("Add "),pe("526")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(Ce.Z,{row:!0},r().createElement(le.Z,{labelPlacement:"bottom",id:"fld526L1ECEntryCheckbox",control:r().createElement(x.Z,{checked:"1"==d,onChange:e=>S(e.target.checked)}),label:Se(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld526L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(Pe.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Se("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ge()},id:"fld526L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Pe.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Se("Reset")))),"1"===g&&V&&r().createElement(ie.Z,{frmctrlid:"fld526L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ee("draftdel")}}),V&&"1"!==g||e.createEasy?null:_.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{Ee()},frmctrlid:"fld526L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ye.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Se("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(C.Z,{frmctrlid:"fld526L1ECSaveBtnIsAdd",name:Se(V?"Update":"Save"),disabled:!1,onClick:()=>{Ne(F.SSGenNarration)?Ne(F.SSGenGenCostAmount)?e.parentId&&0!=e.parentId?G.ConfirmAlert(r().createElement(me(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Se("Are you sure?"),onConfirm:()=>Me(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Se("Yes"),cancelBtnText:Se("Cancel"),showCancel:!0},Se(V?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[Se("Please select the ")+" "+pe("PPMSSCreationWorkOrderID")]}):G.alert({open:!0,color:"warning",message:[Se("Please enter the")+""+pe("SSGenGenCostAmount")]}):G.alert({open:!0,color:"warning",message:[Se("Please enter the")+""+pe("SSGenNarration")]})}}):null,!e.createEasy&&r().createElement(I.Z,{frmctrlid:"fld526L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ge(),D(!1),G.EditClose(!0),G.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(f.Z,null,r().createElement("div",{id:"PPMSSGenCostDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSSGenCostDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSSGenCostDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:ft,"data-testid":F.SSGenNarration,SPName:"PPMSSGenCostDetails",FieldName:"SSGenNarration",tfLabel:pe("SSGenNarration"),frmctrlid:"fld526_21637",fieldorder:"1",onChange:e=>{fe(e,"SSGenNarration","text")},clear:e=>{e&&A({type:"text",name:"SSGenNarration",value:""})},value:F.SSGenNarration})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ne.Z,{json:ft,"data-testid":F.SSGenGenCostAmount,SPName:"PPMSSGenCostDetails",FieldName:"SSGenGenCostAmount",tfLabel:pe("SSGenGenCostAmount"),frmctrlid:"fld526_21638",fieldorder:"2",onChange:e=>{fe(e,"SSGenGenCostAmount","number")},clear:e=>{e&&A({type:"number",name:"SSGenGenCostAmount",number:0})},Iscurr:!0,value:F.SSGenGenCostAmount})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{"data-testid":F.PPMSSGeneralCostCode,json:ft,SPName:"PPMSSGenCostDetails",FieldName:"PPMSSGeneralCostCode",tfLabel:pe("PPMSSGeneralCostCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{G.ConfirmAlert(r().createElement(me(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ve(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Se("Yes"),cancelBtnText:Se("No"),showCancel:!0},Se("Do you want to update this record?")))})(t),onClick:()=>{$&&he(1,"","ClearAll"),J(!0)},frmctrlid:"fld526_21636",frmctrlidName:"PPMSSGeneralCostCode",fieldorder:"2",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{$&&he(e,t,"PPMSSGeneralCostCode"),fe(t,"PPMSSGeneralCostCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||J(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:F.PPMSSGeneralCostCode,loading:B,clear:e=>{e&&(A({type:"text",name:"PPMSSGeneralCostCode",value:""}),J(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ce.Z,{json:ft,id:F.PPMSSCreationWorkOrderID,"data-testid":F.PPMSSCreationWorkOrderID,value:F.SSCreWorkOrder,SPName:"PPMSSGenCostDetails",FieldName:"PPMSSCreationWorkOrderID",tfLabel:pe("PPMSSCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>fe(e,"PPMSSCreationWorkOrderID","select"),onChange:(t,a)=>{((t,a,l,r,n,i)=>{const o=u.v.Api+"FP526S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.parentId?Number(e.parentId):0,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:"0"==F.ContractID?null:F.ContractID,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:"0"==F.LocalityID?null:F.LocalityID,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==F.BuildingID?null:F.BuildingID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==F.FloorID?null:F.FloorID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:"0"==F.SpotID?null:F.SpotID,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==F.DivisionID?null:F.DivisionID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==F.DisciplineID?null:F.DisciplineID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==F.FrequencyID?null:F.FrequencyID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==F.PPMBusinessFlowID?null:F.PPMBusinessFlowID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==F.PPMFixonBusinessFlowID?null:F.PPMFixonBusinessFlowID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==F.PPMStageID?null:F.PPMStageID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:t,p51:10,p52:l,p53:null,p54:null,p55:localStorage.getItem("UserGroupID"),p56:localStorage.getItem("userid")}};Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);(0,c.Z)(o,d,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;undefined,R(1==t?e>0?l:[]:L.concat(l)),W(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))})(t,a,"PPMSSCreationWorkOrderIDPK")},KeyBack:e=>{F.PPMSSCreationWorkOrderID},fieldorder:"2",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{CreateEasy("521",_,q,G,Y)},Tabledialog:()=>(AdvanceSearch("521","PPMSSCreationWorkOrderID",kt,bt(),fe,t),!1),loading:B,clear:e=>{e&&F.PPMSSCreationWorkOrderID}})))),r().createElement("div",{id:"PPMSSGenCostDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSGenCostDetailsSideBar").style.width="0",void T(!1))},"×"),N&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))})),Tt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,S]=(0,l.useState)(!0),[C,P]=(0,l.useState)(e.showDetail),[D,g]=(0,l.useState)(""),[M,E]=r().useState(!1),[v,N]=r().useState(""),[T,k]=r().useState(!1),b=(0,l.useContext)(kt),{cstate:w,cdispatch:O}=bt(),[F,A]=(0,l.useState)(!1),[x,B]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{w.editData.length>0&&(s(w.editData),E(!1),O({type:"PrimaryId",payload:w.editData[0].PPMSSGeneralCostDetIDPK}))}),[w.editData]),(0,l.useEffect)((()=>{w.showTableview&&K(w.showTableview)}),[w.showTableview]),(0,l.useEffect)((()=>{S(w.ExpandDetailValue)}),[w.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP526S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:1,p51:10,p52:w.IsDraft?"DraftPPMSSGeneralCostDetID":"PPMSSGeneralCostDetID",p53:null,p54:null,p55:localStorage.getItem("UserGroupID"),p56:localStorage.getItem("userid")}};(0,p.Z)(0).then((e=>{(0,c.Z)(l,r,e).then((e=>{b.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const G=e=>Z?.[e]?Z?.[e]:e,_=e=>w.language?.[e]?w.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{N(T?Object.assign(...i.filter((e=>e.PPMSSGeneralCostDetIDPK==t)).map((e=>e))):w.editData),E(!l&&e)};return r().createElement("div",null,r().createElement(h.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&S(!m)}},!M&&r().createElement(z.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},w.IsDraft?G("Draft"):"",_("PPMSSGenCostDetails"),e.viewonly?" ":"("+w.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&w.AccessRights.IsAdd?r().createElement(o.Z,{name:G("Add"),frmctrlid:"fld526L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{b.hideAddBtn(!0),O({type:"editData",payload:[]}),O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&w.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld526L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):w.IsDraft&&w.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld526L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(I.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld526L1VCCloseBtn",onClick:()=>{S(!1),b.hideAddBtn(!1),T&&(O({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(f.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},M==="panel"+l?r().createElement(Nt,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(fe.Z,{tableName:"PPMSSGenCostDetails",tableID:526,parentID:t.PPMSSGeneralCostDetIDPK,fldid:"fld526L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:G,title:"10.0.0.59-3:08:17 PM-18-7[526]"}))))))))})),kt=(0,l.createContext)(),bt=()=>{const e=(0,l.useContext)(kt);if(void 0===e)throw new Error("useCont must be used within  PPMSSGenCostDetailsContext Provider");return e},wt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,S]=(0,l.useState)(!0),[c,u]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[P,y]=(0,l.useState)(0),[D,g]=(0,l.useReducer)(ke.D,ke.E),[I,M]=(0,l.useState)(""),[E,h]=(0,l.useState)([]),[f,v]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSSGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainTable").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSGenCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{S(!0),document.getElementById("divPPMSSGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainTable").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSGenCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{h([]),document.getElementById("divPPMSSGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSSGenCostDetailsEntryTable").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainEntry").style.display="block",document.getElementById("PPMSSGenCostDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSGenCostDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSGenCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSGenCostDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,p.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),y(t.length),T(e)}))}))}),[]);const T=t=>{g({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(kt.Provider,{value:{cstate:D,cdispatch:g,ContextApi:bt,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==P&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,E),h([])},EditClose:e=>N(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSSGenCostDetails").style.width="50%",document.getElementById("divPPMSSGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainTable").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSSGenCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSGenCostDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSGenCostDetails").style.display="block",document.getElementById("overlayimgAttPPMSSGenCostDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSSGenCostDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSSGenCostDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSSGenCostDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSGenCostDetails-Entry",style:{width:"100%"}},0!==P?r().createElement(Tt,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Te.Z,{ref:s,menurefID:526,fileId:"LogoImgPPMSSGenCostDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSGenCostDetails",frmctrlid:"PvwIm_526_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSSGenCostDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Nt,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Te.Z,{ref:s,menurefID:526,fileId:"LogoImgPPMSSGenCostDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSGenCostDetails",frmctrlid:"PvwIm_526_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),h(e)},clearTempData:D.Add})),r().createElement("div",{id:"PPMSSGenCostDetails-MainTable"},0!==P?r().createElement(ht,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Ne.Z,{ImgAttachment:e=>N(),menurefID:526,fileId:"AttImgPPMSSGenCostDetails",imgid:"overlayimgAttPPMSSGenCostDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSSGenCostDetails",ref:d,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_526_L1_",timglist:e=>{s.current.timglist(e),h(e)},clearTempData:D.Add}))),r().createElement("div",{id:"PPMSSGenCostDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),f&&r().createElement(we(),{openDialog:f,closeDialog:e=>v(e),formID:526,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Ot=a(47135),Ft=a(60722),At=a(52743);const xt=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const a=(0,n.useDispatch)(),o=(0,l.useRef)(),[d,g]=(0,l.useState)([]),[I,M]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!0),[v,N]=(0,l.useState)(e.showDetail),[T,k]=(0,l.useState)(!1),b=(0,l.useContext)(S.PPMSSCreationWorkOrderContext),{cstate:w,cdispatch:F}=(0,S.ContextApi)(),[A,x]=(0,l.useState)(!1),[B,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)(!1),[K,Z]=(0,l.useState)(0),[G,z]=(0,l.useState)(""),[_,q]=(0,l.useState)(""),[V,H]=(0,l.useState)(null),[U,j]=(0,l.useState)(""),[Y,X]=(0,l.useState)([]),[Q,$]=(0,l.useState)({IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!1,IsPrint:!0,IsExport:!0});let J=(0,y.Z)();async function ee(t,a,l){G&&z(t),b.loading(!0);let r=u.v.Api+"FPN521S3/",n={data:{p1:t||w.PrimaryId,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:e.Dialogview?"1":null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:1,p120:10,p121:l,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};var i={};0==w.token.length&&await(0,p.Z)(0).then((e=>{i=e})),await(0,c.Z)(r,n,0==w.token.length?i:w.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=e.Output.data[0][521][0];g(t),Z(e.Output.data[0][521][0].ViewCancelCheck);let a=e.Output.data[0];delete a[521];const l=Object.values(a).flat().sort(((e,t)=>e.orderno-t.orderno));X(l),b.loading(!1)}else b.loading(!1),b.alert({open:!0,color:"warning",message:["No record found"]})}))}(0,l.useEffect)((()=>{e.l4viewonly?g(e.data):e.viewonly?ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID"):(g(w.PrimaryData),a({type:"PPMSSCreationWorkOrder521",PPMSSCreationWorkOrderPPMSSCreationWorkOrderID:w.PrimaryData.PPMSSCreationWorkOrderIDPK}))}),[e.data]),(0,l.useEffect)((()=>w.PrimaryData.length>0||w.PrimaryId?(ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID"),!1):void 0),[w.PrimaryData,w.PrimaryId]),(0,l.useEffect)((()=>{f(e.ExpandDetailValue)}),[e.ExpandDetailValue]),(0,l.useEffect)((()=>{e.inboxdata&&Object.keys(e.inboxdata).length>0&&(f(!0),ee(e.inboxdata.id,e.inboxdata.token,"PPMSSCreationWorkOrderID"),W(!0))}),[e.inboxdata]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{f(!0),M(!1)},inboxprops:e=>{f(!0),ee(e.id,e.token,"PPMSSCreationWorkOrderID"),F({type:"PrimaryId",payload:e.id}),W(!0)}})));const te=()=>{R(!0)};return r().createElement("div",null,r().createElement(s.Z,null,r().createElement(m.Z,{xs:U?3:12,md:U?3:12,lg:U?3:12},r().createElement("div",{className:"gridcardl41A",id:"PPMSSCreationWorkOrderDiv"},r().createElement(s.Z,null,r().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},r().createElement(s.Z,{style:{marginBottom:"1%"}},r().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"ViewHeadingTitle2"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement("div",{id:"fld521L4VCMdOutlineArrowBackIosNew"},r().createElement(D.aQX,{className:"BackBtnIcon",onClick:()=>{b.ShowTableDiv(!1),b.add()}}),"Primary Details")),r().createElement("div",{className:"iconstyle displayFlex"},B&&r().createElement(C.Z,{className:"ApprBtnCommon",name:"Approve",disabled:!1,onClick:()=>{te()}}),B&&r().createElement(C.Z,{className:"RejBtnCommon",name:"Reject",disabled:!1,onClick:()=>{te()}}),r().createElement("div",{id:"fld521L4VCRefreshIcon",onClick:()=>{ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}},r().createElement(i.ZP,{title:"Refresh"},r().createElement("span",null," ",r().createElement(P.Z,null)," "))),w.PrimaryId?r().createElement(E(),{id:521,cstate:w,cdispatch:F,context:b,parentId:w.PrimaryId,parentData:{},Approval:e=>b.Approval(e),sentToAppr:"1"==w.AccessRights.IsApproval,model:"IsView"}):null,U&&r().createElement("div",{id:"fld521L4VCFullscreen",onClick:()=>U&&j("")},r().createElement(i.ZP,{title:"Expand"},r().createElement("span",null,r().createElement(O.$4j,{style:{width:"18px",height:"18px",marginTop:"3px"}})))))))),r().createElement(At.Z,{tableName:"PPMSSCreationWorkOrder",tableID:521,parentID:w.PrimaryId,fldid:"fld521L4VCContainer",OpenSlideComponent:function(e,t){},index:0,val:d,tf:e=>w.language?.[e]?w.language[e]:e,t:e=>J?.[e]?J[e]:e,cardName:U,SubCardData:Y,SubformsLink:function(e){j(e.name),$((t=>({...t,IsAdd:e.isNestAdd,IsEdit:e.isNestEdit})))},alertmsg:e=>b.alert(e),title:"10.0.0.46-6:37:15 PM-31-5[521]"}))))),U&&r().createElement(m.Z,{sm:9,md:9,xs:9,className:"lstscroll",style:{height:"auto"}},"PPMSSEmployeeDetails"==U&&r().createElement(Ae,{AccessRights:Q,loading:e=>b.loading(e),parentData:d,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}),"PPMSSCreationWorkOrderDetails"==U&&r().createElement(et,{AccessRights:Q,loading:e=>b.loading(e),parentData:d,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}),"PPMSSCreationWorkOrderMatDetails"==U&&r().createElement(mt,{AccessRights:Q,loading:e=>b.loading(e),parentData:d,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}),"PPMSSCostDetails"==U&&r().createElement(It,{AccessRights:Q,loading:e=>b.loading(e),parentData:d,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}),"PPMSSGenCostDetails"==U&&r().createElement(wt,{AccessRights:Q,loading:e=>b.loading(e),parentData:d,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}),"PPMSSVendorInvoiceDetails"==U&&r().createElement(Ot.ZP,{AccessRights:Q,loading:e=>b.loading(e),parentData:d,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}),"PPMSSTechAddOn"==U&&r().createElement(Ft.ZP,{AccessRights:Q,loading:e=>b.loading(e),parentData:d,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSSCreationWorkOrderID")}))))}))},1238:(e,t,a)=>{a.d(t,{A:()=>l});const l={EnterKeyValues:{PPMSSCreationWorkOrder:["SSCreWorkOrder","SSCreWoDateTime","ContractName","LocalityName","BuildingName","FloorName","SpotName","DivisionName","DisciplineName","FrequencyName","SSCreSLAHours","PPMStageName","PPMSSCreationAssetCode","SSCreGeneratedTtm","SSCreActualDate","SSCreWoCompletedDate","SSCreMaintenanceHours","IsSSCreWithDraw","SSCreWithDrawRemarks","SSCreWithDrawEmpKey","IsSSCreReschedule","SSCreRescheduleRemarks","SSCreReschduleEmpKey","IsSSCreRework","SSCreReworkRemarks","SSCreReworkEmpKey","SSCrePPMLattitude","SSCrePPMLongitude","IsSSCreTechManual","SSCreXCreationAssetKey","SSCreXWorkOrder","SSCreXWoDate","SSCreChargeLedgerKey","SSTechStartDateTime","SSTechEndDateTime","SSCreCostLedgerKey","SSTechName","SSTechKeys","HierarchyDetailsKey","FlowDisplayName","FixonBusinessFlowName"]},Label:{PPMSSCreationWorkOrder:{SSCreWorkOrder:["PPMSSCreationAssetCode"],SSCreWoDateTime:["PPMSSCreationAssetCode"],ContractID:["ContractCode","ContractName"],LocalityID:["LocalityCode","LocalityName"],BuildingID:["BuildingCode","BuildingName"],FloorID:["FloorCode","FloorName"],SpotID:["PPMSSCreationAssetCode"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName"],FrequencyID:["FrequencyCode","FrequencyName"],SSCreSLAHours:["PPMSSCreationAssetCode"],PPMStageID:["PPMSSCreationAssetCode"],PPMSSCreationAssetCode:["PPMSSCreationAssetCode"],SSCreGeneratedTtm:["PPMSSCreationAssetCode"],SSCreActualDate:["PPMSSCreationAssetCode"],SSCreWoCompletedDate:["PPMSSCreationAssetCode"],SSCreMaintenanceHours:["PPMSSCreationAssetCode"],IsSSCreWithDraw:["PPMSSCreationAssetCode"],SSCreWithDrawRemarks:["PPMSSCreationAssetCode"],SSCreWithDrawEmpKey:["PPMSSCreationAssetCode"],IsSSCreReschedule:["PPMSSCreationAssetCode"],SSCreRescheduleRemarks:["PPMSSCreationAssetCode"],SSCreReschduleEmpKey:["PPMSSCreationAssetCode"],IsSSCreRework:["PPMSSCreationAssetCode"],SSCreReworkRemarks:["PPMSSCreationAssetCode"],SSCreReworkEmpKey:["PPMSSCreationAssetCode"],SSCrePPMLattitude:["PPMSSCreationAssetCode"],SSCrePPMLongitude:["PPMSSCreationAssetCode"],IsSSCreTechManual:["PPMSSCreationAssetCode"],SSCreXCreationAssetKey:["PPMSSCreationAssetCode"],SSCreXWorkOrder:["PPMSSCreationAssetCode"],SSCreXWoDate:["PPMSSCreationAssetCode"],SSCreChargeLedgerKey:["PPMSSCreationAssetCode"],SSTechStartDateTime:["PPMSSCreationAssetCode"],SSTechEndDateTime:["PPMSSCreationAssetCode"],SSCreCostLedgerKey:["PPMSSCreationAssetCode"],SSTechName:["PPMSSCreationAssetCode"],SSTechKeys:["PPMSSCreationAssetCode"],HierarchyDetailsKey:["PPMSSCreationAssetCode"],PPMBusinessFlowID:["PPMSSCreationAssetCode"],PPMFixonBusinessFlowID:["PPMSSCreationAssetCode"]}},LabelHeader:{PPMSSCreationWorkOrder:{SSCreWorkOrder:["PPMSSCreationAssetCode"],SSCreWoDateTime:["PPMSSCreationAssetCode"],ContractID:["Contract Code","Contract Name"],LocalityID:["Location Code","Location Name"],BuildingID:["Building Code","Building Name"],FloorID:["Floor Code","Floor Name"],SpotID:["PPMSSCreationAssetCode"],DivisionID:["Division Code","Division Name"],DisciplineID:["Discipline Code","Discipline Name"],FrequencyID:["Frequency Code","Frequency Name"],SSCreSLAHours:["PPMSSCreationAssetCode"],PPMStageID:["PPMSSCreationAssetCode"],PPMSSCreationAssetCode:["PPMSSCreationAssetCode"],SSCreGeneratedTtm:["PPMSSCreationAssetCode"],SSCreActualDate:["PPMSSCreationAssetCode"],SSCreWoCompletedDate:["PPMSSCreationAssetCode"],SSCreMaintenanceHours:["PPMSSCreationAssetCode"],IsSSCreWithDraw:["PPMSSCreationAssetCode"],SSCreWithDrawRemarks:["PPMSSCreationAssetCode"],SSCreWithDrawEmpKey:["PPMSSCreationAssetCode"],IsSSCreReschedule:["PPMSSCreationAssetCode"],SSCreRescheduleRemarks:["PPMSSCreationAssetCode"],SSCreReschduleEmpKey:["PPMSSCreationAssetCode"],IsSSCreRework:["PPMSSCreationAssetCode"],SSCreReworkRemarks:["PPMSSCreationAssetCode"],SSCreReworkEmpKey:["PPMSSCreationAssetCode"],SSCrePPMLattitude:["PPMSSCreationAssetCode"],SSCrePPMLongitude:["PPMSSCreationAssetCode"],IsSSCreTechManual:["PPMSSCreationAssetCode"],SSCreXCreationAssetKey:["PPMSSCreationAssetCode"],SSCreXWorkOrder:["PPMSSCreationAssetCode"],SSCreXWoDate:["PPMSSCreationAssetCode"],SSCreChargeLedgerKey:["PPMSSCreationAssetCode"],SSTechStartDateTime:["PPMSSCreationAssetCode"],SSTechEndDateTime:["PPMSSCreationAssetCode"],SSCreCostLedgerKey:["PPMSSCreationAssetCode"],SSTechName:["PPMSSCreationAssetCode"],SSTechKeys:["PPMSSCreationAssetCode"],HierarchyDetailsKey:["PPMSSCreationAssetCode"],PPMBusinessFlowID:["PPMSSCreationAssetCode"],PPMFixonBusinessFlowID:["PPMSSCreationAssetCode"]}},Property:{PPMSSCreationWorkOrder:{SSCreWorkOrder:{id:"fld521_21518",labelID:"SSCreWorkOrder",maxLength:"20",labelname:"W.O.No.",frmctrlid:"fld521_21518",frmctrlidname:"SSCreWorkOrder",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreWoDateTime:{id:"fld521_21519",labelID:"SSCreWoDateTime",maxLength:"20",labelname:"W.O. Date",frmctrlid:"fld521_21519",frmctrlidname:"SSCreWoDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld521_21549",clearID:"PPMSSCreationWorkOrderContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",fieldOrder:"3",frmctrlid:"fld521_21549",frmctrlidname:"ContractID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},LocalityID:{id:"fld521_21550",clearID:"PPMSSCreationWorkOrderLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location ",fielddisplayname:"LocalityName",fieldOrder:"4",frmctrlid:"fld521_21550",frmctrlidname:"LocalityID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},BuildingID:{id:"fld521_21551",clearID:"PPMSSCreationWorkOrderBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"Building",fielddisplayname:"BuildingName",fieldOrder:"5",frmctrlid:"fld521_21551",frmctrlidname:"BuildingID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FloorID:{id:"fld521_21552",clearID:"PPMSSCreationWorkOrderFloorNameClear",type:"select",labelID:"FloorIDPK",labelname:"Floor",fielddisplayname:"FloorName",fieldOrder:"6",frmctrlid:"fld521_21552",frmctrlidname:"FloorID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},SpotID:{id:"fld521_21553",clearID:"PPMSSCreationWorkOrderSpotNameClear",type:"select",labelID:"SpotIDPK",labelname:"Spot",fielddisplayname:"SpotName",fieldOrder:"1",frmctrlid:"fld521_21553",frmctrlidname:"SpotID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},DivisionID:{id:"fld521_21554",clearID:"PPMSSCreationWorkOrderDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",fieldOrder:"2",frmctrlid:"fld521_21554",frmctrlidname:"DivisionID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},DisciplineID:{id:"fld521_21555",clearID:"PPMSSCreationWorkOrderDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",fieldOrder:"3",frmctrlid:"fld521_21555",frmctrlidname:"DisciplineID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FrequencyID:{id:"fld521_21556",clearID:"PPMSSCreationWorkOrderFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",fieldOrder:"4",frmctrlid:"fld521_21556",frmctrlidname:"FrequencyID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},SSCreSLAHours:{id:"fld521_21524",labelID:"SSCreSLAHours",maxLength:"20",labelname:"SLA Duration",frmctrlid:"fld521_21524",frmctrlidname:"SSCreSLAHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMStageID:{id:"fld521_21559",clearID:"PPMSSCreationWorkOrderPPMStageNameClear",type:"select",labelID:"PPMStageIDPK",labelname:"Stage",fielddisplayname:"PPMStageName",fieldOrder:"6",frmctrlid:"fld521_21559",frmctrlidname:"PPMStageID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMSSCreationAssetCode:{id:"fld521_21516",labelID:"PPMSSCreationAssetCode",maxLength:"50",labelname:"PPMSSCreationAssetCode",frmctrlid:"fld521_21516",frmctrlidname:"PPMSSCreationAssetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreGeneratedTtm:{id:"fld521_21520",labelID:"SSCreGeneratedTtm",maxLength:"",labelname:"SSCreGeneratedTtm",frmctrlid:"fld521_21520",frmctrlidname:"SSCreGeneratedTtm",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreActualDate:{id:"fld521_21521",labelID:"SSCreActualDate",maxLength:"",labelname:"SSCreActualDate",frmctrlid:"fld521_21521",frmctrlidname:"SSCreActualDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreWoCompletedDate:{id:"fld521_21522",labelID:"SSCreWoCompletedDate",maxLength:"",labelname:"CompletedDate",frmctrlid:"fld521_21522",frmctrlidname:"SSCreWoCompletedDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreMaintenanceHours:{id:"fld521_21525",labelID:"SSCreMaintenanceHours",maxLength:"",labelname:" MaintenanceHours",frmctrlid:"fld521_21525",frmctrlidname:"SSCreMaintenanceHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSSCreWithDraw:{id:"fld521_21526",labelID:"IsSSCreWithDraw",maxLength:"",labelname:"IsSSCreWithDraw",frmctrlid:"fld521_21526",frmctrlidname:"IsSSCreWithDraw",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreWithDrawRemarks:{id:"fld521_21527",labelID:"SSCreWithDrawRemarks",maxLength:"-1",labelname:"WithDrawRemarks",frmctrlid:"fld521_21527",frmctrlidname:"SSCreWithDrawRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreWithDrawEmpKey:{id:"fld521_21528",labelID:"SSCreWithDrawEmpKey",maxLength:"",labelname:"SSCreWithDrawEmpKey",frmctrlid:"fld521_21528",frmctrlidname:"SSCreWithDrawEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSSCreReschedule:{id:"fld521_21529",labelID:"IsSSCreReschedule",maxLength:"",labelname:"IsSSCreReschedule",frmctrlid:"fld521_21529",frmctrlidname:"IsSSCreReschedule",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreRescheduleRemarks:{id:"fld521_21530",labelID:"SSCreRescheduleRemarks",maxLength:"-1",labelname:"RescheduleRemarks",frmctrlid:"fld521_21530",frmctrlidname:"SSCreRescheduleRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreReschduleEmpKey:{id:"fld521_21531",labelID:"SSCreReschduleEmpKey",maxLength:"10",labelname:"SSCreReschduleEmpKey",frmctrlid:"fld521_21531",frmctrlidname:"SSCreReschduleEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSSCreRework:{id:"fld521_21532",labelID:"IsSSCreRework",maxLength:"",labelname:"IsSSCreRework",frmctrlid:"fld521_21532",frmctrlidname:"IsSSCreRework",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreReworkRemarks:{id:"fld521_21533",labelID:"SSCreReworkRemarks",maxLength:"-1",labelname:"SSCreReworkRemarks",frmctrlid:"fld521_21533",frmctrlidname:"SSCreReworkRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreReworkEmpKey:{id:"fld521_21534",labelID:"SSCreReworkEmpKey",maxLength:"",labelname:"SSCreReworkEmpKey",frmctrlid:"fld521_21534",frmctrlidname:"SSCreReworkEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCrePPMLattitude:{id:"fld521_21535",labelID:"SSCrePPMLattitude",maxLength:"-1",labelname:"SSCrePPMLattitude",frmctrlid:"fld521_21535",frmctrlidname:"SSCrePPMLattitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCrePPMLongitude:{id:"fld521_21536",labelID:"SSCrePPMLongitude",maxLength:"-1",labelname:"SSCrePPMLongitude",frmctrlid:"fld521_21536",frmctrlidname:"SSCrePPMLongitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSSCreTechManual:{id:"fld521_21537",labelID:"IsSSCreTechManual",maxLength:"",labelname:"IsSSCreTechManual",frmctrlid:"fld521_21537",frmctrlidname:"IsSSCreTechManual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreXCreationAssetKey:{id:"fld521_21540",labelID:"SSCreXCreationAssetKey",maxLength:"",labelname:"SSCreXCreationAssetKey",frmctrlid:"fld521_21540",frmctrlidname:"SSCreXCreationAssetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreXWorkOrder:{id:"fld521_21541",labelID:"SSCreXWorkOrder",maxLength:"-1",labelname:"SSCreXWorkOrder",frmctrlid:"fld521_21541",frmctrlidname:"SSCreXWorkOrder",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreXWoDate:{id:"fld521_21542",labelID:"SSCreXWoDate",maxLength:"",labelname:"SSCreXWoDate",frmctrlid:"fld521_21542",frmctrlidname:"SSCreXWoDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreChargeLedgerKey:{id:"fld521_21543",labelID:"SSCreChargeLedgerKey",maxLength:"",labelname:"SSCreChargeLedgerKey",frmctrlid:"fld521_21543",frmctrlidname:"SSCreChargeLedgerKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSTechStartDateTime:{id:"fld521_37369",labelID:"SSTechStartDateTime",maxLength:"",labelname:"TechStart DateTime",frmctrlid:"fld521_37369",frmctrlidname:"SSTechStartDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSTechEndDateTime:{id:"fld521_37370",labelID:"SSTechEndDateTime",maxLength:"",labelname:"TechEnd DateTime",frmctrlid:"fld521_37370",frmctrlidname:"SSTechEndDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSCreCostLedgerKey:{id:"fld521_21544",labelID:"SSCreCostLedgerKey",maxLength:"",labelname:"SSCreCostLedgerKey",frmctrlid:"fld521_21544",frmctrlidname:"SSCreCostLedgerKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSTechName:{id:"fld521_37371",labelID:"SSTechName",maxLength:"100",labelname:"Technician Name",frmctrlid:"fld521_37371",frmctrlidname:"SSTechName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SSTechKeys:{id:"fld521_37368",labelID:"SSTechKeys",maxLength:"",labelname:"",frmctrlid:"fld521_37368",frmctrlidname:"SSTechKeys",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},HierarchyDetailsKey:{id:"fld521_21546",labelID:"HierarchyDetailsKey",maxLength:"",labelname:"HierarchyDetailsKey",frmctrlid:"fld521_21546",frmctrlidname:"HierarchyDetailsKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMBusinessFlowID:{id:"fld521_21557",clearID:"PPMSSCreationWorkOrderFlowDisplayNameClear",type:"select",labelID:"PPMBusinessFlowIDPK",labelname:"PPMBusinessFlowID",fielddisplayname:"FlowDisplayName",fieldOrder:"1",frmctrlid:"fld521_21557",frmctrlidname:"PPMBusinessFlowID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMFixonBusinessFlowID:{id:"fld521_21558",clearID:"PPMSSCreationWorkOrderFixonBusinessFlowNameClear",type:"select",labelID:"PPMFixonBusinessFlowIDPK",labelname:"PPMFixonBusinessFlowID",fielddisplayname:"FixonBusinessFlowName",fieldOrder:"1",frmctrlid:"fld521_21558",frmctrlidname:"PPMFixonBusinessFlowID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMSSCreationWorkOrder:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],FloorID:["FloorCode","FloorName","BuildingName","LocalityName"],SpotID:["SpotCode","SpotName","LocalityName","BuildingName","FloorName","AssWingName"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"],PPMStageID:["PPMStageName","StageSeqNo","IsActive","CreatedTtm","UpdatedTtm"],PPMBusinessFlowID:["FlowCode","FlowDisplayName","BriefDetails"],PPMFixonBusinessFlowID:["PPMFixonBusinessFlowCode","FixonBusinessFlowName","IsActive","IsDraft","CreatedTtm"]}}}}}]);