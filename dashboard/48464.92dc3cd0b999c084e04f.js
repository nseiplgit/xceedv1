"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[48464],{48464:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(92950),s=a.n(n),i=(a(71168),a(49375)),o=a(14439),l=a(27848),c=a(40900),r=a(24522),u=a(25108);const d=[{name:"Contract",id:0,active:"btnactvtab",width:"25%",IsConflict:"0",count:0},{name:"ContractType",id:1,active:"",width:"25%",IsConflict:"0",count:0},{name:"ConfigLocation",id:2,active:"",width:"25%",IsConflict:"0",count:0},{name:"ConfigServiceType",id:3,active:"",width:"25%",IsConflict:"0",count:0},{name:"ConfigAsset",id:4,active:"",width:"25%",IsConflict:"0",count:0}],m=function(e){const{classes:t}=e,a=(0,n.useRef)(null),[m,g]=(0,n.useState)(""),[f,b]=(0,n.useState)(""),[p,C]=(0,n.useState)([]),[h,y]=(0,n.useState)([]),[S,v]=(0,n.useState)([]),[E,I]=(0,n.useState)([]),[T,w]=(0,n.useState)([]),[M,D]=(0,n.useState)([]),[N,B]=(0,n.useState)([]),[O,x]=(0,n.useState)([]),[k,Z]=(0,n.useState)([]),[_,F]=(0,n.useState)([]),[L,A]=(0,n.useState)(0),[V,R]=(0,n.useState)([]),[j,U]=(0,n.useState)([]),[K,P]=(0,n.useState)([]),[q,z]=(0,n.useState)([]),[G,H]=(0,n.useState)([]),[J,Q]=(0,n.useState)(d);var W=[...d];function X(t){if("200"!=t.Output.status.code)return e.loading(!1),e.alertmsg({open:!0,color:"error",message:[t.Output.status.message]}),!1;{a.current.conflictStage(),e.loading(!0);const n={Contract:{setter:R},ContractType:{setter:U},NewContractType:{setter:U},ConfigLocation:{setter:P},ConfigServiceType:{setter:H},ConfigAsset:{setter:z}};Object.keys(t.Output.data).forEach((e=>{const a=t.Output.data[e],s=a.filter((e=>"1"===e.IsConflict));s.length>0&&Y(0,s.length),e in n&&n[e].setter(a)})),e.loading(!1)}}const Y=(e,t)=>{const a=d.filter((t=>t.id==e)),n={name:a[0].name,id:a[0].id,active:a[0].active,width:a[0].width,IsConflict:"1",count:t},s=[...W],i=s.findIndex((t=>t.id==e)),o=s[i];s.splice(i,1,{...o,...n}),W=s,Q(s)};return s().createElement("div",null,s().createElement("div",{id:"ContractMig-MainDiv",className:"MainDivStyles displayFlex"},s().createElement("div",{id:"ContractMig-MainEntry",className:"Maincontent",style:{width:"100%"}},s().createElement(o.Z,null,s().createElement(l.Z,{sm:12},s().createElement(i.Z,{MigType:"ContractMigration",alertmsg:t=>e.alertmsg(t),data:e=>X(e),conflictFinalData:{Contract:V,ContractType:j,ConfigLocation:K,ConfigServiceType:G,ConfigAsset:q},reset:()=>(R([]),U([]),P([]),H([]),z([]),g(""),b(""),void Q(d)),filename:e=>g(e),fileData:e=>b(e),importSave:t=>function(t){if(!f)return e.alertmsg({open:!0,color:"error",message:["Kindly Upload file to Import"]}),!1;e.loading(!0);let a=new FileReader;a.readAsDataURL(f[0]),a.onload=()=>{let a=c.v.Api+"uploadExcel/",n=new FormData;n.append("uploadExcel",f[0]),fetch(a,{method:"POST",headers:{"x-userid":localStorage.getItem("userid"),"mig-type":"ContractMigration","mig-btn-type":t,FORM_ID:1},body:n}).then((e=>e.json())).then((a=>{"200"==a.Output.status.code?(X(a),e.loading(!1),e.alertmsg({open:!0,color:"Success",message:[a.Output.status.message]}),"process"!=t&&(g(""),b(""))):(e.loading(!1),e.alertmsg({open:!0,color:"error",message:[a.Output.status.message]}))})).catch((t=>{e.loading(!1),u.error(t)}))}}(t),NameFile:m,excelfile:c.v.excel+"ContractMigration.xlsx",SheetCount:11,ref:a,importdisabled:J.filter((e=>"1"==e.IsConflict)).length>0}))),s().createElement("div",{className:"ContractMig-formtabs formtabs"},J.map(((e,t)=>s().createElement("button",{key:t,disabled:!1,style:{width:e.width,background:"1"==e.IsConflict?"#fad6a5":"#fff"},className:e.active+" secondaryMenuBtn ",onClick:()=>function(e){var t=J.length;for(let e=0;e<t;e++)document.getElementsByClassName("ContractMig-formtabs")[0].getElementsByTagName("button")[e].classList.remove("btnactvtab");document.getElementsByClassName("ContractMig-formtabs")[0].getElementsByTagName("button")[e].classList.add("btnactvtab"),A(e)}(e.id)},e.name,s().createElement("span",null," "),s().createElement("span",null,Number(e.count)>0?"("+e.count+")":""))))),0==L&&s().createElement(r.Z,{tableData:V,TableVisibleItem:p,TableBodyItem:h}),1==L&&s().createElement(r.Z,{tableData:j,TableVisibleItem:S,TableBodyItem:E}),2==L&&s().createElement(r.Z,{tableData:K,TableVisibleItem:T,TableBodyItem:M}),3==L&&s().createElement(r.Z,{tableData:G,TableVisibleItem:N,TableBodyItem:O}),4==L&&s().createElement(r.Z,{tableData:q,TableVisibleItem:k,TableBodyItem:_}))))}}}]);