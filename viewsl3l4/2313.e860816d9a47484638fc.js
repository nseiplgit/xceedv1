/*! For license information please see 2313.e860816d9a47484638fc.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[2313,7164,6408],{45332:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(22122),n=a(81253),r=a(85061),i=a(92950),o=a(86010),u=a(79437),s=a(52543),m=a(83711),d=function(e,t){var a,l,n,i;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,r.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,r.Z)(t.imgFullHeight.split(" ")))):((n=e.classList).remove.apply(n,(0,r.Z)(t.imgFullHeight.split(" "))),(i=e.classList).add.apply(i,(0,r.Z)(t.imgFullWidth.split(" ")))))},p=i.forwardRef((function(e,t){var a=e.children,r=e.classes,s=e.className,p=(e.cols,e.component),c=void 0===p?"li":p,y=(e.rows,(0,n.Z)(e,["children","classes","className","cols","component","rows"])),M=i.useRef(null);return i.useEffect((function(){!function(e,t){e&&(e.complete?d(e,t):e.addEventListener("load",(function(){d(e,t)})))}(M.current,r)})),i.useEffect((function(){var e=(0,u.Z)((function(){d(M.current,r)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[r]),i.createElement(c,(0,l.Z)({className:(0,o.default)(r.root,s),ref:t},y),i.createElement("div",{className:r.tile},i.Children.map(a,(function(e){return i.isValidElement(e)?"img"===e.type||(0,m.Z)(e,["Image"])?i.cloneElement(e,{ref:M}):e:null}))))}));const c=(0,s.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(p)},69685:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(22122),n=a(81253),r=a(92950),i=(a(59864),a(86010)),o=a(52543),u=r.forwardRef((function(e,t){var a=e.cellHeight,o=e.children,u=e.classes,s=e.className,m=e.cols,d=void 0===m?2:m,p=e.component,c=void 0===p?"ul":p,y=e.gap,M=void 0===y?4:y,D=e.rowHeight,g=void 0===D?180:D,R=e.spacing,I=e.style,C=(0,n.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),T=R||M,E=a||g;return r.createElement(c,(0,l.Z)({className:(0,i.default)(u.root,s),ref:t,style:(0,l.Z)({margin:-T/2},I)},C),r.Children.map(o,(function(e){if(!r.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return r.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/d*t,"%"),height:"auto"===E?"auto":E*a+T,padding:T/2},e.props.style)})})))}));const s=(0,o.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(u)},83173:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=i},92448:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},93657:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=i},53375:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i},85984:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=i},92381:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(40900),n=a(26537),r=a(61956),i=a(35131),o=a.n(i),u=a(25108);function s(e,t,a,i){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":n.Z.TokenIDPK,"x-tokenname":n.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return u.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",s={data:[{p1:0,p2:null,p3:i,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:o()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:o()().format("YYYY-MM-DD hh:mm:ss")}]};(0,n.Z)(0).then((t=>{(0,r.Z)(e,s,t).then((e=>{200==e[0].status.code?u.log(e,"RES"):u.log("Error")}))}))}}},8687:(e,t,a)=>{function l(e,t,a,l,n,r){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let i=e.Output.data[0];t({type:"IsDraft",payload:a}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:a}),n.ExpandDetail(!1),l?n.AddOpen(i[r],a):t({type:"editData",payload:[i]}),n.loading(!1)}}else n.loading(!1),n.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){n.loading(!1),n.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{m:()=>l})},61243:(e,t,a)=>{a.d(t,{kN:()=>Le,Ij:()=>Be,ZP:()=>Ke});var l=a(92950),n=a.n(l),r=(a(95866),a(45237)),i=a(36939),o=a(61201),u=a(59009),s=a(51673),m=(a(99058),a(80366)),d=a(282),p=a(868),c=a(78513),y=a(14439),M=a(27848),D=a(40900),g=a(64059),R=a(24038),I=a(8981),C=a(47516),T=a(86893),E=a(33681),N=a(63163),f=a(35131),S=a.n(f),v=a(61956),h=a(93657),b=a(53375),P=a(52663),w=a(66083),x=a(29525),k=a(66856),A=a(39803),B=a(99940),L=a(17149),K=a(62810),F=a(30553),G=a(92381),Z=a(25108);const O=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[r,i]=(0,l.useState)([]),[o,u]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[f,S]=(0,l.useState)(""),[v,O]=(0,l.useState)({}),[W,z]=(0,l.useState)(!0),[H,Q]=(0,l.useState)(!1),{cstate:_,cdispatch:j}=e.ContextApi?e.ContextApi:Le(),[V,U]=(0,l.useState)(1),[Y,q]=(0,l.useState)(0),[J,$]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,ne]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1),[oe,ue]=(0,l.useState)(""),[se,me]=(0,l.useState)(!1),[de,pe]=(0,l.useState)(!1),[ce,ye]=(0,l.useState)(!1),[Me,De]=(0,l.useState)(""),ge=(0,l.useRef)(null),[Re,Ie]=(0,l.useState)({});let Ce=localStorage.getItem("Language");const Te={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ee=(0,I.Z)();const Ne=e=>Ee[e]?Ee[e]:e,fe=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Te[Ce]];function Se(){O({}),ee({}),e.searchData({}),Q(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const ve=async(t,a,l,n)=>{$(!0);try{ge.current&&ge.current.abort();const o=new AbortController;ge.current=o;let m="",d=[],p={};await u((e=>(m=e.name,e))),await O((e=>(d=e,e))),await ee((e=>(p=e,e)));const c=D.v.Api+"FP847S3/",y={data:{p1:"MaterialReturnDetIDPK"==a?null:await xe(),p2:"MaterialReturnDetCode"==m&&l.length>0?"%"+l+"%":null,p3:"MRTWoDetDesc"==m&&l.length>0?"%"+l+"%":null,p4:"MRTQty"==m&&l.length>0?"%"+l+"%":null,p5:"MRTPrice"==m&&l.length>0?"%"+l+"%":null,p6:"MRTAmount"==m&&l.length>0?"%"+l+"%":null,p7:"MRTWAC"==m&&l.length>0?"%"+l+"%":null,p8:"MRTPPMKey"==m&&l.length>0?"%"+l+"%":null,p9:"MRTCCMKey"==m&&l.length>0?"%"+l+"%":null,p10:"MRTSplitQty"==m&&l.length>0?"%"+l+"%":null,p11:"MRTActualQty"==m&&l.length>0?"%"+l+"%":null,p12:"IsMRTActual"==m&&l.length>0?"%"+l+"%":null,p13:"IsMRTSplit"==m&&l.length>0?"%"+l+"%":null,p14:"IsMRTReject"==m&&l.length>0?"%"+l+"%":null,p15:"MRTRejectRemarks"==m&&l.length>0?"%"+l+"%":null,p16:"MRTBudgetCostMatDetKey"==m&&l.length>0?"%"+l+"%":null,p17:"MRTRemainingQty"==m&&l.length>0?"%"+l+"%":null,p18:"MRTReceiptedQty"==m&&l.length>0?"%"+l+"%":null,p19:null,p20:null,p21:e.parentId?e.parentId:"0",p22:"MaterialName"!=m&&d.MaterialName?d.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p23:e.Dialogview?"1":null,p24:null,p25:"p25"==m&&l.length>0?l:null,p26:null,p27:null,p28:null,p29:null,p30:"ContractName"!=m&&d.ContractName?d.ContractName.map((e=>e.ContractIDPK)).toString():null,p31:"ContractCode"==m&&l.length>0?"%"+l+"%":null,p32:"ContractName"==m&&l.length>0?"%"+l+"%":null,p33:"LocalityName"!=m&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p34:"LocalityCode"==m&&l.length>0?"%"+l+"%":null,p35:"LocalityName"==m&&l.length>0?"%"+l+"%":null,p36:"BuildingName"!=m&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p37:"BuildingCode"==m&&l.length>0?"%"+l+"%":null,p38:"BuildingName"==m&&l.length>0?"%"+l+"%":null,p39:"WareHouseName"!=m&&d.WareHouseName?d.WareHouseName.map((e=>e.MatWareHouseIDPK)).toString():null,p40:"WareHouseCode"==m&&l.length>0?"%"+l+"%":null,p41:"WareHouseName"==m&&l.length>0?"%"+l+"%":null,p42:"ProStoreName"!=m&&d.ProStoreName?d.ProStoreName.map((e=>e.ProStoreIDPK)).toString():null,p43:"ProStoreCode"==m&&l.length>0?"%"+l+"%":null,p44:"ProStoreName"==m&&l.length>0?"%"+l+"%":null,p45:"FirstName"!=m&&d.FirstName?d.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p46:"EmployeeCode"==m&&l.length>0?"%"+l+"%":null,p47:"FirstName"==m&&l.length>0?"%"+l+"%":null,p48:"EmpContactNo1"==m&&l.length>0?"%"+l+"%":null,p49:"EmpEmailOfficial"==m&&l.length>0?"%"+l+"%":null,p50:"DivisionName"!=m&&d.DivisionName?d.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p51:"DivisionCode"==m&&l.length>0?"%"+l+"%":null,p52:"DivisionName"==m&&l.length>0?"%"+l+"%":null,p53:"MaterialMINo"!=m&&d.MaterialMINo?d.MaterialMINo.map((e=>e.MaterialIssueIDPK)).toString():null,p54:"MaterialMINo"==m&&l.length>0?"%"+l+"%":null,p55:null,p56:null,p57:null,p58:"MatProcessTypeName"!=m&&d.MatProcessTypeName?d.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p59:"MatProcessTypeCode"==m&&l.length>0?"%"+l+"%":null,p60:"MatProcessTypeName"==m&&l.length>0?"%"+l+"%":null,p61:"MaterialReturnNo"==m&&l.length>0?"%"+l+"%":null,p62:null,p63:null,p64:null,p65:"MaterialTypeName"!=m&&d.MaterialTypeName?d.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p66:"MaterialTypeCode"==m&&l.length>0?"%"+l+"%":null,p67:"MaterialTypeName"==m&&l.length>0?"%"+l+"%":null,p68:"MatMainClassName"!=m&&d.MatMainClassName?d.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p69:"MatMainClassCode"==m&&l.length>0?"%"+l+"%":null,p70:"MatMainClassName"==m&&l.length>0?"%"+l+"%":null,p71:"MatSubClassName"!=m&&d.MatSubClassName?d.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p72:"MatSubClassCode"==m&&l.length>0?"%"+l+"%":null,p73:"MatSubClassName"==m&&l.length>0?"%"+l+"%":null,p74:"MatMakeName"!=m&&d.MatMakeName?d.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p75:"MatMakeCode"==m&&l.length>0?"%"+l+"%":null,p76:"MatMakeName"==m&&l.length>0?"%"+l+"%":null,p77:"MatModelName"!=m&&d.MatModelName?d.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p78:"MatModelCode"==m&&l.length>0?"%"+l+"%":null,p79:"MatModelName"==m&&l.length>0?"%"+l+"%":null,p80:"UOMName"!=m&&d.UOMName?d.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p81:"MATUOMCode"==m&&l.length>0?"%"+l+"%":null,p82:"UOMName"==m&&l.length>0?"%"+l+"%":null,p83:"GradeName"!=m&&d.GradeName?d.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p84:"GradeName"==m&&l.length>0?"%"+l+"%":null,p85:"MatGradeCode"==m&&l.length>0?"%"+l+"%":null,p86:"MaterialColorName"!=m&&d.MaterialColorName?d.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p87:"MaterialColorName"==m&&l.length>0?"%"+l+"%":null,p88:"MatMaterialColorCode"==m&&l.length>0?"%"+l+"%":null,p89:"RawMaterialName"!=m&&d.RawMaterialName?d.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p90:"MadeRawMaterialCode"==m&&l.length>0?"%"+l+"%":null,p91:"RawMaterialName"==m&&l.length>0?"%"+l+"%":null,p92:"MaterialSizeName"!=m&&d.MaterialSizeName?d.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p93:"MaterialSizeName"==m&&l.length>0?"%"+l+"%":null,p94:"MatMaterialSizeCode"==m&&l.length>0?"%"+l+"%":null,p95:"MaterialCode"==m&&l.length>0?"%"+l+"%":null,p96:"MaterialName"==m&&l.length>0?"%"+l+"%":null,p97:n||1,p98:10,p99:t,p100:null,p101:null,p102:localStorage.getItem("UserGroupID"),p103:localStorage.getItem("userid")}},M=await(0,s.Z)(c,y,e.token,"",o.signal);if(!M)return!1;const g=M.Output.status.code,R=M.Output.data;if("200"===g)if(R.length>0)if(1===n){let e=be(R,m),t=he(e,v[m],a);i(t),q(t.length>0?t[0].TotalCount:v[m].length)}else{let e=[...r,...R],t=be(e,m);q(t.length<10?t.length:R[0].TotalCount),i(be(t,m))}else f.length>0&&i([]),q(r.length);else e.alertmsg("error",[M.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{$(!1)}},he=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),be=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Pe(e){let t=e+"PK",a=Re[e];if(a){const e=a.flatMap((e=>v[e]?v[e].map((e=>e[t])):[]));return e.toString()}return""}const we=async t=>{let a="",l={};await O((e=>(a=e,e)));let n=[...te],r=[];for(let e of n){let t=a[e]?.map((e=>e.MaterialReturnDetIDPK)).toString();t&&r.push(t)}await ee((e=>(l=e,e)));let i={MaterialReturnDetIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:Pe("MaterialID"),MaterialReturnID:Pe("MaterialReturnID")};"saveFav"==t?Be("save",i):(e.searchData(i),Q(!1))};async function xe(){let e={};await O((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.MaterialReturnDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ke(t,a,l,n,r,i){let o={[n]:{From:t,Type:l,To:a}},u={};ee((e=>({...e,...o})));const s={...v};let m=[...te],d=[];for(let e of m){let t=s[e]?.map((e=>e.MaterialReturnDetIDPK)).toString();t&&d.push(t)}await ee((e=>(u=e,e)));let p={MaterialReturnDetIDPK:d?[...new Set(d)].toString():"",CreatedTtm:u.CreatedTtm?u.CreatedTtm.From:"",CreatedTtmType:u.CreatedTtm?u.CreatedTtm.Type:"",CreatedTtmBetween:u.CreatedTtm?u.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,MaterialID:v.MaterialName?.map((e=>e.MaterialIDPK)).toString(),MaterialReturnID:v.MaterialReturnNo?.map((e=>e.MaterialReturnIDPK)).toString()};e.searchData(p)}function Ae(){return n().createElement(g.Z,{frmctrlid:"fld847L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{ke(e,t,a,o.name,l)},keyboardback:()=>{Q(!1),u({idpk:"",name:"",type:"",fieldidpk:""})},title:Ne(o.name),fieldname:o.name,save:e=>{alert(!0)}})}const Be=(t,a)=>{(0,G.Z)(t,e.formID,a,oe).then((e=>{const t=e.Output.data;De(t)}))};return n().createElement("div",null,n().createElement(P.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:se},n().createElement(w.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),n().createElement(x.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(A.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>ue(e.target.value),fullWidth:!0})),n().createElement(F.Z,{style:{color:"#337ab7"},control:n().createElement(B.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(L.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(K.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:de,onChange:e=>pe(e.target.checked)}),label:"Quick"}),n().createElement(F.Z,{style:{color:"#337ab7"},control:n().createElement(B.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(L.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(K.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),n().createElement(k.Z,null,n().createElement(d.Z,{onClick:()=>{we("saveFav"),me(!1)},color:"primary"},"Save"))),H?"Created Ttm"===o.name||o.name.includes("Date")?n().createElement(Ae,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(y.Z,null,n().createElement(M.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},fe(o.idpk)," (",r.length,"/",Y,")")),n().createElement(M.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(p.ZP,{title:Ne("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(m.Z,{id:"fld847L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{Q(!1),u({idpk:"",name:"",type:"",fieldidpk:!1}),U(1)}}))),v[o.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(d.Z,{frmctrlid:"fld847L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await O((t=>(e=t,Z.log("clear fewItems",e),t))),e[o.name]=[],ve(o.type,o.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},W?n().createElement(p.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(T.D7o,{className:"FilterMaximizeIcon",onClick:()=>{z(!1)}}))):n().createElement(p.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(T.dOw,{className:"FilterMaximizeIcon",onClick:()=>{z(!0)}})))),n().createElement("ul",null,v[o.name]&&v[o.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:W?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[o.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{U(1);let a=v[o.name].filter((t=>t!=e)),l={};await O((e=>(l=e,e))),l[o.name]=a,O(l),i((t=>[e,...t]))})(e)},n().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(R.Z,{frmctrlid:"fld847L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:f,placeholder:Ne("Enter ")+" "+fe(o.idpk),onChange:e=>{S(e),ve(o.type,o.fieldidpk,e,1,xe())}})),n().createElement("div",{id:"fld847L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:we},n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(d.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(E.Z,{color:"secondary"})),n().createElement("div",{id:"fld847L1TFCScrollYDefault",className:"height65 scrollYDefault"},r.length>0&&r.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await O((e=>(l=e,e)));let n=l[o.name];t[o.name]=n?[...a,...n]:a,l={...l,...t},O(l),i((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(c.Z,{className:"DotIcon"}),n().createElement("span",null,e[o.name])))),r.length+0<Y&&r.length>0&&n().createElement("div",{id:"fld847L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{U(V+1),ve(o.type,o.fieldidpk,"",V+1)}},n().createElement("p",null," more... ")),0===r.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:D.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(C.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",Ne("Filter")," ",oe.length>0&&`(${oe})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(p.ZP,{title:"Favorite List",placement:"top"},re?n().createElement(m.Z,{className:"favlisticon",onClick:()=>{ie(!1),De(""),Se()}}):n().createElement(h.Z,{className:"favlisticon",onClick:()=>{ie(!0),Be("select"),Se()}})),Object.keys(v).length>0&&n().createElement(p.ZP,{title:"Save Favorites",placement:"top"},n().createElement(b.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(d.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld847L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear")))),n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(d.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld847L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Ne("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld847L1TFCFilItems",className:"FilterItems"},!Me&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{Q(!0),S(""),i([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"MaterialReturnDetIDPK";u({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMaterialReturnDetID",fieldidpk:t}),ve(e.IsForeign?"Filter"+e.FieldName:"FilterMaterialReturnDetID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,fe(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,fe(e.AdminUserGridViewIDPK)),n().createElement(N.Z,{checked:"1"==le,onChange:t=>{ne(t.target.checked),ke("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,fe(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,v[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},v[a][0][a]),v[a].length>1&&n().createElement("span",{className:"RoundedDivName"},v[a][1][a]),v[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(v[a].length-2))))));var a})),Me&&Me.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{ve("FilterMaterialReturnDetID",a),we("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}));var W=a(54180),z=a(43031),H=a(85639),Q=a(110),_=a(5109),j=a(88995),V=a(50743),U=a(61657),Y=a(51209),q=a(53854),J=a(51649),$=a(37106),X=a(5434),ee=a(83817),te=a(39327),ae=a(3212),le=a(93521),ne=(a(79117),a(71168)),re=a.n(ne),ie=a(65107),oe=a(94986),ue=a(15999);a(11557),window.clickFilter="";const se=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[y]=(0,l.useState)("847"),[M,g]=(0,l.useState)(!1),[E,N]=(0,l.useState)(!1),[f,S]=(0,l.useState)(0),[v,h]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[w,x]=(0,l.useState)(0),[k,A]=(0,l.useState)({current:1,pageSize:100}),[B,L]=(0,l.useState)(""),[K,F]=(0,l.useState)([]),[G,Z]=(0,l.useState)({val:"",column:""}),[ne,se]=(0,l.useState)([]),[me,de]=(0,l.useState)(!1),[pe,ce]=(0,l.useState)(""),[ye,Me]=(0,l.useState)(""),[De,ge]=(0,l.useState)(!1),[Re,Ie]=(0,l.useState)([]),[Ce,Te]=(0,l.useState)([]),[Ee,Ne]=(0,l.useState)([]),[fe,Se]=(0,l.useState)({children:[{name:"MaterialReturnDetails",children:[]}]}),[ve,he]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:Be),{cstate:Pe,cdispatch:we}=e.ContextApi?e.ContextApi:Le();let xe={MaterialReturnDetIDPK:"",MaterialReturnDetCode:"",MRTWoDetDesc:"",MRTQty:"",MRTPrice:"",MRTAmount:"",MRTWAC:"",MRTPPMKey:"",MRTCCMKey:"",MRTSplitQty:"",MRTActualQty:"",IsMRTActual:"",IsMRTSplit:"",IsMRTReject:"",MRTRejectRemarks:"",MRTBudgetCostMatDetKey:"",MRTRemainingQty:"",MRTReceiptedQty:"",IsDraft:"",Remarks:"",MaterialReturnID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",MatWareHouseID:"",WareHouseCode:"",WareHouseName:"",ProStoreID:"",ProStoreCode:"",ProStoreName:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionID:"",DivisionCode:"",DivisionName:"",MaterialIssueID:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialReturnNo:"",MaterialReturnDate:"",MaterialReturnDateType:"",MaterialReturnDateBetween:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ke,Ae]=(0,l.useState)(xe),[Ke,Fe]=(0,l.useState)(xe),[Ge,Ze]=(0,l.useState)(!1),[Oe,We]=(0,l.useState)(!0),[ze,He]=(0,l.useState)(!1),[Qe,_e]=(0,l.useState)(!0),[je,Ve]=(0,l.useState)({MaterialReturnDetCode:"",MRTPPMKey:"",MaterialName:"",MRTQty:"",MRTCCMKey:"",MRTBudgetCostMaterialDetKey:"",MaterialReturnNo:"",IsMRTActual:"",IsMRTSplit:"",IsMRTReject:"",MRTRemainingQty:"",MRTReceiptedQty:"",MRTSplitQty:"",MRTActualQty:"",MRTPrice:"",MRTAmount:"",MRTWAC:"",MRTWoDetDesc:"",MRTRejectRemarks:""}),[Ue,Ye]=(0,l.useState)(!1),[qe,Je]=(0,l.useState)([]),[$e,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[nt,rt]=(0,l.useState)([]),[it,ot]=(0,l.useState)([]),[ut,st]=(0,l.useState)(!1),[mt,dt]=(0,l.useState)(!1),[pt,ct]=(0,l.useState)(!1),[yt,Mt]=(0,l.useState)(""),[Dt,gt]=re()("847"),[Rt,It]=(0,l.useState)({}),Ct=[{columns:nt,data:B}];let Tt=(0,I.Z)();const Et=e=>Tt[e]?Tt[e]:e,Nt=e=>Pe.language?.[e]?Pe.language[e]:e;(0,l.useEffect)((()=>{wt(Dt)}),[Dt]),(0,l.useEffect)((()=>{Pe.token.length>0&&(e.parentId?bt(k,xe,"MaterialReturnDetID"):se([]))}),[e.parentId]),(0,l.useEffect)((()=>{!ve&&e.parentId?bt(k,pe,"MaterialReturnDetID"):ve&&Fe(pe)}),[pe]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{bt(k,xe,"MaterialReturnDetID")},DialogTableProps:e=>{N(e)},HideEntryFields:e=>{ct(!0===e)}})));const ft=e=>{""==e?bt(k,xe,Ge?"DraftMaterialReturnDetID":"MaterialReturnDetID",Ge&&"DraftPage"):Pt(e,{current:1,pageSize:100}),Me(e)};function St(t){be.loading(!0);let a=D.v.Api+"FP847S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(a,l,Pe.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),Je(e.Output.data),be.loading(!1)}}))}function vt(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:Ge}),we({type:"ShowDetail",payload:!0}),be.Expanded(!0),ze&&ge(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&_e(e.cardview),e.Dialogview&&(N(e.Dialogview),ct(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Pt(e.searchsafaritext,{current:k.current,pageSize:k.pageSize})}),[e.searchsafaritext]);const ht=()=>{be.EditClose(!0),me?(document.getElementById("MaterialReturnDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MaterialReturnDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MaterialReturnDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),Qe?(E||(document.getElementById("MaterialReturnDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MaterialReturnDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialReturnDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MaterialReturnDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MaterialReturnDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MaterialReturnDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),document.getElementById("MaterialReturnDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!me},bt=(t,a,l,n,r,i)=>{be.loading(!0),"DraftPage"!==n&&Ze(Pe.IsDraft);let o=D.v.Api+"FP847S3/",u={data:{p1:r||(a&&a.MaterialReturnDetIDPK?a.MaterialReturnDetIDPK:null),p2:a&&a.MaterialReturnDetCode?a.MaterialReturnDetCode:null,p3:a&&a.MRTWoDetDesc?a.MRTWoDetDesc:null,p4:a&&a.MRTQty?a.MRTQty:null,p5:a&&a.MRTPrice?a.MRTPrice:null,p6:a&&a.MRTAmount?a.MRTAmount:null,p7:a&&a.MRTWAC?a.MRTWAC:null,p8:a&&a.MRTPPMKey?a.MRTPPMKey:null,p9:a&&a.MRTCCMKey?a.MRTCCMKey:null,p10:a&&a.MRTSplitQty?a.MRTSplitQty:null,p11:a&&a.MRTActualQty?a.MRTActualQty:null,p12:null,p13:null,p14:null,p15:null,p16:a&&a.MRTBudgetCostMatDetKey?a.MRTBudgetCostMatDetKey:null,p17:a&&a.MRTRemainingQty?a.MRTRemainingQty:null,p18:a&&a.MRTReceiptedQty?a.MRTReceiptedQty:null,p19:"DraftMaterialReturnDetID"==l?"1":"0",p20:null,p21:e.parentId?Number(e.parentId):0,p22:a&&a.MaterialID?a.MaterialID:null,p23:a&&a.IsActive,p24:null,p25:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p26:a&&a.CreatedTtm?a.CreatedTtm:null,p27:a&&a.CreatedTtmType?a.CreatedTtmType:null,p28:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p29:null,p30:a&&a.ContractID?a.ContractID:null,p31:a&&a.ContractCode?a.ContractCode:null,p32:a&&a.ContractName?a.ContractName:null,p33:a&&a.LocalityID?a.LocalityID:null,p34:a&&a.LocalityCode?a.LocalityCode:null,p35:a&&a.LocalityName?a.LocalityName:null,p36:a&&a.BuildingID?a.BuildingID:null,p37:a&&a.BuildingCode?a.BuildingCode:null,p38:a&&a.BuildingName?a.BuildingName:null,p39:a&&a.MatWareHouseID?a.MatWareHouseID:null,p40:a&&a.WareHouseCode?a.WareHouseCode:null,p41:a&&a.WareHouseName?a.WareHouseName:null,p42:a&&a.ProStoreID?a.ProStoreID:null,p43:a&&a.ProStoreCode?a.ProStoreCode:null,p44:a&&a.ProStoreName?a.ProStoreName:null,p45:a&&a.EmployeeID?a.EmployeeID:null,p46:a&&a.EmployeeCode?a.EmployeeCode:null,p47:a&&a.FirstName?a.FirstName:null,p48:a&&a.EmpContactNo1?a.EmpContactNo1:null,p49:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p50:a&&a.DivisionID?a.DivisionID:null,p51:a&&a.DivisionCode?a.DivisionCode:null,p52:a&&a.DivisionName?a.DivisionName:null,p53:a&&a.MaterialIssueID?a.MaterialIssueID:null,p54:a&&a.MaterialMINo?a.MaterialMINo:null,p55:a&&a.MaterialMSDate?a.MaterialMSDate:null,p56:a&&a.MaterialMSDateType?a.MaterialMSDateType:null,p57:a&&a.MaterialMSDateBetween?a.MaterialMSDateBetween:null,p58:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p59:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p60:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p61:a&&a.MaterialReturnNo?a.MaterialReturnNo:null,p62:a&&a.MaterialReturnDate?a.MaterialReturnDate:null,p63:a&&a.MaterialReturnDateType?a.MaterialReturnDateType:null,p64:a&&a.MaterialReturnDateBetween?a.MaterialReturnDateBetween:null,p65:a&&a.MaterialTypeID?a.MaterialTypeID:null,p66:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p67:a&&a.MaterialTypeName?a.MaterialTypeName:null,p68:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p69:a&&a.MatMainClassCode?a.MatMainClassCode:null,p70:a&&a.MatMainClassName?a.MatMainClassName:null,p71:a&&a.MatSubClassID?a.MatSubClassID:null,p72:a&&a.MatSubClassCode?a.MatSubClassCode:null,p73:a&&a.MatSubClassName?a.MatSubClassName:null,p74:a&&a.MaterialMakeID?a.MaterialMakeID:null,p75:a&&a.MatMakeCode?a.MatMakeCode:null,p76:a&&a.MatMakeName?a.MatMakeName:null,p77:a&&a.MaterialModelID?a.MaterialModelID:null,p78:a&&a.MatModelCode?a.MatModelCode:null,p79:a&&a.MatModelName?a.MatModelName:null,p80:a&&a.MATUOMID?a.MATUOMID:null,p81:a&&a.MATUOMCode?a.MATUOMCode:null,p82:a&&a.UOMName?a.UOMName:null,p83:a&&a.MatGradeID?a.MatGradeID:null,p84:a&&a.GradeName?a.GradeName:null,p85:a&&a.MatGradeCode?a.MatGradeCode:null,p86:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p87:a&&a.MaterialColorName?a.MaterialColorName:null,p88:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p89:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p90:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p91:a&&a.RawMaterialName?a.RawMaterialName:null,p92:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p93:a&&a.MaterialSizeName?a.MaterialSizeName:null,p94:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p95:a&&a.MaterialCode?a.MaterialCode:null,p96:a&&a.MaterialName?a.MaterialName:null,p97:r?1:t.current,p98:t.pageSize,p99:l,p100:null,p101:null,p102:localStorage.getItem("UserGroupID"),p103:localStorage.getItem("userid")}};(0,s.Z)(o,u,Pe.token[0]).then((o=>{if(r)(0,ee.a)(o,we,n,i,be);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,P(o.Output.data[0].TotalCount),x(o.Output.data[0].DraftCnt),we({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&x(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?h(Math.ceil(e)):20==t.pageSize?h(Math.ceil(e/2)):50==t.pageSize?h(Math.ceil(e/5)):100==t.pageSize&&h(Math.ceil(e/10)),se(o.Output.data),be.loading(!1)}e.Dialogview||(document.getElementById("divMaterialReturnDetails-Entry").style.height="auto",document.getElementById("divMaterialReturnDetails-Entry").style.display="block")}else be.loading(!1),"DraftMaterialReturnDetID"===l?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Ze(!1)):(se([]),A({current:1,pageSize:10}),h(0),P(0),we({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[o.Output.status.message]}),be.loading(!1)}))};function Pt(t,a){if(!e.parentId)return!1;be.loading(!0);const l=D.v.Api+"FP847S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ge?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(l,n,Pe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,P(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?h(Math.ceil(t)):20==a.pageSize?h(Math.ceil(t/2)):50==a.pageSize?h(Math.ceil(t/5)):100==a.pageSize&&h(Math.ceil(t/10)),se(e.Output.data),be.loading(!1)}else se([]),h(0),P(0),we({type:"count",payload:"0"}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function wt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),we({type:"language",payload:Object.assign({},...n)}),Ve(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),Te(t),Ne(a),rt(l),ot(a)}const xt=()=>ve?null:n().createElement("div",null,Ue?n().createElement(oe.Z,{data:qe,expanded:e=>!E&&be.Expanded(e),edit:(e,t,a)=>{E?be.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:a}))}}):n().createElement(ie.Z,{ref:d,frmctrlid:"tblcs_847_L1_",id:"MaterialReturnDetailsTable",headerdata:Ce,tablesearchparams:je,searchvalue:e=>{Ve(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};It(t),A({current:1,pageSize:10}),bt({current:1,pageSize:10},t,Ge?"DraftMaterialReturnDetID":"MaterialReturnDetID",Ge&&"DraftPage")},bodydata:ne,ondrag:vt,bodyitem:Ee,visibleitem:Ce,isdraft:Ge,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:y,showMore:!1,accessrights:Pe.AccessRights,expanded:e=>!E&&be.Expanded(e),edit:(e,t,a)=>{E?be.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&bt(k,null,t?"DraftMaterialReturnDetID":"MaterialReturnDetID",t&&"DraftPage",e[l],a)})),be.hideAddBtn(!0))},viewtoggle:be.viewtoggle,isexpanded:!E||ze,tf:Nt,action:E?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{He(Pe.ExpandTableValue)}),[Pe.ExpandTableValue]),n().createElement("div",null,!pt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld847L1ECSearchBar",className:"searchbar1"},n().createElement(R.Z,{frmctrlid:"fld847L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ye,onChange:e=>{Me(e),be.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ye?n().createElement("div",{id:"fld847L1TCCloseIconCommonSearch",onClick:()=>{Me(""),be.searchItem("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld847L1TCInputSearchIcon"},n().createElement(j.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MaterialReturnDetailsgridsearch").focus()}})))),n().createElement("div",null,Pe.AccessRights.IsAdd?n().createElement(ae.Z,{className:"SaveBtnCommon",frmctrlid:"fld847L1TCAddBtnIsAdd",onClick:()=>{be.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})},disabled:!e.parentId}):"")),n().createElement(i.Z,{expanded:Oe,onChange:()=>()=>{We(ze)}},e.Dialogview&&n().createElement(V.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[847]"},`${Nt("847")} (${b})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld847L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(R.Z,{frmctrlid:"fld847L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ye,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},ye?n().createElement("div",{id:"fld847L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld847L1TCInputSearchIcon"},n().createElement(j.Z,{className:"InputSearchIcon"}))))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"MaterialReturnDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ge&&n().createElement("div",{frmctrlid:"fld847L1TCFilterDataIsDraft",id:"MaterialReturnDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(p.ZP,{title:Et("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(C.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Filter Data"))),!E&&!Ge&&!ve&&n().createElement(W.Z,{formctrlidprint:"fld847L1TCExportPrint",formctrlidexport:"fld847L1TCExportTable",formctrlidrefresh:"fld847L1TCExportRefresh",title:Nt("847"),data:K,exportData:Ct,Items:it,columnIndex:nt,TableVisibleItem:Ce,userGridViewFormID:y,TableTotalCount:b,triggerApi:t=>{((t,l,n,r,i)=>{if(0===b)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let o=D.v.Api+"FP847S3/",u={data:{p1:t&&t.MaterialReturnDetIDPK?t.MaterialReturnDetIDPK:null,p2:t&&t.MaterialReturnDetCode?t.MaterialReturnDetCode:null,p3:t&&t.MRTWoDetDesc?t.MRTWoDetDesc:null,p4:t&&t.MRTQty?t.MRTQty:null,p5:t&&t.MRTPrice?t.MRTPrice:null,p6:t&&t.MRTAmount?t.MRTAmount:null,p7:t&&t.MRTWAC?t.MRTWAC:null,p8:t&&t.MRTPPMKey?t.MRTPPMKey:null,p9:t&&t.MRTCCMKey?t.MRTCCMKey:null,p10:t&&t.MRTSplitQty?t.MRTSplitQty:null,p11:t&&t.MRTActualQty?t.MRTActualQty:null,p12:null,p13:null,p14:null,p15:null,p16:t&&t.MRTBudgetCostMatDetKey?t.MRTBudgetCostMatDetKey:null,p17:t&&t.MRTRemainingQty?t.MRTRemainingQty:null,p18:t&&t.MRTReceiptedQty?t.MRTReceiptedQty:null,p19:Ge?"1":"0",p20:null,p21:e.parentId?Number(e.parentId):0,p22:t&&t.MaterialID?t.MaterialID:null,p23:t&&t.IsActive,p24:null,p25:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p26:t&&t.CreatedTtm?t.CreatedTtm:null,p27:t&&t.CreatedTtmType?t.CreatedTtmType:null,p28:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p29:null,p30:t&&t.ContractID?t.ContractID:null,p31:t&&t.ContractCode?t.ContractCode:null,p32:t&&t.ContractName?t.ContractName:null,p33:t&&t.LocalityID?t.LocalityID:null,p34:t&&t.LocalityCode?t.LocalityCode:null,p35:t&&t.LocalityName?t.LocalityName:null,p36:t&&t.BuildingID?t.BuildingID:null,p37:t&&t.BuildingCode?t.BuildingCode:null,p38:t&&t.BuildingName?t.BuildingName:null,p39:t&&t.MatWareHouseID?t.MatWareHouseID:null,p40:t&&t.WareHouseCode?t.WareHouseCode:null,p41:t&&t.WareHouseName?t.WareHouseName:null,p42:t&&t.ProStoreID?t.ProStoreID:null,p43:t&&t.ProStoreCode?t.ProStoreCode:null,p44:t&&t.ProStoreName?t.ProStoreName:null,p45:t&&t.EmployeeID?t.EmployeeID:null,p46:t&&t.EmployeeCode?t.EmployeeCode:null,p47:t&&t.FirstName?t.FirstName:null,p48:t&&t.EmpContactNo1?t.EmpContactNo1:null,p49:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p50:t&&t.DivisionID?t.DivisionID:null,p51:t&&t.DivisionCode?t.DivisionCode:null,p52:t&&t.DivisionName?t.DivisionName:null,p53:t&&t.MaterialIssueID?t.MaterialIssueID:null,p54:t&&t.MaterialMINo?t.MaterialMINo:null,p55:t&&t.MaterialMSDate?t.MaterialMSDate:null,p56:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p57:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p58:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p59:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p60:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p61:t&&t.MaterialReturnNo?t.MaterialReturnNo:null,p62:t&&t.MaterialReturnDate?t.MaterialReturnDate:null,p63:t&&t.MaterialReturnDateType?t.MaterialReturnDateType:null,p64:t&&t.MaterialReturnDateBetween?t.MaterialReturnDateBetween:null,p65:t&&t.MaterialTypeID?t.MaterialTypeID:null,p66:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p67:t&&t.MaterialTypeName?t.MaterialTypeName:null,p68:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p69:t&&t.MatMainClassCode?t.MatMainClassCode:null,p70:t&&t.MatMainClassName?t.MatMainClassName:null,p71:t&&t.MatSubClassID?t.MatSubClassID:null,p72:t&&t.MatSubClassCode?t.MatSubClassCode:null,p73:t&&t.MatSubClassName?t.MatSubClassName:null,p74:t&&t.MaterialMakeID?t.MaterialMakeID:null,p75:t&&t.MatMakeCode?t.MatMakeCode:null,p76:t&&t.MatMakeName?t.MatMakeName:null,p77:t&&t.MaterialModelID?t.MaterialModelID:null,p78:t&&t.MatModelCode?t.MatModelCode:null,p79:t&&t.MatModelName?t.MatModelName:null,p80:t&&t.MATUOMID?t.MATUOMID:null,p81:t&&t.MATUOMCode?t.MATUOMCode:null,p82:t&&t.UOMName?t.UOMName:null,p83:t&&t.MatGradeID?t.MatGradeID:null,p84:t&&t.GradeName?t.GradeName:null,p85:t&&t.MatGradeCode?t.MatGradeCode:null,p86:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p87:t&&t.MaterialColorName?t.MaterialColorName:null,p88:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p89:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p90:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p91:t&&t.RawMaterialName?t.RawMaterialName:null,p92:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p93:t&&t.MaterialSizeName?t.MaterialSizeName:null,p94:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p95:t&&t.MaterialCode?t.MaterialCode:null,p96:t&&t.MaterialName?t.MaterialName:null,p97:k.current,p98:b,p99:Ge?"DraftMaterialReturnDetID":"MaterialReturnDetID",p100:null,p101:null,p102:localStorage.getItem("UserGroupID"),p103:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${Nt(847)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,s.Z)(o,u,Pe.token[0],i).then((e=>{(0,le.PDF_Excel_Generate)(e,be,it,L,a,i)}))})(pe,G.column,0,0,t)},Refresh:()=>{Me(""),A({current:1,pageSize:100}),d.current.clearItem(),Pe.IsDraft?bt({current:1,pageSize:100},xe,"DraftMaterialReturnDetID"):bt({current:1,pageSize:100},xe,"MaterialReturnDetID")},disabledPrint:!Pe.AccessRights.IsPrint,disabledExport:!Pe.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ge&&!ve&&!E&&n().createElement("div",{className:"buttoncard",onClick:()=>dt(!mt)},n().createElement("span",null,mt?n().createElement(p.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},n().createElement("span",{id:"fld847L1TCLess"},n().createElement(q.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(p.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},n().createElement("span",{id:"fld847L1TCMore"},n().createElement(q.ilJ,{className:"tableFilterColumnIcon"}))))),mt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},ve||!ze?null:E||!Pe.AccessRights.IsAdd||Ge?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld847L1TCFilterDataIsAdd",id:"MaterialReturnDetailscoldiv",className:"buttoncard",onClick:()=>{be.EditClose(!0),De?(document.getElementById("MaterialReturnDetailsFilterDiv").style.width="0%",document.getElementById("MaterialReturnDetailsTabDiv").style.width="100%",document.getElementById("MaterialReturnDetailsFilterDiv").style.display="none",document.getElementById("MaterialReturnDetailscoldiv").style.width="fit-content",document.getElementById("MaterialReturnDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("MaterialReturnDetailsFilterDiv").style.width="25%",document.getElementById("MaterialReturnDetailsTabDiv").style.width="75%",document.getElementById("MaterialReturnDetailsFilterDiv").style.display="block",document.getElementById("MaterialReturnDetailsfildiv").style.width="fit-content",document.getElementById("MaterialReturnDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialReturnDetailscoldiv").style.width="fit-content",document.getElementById("MaterialReturnDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),de(!1)}},n().createElement(p.ZP,{title:Et("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!E&&ze&&!ve&&!Ge&&n().createElement("div",null,n().createElement("div",{id:"MaterialReturnDetailscoldiv",className:"buttoncard",onClick:()=>{Ue?Ye(!1):(Ye(!0),St({current:1,pageSize:100}))}},n().createElement(p.ZP,{title:Et("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld847L1TCTableScrollData"},n().createElement(ue.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!ve&&Ge?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{be.hideAddBtn(!1),be.ExpandEntry(),bt({current:1,pageSize:100},xe,"MaterialReturnDetID"),Ze(!1),Me(""),we({type:"IsDraft",payload:!1}),A({current:1,pageSize:10})}},n().createElement(p.ZP,{title:Et("List"),placement:"top"},n().createElement("div",{id:"fld847L1TCList"},n().createElement(J.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Et("Drafts")," ",b)):!E&&!ve&&Pe.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(u.Z,{color:"secondary",className:"badge",max:999,badgeContent:w,showZero:!0},n().createElement("div",{id:"fld847L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{w>0?(A({current:1,pageSize:100}),S(0),be.clear(),Me(""),we({type:"Add",payload:!1}),bt({current:1,pageSize:10},xe,"DraftMaterialReturnDetID"),Ze(!0),we({type:"IsDraft",payload:!0}),ge(!1),_e(!0),document.getElementById("MaterialReturnDetailsFilterDiv").style.width="0%",document.getElementById("MaterialReturnDetailsTabDiv").style.width="100%",document.getElementById("MaterialReturnDetailsFilterDiv").style.display="none",A({current:1,pageSize:100}),he(!1)):be.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},n().createElement(p.ZP,{title:Et("Drafts"),placement:"top"},n().createElement("div",null,n().createElement($.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!Ge&&!E&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},ve||Ge?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Qe?"buttonList":"buttonGrid",id:"fld847L1TCListView",onClick:()=>{_e(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(q.umT,null)),n().createElement("span",null,Et("List"))),n().createElement("div",{className:Qe||ut?"buttonGrid":"buttonList",id:"fld847L1TCCardView",onClick:()=>{_e(!1),st(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(T.aCJ,null)),n().createElement("span",null,Et("Card"))),n().createElement("div",{className:ut?"buttonList":"buttonGrid",id:"fld847L1TCTileView",onClick:()=>{st(!0),_e(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(X.f_H,null)),n().createElement("span",null,Et("Tile"))))))),ve?null:Ue?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(U.Z,{style:{color:"#777"},id:"fld847L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:f,onPageChange:(e,t)=>{S(t),St({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(z.Z,{count:$e,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),St({current:t,pageSize:at.pageSize})}}),n().createElement("div",null,n().createElement(Q.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld847L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),St({current:1,pageSize:e.target.value})}},n().createElement(H.Z,{value:10},"10"),n().createElement(H.Z,{value:20},"20"),n().createElement(H.Z,{value:50},"50"),n().createElement(H.Z,{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",et,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(U.Z,{style:{color:"#777"},id:"fld847L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(b),page:f,onPageChange:(e,t)=>{S(t),bt({current:t+1,pageSize:k.pageSize},xe,Ge?"DraftMaterialReturnDetID":"MaterialReturnDetID",Ge&&"DraftPage"),A({current:t+1,pageSize:k.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(z.Z,{count:v,siblingCount:0,color:"primary",page:k.current,onChange:(e,t)=>{if(A({current:t,pageSize:k.pageSize}),Ge)bt({current:t,pageSize:k.pageSize},ke,"DraftMaterialReturnDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ye.length>0?Pt(ye,{current:t,pageSize:k.pageSize}):bt({current:t,pageSize:k.pageSize},ke,"MaterialReturnDetID")}}}),n().createElement("div",null,n().createElement(Q.Z,{className:"BootstrapInputStyle",value:k.pageSize,id:"fld847L1TCSelectPaging",onChange:e=>{A({current:1,pageSize:e.target.value}),Ge?bt({current:1,pageSize:e.target.value},ke,"DraftMaterialReturnDetID","DraftPage"):ye.length>0?Pt(ye,{current:1,pageSize:e.target.value}):bt({current:1,pageSize:e.target.value},ke,"MaterialReturnDetID")}},n().createElement(H.Z,{value:10},"10"),n().createElement(H.Z,{value:20},"20"),n().createElement(H.Z,{value:50},"50"),n().createElement(H.Z,{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",b,") "))),n().createElement("div",{id:"MaterialReturnDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"MaterialReturnDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},me&&n().createElement(O,{parentId:e.parentId,searchData:e=>{ce(e||Rt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:y,data:()=>{},visibleData:()=>{},token:Pe.token[0],CloseBtnClk:()=>ht(),userGrid:Dt,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),De&&n().createElement(_.Z,{Refresh:e=>{bt({current:1,pageSize:100},xe,"MaterialReturnDetID")},frmctrlid:"fld847L1TCTableColumnOrder",loading:e=>be.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:De,userID:c,userGridViewFormID:y,saved:(e,t)=>{e&&wt(t),gt(t),we({type:"showTableview",payload:t})},Token:Pe.token[0]})),n().createElement("div",{id:"MaterialReturnDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Qe?n().createElement(xt,null):n().createElement(Y.Z,{frmctrlid:"fld847L1TCExpandedCardDual",data:ne,id:"MaterialReturnDetails",title:"MaterialReturnDetCode",cardTile:!!ut,visibleitem:Ce,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{E?be.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ge}),we({type:"ShowDetail",payload:!1}),be.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ge}),we({type:"ShowDetail",payload:!0}),be.Expanded(!0),be.viewtoggle()),me?de(!0):De?ge(!0):(ge(!1),ge(!1))),be.hideAddBtn(!0)}})))))))}));var me=a(37148),de=a(29800),pe=(a(10966),a(21392),a(26537)),ce=a(44528),ye=a(99090),Me=a(1695),De=a(61924),ge=a.n(De),Re=(a(40826),a(55490)),Ie=a(92371);const Ce={EnterKeyValues:{MaterialReturnDetails:["MaterialReturnDetCode","MRTPPMKey","MaterialName","MRTQty","MRTCCMKey","MRTBudgetCostMaterialDetKey","MaterialReturnNo","IsMRTActual","IsMRTSplit","IsMRTReject","MRTRemainingQty","MRTReceiptedQty","MRTSplitQty","MRTActualQty","MRTPrice","MRTAmount","MRTWAC","MRTWoDetDesc","MRTRejectRemarks"]},Label:{MaterialReturnDetails:{MaterialReturnDetCode:["MaterialReturnDetCode"],MRTPPMKey:["MaterialReturnDetCode"],MaterialID:["MaterialReturnDetCode"],MRTQty:["MaterialReturnDetCode"],MRTCCMKey:["MaterialReturnDetCode"],MRTBudgetCostMaterialDetKey:["MaterialReturnDetCode"],MaterialReturnID:["MaterialReturnDetCode"],IsMRTActual:["MaterialReturnDetCode"],IsMRTSplit:["MaterialReturnDetCode"],IsMRTReject:["MaterialReturnDetCode"],MRTRemainingQty:["MaterialReturnDetCode"],MRTReceiptedQty:["MaterialReturnDetCode"],MRTSplitQty:["MaterialReturnDetCode"],MRTActualQty:["MaterialReturnDetCode"],MRTPrice:["MaterialReturnDetCode"],MRTAmount:["MaterialReturnDetCode"],MRTWAC:["MaterialReturnDetCode"],MRTWoDetDesc:["MaterialReturnDetCode"],MRTRejectRemarks:["MaterialReturnDetCode"]}},LabelHeader:{MaterialReturnDetails:{MaterialReturnDetCode:["MaterialReturnDetCode"],MRTPPMKey:["MaterialReturnDetCode"],MaterialID:["MaterialReturnDetCode"],MRTQty:["MaterialReturnDetCode"],MRTCCMKey:["MaterialReturnDetCode"],MRTBudgetCostMaterialDetKey:["MaterialReturnDetCode"],MaterialReturnID:["MaterialReturnDetCode"],IsMRTActual:["MaterialReturnDetCode"],IsMRTSplit:["MaterialReturnDetCode"],IsMRTReject:["MaterialReturnDetCode"],MRTRemainingQty:["MaterialReturnDetCode"],MRTReceiptedQty:["MaterialReturnDetCode"],MRTSplitQty:["MaterialReturnDetCode"],MRTActualQty:["MaterialReturnDetCode"],MRTPrice:["MaterialReturnDetCode"],MRTAmount:["MaterialReturnDetCode"],MRTWAC:["MaterialReturnDetCode"],MRTWoDetDesc:["MaterialReturnDetCode"],MRTRejectRemarks:["MaterialReturnDetCode"]}},Property:{MaterialReturnDetails:{MaterialReturnDetCode:{id:"fld847_26222",labelID:"MaterialReturnDetCode",maxLength:"50",labelname:"MaterialReturnDetCode",frmctrlid:"fld847_26222",frmctrlidname:"MaterialReturnDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTPPMKey:{id:"fld847_26198",labelID:"MRTPPMKey",maxLength:"",labelname:"MRTPPMKey",frmctrlid:"fld847_26198",frmctrlidname:"MRTPPMKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialID:{id:"fld847_26203",clearID:"MaterialReturnDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},MRTQty:{id:"fld847_26218",labelID:"MRTQty",maxLength:"10",labelname:"Return Quantity",frmctrlid:"fld847_26218",frmctrlidname:"MRTQty",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTCCMKey:{id:"fld847_26199",labelID:"MRTCCMKey",maxLength:"",labelname:"MRTCCMKey",frmctrlid:"fld847_26199",frmctrlidname:"MRTCCMKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTBudgetCostMaterialDetKey:{id:"fld847_26201",labelID:"MRTBudgetCostMaterialDetKey",maxLength:"",labelname:"MRTBudgetCostMaterialDetKey",frmctrlid:"fld847_26201",frmctrlidname:"MRTBudgetCostMaterialDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialReturnID:{id:"fld847_26202",clearID:"MaterialReturnDetailsMaterialReturnNoClear",type:"select",labelID:"MaterialReturnIDPK",labelname:"MaterialReturnID",fielddisplayname:"MaterialReturnNo",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},IsMRTActual:{id:"fld847_26211",labelID:"IsMRTActual",maxLength:"",labelname:"IsMRTActual",frmctrlid:"fld847_26211",frmctrlidname:"IsMRTActual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMRTSplit:{id:"fld847_26212",labelID:"IsMRTSplit",maxLength:"",labelname:"IsMRTSplit",frmctrlid:"fld847_26212",frmctrlidname:"IsMRTSplit",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMRTReject:{id:"fld847_26213",labelID:"IsMRTReject",maxLength:"",labelname:"IsMRTReject",frmctrlid:"fld847_26213",frmctrlidname:"IsMRTReject",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTRemainingQty:{id:"fld847_26214",labelID:"MRTRemainingQty",maxLength:"",labelname:"MRTRemainingQty",frmctrlid:"fld847_26214",frmctrlidname:"MRTRemainingQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTReceiptedQty:{id:"fld847_26215",labelID:"MRTReceiptedQty",maxLength:"",labelname:"MRTReceiptedQty",frmctrlid:"fld847_26215",frmctrlidname:"MRTReceiptedQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTSplitQty:{id:"fld847_26216",labelID:"MRTSplitQty",maxLength:"",labelname:"MRTSplitQty",frmctrlid:"fld847_26216",frmctrlidname:"MRTSplitQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTActualQty:{id:"fld847_26217",labelID:"MRTActualQty",maxLength:"",labelname:"MRTActualQty",frmctrlid:"fld847_26217",frmctrlidname:"MRTActualQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTPrice:{id:"fld847_26219",labelID:"MRTPrice",maxLength:"",labelname:"MRTPrice",frmctrlid:"fld847_26219",frmctrlidname:"MRTPrice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTAmount:{id:"fld847_26220",labelID:"MRTAmount",maxLength:"",labelname:"MRTAmount",frmctrlid:"fld847_26220",frmctrlidname:"MRTAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTWAC:{id:"fld847_26221",labelID:"MRTWAC",maxLength:"",labelname:"MRTWAC",frmctrlid:"fld847_26221",frmctrlidname:"MRTWAC",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTWoDetDesc:{id:"fld847_26223",labelID:"MRTWoDetDesc",maxLength:"-1",labelname:"MRTWoDetDesc",frmctrlid:"fld847_26223",frmctrlidname:"MRTWoDetDesc",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTRejectRemarks:{id:"fld847_26224",labelID:"MRTRejectRemarks",maxLength:"-1",labelname:"MRTRejectRemarks",frmctrlid:"fld847_26224",frmctrlidname:"MRTRejectRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{MaterialReturnDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],MaterialReturnID:["MaterialReturnNo","MaterialReturnDate","MaterialIssueNo"]}}};var Te=a(6562),Ee=a(45155),Ne=a(79352),fe=(a(49174),a(38773),a(19089),a(16233)),Se=a.n(fe);a(82729),a(75355),a(11107);const ve={MaterialReturnDetIDPK:"",MaterialReturnDetCode:"",MRTWoDetDesc:"",MRTQty:"",MRTPrice:"",MRTAmount:"",MRTWAC:"",MRTPPMKey:"",MRTCCMKey:"",MRTSplitQty:"",MRTActualQty:"",IsMRTActual:!1,IsMRTSplit:!1,IsMRTReject:!1,MRTRejectRemarks:"",MRTBudgetCostMatDetKey:"",MRTRemainingQty:"",MRTReceiptedQty:"",IsDraft:!1,Remarks:"",MaterialReturnID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",MatWareHouseID:null,WareHouseCode:"",WareHouseName:"",ProStoreID:null,ProStoreCode:"",ProStoreName:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionID:null,DivisionCode:"",DivisionName:"",MaterialIssueID:null,MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialReturnNo:"",MaterialReturnDate:"",MaterialReturnDateType:"",MaterialReturnDateBetween:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"MaterialReturnDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},he=(0,l.forwardRef)(((e,t)=>{const a=(0,r.useSelector)((e=>e.form)),[u,m]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!0),[c,g]=(0,l.useState)(!1),[R,C]=(0,l.useState)(!1),[T,E]=(0,l.useState)(""),[f,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)([]),[w,x]=(0,l.useState)(null),[k,A]=(0,l.useReducer)(Ie.Z,ve),[B,L]=(0,l.useState)(!1),[K,G]=(0,l.useState)([]),[Z,O]=(0,l.useState)(!1),W=(0,l.useContext)(e.context?e.context:Be),{cstate:z,cdispatch:H}=e.ContextApi?e.ContextApi:Le(),[Q,_]=(0,l.useState)(0),[j,U]=(0,l.useState)(""),Y=(0,l.useRef)(null),[q,J]=Se()("847"),[$,X]=(0,l.useState)(!0),[ee,te]=(0,l.useState)(!0),[ae,le]=(0,l.useState)(!0),[ne,re]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(!0),[ue,se]=(0,l.useState)(!0),[de,De]=(0,l.useState)(!0),[fe,he]=(0,l.useState)(!0),[be,Pe]=(0,l.useState)(!0),[we,xe]=(0,l.useState)(!0),[ke,Ae]=(0,l.useState)(!0),[Ke,Fe]=(0,l.useState)(!0),[Ge,Ze]=(0,l.useState)(!0),[Oe,We]=(0,l.useState)(!1);let ze=(0,I.Z)();const[He,Qe]=(0,l.useState)({}),_e=e=>ze[e]?ze[e]:e,je=t=>z.language?.[t]?z.language[t]:e.createEasy?He?.[t]:t;(0,l.useEffect)((()=>{z.PrimaryId&&_(Number(z.PrimaryId))}),[z.PrimaryId]),(0,l.useEffect)((()=>{Ue()}),[]),(0,l.useEffect)((()=>{Ue()}),[e.parentId]),(0,l.useEffect)((()=>{z.editData.length>0?(Ve(z.editData[0],""),g(!0)):z.Add&&(Ue(),g(!0))}),[z.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Qe(Object.assign({},...t))}(q)}),[q]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ue()},CreateEasyProps:(e=!0,t)=>{J(!0),t?(rt(t),g(e)):(Ue(),g(e))},AddOpen:e=>{Ue(),g(!0)}})));const Ve=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),C(t.IsDraft),A({type:"text",name:"MaterialReturnDetCode",value:t.MaterialReturnDetCode?t.MaterialReturnDetCode:""}),A({type:"number",name:"MRTPPMKey",number:t.MRTPPMKey}),A({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),A({type:"text",name:"MaterialName",value:t.MaterialName}),A({type:"number",name:"MRTQty",number:Number(t.MRTQty)}),A({type:"number",name:"MRTCCMKey",number:t.MRTCCMKey}),"SetDefaultMaterialReturnDetID"==a?U(t.MaterialReturnDetIDPK):(_(e.primid?Number(e.primid):t.MaterialReturnDetIDPK?t.MaterialReturnDetIDPK:0),H({type:"PrimaryId",payload:t.MaterialReturnDetIDPK})),A({type:"number",name:"MRTBudgetCostMaterialDetKey",number:t.MRTBudgetCostMaterialDetKey}),A({type:"number",name:"MaterialReturnID",number:t.MaterialReturnID?Number(t.MaterialReturnID):0}),A({type:"text",name:"MaterialReturnNo",value:t.MaterialReturnNo}),A({type:"boolean",name:"IsMRTActual",boolean:!!t.IsMRTActual&&t.IsMRTActual}),A({type:"boolean",name:"IsMRTSplit",boolean:!!t.IsMRTSplit&&t.IsMRTSplit}),A({type:"boolean",name:"IsMRTReject",boolean:!!t.IsMRTReject&&t.IsMRTReject}),A({type:"number",name:"MRTRemainingQty",number:Number(t.MRTRemainingQty)}),A({type:"number",name:"MRTReceiptedQty",number:Number(t.MRTReceiptedQty)}),A({type:"number",name:"MRTSplitQty",number:Number(t.MRTSplitQty)}),A({type:"number",name:"MRTActualQty",number:Number(t.MRTActualQty)}),A({type:"number",name:"MRTPrice",number:Number(t.MRTPrice)}),A({type:"number",name:"MRTAmount",number:Number(t.MRTAmount)}),A({type:"number",name:"MRTWAC",number:Number(t.MRTWAC)}),A({type:"text",name:"MRTWoDetDesc",value:t.MRTWoDetDesc?t.MRTWoDetDesc:""}),A({type:"text",name:"MRTRejectRemarks",value:t.MRTRejectRemarks?t.MRTRejectRemarks:""}),t.IsDraft?p(!0):p(!("1"!=t.IsActive&&!t.IsActive))},Ue=()=>{P([]),_(0),U(""),e.createEasy||W.resetImg(),A({type:"text",name:"MaterialReturnDetCode",value:""}),A({type:"number",name:"MRTPPMKey",number:0}),A({type:"text",name:"MaterialID",value:null}),A({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialReturnDetailsMaterialNameClear")&&document.getElementById("MaterialReturnDetailsMaterialNameClear").click(),A({type:"number",name:"MRTQty",number:0}),A({type:"number",name:"MRTCCMKey",number:0}),H({type:"PrimaryId",payload:""}),A({type:"number",name:"MRTBudgetCostMaterialDetKey",number:0}),A({type:"text",name:"MaterialReturnID",value:null}),A({type:"text",name:"MaterialReturnNo",value:""}),document.getElementById("MaterialReturnDetailsMaterialReturnNoClear")&&document.getElementById("MaterialReturnDetailsMaterialReturnNoClear").click(),A({type:"boolean",name:"IsMRTActual",boolean:!1}),A({type:"boolean",name:"IsMRTSplit",boolean:!1}),A({type:"boolean",name:"IsMRTReject",boolean:!1}),A({type:"number",name:"MRTRemainingQty",number:0}),A({type:"number",name:"MRTReceiptedQty",number:0}),A({type:"number",name:"MRTSplitQty",number:0}),A({type:"number",name:"MRTActualQty",number:0}),A({type:"number",name:"MRTPrice",number:0}),A({type:"number",name:"MRTAmount",number:0}),A({type:"number",name:"MRTWAC",number:0}),A({type:"text",name:"MRTWoDetDesc",value:""}),A({type:"text",name:"MRTRejectRemarks",value:""}),p(!0),E(""),X(!0),te(!0),le(!0),re(!0),oe(!0),se(!0),De(!0),he(!0),Pe(!0),xe(!0),Ae(!0),Fe(!0),Ze(!0)},Ye=t=>{W.loading(!0),W.ConfirmAlert(null);const a=D.v.Api+"FP847S2/",l={data:[{p1:"SetDefaultMaterialReturnDetID"==t?"NORECORDS"!=j&&j?j:0:Q,p2:it(k.MaterialReturnDetCode),p3:it(k.MRTWoDetDesc),p4:k.MRTQty?Number(k.MRTQty):0,p5:k.MRTPrice?Number(k.MRTPrice):0,p6:k.MRTAmount?Number(k.MRTAmount):0,p7:k.MRTWAC?Number(k.MRTWAC):0,p8:k.MRTPPMKey?Number(k.MRTPPMKey):0,p9:k.MRTCCMKey?Number(k.MRTCCMKey):0,p10:k.MRTSplitQty?Number(k.MRTSplitQty):0,p11:k.MRTActualQty?Number(k.MRTActualQty):0,p12:k.IsMRTActual,p13:k.IsMRTSplit,p14:k.IsMRTReject,p15:it(k.MRTRejectRemarks),p16:k.MRTBudgetCostMatDetKey?Number(k.MRTBudgetCostMatDetKey):0,p17:k.MRTRemainingQty?Number(k.MRTRemainingQty):0,p18:k.MRTReceiptedQty?Number(k.MRTReceiptedQty):0,p19:!1,p20:"SetDefaultMaterialReturnDetID"==t?"SetDefault":null,p21:e.parentId?Number(e.parentId):k.MaterialReturnID?k.MaterialReturnID:0,p22:k.MaterialID?k.MaterialID:0,p23:d,p24:"SetDefaultMaterialReturnDetID"==t,p25:localStorage.getItem("userid"),p26:S()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,pe.Z)(0).then((t=>{(0,s.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(W.alert({open:!0,color:"warning",message:r}),W.loading(!1)):(t=>{X(!0),te(!0),le(!0),re(!0),oe(!0),se(!0),De(!0),he(!0),Pe(!0),xe(!0),Ae(!0),Fe(!0),Ze(!0),W.loading(!0),W.ConfirmAlert(null),H({type:"IsDraft",payload:!1});const a=D.v.Api+"FP847S1/",l={data:[{p1:Q,p2:it(k.MaterialReturnDetCode),p3:it(k.MRTWoDetDesc),p4:k.MRTQty?Number(k.MRTQty):0,p5:k.MRTPrice?Number(k.MRTPrice):0,p6:k.MRTAmount?Number(k.MRTAmount):0,p7:k.MRTWAC?Number(k.MRTWAC):0,p8:k.MRTPPMKey?Number(k.MRTPPMKey):0,p9:k.MRTCCMKey?Number(k.MRTCCMKey):0,p10:k.MRTSplitQty?Number(k.MRTSplitQty):0,p11:k.MRTActualQty?Number(k.MRTActualQty):0,p12:k.IsMRTActual,p13:k.IsMRTSplit,p14:k.IsMRTReject,p15:it(k.MRTRejectRemarks),p16:k.MRTBudgetCostMatDetKey?Number(k.MRTBudgetCostMatDetKey):0,p17:k.MRTRemainingQty?Number(k.MRTRemainingQty):0,p18:k.MRTReceiptedQty?Number(k.MRTReceiptedQty):0,p19:!1,p20:null,p21:e.parentId?Number(e.parentId):k.MaterialReturnID?k.MaterialReturnID:0,p22:k.MaterialID?k.MaterialID:0,p23:d,p24:!1,p25:localStorage.getItem("userid"),p26:S()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,pe.Z)(0).then((t=>{(0,v.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(W.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttMaterialReturnDetails"),W.loading(!1),H({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(W.RefreshTable(),W.attachmentSave(t[0].Data.IDPK)),Ue(),z.AccessRights.IsApproval&&W.Approval(!0),document.getElementById("overlayimgAttMaterialReturnDetails")&&(document.getElementById("overlayimgAttMaterialReturnDetails").style.width="0%",document.getElementById("overlayimgAttMaterialReturnDetails").style.display="none",document.getElementById("divMaterialReturnDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("MaterialReturnDetails-MainTable").style.display="block")):(W.alert({open:!0,color:"warning",message:[a.message]}),W.loading(!1)),g(!0)}))}))})()):(W.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),W.loading(!1))}))}))};function qe(t,a,l,n){if(!(z.count>0))return W.alert({open:!0,color:"warning",message:[_e("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return W.alert({open:!0,color:"warning",message:[_e("Please enter the primary fields")]}),!1;{X(!0),te(!0),le(!0),re(!0),oe(!0),se(!0),De(!0),he(!0),Pe(!0),xe(!0),Ae(!0),Fe(!0),Ze(!0),W.loading(!0),W.ConfirmAlert(null),H({type:"IsDraft",payload:!1});const a=D.v.Api+"FP847S1/",l={data:[{p1:"SetDefaultMaterialReturnDetID"==n?"NORECORDS"!=j&&j?j:0:Q,p2:it(k.MaterialReturnDetCode),p3:it(k.MRTWoDetDesc),p4:k.MRTQty?Number(k.MRTQty):0,p5:k.MRTPrice?Number(k.MRTPrice):0,p6:k.MRTAmount?Number(k.MRTAmount):0,p7:k.MRTWAC?Number(k.MRTWAC):0,p8:k.MRTPPMKey?Number(k.MRTPPMKey):0,p9:k.MRTCCMKey?Number(k.MRTCCMKey):0,p10:k.MRTSplitQty?Number(k.MRTSplitQty):0,p11:k.MRTActualQty?Number(k.MRTActualQty):0,p12:k.IsMRTActual,p13:k.IsMRTSplit,p14:k.IsMRTReject,p15:it(k.MRTRejectRemarks),p16:k.MRTBudgetCostMatDetKey?Number(k.MRTBudgetCostMatDetKey):0,p17:k.MRTRemainingQty?Number(k.MRTRemainingQty):0,p18:k.MRTReceiptedQty?Number(k.MRTReceiptedQty):0,p19:!0,p20:"SetDefaultMaterialReturnDetID"==n?"SetDefault":null,p21:e.parentId?Number(e.parentId):k.MaterialReturnID?k.MaterialReturnID:0,p22:k.MaterialID?k.MaterialID:0,p23:!1,p24:"SetDefaultMaterialReturnDetID"==n,p25:localStorage.getItem("userid"),p26:S()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,pe.Z)(0).then((n=>{(0,v.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?W.alert({open:!0,color:"warning",message:[_e("Deleted Successfully")]}):W.alert({open:!0,color:"success",message:[_e("Saved to Draft")]}),W.loading(!1),W.attachmentSave(a[0].Data.IDPK),Ue(),W.RefreshTable(),e.clrImgstate(!0)):(W.alert({open:!0,color:"warning",message:[l.message]}),W.loading(!1))}))}))}}function Je(e){return CreateEasy(e,z,H,W,Y),!1}function $e(e,a){return AdvanceSearch(e,a,Be,Le(),tt,t),!1}const Xe=(t,a,l,n,r,i)=>{const o=D.v.Api+"FP847S3/",u={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:1==k.IsMRTActual,p13:1==k.IsMRTSplit,p14:1==k.IsMRTReject,p15:null,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:null,p20:null,p21:e.parentId?Number(e.parentId):0,p22:"0"==k.MaterialID?null:k.MaterialID,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:"0"==k.ContractID?null:k.ContractID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.LocalityID?null:k.LocalityID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.BuildingID?null:k.BuildingID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.MatWareHouseID?null:k.MatWareHouseID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==k.ProStoreID?null:k.ProStoreID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==k.EmployeeID?null:k.EmployeeID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==k.DivisionID?null:k.DivisionID,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:"0"==k.MaterialIssueID?null:k.MaterialIssueID,p54:a?"%"+a+"%":null,p55:k.MaterialMSDate?k.MaterialMSDate:null,p56:null,p57:null,p58:"0"==k.MatProcessTypeID?null:k.MatProcessTypeID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:a?"%"+a+"%":null,p62:k.MaterialReturnDate?k.MaterialReturnDate:null,p63:null,p64:null,p65:"0"==k.MaterialTypeID?null:k.MaterialTypeID,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:"0"==k.MaterialMainClassID?null:k.MaterialMainClassID,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:"0"==k.MatSubClassID?null:k.MatSubClassID,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:"0"==k.MaterialMakeID?null:k.MaterialMakeID,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:"0"==k.MaterialModelID?null:k.MaterialModelID,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:"0"==k.MATUOMID?null:k.MATUOMID,p81:a?"%"+a+"%":null,p82:a?"%"+a+"%":null,p83:"0"==k.MatGradeID?null:k.MatGradeID,p84:a?"%"+a+"%":null,p85:a?"%"+a+"%":null,p86:"0"==k.MatMaterialColorID?null:k.MatMaterialColorID,p87:a?"%"+a+"%":null,p88:a?"%"+a+"%":null,p89:"0"==k.MadeRawMaterialID?null:k.MadeRawMaterialID,p90:a?"%"+a+"%":null,p91:a?"%"+a+"%":null,p92:"0"==k.MatMaterialSizeID?null:k.MatMaterialSizeID,p93:a?"%"+a+"%":null,p94:a?"%"+a+"%":null,p95:a?"%"+a+"%":null,p96:a?"%"+a+"%":null,p97:t,p98:10,p99:l,p100:null,p101:null,p102:localStorage.getItem("UserGroupID"),p103:localStorage.getItem("userid")}},m=Object.keys(u.data).slice(0,Object.keys(u.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(u.data).length-8?u.data[t]:null,e)),{});L(!0);const d={data:m};return(0,s.Z)(o,"ClearAll"==l?d:u,"SetDefaultMaterialReturnDetID"==l&&n?n:z.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return 1==n.length?n[0]:{};G(1==t?e>0?n:[]:K.concat(n)),"SetDefaultMaterialReturnDetID"==l&&(e>0?Ve(n[0],"SetDefaultMaterialReturnDetID"):U("NORECORDS")),L(!1)}else W.alert({open:!0,color:"warning",message:[e.Output.status.message]}),L(!1)}))},et=(t,l,n)=>{const r=D.v.Api+"FP847S3/",i={data:{p1:null,p2:"MaterialReturnDetCode"==n&&l?"%"+l+"%":null,p3:"MRTWoDetDesc"==n&&l?"%"+l+"%":null,p4:"MRTQty"==n&&l?"%"+l+"%":null,p5:"MRTPrice"==n&&l?"%"+l+"%":null,p6:"MRTAmount"==n&&l?"%"+l+"%":null,p7:"MRTWAC"==n&&l?"%"+l+"%":null,p8:"MRTPPMKey"==n&&l?"%"+l+"%":null,p9:"MRTCCMKey"==n&&l?"%"+l+"%":null,p10:"MRTSplitQty"==n&&l?"%"+l+"%":null,p11:"MRTActualQty"==n&&l?"%"+l+"%":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:a.MaterialReturnRegistryMaterialReturnID?a.MaterialReturnRegistryMaterialReturnID:"0",p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:t,p98:10,p99:"MaterialReturnDetID",p100:null,p101:null,p102:localStorage.getItem("UserGroupID"),p103:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};L(!0),(0,s.Z)(r,"ClearAll"==n?o:i,z.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("MaterialReturnDetCode"==n&&X(e>0),"MRTPPMKey"==n&&te(e>0),"MRTCCMKey"==n&&le(e>0),"MRTBudgetCostMaterialDetKey"==n&&re(e>0),"MRTRemainingQty"==n&&oe(e>0),"MRTReceiptedQty"==n&&se(e>0),"MRTSplitQty"==n&&De(e>0),"MRTActualQty"==n&&he(e>0),"MRTPrice"==n&&Pe(e>0),"MRTAmount"==n&&xe(e>0),"MRTWAC"==n&&Ae(e>0),"MRTWoDetDesc"==n&&Fe(e>0),"MRTRejectRemarks"==n&&Ze(e>0),G(l)):("MaterialReturnDetCode"==n&&X(!0),"MRTPPMKey"==n&&te(!0),"MRTCCMKey"==n&&le(!0),"MRTBudgetCostMaterialDetKey"==n&&re(!0),"MRTRemainingQty"==n&&oe(!0),"MRTReceiptedQty"==n&&se(!0),"MRTSplitQty"==n&&De(!0),"MRTActualQty"==n&&he(!0),"MRTPrice"==n&&Pe(!0),"MRTAmount"==n&&xe(!0),"MRTWAC"==n&&Ae(!0),"MRTWoDetDesc"==n&&Fe(!0),"MRTRejectRemarks"==n&&Ze(!0),G(K.concat(l))),L(!1)}else W.alert({open:!0,color:"warning",message:[e.Output.status.message]}),L(!1)}))},tt=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a&&A({type:"text",name:t,value:e})}),[k]);function at(e){if("MaterialID"==e){if(!k.MaterialID)return!1}else if("MaterialReturnID"==e&&!k.MaterialReturnID)return!1}function lt(e){if("MaterialID"==e){if(!k.MaterialID)return!1}else if("MaterialReturnID"==e&&!k.MaterialReturnID)return!1}const nt=e=>{W.ConfirmAlert(n().createElement(ge(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>rt(e),onCancel:()=>W.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:_e("Yes"),cancelBtnText:_e("No"),showCancel:!0},_e("Do you want to update this record?")))};function rt(e){W.ConfirmAlert(null),C(e.IsDraft),_(Number(e.MaterialReturnDetIDPK)?Number(e.MaterialReturnDetIDPK):0),A({type:"text",name:"MaterialReturnDetCode",value:e.MaterialReturnDetCode?e.MaterialReturnDetCode:""}),A({type:"text",name:"MRTPPMKey",value:e.MRTPPMKey?e.MRTPPMKey:""}),A({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),A({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),A({type:"number",name:"MRTQty",number:e.MRTQty?Number(e.MRTQty):0}),A({type:"text",name:"MRTCCMKey",value:e.MRTCCMKey?e.MRTCCMKey:""}),A({type:"text",name:"MRTBudgetCostMaterialDetKey",value:e.MRTBudgetCostMaterialDetKey?e.MRTBudgetCostMaterialDetKey:""}),A({type:"number",name:"MaterialReturnID",number:e.MaterialReturnID?Number(e.MaterialReturnID):0}),A({type:"text",name:"MaterialReturnNo",value:e.MaterialReturnNo?e.MaterialReturnNo:""}),A({type:"boolean",name:"IsMRTActual",boolean:!!e.IsMRTActual&&e.IsMRTActual}),A({type:"boolean",name:"IsMRTSplit",boolean:!!e.IsMRTSplit&&e.IsMRTSplit}),A({type:"boolean",name:"IsMRTReject",boolean:!!e.IsMRTReject&&e.IsMRTReject}),A({type:"text",name:"MRTRemainingQty",value:e.MRTRemainingQty?e.MRTRemainingQty:""}),A({type:"text",name:"MRTReceiptedQty",value:e.MRTReceiptedQty?e.MRTReceiptedQty:""}),A({type:"text",name:"MRTSplitQty",value:e.MRTSplitQty?e.MRTSplitQty:""}),A({type:"text",name:"MRTActualQty",value:e.MRTActualQty?e.MRTActualQty:""}),A({type:"text",name:"MRTPrice",value:e.MRTPrice?e.MRTPrice:""}),A({type:"text",name:"MRTAmount",value:e.MRTAmount?e.MRTAmount:""}),A({type:"text",name:"MRTWAC",value:e.MRTWAC?e.MRTWAC:""}),A({type:"text",name:"MRTWoDetDesc",value:e.MRTWoDetDesc?e.MRTWoDetDesc:""}),A({type:"text",name:"MRTRejectRemarks",value:e.MRTRejectRemarks?e.MRTRejectRemarks:""})}const it=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:c,onChange:e=>{}},n().createElement(V.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},c&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[847]"}," ",_e("Add "),je("847")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},z.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(Te.Z,{row:!0},n().createElement(F.Z,{labelPlacement:"bottom",id:"fld847L1ECEntryCheckbox",control:n().createElement(N.Z,{checked:"1"==d,onChange:e=>p(e.target.checked)}),label:_e(1==d?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{W.AttachExpand(!0)},id:"fld847L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Ee.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,_e("Attach")))),!Q&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ue()},id:"fld847L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Ee.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,_e("Reset")))),"1"===R&&Q&&n().createElement(ye.Z,{frmctrlid:"fld847L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{qe("draftdel")}}),Q&&"1"!==R||e.createEasy?null:z.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{qe()},frmctrlid:"fld847L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Ne.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,_e("Draft")))),z.AccessRights.IsAdd||z.AccessRights.IsEdit?n().createElement(Me.Z,{frmctrlid:"fld847L1ECSaveBtnIsAdd",name:_e(Q?"Update":"Save"),disabled:!1,onClick:()=>{it(k.MRTQty)?e.parentId&&0!=e.parentId?W.ConfirmAlert(n().createElement(ge(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:_e("Are you sure?"),onConfirm:()=>Ye(),onCancel:()=>W.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:_e("Yes"),cancelBtnText:_e("Cancel"),showCancel:!0},_e(Q?"Do you want to Update?":"Do you want to Save?"))):W.alert({open:!0,color:"warning",message:[_e("Please select the ")+" "+je("MaterialReturnID")]}):W.alert({open:!0,color:"warning",message:[_e("Please enter the")+""+je("MRTQty")]})}}):null,!e.createEasy&&n().createElement(me.Z,{frmctrlid:"fld847L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ue(),g(!1),W.EditClose(!0),W.hideAddBtn(!1),H({type:"Add",payload:!1})}}))))),n().createElement(o.Z,null,n().createElement("div",{id:"MaterialReturnDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"MaterialReturnDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"MaterialReturnDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(y.Z,{spacing:2},n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MaterialReturnDetCode,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MaterialReturnDetCode",tfLabel:je("MaterialReturnDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{$&&et(1,"","ClearAll"),X(!0)},frmctrlid:"fld847_26222",frmctrlidName:"MaterialReturnDetCode",fieldorder:"0",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{$&&et(e,t,"MaterialReturnDetCode"),tt(t,"MaterialReturnDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||X(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:k.MaterialReturnDetCode,loading:B,clear:e=>{e&&(A({type:"text",name:"MaterialReturnDetCode",value:""}),X(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTPPMKey,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTPPMKey",tfLabel:je("MRTPPMKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{ee&&et(1,"","ClearAll"),te(!0)},frmctrlid:"fld847_26198",frmctrlidName:"MRTPPMKey",fieldorder:"0",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ee&&et(e,t,"MRTPPMKey"),tt(t,"MRTPPMKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:k.MRTPPMKey,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTPPMKey",value:""}),te(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Re.Z,{json:Ce,id:k.MaterialID,"data-testid":k.MaterialID,value:k.MaterialName,SPName:"MaterialReturnDetails",FieldName:"MaterialID",tfLabel:je("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>tt(e,"MaterialID","select"),onChange:(e,t)=>{Xe(e,t,"MaterialIDPK")},KeyBack:e=>{lt("MaterialID")},fieldorder:"1",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,openSlide:()=>{Je("354")},Tabledialog:()=>$e("354","MaterialID"),loading:B,clear:e=>{e&&at("MaterialID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ce.Z,{json:Ce,"data-testid":k.MRTQty,SPName:"MaterialReturnDetails",FieldName:"MRTQty",tfLabel:je("MRTQty"),frmctrlid:"fld847_26218",fieldorder:"2",onChange:e=>{tt(e,"MRTQty","number")},clear:e=>{e&&A({type:"number",name:"MRTQty",number:0})},value:k.MRTQty})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTCCMKey,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTCCMKey",tfLabel:je("MRTCCMKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{ae&&et(1,"","ClearAll"),le(!0)},frmctrlid:"fld847_26199",frmctrlidName:"MRTCCMKey",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ae&&et(e,t,"MRTCCMKey"),tt(t,"MRTCCMKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.MRTCCMKey,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTCCMKey",value:""}),le(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTBudgetCostMaterialDetKey,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTBudgetCostMaterialDetKey",tfLabel:je("MRTBudgetCostMaterialDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{ne&&et(1,"","ClearAll"),re(!0)},frmctrlid:"fld847_26201",frmctrlidName:"MRTBudgetCostMaterialDetKey",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ne&&et(e,t,"MRTBudgetCostMaterialDetKey"),tt(t,"MRTBudgetCostMaterialDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:k.MRTBudgetCostMaterialDetKey,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTBudgetCostMaterialDetKey",value:""}),re(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{json:Ce,id:k.MaterialReturnID,"data-testid":k.MaterialReturnID,value:k.MaterialReturnNo,SPName:"MaterialReturnDetails",FieldName:"MaterialReturnID",tfLabel:je("MaterialReturnID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>tt(e,"MaterialReturnID","select"),onChange:(e,t)=>{Xe(e,t,"MaterialReturnIDPK")},KeyBack:e=>{lt("MaterialReturnID")},fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,openSlide:()=>{Je("846")},Tabledialog:()=>$e("846","MaterialReturnID"),loading:B,clear:e=>{e&&at("MaterialReturnID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(F.Z,{style:{color:"#337ab7"},"data-testid":k.IsMRTActual,labelPlacement:"end",control:n().createElement(N.Z,{checked:"1"==k.IsMRTActual,onChange:e=>{tt(e.target.checked,"IsMRTActual","boolean")},frmctrlid:"fld847_26211",frmctrlidname:"IsMRTActual",fieldorder:"2",tfLabel:je("IsMRTActual")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsMRTActual?"#21446F":"#999"}},je("IsMRTActual"))}))),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(F.Z,{style:{color:"#337ab7"},"data-testid":k.IsMRTSplit,labelPlacement:"end",control:n().createElement(N.Z,{checked:"1"==k.IsMRTSplit,onChange:e=>{tt(e.target.checked,"IsMRTSplit","boolean")},frmctrlid:"fld847_26212",frmctrlidname:"IsMRTSplit",fieldorder:"2",tfLabel:je("IsMRTSplit")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsMRTSplit?"#21446F":"#999"}},je("IsMRTSplit"))}))),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(F.Z,{style:{color:"#337ab7"},"data-testid":k.IsMRTReject,labelPlacement:"end",control:n().createElement(N.Z,{checked:"1"==k.IsMRTReject,onChange:e=>{tt(e.target.checked,"IsMRTReject","boolean")},frmctrlid:"fld847_26213",frmctrlidname:"IsMRTReject",fieldorder:"2",tfLabel:je("IsMRTReject")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsMRTReject?"#21446F":"#999"}},je("IsMRTReject"))}))),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTRemainingQty,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTRemainingQty",tfLabel:je("MRTRemainingQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{ie&&et(1,"","ClearAll"),oe(!0)},frmctrlid:"fld847_26214",frmctrlidName:"MRTRemainingQty",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ie&&et(e,t,"MRTRemainingQty"),tt(t,"MRTRemainingQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:k.MRTRemainingQty,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTRemainingQty",value:""}),oe(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTReceiptedQty,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTReceiptedQty",tfLabel:je("MRTReceiptedQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{ue&&et(1,"","ClearAll"),se(!0)},frmctrlid:"fld847_26215",frmctrlidName:"MRTReceiptedQty",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ue&&et(e,t,"MRTReceiptedQty"),tt(t,"MRTReceiptedQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:ue,SideEntryView:!1,KeyBack:e=>{},value:k.MRTReceiptedQty,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTReceiptedQty",value:""}),se(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTSplitQty,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTSplitQty",tfLabel:je("MRTSplitQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{de&&et(1,"","ClearAll"),De(!0)},frmctrlid:"fld847_26216",frmctrlidName:"MRTSplitQty",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{de&&et(e,t,"MRTSplitQty"),tt(t,"MRTSplitQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:k.MRTSplitQty,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTSplitQty",value:""}),De(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTActualQty,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTActualQty",tfLabel:je("MRTActualQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{fe&&et(1,"","ClearAll"),he(!0)},frmctrlid:"fld847_26217",frmctrlidName:"MRTActualQty",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{fe&&et(e,t,"MRTActualQty"),tt(t,"MRTActualQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:fe,SideEntryView:!1,KeyBack:e=>{},value:k.MRTActualQty,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTActualQty",value:""}),he(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTPrice,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTPrice",tfLabel:je("MRTPrice"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{be&&et(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld847_26219",frmctrlidName:"MRTPrice",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{be&&et(e,t,"MRTPrice"),tt(t,"MRTPrice","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:be,SideEntryView:!1,KeyBack:e=>{},value:k.MRTPrice,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTPrice",value:""}),Pe(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTAmount,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTAmount",tfLabel:je("MRTAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{we&&et(1,"","ClearAll"),xe(!0)},frmctrlid:"fld847_26220",frmctrlidName:"MRTAmount",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{we&&et(e,t,"MRTAmount"),tt(t,"MRTAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||xe(!0)},showList:we,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.MRTAmount,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTAmount",value:""}),xe(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTWAC,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTWAC",tfLabel:je("MRTWAC"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{ke&&et(1,"","ClearAll"),Ae(!0)},frmctrlid:"fld847_26221",frmctrlidName:"MRTWAC",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ke&&et(e,t,"MRTWAC"),tt(t,"MRTWAC","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ae(!0)},showList:ke,SideEntryView:!1,KeyBack:e=>{},value:k.MRTWAC,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTWAC",value:""}),Ae(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTWoDetDesc,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTWoDetDesc",tfLabel:je("MRTWoDetDesc"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{Ke&&et(1,"","ClearAll"),Fe(!0)},frmctrlid:"fld847_26223",frmctrlidName:"MRTWoDetDesc",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{Ke&&et(e,t,"MRTWoDetDesc"),tt(t,"MRTWoDetDesc","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Fe(!0)},showList:Ke,SideEntryView:!1,KeyBack:e=>{},value:k.MRTWoDetDesc,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTWoDetDesc",value:""}),Fe(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{"data-testid":k.MRTRejectRemarks,json:Ce,SPName:"MaterialReturnDetails",FieldName:"MRTRejectRemarks",tfLabel:je("MRTRejectRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&nt(t),onClick:()=>{Ge&&et(1,"","ClearAll"),Ze(!0)},frmctrlid:"fld847_26224",frmctrlidName:"MRTRejectRemarks",fieldorder:"2",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{Ge&&et(e,t,"MRTRejectRemarks"),tt(t,"MRTRejectRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ze(!0)},showList:Ge,SideEntryView:!1,KeyBack:e=>{},value:k.MRTRejectRemarks,loading:B,clear:e=>{e&&(A({type:"text",name:"MRTRejectRemarks",value:""}),Ze(!0))}})))),n().createElement("div",{id:"MaterialReturnDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MaterialReturnDetailsSideBar").style.width="0",void h(!1))},""),f&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))}));a(77366),a(97829);var be=a(65197);const Pe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[u,m]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[d,p]=(0,l.useState)(!0),[c,y]=(0,l.useState)(e.showDetail),[M,g]=(0,l.useState)(""),[R,C]=n().useState(!1),[T,E]=n().useState(""),[N,f]=n().useState(!1),S=(0,l.useContext)(Be),{cstate:v,cdispatch:h}=Le(),[b,P]=(0,l.useState)(!1),[w,x]=(0,l.useState)(""),[k,A]=(0,l.useState)(""),[B,L]=(0,l.useState)("");let K=(0,I.Z)();(0,l.useEffect)((()=>{v.editData.length>0&&(m(v.editData),C(!1),h({type:"PrimaryId",payload:v.editData[0].MaterialReturnDetIDPK}))}),[v.editData]),(0,l.useEffect)((()=>{v.showTableview&&L(v.showTableview)}),[v.showTableview]),(0,l.useEffect)((()=>{p(v.ExpandDetailValue)}),[v.ExpandDetailValue]),(0,l.useEffect)((()=>{p(v.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{p(e),C(null)},viewtoggle:()=>{C(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=D.v.Api+"FP847S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:1,p98:10,p99:v.IsDraft?"DraftMaterialReturnDetID":"MaterialReturnDetID",p100:null,p101:null,p102:localStorage.getItem("UserGroupID"),p103:localStorage.getItem("userid")}};(0,pe.Z)(0).then((e=>{(0,s.Z)(l,n,e).then((e=>{S.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===R&&a.current.clear()}})));const F=e=>K?.[e]?K?.[e]:e,G=e=>v.language?.[e]?v.language[e]:e;function Z(e,t){}const O=(e,t)=>(a,l)=>{E(N?Object.assign(...u.filter((e=>e.MaterialReturnDetIDPK==t)).map((e=>e))):v.editData),C(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:d,onChange:()=>()=>{e.expandTable&&p(!d)}},!R&&n().createElement(V.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},d?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},v.IsDraft?F("Draft"):"",G("MaterialReturnDetails"),e.viewonly?" ":"("+v.count+")")):"",d?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&v.AccessRights.IsAdd?n().createElement(ae.Z,{name:F("Add"),frmctrlid:"fld847L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{S.hideAddBtn(!0),h({type:"editData",payload:[]}),h({type:"ShowDetail",payload:!1}),h({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&v.AccessRights.IsEdit?n().createElement(de.Z,{frmctrlid:"fld847L1VCEditBtn",onClick:O("panel0",""),disabled:!1}):v.IsDraft&&v.AccessRights.IsAdd&&n().createElement(de.Z,{frmctrlid:"fld847L1VCEditBtnIsAdd",onClick:()=>{O("panel","")},disabled:!1}),!e.viewonly&&n().createElement(me.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld847L1VCCloseBtn",onClick:()=>{p(!1),S.hideAddBtn(!1),N&&(h({type:"editData",payload:[]}),m([]))}})):"")),n().createElement(o.Z,{style:{display:"block"}},u.map(((t,l)=>n().createElement("div",{key:l},R==="panel"+l?n().createElement(he,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(be.Z,{tableName:"MaterialReturnDetails",tableID:847,parentID:t.MaterialReturnDetIDPK,fldid:"fld847L1VCContainer",OpenSlideComponent:Z,index:l,refresh:B,val:t,tf:G,t:F,title:"10.0.0.59-3:08:17 PM-18-7[847]"}))))))))}));var we=a(67698),xe=a(55995),ke=a(45965),Ae=a(41722);a(9175);const Be=(0,l.createContext)(),Le=()=>{const e=(0,l.useContext)(Be);if(void 0===e)throw new Error("useCont must be used within  MaterialReturnDetailsContext Provider");return e},Ke=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),u=(0,l.useRef)(),s=(0,l.useRef)(),[m,d]=(0,l.useState)(!0),[p,c]=(0,l.useState)(),y=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[M,D]=(0,l.useState)(0),[g,R]=(0,l.useReducer)(Ae.D,Ae.E),[I,C]=(0,l.useState)(""),[T,E]=(0,l.useState)([]),[N,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divMaterialReturnDetails-Entry").style.width="100%",document.getElementById("MaterialReturnDetails-MainTable").style.width="100%",document.getElementById("MaterialReturnDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{d(!0),document.getElementById("divMaterialReturnDetails-Entry").style.width="100%",document.getElementById("MaterialReturnDetails-MainTable").style.width="100%",document.getElementById("MaterialReturnDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(R({type:"editData",payload:[e.editData]}),R({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{R(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const S=e=>{E([]),document.getElementById("divMaterialReturnDetails-Entry").style.width="100%",document.getElementById("MaterialReturnDetailsEntryTable").style.width="100%",document.getElementById("MaterialReturnDetails-MainEntry").style.width="100%",document.getElementById("MaterialReturnDetails-MainEntry").style.display="block",document.getElementById("MaterialReturnDetails-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialReturnDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialReturnDetails").style.width="0%",document.getElementById("overlayimgAttMaterialReturnDetails").style.display="none"};(0,l.useEffect)((()=>{y((e=>{(0,pe.Z)(1).then((e=>{var t=new Array;t.push(e),R({type:"token",payload:t}),D(t.length),v(e)}))}))}),[]);const v=e=>{(0,ke.Z)(e,846).then((e=>R({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(Be.Provider,{value:{cstate:g,cdispatch:R,ContextApi:Le,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==M&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,T),E([])},EditClose:e=>S(),AttachExpand:e=>(u.current.AttachmentData(g.PrimaryId),void(m&&(document.getElementById("overlayPreviewMaterialReturnDetails").style.width="50%",document.getElementById("divMaterialReturnDetails-Entry").style.width="100%",document.getElementById("MaterialReturnDetails-MainTable").style.width="100%",document.getElementById("MaterialReturnDetails-MainEntry").style.width="100%",document.getElementById("MaterialReturnDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMaterialReturnDetails").style.display="block",document.getElementById("overlayimgAttMaterialReturnDetails").style.width="25%"))),Expanded:e=>{g.ShowDetail&&o.current.tableClick(e),R({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{g.ShowDetail&&o.current.viewtoggle()},clear:e=>{R({type:"ShowDetail",payload:!1}),R({type:"editData",payload:[]}),g.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{g.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),u.current.clrImgstate(!0)}}},n().createElement("div",{id:"MaterialReturnDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"MaterialReturnDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"MaterialReturnDetailsEntryTable",style:{width:"100%"}},g.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialReturnDetails-Entry",style:{width:"100%"}},0!==M?n().createElement(Pe,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(xe.Z,{ref:s,menurefID:847,fileId:"LogoImgMaterialReturnDetails",imgloading:t=>{t||g.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:g.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewMaterialReturnDetails",frmctrlid:"PvwIm_847_L1_",tempImg:e=>{g.PrimaryId?u.current.AttachmentData(g.PrimaryId):u.current.tempImg(e),E(e)},clearTempData:g.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialReturnDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(he,{ref:i,clrImgstate:e=>u.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(xe.Z,{ref:s,menurefID:847,fileId:"LogoImgMaterialReturnDetails",imgloading:t=>{t||g.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:g.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewMaterialReturnDetails",frmctrlid:"PvwIm_847_L1_",tempImg:e=>{g.PrimaryId?u.current.AttachmentData(g.PrimaryId):u.current.tempImg(e),E(e)},clearTempData:g.Add})),n().createElement("div",{id:"MaterialReturnDetails-MainTable"},0!==M?n().createElement(se,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(we.Z,{ImgAttachment:e=>S(),menurefID:847,fileId:"AttImgMaterialReturnDetails",imgid:"overlayimgAttMaterialReturnDetails",valueIDPK:g.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialReturnDetails",ref:u,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_847_L1_",timglist:e=>{s.current.timglist(e),E(e)},clearTempData:g.Add}))),n().createElement("div",{id:"MaterialReturnDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},95246:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F,saveComponent:()=>Z,trimFunc:()=>G});var l=a(92950),n=a.n(l),r=a(45237),i=a(36939),o=a(61201),u=a(50743),s=(a(3212),a(10966),a(30553)),m=(a(99090),a(44528)),d=a(37148),p=a(61956),c=a(51673),y=(a(96071),a(14439)),M=a(27848),D=a(49174),g=(a(38773),a(19089),a(1695)),R=(a(13235),a(61924)),I=a.n(R),C=a(26537),T=a(40900),E=a(35131),N=a.n(E),f=a(55490),S=(a(2493),a(92371)),v=(a(82729),a(75355),a(11107),a(40826));const h={EnterKeyValues:{MaterialReturnRegistry:["MaterialMINo","ContractName","LocalityName","DivisionName","ProStoreName","WareHouseName","MaterialReturnNo","MaterialReturnDate","FirstName","IsMRTReceipt","MaterialReturnCode","RequestedThrough","MRTWoDetDesc","MatReturnStatus","MRTStatus","IsMRTMaterial","MRTStageKey","BudgetCostAccGrpDetKey","MRTWorkOrderKey","MRTYearEndKey","BuildingName","MatProcessTypeName"]},Label:{MaterialReturnRegistry:{MaterialIssueID:["MaterialMINo","MaterialIssueDate"],ContractID:["MaterialReturnCode"],LocalityID:["MaterialReturnCode"],DivisionID:["MaterialReturnCode"],ProStoreID:["MaterialReturnCode"],MatWareHouseID:["MaterialReturnCode"],MaterialReturnNo:["MaterialReturnCode"],MaterialReturnDate:["MaterialReturnCode"],EmployeeID:["EmployeeCode","FirstName","LastName"],IsMRTReceipt:["MaterialReturnCode"],MaterialReturnCode:["MaterialReturnCode"],RequestedThrough:["MaterialReturnCode"],MRTWoDetDesc:["MaterialReturnCode"],MatReturnStatus:["MaterialReturnCode"],MRTStatus:["MaterialReturnCode"],IsMRTMaterial:["MaterialReturnCode"],MRTStageKey:["MaterialReturnCode"],BudgetCostAccGrpDetKey:["MaterialReturnCode"],MRTWorkOrderKey:["MaterialReturnCode"],MRTYearEndKey:["MaterialReturnCode"],BuildingID:["MaterialReturnCode"],MatProcessTypeID:["MaterialReturnCode"]}},LabelHeader:{MaterialReturnRegistry:{MaterialIssueID:["Issue No","MaterialIssueDate"],ContractID:["MaterialReturnCode"],LocalityID:["MaterialReturnCode"],DivisionID:["MaterialReturnCode"],ProStoreID:["MaterialReturnCode"],MatWareHouseID:["MaterialReturnCode"],MaterialReturnNo:["MaterialReturnCode"],MaterialReturnDate:["MaterialReturnCode"],EmployeeID:["Employee Code","First Name","Last Name"],IsMRTReceipt:["MaterialReturnCode"],MaterialReturnCode:["MaterialReturnCode"],RequestedThrough:["MaterialReturnCode"],MRTWoDetDesc:["MaterialReturnCode"],MatReturnStatus:["MaterialReturnCode"],MRTStatus:["MaterialReturnCode"],IsMRTMaterial:["MaterialReturnCode"],MRTStageKey:["MaterialReturnCode"],BudgetCostAccGrpDetKey:["MaterialReturnCode"],MRTWorkOrderKey:["MaterialReturnCode"],MRTYearEndKey:["MaterialReturnCode"],BuildingID:["MaterialReturnCode"],MatProcessTypeID:["MaterialReturnCode"]}},Property:{MaterialReturnRegistry:{MaterialIssueID:{id:"fld846_26177",clearID:"MaterialReturnRegistryMaterialMINoClear",type:"select",labelID:"MaterialIssueIDPK",labelname:"Material Issue No.",fielddisplayname:"MaterialMINo",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},ContractID:{id:"fld846_26171",clearID:"MaterialReturnRegistryContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},LocalityID:{id:"fld846_26172",clearID:"MaterialReturnRegistryLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},DivisionID:{id:"fld846_26176",clearID:"MaterialReturnRegistryDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},ProStoreID:{id:"fld846_26174",clearID:"MaterialReturnRegistryProStoreNameClear",type:"select",labelID:"ProStoreIDPK",labelname:"Store",fielddisplayname:"ProStoreName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},MatWareHouseID:{id:"fld846_26173",clearID:"MaterialReturnRegistryWareHouseNameClear",type:"select",labelID:"MatWareHouseIDPK",labelname:"Ware House",fielddisplayname:"WareHouseName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},MaterialReturnNo:{id:"fld846_26197",labelID:"MaterialReturnNo",maxLength:"50",labelname:"Document No.",frmctrlid:"fld846_26197",frmctrlidname:"MaterialReturnNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!0},MaterialReturnDate:{id:"fld846_26187",labelID:"MaterialReturnDate",maxLength:"",labelname:"Return Date",frmctrlid:"fld846_26187",frmctrlidname:"MaterialReturnDate",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},EmployeeID:{id:"fld846_26175",clearID:"MaterialReturnRegistryFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"Returned by",fielddisplayname:"FirstName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},IsMRTReceipt:{id:"fld846_26189",labelID:"IsMRTReceipt",maxLength:"",labelname:"IsMRTReceipt",frmctrlid:"fld846_26189",frmctrlidname:"IsMRTReceipt",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialReturnCode:{id:"fld846_26196",labelID:"MaterialReturnCode",maxLength:"50",labelname:"MaterialReturnCode",frmctrlid:"fld846_26196",frmctrlidname:"MaterialReturnCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RequestedThrough:{id:"fld846_26194",labelID:"RequestedThrough",maxLength:"-1",labelname:"RequestedThrough",frmctrlid:"fld846_26194",frmctrlidname:"RequestedThrough",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTWoDetDesc:{id:"fld846_26195",labelID:"MRTWoDetDesc",maxLength:"-1",labelname:"MRTWoDetDesc",frmctrlid:"fld846_26195",frmctrlidname:"MRTWoDetDesc",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatReturnStatus:{id:"fld846_26169",labelID:"MatReturnStatus",maxLength:"",labelname:"MatReturnStatus",frmctrlid:"fld846_26169",frmctrlidname:"MatReturnStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTStatus:{id:"fld846_26170",labelID:"MRTStatus",maxLength:"",labelname:"MRTStatus",frmctrlid:"fld846_26170",frmctrlidname:"MRTStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMRTMaterial:{id:"fld846_26188",labelID:"IsMRTMaterial",maxLength:"",labelname:"IsMRTMaterial",frmctrlid:"fld846_26188",frmctrlidname:"IsMRTMaterial",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTStageKey:{id:"fld846_26179",labelID:"MRTStageKey",maxLength:"",labelname:"MRTStageKey",frmctrlid:"fld846_26179",frmctrlidname:"MRTStageKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BudgetCostAccGrpDetKey:{id:"fld846_26180",labelID:"BudgetCostAccGrpDetKey",maxLength:"",labelname:"BudgetCostAccGrpDetKey",frmctrlid:"fld846_26180",frmctrlidname:"BudgetCostAccGrpDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTWorkOrderKey:{id:"fld846_26181",labelID:"MRTWorkOrderKey",maxLength:"",labelname:"MRTWorkOrderKey",frmctrlid:"fld846_26181",frmctrlidname:"MRTWorkOrderKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MRTYearEndKey:{id:"fld846_26182",labelID:"MRTYearEndKey",maxLength:"",labelname:"MRTYearEndKey",frmctrlid:"fld846_26182",frmctrlidname:"MRTYearEndKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BuildingID:{id:"fld846_26318",clearID:"MaterialReturnRegistryBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"BuildingID",fielddisplayname:"BuildingName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MatProcessTypeID:{id:"fld846_26178",clearID:"MaterialReturnRegistryMatProcessTypeNameClear",type:"select",labelID:"MatProcessTypeIDPK",labelname:"MatProcessTypeID",fielddisplayname:"MatProcessTypeName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{MaterialReturnRegistry:{MaterialIssueID:["MaterialMINo","MaterialMSDate","RequestedThrough","DriverName","ContractName","LocalityName","ProStoreName","WareHouseName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],DivisionID:["DivisionCode","DivisionName"],ProStoreID:["ProStoreCode","ProStoreName","MatProStoreAddress1","MatProStoreAddress2","POBoxNo","Pincode","CityName"],MatWareHouseID:["WareHouseCode","WareHouseName","WHAddress1","WHAddress2","POBoxNo","Pincode","CityName","IsActive","CreatedTtm","UpdatedTtm"],EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],MatProcessTypeID:["MatProcessTypeCode","MatProcessTypeName","IsActive","CreatedTtm","UpdatedTtm"]}}};a(42258),a(97829),a(79117);var b=a(79618),P=a(8981),w=a(63163),x=a(45155),k=a(51649),A=a(16233),B=a.n(A);const L={MaterialReturnIDPK:"",MaterialReturnCode:"",MaterialReturnNo:"",MaterialReturnDate:(0,v.format)(new Date,"yyyy-MM-dd"),MaterialReturnDateType:"",MaterialReturnDateBetween:"",RequestedThrough:"",MRTWoDetDesc:"",MatReturnStatus:"",MRTStatus:"",IsMRTMaterial:!1,IsMRTReceipt:!1,MRTStageKey:"",BudgetCostAccGrpDetKey:"",MRTWorkOrderKey:"",MRTYearEndKey:"",IsDraft:!1,Remarks:"",ContractID:null,LocalityID:null,BuildingID:null,MatWareHouseID:null,ProStoreID:null,EmployeeID:null,DivisionID:null,MaterialIssueID:null,MatProcessTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:null,EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionCode:"",DivisionName:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialRequestID:null,MaterialRequestCode:"",MatJobID:null,JobGOName:"",MatJobCode:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",Type:"MaterialReturnID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},K=(0,l.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const[a,R]=(0,l.useState)(!1),[E,A]=(0,l.useState)(!0),[K,F]=(0,l.useState)(!1),[G,O]=(0,l.useState)(!1),[W,z]=(0,l.useState)(!1),[H,Q]=(0,l.useState)(!1),[_,j]=(0,l.useState)([]),[V,U]=(0,l.useState)(null),[Y,q]=(0,l.useReducer)(S.Z,L),[J,$]=(0,l.useState)(!1),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)(0),[le,ne]=(0,l.useState)(""),[re,ie]=(0,l.useState)(""),[oe,ue]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!0),[de,pe]=(0,l.useState)(!0),[ce,ye]=(0,l.useState)(!0),[Me,De]=(0,l.useState)(!0),[ge,Re]=(0,l.useState)(!0),[Ie,Ce]=(0,l.useState)(!0),[Te,Ee]=(0,l.useState)(!0),[Ne,fe]=(0,l.useState)(!0),Se=(0,l.useContext)(b.MaterialReturnRegistryContext),{cstate:ve,cdispatch:he}=(0,b.ContextApi)(),[be]=(0,l.useState)(localStorage.getItem("Language")),[Pe]=(0,l.useState)(localStorage.getItem("Language")),[we,xe]=(0,l.useState)([]),[ke,Ae]=(0,l.useState)(null),[Be,Le]=(0,l.useState)(!1),[Ke,Fe]=(0,l.useState)(""),Ge=(0,l.useRef)(null),[Ze,Oe]=B()("846"),[We,ze]=(0,l.useState)(!1);let He=(0,P.Z)();const[Qe,_e]=(0,l.useState)({}),je=e=>He?.[e]?He[e]:e,Ve=t=>ve.language?.[t]?ve.language[t]:e.createEasy?Qe?.[t]:t;(0,l.useEffect)((()=>{ve.PrimaryId&&ae(Number(ve.PrimaryId))}),[ve.PrimaryId]),(0,l.useEffect)((()=>{ve.editData.length<0&&(0,C.Z)(1).then((e=>{nt(1,null,"SetDefaultMaterialReturnID",e)}))}),[]),(0,l.useEffect)((()=>{ve.editData.length>0?(qe(ve.editData[0],""),O(!0)):ve.Add&&(ae(0),O(!0))}),[ve.editData,ve.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),_e(Object.assign({},...t))}(Ze)}),[Ze]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){O(!0),F(!1)},CreateEasyProps:(e=!0,t)=>{Oe(!0),t?(mt(t),O(e)):(Je(),O(e))},clear:()=>{Je()}})));const Ue=e=>e?e.split("-").reverse().join("-"):null,Ye=e=>{if(e){let t=Ue(e);return"Invalid Date"!=new Date(t)?(0,v.format)(new Date(t),"yyyy-MM-dd"):e}return null},qe=(t,a,l)=>{let n=t;Object.keys(n).forEach((function(e){0==n[e]&&(n[e]=null)})),z(n.IsDraft),he({type:"EditIsDraft",payload:"1"==n.IsDraft}),"SetDefaultMaterialReturnID"==a?ne(n.MaterialReturnIDPK):(ae(e.primid?Number(e.primid):n.MaterialReturnIDPK?n.MaterialReturnIDPK:0),he({type:"PrimaryId",payload:n.MaterialReturnIDPK})),q({type:"number",name:"MaterialIssueID",number:n.MaterialIssueID?Number(n.MaterialIssueID):0}),q({type:"text",name:"MaterialMINo",value:n.MaterialMINo}),q({type:"number",name:"ContractID",number:n.ContractID?Number(n.ContractID):0}),q({type:"text",name:"ContractName",value:n.ContractName}),q({type:"number",name:"LocalityID",number:n.LocalityID?Number(n.LocalityID):0}),q({type:"text",name:"LocalityName",value:n.LocalityName}),q({type:"number",name:"DivisionID",number:n.DivisionID?Number(n.DivisionID):0}),q({type:"text",name:"DivisionName",value:n.DivisionName}),q({type:"number",name:"ProStoreID",number:n.ProStoreID?Number(n.ProStoreID):0}),q({type:"text",name:"ProStoreName",value:n.ProStoreName}),q({type:"number",name:"MatWareHouseID",number:n.MatWareHouseID?Number(n.MatWareHouseID):0}),q({type:"text",name:"WareHouseName",value:n.WareHouseName}),q({type:"text",name:"MaterialReturnNo",value:n.MaterialReturnNo?n.MaterialReturnNo:""}),q({type:"text",name:"MaterialReturnDate",value:n.MaterialReturnDate?Ue(n.MaterialReturnDate):null}),q({type:"number",name:"EmployeeID",number:n.EmployeeID?Number(n.EmployeeID):0}),q({type:"text",name:"FirstName",value:n.FirstName}),q({type:"boolean",name:"IsMRTReceipt",boolean:!!n.IsMRTReceipt&&n.IsMRTReceipt}),q({type:"text",name:"MaterialReturnCode",value:n.MaterialReturnCode?n.MaterialReturnCode:""}),q({type:"text",name:"RequestedThrough",value:n.RequestedThrough?n.RequestedThrough:""}),q({type:"text",name:"MRTWoDetDesc",value:n.MRTWoDetDesc?n.MRTWoDetDesc:""}),q({type:"number",name:"MatReturnStatus",number:n.MatReturnStatus}),q({type:"number",name:"MRTStatus",number:n.MRTStatus}),q({type:"boolean",name:"IsMRTMaterial",boolean:!!n.IsMRTMaterial&&n.IsMRTMaterial}),q({type:"number",name:"MRTStageKey",number:n.MRTStageKey}),q({type:"number",name:"BudgetCostAccGrpDetKey",number:n.BudgetCostAccGrpDetKey}),q({type:"number",name:"MRTWorkOrderKey",number:n.MRTWorkOrderKey}),q({type:"number",name:"MRTYearEndKey",number:n.MRTYearEndKey}),q({type:"number",name:"BuildingID",number:n.BuildingID?Number(n.BuildingID):0}),q({type:"text",name:"BuildingName",value:n.BuildingName}),q({type:"number",name:"MatProcessTypeID",number:n.MatProcessTypeID?Number(n.MatProcessTypeID):0}),q({type:"text",name:"MatProcessTypeName",value:n.MatProcessTypeName}),n.IsDraft?A(!0):A(!("1"!=n.IsActive&&!n.IsActive))},Je=()=>{j([]),ae(0),ne(""),ue(!0),me(!0),pe(!0),ye(!0),De(!0),Re(!0),Ce(!0),Ee(!0),fe(!0),he({type:"PrimaryId",payload:""}),q({type:"text",name:"MaterialIssueID",value:null}),q({type:"text",name:"MaterialMINo",value:""}),document.getElementById("MaterialReturnRegistryMaterialMINoClear")&&document.getElementById("MaterialReturnRegistryMaterialMINoClear").click(),q({type:"text",name:"ContractID",value:null}),q({type:"text",name:"ContractName",value:""}),document.getElementById("MaterialReturnRegistryContractNameClear")&&document.getElementById("MaterialReturnRegistryContractNameClear").click(),q({type:"text",name:"LocalityID",value:null}),q({type:"text",name:"LocalityName",value:""}),document.getElementById("MaterialReturnRegistryLocalityNameClear")&&document.getElementById("MaterialReturnRegistryLocalityNameClear").click(),q({type:"text",name:"DivisionID",value:null}),q({type:"text",name:"DivisionName",value:""}),document.getElementById("MaterialReturnRegistryDivisionNameClear")&&document.getElementById("MaterialReturnRegistryDivisionNameClear").click(),q({type:"text",name:"ProStoreID",value:null}),q({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialReturnRegistryProStoreNameClear")&&document.getElementById("MaterialReturnRegistryProStoreNameClear").click(),q({type:"text",name:"MatWareHouseID",value:null}),q({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialReturnRegistryWareHouseNameClear")&&document.getElementById("MaterialReturnRegistryWareHouseNameClear").click(),q({type:"text",name:"MaterialReturnNo",value:""}),q({type:"text",name:"MaterialReturnDate",value:(0,v.format)(new Date,"yyyy-MM-dd")}),q({type:"text",name:"EmployeeID",value:null}),q({type:"text",name:"FirstName",value:""}),document.getElementById("MaterialReturnRegistryFirstNameClear")&&document.getElementById("MaterialReturnRegistryFirstNameClear").click(),q({type:"boolean",name:"IsMRTReceipt",boolean:!1}),q({type:"text",name:"MaterialReturnCode",value:""}),q({type:"text",name:"RequestedThrough",value:""}),q({type:"text",name:"MRTWoDetDesc",value:""}),q({type:"number",name:"MatReturnStatus",number:0}),q({type:"number",name:"MRTStatus",number:0}),q({type:"boolean",name:"IsMRTMaterial",boolean:!1}),q({type:"number",name:"MRTStageKey",number:0}),q({type:"number",name:"BudgetCostAccGrpDetKey",number:0}),q({type:"number",name:"MRTWorkOrderKey",number:0}),q({type:"number",name:"MRTYearEndKey",number:0}),q({type:"text",name:"BuildingID",value:null}),q({type:"text",name:"BuildingName",value:""}),document.getElementById("MaterialReturnRegistryBuildingNameClear")&&document.getElementById("MaterialReturnRegistryBuildingNameClear").click(),q({type:"text",name:"MatProcessTypeID",value:null}),q({type:"text",name:"MatProcessTypeName",value:""}),document.getElementById("MaterialReturnRegistryMatProcessTypeNameClear")&&document.getElementById("MaterialReturnRegistryMatProcessTypeNameClear").click(),A(!0)},$e=()=>{const e={...Y};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Xe=()=>{Se.ConfirmAlert(n().createElement(I(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:je("Are you sure?"),onConfirm:()=>et(),onCancel:()=>Se.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:je("Yes"),cancelBtnText:je("Cancel"),showCancel:!0},ve.PrimaryId?je("Do you want to Update?"):je("Do you want to Save?")))},et=(e,t)=>{Se.loading(!0),Se.ConfirmAlert(null),he({type:"IsDraft",payload:!1}),Z({url:T.v.Api+"FP846S2/",PrimID:te,ParamType:e,state:Y,active:E,token:ve.token[0],DefaultPrimaryId:le}).then((t=>{const a=t[0].status;let l=t[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(Se.alert({open:!0,color:"warning",message:r}),Se.loading(!1)):tt(e)):(Se.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Se.loading(!1))}))},tt=(t,a)=>{ue(!0),me(!0),pe(!0),ye(!0),De(!0),Re(!0),Ce(!0),Ee(!0),fe(!0),Se.loading(!0),Se.ConfirmAlert(null),Z({url:T.v.Api+"FP846S1/",PrimID:te,ParamType:t,state:Y,active:E,token:ve.token[0],DefaultPrimaryId:le}).then((a=>{const l=a[0].status;200==l.code?(he({type:"PrimaryId",payload:a[0].Data.IDPK}),Se.AddOpen(a[0].Data.IDPK),"SetDefaultMaterialReturnID"==t?Se.alert({open:!0,color:"success",message:["Default Record Configured"]}):Se.alert({open:!0,color:"success",message:[l.message]}),Se.attachmentSave(a[0].Data.IDPK),Se.loading(!1),ve.AccessRights.IsApproval&&Se.Approval(!0),e.createEasy,he({type:"EditOpen",payload:!1}),he({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttMaterialReturnRegistry")&&(document.getElementById("overlayimgAttMaterialReturnRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialReturnRegistry").style.display="none",document.getElementById("divMaterialReturnRegistry-Entry").style.width="100%"),document.getElementById("MaterialReturnRegistry-MainTable").style.display="none"):(Se.alert({open:!0,color:"warning",message:[l.message]}),Se.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultMaterialReturnID"==t&&(O(!0),nt(1,null,"SetDefaultMaterialReturnID",ve.token[0]))}))};function at(e){return CreateEasy(e,ve,he,Se,Ge),!1}function lt(e,a){return AdvanceSearch(e,a,b.MaterialReturnRegistryContext,(0,b.ContextApi)(),it,t),!1}(0,l.useEffect)((()=>{O(ve.ExpandDetailValue)}),[ve.ExpandDetailValue]);const nt=(t,a,l,n,r,i)=>{const o=T.v.Api+"FP846S3/",u={data:{p1:null,p2:null,p3:null,p4:Y.MaterialReturnDate?Y.MaterialReturnDate:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:1==Y.IsMRTMaterial,p12:1==Y.IsMRTReceipt,p13:a?"%"+a+"%":null,p14:a?"%"+a+"%":null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:null,p18:null,p19:"0"==Y.ContractID?null:Y.ContractID,p20:"0"==Y.LocalityID?null:Y.LocalityID,p21:"0"==Y.BuildingID?null:Y.BuildingID,p22:"0"==Y.MatWareHouseID?null:Y.MatWareHouseID,p23:"0"==Y.ProStoreID?null:Y.ProStoreID,p24:"0"==Y.EmployeeID?null:Y.EmployeeID,p25:"0"==Y.DivisionID?null:Y.DivisionID,p26:"0"==Y.MaterialIssueID?null:Y.MaterialIssueID,p27:"0"==Y.MatProcessTypeID?null:Y.MatProcessTypeID,p28:e.Dialogview?"1":null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:"0"==Y.ContractGroupID?null:Y.ContractGroupID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==Y.TaxID?null:Y.TaxID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==Y.CustomerID?null:Y.CustomerID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==Y.ContractTypeID?null:Y.ContractTypeID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==Y.ContractCategID?null:Y.ContractCategID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==Y.ConPaymentTermsID?null:Y.ConPaymentTermsID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==Y.LocalityGroupID?null:Y.LocalityGroupID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==Y.CityID?null:Y.CityID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==Y.AdminLocalityTypeID?null:Y.AdminLocalityTypeID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:a?"%"+a+"%":null,p66:"0"==Y.RegionID?null:Y.RegionID,p67:a?"%"+a+"%":null,p68:a?"%"+a+"%":null,p69:"0"==Y.CountryID?null:Y.CountryID,p70:a?"%"+a+"%":null,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:"0"==Y.ShiftID?null:Y.ShiftID,p77:a?"%"+a+"%":null,p78:a?"%"+a+"%":null,p79:"0"==Y.ClassificationID?null:Y.ClassificationID,p80:a?"%"+a+"%":null,p81:a?"%"+a+"%":null,p82:"0"==Y.DepartmentID?null:Y.DepartmentID,p83:a?"%"+a+"%":null,p84:a?"%"+a+"%":null,p85:"0"==Y.DesignationID?null:Y.DesignationID,p86:a?"%"+a+"%":null,p87:a?"%"+a+"%":null,p88:"0"==Y.NationalityID?null:Y.NationalityID,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:"0"==Y.EmpWorkNatureID?null:Y.EmpWorkNatureID,p92:a?"%"+a+"%":null,p93:a?"%"+a+"%":null,p94:"0"==Y.EmployeeTypeID?null:Y.EmployeeTypeID,p95:a?"%"+a+"%":null,p96:a?"%"+a+"%":null,p97:"0"==Y.EmploymentTypeID?null:Y.EmploymentTypeID,p98:a?"%"+a+"%":null,p99:a?"%"+a+"%":null,p100:"0"==Y.EmployeeGroupID?null:Y.EmployeeGroupID,p101:a?"%"+a+"%":null,p102:a?"%"+a+"%":null,p103:"0"==Y.EmpGradeID?null:Y.EmpGradeID,p104:a?"%"+a+"%":null,p105:a?"%"+a+"%":null,p106:"0"==Y.EmpGenderID?null:Y.EmpGenderID,p107:a?"%"+a+"%":null,p108:"0"==Y.EmpTitleID?null:Y.EmpTitleID,p109:a?"%"+a+"%":null,p110:a?"%"+a+"%":null,p111:a?"%"+a+"%":null,p112:a?"%"+a+"%":null,p113:a?"%"+a+"%":null,p114:a?"%"+a+"%":null,p115:a?"%"+a+"%":null,p116:a?"%"+a+"%":null,p117:a?"%"+a+"%":null,p118:"0"==Y.MaterialRequestID?null:Y.MaterialRequestID,p119:a?"%"+a+"%":null,p120:"0"==Y.MatJobID?null:Y.MatJobID,p121:a?"%"+a+"%":null,p122:a?"%"+a+"%":null,p123:a?"%"+a+"%":null,p124:Y.MaterialMSDate?Y.MaterialMSDate:null,p125:null,p126:null,p127:t,p128:10,p129:l,p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}},s=Object.keys(u.data).slice(0,Object.keys(u.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(u.data).length-8?u.data[t]:null,e)),{});$(!0);const m={data:s};return(0,c.Z)(o,"ClearAll"==l?m:u,"SetDefaultMaterialReturnID"==l&&n?n:ve.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return 1==n.length?n[0]:{};ee(1==t?e>0?n:[]:X.concat(n)),"SetDefaultMaterialReturnID"==l&&(e>0?qe(n[0],"SetDefaultMaterialReturnID"):ne("NORECORDS")),$(!1)}else Se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),$(!1)}))},rt=(t,a,l)=>{const n=T.v.Api+"FP846S3/",r={data:{p1:null,p2:"MaterialReturnCode"==l&&a?"%"+a+"%":null,p3:"MaterialReturnNo"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:"RequestedThrough"==l&&a?"%"+a+"%":null,p8:"MRTWoDetDesc"==l&&a?"%"+a+"%":null,p9:"MatReturnStatus"==l&&a?"%"+a+"%":null,p10:"MRTStatus"==l&&a?"%"+a+"%":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:e.Dialogview?"1":null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:t,p128:10,p129:"MaterialReturnID",p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};$(!0),(0,c.Z)(n,"ClearAll"==l?i:r,ve.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("MaterialReturnCode"==l&&ue(e>0),"RequestedThrough"==l&&me(e>0),"MRTWoDetDesc"==l&&pe(e>0),"MatReturnStatus"==l&&ye(e>0),"MRTStatus"==l&&De(e>0),"MRTStageKey"==l&&Re(e>0),"BudgetCostAccGrpDetKey"==l&&Ce(e>0),"MRTWorkOrderKey"==l&&Ee(e>0),"MRTYearEndKey"==l&&fe(e>0),ee(n)):("MaterialReturnCode"==l&&ue(!0),"RequestedThrough"==l&&me(!0),"MRTWoDetDesc"==l&&pe(!0),"MatReturnStatus"==l&&ye(!0),"MRTStatus"==l&&De(!0),"MRTStageKey"==l&&Re(!0),"BudgetCostAccGrpDetKey"==l&&Ce(!0),"MRTWorkOrderKey"==l&&Ee(!0),"MRTYearEndKey"==l&&fe(!0),ee(X.concat(n))),$(!1)}else Se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),$(!1)}))},it=(0,l.useCallback)((async(e,t,a)=>{"text"==a?q({type:a,name:t,value:e}):"number"==a?q({type:a,name:t,number:Number(e)}):"boolean"==a?q({type:a,name:t,boolean:e}):"date"==a?q({type:"text",name:t,value:e}):"select"==a&&("MaterialIssueID"==t?(q({type:"text",name:"MaterialIssueID",value:e.MaterialIssueIDPK?e.MaterialIssueIDPK:null}),q({type:"text",name:"MaterialMINo",value:e.MaterialMINo?e.MaterialMINo:null}),q({type:"text",name:"ContractID",value:e.ContractID?e.ContractID:null}),q({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null}),q({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),q({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null}),q({type:"text",name:"DivisionID",value:e.DivisionID?e.DivisionID:null}),q({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null}),q({type:"text",name:"ProStoreID",value:e.ProStoreID?e.ProStoreID:null}),q({type:"text",name:"ProStoreName",value:e.ProStoreName?e.ProStoreName:null}),q({type:"text",name:"MatWareHouseID",value:e.MatWareHouseID?e.MatWareHouseID:null}),q({type:"text",name:"WareHouseName",value:e.WareHouseName?e.WareHouseName:null})):"ContractID"==t||"LocalityID"==t||"DivisionID"==t||"ProStoreID"==t||"MatWareHouseID"==t||"EmployeeID"==t&&(q({type:"text",name:"EmployeeID",value:e.EmployeeIDPK?e.EmployeeIDPK:null}),q({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:null})))}),[Y]);function ot(e){if("MaterialIssueID"==e){if(!Y.MaterialIssueID)return!1;q({type:"text",name:"MaterialIssueID",value:null}),q({type:"text",name:"MaterialMINo",value:""}),document.getElementById("MaterialReturnRegistryMaterialMINoClear")&&document.getElementById("MaterialReturnRegistryMaterialMINoClear").click(),q({type:"text",name:"ContractID",value:null}),q({type:"text",name:"ContractName",value:""}),document.getElementById("MaterialReturnRegistryContractNameClear")&&document.getElementById("MaterialReturnRegistryContractNameClear").click(),q({type:"text",name:"LocalityID",value:null}),q({type:"text",name:"LocalityName",value:""}),document.getElementById("MaterialReturnRegistryLocalityNameClear")&&document.getElementById("MaterialReturnRegistryLocalityNameClear").click(),q({type:"text",name:"DivisionID",value:null}),q({type:"text",name:"DivisionName",value:""}),document.getElementById("MaterialReturnRegistryDivisionNameClear")&&document.getElementById("MaterialReturnRegistryDivisionNameClear").click(),q({type:"text",name:"ProStoreID",value:null}),q({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialReturnRegistryProStoreNameClear")&&document.getElementById("MaterialReturnRegistryProStoreNameClear").click(),q({type:"text",name:"MatWareHouseID",value:null}),q({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialReturnRegistryWareHouseNameClear")&&document.getElementById("MaterialReturnRegistryWareHouseNameClear").click()}else if("ContractID"==e){if(!Y.ContractID)return!1}else if("LocalityID"==e){if(!Y.LocalityID)return!1}else if("DivisionID"==e){if(!Y.DivisionID)return!1}else if("ProStoreID"==e){if(!Y.ProStoreID)return!1}else if("MatWareHouseID"==e){if(!Y.MatWareHouseID)return!1}else if("EmployeeID"==e){if(!Y.EmployeeID)return!1;q({type:"text",name:"EmployeeID",value:null}),q({type:"text",name:"FirstName",value:""}),document.getElementById("MaterialReturnRegistryFirstNameClear")&&document.getElementById("MaterialReturnRegistryFirstNameClear").click()}else if("BuildingID"==e){if(!Y.BuildingID)return!1}else if("MatProcessTypeID"==e&&!Y.MatProcessTypeID)return!1}function ut(e){if("MaterialIssueID"==e){if(!Y.MaterialIssueID)return!1;q({type:"text",name:"MaterialIssueID",value:null}),q({type:"text",name:"ContractID",value:null}),q({type:"text",name:"LocalityID",value:null}),q({type:"text",name:"DivisionID",value:null}),q({type:"text",name:"ProStoreID",value:null}),q({type:"text",name:"MatWareHouseID",value:null})}else if("ContractID"==e){if(!Y.ContractID)return!1}else if("LocalityID"==e){if(!Y.LocalityID)return!1}else if("DivisionID"==e){if(!Y.DivisionID)return!1}else if("ProStoreID"==e){if(!Y.ProStoreID)return!1}else if("MatWareHouseID"==e){if(!Y.MatWareHouseID)return!1}else if("EmployeeID"==e){if(!Y.EmployeeID)return!1;q({type:"text",name:"EmployeeID",value:null})}else if("BuildingID"==e){if(!Y.BuildingID)return!1}else if("MatProcessTypeID"==e&&!Y.MatProcessTypeID)return!1}const st=e=>{Se.ConfirmAlert(n().createElement(I(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>mt(e),onCancel:()=>Se.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:je("Yes"),cancelBtnText:je("No"),showCancel:!0},je("Do you want to update this record?")))};function mt(t){Se.ConfirmAlert(null),z(t.IsDraft),e.createEasy||(he({type:"editData",payload:[t]}),he({type:"PrimaryId",payload:t.MaterialReturnIDPK})),ae(Number(t.MaterialReturnIDPK)?Number(t.MaterialReturnIDPK):0),q({type:"number",name:"MaterialIssueID",number:t.MaterialIssueID?Number(t.MaterialIssueID):0}),q({type:"text",name:"MaterialMINo",value:t.MaterialMINo?t.MaterialMINo:""}),q({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),q({type:"text",name:"ContractName",value:t.ContractName?t.ContractName:""}),q({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),q({type:"text",name:"LocalityName",value:t.LocalityName?t.LocalityName:""}),q({type:"number",name:"DivisionID",number:t.DivisionID?Number(t.DivisionID):0}),q({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:""}),q({type:"number",name:"ProStoreID",number:t.ProStoreID?Number(t.ProStoreID):0}),q({type:"text",name:"ProStoreName",value:t.ProStoreName?t.ProStoreName:""}),q({type:"number",name:"MatWareHouseID",number:t.MatWareHouseID?Number(t.MatWareHouseID):0}),q({type:"text",name:"WareHouseName",value:t.WareHouseName?t.WareHouseName:""}),q({type:"text",name:"MaterialReturnNo",value:t.MaterialReturnNo?t.MaterialReturnNo:""}),q({type:"text",name:"MaterialReturnDate",value:t.MaterialReturnDate?Ue(t.MaterialReturnDate):null}),q({type:"number",name:"EmployeeID",number:t.EmployeeID?Number(t.EmployeeID):0}),q({type:"text",name:"FirstName",value:t.FirstName?t.FirstName:""}),q({type:"boolean",name:"IsMRTReceipt",boolean:!!t.IsMRTReceipt&&t.IsMRTReceipt}),q({type:"text",name:"MaterialReturnCode",value:t.MaterialReturnCode?t.MaterialReturnCode:""}),q({type:"text",name:"RequestedThrough",value:t.RequestedThrough?t.RequestedThrough:""}),q({type:"text",name:"MRTWoDetDesc",value:t.MRTWoDetDesc?t.MRTWoDetDesc:""}),q({type:"text",name:"MatReturnStatus",value:t.MatReturnStatus?t.MatReturnStatus:""}),q({type:"text",name:"MRTStatus",value:t.MRTStatus?t.MRTStatus:""}),q({type:"boolean",name:"IsMRTMaterial",boolean:!!t.IsMRTMaterial&&t.IsMRTMaterial}),q({type:"text",name:"MRTStageKey",value:t.MRTStageKey?t.MRTStageKey:""}),q({type:"text",name:"BudgetCostAccGrpDetKey",value:t.BudgetCostAccGrpDetKey?t.BudgetCostAccGrpDetKey:""}),q({type:"text",name:"MRTWorkOrderKey",value:t.MRTWorkOrderKey?t.MRTWorkOrderKey:""}),q({type:"text",name:"MRTYearEndKey",value:t.MRTYearEndKey?t.MRTYearEndKey:""}),q({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),q({type:"text",name:"BuildingName",value:t.BuildingName?t.BuildingName:""}),q({type:"number",name:"MatProcessTypeID",number:t.MatProcessTypeID?Number(t.MatProcessTypeID):0}),q({type:"text",name:"MatProcessTypeName",value:t.MatProcessTypeName?t.MatProcessTypeName:""})}const dt=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:G,onChange:e=>{}},n().createElement(u.Z,null,n().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&n().createElement("span",{style:{cursor:"pointer"}},n().createElement(k.u1R,{className:"backButtonList",onClick:()=>{Se.ShowTableDiv(),setIndirectRecord(!1)}})),n().createElement("p",{id:"fld846L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[846]",onClick:()=>ve.ExpandTableValue&&O(!G)},te?"Edit ":"New ",Ve("846")," (",ve.count,")")),G&&n().createElement("div",{className:"displayFlex EntryHeaderBtn"},ve.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(s.Z,{labelPlacement:"bottom",frmctrlid:"fld846L3ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==E,onChange:e=>A(e.target.checked)}),label:je(1==E?"Active":"In Active")}))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{Se.AttachExpand(!0)},id:"fld846L3ECAttachment",disableRipple:!0,disabled:!te},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",null,n().createElement(x.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Attach"))),!e.createEasy&&(!te||!ve.editData.length>0)&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Je()},id:"fld846L3ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(x.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Reset"))),ve.AccessRights.IsAdd&&n().createElement(g.Z,{name:te?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return t=te?"update":"next",Y.MaterialIssueID&&0!=Y.MaterialIssueID?!Y.MaterialReturnDate||0==Y.MaterialReturnDate||re?(Se.alert({open:!0,color:"warning",message:[je("Please enter the Return Date")]}),!1):Y.EmployeeID&&0!=Y.EmployeeID?void("next"==t?function(t,a,l,n){if($e().length>0){ue(!0),me(!0),pe(!0),ye(!0),De(!0),Re(!0),Ce(!0),Ee(!0),fe(!0),Se.loading(!0),Se.ConfirmAlert(null),he({type:"IsDraft",payload:!1});const t=T.v.Api+"FP846S1/",a={data:[{p1:te,p2:dt(Y.MaterialReturnCode),p3:dt(Y.MaterialReturnNo),p4:Y.MaterialReturnDate?Ye(Y.MaterialReturnDate):null,p5:dt(Y.RequestedThrough),p6:dt(Y.MRTWoDetDesc),p7:Y.MatReturnStatus?Number(Y.MatReturnStatus):0,p8:Y.MRTStatus?Number(Y.MRTStatus):0,p9:Y.IsMRTMaterial,p10:Y.IsMRTReceipt,p11:Y.MRTStageKey?Number(Y.MRTStageKey):0,p12:Y.BudgetCostAccGrpDetKey?Number(Y.BudgetCostAccGrpDetKey):0,p13:Y.MRTWorkOrderKey?Number(Y.MRTWorkOrderKey):0,p14:Y.MRTYearEndKey?Number(Y.MRTYearEndKey):0,p15:!0,p16:null,p17:Y.ContractID?Y.ContractID:0,p18:Y.LocalityID?Y.LocalityID:0,p19:Y.BuildingID?Y.BuildingID:0,p20:Y.MatWareHouseID?Y.MatWareHouseID:0,p21:Y.ProStoreID?Y.ProStoreID:0,p22:Y.EmployeeID?Y.EmployeeID:0,p23:Y.DivisionID?Y.DivisionID:0,p24:Y.MaterialIssueID?Y.MaterialIssueID:0,p25:Y.MatProcessTypeID?Y.MatProcessTypeID:0,p26:!1,p27:!1,p28:localStorage.getItem("userid"),p29:N()().format("YYYY-MM-DD hh:mm:ss"),p30:localStorage.getItem("userid"),p31:N()().format("YYYY-MM-DD hh:mm:ss")}]};(0,C.Z)(0).then((l=>{(0,p.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(Se.alert({open:!0,color:"success",message:["Saved to Draft"]}),he({type:"EditIsDraft",payload:!0}),Se.attachmentSave(t[0].Data.IDPK),Se.loading(!1),Je(),e.clrImgstate(!0),Se.AddOpen(t[0].Data.IDPK,"1")):(Se.alert({open:!0,color:"warning",message:[a.message]}),Se.loading(!1))}))}))}else Se.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Xe(t)):(Se.alert({open:!0,color:"warning",message:[je("Please select the ")+" "+Ve("EmployeeID")]}),!1):(Se.alert({open:!0,color:"warning",message:[je("Please select the ")+" "+Ve("MaterialIssueID")]}),!1);var t}}),te?n().createElement(d.Z,{disabled:!1,frmctrlid:"fld846L3ECCloseBtn",onClick:()=>{Se.detailview(!0,te)}}):null))),n().createElement(o.Z,null,ve.AccessRights.IsAdd?null:ve.AccessRights.IsEdit?!ve.PrimaryId&&n().createElement("div",{className:"divdisable"}):n().createElement("div",{className:"divdisable"}),n().createElement("div",{id:"MaterialReturnRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"MaterialReturnRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"MaterialReturnRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(y.Z,{spacing:2},n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h,id:Y.MaterialIssueID,"data-testid":Y.MaterialIssueID,value:Y.MaterialMINo,SPName:"MaterialReturnRegistry",FieldName:"MaterialIssueID",tfLabel:Ve("MaterialIssueID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"MaterialIssueID","select"),onChange:(e,t)=>{nt(e,t,"MaterialIssueIDPK")},KeyBack:e=>{ut("MaterialIssueID")},fieldorder:"1",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("345")},Tabledialog:()=>lt("345","MaterialIssueID"),loading:J,clear:e=>{e&&ot("MaterialIssueID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h,id:Y.ContractID,"data-testid":Y.ContractID,value:Y.ContractName,SPName:"MaterialReturnRegistry",FieldName:"ContractID",tfLabel:Ve("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"ContractID","select"),onChange:(e,t)=>{nt(e,t,"ContractIDPK")},KeyBack:e=>{ut("ContractID")},fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("156")},Tabledialog:()=>lt("156","ContractID"),loading:J,clear:e=>{e&&ot("ContractID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h,id:Y.LocalityID,"data-testid":Y.LocalityID,value:Y.LocalityName,SPName:"MaterialReturnRegistry",FieldName:"LocalityID",tfLabel:Ve("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"LocalityID","select"),onChange:(e,t)=>{nt(e,t,"LocalityIDPK")},KeyBack:e=>{ut("LocalityID")},fieldorder:"3",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("12")},Tabledialog:()=>lt("12","LocalityID"),loading:J,clear:e=>{e&&ot("LocalityID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h,id:Y.DivisionID,"data-testid":Y.DivisionID,value:Y.DivisionName,SPName:"MaterialReturnRegistry",FieldName:"DivisionID",tfLabel:Ve("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"DivisionID","select"),onChange:(e,t)=>{nt(e,t,"DivisionIDPK")},KeyBack:e=>{ut("DivisionID")},fieldorder:"4",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("35")},Tabledialog:()=>lt("35","DivisionID"),loading:J,clear:e=>{e&&ot("DivisionID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h,id:Y.ProStoreID,"data-testid":Y.ProStoreID,value:Y.ProStoreName,SPName:"MaterialReturnRegistry",FieldName:"ProStoreID",tfLabel:Ve("ProStoreID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"ProStoreID","select"),onChange:(e,t)=>{nt(e,t,"ProStoreIDPK")},KeyBack:e=>{ut("ProStoreID")},fieldorder:"1",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("385")},Tabledialog:()=>lt("385","ProStoreID"),loading:J,clear:e=>{e&&ot("ProStoreID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h,id:Y.MatWareHouseID,"data-testid":Y.MatWareHouseID,value:Y.WareHouseName,SPName:"MaterialReturnRegistry",FieldName:"MatWareHouseID",tfLabel:Ve("MatWareHouseID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"MatWareHouseID","select"),onChange:(e,t)=>{nt(e,t,"MatWareHouseIDPK")},KeyBack:e=>{ut("MatWareHouseID")},fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("451")},Tabledialog:()=>lt("451","MatWareHouseID"),loading:J,clear:e=>{e&&ot("MatWareHouseID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(m.Z,{json:h,"data-testid":Y.MaterialReturnNo,SPName:"MaterialReturnRegistry",FieldName:"MaterialReturnNo",tfLabel:Ve("MaterialReturnNo"),frmctrlid:"fld846_26197",fieldorder:"3",onChange:e=>{it(e,"MaterialReturnNo","text")},clear:e=>{e&&q({type:"text",name:"MaterialReturnNo",value:""})},value:Y.MaterialReturnNo})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(D.Z,{value:Y.MaterialReturnDate,"data-testid":Y.MaterialReturnDate,disabled:!1,onChange:e=>{it(e,"MaterialReturnDate","date")},onErr:e=>{ie(e)},label:n().createElement("span",null,Ve("MaterialReturnDate"),n().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld846_26187",frmctrlidName:"MaterialReturnDate",fieldorder:"4"})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h,id:Y.EmployeeID,"data-testid":Y.EmployeeID,value:Y.FirstName,SPName:"MaterialReturnRegistry",FieldName:"EmployeeID",tfLabel:Ve("EmployeeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"EmployeeID","select"),onChange:(e,t)=>{nt(e,t,"EmployeeIDPK")},KeyBack:e=>{ut("EmployeeID")},fieldorder:"1",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("197")},Tabledialog:()=>lt("197","EmployeeID"),loading:J,clear:e=>{e&&ot("EmployeeID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Y.IsMRTReceipt,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==Y.IsMRTReceipt,onChange:e=>{it(e.target.checked,"IsMRTReceipt","boolean")},frmctrlid:"fld846_26189",frmctrlidname:"IsMRTReceipt",fieldorder:"2",tfLabel:Ve("IsMRTReceipt")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Y.IsMRTReceipt?"#21446F":"#999"}},Ve("IsMRTReceipt"))}))),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.MaterialReturnCode,json:h,SPName:"MaterialReturnRegistry",FieldName:"MaterialReturnCode",tfLabel:Ve("MaterialReturnCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{oe&&rt(1,"","ClearAll"),ue(!0)},frmctrlid:"fld846_26196",frmctrlidName:"MaterialReturnCode",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{oe&&rt(e,t,"MaterialReturnCode"),it(t,"MaterialReturnCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ue(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:Y.MaterialReturnCode,loading:J,clear:e=>{e&&(q({type:"text",name:"MaterialReturnCode",value:""}),ue(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.RequestedThrough,json:h,SPName:"MaterialReturnRegistry",FieldName:"RequestedThrough",tfLabel:Ve("RequestedThrough"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{se&&rt(1,"","ClearAll"),me(!0)},frmctrlid:"fld846_26194",frmctrlidName:"RequestedThrough",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{se&&rt(e,t,"RequestedThrough"),it(t,"RequestedThrough","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:Y.RequestedThrough,loading:J,clear:e=>{e&&(q({type:"text",name:"RequestedThrough",value:""}),me(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.MRTWoDetDesc,json:h,SPName:"MaterialReturnRegistry",FieldName:"MRTWoDetDesc",tfLabel:Ve("MRTWoDetDesc"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{de&&rt(1,"","ClearAll"),pe(!0)},frmctrlid:"fld846_26195",frmctrlidName:"MRTWoDetDesc",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{de&&rt(e,t,"MRTWoDetDesc"),it(t,"MRTWoDetDesc","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||pe(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:Y.MRTWoDetDesc,loading:J,clear:e=>{e&&(q({type:"text",name:"MRTWoDetDesc",value:""}),pe(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.MatReturnStatus,json:h,SPName:"MaterialReturnRegistry",FieldName:"MatReturnStatus",tfLabel:Ve("MatReturnStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{ce&&rt(1,"","ClearAll"),ye(!0)},frmctrlid:"fld846_26169",frmctrlidName:"MatReturnStatus",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{ce&&rt(e,t,"MatReturnStatus"),it(t,"MatReturnStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:Y.MatReturnStatus,loading:J,clear:e=>{e&&(q({type:"text",name:"MatReturnStatus",value:""}),ye(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.MRTStatus,json:h,SPName:"MaterialReturnRegistry",FieldName:"MRTStatus",tfLabel:Ve("MRTStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{Me&&rt(1,"","ClearAll"),De(!0)},frmctrlid:"fld846_26170",frmctrlidName:"MRTStatus",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{Me&&rt(e,t,"MRTStatus"),it(t,"MRTStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:Me,SideEntryView:!1,KeyBack:e=>{},value:Y.MRTStatus,loading:J,clear:e=>{e&&(q({type:"text",name:"MRTStatus",value:""}),De(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Y.IsMRTMaterial,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==Y.IsMRTMaterial,onChange:e=>{it(e.target.checked,"IsMRTMaterial","boolean")},frmctrlid:"fld846_26188",frmctrlidname:"IsMRTMaterial",fieldorder:"2",tfLabel:Ve("IsMRTMaterial")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Y.IsMRTMaterial?"#21446F":"#999"}},Ve("IsMRTMaterial"))}))),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.MRTStageKey,json:h,SPName:"MaterialReturnRegistry",FieldName:"MRTStageKey",tfLabel:Ve("MRTStageKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{ge&&rt(1,"","ClearAll"),Re(!0)},frmctrlid:"fld846_26179",frmctrlidName:"MRTStageKey",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{ge&&rt(e,t,"MRTStageKey"),it(t,"MRTStageKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Re(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:Y.MRTStageKey,loading:J,clear:e=>{e&&(q({type:"text",name:"MRTStageKey",value:""}),Re(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.BudgetCostAccGrpDetKey,json:h,SPName:"MaterialReturnRegistry",FieldName:"BudgetCostAccGrpDetKey",tfLabel:Ve("BudgetCostAccGrpDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{Ie&&rt(1,"","ClearAll"),Ce(!0)},frmctrlid:"fld846_26180",frmctrlidName:"BudgetCostAccGrpDetKey",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{Ie&&rt(e,t,"BudgetCostAccGrpDetKey"),it(t,"BudgetCostAccGrpDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ce(!0)},showList:Ie,SideEntryView:!1,KeyBack:e=>{},value:Y.BudgetCostAccGrpDetKey,loading:J,clear:e=>{e&&(q({type:"text",name:"BudgetCostAccGrpDetKey",value:""}),Ce(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.MRTWorkOrderKey,json:h,SPName:"MaterialReturnRegistry",FieldName:"MRTWorkOrderKey",tfLabel:Ve("MRTWorkOrderKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{Te&&rt(1,"","ClearAll"),Ee(!0)},frmctrlid:"fld846_26181",frmctrlidName:"MRTWorkOrderKey",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{Te&&rt(e,t,"MRTWorkOrderKey"),it(t,"MRTWorkOrderKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ee(!0)},showList:Te,SideEntryView:!1,KeyBack:e=>{},value:Y.MRTWorkOrderKey,loading:J,clear:e=>{e&&(q({type:"text",name:"MRTWorkOrderKey",value:""}),Ee(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{"data-testid":Y.MRTYearEndKey,json:h,SPName:"MaterialReturnRegistry",FieldName:"MRTYearEndKey",tfLabel:Ve("MRTYearEndKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{Ne&&rt(1,"","ClearAll"),fe(!0)},frmctrlid:"fld846_26182",frmctrlidName:"MRTYearEndKey",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{Ne&&rt(e,t,"MRTYearEndKey"),it(t,"MRTYearEndKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:Ne,SideEntryView:!1,KeyBack:e=>{},value:Y.MRTYearEndKey,loading:J,clear:e=>{e&&(q({type:"text",name:"MRTYearEndKey",value:""}),fe(!0))}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{json:h,id:Y.BuildingID,"data-testid":Y.BuildingID,value:Y.BuildingName,SPName:"MaterialReturnRegistry",FieldName:"BuildingID",tfLabel:Ve("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"BuildingID","select"),onChange:(e,t)=>{nt(e,t,"BuildingIDPK")},KeyBack:e=>{ut("BuildingID")},fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("30")},Tabledialog:()=>lt("30","BuildingID"),loading:J,clear:e=>{e&&ot("BuildingID")}})),n().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(f.Z,{json:h,id:Y.MatProcessTypeID,"data-testid":Y.MatProcessTypeID,value:Y.MatProcessTypeName,SPName:"MaterialReturnRegistry",FieldName:"MatProcessTypeID",tfLabel:Ve("MatProcessTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>it(e,"MatProcessTypeID","select"),onChange:(e,t)=>{nt(e,t,"MatProcessTypeIDPK")},KeyBack:e=>{ut("MatProcessTypeID")},fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,openSlide:()=>{at("844")},Tabledialog:()=>lt("844","MatProcessTypeID"),loading:J,clear:e=>{e&&ot("MatProcessTypeID")}})))),n().createElement("div",{id:"MaterialReturnRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MaterialReturnRegistrySideBar").style.width="0",void Q(!1))},""),H&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},V))))))))})),F=K,G=e=>"string"==typeof e?e.trim():e;function Z(e){const{url:t,PrimID:a,ParamType:l,state:n,active:r,token:i,DefaultPrimaryId:o}=e,u={data:[{p1:"SetDefaultMaterialReturnID"==l?"NORECORDS"!=o&&o?o:0:a,p2:G(n.MaterialReturnCode),p3:G(n.MaterialReturnNo),p4:n.MaterialReturnDate?(e=>{if(e){let a=(t=e)?t.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(a)?(0,v.format)(new Date(a),"yyyy-MM-dd"):e}return null;var t})(n.MaterialReturnDate):null,p5:G(n.RequestedThrough),p6:G(n.MRTWoDetDesc),p7:n.MatReturnStatus?Number(n.MatReturnStatus):0,p8:n.MRTStatus?Number(n.MRTStatus):0,p9:n.IsMRTMaterial,p10:n.IsMRTReceipt,p11:n.MRTStageKey?Number(n.MRTStageKey):0,p12:n.BudgetCostAccGrpDetKey?Number(n.BudgetCostAccGrpDetKey):0,p13:n.MRTWorkOrderKey?Number(n.MRTWorkOrderKey):0,p14:n.MRTYearEndKey?Number(n.MRTYearEndKey):0,p15:!1,p16:"SetDefaultMaterialReturnID"==l?"SetDefault":null,p17:n.ContractID?n.ContractID:0,p18:n.LocalityID?n.LocalityID:0,p19:n.BuildingID?n.BuildingID:0,p20:n.MatWareHouseID?n.MatWareHouseID:0,p21:n.ProStoreID?n.ProStoreID:0,p22:n.EmployeeID?n.EmployeeID:0,p23:n.DivisionID?n.DivisionID:0,p24:n.MaterialIssueID?n.MaterialIssueID:0,p25:n.MatProcessTypeID?n.MatProcessTypeID:0,p26:r,p27:"SetDefaultMaterialReturnID"==l,p28:localStorage.getItem("userid"),p29:N()().format("YYYY-MM-DD hh:mm:ss"),p30:localStorage.getItem("userid"),p31:N()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,p.Z)(t,u,i).then((e=>e))}},79618:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>R,MaterialReturnRegistryContext:()=>g,default:()=>I});var l=a(92950),n=a.n(l),r=a(45237),i=a(73780),o=a(74702),u=a(95246),s=a(67698),m=a(55995),d=a(26537),p=(a(35131),a(45965)),c=a(73668),y=(a(37274),a(9175)),M=a.n(y),D=a(61243);const g=(0,l.createContext)();function R(){const e=n().useContext(g);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const I=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),y=(0,l.useRef)(),I=(0,l.useRef)(),C=(0,l.useRef)(),T=(0,l.useRef)(),E=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[N,f]=(0,l.useState)(0),[S,v]=n().useReducer(c.I,c.E),[h,b]=(0,l.useState)(""),[P,w]=(0,l.useState)(""),[x,k]=(0,l.useState)([]),A=(0,l.useRef)(),[B,L]=(0,l.useState)(!1);function K(e){v({type:"IsExPView",payload:!0}),v({type:"IsCollapse",payload:!1}),document.getElementById("MaterialReturnRegistry-MainTable").style.margin="0",document.getElementById("divMaterialReturnRegistry-Entry").style.margin="0",document.getElementById("divMaterialReturnRegistry-Entry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainTable").style.width="100%",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainEntry").style.display="none",document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayGrid"),v({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttMaterialReturnRegistry")&&(document.getElementById("overlayimgAttMaterialReturnRegistry").style.width="0%",document.getElementById("overlayPreviewMaterialReturnRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialReturnRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),K(),v({type:"IsDraft",payload:!1}),v({type:"ShowDetail",payload:!1}),v({type:"Add",payload:!0}),v({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&v({type:"editData",payload:[e.editData]})}),[e.editData]);const F=e=>{v({type:"IsCollapse",payload:!0}),document.getElementById("MaterialReturnRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMaterialReturnRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MaterialReturnRegistry-MainTable").style.width="0%",document.getElementById("MaterialReturnRegistry-MainTable").style.display="none",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainEntry").style.display="block",document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayGrid"),v({type:"ExpandDetailValue",payload:!0}),v({type:"PrimaryId",payload:""}),t.current.clear(),e&&T.current.AddClose()},G=t=>{S.IsCollapse?(document.getElementById("MaterialReturnRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("MaterialReturnRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divMaterialReturnRegistry-Entry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainEntry").style.display="block",document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialReturnRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialReturnRegistry").style.display="none"):(document.getElementById("overlayimgAttMaterialReturnRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialReturnRegistry").style.display="none",document.getElementById("divMaterialReturnRegistry-Entry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainTable").style.width="auto",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{E((e=>{(0,d.Z)(1).then((e=>{var t=new Array;t.push(e),v({type:"token",payload:t}),f(t.length),Z(e)}))}))}),[]);const Z=e=>{(0,p.Z)(e,846).then((e=>v({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(v({type:"ShowDetail",payload:!0}),v({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),n().createElement("div",null,n().createElement(g.Provider,{value:{cstate:S,cdispatch:v,ContextApi:R,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>L(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>K(),viewtoggle:()=>{S.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>F(e),AttachExpand:t=>(y.current.AttachmentData(S.PrimaryId),void(S.ExpandTableValue?(document.getElementById("overlayimgAttMaterialReturnRegistry").style.width="28%",document.getElementById("divMaterialReturnRegistry-Entry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainTable").style.width="auto",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMaterialReturnRegistry").style.display="block"):(document.getElementById("MaterialReturnRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("MaterialReturnRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainEntry").style.display="block",document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialReturnRegistry").style.width="28%",document.getElementById("overlayimgAttMaterialReturnRegistry").style.display="block"))),RefreshTable:()=>{C.current.tableRefresh()},floatRefresh:()=>A.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttMaterialReturnRegistry").style.display="none",attachmentSave:e=>{I.current.tempsave(e,P),w([])},detailview:(e,t)=>{C.current.viewrecord(t),v({type:"ShowDetail",payload:e}),v({type:"EditOpen",payload:!0}),S.ShowDetail&&a.current.viewtoggle()},clear:e=>{S.ShowDetail?(v({type:"ShowDetail",payload:!1}),v({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var n,r,i;n=e,i=l,v({type:"IsDraft",payload:r=t}),v({type:"EditOpen",payload:!1}),v({type:"EditIsDraft",payload:r}),F(),v({type:"editData",payload:[n]}),v({type:"screenType",payload:i})},AddOpen:(e,t)=>((e,t)=>{v({type:"ShowDetail",payload:!0}),v({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&T.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(v({type:"ShowDetail",payload:!1}),v({type:"ExpandTableValue",payload:!0}),C.current.tableRefresh(),document.getElementById("MaterialReturnRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMaterialReturnRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MaterialReturnRegistry-MainTable").style.width="100%",document.getElementById("MaterialReturnRegistry-MainTable").style.display="block",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="0%",document.getElementById("MaterialReturnRegistry-MainEntry").style.display="none",document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnRegistryTabDiv").style.width="100%",document.getElementById("MaterialReturnRegistryFilterDiv").style.display="none",void(document.getElementById("MaterialReturnRegistryFilterDiv").style.width="0%"))}},n().createElement("div",{id:"MaterialReturnRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!S.ExpandTableValue&&n().createElement("div",{id:"MaterialReturnRegistry-MainTable",className:"Maincontent"},0!==N?n().createElement(i.default,{ref:C}):null),n().createElement("div",{id:"MaterialReturnRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},S.ShowDetail?n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialReturnRegistry-Entry",style:{width:"100%",display:"flex"}},n().createElement(o.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:S.PrimaryId,ref:a}),n().createElement("div",{style:{width:"70%"}},n().createElement(D.ZP,{ref:T,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:S.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),n().createElement(m.Z,{ref:I,menurefID:846,fileId:"LogoImgMaterialReturnRegistry",imgloading:e=>b(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewMaterialReturnRegistry",AccessRights:S.AccessRights,frmctrlid:"PvwIm_846_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{S.PrimaryId?y.current.AttachmentData(S.PrimaryId):y.current.tempImg(e),w(e)},clearTempData:S.Add})),n().createElement(s.Z,{ImgAttachment:e=>G(),menurefID:846,fileId:"AttImgMaterialReturnRegistry",imgid:"overlayimgAttMaterialReturnRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{I.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialReturnRegistry",ref:y,imgloading:h,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_846_L3_",timglist:e=>I.current.timglist(e)})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialReturnRegistry-Entry",style:{width:"100%"}},n().createElement(u.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>y.current.clrImgstate(e)}),n().createElement(D.ZP,{ref:T,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:S.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),n().createElement(m.Z,{ref:I,menurefID:846,fileId:"LogoImgMaterialReturnRegistry",imgloading:e=>b(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewMaterialReturnRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{S.PrimaryId?y.current.AttachmentData(S.PrimaryId):y.current.tempImg(e),w(e)},clearTempData:S.Add})),n().createElement(s.Z,{ImgAttachment:e=>G(),menurefID:846,fileId:"AttImgMaterialReturnRegistry",imgid:"overlayimgAttMaterialReturnRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{I.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialReturnRegistry",ref:y,imgloading:h,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_846_L3_",timglist:e=>I.current.timglist(e),clearTempData:S.Add}))),S.ExpandTableValue&&n().createElement("div",{id:"MaterialReturnRegistry-MainTable",className:"Maincontent"},0!==N?n().createElement(i.default,{ref:C}):null)),B&&n().createElement(M(),{openDialog:B,closeDialog:e=>L(e),formID:846,PrimID:S.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},73780:(e,t,a)=>{a.r(t),a.d(t,{MaterialReturnRegistryPopUpTable:()=>H,default:()=>z}),a(95866);var l=a(92950),n=a.n(l),r=a(45237),i=a(36939),o=a(61201),u=a(50743),s=a(59009),m=a(80366),d=a(51673),p=a(71885),c=a(54180),y=a(47516),M=a(39327),D=(a(14439),a(27848),a(42258),a(40900)),g=(a(83032),a(44117),a(79618)),R=a(43031),I=a(110),C=a(88995),T=a(5109),E=a(61657),N=a(868),f=a(24038),S=a(51209),v=a(8981),h=a(3212),b=a(86893),P=a(53854),w=a(51649),x=a(37106),k=a(5434),A=a(93521),B=a(8687),L=(a(79117),a(61243)),K=a(71168),F=a.n(K),G=a(65107),Z=a(79352),O=a(94986),W=a(15999);a(11557),window.clickFilter="";const z=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),K=((0,l.useRef)(null),(0,l.useRef)(null)),[z]=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[H]=(0,l.useState)("846"),[Q,_]=(0,l.useState)(!1),[j,V]=(0,l.useState)(!1),[U,Y]=(0,l.useState)(0),[q,J]=(0,l.useState)(0),[$,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)({current:1,pageSize:100}),[ae,le]=(0,l.useState)(""),[ne,re]=(0,l.useState)([]),[ie,oe]=(0,l.useState)({val:"",column:""}),[ue,se]=(0,l.useState)([]),[me,de]=(0,l.useState)(!1),[pe,ce]=(0,l.useState)(""),[ye,Me]=(0,l.useState)(""),[De,ge]=(0,l.useState)(!1),[Re,Ie]=(0,l.useState)(!1),[Ce,Te]=(0,l.useState)([]),[Ee,Ne]=(0,l.useState)([]),[fe,Se]=(0,l.useState)([]),[ve,he]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:g.MaterialReturnRegistryContext),{cstate:Pe,cdispatch:we}=e.ContextApi?e.ContextApi:(0,g.ContextApi)(),[xe,ke]=(0,l.useState)({children:[{name:"MaterialReturnRegistry",children:[]}]}),[Ae,Be]=(0,l.useState)(!1);let Le={MaterialReturnIDPK:"",MaterialReturnCode:"",MaterialReturnNo:"",MaterialReturnDate:"",MaterialReturnDateType:"",MaterialReturnDateBetween:"",RequestedThrough:"",MRTWoDetDesc:"",MatReturnStatus:"",MRTStatus:"",IsMRTMaterial:"",IsMRTReceipt:"",MRTStageKey:"",BudgetCostAccGrpDetKey:"",MRTWorkOrderKey:"",MRTYearEndKey:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",MatWareHouseID:"",ProStoreID:"",EmployeeID:"",DivisionID:"",MaterialIssueID:"",MatProcessTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionCode:"",DivisionName:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialRequestID:"",MaterialRequestCode:"",MatJobID:"",JobGOName:"",MatJobCode:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ke,Fe]=(0,l.useState)(Le),[Ge,Ze]=(0,l.useState)(Le),[Oe,We]=(0,l.useState)(Le),[ze,He]=(0,l.useState)(Le),[Qe,_e]=(0,l.useState)("asc"),[je,Ve]=(0,l.useState)(""),[Ue,Ye]=(0,l.useState)(!1),[qe,Je]=(0,l.useState)(!0),[$e,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[nt,rt]=(0,l.useState)(0),[it,ot]=(0,l.useState)({MaterialMINo:"",ContractName:"",LocalityName:"",DivisionName:"",ProStoreName:"",WareHouseName:"",MaterialReturnNo:"",MaterialReturnDate:"",FirstName:"",IsMRTReceipt:"",MaterialReturnCode:"",RequestedThrough:"",MRTWoDetDesc:"",MatReturnStatus:"",MRTStatus:"",IsMRTMaterial:"",MRTStageKey:"",BudgetCostAccGrpDetKey:"",MRTWorkOrderKey:"",MRTYearEndKey:"",BuildingName:"",MatProcessTypeName:""}),[ut,st]=(0,l.useState)(!1),[mt,dt]=(0,l.useState)([]),[pt,ct]=(0,l.useState)(0),[yt,Mt]=(0,l.useState)(0),[Dt,gt]=(0,l.useState)({current:1,pageSize:10}),[Rt,It]=(0,l.useState)([]),[Ct,Tt]=(0,l.useState)([]),[Et,Nt]=(0,l.useState)(!1),[ft]=(0,l.useState)(localStorage.getItem("Language")),[St]=(0,l.useState)(localStorage.getItem("Language")),[vt,ht]=F()("846"),[bt,Pt]=(0,l.useState)({}),[wt,xt]=(0,l.useState)({}),kt=[{columns:Rt,data:ae}];let At=(0,v.Z)();const Bt=e=>At?.[e]?At[e]:e,Lt=e=>Pe.language?.[e]?Pe.language[e]:e;(0,l.useEffect)((()=>{Ot(vt)}),[vt]),(0,l.useEffect)((()=>{Pe.token.length>0&&(Pe.IsDraft?Gt(ee,Le,"DraftMaterialReturnID"):Gt(ee,Le,"MaterialReturnID"))}),[]),(0,l.useEffect)((()=>{Re||ve||Ae||!pe?Re?Ze(pe):ve?We(pe):Ae&&He(pe):Pe.IsDraft?Gt(ee,pe,"DraftMaterialReturnID"):Gt(ee,pe,"MaterialReturnID")}),[pe]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&V(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Zt(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Kt()},viewrecord:e=>{ue.map(((t,a)=>{t.MaterialReturnIDPK==e&&we({type:"editData",payload:[ue[a]]})}))}})));const Kt=()=>{Pe.IsDraft?Gt(ee,Le,"DraftMaterialReturnID"):Gt(ee,Le,"MaterialReturnID")};function Ft(e){be.loading(!0);let t=D.v.Api+"FP846S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,a,Pe.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,Mt(t.Output.data[0].TotalCount)):(a=0,be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1)),10==e.pageSize?ct(Math.ceil(a)):20==e.pageSize?ct(Math.ceil(a/2)):50==e.pageSize?ct(Math.ceil(a/5)):100==e.pageSize&&ct(Math.ceil(a/10)),dt(t.Output.data),be.loading(!1)}}))}const Gt=(e,t,a,l,n,r)=>{be.loading(!0),"DraftPage"!==l&&Ye(Pe.IsDraft);let i=D.v.Api+"FP846S3/",o={data:{p1:n||(t&&t.MaterialReturnIDPK?t.MaterialReturnIDPK:null),p2:t&&t.MaterialReturnCode?t.MaterialReturnCode:null,p3:t&&t.MaterialReturnNo?t.MaterialReturnNo:null,p4:t&&t.MaterialReturnDate?t.MaterialReturnDate:null,p5:t&&t.MaterialReturnDateType?t.MaterialReturnDateType:null,p6:t&&t.MaterialReturnDateBetween?t.MaterialReturnDateBetween:null,p7:t&&t.RequestedThrough?t.RequestedThrough:null,p8:t&&t.MRTWoDetDesc?t.MRTWoDetDesc:null,p9:t&&t.MatReturnStatus?t.MatReturnStatus:null,p10:t&&t.MRTStatus?t.MRTStatus:null,p11:null,p12:null,p13:t&&t.MRTStageKey?t.MRTStageKey:null,p14:t&&t.BudgetCostAccGrpDetKey?t.BudgetCostAccGrpDetKey:null,p15:t&&t.MRTWorkOrderKey?t.MRTWorkOrderKey:null,p16:t&&t.MRTYearEndKey?t.MRTYearEndKey:null,p17:"DraftMaterialReturnID"==a?"1":"0",p18:null,p19:t&&t.ContractID?t.ContractID:null,p20:t&&t.LocalityID?t.LocalityID:null,p21:t&&t.BuildingID?t.BuildingID:null,p22:t&&t.MatWareHouseID?t.MatWareHouseID:null,p23:t&&t.ProStoreID?t.ProStoreID:null,p24:t&&t.EmployeeID?t.EmployeeID:null,p25:t&&t.DivisionID?t.DivisionID:null,p26:t&&t.MaterialIssueID?t.MaterialIssueID:null,p27:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p28:t&&t.IsActive,p29:null,p30:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p31:t&&t.CreatedTtm?t.CreatedTtm:null,p32:t&&t.CreatedTtmType?t.CreatedTtmType:null,p33:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p34:null,p35:t&&t.ContractGroupID?t.ContractGroupID:null,p36:t&&t.ContractGroupCode?t.ContractGroupCode:null,p37:t&&t.ContractGroupName?t.ContractGroupName:null,p38:t&&t.TaxID?t.TaxID:null,p39:t&&t.TaxCode?t.TaxCode:null,p40:t&&t.TaxName?t.TaxName:null,p41:t&&t.TaxValue?t.TaxValue:null,p42:t&&t.CustomerID?t.CustomerID:null,p43:t&&t.CustomerCode?t.CustomerCode:null,p44:t&&t.CustomerName?t.CustomerName:null,p45:t&&t.ContractTypeID?t.ContractTypeID:null,p46:t&&t.ContractTypCode?t.ContractTypCode:null,p47:t&&t.ContractTypeName?t.ContractTypeName:null,p48:t&&t.ContractCategID?t.ContractCategID:null,p49:t&&t.ContractCategCode?t.ContractCategCode:null,p50:t&&t.ContractCategName?t.ContractCategName:null,p51:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p52:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p53:t&&t.ContractCode?t.ContractCode:null,p54:t&&t.ContractName?t.ContractName:null,p55:t&&t.LocalityGroupID?t.LocalityGroupID:null,p56:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p57:t&&t.LocalityGroupName?t.LocalityGroupName:null,p58:t&&t.CityID?t.CityID:null,p59:t&&t.CityCode?t.CityCode:null,p60:t&&t.CityName?t.CityName:null,p61:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p62:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p63:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p64:t&&t.LocalityCode?t.LocalityCode:null,p65:t&&t.LocalityName?t.LocalityName:null,p66:t&&t.RegionID?t.RegionID:null,p67:t&&t.RegionCode?t.RegionCode:null,p68:t&&t.RegionName?t.RegionName:null,p69:t&&t.CountryID?t.CountryID:null,p70:t&&t.CountryCode?t.CountryCode:null,p71:t&&t.CountryName?t.CountryName:null,p72:t&&t.WareHouseCode?t.WareHouseCode:null,p73:t&&t.WareHouseName?t.WareHouseName:null,p74:t&&t.ProStoreCode?t.ProStoreCode:null,p75:t&&t.ProStoreName?t.ProStoreName:null,p76:t&&t.ShiftID?t.ShiftID:null,p77:t&&t.ShiftCode?t.ShiftCode:null,p78:t&&t.ShiftName?t.ShiftName:null,p79:t&&t.ClassificationID?t.ClassificationID:null,p80:t&&t.ClassificationCode?t.ClassificationCode:null,p81:t&&t.ClassificationName?t.ClassificationName:null,p82:t&&t.DepartmentID?t.DepartmentID:null,p83:t&&t.DepartmentCode?t.DepartmentCode:null,p84:t&&t.DepartmentName?t.DepartmentName:null,p85:t&&t.DesignationID?t.DesignationID:null,p86:t&&t.DesignationCode?t.DesignationCode:null,p87:t&&t.DesignationName?t.DesignationName:null,p88:t&&t.NationalityID?t.NationalityID:null,p89:t&&t.NationalityCode?t.NationalityCode:null,p90:t&&t.NationalityName?t.NationalityName:null,p91:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p92:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p93:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p94:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p95:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p96:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p97:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p98:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p99:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p100:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p101:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p102:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p103:t&&t.EmpGradeID?t.EmpGradeID:null,p104:t&&t.EmpGradeCode?t.EmpGradeCode:null,p105:t&&t.EmpGradeName?t.EmpGradeName:null,p106:t&&t.EmpGenderID?t.EmpGenderID:null,p107:t&&t.EmpGenderName?t.EmpGenderName:null,p108:t&&t.EmpTitleID?t.EmpTitleID:null,p109:t&&t.EmpTitleName?t.EmpTitleName:null,p110:t&&t.EmployeeCode?t.EmployeeCode:null,p111:t&&t.FirstName?t.FirstName:null,p112:t&&t.EmpContactNo1?t.EmpContactNo1:null,p113:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p114:t&&t.DivisionCode?t.DivisionCode:null,p115:t&&t.DivisionName?t.DivisionName:null,p116:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p117:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p118:t&&t.MaterialRequestID?t.MaterialRequestID:null,p119:t&&t.MaterialRequestCode?t.MaterialRequestCode:null,p120:t&&t.MatJobID?t.MatJobID:null,p121:t&&t.JobGOName?t.JobGOName:null,p122:t&&t.MatJobCode?t.MatJobCode:null,p123:t&&t.MaterialMINo?t.MaterialMINo:null,p124:t&&t.MaterialMSDate?t.MaterialMSDate:null,p125:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p126:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p127:n?1:e.current,p128:e.pageSize,p129:a,p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}};(0,d.Z)(i,o,Pe.token[0]).then((i=>{if(n)(0,B.m)(i,we,l,r,be,"MaterialReturnIDPK");else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let t=0;i.Output.data.length>0?(t=parseFloat(i.Output.data[0].TotalCount,10)/10,J(i.Output.data[0].TotalCount),we({type:"count",payload:i.Output.data[0].TotalCount}),X(i.Output.data[0].DraftCnt),"DraftPage"==l&&X(i.Output.data[0].TotalCount)):t=0,10==e.pageSize?Y(Math.ceil(t)):20==e.pageSize?Y(Math.ceil(t/2)):50==e.pageSize?Y(Math.ceil(t/5)):100==e.pageSize&&Y(Math.ceil(t/10)),Pe.ExpandTableValue&&(Pe.ExpandDetailValue?document.getElementById("MaterialReturnRegistry-MainTable").style.display="block":(document.getElementById("MaterialReturnRegistry-MainTable").style.width="100%",document.getElementById("MaterialReturnRegistry-MainEntry").style.width="100%",document.getElementById("MaterialReturnRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialReturnRegistry-MainDiv").classList.add("displayGrid"))),se(i.Output.data),be.loading(!1),document.getElementById("divMaterialReturnRegistry-Entry").style.height="auto"}}else be.loading(!1),"DraftMaterialReturnID"===a?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Ye(!1)):(se([]),te({current:1,pageSize:10}),Y(0),J(0),we({type:"count",payload:0}),Object.values(t).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[i.Output.status.message]}),be.loading(!1)}))};function Zt(e,t){be.loading(!0);const a=D.v.Api+"FP846S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Ue?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,l,Pe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?Y(Math.ceil(a)):20==t.pageSize?Y(Math.ceil(a/2)):50==t.pageSize?Y(Math.ceil(a/5)):100==t.pageSize&&Y(Math.ceil(a/10)),se(e.Output.data),be.loading(!1)}else se([]),Y(0),J(0),we({type:"count",payload:0}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function Ot(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),we({type:"language",payload:Object.assign({},...n)}),ot(a.reduce(((e,t)=>(e[t]="",e)),{})),Te(e),Ne(t),Se(a),It(l),Tt(a)}const Wt=(e,t,a)=>{we({type:"IsDraft",payload:t}),we({type:"EditOpen",payload:!1}),we({type:"EditIsDraft",payload:t}),be.ExpandDetail(!1),a?be.AddOpen(e.MaterialReturnIDPK,t):we({type:"editData",payload:[e]})},zt=()=>{me?(document.getElementById("MaterialReturnRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MaterialReturnRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MaterialReturnRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),Re?(document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?ve?(document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialReturnRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MaterialReturnRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MaterialReturnRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MaterialReturnRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),Re?(document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?ve?(document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialReturnRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),ge(!1),window.clickFilter=!me};return n().createElement("div",null,n().createElement(i.Z,{expanded:qe,onChange:()=>()=>{Je($e)}},n().createElement(u.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},n().createElement("div",{className:"displayFlex"},Ae||Re||!Ue?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[846]"},`${Lt("846")} (${q})`)):n().createElement("div",{className:"ListHeader displayFlex"},n().createElement(N.ZP,{title:"List",placement:"top"},n().createElement("div",{id:"fld846L3TCList",onClick:()=>{$e||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),be.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Gt({current:1,pageSize:100},Le,"MaterialReturnID"),Ye(!1),we({type:"IsDraft",payload:!1})}),500)):(Gt({current:1,pageSize:100},Le,"MaterialReturnID"),Ye(!1),we({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},n().createElement(w.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},"Drafts(",q,")")))),n().createElement("div",{style:{display:"flex"}},Re||ve||Ae?null:n().createElement("div",{className:"searchbar",id:"fld846L3TCSearchBar"},n().createElement(f.Z,{className:"search_input",type:"text",id:"MaterialReturnRegistrygridsearch",placeholder:"Search",value:ye,onChange:e=>{if(Me(e),"0"==e.length)return Gt(ee,Le,Ue?"DraftMaterialReturnID":"MaterialReturnID",Ue&&"DraftPage"),!1;Zt(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},ye?n().createElement("div",{id:"fld846L3TCCloseIcon",onClick:()=>{Me(""),Kt()}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld846L3TCInputSearchIcon",onClick:()=>{document.getElementById("MaterialReturnRegistrygridsearch").focus()}},n().createElement(C.Z,{className:"InputSearchIcon"})))),n().createElement("div",{style:{marginLeft:"5px"}},Pe.AccessRights.IsAdd&&n().createElement(h.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>{be.ExpandDetail(!0),be.Approval(!1)}}))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"MaterialReturnRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ue&&n().createElement("div",{frmctrlid:"fld846L3TCFilterDataIsDraft",id:"MaterialReturnRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>zt()},n().createElement(N.ZP,{title:Bt("Filter Data"),placement:"top"},n().createElement(y.Ol$,{className:"tableFilterColumnIcon"})),n().createElement("span",{className:"iconinfo"},Bt("Filter Data"))),j||Re||Ae||Ue?null:n().createElement(c.Z,{title:"846",formctrlidprint:"fld846L3TCExportPrint",formctrlidexport:"fld846L3TCExportTable",formctrlidrefresh:"fld846L3TCExportRefresh",data:ne,exportData:kt,Items:Ct,columnIndex:Rt,TableVisibleItem:Ee,userGridViewFormID:H,TableTotalCount:q,triggerApi:e=>{((e,t,l,n,r)=>{if(0===q)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let i=D.v.Api+"FP846S3/",o={data:{p1:e&&e.MaterialReturnIDPK?e.MaterialReturnIDPK:null,p2:e&&e.MaterialReturnCode?e.MaterialReturnCode:null,p3:e&&e.MaterialReturnNo?e.MaterialReturnNo:null,p4:e&&e.MaterialReturnDate?e.MaterialReturnDate:null,p5:e&&e.MaterialReturnDateType?e.MaterialReturnDateType:null,p6:e&&e.MaterialReturnDateBetween?e.MaterialReturnDateBetween:null,p7:e&&e.RequestedThrough?e.RequestedThrough:null,p8:e&&e.MRTWoDetDesc?e.MRTWoDetDesc:null,p9:e&&e.MatReturnStatus?e.MatReturnStatus:null,p10:e&&e.MRTStatus?e.MRTStatus:null,p11:null,p12:null,p13:e&&e.MRTStageKey?e.MRTStageKey:null,p14:e&&e.BudgetCostAccGrpDetKey?e.BudgetCostAccGrpDetKey:null,p15:e&&e.MRTWorkOrderKey?e.MRTWorkOrderKey:null,p16:e&&e.MRTYearEndKey?e.MRTYearEndKey:null,p17:Ue?"1":"0",p18:null,p19:e&&e.ContractID?e.ContractID:null,p20:e&&e.LocalityID?e.LocalityID:null,p21:e&&e.BuildingID?e.BuildingID:null,p22:e&&e.MatWareHouseID?e.MatWareHouseID:null,p23:e&&e.ProStoreID?e.ProStoreID:null,p24:e&&e.EmployeeID?e.EmployeeID:null,p25:e&&e.DivisionID?e.DivisionID:null,p26:e&&e.MaterialIssueID?e.MaterialIssueID:null,p27:e&&e.MatProcessTypeID?e.MatProcessTypeID:null,p28:e&&e.IsActive,p29:null,p30:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p31:e&&e.CreatedTtm?e.CreatedTtm:null,p32:e&&e.CreatedTtmType?e.CreatedTtmType:null,p33:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p34:null,p35:e&&e.ContractGroupID?e.ContractGroupID:null,p36:e&&e.ContractGroupCode?e.ContractGroupCode:null,p37:e&&e.ContractGroupName?e.ContractGroupName:null,p38:e&&e.TaxID?e.TaxID:null,p39:e&&e.TaxCode?e.TaxCode:null,p40:e&&e.TaxName?e.TaxName:null,p41:e&&e.TaxValue?e.TaxValue:null,p42:e&&e.CustomerID?e.CustomerID:null,p43:e&&e.CustomerCode?e.CustomerCode:null,p44:e&&e.CustomerName?e.CustomerName:null,p45:e&&e.ContractTypeID?e.ContractTypeID:null,p46:e&&e.ContractTypCode?e.ContractTypCode:null,p47:e&&e.ContractTypeName?e.ContractTypeName:null,p48:e&&e.ContractCategID?e.ContractCategID:null,p49:e&&e.ContractCategCode?e.ContractCategCode:null,p50:e&&e.ContractCategName?e.ContractCategName:null,p51:e&&e.ConPaymentTermsID?e.ConPaymentTermsID:null,p52:e&&e.ConPaymentTermsName?e.ConPaymentTermsName:null,p53:e&&e.ContractCode?e.ContractCode:null,p54:e&&e.ContractName?e.ContractName:null,p55:e&&e.LocalityGroupID?e.LocalityGroupID:null,p56:e&&e.LocalityGroupCode?e.LocalityGroupCode:null,p57:e&&e.LocalityGroupName?e.LocalityGroupName:null,p58:e&&e.CityID?e.CityID:null,p59:e&&e.CityCode?e.CityCode:null,p60:e&&e.CityName?e.CityName:null,p61:e&&e.AdminLocalityTypeID?e.AdminLocalityTypeID:null,p62:e&&e.AdminLocalityTypeCode?e.AdminLocalityTypeCode:null,p63:e&&e.AdminLocalityTypeName?e.AdminLocalityTypeName:null,p64:e&&e.LocalityCode?e.LocalityCode:null,p65:e&&e.LocalityName?e.LocalityName:null,p66:e&&e.RegionID?e.RegionID:null,p67:e&&e.RegionCode?e.RegionCode:null,p68:e&&e.RegionName?e.RegionName:null,p69:e&&e.CountryID?e.CountryID:null,p70:e&&e.CountryCode?e.CountryCode:null,p71:e&&e.CountryName?e.CountryName:null,p72:e&&e.WareHouseCode?e.WareHouseCode:null,p73:e&&e.WareHouseName?e.WareHouseName:null,p74:e&&e.ProStoreCode?e.ProStoreCode:null,p75:e&&e.ProStoreName?e.ProStoreName:null,p76:e&&e.ShiftID?e.ShiftID:null,p77:e&&e.ShiftCode?e.ShiftCode:null,p78:e&&e.ShiftName?e.ShiftName:null,p79:e&&e.ClassificationID?e.ClassificationID:null,p80:e&&e.ClassificationCode?e.ClassificationCode:null,p81:e&&e.ClassificationName?e.ClassificationName:null,p82:e&&e.DepartmentID?e.DepartmentID:null,p83:e&&e.DepartmentCode?e.DepartmentCode:null,p84:e&&e.DepartmentName?e.DepartmentName:null,p85:e&&e.DesignationID?e.DesignationID:null,p86:e&&e.DesignationCode?e.DesignationCode:null,p87:e&&e.DesignationName?e.DesignationName:null,p88:e&&e.NationalityID?e.NationalityID:null,p89:e&&e.NationalityCode?e.NationalityCode:null,p90:e&&e.NationalityName?e.NationalityName:null,p91:e&&e.EmpWorkNatureID?e.EmpWorkNatureID:null,p92:e&&e.NatureOfWorkCode?e.NatureOfWorkCode:null,p93:e&&e.NatureOfWorkName?e.NatureOfWorkName:null,p94:e&&e.EmployeeTypeID?e.EmployeeTypeID:null,p95:e&&e.EmployeeTypeCode?e.EmployeeTypeCode:null,p96:e&&e.EmployeeTypeName?e.EmployeeTypeName:null,p97:e&&e.EmploymentTypeID?e.EmploymentTypeID:null,p98:e&&e.EmploymentTypCode?e.EmploymentTypCode:null,p99:e&&e.EmploymentTypeName?e.EmploymentTypeName:null,p100:e&&e.EmployeeGroupID?e.EmployeeGroupID:null,p101:e&&e.EmployeeGroupCode?e.EmployeeGroupCode:null,p102:e&&e.EmployeeGroupName?e.EmployeeGroupName:null,p103:e&&e.EmpGradeID?e.EmpGradeID:null,p104:e&&e.EmpGradeCode?e.EmpGradeCode:null,p105:e&&e.EmpGradeName?e.EmpGradeName:null,p106:e&&e.EmpGenderID?e.EmpGenderID:null,p107:e&&e.EmpGenderName?e.EmpGenderName:null,p108:e&&e.EmpTitleID?e.EmpTitleID:null,p109:e&&e.EmpTitleName?e.EmpTitleName:null,p110:e&&e.EmployeeCode?e.EmployeeCode:null,p111:e&&e.FirstName?e.FirstName:null,p112:e&&e.EmpContactNo1?e.EmpContactNo1:null,p113:e&&e.EmpEmailOfficial?e.EmpEmailOfficial:null,p114:e&&e.DivisionCode?e.DivisionCode:null,p115:e&&e.DivisionName?e.DivisionName:null,p116:e&&e.MatProcessTypeCode?e.MatProcessTypeCode:null,p117:e&&e.MatProcessTypeName?e.MatProcessTypeName:null,p118:e&&e.MaterialRequestID?e.MaterialRequestID:null,p119:e&&e.MaterialRequestCode?e.MaterialRequestCode:null,p120:e&&e.MatJobID?e.MatJobID:null,p121:e&&e.JobGOName?e.JobGOName:null,p122:e&&e.MatJobCode?e.MatJobCode:null,p123:e&&e.MaterialMINo?e.MaterialMINo:null,p124:e&&e.MaterialMSDate?e.MaterialMSDate:null,p125:e&&e.MaterialMSDateType?e.MaterialMSDateType:null,p126:e&&e.MaterialMSDateBetween?e.MaterialMSDateBetween:null,p127:ee.current,p128:q,p129:Ue?"DraftMaterialReturnID":"MaterialReturnID",p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${Lt(846)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(i,o,Pe.token[0],r).then((e=>{(0,A.PDF_Excel_Generate)(e,be,Ct,le,a,r)}))})(pe,ie.column,0,0,e)},Refresh:()=>{Me(""),K.current.clearItem(),te({current:1,pageSize:100}),Pe.IsDraft?Gt({current:1,pageSize:100},Le,"DraftMaterialReturnID"):Gt({current:1,pageSize:100},Le,"MaterialReturnID")},disabledPrint:!Pe.AccessRights.IsPrint,disabledExport:!Pe.AccessRights.IsExport,ref:a}),Re||ve||Ae||!$e?null:!Ue&&Pe.AccessRights.IsAdd&&n().createElement("div",{id:"MaterialReturnRegistrycoldiv",className:"buttoncard",onClick:()=>{De?(document.getElementById("MaterialReturnRegistryFilterDiv").style.width="0%",document.getElementById("MaterialReturnRegistryTabDiv").style.width="100%",document.getElementById("MaterialReturnRegistryFilterDiv").style.display="none",document.getElementById("MaterialReturnRegistrycoldiv").style.width="fit-content",document.getElementById("MaterialReturnRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("MaterialReturnRegistryFilterDiv").style.width="25%",document.getElementById("MaterialReturnRegistryTabDiv").style.width="75%",document.getElementById("MaterialReturnRegistryFilterDiv").style.display="block",document.getElementById("MaterialReturnRegistryfildiv").style.width="fit-content",document.getElementById("MaterialReturnRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialReturnRegistrycoldiv").style.width="fit-content",document.getElementById("MaterialReturnRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),de(!1)}},n().createElement(N.ZP,{title:"{t('Manage Columns')}",placement:"top"},n().createElement("span",null,n().createElement(M.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld846L3TCFilterDataIsAdd"}))),n().createElement("span",{className:"iconinfo"},Bt("Manage Columns"))),!Ue&&Q&&!Re&&!Ae&&!j&&$e&&n().createElement("div",{id:"fld846L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},n().createElement(N.ZP,{title:Bt("Migration"),placement:"top"},n().createElement("span",null,n().createElement(Z.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Bt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!j&&$e&&!Ae&&!Re&&!Ue&&n().createElement("div",null,n().createElement("div",{id:"MaterialReturnRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ut?st(!1):(st(!0),Ft({current:1,pageSize:100}))}},n().createElement("div",{id:"fld846L3TCTableScrollData"},n().createElement(N.ZP,{title:Bt("Table Scroll Data"),placement:"top"},n().createElement(W.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Bt("Table Scroll Data")))),Pe.AccessRights.IsAdd&&!Ae&&!Re&&!Ue&&n().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:$,showZero:!0},n().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if($>0){rt(0),te({current:1,pageSize:100}),$e||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),be.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Gt({current:1,pageSize:100},Le,"DraftMaterialReturnID"),Ye(!0),we({type:"IsDraft",payload:!0}),ge(!1),lt(!0),Ie(!1),he(!1)}),500)):(Gt({current:1,pageSize:100},Le,"DraftMaterialReturnID"),Ye(!0),we({type:"IsDraft",payload:!0}),ge(!1),lt(!0),Ie(!1),he(!1)),document.getElementById("MaterialReturnRegistryFilterDiv").style.width="0%",document.getElementById("MaterialReturnRegistryTabDiv").style.width="100%",document.getElementById("MaterialReturnRegistryFilterDiv").style.display="none"}else be.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},n().createElement(N.ZP,{title:Bt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(x.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Bt("Drafts"))))),Re||ve||Ae||Ue?null:n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ae||Ue?null:n().createElement("div",null,$e&&n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{id:"fld846L3TCListView",className:at?"buttonList":"buttonGrid",onClick:()=>{de(!0),lt(!0),Nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(P.umT,null)),n().createElement("span",null,"List")),n().createElement("div",{id:"fld846L3TCGridView",className:at||Et?"buttonGrid":"buttonList",onClick:()=>{lt(!1),Nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(b.aCJ,null)),n().createElement("span",null,"Card")),n().createElement("div",{className:Et?"buttonList":"buttonGrid",id:"fld846L3TCTileView",onClick:()=>{Nt(!0),lt(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(k.f_H,null)),n().createElement("span",null,"Tile"))))))),n().createElement("div",{id:"MaterialReturnRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},n().createElement("div",{id:"MaterialReturnRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},me&&n().createElement(p.default,{CloseBtnClk:()=>zt(),searchData:e=>{ce(e||bt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));xt(t)},formID:H,data:()=>{},visibleData:()=>{},token:Pe.token[0],userGrid:vt,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Kt()}}),De&&!Re&&!ve&&n().createElement(T.Z,{frmctrlid:"fld846L3TCTableColumnOrder",loading:e=>be.loading(e),AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:De,userID:z,userGridViewFormID:H,saved:(e,t)=>{e&&Ot(t),ht(t)},Token:Pe.token[0]})),n().createElement("div",{id:"MaterialReturnRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},at?n().createElement("div",null,Re&&n().createElement(ListComponent,{onLoad:Re,data:(e,t)=>{!function(e,t){we({type:"editData",payload:[e]}),de(!1),document.getElementById("MaterialReturnRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("MaterialReturnRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("MaterialReturnRegistry-ShareView").classList.remove("ViewBtnAct"),Ie(!1),he(!1),Be(!1);let a={MaterialIssueID:"",ContractID:"",LocalityID:"",DivisionID:"",ProStoreID:"",MatWareHouseID:"",MaterialReturnNo:"",MaterialReturnDate:"",EmployeeID:"",IsMRTReceipt:"",MaterialReturnCode:"",RequestedThrough:"",MRTWoDetDesc:"",MatReturnStatus:"",MRTStatus:"",IsMRTMaterial:"",MRTStageKey:"",BudgetCostAccGrpDetKey:"",MRTWorkOrderKey:"",MRTYearEndKey:"",BuildingID:"",MatProcessTypeID:""};Fe(a),Gt({current:1,pageSize:100},a,"MaterialReturnID")}(e)},json:Ge}),!Re&&!Ae&&n().createElement("div",null,ut?n().createElement(O.Z,{data:mt,expanded:()=>{},edit:(e,t,a)=>{Wt(e,t,a),be.ExpandTable(!1),we({type:"EditIsDraft",payload:t}),we({type:"EditOpen",payload:!1})}}):n().createElement(G.Z,{ref:K,frmctrlid:"tblcs_846_L3_",id:"MaterialReturnRegistry-MainTable",headerdata:Ee,tablesearchparams:it,searchvalue:e=>{ot(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...wt};Pt(t),te({current:1,pageSize:10}),Gt({current:1,pageSize:10},t,Ue?"DraftMaterialReturnID":"MaterialReturnID",Ue&&"DraftPage")},bodydata:ue,ondrag:(e,t)=>{Wt(t,Ue,!0)},bodyitem:fe,visibleitem:Ee,isdraft:Ue,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:H,accessrights:Pe.AccessRights,expanded:()=>{},edit:(e,t,a)=>{Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Gt(ee,null,t?"DraftMaterialReturnID":"MaterialReturnID",t&&"DraftPage",e[l],a)}))},viewtoggle:be.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return n().createElement(L.ZP,{loading:e=>be.loading(e),alertmsg:e=>be.alert(e),ConfirmAlert:e=>{be.ConfirmAlert(e)},data:Pe.editData,AddOpen:Pe.EditOpen,parentId:t.MaterialReturnIDPK,IsDraft:Pe.EditIsDraft,tableview:e})}}))):n().createElement(S.Z,{frmctrlid:"fld846L3TCExpandedCardDual",data:ue,id:"MaterialReturnRegistry",title:"Material Return",cardTile:!!Et,visibleitem:Ee,gridCountmdlg:$e?4:12,gridCountxssm:$e?6:12,expanded:()=>{},edit:Wt,viewtoggle:be.viewtoggle,onDoubleClick:(e,t)=>{j?be.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ue}),we({type:"ShowDetail",payload:!1}),be.ExpandDetail(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ue}),we({type:"ShowDetail",payload:!0}),be.ExpandDetail(!0),be.viewtoggle()),$e&&(de(!1),ge(!1)))}})))))),Re||ve||Ae?null:$e?ut?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(R.Z,{count:pt,color:"primary",page:Dt.current,onChange:(e,t)=>{gt({current:t,pageSize:Dt.pageSize}),ct(t),Ft({current:t,pageSize:Dt.pageSize})}}),n().createElement("div",null,n().createElement(I.Z,{value:Dt.pageSize,frmctrlid:"fld846L3TCSelectPagination",onChange:e=>{gt({current:1,pageSize:e.target.value}),Ft({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),$e&&n().createElement("p",{className:"per-page"},"/ per page Of (",yt,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(R.Z,{count:U,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),Ue)Gt({current:t,pageSize:ee.pageSize},pe,"DraftMaterialReturnID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ye.length>0?Zt(ye,{current:t,pageSize:ee.pageSize}):Gt({current:t,pageSize:ee.pageSize},pe,"MaterialReturnID")}}}),n().createElement("div",null,n().createElement(I.Z,{value:ee.pageSize,frmctrlid:"fld846L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),Ue?Gt({current:1,pageSize:e.target.value},Ke,"DraftMaterialReturnID","DraftPage"):ye.length>0?Zt(ye,{current:1,pageSize:e.target.value}):Gt({current:1,pageSize:e.target.value},Ke,"MaterialReturnID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),$e&&n().createElement("p",{className:"per-page "},"/ per page Of (",q,") ")):n().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},n().createElement(E.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(q),page:nt,onPageChange:(e,t)=>{rt(t),Gt({current:t+1,pageSize:ee.pageSize},Le,Ue?"DraftMaterialReturnID":"MaterialReturnID",Ue&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{rt(0)}})))})),H=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),s=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[y,M]=F()("846"),[C,T]=(0,l.useState)(!1),[E,N]=(0,l.useState)(0),[f,S]=(0,l.useState)(0),[h,b]=(0,l.useState)({current:1,pageSize:100}),[P,w]=(0,l.useState)(""),[x,k]=(0,l.useState)([]),[B,L]=(0,l.useState)({val:"",column:""}),[K,Z]=(0,l.useState)([]),[O,W]=(0,l.useState)(!1),[z,H]=(0,l.useState)(""),[Q,_]=(0,l.useState)([]),[j,V]=(0,l.useState)([]),[U,Y]=(0,l.useState)([]),q=(0,l.useContext)(g.MaterialReturnRegistryContext),{cstate:J,cdispatch:$}=(0,g.ContextApi)();let X={MaterialReturnIDPK:"",MaterialReturnCode:"",MaterialReturnNo:"",MaterialReturnDate:"",MaterialReturnDateType:"",MaterialReturnDateBetween:"",RequestedThrough:"",MRTWoDetDesc:"",MatReturnStatus:"",MRTStatus:"",IsMRTMaterial:"",IsMRTReceipt:"",MRTStageKey:"",BudgetCostAccGrpDetKey:"",MRTWorkOrderKey:"",MRTYearEndKey:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",MatWareHouseID:"",ProStoreID:"",EmployeeID:"",DivisionID:"",MaterialIssueID:"",MatProcessTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionCode:"",DivisionName:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialRequestID:"",MaterialRequestCode:"",MatJobID:"",JobGOName:"",MatJobCode:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ne,re]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(!0),[ue,se]=(0,l.useState)(0),[me,de]=(0,l.useState)({MaterialMINo:"",ContractName:"",LocalityName:"",DivisionName:"",ProStoreName:"",WareHouseName:"",MaterialReturnNo:"",MaterialReturnDate:"",FirstName:"",IsMRTReceipt:"",MaterialReturnCode:"",RequestedThrough:"",MRTWoDetDesc:"",MatReturnStatus:"",MRTStatus:"",IsMRTMaterial:"",MRTStageKey:"",BudgetCostAccGrpDetKey:"",MRTWorkOrderKey:"",MRTYearEndKey:"",BuildingName:"",MatProcessTypeName:""}),[pe,ce]=(0,l.useState)([]),[ye,Me]=(0,l.useState)([]),[De,ge]=(0,l.useState)([]),[Re,Ie]=(0,l.useState)(!1),[Ce,Te]=(0,l.useState)("");let Ee=(0,v.Z)();const Ne=[{columns:pe,data:P}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),$({type:"language",payload:Object.assign({},...n)}),de(a.reduce(((e,t)=>(e[t]="",e)),{})),_(e),V(t),Y(a),ce(l),Me(a)}(y)}),[y]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{fe()},viewrecord:e=>{K.map(((t,a)=>{t.MaterialReturnIDPK==e&&$({type:"editData",payload:[K[a]]})}))},DialogTableProps:e=>{T(e)},searchData:(t,a,l)=>{q.loading(!0),s.current&&s.current.clearItem(),Te(l),b({current:1,pageSize:10}),X=e.ApiParamType.params,Se({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&T(e.Dialogview)}),[e.cardview,e.Dialogview]);const fe=()=>{J.IsDraft?Se(h,X,"DraftMaterialReturnID"):Se(h,X,"MaterialReturnID")},Se=async(t,a,l,n)=>{if(J.token[0]){if(q.loading(!0),"DraftPage"!==n&&te(J.IsDraft),await Te((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],n=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=n[e];a=t}H(a);let r=D.v.Api+`${e.ApiType}/`,i={data:{p1:a&&a.MaterialReturnIDPK?a.MaterialReturnIDPK:null,p2:a&&a.MaterialReturnCode?a.MaterialReturnCode:null,p3:a&&a.MaterialReturnNo?a.MaterialReturnNo:null,p4:a&&a.MaterialReturnDate?a.MaterialReturnDate:null,p5:a&&a.MaterialReturnDateType?a.MaterialReturnDateType:null,p6:a&&a.MaterialReturnDateBetween?a.MaterialReturnDateBetween:null,p7:a&&a.RequestedThrough?a.RequestedThrough:null,p8:a&&a.MRTWoDetDesc?a.MRTWoDetDesc:null,p9:a&&a.MatReturnStatus?a.MatReturnStatus:null,p10:a&&a.MRTStatus?a.MRTStatus:null,p11:null,p12:null,p13:a&&a.MRTStageKey?a.MRTStageKey:null,p14:a&&a.BudgetCostAccGrpDetKey?a.BudgetCostAccGrpDetKey:null,p15:a&&a.MRTWorkOrderKey?a.MRTWorkOrderKey:null,p16:a&&a.MRTYearEndKey?a.MRTYearEndKey:null,p17:"DraftMaterialReturnID"==l?"1":"0",p18:null,p19:a&&a.ContractID?a.ContractID:null,p20:a&&a.LocalityID?a.LocalityID:null,p21:a&&a.BuildingID?a.BuildingID:null,p22:a&&a.MatWareHouseID?a.MatWareHouseID:null,p23:a&&a.ProStoreID?a.ProStoreID:null,p24:a&&a.EmployeeID?a.EmployeeID:null,p25:a&&a.DivisionID?a.DivisionID:null,p26:a&&a.MaterialIssueID?a.MaterialIssueID:null,p27:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p28:a&&a.IsActive,p29:null,p30:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p31:a&&a.CreatedTtm?a.CreatedTtm:null,p32:a&&a.CreatedTtmType?a.CreatedTtmType:null,p33:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p34:null,p35:a&&a.ContractGroupID?a.ContractGroupID:null,p36:a&&a.ContractGroupCode?a.ContractGroupCode:null,p37:a&&a.ContractGroupName?a.ContractGroupName:null,p38:a&&a.TaxID?a.TaxID:null,p39:a&&a.TaxCode?a.TaxCode:null,p40:a&&a.TaxName?a.TaxName:null,p41:a&&a.TaxValue?a.TaxValue:null,p42:a&&a.CustomerID?a.CustomerID:null,p43:a&&a.CustomerCode?a.CustomerCode:null,p44:a&&a.CustomerName?a.CustomerName:null,p45:a&&a.ContractTypeID?a.ContractTypeID:null,p46:a&&a.ContractTypCode?a.ContractTypCode:null,p47:a&&a.ContractTypeName?a.ContractTypeName:null,p48:a&&a.ContractCategID?a.ContractCategID:null,p49:a&&a.ContractCategCode?a.ContractCategCode:null,p50:a&&a.ContractCategName?a.ContractCategName:null,p51:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p52:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p53:a&&a.ContractCode?a.ContractCode:null,p54:a&&a.ContractName?a.ContractName:null,p55:a&&a.LocalityGroupID?a.LocalityGroupID:null,p56:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p57:a&&a.LocalityGroupName?a.LocalityGroupName:null,p58:a&&a.CityID?a.CityID:null,p59:a&&a.CityCode?a.CityCode:null,p60:a&&a.CityName?a.CityName:null,p61:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p62:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p63:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p64:a&&a.LocalityCode?a.LocalityCode:null,p65:a&&a.LocalityName?a.LocalityName:null,p66:a&&a.RegionID?a.RegionID:null,p67:a&&a.RegionCode?a.RegionCode:null,p68:a&&a.RegionName?a.RegionName:null,p69:a&&a.CountryID?a.CountryID:null,p70:a&&a.CountryCode?a.CountryCode:null,p71:a&&a.CountryName?a.CountryName:null,p72:a&&a.WareHouseCode?a.WareHouseCode:null,p73:a&&a.WareHouseName?a.WareHouseName:null,p74:a&&a.ProStoreCode?a.ProStoreCode:null,p75:a&&a.ProStoreName?a.ProStoreName:null,p76:a&&a.ShiftID?a.ShiftID:null,p77:a&&a.ShiftCode?a.ShiftCode:null,p78:a&&a.ShiftName?a.ShiftName:null,p79:a&&a.ClassificationID?a.ClassificationID:null,p80:a&&a.ClassificationCode?a.ClassificationCode:null,p81:a&&a.ClassificationName?a.ClassificationName:null,p82:a&&a.DepartmentID?a.DepartmentID:null,p83:a&&a.DepartmentCode?a.DepartmentCode:null,p84:a&&a.DepartmentName?a.DepartmentName:null,p85:a&&a.DesignationID?a.DesignationID:null,p86:a&&a.DesignationCode?a.DesignationCode:null,p87:a&&a.DesignationName?a.DesignationName:null,p88:a&&a.NationalityID?a.NationalityID:null,p89:a&&a.NationalityCode?a.NationalityCode:null,p90:a&&a.NationalityName?a.NationalityName:null,p91:a&&a.EmpWorkNatureID?a.EmpWorkNatureID:null,p92:a&&a.NatureOfWorkCode?a.NatureOfWorkCode:null,p93:a&&a.NatureOfWorkName?a.NatureOfWorkName:null,p94:a&&a.EmployeeTypeID?a.EmployeeTypeID:null,p95:a&&a.EmployeeTypeCode?a.EmployeeTypeCode:null,p96:a&&a.EmployeeTypeName?a.EmployeeTypeName:null,p97:a&&a.EmploymentTypeID?a.EmploymentTypeID:null,p98:a&&a.EmploymentTypCode?a.EmploymentTypCode:null,p99:a&&a.EmploymentTypeName?a.EmploymentTypeName:null,p100:a&&a.EmployeeGroupID?a.EmployeeGroupID:null,p101:a&&a.EmployeeGroupCode?a.EmployeeGroupCode:null,p102:a&&a.EmployeeGroupName?a.EmployeeGroupName:null,p103:a&&a.EmpGradeID?a.EmpGradeID:null,p104:a&&a.EmpGradeCode?a.EmpGradeCode:null,p105:a&&a.EmpGradeName?a.EmpGradeName:null,p106:a&&a.EmpGenderID?a.EmpGenderID:null,p107:a&&a.EmpGenderName?a.EmpGenderName:null,p108:a&&a.EmpTitleID?a.EmpTitleID:null,p109:a&&a.EmpTitleName?a.EmpTitleName:null,p110:a&&a.EmployeeCode?a.EmployeeCode:null,p111:a&&a.FirstName?a.FirstName:null,p112:a&&a.EmpContactNo1?a.EmpContactNo1:null,p113:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p114:a&&a.DivisionCode?a.DivisionCode:null,p115:a&&a.DivisionName?a.DivisionName:null,p116:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p117:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p118:a&&a.MaterialRequestID?a.MaterialRequestID:null,p119:a&&a.MaterialRequestCode?a.MaterialRequestCode:null,p120:a&&a.MatJobID?a.MatJobID:null,p121:a&&a.JobGOName?a.JobGOName:null,p122:a&&a.MatJobCode?a.MatJobCode:null,p123:a&&a.MaterialMINo?a.MaterialMINo:null,p124:a&&a.MaterialMSDate?a.MaterialMSDate:null,p125:a&&a.MaterialMSDateType?a.MaterialMSDateType:null,p126:a&&a.MaterialMSDateBetween?a.MaterialMSDateBetween:null,p127:t.current,p128:t.pageSize,p129:l,p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}};(0,d.Z)(r,i,J.token[0]).then((e=>{if(q.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,S(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),$({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?N(Math.ceil(a)):20==t.pageSize?N(Math.ceil(a/2)):50==t.pageSize?N(Math.ceil(a/5)):100==t.pageSize&&N(Math.ceil(a/10)),Z(e.Output.data)}}else q.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Ee?.[a]?Ee[a]:a)]}),Z([]),N(0),S(0),$({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{re(J.ExpandTableValue)}),[J.ExpandTableValue]),n().createElement("div",null,n().createElement(i.Z,{expanded:ae,onChange:()=>()=>{le(ne)}},n().createElement(u.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",f,")")))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"MaterialReturnRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(c.Z,{formctrlidprint:"fld846L3TCExportPrint",formctrlidexport:"fld846L3TCExportTable",formctrlidrefresh:"fld846L3TCExportRefresh",title:"846",data:x,exportData:Ne,Items:ye,columnIndex:pe,triggerApi:t=>{((t,l,n)=>{if(0===f)return q.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;q.loading(!0);let r=D.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.MaterialReturnIDPK?t.MaterialReturnIDPK:null),p2:t&&t.MaterialReturnCode?t.MaterialReturnCode:null,p3:t&&t.MaterialReturnNo?t.MaterialReturnNo:null,p4:t&&t.MaterialReturnDate?t.MaterialReturnDate:null,p5:t&&t.MaterialReturnDateType?t.MaterialReturnDateType:null,p6:t&&t.MaterialReturnDateBetween?t.MaterialReturnDateBetween:null,p7:t&&t.RequestedThrough?t.RequestedThrough:null,p8:t&&t.MRTWoDetDesc?t.MRTWoDetDesc:null,p9:t&&t.MatReturnStatus?t.MatReturnStatus:null,p10:t&&t.MRTStatus?t.MRTStatus:null,p11:null,p12:null,p13:t&&t.MRTStageKey?t.MRTStageKey:null,p14:t&&t.BudgetCostAccGrpDetKey?t.BudgetCostAccGrpDetKey:null,p15:t&&t.MRTWorkOrderKey?t.MRTWorkOrderKey:null,p16:t&&t.MRTYearEndKey?t.MRTYearEndKey:null,p17:ee?"1":"0",p18:null,p19:t&&t.ContractID?t.ContractID:null,p20:t&&t.LocalityID?t.LocalityID:null,p21:t&&t.BuildingID?t.BuildingID:null,p22:t&&t.MatWareHouseID?t.MatWareHouseID:null,p23:t&&t.ProStoreID?t.ProStoreID:null,p24:t&&t.EmployeeID?t.EmployeeID:null,p25:t&&t.DivisionID?t.DivisionID:null,p26:t&&t.MaterialIssueID?t.MaterialIssueID:null,p27:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p28:t&&t.IsActive,p29:null,p30:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p31:t&&t.CreatedTtm?t.CreatedTtm:null,p32:t&&t.CreatedTtmType?t.CreatedTtmType:null,p33:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p34:null,p35:t&&t.ContractGroupID?t.ContractGroupID:null,p36:t&&t.ContractGroupCode?t.ContractGroupCode:null,p37:t&&t.ContractGroupName?t.ContractGroupName:null,p38:t&&t.TaxID?t.TaxID:null,p39:t&&t.TaxCode?t.TaxCode:null,p40:t&&t.TaxName?t.TaxName:null,p41:t&&t.TaxValue?t.TaxValue:null,p42:t&&t.CustomerID?t.CustomerID:null,p43:t&&t.CustomerCode?t.CustomerCode:null,p44:t&&t.CustomerName?t.CustomerName:null,p45:t&&t.ContractTypeID?t.ContractTypeID:null,p46:t&&t.ContractTypCode?t.ContractTypCode:null,p47:t&&t.ContractTypeName?t.ContractTypeName:null,p48:t&&t.ContractCategID?t.ContractCategID:null,p49:t&&t.ContractCategCode?t.ContractCategCode:null,p50:t&&t.ContractCategName?t.ContractCategName:null,p51:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p52:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p53:t&&t.ContractCode?t.ContractCode:null,p54:t&&t.ContractName?t.ContractName:null,p55:t&&t.LocalityGroupID?t.LocalityGroupID:null,p56:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p57:t&&t.LocalityGroupName?t.LocalityGroupName:null,p58:t&&t.CityID?t.CityID:null,p59:t&&t.CityCode?t.CityCode:null,p60:t&&t.CityName?t.CityName:null,p61:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p62:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p63:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p64:t&&t.LocalityCode?t.LocalityCode:null,p65:t&&t.LocalityName?t.LocalityName:null,p66:t&&t.RegionID?t.RegionID:null,p67:t&&t.RegionCode?t.RegionCode:null,p68:t&&t.RegionName?t.RegionName:null,p69:t&&t.CountryID?t.CountryID:null,p70:t&&t.CountryCode?t.CountryCode:null,p71:t&&t.CountryName?t.CountryName:null,p72:t&&t.WareHouseCode?t.WareHouseCode:null,p73:t&&t.WareHouseName?t.WareHouseName:null,p74:t&&t.ProStoreCode?t.ProStoreCode:null,p75:t&&t.ProStoreName?t.ProStoreName:null,p76:t&&t.ShiftID?t.ShiftID:null,p77:t&&t.ShiftCode?t.ShiftCode:null,p78:t&&t.ShiftName?t.ShiftName:null,p79:t&&t.ClassificationID?t.ClassificationID:null,p80:t&&t.ClassificationCode?t.ClassificationCode:null,p81:t&&t.ClassificationName?t.ClassificationName:null,p82:t&&t.DepartmentID?t.DepartmentID:null,p83:t&&t.DepartmentCode?t.DepartmentCode:null,p84:t&&t.DepartmentName?t.DepartmentName:null,p85:t&&t.DesignationID?t.DesignationID:null,p86:t&&t.DesignationCode?t.DesignationCode:null,p87:t&&t.DesignationName?t.DesignationName:null,p88:t&&t.NationalityID?t.NationalityID:null,p89:t&&t.NationalityCode?t.NationalityCode:null,p90:t&&t.NationalityName?t.NationalityName:null,p91:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p92:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p93:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p94:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p95:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p96:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p97:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p98:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p99:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p100:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p101:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p102:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p103:t&&t.EmpGradeID?t.EmpGradeID:null,p104:t&&t.EmpGradeCode?t.EmpGradeCode:null,p105:t&&t.EmpGradeName?t.EmpGradeName:null,p106:t&&t.EmpGenderID?t.EmpGenderID:null,p107:t&&t.EmpGenderName?t.EmpGenderName:null,p108:t&&t.EmpTitleID?t.EmpTitleID:null,p109:t&&t.EmpTitleName?t.EmpTitleName:null,p110:t&&t.EmployeeCode?t.EmployeeCode:null,p111:t&&t.FirstName?t.FirstName:null,p112:t&&t.EmpContactNo1?t.EmpContactNo1:null,p113:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p114:t&&t.DivisionCode?t.DivisionCode:null,p115:t&&t.DivisionName?t.DivisionName:null,p116:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p117:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p118:t&&t.MaterialRequestID?t.MaterialRequestID:null,p119:t&&t.MaterialRequestCode?t.MaterialRequestCode:null,p120:t&&t.MatJobID?t.MatJobID:null,p121:t&&t.JobGOName?t.JobGOName:null,p122:t&&t.MatJobCode?t.MatJobCode:null,p123:t&&t.MaterialMINo?t.MaterialMINo:null,p124:t&&t.MaterialMSDate?t.MaterialMSDate:null,p125:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p126:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p127:1,p128:f,p129:Ce,p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}};var o;q.loading(!1),q.alert({open:!0,color:"success",message:[`${o="846",J.language?.[o]?J.language[o]:o} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,d.Z)(r,i,J.token[0],n).then((e=>{(0,A.PDF_Excel_Generate)(e,q,ye,w,a,n)}))})(z,B.column,t)},TableVisibleItem:j,userGridViewFormID:"846",TableTotalCount:f,Refresh:()=>{Se({current:1,pageSize:100},z,Ce),b({current:1,pageSize:100}),m.current&&m.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:a})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(R.Z,{count:E,siblingCount:0,color:"primary",page:h.current,onChange:(e,t)=>{if(b({current:t,pageSize:h.pageSize}),ee)Se({current:t,pageSize:h.pageSize},z,"DraftMaterialReturnID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Se({current:t,pageSize:h.pageSize},z,"MaterialReturnID")}}}),n().createElement("div",null,n().createElement(I.Z,{value:h.pageSize,onChange:e=>{b({current:1,pageSize:e.target.value}),Se({current:1,pageSize:e.target.value},z,"MaterialReturnID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",f,")"))),n().createElement("div",{id:"MaterialReturnRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"MaterialReturnRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"MaterialReturnRegistry",headerdata:j,tablesearchparams:me,searchvalue:e=>{de(e),b({current:1,pageSize:100}),Se({current:1,pageSize:100},e,ee?"DraftMaterialReturnID":"MaterialReturnID",ee&&"DraftPage")},bodydata:K,ondrag:(e,t)=>{$({type:"editData",payload:[t]}),$({type:"IsDraft",payload:ee}),$({type:"ShowDetail",payload:!0})},bodyitem:U,visibleitem:j,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{C?q.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?q.edit(t,a,l):q.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{Z(e)},color:!0,isexpanded:!1}):n().createElement(G.Z,{frmctrlid:"tblcs_846_L3_",ref:s,id:"MaterialReturnRegistryTable",type:e.viewtype,headerdata:j,tablesearchparams:me,searchvalue:e=>{let t={...z,...e};de(e),H(t),b({current:1,pageSize:100}),Se(h,t,Ce)},bodydata:K,ondrag:(e,t)=>{$({type:"editData",payload:[t]}),$({type:"IsDraft",payload:ee}),$({type:"ShowDetail",payload:!0})},bodyitem:U,visibleitem:j,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{C?q.select(t):(e.editdata(t,"view"),q.edit(t,a,1!=t.Entry))},viewtoggle:q.viewtoggle,IsSub:e.IsSub})))))))}))},71885:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B}),a(95866),a(99058);var l=a(92950),n=a.n(l),r=a(80366),i=a(51673),o=a(282),u=a(868),s=a(78513),m=a(14439),d=a(27848),p=a(40900),c=a(64059),y=a(24038),M=a(8981),D=a(47516),g=a(86893),R=a(79618),I=a(33681),C=a(63163),T=(a(35131),a(61956),a(93657)),E=a(53375),N=a(52663),f=a(66083),S=a(29525),v=a(66856),h=a(39803),b=a(99940),P=a(17149),w=a(62810),x=a(30553),k=a(92381),A=a(25108);const B=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[B,L]=(0,l.useState)([]),[K,F]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[G,Z]=(0,l.useState)(""),[O,W]=(0,l.useState)({}),[z,H]=(0,l.useState)(!0),[Q,_]=(0,l.useState)(!1),{cstate:j,cdispatch:V}=e.ContextApi?e.ContextApi:(0,R.ContextApi)(),[U,Y]=(0,l.useState)(1),[q,J]=(0,l.useState)(0),[$,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[ne,re]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(!1),[ue,se]=(0,l.useState)(""),[me,de]=(0,l.useState)(!1),[pe,ce]=(0,l.useState)(!1),[ye,Me]=(0,l.useState)(!1),[De,ge]=(0,l.useState)(""),Re=(0,l.useRef)(null),[Ie,Ce]=(0,l.useState)({});let Te=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ne=(0,M.Z)();const fe=e=>Ne[e]?Ne[e]:e,Se=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Te]];function ve(){W({}),te({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ce(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Re.current&&Re.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ve()}})));const he=async(t,a,l,n)=>{X(!0);try{Re.current&&Re.current.abort();const r=new AbortController;Re.current=r;let o="",u=[],s={};await F((e=>(o=e.name,e))),await W((e=>(u=e,e))),await te((e=>(s=e,e)));const m=p.v.Api+"FP846S3/",d={data:{p1:"MaterialReturnIDPK"==a?null:await ke(),p2:"MaterialReturnCode"==o&&l.length>0?"%"+l+"%":null,p3:"MaterialReturnNo"==o&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:"RequestedThrough"==o&&l.length>0?"%"+l+"%":null,p8:"MRTWoDetDesc"==o&&l.length>0?"%"+l+"%":null,p9:"MatReturnStatus"==o&&l.length>0?"%"+l+"%":null,p10:"MRTStatus"==o&&l.length>0?"%"+l+"%":null,p11:"IsMRTMaterial"==o&&l.length>0?"%"+l+"%":null,p12:"IsMRTReceipt"==o&&l.length>0?"%"+l+"%":null,p13:"MRTStageKey"==o&&l.length>0?"%"+l+"%":null,p14:"BudgetCostAccGrpDetKey"==o&&l.length>0?"%"+l+"%":null,p15:"MRTWorkOrderKey"==o&&l.length>0?"%"+l+"%":null,p16:"MRTYearEndKey"==o&&l.length>0?"%"+l+"%":null,p17:null,p18:null,p19:"ContractName"!=o&&u.ContractName?u.ContractName.map((e=>e.ContractIDPK)).toString():null,p20:"LocalityName"!=o&&u.LocalityName?u.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p21:"BuildingName"!=o&&u.BuildingName?u.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p22:"WareHouseName"!=o&&u.WareHouseName?u.WareHouseName.map((e=>e.MatWareHouseIDPK)).toString():null,p23:"ProStoreName"!=o&&u.ProStoreName?u.ProStoreName.map((e=>e.ProStoreIDPK)).toString():null,p24:"FirstName"!=o&&u.FirstName?u.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p25:"DivisionName"!=o&&u.DivisionName?u.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p26:"MaterialMINo"!=o&&u.MaterialMINo?u.MaterialMINo.map((e=>e.MaterialIssueIDPK)).toString():null,p27:"MatProcessTypeName"!=o&&u.MatProcessTypeName?u.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p28:e.Dialogview?"1":null,p29:null,p30:"p30"==o&&l.length>0?l:null,p31:null,p32:null,p33:null,p34:null,p35:"ContractGroupName"!=o&&u.ContractGroupName?u.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p36:"ContractGroupCode"==o&&l.length>0?"%"+l+"%":null,p37:"ContractGroupName"==o&&l.length>0?"%"+l+"%":null,p38:"TaxName"!=o&&u.TaxName?u.TaxName.map((e=>e.TaxIDPK)).toString():null,p39:"TaxCode"==o&&l.length>0?"%"+l+"%":null,p40:"TaxName"==o&&l.length>0?"%"+l+"%":null,p41:"TaxValue"==o&&l.length>0?"%"+l+"%":null,p42:"CustomerName"!=o&&u.CustomerName?u.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p43:"CustomerCode"==o&&l.length>0?"%"+l+"%":null,p44:"CustomerName"==o&&l.length>0?"%"+l+"%":null,p45:"ContractTypeName"!=o&&u.ContractTypeName?u.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p46:"ContractTypCode"==o&&l.length>0?"%"+l+"%":null,p47:"ContractTypeName"==o&&l.length>0?"%"+l+"%":null,p48:"ContractCategName"!=o&&u.ContractCategName?u.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p49:"ContractCategCode"==o&&l.length>0?"%"+l+"%":null,p50:"ContractCategName"==o&&l.length>0?"%"+l+"%":null,p51:"ConPaymentTermsName"!=o&&u.ConPaymentTermsName?u.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p52:"ConPaymentTermsName"==o&&l.length>0?"%"+l+"%":null,p53:"ContractCode"==o&&l.length>0?"%"+l+"%":null,p54:"ContractName"==o&&l.length>0?"%"+l+"%":null,p55:"LocalityGroupName"!=o&&u.LocalityGroupName?u.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p56:"LocalityGroupCode"==o&&l.length>0?"%"+l+"%":null,p57:"LocalityGroupName"==o&&l.length>0?"%"+l+"%":null,p58:"CityName"!=o&&u.CityName?u.CityName.map((e=>e.CityIDPK)).toString():null,p59:"CityCode"==o&&l.length>0?"%"+l+"%":null,p60:"CityName"==o&&l.length>0?"%"+l+"%":null,p61:"AdminLocalityTypeName"!=o&&u.AdminLocalityTypeName?u.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p62:"AdminLocalityTypeCode"==o&&l.length>0?"%"+l+"%":null,p63:"AdminLocalityTypeName"==o&&l.length>0?"%"+l+"%":null,p64:"LocalityCode"==o&&l.length>0?"%"+l+"%":null,p65:"LocalityName"==o&&l.length>0?"%"+l+"%":null,p66:"RegionName"!=o&&u.RegionName?u.RegionName.map((e=>e.RegionIDPK)).toString():null,p67:"RegionCode"==o&&l.length>0?"%"+l+"%":null,p68:"RegionName"==o&&l.length>0?"%"+l+"%":null,p69:"CountryName"!=o&&u.CountryName?u.CountryName.map((e=>e.CountryIDPK)).toString():null,p70:"CountryCode"==o&&l.length>0?"%"+l+"%":null,p71:"CountryName"==o&&l.length>0?"%"+l+"%":null,p72:"WareHouseCode"==o&&l.length>0?"%"+l+"%":null,p73:"WareHouseName"==o&&l.length>0?"%"+l+"%":null,p74:"ProStoreCode"==o&&l.length>0?"%"+l+"%":null,p75:"ProStoreName"==o&&l.length>0?"%"+l+"%":null,p76:"ShiftName"!=o&&u.ShiftName?u.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p77:"ShiftCode"==o&&l.length>0?"%"+l+"%":null,p78:"ShiftName"==o&&l.length>0?"%"+l+"%":null,p79:"ClassificationName"!=o&&u.ClassificationName?u.ClassificationName.map((e=>e.ClassificationIDPK)).toString():null,p80:"ClassificationCode"==o&&l.length>0?"%"+l+"%":null,p81:"ClassificationName"==o&&l.length>0?"%"+l+"%":null,p82:"DepartmentName"!=o&&u.DepartmentName?u.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p83:"DepartmentCode"==o&&l.length>0?"%"+l+"%":null,p84:"DepartmentName"==o&&l.length>0?"%"+l+"%":null,p85:"DesignationName"!=o&&u.DesignationName?u.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p86:"DesignationCode"==o&&l.length>0?"%"+l+"%":null,p87:"DesignationName"==o&&l.length>0?"%"+l+"%":null,p88:"NationalityName"!=o&&u.NationalityName?u.NationalityName.map((e=>e.NationalityIDPK)).toString():null,p89:"NationalityCode"==o&&l.length>0?"%"+l+"%":null,p90:"NationalityName"==o&&l.length>0?"%"+l+"%":null,p91:"NatureOfWorkName"!=o&&u.NatureOfWorkName?u.NatureOfWorkName.map((e=>e.EmpWorkNatureIDPK)).toString():null,p92:"NatureOfWorkCode"==o&&l.length>0?"%"+l+"%":null,p93:"NatureOfWorkName"==o&&l.length>0?"%"+l+"%":null,p94:"EmployeeTypeName"!=o&&u.EmployeeTypeName?u.EmployeeTypeName.map((e=>e.EmployeeTypeIDPK)).toString():null,p95:"EmployeeTypeCode"==o&&l.length>0?"%"+l+"%":null,p96:"EmployeeTypeName"==o&&l.length>0?"%"+l+"%":null,p97:"EmploymentTypeName"!=o&&u.EmploymentTypeName?u.EmploymentTypeName.map((e=>e.EmploymentTypeIDPK)).toString():null,p98:"EmploymentTypCode"==o&&l.length>0?"%"+l+"%":null,p99:"EmploymentTypeName"==o&&l.length>0?"%"+l+"%":null,p100:"EmployeeGroupName"!=o&&u.EmployeeGroupName?u.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p101:"EmployeeGroupCode"==o&&l.length>0?"%"+l+"%":null,p102:"EmployeeGroupName"==o&&l.length>0?"%"+l+"%":null,p103:"EmpGradeName"!=o&&u.EmpGradeName?u.EmpGradeName.map((e=>e.EmpGradeIDPK)).toString():null,p104:"EmpGradeCode"==o&&l.length>0?"%"+l+"%":null,p105:"EmpGradeName"==o&&l.length>0?"%"+l+"%":null,p106:"EmpGenderName"!=o&&u.EmpGenderName?u.EmpGenderName.map((e=>e.EmpGenderIDPK)).toString():null,p107:"EmpGenderName"==o&&l.length>0?"%"+l+"%":null,p108:"EmpTitleName"!=o&&u.EmpTitleName?u.EmpTitleName.map((e=>e.EmpTitleIDPK)).toString():null,p109:"EmpTitleName"==o&&l.length>0?"%"+l+"%":null,p110:"EmployeeCode"==o&&l.length>0?"%"+l+"%":null,p111:"FirstName"==o&&l.length>0?"%"+l+"%":null,p112:"EmpContactNo1"==o&&l.length>0?"%"+l+"%":null,p113:"EmpEmailOfficial"==o&&l.length>0?"%"+l+"%":null,p114:"DivisionCode"==o&&l.length>0?"%"+l+"%":null,p115:"DivisionName"==o&&l.length>0?"%"+l+"%":null,p116:"MatProcessTypeCode"==o&&l.length>0?"%"+l+"%":null,p117:"MatProcessTypeName"==o&&l.length>0?"%"+l+"%":null,p118:"MaterialRequestCode"!=o&&u.MaterialRequestCode?u.MaterialRequestCode.map((e=>e.MaterialRequestIDPK)).toString():null,p119:"MaterialRequestCode"==o&&l.length>0?"%"+l+"%":null,p120:"JobGOName"!=o&&u.JobGOName?u.JobGOName.map((e=>e.MatJobIDPK)).toString():null,p121:"JobGOName"==o&&l.length>0?"%"+l+"%":null,p122:"MatJobCode"==o&&l.length>0?"%"+l+"%":null,p123:"MaterialMINo"==o&&l.length>0?"%"+l+"%":null,p124:null,p125:null,p126:null,p127:n||1,p128:10,p129:t,p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}},c=await(0,i.Z)(m,d,e.token,"",r.signal);if(!c)return!1;const y=c.Output.status.code,M=c.Output.data;if("200"===y)if(M.length>0)if(1===n){let e=Pe(M,o),t=be(e,O[o],a);L(t),J(t.length>0?t[0].TotalCount:O[o].length)}else{let e=[...B,...M],t=Pe(e,o);J(t.length<10?t.length:M[0].TotalCount),L(Pe(t,o))}else G.length>0&&L([]),J(B.length);else e.alertmsg("error",[c.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=Ie[e];if(a){const e=a.flatMap((e=>O[e]?O[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await W((e=>(a=e,e)));let n=[...ae],r=[];for(let e of n){let t=a[e]?.map((e=>e.MaterialReturnIDPK)).toString();t&&r.push(t)}await te((e=>(l=e,e)));let i={MaterialReturnIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialReturnDate:l.MaterialReturnDate?l.MaterialReturnDate.From:"",MaterialReturnDateType:l.MaterialReturnDate?l.MaterialReturnDate.Type:"",MaterialReturnDateBetween:l.MaterialReturnDate?l.MaterialReturnDate.To:"",MaterialIssueID:we("MaterialIssueID"),ContractID:we("ContractID"),LocalityID:we("LocalityID"),DivisionID:we("DivisionID"),ProStoreID:we("ProStoreID"),MatWareHouseID:we("MatWareHouseID"),EmployeeID:we("EmployeeID"),BuildingID:we("BuildingID"),MatProcessTypeID:we("MatProcessTypeID")};"saveFav"==t?Le("save",i):(e.searchData(i),_(!1))};async function ke(){let e={};await W((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.MaterialReturnIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ae(t,a,l,n,r,i){let o={[n]:{From:t,Type:l,To:a}},u={};te((e=>({...e,...o})));const s={...O};let m=[...ae],d=[];for(let e of m){let t=s[e]?.map((e=>e.MaterialReturnIDPK)).toString();t&&d.push(t)}await te((e=>(u=e,e)));let p={MaterialReturnIDPK:d?[...new Set(d)].toString():"",CreatedTtm:u.CreatedTtm?u.CreatedTtm.From:"",CreatedTtmType:u.CreatedTtm?u.CreatedTtm.Type:"",CreatedTtmBetween:u.CreatedTtm?u.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,MaterialReturnDate:u.MaterialReturnDate?u.MaterialReturnDate.From:"",MaterialReturnDateType:u.MaterialReturnDate?u.MaterialReturnDate.Type:"",MaterialReturnDateBetween:u.MaterialReturnDate?u.MaterialReturnDate.To:"",MaterialIssueID:O.MaterialMINo?.map((e=>e.MaterialIssueIDPK)).toString(),ContractID:O.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:O.LocalityName?.map((e=>e.LocalityIDPK)).toString(),DivisionID:O.DivisionName?.map((e=>e.DivisionIDPK)).toString(),ProStoreID:O.ProStoreName?.map((e=>e.ProStoreIDPK)).toString(),MatWareHouseID:O.WareHouseName?.map((e=>e.MatWareHouseIDPK)).toString(),EmployeeID:O.FirstName?.map((e=>e.EmployeeIDPK)).toString(),BuildingID:O.BuildingName?.map((e=>e.BuildingIDPK)).toString(),MatProcessTypeID:O.MatProcessTypeName?.map((e=>e.MatProcessTypeIDPK)).toString()};e.searchData(p)}function Be(){return n().createElement(c.Z,{frmctrlid:"fld846L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Ae(e,t,a,K.name,l)},keyboardback:()=>{_(!1),F({idpk:"",name:"",type:"",fieldidpk:""})},title:fe(K.name),fieldname:K.name,save:e=>{alert(!0)}})}const Le=(t,a)=>{(0,k.Z)(t,e.formID,a,ue).then((e=>{const t=e.Output.data;ge(t)}))};return n().createElement("div",null,n().createElement(N.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:me},n().createElement(f.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(S.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(h.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ue,onChange:e=>se(e.target.value),fullWidth:!0})),n().createElement(x.Z,{style:{color:"#337ab7"},control:n().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(P.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ce(e.target.checked)}),label:"Quick"}),n().createElement(x.Z,{style:{color:"#337ab7"},control:n().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(P.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ye,onChange:e=>Me(e.target.checked)}),label:"Dashboard"})),n().createElement(v.Z,null,n().createElement(o.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),Q?"Created Ttm"===K.name||K.name.includes("Date")?n().createElement(Be,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(m.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Se(K.idpk)," (",B.length,"/",q,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(u.ZP,{title:fe("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(r.Z,{id:"fld846L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),F({idpk:"",name:"",type:"",fieldidpk:!1}),Y(1)}}))),O[K.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(o.Z,{frmctrlid:"fld846L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await W((t=>(e=t,A.log("clear fewItems",e),t))),e[K.name]=[],he(K.type,K.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},fe("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},z?n().createElement(u.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(g.D7o,{className:"FilterMaximizeIcon",onClick:()=>{H(!1)}}))):n().createElement(u.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(g.dOw,{className:"FilterMaximizeIcon",onClick:()=>{H(!0)}})))),n().createElement("ul",null,O[K.name]&&O[K.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:z?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[K.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[K.name],onClick:()=>(async(e,t)=>{Y(1);let a=O[K.name].filter((t=>t!=e)),l={};await W((e=>(l=e,e))),l[K.name]=a,W(l),L((t=>[e,...t]))})(e)},n().createElement(r.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(y.Z,{frmctrlid:"fld846L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:G,placeholder:fe("Enter ")+" "+Se(K.idpk),onChange:e=>{Z(e),he(K.type,K.fieldidpk,e,1,ke())}})),n().createElement("div",{id:"fld846L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),$&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(I.Z,{color:"secondary"})),n().createElement("div",{id:"fld846L3TFCScrollYDefault",className:"height65 scrollYDefault"},B.length>0&&B.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[K.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await W((e=>(l=e,e)));let n=l[K.name];t[K.name]=n?[...a,...n]:a,l={...l,...t},W(l),L((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(s.Z,{className:"DotIcon"}),n().createElement("span",null,e[K.name])))),B.length+0<q&&B.length>0&&n().createElement("div",{id:"fld846L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Y(U+1),he(K.type,K.fieldidpk,"",U+1)}},n().createElement("p",null," more... ")),0===B.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:p.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(D.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",fe("Filter")," ",ue.length>0&&`(${ue})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(u.ZP,{title:"Favorite List",placement:"top"},ie?n().createElement(r.Z,{className:"favlisticon",onClick:()=>{oe(!1),ge(""),ve()}}):n().createElement(T.Z,{className:"favlisticon",onClick:()=>{oe(!0),Le("select"),ve()}})),Object.keys(O).length>0&&n().createElement(u.ZP,{title:"Save Favorites",placement:"top"},n().createElement(E.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{ve()},id:"fld846L3TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},fe("Clear")))),n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld846L3TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},fe("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld846L3TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),Z(""),L([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"MaterialReturnIDPK";F({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMaterialReturnID",fieldidpk:t}),he(e.IsForeign?"Filter"+e.FieldName:"FilterMaterialReturnID",t,"",1,ke())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Se(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Se(e.AdminUserGridViewIDPK)),n().createElement(C.Z,{checked:"1"==ne,onChange:t=>{re(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Se(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,O[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},O[a][0][a]),O[a].length>1&&n().createElement("span",{className:"RoundedDivName"},O[a][1][a]),O[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(O[a].length-2))))));var a})),De&&De.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{he("FilterMaterialReturnID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}))},74702:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var l=a(92950),n=a.n(l),r=a(45237),i=(a(37148),a(3212)),o=a(29800),u=a(14439),s=a(27848),m=(a(10966),a(36939)),d=a(61201),p=a(50743),c=a(79618),y=(a(21392),a(51673)),M=a(40900),D=a(26537),g=(a(24038),a(95246)),R=(a(77366),a(97829),a(8981)),I=(a(63163),a(1695)),C=(a(79117),a(99216)),T=(a(35131),a(61956),a(51649)),E=a(61924),N=a.n(E);const f=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[E,f]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[S,v]=(0,l.useState)(!0),[h,b]=(0,l.useState)(e.showDetail),[P,w]=(0,l.useState)(""),[x,k]=n().useState(!1),[A,B]=n().useState(""),[L,K]=n().useState(!1),F=(0,l.useContext)(c.MaterialReturnRegistryContext),{cstate:G,cdispatch:Z}=(0,c.ContextApi)(),[O,W]=(0,l.useState)(!1),[z,H]=(0,l.useState)(""),[Q,_]=(0,l.useState)(""),[j,V]=(0,l.useState)(""),[U,Y]=(0,l.useState)("");let q=(0,R.Z)();(0,l.useEffect)((()=>{G.editData.length>0&&(f(G.editData),k(!1),Z({type:"PrimaryId",payload:G.editData[0].MaterialReturnIDPK}))}),[G.editData]),(0,l.useEffect)((()=>{G.showTableview&&V(G.showTableview)}),[G.showTableview]),(0,l.useEffect)((()=>{v(G.ExpandDetailValue)}),[G.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{v(e),k(null)},viewtoggle:()=>{k(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=M.v.Api+"FP846S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:e.Dialogview?"1":null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:1,p128:10,p129:a?"DraftMaterialReturnID":"MaterialReturnID",p130:null,p131:null,p132:localStorage.getItem("UserGroupID"),p133:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,y.Z)(l,n,e).then((e=>{F.loading(!1),"200"==e.Output.status.code&&f(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===x&&a.current.clear()}})));const J=e=>q?.[e]?q?.[e]:e,$=e=>G.language?.[e]?G.language[e]:e;function X(e,t){}const ee=e=>E[0].MaterialIssueID&&0!=E[0].MaterialIssueID?!E[0].MaterialReturnDate||0==E[0].MaterialReturnDate||U?(F.alert({open:!0,color:"warning",message:[J("Please enter the Return Date")]}),!1):E[0].EmployeeID&&0!=E[0].EmployeeID?void F.ConfirmAlert(n().createElement(N(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:J("Are you sure?"),onConfirm:()=>(()=>{F.loading(!0),F.ConfirmAlert(null),Z({type:"IsDraft",payload:!1});let e={url:M.v.Api+"FP846S2/",PrimID:E[0].MaterialReturnIDPK,ParamType:"",state:E[0],active:1,token:G.token[0],DefaultPrimaryId:""};(0,g.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,n=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(F.alert({open:!0,color:"warning",message:n}),F.loading(!1)):(()=>{F.loading(!0);let e={url:M.v.Api+"FP846S1/",PrimID:E[0].MaterialReturnIDPK,ParamType:"",state:E[0],active:1,token:G.token[0],DefaultPrimaryId:""};(0,g.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(F.alert({open:!0,color:"success",message:[t.message]}),F.loading(!1),F.ShowTableDiv(),F.RefreshTable(),F.Approval(!0))}))})())}))})(),onCancel:()=>F.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:J("Yes"),cancelBtnText:J("Cancel"),showCancel:!0},G.PrimaryId?J("Do you want to Update?"):J("Do you want to Save?"))):(F.alert({open:!0,color:"warning",message:[J("Please select the ")+" "+$("EmployeeID")]}),!1):(F.alert({open:!0,color:"warning",message:[J("Please select the ")+" "+$("MaterialIssueID")]}),!1);return n().createElement("div",{className:"SubContent_1"},n().createElement(m.Z,{expanded:S,onChange:()=>()=>{e.expandTable&&v(!S)}},!x&&n().createElement(p.Z,null,n().createElement(u.Z,{container:!0},n().createElement(s.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("span",{style:{cursor:"pointer"}},n().createElement(T.u1R,{className:"backButtonList",onClick:()=>{F.ShowTableDiv(),F.RefreshTable()}})),n().createElement("p",{className:"DListP"},G.IsDraft?"Draft ":"",$("846"))))))),n().createElement(d.Z,{style:{display:"block"}},E.map(((e,t)=>n().createElement("div",{key:t},n().createElement(C.Z,{tableName:"MaterialReturnRegistry",tableID:846,parentID:e.MaterialReturnIDPK,fldid:"fld846L3VCContainer",OpenSlideComponent:X,index:t,val:e,tf:$,t:J,title:"10.0.0.59-3:08:17 PM-18-7[846]"}))))),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&G.AccessRights.IsAdd&&n().createElement(i.Z,{className:"L1AddBtnCommon",onClick:()=>{Z({type:"ShowDetail",payload:!1}),Z({type:"Add",payload:!0}),Z({type:"editData",payload:[]}),Z({type:"PrimaryId",payload:G.editData[0].MaterialReturnIDPK})},disabled:!1}),G.IsDraft&&n().createElement(o.Z,{onClick:()=>{Z({type:"ShowDetail",payload:!1}),Z({type:"Add",payload:!0}),Z({type:"editData",payload:E}),Z({type:"PrimaryId",payload:G.editData[0].MaterialReturnIDPK})},disabled:!1}),n().createElement(I.Z,{name:G.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld846L3ECSaveBtnApprovalStatus",onClick:()=>{ee()}}))))}))}}]);