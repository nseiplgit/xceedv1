/*! For license information please see 1665.42c3341d2207850a246a.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[1665,7805],{92448:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),r=(0,l(a(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=r},93657:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),r=(0,l(a(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=r},53375:(e,t,a)=>{var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),r=(0,l(a(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=r},41722:(e,t,a)=>{a.d(t,{D:()=>i,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function i(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},73668:(e,t,a)=>{a.d(t,{E:()=>i,I:()=>n});var l=a(25108);const i={IsDraft:!1,ShowDetail:!1,ExpandTableValue:!1,AssSpotRegistrySpotID:"",Add:!1,editData:[],screenType:[],PrimaryData:[],ShowView:!1,Showtable:!0,count:0,ExpandDetailValue:!0,expandDetail:"mainpanel",IsCollapse:!0,IsExPView:"",AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,viewonly:!1,EditOpen:!1,EditIsDraft:!0,PrimaryId:"",token:[],MRApprStatKey:"",showTableview:[],language:{}};function n(e,t){switch(t.type){case"IsDraft":return{...e,IsDraft:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"ShowView":return{...e,ShowView:t.payload};case"Showtable":return{...e,Showtable:t.payload};case"PrimaryData":return l.timeLog(t.payload,"actttt"),{...e,PrimaryData:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"AssSpotRegistrySpotID":return{...e,AssSpotRegistrySpotID:t.payload};case"Add":return{...e,Add:t.payload};case"editData":return{...e,editData:t.payload};case"screenType":return{...e,screenType:t.payload};case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"expandDetail":return{...e,expandDetail:t.payload};case"IsCollapse":return{...e,IsCollapse:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"IsExPView":return{...e,IsExPView:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"MRApprStatKey":return{...e,MRApprStatKey:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(40900),i=a(26537),n=a(61956),r=a(35131),s=a.n(r),d=a(25108);function c(e,t,a,r){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":i.Z.TokenIDPK,"x-tokenname":i.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return d.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",c={data:[{p1:0,p2:null,p3:r,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:s()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:s()().format("YYYY-MM-DD hh:mm:ss")}]};(0,i.Z)(0).then((t=>{(0,n.Z)(e,c,t).then((e=>{200==e[0].status.code?d.log(e,"RES"):d.log("Error")}))}))}}},83817:(e,t,a)=>{function l(e,t,a,l,i){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:a}),t({type:"ShowDetail",payload:l}),i.loading(!1)):(i.loading(!1),i.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){i.loading(!1),i.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{a:()=>l})},65197:(e,t,a)=>{a.d(t,{Z:()=>T});var l=a(92950),i=a.n(l),n=a(14439),r=a(27848),s=a(63163),d=a(6562),c=a(30553),o=a(83173),m=a(21392),p=a(69685),y=a(45332),u=a(26537),v=a(77366),g=a(71168),D=a.n(g),S=a(99940),E=a(55918),I=a.n(E);function T(e){const[t,a]=(0,l.useState)([]),[o,m]=(0,l.useState)([]),[p,y]=D()(e.tableID);(0,l.useEffect)((()=>{v(p)}),[p,e.val]),(0,l.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&v(e.refresh)}),[e.refresh]);const u=t=>e.t(t);function v(t){const l=t.filter((t=>t.FormID==e.tableID));let i=[],n=[];l.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):i.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),m(g(n,"id")),a(g(i,"id"))}function g(e,t){const a=e.map((e=>e[t])),l=e.filter((({value:e},t)=>!a.includes(e,t+1)));return l}return i().createElement(i().Fragment,null,i().createElement("div",{index:e.index,className:"padding paddingLeft width100"},i().createElement(n.Z,{container:!0},i().createElement(r.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},i().createElement(n.Z,{container:!0},i().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i().createElement("div",{className:"ViewHeadingTitle"},i().createElement("p",null,(E=e.tableName,e.tf(E)+" "+u("view")))),i().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},o.map(((t,a)=>i().createElement(i().Fragment,null,i().createElement(S.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},i().createElement("div",{key:a,className:"GridAlignSwitch"},i().createElement(d.Z,null,i().createElement(c.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:i().createElement(s.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),i().createElement(n.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",i().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement(n.Z,{container:!0},t.map(((t,a)=>i().createElement(i().Fragment,null,t.ForeignTag?i().createElement(i().Fragment,null,i().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:u(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var a,l;a=t.IDPK,l=e.val[t.ValID],e.OpenSlideComponent(a,l)},title:e.val[t.id]},e.val[t.id])))):i().createElement(i().Fragment,null,i().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?I()(e.val[t.id]):e.val[t.id]))))))))))),i().createElement(r.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",i().createElement(n.Z,{container:!0},i().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewFileImgCont"},i().createElement(n.Z,{container:!0},i().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingTitle1"},i().createElement("p",{className:"ViewHeadpTagHD"},u("Attachments")))),i().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingAttachmentL4"},i().createElement(f,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var E}const f=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&n()}),[e.id]);const n=()=>{(0,u.Z)(0).then((t=>{(0,v.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return i().createElement("div",null,i().createElement(p.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return i().createElement(y.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?i().createElement("img",{src:e.ImgPath,alt:e.ImageName}):i().createElement(o.Z,{className:"previewFile"}),t.length>1&&i().createElement("div",{className:"Imgbgmstyle"},i().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),i().createElement(m.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},71524:(e,t,a)=>{a.d(t,{UN:()=>Me,kN:()=>ze,ZP:()=>Ve});var l=a(92950),i=a.n(l),n=(a(95866),a(45237)),r=a(36939),s=a(61201),d=a(59009),c=a(51673),o=(a(99058),a(80366)),m=a(282),p=a(868),y=a(78513),u=a(14439),v=a(27848),g=a(40900),D=a(64059),S=a(24038),E=a(8981),I=a(47516),T=a(86893),f=a(33681),h=a(63163),C=a(35131),A=a.n(C),w=a(61956),b=a(93657),N=a(53375),x=a(52663),F=a(66083),R=a(29525),B=a(66856),P=a(39803),k=a(99940),Z=a(17149),L=a(62810),O=a(30553),M=a(92381),z=a(25108);const V=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,r]=(0,l.useState)([]),[s,d]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[C,A]=(0,l.useState)(""),[w,V]=(0,l.useState)({}),[K,G]=(0,l.useState)(!0),[_,U]=(0,l.useState)(!1),{cstate:H,cdispatch:Y}=e.ContextApi?e.ContextApi:ze(),[j,$]=(0,l.useState)(1),[W,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,ie]=(0,l.useState)(!0),[ne,re]=(0,l.useState)(!1),[se,de]=(0,l.useState)(""),[ce,oe]=(0,l.useState)(!1),[me,pe]=(0,l.useState)(!1),[ye,ue]=(0,l.useState)(!1),[ve,ge]=(0,l.useState)(""),De=(0,l.useRef)(null),[Se,Ee]=(0,l.useState)({});let Ie=localStorage.getItem("Language");const Te={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,E.Z)();const he=e=>fe[e]?fe[e]:e,Ce=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Te[Ie]];function Ae(){V({}),ee({}),e.searchData({}),U(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ee(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ae()}})));const we=async(t,a,l,i)=>{Q(!0);try{De.current&&De.current.abort();const s=new AbortController;De.current=s;let o="",m=[],p={};await d((e=>(o=e.name,e))),await V((e=>(m=e,e))),await ee((e=>(p=e,e)));const y=g.v.Api+"FP261S3/",u={data:{p1:"ServiceTypeDivIDPK"==a?null:await Re(),p2:"ServiceTypeDivCode"==o&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:e.parentId?e.parentId:"0",p6:"DivisionName"!=o&&m.DivisionName?m.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p7:e.Dialogview?"1":null,p8:null,p9:"p9"==o&&l.length>0?l:null,p10:null,p11:null,p12:null,p13:null,p14:"ServiceTypCode"==o&&l.length>0?"%"+l+"%":null,p15:"ServiceTypeName"==o&&l.length>0?"%"+l+"%":null,p16:"DivisionCode"==o&&l.length>0?"%"+l+"%":null,p17:"DivisionName"==o&&l.length>0?"%"+l+"%":null,p18:i||1,p19:10,p20:t,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}},v=await(0,c.Z)(y,u,e.token,"",s.signal);if(!v)return!1;const D=v.Output.status.code,S=v.Output.data;if("200"===D)if(S.length>0)if(1===i){let e=Ne(S,o),t=be(e,w[o],a);r(t),J(t.length>0?t[0].TotalCount:w[o].length)}else{let e=[...n,...S],t=Ne(e,o);J(t.length<10?t.length:S[0].TotalCount),r(Ne(t,o))}else C.length>0&&r([]),J(n.length);else e.alertmsg("error",[v.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Ne=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function xe(e){let t=e+"PK",a=Se[e];if(a){const e=a.flatMap((e=>w[e]?w[e].map((e=>e[t])):[]));return e.toString()}return""}const Fe=async t=>{let a="",l={};await V((e=>(a=e,e)));let i=[...te],n=[];for(let e of i){let t=a[e]?.map((e=>e.ServiceTypeDivIDPK)).toString();t&&n.push(t)}await ee((e=>(l=e,e)));let r={ServiceTypeDivIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",DivisionID:xe("DivisionID"),ServiceTypeID:xe("ServiceTypeID")};"saveFav"==t?ke("save",r):(e.searchData(r),U(!1))};async function Re(){let e={};await V((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.ServiceTypeDivIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,i,n,r){let s={[i]:{From:t,Type:l,To:a}},d={};ee((e=>({...e,...s})));const c={...w};let o=[...te],m=[];for(let e of o){let t=c[e]?.map((e=>e.ServiceTypeDivIDPK)).toString();t&&m.push(t)}await ee((e=>(d=e,e)));let p={ServiceTypeDivIDPK:m?[...new Set(m)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,DivisionID:w.DivisionName?.map((e=>e.DivisionIDPK)).toString(),ServiceTypeID:w.ServiceTypeName?.map((e=>e.ServiceTypeIDPK)).toString()};e.searchData(p)}function Pe(){return i().createElement(D.Z,{frmctrlid:"fld261L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{Be(e,t,a,s.name,l)},keyboardback:()=>{U(!1),d({idpk:"",name:"",type:"",fieldidpk:""})},title:he(s.name),fieldname:s.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,M.Z)(t,e.formID,a,se).then((e=>{const t=e.Output.data;ge(t)}))};return i().createElement("div",null,i().createElement(x.Z,{onClose:()=>oe(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},i().createElement(F.Z,{id:"customized-dialog-title",onClose:()=>oe(!1)},"Add Favorite"),i().createElement(R.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(P.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>de(e.target.value),fullWidth:!0})),i().createElement(O.Z,{style:{color:"#337ab7"},control:i().createElement(k.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(L.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>pe(e.target.checked)}),label:"Quick"}),i().createElement(O.Z,{style:{color:"#337ab7"},control:i().createElement(k.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(L.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ye,onChange:e=>ue(e.target.checked)}),label:"Dashboard"})),i().createElement(B.Z,null,i().createElement(m.Z,{onClick:()=>{Fe("saveFav"),oe(!1)},color:"primary"},"Save"))),_?"Created Ttm"===s.name||s.name.includes("Date")?i().createElement(Pe,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(u.Z,null,i().createElement(v.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},Ce(s.idpk)," (",n.length,"/",W,")")),i().createElement(v.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(p.ZP,{title:he("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(o.Z,{id:"fld261L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{U(!1),d({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),w[s.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(m.Z,{frmctrlid:"fld261L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await V((t=>(e=t,z.log("clear fewItems",e),t))),e[s.name]=[],we(s.type,s.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},K?i().createElement(p.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(T.D7o,{className:"FilterMaximizeIcon",onClick:()=>{G(!1)}}))):i().createElement(p.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(T.dOw,{className:"FilterMaximizeIcon",onClick:()=>{G(!0)}})))),i().createElement("ul",null,w[s.name]&&w[s.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[s.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[s.name],onClick:()=>(async(e,t)=>{$(1);let a=w[s.name].filter((t=>t!=e)),l={};await V((e=>(l=e,e))),l[s.name]=a,V(l),r((t=>[e,...t]))})(e)},i().createElement(o.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(S.Z,{frmctrlid:"fld261L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:C,placeholder:he("Enter ")+" "+Ce(s.idpk),onChange:e=>{A(e),we(s.type,s.fieldidpk,e,1,Re())}})),i().createElement("div",{id:"fld261L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Fe},i().createElement(p.ZP,{title:"",placement:"top"},i().createElement(m.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),q&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(f.Z,{color:"secondary"})),i().createElement("div",{id:"fld261L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[s.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await V((e=>(l=e,e)));let i=l[s.name];t[s.name]=i?[...a,...i]:a,l={...l,...t},V(l),r((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(y.Z,{className:"DotIcon"}),i().createElement("span",null,e[s.name])))),n.length+0<W&&n.length>0&&i().createElement("div",{id:"fld261L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(j+1),we(s.type,s.fieldidpk,"",j+1)}},i().createElement("p",null," more... ")),0===n.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:g.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(I.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",se.length>0&&`(${se})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(p.ZP,{title:"Favorite List",placement:"top"},ne?i().createElement(o.Z,{className:"favlisticon",onClick:()=>{re(!1),ge(""),Ae()}}):i().createElement(b.Z,{className:"favlisticon",onClick:()=>{re(!0),ke("select"),Ae()}})),Object.keys(w).length>0&&i().createElement(p.ZP,{title:"Save Favorites",placement:"top"},i().createElement(N.Z,{className:"favlisticon",onClick:()=>{oe(!0)}})),i().createElement(p.ZP,{title:"",placement:"top"},i().createElement(m.Z,{className:"ColumnApplyButton",onClick:()=>{Ae()},id:"fld261L1TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),i().createElement(p.ZP,{title:"",placement:"top"},i().createElement(m.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld261L1TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld261L1TFCFilItems",className:"FilterItems"},!ve&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{U(!0),A(""),r([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"ServiceTypeDivIDPK";d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterServiceTypeDivID",fieldidpk:t}),we(e.IsForeign?"Filter"+e.FieldName:"FilterServiceTypeDivID",t,"",1,Re())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,Ce(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,Ce(e.AdminUserGridViewIDPK)),i().createElement(h.Z,{checked:"1"==le,onChange:t=>{ie(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,Ce(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,w[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},w[a][0][a]),w[a].length>1&&i().createElement("span",{className:"RoundedDivName"},w[a][1][a]),w[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(w[a].length-2))))));var a})),ve&&ve.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{we("FilterServiceTypeDivID",a),Fe("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}));var K=a(54180),G=a(43031),_=a(85639),U=a(110),H=a(5109),Y=a(88995),j=a(50743),$=a(61657),W=a(51209),J=a(53854),q=a(51649),Q=a(37106),X=a(5434),ee=a(83817),te=a(39327),ae=a(3212),le=a(93521),ie=(a(79117),a(71168)),ne=a.n(ie),re=a(65107),se=a(94986),de=a(15999);a(11557),window.clickFilter="";const ce=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),m=(0,l.useRef)(null),[y]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[u]=(0,l.useState)("261"),[v,D]=(0,l.useState)(!1),[f,h]=(0,l.useState)(!1),[C,A]=(0,l.useState)(0),[w,b]=(0,l.useState)(0),[N,x]=(0,l.useState)(0),[F,R]=(0,l.useState)(0),[B,P]=(0,l.useState)({current:1,pageSize:100}),[k,Z]=(0,l.useState)(""),[L,O]=(0,l.useState)([]),[M,z]=(0,l.useState)({val:"",column:""}),[ie,ce]=(0,l.useState)([]),[oe,me]=(0,l.useState)(!1),[pe,ye]=(0,l.useState)(""),[ue,ve]=(0,l.useState)(""),[ge,De]=(0,l.useState)(!1),[Se,Ee]=(0,l.useState)([]),[Ie,Te]=(0,l.useState)([]),[fe,he]=(0,l.useState)([]),[Ce,Ae]=(0,l.useState)({children:[{name:"AdminServiceTypeDivisionDetails",children:[]}]}),[we,be]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:Me),{cstate:xe,cdispatch:Fe}=e.ContextApi?e.ContextApi:ze();let Re={ServiceTypeDivIDPK:"",ServiceTypeDivCode:"",IsDraft:"",Remarks:"",ServiceTypeID:"",DivisionID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ServiceTypCode:"",ServiceTypeName:"",DivisionCode:"",DivisionName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Be,Pe]=(0,l.useState)(Re),[ke,Ze]=(0,l.useState)(Re),[Le,Oe]=(0,l.useState)(!1),[Ve,Ke]=(0,l.useState)(!0),[Ge,_e]=(0,l.useState)(!1),[Ue,He]=(0,l.useState)(!0),[Ye,je]=(0,l.useState)({DivisionName:"",ServiceTypeDivCode:"",ServiceTypeName:""}),[$e,We]=(0,l.useState)(!1),[Je,qe]=(0,l.useState)([]),[Qe,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[it,nt]=(0,l.useState)([]),[rt,st]=(0,l.useState)([]),[dt,ct]=(0,l.useState)(!1),[ot,mt]=(0,l.useState)(!1),[pt,yt]=(0,l.useState)(!1),[ut,vt]=(0,l.useState)(""),[gt,Dt]=ne()("261"),[St,Et]=(0,l.useState)({}),It=[{columns:it,data:k}];let Tt=(0,E.Z)();const ft=e=>Tt[e]?Tt[e]:e,ht=e=>xe.language?.[e]?xe.language[e]:e;(0,l.useEffect)((()=>{Ft(gt)}),[gt]),(0,l.useEffect)((()=>{xe.token.length>0&&(e.parentId?Nt(B,Re,"ServiceTypeDivID"):ce([]))}),[e.parentId]),(0,l.useEffect)((()=>{!we&&e.parentId?Nt(B,pe,"ServiceTypeDivID"):we&&Ze(pe)}),[pe]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Ct(e)},tableRefresh:()=>{Nt(B,Re,"ServiceTypeDivID")},DialogTableProps:e=>{h(e)},HideEntryFields:e=>{yt(!0===e)}})));const Ct=e=>{""==e?Nt(B,Re,Le?"DraftServiceTypeDivID":"ServiceTypeDivID",Le&&"DraftPage"):xt(e,{current:1,pageSize:100}),ve(e)};function At(t){Ne.loading(!0);let a=g.v.Api+"FP261S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,xe.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),qe(e.Output.data),Ne.loading(!1)}}))}function wt(e,t){Fe({type:"editData",payload:[t]}),Fe({type:"IsDraft",payload:Le}),Fe({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ge&&De(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&He(e.cardview),e.Dialogview&&(h(e.Dialogview),yt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&xt(e.searchsafaritext,{current:B.current,pageSize:B.pageSize})}),[e.searchsafaritext]);const bt=()=>{Ne.EditClose(!0),oe?(document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AdminServiceTypeDivisionDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Ue?(f||(document.getElementById("AdminServiceTypeDivisionDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeDivisionDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("AdminServiceTypeDivisionDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeDivisionDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AdminServiceTypeDivisionDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeDivisionDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AdminServiceTypeDivisionDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("AdminServiceTypeDivisionDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeDivisionDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),De(!1),window.clickFilter=!oe},Nt=(t,a,l,i,n,r)=>{Ne.loading(!0),"DraftPage"!==i&&Oe(xe.IsDraft);let s=g.v.Api+"FP261S3/",d={data:{p1:n||(a&&a.ServiceTypeDivIDPK?a.ServiceTypeDivIDPK:null),p2:a&&a.ServiceTypeDivCode?a.ServiceTypeDivCode:null,p3:"DraftServiceTypeDivID"==l?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:a&&a.DivisionID?a.DivisionID:null,p7:a&&a.IsActive,p8:null,p9:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p10:a&&a.CreatedTtm?a.CreatedTtm:null,p11:a&&a.CreatedTtmType?a.CreatedTtmType:null,p12:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p13:null,p14:a&&a.ServiceTypCode?a.ServiceTypCode:null,p15:a&&a.ServiceTypeName?a.ServiceTypeName:null,p16:a&&a.DivisionCode?a.DivisionCode:null,p17:a&&a.DivisionName?a.DivisionName:null,p18:n?1:t.current,p19:t.pageSize,p20:l,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};(0,c.Z)(s,d,xe.token[0]).then((s=>{if(n)(0,ee.a)(s,Fe,i,r,Ne);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,x(s.Output.data[0].TotalCount),R(s.Output.data[0].DraftCnt),Fe({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==i&&R(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?b(Math.ceil(e)):20==t.pageSize?b(Math.ceil(e/2)):50==t.pageSize?b(Math.ceil(e/5)):100==t.pageSize&&b(Math.ceil(e/10)),ce(s.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divAdminServiceTypeDivisionDetails-Entry").style.height="auto",document.getElementById("divAdminServiceTypeDivisionDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftServiceTypeDivID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),Oe(!1)):(ce([]),P({current:1,pageSize:10}),b(0),x(0),Fe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[s.Output.status.message]}),Ne.loading(!1)}))};function xt(t,a){if(!e.parentId)return!1;Ne.loading(!0);const l=g.v.Api+"FP261S4/",i={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Le?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,i,xe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,x(e.Output.data[0].TotalCount),Fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?b(Math.ceil(t)):20==a.pageSize?b(Math.ceil(t/2)):50==a.pageSize?b(Math.ceil(t/5)):100==a.pageSize&&b(Math.ceil(t/10)),ce(e.Output.data),Ne.loading(!1)}else ce([]),b(0),x(0),Fe({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function Ft(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Fe({type:"language",payload:Object.assign({},...i)}),je(a.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),Te(t),he(a),nt(l),st(a)}const Rt=()=>we?null:i().createElement("div",null,$e?i().createElement(se.Z,{data:Je,expanded:e=>!f&&Ne.Expanded(e),edit:(e,t,a)=>{f?Ne.select(e):(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:t}),Fe({type:"ShowDetail",payload:a}))}}):i().createElement(re.Z,{ref:m,frmctrlid:"tblcs_261_L1_",id:"AdminServiceTypeDivisionDetailsTable",headerdata:Ie,tablesearchparams:Ye,searchvalue:e=>{je(e),ye(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Et(t),P({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,Le?"DraftServiceTypeDivID":"ServiceTypeDivID",Le&&"DraftPage")},bodydata:ie,ondrag:wt,bodyitem:fe,visibleitem:Ie,isdraft:Le,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:u,showMore:!1,accessrights:xe.AccessRights,expanded:e=>!f&&Ne.Expanded(e),edit:(e,t,a)=>{f?Ne.select(e):(Object.keys(e).map(((l,i)=>{l.includes("IDPK")&&Nt(B,null,t?"DraftServiceTypeDivID":"ServiceTypeDivID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!f||Ge,tf:ht,action:f?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{_e(xe.ExpandTableValue)}),[xe.ExpandTableValue]),i().createElement("div",null,!pt&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld261L1ECSearchBar",className:"searchbar1"},i().createElement(S.Z,{frmctrlid:"fld261L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:ft("Search"),value:ue,onChange:e=>{ve(e),Ne.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},ue?i().createElement("div",{id:"fld261L1TCCloseIconCommonSearch",onClick:()=>{ve(""),Ne.searchItem("")}},i().createElement(o.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld261L1TCInputSearchIcon"},i().createElement(Y.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("AdminServiceTypeDivisionDetailsgridsearch").focus()}})))),i().createElement("div",null,xe.AccessRights.IsAdd?i().createElement(ae.Z,{className:"SaveBtnCommon",frmctrlid:"fld261L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),Fe({type:"editData",payload:[]}),Fe({type:"ShowDetail",payload:!1}),Fe({type:"Add",payload:!0})},disabled:!e.parentId}):"")),i().createElement(r.Z,{expanded:Ve,onChange:()=>()=>{Ke(Ge)}},e.Dialogview&&i().createElement(j.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[261]"},`${ht("261")} (${N})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld261L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(S.Z,{frmctrlid:"fld261L1TCInputSearch",className:"search_input",type:"text",placeholder:ft("Search"),value:ue,onChange:e=>{Ct(e)}}),i().createElement("div",{className:"search_icon"},ue?i().createElement("div",{id:"fld261L1TCInputCloseIcon",onClick:()=>{Ct("")}},i().createElement(o.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld261L1TCInputSearchIcon"},i().createElement(Y.Z,{className:"InputSearchIcon"}))))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"AdminServiceTypeDivisionDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&i().createElement("div",{frmctrlid:"fld261L1TCFilterDataIsDraft",id:"AdminServiceTypeDivisionDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{bt()}},i().createElement(p.ZP,{title:ft("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Filter Data"))),!f&&!Le&&!we&&i().createElement(K.Z,{formctrlidprint:"fld261L1TCExportPrint",formctrlidexport:"fld261L1TCExportTable",formctrlidrefresh:"fld261L1TCExportRefresh",title:ht("261"),data:L,exportData:It,Items:rt,columnIndex:it,TableVisibleItem:Ie,userGridViewFormID:u,TableTotalCount:N,triggerApi:t=>{((t,l,i,n,r)=>{if(0===N)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let s=g.v.Api+"FP261S3/",d={data:{p1:t&&t.ServiceTypeDivIDPK?t.ServiceTypeDivIDPK:null,p2:t&&t.ServiceTypeDivCode?t.ServiceTypeDivCode:null,p3:Le?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:t&&t.DivisionID?t.DivisionID:null,p7:t&&t.IsActive,p8:null,p9:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p10:t&&t.CreatedTtm?t.CreatedTtm:null,p11:t&&t.CreatedTtmType?t.CreatedTtmType:null,p12:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p13:null,p14:t&&t.ServiceTypCode?t.ServiceTypCode:null,p15:t&&t.ServiceTypeName?t.ServiceTypeName:null,p16:t&&t.DivisionCode?t.DivisionCode:null,p17:t&&t.DivisionName?t.DivisionName:null,p18:B.current,p19:N,p20:Le?"DraftServiceTypeDivID":"ServiceTypeDivID",p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${ht(261)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(s,d,xe.token[0],r).then((e=>{(0,le.PDF_Excel_Generate)(e,Ne,rt,Z,a,r)}))})(pe,M.column,0,0,t)},Refresh:()=>{ve(""),P({current:1,pageSize:100}),m.current.clearItem(),xe.IsDraft?Nt({current:1,pageSize:100},Re,"DraftServiceTypeDivID"):Nt({current:1,pageSize:100},Re,"ServiceTypeDivID")},disabledPrint:!xe.AccessRights.IsPrint,disabledExport:!xe.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Le&&!we&&!f&&i().createElement("div",{className:"buttoncard",onClick:()=>mt(!ot)},i().createElement("span",null,ot?i().createElement(p.ZP,{disableFocusListener:!0,title:ft("Less"),placement:"top"},i().createElement("span",{id:"fld261L1TCLess"},i().createElement(J.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(p.ZP,{disableFocusListener:!0,title:ft("More"),placement:"top"},i().createElement("span",{id:"fld261L1TCMore"},i().createElement(J.ilJ,{className:"tableFilterColumnIcon"}))))),ot?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},we||!Ge?null:f||!xe.AccessRights.IsAdd||Le?"":i().createElement("div",null,i().createElement("div",{frmctrlid:"fld261L1TCFilterDataIsAdd",id:"AdminServiceTypeDivisionDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),ge?(document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv").style.width="0%",document.getElementById("AdminServiceTypeDivisionDetailsTabDiv").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv").style.display="none",document.getElementById("AdminServiceTypeDivisionDetailscoldiv").style.width="fit-content",document.getElementById("AdminServiceTypeDivisionDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv").style.width="25%",document.getElementById("AdminServiceTypeDivisionDetailsTabDiv").style.width="75%",document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv").style.display="block",document.getElementById("AdminServiceTypeDivisionDetailsfildiv").style.width="fit-content",document.getElementById("AdminServiceTypeDivisionDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AdminServiceTypeDivisionDetailscoldiv").style.width="fit-content",document.getElementById("AdminServiceTypeDivisionDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),me(!1)}},i().createElement(p.ZP,{title:ft("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!f&&Ge&&!we&&!Le&&i().createElement("div",null,i().createElement("div",{id:"AdminServiceTypeDivisionDetailscoldiv",className:"buttoncard",onClick:()=>{$e?We(!1):(We(!0),At({current:1,pageSize:100}))}},i().createElement(p.ZP,{title:ft("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld261L1TCTableScrollData"},i().createElement(de.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Table Scroll Data")))),!we&&Le?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Nt({current:1,pageSize:100},Re,"ServiceTypeDivID"),Oe(!1),ve(""),Fe({type:"IsDraft",payload:!1}),P({current:1,pageSize:10})}},i().createElement(p.ZP,{title:ft("List"),placement:"top"},i().createElement("div",{id:"fld261L1TCList"},i().createElement(q.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},ft("Drafts")," ",N)):!f&&!we&&xe.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:F,showZero:!0},i().createElement("div",{id:"fld261L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{F>0?(P({current:1,pageSize:100}),A(0),Ne.clear(),ve(""),Fe({type:"Add",payload:!1}),Nt({current:1,pageSize:10},Re,"DraftServiceTypeDivID"),Oe(!0),Fe({type:"IsDraft",payload:!0}),De(!1),He(!0),document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv").style.width="0%",document.getElementById("AdminServiceTypeDivisionDetailsTabDiv").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetailsFilterDiv").style.display="none",P({current:1,pageSize:100}),be(!1)):Ne.alert({open:!0,color:"warning",message:[ft("There is no Record Found")]})}},i().createElement(p.ZP,{title:ft("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(Q.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},ft("Drafts"))))))):""),!Le&&!f&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},we||Le?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:Ue?"buttonList":"buttonGrid",id:"fld261L1TCListView",onClick:()=>{He(!0),ct(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(J.umT,null)),i().createElement("span",null,ft("List"))),i().createElement("div",{className:Ue||dt?"buttonGrid":"buttonList",id:"fld261L1TCCardView",onClick:()=>{He(!1),ct(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(T.aCJ,null)),i().createElement("span",null,ft("Card"))),i().createElement("div",{className:dt?"buttonList":"buttonGrid",id:"fld261L1TCTileView",onClick:()=>{ct(!0),He(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(X.f_H,null)),i().createElement("span",null,ft("Tile"))))))),we?null:$e?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement($.Z,{style:{color:"#777"},id:"fld261L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:C,onPageChange:(e,t)=>{A(t),At({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(G.Z,{count:Qe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),At({current:t,pageSize:at.pageSize})}}),i().createElement("div",null,i().createElement(U.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld261L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),At({current:1,pageSize:e.target.value})}},i().createElement(_.Z,{value:10},"10"),i().createElement(_.Z,{value:20},"20"),i().createElement(_.Z,{value:50},"50"),i().createElement(_.Z,{value:100},"100"))),Ge&&i().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",et,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement($.Z,{style:{color:"#777"},id:"fld261L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(N),page:C,onPageChange:(e,t)=>{A(t),Nt({current:t+1,pageSize:B.pageSize},Re,Le?"DraftServiceTypeDivID":"ServiceTypeDivID",Le&&"DraftPage"),P({current:t+1,pageSize:B.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(G.Z,{count:w,siblingCount:0,color:"primary",page:B.current,onChange:(e,t)=>{if(P({current:t,pageSize:B.pageSize}),Le)Nt({current:t,pageSize:B.pageSize},Be,"DraftServiceTypeDivID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ue.length>0?xt(ue,{current:t,pageSize:B.pageSize}):Nt({current:t,pageSize:B.pageSize},Be,"ServiceTypeDivID")}}}),i().createElement("div",null,i().createElement(U.Z,{className:"BootstrapInputStyle",value:B.pageSize,id:"fld261L1TCSelectPaging",onChange:e=>{P({current:1,pageSize:e.target.value}),Le?Nt({current:1,pageSize:e.target.value},Be,"DraftServiceTypeDivID","DraftPage"):ue.length>0?xt(ue,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},Be,"ServiceTypeDivID")}},i().createElement(_.Z,{value:10},"10"),i().createElement(_.Z,{value:20},"20"),i().createElement(_.Z,{value:50},"50"),i().createElement(_.Z,{value:100},"100"))),Ge&&i().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",N,") "))),i().createElement("div",{id:"AdminServiceTypeDivisionDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"AdminServiceTypeDivisionDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},oe&&i().createElement(V,{parentId:e.parentId,searchData:e=>{ye(e||St),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:u,data:()=>{},visibleData:()=>{},token:xe.token[0],CloseBtnClk:()=>bt(),userGrid:gt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ge&&i().createElement(H.Z,{Refresh:e=>{Nt({current:1,pageSize:100},Re,"ServiceTypeDivID")},frmctrlid:"fld261L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:ge,userID:y,userGridViewFormID:u,saved:(e,t)=>{e&&Ft(t),Dt(t),Fe({type:"showTableview",payload:t})},Token:xe.token[0]})),i().createElement("div",{id:"AdminServiceTypeDivisionDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ue?i().createElement(Rt,null):i().createElement(W.Z,{frmctrlid:"fld261L1TCExpandedCardDual",data:ie,id:"AdminServiceTypeDivisionDetails",title:"ServiceTypeDivCode",cardTile:!!dt,visibleitem:Ie,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{f?Ne.select(e):("edit"==t?(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:Le}),Fe({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:Le}),Fe({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),oe?me(!0):ge?De(!0):(De(!1),De(!1))),Ne.hideAddBtn(!0)}})))))))}));var oe=a(37148),me=a(29800),pe=(a(10966),a(21392),a(26537)),ye=(a(44528),a(99090)),ue=a(1695),ve=a(61924),ge=a.n(ve),De=(a(40826),a(55490)),Se=a(92371);const Ee={EnterKeyValues:{AdminServiceTypeDivisionDetails:["DivisionName","ServiceTypeDivCode","ServiceTypeName"]},Label:{AdminServiceTypeDivisionDetails:{DivisionID:["DivisionCode","DivisionName"],ServiceTypeDivCode:["ServiceTypeDivCode"],ServiceTypeID:["ServiceTypeDivCode"]}},LabelHeader:{AdminServiceTypeDivisionDetails:{DivisionID:["Division Code","Division Name"],ServiceTypeDivCode:["Service Type Div Code"],ServiceTypeID:["ServiceTypeDivCode"]}},Property:{AdminServiceTypeDivisionDetails:{DivisionID:{id:"fld261_5082",clearID:"AdminServiceTypeDivisionDetailsDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",foreignName:[],createEasy:!0,advanceSearch:!0,disabled:!1,mandatory:!0},ServiceTypeDivCode:{id:"fld261_5079",labelID:"ServiceTypeDivCode",maxLength:"50",labelname:"Service Type Div Code",frmctrlid:"fld261_5079",frmctrlidname:"ServiceTypeDivCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceTypeID:{id:"fld261_5081",clearID:"AdminServiceTypeDivisionDetailsServiceTypeNameClear",type:"select",labelID:"ServiceTypeIDPK",labelname:"ServiceTypeName",fielddisplayname:"ServiceTypeName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{AdminServiceTypeDivisionDetails:{DivisionID:["DivisionCode","DivisionName"],ServiceTypeID:["ServiceTypCode","ServiceTypeName"]}}};var Ie=a(99263),Te=a(99323),fe=a(6562),he=a(45155),Ce=a(79352),Ae=(a(49174),a(38773),a(19089),a(16233)),we=a.n(Ae);a(82729),a(75355),a(11107);const be={ServiceTypeDivIDPK:"",ServiceTypeDivCode:"",IsDraft:!1,Remarks:"",ServiceTypeID:null,DivisionID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ServiceTypCode:"",ServiceTypeName:"",DivisionCode:"",DivisionName:"",Type:"ServiceTypeDivID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ne=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[d,o]=(0,l.useState)(!1),[m,p]=((0,l.useRef)(),(0,l.useState)(!0)),[y,D]=(0,l.useState)(!1),[S,I]=(0,l.useState)(!1),[T,f]=(0,l.useState)(""),[C,b]=(0,l.useState)(!1),[N,x]=(0,l.useState)([]),[F,R]=(0,l.useState)(null),[B,P]=(0,l.useReducer)(Se.Z,be),[k,Z]=(0,l.useState)(!1),[L,M]=(0,l.useState)([]),[z,V]=(0,l.useState)(!1),K=(0,l.useContext)(e.context?e.context:Me),{cstate:G,cdispatch:_}=e.ContextApi?e.ContextApi:ze(),[U,H]=(0,l.useState)(0),[Y,$]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,q]=we()("261"),[Q,X]=(0,l.useState)(!0),[ee,te]=(0,l.useState)(!1);let ae=(0,E.Z)();const[le,ie]=(0,l.useState)({}),ne=e=>ae[e]?ae[e]:e,re=t=>G.language?.[t]?G.language[t]:e.createEasy?le?.[t]:t;(0,l.useEffect)((()=>{G.PrimaryId&&H(Number(G.PrimaryId))}),[G.PrimaryId]),(0,l.useEffect)((()=>{de()}),[]),(0,l.useEffect)((()=>{de()}),[e.parentId]),(0,l.useEffect)((()=>{G.editData.length>0?(se(G.editData[0],""),D(!0)):G.Add&&(de(),D(!0))}),[G.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ie(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{de()},CreateEasyProps:(e=!0,t)=>{q(!0),t?(Pe(t),D(e)):(de(),D(e))},AddOpen:e=>{de(),D(!0)}})));const se=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultServiceTypeDivID"==a?$(t.ServiceTypeDivIDPK):(H(e.primid?Number(e.primid):t.ServiceTypeDivIDPK?t.ServiceTypeDivIDPK:0),_({type:"PrimaryId",payload:t.ServiceTypeDivIDPK})),P({type:"number",name:"DivisionID",number:t.DivisionID?Number(t.DivisionID):0}),P({type:"text",name:"DivisionName",value:t.DivisionName}),P({type:"text",name:"ServiceTypeDivCode",value:t.ServiceTypeDivCode?t.ServiceTypeDivCode:""}),P({type:"number",name:"ServiceTypeID",number:t.ServiceTypeID?Number(t.ServiceTypeID):0}),P({type:"text",name:"ServiceTypeName",value:t.ServiceTypeName}),t.IsDraft?p(!0):p(!("1"!=t.IsActive&&!t.IsActive))},de=()=>{x([]),H(0),$(""),e.createEasy||K.resetImg(),_({type:"PrimaryId",payload:""}),P({type:"text",name:"DivisionID",value:null}),P({type:"text",name:"DivisionName",value:""}),document.getElementById("AdminServiceTypeDivisionDetailsDivisionNameClear")&&document.getElementById("AdminServiceTypeDivisionDetailsDivisionNameClear").click(),P({type:"text",name:"ServiceTypeDivCode",value:""}),P({type:"text",name:"ServiceTypeID",value:null}),P({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("AdminServiceTypeDivisionDetailsServiceTypeNameClear")&&document.getElementById("AdminServiceTypeDivisionDetailsServiceTypeNameClear").click(),p(!0),f(""),X(!0)},ce=t=>{K.loading(!0),K.ConfirmAlert(null);const a=g.v.Api+"FP261S2/",l={data:[{p1:"SetDefaultServiceTypeDivID"==t?"NORECORDS"!=Y&&Y?Y:0:U,p2:ke(B.ServiceTypeDivCode),p3:!1,p4:"SetDefaultServiceTypeDivID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):B.ServiceTypeID?B.ServiceTypeID:0,p6:B.DivisionID?B.DivisionID:0,p7:m,p8:"SetDefaultServiceTypeDivID"==t,p9:localStorage.getItem("userid"),p10:A()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:A()().format("YYYY-MM-DD hh:mm:ss")}]};(0,pe.Z)(0).then((t=>{(0,c.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(K.alert({open:!0,color:"warning",message:n}),K.loading(!1)):(t=>{X(!0),K.loading(!0),K.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=g.v.Api+"FP261S1/",l={data:[{p1:U,p2:ke(B.ServiceTypeDivCode),p3:!1,p4:null,p5:e.parentId?Number(e.parentId):B.ServiceTypeID?B.ServiceTypeID:0,p6:B.DivisionID?B.DivisionID:0,p7:m,p8:!1,p9:localStorage.getItem("userid"),p10:A()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:A()().format("YYYY-MM-DD hh:mm:ss")}]};(0,pe.Z)(0).then((t=>{(0,w.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(K.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails"),K.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(K.RefreshTable(),K.attachmentSave(t[0].Data.IDPK)),de(),G.AccessRights.IsApproval&&K.Approval(!0),document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails")&&(document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails").style.width="0%",document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails").style.display="none",document.getElementById("divAdminServiceTypeDivisionDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("AdminServiceTypeDivisionDetails-MainTable").style.display="block")):(K.alert({open:!0,color:"warning",message:[a.message]}),K.loading(!1)),D(!0)}))}))})()):(K.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),K.loading(!1))}))}))};function me(t,a,l,i){if(!(G.count>0))return K.alert({open:!0,color:"warning",message:[ne("Please save atleast one record")]}),!1;if(!((()=>{const e={...B};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return K.alert({open:!0,color:"warning",message:[ne("Please enter the primary fields")]}),!1;{X(!0),K.loading(!0),K.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=g.v.Api+"FP261S1/",l={data:[{p1:"SetDefaultServiceTypeDivID"==i?"NORECORDS"!=Y&&Y?Y:0:U,p2:ke(B.ServiceTypeDivCode),p3:!0,p4:"SetDefaultServiceTypeDivID"==i?"SetDefault":null,p5:e.parentId?Number(e.parentId):B.ServiceTypeID?B.ServiceTypeID:0,p6:B.DivisionID?B.DivisionID:0,p7:!1,p8:"SetDefaultServiceTypeDivID"==i,p9:localStorage.getItem("userid"),p10:A()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:A()().format("YYYY-MM-DD hh:mm:ss")}]};(0,pe.Z)(0).then((i=>{(0,w.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?K.alert({open:!0,color:"warning",message:[ne("Deleted Successfully")]}):K.alert({open:!0,color:"success",message:[ne("Saved to Draft")]}),K.loading(!1),K.attachmentSave(a[0].Data.IDPK),de(),K.RefreshTable(),e.clrImgstate(!0)):(K.alert({open:!0,color:"warning",message:[l.message]}),K.loading(!1))}))}))}}function ve(e){return(0,Ie.CreateEasy)(e,G,_,K,W),!1}function Ae(e,a){return(0,Te.AdvanceSearch)(e,a,Me,ze(),Fe,t),!1}const Ne=(t,a,l,i,n,r)=>{const s=g.v.Api+"FP261S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:e.parentId?Number(e.parentId):0,p6:"0"==B.DivisionID?null:B.DivisionID,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:a?"%"+a+"%":null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:t,p19:10,p20:l,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}},o=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});Z(!0);const m={data:o};return(0,c.Z)(s,"ClearAll"==l?m:d,"SetDefaultServiceTypeDivID"==l&&i?i:G.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return 1==i.length?i[0]:{};M(1==t?e>0?i:[]:L.concat(i)),"SetDefaultServiceTypeDivID"==l&&(e>0?se(i[0],"SetDefaultServiceTypeDivID"):$("NORECORDS")),Z(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Z(!1)}))},xe=(t,l,i)=>{const n=g.v.Api+"FP261S3/",r={data:{p1:null,p2:"ServiceTypeDivCode"==i&&l?"%"+l+"%":null,p3:null,p4:null,p5:a.AdminServiceTypeRegistryServiceTypeID?a.AdminServiceTypeRegistryServiceTypeID:"0",p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:t,p19:10,p20:"ServiceTypeDivID",p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}},s={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};Z(!0),(0,c.Z)(n,"ClearAll"==i?s:r,G.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ServiceTypeDivCode"==i&&X(e>0),M(l)):("ServiceTypeDivCode"==i&&X(!0),M(L.concat(l))),Z(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Z(!1)}))},Fe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?P({type:a,name:t,value:e}):"number"==a?P({type:a,name:t,number:Number(e)}):"boolean"==a?P({type:a,name:t,boolean:e}):"date"==a?P({type:"text",name:t,value:e}):"select"==a&&"DivisionID"==t&&(P({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),P({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null}))}),[B]);function Re(e){if("DivisionID"==e){if(!B.DivisionID)return!1;P({type:"text",name:"DivisionID",value:null}),P({type:"text",name:"DivisionName",value:""}),document.getElementById("AdminServiceTypeDivisionDetailsDivisionNameClear")&&document.getElementById("AdminServiceTypeDivisionDetailsDivisionNameClear").click()}else if("ServiceTypeID"==e&&!B.ServiceTypeID)return!1}function Be(e){if("DivisionID"==e){if(!B.DivisionID)return!1;P({type:"text",name:"DivisionID",value:null})}else if("ServiceTypeID"==e&&!B.ServiceTypeID)return!1}function Pe(e){K.ConfirmAlert(null),I(e.IsDraft),H(Number(e.ServiceTypeDivIDPK)?Number(e.ServiceTypeDivIDPK):0),P({type:"number",name:"DivisionID",number:e.DivisionID?Number(e.DivisionID):0}),P({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:""}),P({type:"text",name:"ServiceTypeDivCode",value:e.ServiceTypeDivCode?e.ServiceTypeDivCode:""}),P({type:"number",name:"ServiceTypeID",number:e.ServiceTypeID?Number(e.ServiceTypeID):0}),P({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName?e.ServiceTypeName:""})}const ke=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(r.Z,{expanded:y,onChange:e=>{}},i().createElement(j.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},y&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[261]"}," ",ne("Add "),re("261")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},G.AccessRights.IsDelete&&i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(fe.Z,{row:!0},i().createElement(O.Z,{labelPlacement:"bottom",id:"fld261L1ECEntryCheckbox",control:i().createElement(h.Z,{checked:"1"==m,onChange:e=>p(e.target.checked)}),label:ne(1==m?"Active":"In Active")})))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{K.AttachExpand(!0)},id:"fld261L1ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(he.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,ne("Attach")))),!U&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{de()},id:"fld261L1ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(he.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,ne("Reset")))),"1"===S&&U&&i().createElement(ye.Z,{frmctrlid:"fld261L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{me("draftdel")}}),U&&"1"!==S||e.createEasy?null:G.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{me()},frmctrlid:"fld261L1ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(Ce.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,ne("Draft")))),G.AccessRights.IsAdd||G.AccessRights.IsEdit?i().createElement(ue.Z,{frmctrlid:"fld261L1ECSaveBtnIsAdd",name:ne(U?"Update":"Save"),disabled:!1,onClick:()=>{B.DivisionID&&0!=B.DivisionID?e.parentId&&0!=e.parentId?K.ConfirmAlert(i().createElement(ge(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ne("Are you sure?"),onConfirm:()=>ce(),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ne("Yes"),cancelBtnText:ne("Cancel"),showCancel:!0},ne(U?"Do you want to Update?":"Do you want to Save?"))):K.alert({open:!0,color:"warning",message:[ne("Please select the ")+" "+re("ServiceTypeID")]}):K.alert({open:!0,color:"warning",message:[ne("Please select the ")+" "+re("DivisionID")]})}}):null,!e.createEasy&&i().createElement(oe.Z,{frmctrlid:"fld261L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{de(),D(!1),K.EditClose(!0),K.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),i().createElement(s.Z,null,i().createElement("div",{id:"AdminServiceTypeDivisionDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"AdminServiceTypeDivisionDetails-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"AdminServiceTypeDivisionDetails-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(u.Z,{spacing:2},i().createElement(v.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(De.Z,{json:Ee,id:B.DivisionID,"data-testid":B.DivisionID,value:B.DivisionName,SPName:"AdminServiceTypeDivisionDetails",FieldName:"DivisionID",tfLabel:re("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Fe(e,"DivisionID","select"),onChange:(e,t)=>{Ne(e,t,"DivisionIDPK")},KeyBack:e=>{Be("DivisionID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{ve("35")},Tabledialog:()=>Ae("35","DivisionID"),loading:k,clear:e=>{e&&Re("DivisionID")}})),i().createElement(v.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(De.Z,{"data-testid":B.ServiceTypeDivCode,json:Ee,SPName:"AdminServiceTypeDivisionDetails",FieldName:"ServiceTypeDivCode",tfLabel:re("ServiceTypeDivCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{K.ConfirmAlert(i().createElement(ge(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Pe(e),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ne("Yes"),cancelBtnText:ne("No"),showCancel:!0},ne("Do you want to update this record?")))})(t),onClick:()=>{Q&&xe(1,"","ClearAll"),X(!0)},frmctrlid:"fld261_5079",frmctrlidName:"ServiceTypeDivCode",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Q&&xe(e,t,"ServiceTypeDivCode"),Fe(t,"ServiceTypeDivCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||X(!0)},showList:Q,SideEntryView:!1,KeyBack:e=>{},value:B.ServiceTypeDivCode,loading:k,clear:e=>{e&&(P({type:"text",name:"ServiceTypeDivCode",value:""}),X(!0))}})),i().createElement(v.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(De.Z,{json:Ee,id:B.ServiceTypeID,"data-testid":B.ServiceTypeID,value:B.ServiceTypeName,SPName:"AdminServiceTypeDivisionDetails",FieldName:"ServiceTypeID",tfLabel:re("ServiceTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Fe(e,"ServiceTypeID","select"),onChange:(e,t)=>{Ne(e,t,"ServiceTypeIDPK")},KeyBack:e=>{Be("ServiceTypeID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{ve("17")},Tabledialog:()=>Ae("17","ServiceTypeID"),loading:k,clear:e=>{e&&Re("ServiceTypeID")}})))),i().createElement("div",{id:"AdminServiceTypeDivisionDetailsSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AdminServiceTypeDivisionDetailsSideBar").style.width="0",void b(!1))},"×"),C&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},F))))))))}));a(77366),a(97829);var xe=a(65197),Fe=a(82731),Re=a.n(Fe),Be=a(30450);const Pe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),d=((0,n.useSelector)((e=>e.form)),(0,l.useRef)()),[o,m]=(0,l.useState)([]),[p,y]=(0,l.useState)(!0),[u,v]=(0,l.useState)(e.showDetail),[D,S]=(0,l.useState)(""),[I,T]=i().useState(!1),[f,h]=i().useState(""),[C,A]=i().useState(!1),w=(0,l.useContext)(Me),{cstate:b,cdispatch:N}=ze(),[x,F]=(0,l.useState)(!1),[R,B]=(0,l.useState)(""),[P,k]=(0,l.useState)(""),[Z,L]=(0,l.useState)("");let O=(0,E.Z)();(0,l.useEffect)((()=>{b.editData.length>0&&(m(b.editData),T(!1),N({type:"PrimaryId",payload:b.editData[0].ServiceTypeDivIDPK}))}),[b.editData]),(0,l.useEffect)((()=>{b.showTableview&&L(b.showTableview)}),[b.showTableview]),(0,l.useEffect)((()=>{y(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,l.useEffect)((()=>{y(b.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{y(e),T(null)},viewtoggle:()=>{T(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=g.v.Api+"FP261S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:1,p19:10,p20:b.IsDraft?"DraftServiceTypeDivID":"ServiceTypeDivID",p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};(0,pe.Z)(0).then((e=>{(0,c.Z)(l,i,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const M=e=>O?.[e]?O?.[e]:e,z=e=>b.language?.[e]?b.language[e]:e;function V(e,t){"DivisionIDPK"===e&&(w.openNav(),setTimeout((function(){d.current.viewlistProps(t)}),1e3),w.SlideComponentType(i().createElement("div",{id:"divAssDivisionRegistry-View",style:{width:"100%"}},i().createElement(Be.AssDivisionRegistryContext.Provider,{value:{cstate:b,cdispatch:N,loading:e=>w.loading(e),alert:e=>w.alert(e),openNav:()=>w.openNav(),SlideComponentType:e=>w.SlideComponentType(e)}},i().createElement(Re(),{viewonly:!0,ref:d})))))}const K=(e,t)=>(a,l)=>{h(C?Object.assign(...o.filter((e=>e.ServiceTypeDivIDPK==t)).map((e=>e))):b.editData),T(!l&&e)};return i().createElement("div",null,i().createElement(r.Z,{expanded:p,onChange:()=>()=>{e.expandTable&&y(!p)}},!I&&i().createElement(j.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},p?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},b.IsDraft?M("Draft"):"",z("AdminServiceTypeDivisionDetails"),e.viewonly?" ":"("+b.count+")")):"",p?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?i().createElement(ae.Z,{name:M("Add"),frmctrlid:"fld261L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),N({type:"editData",payload:[]}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?i().createElement(me.Z,{frmctrlid:"fld261L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&i().createElement(me.Z,{frmctrlid:"fld261L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&i().createElement(oe.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld261L1VCCloseBtn",onClick:()=>{y(!1),w.hideAddBtn(!1),C&&(N({type:"editData",payload:[]}),m([]))}})):"")),i().createElement(s.Z,{style:{display:"block"}},o.map(((t,l)=>i().createElement("div",{key:l},I==="panel"+l?i().createElement(Ne,{ref:a,parentId:e.parentId}):i().createElement(i().Fragment,null,i().createElement(xe.Z,{tableName:"AdminServiceTypeDivisionDetails",tableID:261,parentID:t.ServiceTypeDivIDPK,fldid:"fld261L1VCContainer",OpenSlideComponent:V,index:l,refresh:Z,val:t,tf:z,t:M,title:"10.0.0.59-3:08:17 PM-18-7[261]"}))))))))}));var ke=a(67698),Ze=a(55995),Le=a(45965),Oe=a(41722);a(9175);const Me=(0,l.createContext)(),ze=()=>{const e=(0,l.useContext)(Me);if(void 0===e)throw new Error("useCont must be used within  AdminServiceTypeDivisionDetailsContext Provider");return e},Ve=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),s=(0,l.useRef)(),d=(0,l.useRef)(),c=(0,l.useRef)(),[o,m]=(0,l.useState)(!0),[p,y]=(0,l.useState)(),u=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[v,g]=(0,l.useState)(0),[D,S]=(0,l.useReducer)(Oe.D,Oe.E),[E,I]=(0,l.useState)(""),[T,f]=(0,l.useState)([]),[h,C]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divAdminServiceTypeDivisionDetails-Entry").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainTable").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divAdminServiceTypeDivisionDetails-Entry").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainTable").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(S({type:"editData",payload:[e.editData]}),S({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{S(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const A=e=>{f([]),document.getElementById("divAdminServiceTypeDivisionDetails-Entry").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetailsEntryTable").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainEntry").style.display="block",document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.add("displayFlex"),document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails").style.width="0%",document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails").style.display="none"};(0,l.useEffect)((()=>{u((e=>{(0,pe.Z)(1).then((e=>{var t=new Array;t.push(e),S({type:"token",payload:t}),g(t.length),w(e)}))}))}),[]);const w=e=>{(0,Le.Z)(e,17).then((e=>S({type:"AccessRights",payload:e})))};return i().createElement("div",{style:{width:"100%"}},i().createElement(Me.Provider,{value:{cstate:D,cdispatch:S,ContextApi:ze,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==v&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{c.current.tempsave(e,T),f([])},EditClose:e=>A(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(o&&(document.getElementById("overlayPreviewAdminServiceTypeDivisionDetails").style.width="50%",document.getElementById("divAdminServiceTypeDivisionDetails-Entry").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainTable").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeDivisionDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails").style.display="block",document.getElementById("overlayimgAttAdminServiceTypeDivisionDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&s.current.tableClick(e),S({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&s.current.viewtoggle()},clear:e=>{S({type:"ShowDetail",payload:!1}),S({type:"editData",payload:[]}),D.ShowDetail?s.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?s.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{c.current.tempClear(),d.current.clrImgstate(!0)}}},i().createElement("div",{id:"AdminServiceTypeDivisionDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},i().createElement("div",{id:"AdminServiceTypeDivisionDetails-MainEntry",className:"",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"AdminServiceTypeDivisionDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divAdminServiceTypeDivisionDetails-Entry",style:{width:"100%"}},0!==v?i().createElement(Pe,{ref:s,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),i().createElement(Ze.Z,{ref:c,menurefID:261,fileId:"LogoImgAdminServiceTypeDivisionDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewAdminServiceTypeDivisionDetails",frmctrlid:"PvwIm_261_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),f(e)},clearTempData:D.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divAdminServiceTypeDivisionDetails-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(Ne,{ref:r,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),i().createElement(Ze.Z,{ref:c,menurefID:261,fileId:"LogoImgAdminServiceTypeDivisionDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewAdminServiceTypeDivisionDetails",frmctrlid:"PvwIm_261_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),f(e)},clearTempData:D.Add})),i().createElement("div",{id:"AdminServiceTypeDivisionDetails-MainTable"},0!==v?i().createElement(ce,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),i().createElement(ke.Z,{ImgAttachment:e=>A(),menurefID:261,fileId:"AttImgAdminServiceTypeDivisionDetails",imgid:"overlayimgAttAdminServiceTypeDivisionDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{c.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAdminServiceTypeDivisionDetails",ref:d,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_261_L1_",timglist:e=>{c.current.timglist(e),f(e)},clearTempData:D.Add}))),i().createElement("div",{id:"AdminServiceTypeDivisionDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},74013:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var l=a(92950),i=a.n(l),n=a(45237),r=a(36939),s=a(61201),d=a(50743),c=(a(10966),a(30553)),o=(a(99090),a(44528),a(37148)),m=a(61956),p=a(51673),y=(a(96071),a(14439)),u=a(27848),v=(a(49174),a(38773),a(19089),a(1695)),g=(a(13235),a(61924)),D=a.n(g),S=a(26537),E=a(40900),I=a(35131),T=a.n(I),f=a(55490),h=(a(2493),a(92371));a(82729),a(75355),a(11107),a(40826);const C={EnterKeyValues:{AdminServiceTypeRegistry:["ServiceTypCode","ServiceTypeName"]},Label:{AdminServiceTypeRegistry:{ServiceTypCode:["ServiceTypCode","ServiceTypeName"],ServiceTypeName:["ServiceTypCode","ServiceTypeName"]}},LabelHeader:{AdminServiceTypeRegistry:{ServiceTypCode:["Code","Name"],ServiceTypeName:["Code","Name"]}},Property:{AdminServiceTypeRegistry:{ServiceTypCode:{id:"fld17_274",labelID:"ServiceTypCode",maxLength:"20",labelname:"Code",frmctrlid:"fld17_274",frmctrlidname:"ServiceTypCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceTypeName:{id:"fld17_275",labelID:"ServiceTypeName",maxLength:"50",labelname:"Name",frmctrlid:"fld17_275",frmctrlidname:"ServiceTypeName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{AdminServiceTypeRegistry:{}}};a(79117);var A=a(53610),w=a(8981),b=a(63163),N=a(80471),x=a(47516),F=a(45155),R=a(79352),B=a(63750),P=a(51649),k=a(16233),Z=a.n(k);const L={ServiceTypeIDPK:"",ServiceTypCode:"",ServiceTypeName:"",IsDefault:!1,IsDraft:!1,Remarks:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",Type:"ServiceTypeID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},O=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,g]=(0,l.useState)(!1),[I,k]=(0,l.useState)(!0),[O,M]=(0,l.useState)(!1),[z,V]=(0,l.useState)(!1),[K,G]=(0,l.useState)(!1),[_,U]=(0,l.useState)(!1),[H,Y]=(0,l.useState)([]),[j,$]=(0,l.useState)(null),[W,J]=(0,l.useReducer)(h.Z,L),[q,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)(0),[le,ie]=(0,l.useState)(""),[ne,re]=(0,l.useState)(!0),[se,de]=(0,l.useState)(!0),ce=(0,l.useContext)(A.AdminServiceTypeRegistryContext),{cstate:oe,cdispatch:me}=(0,A.ContextApi)(),[pe]=(0,l.useState)(localStorage.getItem("Language")),[ye]=(0,l.useState)(localStorage.getItem("Language")),[ue,ve]=((0,l.useRef)(null),Z()("17")),[ge,De]=(0,l.useState)(!1);let Se=(0,w.Z)();const[Ee,Ie]=(0,l.useState)({}),Te=e=>Se?.[e]?Se[e]:e,fe=t=>oe.language?.[t]?oe.language[t]:e.createEasy?Ee?.[t]:t;(0,l.useEffect)((()=>{oe.PrimaryId&&ae(Number(oe.PrimaryId))}),[oe.PrimaryId]),(0,l.useEffect)((()=>{oe.editData.length<0&&(0,S.Z)(1).then((e=>{xe(1,null,"SetDefaultServiceTypeID",e)}))}),[]),(0,l.useEffect)((()=>{oe.editData.length>0?(he(oe.editData[0],""),V(!0)):oe.Add&&(Ce(),V(!0))}),[oe.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ie(Object.assign({},...t))}(ue)}),[ue]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){V(!0),M(!1)},CreateEasyProps:(e=!0,t)=>{ve(!0),t?(Pe(t),V(e)):(Ce(),V(e))}})));const he=(t,a,l)=>{let i=t;Object.keys(i).forEach((function(e){0==i[e]&&(i[e]=null)})),G(i.IsDraft),me({type:"EditIsDraft",payload:"1"==i.IsDraft}),"SetDefaultServiceTypeID"==a?ie(i.ServiceTypeIDPK):(ae(e.primid?Number(e.primid):i.ServiceTypeIDPK?i.ServiceTypeIDPK:0),me({type:"PrimaryId",payload:i.ServiceTypeIDPK})),J({type:"text",name:"ServiceTypCode",value:i.ServiceTypCode?i.ServiceTypCode:""}),J({type:"text",name:"ServiceTypeName",value:i.ServiceTypeName?i.ServiceTypeName:""}),J({type:"boolean",name:"IsDefault",boolean:i.IsDefault}),i.IsDraft?k(!0):k(!("1"!=i.IsActive&&!i.IsActive))},Ce=()=>{Y([]),ae(0),ie(""),re(!0),de(!0),me({type:"PrimaryId",payload:""}),J({type:"text",name:"ServiceTypCode",value:""}),J({type:"text",name:"ServiceTypeName",value:""}),J({type:"boolean",name:"IsDefault",boolean:!1}),k(!0)},Ae=e=>ke(W.ServiceTypCode)?ke(W.ServiceTypeName)?void we(e):(ce.alert({open:!0,color:"warning",message:[Te("Please enter the")+""+fe("ServiceTypeName")]}),!1):(ce.alert({open:!0,color:"warning",message:[Te("Please enter the")+""+fe("ServiceTypCode")]}),!1),we=()=>{ce.ConfirmAlert(i().createElement(D(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Te("Are you sure?"),onConfirm:()=>be("",!1),onCancel:()=>ce.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Te("Yes"),cancelBtnText:Te("Cancel"),showCancel:!0},oe.PrimarId?Te("Do you want to Update?"):Te("Do you want to Save?")))},be=(e,t)=>{ce.loading(!0),ce.ConfirmAlert(null),me({type:"IsDraft",payload:!1});const a=E.v.Api+"FP17S2/",l={data:[{p1:"SetDefaultServiceTypeID"==e?"NORECORDS"!=le&&le?le:0:te,p2:ke(W.ServiceTypCode),p3:ke(W.ServiceTypeName),p4:W.IsDefault,p5:t,p6:"SetDefaultServiceTypeID"==e?"SetDefault":null,p7:I,p8:"SetDefaultServiceTypeID"==e,p9:localStorage.getItem("userid"),p10:T()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:T()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(ce.alert({open:!0,color:"warning",message:n}),ce.loading(!1)):Ne(e,!1)):(ce.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ce.loading(!1))}))}))},Ne=(t,a)=>{re(!0),de(!0),ce.loading(!0),ce.ConfirmAlert(null);const l=E.v.Api+"FP17S1/",i={data:[{p1:"SetDefaultServiceTypeID"==t?"NORECORDS"!=le&&le?le:0:te,p2:ke(W.ServiceTypCode),p3:ke(W.ServiceTypeName),p4:W.IsDefault,p5:a,p6:"SetDefaultServiceTypeID"==t?"SetDefault":null,p7:I,p8:"SetDefaultServiceTypeID"==t,p9:localStorage.getItem("userid"),p10:T()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:T()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((a=>{(0,m.Z)(l,i,a).then((a=>{const l=a[0].status;200==l.code?(ce.loading(!1),oe.AccessRights.IsApproval&&ce.Approval(!0),"SetDefaultServiceTypeID"==t?(ce.alert({open:!0,color:"success",message:["Default Record Configured"]}),xe(1,null,"SetDefaultServiceTypeID",oe.token[0])):(ce.alert({open:!0,color:"success",message:[l.message]}),e.createEasy?Ce():(me({type:"PrimaryId",payload:a[0].Data.IDPK}),ce.RefreshTable(),ce.attachmentSave(a[0].Data.IDPK),document.getElementById("AdminServiceTypeRegistry-MainTable").style.display="block",e.clrImgstate(!0)),me({type:"EditOpen",payload:!1}),me({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttAdminServiceTypeRegistry")&&(document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.width="0%",document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.display="none",document.getElementById("divAdminServiceTypeRegistry-Entry").style.width="100%"))):(ce.alert({open:!0,color:"warning",message:[l.message]}),ce.loading(!1))}))}))};(0,l.useEffect)((()=>{V(oe.ExpandDetailValue)}),[oe.ExpandDetailValue]);const xe=(t,a,l,i,n,r)=>{const s=E.v.Api+"FP17S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:1,p15:10,p16:l,p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}},c={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:t,p15:10,p16:l,p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}};return Q(!0),(0,p.Z)(s,"ClearAll"==l?d:c,"SetDefaultServiceTypeID"==l&&i?i:oe.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return i?i[0]:{};ee(1==t?e>0?i:[]:X.concat(i)),"SetDefaultServiceTypeID"==l&&(e>0?he(i[0],"SetDefaultServiceTypeID"):ie("NORECORDS")),Q(!1)}else ce.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Q(!1)}))},Fe=(t,a,l)=>{const i=E.v.Api+"FP17S3/",n={data:{p1:null,p2:"ServiceTypCode"==l&&a?"%"+a+"%":null,p3:"ServiceTypeName"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:t,p15:10,p16:"ServiceTypeID",p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}},r={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};Q(!0),(0,p.Z)(i,"ClearAll"==l?r:n,oe.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;1==t?("ServiceTypCode"==l&&re(e>0),"ServiceTypeName"==l&&de(e>0),ee(i)):("ServiceTypCode"==l&&re(!0),"ServiceTypeName"==l&&de(!0),ee(X.concat(i))),Q(!1)}else ce.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Q(!1)}))},Re=(0,l.useCallback)((async(e,t,a)=>{"text"==a?J({type:a,name:t,value:e}):"number"==a?J({type:a,name:t,number:Number(e)}):"boolean"==a?J({type:a,name:t,boolean:e}):"date"==a&&J({type:"text",name:t,value:e})}),[W]),Be=e=>{ce.ConfirmAlert(i().createElement(D(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Pe(e),onCancel:()=>ce.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Te("Yes"),cancelBtnText:Te("No"),showCancel:!0},Te("Do you want to update this record?")))};function Pe(t){ce.ConfirmAlert(null),G(t.IsDraft),e.createEasy||(me({type:"editData",payload:[t]}),me({type:"PrimaryId",payload:t.ServiceTypeIDPK})),ae(Number(t.ServiceTypeIDPK)?Number(t.ServiceTypeIDPK):0),J({type:"text",name:"ServiceTypCode",value:t.ServiceTypCode?t.ServiceTypCode:""}),J({type:"text",name:"ServiceTypeName",value:t.ServiceTypeName?t.ServiceTypeName:""})}const ke=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(r.Z,{expanded:z,onChange:e=>{}},i().createElement(d.Z,null,i().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&i().createElement("span",{style:{cursor:"pointer"}},i().createElement(P.u1R,{className:"backButtonList",onClick:()=>ce.ExpandTable(!0)})),i().createElement("p",{id:"fld17L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[17]",onClick:()=>oe.ExpandTableValue&&V(!z)},te?"Edit ":"New ",fe("17")," (",oe.count,")"),e.createEasy||oe.IsCollapse?!e.createEasy&&i().createElement("span",{className:"tooltitle",style:{float:"right"}},i().createElement("div",{id:"fld17L3ECFullscreen",onClick:()=>{M(!oe.IsExPView),ce.ExpandDetail(!oe.IsExPView),V(!0)}},i().createElement(x.$4j,{className:"FullSizeIcon1"})),i().createElement("span",{className:"tooltiptext tooltip-top"},"Expand Grid View")):i().createElement("span",{className:"tooltitle",style:{float:"right"}},i().createElement("div",{id:"fld17L3ECFullScreenExit",onClick:()=>{M(!0),ce.ExpandDetail(!1),V(!0)}},i().createElement(N.qNy,{className:"FullSizeIcon2"})),i().createElement("span",{className:"tooltiptext tooltip-top"},"Collapse Grid View"))),z&&i().createElement("div",{className:"displayFlex EntryHeaderBtn"},oe.AccessRights.IsDelete&&i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(c.Z,{labelPlacement:"bottom",frmctrlid:"fld17L3ECEntryCheckbox",control:i().createElement(b.Z,{checked:"1"==I,onChange:e=>k(e.target.checked)}),label:Te(1==I?"Active":"In Active")}))),e.createEasy||te||!oe.AccessRights.IsAdd||!le&&"NORECORDS"!=le?!e.createEasy&&!te&&i().createElement("div",{className:"GridAlignDefault",onClick:()=>{xe(1,null,"SetDefaultServiceTypeID",oe.token[0])},id:"fld17L3ECSetDefaultBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(B.j39,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Get Default"))):i().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ne("SetDefaultServiceTypeID")},id:"fld17L3ECSetDefaultBtnIsAdd"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(B.j39,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Set Default"))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{ce.AttachExpand(!0)},id:"fld17L3ECAttachment",disableRipple:!0,disabled:!te},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",null,i().createElement(F.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Attach"))),(e.createEasy||!te)&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ce()},id:"fld17L3ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(F.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Reset"))),!e.createEasy&&!te||"1"===K?oe.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,a,l,i,n){if(!(oe.count>0))return ce.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...W};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){re(!0),de(!0),ce.loading(!0),ce.ConfirmAlert(null),me({type:"IsDraft",payload:!1});const a=E.v.Api+"FP17S1/",l={data:[{p1:"SetDefaultServiceTypeID"==i?"NORECORDS"!=le&&le?le:0:te,p2:ke(W.ServiceTypCode),p3:ke(W.ServiceTypeName),p4:W.IsDefault,p5:n,p6:"SetDefaultServiceTypeID"==i?"SetDefault":null,p7:!1,p8:"SetDefaultServiceTypeID"==i,p9:localStorage.getItem("userid"),p10:T()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:T()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((i=>{(0,m.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?ce.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):ce.alert({open:!0,color:"success",message:["Saved to Draft"]}),ce.loading(!1),ce.attachmentSave(a[0].Data.IDPK),Ce(),ce.RefreshTable(),e.clrImgstate(!0)):(ce.alert({open:!0,color:"warning",message:[l.message]}),ce.loading(!1))}))}))}else ce.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}("",0,0,"",!0)},frmctrlid:"fld12L3ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(R.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,"Draft"))):null,oe.AccessRights.IsAdd?i().createElement(v.Z,{name:te?"Update":"Save",disabled:!1,frmctrlid:"fld17L3ECSaveBtnIsAdd",onClick:()=>{Ae()}}):oe.AccessRights.IsEdit&&te&&i().createElement(v.Z,{name:te?"Update":"Save",disabled:!1,frmctrlid:"fld17L3ECSaveBtn",onClick:()=>{Ae()}}),!e.createEasy&&te?i().createElement(o.Z,{className:"L1AddBtnCommon",disabled:!1,frmctrlid:"fld17L3ECCloseBtn",onClick:()=>{ce.detailview(!0,te)}}):null))),i().createElement(s.Z,null,oe.AccessRights.IsAdd?null:oe.AccessRights.IsEdit?!oe.PrimaryId&&i().createElement("div",{className:"divdisable"}):i().createElement("div",{className:"divdisable"}),i().createElement("div",{id:"AdminServiceTypeRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"AdminServiceTypeRegistry-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"AdminServiceTypeRegistry-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(y.Z,{spacing:2},i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(f.Z,{"data-testid":W.ServiceTypCode,json:C,SPName:"AdminServiceTypeRegistry",FieldName:"ServiceTypCode",tfLabel:fe("ServiceTypCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Be(t),onClick:()=>{ne&&Fe(1,"","ClearAll"),re(!0)},frmctrlid:"fld17_274",frmctrlidName:"ServiceTypCode",fieldorder:"1",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{ne&&Fe(e,t,"ServiceTypCode"),Re(t,"ServiceTypCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:W.ServiceTypCode,loading:q,clear:e=>{e&&(J({type:"text",name:"ServiceTypCode",value:""}),re(!0))}})),i().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(f.Z,{"data-testid":W.ServiceTypeName,json:C,SPName:"AdminServiceTypeRegistry",FieldName:"ServiceTypeName",tfLabel:fe("ServiceTypeName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Be(t),onClick:()=>{se&&Fe(1,"","ClearAll"),de(!0)},frmctrlid:"fld17_275",frmctrlidName:"ServiceTypeName",fieldorder:"2",data:X,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:X.length>0?X[0].TotalCount:0,onChange:(e,t)=>{se&&Fe(e,t,"ServiceTypeName"),Re(t,"ServiceTypeName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:W.ServiceTypeName,loading:q,clear:e=>{e&&(J({type:"text",name:"ServiceTypeName",value:""}),de(!0))}})))),i().createElement("div",{id:"AdminServiceTypeRegistrySideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AdminServiceTypeRegistrySideBar").style.width="0",void U(!1))},"×"),_&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},j))))))))}))},53610:(e,t,a)=>{a.r(t),a.d(t,{AdminServiceTypeRegistryContext:()=>D,ContextApi:()=>S,default:()=>E});var l=a(92950),i=a.n(l),n=a(45237),r=a(31073),s=a(90712),d=a(74013),c=a(67698),o=a(55995),m=a(26537),p=(a(35131),a(45965)),y=a(73668),u=(a(37274),a(9175)),v=a.n(u),g=a(71524);const D=(0,l.createContext)();function S(){const e=i().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const E=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),u=(0,l.useRef)(),E=(0,l.useRef)(),I=(0,l.useRef)(),T=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[f,h]=(0,l.useState)([]),[C,A]=(0,l.useState)(0),[w,b]=i().useReducer(y.I,y.E),[N,x]=(0,l.useState)(!1),[F,R]=(0,l.useState)(!1),[B,P]=(0,l.useState)(!1),[k,Z]=(0,l.useState)(!1),[L,O]=(0,l.useState)(!0),[M,z]=(0,l.useState)(!0),[V,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)(!1),[U,H]=(0,l.useState)(),[Y,j]=(0,l.useState)(0),[$,W]=(0,l.useState)(!0),[J,q]=(0,l.useState)(!0),[Q,X]=(0,l.useState)([]),ee=(0,l.useRef)(),[te,ae]=(0,l.useState)({}),[le,ie]=(0,l.useState)([]),[ne,re]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="35%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="65%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="block",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(b({type:"editData",payload:[e.editData]}),b({type:"ShowDetail",payload:!0}))}),[e.editData]);const se=e=>{w.IsCollapse?(document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="50%",document.getElementById("divAdminServiceTypeRegistry-Entry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="block",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.width="0%",document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.display="none"):(document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.width="0%",document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.display="none",document.getElementById("divAdminServiceTypeRegistry-Entry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{T((e=>{(0,m.Z)(1).then((e=>{var t=new Array;t.push(e),b({type:"token",payload:t}),A(t.length),de(e)}))}))}),[]);const de=e=>{(0,p.Z)(e,17).then((e=>b({type:"AccessRights",payload:e})))};return i().createElement("div",null,i().createElement(D.Provider,{value:{cstate:w,cdispatch:b,ContextApi:S,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>{return b({type:"ExpandTableValue",payload:t=e}),void(t?(b({type:"IsExPView",payload:!0}),b({type:"IsCollapse",payload:!1}),document.getElementById("AdminServiceTypeRegistry-MainTable").style.display="block",document.getElementById("divAdminServiceTypeRegistry-Entry").style.margin="0",document.getElementById("AdminServiceTypeRegistry-MainTable").style.margin="0",document.getElementById("divAdminServiceTypeRegistry-Entry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="none",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayGrid"),b({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttAdminServiceTypeRegistry")&&(document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.width="0%",document.getElementById("overlayPreviewAdminServiceTypeRegistry").style.width="0%",document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.display="none")):(b({type:"IsExPView",payload:!1}),b({type:"IsCollapse",payload:!0}),document.getElementById("divAdminServiceTypeRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AdminServiceTypeRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="35%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="65%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="block",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayGrid"),b({type:"ExpandDetailValue",payload:!0})));var t},viewtoggle:()=>{w.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>{var t;(t=e)?(w.IsExPView?(b({type:"ExpandTableValue",payload:!t}),b({type:"IsExPView",payload:!0}),b({type:"IsCollapse",payload:!0}),document.getElementById("divAdminServiceTypeRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AdminServiceTypeRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="35%",document.getElementById("AdminServiceTypeRegistry-MainTable").style.display="none",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="65%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="block",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayGrid")):(b({type:"ExpandTableValue",payload:t}),b({type:"IsExPView",payload:!1}),b({type:"IsCollapse",payload:!1}),document.getElementById("divAdminServiceTypeRegistry-Entry").style.margin="0",document.getElementById("AdminServiceTypeRegistry-MainTable").style.margin="0",document.getElementById("divAdminServiceTypeRegistry-Entry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayGrid")),b({type:"ExpandDetailValue",payload:!0})):(w.IsExPView&&b({type:"IsExPView",payload:!1}),b({type:"ExpandTableValue",payload:t}),b({type:"IsCollapse",payload:!0}),b({type:"ExpandDetailValue",payload:!0}),document.getElementById("divAdminServiceTypeRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AdminServiceTypeRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="35%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="65%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="block",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayGrid"))},AttachExpand:e=>(u.current.AttachmentData(w.PrimaryId),void(w.ExpandTableValue?(document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.width="41%",document.getElementById("divAdminServiceTypeRegistry-Entry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.display="block"):(document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="40%",document.getElementById("divAdminServiceTypeRegistry-Entry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="block",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.width="41%",document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.display="block"))),RefreshTable:()=>I.current.tableRefresh(),floatRefresh:()=>ee.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttAdminServiceTypeRegistry").style.display="none",attachmentSave:e=>{E.current.tempsave(e,le),ie([])},detailview:(e,t)=>{I.current.viewrecord(t),b({type:"ShowDetail",payload:e}),b({type:"EditOpen",payload:!0}),w.ShowDetail&&a.current.viewtoggle()},clear:e=>{w.ShowDetail&&(b({type:"ShowDetail",payload:!1}),b({type:"editData",payload:[]}))},edit:e=>{t.current.ScreenValue(e)},ShowTableDiv:()=>b({type:"ShowDetail",payload:!1})}},i().createElement("div",{id:"AdminServiceTypeRegistry-MainDiv",className:"MainDivStyles displayFlex"},!w.ExpandTableValue&&i().createElement("div",{id:"AdminServiceTypeRegistry-MainTable",className:"Maincontent"},0!==C?i().createElement(r.default,{ref:I}):null),i().createElement("div",{id:"AdminServiceTypeRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"87vh",borderLeft:"1px solid rgb(226, 231, 235)"}},w.ShowDetail?i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divAdminServiceTypeRegistry-Entry",style:{width:"100%"}},i().createElement(s.default,{ref:a}),i().createElement(g.ZP,{loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:w.editData,AddOpen:w.EditOpen,parentId:w.PrimaryId,IsDraft:w.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:w.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),i().createElement(o.Z,{ref:E,menurefID:17,fileId:"LogoImgAdminServiceTypeRegistry",imgloading:e=>H(e),valueIDPK:w.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewAdminServiceTypeRegistry",AccessRights:w.AccessRights,frmctrlid:"PvwIm_17_L3_",tempImg:e=>{w.PrimaryId?u.current.AttachmentData(w.PrimaryId):u.current.tempImg(e),ie(e)},clearTempData:w.Add})),i().createElement(c.Z,{ImgAttachment:e=>se(),menurefID:17,fileId:"AttImgAdminServiceTypeRegistry",imgid:"overlayimgAttAdminServiceTypeRegistry",valueIDPK:w.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAdminServiceTypeRegistry",ref:u,imgloading:U,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_17_L3_",timglist:e=>E.current.timglist(e),clearTempData:w.Add})):i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divAdminServiceTypeRegistry-Entry",style:{width:"100%"}},i().createElement(d.default,{ref:t,clrImgstate:e=>u.current.clrImgstate(e)}),i().createElement(g.ZP,{loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:w.editData,AddOpen:w.EditOpen,parentId:w.PrimaryId,IsDraft:w.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:w.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),i().createElement(o.Z,{ref:E,menurefID:17,fileId:"LogoImgAdminServiceTypeRegistry",imgloading:e=>H(e),valueIDPK:w.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewAdminServiceTypeRegistry",frmctrlid:"PvwIm_17_L3_",tempImg:e=>{w.PrimaryId?u.current.AttachmentData(w.PrimaryId):u.current.tempImg(e),ie(e)},clearTempData:w.Add})),i().createElement(c.Z,{ImgAttachment:e=>se(),menurefID:17,fileId:"AttImgAdminServiceTypeRegistry",imgid:"overlayimgAttAdminServiceTypeRegistry",valueIDPK:w.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAdminServiceTypeRegistry",ref:u,imgloading:U,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_17_L3_",timglist:e=>E.current.timglist(e),clearTempData:w.Add}))),w.ExpandTableValue&&i().createElement("div",{id:"AdminServiceTypeRegistry-MainTable",className:"Maincontent"},0!==C?i().createElement(r.default,{ref:I}):null),i().createElement("div",{id:"AdminServiceTypeRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}})),ne&&i().createElement(v(),{openDialog:ne,closeDialog:e=>re(e),formID:17,PrimID:w.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},31073:(e,t,a)=>{a.r(t),a.d(t,{AdminServiceTypeRegistryPopUpTable:()=>G,default:()=>K}),a(95866);var l=a(92950),i=a.n(l),n=a(45237),r=a(36939),s=a(61201),d=a(50743),c=a(59009),o=a(80366),m=a(51673),p=a(6933),y=a(54180),u=a(47516),v=a(39327),g=(a(14439),a(27848),a(42258),a(40900)),D=(a(83032),a(44117),a(53610)),S=a(43031),E=a(110),I=a(88995),T=a(5109),f=a(61657),h=a(868),C=a(24038),A=a(51209),w=a(8981),b=a(80471),N=a(86893),x=a(53854),F=a(37106),R=a(5434),B=a(51649),P=a(93521),k=(a(79117),a(71524)),Z=a(71168),L=a.n(Z),O=a(65107),M=a(79352),z=a(94986),V=a(15999);a(11557),window.clickFilter="";const K=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),Z=((0,l.useRef)(null),(0,l.useRef)(null)),[K]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[G]=(0,l.useState)("17"),[_,U]=(0,l.useState)(!1),[H,Y]=(0,l.useState)(!1),[j,$]=(0,l.useState)(0),[W,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ie]=(0,l.useState)([]),[ne,re]=(0,l.useState)({val:"",column:""}),[se,de]=(0,l.useState)([]),[ce,oe]=(0,l.useState)(!1),[me,pe]=(0,l.useState)(""),[ye,ue]=(0,l.useState)(""),[ve,ge]=(0,l.useState)(!1),[De,Se]=(0,l.useState)(!1),[Ee,Ie]=(0,l.useState)([]),[Te,fe]=(0,l.useState)([]),[he,Ce]=(0,l.useState)([]),[Ae,we]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:D.AdminServiceTypeRegistryContext),{cstate:Ne,cdispatch:xe}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Fe,Re]=(0,l.useState)({children:[{name:"AdminServiceTypeRegistry",children:[]}]}),[Be,Pe]=(0,l.useState)(!1);let ke={ServiceTypeIDPK:"",ServiceTypCode:"",ServiceTypeName:"",IsDefault:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ze,Le]=(0,l.useState)(ke),[Oe,Me]=(0,l.useState)(ke),[ze,Ve]=(0,l.useState)(ke),[Ke,Ge]=(0,l.useState)(ke),[_e,Ue]=(0,l.useState)("asc"),[He,Ye]=(0,l.useState)(""),[je,$e]=(0,l.useState)(!1),[We,Je]=(0,l.useState)(!0),[qe,Qe]=(0,l.useState)(!1),[Xe,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)(0),[lt,it]=(0,l.useState)({ServiceTypCode:"",ServiceTypeName:""}),[nt,rt]=(0,l.useState)(!1),[st,dt]=(0,l.useState)([]),[ct,ot]=(0,l.useState)(0),[mt,pt]=(0,l.useState)(0),[yt,ut]=(0,l.useState)({current:1,pageSize:10}),[vt,gt]=(0,l.useState)([]),[Dt,St]=(0,l.useState)([]),[Et,It]=(0,l.useState)(!1),[Tt]=(0,l.useState)(localStorage.getItem("Language")),[ft]=(0,l.useState)(localStorage.getItem("Language")),[ht,Ct]=(0,l.useState)(!1),[At,wt]=L()("17"),[bt,Nt]=(0,l.useState)({}),xt=[{columns:vt,data:te}];let Ft=(0,w.Z)();const Rt=e=>Ft?.[e]?Ft[e]:e,Bt=e=>Ne.language?.[e]?Ne.language[e]:e;(0,l.useEffect)((()=>{Ot(At)}),[At]),(0,l.useEffect)((()=>{Ne.token.length>0&&(Ne.IsDraft?Zt(X,ke,"DraftServiceTypeID"):Zt(X,ke,"ServiceTypeID"))}),[]),(0,l.useEffect)((()=>{De||Ae||Be||!me?De?Me(me):Ae?Ve(me):Be&&Ge(me):Ne.IsDraft?Zt(X,me,"DraftServiceTypeID"):Zt(X,me,"ServiceTypeID")}),[me]),(0,l.useEffect)((()=>{!1===e.cardview&&et(e.cardview),e.Dialogview&&Y(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Lt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Pt()},viewrecord:e=>{se.map(((t,a)=>{t.ServiceTypeIDPK==e&&xe({type:"editData",payload:[se[a]]})}))}})));const Pt=()=>{Ne.IsDraft?Zt(X,ke,"DraftServiceTypeID"):Zt(X,ke,"ServiceTypeID")};function kt(e){be.loading(!0);let t=g.v.Api+"FP17S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(t,a,Ne.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,pt(t.Output.data[0].TotalCount)):a=0,10==e.pageSize?ot(Math.ceil(a)):20==e.pageSize?ot(Math.ceil(a/2)):50==e.pageSize?ot(Math.ceil(a/5)):100==e.pageSize&&ot(Math.ceil(a/10)),dt(t.Output.data),be.loading(!1)}}))}const Zt=(t,a,l,i,n,r)=>{be.loading(!0),"DraftPage"!==i&&$e(Ne.IsDraft);let s=g.v.Api+"FP17S3/",d={data:{p1:n||(a&&a.ServiceTypeIDPK?a.ServiceTypeIDPK:null),p2:a&&a.ServiceTypCode?a.ServiceTypCode:null,p3:a&&a.ServiceTypeName?a.ServiceTypeName:null,p4:null,p5:"DraftServiceTypeID"==l?"1":"0",p6:null,p7:a&&a.IsActive,p8:null,p9:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p10:a&&a.CreatedTtm?a.CreatedTtm:null,p11:a&&a.CreatedTtmType?a.CreatedTtmType:null,p12:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p13:null,p14:n?1:t.current,p15:t.pageSize,p16:l,p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}};(0,m.Z)(s,d,Ne.token[0]).then((n=>{if("200"==n.Output.status.code)if(n.Output.data.length>0){if(n.Output.data){let a=0;n.Output.data.length>0?(a=parseFloat(n.Output.data[0].TotalCount,10)/10,J(n.Output.data[0].TotalCount),xe({type:"count",payload:n.Output.data[0].TotalCount}),Q(n.Output.data[0].DraftCnt),"DraftPage"==i&&Q(n.Output.data[0].TotalCount)):a=0,10==t.pageSize?$(Math.ceil(a)):20==t.pageSize?$(Math.ceil(a/2)):50==t.pageSize?$(Math.ceil(a/5)):100==t.pageSize&&$(Math.ceil(a/10)),e.Dialogview||(Ne.ExpandTableValue?Ne.ExpandDetailValue?document.getElementById("AdminServiceTypeRegistry-MainTable").style.display="none":(document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%",document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AdminServiceTypeRegistry-MainDiv").classList.add("displayGrid")):(document.getElementById("AdminServiceTypeRegistry-MainTable").style.width="50%",document.getElementById("AdminServiceTypeRegistry-MainEntry").style.width="100%"),document.getElementById("divAdminServiceTypeRegistry-Entry").style.height="auto"),de(n.Output.data),be.loading(!1)}}else be.loading(!1),"DraftServiceTypeID"===l?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),$e(!1)):(de([]),ee({current:1,pageSize:10}),$(0),J(0),xe({type:"count",payload:0}),Object.values(a).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[n.Output.status.message]}),be.loading(!1)}))};function Lt(e,t){be.loading(!0);const a=g.v.Api+"FP17S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:je?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,l,Ne.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),xe({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?$(Math.ceil(a)):20==t.pageSize?$(Math.ceil(a/2)):50==t.pageSize?$(Math.ceil(a/5)):100==t.pageSize&&$(Math.ceil(a/10)),de(e.Output.data),be.loading(!1)}else de([]),$(0),J(0),xe({type:"count",payload:0}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function Ot(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),xe({type:"language",payload:Object.assign({},...i)}),it(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),fe(t),Ce(a),gt(l),St(a)}(0,l.useEffect)((()=>{Qe(Ne.ExpandTableValue)}),[Ne.ExpandTableValue]);const Mt=(e,t,a)=>{xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:t}),xe({type:"EditOpen",payload:!1}),xe({type:"EditIsDraft",payload:t}),xe({type:"ExpandDetailValue",payload:!0}),xe({type:"ShowDetail",payload:a}),document.getElementById("AdminServiceTypeRegistry-MainEntry").style.display="block",document.getElementById("AdminServiceTypeRegistry-MainTable").style.display="none"},zt=()=>{ce?(document.getElementById("AdminServiceTypeRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AdminServiceTypeRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AdminServiceTypeRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",oe(!1),De?(document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Xe?Ae?(document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AdminServiceTypeRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AdminServiceTypeRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AdminServiceTypeRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AdminServiceTypeRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",oe(!0),De?(document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Xe?Ae?(document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AdminServiceTypeRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),ge(!1),window.clickFilter=!ce};return i().createElement("div",null,i().createElement(r.Z,{expanded:We,onChange:()=>()=>{Je(qe)}},i().createElement(d.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},i().createElement("div",{style:{width:"60%"}},i().createElement("div",{className:"displayFlex"},Be||De||!je?i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("p",{id:"fld17L3TCListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[17]"},`${Bt("17")} (${W})`),i().createElement("div",null,!e.Dialogview&&qe?i().createElement(h.ZP,{title:"Collpase Grid View",placement:"top"},i().createElement("div",{id:"fld17L3TCFullscreenExitIcon",onClick:()=>(Qe(!1),be.ExpandTable(!1),xe({type:"IsDraft",payload:!1}),xe({type:"ShowDetail",payload:!1}),xe({type:"Add",payload:!0}),xe({type:"editData",payload:[]}),void dispatch({type:"AdminServiceTypeRegistryServiceTypeID",AdminServiceTypeRegistryServiceTypeID:""}))},i().createElement(b.qNy,{className:"FullSizeIcon2"}))):!e.Dialogview&&i().createElement(h.ZP,{title:"Expand Grid View",placement:"top"},i().createElement("div",{id:"fld17L3TCTCFullscreenIcon",onClick:()=>(Qe(!0),be.ExpandTable(!0),xe({type:"IsDraft",payload:!1}),xe({type:"ShowDetail",payload:!1}),xe({type:"Add",payload:!0}),xe({type:"editData",payload:[]}),void dispatch({type:"AdminServiceTypeRegistryServiceTypeID",AdminServiceTypeRegistryServiceTypeID:""}))},i().createElement(u.$4j,{className:"FullSizeIcon1"}))))):i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("div",{id:"fld17L3TCList",onClick:()=>{qe||(xe({type:"Add",payload:!0}),xe({type:"Add",payload:!0})),be.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Zt({current:1,pageSize:100},ke,"ServiceTypeID"),$e(!1),xe({type:"IsDraft",payload:!1})}),500)):(Zt({current:1,pageSize:100},ke,"ServiceTypeID"),$e(!1),xe({type:"IsDraft",payload:!1})),ee({current:1,pageSize:100})}},i().createElement(h.ZP,{title:"List",placement:"top"},i().createElement("div",null,i().createElement(B.u1R,{className:"backButtonList"})))),i().createElement("p",{className:"DraftP"},"Drafts(",W,")")))),i().createElement("div",{style:{width:"40%"}},De||Ae||Be?null:i().createElement("div",{className:"searchbar",id:"fld17L3TCSearchBar"},i().createElement(C.Z,{className:"search_input",type:"text",id:"AdminServiceTypeRegistrygridsearch",placeholder:"Search",value:ye,onChange:e=>{if(ue(e),"0"==e.length)return Zt(X,ke,je?"DraftServiceTypeID":"ServiceTypeID",je&&"DraftPage"),!1;Lt(e,{current:1,pageSize:100})}}),i().createElement("div",{className:"search_icon"},ye?i().createElement("div",{id:"fld17L3TCCloseIcon",onClick:()=>{ue(""),Pt()}},i().createElement(o.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld17L3TCInputSearchIcon",onClick:()=>{document.getElementById("AdminServiceTypeRegistrygridsearch").focus()}},i().createElement(I.Z,{className:"InputSearchIcon"}))))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"AdminServiceTypeRegistry-HeaderItems",className:"displayFlex padding"},i().createElement("div",{className:"tableHeaderItems displayFlex"},qe?i().createElement("div",null,!je&&i().createElement("div",{frmctrlid:"fld17L3TCFilterDataIsDraft",id:"AdminServiceTypeRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>zt()},i().createElement(h.ZP,{title:Rt("Filter Data"),placement:"top"},i().createElement("div",null,i().createElement(u.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Rt("Filter Data")))):null,e.Dialogview||De||Be||je?null:i().createElement(y.Z,{title:"Type Of Service",formctrlidprint:"fld17L3TCExportPrint",formctrlidexport:"fld17L3TCExportTable",formctrlidrefresh:"fld17L3TCExportRefresh",data:le,exportData:xt,Items:Dt,columnIndex:vt,TableVisibleItem:Te,userGridViewFormID:G,TableTotalCount:W,triggerApi:e=>{((e,t,l,i,n)=>{if(0===W)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let r=g.v.Api+"FP17S3/",s={data:{p1:e&&e.ServiceTypeIDPK?e.ServiceTypeIDPK:null,p2:e&&e.ServiceTypCode?e.ServiceTypCode:null,p3:e&&e.ServiceTypeName?e.ServiceTypeName:null,p4:null,p5:je?"1":"0",p6:null,p7:e&&e.IsActive,p8:null,p9:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p10:e&&e.CreatedTtm?e.CreatedTtm:null,p11:e&&e.CreatedTtmType?e.CreatedTtmType:null,p12:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p13:null,p14:X.current,p15:W,p16:je?"DraftServiceTypeID":"ServiceTypeID",p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${Bt(17)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(r,s,Ne.token[0],n).then((e=>{(0,P.PDF_Excel_Generate)(e,be,Dt,ae,a,n)}))})(me,ne.column,0,0,e)},Refresh:()=>{ue(""),Z.current&&Z.current.clearItem(),ee({current:1,pageSize:100}),Ne.IsDraft?Zt({current:1,pageSize:100},ke,"DraftServiceTypeID"):Zt({current:1,pageSize:100},ke,"ServiceTypeID")},disabledPrint:!Ne.AccessRights.IsPrint,disabledExport:!Ne.AccessRights.IsExport,ref:a,iconinfo:qe?"iconinfo":"displayNone"}),!e.Dialogview&&qe?i().createElement("div",{id:"fld4L3TCMore",className:"buttoncard",onClick:()=>Ct(!ht)},i().createElement("span",null,ht?i().createElement(h.ZP,{title:"Less",placement:"top"},i().createElement("span",{id:"fld17L3TCLess"},i().createElement(x.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(h.ZP,{title:"More",placement:"top"},i().createElement("span",{id:"fld17L3TCMore"},i().createElement(x.ilJ,{className:"tableFilterColumnIcon"}))))):!e.Dialogview&&i().createElement(c.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},i().createElement("div",{id:"fld17L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){qe||(xe({type:"Add",payload:!0}),xe({type:"Add",payload:!0})),be.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Zt({current:1,pageSize:100},ke,"DraftServiceTypeID"),$e(!0),xe({type:"IsDraft",payload:!0}),ge(!1),et(!0),Se(!1),we(!1)}),500)):(at(0),Zt({current:1,pageSize:100},ke,"DraftServiceTypeID"),$e(!0),xe({type:"IsDraft",payload:!0}),ge(!1),et(!0),Se(!1),we(!1)),document.getElementById("AdminServiceTypeRegistryFilterDiv").style.width="0%",document.getElementById("AdminServiceTypeRegistryTabDiv").style.width="100%",document.getElementById("AdminServiceTypeRegistryFilterDiv").style.display="none"}else be.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},q>0&&i().createElement(h.ZP,{title:"Drafts",placement:"top"},i().createElement("div",null,i().createElement(F.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:qe?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))),ht?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},De||Ae||Be||!qe?null:!je&&Ne.AccessRights.IsAdd&&i().createElement("div",null,i().createElement("div",{id:"AdminServiceTypeRegistrycoldiv",frmctrlid:"fld17L3TCFilterDataIsAdd",className:"buttoncard",onClick:()=>{ve?(document.getElementById("AdminServiceTypeRegistryFilterDiv").style.width="0%",document.getElementById("AdminServiceTypeRegistryTabDiv").style.width="100%",document.getElementById("AdminServiceTypeRegistryFilterDiv").style.display="none",document.getElementById("AdminServiceTypeRegistrycoldiv").style.width="fit-content",document.getElementById("AdminServiceTypeRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("AdminServiceTypeRegistryFilterDiv").style.width="25%",document.getElementById("AdminServiceTypeRegistryTabDiv").style.width="75%",document.getElementById("AdminServiceTypeRegistryFilterDiv").style.display="block",document.getElementById("AdminServiceTypeRegistryfildiv").style.width="fit-content",document.getElementById("AdminServiceTypeRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AdminServiceTypeRegistrycoldiv").style.width="fit-content",document.getElementById("AdminServiceTypeRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),oe(!1)}},i().createElement(h.ZP,{title:"Manage Columns",placement:"top"},i().createElement("div",null,i().createElement(v.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Rt("Manage Columns")))),!je&&_&&!De&&!Be&&!H&&qe&&i().createElement("div",{id:"fld17L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},i().createElement(h.ZP,{title:Rt("Migration"),placement:"top"},i().createElement("div",null,i().createElement(M.ncH,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Rt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!H&&qe&&!Be&&!De&&i().createElement("div",{id:"AdminServiceTypeRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{nt?rt(!1):(rt(!0),kt({current:1,pageSize:100}))}},i().createElement(h.ZP,{title:Rt("Table Scroll Data"),placement:"top"},i().createElement("div",{id:"fld17L3TCTableScrollData"},i().createElement(V.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Rt("Table Scroll Data"))),Ne.AccessRights.IsAdd&&!Be&&!De&&!je&&i().createElement(c.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},i().createElement("div",{id:"fld12L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){qe||(xe({type:"Add",payload:!0}),xe({type:"Add",payload:!0})),be.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Zt({current:1,pageSize:100},ke,"DraftServiceTypeID"),$e(!0),xe({type:"IsDraft",payload:!0}),ge(!1),et(!0),Se(!1),we(!1)}),500)):(Zt({current:1,pageSize:100},ke,"DraftServiceTypeID"),$e(!0),xe({type:"IsDraft",payload:!0}),ge(!1),et(!0),Se(!1),we(!1)),document.getElementById("AdminLocalityRegistryFilterDiv").style.width="0%",document.getElementById("AdminLocalityRegistryTabDiv").style.width="100%",document.getElementById("AdminLocalityRegistryFilterDiv").style.display="none"}else be.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},i().createElement(h.ZP,{title:"Drafts",placement:"top"},i().createElement("div",null,i().createElement(F.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:qe?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))))):""),De||Ae||Be||je?null:i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Be||je?null:i().createElement("div",null,qe&&i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{id:"fld17L3TCListView",className:Xe?"buttonList":"buttonGrid",onClick:()=>{et(!0),It(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(x.umT,null)),i().createElement("span",null,"List")),i().createElement("div",{id:"fld17L3TCGridView",className:Xe||Et?"buttonGrid":"buttonList",onClick:()=>{et(!1),It(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(N.aCJ,null)),i().createElement("span",null,"Card")),i().createElement("div",{className:Et?"buttonList":"buttonGrid",id:"fld17L3TCTileView",onClick:()=>{It(!0),et(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(R.f_H,null)),i().createElement("span",null,"Tile")))))),De||Ae||Be?null:qe?nt?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(S.Z,{count:ct,color:"primary",page:yt.current,onChange:(e,t)=>{ut({current:t,pageSize:yt.pageSize}),ot(t),kt({current:t,pageSize:yt.pageSize})}}),i().createElement("div",null,i().createElement(E.Z,{value:yt.pageSize,frmctrlid:"fld17L3TCSelectPagination",onChange:e=>{ut({current:1,pageSize:e.target.value}),kt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),qe&&i().createElement("p",{className:"per-page"},"/ per page Of (",mt,")")):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(S.Z,{count:j,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),je)Zt({current:t,pageSize:X.pageSize},me,"DraftServiceTypeID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ye.length>0?Lt(ye,{current:t,pageSize:X.pageSize}):Zt({current:t,pageSize:X.pageSize},me,"ServiceTypeID")}}}),i().createElement("div",null,i().createElement(E.Z,{value:X.pageSize,frmctrlid:"fld17L3TCSelectPagination",onChange:e=>{ee({current:1,pageSize:e.target.value}),je?Zt({current:1,pageSize:e.target.value},Ze,"DraftServiceTypeID","DraftPage"):ye.length>0?Lt(ye,{current:1,pageSize:e.target.value}):Zt({current:1,pageSize:e.target.value},Ze,"ServiceTypeID")},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),qe&&i().createElement("p",{className:"per-page "},"/ per page Of (",W,") ")):i().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},i().createElement(f.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(W),page:tt,onPageChange:(e,t)=>{at(t),Zt({current:t+1,pageSize:X.pageSize},ke,je?"DraftServiceTypeID":"ServiceTypeID",je&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{at(0)}}))),i().createElement("div",{id:"AdminServiceTypeRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},i().createElement("div",{id:"AdminServiceTypeRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&i().createElement(p.default,{CloseBtnClk:()=>zt(),searchData:e=>{pe(e||bt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));setFilteredObj(t)},formID:G,data:()=>{},visibleData:()=>{},token:Ne.token[0],userGrid:At,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Pt()}}),ve&&!De&&!Ae&&i().createElement(T.Z,{frmctrlid:"fld17L3TCTableColumnOrder",loading:e=>be.loading(e),AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:ve,userID:K,userGridViewFormID:G,saved:(e,t)=>{e&&Ot(t),wt(t)},Token:Ne.token[0]})),i().createElement("div",{id:"AdminServiceTypeRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},Xe&&qe?i().createElement("div",null,De&&i().createElement(ListComponent,{onLoad:De,data:(e,t)=>{!function(e,t){xe({type:"editData",payload:[e]}),oe(!1),document.getElementById("AdminServiceTypeRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("AdminServiceTypeRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("AdminServiceTypeRegistry-ShareView").classList.remove("ViewBtnAct"),Se(!1),we(!1),Pe(!1);let a={ServiceTypCode:"",ServiceTypeName:""};Le(a),Zt({current:1,pageSize:100},a,"ServiceTypeID")}(e)},json:Oe}),!De&&!Be&&i().createElement("div",null,nt?i().createElement(z.Z,{data:st,expanded:()=>{},edit:(e,t,a)=>{Mt(e,t,a),be.ExpandTable(!1),xe({type:"EditIsDraft",payload:t}),xe({type:"EditOpen",payload:!1})}}):i().createElement(O.Z,{ref:Z,frmctrlid:"tblcs_17_L3_",id:"AdminServiceTypeRegistry-MainTable",headerdata:qe?Te:Te.slice(0,3),tablesearchparams:lt,searchvalue:e=>{it(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Nt(t),ee({current:1,pageSize:10}),Zt({current:1,pageSize:10},t,je?"DraftServiceTypeID":"ServiceTypeID",je&&"DraftPage")},bodydata:se,ondrag:(e,t)=>{Mt(t,je,!0)},bodyitem:qe?he:he.slice(0,3),visibleitem:qe?Te:Te.slice(0,3),isdraft:je,IsView:!0,tableExp:qe,tableID:G,accessrights:Ne.AccessRights,expanded:()=>{},edit:(t,a,l)=>{e.Dialogview?be.select(t):Mt(t,a,l)},viewtoggle:be.viewtoggle,isexpanded:!H||qe,action:e.Dialogview?"none":"",ViewComp:(e,t)=>{if(e)return i().createElement(k.ZP,{loading:e=>be.loading(e),alertmsg:e=>be.alert(e),ConfirmAlert:e=>{be.ConfirmAlert(e)},data:Ne.editData,AddOpen:Ne.EditOpen,parentId:t.ServiceTypeIDPK,IsDraft:Ne.EditIsDraft,tableview:e})}}))):i().createElement(A.Z,{frmctrlid:"fld17L3TCExpandedCardDual",data:se,id:"AdminServiceTypeRegistry",title:"ServiceTypeName",cardTile:!!Et,visibleitem:Te,gridCountmdlg:qe?4:12,gridCountxssm:qe?6:12,onDoubleClick:(e,t)=>{H?be.select(e):("edit"==t?(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:je}),xe({type:"ShowDetail",payload:!1}),be.ExpandTable(!1)):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:je}),xe({type:"ShowDetail",payload:!0}),be.ExpandTable(!1),be.viewtoggle()),qe&&(oe(!1),ge(!1)))}})))))))})),G=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),c=(0,l.useRef)(null),o=(0,l.useRef)(null),[p]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[u,v]=L()("17"),[I,T]=(0,l.useState)(!1),[f,h]=(0,l.useState)(0),[C,A]=(0,l.useState)(0),[b,N]=(0,l.useState)({current:1,pageSize:100}),[x,F]=(0,l.useState)(""),[R,B]=(0,l.useState)([]),[k,Z]=(0,l.useState)({val:"",column:""}),[M,z]=(0,l.useState)([]),[V,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)(""),[U,H]=(0,l.useState)([]),[Y,j]=(0,l.useState)([]),[$,W]=(0,l.useState)([]),J=(0,l.useContext)(D.AdminServiceTypeRegistryContext),{cstate:q,cdispatch:Q}=(0,D.ContextApi)();let X={ServiceTypeIDPK:"",ServiceTypCode:"",ServiceTypeName:"",IsDefault:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ie,ne]=(0,l.useState)(!1),[re,se]=(0,l.useState)(!0),[de,ce]=(0,l.useState)(0),[oe,me]=(0,l.useState)({ServiceTypCode:"",ServiceTypeName:""}),[pe,ye]=(0,l.useState)([]),[ue,ve]=(0,l.useState)([]),[ge,De]=(0,l.useState)([]),[Se,Ee]=(0,l.useState)(!1),[Ie,Te]=(0,l.useState)("");let fe=(0,w.Z)();const he=[{columns:pe,data:x}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...i)}),me(a.reduce(((e,t)=>(e[t]="",e)),{})),H(e),j(t),W(a),ye(l),ve(a)}(u)}),[u]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ce()},viewrecord:e=>{M.map(((t,a)=>{t.ServiceTypeIDPK==e&&Q({type:"editData",payload:[M[a]]})}))},DialogTableProps:e=>{T(e)},searchData:(t,a,l)=>{J.loading(!0),c.current&&c.current.clearItem(),Te(l),N({current:1,pageSize:10}),X=e.ApiParamType.params,Ae({current:1,pageSize:100},a,l),o.current&&o.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&T(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ce=()=>{q.IsDraft?Ae(b,X,"DraftServiceTypeID"):Ae(b,X,"ServiceTypeID")},Ae=async(t,a,l,i)=>{if(q.token[0]){if(J.loading(!0),"DraftPage"!==i&&te(q.IsDraft),await Te((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],i=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=i[e];a=t}_(a);let n=g.v.Api+`${e.ApiType}/`,r={data:{p1:a&&a.ServiceTypeIDPK?a.ServiceTypeIDPK:null,p2:a&&a.ServiceTypCode?a.ServiceTypCode:null,p3:a&&a.ServiceTypeName?a.ServiceTypeName:null,p4:null,p5:"DraftServiceTypeID"==l?"1":"0",p6:null,p7:a&&a.IsActive,p8:null,p9:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p10:a&&a.CreatedTtm?a.CreatedTtm:null,p11:a&&a.CreatedTtmType?a.CreatedTtmType:null,p12:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p13:null,p14:t.current,p15:t.pageSize,p16:l,p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}};(0,m.Z)(n,r,q.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,A(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?h(Math.ceil(a)):20==t.pageSize?h(Math.ceil(a/2)):50==t.pageSize?h(Math.ceil(a/5)):100==t.pageSize&&h(Math.ceil(a/10)),z(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(a="There is no Record Found",fe?.[a]?fe[a]:a)]}),z([]),h(0),A(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ne(q.ExpandTableValue)}),[q.ExpandTableValue]),i().createElement("div",null,i().createElement(r.Z,{expanded:ae,onChange:()=>()=>{le(ie)}},i().createElement(d.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},i().createElement("div",{style:{width:"60%"}},i().createElement("div",{className:"displayFlex"},i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("p",{className:"ListP"}," ",e.CardName," (",C,")")))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"AdminServiceTypeRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},i().createElement(y.Z,{formctrlidprint:"fld17L3TCExportPrint",formctrlidexport:"fld17L3TCExportTable",formctrlidrefresh:"fld17L3TCExportRefresh",title:"17",data:R,exportData:he,Items:ue,columnIndex:pe,triggerApi:t=>{((t,l,i)=>{if(0===C)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let n=g.v.Api+`${e.ApiType}/`,r={data:{p1:t||(t&&t.ServiceTypeIDPK?t.ServiceTypeIDPK:null),p2:t&&t.ServiceTypCode?t.ServiceTypCode:null,p3:t&&t.ServiceTypeName?t.ServiceTypeName:null,p4:null,p5:ee?"1":"0",p6:null,p7:t&&t.IsActive,p8:null,p9:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p10:t&&t.CreatedTtm?t.CreatedTtm:null,p11:t&&t.CreatedTtmType?t.CreatedTtmType:null,p12:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p13:null,p14:1,p15:C,p16:Ie,p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}};var s;J.loading(!1),J.alert({open:!0,color:"success",message:[`${s="17",q.language?.[s]?q.language[s]:s} - ${i.alertName}, Once you have downloaded the file, you will be notified`]}),(0,m.Z)(n,r,q.token[0],i).then((e=>{(0,P.PDF_Excel_Generate)(e,J,ue,F,a,i)}))})(G,k.column,t)},TableVisibleItem:Y,userGridViewFormID:"17",TableTotalCount:C,Refresh:()=>{Ae({current:1,pageSize:100},G,Ie),N({current:1,pageSize:100}),o.current&&o.current.clearItem(),c.current&&c.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:a})),i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(S.Z,{count:f,siblingCount:0,color:"primary",page:b.current,onChange:(e,t)=>{if(N({current:t,pageSize:b.pageSize}),ee)Ae({current:t,pageSize:b.pageSize},G,"DraftServiceTypeID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Ae({current:t,pageSize:b.pageSize},G,"ServiceTypeID")}}}),i().createElement("div",null,i().createElement(E.Z,{value:b.pageSize,onChange:e=>{N({current:1,pageSize:e.target.value}),Ae({current:1,pageSize:e.target.value},G,"ServiceTypeID")},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),ie&&i().createElement("p",{className:"per-page"},"/ per page Of (",C,")"))),i().createElement("div",{id:"AdminServiceTypeRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},i().createElement("div",{id:"AdminServiceTypeRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?i().createElement(MUITableMulti,{ref:o,type:e.viewtype,id:"AdminServiceTypeRegistry",headerdata:Y,tablesearchparams:oe,searchvalue:e=>{me(e),N({current:1,pageSize:100}),Ae({current:1,pageSize:100},e,ee?"DraftServiceTypeID":"ServiceTypeID",ee&&"DraftPage")},bodydata:M,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:Y,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?J.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?J.edit(t,a,l):J.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{z(e)},color:!0,isexpanded:!1}):i().createElement(O.Z,{frmctrlid:"tblcs_17_L3_",ref:c,id:"AdminServiceTypeRegistryTable",type:e.viewtype,headerdata:Y,tablesearchparams:oe,searchvalue:e=>{let t={...G,...e};me(e),_(t),N({current:1,pageSize:100}),Ae(b,t,Ie)},bodydata:M,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:Y,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?J.select(t):(e.editdata(t,"view"),J.edit(t,a,1!=t.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},6933:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k}),a(95866),a(99058);var l=a(92950),i=a.n(l),n=a(80366),r=a(51673),s=a(282),d=a(868),c=a(78513),o=a(14439),m=a(27848),p=a(40900),y=a(64059),u=a(24038),v=a(8981),g=a(47516),D=a(86893),S=a(53610),E=a(33681),I=a(63163),T=(a(35131),a(61956),a(93657)),f=a(53375),h=a(52663),C=a(66083),A=a(29525),w=a(66856),b=a(39803),N=a(99940),x=a(17149),F=a(62810),R=a(30553),B=a(92381),P=a(25108);const k=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[k,Z]=(0,l.useState)([]),[L,O]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[M,z]=(0,l.useState)(""),[V,K]=(0,l.useState)({}),[G,_]=(0,l.useState)(!0),[U,H]=(0,l.useState)(!1),{cstate:Y,cdispatch:j}=e.ContextApi?e.ContextApi:(0,S.ContextApi)(),[$,W]=(0,l.useState)(1),[J,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[ie,ne]=(0,l.useState)(!0),[re,se]=(0,l.useState)(!1),[de,ce]=(0,l.useState)(""),[oe,me]=(0,l.useState)(!1),[pe,ye]=(0,l.useState)(!1),[ue,ve]=(0,l.useState)(!1),[ge,De]=(0,l.useState)(""),Se=(0,l.useRef)(null),[Ee,Ie]=(0,l.useState)({});let Te=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let he=(0,v.Z)();const Ce=e=>he[e]?he[e]:e,Ae=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Te]];function we(){K({}),te({}),e.searchData({}),H(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Se.current&&Se.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{we()}})));const be=async(t,a,l,i)=>{X(!0);try{Se.current&&Se.current.abort();const n=new AbortController;Se.current=n;let s="",d=[],c={};await O((e=>(s=e.name,e))),await K((e=>(d=e,e))),await te((e=>(c=e,e)));const o=p.v.Api+"FP17S3/",m={data:{p1:"ServiceTypeIDPK"==a?null:await Re(),p2:"ServiceTypCode"==s&&l.length>0?"%"+l+"%":null,p3:"ServiceTypeName"==s&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:"p9"==s&&l.length>0?l:null,p10:null,p11:null,p12:null,p13:null,p14:i||1,p15:10,p16:t,p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}},y=await(0,r.Z)(o,m,e.token,"",n.signal);if(!y)return!1;const u=y.Output.status.code,v=y.Output.data;if("200"===u)if(v.length>0)if(1===i){let e=xe(v,s),t=Ne(e,V[s],a);Z(t),q(t.length>0?t[0].TotalCount:V[s].length)}else{let e=[...k,...v],t=xe(e,s);q(t.length<10?t.length:v[0].TotalCount),Z(xe(t,s))}else M.length>0&&Z([]),q(k.length);else e.alertmsg("error",[y.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Ne=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),xe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a)),Fe=async t=>{let a="",l={};await K((e=>(a=e,e)));let i=[...ae],n=[];for(let e of i){let t=a[e]?.map((e=>e.ServiceTypeIDPK)).toString();t&&n.push(t)}await te((e=>(l=e,e)));let r={ServiceTypeIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:""};"saveFav"==t?ke("save",r):(e.searchData(r),H(!1))};async function Re(){let e={};await K((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.ServiceTypeIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,i,n,r){let s={[i]:{From:t,Type:l,To:a}},d={};te((e=>({...e,...s})));const c={...V};let o=[...ae],m=[];for(let e of o){let t=c[e]?.map((e=>e.ServiceTypeIDPK)).toString();t&&m.push(t)}await te((e=>(d=e,e)));let p={ServiceTypeIDPK:m?[...new Set(m)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null};e.searchData(p)}function Pe(){return i().createElement(y.Z,{frmctrlid:"fld17L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{Be(e,t,a,L.name,l)},keyboardback:()=>{H(!1),O({idpk:"",name:"",type:"",fieldidpk:""})},title:Ce(L.name),fieldname:L.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,B.Z)(t,e.formID,a,de).then((e=>{const t=e.Output.data;De(t)}))};return i().createElement("div",null,i().createElement(h.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:oe},i().createElement(C.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),i().createElement(A.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(b.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:de,onChange:e=>ce(e.target.value),fullWidth:!0})),i().createElement(R.Z,{style:{color:"#337ab7"},control:i().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(F.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ye(e.target.checked)}),label:"Quick"}),i().createElement(R.Z,{style:{color:"#337ab7"},control:i().createElement(N.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(F.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>ve(e.target.checked)}),label:"Dashboard"})),i().createElement(w.Z,null,i().createElement(s.Z,{onClick:()=>{Fe("saveFav"),me(!1)},color:"primary"},"Save"))),U?"Created Ttm"===L.name||L.name.includes("Date")?i().createElement(Pe,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(o.Z,null,i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},Ae(L.idpk)," (",k.length,"/",J,")")),i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(d.ZP,{title:Ce("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(n.Z,{id:"fld17L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),O({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),V[L.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(s.Z,{frmctrlid:"fld17L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,P.log("clear fewItems",e),t))),e[L.name]=[],be(L.type,L.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},Ce("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},G?i().createElement(d.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):i().createElement(d.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),i().createElement("ul",null,V[L.name]&&V[L.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:G?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[L.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[L.name],onClick:()=>(async(e,t)=>{W(1);let a=V[L.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[L.name]=a,K(l),Z((t=>[e,...t]))})(e)},i().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(u.Z,{frmctrlid:"fld17L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:M,placeholder:Ce("Enter ")+" "+Ae(L.idpk),onChange:e=>{z(e),be(L.type,L.fieldidpk,e,1,Re())}})),i().createElement("div",{id:"fld17L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:Fe},i().createElement(d.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(E.Z,{color:"secondary"})),i().createElement("div",{id:"fld17L3TFCScrollYDefault",className:"height65 scrollYDefault"},k.length>0&&k.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[L.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let i=l[L.name];t[L.name]=i?[...a,...i]:a,l={...l,...t},K(l),Z((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(c.Z,{className:"DotIcon"}),i().createElement("span",null,e[L.name])))),k.length+0<J&&k.length>0&&i().createElement("div",{id:"fld17L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W($+1),be(L.type,L.fieldidpk,"",$+1)}},i().createElement("p",null," more... ")),0===k.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:p.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(g.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",Ce("Filter")," ",de.length>0&&`(${de})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(d.ZP,{title:"Favorite List",placement:"top"},re?i().createElement(n.Z,{className:"favlisticon",onClick:()=>{se(!1),De(""),we()}}):i().createElement(T.Z,{className:"favlisticon",onClick:()=>{se(!0),ke("select"),we()}})),Object.keys(V).length>0&&i().createElement(d.ZP,{title:"Save Favorites",placement:"top"},i().createElement(f.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),i().createElement(d.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{we()},id:"fld17L3TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},Ce("Clear")))),i().createElement(d.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld17L3TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},Ce("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld17L3TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),z(""),Z([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"ServiceTypeIDPK";O({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterServiceTypeID",fieldidpk:t}),be(e.IsForeign?"Filter"+e.FieldName:"FilterServiceTypeID",t,"",1,Re())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,Ae(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,Ae(e.AdminUserGridViewIDPK)),i().createElement(I.Z,{checked:"1"==ie,onChange:t=>{ne(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,Ae(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,V[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},V[a][0][a]),V[a].length>1&&i().createElement("span",{className:"RoundedDivName"},V[a][1][a]),V[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(V[a].length-2))))));var a})),ge&&ge.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{be("FilterServiceTypeID",a),Fe("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}))},90712:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(92950),i=a.n(l),n=a(45237),r=(a(37148),a(3212)),s=a(29800),d=a(14439),c=a(27848),o=(a(10966),a(36939)),m=a(61201),p=a(50743),y=a(53610),u=(a(21392),a(51673)),v=a(40900),g=a(26537),D=(a(24038),a(74013),a(77366),a(868)),S=(a(97829),a(8981)),E=(a(63163),a(1695),a(79117),a(65197)),I=(a(35131),a(61956),a(51649)),T=(a(61924),a(80471)),f=a(47516);const h=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[h,C]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[A,w]=(0,l.useState)(!0),[b,N]=(0,l.useState)(e.showDetail),[x,F]=(0,l.useState)(""),[R,B]=i().useState(!1),[P,k]=i().useState(""),[Z,L]=i().useState(!1),O=(0,l.useContext)(y.AdminServiceTypeRegistryContext),{cstate:M,cdispatch:z}=(0,y.ContextApi)(),[V,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)(""),[U,H]=(0,l.useState)(""),[Y,j]=(0,l.useState)("");let $=(0,S.Z)();(0,l.useEffect)((()=>{M.editData.length>0&&(C(M.editData),B(!1),z({type:"PrimaryId",payload:M.editData[0].ServiceTypeIDPK}))}),[M.editData]),(0,l.useEffect)((()=>{M.showTableview&&j(M.showTableview)}),[M.showTableview]),(0,l.useEffect)((()=>{w(M.ExpandDetailValue)}),[M.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{w(e),B(null)},viewtoggle:()=>{B(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=v.v.Api+"FP17S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:1,p15:10,p16:M.IsDraft?"DraftServiceTypeID":"ServiceTypeID",p17:null,p18:null,p19:localStorage.getItem("UserGroupID"),p20:localStorage.getItem("userid")}};(0,g.Z)(0).then((e=>{(0,u.Z)(l,i,e).then((e=>{O.loading(!1),"200"==e.Output.status.code&&C(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===R&&a.current.clear()}})));const W=e=>$?.[e]?$?.[e]:e,J=e=>M.language?.[e]?M.language[e]:e;function q(e,t){}const Q=(e,t)=>(a,l)=>{k(Z?Object.assign(...h.filter((e=>e.ServiceTypeIDPK==t)).map((e=>e))):M.editData),B(!l&&e)};return i().createElement("div",{className:"SubContent"},i().createElement(o.Z,{expanded:A,onChange:()=>()=>{e.expandTable&&w(!A)}},!R&&i().createElement(p.Z,null,i().createElement(d.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("span",{style:{cursor:"pointer"}},i().createElement(I.u1R,{className:"backButtonList",onClick:()=>O.ExpandTable(!0)})),i().createElement("p",{className:"DListP"},M.IsDraft?"Draft ":"",J("AdminServiceTypeRegistry")),M.IsCollapse?!e.viewonly&&i().createElement(D.ZP,{title:"Expand Grid View",placement:"top"},i().createElement("div",{frmctrlid:"fld17L3VCExpandGridView",onClick:()=>{O.ExpandDetail(!0),w(!0)}},i().createElement(f.$4j,{className:"FullSizeIcon1"}))):!e.viewonly&&i().createElement(D.ZP,{title:"Collpase Grid View",placement:"top"},i().createElement("div",{frmctrlid:"fld17L3VCExpandmore1",onClick:()=>{O.ExpandDetail(!1),w(!0)}},i().createElement(T.qNy,{className:"FullSizeIcon2"})))),i().createElement("div",{className:"displayFlex",style:{justifyContent:"flex-end"}},!e.viewonly&&M.AccessRights.IsEdit?i().createElement(i().Fragment,null,"0"==G||null==G?i().createElement(s.Z,{onClick:Q("panel0",""),disabled:!1}):null):M.IsDraft&&M.AccessRights.IsAdd&&i().createElement(s.Z,{onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&M.AccessRights.IsAdd&&i().createElement(r.Z,{className:"L1AddBtnCommon",onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:[]})},disabled:!1}),i().createElement(s.Z,{onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:h})},disabled:!1})))))),i().createElement(m.Z,{style:{display:"block"}},h.map(((e,t)=>i().createElement("div",{key:t},i().createElement(E.Z,{tableName:"AdminServiceTypeRegistry",tableID:17,parentID:e.ServiceTypeIDPK,fldid:"fld17L3VCContainer",OpenSlideComponent:q,index:t,val:e,tf:J,t:W,title:"10.0.0.59-3:08:17 PM-18-7[17]"})))))))}))}}]);