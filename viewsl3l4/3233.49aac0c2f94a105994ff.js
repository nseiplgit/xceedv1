/*! For license information please see 3233.49aac0c2f94a105994ff.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[3233,7164,6408],{45332:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(22122),r=a(81253),i=a(85061),n=a(92950),o=a(86010),s=a(79437),d=a(52543),p=a(83711),u=function(e,t){var a,l,r,n;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,i.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,i.Z)(t.imgFullHeight.split(" ")))):((r=e.classList).remove.apply(r,(0,i.Z)(t.imgFullHeight.split(" "))),(n=e.classList).add.apply(n,(0,i.Z)(t.imgFullWidth.split(" ")))))},c=n.forwardRef((function(e,t){var a=e.children,i=e.classes,d=e.className,c=(e.cols,e.component),m=void 0===c?"li":c,M=(e.rows,(0,r.Z)(e,["children","classes","className","cols","component","rows"])),g=n.useRef(null);return n.useEffect((function(){!function(e,t){e&&(e.complete?u(e,t):e.addEventListener("load",(function(){u(e,t)})))}(g.current,i)})),n.useEffect((function(){var e=(0,s.Z)((function(){u(g.current,i)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[i]),n.createElement(m,(0,l.Z)({className:(0,o.default)(i.root,d),ref:t},M),n.createElement("div",{className:i.tile},n.Children.map(a,(function(e){return n.isValidElement(e)?"img"===e.type||(0,p.Z)(e,["Image"])?n.cloneElement(e,{ref:g}):e:null}))))}));const m=(0,d.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(c)},69685:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(22122),r=a(81253),i=a(92950),n=(a(59864),a(86010)),o=a(52543),s=i.forwardRef((function(e,t){var a=e.cellHeight,o=e.children,s=e.classes,d=e.className,p=e.cols,u=void 0===p?2:p,c=e.component,m=void 0===c?"ul":c,M=e.gap,g=void 0===M?4:M,y=e.rowHeight,D=void 0===y?180:y,I=e.spacing,E=e.style,f=(0,r.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),v=I||g,C=a||D;return i.createElement(m,(0,l.Z)({className:(0,n.default)(s.root,d),ref:t,style:(0,l.Z)({margin:-v/2},E)},f),i.Children.map(o,(function(e){if(!i.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return i.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/u*t,"%"),height:"auto"===C?"auto":C*a+v,padding:v/2},e.props.style)})})))}));const d=(0,o.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(s)},83173:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var i=r(a(92950)),n=(0,l(a(2108)).default)(i.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=n},92448:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var i=r(a(92950)),n=(0,l(a(2108)).default)(i.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=n},93657:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var i=r(a(92950)),n=(0,l(a(2108)).default)(i.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=n},53375:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var i=r(a(92950)),n=(0,l(a(2108)).default)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=n},85984:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var i=r(a(92950)),n=(0,l(a(2108)).default)(i.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=n},92381:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(40900),r=a(26537),i=a(61956),n=a(35131),o=a.n(n),s=a(25108);function d(e,t,a,n){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":r.Z.TokenIDPK,"x-tokenname":r.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return s.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:n,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:o()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:o()().format("YYYY-MM-DD hh:mm:ss")}]};(0,r.Z)(0).then((t=>{(0,i.Z)(e,d,t).then((e=>{200==e[0].status.code?s.log(e,"RES"):s.log("Error")}))}))}}},8687:(e,t,a)=>{function l(e,t,a,l,r,i){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let n=e.Output.data[0];t({type:"IsDraft",payload:a}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:a}),r.ExpandDetail(!1),l?r.AddOpen(n[i],a):t({type:"editData",payload:[n]}),r.loading(!1)}}else r.loading(!1),r.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){r.loading(!1),r.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{m:()=>l})},21969:(e,t,a)=>{a.d(t,{kN:()=>xe,wI:()=>Te,ZP:()=>Pe});var l=a(92950),r=a.n(l),i=(a(95866),a(45237)),n=a(36939),o=a(61201),s=a(51673),d=(a(99058),a(80366)),p=a(282),u=a(868),c=a(78513),m=a(14439),M=a(27848),g=a(40900),y=a(64059),D=a(24038),I=a(8981),E=a(47516),f=a(86893),v=a(33681),C=a(63163),h=a(35131),S=a.n(h),G=a(61956),N=a(93657),w=a(53375),b=a(52663),T=a(66083),x=a(29525),P=a(66856),F=a(39803),A=a(99940),R=a(17149),k=a(62810),B=a(30553),Z=a(92381),L=a(25108);const O=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[i,n]=(0,l.useState)([]),[o,h]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[S,G]=(0,l.useState)(""),[O,z]=(0,l.useState)({}),[K,U]=(0,l.useState)(!0),[V,_]=(0,l.useState)(!1),{cstate:H,cdispatch:Y}=e.ContextApi?e.ContextApi:xe(),[j,$]=(0,l.useState)(1),[W,J]=(0,l.useState)(0),[Q,q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,re]=(0,l.useState)(!0),[ie,ne]=(0,l.useState)(!1),[oe,se]=(0,l.useState)(""),[de,pe]=(0,l.useState)(!1),[ue,ce]=(0,l.useState)(!1),[me,Me]=(0,l.useState)(!1),[ge,ye]=(0,l.useState)(""),De=(0,l.useRef)(null),[Ie,Ee]=(0,l.useState)({});let fe=localStorage.getItem("Language");const ve={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ce=(0,I.Z)();const he=e=>Ce[e]?Ce[e]:e,Se=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[ve[fe]];function Ge(){z({}),ee({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ee(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ge()}})));const Ne=async(t,a,l,r)=>{q(!0);try{De.current&&De.current.abort();const o=new AbortController;De.current=o;let d="",p=[],u={};await h((e=>(d=e.name,e))),await z((e=>(p=e,e))),await ee((e=>(u=e,e)));const c=g.v.Api+"FP841S3/",m={data:{p1:"MatMaterialGroupDetailsIDPK"==a?null:await Fe(),p2:"MatMaterialGroupDetailsCode"==d&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:"MaterialName"!=d&&p.MaterialName?p.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p6:e.parentId?e.parentId:"0",p7:e.Dialogview?"1":null,p8:null,p9:"p9"==d&&l.length>0?l:null,p10:null,p11:null,p12:null,p13:null,p14:"MatProcessTypeName"!=d&&p.MatProcessTypeName?p.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p15:"MatProcessTypeCode"==d&&l.length>0?"%"+l+"%":null,p16:"MatProcessTypeName"==d&&l.length>0?"%"+l+"%":null,p17:"MaterialTypeName"!=d&&p.MaterialTypeName?p.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p18:"MaterialTypeCode"==d&&l.length>0?"%"+l+"%":null,p19:"MaterialTypeName"==d&&l.length>0?"%"+l+"%":null,p20:"MatMainClassName"!=d&&p.MatMainClassName?p.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p21:"MatMainClassCode"==d&&l.length>0?"%"+l+"%":null,p22:"MatMainClassName"==d&&l.length>0?"%"+l+"%":null,p23:"MatSubClassName"!=d&&p.MatSubClassName?p.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p24:"MatSubClassCode"==d&&l.length>0?"%"+l+"%":null,p25:"MatSubClassName"==d&&l.length>0?"%"+l+"%":null,p26:"MatMakeName"!=d&&p.MatMakeName?p.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p27:"MatMakeCode"==d&&l.length>0?"%"+l+"%":null,p28:"MatMakeName"==d&&l.length>0?"%"+l+"%":null,p29:"MatModelName"!=d&&p.MatModelName?p.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p30:"MatModelCode"==d&&l.length>0?"%"+l+"%":null,p31:"MatModelName"==d&&l.length>0?"%"+l+"%":null,p32:"UOMName"!=d&&p.UOMName?p.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p33:"MATUOMCode"==d&&l.length>0?"%"+l+"%":null,p34:"UOMName"==d&&l.length>0?"%"+l+"%":null,p35:"GradeName"!=d&&p.GradeName?p.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p36:"GradeName"==d&&l.length>0?"%"+l+"%":null,p37:"MatGradeCode"==d&&l.length>0?"%"+l+"%":null,p38:"MaterialColorName"!=d&&p.MaterialColorName?p.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p39:"MaterialColorName"==d&&l.length>0?"%"+l+"%":null,p40:"MatMaterialColorCode"==d&&l.length>0?"%"+l+"%":null,p41:"RawMaterialName"!=d&&p.RawMaterialName?p.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p42:"MadeRawMaterialCode"==d&&l.length>0?"%"+l+"%":null,p43:"RawMaterialName"==d&&l.length>0?"%"+l+"%":null,p44:"MaterialSizeName"!=d&&p.MaterialSizeName?p.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p45:"MaterialSizeName"==d&&l.length>0?"%"+l+"%":null,p46:"MatMaterialSizeCode"==d&&l.length>0?"%"+l+"%":null,p47:"MaterialCode"==d&&l.length>0?"%"+l+"%":null,p48:"MaterialName"==d&&l.length>0?"%"+l+"%":null,p49:"MatMaterialGroupCode"==d&&l.length>0?"%"+l+"%":null,p50:"MatMaterialGroupName"==d&&l.length>0?"%"+l+"%":null,p51:r||1,p52:10,p53:t,p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}},M=await(0,s.Z)(c,m,e.token,"",o.signal);if(!M)return!1;const y=M.Output.status.code,D=M.Output.data;if("200"===y)if(D.length>0)if(1===r){let e=be(D,d),t=we(e,O[d],a);n(t),J(t.length>0?t[0].TotalCount:O[d].length)}else{let e=[...i,...D],t=be(e,d);J(t.length<10?t.length:D[0].TotalCount),n(be(t,d))}else S.length>0&&n([]),J(i.length);else e.alertmsg("error",[M.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{q(!1)}},we=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),be=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Te(e){let t=e+"PK",a=Ie[e];if(a){const e=a.flatMap((e=>O[e]?O[e].map((e=>e[t])):[]));return e.toString()}return""}const Pe=async t=>{let a="",l={};await z((e=>(a=e,e)));let r=[...te],i=[];for(let e of r){let t=a[e]?.map((e=>e.MatMaterialGroupDetailsIDPK)).toString();t&&i.push(t)}await ee((e=>(l=e,e)));let n={MatMaterialGroupDetailsIDPK:i?[...new Set(i)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:Te("MaterialID"),MatMaterialGroupID:Te("MatMaterialGroupID")};"saveFav"==t?ke("save",n):(e.searchData(n),_(!1))};async function Fe(){let e={};await z((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.MatMaterialGroupDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ae(t,a,l,r,i,n){let o={[r]:{From:t,Type:l,To:a}},s={};ee((e=>({...e,...o})));const d={...O};let p=[...te],u=[];for(let e of p){let t=d[e]?.map((e=>e.MatMaterialGroupDetailsIDPK)).toString();t&&u.push(t)}await ee((e=>(s=e,e)));let c={MatMaterialGroupDetailsIDPK:u?[...new Set(u)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?i:null,MaterialID:O.MaterialName?.map((e=>e.MaterialIDPK)).toString(),MatMaterialGroupID:O.MatMaterialGroupName?.map((e=>e.MatMaterialGroupIDPK)).toString()};e.searchData(c)}function Re(){return r().createElement(y.Z,{frmctrlid:"fld841L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Ae(e,t,a,o.name,l)},keyboardback:()=>{_(!1),h({idpk:"",name:"",type:"",fieldidpk:""})},title:he(o.name),fieldname:o.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,Z.Z)(t,e.formID,a,oe).then((e=>{const t=e.Output.data;ye(t)}))};return r().createElement("div",null,r().createElement(b.Z,{onClose:()=>pe(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},r().createElement(T.Z,{id:"customized-dialog-title",onClose:()=>pe(!1)},"Add Favorite"),r().createElement(x.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(F.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>se(e.target.value),fullWidth:!0})),r().createElement(B.Z,{style:{color:"#337ab7"},control:r().createElement(A.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(R.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>ce(e.target.checked)}),label:"Quick"}),r().createElement(B.Z,{style:{color:"#337ab7"},control:r().createElement(A.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(R.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>Me(e.target.checked)}),label:"Dashboard"})),r().createElement(P.Z,null,r().createElement(p.Z,{onClick:()=>{Pe("saveFav"),pe(!1)},color:"primary"},"Save"))),V?"Created Ttm"===o.name||o.name.includes("Date")?r().createElement(Re,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(m.Z,null,r().createElement(M.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Se(o.idpk)," (",i.length,"/",W,")")),r().createElement(M.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(u.ZP,{title:he("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(d.Z,{id:"fld841L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),h({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),O[o.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(p.Z,{frmctrlid:"fld841L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await z((t=>(e=t,L.log("clear fewItems",e),t))),e[o.name]=[],Ne(o.type,o.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},K?r().createElement(u.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(f.D7o,{className:"FilterMaximizeIcon",onClick:()=>{U(!1)}}))):r().createElement(u.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(f.dOw,{className:"FilterMaximizeIcon",onClick:()=>{U(!0)}})))),r().createElement("ul",null,O[o.name]&&O[o.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[o.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{$(1);let a=O[o.name].filter((t=>t!=e)),l={};await z((e=>(l=e,e))),l[o.name]=a,z(l),n((t=>[e,...t]))})(e)},r().createElement(d.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(D.Z,{frmctrlid:"fld841L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:he("Enter ")+" "+Se(o.idpk),onChange:e=>{G(e),Ne(o.type,o.fieldidpk,e,1,Fe())}})),r().createElement("div",{id:"fld841L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Pe},r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(p.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(v.Z,{color:"secondary"})),r().createElement("div",{id:"fld841L1TFCScrollYDefault",className:"height65 scrollYDefault"},i.length>0&&i.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await z((e=>(l=e,e)));let r=l[o.name];t[o.name]=r?[...a,...r]:a,l={...l,...t},z(l),n((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(c.Z,{className:"DotIcon"}),r().createElement("span",null,e[o.name])))),i.length+0<W&&i.length>0&&r().createElement("div",{id:"fld841L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(j+1),Ne(o.type,o.fieldidpk,"",j+1)}},r().createElement("p",null," more... ")),0===i.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:g.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(E.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",oe.length>0&&`(${oe})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(u.ZP,{title:"Favorite List",placement:"top"},ie?r().createElement(d.Z,{className:"favlisticon",onClick:()=>{ne(!1),ye(""),Ge()}}):r().createElement(N.Z,{className:"favlisticon",onClick:()=>{ne(!0),ke("select"),Ge()}})),Object.keys(O).length>0&&r().createElement(u.ZP,{title:"Save Favorites",placement:"top"},r().createElement(w.Z,{className:"favlisticon",onClick:()=>{pe(!0)}})),r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(p.Z,{className:"ColumnApplyButton",onClick:()=>{Ge()},id:"fld841L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(p.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld841L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld841L1TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),G(""),n([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"MatMaterialGroupDetailsIDPK";h({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMatMaterialGroupDetailsID",fieldidpk:t}),Ne(e.IsForeign?"Filter"+e.FieldName:"FilterMatMaterialGroupDetailsID",t,"",1,Fe())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Se(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Se(e.AdminUserGridViewIDPK)),r().createElement(C.Z,{checked:"1"==le,onChange:t=>{re(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Se(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,O[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},O[a][0][a]),O[a].length>1&&r().createElement("span",{className:"RoundedDivName"},O[a][1][a]),O[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(O[a].length-2))))));var a})),ge&&ge.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ne("FilterMatMaterialGroupDetailsID",a),Pe("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));var z=a(54180),K=a(43031),U=a(85639),V=a(110),_=a(5109),H=a(88995),Y=a(50743),j=a(61657),$=a(51209),W=a(53854),J=a(5434),Q=a(83817),q=a(39327),X=a(3212),ee=a(93521),te=(a(79117),a(71168)),ae=a.n(te),le=a(65107),re=a(94986),ie=a(15999);a(11557),window.clickFilter="";const ne=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),p=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,i.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("841"),[M,y]=(0,l.useState)(!1),[v,C]=(0,l.useState)(!1),[h,S]=(0,l.useState)(0),[G,N]=(0,l.useState)(0),[w,b]=(0,l.useState)(0),[T,x]=(0,l.useState)(0),[P,F]=(0,l.useState)({current:1,pageSize:100}),[A,R]=(0,l.useState)(""),[k,B]=(0,l.useState)([]),[Z,L]=(0,l.useState)({val:"",column:""}),[te,ne]=(0,l.useState)([]),[oe,se]=(0,l.useState)(!1),[de,pe]=(0,l.useState)(""),[ue,ce]=(0,l.useState)(""),[me,Me]=(0,l.useState)(!1),[ge,ye]=(0,l.useState)([]),[De,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[ve,Ce]=(0,l.useState)({children:[{name:"MatMaterialGroupDetails",children:[]}]}),[he,Se]=(0,l.useState)(!1),Ge=(0,l.useContext)(e.context?e.context:Te),{cstate:Ne,cdispatch:we}=e.ContextApi?e.ContextApi:xe();let be={MatMaterialGroupDetailsIDPK:"",MatMaterialGroupDetailsCode:"",IsDraft:"",Remarks:"",MaterialID:"",MatMaterialGroupID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",MatMaterialGroupCode:"",MatMaterialGroupName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Pe,Fe]=(0,l.useState)(be),[Ae,Re]=(0,l.useState)(be),[ke,Be]=(0,l.useState)(!1),[Ze,Le]=(0,l.useState)(!0),[Oe,ze]=(0,l.useState)(!1),[Ke,Ue]=(0,l.useState)(!0),[Ve,_e]=(0,l.useState)({MaterialName:"",MatMaterialGroupDetailsCode:"",MatMaterialGroupName:""}),[He,Ye]=(0,l.useState)(!1),[je,$e]=(0,l.useState)([]),[We,Je]=(0,l.useState)(0),[Qe,qe]=(0,l.useState)(0),[Xe,et]=(0,l.useState)({current:1,pageSize:10}),[tt,at]=(0,l.useState)([]),[lt,rt]=(0,l.useState)([]),[it,nt]=(0,l.useState)(!1),[ot,st]=(0,l.useState)(!1),[dt,pt]=(0,l.useState)(!1),[ut,ct]=(0,l.useState)(""),[mt,Mt]=ae()("841"),[gt,yt]=(0,l.useState)({}),Dt=[{columns:tt,data:A}];let It=(0,I.Z)();const Et=e=>It[e]?It[e]:e,ft=e=>Ne.language?.[e]?Ne.language[e]:e;(0,l.useEffect)((()=>{wt(mt)}),[mt]),(0,l.useEffect)((()=>{Ne.token.length>0&&(e.parentId?Gt(P,be,"MatMaterialGroupDetailsID"):ne([]))}),[e.parentId]),(0,l.useEffect)((()=>{!he&&e.parentId?Gt(P,de,"MatMaterialGroupDetailsID"):he&&Re(de)}),[de]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{vt(e)},tableRefresh:()=>{Gt(P,be,"MatMaterialGroupDetailsID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{pt(!0===e)}})));const vt=e=>{""==e?Gt(P,be,ke?"DraftMatMaterialGroupDetailsID":"MatMaterialGroupDetailsID",ke&&"DraftPage"):Nt(e,{current:1,pageSize:100}),ce(e)};function Ct(t){Ge.loading(!0);let a=g.v.Api+"FP841S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(a,l,Ne.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,qe(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Je(Math.ceil(a)):20==t.pageSize?Je(Math.ceil(a/2)):50==t.pageSize?Je(Math.ceil(a/5)):100==t.pageSize&&Je(Math.ceil(a/10)),$e(e.Output.data),Ge.loading(!1)}}))}function ht(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:ke}),we({type:"ShowDetail",payload:!0}),Ge.Expanded(!0),Oe&&Me(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(C(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Nt(e.searchsafaritext,{current:P.current,pageSize:P.pageSize})}),[e.searchsafaritext]);const St=()=>{Ge.EditClose(!0),oe?(document.getElementById("MatMaterialGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MatMaterialGroupDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MatMaterialGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),Ke?(v||(document.getElementById("MatMaterialGroupDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MatMaterialGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatMaterialGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MatMaterialGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MatMaterialGroupDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MatMaterialGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),document.getElementById("MatMaterialGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Me(!1),window.clickFilter=!oe},Gt=(t,a,l,r,i,n)=>{Ge.loading(!0),"DraftPage"!==r&&Be(Ne.IsDraft);let o=g.v.Api+"FP841S3/",d={data:{p1:i||(a&&a.MatMaterialGroupDetailsIDPK?a.MatMaterialGroupDetailsIDPK:null),p2:a&&a.MatMaterialGroupDetailsCode?a.MatMaterialGroupDetailsCode:null,p3:"DraftMatMaterialGroupDetailsID"==l?"1":"0",p4:null,p5:a&&a.MaterialID?a.MaterialID:null,p6:e.parentId?Number(e.parentId):0,p7:a&&a.IsActive,p8:null,p9:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p10:a&&a.CreatedTtm?a.CreatedTtm:null,p11:a&&a.CreatedTtmType?a.CreatedTtmType:null,p12:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p13:null,p14:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p15:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p16:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p17:a&&a.MaterialTypeID?a.MaterialTypeID:null,p18:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p19:a&&a.MaterialTypeName?a.MaterialTypeName:null,p20:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p21:a&&a.MatMainClassCode?a.MatMainClassCode:null,p22:a&&a.MatMainClassName?a.MatMainClassName:null,p23:a&&a.MatSubClassID?a.MatSubClassID:null,p24:a&&a.MatSubClassCode?a.MatSubClassCode:null,p25:a&&a.MatSubClassName?a.MatSubClassName:null,p26:a&&a.MaterialMakeID?a.MaterialMakeID:null,p27:a&&a.MatMakeCode?a.MatMakeCode:null,p28:a&&a.MatMakeName?a.MatMakeName:null,p29:a&&a.MaterialModelID?a.MaterialModelID:null,p30:a&&a.MatModelCode?a.MatModelCode:null,p31:a&&a.MatModelName?a.MatModelName:null,p32:a&&a.MATUOMID?a.MATUOMID:null,p33:a&&a.MATUOMCode?a.MATUOMCode:null,p34:a&&a.UOMName?a.UOMName:null,p35:a&&a.MatGradeID?a.MatGradeID:null,p36:a&&a.GradeName?a.GradeName:null,p37:a&&a.MatGradeCode?a.MatGradeCode:null,p38:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p39:a&&a.MaterialColorName?a.MaterialColorName:null,p40:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p41:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p42:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p43:a&&a.RawMaterialName?a.RawMaterialName:null,p44:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p45:a&&a.MaterialSizeName?a.MaterialSizeName:null,p46:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p47:a&&a.MaterialCode?a.MaterialCode:null,p48:a&&a.MaterialName?a.MaterialName:null,p49:a&&a.MatMaterialGroupCode?a.MatMaterialGroupCode:null,p50:a&&a.MatMaterialGroupName?a.MatMaterialGroupName:null,p51:i?1:t.current,p52:t.pageSize,p53:l,p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}};(0,s.Z)(o,d,Ne.token[0]).then((o=>{if(i)(0,Q.a)(o,we,r,n,Ge);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,b(o.Output.data[0].TotalCount),x(o.Output.data[0].DraftCnt),we({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&x(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?N(Math.ceil(e)):20==t.pageSize?N(Math.ceil(e/2)):50==t.pageSize?N(Math.ceil(e/5)):100==t.pageSize&&N(Math.ceil(e/10)),ne(o.Output.data),Ge.loading(!1)}e.Dialogview||(document.getElementById("divMatMaterialGroupDetails-Entry").style.height="auto",document.getElementById("divMatMaterialGroupDetails-Entry").style.display="block")}else Ge.loading(!1),"DraftMatMaterialGroupDetailsID"===l?(Ge.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me(!0),Be(!1)):(ne([]),F({current:1,pageSize:10}),N(0),b(0),we({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ge.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ge.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ge.loading(!1)}))};function Nt(t,a){Ge.loading(!0);const l=g.v.Api+"FP841S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:ke?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(l,r,Ne.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?N(Math.ceil(t)):20==a.pageSize?N(Math.ceil(t/2)):50==a.pageSize?N(Math.ceil(t/5)):100==a.pageSize&&N(Math.ceil(t/10)),ne(e.Output.data),Ge.loading(!1)}else ne([]),N(0),b(0),we({type:"count",payload:"0"}),Ge.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ge.loading(!1);else Ge.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ge.loading(!1)}))}function wt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),we({type:"language",payload:Object.assign({},...r)}),_e(a.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),Ie(t),fe(a),at(l),rt(a)}const bt=()=>he?null:r().createElement("div",null,He?r().createElement(re.Z,{data:je,expanded:e=>!v&&Ge.Expanded(e),edit:(e,t,a)=>{v?Ge.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:a}))}}):r().createElement(le.Z,{ref:p,frmctrlid:"tblcs_841_L1_",id:"MatMaterialGroupDetailsTable",headerdata:De,tablesearchparams:Ve,searchvalue:e=>{_e(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};yt(t),F({current:1,pageSize:10}),Gt({current:1,pageSize:10},t,ke?"DraftMatMaterialGroupDetailsID":"MatMaterialGroupDetailsID",ke&&"DraftPage")},bodydata:te,ondrag:ht,bodyitem:Ee,visibleitem:De,isdraft:ke,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Ne.AccessRights,expanded:e=>!v&&Ge.Expanded(e),edit:(e,t,a)=>{v?Ge.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Gt(P,null,t?"DraftMatMaterialGroupDetailsID":"MatMaterialGroupDetailsID",t&&"DraftPage",e[l],a)})),Ge.hideAddBtn(!0))},viewtoggle:Ge.viewtoggle,isexpanded:!v||Oe,tf:ft,action:v?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{ze(Ne.ExpandTableValue)}),[Ne.ExpandTableValue]),r().createElement("div",null,!dt&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld841L1ECSearchBar",className:"searchbar1"},r().createElement(D.Z,{frmctrlid:"fld841L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ue,onChange:e=>{ce(e),Ge.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ue?r().createElement("div",{id:"fld841L1TCCloseIconCommonSearch",onClick:()=>{ce(""),Ge.searchItem("")}},r().createElement(d.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld841L1TCInputSearchIcon"},r().createElement(H.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MatMaterialGroupDetailsgridsearch").focus()}})))),r().createElement("div",null,Ne.AccessRights.IsAdd?r().createElement(X.Z,{className:"SaveBtnCommon",frmctrlid:"fld841L1TCAddBtnIsAdd",onClick:()=>{Ge.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})}}):"")),r().createElement(n.Z,{expanded:Ze,onChange:()=>()=>{Le(Oe)}},e.Dialogview&&r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[841]"},`${ft("841")} (${w})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld841L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(D.Z,{frmctrlid:"fld841L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ue,onChange:e=>{vt(e)}}),r().createElement("div",{className:"search_icon"},ue?r().createElement("div",{id:"fld841L1TCInputCloseIcon",onClick:()=>{vt("")}},r().createElement(d.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld841L1TCInputSearchIcon"},r().createElement(H.Z,{className:"InputSearchIcon"}))))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"MatMaterialGroupDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!ke&&r().createElement("div",{frmctrlid:"fld841L1TCFilterDataIsDraft",id:"MatMaterialGroupDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{St()}},r().createElement(u.ZP,{title:Et("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(E.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Filter Data"))),!v&&!ke&&!he&&r().createElement(z.Z,{formctrlidprint:"fld841L1TCExportPrint",formctrlidexport:"fld841L1TCExportTable",formctrlidrefresh:"fld841L1TCExportRefresh",title:ft("841"),data:k,exportData:Dt,Items:lt,columnIndex:tt,TableVisibleItem:De,userGridViewFormID:m,TableTotalCount:w,triggerApi:t=>{((t,l,r,i,n)=>{if(0===w)return Ge.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ge.loading(!0);let o=g.v.Api+"FP841S3/",d={data:{p1:t&&t.MatMaterialGroupDetailsIDPK?t.MatMaterialGroupDetailsIDPK:null,p2:t&&t.MatMaterialGroupDetailsCode?t.MatMaterialGroupDetailsCode:null,p3:ke?"1":"0",p4:null,p5:t&&t.MaterialID?t.MaterialID:null,p6:e.parentId?Number(e.parentId):0,p7:t&&t.IsActive,p8:null,p9:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p10:t&&t.CreatedTtm?t.CreatedTtm:null,p11:t&&t.CreatedTtmType?t.CreatedTtmType:null,p12:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p13:null,p14:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p15:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p16:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p17:t&&t.MaterialTypeID?t.MaterialTypeID:null,p18:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p19:t&&t.MaterialTypeName?t.MaterialTypeName:null,p20:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p21:t&&t.MatMainClassCode?t.MatMainClassCode:null,p22:t&&t.MatMainClassName?t.MatMainClassName:null,p23:t&&t.MatSubClassID?t.MatSubClassID:null,p24:t&&t.MatSubClassCode?t.MatSubClassCode:null,p25:t&&t.MatSubClassName?t.MatSubClassName:null,p26:t&&t.MaterialMakeID?t.MaterialMakeID:null,p27:t&&t.MatMakeCode?t.MatMakeCode:null,p28:t&&t.MatMakeName?t.MatMakeName:null,p29:t&&t.MaterialModelID?t.MaterialModelID:null,p30:t&&t.MatModelCode?t.MatModelCode:null,p31:t&&t.MatModelName?t.MatModelName:null,p32:t&&t.MATUOMID?t.MATUOMID:null,p33:t&&t.MATUOMCode?t.MATUOMCode:null,p34:t&&t.UOMName?t.UOMName:null,p35:t&&t.MatGradeID?t.MatGradeID:null,p36:t&&t.GradeName?t.GradeName:null,p37:t&&t.MatGradeCode?t.MatGradeCode:null,p38:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p39:t&&t.MaterialColorName?t.MaterialColorName:null,p40:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p41:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p42:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p43:t&&t.RawMaterialName?t.RawMaterialName:null,p44:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p45:t&&t.MaterialSizeName?t.MaterialSizeName:null,p46:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p47:t&&t.MaterialCode?t.MaterialCode:null,p48:t&&t.MaterialName?t.MaterialName:null,p49:t&&t.MatMaterialGroupCode?t.MatMaterialGroupCode:null,p50:t&&t.MatMaterialGroupName?t.MatMaterialGroupName:null,p51:P.current,p52:w,p53:ke?"DraftMatMaterialGroupDetailsID":"MatMaterialGroupDetailsID",p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}};Ge.loading(!1),Ge.alert({open:!0,color:"success",message:[`${ft(841)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,s.Z)(o,d,Ne.token[0],n).then((e=>{(0,ee.PDF_Excel_Generate)(e,Ge,lt,R,a,n)}))})(de,Z.column,0,0,t)},Refresh:()=>{ce(""),F({current:1,pageSize:100}),p.current.clearItem(),Ne.IsDraft?Gt({current:1,pageSize:100},be,"DraftMatMaterialGroupDetailsID"):Gt({current:1,pageSize:100},be,"MatMaterialGroupDetailsID")},disabledPrint:!Ne.AccessRights.IsPrint,disabledExport:!Ne.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!ke&&!he&&!v&&r().createElement("div",{className:"buttoncard",onClick:()=>st(!ot)},r().createElement("span",null,ot?r().createElement(u.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},r().createElement("span",{id:"fld841L1TCLess"},r().createElement(W.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(u.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},r().createElement("span",{id:"fld841L1TCMore"},r().createElement(W.ilJ,{className:"tableFilterColumnIcon"}))))),ot?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},he||!Oe?null:v||!Ne.AccessRights.IsAdd||ke?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld841L1TCFilterDataIsAdd",id:"MatMaterialGroupDetailscoldiv",className:"buttoncard",onClick:()=>{Ge.EditClose(!0),me?(document.getElementById("MatMaterialGroupDetailsFilterDiv").style.width="0%",document.getElementById("MatMaterialGroupDetailsTabDiv").style.width="100%",document.getElementById("MatMaterialGroupDetailsFilterDiv").style.display="none",document.getElementById("MatMaterialGroupDetailscoldiv").style.width="fit-content",document.getElementById("MatMaterialGroupDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!1)):(document.getElementById("MatMaterialGroupDetailsFilterDiv").style.width="25%",document.getElementById("MatMaterialGroupDetailsTabDiv").style.width="75%",document.getElementById("MatMaterialGroupDetailsFilterDiv").style.display="block",document.getElementById("MatMaterialGroupDetailsfildiv").style.width="fit-content",document.getElementById("MatMaterialGroupDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatMaterialGroupDetailscoldiv").style.width="fit-content",document.getElementById("MatMaterialGroupDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!0)),se(!1)}},r().createElement(u.ZP,{title:Et("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(q.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!v&&Oe&&!he&&!ke&&r().createElement("div",null,r().createElement("div",{id:"MatMaterialGroupDetailscoldiv",className:"buttoncard",onClick:()=>{He?Ye(!1):(Ye(!0),Ct({current:1,pageSize:100}))}},r().createElement(u.ZP,{title:Et("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld841L1TCTableScrollData"},r().createElement(ie.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))))):""),!ke&&!v&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},he||ke?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ke?"buttonList":"buttonGrid",id:"fld841L1TCListView",onClick:()=>{Ue(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(W.umT,null)),r().createElement("span",null,Et("List"))),r().createElement("div",{className:Ke||it?"buttonGrid":"buttonList",id:"fld841L1TCCardView",onClick:()=>{Ue(!1),nt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(f.aCJ,null)),r().createElement("span",null,Et("Card"))),r().createElement("div",{className:it?"buttonList":"buttonGrid",id:"fld841L1TCTileView",onClick:()=>{nt(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(J.f_H,null)),r().createElement("span",null,Et("Tile"))))))),he?null:He?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(j.Z,{style:{color:"#777"},id:"fld841L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:h,onPageChange:(e,t)=>{S(t),Ct({current:t+1,pageSize:Xe.pageSize}),et({current:t+1,pageSize:Xe.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(K.Z,{count:We,color:"primary",page:Xe.current,onChange:(e,t)=>{et({current:t,pageSize:Xe.pageSize}),Je(t),Ct({current:t,pageSize:Xe.pageSize})}}),r().createElement("div",null,r().createElement(V.Z,{className:"BootstrapInputStyle",value:Xe.pageSize,frmctrlid:"fld841L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),Ct({current:1,pageSize:e.target.value})}},r().createElement(U.Z,{value:10},"10"),r().createElement(U.Z,{value:20},"20"),r().createElement(U.Z,{value:50},"50"),r().createElement(U.Z,{value:100},"100"))),Oe&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",Qe,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(j.Z,{style:{color:"#777"},id:"fld841L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(w),page:h,onPageChange:(e,t)=>{S(t),Gt({current:t+1,pageSize:P.pageSize},be,ke?"DraftMatMaterialGroupDetailsID":"MatMaterialGroupDetailsID",ke&&"DraftPage"),F({current:t+1,pageSize:P.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(K.Z,{count:G,siblingCount:0,color:"primary",page:P.current,onChange:(e,t)=>{if(F({current:t,pageSize:P.pageSize}),ke)Gt({current:t,pageSize:P.pageSize},Pe,"DraftMatMaterialGroupDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ue.length>0?Nt(ue,{current:t,pageSize:P.pageSize}):Gt({current:t,pageSize:P.pageSize},Pe,"MatMaterialGroupDetailsID")}}}),r().createElement("div",null,r().createElement(V.Z,{className:"BootstrapInputStyle",value:P.pageSize,id:"fld841L1TCSelectPaging",onChange:e=>{F({current:1,pageSize:e.target.value}),ke?Gt({current:1,pageSize:e.target.value},Pe,"DraftMatMaterialGroupDetailsID","DraftPage"):ue.length>0?Nt(ue,{current:1,pageSize:e.target.value}):Gt({current:1,pageSize:e.target.value},Pe,"MatMaterialGroupDetailsID")}},r().createElement(U.Z,{value:10},"10"),r().createElement(U.Z,{value:20},"20"),r().createElement(U.Z,{value:50},"50"),r().createElement(U.Z,{value:100},"100"))),Oe&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",w,") "))),r().createElement("div",{id:"MatMaterialGroupDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"MatMaterialGroupDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},oe&&r().createElement(O,{parentId:e.parentId,searchData:e=>{pe(e||gt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Ne.token[0],CloseBtnClk:()=>St(),userGrid:mt,msg:(e,t)=>Ge.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),me&&r().createElement(_.Z,{Refresh:e=>{Gt({current:1,pageSize:100},be,"MatMaterialGroupDetailsID")},frmctrlid:"fld841L1TCTableColumnOrder",loading:e=>Ge.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ge.alert({open:!0,color:t,message:[e]}),select:me,userID:c,userGridViewFormID:m,saved:(e,t)=>{e&&wt(t),Mt(t),we({type:"showTableview",payload:t})},Token:Ne.token[0]})),r().createElement("div",{id:"MatMaterialGroupDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ke?r().createElement(bt,null):r().createElement($.Z,{frmctrlid:"fld841L1TCExpandedCardDual",data:te,id:"MatMaterialGroupDetails",title:"MatMaterialGroupDetailsCode",cardTile:!!it,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{v?Ge.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:ke}),we({type:"ShowDetail",payload:!1}),Ge.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:ke}),we({type:"ShowDetail",payload:!0}),Ge.Expanded(!0),Ge.viewtoggle()),oe?se(!0):me?Me(!0):(Me(!1),Me(!1))),Ge.hideAddBtn(!0)}})))))))}));var oe=a(37148),se=a(29800),de=(a(10966),a(21392),a(26537)),pe=(a(44528),a(99090),a(1695)),ue=a(61924),ce=a.n(ue),me=(a(40826),a(55490)),Me=a(92371);const ge={EnterKeyValues:{MatMaterialGroupDetails:["MaterialName","MatMaterialGroupDetailsCode","MatMaterialGroupName"]},Label:{MatMaterialGroupDetails:{MaterialID:["MaterialCode","MaterialName"],MatMaterialGroupDetailsCode:["MatMaterialGroupDetailsCode"],MatMaterialGroupID:["MatMaterialGroupDetailsCode"]}},LabelHeader:{MatMaterialGroupDetails:{MaterialID:["Material Code","Material Name"],MatMaterialGroupDetailsCode:["MatMaterialGroupDetailsCode"],MatMaterialGroupID:["MatMaterialGroupDetailsCode"]}},Property:{MatMaterialGroupDetails:{MaterialID:{id:"fld841_18903",clearID:"MatMaterialGroupDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},MatMaterialGroupDetailsCode:{id:"fld841_18900",labelID:"MatMaterialGroupDetailsCode",maxLength:"50",labelname:"MatMaterialGroupDetailsCode",frmctrlid:"fld841_18900",frmctrlidname:"MatMaterialGroupDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatMaterialGroupID:{id:"fld841_18904",clearID:"MatMaterialGroupDetailsMatMaterialGroupNameClear",type:"select",labelID:"MatMaterialGroupIDPK",labelname:"MatMaterialGroupID",fielddisplayname:"MatMaterialGroupName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{MatMaterialGroupDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],MatMaterialGroupID:["MatMaterialGroupCode","MatMaterialGroupName","IsActive","CreatedTtm","UpdatedTtm"]}}};var ye=a(6562),De=a(45155),Ie=(a(49174),a(38773),a(19089),a(16233)),Ee=a.n(Ie),fe=(a(82729),a(75355),a(11107),a(74095));const ve={MatMaterialGroupDetailsIDPK:"",MatMaterialGroupDetailsCode:"",IsDraft:!1,Remarks:"",MaterialID:null,MatMaterialGroupID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",MatMaterialGroupCode:"",MatMaterialGroupName:"",Type:"MatMaterialGroupDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ce=(0,l.forwardRef)(((e,t)=>{const a=(0,i.useSelector)((e=>e.form)),[d,p]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!0),[y,D]=(0,l.useState)(!1),[E,f]=(0,l.useState)(!1),[v,h]=(0,l.useState)(""),[N,w]=(0,l.useState)(!1),[b,T]=(0,l.useState)([]),[x,P]=(0,l.useState)(null),[F,A]=(0,l.useReducer)(Me.Z,ve),[R,k]=(0,l.useState)(!1),[Z,L]=(0,l.useState)([]),[O,z]=(0,l.useState)(!1),K=(0,l.useContext)(e.context?e.context:Te),{cstate:U,cdispatch:V}=e.ContextApi?e.ContextApi:xe(),[_,H]=(0,l.useState)(0),[j,$]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,Q]=Ee()("841"),[q,X]=(0,l.useState)([]),ee=(0,l.useRef)(null),[te,ae]=(0,l.useState)(!1),[le,re]=(0,l.useState)(!0),[ie,ne]=(0,l.useState)(!1);let se=(0,I.Z)();const[ue,Ie]=(0,l.useState)({}),Ce=e=>se[e]?se[e]:e,he=t=>U.language?.[t]?U.language[t]:e.createEasy?ue?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&H(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ge()}),[]),(0,l.useEffect)((()=>{Ge()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(ae(!1),Se(U.editData[0],""),D(!0)):U.Add&&(Ge(),ae(!1),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ie(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ge()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(Ze(t),D(e)):(Ge(),D(e))},AddOpen:e=>{Ge(),D(!0)}})));const Se=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),f(t.IsDraft),"SetDefaultMatMaterialGroupDetailsID"==a?$(t.MatMaterialGroupDetailsIDPK):(H(e.primid?Number(e.primid):t.MatMaterialGroupDetailsIDPK?t.MatMaterialGroupDetailsIDPK:0),V({type:"PrimaryId",payload:t.MatMaterialGroupDetailsIDPK})),A({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),A({type:"text",name:"MaterialName",value:t.MaterialName}),A({type:"text",name:"MatMaterialGroupDetailsCode",value:t.MatMaterialGroupDetailsCode?t.MatMaterialGroupDetailsCode:""}),A({type:"number",name:"MatMaterialGroupID",number:t.MatMaterialGroupID?Number(t.MatMaterialGroupID):0}),A({type:"text",name:"MatMaterialGroupName",value:t.MatMaterialGroupName}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},Ge=()=>{T([]),$(""),V({type:"PrimaryId",payload:""}),A({type:"text",name:"MaterialID",value:null}),A({type:"text",name:"MaterialName",value:""}),document.getElementById("MatMaterialGroupDetailsMaterialNameClear")&&document.getElementById("MatMaterialGroupDetailsMaterialNameClear").click(),document.getElementById("MatMaterialGroupDetailsMaterialIDClear")&&document.getElementById("MatMaterialGroupDetailsMaterialIDClear").click(),X([]),A({type:"text",name:"MatMaterialGroupDetailsCode",value:""}),A({type:"text",name:"MatMaterialGroupID",value:null}),A({type:"text",name:"MatMaterialGroupName",value:""}),document.getElementById("MatMaterialGroupDetailsMatMaterialGroupNameClear")&&document.getElementById("MatMaterialGroupDetailsMatMaterialGroupNameClear").click(),H(0),c(!0),h(""),re(!0)},Ne=t=>{re(!0),K.loading(!0),K.ConfirmAlert(null),V({type:"IsDraft",payload:!1});const a=`${g.v.Api}${_?"FP841S1/":"FP841S19/"}`,l={data:[{p1:"SetDefaultMatMaterialGroupDetailsID"==t?"NORECORDS"!=j&&j?j:0:_,p2:Le(F.MatMaterialGroupDetailsCode),p3:!1,p4:"SetDefaultMatMaterialGroupDetailsID"==t?"SetDefault":null,p5:_?F.MaterialID:0==q.length?0:q.map((e=>e.MaterialIDPK)).toString(),p6:e.parentId?Number(e.parentId):F.MatMaterialGroupID?F.MatMaterialGroupID:0,p7:u,p8:"SetDefaultMatMaterialGroupDetailsID"==t,p9:localStorage.getItem("userid"),p10:S()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,de.Z)(0).then((r=>{(0,G.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?("SetDefaultMatMaterialGroupDetailsID"==t?K.alert({open:!0,color:"success",message:[Ce("Default Record Configured")]}):K.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttMatMaterialGroupDetails"),K.loading(!1),V({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(K.RefreshTable(),K.attachmentSave(a[0].Data.IDPK)),Ge(),U.AccessRights.IsApproval&&K.Approval(!0),document.getElementById("overlayimgAttMatMaterialGroupDetails")&&(document.getElementById("overlayimgAttMatMaterialGroupDetails").style.width="0%",document.getElementById("overlayimgAttMatMaterialGroupDetails").style.display="none",document.getElementById("divMatMaterialGroupDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("MatMaterialGroupDetails-MainTable").style.display="block")):(K.alert({open:!0,color:"warning",message:[l.message]}),K.loading(!1)),D(!0)}))}))},we=t=>{K.loading(!0),K.ConfirmAlert(null);const a=g.v.Api+"FP841S2/",l={data:[{p1:"SetDefaultMatMaterialGroupDetailsID"==t?"NORECORDS"!=j&&j?j:0:_,p2:Le(F.MatMaterialGroupDetailsCode),p3:!1,p4:"SetDefaultMatMaterialGroupDetailsID"==t?"SetDefault":null,p5:_?F.MaterialID:0==q.length?0:q.map((e=>e.MaterialIDPK)).toString(),p6:e.parentId?Number(e.parentId):F.MatMaterialGroupID?F.MatMaterialGroupID:0,p7:u,p8:"SetDefaultMatMaterialGroupDetailsID"==t,p9:localStorage.getItem("userid"),p10:S()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:S()().format("YYYY-MM-DD hh:mm:ss")}]};(0,de.Z)(0).then((e=>{(0,s.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,r=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(K.alert({open:!0,color:"warning",message:r}),K.loading(!1)):Ne()):(K.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),K.loading(!1))}))}))};function be(e){return CreateEasy(e,U,V,K,W),!1}function Pe(e,a){return AdvanceSearch(e,a,Te,xe(),Re,t),!1}const Fe=(t,a,l,r,i,n)=>{const o=g.v.Api+"FP841S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:"0"==F.MaterialID?null:F.MaterialID?F.MaterialID:q.map((e=>e.MaterialIDPK)).toString(),p6:e.parentId?Number(e.parentId):0,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:"0"==F.MatProcessTypeID?null:F.MatProcessTypeID,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:"0"==F.MaterialTypeID?null:F.MaterialTypeID,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:"0"==F.MaterialMainClassID?null:F.MaterialMainClassID,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:"0"==F.MatSubClassID?null:F.MatSubClassID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==F.MaterialMakeID?null:F.MaterialMakeID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==F.MaterialModelID?null:F.MaterialModelID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==F.MATUOMID?null:F.MATUOMID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"==F.MatGradeID?null:F.MatGradeID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==F.MatMaterialColorID?null:F.MatMaterialColorID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==F.MadeRawMaterialID?null:F.MadeRawMaterialID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==F.MatMaterialSizeID?null:F.MatMaterialSizeID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:t,p52:n||10,p53:l,p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}},p=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});k(!0);const u={data:p};(0,s.Z)(o,"ClearAll"==l?u:d,"PKDrag"==r?i:U.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?e>0?(L(r),n&&"MaterialIDPK"==l&&(ee.current.checkedAll(r),K.loading(!1))):L([]):L(Z.concat(r)),"SetDefaultMatMaterialGroupDetailsID"==l&&(e>0?Se(r[0],"SetDefaultMatMaterialGroupDetailsID"):$("NORECORDS")),k(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Ae=(t,l,r)=>{const i=g.v.Api+"FP841S3/",n={data:{p1:null,p2:"MatMaterialGroupDetailsCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:a.MatMaterialGroupRegistryMatMaterialGroupID?a.MatMaterialGroupRegistryMatMaterialGroupID:"0",p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:t,p52:10,p53:"MatMaterialGroupDetailsID",p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}},o={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};k(!0),(0,s.Z)(i,"ClearAll"==r?o:n,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("MatMaterialGroupDetailsCode"==r&&re(e>0),L(l)):("MatMaterialGroupDetailsCode"==r&&re(!0),L(Z.concat(l))),k(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Re=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a?A({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(A({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),A({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}))}),[F]);function ke(e){if("MaterialID"==e){if(!F.MaterialID)return!1;A({type:"text",name:"MaterialID",value:null}),A({type:"text",name:"MaterialName",value:""}),document.getElementById("MatMaterialGroupDetailsMaterialIDClear")&&document.getElementById("MatMaterialGroupDetailsMaterialIDClear").click(),X([]),document.getElementById("MatMaterialGroupDetailsMaterialNameClear")&&document.getElementById("MatMaterialGroupDetailsMaterialNameClear").click()}else if("MatMaterialGroupID"==e&&!F.MatMaterialGroupID)return!1}function Be(e){if("MaterialID"==e){if(!F.MaterialID)return!1;A({type:"text",name:"MaterialID",value:null})}else if("MatMaterialGroupID"==e&&!F.MatMaterialGroupID)return!1}function Ze(e){K.ConfirmAlert(null),f(e.IsDraft),H(Number(e.MatMaterialGroupDetailsIDPK)?Number(e.MatMaterialGroupDetailsIDPK):0),A({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),A({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),A({type:"text",name:"MatMaterialGroupDetailsCode",value:e.MatMaterialGroupDetailsCode?e.MatMaterialGroupDetailsCode:""}),A({type:"number",name:"MatMaterialGroupID",number:e.MatMaterialGroupID?Number(e.MatMaterialGroupID):0}),A({type:"text",name:"MatMaterialGroupName",value:e.MatMaterialGroupName?e.MatMaterialGroupName:""})}const Le=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(n.Z,{expanded:y,onChange:e=>{}},r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},y&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[841]"}," ",Ce("Add "),he("841")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},U.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(ye.Z,{row:!0},r().createElement(B.Z,{labelPlacement:"bottom",id:"fld841L1ECEntryCheckbox",control:r().createElement(C.Z,{checked:"1"==u,onChange:e=>c(e.target.checked)}),label:Ce(1==u?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{K.AttachExpand(!0)},id:"fld841L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(De.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ce("Attach")))),!_&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ge()},id:"fld841L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(De.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ce("Reset")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?r().createElement(pe.Z,{frmctrlid:"fld841L1ECSaveBtnIsAdd",name:Ce(_?"Update":"Save"),disabled:!1,onClick:()=>{!_&&0==q.length||_&&(!F.MaterialID||0==F.MaterialID)?K.alert({open:!0,color:"warning",message:[Ce("Please select the ")+" "+he("MaterialID")]}):e.parentId&&0!=e.parentId?_?K.ConfirmAlert(r().createElement(ce(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ce("Are you sure?"),onConfirm:()=>we(),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ce("Yes"),cancelBtnText:Ce("Cancel"),showCancel:!0},Ce(_?"Do you want to Update?":"Do you want to Save?"))):Ne():K.alert({open:!0,color:"warning",message:[Ce("Please select the ")+" "+he("MatMaterialGroupID")]})}}):null,!e.createEasy&&r().createElement(oe.Z,{frmctrlid:"fld841L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ge(),D(!1),K.EditClose(!0),K.hideAddBtn(!1),V({type:"Add",payload:!1})}}))))),r().createElement(o.Z,null,r().createElement("div",{id:"MatMaterialGroupDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"MatMaterialGroupDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"MatMaterialGroupDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(m.Z,{spacing:2},_?null:r().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(fe.Z,{json:ge,id:F.MaterialID,"data-testid":F.MaterialID,value:F.MaterialName,SPName:"MatMaterialGroupDetails",FieldName:"MaterialID",tfLabel:he("MaterialID"),ref:ee,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return X(a=t),void a.length;var a},onChange:(e,t)=>{Fe(e,t,"MaterialIDPK")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{K.loading(!0),Fe("1",t||"","MaterialIDPK","","",e)},openSlide:()=>{be("354")},Tabledialog:()=>Pe("354","MaterialID"),loading:R,clear:e=>{e&&ke("MaterialID")}})),_?r().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(me.Z,{json:ge,id:F.MaterialID,"data-testid":F.MaterialID,value:F.MaterialName,SPName:"MatMaterialGroupDetails",FieldName:"MaterialID",tfLabel:he("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Re(e,"MaterialID","select"),onChange:(e,t)=>{Fe(e,t,"MaterialIDPK")},KeyBack:e=>{Be("MaterialID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{be("354")},Tabledialog:()=>Pe("354","MaterialID"),loading:R,SideEntryView:!1,clear:e=>{e&&ke("MaterialID")}})):null,r().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(me.Z,{"data-testid":F.MatMaterialGroupDetailsCode,json:ge,SPName:"MatMaterialGroupDetails",FieldName:"MatMaterialGroupDetailsCode",tfLabel:he("MatMaterialGroupDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{K.ConfirmAlert(r().createElement(ce(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ze(e),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ce("Yes"),cancelBtnText:Ce("No"),showCancel:!0},Ce("Do you want to update this record?")))})(t),onClick:()=>{le&&Ae(1,"","ClearAll"),re(!0)},frmctrlid:"fld841_18900",frmctrlidName:"MatMaterialGroupDetailsCode",fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{le&&Ae(e,t,"MatMaterialGroupDetailsCode"),Re(t,"MatMaterialGroupDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:F.MatMaterialGroupDetailsCode,loading:R,clear:e=>{e&&(A({type:"text",name:"MatMaterialGroupDetailsCode",value:""}),re(!0))}})),r().createElement(M.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(me.Z,{json:ge,id:F.MatMaterialGroupID,"data-testid":F.MatMaterialGroupID,value:F.MatMaterialGroupName,SPName:"MatMaterialGroupDetails",FieldName:"MatMaterialGroupID",tfLabel:he("MatMaterialGroupID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Re(e,"MatMaterialGroupID","select"),onChange:(e,t)=>{Fe(e,t,"MatMaterialGroupIDPK")},KeyBack:e=>{Be("MatMaterialGroupID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{be("842")},Tabledialog:()=>Pe("842","MatMaterialGroupID"),loading:R,clear:e=>{e&&ke("MatMaterialGroupID")}})))),r().createElement("div",{id:"MatMaterialGroupDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MatMaterialGroupDetailsSideBar").style.width="0",void w(!1))},""),N&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},x))))))))}));a(77366),a(97829);var he=a(65197);const Se=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[d,p]=((0,i.useSelector)((e=>e.form)),(0,l.useState)([])),[u,c]=(0,l.useState)(!0),[m,M]=(0,l.useState)(e.showDetail),[y,D]=(0,l.useState)(""),[E,f]=r().useState(!1),[v,C]=r().useState(""),[h,S]=r().useState(!1),G=(0,l.useContext)(Te),{cstate:N,cdispatch:w}=xe(),[b,T]=(0,l.useState)(!1),[x,P]=(0,l.useState)(""),[F,A]=(0,l.useState)(""),[R,k]=(0,l.useState)("");let B=(0,I.Z)();(0,l.useEffect)((()=>{N.editData.length>0&&(p(N.editData),f(!1),w({type:"PrimaryId",payload:N.editData[0].MatMaterialGroupDetailsIDPK}))}),[N.editData]),(0,l.useEffect)((()=>{N.showTableview&&k(N.showTableview)}),[N.showTableview]),(0,l.useEffect)((()=>{c(N.ExpandDetailValue)}),[N.ExpandDetailValue]),(0,l.useEffect)((()=>{c(N.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),f(null)},viewtoggle:()=>{f(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=g.v.Api+"FP841S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:1,p52:10,p53:N.IsDraft?"DraftMatMaterialGroupDetailsID":"MatMaterialGroupDetailsID",p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}};(0,de.Z)(0).then((e=>{(0,s.Z)(l,r,e).then((e=>{G.loading(!1),"200"==e.Output.status.code&&p(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===E&&a.current.clear()}})));const Z=e=>B?.[e]?B?.[e]:e,L=e=>N.language?.[e]?N.language[e]:e;function O(e,t){}const z=(e,t)=>(a,l)=>{C(h?Object.assign(...d.filter((e=>e.MatMaterialGroupDetailsIDPK==t)).map((e=>e))):N.editData),f(!l&&e)};return r().createElement("div",null,r().createElement(n.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&c(!u)}},!E&&r().createElement(Y.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},N.IsDraft?Z("Draft"):"",L("MatMaterialGroupDetails"),e.viewonly?" ":"("+N.count+")")):"",u?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&N.AccessRights.IsAdd?r().createElement(X.Z,{name:Z("Add"),frmctrlid:"fld841L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{G.hideAddBtn(!0),w({type:"editData",payload:[]}),w({type:"ShowDetail",payload:!1}),w({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&N.AccessRights.IsEdit?r().createElement(se.Z,{frmctrlid:"fld841L1VCEditBtn",onClick:z("panel0",""),disabled:!1}):N.IsDraft&&N.AccessRights.IsAdd&&r().createElement(se.Z,{frmctrlid:"fld841L1VCEditBtnIsAdd",onClick:()=>{z("panel","")},disabled:!1}),!e.viewonly&&r().createElement(oe.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld841L1VCCloseBtn",onClick:()=>{c(!1),G.hideAddBtn(!1),h&&(w({type:"editData",payload:[]}),p([]))}})):"")),r().createElement(o.Z,{style:{display:"block"}},d.map(((t,l)=>r().createElement("div",{key:l},E==="panel"+l?r().createElement(Ce,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(he.Z,{tableName:"MatMaterialGroupDetails",tableID:841,parentID:t.MatMaterialGroupDetailsIDPK,fldid:"fld841L1VCContainer",OpenSlideComponent:O,index:l,refresh:R,val:t,tf:L,t:Z,title:"10.0.0.59-3:08:17 PM-18-7[841]"}))))))))}));var Ge=a(67698),Ne=a(55995),we=a(45965),be=a(41722);a(9175);const Te=(0,l.createContext)(),xe=()=>{const e=(0,l.useContext)(Te);if(void 0===e)throw new Error("useCont must be used within  MatMaterialGroupDetailsContext Provider");return e},Pe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),n=(0,l.useRef)(),o=(0,l.useRef)(),s=(0,l.useRef)(),d=(0,l.useRef)(),[p,u]=(0,l.useState)(!0),[c,m]=(0,l.useState)(),M=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)()),[g,y]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(be.D,be.E),[E,f]=(0,l.useState)(""),[v,C]=(0,l.useState)([]),[h,S]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||n.current.clear(),document.getElementById("divMatMaterialGroupDetails-Entry").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainTable").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{u(!0),document.getElementById("divMatMaterialGroupDetails-Entry").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainTable").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),n.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const G=e=>{C([]),document.getElementById("divMatMaterialGroupDetails-Entry").style.width="100%",document.getElementById("MatMaterialGroupDetailsEntryTable").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainEntry").style.display="block",document.getElementById("MatMaterialGroupDetails-MainDiv").classList.add("displayFlex"),document.getElementById("MatMaterialGroupDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMatMaterialGroupDetails").style.width="0%",document.getElementById("overlayimgAttMatMaterialGroupDetails").style.display="none"};(0,l.useEffect)((()=>{M((e=>{(0,de.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),y(t.length),N(e)}))}))}),[]);const N=e=>{(0,we.Z)(e,842).then((e=>I({type:"AccessRights",payload:e})))};return r().createElement("div",{style:{width:"100%"}},r().createElement(Te.Provider,{value:{cstate:D,cdispatch:I,ContextApi:xe,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==g&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),C([])},EditClose:e=>G(),AttachExpand:e=>(s.current.AttachmentData(D.PrimaryId),void(p&&(document.getElementById("overlayPreviewMatMaterialGroupDetails").style.width="50%",document.getElementById("divMatMaterialGroupDetails-Entry").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainTable").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMatMaterialGroupDetails").style.display="block",document.getElementById("overlayimgAttMatMaterialGroupDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):n.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):n.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),s.current.clrImgstate(!0)}}},r().createElement("div",{id:"MatMaterialGroupDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"MatMaterialGroupDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"MatMaterialGroupDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatMaterialGroupDetails-Entry",style:{width:"100%"}},0!==g?r().createElement(Se,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Ne.Z,{ref:d,menurefID:841,fileId:"LogoImgMatMaterialGroupDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewMatMaterialGroupDetails",frmctrlid:"PvwIm_841_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),C(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatMaterialGroupDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Ce,{ref:n,clrImgstate:e=>s.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Ne.Z,{ref:d,menurefID:841,fileId:"LogoImgMatMaterialGroupDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewMatMaterialGroupDetails",frmctrlid:"PvwIm_841_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),C(e)},clearTempData:D.Add})),r().createElement("div",{id:"MatMaterialGroupDetails-MainTable"},0!==g?r().createElement(ne,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Ge.Z,{ImgAttachment:e=>G(),menurefID:841,fileId:"AttImgMatMaterialGroupDetails",imgid:"overlayimgAttMatMaterialGroupDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMatMaterialGroupDetails",ref:s,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_841_L1_",timglist:e=>{d.current.timglist(e),C(e)},clearTempData:D.Add}))),r().createElement("div",{id:"MatMaterialGroupDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},68802:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R,saveComponent:()=>B,trimFunc:()=>k});var l=a(92950),r=a.n(l),i=a(45237),n=a(36939),o=a(61201),s=a(50743),d=(a(3212),a(10966),a(30553)),p=(a(99090),a(44528),a(37148)),u=a(61956),c=a(51673),m=(a(96071),a(14439)),M=a(27848),g=(a(49174),a(38773),a(19089),a(1695)),y=(a(13235),a(61924)),D=a.n(y),I=a(26537),E=a(40900),f=a(35131),v=a.n(f),C=a(55490),h=(a(2493),a(92371));a(82729),a(75355),a(11107),a(40826);const S={EnterKeyValues:{MatMaterialGroupRegistry:["MatMaterialGroupCode","MatMaterialGroupName"]},Label:{MatMaterialGroupRegistry:{MatMaterialGroupCode:["MatMaterialGroupCode","MatMaterialGroupName"],MatMaterialGroupName:["MatMaterialGroupCode","MatMaterialGroupName"]}},LabelHeader:{MatMaterialGroupRegistry:{MatMaterialGroupCode:["Group Code","Group Name"],MatMaterialGroupName:["Group Code","Group Name"]}},Property:{MatMaterialGroupRegistry:{MatMaterialGroupCode:{id:"fld842_18912",labelID:"MatMaterialGroupCode",maxLength:"20",labelname:"Group Code",frmctrlid:"fld842_18912",frmctrlidname:"MatMaterialGroupCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},MatMaterialGroupName:{id:"fld842_18913",labelID:"MatMaterialGroupName",maxLength:"50",labelname:"Group Name",frmctrlid:"fld842_18913",frmctrlidname:"MatMaterialGroupName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{MatMaterialGroupRegistry:{}}};a(42258),a(97829),a(79117);var G=a(27882),N=a(8981),w=a(63163),b=a(45155),T=a(51649),x=a(16233),P=a.n(x);const F={MatMaterialGroupIDPK:"",MatMaterialGroupCode:"",MatMaterialGroupName:"",IsDraft:!1,Remarks:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",Type:"MatMaterialGroupID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},A=(0,l.forwardRef)(((e,t)=>{(0,i.useSelector)((e=>e.form));const[a,y]=(0,l.useState)(!1),[f,x]=(0,l.useState)(!0),[A,R]=(0,l.useState)(!1),[k,Z]=(0,l.useState)(!1),[L,O]=(0,l.useState)(!1),[z,K]=(0,l.useState)(!1),[U,V]=(0,l.useState)([]),[_,H]=(0,l.useState)(null),[Y,j]=(0,l.useReducer)(h.Z,F),[$,W]=(0,l.useState)(!1),[J,Q]=(0,l.useState)([]),[q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)(""),[ae,le]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!0),ne=(0,l.useContext)(G.MatMaterialGroupRegistryContext),{cstate:oe,cdispatch:se}=(0,G.ContextApi)(),[de]=(0,l.useState)(localStorage.getItem("Language")),[pe]=(0,l.useState)(localStorage.getItem("Language")),[ue,ce]=(0,l.useState)([]),[me,Me]=(0,l.useState)(null),[ge,ye]=(0,l.useState)(!1),[De,Ie]=(0,l.useState)(""),[Ee,fe]=((0,l.useRef)(null),P()("842")),[ve,Ce]=(0,l.useState)(!1);let he=(0,N.Z)();const[Se,Ge]=(0,l.useState)({}),Ne=e=>he?.[e]?he[e]:e,we=t=>oe.language?.[t]?oe.language[t]:e.createEasy?Se?.[t]:t;(0,l.useEffect)((()=>{oe.PrimaryId&&X(Number(oe.PrimaryId))}),[oe.PrimaryId]),(0,l.useEffect)((()=>{oe.editData.length<0&&(0,I.Z)(1).then((e=>{Re(1,null,"SetDefaultMatMaterialGroupID",e)}))}),[]),(0,l.useEffect)((()=>{oe.editData.length>0?(be(oe.editData[0],""),Z(!0)):oe.Add&&(X(0),Z(!0))}),[oe.editData,oe.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ge(Object.assign({},...t))}(Ee)}),[Ee]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){Z(!0),R(!1)},CreateEasyProps:(e=!0,t)=>{fe(!0),t?(Le(t),Z(e)):(Te(),Z(e))},clear:()=>{Te()}})));const be=(t,a,l)=>{let r=t;Object.keys(r).forEach((function(e){0==r[e]&&(r[e]=null)})),O(r.IsDraft),se({type:"EditIsDraft",payload:"1"==r.IsDraft}),"SetDefaultMatMaterialGroupID"==a?te(r.MatMaterialGroupIDPK):(X(e.primid?Number(e.primid):r.MatMaterialGroupIDPK?r.MatMaterialGroupIDPK:0),se({type:"PrimaryId",payload:r.MatMaterialGroupIDPK})),j({type:"text",name:"MatMaterialGroupCode",value:r.MatMaterialGroupCode?r.MatMaterialGroupCode:""}),j({type:"text",name:"MatMaterialGroupName",value:r.MatMaterialGroupName?r.MatMaterialGroupName:""}),r.IsDraft?x(!0):x(!("1"!=r.IsActive&&!r.IsActive))},Te=()=>{V([]),X(0),te(""),le(!0),ie(!0),se({type:"PrimaryId",payload:""}),j({type:"text",name:"MatMaterialGroupCode",value:""}),j({type:"text",name:"MatMaterialGroupName",value:""}),x(!0)},xe=()=>{const e={...Y};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Pe=()=>{ne.ConfirmAlert(r().createElement(D(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ne("Are you sure?"),onConfirm:()=>Fe(),onCancel:()=>ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("Cancel"),showCancel:!0},oe.PrimaryId?Ne("Do you want to Update?"):Ne("Do you want to Save?")))},Fe=(e,t)=>{ne.loading(!0),ne.ConfirmAlert(null),se({type:"IsDraft",payload:!1}),B({url:E.v.Api+"FP842S2/",PrimID:q,ParamType:e,state:Y,active:f,token:oe.token[0],DefaultPrimaryId:ee}).then((t=>{const a=t[0].status;let l=t[0].Data,r=new Array,i=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(ne.alert({open:!0,color:"warning",message:i}),ne.loading(!1)):Ae(e)):(ne.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ne.loading(!1))}))},Ae=(t,a)=>{le(!0),ie(!0),ne.loading(!0),ne.ConfirmAlert(null),B({url:E.v.Api+"FP842S1/",PrimID:q,ParamType:t,state:Y,active:f,token:oe.token[0],DefaultPrimaryId:ee}).then((a=>{const l=a[0].status;200==l.code?(se({type:"PrimaryId",payload:a[0].Data.IDPK}),ne.AddOpen(a[0].Data.IDPK),"SetDefaultMatMaterialGroupID"==t?ne.alert({open:!0,color:"success",message:["Default Record Configured"]}):ne.alert({open:!0,color:"success",message:[l.message]}),ne.attachmentSave(a[0].Data.IDPK),ne.loading(!1),oe.AccessRights.IsApproval&&ne.Approval(!0),e.createEasy,se({type:"EditOpen",payload:!1}),se({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttMatMaterialGroupRegistry")&&(document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.width="0%",document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.display="none",document.getElementById("divMatMaterialGroupRegistry-Entry").style.width="100%"),document.getElementById("MatMaterialGroupRegistry-MainTable").style.display="none"):(ne.alert({open:!0,color:"warning",message:[l.message]}),ne.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultMatMaterialGroupID"==t&&(Z(!0),Re(1,null,"SetDefaultMatMaterialGroupID",oe.token[0]))}))};(0,l.useEffect)((()=>{Z(oe.ExpandDetailValue)}),[oe.ExpandDetailValue]);const Re=(t,a,l,r,i,n)=>{const o=E.v.Api+"FP842S3/",s={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:1,p14:10,p15:l,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}},d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:t,p14:10,p15:l,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};return W(!0),(0,c.Z)(o,"ClearAll"==l?s:d,"SetDefaultMatMaterialGroupID"==l&&r?r:oe.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(i)return r?r[0]:{};Q(1==t?e>0?r:[]:J.concat(r)),"SetDefaultMatMaterialGroupID"==l&&(e>0?be(r[0],"SetDefaultMatMaterialGroupID"):te("NORECORDS")),W(!1)}else ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},ke=(t,a,l)=>{const r=E.v.Api+"FP842S3/",i={data:{p1:null,p2:"MatMaterialGroupCode"==l&&a?"%"+a+"%":null,p3:"MatMaterialGroupName"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:t,p14:10,p15:"MatMaterialGroupID",p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}},n={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,c.Z)(r,"ClearAll"==l?n:i,oe.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?("MatMaterialGroupCode"==l&&le(e>0),"MatMaterialGroupName"==l&&ie(e>0),Q(r)):("MatMaterialGroupCode"==l&&le(!0),"MatMaterialGroupName"==l&&ie(!0),Q(J.concat(r))),W(!1)}else ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Be=(0,l.useCallback)((async(e,t,a)=>{"text"==a?j({type:a,name:t,value:e}):"number"==a?j({type:a,name:t,number:Number(e)}):"boolean"==a?j({type:a,name:t,boolean:e}):"date"==a&&j({type:"text",name:t,value:e})}),[Y]),Ze=e=>{ne.ConfirmAlert(r().createElement(D(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Le(e),onCancel:()=>ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("No"),showCancel:!0},Ne("Do you want to update this record?")))};function Le(t){ne.ConfirmAlert(null),O(t.IsDraft),e.createEasy||(se({type:"editData",payload:[t]}),se({type:"PrimaryId",payload:t.MatMaterialGroupIDPK})),X(Number(t.MatMaterialGroupIDPK)?Number(t.MatMaterialGroupIDPK):0),j({type:"text",name:"MatMaterialGroupCode",value:t.MatMaterialGroupCode?t.MatMaterialGroupCode:""}),j({type:"text",name:"MatMaterialGroupName",value:t.MatMaterialGroupName?t.MatMaterialGroupName:""})}const Oe=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(n.Z,{expanded:k,onChange:e=>{}},r().createElement(s.Z,null,r().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&r().createElement("span",{style:{cursor:"pointer"}},r().createElement(T.u1R,{className:"backButtonList",onClick:()=>{ne.ShowTableDiv(),setIndirectRecord(!1)}})),r().createElement("p",{id:"fld842L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[842]",onClick:()=>oe.ExpandTableValue&&Z(!k)},q?"Edit ":"New ",we("842")," (",oe.count,")")),k&&r().createElement("div",{className:"displayFlex EntryHeaderBtn"},oe.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(d.Z,{labelPlacement:"bottom",frmctrlid:"fld842L3ECEntryCheckbox",control:r().createElement(w.Z,{checked:"1"==f,onChange:e=>x(e.target.checked)}),label:Ne(1==f?"Active":"In Active")}))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{ne.AttachExpand(!0)},id:"fld842L3ECAttachment",disableRipple:!0,disabled:!q},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",null,r().createElement(b.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Attach"))),!e.createEasy&&(!q||!oe.editData.length>0)&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Te()},id:"fld842L3ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(b.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Reset"))),oe.AccessRights.IsAdd&&r().createElement(g.Z,{name:q?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return t=q?"update":"next",Oe(Y.MatMaterialGroupCode)?Oe(Y.MatMaterialGroupName)?void("next"==t?function(t,a,l,r){if(xe().length>0){le(!0),ie(!0),ne.loading(!0),ne.ConfirmAlert(null),se({type:"IsDraft",payload:!1});const t=E.v.Api+"FP842S1/",a={data:[{p1:q,p2:Oe(Y.MatMaterialGroupCode),p3:Oe(Y.MatMaterialGroupName),p4:!0,p5:null,p6:!1,p7:!1,p8:localStorage.getItem("userid"),p9:v()().format("YYYY-MM-DD hh:mm:ss"),p10:localStorage.getItem("userid"),p11:v()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,u.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(ne.alert({open:!0,color:"success",message:["Saved to Draft"]}),se({type:"EditIsDraft",payload:!0}),ne.attachmentSave(t[0].Data.IDPK),ne.loading(!1),Te(),e.clrImgstate(!0),ne.AddOpen(t[0].Data.IDPK,"1")):(ne.alert({open:!0,color:"warning",message:[a.message]}),ne.loading(!1))}))}))}else ne.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Pe(t)):(ne.alert({open:!0,color:"warning",message:[Ne("Please enter the")+""+we("MatMaterialGroupName")]}),!1):(ne.alert({open:!0,color:"warning",message:[Ne("Please enter the")+""+we("MatMaterialGroupCode")]}),!1);var t}}),q?r().createElement(p.Z,{disabled:!1,frmctrlid:"fld842L3ECCloseBtn",onClick:()=>{ne.detailview(!0,q)}}):null))),r().createElement(o.Z,null,oe.AccessRights.IsAdd?null:oe.AccessRights.IsEdit?!oe.PrimaryId&&r().createElement("div",{className:"divdisable"}):r().createElement("div",{className:"divdisable"}),r().createElement("div",{id:"MatMaterialGroupRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"MatMaterialGroupRegistry-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"MatMaterialGroupRegistry-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(m.Z,{spacing:2},r().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(C.Z,{"data-testid":Y.MatMaterialGroupCode,json:S,SPName:"MatMaterialGroupRegistry",FieldName:"MatMaterialGroupCode",tfLabel:we("MatMaterialGroupCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ze(t),onClick:()=>{ae&&ke(1,"","ClearAll"),le(!0)},frmctrlid:"fld842_18912",frmctrlidName:"MatMaterialGroupCode",fieldorder:"1",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{ae&&ke(e,t,"MatMaterialGroupCode"),Be(t,"MatMaterialGroupCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:Y.MatMaterialGroupCode,loading:$,clear:e=>{e&&(j({type:"text",name:"MatMaterialGroupCode",value:""}),le(!0))}})),r().createElement(M.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(C.Z,{"data-testid":Y.MatMaterialGroupName,json:S,SPName:"MatMaterialGroupRegistry",FieldName:"MatMaterialGroupName",tfLabel:we("MatMaterialGroupName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ze(t),onClick:()=>{re&&ke(1,"","ClearAll"),ie(!0)},frmctrlid:"fld842_18913",frmctrlidName:"MatMaterialGroupName",fieldorder:"2",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{re&&ke(e,t,"MatMaterialGroupName"),Be(t,"MatMaterialGroupName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:Y.MatMaterialGroupName,loading:$,clear:e=>{e&&(j({type:"text",name:"MatMaterialGroupName",value:""}),ie(!0))}})))),r().createElement("div",{id:"MatMaterialGroupRegistrySideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MatMaterialGroupRegistrySideBar").style.width="0",void K(!1))},""),z&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},_))))))))})),R=A,k=e=>"string"==typeof e?e.trim():e;function B(e){const{url:t,PrimID:a,ParamType:l,state:r,active:i,token:n,DefaultPrimaryId:o}=e,s={data:[{p1:"SetDefaultMatMaterialGroupID"==l?"NORECORDS"!=o&&o?o:0:a,p2:k(r.MatMaterialGroupCode),p3:k(r.MatMaterialGroupName),p4:!1,p5:"SetDefaultMatMaterialGroupID"==l?"SetDefault":null,p6:i,p7:"SetDefaultMatMaterialGroupID"==l,p8:localStorage.getItem("userid"),p9:v()().format("YYYY-MM-DD hh:mm:ss"),p10:localStorage.getItem("userid"),p11:v()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,u.Z)(t,s,n).then((e=>e))}},27882:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>I,MatMaterialGroupRegistryContext:()=>D,default:()=>E});var l=a(92950),r=a.n(l),i=a(45237),n=a(75249),o=a(39283),s=a(68802),d=a(67698),p=a(55995),u=a(26537),c=(a(35131),a(45965)),m=a(73668),M=(a(37274),a(9175)),g=a.n(M),y=a(21969);const D=(0,l.createContext)();function I(){const e=r().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const E=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),M=(0,l.useRef)(),E=(0,l.useRef)(),f=(0,l.useRef)(),v=(0,l.useRef)(),C=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)()),[h,S]=(0,l.useState)(0),[G,N]=r().useReducer(m.I,m.E),[w,b]=(0,l.useState)(""),[T,x]=(0,l.useState)(""),[P,F]=(0,l.useState)([]),A=(0,l.useRef)(),[R,k]=(0,l.useState)(!1);function B(e){N({type:"IsExPView",payload:!0}),N({type:"IsCollapse",payload:!1}),document.getElementById("MatMaterialGroupRegistry-MainTable").style.margin="0",document.getElementById("divMatMaterialGroupRegistry-Entry").style.margin="0",document.getElementById("divMatMaterialGroupRegistry-Entry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainTable").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.display="none",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayGrid"),N({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttMatMaterialGroupRegistry")&&(document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.width="0%",document.getElementById("overlayPreviewMatMaterialGroupRegistry").style.width="0%",document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),B(),N({type:"IsDraft",payload:!1}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0}),N({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&N({type:"editData",payload:[e.editData]})}),[e.editData]);const Z=e=>{N({type:"IsCollapse",payload:!0}),document.getElementById("MatMaterialGroupRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMatMaterialGroupRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MatMaterialGroupRegistry-MainTable").style.width="0%",document.getElementById("MatMaterialGroupRegistry-MainTable").style.display="none",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.display="block",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayGrid"),N({type:"ExpandDetailValue",payload:!0}),N({type:"PrimaryId",payload:""}),t.current.clear(),e&&v.current.AddClose()},L=t=>{G.IsCollapse?(document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divMatMaterialGroupRegistry-Entry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.display="block",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.width="0%",document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.display="none"):(document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.width="0%",document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.display="none",document.getElementById("divMatMaterialGroupRegistry-Entry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainTable").style.width="auto",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{C((e=>{(0,u.Z)(1).then((e=>{var t=new Array;t.push(e),N({type:"token",payload:t}),S(t.length),O(e)}))}))}),[]);const O=e=>{(0,c.Z)(e,842).then((e=>N({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(N({type:"ShowDetail",payload:!0}),N({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),r().createElement("div",null,r().createElement(D.Provider,{value:{cstate:G,cdispatch:N,ContextApi:I,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>k(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>B(),viewtoggle:()=>{G.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>Z(e),AttachExpand:t=>(M.current.AttachmentData(G.PrimaryId),void(G.ExpandTableValue?(document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.width="28%",document.getElementById("divMatMaterialGroupRegistry-Entry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainTable").style.width="auto",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.display="block"):(document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.display="block",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.width="28%",document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.display="block"))),RefreshTable:()=>{f.current.tableRefresh()},floatRefresh:()=>A.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttMatMaterialGroupRegistry").style.display="none",attachmentSave:e=>{E.current.tempsave(e,T),x([])},detailview:(e,t)=>{f.current.viewrecord(t),N({type:"ShowDetail",payload:e}),N({type:"EditOpen",payload:!0}),G.ShowDetail&&a.current.viewtoggle()},clear:e=>{G.ShowDetail?(N({type:"ShowDetail",payload:!1}),N({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var r,i,n;r=e,n=l,N({type:"IsDraft",payload:i=t}),N({type:"EditOpen",payload:!1}),N({type:"EditIsDraft",payload:i}),Z(),N({type:"editData",payload:[r]}),N({type:"screenType",payload:n})},AddOpen:(e,t)=>((e,t)=>{N({type:"ShowDetail",payload:!0}),N({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&v.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(N({type:"ShowDetail",payload:!1}),N({type:"ExpandTableValue",payload:!0}),f.current.tableRefresh(),document.getElementById("MatMaterialGroupRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMatMaterialGroupRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MatMaterialGroupRegistry-MainTable").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainTable").style.display="block",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="0%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.display="none",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupRegistryTabDiv").style.width="100%",document.getElementById("MatMaterialGroupRegistryFilterDiv").style.display="none",void(document.getElementById("MatMaterialGroupRegistryFilterDiv").style.width="0%"))}},r().createElement("div",{id:"MatMaterialGroupRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!G.ExpandTableValue&&r().createElement("div",{id:"MatMaterialGroupRegistry-MainTable",className:"Maincontent"},0!==h?r().createElement(n.default,{ref:f}):null),r().createElement("div",{id:"MatMaterialGroupRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},G.ShowDetail?r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatMaterialGroupRegistry-Entry",style:{width:"100%",display:"flex"}},r().createElement(o.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:G.PrimaryId,ref:a}),r().createElement("div",{style:{width:"70%"}},r().createElement(y.ZP,{ref:v,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:G.editData,AddOpen:G.EditOpen,parentId:G.PrimaryId,IsDraft:G.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:G.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),r().createElement(p.Z,{ref:E,menurefID:842,fileId:"LogoImgMatMaterialGroupRegistry",imgloading:e=>b(e),valueIDPK:G.PrimaryId,AttachmentVal:e=>M.current.AttachmentData(e),previd:"overlayPreviewMatMaterialGroupRegistry",AccessRights:G.AccessRights,frmctrlid:"PvwIm_842_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{G.PrimaryId?M.current.AttachmentData(G.PrimaryId):M.current.tempImg(e),x(e)},clearTempData:G.Add})),r().createElement(d.Z,{ImgAttachment:e=>L(),menurefID:842,fileId:"AttImgMatMaterialGroupRegistry",imgid:"overlayimgAttMatMaterialGroupRegistry",valueIDPK:G.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMatMaterialGroupRegistry",ref:M,imgloading:w,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_842_L3_",timglist:e=>E.current.timglist(e)})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatMaterialGroupRegistry-Entry",style:{width:"100%"}},r().createElement(s.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>M.current.clrImgstate(e)}),r().createElement(y.ZP,{ref:v,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:G.editData,AddOpen:G.EditOpen,parentId:G.PrimaryId,IsDraft:G.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:G.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),r().createElement(p.Z,{ref:E,menurefID:842,fileId:"LogoImgMatMaterialGroupRegistry",imgloading:e=>b(e),valueIDPK:G.PrimaryId,AttachmentVal:e=>M.current.AttachmentData(e),previd:"overlayPreviewMatMaterialGroupRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{G.PrimaryId?M.current.AttachmentData(G.PrimaryId):M.current.tempImg(e),x(e)},clearTempData:G.Add})),r().createElement(d.Z,{ImgAttachment:e=>L(),menurefID:842,fileId:"AttImgMatMaterialGroupRegistry",imgid:"overlayimgAttMatMaterialGroupRegistry",valueIDPK:G.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMatMaterialGroupRegistry",ref:M,imgloading:w,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_842_L3_",timglist:e=>E.current.timglist(e),clearTempData:G.Add}))),G.ExpandTableValue&&r().createElement("div",{id:"MatMaterialGroupRegistry-MainTable",className:"Maincontent"},0!==h?r().createElement(n.default,{ref:f}):null)),R&&r().createElement(g(),{openDialog:R,closeDialog:e=>k(e),formID:842,PrimID:G.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},75249:(e,t,a)=>{a.r(t),a.d(t,{MatMaterialGroupRegistryPopUpTable:()=>V,default:()=>U}),a(95866);var l=a(92950),r=a.n(l),i=a(45237),n=a(36939),o=a(61201),s=a(50743),d=a(59009),p=a(80366),u=a(51673),c=a(95469),m=a(54180),M=a(47516),g=a(39327),y=(a(14439),a(27848),a(42258),a(40900)),D=(a(83032),a(44117),a(27882)),I=a(43031),E=a(110),f=a(88995),v=a(5109),C=a(61657),h=a(868),S=a(24038),G=a(51209),N=a(8981),w=a(3212),b=a(86893),T=a(53854),x=a(51649),P=a(37106),F=a(5434),A=a(93521),R=a(8687),k=(a(79117),a(21969)),B=a(71168),Z=a.n(B),L=a(65107),O=a(79352),z=a(94986),K=a(15999);a(11557),window.clickFilter="";const U=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),B=((0,l.useRef)(null),(0,l.useRef)(null)),[U]=((0,i.useSelector)((e=>e.form)),(0,i.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[V]=(0,l.useState)("842"),[_,H]=(0,l.useState)(!1),[Y,j]=(0,l.useState)(!1),[$,W]=(0,l.useState)(0),[J,Q]=(0,l.useState)(0),[q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)({current:1,pageSize:100}),[ae,le]=(0,l.useState)(""),[re,ie]=(0,l.useState)([]),[ne,oe]=(0,l.useState)({val:"",column:""}),[se,de]=(0,l.useState)([]),[pe,ue]=(0,l.useState)(!1),[ce,me]=(0,l.useState)(""),[Me,ge]=(0,l.useState)(""),[ye,De]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)(!1),[fe,ve]=(0,l.useState)([]),[Ce,he]=(0,l.useState)([]),[Se,Ge]=(0,l.useState)([]),[Ne,we]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:D.MatMaterialGroupRegistryContext),{cstate:Te,cdispatch:xe}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Pe,Fe]=(0,l.useState)({children:[{name:"MatMaterialGroupRegistry",children:[]}]}),[Ae,Re]=(0,l.useState)(!1);let ke={MatMaterialGroupIDPK:"",MatMaterialGroupCode:"",MatMaterialGroupName:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Be,Ze]=(0,l.useState)(ke),[Le,Oe]=(0,l.useState)(ke),[ze,Ke]=(0,l.useState)(ke),[Ue,Ve]=(0,l.useState)(ke),[_e,He]=(0,l.useState)("asc"),[Ye,je]=(0,l.useState)(""),[$e,We]=(0,l.useState)(!1),[Je,Qe]=(0,l.useState)(!0),[qe,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[rt,it]=(0,l.useState)(0),[nt,ot]=(0,l.useState)({MatMaterialGroupCode:"",MatMaterialGroupName:""}),[st,dt]=(0,l.useState)(!1),[pt,ut]=(0,l.useState)([]),[ct,mt]=(0,l.useState)(0),[Mt,gt]=(0,l.useState)(0),[yt,Dt]=(0,l.useState)({current:1,pageSize:10}),[It,Et]=(0,l.useState)([]),[ft,vt]=(0,l.useState)([]),[Ct,ht]=(0,l.useState)(!1),[St]=(0,l.useState)(localStorage.getItem("Language")),[Gt]=(0,l.useState)(localStorage.getItem("Language")),[Nt,wt]=Z()("842"),[bt,Tt]=(0,l.useState)({}),[xt,Pt]=(0,l.useState)({}),Ft=[{columns:It,data:ae}];let At=(0,N.Z)();const Rt=e=>At?.[e]?At[e]:e,kt=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{zt(Nt)}),[Nt]),(0,l.useEffect)((()=>{Te.token.length>0&&(Te.IsDraft?Lt(ee,ke,"DraftMatMaterialGroupID"):Lt(ee,ke,"MatMaterialGroupID"))}),[]),(0,l.useEffect)((()=>{Ie||Ne||Ae||!ce?Ie?Oe(ce):Ne?Ke(ce):Ae&&Ve(ce):Te.IsDraft?Lt(ee,ce,"DraftMatMaterialGroupID"):Lt(ee,ce,"MatMaterialGroupID")}),[ce]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&j(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ot(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Bt()},viewrecord:e=>{se.map(((t,a)=>{t.MatMaterialGroupIDPK==e&&xe({type:"editData",payload:[se[a]]})}))}})));const Bt=()=>{Te.IsDraft?Lt(ee,ke,"DraftMatMaterialGroupID"):Lt(ee,ke,"MatMaterialGroupID")};function Zt(e){be.loading(!0);let t=y.v.Api+"FP842S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(t,a,Te.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,gt(t.Output.data[0].TotalCount)):(a=0,be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1)),10==e.pageSize?mt(Math.ceil(a)):20==e.pageSize?mt(Math.ceil(a/2)):50==e.pageSize?mt(Math.ceil(a/5)):100==e.pageSize&&mt(Math.ceil(a/10)),ut(t.Output.data),be.loading(!1)}}))}const Lt=(e,t,a,l,r,i)=>{be.loading(!0),"DraftPage"!==l&&We(Te.IsDraft);let n=y.v.Api+"FP842S3/",o={data:{p1:r||(t&&t.MatMaterialGroupIDPK?t.MatMaterialGroupIDPK:null),p2:t&&t.MatMaterialGroupCode?t.MatMaterialGroupCode:null,p3:t&&t.MatMaterialGroupName?t.MatMaterialGroupName:null,p4:"DraftMatMaterialGroupID"==a?"1":"0",p5:null,p6:t&&t.IsActive,p7:null,p8:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p9:t&&t.CreatedTtm?t.CreatedTtm:null,p10:t&&t.CreatedTtmType?t.CreatedTtmType:null,p11:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p12:null,p13:r?1:e.current,p14:e.pageSize,p15:a,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};(0,u.Z)(n,o,Te.token[0]).then((n=>{if(r)(0,R.m)(n,xe,l,i,be,"MatMaterialGroupIDPK");else if("200"==n.Output.status.code)if(n.Output.data.length>0){if(n.Output.data){let t=0;n.Output.data.length>0?(t=parseFloat(n.Output.data[0].TotalCount,10)/10,Q(n.Output.data[0].TotalCount),xe({type:"count",payload:n.Output.data[0].TotalCount}),X(n.Output.data[0].DraftCnt),"DraftPage"==l&&X(n.Output.data[0].TotalCount)):t=0,10==e.pageSize?W(Math.ceil(t)):20==e.pageSize?W(Math.ceil(t/2)):50==e.pageSize?W(Math.ceil(t/5)):100==e.pageSize&&W(Math.ceil(t/10)),Te.ExpandTableValue&&(Te.ExpandDetailValue?document.getElementById("MatMaterialGroupRegistry-MainTable").style.display="block":(document.getElementById("MatMaterialGroupRegistry-MainTable").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainEntry").style.width="100%",document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatMaterialGroupRegistry-MainDiv").classList.add("displayGrid"))),de(n.Output.data),be.loading(!1),document.getElementById("divMatMaterialGroupRegistry-Entry").style.height="auto"}}else be.loading(!1),"DraftMatMaterialGroupID"===a?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),We(!1)):(de([]),te({current:1,pageSize:10}),W(0),Q(0),xe({type:"count",payload:0}),Object.values(t).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[n.Output.status.message]}),be.loading(!1)}))};function Ot(e,t){be.loading(!0);const a=y.v.Api+"FP842S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:$e?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(a,l,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Q(e.Output.data[0].TotalCount),xe({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?W(Math.ceil(a)):20==t.pageSize?W(Math.ceil(a/2)):50==t.pageSize?W(Math.ceil(a/5)):100==t.pageSize&&W(Math.ceil(a/10)),de(e.Output.data),be.loading(!1)}else de([]),W(0),Q(0),xe({type:"count",payload:0}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function zt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),xe({type:"language",payload:Object.assign({},...r)}),ot(a.reduce(((e,t)=>(e[t]="",e)),{})),ve(e),he(t),Ge(a),Et(l),vt(a)}const Kt=(e,t,a)=>{xe({type:"IsDraft",payload:t}),xe({type:"EditOpen",payload:!1}),xe({type:"EditIsDraft",payload:t}),be.ExpandDetail(!1),a?be.AddOpen(e.MatMaterialGroupIDPK,t):xe({type:"editData",payload:[e]})},Ut=()=>{pe?(document.getElementById("MatMaterialGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MatMaterialGroupRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MatMaterialGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ue(!1),Ie?(document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ne?(document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatMaterialGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MatMaterialGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MatMaterialGroupRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MatMaterialGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ue(!0),Ie?(document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ne?(document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatMaterialGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),De(!1),window.clickFilter=!pe};return r().createElement("div",null,r().createElement(n.Z,{expanded:Je,onChange:()=>()=>{Qe(qe)}},r().createElement(s.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},r().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},r().createElement("div",{className:"displayFlex"},Ae||Ie||!$e?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[842]"},`${kt("842")} (${J})`)):r().createElement("div",{className:"ListHeader displayFlex"},r().createElement(h.ZP,{title:"List",placement:"top"},r().createElement("div",{id:"fld842L3TCList",onClick:()=>{qe||(xe({type:"Add",payload:!0}),xe({type:"Add",payload:!0})),be.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Lt({current:1,pageSize:100},ke,"MatMaterialGroupID"),We(!1),xe({type:"IsDraft",payload:!1})}),500)):(Lt({current:1,pageSize:100},ke,"MatMaterialGroupID"),We(!1),xe({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},r().createElement(x.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},"Drafts(",J,")")))),r().createElement("div",{style:{display:"flex"}},Ie||Ne||Ae?null:r().createElement("div",{className:"searchbar",id:"fld842L3TCSearchBar"},r().createElement(S.Z,{className:"search_input",type:"text",id:"MatMaterialGroupRegistrygridsearch",placeholder:"Search",value:Me,onChange:e=>{if(ge(e),"0"==e.length)return Lt(ee,ke,$e?"DraftMatMaterialGroupID":"MatMaterialGroupID",$e&&"DraftPage"),!1;Ot(e,{current:1,pageSize:100})}}),r().createElement("div",{className:"search_icon"},Me?r().createElement("div",{id:"fld842L3TCCloseIcon",onClick:()=>{ge(""),Bt()}},r().createElement(p.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld842L3TCInputSearchIcon",onClick:()=>{document.getElementById("MatMaterialGroupRegistrygridsearch").focus()}},r().createElement(f.Z,{className:"InputSearchIcon"})))),r().createElement("div",{style:{marginLeft:"5px"}},Te.AccessRights.IsAdd&&r().createElement(w.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>{be.ExpandDetail(!0),be.Approval(!1)}}))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"MatMaterialGroupRegistry-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},!$e&&r().createElement("div",{frmctrlid:"fld842L3TCFilterDataIsDraft",id:"MatMaterialGroupRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Ut()},r().createElement(h.ZP,{title:Rt("Filter Data"),placement:"top"},r().createElement(M.Ol$,{className:"tableFilterColumnIcon"})),r().createElement("span",{className:"iconinfo"},Rt("Filter Data"))),Y||Ie||Ae||$e?null:r().createElement(m.Z,{title:"842",formctrlidprint:"fld842L3TCExportPrint",formctrlidexport:"fld842L3TCExportTable",formctrlidrefresh:"fld842L3TCExportRefresh",data:re,exportData:Ft,Items:ft,columnIndex:It,TableVisibleItem:Ce,userGridViewFormID:V,TableTotalCount:J,triggerApi:e=>{((e,t,l,r,i)=>{if(0===J)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let n=y.v.Api+"FP842S3/",o={data:{p1:e&&e.MatMaterialGroupIDPK?e.MatMaterialGroupIDPK:null,p2:e&&e.MatMaterialGroupCode?e.MatMaterialGroupCode:null,p3:e&&e.MatMaterialGroupName?e.MatMaterialGroupName:null,p4:$e?"1":"0",p5:null,p6:e&&e.IsActive,p7:null,p8:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p9:e&&e.CreatedTtm?e.CreatedTtm:null,p10:e&&e.CreatedTtmType?e.CreatedTtmType:null,p11:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p12:null,p13:ee.current,p14:J,p15:$e?"DraftMatMaterialGroupID":"MatMaterialGroupID",p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${kt(842)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,u.Z)(n,o,Te.token[0],i).then((e=>{(0,A.PDF_Excel_Generate)(e,be,ft,le,a,i)}))})(ce,ne.column,0,0,e)},Refresh:()=>{ge(""),B.current.clearItem(),te({current:1,pageSize:100}),Te.IsDraft?Lt({current:1,pageSize:100},ke,"DraftMatMaterialGroupID"):Lt({current:1,pageSize:100},ke,"MatMaterialGroupID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a}),Ie||Ne||Ae||!qe?null:!$e&&Te.AccessRights.IsAdd&&r().createElement("div",{id:"MatMaterialGroupRegistrycoldiv",className:"buttoncard",onClick:()=>{ye?(document.getElementById("MatMaterialGroupRegistryFilterDiv").style.width="0%",document.getElementById("MatMaterialGroupRegistryTabDiv").style.width="100%",document.getElementById("MatMaterialGroupRegistryFilterDiv").style.display="none",document.getElementById("MatMaterialGroupRegistrycoldiv").style.width="fit-content",document.getElementById("MatMaterialGroupRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("MatMaterialGroupRegistryFilterDiv").style.width="25%",document.getElementById("MatMaterialGroupRegistryTabDiv").style.width="75%",document.getElementById("MatMaterialGroupRegistryFilterDiv").style.display="block",document.getElementById("MatMaterialGroupRegistryfildiv").style.width="fit-content",document.getElementById("MatMaterialGroupRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatMaterialGroupRegistrycoldiv").style.width="fit-content",document.getElementById("MatMaterialGroupRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),ue(!1)}},r().createElement(h.ZP,{title:"{t('Manage Columns')}",placement:"top"},r().createElement("span",null,r().createElement(g.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld842L3TCFilterDataIsAdd"}))),r().createElement("span",{className:"iconinfo"},Rt("Manage Columns"))),!$e&&_&&!Ie&&!Ae&&!Y&&qe&&r().createElement("div",{id:"fld842L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(h.ZP,{title:Rt("Migration"),placement:"top"},r().createElement("span",null,r().createElement(O.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Rt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!Y&&qe&&!Ae&&!Ie&&!$e&&r().createElement("div",null,r().createElement("div",{id:"MatMaterialGroupRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{st?dt(!1):(dt(!0),Zt({current:1,pageSize:100}))}},r().createElement("div",{id:"fld842L3TCTableScrollData"},r().createElement(h.ZP,{title:Rt("Table Scroll Data"),placement:"top"},r().createElement(K.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Rt("Table Scroll Data")))),Te.AccessRights.IsAdd&&!Ae&&!Ie&&!$e&&r().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},r().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){it(0),te({current:1,pageSize:100}),qe||(xe({type:"Add",payload:!0}),xe({type:"Add",payload:!0})),be.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Lt({current:1,pageSize:100},ke,"DraftMatMaterialGroupID"),We(!0),xe({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ee(!1),we(!1)}),500)):(Lt({current:1,pageSize:100},ke,"DraftMatMaterialGroupID"),We(!0),xe({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ee(!1),we(!1)),document.getElementById("MatMaterialGroupRegistryFilterDiv").style.width="0%",document.getElementById("MatMaterialGroupRegistryTabDiv").style.width="100%",document.getElementById("MatMaterialGroupRegistryFilterDiv").style.display="none"}else be.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},r().createElement(h.ZP,{title:Rt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(P.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Rt("Drafts"))))),Ie||Ne||Ae||$e?null:r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ae||$e?null:r().createElement("div",null,qe&&r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{id:"fld842L3TCListView",className:at?"buttonList":"buttonGrid",onClick:()=>{ue(!0),lt(!0),ht(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(T.umT,null)),r().createElement("span",null,"List")),r().createElement("div",{id:"fld842L3TCGridView",className:at||Ct?"buttonGrid":"buttonList",onClick:()=>{lt(!1),ht(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(b.aCJ,null)),r().createElement("span",null,"Card")),r().createElement("div",{className:Ct?"buttonList":"buttonGrid",id:"fld842L3TCTileView",onClick:()=>{ht(!0),lt(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(F.f_H,null)),r().createElement("span",null,"Tile"))))))),r().createElement("div",{id:"MatMaterialGroupRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},r().createElement("div",{id:"MatMaterialGroupRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},pe&&r().createElement(c.default,{CloseBtnClk:()=>Ut(),searchData:e=>{me(e||bt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));Pt(t)},formID:V,data:()=>{},visibleData:()=>{},token:Te.token[0],userGrid:Nt,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Bt()}}),ye&&!Ie&&!Ne&&r().createElement(v.Z,{frmctrlid:"fld842L3TCTableColumnOrder",loading:e=>be.loading(e),AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:ye,userID:U,userGridViewFormID:V,saved:(e,t)=>{e&&zt(t),wt(t)},Token:Te.token[0]})),r().createElement("div",{id:"MatMaterialGroupRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},at?r().createElement("div",null,Ie&&r().createElement(ListComponent,{onLoad:Ie,data:(e,t)=>{!function(e,t){xe({type:"editData",payload:[e]}),ue(!1),document.getElementById("MatMaterialGroupRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("MatMaterialGroupRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("MatMaterialGroupRegistry-ShareView").classList.remove("ViewBtnAct"),Ee(!1),we(!1),Re(!1);let a={MatMaterialGroupCode:"",MatMaterialGroupName:""};Ze(a),Lt({current:1,pageSize:100},a,"MatMaterialGroupID")}(e)},json:Le}),!Ie&&!Ae&&r().createElement("div",null,st?r().createElement(z.Z,{data:pt,expanded:()=>{},edit:(e,t,a)=>{Kt(e,t,a),be.ExpandTable(!1),xe({type:"EditIsDraft",payload:t}),xe({type:"EditOpen",payload:!1})}}):r().createElement(L.Z,{ref:B,frmctrlid:"tblcs_842_L3_",id:"MatMaterialGroupRegistry-MainTable",headerdata:Ce,tablesearchparams:nt,searchvalue:e=>{ot(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...xt};Tt(t),te({current:1,pageSize:10}),Lt({current:1,pageSize:10},t,$e?"DraftMatMaterialGroupID":"MatMaterialGroupID",$e&&"DraftPage")},bodydata:se,ondrag:(e,t)=>{Kt(t,$e,!0)},bodyitem:Se,visibleitem:Ce,isdraft:$e,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:V,accessrights:Te.AccessRights,expanded:()=>{},edit:(e,t,a)=>{Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Lt(ee,null,t?"DraftMatMaterialGroupID":"MatMaterialGroupID",t&&"DraftPage",e[l],a)}))},viewtoggle:be.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return r().createElement(k.ZP,{loading:e=>be.loading(e),alertmsg:e=>be.alert(e),ConfirmAlert:e=>{be.ConfirmAlert(e)},data:Te.editData,AddOpen:Te.EditOpen,parentId:t.MatMaterialGroupIDPK,IsDraft:Te.EditIsDraft,tableview:e})}}))):r().createElement(G.Z,{frmctrlid:"fld842L3TCExpandedCardDual",data:se,id:"MatMaterialGroupRegistry",title:"Material Group",cardTile:!!Ct,visibleitem:Ce,gridCountmdlg:qe?4:12,gridCountxssm:qe?6:12,expanded:()=>{},edit:Kt,viewtoggle:be.viewtoggle,onDoubleClick:(e,t)=>{Y?be.select(e):("edit"==t?(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:$e}),xe({type:"ShowDetail",payload:!1}),be.ExpandDetail(!0)):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:$e}),xe({type:"ShowDetail",payload:!0}),be.ExpandDetail(!0),be.viewtoggle()),qe&&(ue(!1),De(!1)))}})))))),Ie||Ne||Ae?null:qe?st?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:ct,color:"primary",page:yt.current,onChange:(e,t)=>{Dt({current:t,pageSize:yt.pageSize}),mt(t),Zt({current:t,pageSize:yt.pageSize})}}),r().createElement("div",null,r().createElement(E.Z,{value:yt.pageSize,frmctrlid:"fld842L3TCSelectPagination",onChange:e=>{Dt({current:1,pageSize:e.target.value}),Zt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),qe&&r().createElement("p",{className:"per-page"},"/ per page Of (",Mt,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:$,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),$e)Lt({current:t,pageSize:ee.pageSize},ce,"DraftMatMaterialGroupID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Me.length>0?Ot(Me,{current:t,pageSize:ee.pageSize}):Lt({current:t,pageSize:ee.pageSize},ce,"MatMaterialGroupID")}}}),r().createElement("div",null,r().createElement(E.Z,{value:ee.pageSize,frmctrlid:"fld842L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),$e?Lt({current:1,pageSize:e.target.value},Be,"DraftMatMaterialGroupID","DraftPage"):Me.length>0?Ot(Me,{current:1,pageSize:e.target.value}):Lt({current:1,pageSize:e.target.value},Be,"MatMaterialGroupID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),qe&&r().createElement("p",{className:"per-page "},"/ per page Of (",J,") ")):r().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},r().createElement(C.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(J),page:rt,onPageChange:(e,t)=>{it(t),Lt({current:t+1,pageSize:ee.pageSize},ke,$e?"DraftMatMaterialGroupID":"MatMaterialGroupID",$e&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{it(0)}})))})),V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),p=(0,l.useRef)(null),[c]=((0,i.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[M,g]=Z()("842"),[f,v]=(0,l.useState)(!1),[C,h]=(0,l.useState)(0),[S,G]=(0,l.useState)(0),[w,b]=(0,l.useState)({current:1,pageSize:100}),[T,x]=(0,l.useState)(""),[P,F]=(0,l.useState)([]),[R,k]=(0,l.useState)({val:"",column:""}),[B,O]=(0,l.useState)([]),[z,K]=(0,l.useState)(!1),[U,V]=(0,l.useState)(""),[_,H]=(0,l.useState)([]),[Y,j]=(0,l.useState)([]),[$,W]=(0,l.useState)([]),J=(0,l.useContext)(D.MatMaterialGroupRegistryContext),{cstate:Q,cdispatch:q}=(0,D.ContextApi)();let X={MatMaterialGroupIDPK:"",MatMaterialGroupCode:"",MatMaterialGroupName:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1),[ne,oe]=(0,l.useState)(!0),[se,de]=(0,l.useState)(0),[pe,ue]=(0,l.useState)({MatMaterialGroupCode:"",MatMaterialGroupName:""}),[ce,me]=(0,l.useState)([]),[Me,ge]=(0,l.useState)([]),[ye,De]=(0,l.useState)([]),[Ie,Ee]=(0,l.useState)(!1),[fe,ve]=(0,l.useState)("");let Ce=(0,N.Z)();const he=[{columns:ce,data:T}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let i=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),q({type:"language",payload:Object.assign({},...r)}),ue(a.reduce(((e,t)=>(e[t]="",e)),{})),H(e),j(t),W(a),me(l),ge(a)}(M)}),[M]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Se()},viewrecord:e=>{B.map(((t,a)=>{t.MatMaterialGroupIDPK==e&&q({type:"editData",payload:[B[a]]})}))},DialogTableProps:e=>{v(e)},searchData:(t,a,l)=>{J.loading(!0),d.current&&d.current.clearItem(),ve(l),b({current:1,pageSize:10}),X=e.ApiParamType.params,Ge({current:1,pageSize:100},a,l),p.current&&p.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&v(e.Dialogview)}),[e.cardview,e.Dialogview]);const Se=()=>{Q.IsDraft?Ge(w,X,"DraftMatMaterialGroupID"):Ge(w,X,"MatMaterialGroupID")},Ge=async(t,a,l,r)=>{if(Q.token[0]){if(J.loading(!0),"DraftPage"!==r&&te(Q.IsDraft),await ve((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}V(a);let i=y.v.Api+`${e.ApiType}/`,n={data:{p1:a&&a.MatMaterialGroupIDPK?a.MatMaterialGroupIDPK:null,p2:a&&a.MatMaterialGroupCode?a.MatMaterialGroupCode:null,p3:a&&a.MatMaterialGroupName?a.MatMaterialGroupName:null,p4:"DraftMatMaterialGroupID"==l?"1":"0",p5:null,p6:a&&a.IsActive,p7:null,p8:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p9:a&&a.CreatedTtm?a.CreatedTtm:null,p10:a&&a.CreatedTtmType?a.CreatedTtmType:null,p11:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p12:null,p13:t.current,p14:t.pageSize,p15:l,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};(0,u.Z)(i,n,Q.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,G(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?h(Math.ceil(a)):20==t.pageSize?h(Math.ceil(a/2)):50==t.pageSize?h(Math.ceil(a/5)):100==t.pageSize&&h(Math.ceil(a/10)),O(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Ce?.[a]?Ce[a]:a)]}),O([]),h(0),G(0),q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ie(Q.ExpandTableValue)}),[Q.ExpandTableValue]),r().createElement("div",null,r().createElement(n.Z,{expanded:ae,onChange:()=>()=>{le(re)}},r().createElement(s.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",S,")")))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"MatMaterialGroupRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(m.Z,{formctrlidprint:"fld842L3TCExportPrint",formctrlidexport:"fld842L3TCExportTable",formctrlidrefresh:"fld842L3TCExportRefresh",title:"842",data:P,exportData:he,Items:Me,columnIndex:ce,triggerApi:t=>{((t,l,r)=>{if(0===S)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let i=y.v.Api+`${e.ApiType}/`,n={data:{p1:t||(t&&t.MatMaterialGroupIDPK?t.MatMaterialGroupIDPK:null),p2:t&&t.MatMaterialGroupCode?t.MatMaterialGroupCode:null,p3:t&&t.MatMaterialGroupName?t.MatMaterialGroupName:null,p4:ee?"1":"0",p5:null,p6:t&&t.IsActive,p7:null,p8:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p9:t&&t.CreatedTtm?t.CreatedTtm:null,p10:t&&t.CreatedTtmType?t.CreatedTtmType:null,p11:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p12:null,p13:1,p14:S,p15:fe,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};var o;J.loading(!1),J.alert({open:!0,color:"success",message:[`${o="842",Q.language?.[o]?Q.language[o]:o} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,u.Z)(i,n,Q.token[0],r).then((e=>{(0,A.PDF_Excel_Generate)(e,J,Me,x,a,r)}))})(U,R.column,t)},TableVisibleItem:Y,userGridViewFormID:"842",TableTotalCount:S,Refresh:()=>{Ge({current:1,pageSize:100},U,fe),b({current:1,pageSize:100}),p.current&&p.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!Q.AccessRights.IsPrint,disabledExport:!Q.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:C,siblingCount:0,color:"primary",page:w.current,onChange:(e,t)=>{if(b({current:t,pageSize:w.pageSize}),ee)Ge({current:t,pageSize:w.pageSize},U,"DraftMatMaterialGroupID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Ge({current:t,pageSize:w.pageSize},U,"MatMaterialGroupID")}}}),r().createElement("div",null,r().createElement(E.Z,{value:w.pageSize,onChange:e=>{b({current:1,pageSize:e.target.value}),Ge({current:1,pageSize:e.target.value},U,"MatMaterialGroupID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),re&&r().createElement("p",{className:"per-page"},"/ per page Of (",S,")"))),r().createElement("div",{id:"MatMaterialGroupRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"MatMaterialGroupRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:p,type:e.viewtype,id:"MatMaterialGroupRegistry",headerdata:Y,tablesearchparams:pe,searchvalue:e=>{ue(e),b({current:1,pageSize:100}),Ge({current:1,pageSize:100},e,ee?"DraftMatMaterialGroupID":"MatMaterialGroupID",ee&&"DraftPage")},bodydata:B,ondrag:(e,t)=>{q({type:"editData",payload:[t]}),q({type:"IsDraft",payload:ee}),q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:Y,isdraft:ee,accessrights:Q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{f?J.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?J.edit(t,a,l):J.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{O(e)},color:!0,isexpanded:!1}):r().createElement(L.Z,{frmctrlid:"tblcs_842_L3_",ref:d,id:"MatMaterialGroupRegistryTable",type:e.viewtype,headerdata:Y,tablesearchparams:pe,searchvalue:e=>{let t={...U,...e};ue(e),V(t),b({current:1,pageSize:100}),Ge(w,t,fe)},bodydata:B,ondrag:(e,t)=>{q({type:"editData",payload:[t]}),q({type:"IsDraft",payload:ee}),q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:Y,isdraft:ee,accessrights:Q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{f?J.select(t):(e.editdata(t,"view"),J.edit(t,a,1!=t.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},95469:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R}),a(95866),a(99058);var l=a(92950),r=a.n(l),i=a(80366),n=a(51673),o=a(282),s=a(868),d=a(78513),p=a(14439),u=a(27848),c=a(40900),m=a(64059),M=a(24038),g=a(8981),y=a(47516),D=a(86893),I=a(27882),E=a(33681),f=a(63163),v=(a(35131),a(61956),a(93657)),C=a(53375),h=a(52663),S=a(66083),G=a(29525),N=a(66856),w=a(39803),b=a(99940),T=a(17149),x=a(62810),P=a(30553),F=a(92381),A=a(25108);const R=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[R,k]=(0,l.useState)([]),[B,Z]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[L,O]=(0,l.useState)(""),[z,K]=(0,l.useState)({}),[U,V]=(0,l.useState)(!0),[_,H]=(0,l.useState)(!1),{cstate:Y,cdispatch:j}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[$,W]=(0,l.useState)(1),[J,Q]=(0,l.useState)(0),[q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[re,ie]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[se,de]=(0,l.useState)(""),[pe,ue]=(0,l.useState)(!1),[ce,me]=(0,l.useState)(!1),[Me,ge]=(0,l.useState)(!1),[ye,De]=(0,l.useState)(""),Ie=(0,l.useRef)(null),[Ee,fe]=(0,l.useState)({});let ve=localStorage.getItem("Language");const Ce={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let he=(0,g.Z)();const Se=e=>he[e]?he[e]:e,Ge=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ce[ve]];function Ne(){K({}),te({}),e.searchData({}),H(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});fe(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Ie.current&&Ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()}})));const we=async(t,a,l,r)=>{X(!0);try{Ie.current&&Ie.current.abort();const i=new AbortController;Ie.current=i;let o="",s=[],d={};await Z((e=>(o=e.name,e))),await K((e=>(s=e,e))),await te((e=>(d=e,e)));const p=c.v.Api+"FP842S3/",u={data:{p1:"MatMaterialGroupIDPK"==a?null:await Pe(),p2:"MatMaterialGroupCode"==o&&l.length>0?"%"+l+"%":null,p3:"MatMaterialGroupName"==o&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:"p8"==o&&l.length>0?l:null,p9:null,p10:null,p11:null,p12:null,p13:r||1,p14:10,p15:t,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}},m=await(0,n.Z)(p,u,e.token,"",i.signal);if(!m)return!1;const M=m.Output.status.code,g=m.Output.data;if("200"===M)if(g.length>0)if(1===r){let e=Te(g,o),t=be(e,z[o],a);k(t),Q(t.length>0?t[0].TotalCount:z[o].length)}else{let e=[...R,...g],t=Te(e,o);Q(t.length<10?t.length:g[0].TotalCount),k(Te(t,o))}else L.length>0&&k([]),Q(R.length);else e.alertmsg("error",[m.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a)),xe=async t=>{let a="",l={};await K((e=>(a=e,e)));let r=[...ae],i=[];for(let e of r){let t=a[e]?.map((e=>e.MatMaterialGroupIDPK)).toString();t&&i.push(t)}await te((e=>(l=e,e)));let n={MatMaterialGroupIDPK:i?[...new Set(i)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:""};"saveFav"==t?Re("save",n):(e.searchData(n),H(!1))};async function Pe(){let e={};await K((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.MatMaterialGroupIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Fe(t,a,l,r,i,n){let o={[r]:{From:t,Type:l,To:a}},s={};te((e=>({...e,...o})));const d={...z};let p=[...ae],u=[];for(let e of p){let t=d[e]?.map((e=>e.MatMaterialGroupIDPK)).toString();t&&u.push(t)}await te((e=>(s=e,e)));let c={MatMaterialGroupIDPK:u?[...new Set(u)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?i:null};e.searchData(c)}function Ae(){return r().createElement(m.Z,{frmctrlid:"fld842L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Fe(e,t,a,B.name,l)},keyboardback:()=>{H(!1),Z({idpk:"",name:"",type:"",fieldidpk:""})},title:Se(B.name),fieldname:B.name,save:e=>{alert(!0)}})}const Re=(t,a)=>{(0,F.Z)(t,e.formID,a,se).then((e=>{const t=e.Output.data;De(t)}))};return r().createElement("div",null,r().createElement(h.Z,{onClose:()=>ue(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:pe},r().createElement(S.Z,{id:"customized-dialog-title",onClose:()=>ue(!1)},"Add Favorite"),r().createElement(G.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(w.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>de(e.target.value),fullWidth:!0})),r().createElement(P.Z,{style:{color:"#337ab7"},control:r().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>me(e.target.checked)}),label:"Quick"}),r().createElement(P.Z,{style:{color:"#337ab7"},control:r().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:Me,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),r().createElement(N.Z,null,r().createElement(o.Z,{onClick:()=>{xe("saveFav"),ue(!1)},color:"primary"},"Save"))),_?"Created Ttm"===B.name||B.name.includes("Date")?r().createElement(Ae,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(p.Z,null,r().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Ge(B.idpk)," (",R.length,"/",J,")")),r().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(s.ZP,{title:Se("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(i.Z,{id:"fld842L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),Z({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),z[B.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(o.Z,{frmctrlid:"fld842L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,A.log("clear fewItems",e),t))),e[B.name]=[],we(B.type,B.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},Se("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},U?r().createElement(s.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{V(!1)}}))):r().createElement(s.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{V(!0)}})))),r().createElement("ul",null,z[B.name]&&z[B.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:U?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[B.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[B.name],onClick:()=>(async(e,t)=>{W(1);let a=z[B.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[B.name]=a,K(l),k((t=>[e,...t]))})(e)},r().createElement(i.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(M.Z,{frmctrlid:"fld842L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:L,placeholder:Se("Enter ")+" "+Ge(B.idpk),onChange:e=>{O(e),we(B.type,B.fieldidpk,e,1,Pe())}})),r().createElement("div",{id:"fld842L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(E.Z,{color:"secondary"})),r().createElement("div",{id:"fld842L3TFCScrollYDefault",className:"height65 scrollYDefault"},R.length>0&&R.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[B.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let r=l[B.name];t[B.name]=r?[...a,...r]:a,l={...l,...t},K(l),k((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(d.Z,{className:"DotIcon"}),r().createElement("span",null,e[B.name])))),R.length+0<J&&R.length>0&&r().createElement("div",{id:"fld842L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W($+1),we(B.type,B.fieldidpk,"",$+1)}},r().createElement("p",null," more... ")),0===R.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:c.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(y.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",Se("Filter")," ",se.length>0&&`(${se})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(s.ZP,{title:"Favorite List",placement:"top"},ne?r().createElement(i.Z,{className:"favlisticon",onClick:()=>{oe(!1),De(""),Ne()}}):r().createElement(v.Z,{className:"favlisticon",onClick:()=>{oe(!0),Re("select"),Ne()}})),Object.keys(z).length>0&&r().createElement(s.ZP,{title:"Save Favorites",placement:"top"},r().createElement(C.Z,{className:"favlisticon",onClick:()=>{ue(!0)}})),r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{Ne()},id:"fld842L3TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},Se("Clear")))),r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld842L3TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},Se("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld842L3TFCFilItems",className:"FilterItems"},!ye&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),O(""),k([]),Q(0);let t=e.IsForeign?e.FieldName+"PK":"MatMaterialGroupIDPK";Z({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMatMaterialGroupID",fieldidpk:t}),we(e.IsForeign?"Filter"+e.FieldName:"FilterMatMaterialGroupID",t,"",1,Pe())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Ge(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Ge(e.AdminUserGridViewIDPK)),r().createElement(f.Z,{checked:"1"==re,onChange:t=>{ie(t.target.checked),Fe("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Ge(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,z[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},z[a][0][a]),z[a].length>1&&r().createElement("span",{className:"RoundedDivName"},z[a][1][a]),z[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(z[a].length-2))))));var a})),ye&&ye.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{we("FilterMatMaterialGroupID",a),xe("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}))},39283:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var l=a(92950),r=a.n(l),i=a(45237),n=(a(37148),a(3212)),o=a(29800),s=a(14439),d=a(27848),p=(a(10966),a(36939)),u=a(61201),c=a(50743),m=a(27882),M=(a(21392),a(51673)),g=a(40900),y=a(26537),D=(a(24038),a(68802)),I=(a(77366),a(97829),a(8981)),E=(a(63163),a(1695)),f=(a(79117),a(99216)),v=(a(35131),a(61956),a(51649)),C=a(61924),h=a.n(C);const S=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[C,S]=((0,i.useSelector)((e=>e.form)),(0,l.useState)([])),[G,N]=(0,l.useState)(!0),[w,b]=(0,l.useState)(e.showDetail),[T,x]=(0,l.useState)(""),[P,F]=r().useState(!1),[A,R]=r().useState(""),[k,B]=r().useState(!1),Z=(0,l.useContext)(m.MatMaterialGroupRegistryContext),{cstate:L,cdispatch:O}=(0,m.ContextApi)(),[z,K]=(0,l.useState)(!1),[U,V]=(0,l.useState)(""),[_,H]=(0,l.useState)(""),[Y,j]=(0,l.useState)("");let $=(0,I.Z)();(0,l.useEffect)((()=>{L.editData.length>0&&(S(L.editData),F(!1),O({type:"PrimaryId",payload:L.editData[0].MatMaterialGroupIDPK}))}),[L.editData]),(0,l.useEffect)((()=>{L.showTableview&&j(L.showTableview)}),[L.showTableview]),(0,l.useEffect)((()=>{N(L.ExpandDetailValue)}),[L.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{N(e),F(null)},viewtoggle:()=>{F(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=g.v.Api+"FP842S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:1,p14:10,p15:a?"DraftMatMaterialGroupID":"MatMaterialGroupID",p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};(0,y.Z)(0).then((e=>{(0,M.Z)(l,r,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&S(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===P&&a.current.clear()}})));const W=e=>$?.[e]?$?.[e]:e,J=e=>L.language?.[e]?L.language[e]:e;function Q(e,t){}const q=e=>(0,D.trimFunc)(C[0].MatMaterialGroupCode)?(0,D.trimFunc)(C[0].MatMaterialGroupName)?void Z.ConfirmAlert(r().createElement(h(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:W("Are you sure?"),onConfirm:()=>(()=>{Z.loading(!0),Z.ConfirmAlert(null),O({type:"IsDraft",payload:!1});let e={url:g.v.Api+"FP842S2/",PrimID:C[0].MatMaterialGroupIDPK,ParamType:"",state:C[0],active:1,token:L.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,r=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:r}),Z.loading(!1)):(()=>{Z.loading(!0);let e={url:g.v.Api+"FP842S1/",PrimID:C[0].MatMaterialGroupIDPK,ParamType:"",state:C[0],active:1,token:L.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(Z.alert({open:!0,color:"success",message:[t.message]}),Z.loading(!1),Z.ShowTableDiv(),Z.RefreshTable(),Z.Approval(!0))}))})())}))})(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:W("Yes"),cancelBtnText:W("Cancel"),showCancel:!0},L.PrimaryId?W("Do you want to Update?"):W("Do you want to Save?"))):(Z.alert({open:!0,color:"warning",message:[W("Please enter the")+""+J("MatMaterialGroupName")]}),!1):(Z.alert({open:!0,color:"warning",message:[W("Please enter the")+""+J("MatMaterialGroupCode")]}),!1);return r().createElement("div",{className:"SubContent_1"},r().createElement(p.Z,{expanded:G,onChange:()=>()=>{e.expandTable&&N(!G)}},!P&&r().createElement(c.Z,null,r().createElement(s.Z,{container:!0},r().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement(v.u1R,{className:"backButtonList",onClick:()=>{Z.ShowTableDiv(),Z.RefreshTable()}})),r().createElement("p",{className:"DListP"},L.IsDraft?"Draft ":"",J("842"))))))),r().createElement(u.Z,{style:{display:"block"}},C.map(((e,t)=>r().createElement("div",{key:t},r().createElement(f.Z,{tableName:"MatMaterialGroupRegistry",tableID:842,parentID:e.MatMaterialGroupIDPK,fldid:"fld842L3VCContainer",OpenSlideComponent:Q,index:t,val:e,tf:J,t:W,title:"10.0.0.59-3:08:17 PM-18-7[842]"}))))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&L.AccessRights.IsAdd&&r().createElement(n.Z,{className:"L1AddBtnCommon",onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:[]}),O({type:"PrimaryId",payload:L.editData[0].MatMaterialGroupIDPK})},disabled:!1}),L.IsDraft&&r().createElement(o.Z,{onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:C}),O({type:"PrimaryId",payload:L.editData[0].MatMaterialGroupIDPK})},disabled:!1}),r().createElement(E.Z,{name:L.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld842L3ECSaveBtnApprovalStatus",onClick:()=>{q()}}))))}))}}]);