"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[85935],{45116:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(92950),n=a.n(s),l=a(71168),o=a.n(l),i=a(49375),r=a(14439),c=a(27848),m=a(40900),u=a(24522),d=a(25108);const g=[{name:"Employee",id:0,active:"btnactvtab",width:"25%",IsConflict:"0",count:0},{name:"Department",id:1,active:"",width:"25%",IsConflict:"0",count:0},{name:"Designation",id:2,active:"",width:"25%",IsConflict:"0",count:0},{name:"NatureofWork",id:3,active:"",width:"25%",IsConflict:"0",count:0}],p=function(e){const{classes:t}=e,a=(0,s.useRef)(null),[l,p]=(0,s.useState)(""),[f,b]=(0,s.useState)(""),[E,y]=(0,s.useState)([]),[h,S]=(0,s.useState)([]),[v,I]=(0,s.useState)([]),[D,M]=(0,s.useState)([]),[C,w]=(0,s.useState)([]),[N,T]=(0,s.useState)([]),[k,O]=(0,s.useState)([]),[x,B]=(0,s.useState)([]),[Z,_]=(0,s.useState)(0),[F,R]=(0,s.useState)([]),[V,L]=(0,s.useState)([]),[W,j]=(0,s.useState)([]),[A,U]=(0,s.useState)([]),[K,P]=(0,s.useState)(!0),[q,z]=(0,s.useState)(!1),[G,H]=(0,s.useState)(g);var J=[...g];const[Q,X]=o()("662");function Y(t){if("200"!=t.Output.status.code)return e.loading(!1),e.alertmsg({open:!0,color:"error",message:[t.Output.status.message]}),!1;{a.current.conflictStage(),e.loading(!0);const s={Employee:{setter:R},Department:{setter:L},Designation:{setter:j},NatureofWork:{setter:U}};Object.keys(t.Output.data).forEach((e=>{const a=t.Output.data[e],n=a.filter((e=>"1"===e.IsConflict));n.length>0&&$(0,n.length),e in s&&s[e].setter(a)})),e.loading(!1)}}const $=(e,t)=>{const a=g.filter((t=>t.id==e)),s={name:a[0].name,id:a[0].id,active:a[0].active,width:a[0].width,IsConflict:"1",count:t},n=[...J],l=n.findIndex((t=>t.id==e)),o=n[l];n.splice(l,1,{...o,...s}),J=n,H(n)};return n().createElement("div",null,n().createElement("div",{id:"EmployeeMig-MainDiv",className:"MainDivStyles displayFlex"},n().createElement("div",{id:"EmployeeMig-MainEntry",className:"Maincontent",style:{width:"100%"}},n().createElement(r.Z,null,n().createElement(c.Z,{sm:12},n().createElement(i.Z,{MigType:"EmployeeMigration",alertmsg:t=>e.alertmsg(t),conflictFinalData:{Employee:F,Department:V,Designation:W,NatureofWork:A},data:e=>Y(e),reset:()=>(R([]),L([]),j([]),U([]),P(!0),z(!1),p(""),b(""),void H(g)),filename:e=>p(e),fileData:e=>b(e),importSave:t=>function(t){if(!f)return e.alertmsg({open:!0,color:"error",message:["Kindly Upload file to Import"]}),!1;e.loading(!0);let a=new FileReader;a.readAsDataURL(f[0]),a.onload=()=>{let a=m.v.Api+"uploadExcel/",s=new FormData;s.append("uploadExcel",f[0]),fetch(a,{method:"POST",headers:{"x-userid":localStorage.getItem("userid"),"mig-type":"EmployeeMigration","mig-btn-type":t,FORM_ID:1},body:s}).then((e=>e.json())).then((a=>{"200"==a.Output.status.code?(Y(a),e.loading(!1),e.alertmsg({open:!0,color:"Success",message:[a.Output.status.message]}),"process"!=t&&(p(""),b(""))):(e.loading(!1),e.alertmsg({open:!0,color:"error",message:[a.Output.status.message]}))})).catch((t=>{e.loading(!1),d.error(t)}))}}(t),NameFile:l,excelfile:m.v.excel+"EmployeeMigration.xlsx",SheetCount:11,ref:a,importdisabled:G.filter((e=>"1"==e.IsConflict)).length>0}))),n().createElement("div",{className:"EmployeeMig-formtabs formtabs"},G.map(((e,t)=>n().createElement("button",{key:t,disabled:!1,style:{width:e.width,background:"1"==e.IsConflict?"#fad6a5":"#fff"},className:e.active+" secondaryMenuBtn ",onClick:()=>function(e){var t=G.length;for(let e=0;e<t;e++)document.getElementsByClassName("EmployeeMig-formtabs")[0].getElementsByTagName("button")[e].classList.remove("btnactvtab");document.getElementsByClassName("EmployeeMig-formtabs")[0].getElementsByTagName("button")[e].classList.add("btnactvtab"),_(e)}(e.id)},e.name,n().createElement("span",null," "),n().createElement("span",null,Number(e.count)>0?"("+e.count+")":""))))),0==Z&&n().createElement(u.Z,{tableData:F,TableVisibleItem:E,TableBodyItem:h}),1==Z&&n().createElement(u.Z,{tableData:V,TableVisibleItem:v,TableBodyItem:D}),2==Z&&n().createElement(u.Z,{tableData:W,TableVisibleItem:C,TableBodyItem:N}),3==Z&&n().createElement(u.Z,{tableData:A,TableVisibleItem:k,TableBodyItem:x}))))}}}]);