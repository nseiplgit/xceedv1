"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[92772],{92772:(e,t,l)=>{l.r(t),l.d(t,{default:()=>u});var a=l(92950),n=l.n(a),i=l(13089),r=l(61657),s=l(7320),o=l(282),c=l(20067),d=l(25108);const u=function(e){const t=(0,a.useRef)(null),[l,u]=(0,a.useState)(e.tableData),[p,m]=(0,a.useState)([]),[g,b]=(0,a.useState)([]),[f,h]=(0,a.useState)([]),[E,y]=(0,a.useState)([]),[S,x]=(0,a.useState)(0),[I,C]=(0,a.useState)({}),[T,v]=(0,a.useState)({}),[w,D]=(0,a.useState)(0),[Z,P]=(0,a.useState)({current:1,pageSize:e.pageSize?e.pageSize:10}),k=[{columns:f,data:E}];(0,a.useEffect)((()=>{e.TableVisibleItem.length>0&&(m(e.TableVisibleItem),b(e.TableBodyItem))}),[e.TableVisibleItem]),(0,a.useEffect)((()=>{let t=[];e.tableData.map((e=>{let l=[];g.map((t=>{l.push(e[t])})),t.push(l)})),y(t)}),[g]);const N=100*S,R=N+100;function A(e,t,l){return e.slice((l-1)*t,l*t)}return e.tableData.slice(N,R),(0,a.useEffect)((()=>{if(P({current:1,pageSize:e.pageSize?e.pageSize:10}),e.tableData.length>0)if(e.dynamic){let t=[],l=[],a=[];Object.keys(e.tableData[0]).map((e=>{!(e.startsWith("Is")||e.includes("ID")||e.includes("PageIndex")||e.includes("PageSize")||e.includes("TotalCount"))&&(t.push({id:e,name:e.replace(/([A-Z])/g," $1").trim(),type:"varchar"}),l.push(e.trim()),a.push(e.replace(/([A-Z])/g," $1").trim()))})),0==Object.keys(I).length&&C(l.reduce(((e,t)=>(e[t]="",e)),{})),m(t),b(l),h(a),u(e.tableData)}else u(e.tableData);else u([])}),[e.tableData]),n().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",height:"100%",position:"relative",marginTop:e.marginTop&&e.marginTop}},e.name&&n().createElement("div",{className:"ListHeader displayFlex",style:{justifyContent:"space-between"}},n().createElement("p",{className:"ListP"}," ",e.name," ( ",l.length>0?l[0].TotalCount?l[0].TotalCount:l.length:""," )"),n().createElement("div",{className:"salQuclsExp",style:{padding:"3px"}},e.X_Status?.length>0&&e.X_Status.map((e=>n().createElement("span",{className:"columnHeaderp",style:{width:"100%",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px",padding:"4px 4px 4px 8px",marginRight:"4px",borderRadius:"4px",borderLeft:"3px solid #3873bb"}},e)))),n().createElement("div",null,e.showPrintBtn&&l.length>0?n().createElement(o.Z,{variant:"contained",color:"secondary",startIcon:n().createElement(c.Z,{style:{marginRight:"10px"},className:"SubmitBtnIcon"}),style:{backgroundColor:"#21446F",fontSize:"12px",fontWeight:"500"},onClick:t=>{e.privewRecord("pdf")}},"Print Preview"):"")),l.length>0&&!e.hideExportPrint&&n().createElement("div",{style:{display:"flex",alignItems:"center",height:"35px"}},n().createElement(s.Z,{formctrlidprint:"fld4L1TCExportPrint",formctrlidexport:"fld4L1TCExportTable",formctrlidrefresh:"fld4L1TCExportRefresh",title:e.name,data:l,TableVisibleItem:p,exportData:k,Items:g,columnIndex:f,triggerApi:t=>{var l;l=t,u(e.tableData),D(e.tableData[0]?.TotalCount),e.PrintPdf(l)},TotalCount:e.tableData[0]?.TotalCount?e.tableData[0]?.TotalCount:1e3,Refresh:()=>{A(l,1,10),x(0),P({current:1,pageSize:10}),e.Refresh()},disabledPrint:!1,disabledExport:!1,ref:t})),!e.paging&&n().createElement("div",{className:`${e.pagcls} tableTopPagination displayFlex floatOrder`},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{style:{width:e.width?e.width:"100%"}},e.clientsidePaging?n().createElement(r.Z,{rowsPerPageOptions:[],component:"div",count:e.tableData.length,rowsPerPage:100,page:S,onPageChange:(e,t)=>{x(t)}}):n().createElement(r.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:e.tableData[0]?.TotalCount?e.tableData[0].TotalCount:l.length,page:S,onPageChange:(t,l)=>{x(l),e.tableData[0]?.TotalCount&&e.onPageChange(l+1),P({current:l+1,pageSize:Z.pageSize})},rowsPerPage:e.pageSize?e.pageSize:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})))),n().createElement(i.Z,{id:"ExcelMigrationTable",headerdata:p,tablesearchparams:e.tablesearchparams?e.tablesearchparams:I,searchvalue:t=>e.searchvalue(t),bodydata:A(l,Z.pageSize,Z.current),ondrag:(e,t)=>d.log(e,t),bodyitem:g,visibleitem:p,action:"none",IsDraft:!1,IsView:!!e.ExpandTable&&e.ExpandTable,IsSub:!1,tableExp:!!e.ExpandTable&&e.ExpandTable,accessrights:{},expanded:e=>{},edit:(t,l,a)=>{d.log(t,"rowa"),e.onDoubleClick&&e.edit(t,l,a)},viewtoggle:()=>{},isexpanded:!!e.Action&&e.Action,ViewComp:(t,l)=>n().createElement("div",null,e.ViewComp(t,l)),height:e.height,color:!0,colwid:e.colwid,onDoubleClick:t=>{d.log(t,"eee"),e.onDoubleClick(t)},searchdisabled:e.searchdisabled,IsDrag:e.IsDrag,OnDrop:e.OnDrop,DraglistRw:e.DraglistRw,RemoveAll:e.RemoveAll}))}},7320:(e,t,l)=>{l.d(t,{Z:()=>y});var a=l(92950),n=l.n(a),i=l(96622),r=(l(14439),l(27848),l(4820)),s=l(20394),o=l(82483),c=l(55546),d=l.n(c),u=l(38431),p=l.n(u),m=l(36210),g=(l(61924),l(868)),b=l(40900),f=l(26537);const h=d().ExcelFile,E=d().ExcelFile.ExcelSheet,y=(0,a.forwardRef)(((e,t)=>{const{classes:l}=e,c=(0,a.useRef)(),d=(0,a.useRef)(),u=(0,a.useRef)(),[y,S]=(0,a.useState)(""),[x,I]=(0,a.useState)({});let C=localStorage.getItem("userid");(0,a.useEffect)((()=>{!function(){let e=b.v.Api+"FP95S3/",t={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:1,p78:10,p79:"BrandingID",p80:null,p81:null,p82:Number(localStorage.getItem("UserGroupID")),p83:Number(localStorage.getItem("userid"))}};(0,f.Z)(0).then((l=>{fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",USER_ID:C,FORM_ID:1,"x-userid":C,"x-tokenid":l.TokenIDPK,"x-tokenname":l.TokenName},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{I(e.Output.data[0])}))}))}()}),[]),(0,a.useImperativeHandle)(t,(()=>({PrintValue:()=>{T()},Printreport:()=>{v()}})));const T=()=>{y?d.current.click():u.current.click()},v=()=>{d.current.click()};return n().createElement("div",null,n().createElement("div",{style:{display:"none"}},n().createElement(o.Z,{ref:e=>c.current=e,data:e.data,index:e.Items.length>10?e.Items.slice(0,10):e.Items,columnTitle:e.columnIndex.length>10?e.columnIndex.slice(0,10):e.columnIndex,Title:e.title,Brandingdata:x})),n().createElement("div",{style:{display:"flex",alignItems:"center",height:"35px"}},!e.disabledPrint&&n().createElement("div",{className:"buttoncard",onClick:t=>{e.triggerApi({type:"pdf",alertName:"Print",count:e.TotalCount,table:e.title,format:"A4",landscape:!0,TableVisibleItem:e.TableVisibleItem?e.TableVisibleItem:[],userGridViewFormID:e.userGridViewFormID?e.userGridViewFormID:null,username:localStorage.getItem("username")}),S(!0)}},n().createElement(g.ZP,{title:"Print",placement:"top"},n().createElement(s.Z,{className:"tableFilterColumnIcon tablExpicon fontSize18"})),n().createElement("span",{className:e.iconinfo?e.iconinfo:"iconinfo"},"Print")),n().createElement(p(),{trigger:()=>n().createElement(i.Z,{style:{display:"none"},ref:d}," Print"),content:()=>c.current}),!e.disabledExport&&e.exportData&&n().createElement("div",{className:"buttoncard",onClick:()=>{e.triggerApi({type:"excel",alertName:"Print",count:e.TotalCount,table:e.title,format:"A4",landscape:!0,TableVisibleItem:e.TableVisibleItem?e.TableVisibleItem:[],userGridViewFormID:e.userGridViewFormID?e.userGridViewFormID:null,username:localStorage.getItem("username")}),S(!1)}},n().createElement(g.ZP,{title:"Excel Export",placement:"top"},n().createElement(r.Z,{className:"tableFilterColumnIcon tablExpicon fontSize18"})),n().createElement("span",{className:e.iconinfo?e.iconinfo:"iconinfo"},"Excel Export")),e.exportData&&n().createElement(h,{filename:e.title,element:n().createElement(i.Z,{style:{display:"none"},ref:u}," Excel Export")},n().createElement(E,{dataSet:e.exportData,name:e.title})),e.Refresh&&n().createElement("div",{className:"buttoncard",onClick:e.Refresh},n().createElement(g.ZP,{title:"Refresh",placement:"top"},n().createElement(m.Z,{className:"tableFilterColumnIcon tablExpicon fontSize18"})),n().createElement("span",{className:e.iconinfo?e.iconinfo:"iconinfo"},"Refresh"))))}))},13089:(e,t,l)=>{l.d(t,{Z:()=>k});var a=l(92950),n=l.n(a),i=l(79895),r=l(82302),s=l(99613),o=l(88222),c=l(56847),d=l(83750),u=l(57394),p=l(77256),m=l(49174),g=l(99173),b=l(88995),f=l(39431),h=l(868),E=l(59067),y=l(20067),S=l(51115),x=l(25281),I=l(66037),C=l(17812),T=l(80366),v=l(30553),w=l(13258),D=(l(10635),l(87429),l(52795)),Z=l(25108);window.headercellid="";const P=(0,a.forwardRef)(((e,t)=>{const{order:l,orderBy:i,onRequestSort:r,headCells:s,isDraft:c,TableSearchParams:f}=e,[h,E]=(0,a.useState)({}),[y,S]=(0,a.useState)({}),x=["By","Contact","NROT","COT","SNA","VIA","Remarks","Date","UserName","Status","No","Total","Rate","Cnt","Time","Type","Code","Amount","Quantity","Unit","Is","TAT","Cost","Number"],[I,C]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Object.keys(f).map((e=>{E({...h,[e]:!!f[e]})})),S(f)}),[f],e.height),(0,a.useImperativeHandle)(t,(()=>({clearValue:e=>{k(!0,e)}})));const Z=(e,t,l)=>{E({...h,[t]:!h[t]}),setTimeout((function(){var e=document.getElementById(l+"headcell");e&&(e.focus(),document.getElementById(l+"headcell").onclick=function(e){e.stopPropagation()})}),1e3),e.stopPropagation()},P=(t,l)=>{window.headercellid=l,0===t.length&&e.value({...y,[l]:""}),S({...y,[l]:t})},k=(t,l)=>{t&&(P("",window.headercellid),Z(l,window.headercellid),e.value({...y,[window.headercellid]:""},"clear"))};return n().createElement(D.Z,{onClickAway:()=>{E({})}},n().createElement(d.Z,null,n().createElement(u.Z,null,"none"==e.action?null:!0===e.isexpanded&&!e.IsSub&&n().createElement(o.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:"80px"}},n().createElement("span",{className:"trAction"},"Action")),e.IsDrag&&n().createElement(o.Z,{className:"StyledTableCellHeadStyles tbdrg"},n().createElement(v.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(w.Z,{style:{padding:"6px"},icon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:I,onChange:t=>{e.RemoveAll()}}),label:""})),s.map((t=>{return n().createElement(o.Z,{className:"StyledTableCellHeadStyles "+(c?"draftColor":"listColor"),key:t.id,sortDirection:i===t.id&&l,style:{minWidth:x.some((e=>t.id.toLowerCase().includes(e.toLowerCase())))?h[t.id]?"155px":"185px":e.colwid?e.colwid:"180px",textAlign:"Is"==t.id.slice(0,2)?"center":"left"}},h[t.id]?t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt")?n().createElement(m.Z,{value:y[t.id],label:t.name,onChange:l=>{P(l,t.id),e.value({...y,[t.id]:l,[t.id+"Type"]:"Date"})}}):n().createElement(g.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{P(e,t.id,t.type)},disabled:!1,value:-1===y[t.id]?.indexOf("%")?y[t.id]:y[t.id]?.replace(/[%]/g,""),clear:(l,a)=>{l&&(P("",t.id),Z(a,t.id),e.value({...y,[t.id]:""}))},mandatory:!1,keyPress:!0,onKeyPress:l=>{e.value({...y,[t.id]:"Number"==t.type?l:"%"+l+"%"})}}):y[t.id]?"Date"==t.type?n().createElement(m.Z,{value:y[t.id],Label:t.name,onChange:l=>{P(l,t.id),e.value({...y,[t.id]:l,[t.id+"Type"]:"Date"})}}):n().createElement(g.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{P(e,t.id,t.type)},disabled:!1,value:-1===y[t.id]?.indexOf("%")?y[t.id]:y[t.id]?.replace(/[%]/g,""),clear:(l,a)=>((t,l,a)=>{t&&(P("",a.id),Z(l,a.id),e.value({...y,[a.id]:""}))})(l,a,t),isDraft:c,mandatory:!1,keyPress:!0,onKeyPress:l=>{e.value({...y,[t.id]:"Number"==t.type?l:"%"+l+"%"})}}):n().createElement(p.Z,{"filter-title":"Sort",active:i===t.id,direction:i===t.id?l:"asc",onClick:(a=t.id,e=>{r(e,a)})},n().createElement("p",{style:{width:"max-content"}},t.name?t.name.replace(/([A-Z])\s(?=[A-Z]\b)/g,"$1"):""),i===t.id?n().createElement("span",{className:"visuallyHidden"},"desc"===l?"sorted descending":"sorted ascending"):null,!h[t.id]&&"Is"!==t.id.substring(0,2)&&!y[t.id]&&(!c&&(t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt"))?null:!e.searchdisabled&&!c&&n().createElement(b.Z,{className:"tableHeadersearch",onClick:e=>Z(e,t.id,t.name)}))));var a})))))})),k=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),[d,p]=(0,a.useState)("asc"),[m,g]=(0,a.useState)(""),[b,D]=n().useState(""),[k,N]=(0,a.useState)(!1),[R,A]=(0,a.useState)({}),[V,z]=(0,a.useState)({}),[O,B]=(0,a.useState)(!1),[F,H]=(0,a.useState)([]),[L,_]=(0,a.useState)({x:0,y:0}),[j,G]=(0,a.useState)(!1),[$,W]=(0,a.useState)(null);function M(e,t,l){return t[l]<e[l]?-1:t[l]>e[l]?1:0}function U(e,t){if(t.toLowerCase().indexOf("password")>-1){var l="";for(let t=0;t<e.length;t++)l+="*";return l}return e}return(0,a.useEffect)((()=>()=>{window.open="",N(!1)}),[]),(0,a.useImperativeHandle)(t,(()=>({clearItem:e=>{l.current.clearValue(e)},open:()=>{Z.log("of open"),window.open="",N(!1)}}))),n().createElement(c.Z,{component:i.Z,className:"tablecontainer2 scrollY",style:{height:e.height?e.height:e.IsSub?"auto":"60vh",marginTop:"5px"},onDrop:function(t){t.preventDefault();var l=t.dataTransfer.getData("ppmStaff");e.OnDrop(JSON.parse(l))},onDragOver:function(e){e.preventDefault()}},n().createElement(r.Z,{stickyHeader:!0,id:"Header"+e.id},n().createElement(P,{order:d,orderBy:m,onRequestSort:(e,t)=>{p(m===t&&"asc"===d?"desc":"asc"),g(t)},headCells:e.headerdata,isDraft:e.isdraft,value:e.searchvalue,action:e.action,TableSearchParams:e.tablesearchparams,isexpanded:e.isexpanded,ref:l,colwid:e.colwid,minWidth:e.minWidth,IsDrag:e.IsDrag,RemoveAll:e.RemoveAll,searchdisabled:e.searchdisabled}),n().createElement(s.Z,null,function(e,t){const l=e.map(((e,t)=>[e,t]));return l.sort(((e,l)=>{const a=t(e[0],l[0]);return 0!==a?a:e[1]-l[1]})),l.map((e=>e[0]))}(e.bodydata,function(e,t){return"desc"===e?(e,l)=>M(e,l,t):(e,l)=>-M(e,l,t)}(d,m)).map(((t,l)=>n().createElement(n().Fragment,null,n().createElement(u.Z,{key:l,style:{background:t.IsConflict?"#fad6a5":""},onDoubleClick:a=>{if(Z.log("onDoubleClick"),e.IsSub&&!e.EditSub)return e.onDoubleClick&&e.edit(t,e.isdraft,!0),!1;"none"!=e.edit&&e.edit(t,e.isdraft,!0),e.expanded(!0),(e=>{var t=document.querySelectorAll(".MuiTableRow-root");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";setTimeout((function(){document.getElementById(e)&&(document.getElementById(e).style.background="#e3e4e9")}),500)})(e.id+l),!0===e.isexpanded&&document.getElementById(e.id)},id:e.id+l},e.IsDrag&&n().createElement(o.Z,{className:"StyledTableCellBodyStyles tbdrg"},n().createElement(v.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(w.Z,{style:{padding:"6px"},icon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:!0,onChange:l=>{e.DraglistRw(t)}}),label:""})),"none"==e.action?null:!0===e.isexpanded&&n().createElement(o.Z,{className:"StyledTableCellBodyStyles",style:{display:"flex"}},e.IsView&&e.tableExp&&n().createElement(C.Z,{"aria-label":"expand row",size:"small",onClick:()=>{var e;b===(e=l)?(D(""),N(!1)):(D(e),N(!0))}},b===l?n().createElement(x.Z,null):n().createElement(S.Z,null)),e.accessrights.IsView&&e.viewOnly&&n().createElement(h.ZP,{title:"View",placement:"top"},n().createElement(y.Z,{className:"Viewtablecls",onClick:()=>{e.edit(t,e.isdraft,!0),e.expanded(!0),e.viewtoggle()}})),e.accessrights.IsEdit&&e.editOnly&&n().createElement(h.ZP,{title:"Edit",placement:"top"},n().createElement(E.Z,{className:"Edittablecls",onClick:()=>{e.edit(t,e.isdraft,!1),e.expanded(!0)}}))),e.bodyitem.map(((l,a)=>{let i=e.visibleitem.filter((e=>e.id==l));return"Is"==l.slice(0,2)?n().createElement(o.Z,{className:"StyledTableCellBodyStyles",key:a,style:{textAlign:"center"}},n().createElement(f.Z,{checked:"1"==t[l],disabled:!0})):"FilePath"==l?n().createElement(o.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a},n().createElement("img",{src:t[l],alt:t[l],width:"90",height:"80"})):i.length>0?n().createElement(o.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a,style:{textAlign:"numeric"==i[0].type||"smallint"==i[0].type||"int"==i[0].type?"right":"left"}},U(t[l],l)):n().createElement(o.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a},U(t[l],l))}))),n().createElement(u.Z,{key:"view"+l},n().createElement(o.Z,{style:{paddingBottom:0,paddingTop:0,paddingLeft:0,borderLeft:"20px solid #ccc"},key:"cell"+l,colSpan:8},n().createElement(I.Z,{in:b===l,timeout:"auto",unmountOnExit:!0},e.IsView&&e.ViewComp(k,t))))))))))}))}}]);