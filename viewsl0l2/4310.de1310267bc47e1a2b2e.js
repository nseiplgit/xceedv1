"use strict";(self.webpackChunk_shared_routing_viewsl0l2=self.webpackChunk_shared_routing_viewsl0l2||[]).push([[4310],{10794:(e,l,t)=>{t.d(l,{E:()=>n,p:()=>a});const n={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],showTableview:[],language:{}};function a(e,l){switch(l.type){case"count":return{...e,count:l.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:l.payload};case"IsDraft":return{...e,IsDraft:l.payload};case"loading":return{...e,loading:l.payload};case"AccessRights":return{...e,AccessRights:l.payload};case"createEasy":return{...e,createEasy:l.payload};case"ConfirmAlert":return{...e,ConfirmAlert:l.payload};case"editData":return{...e,editData:l.payload};case"ShowDetail":return{...e,ShowDetail:l.payload};case"Add":return{...e,Add:l.payload};case"viewonly":return{...e,viewonly:l.payload};case"showDetail":return{...e,showDetail:l.payload};case"ExpandTableValue":return{...e,ExpandTableValue:l.payload};case"id":return{...e,id:l.payload};case"PrimaryId":return{...e,PrimaryId:l.payload};case"token":return{...e,token:l.payload};case"showTableview":return{...e,showTableview:l.payload};case"language":return{...e,language:l.payload};default:throw new Error(`Unhandled action type: ${l.type}`)}}},13235:(e,l,t)=>{t(92950),t(8981)},24310:(e,l,t)=>{t.r(l),t.d(l,{ContextApi:()=>H,PPMStandByLogDetContext:()=>q,default:()=>z});var n=t(92950),a=t.n(n),d=t(45237),u=t(37148),p=t(3212),i=t(29800),o=t(14439),r=t(27848),s=(t(10966),t(36939)),m=t(61201),y=t(50743),c=(t(21392),t(51673)),D=t(40900),P=t(26537),S=(t(24038),t(30553)),g=(t(44528),t(61956)),I=(t(49174),t(38773),t(19089)),E=(t(99090),t(35131)),B=t.n(E),M=t(11377),C=t(1695),f=(t(13235),t(61924)),v=t.n(f),h=t(868),T=t(40826),A=(t(82729),t(75355),t(11107),t(92371));const N={EnterKeyValues:{PPMStandByLogDet:["StandByStartDateTime","StandByEndDateTime","PPMStandByCode","TotalMins","WorkOrder","FirstName"]},Label:{PPMStandByLogDet:{StandByStartDateTime:["PPMStandByCode"],StandByEndDateTime:["PPMStandByCode"],PPMStandByCode:["PPMStandByCode"],TotalMins:["PPMStandByCode"],PPMCreationAssetID:["PPMStandByCode"],EmployeeID:["PPMStandByCode"]}},LabelHeader:{PPMStandByLogDet:{StandByStartDateTime:["PPM Stand By Code"],StandByEndDateTime:["PPM Stand By Code"],PPMStandByCode:["PPM Stand By Code"],TotalMins:["PPM Stand By Code"],PPMCreationAssetID:["PPMStandByCode"],EmployeeID:["PPMStandByCode"]}},Property:{PPMStandByLogDet:{StandByStartDateTime:{id:"fld542_16329",labelID:"StandByStartDateTime",maxLength:"",labelname:"",frmctrlid:"fld542_16329",frmctrlidname:"StandByStartDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StandByEndDateTime:{id:"fld542_16330",labelID:"StandByEndDateTime",maxLength:"",labelname:"",frmctrlid:"fld542_16330",frmctrlidname:"StandByEndDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMStandByCode:{id:"fld542_10760",labelID:"PPMStandByCode",maxLength:"50",labelname:"PPM Stand By Code",frmctrlid:"fld542_10760",frmctrlidname:"PPMStandByCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},TotalMins:{id:"fld542_10763",labelID:"TotalMins",maxLength:"",labelname:"Total Mins",frmctrlid:"fld542_10763",frmctrlidname:"TotalMins",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAssetID:{id:"fld542_10764",clearID:"PPMStandByLogDetWorkOrderClear",type:"select",labelID:"PPMCreationAssetIDPK",labelname:"PPMCreationAssetCode",fielddisplayname:"WorkOrder",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},EmployeeID:{id:"fld542_10765",clearID:"PPMStandByLogDetFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"FirstName",fielddisplayname:"FirstName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMStandByLogDet:{PPMCreationAssetID:["ContractID","BuildingID","AssetID","DisciplineID","DivisionID","FloorID","FrequencyID","SpotID"],EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"]}}};var b=t(99940),L=t(63163),w=t(63750),k=t(45155),x=(t(79117),t(8981));const F={PPMStandByIDPK:"",PPMStandByCode:"",StandByStartDateTime:"",StandByStartDateTimeType:"",StandByStartDateTimeBetween:"",StandByEndDateTime:"",StandByEndDateTimeType:"",StandByEndDateTimeBetween:"",StandByTotalMins:"",PPMStandByEmpRemarks:"",IsDraft:!1,Remarks:"",PPMCreationAssetID:null,EmployeeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:null,EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",Type:"PPMStandByID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},O=(0,n.forwardRef)(((e,l)=>{(0,d.useSelector)((e=>e.form));const t=(0,d.useDispatch)(),[p,i]=(0,n.useState)("1"),[s,m]=(0,n.useReducer)(A.Z,F),[y,E]=(0,n.useState)(!1),[f,O]=(0,n.useState)([]),Z=(0,n.useContext)(q),{cstate:R,cdispatch:G}=H(),[K,W]=(0,n.useState)(""),[Y,_]=(0,n.useState)(""),[V,j]=(0,n.useState)(""),[U,z]=(0,n.useState)(""),[J,$]=(0,n.useState)(!0),[Q,X]=(0,n.useState)(!0),[ee,le]=(0,n.useState)(!1);let te=(0,x.Z)();const ne=e=>te?.[e]?te[e]:e,ae=e=>R.language?.[e]?R.language[e]:e;(0,n.useEffect)((()=>{R.PrimaryId&&W(Number(R.PrimaryId))}),[R.PrimaryId]),(0,n.useEffect)((()=>{t((e=>{0==R.token.length&&(0,P.Z)(1).then((l=>{var t=new Array;t.push(l),e({type:"PPMStandByLogDetToken",PPMStandByLogDetToken:t})}))})),ie()}),[]),(0,n.useEffect)((()=>{R.editData.length>0?pe(R.editData[0],""):R.Add&&ie()}),[R.editData]),(0,n.useImperativeHandle)(l,(()=>({clear:ie})));const de=e=>{if(e){let t=(l=e)?l.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(t)?(0,T.format)(new Date(t),"yyyy-MM-dd"):e}return null;var l},ue=e=>{if(!e)return e;if(e){let l=e.split(" "),t=l[0].split("-").reverse().join("-");return 2==l.length?t+" "+l[1]:t}},pe=(l,t)=>{let n=l;Object.keys(n).forEach((function(e){0==n[e]&&(n[e]=null)})),W(n.PPMStandByIDPK),m({type:"text",name:"StandByStartDateTime",value:n.StandByStartDateTime?ue(n.StandByStartDateTime):null}),m({type:"text",name:"StandByEndDateTime",value:n.StandByEndDateTime?ue(n.StandByEndDateTime):null}),"SetDefaultPPMStandByID"==t?_(n.PPMStandByIDPK):(W(e.primid?Number(e.primid):n.PPMStandByIDPK?n.PPMStandByIDPK:0),G({type:"PrimaryId",payload:n.PPMStandByIDPK})),m({type:"text",name:"PPMStandByCode",value:n.PPMStandByCode?n.PPMStandByCode:""}),m({type:"number",name:"TotalMins",number:n.TotalMins}),m({type:"number",name:"PPMCreationAssetID",number:n.PPMCreationAssetID?Number(n.PPMCreationAssetID):0}),m({type:"text",name:"WorkOrder",value:n.WorkOrder}),m({type:"number",name:"EmployeeID",number:n.EmployeeID?Number(n.EmployeeID):0}),m({type:"text",name:"FirstName",value:n.FirstName}),n.IsActive&&i("1"==n.IsActive)},ie=()=>{W(""),m({type:"text",name:"StandByStartDateTime",value:null}),m({type:"text",name:"StandByEndDateTime",value:null}),G({type:"PrimaryId",payload:""}),m({type:"text",name:"PPMStandByCode",value:""}),m({type:"number",name:"TotalMins",number:0}),m({type:"text",name:"PPMCreationAssetID",value:null}),m({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMStandByLogDetWorkOrderClear")&&document.getElementById("PPMStandByLogDetWorkOrderClear").click(),m({type:"text",name:"EmployeeID",value:null}),m({type:"text",name:"FirstName",value:""}),document.getElementById("PPMStandByLogDetFirstNameClear")&&document.getElementById("PPMStandByLogDetFirstNameClear").click(),i(!0)},oe=e=>{Z.loading(!0),Z.ConfirmAlert(null);const l=D.v.Api+"FP542S2/",t={data:[{p1:"SetDefaultPPMStandByID"==e?"NORECORDS"!=Y&&Y?Y:0:K,p2:Se(s.PPMStandByCode),p3:s.StandByStartDateTime?de(s.StandByStartDateTime):null,p4:s.StandByEndDateTime?de(s.StandByEndDateTime):null,p5:s.StandByTotalMins?Number(s.StandByTotalMins):0,p6:Se(s.PPMStandByEmpRemarks),p7:!1,p8:"SetDefaultPPMStandByID"==e?"SetDefault":null,p9:s.PPMCreationAssetID?s.PPMCreationAssetID:0,p10:s.EmployeeID?s.EmployeeID:0,p11:p,p12:"SetDefaultPPMStandByID"==e,p13:localStorage.getItem("userid"),p14:B()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:B()().format("YYYY-MM-DD hh:mm:ss")}]};(0,P.Z)(0).then((n=>{(0,c.Z)(l,t,n).then((l=>{const t=l.Output[0].status;let n=l.Output[0].Data,a=new Array,d=new Array;"200"===t.code&&(n.map((e=>{e&&(a.push(e.IsAlert),d.push(e.AlertMessage),e.AlertMessage)})),a.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:d}),Z.loading(!1)):re(e))}))}))},re=e=>{$(!0),X(!0),Z.loading(!0),Z.ConfirmAlert(null);const l=D.v.Api+"FP542S1/",t={data:[{p1:"SetDefaultPPMStandByID"==e?"NORECORDS"!=Y&&Y?Y:0:K,p2:Se(s.PPMStandByCode),p3:s.StandByStartDateTime?de(s.StandByStartDateTime):null,p4:s.StandByEndDateTime?de(s.StandByEndDateTime):null,p5:s.StandByTotalMins?Number(s.StandByTotalMins):0,p6:Se(s.PPMStandByEmpRemarks),p7:!1,p8:"SetDefaultPPMStandByID"==e?"SetDefault":null,p9:s.PPMCreationAssetID?s.PPMCreationAssetID:0,p10:s.EmployeeID?s.EmployeeID:0,p11:p,p12:"SetDefaultPPMStandByID"==e,p13:localStorage.getItem("userid"),p14:B()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:B()().format("YYYY-MM-DD hh:mm:ss")}]};(0,P.Z)(0).then((e=>{(0,g.Z)(l,t,e).then((e=>{const l=e[0].status;200==l.code?(Z.alert({open:!0,color:"success",message:[l.message]}),Z.attachmentSave(e[0].Data.IDPK),Z.loading(!1),Z.RefreshTable(),R.AccessRights.IsApproval&&Z.Approval(!0),ie(),document.getElementById("overlayimgAttPPMStandByLogDet")&&(document.getElementById("overlayimgAttPPMStandByLogDet").style.width="0%",document.getElementById("overlayimgAttPPMStandByLogDet").style.display="none",document.getElementById("divPPMStandByLogDet-Entry").style.width="100%")):(Z.alert({open:!0,color:"warning",message:[l.message]}),Z.loading(!1)),se(1,null,"SetDefaultPPMStandByID",R.token[0])}))}))},se=(l,t,n,a,d,u)=>{const p=D.v.Api+"FP542S3/",i={data:{p1:null,p2:null,p3:s.StandByStartDateTime?s.StandByStartDateTime:null,p4:null,p5:null,p6:s.StandByEndDateTime?s.StandByEndDateTime:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:"0"==s.PPMCreationAssetID?null:s.PPMCreationAssetID,p14:"0"==s.EmployeeID?null:s.EmployeeID,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:"0"==s.ContractID?null:s.ContractID,p23:t?"%"+t+"%":null,p24:t?"%"+t+"%":null,p25:"0"==s.LocalityID?null:s.LocalityID,p26:t?"%"+t+"%":null,p27:t?"%"+t+"%":null,p28:"0"==s.BuildingID?null:s.BuildingID,p29:t?"%"+t+"%":null,p30:t?"%"+t+"%":null,p31:"0"==s.FloorID?null:s.FloorID,p32:t?"%"+t+"%":null,p33:t?"%"+t+"%":null,p34:"0"==s.SpotID?null:s.SpotID,p35:t?"%"+t+"%":null,p36:t?"%"+t+"%":null,p37:"0"==s.DivisionID?null:s.DivisionID,p38:t?"%"+t+"%":null,p39:t?"%"+t+"%":null,p40:"0"==s.DisciplineID?null:s.DisciplineID,p41:t?"%"+t+"%":null,p42:t?"%"+t+"%":null,p43:"0"==s.FrequencyID?null:s.FrequencyID,p44:t?"%"+t+"%":null,p45:t?"%"+t+"%":null,p46:"0"==s.AssetID?null:s.AssetID,p47:t?"%"+t+"%":null,p48:t?"%"+t+"%":null,p49:t?"%"+t+"%":null,p50:t?"%"+t+"%":null,p51:t?"%"+t+"%":null,p52:t?"%"+t+"%":null,p53:t?"%"+t+"%":null,p54:t?"%"+t+"%":null,p55:"0"==s.PPMBusinessFlowID?null:s.PPMBusinessFlowID,p56:t?"%"+t+"%":null,p57:t?"%"+t+"%":null,p58:t?"%"+t+"%":null,p59:"0"==s.PPMFixonBusinessFlowID?null:s.PPMFixonBusinessFlowID,p60:t?"%"+t+"%":null,p61:t?"%"+t+"%":null,p62:"0"==s.PPMStageID?null:s.PPMStageID,p63:t?"%"+t+"%":null,p64:t?"%"+t+"%":null,p65:t?"%"+t+"%":null,p66:s.WoDateTime?s.WoDateTime:null,p67:null,p68:null,p69:"0"==s.ShiftID?null:s.ShiftID,p70:t?"%"+t+"%":null,p71:t?"%"+t+"%":null,p72:"0"==s.ClassificationID?null:s.ClassificationID,p73:t?"%"+t+"%":null,p74:t?"%"+t+"%":null,p75:"0"==s.DepartmentID?null:s.DepartmentID,p76:t?"%"+t+"%":null,p77:t?"%"+t+"%":null,p78:"0"==s.DesignationID?null:s.DesignationID,p79:t?"%"+t+"%":null,p80:t?"%"+t+"%":null,p81:"0"==s.NationalityID?null:s.NationalityID,p82:t?"%"+t+"%":null,p83:t?"%"+t+"%":null,p84:"0"==s.EmpWorkNatureID?null:s.EmpWorkNatureID,p85:t?"%"+t+"%":null,p86:t?"%"+t+"%":null,p87:"0"==s.EmployeeTypeID?null:s.EmployeeTypeID,p88:t?"%"+t+"%":null,p89:t?"%"+t+"%":null,p90:"0"==s.EmploymentTypeID?null:s.EmploymentTypeID,p91:t?"%"+t+"%":null,p92:t?"%"+t+"%":null,p93:"0"==s.EmployeeGroupID?null:s.EmployeeGroupID,p94:t?"%"+t+"%":null,p95:t?"%"+t+"%":null,p96:"0"==s.EmpGradeID?null:s.EmpGradeID,p97:t?"%"+t+"%":null,p98:t?"%"+t+"%":null,p99:"0"==s.CityID?null:s.CityID,p100:t?"%"+t+"%":null,p101:t?"%"+t+"%":null,p102:"0"==s.RegionID?null:s.RegionID,p103:t?"%"+t+"%":null,p104:t?"%"+t+"%":null,p105:"0"==s.CountryID?null:s.CountryID,p106:t?"%"+t+"%":null,p107:t?"%"+t+"%":null,p108:"0"==s.EmpGenderID?null:s.EmpGenderID,p109:t?"%"+t+"%":null,p110:"0"==s.EmpTitleID?null:s.EmpTitleID,p111:t?"%"+t+"%":null,p112:l,p113:10,p114:n,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},o=Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,l,t)=>(e[l]=t>Object.keys(i.data).length-8?i.data[l]:null,e)),{});E(!0);const r={data:o};return(0,c.Z)(p,"ClearAll"==n?r:i,"SetDefaultPPMStandByID"==n&&a?a:R.token[0]).then((e=>{const t=e.Output.status.code,a=e.Output.data;if("200"==t){const e=a.length;if(d)return 1==a.length?a[0]:{};O(1==l?e>0?a:[]:f.concat(a)),"SetDefaultPPMStandByID"==n&&(e>0?pe(a[0],"SetDefaultPPMStandByID"):_("NORECORDS")),E(!1)}else Z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),E(!1)}))},me=(l,t,n)=>{const a=D.v.Api+"FP542S3/",d={data:{p1:null,p2:"PPMStandByCode"==n&&t?"%"+t+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"StandByTotalMins"==n&&t?"%"+t+"%":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:l,p113:10,p114:"PPMStandByID",p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},u={data:Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,l,t)=>(e[l]=t>Object.keys(d.data).length-8?d.data[l]:null,e)),{})};E(!0),(0,c.Z)(a,"ClearAll"==n?u:d,R.token[0]).then((e=>{const t=e.Output.status.code,a=e.Output.data;if("200"==t){const e=a.length;1==l?("PPMStandByCode"==n&&$(e>0),"TotalMins"==n&&X(e>0),O(a)):("PPMStandByCode"==n&&$(!0),"TotalMins"==n&&X(!0),O(f.concat(a))),E(!1)}else Z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),E(!1)}))},ye=(0,n.useCallback)((async(e,l,t)=>{"text"==t?m({type:t,name:l,value:e}):"number"==t?m({type:t,name:l,number:Number(e)}):"boolean"==t?m({type:t,name:l,boolean:e}):"date"==t&&m({type:"text",name:l,value:e})}),[s]);function ce(e){if("PPMCreationAssetID"==e){if(!s.PPMCreationAssetID)return!1}else if("EmployeeID"==e&&!s.EmployeeID)return!1}function De(e){if("PPMCreationAssetID"==e){if(!s.PPMCreationAssetID)return!1}else if("EmployeeID"==e&&!s.EmployeeID)return!1}const Pe=e=>{Z.ConfirmAlert(a().createElement(v(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>function(e){Z.ConfirmAlert(null),m({type:"text",name:"StandByStartDateTime",value:e.StandByStartDateTime?ue(e.StandByStartDateTime):null}),m({type:"text",name:"StandByEndDateTime",value:e.StandByEndDateTime?ue(e.StandByEndDateTime):null}),m({type:"text",name:"PPMStandByCode",value:e.PPMStandByCode?e.PPMStandByCode:""}),m({type:"text",name:"TotalMins",value:e.TotalMins?e.TotalMins:""}),m({type:"number",name:"PPMCreationAssetID",number:e.PPMCreationAssetID?Number(e.PPMCreationAssetID):0}),m({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:""}),m({type:"number",name:"EmployeeID",number:e.EmployeeID?Number(e.EmployeeID):0}),m({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:""})}(e),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ne("Yes"),cancelBtnText:ne("No"),showCancel:!0},ne("Do you want to update this record?")))},Se=e=>"string"==typeof e?e.trim():e;return a().createElement("div",null,a().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},a().createElement("div",{className:"displayFlex EntryHeader"},a().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[542]"},ne("Add"),ae(542))),a().createElement("div",{className:"displayFlex EntryHeaderBtn"},R.AccessRights.IsDelete&&a().createElement("div",{className:"GridAlign"},a().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},a().createElement(b.FormGroup,{row:!0},a().createElement(S.Z,{labelPlacement:"bottom",id:"fld542L0ECEntryCheckbox",control:a().createElement(L.Z,{checked:"1"==p,onChange:e=>i(e.target.checked)}),label:ne(1==p?"Active":"In Active")})))),K||!R.AccessRights.IsAdd||!Y&&"NORECORDS"!=Y?!K&&a().createElement(h.ZP,{placement:"top",title:"Get Default"},a().createElement("div",{className:"GridAlignDefault",onClick:()=>{se(1,null,"SetDefaultPPMStandByID",R.token[0])},id:"fld542L0ECGetDefault"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement(w.j39,{className:"Iconstyles"})),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,ne("GetDefault"))))):a().createElement(h.ZP,{placement:"top",title:"Set Default"},a().createElement("div",{className:"GridAlignDefault",onClick:()=>{re("SetDefaultPPMStandByID")},id:"fld542L0ECSetDefault"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement(w.j39,{className:"Iconstyles"})),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,ne("SetDefault"))))),a().createElement(h.ZP,{placement:"top",title:"Attach"},a().createElement("div",{className:"GridAlign",onClick:()=>{Z.AttachExpand(!0)},id:"fld542L0ECIconButton"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement("div",{disableRipple:!0,disabled:!1},a().createElement(k.Ypb,{className:"Iconstyles"}))),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,ne("Attach"))))),!R.PrimaryId&&a().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ie()},id:"fld542L0ECClearBtn"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement(k.pYJ,{className:"Iconstyles"})),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,ne("Reset")))),R.AccessRights.IsAdd&&a().createElement(C.Z,{name:R.PrimaryId?"Update":"Save",disabled:!1,onClick:()=>{Se(s.PPMStandByCode)?s.PPMCreationAssetID&&0!=s.PPMCreationAssetID?s.EmployeeID&&0!=s.EmployeeID?Z.ConfirmAlert(a().createElement(v(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ne("Are you sure?"),onConfirm:()=>oe(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ne("Yes"),cancelBtnText:ne("Cancel"),showCancel:!0},R.PrimarId?ne("Do you want to Update?"):ne("Do you want to Save?"))):Z.alert({open:!0,color:"warning",message:[ne("Please select the ")+" "+ae("EmployeeID")]}):Z.alert({open:!0,color:"warning",message:[ne("Please select the ")+" "+ae("PPMCreationAssetID")]}):Z.alert({open:!0,color:"warning",message:[ne("Please enter the")+""+ae("PPMStandByCode")]})}}),R.editData.length>0&&a().createElement(u.Z,{disabled:!1,onClick:()=>{ie(),Z.RefreshTable(!1)}}))),a().createElement("div",{id:"PPMStandByLogDet-Main",className:"width100 displayFlex componentMainDiv cardDiv"},a().createElement("div",{id:"PPMStandByLogDet-Detail",className:"detailCard detailDiv"},a().createElement("div",{id:"PPMStandByLogDet-MainBody",className:"padding paddingLeft"},a().createElement("div",null,a().createElement(o.Z,{spacing:2},a().createElement(r.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},a().createElement(I.Z,{"data-testid":s.StandByStartDateTime,value:s.StandByStartDateTime,skipMin:!0,onErr:e=>{j(e)},onChange:e=>{ye(e,"StandByStartDateTime","date")},label:ae("StandByStartDateTime"),frmctrlid:"fld542_16329",frmctrlidName:"StandByStartDateTime",fieldorder:"1"})),a().createElement(r.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},a().createElement(I.Z,{"data-testid":s.StandByEndDateTime,value:s.StandByEndDateTime,skipMin:!0,onErr:e=>{z(e)},onChange:e=>{ye(e,"StandByEndDateTime","date")},label:ae("StandByEndDateTime"),frmctrlid:"fld542_16330",frmctrlidName:"StandByEndDateTime",fieldorder:"2"})),a().createElement(r.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(M.Z,{"data-testid":s.PPMStandByCode,json:N,SPName:"PPMStandByLogDet",FieldName:"PPMStandByCode",tfLabel:ae("PPMStandByCode"),EnterSave:l=>{l&&e.submitConfirmation(l)},onSelect:l=>!e.createEasy&&Pe(l),onClick:()=>{J&&me(1,"","ClearAll"),$(!0)},frmctrlid:"fld542_10760",frmctrlidName:"PPMStandByCode",fieldorder:"3",data:f,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:f.length>0?f[0].TotalCount:0,onChange:(e,l)=>{J&&me(e,l,"PPMStandByCode"),ye(l,"PPMStandByCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||$(!0)},showList:J,SideEntryView:!1,KeyBack:e=>{},value:s.PPMStandByCode,loading:y,clear:e=>{e&&(m({type:"text",name:"PPMStandByCode",value:""}),$(!0))}})),a().createElement(r.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(M.Z,{"data-testid":s.TotalMins,json:N,SPName:"PPMStandByLogDet",FieldName:"TotalMins",tfLabel:ae("TotalMins"),EnterSave:l=>{l&&e.submitConfirmation(l)},onSelect:l=>!e.createEasy&&Pe(l),onClick:()=>{Q&&me(1,"","ClearAll"),X(!0)},frmctrlid:"fld542_10763",frmctrlidName:"TotalMins",fieldorder:"4",data:f,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:f.length>0?f[0].TotalCount:0,onChange:(e,l)=>{Q&&me(e,l,"TotalMins"),ye(l,"TotalMins","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||X(!0)},showList:Q,SideEntryView:!1,KeyBack:e=>{},value:s.TotalMins,loading:y,clear:e=>{e&&(m({type:"text",name:"TotalMins",value:""}),X(!0))}})),a().createElement(r.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(M.Z,{json:N,id:s.PPMCreationAssetID,"data-testid":s.PPMCreationAssetID,value:s.WorkOrder,SPName:"PPMStandByLogDet",FieldName:"PPMCreationAssetID",tfLabel:ae("PPMCreationAssetID"),EnterSave:l=>{l&&e.submitConfirmation(l)},SideEntryView:!1,onSelect:e=>ye(e,"PPMCreationAssetID","select"),onChange:(e,l)=>{se(e,l,"PPMCreationAssetIDPK")},KeyBack:e=>{De("PPMCreationAssetID")},fieldorder:"1",data:f,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:f.length>0?f[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:y,clear:e=>{e&&ce("PPMCreationAssetID")}})),a().createElement(r.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(M.Z,{json:N,id:s.EmployeeID,"data-testid":s.EmployeeID,value:s.FirstName,SPName:"PPMStandByLogDet",FieldName:"EmployeeID",tfLabel:ae("EmployeeID"),EnterSave:l=>{l&&e.submitConfirmation(l)},SideEntryView:!1,onSelect:e=>ye(e,"EmployeeID","select"),onChange:(e,l)=>{se(e,l,"EmployeeIDPK")},KeyBack:e=>{De("EmployeeID")},fieldorder:"2",data:f,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:f.length>0?f[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:y,clear:e=>{e&&ce("EmployeeID")}}))))))))}));t(77366),t(97829);var Z=t(65197);const R=(0,n.forwardRef)(((e,l)=>{const t=(0,n.useRef)(),[u,o]=((0,d.useSelector)((e=>e.form)),(0,n.useState)([])),[r,S]=(0,n.useState)(!0),[g,I]=(0,n.useState)(e.showDetail),[E,B]=(0,n.useState)(""),[M,C]=a().useState(!1),[f,v]=a().useState(""),[h,T]=a().useState(!1),A=(0,n.useContext)(q),{cstate:N,cdispatch:b}=H(),[L,w]=(0,n.useState)(!1),[k,F]=(0,n.useState)(""),[R,G]=(0,n.useState)(""),[K,W]=(0,n.useState)("");let Y=(0,x.Z)();(0,n.useEffect)((()=>{o(N.editData)}),[N.editData]),(0,n.useImperativeHandle)(l,(()=>({tableClick:e=>{S(e),C(null)},viewtoggle:()=>{C(!1)},viewlistProps:(l,t)=>{!function(l,t=!1){let n=D.v.Api+"FP542S3/",a={data:{p1:l,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:1,p113:10,p114:N.IsDraft?"DraftPPMStandByID":"PPMStandByID",p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,P.Z)(0).then((e=>{(0,c.Z)(n,a,e).then((e=>{A.loading(!1),"200"==e.Output.status.code&&o(e.Output.data)}))}))}(l,t)},clear:()=>{"panel0"===M&&t.current.clear()}})));const _=e=>Y?.[e]?Y?.[e]:e,V=e=>N.language?.[e]?N.language[e]:e;function j(e,l){}return a().createElement("div",null,a().createElement(s.Z,{expanded:r,onChange:()=>()=>{e.expandTable&&S(!r)}},!M&&a().createElement(y.Z,null,a().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r?a().createElement("div",{className:"displayFlex EntryViewHeader"}):a().createElement("div",{className:"displayFlex EntryHeaderBtn"},N.AccessRights.IsEdit?a().createElement(i.Z,{frmctrlid:"fld542L0VCEditBtn",onClick:()=>{A.edit()},disabled:!1}):"",0==N.editData.length&&N.AccessRights.IsAdd?a().createElement(p.Z,{className:"L1AddBtnCommon",frmctrlid:"fld542L0VCAddBtn",onClick:()=>{b({type:"Add",payload:!0})},disabled:!1}):""))),a().createElement(m.Z,{style:{display:"block"}},u.map(((e,l)=>a().createElement("div",{key:l},M==="panel"+l?a().createElement(O,{ref:t}):a().createElement(a().Fragment,null,a().createElement(Z.Z,{tableName:"PPMStandByLogDet",tableID:542,parentID:e.PPMStandByIDPK,fldid:"fld542L0VCContainer",OpenSlideComponent:j,index:l,val:e,tf:V,t:_,title:"10.0.0.59-3:08:17 PM-18-7[542]"}))))))))}));var G=t(67698),K=t(55995),W=t(45965),Y=t(10794),_=t(9175),V=t.n(_),j=t(71168),U=t.n(j);const q=(0,n.createContext)(),H=()=>{const e=(0,n.useContext)(q);if(void 0===e)throw new Error("ContextApi must be used within  PPMStandByLogDetContext Provider");return e},z=function(e){const l=(0,n.useRef)(),t=(0,n.useRef)(),u=(0,n.useRef)(),p=(0,n.useRef)(),i=((0,d.useSelector)((e=>e.form)),(0,d.useDispatch)()),[o,r]=(0,n.useState)(!0),[s,m]=(0,n.useState)(!1),[y,S]=(0,n.useState)(0),[g,I]=(0,n.useState)(!1),[E,B]=(0,n.useState)(),[M,C]=(0,n.useReducer)(Y.p,Y.E),[f,v]=(0,n.useState)([]),[h,T]=(0,n.useState)(!1),[A,N]=U()("542");(0,n.useEffect)((()=>{document.getElementById("divPPMStandByLogDet-Entry").style.width="100%",document.getElementById("PPMStandByLogDet-MainEntry").style.width="auto",document.getElementById("PPMStandByLogDet-MainEntry").style.height="80vh",document.getElementById("PPMStandByLogDet-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStandByLogDet-MainDiv").classList.add("displayGrid")}),[]),(0,n.useEffect)((()=>{m(!0),document.getElementById("divPPMStandByLogDet-Entry").style.width="100%",document.getElementById("PPMStandByLogDet-MainEntry").style.width="auto",document.getElementById("PPMStandByLogDet-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStandByLogDet-MainDiv").classList.add("displayGrid")}),[]),(0,n.useEffect)((()=>{!function(e){let l=[],t=[],n=[],a=[];e.map((e=>{"1"==e.IsVisible&&(l.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(t.push(e.FieldDisplay),n.push(e.FieldDescription)));let d=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[d]]})})),C({type:"language",payload:Object.assign({},...a)})}(A)}),[A]);const b=e=>{document.getElementById("divPPMStandByLogDet-Entry").style.width="100%",document.getElementById("PPMStandByLogDetEntryTable").style.width="100%",document.getElementById("PPMStandByLogDet-MainEntry").style.width="auto",document.getElementById("PPMStandByLogDet-MainEntry").style.display="block",document.getElementById("PPMStandByLogDet-MainEntry").style.height="80vh",document.getElementById("PPMStandByLogDet-MainDiv").classList.add("displayFlex"),document.getElementById("PPMStandByLogDet-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMStandByLogDet").style.width="0%",document.getElementById("overlayimgAttPPMStandByLogDet").style.display="none"};(0,n.useEffect)((()=>{i((e=>{(0,P.Z)(1).then((e=>{var l=new Array;l.push(e),C({type:"token",payload:l}),w(e),S(l.length),L(e)}))}))}),[]);const L=e=>{(0,W.Z)(e,542).then((e=>C({type:"AccessRights",payload:e})))},w=l=>{r(!0);let t=D.v.Api+"FP542S3/",n={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:1,p113:10,p114:"PPMStandByID",p115:null,p116:null,p117:null,p118:null}};(0,c.Z)(t,n,l).then((e=>{r(!1),"200"==e.Output.status.code&&(e.Output.data.length>0?e.Output.data&&C({type:"editData",payload:e.Output.data}):C({type:"editData",payload:[]}))}))};return a().createElement("div",null,a().createElement(q.Provider,{value:{cstate:M,cdispatch:C,ContextApi:H,loading:l=>e.loading(l),alert:l=>e.alertmsg(l),ConfirmAlert:l=>e.ConfirmAlert(l),SlideComponentType:l=>e.SlideComponentType(l),openNav:l=>e.openNav(l),AttachExpand:e=>(u.current.AttachmentData(M.PrimaryId),void(s&&(document.getElementById("overlayimgAttPPMStandByLogDet").style.width="25%",document.getElementById("divPPMStandByLogDet-Entry").style.width="100%",document.getElementById("PPMStandByLogDet-MainEntry").style.width="auto",document.getElementById("PPMStandByLogDet-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMStandByLogDet-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMStandByLogDet").style.display="block",document.getElementById("PPMStandByLogDetEntryTable").style.width="100%"))),RefreshTable:()=>{w(M.token[0]),I(!1)},edit:()=>I(!0),attachmentSave:e=>{p.current.tempsave(e,f),v([])}}},a().createElement("div",{id:"PPMStandByLogDet-MainDiv",className:"MainDivStyles displayFlex"},a().createElement("div",{id:"PPMStandByLogDet-MainEntry",className:"Maincontent"},0==M.editData.length?a().createElement("div",{style:{display:"flex"}},a().createElement("div",{id:"PPMStandByLogDetEntryTable",style:{width:"100%"}},a().createElement("div",{className:"displayFlex width100"},a().createElement("div",{id:"divPPMStandByLogDet-Entry",style:{width:"100%"}},a().createElement(O,{ref:l,parentId:e.parentId}))),a().createElement(K.Z,{ref:p,fileId:"LogoImgPPMStandByLogDet",menurefID:542,imgloading:e=>B(e),valueIDPK:M.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewPPMStandByLogDet",tempImg:e=>{u.current.tempImg(e),v(e)},clearTempData:M.Add})),a().createElement(G.Z,{ImgAttachment:e=>b(),menurefID:542,fileId:"AttImgPPMStandByLogDet",imgid:"overlayimgAttPPMStandByLogDet",valueIDPK:M.PrimaryId,PriviewData:(e,l,t,n)=>{p.current.PriviewItem(e,l,t,n)},ref:u,previd:"overlayPreviewPPMStandByLogDet",ConfirmAlert:l=>{e.ConfirmAlert(l)},imgloading:E,timglist:e=>p.current.timglist(e)})):a().createElement("div",null,g?a().createElement("div",{style:{display:"flex"}},a().createElement("div",{id:"PPMStandByLogDetEntryTable",style:{width:"100%"}},a().createElement("div",{className:"displayFlex width100"},a().createElement("div",{id:"divPPMStandByLogDet-Entry",style:{width:"100%"}},a().createElement(O,{ref:l,parentId:e.parentId}))),a().createElement(K.Z,{ref:p,fileId:"LogoImgPPMStandByLogDet",menurefID:542,imgloading:e=>B(e),valueIDPK:M.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewPPMStandByLogDet",tempImg:e=>{u.current.tempImg(e),v(e)},clearTempData:M.Add})),a().createElement(G.Z,{ImgAttachment:e=>b(),menurefID:542,fileId:"AttImgPPMStandByLogDet",imgid:"overlayimgAttPPMStandByLogDet",valueIDPK:M.PrimaryId,PriviewData:(e,l)=>{p.current.PriviewItem(e,l)},ref:u,previd:"overlayPreviewPPMStandByLogDet",ConfirmAlert:l=>{e.ConfirmAlert(l)},imgloading:E,clearTempData:M.Add})):a().createElement("div",{id:"divPPMStandByLogDet-Entry"},0!==y?a().createElement(R,{ref:t,parentId:e.parentId}):null)))),!e.inboxdata&&h&&a().createElement(V(),{openDialog:h,closeDialog:e=>T(e),formID:542,PrimID:e.parentId,alert:(e,l,t)=>{},loading:l=>{e.loading(l)}})))}}}]);