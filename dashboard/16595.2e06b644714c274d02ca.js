"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[16595,92772],{96071:(e,t,l)=>{l(92950),l(8981)},29800:(e,t,l)=>{l.d(t,{Z:()=>s});var a=l(92950),n=l.n(a),r=l(282),i=l(868),o=l(8981);function s(e){let t=(0,o.Z)();return n().createElement(i.ZP,{placement:"top",title:"Edit"},n().createElement(r.Z,{className:"AddBtnCommon boxShadowNone",disabled:e.disabled,id:e.frmctrlid,onClick:e.onClick},(l="Edit",t?.[l]?t[l]:l)));var l}},13235:(e,t,l)=>{l(92950),l(8981)},59562:(e,t,l)=>{l.r(t),l.d(t,{default:()=>x});var a=l(92950),n=l.n(a),r=l(52663),i=l(66856),o=l(29525),s=l(82285),c=l(99173),d=(l(61504),l(99090)),m=l(1695),p=l(40900),u=l(26537),g=l(51673),f=l(30553),b=l(13258),h=l(62810),E=l(17149),y=l(92762),I=l(55905),D=l(25108);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},S.apply(this,arguments)}const v=n().forwardRef((function(e,t){return n().createElement(s.Z,S({direction:"down",ref:t},e))}));function x(e){const[t,l]=(0,a.useState)(""),[s,S]=(0,a.useState)([]),[x,C]=(0,a.useState)(!1),[T,w]=(0,a.useState)(""),[Z,N]=(0,a.useState)([]),[k,P]=(0,a.useState)(""),[A,O]=(0,a.useState)(""),[R,F]=(0,a.useState)(""),[V,L]=(0,a.useState)([]),[z,U]=(0,a.useState)(!1),[B,H]=(0,a.useState)({open:!1,color:"",message:[]});(0,a.useEffect)((()=>{e.PrimID&&function(){let t=3;"700"==e.formID&&(t=1),"355"==e.formID&&(t=6),"345"==e.formID&&(t=3),"854"==e.formID&&(t=3),"853"==e.formID&&(t=3),"783"==e.formID&&(t=5),"914"==e.formID&&(t=7),"910"==e.formID&&(t=8),"396"==e.formID&&(t=13),"290"==e.formID&&(t=14),"702"==e.formID&&(t=18),"1787"==e.formID&&(t=19),"682"!=e.formID&&"683"!=e.formID||(t=3),"355"==e.formID&&(t=6),"1302"==e.formID&&(t=20),"430"==e.formID&&(t=17);let a=p.v.Api+"FPC2S3/",n={data:{p1:e.formID,p2:localStorage.getItem("userid"),p3:e.PrimID,p4:e.PrimID,p5:0,p6:t}};D.log("result","userlist--LEVEL DAShBoard"),(0,u.Z)(0).then((t=>{(0,g.Z)(a,n,t).then((t=>{if("200"==t.Output.status.code)if(t.Output.data.length>0){let a=t.Output.data,n=[];l(a[0].Msg),"No Approval"==a[0].Msg.trim()?(e.closeDialog(!1),C(!1),S([]),e.loading(!1)):"Final Approval"==a[0].Msg||"Final Reject"==a[0].Msg?(P(a[0].HierarchyDetailsIDPK),O(a[0].Msg),F(t.Output.data[0].Msg),S([]),C(!0),e.loading(!1)):(S(a),a.map((e=>{n.push({User:e.UserID,UserName:e.UserName})})),P(a[0].HierarchyDetailsIDPK),O(a[0].Msg),F(""),e.openDialog&&C(!0),e.loading(!1))}else{e.alert({open:!0,color:"error",message:"There is no hierarchy"},"","");let l=t.Output.data;S(l)}}))}))}(),D.log("PrimID",e.PrimID)}),[e.PrimID,e.openDialog]);const M=["UserName"],j=e=>{if(V.length>0){const t="UserID".slice(0,-2);return V.filter((l=>l[t]==e.UserID)).length>0}return!1},W=s.map(((e,t)=>n().createElement("li",{key:t},n().createElement("label",{tabIndex:"1",id:"Appr"+e[Object.keys(e)[0]],className:"FilterItemDiv displayFlex "},n().createElement("div",{className:"DropdownLabelValues Level2Tooltip"},n().createElement(f.Z,{style:{marginLeft:0,color:"#3873bb"},onClick:e=>{e.stopPropagation()},control:n().createElement(b.Z,{for:"Appr"+e[Object.keys(e)[0]],style:{padding:" 10px",opacity:"1",position:"relative",height:"100%",width:"auto",minWidth:"auto"},icon:n().createElement(E.Z,{fontSize:"small"}),checkedIcon:n().createElement(h.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:j(e),onChange:t=>{((e,t)=>{if(P(e.HierarchyDetailsIDPK),O(e.Msg),0==t){const t="UserID".slice(0,-2);return L(V.filter((l=>l[t]!=e.UserID))),V.filter((l=>l[t]!=e.UserID)),!1}let l=[];l.push({["UserID".slice(0,-2)]:e.UserID,UserName:e.UserName}),L([...V,...l]),D.log([...V,...l])})(e,t.target.checked)}}),label:""})),M.map(((t,l)=>t.includes("Is")?n().createElement("div",{key:l,className:"DropdownLabelValues Level2Tooltip",title:e[t]}):n().createElement("div",{key:l,className:"DropdownLabelValues Level2Tooltip",title:e[t]},e[t])))))));return n().createElement(n().Fragment,null,n().createElement(r.Z,{open:x,TransitionComponent:v,keepMounted:!0,disableEscapeKeyDown:!0,onClose:()=>{e.closeDialog(!1),C(!1)},"aria-labelledby":"classic-modal-slide-title","aria-describedby":"classic-modal-slide-description"},n().createElement(y.Z,{open:B.open,color:B.color,message:B.message,onClose:()=>H({open:!1,color:B.color,message:[]})}),"No Hierarchy"==t?n().createElement(o.Z,{style:{minWidth:"600px",height:"55vh",position:"relative"},id:"classic-modal-slide-description"},n().createElement("p",{className:"pNoHier"}," No Hierarchy")):n().createElement(n().Fragment,null,n().createElement(o.Z,{style:{minWidth:"600px",height:"55vh"},id:"classic-modal-slide-description"},R||n().createElement("div",{className:"L2DropDownListDiv"},n().createElement("p",{className:"htag"},"Send for Approval"),n().createElement("div",{className:"L2DropDownListBorder"}),n().createElement("div",{className:"displayFlex FilterItemDivHeader",onClick:()=>{}},n().createElement("span",{className:"DropdownLabelHMulti"},"Select User"),M.map(((e,t)=>n().createElement("span",{key:t,className:"DropdownLabelHMulti",title:e},e)))),n().createElement("div",{className:"FilterItemDivBody scrollYDefault"},0==s.length?n().createElement(n().Fragment,null,n().createElement("div",{className:"NoDataImage"}),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))):n().createElement("ul",{className:"L2DropDownListUL"},W))),n().createElement(c.Z,{removebrandingclr:!0,labelname:"Remarks",marginTop:"4%",onChange:e=>{l(e.replace(/[^a-zA-Z0-9 ]/g,""))},clear:e=>{e&&l("")},value:t})),n().createElement(i.Z,null,z?n().createElement("span",{style:{padding:"0px 10px"}},"Please Wait..."):n().createElement(m.Z,{name:"Submit",disabled:z,onClick:()=>{!function(){U(!0);var l=3,a=1;"700"==e.formID&&(a=1),"783"==e.formID&&(a=5),"355"==e.formID&&(a=6),"345"==e.formID&&(a=1),"854"==e.formID&&(a=1),"853"==e.formID&&(a=1),"914"==e.formID&&(a=7),"910"==e.formID&&(a=8),"396"==e.formID&&(a=13),"290"==e.formID&&(l=470,a=14),"702"==e.formID&&(l=702,a=18),"701"==e.formID&&(a=3),"1787"==e.formID&&(l=1787,a=19),"1302"==e.formID&&(l=1302,a=20);var n=[],r=[];if(R){if(""===t)return H({open:!0,color:"warning",message:[["Please Enter Remarks"]]}),U(!1),!1;n=[{p1:localStorage.getItem("userid"),p2:localStorage.getItem("userid"),p3:l,p4:e.PrimID,p5:0,p6:0,p7:0,p8:k,p9:0,p10:t,p11:a,p12:"0",p13:A}],r=[{ComplaintID:e.PrimID,WOType:"1",Type:"PORTALNOTIFICATION",Title:"Helpdesk Complaints",Body:"Complaint / Service Request - Closed",UserID:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")}]}else{if(0===V.length)return H({open:!0,color:"warning",message:[["Please Select the Users"]]}),U(!1),!1;if(""===t)return H({open:!0,color:"warning",message:[["Please Enter Remarks"]]}),U(!1),!1;V.map((i=>(n.push({p1:localStorage.getItem("userid"),p2:i.User,p3:l,p4:e.PrimID,p5:0,p6:0,p7:0,p8:k,p9:0,p10:t,p11:a,p12:"0",p13:A}),r.push({ComplaintID:e.PrimID,WOType:"1",Type:"PORTALNOTIFICATION",Title:"Helpdesk Approval",Body:`You have a ${R} sent by ${(0,I.decode)(localStorage.getItem("username"))}`,UserID:i.User,UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")}),n)))}let i={data:n},o=p.v.Api+"FPC3S3/";(0,u.Z)(0).then((t=>{(0,g.Z)(o,i,t).then((t=>{D.log(t),"200"==t.Output[0].status.code&&(e.manual&&e.sendApprBtn(!1),e.alert({open:!0,color:"success",message:"Approval Sent Succesfully"},r,R),setTimeout((()=>{C(!1),U(!1)}),1e3),H({open:!0,color:"success",message:[["Approval Sent Succesfully"]]}))}))}))}()}}),n().createElement(d.Z,{name:"Cancel",disabled:z,onClick:()=>{D.log("calcel DAShBoard"),e.closeDialog(!1),C(!1)}})))))}},10966:(e,t,l)=>{l.d(t,{Z:()=>o});var a=l(92950),n=l.n(a),r=l(13258),i=l(30553);function o(e){return n().createElement(i.Z,{control:n().createElement(r.Z,{checked:e.checked,onChange:t=>{e.onClick(t.target.checked)},disabled:e.disabled}),label:e.label})}},92772:(e,t,l)=>{l.r(t),l.d(t,{default:()=>m});var a=l(92950),n=l.n(a),r=l(13089),i=l(61657),o=l(7320),s=l(282),c=l(20067),d=l(25108);const m=function(e){const t=(0,a.useRef)(null),[l,m]=(0,a.useState)(e.tableData),[p,u]=(0,a.useState)([]),[g,f]=(0,a.useState)([]),[b,h]=(0,a.useState)([]),[E,y]=(0,a.useState)([]),[I,D]=(0,a.useState)(0),[S,v]=(0,a.useState)({}),[x,C]=(0,a.useState)({}),[T,w]=(0,a.useState)(0),[Z,N]=(0,a.useState)({current:1,pageSize:e.pageSize?e.pageSize:10}),k=[{columns:b,data:E}];(0,a.useEffect)((()=>{e.TableVisibleItem.length>0&&(u(e.TableVisibleItem),f(e.TableBodyItem))}),[e.TableVisibleItem]),(0,a.useEffect)((()=>{let t=[];e.tableData.map((e=>{let l=[];g.map((t=>{l.push(e[t])})),t.push(l)})),y(t)}),[g]);const P=100*I,A=P+100;function O(e,t,l){return e.slice((l-1)*t,l*t)}return e.tableData.slice(P,A),(0,a.useEffect)((()=>{if(N({current:1,pageSize:e.pageSize?e.pageSize:10}),e.tableData.length>0)if(e.dynamic){let t=[],l=[],a=[];Object.keys(e.tableData[0]).map((e=>{!(e.startsWith("Is")||e.includes("ID")||e.includes("PageIndex")||e.includes("PageSize")||e.includes("TotalCount"))&&(t.push({id:e,name:e.replace(/([A-Z])/g," $1").trim(),type:"varchar"}),l.push(e.trim()),a.push(e.replace(/([A-Z])/g," $1").trim()))})),0==Object.keys(S).length&&v(l.reduce(((e,t)=>(e[t]="",e)),{})),u(t),f(l),h(a),m(e.tableData)}else m(e.tableData);else m([])}),[e.tableData]),n().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",height:"100%",position:"relative",marginTop:e.marginTop&&e.marginTop}},e.name&&n().createElement("div",{className:"ListHeader displayFlex",style:{justifyContent:"space-between"}},n().createElement("p",{className:"ListP"}," ",e.name," ( ",l.length>0?l[0].TotalCount?l[0].TotalCount:l.length:""," )"),n().createElement("div",{className:"salQuclsExp",style:{padding:"3px"}},e.X_Status?.length>0&&e.X_Status.map((e=>n().createElement("span",{className:"columnHeaderp",style:{width:"100%",boxShadow:"rgba(0, 0, 0, 0.16) 0px 1px 4px",padding:"4px 4px 4px 8px",marginRight:"4px",borderRadius:"4px",borderLeft:"3px solid #3873bb"}},e)))),n().createElement("div",null,e.showPrintBtn&&l.length>0?n().createElement(s.Z,{variant:"contained",color:"secondary",startIcon:n().createElement(c.Z,{style:{marginRight:"10px"},className:"SubmitBtnIcon"}),style:{backgroundColor:"#21446F",fontSize:"12px",fontWeight:"500"},onClick:t=>{e.privewRecord("pdf")}},"Print Preview"):"")),l.length>0&&!e.hideExportPrint&&n().createElement("div",{style:{display:"flex",alignItems:"center",height:"35px"}},n().createElement(o.Z,{formctrlidprint:"fld4L1TCExportPrint",formctrlidexport:"fld4L1TCExportTable",formctrlidrefresh:"fld4L1TCExportRefresh",title:e.name,data:l,TableVisibleItem:p,exportData:k,Items:g,columnIndex:b,triggerApi:t=>{var l;l=t,m(e.tableData),w(e.tableData[0]?.TotalCount),e.PrintPdf(l)},TotalCount:e.tableData[0]?.TotalCount?e.tableData[0]?.TotalCount:1e3,Refresh:()=>{O(l,1,10),D(0),N({current:1,pageSize:10}),e.Refresh()},disabledPrint:!1,disabledExport:!1,ref:t})),!e.paging&&n().createElement("div",{className:`${e.pagcls} tableTopPagination displayFlex floatOrder`},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{style:{width:e.width?e.width:"100%"}},e.clientsidePaging?n().createElement(i.Z,{rowsPerPageOptions:[],component:"div",count:e.tableData.length,rowsPerPage:100,page:I,onPageChange:(e,t)=>{D(t)}}):n().createElement(i.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:e.tableData[0]?.TotalCount?e.tableData[0].TotalCount:l.length,page:I,onPageChange:(t,l)=>{D(l),e.tableData[0]?.TotalCount&&e.onPageChange(l+1),N({current:l+1,pageSize:Z.pageSize})},rowsPerPage:e.pageSize?e.pageSize:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})))),n().createElement(r.Z,{id:"ExcelMigrationTable",headerdata:p,tablesearchparams:e.tablesearchparams?e.tablesearchparams:S,searchvalue:t=>e.searchvalue(t),bodydata:O(l,Z.pageSize,Z.current),ondrag:(e,t)=>d.log(e,t),bodyitem:g,visibleitem:p,action:"none",IsDraft:!1,IsView:!!e.ExpandTable&&e.ExpandTable,IsSub:!1,tableExp:!!e.ExpandTable&&e.ExpandTable,accessrights:{},expanded:e=>{},edit:(t,l,a)=>{d.log(t,"rowa"),e.onDoubleClick&&e.edit(t,l,a)},viewtoggle:()=>{},isexpanded:!!e.Action&&e.Action,ViewComp:(t,l)=>n().createElement("div",null,e.ViewComp(t,l)),height:e.height,color:!0,colwid:e.colwid,onDoubleClick:t=>{d.log(t,"eee"),e.onDoubleClick(t)},searchdisabled:e.searchdisabled,IsDrag:e.IsDrag,OnDrop:e.OnDrop,DraglistRw:e.DraglistRw,RemoveAll:e.RemoveAll}))}},7320:(e,t,l)=>{l.d(t,{Z:()=>y});var a=l(92950),n=l.n(a),r=l(96622),i=(l(14439),l(27848),l(4820)),o=l(20394),s=l(82483),c=l(55546),d=l.n(c),m=l(38431),p=l.n(m),u=l(36210),g=(l(61924),l(868)),f=l(40900),b=l(26537);const h=d().ExcelFile,E=d().ExcelFile.ExcelSheet,y=(0,a.forwardRef)(((e,t)=>{const{classes:l}=e,c=(0,a.useRef)(),d=(0,a.useRef)(),m=(0,a.useRef)(),[y,I]=(0,a.useState)(""),[D,S]=(0,a.useState)({});let v=localStorage.getItem("userid");(0,a.useEffect)((()=>{!function(){let e=f.v.Api+"FP95S3/",t={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:1,p78:10,p79:"BrandingID",p80:null,p81:null,p82:Number(localStorage.getItem("UserGroupID")),p83:Number(localStorage.getItem("userid"))}};(0,b.Z)(0).then((l=>{fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",USER_ID:v,FORM_ID:1,"x-userid":v,"x-tokenid":l.TokenIDPK,"x-tokenname":l.TokenName},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{S(e.Output.data[0])}))}))}()}),[]),(0,a.useImperativeHandle)(t,(()=>({PrintValue:()=>{x()},Printreport:()=>{C()}})));const x=()=>{y?d.current.click():m.current.click()},C=()=>{d.current.click()};return n().createElement("div",null,n().createElement("div",{style:{display:"none"}},n().createElement(s.Z,{ref:e=>c.current=e,data:e.data,index:e.Items.length>10?e.Items.slice(0,10):e.Items,columnTitle:e.columnIndex.length>10?e.columnIndex.slice(0,10):e.columnIndex,Title:e.title,Brandingdata:D})),n().createElement("div",{style:{display:"flex",alignItems:"center",height:"35px"}},!e.disabledPrint&&n().createElement("div",{className:"buttoncard",onClick:t=>{e.triggerApi({type:"pdf",alertName:"Print",count:e.TotalCount,table:e.title,format:"A4",landscape:!0,TableVisibleItem:e.TableVisibleItem?e.TableVisibleItem:[],userGridViewFormID:e.userGridViewFormID?e.userGridViewFormID:null,username:localStorage.getItem("username")}),I(!0)}},n().createElement(g.ZP,{title:"Print",placement:"top"},n().createElement(o.Z,{className:"tableFilterColumnIcon tablExpicon fontSize18"})),n().createElement("span",{className:e.iconinfo?e.iconinfo:"iconinfo"},"Print")),n().createElement(p(),{trigger:()=>n().createElement(r.Z,{style:{display:"none"},ref:d}," Print"),content:()=>c.current}),!e.disabledExport&&e.exportData&&n().createElement("div",{className:"buttoncard",onClick:()=>{e.triggerApi({type:"excel",alertName:"Print",count:e.TotalCount,table:e.title,format:"A4",landscape:!0,TableVisibleItem:e.TableVisibleItem?e.TableVisibleItem:[],userGridViewFormID:e.userGridViewFormID?e.userGridViewFormID:null,username:localStorage.getItem("username")}),I(!1)}},n().createElement(g.ZP,{title:"Excel Export",placement:"top"},n().createElement(i.Z,{className:"tableFilterColumnIcon tablExpicon fontSize18"})),n().createElement("span",{className:e.iconinfo?e.iconinfo:"iconinfo"},"Excel Export")),e.exportData&&n().createElement(h,{filename:e.title,element:n().createElement(r.Z,{style:{display:"none"},ref:m}," Excel Export")},n().createElement(E,{dataSet:e.exportData,name:e.title})),e.Refresh&&n().createElement("div",{className:"buttoncard",onClick:e.Refresh},n().createElement(g.ZP,{title:"Refresh",placement:"top"},n().createElement(u.Z,{className:"tableFilterColumnIcon tablExpicon fontSize18"})),n().createElement("span",{className:e.iconinfo?e.iconinfo:"iconinfo"},"Refresh"))))}))},61504:(e,t,l)=>{l(92950),l(41823),l(40900),window.EnterIndex=0},13089:(e,t,l)=>{l.d(t,{Z:()=>k});var a=l(92950),n=l.n(a),r=l(79895),i=l(82302),o=l(99613),s=l(88222),c=l(56847),d=l(83750),m=l(57394),p=l(77256),u=l(49174),g=l(99173),f=l(88995),b=l(39431),h=l(868),E=l(59067),y=l(20067),I=l(51115),D=l(25281),S=l(66037),v=l(17812),x=l(80366),C=l(30553),T=l(13258),w=(l(10635),l(87429),l(52795)),Z=l(25108);window.headercellid="";const N=(0,a.forwardRef)(((e,t)=>{const{order:l,orderBy:r,onRequestSort:i,headCells:o,isDraft:c,TableSearchParams:b}=e,[h,E]=(0,a.useState)({}),[y,I]=(0,a.useState)({}),D=["By","Contact","NROT","COT","SNA","VIA","Remarks","Date","UserName","Status","No","Total","Rate","Cnt","Time","Type","Code","Amount","Quantity","Unit","Is","TAT","Cost","Number"],[S,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Object.keys(b).map((e=>{E({...h,[e]:!!b[e]})})),I(b)}),[b],e.height),(0,a.useImperativeHandle)(t,(()=>({clearValue:e=>{k(!0,e)}})));const Z=(e,t,l)=>{E({...h,[t]:!h[t]}),setTimeout((function(){var e=document.getElementById(l+"headcell");e&&(e.focus(),document.getElementById(l+"headcell").onclick=function(e){e.stopPropagation()})}),1e3),e.stopPropagation()},N=(t,l)=>{window.headercellid=l,0===t.length&&e.value({...y,[l]:""}),I({...y,[l]:t})},k=(t,l)=>{t&&(N("",window.headercellid),Z(l,window.headercellid),e.value({...y,[window.headercellid]:""},"clear"))};return n().createElement(w.Z,{onClickAway:()=>{E({})}},n().createElement(d.Z,null,n().createElement(m.Z,null,"none"==e.action?null:!0===e.isexpanded&&!e.IsSub&&n().createElement(s.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:"80px"}},n().createElement("span",{className:"trAction"},"Action")),e.IsDrag&&n().createElement(s.Z,{className:"StyledTableCellHeadStyles tbdrg"},n().createElement(C.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(T.Z,{style:{padding:"6px"},icon:n().createElement(x.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(x.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:S,onChange:t=>{e.RemoveAll()}}),label:""})),o.map((t=>{return n().createElement(s.Z,{className:"StyledTableCellHeadStyles "+(c?"draftColor":"listColor"),key:t.id,sortDirection:r===t.id&&l,style:{minWidth:D.some((e=>t.id.toLowerCase().includes(e.toLowerCase())))?h[t.id]?"155px":"185px":e.colwid?e.colwid:"180px",textAlign:"Is"==t.id.slice(0,2)?"center":"left"}},h[t.id]?t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt")?n().createElement(u.Z,{value:y[t.id],label:t.name,onChange:l=>{N(l,t.id),e.value({...y,[t.id]:l,[t.id+"Type"]:"Date"})}}):n().createElement(g.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{N(e,t.id,t.type)},disabled:!1,value:-1===y[t.id]?.indexOf("%")?y[t.id]:y[t.id]?.replace(/[%]/g,""),clear:(l,a)=>{l&&(N("",t.id),Z(a,t.id),e.value({...y,[t.id]:""}))},mandatory:!1,keyPress:!0,onKeyPress:l=>{e.value({...y,[t.id]:"Number"==t.type?l:"%"+l+"%"})}}):y[t.id]?"Date"==t.type?n().createElement(u.Z,{value:y[t.id],Label:t.name,onChange:l=>{N(l,t.id),e.value({...y,[t.id]:l,[t.id+"Type"]:"Date"})}}):n().createElement(g.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{N(e,t.id,t.type)},disabled:!1,value:-1===y[t.id]?.indexOf("%")?y[t.id]:y[t.id]?.replace(/[%]/g,""),clear:(l,a)=>((t,l,a)=>{t&&(N("",a.id),Z(l,a.id),e.value({...y,[a.id]:""}))})(l,a,t),isDraft:c,mandatory:!1,keyPress:!0,onKeyPress:l=>{e.value({...y,[t.id]:"Number"==t.type?l:"%"+l+"%"})}}):n().createElement(p.Z,{"filter-title":"Sort",active:r===t.id,direction:r===t.id?l:"asc",onClick:(a=t.id,e=>{i(e,a)})},n().createElement("p",{style:{width:"max-content"}},t.name?t.name.replace(/([A-Z])\s(?=[A-Z]\b)/g,"$1"):""),r===t.id?n().createElement("span",{className:"visuallyHidden"},"desc"===l?"sorted descending":"sorted ascending"):null,!h[t.id]&&"Is"!==t.id.substring(0,2)&&!y[t.id]&&(!c&&(t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt"))?null:!e.searchdisabled&&!c&&n().createElement(f.Z,{className:"tableHeadersearch",onClick:e=>Z(e,t.id,t.name)}))));var a})))))})),k=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),[d,p]=(0,a.useState)("asc"),[u,g]=(0,a.useState)(""),[f,w]=n().useState(""),[k,P]=(0,a.useState)(!1),[A,O]=(0,a.useState)({}),[R,F]=(0,a.useState)({}),[V,L]=(0,a.useState)(!1),[z,U]=(0,a.useState)([]),[B,H]=(0,a.useState)({x:0,y:0}),[M,j]=(0,a.useState)(!1),[W,G]=(0,a.useState)(null);function K(e,t,l){return t[l]<e[l]?-1:t[l]>e[l]?1:0}function _(e,t){if(t.toLowerCase().indexOf("password")>-1){var l="";for(let t=0;t<e.length;t++)l+="*";return l}return e}return(0,a.useEffect)((()=>()=>{window.open="",P(!1)}),[]),(0,a.useImperativeHandle)(t,(()=>({clearItem:e=>{l.current.clearValue(e)},open:()=>{Z.log("of open"),window.open="",P(!1)}}))),n().createElement(c.Z,{component:r.Z,className:"tablecontainer2 scrollY",style:{height:e.height?e.height:e.IsSub?"auto":"60vh",marginTop:"5px"},onDrop:function(t){t.preventDefault();var l=t.dataTransfer.getData("ppmStaff");e.OnDrop(JSON.parse(l))},onDragOver:function(e){e.preventDefault()}},n().createElement(i.Z,{stickyHeader:!0,id:"Header"+e.id},n().createElement(N,{order:d,orderBy:u,onRequestSort:(e,t)=>{p(u===t&&"asc"===d?"desc":"asc"),g(t)},headCells:e.headerdata,isDraft:e.isdraft,value:e.searchvalue,action:e.action,TableSearchParams:e.tablesearchparams,isexpanded:e.isexpanded,ref:l,colwid:e.colwid,minWidth:e.minWidth,IsDrag:e.IsDrag,RemoveAll:e.RemoveAll,searchdisabled:e.searchdisabled}),n().createElement(o.Z,null,function(e,t){const l=e.map(((e,t)=>[e,t]));return l.sort(((e,l)=>{const a=t(e[0],l[0]);return 0!==a?a:e[1]-l[1]})),l.map((e=>e[0]))}(e.bodydata,function(e,t){return"desc"===e?(e,l)=>K(e,l,t):(e,l)=>-K(e,l,t)}(d,u)).map(((t,l)=>n().createElement(n().Fragment,null,n().createElement(m.Z,{key:l,style:{background:t.IsConflict?"#fad6a5":""},onDoubleClick:a=>{if(Z.log("onDoubleClick"),e.IsSub&&!e.EditSub)return e.onDoubleClick&&e.edit(t,e.isdraft,!0),!1;"none"!=e.edit&&e.edit(t,e.isdraft,!0),e.expanded(!0),(e=>{var t=document.querySelectorAll(".MuiTableRow-root");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";setTimeout((function(){document.getElementById(e)&&(document.getElementById(e).style.background="#e3e4e9")}),500)})(e.id+l),!0===e.isexpanded&&document.getElementById(e.id)},id:e.id+l},e.IsDrag&&n().createElement(s.Z,{className:"StyledTableCellBodyStyles tbdrg"},n().createElement(C.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(T.Z,{style:{padding:"6px"},icon:n().createElement(x.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(x.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:!0,onChange:l=>{e.DraglistRw(t)}}),label:""})),"none"==e.action?null:!0===e.isexpanded&&n().createElement(s.Z,{className:"StyledTableCellBodyStyles",style:{display:"flex"}},e.IsView&&e.tableExp&&n().createElement(v.Z,{"aria-label":"expand row",size:"small",onClick:()=>{var e;f===(e=l)?(w(""),P(!1)):(w(e),P(!0))}},f===l?n().createElement(D.Z,null):n().createElement(I.Z,null)),e.accessrights.IsView&&e.viewOnly&&n().createElement(h.ZP,{title:"View",placement:"top"},n().createElement(y.Z,{className:"Viewtablecls",onClick:()=>{e.edit(t,e.isdraft,!0),e.expanded(!0),e.viewtoggle()}})),e.accessrights.IsEdit&&e.editOnly&&n().createElement(h.ZP,{title:"Edit",placement:"top"},n().createElement(E.Z,{className:"Edittablecls",onClick:()=>{e.edit(t,e.isdraft,!1),e.expanded(!0)}}))),e.bodyitem.map(((l,a)=>{let r=e.visibleitem.filter((e=>e.id==l));return"Is"==l.slice(0,2)?n().createElement(s.Z,{className:"StyledTableCellBodyStyles",key:a,style:{textAlign:"center"}},n().createElement(b.Z,{checked:"1"==t[l],disabled:!0})):"FilePath"==l?n().createElement(s.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a},n().createElement("img",{src:t[l],alt:t[l],width:"90",height:"80"})):r.length>0?n().createElement(s.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a,style:{textAlign:"numeric"==r[0].type||"smallint"==r[0].type||"int"==r[0].type?"right":"left"}},_(t[l],l)):n().createElement(s.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a},_(t[l],l))}))),n().createElement(m.Z,{key:"view"+l},n().createElement(s.Z,{style:{paddingBottom:0,paddingTop:0,paddingLeft:0,borderLeft:"20px solid #ccc"},key:"cell"+l,colSpan:8},n().createElement(S.Z,{in:f===l,timeout:"auto",unmountOnExit:!0},e.IsView&&e.ViewComp(k,t))))))))))}))}}]);