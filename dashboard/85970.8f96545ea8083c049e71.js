"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[85970],{85970:(e,t,l)=>{l.r(t),l.d(t,{default:()=>R});var n=l(92950),a=l.n(n),i=l(14439),o=l(27848),p=l(40900),u=l(26537),m=(l(95909),l(11377)),s=l(74095),r=l(92371),c=l(51673),C=l(49174),D=l(282),d=l(92772),y=l(65763),g=(l(10635),l(95866),l(45237),l(54180),l(5109),l(15940),l(3212),l(24038),l(71168)),I=l.n(g);l(65107),l(94986),l(25108),window.clickFilter="";var M=l(7174),v=l(30037);localStorage.getItem("UserGroupID"),localStorage.getItem("userid");const N=[{Name:"January",Count:""},{Name:"February",Count:""},{Name:"March",Count:""},{Name:"April",Count:""},{Name:"May",Count:""},{Name:"June",Count:""},{Name:"July",Count:""},{Name:"August",Count:""},{Name:"September",Count:""},{Name:"October",Count:""},{Name:"November",Count:""},{Name:"December",Count:""}],R=e=>{const[t]=(0,n.useState)(localStorage.getItem("userid")),[l,g]=(0,n.useState)([]),[R,h]=(0,n.useState)(!1),[S,B]=(0,n.useReducer)(r.Z,v.E),[x,E]=(0,n.useState)([]),[T,P]=(0,n.useState)([]),[f,L]=(0,n.useState)(0),[K,F]=(0,n.useState)(0),[A,w]=(0,n.useState)(N),[O,b]=(0,n.useState)(""),[k,W]=(0,n.useState)(""),[Z]=(0,n.useState)("809"),[q,G]=(0,n.useState)([]),[U,H]=(0,n.useState)([]),[j,X]=(0,n.useState)({WorkOrder:"",WoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",EquipmentName:"",FrequencyName:"",PPMCreationAssetCode:"",GeneratedDateTime:"",ActualDateTime:"",WoCompletedDate:"",ParentCreationKey:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",IsWithDraw:"",WithDrawRemarks:"",IsReschedule:"",RescheduleRemarks:"",IsRework:"",ReworkRemarks:"",SequenceNo:"",PPMLattitude:"",PPMLongitude:"",IsCCMRaised:"",XCreationAssetKey:"",XWorkOrder:"",XWoDate:"",PPMGeneralCost:"",PPMMaterialCost:"",PPMLabourCost:"",PPMVendorInvCost:"",PPMTotalCost:"",PPMChargeLedgerKey:"",PPMCostLedgerKey:"",SchFreqAssetKey:"",PpmCreationDisciplineKey:"",PPMSBSTimeCostKey:"",BMSKey:"",IsWoManual:"",PPMTypeName:"",FirstName:"",FirstName1:"",FirstName2:"",FirstName3:"",HierarchyDetCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMStageName:"",PPMCreationOthersAddOnCode:"",PPMCreationAnaAddOnCode:"",PPMCreationSupAddOnCode:""}),[V,_]=(0,n.useState)([]),[Y,z]=(0,n.useState)([]),[J,$]=(0,n.useState)([]),[Q,ee]=(0,n.useState)(""),[te,le]=(0,n.useState)([]),[ne,ae]=(0,n.useState)([]),[ie,oe]=(0,n.useState)([]),[pe,ue]=(0,n.useState)([]),[me,se]=(0,n.useState)(""),[re,ce]=a().useReducer(v.d,v.E),[Ce,De]=(0,n.useState)({current:1,pageSize:10}),[de,ye]=I()("1107"),[ge,Ie]=(0,n.useState)(""),Me=(0,n.useRef)(),ve=(0,n.useRef)(),Ne=(0,n.useRef)();var Re=[...A];(0,n.useEffect)((()=>{(0,u.Z)(0).then((e=>{P(e)}))}),[]),(0,n.useEffect)((()=>{!function(e){let t=[],l=[],n=[],a=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),n.push(e.FieldDescription)));let i=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),ce({type:"language",payload:Object.assign({},...a)}),X(l.reduce(((e,t)=>(e[t]="",e)),{})),le(e),G(t),H(l),ae(n),oe(l)}(de)}),[de]);const he=(t,l,n,i,o,m,s)=>{e.loading(!0);let r=[],C=[],D=[];V.map((e=>{e&&r.push(e.BuildingID)})),Y.map((e=>{e&&C.push(e.DivisionID)})),J.map((e=>{e&&D.push(e.DisciplineID)}));let g=p.v.Api+"FP889S3/",I={data:{p1:o&&o.RMCCMComplaintIDPK?o.RMCCMComplaintIDPK:null,p2:o&&o.RMCCMComplaintCode?o.RMCCMComplaintCode:null,p3:null,p4:o&&o.RMMSRNo?o.RMMSRNo:null,p5:o&&o.RMComplaintNo?o.RMComplaintNo:null,p6:o&&o.RMComplainedDateTime?o.RMComplainedDateTime:null,p7:o&&o.RMComplainedDateTimeType?o.RMComplainedDateTimeType:null,p8:o&&o.RMComplainedDateTimeBetween?o.RMComplainedDateTimeBetween:null,p9:o&&o.RMBDMWOCompletedDate?o.RMBDMWOCompletedDate:null,p10:o&&o.RMBDMWOCompletedDateType?o.RMBDMWOCompletedDateType:null,p11:o&&o.RMBDMWOCompletedDateBetween?o.RMBDMWOCompletedDateBetween:null,p12:o&&o.RMOverDueTime?o.RMOverDueTime:null,p13:o&&o.CCMAllocatedEmpKey?o.CCMAllocatedEmpKey:null,p14:o&&o.CCMEmployeeKey?o.CCMEmployeeKey:null,p15:o&&o.RMETADate?o.RMETADate:null,p16:o&&o.RMETADateType?o.RMETADateType:null,p17:o&&o.RMETADateBetween?o.RMETADateBetween:null,p18:o&&o.RMRequestDetailsDesc?o.RMRequestDetailsDesc:null,p19:o&&o.RMTechnicalFindings?o.RMTechnicalFindings:null,p20:null,p21:o&&o.BDMLongitude?o.BDMLongitude:null,p22:o&&o.BDMLattitude?o.BDMLattitude:null,p23:o&&o.RMDownloadStat?o.RMDownloadStat:null,p24:o&&o.RMTotalAmount?o.RMTotalAmount:null,p25:o&&o.RMMaintenanceHrs?o.RMMaintenanceHrs:null,p26:o&&o.RMManPower?o.RMManPower:null,p27:"RMDAYWISEDET"==t?day:null,p28:null,p29:o&&o.ReworkEmpKey?o.ReworkEmpKey:null,p30:null,p31:null,p32:null,p33:o&&o.RMWithDrawEmpKey?o.RMWithDrawEmpKey:null,p34:null,p35:o&&o.RMCCMHierarchyDetailsKey?o.RMCCMHierarchyDetailsKey:null,p36:o&&o.RMFlowSeqNo?o.RMFlowSeqNo:null,p37:o&&o.RMBDMBusinessFlowKey?o.RMBDMBusinessFlowKey:null,p38:o&&o.RMBDMFixOnBusFlowDetKey?o.RMBDMFixOnBusFlowDetKey:null,p39:o&&o.RMBDMFixOnBusFlowSubDetKey?o.RMBDMFixOnBusFlowSubDetKey:null,p40:o&&o.BDMHierarchyDetailsKey?o.BDMHierarchyDetailsKey:null,p41:o&&o.FixonBusinessFlowKey?o.FixonBusinessFlowKey:null,p42:o&&o.RMBDMStageDesc?o.RMBDMStageDesc:null,p43:o&&o.RMParentComplaintKey?o.RMParentComplaintKey:null,p44:o&&o.RMXComplaintKey?o.RMXComplaintKey:null,p45:o&&o.RMXComplaintNo?o.RMXComplaintNo:null,p46:o&&o.RMXComplaintDate?o.RMXComplaintDate:null,p47:o&&o.RMXComplaintDateType?o.RMXComplaintDateType:null,p48:o&&o.RMXComplaintDateBetween?o.RMXComplaintDateBetween:null,p49:o&&o.ChargeLedgerKey?o.ChargeLedgerKey:null,p50:o&&o.CostLedgerKey?o.CostLedgerKey:null,p51:null,p52:o&&o.RMResponseTime?o.RMResponseTime:null,p53:o&&o.RMResolutionTime?o.RMResolutionTime:null,p54:o&&o.AssetKey?o.AssetKey:null,p55:o&&o.SubComponentKey?o.SubComponentKey:null,p56:o&&o.RMConfigKey?o.RMConfigKey:null,p57:o&&o.RMConfigDetKey?o.RMConfigDetKey:null,p58:o&&o.RMClusterKey?o.RMClusterKey:null,p59:o&&o.ComplainerKey?o.ComplainerKey:null,p60:"DraftRMCCMComplaintID"==t?"1":"0",p61:null,p62:S.ContractID?S.ContractID:null,p63:S.LocalityID?S.LocalityID:null,p64:r.length>0?r.toString():null,p65:o&&o.FloorID?o.FloorID:null,p66:o&&o.SpotID?o.SpotID:null,p67:o&&o.PriorityID?o.PriorityID:null,p68:C.length>0?C.toString():null,p69:D.length>0?D.toString():null,p70:o&&o.RMCCMStageID?o.RMCCMStageID:null,p71:o&&o.FrequencyID?o.FrequencyID:null,p72:e.Dialogview?"1":null,p73:null,p74:o&&o.CreatedUserID_varchar?o.CreatedUserID_varchar:null,p75:o&&o.CreatedTtm?o.CreatedTtm:null,p76:o&&o.CreatedTtmType?o.CreatedTtmType:null,p77:o&&o.CreatedTtmBetween?o.CreatedTtmBetween:null,p78:null,p79:o&&o.ContractGroupID?o.ContractGroupID:null,p80:o&&o.ContractGroupCode?o.ContractGroupCode:null,p81:o&&o.ContractGroupName?o.ContractGroupName:null,p82:"RMMONTHWISEDET"==t?l||"0"==l?l+1:(new Date).getMonth()+1:null,p83:"RMMONTHWISEDET"==t?f||(new Date).getFullYear():"RMCOUNT"==t?i||f||(new Date).getFullYear():null,p84:"RMCOUNT"==t?"RMMONTH":null,p85:o&&o.TaxValue?o.TaxValue:null,p86:o&&o.CustomerID?o.CustomerID:null,p87:o&&o.CustomerCode?o.CustomerCode:null,p88:o&&o.CustomerName?o.CustomerName:null,p89:o&&o.ContractTypeID?o.ContractTypeID:null,p90:o&&o.ContractTypCode?o.ContractTypCode:null,p91:o&&o.ContractTypeName?o.ContractTypeName:null,p92:o&&o.ContractCategID?o.ContractCategID:null,p93:o&&o.ContractCategCode?o.ContractCategCode:null,p94:o&&o.ContractCategName?o.ContractCategName:null,p95:o&&o.ConPaymentTermsID?o.ConPaymentTermsID:null,p96:o&&o.ConPaymentTermsName?o.ConPaymentTermsName:null,p97:o&&o.ContractCode?o.ContractCode:null,p98:o&&o.ContractName?o.ContractName:null,p99:o&&o.LocalityGroupID?o.LocalityGroupID:null,p100:o&&o.LocalityGroupCode?o.LocalityGroupCode:null,p101:o&&o.LocalityGroupName?o.LocalityGroupName:null,p102:o&&o.CityID?o.CityID:null,p103:o&&o.CityCode?o.CityCode:null,p104:o&&o.CityName?o.CityName:null,p105:o&&o.AdminLocalityTypeID?o.AdminLocalityTypeID:null,p106:o&&o.AdminLocalityTypeCode?o.AdminLocalityTypeCode:null,p107:o&&o.AdminLocalityTypeName?o.AdminLocalityTypeName:null,p108:o&&o.LocalityCode?o.LocalityCode:null,p109:o&&o.LocalityName?o.LocalityName:null,p110:o&&o.AssBuildingTypeID?o.AssBuildingTypeID:null,p111:o&&o.AssBuildingTypeCode?o.AssBuildingTypeCode:null,p112:o&&o.AssBuildingTypeName?o.AssBuildingTypeName:null,p113:o&&o.BuildingCode?o.BuildingCode:null,p114:o&&o.BuildingName?o.BuildingName:null,p115:o&&o.DivisionCode?o.DivisionCode:null,p116:o&&o.DivisionName?o.DivisionName:null,p117:o&&o.RMStageSeqNo?o.RMStageSeqNo:null,p118:o&&o.RMStageName?o.RMStageName:null,p119:o&&o.FrequencyCode?o.FrequencyCode:null,p120:o&&o.FrequencyName?o.FrequencyName:null,p121:n||1,p122:m||10,p123:t,p124:null,p125:null,p126:localStorage.getItem("UserGroupID"),p127:localStorage.getItem("userid")}};(0,u.Z)(0).then((n=>{(0,c.Z)(g,I,n).then((n=>{if(n.Output.data.length>0){if("RMCOUNT"==t){const{LocUserID:e,SelectedYear:t,...l}=n.Output.data[0];b(n.Output.data[0].SelectedYear),Object.values(l).map(((e,t)=>{if(0!=e){const n={Count:e},a=[...Re],i=a.findIndex((e=>e.Name==Object.keys(l)[t])),o=a[i];a.splice(i,1,{...o,...n}),Re=a,w(a)}}))}"RMMONTHWISEDET"==t&&(e.SlideComponentType(a().createElement(d.default,{dynamic:!0,name:"FA Month Wise Summary",tableData:n.Output.data,TableVisibleItem:[],TableBodyItem:[],Refresh:()=>he(t,l),onPageChange:(e,n)=>{he(t,l,e,"","",n)},searchvalue:e=>{he(t,l,"","",e)},pageSize:n.Output.data[0]?.PageSize,PrintPdf:e=>{he(t,l,"1","","",n.Output.data[0].TotalCount,e)}})),h(!1))}else e.alertmsg({open:!0,color:"warning",message:["No Records Found"]}),w(N);e.loading(!1)})),s&&(0,c.Z)(g,I,n,s).then((e=>{(0,y.j)(e,h,setAlert,e.Output.data,s,"FA Month Wise Summary")}))}))},Se=t=>S.ContractID&&0!=S.ContractID?S.LocalityID&&0!=S.LocalityID?void he(t):(e.alertmsg({open:!0,color:"warning",message:["Please select the Location"]}),!1):(e.alertmsg({open:!0,color:"warning",message:["Please select the Contract Name"]}),!1),Be=(e,t,l)=>{if("BuildingID"==l&&(_(t),t.length>0)){let e=[];t.map(((l,n)=>e.push((t.length,l.BuildingIDPK))))}if("DivisionID"==l&&(z(t),t.length>0)){let e=[];t.map(((l,n)=>e.push(t.length==n+1?l.DivisionIDPK+",":l.DivisionIDPK)))}if("DisciplineID"==l&&($(t),t.length>0)){let e=[];t.map(((l,n)=>e.push(t.length==n+1?l.DisciplineIDPK+",":l.DisciplineIDPK)))}},xe=(t,l,n,a,i)=>{let o=[],u=[],m=[];V.map((e=>{e&&o.push(e.BuildingID)})),Y.map((e=>{e&&u.push(e.DivisionID)})),J.map((e=>{e&&m.push(e.DisciplineID)}));const s=p.v.Api+"FP889S3/",r={data:{p1:null,p2:null,p3:1==S.IsRMBMS,p4:l?"%"+l+"%":null,p5:l?"%"+l+"%":null,p6:S.RMComplainedDateTime?S.RMComplainedDateTime:null,p7:null,p8:null,p9:S.RMBDMWOCompletedDate?S.RMBDMWOCompletedDate:null,p10:null,p11:null,p12:l?"%"+l+"%":null,p13:l?"%"+l+"%":null,p14:l?"%"+l+"%":null,p15:S.RMETADate?S.RMETADate:null,p16:null,p17:null,p18:l?"%"+l+"%":null,p19:l?"%"+l+"%":null,p20:null,p21:l?"%"+l+"%":null,p22:l?"%"+l+"%":null,p23:l?"%"+l+"%":null,p24:l?"%"+l+"%":null,p25:l?"%"+l+"%":null,p26:l?"%"+l+"%":null,p27:l?"%"+l+"%":null,p28:1==S.IsRMRework,p29:l?"%"+l+"%":null,p30:null,p31:1==S.IsRMWithdraw,p32:null,p33:l?"%"+l+"%":null,p34:1==S.IsRMTechManual,p35:l?"%"+l+"%":null,p36:l?"%"+l+"%":null,p37:l?"%"+l+"%":null,p38:l?"%"+l+"%":null,p39:l?"%"+l+"%":null,p40:l?"%"+l+"%":null,p41:l?"%"+l+"%":null,p42:l?"%"+l+"%":null,p43:l?"%"+l+"%":null,p44:l?"%"+l+"%":null,p45:l?"%"+l+"%":null,p46:S.RMXComplaintDate?S.RMXComplaintDate:null,p47:null,p48:null,p49:l?"%"+l+"%":null,p50:l?"%"+l+"%":null,p51:1==S.IsRMCCMAnaliyseClosed,p52:l?"%"+l+"%":null,p53:l?"%"+l+"%":null,p54:l?"%"+l+"%":null,p55:l?"%"+l+"%":null,p56:l?"%"+l+"%":null,p57:l?"%"+l+"%":null,p58:l?"%"+l+"%":null,p59:l?"%"+l+"%":null,p60:null,p61:null,p62:"0"==S.ContractID?null:S.ContractID,p63:"0"==S.LocalityID?null:S.LocalityID,p64:"BuildingIDPK"!=n?o.toString():"0"==S.BuildingID?null:S.BuildingID,p65:"0"==S.FloorID?null:S.FloorID,p66:"0"==S.SpotID?null:S.SpotID,p67:"0"==S.PriorityID?null:S.PriorityID,p68:"DivisionIDPK"!=n?u.toString():"0"==S.DivisionID?null:S.DivisionID,p69:"DisciplineIDPK"!=n?m.toString():"0"==S.DisciplineID?null:S.DisciplineID,p70:"0"==S.RMCCMStageID?null:S.RMCCMStageID,p71:"0"==S.FrequencyID?null:S.FrequencyID,p72:e.Dialogview?"1":null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:"0"==S.ContractGroupID?null:S.ContractGroupID,p80:l?"%"+l+"%":null,p81:l?"%"+l+"%":null,p82:"0"==S.TaxID?null:S.TaxID,p83:l?"%"+l+"%":null,p84:l?"%"+l+"%":null,p85:l?"%"+l+"%":null,p86:"0"==S.CustomerID?null:S.CustomerID,p87:l?"%"+l+"%":null,p88:l?"%"+l+"%":null,p89:"0"==S.ContractTypeID?null:S.ContractTypeID,p90:l?"%"+l+"%":null,p91:l?"%"+l+"%":null,p92:"0"==S.ContractCategID?null:S.ContractCategID,p93:l?"%"+l+"%":null,p94:l?"%"+l+"%":null,p95:"0"==S.ConPaymentTermsID?null:S.ConPaymentTermsID,p96:l?"%"+l+"%":null,p97:l?"%"+l+"%":null,p98:l?"%"+l+"%":null,p99:"0"==S.LocalityGroupID?null:S.LocalityGroupID,p100:l?"%"+l+"%":null,p101:l?"%"+l+"%":null,p102:"0"==S.CityID?null:S.CityID,p103:l?"%"+l+"%":null,p104:l?"%"+l+"%":null,p105:"0"==S.AdminLocalityTypeID?null:S.AdminLocalityTypeID,p106:l?"%"+l+"%":null,p107:l?"%"+l+"%":null,p108:l?"%"+l+"%":null,p109:l?"%"+l+"%":null,p110:"0"==S.AssBuildingTypeID?null:S.AssBuildingTypeID,p111:l?"%"+l+"%":null,p112:l?"%"+l+"%":null,p113:l?"%"+l+"%":null,p114:l?"%"+l+"%":null,p115:l?"%"+l+"%":null,p116:l?"%"+l+"%":null,p117:l?"%"+l+"%":null,p118:l?"%"+l+"%":null,p119:l?"%"+l+"%":null,p120:l?"%"+l+"%":null,p121:t,p122:10,p123:n,p124:null,p125:null,p126:localStorage.getItem("UserGroupID"),p127:localStorage.getItem("userid")}};h(!0);const C=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});h(!0);const D={data:C};(0,c.Z)(s,"ClearAll"==n?D:r,"SetDefaultPPMCreationAssetID"==n&&a?a:T).then((l=>{const a=l.Output.status.code,o=l.Output.data;if("200"==a){const l=o.length;1==t?l>0?(E(o),"AssetIDPK"==n&&i&&AssetIDRef.current.checkedAll(o),i&&"BuildingIDPK"==n&&(Me.current.checkedAll(o),e.loading(!1)),i&&"DivisionIDPK"==n&&(ve.current.checkedAll(o),e.loading(!1)),i&&"DisciplineIDPK"==n&&(Ne.current.checkedAll(o),e.loading(!1))):E([]):E(x.concat(o)),"SetDefaultPPMCreationAssetID"==n&&(l>0?editRecord(o[0],"SetDefaultPPMCreationAssetID"):setDefaultPrimaryId("NORECORDS")),h(!1)}else context.alert({open:!0,color:"warning",message:[l.Output.status.message]}),h(!1)}))},Ee=(0,n.useCallback)(((e,t,l)=>{"text"==l?B({type:l,name:t,value:e}):"number"==l?B({type:l,name:t,number:e}):"boolean"==l?B({type:l,name:t,boolean:e}):"date"==l||"select"==l&&("ContractID"==t?(B({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),B({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null})):"LocalityID"==t?(B({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),B({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"BuildingID"==t?(B({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),B({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),B({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),B({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"DivisionID"==t?(B({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),B({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"DisciplineID"==t&&(B({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),B({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null}),B({type:"text",name:"DivisionID",value:e.DivisionID?e.DivisionID:null}),B({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})))}),[S]);function Te(e){"ContractID"==e?(B({type:"text",name:"ContractID",value:""}),B({type:"text",name:"ContractName",value:""}),document.getElementById("RMCCMComplaintsContractNameClear")&&document.getElementById("RMCCMComplaintsContractMonthNameClear").click(),B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"BuildingName",value:""}),document.getElementById("RMCCMComplaintsBuildingNameClear")&&document.getElementById("RMCCMComplaintsBuildingMonthNameClear").click(),_([]),B({type:"text",name:"LocalityID",value:""}),B({type:"text",name:"LocalityName",value:""}),document.getElementById("RMCCMComplaintsDivisionNameClear")&&document.getElementById("RMCCMComplaintsDivisionMonthNameClear").click(),B({type:"text",name:"DivisionID",value:""}),B({type:"text",name:"DivisionName",value:""}),document.getElementById("RMCCMComplaintsDivisionNameClear")&&document.getElementById("RMCCMComplaintsDivisionMonthNameClear").click(),z([]),B({type:"text",name:"DisciplineID",value:""}),B({type:"text",name:"DisciplineName",value:""}),document.getElementById("RMCCMComplaintsDisciplineNameClear")&&document.getElementById("RMCCMComplaintsDisciplineMonthNameClear").click(),$([])):"LocalityID"==e?(B({type:"text",name:"LocalityID",value:""}),B({type:"text",name:"LocalityName",value:""}),document.getElementById("RMCCMComplaintsLocalityNameClear")&&document.getElementById("RMCCMComplaintsLocalityMonthNameClear").click(),B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"BuildingName",value:""}),document.getElementById("RMCCMComplaintsBuildingNameClear")&&document.getElementById("RMCCMComplaintsBuildingMonthNameClear").click(),_([]),B({type:"text",name:"DivisionID",value:""}),B({type:"text",name:"DivisionName",value:""}),document.getElementById("RMCCMComplaintsDivisionNameClear")&&document.getElementById("RMCCMComplaintsDivisionMonthNameClear").click(),z([]),B({type:"text",name:"DisciplineID",value:""}),B({type:"text",name:"DisciplineName",value:""}),document.getElementById("RMCCMComplaintsDisciplineNameClear")&&document.getElementById("RMCCMComplaintsDisciplineMonthNameClear").click(),$([])):"BuildingID"==e?(B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"BuildingName",value:""}),document.getElementById("RMCCMComplaintsBuildingNameClear")&&document.getElementById("RMCCMComplaintsBuildingMonthNameClear").click(),B({type:"text",name:"LocalityID",value:""}),B({type:"text",name:"LocalityName",value:""}),document.getElementById("RMCCMComplaintsLocalityNameClear")&&document.getElementById("RMCCMComplaintsLocalityMonthNameClear").click(),_([]),B({type:"text",name:"DivisionID",value:""}),B({type:"text",name:"DivisionName",value:""}),document.getElementById("RMCCMComplaintsDivisionNameClear")&&document.getElementById("RMCCMComplaintsDivisionMonthNameClear").click(),z([]),B({type:"text",name:"DisciplineID",value:""}),B({type:"text",name:"DisciplineName",value:""}),document.getElementById("RMCCMComplaintsDisciplineNameClear")&&document.getElementById("RMCCMComplaintsDisciplineMonthNameClear").click(),$([])):"DivisionID"==e?(B({type:"text",name:"DivisionID",value:""}),B({type:"text",name:"DivisionName",value:""}),document.getElementById("RMCCMComplaintsDivisionNameClear")&&document.getElementById("RMCCMComplaintsDivisionMonthNameClear").click(),z([])):"DisciplineID"==e?(B({type:"text",name:"DisciplineID",value:""}),B({type:"text",name:"DisciplineName",value:""}),document.getElementById("RMCCMComplaintsDisciplineNameClear")&&document.getElementById("RMCCMComplaintsDisciplineMonthNameClear").click(),B({type:"text",name:"DivisionID",value:""}),B({type:"text",name:"DivisionName",value:""}),document.getElementById("RMCCMComplaintsDivisionNameClear")&&document.getElementById("RMCCMComplaintsDivisionMonthNameClear").click(),$([])):"AssetID"==e?(B({type:"text",name:"AssetID",value:""}),B({type:"text",name:"EquipmentName",value:""})):"FrequencyID"==e&&(B({type:"text",name:"FrequencyID",value:""}),B({type:"text",name:"FrequencyName",value:""}))}function Pe(e){"ContractID"==e?B({type:"text",name:"ContractID",value:""}):"LocalityID"==e?(B({type:"text",name:"LocalityID",value:""}),B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"FloorID",value:""}),B({type:"text",name:"SpotID",value:""})):"BuildingID"==e?(B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"LocalityID",value:""}),B({type:"text",name:"FloorID",value:""}),B({type:"text",name:"SpotID",value:""})):"FloorID"==e?(B({type:"text",name:"FloorID",value:""}),B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"LocalityID",value:""}),B({type:"text",name:"SpotID",value:""})):"SpotID"==e?(B({type:"text",name:"SpotID",value:""}),B({type:"text",name:"FloorID",value:""}),B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"LocalityID",value:""})):"DivisionID"==e?B({type:"text",name:"DivisionID",value:""}):"DisciplineID"==e?(B({type:"text",name:"DisciplineID",value:""}),B({type:"text",name:"DivisionID",value:""})):"AssetID"==e?B({type:"text",name:"AssetID",value:""}):"FrequencyID"==e&&B({type:"text",name:"FrequencyID",value:""})}return a().createElement("div",{className:"ppmMainDiv"},a().createElement(i.Z,{className:"ppmContainer"},a().createElement(o.Z,{xs:12,sm:12,md:9,lg:9},a().createElement("div",{className:"ppmLeftContainer"},a().createElement(i.Z,null,a().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},a().createElement("div",{className:"LeftContHead"},a().createElement("span",{className:"ContHead1"},"Selected Year : "),a().createElement("span",{className:"ContHead2"},O))),A.map(((e,t)=>a().createElement(o.Z,{xs:3,md:3,sm:3,lg:3},a().createElement("div",{className:"LeftCont",style:{height:"129px"}},a().createElement("div",{className:"LeftContCard"},a().createElement(i.Z,null,a().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},a().createElement("div",{className:"ContCard1"},a().createElement("span",null,e.Name))),a().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},a().createElement("div",{className:"ContCard2"},a().createElement("span",{style:{cursor:e.Count?"pointer":""},onClick:()=>{e.Count&&he("RMMONTHWISEDET",t)}},e.Count?e.Count:"-")))))))))))),a().createElement(o.Z,{xs:12,sm:12,md:3,lg:3},a().createElement("div",{className:"ppmRightContainer"},a().createElement(i.Z,{style:{position:"relative"}},a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative"}},a().createElement(m.Z,{value:S.ContractName,json:M.A,SPName:"RMCCMComplaints",FieldName:"ContractIDMonth",EnterSave:e=>{e&&Se(e)},onSelect:e=>Ee(e,"ContractID","select"),onChange:(e,t)=>{xe(e,t,"ContractIDPK")},KeyBack:e=>{Pe("ContractID")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("ContractIDPK")},Tabledialog:()=>OpenDialogComponent("ContractIDPK"),loading:R,SideEntryView:!0,minWidth:"270px",clear:e=>{e&&Te("ContractID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(m.Z,{value:S.LocalityName,json:M.A,SPName:"RMCCMComplaints",FieldName:"LocalityIDMonth",EnterSave:e=>{e&&Se(e)},onSelect:e=>Ee(e,"LocalityID","select"),onChange:(e,t)=>{xe(e,t,"LocalityIDPK")},KeyBack:e=>{Pe("LocalityID")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("LocalityIDPK")},Tabledialog:()=>OpenDialogComponent("LocalityIDPK"),loading:R,minWidth:"270px",SideEntryView:!0,clear:e=>{e&&Te("LocalityID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(s.Z,{value:S.BuildingName,json:M.A,ref:Me,SPName:"RMCCMComplaints",FieldName:"BuildingIDMonth",EnterSave:e=>{e&&Se(e)},onSelect:(e,t)=>Be(0,t,"BuildingID"),onChange:(e,t)=>{xe(e,t,"BuildingIDPK")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),xe("1","","BuildingIDPK","",t)},openSlide:()=>{OpenSlideComponent("BuildingIDPK")},Tabledialog:()=>OpenDialogComponent("BuildingIDPK"),loading:R,selectAllData:!0,minWidth:"270px",clear:e=>{e&&Te("BuildingID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(s.Z,{value:S.DivisionName,ref:ve,json:M.A,SPName:"RMCCMComplaints",FieldName:"DivisionIDMonth",EnterSave:e=>{e&&Se(e)},onSelect:(e,t)=>Be(0,t,"DivisionID"),onChange:(e,t)=>{xe(e,t,"DivisionIDPK")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),xe("1","","DivisionIDPK","",t)},selectAllData:!0,minWidth:"270px",openSlide:()=>{OpenSlideComponent("DivisionIDPK")},Tabledialog:()=>OpenDialogComponent("DivisionIDPK"),loading:R,clear:e=>{e&&Te("DivisionID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(s.Z,{value:S.DisciplineName,json:M.A,ref:Ne,SPName:"RMCCMComplaints",FieldName:"DisciplineIDMonth",EnterSave:e=>{e&&Se(e)},onSelect:(e,t)=>Be(0,t,"DisciplineID"),onChange:(e,t)=>{xe(e,t,"DisciplineIDPK")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),xe("1","","DisciplineIDPK","",t)},selectAllData:!0,minWidth:"270px",openSlide:()=>{OpenSlideComponent("DisciplineIDPK")},Tabledialog:()=>OpenDialogComponent("DisciplineIDPK"),loading:R,clear:e=>{e&&Te("DisciplineID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd",style:{position:"relative",marginTop:"15px"}},a().createElement(C.Z,{value:f||new Date,disabled:!1,label:a().createElement("span",null,"Select an Year"),onChange:t=>{if("Invalid Date"!=t){let l=t?.split("-");if(L(l&&l[0]),b(l&&l[0]),B({type:"text",name:"AssetStartDate",value:t}),S.ContractName&&S.LocalityName){let e=new Date(t).getFullYear();he("RMCOUNT",null,null,e)}else e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})}},onErr:e=>{Ie(e)},view:["year"],format:"yyyy",formctrlId:"17917",formctrlIdName:"AssetStartDate",fieldOrder:"1"})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,className:"RightContFooter",style:{position:"relative",marginTop:"25px"}},a().createElement(D.Z,{name:"Clear",className:"ContainedBtn",disabled:!1,startIcon:"",onClick:()=>{W(""),B({type:"text",name:"ContractID",value:""}),B({type:"text",name:"ContractName",value:""}),B({type:"text",name:"LocalityID",value:""}),B({type:"text",name:"LocalityName",value:""}),B({type:"text",name:"BuildingID",value:""}),B({type:"text",name:"BuildingName",value:""}),V.length>0&&document.getElementById("RMCCMComplaintsBuildingMonthNameClear").click(),B({type:"text",name:"FloorID",value:""}),B({type:"text",name:"FloorName",value:""}),B({type:"text",name:"DivisionID",value:""}),B({type:"text",name:"DivisionName",value:""}),Y.length>0&&document.getElementById("RMCCMComplaintsDivisionMonthNameClear").click(),B({type:"text",name:"DisciplineID",value:""}),B({type:"text",name:"DisciplineName",value:""}),J.length>0&&document.getElementById("RMCCMComplaintsDisciplineMonthNameClear").click(),B({type:"text",name:"AssetStartDate",value:""}),_([]),z([]),$([]),b(""),L(""),w(N)},formctrlId:"entclear800"}," Clear"),a().createElement(D.Z,{name:"Show",className:"ColorContainedBtn",disabled:!1,startIcon:"",onClick:()=>{Se("RMCOUNT")}}," Show")))))))}},65763:(e,t,l)=>{l.d(t,{j:()=>o});var n=l(92950),a=l.n(n),i=l(25108);function o(e,t,l,n,a){i.log(e,l,n,a,"res,data,file");try{const{Output:l}=e,{status:i}=l,{code:o,message:m}=i;if("200"===o)if("pdf"===n.type)t.alertmsg({open:!0,color:"success",message:[`${n.table} - Print File Created Successfully`]}),t.loading(!1),setTimeout((()=>{"path"==l.file.type?p(l.file.filepath,n):u(l.file.data,n)}),1e3),t.loading(!1);else{t.loading(!1),t.alertmsg({open:!0,color:"success",message:[`${n.table} - File Generation In Process, Once you have downloaded the file, you will be notified`]});const{data:e}=l;"200"==l.status.code?(t.loading(!1),t.alertmsg({open:!0,color:"success",message:[`${n.table} - Excel Export Generated Successfully`]}),function(e,t){fetch(e).then((e=>e.blob())).then((e=>{const l=URL.createObjectURL(e),n=document.createElement("a");n.href=l,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}))}(e[0].path,a)):(t.alertmsg({open:!0,color:"warning",message:["Error While Creating Export File"]}),t.loading(!1))}else t.alertmsg({open:!0,color:"warning",message:[m]}),t.loading(!1)}catch(e){t.loading(!1),t.alertmsg({open:!0,color:"error",message:[e.message]})}}const p=(e,t,l)=>{i.log(e,"filepath");const n=document.createElement("a");n.href=e,n.target="_blank",n.rel="noopener",document.body.appendChild(n),n.click()},u=(e,t,l)=>{const n=new Blob([new Uint8Array(e).buffer],{type:"application/pdf"}),i=URL.createObjectURL(n);SlideComponentType(a().createElement("iframe",{title:"Buffer Data",src:i,width:"100%",height:"100%"})),URL.revokeObjectURL(i)}},95909:(e,t,l)=>{l.d(t,{Z:()=>u});var n=l(92950),a=l.n(n),i=l(40900);l(87429);const o={position:"absolute",textAlign:"center",top:"46%",width:"100%",zIndex:"99",transform:"translate(-50%, -50%)",transform:"-webkit-translate(-50%, -50%)",transform:"-moz-translate(-50%, -50%)",transform:"-ms-translate(-50%, -50%)"},p={width:"5%",WebkitTouchCallout:"none",WebkitUserSelect:"none",khtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},u=function(e){const{classes:t}=e,[l,u]=(0,n.useState)("hidden");return(0,n.useEffect)((()=>{!0===e.loading?u("block"):u("none")})),a().createElement("div",{className:"loadingRoot",style:{display:l},draggable:"false"},a().createElement("div",{style:o,draggable:"false"},a().createElement("img",{draggable:"false",src:i.v.ImageUrl+"BuildingLoader.gif",alt:"Logo",style:p})))}}}]);