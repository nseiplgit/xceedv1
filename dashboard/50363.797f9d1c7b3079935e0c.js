"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[50363],{50363:(e,t,l)=>{l.r(t),l.d(t,{default:()=>v});var a=l(92950),n=l.n(a),i=l(14439),o=l(27848),r=l(40900),u=l(26537),p=(l(95909),l(11377)),m=l(74095),s=l(92371),c=l(51673),d=l(49174),D=l(282),C=l(92772),S=l(65763),y=(l(10635),l(9939),l(71168)),I=l.n(y),g=l(82934),P=(l(54180),l(30037));const N={PPMSBCreationWorkOrderIDPK:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreWoDateTimeType:"",SBCreWoDateTimeBetween:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreActualDateType:"",SBCreActualDateBetween:"",SBCreWoCompletedDate:"",SBCreWoCompletedDateType:"",SBCreWoCompletedDateBetween:"",SBCreParentCreationKey:"",SBCreSLAHours:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreXWoDateType:"",SBCreXWoDateBetween:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",IsDraft:0,Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",HierarchyDetailsID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",ServiceTypeID:"",IsActive:1,DeleStat:0,CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsName:"",PaymentType:"",Period:"",UserCode:"",UserName:"",ContractCode:"",ContractName:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",LocalityCode:"",LocalityName:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",BuildingArea:"",FloorCode:"",FloorName:"",SpotTypeID:"",SpotTypeCode:"",SpotTypeName:"",AssWingID:"",AssWingCode:"",AssWingName:"",WingLatitude:"",WingLongitude:"",SpotCode:"",SpotName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",HierarchyID:"",HierCode:"",HierName:"",HierarchyDetCode:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageName:"",StageSeqNo:"",ServiceTypCode:"",ServiceTypeName:"",EmployeeID:"",EmployeeCode:"",FirstName:"",LastName:"",EmpContactNo1:"",EmpEmailOfficial:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},T=[{Name:"January",Count:""},{Name:"February",Count:""},{Name:"March",Count:""},{Name:"April",Count:""},{Name:"May",Count:""},{Name:"June",Count:""},{Name:"July",Count:""},{Name:"August",Count:""},{Name:"September",Count:""},{Name:"October",Count:""},{Name:"November",Count:""},{Name:"December",Count:""}],v=e=>{const[t]=(0,a.useState)(localStorage.getItem("userid")),[l,y]=(0,a.useState)([]),[v,B]=(0,a.useState)(!1),[h,M]=(0,a.useReducer)(s.Z,N),[x,E]=(0,a.useState)([]),[W,L]=(0,a.useState)([]),[k,O]=(0,a.useState)(0),[F,f]=(0,a.useState)(0),[A,w]=(0,a.useState)(T),[K,b]=(0,a.useState)(""),[R,Z]=(0,a.useState)(""),[G]=(0,a.useState)("809"),[U,q]=(0,a.useState)([]),[H,X]=(0,a.useState)([]),[j,V]=(0,a.useState)({WorkOrder:"",WoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",EquipmentName:"",FrequencyName:"",PPMCreationAssetCode:"",GeneratedDateTime:"",ActualDateTime:"",WoCompletedDate:"",ParentCreationKey:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",IsWithDraw:"",WithDrawRemarks:"",IsReschedule:"",RescheduleRemarks:"",IsRework:"",ReworkRemarks:"",SequenceNo:"",PPMLattitude:"",PPMLongitude:"",IsCCMRaised:"",XCreationAssetKey:"",XWorkOrder:"",XWoDate:"",PPMGeneralCost:"",PPMMaterialCost:"",PPMLabourCost:"",PPMVendorInvCost:"",PPMTotalCost:"",PPMChargeLedgerKey:"",PPMCostLedgerKey:"",SchFreqAssetKey:"",PpmCreationDisciplineKey:"",PPMSBSTimeCostKey:"",BMSKey:"",IsWoManual:"",PPMTypeName:"",FirstName:"",FirstName1:"",FirstName2:"",FirstName3:"",HierarchyDetCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMStageName:"",PPMCreationOthersAddOnCode:"",PPMCreationAnaAddOnCode:"",PPMCreationSupAddOnCode:""}),[_,Y]=(0,a.useState)([]),[z,J]=(0,a.useState)([]),[Q,$]=(0,a.useState)([]),[ee,te]=(0,a.useState)(""),[le,ae]=(0,a.useState)([]),[ne,ie]=(0,a.useState)([]),[oe,re]=(0,a.useState)([]),[ue,pe]=(0,a.useState)([]),[me,se]=(0,a.useState)(""),[ce,de]=n().useReducer(P.d,P.E),[De,Ce]=(0,a.useState)({current:1,pageSize:10}),[Se,ye]=I()("2004"),[Ie,ge]=(0,a.useState)(""),Pe=(0,a.useRef)(),Ne=(0,a.useRef)(),Te=(0,a.useRef)(),[ve,Be]=(0,a.useState)({open:!1,color:"",message:[""]});(0,a.useRef)(null),(0,a.useRef)(null);var he=[...A];(0,a.useEffect)((()=>{(0,u.Z)(0).then((e=>{L(e)}))}),[]),(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),de({type:"language",payload:Object.assign({},...n)}),V(l.reduce(((e,t)=>(e[t]="",e)),{})),ae(e),q(t),X(l),ie(a),re(l)}(Se)}),[Se]);const Me=(t,l,a,i,o,p,m)=>{e.loading(!0);let s=[],d=[],D=[];_.map((e=>{e&&s.push(e.BuildingID)})),z.map((e=>{e&&d.push(e.DivisionID)})),Q.map((e=>{e&&D.push(e.DisciplineID)}));const y=r.v.Api+"FP521S3/";let I={data:{p1:o&&o.PPMSSCreationWorkOrderIDPK?o.PPMSSCreationWorkOrderIDPK:null,p2:o&&o.PPMSSCreationAssetCode?o.PPMSSCreationAssetCode:null,p3:o&&o.SSCreWorkOrder?o.SSCreWorkOrder:null,p4:o&&o.SSCreWoDateTime?o.SSCreWoDateTime:null,p5:o&&o.SSCreWoDateTimeType?o.SSCreWoDateTimeType:null,p6:o&&o.SSCreWoDateTimeBetween?o.SSCreWoDateTimeBetween:null,p7:o&&o.SSCreGeneratedTtm?o.SSCreGeneratedTtm:null,p8:o&&o.SSCreActualDate?o.SSCreActualDate:null,p9:o&&o.SSCreActualDateType?o.SSCreActualDateType:null,p10:o&&o.SSCreActualDateBetween?o.SSCreActualDateBetween:null,p11:o&&o.SSCreWoCompletedDate?o.SSCreWoCompletedDate:null,p12:o&&o.SSCreWoCompletedDateType?o.SSCreWoCompletedDateType:null,p13:o&&o.SSCreWoCompletedDateBetween?o.SSCreWoCompletedDateBetween:null,p14:o&&o.SSCreParentCreationKey?o.SSCreParentCreationKey:null,p15:"PPMMONTHWISEDET"==t?l||"0"==l?l+1:(new Date).getMonth()+1:null,p16:"PPMSSCOUNT"==t?k||(new Date).getFullYear():"PPMSSMONTHWISEDET"==t?l+1:null,p17:"PPMSSMONTHWISEDET"==t?k||(new Date).getFullYear():null,p18:null,p19:o&&o.SSCreWithDrawEmpKey?o.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:o&&o.SSCreReschduleEmpKey?o.SSCreReschduleEmpKey:null,p23:null,p24:"PPMSSCOUNT"==t?"PPMSSMONTH":null,p25:o&&o.SSCreReworkEmpKey?o.SSCreReworkEmpKey:null,p26:o&&o.SSCrePPMLattitude?o.SSCrePPMLattitude:null,p27:o&&o.SSCrePPMLongitude?o.SSCrePPMLongitude:null,p28:null,p29:o&&o.SSCreXCreationAssetKey?o.SSCreXCreationAssetKey:null,p30:o&&o.SSCreXWorkOrder?o.SSCreXWorkOrder:null,p31:o&&o.SSCreXWoDate?o.SSCreXWoDate:null,p32:o&&o.SSCreXWoDateType?o.SSCreXWoDateType:null,p33:o&&o.SSCreXWoDateBetween?o.SSCreXWoDateBetween:null,p34:o&&o.SSCreChargeLedgerKey?o.SSCreChargeLedgerKey:null,p35:o&&o.SSCreCostLedgerKey?o.SSCreCostLedgerKey:null,p36:o&&o.HierarchyDetailsKey?o.HierarchyDetailsKey:null,p37:o&&o.SSTechStartDateTime?o.SSTechStartDateTime:null,p38:o&&o.SSTechStartDateTimeType?o.SSTechStartDateTimeType:null,p39:o&&o.SSTechStartDateTimeBetween?o.SSTechStartDateTimeBetween:null,p40:o&&o.SSTechEndDateTime?o.SSTechEndDateTime:null,p41:o&&o.SSTechEndDateTimeType?o.SSTechEndDateTimeType:null,p42:o&&o.SSTechEndDateTimeBetween?o.SSTechEndDateTimeBetween:null,p43:o&&o.SSTechName?o.SSTechName:null,p44:o&&o.SSTechKeys?o.SSTechKeys:null,p45:"DraftPPMSSCreationWorkOrderID"==t?"1":"0",p46:null,p47:h.ContractID?h.ContractID:null,p48:h.LocalityID?h.LocalityID:null,p49:s.length>0?s.toString():null,p50:null,p51:null,p52:d.length>0?d.toString():null,p53:D.length>0?D.toString():null,p54:o&&o.FrequencyID?o.FrequencyID:null,p55:o&&o.PPMBusinessFlowID?o.PPMBusinessFlowID:null,p56:o&&o.PPMFixonBusinessFlowID?o.PPMFixonBusinessFlowID:null,p57:o&&o.PPMStageID?o.PPMStageID:null,p58:null,p59:null,p60:o&&o.CreatedUserID_varchar?o.CreatedUserID_varchar:null,p61:o&&o.CreatedTtm?o.CreatedTtm:null,p62:o&&o.CreatedTtmType?o.CreatedTtmType:null,p63:o&&o.CreatedTtmBetween?o.CreatedTtmBetween:null,p64:null,p65:o&&o.ContractGroupID?o.ContractGroupID:null,p66:o&&o.ContractGroupCode?o.ContractGroupCode:null,p67:o&&o.ContractGroupName?o.ContractGroupName:null,p68:o&&o.TaxID?o.TaxID:null,p69:o&&o.TaxCode?o.TaxCode:null,p70:o&&o.TaxName?o.TaxName:null,p71:o&&o.TaxValue?o.TaxValue:null,p72:o&&o.CustomerID?o.CustomerID:null,p73:o&&o.CustomerCode?o.CustomerCode:null,p74:o&&o.CustomerName?o.CustomerName:null,p75:o&&o.ContractTypeID?o.ContractTypeID:null,p76:o&&o.ContractTypCode?o.ContractTypCode:null,p77:o&&o.ContractTypeName?o.ContractTypeName:null,p78:o&&o.ContractCategID?o.ContractCategID:null,p79:o&&o.ContractCategCode?o.ContractCategCode:null,p80:o&&o.ContractCategName?o.ContractCategName:null,p81:o&&o.ConPaymentTermsID?o.ConPaymentTermsID:null,p82:o&&o.ConPaymentTermsName?o.ConPaymentTermsName:null,p83:o&&o.ContractCode?o.ContractCode:null,p84:o&&o.ContractName?o.ContractName:null,p85:o&&o.LocalityGroupID?o.LocalityGroupID:null,p86:o&&o.LocalityGroupCode?o.LocalityGroupCode:null,p87:o&&o.LocalityGroupName?o.LocalityGroupName:null,p88:o&&o.CityID?o.CityID:null,p89:o&&o.CityCode?o.CityCode:null,p90:o&&o.CityName?o.CityName:null,p91:o&&o.AdminLocalityTypeID?o.AdminLocalityTypeID:null,p92:o&&o.AdminLocalityTypeCode?o.AdminLocalityTypeCode:null,p93:o&&o.AdminLocalityTypeName?o.AdminLocalityTypeName:null,p94:o&&o.LocalityCode?o.LocalityCode:null,p95:o&&o.LocalityName?o.LocalityName:null,p96:o&&o.AssBuildingTypeID?o.AssBuildingTypeID:null,p97:o&&o.AssBuildingTypeCode?o.AssBuildingTypeCode:null,p98:o&&o.AssBuildingTypeName?o.AssBuildingTypeName:null,p99:o&&o.BuildingCode?o.BuildingCode:null,p100:o&&o.BuildingName?o.BuildingName:null,p101:o&&o.FloorCode?o.FloorCode:null,p102:o&&o.FloorName?o.FloorName:null,p103:o&&o.SpotTypeID?o.SpotTypeID:null,p104:o&&o.SpotTypeCode?o.SpotTypeCode:null,p105:o&&o.SpotTypeName?o.SpotTypeName:null,p106:o&&o.AssWingID?o.AssWingID:null,p107:o&&o.AssWingCode?o.AssWingCode:null,p108:o&&o.AssWingName?o.AssWingName:null,p109:o&&o.SpotCode?o.SpotCode:null,p110:o&&o.SpotName?o.SpotName:null,p111:o&&o.DivisionCode?o.DivisionCode:null,p112:o&&o.DivisionName?o.DivisionName:null,p113:o&&o.DisciplineCode?o.DisciplineCode:null,p114:o&&o.DisciplineName?o.DisciplineName:null,p115:o&&o.FrequencyCode?o.FrequencyCode:null,p116:o&&o.FrequencyName?o.FrequencyName:null,p117:o&&o.PPMStageName?o.PPMStageName:null,p118:o&&o.StageSeqNo?o.StageSeqNo:null,p119:a||1,p120:p||10,p121:t,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};(0,u.Z)(0).then((a=>{(0,c.Z)(y,I,a).then((a=>{if(a.Output.data.length>0){if("PPMSSCOUNT"==t){const{LocUserID:e,SelectedYear:t,...l}=a.Output.data[0];b(a.Output.data[0].SelectedYear),Object.values(l).map(((e,t)=>{if(0!=e){const a={Count:e},n=[...he],i=n.findIndex((e=>e.Name==Object.keys(l)[t])),o=n[i];n.splice(i,1,{...o,...a}),he=n,w(n)}}))}"PPMSSMONTHWISEDET"==t&&(e.SlideComponentType(n().createElement(C.default,{dynamic:!0,name:"PPMSS Month Wise Summary",tableData:a.Output.data,TableVisibleItem:[],TableBodyItem:[],Refresh:()=>Me(t,l),onPageChange:(e,a)=>{Me(t,l,e,"","",a)},searchvalue:e=>{Me(t,l,"","",e)},pageSize:a.Output.data[0]?.PageSize,PrintPdf:e=>{Me(t,l,"1","","",a.Output.data[0].TotalCount,e)}})),B(!1))}else e.alertmsg({open:!0,color:"warning",message:["No Records Found"]}),w(T);e.loading(!1)})),m&&(0,c.Z)(y,I,a,m).then((e=>{(0,S.j)(e,B,Be,e.Output.data,m,"PPMSS Month Wise Summary")}))}))},xe=t=>h.ContractID&&0!=h.ContractID?h.LocalityID&&0!=h.LocalityID?void Me(t):(e.alertmsg({open:!0,color:"warning",message:["Please select the Location"]}),!1):(e.alertmsg({open:!0,color:"warning",message:["Please select the Contract Name"]}),!1),Ee=(e,t,l)=>{if("BuildingID"==l&&(Y(t),t.length>0)){let e=[];t.map(((l,a)=>e.push((t.length,l.BuildingIDPK))))}if("DivisionID"==l&&(J(t),t.length>0)){let e=[];t.map(((l,a)=>e.push(t.length==a+1?l.DivisionIDPK+",":l.DivisionIDPK)))}if("DisciplineID"==l&&($(t),t.length>0)){let e=[];t.map(((l,a)=>e.push(t.length==a+1?l.DisciplineIDPK+",":l.DisciplineIDPK)))}},We=(t,l,a,n,i)=>{let o=[],u=[],p=[];_.map((e=>{e&&o.push(e.BuildingID)})),z.map((e=>{e&&u.push(e.DivisionID)})),Q.map((e=>{e&&p.push(e.DisciplineID)}));const m=r.v.Api+"FP521S3/",s={data:{p1:null,p2:null,p3:null,p4:h.SSCreWoDateTime?h.SSCreWoDateTime:null,p5:null,p6:null,p7:null,p8:h.SSCreActualDate?h.SSCreActualDate:null,p9:null,p10:null,p11:h.SSCreWoCompletedDate?h.SSCreWoCompletedDate:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:1==h.IsSSCreWithDraw,p18:null,p19:l?"%"+l+"%":null,p20:1==h.IsSSCreReschedule,p21:null,p22:l?"%"+l+"%":null,p23:1==h.IsSSCreRework,p24:null,p25:l?"%"+l+"%":null,p26:l?"%"+l+"%":null,p27:l?"%"+l+"%":null,p28:1==h.IsSSCreTechManual,p29:l?"%"+l+"%":null,p30:l?"%"+l+"%":null,p31:h.SSCreXWoDate?h.SSCreXWoDate:null,p32:null,p33:null,p34:l?"%"+l+"%":null,p35:l?"%"+l+"%":null,p36:l?"%"+l+"%":null,p37:h.SSTechStartDateTime?h.SSTechStartDateTime:null,p38:null,p39:null,p40:h.SSTechEndDateTime?h.SSTechEndDateTime:null,p41:null,p42:null,p43:l?"%"+l+"%":null,p44:l?"%"+l+"%":null,p45:null,p46:null,p47:"0"==h.ContractID?null:h.ContractID,p48:"0"==h.LocalityID?null:h.LocalityID,p49:"0"==h.BuildingID?null:h.BuildingID,p50:"0"==h.FloorID?null:h.FloorID,p51:"0"==h.SpotID?null:h.SpotID,p52:"0"==h.DivisionID?null:h.DivisionID,p53:"0"==h.DisciplineID?null:h.DisciplineID,p54:"0"==h.FrequencyID?null:h.FrequencyID,p55:"0"==h.PPMBusinessFlowID?null:h.PPMBusinessFlowID,p56:"0"==h.PPMFixonBusinessFlowID?null:h.PPMFixonBusinessFlowID,p57:"0"==h.PPMStageID?null:h.PPMStageID,p58:e.Dialogview?"1":null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:"0"==h.ContractGroupID?null:h.ContractGroupID,p66:l?"%"+l+"%":null,p67:l?"%"+l+"%":null,p68:"0"==h.TaxID?null:h.TaxID,p69:l?"%"+l+"%":null,p70:l?"%"+l+"%":null,p71:l?"%"+l+"%":null,p72:"0"==h.CustomerID?null:h.CustomerID,p73:l?"%"+l+"%":null,p74:l?"%"+l+"%":null,p75:"0"==h.ContractTypeID?null:h.ContractTypeID,p76:l?"%"+l+"%":null,p77:l?"%"+l+"%":null,p78:"0"==h.ContractCategID?null:h.ContractCategID,p79:l?"%"+l+"%":null,p80:l?"%"+l+"%":null,p81:"0"==h.ConPaymentTermsID?null:h.ConPaymentTermsID,p82:l?"%"+l+"%":null,p83:l?"%"+l+"%":null,p84:l?"%"+l+"%":null,p85:"0"==h.LocalityGroupID?null:h.LocalityGroupID,p86:l?"%"+l+"%":null,p87:l?"%"+l+"%":null,p88:"0"==h.CityID?null:h.CityID,p89:l?"%"+l+"%":null,p90:l?"%"+l+"%":null,p91:"0"==h.AdminLocalityTypeID?null:h.AdminLocalityTypeID,p92:l?"%"+l+"%":null,p93:l?"%"+l+"%":null,p94:l?"%"+l+"%":null,p95:l?"%"+l+"%":null,p96:"0"==h.AssBuildingTypeID?null:h.AssBuildingTypeID,p97:l?"%"+l+"%":null,p98:l?"%"+l+"%":null,p99:l?"%"+l+"%":null,p100:l?"%"+l+"%":null,p101:l?"%"+l+"%":null,p102:l?"%"+l+"%":null,p103:"0"==h.SpotTypeID?null:h.SpotTypeID,p104:l?"%"+l+"%":null,p105:l?"%"+l+"%":null,p106:"0"==h.AssWingID?null:h.AssWingID,p107:l?"%"+l+"%":null,p108:l?"%"+l+"%":null,p109:l?"%"+l+"%":null,p110:l?"%"+l+"%":null,p111:l?"%"+l+"%":null,p112:l?"%"+l+"%":null,p113:l?"%"+l+"%":null,p114:l?"%"+l+"%":null,p115:l?"%"+l+"%":null,p116:l?"%"+l+"%":null,p117:l?"%"+l+"%":null,p118:l?"%"+l+"%":null,p119:t,p120:10,p121:a,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};B(!0);const d=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(s.data).length-8?s.data[t]:null,e)),{});B(!0);const D={data:d};(0,c.Z)(m,"ClearAll"==a?D:s,"SetDefaultPPMSSCreationWorkOrderID"==a&&n?n:W).then((l=>{const n=l.Output.status.code,o=l.Output.data;if("200"==n){const l=o.length;1==t?l>0?(E(o),"WorkOrderIDPK"==a&&i&&AssetIDRef.current.checkedAll(o),i&&"BuildingIDPK"==a&&(Pe.current.checkedAll(o),e.loading(!1)),i&&"DivisionIDPK"==a&&(Ne.current.checkedAll(o),e.loading(!1)),i&&"DisciplineIDPK"==a&&(Te.current.checkedAll(o),e.loading(!1))):E([]):E(x.concat(o)),"SetDefaultPPMSSCreationWorkOrderID"==a&&(l>0?editRecord(o[0],"SetDefaultPPMSSCreationWorkOrderID"):setDefaultPrimaryId("NORECORDS")),B(!1)}else context.alert({open:!0,color:"warning",message:[l.Output.status.message]}),B(!1)}))},Le=(0,a.useCallback)(((e,t,l)=>{"text"==l?M({type:l,name:t,value:e}):"number"==l?M({type:l,name:t,number:e}):"boolean"==l?M({type:l,name:t,boolean:e}):"date"==l||"select"==l&&("ContractID"==t?(M({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),M({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null})):"LocalityID"==t?(M({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),M({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"BuildingID"==t?(M({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),M({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),M({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),M({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"DivisionID"==t?(M({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),M({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"DisciplineID"==t&&(M({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),M({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null}),M({type:"text",name:"DivisionID",value:e.DivisionID?e.DivisionID:null}),M({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})))}),[h]);function ke(e){"ContractID"==e?(M({type:"text",name:"ContractID",value:""}),M({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSSCreationWorkOrderContractMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderContractMonthNameClear").click(),M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSCreationWorkOrderLocalityMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderLocalityMonthNameClear").click(),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingMonthNameClear").click(),Y([])):"LocalityID"==e?(M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSCreationWorkOrderLocalityMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderLocalityMonthNameClear").click(),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingMonthNameClear").click(),Y([])):"BuildingID"==e?(M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSCreationWorkOrderBuildingMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingMonthNameClear").click(),Y([])):"DivisionID"==e?(M({type:"text",name:"DivisionID",value:""}),M({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMSSCreationWorkOrderDivisionMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderDivisionMonthNameClear").click(),J([]),M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSSCreationWorkOrderDisciplineMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderDisciplineMonthNameClear").click(),$([])):"DisciplineID"==e&&(M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSSCreationWorkOrderDisciplineMonthNameClear")&&document.getElementById("PPMSSCreationWorkOrderDisciplineMonthNameClear").click(),$([]))}function Oe(e){"ContractID"==e?M({type:"text",name:"ContractID",value:""}):"LocalityID"==e?(M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"FloorID",value:""}),M({type:"text",name:"SpotID",value:""})):"BuildingID"==e?(M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"FloorID",value:""}),M({type:"text",name:"SpotID",value:""})):"FloorID"==e?(M({type:"text",name:"FloorID",value:""}),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"SpotID",value:""})):"SpotID"==e?(M({type:"text",name:"SpotID",value:""}),M({type:"text",name:"FloorID",value:""}),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"LocalityID",value:""})):"DivisionID"==e?M({type:"text",name:"DivisionID",value:""}):"DisciplineID"==e?(M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DivisionID",value:""})):"AssetID"==e?M({type:"text",name:"AssetID",value:""}):"FrequencyID"==e&&M({type:"text",name:"FrequencyID",value:""})}return n().createElement("div",{className:"ppmMainDiv"},n().createElement(i.Z,{className:"ppmContainer"},n().createElement(o.Z,{xs:12,sm:12,md:9,lg:9},n().createElement("div",{className:"ppmLeftContainer"},n().createElement(i.Z,null,n().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},n().createElement("div",{className:"LeftContHead"},n().createElement("span",{className:"ContHead1"},"Selected Year : "),n().createElement("span",{className:"ContHead2"},K))),A.map(((e,t)=>n().createElement(o.Z,{xs:3,md:3,sm:3,lg:3},n().createElement("div",{className:"LeftCont",style:{height:"129px"}},n().createElement("div",{className:"LeftContCard"},n().createElement(i.Z,null,n().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},n().createElement("div",{className:"ContCard1"},n().createElement("span",null,e.Name))),n().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},n().createElement("div",{className:"ContCard2"},n().createElement("span",{style:{cursor:e.Count?"pointer":""},onClick:()=>{e.Count&&Me("PPMSSMONTHWISEDET",t)}},e.Count?e.Count:"-")))))))))))),n().createElement(o.Z,{xs:12,sm:12,md:3,lg:3},n().createElement("div",{className:"ppmRightContainer"},n().createElement(i.Z,{style:{position:"relative"}},n().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative"}},n().createElement(p.Z,{value:h.ContractName,json:g.A,SPName:"PPMSSCreationWorkOrder",FieldName:"ContractIDMonth",EnterSave:e=>{e&&xe(e)},onSelect:e=>Le(e,"ContractID","select"),onChange:(e,t)=>{We(e,t,"ContractIDPK")},KeyBack:e=>{Oe("ContractID")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("ContractIDPK")},Tabledialog:()=>OpenDialogComponent("ContractIDPK"),loading:v,SideEntryView:!0,minWidth:"270px",clear:e=>{e&&ke("ContractID")}})),n().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(p.Z,{value:h.LocalityName,json:g.A,SPName:"PPMSSCreationWorkOrder",FieldName:"LocalityIDMonth",EnterSave:e=>{e&&xe(e)},onSelect:e=>Le(e,"LocalityID","select"),onChange:(e,t)=>{We(e,t,"LocalityIDPK")},KeyBack:e=>{Oe("LocalityID")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("LocalityIDPK")},Tabledialog:()=>OpenDialogComponent("LocalityIDPK"),loading:v,minWidth:"270px",SideEntryView:!0,clear:e=>{e&&ke("LocalityID")}})),n().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(m.Z,{value:h.BuildingName,json:g.A,ref:Pe,SPName:"PPMSSCreationWorkOrder",FieldName:"BuildingIDMonth",EnterSave:e=>{e&&xe(e)},onSelect:(e,t)=>Ee(0,t,"BuildingID"),onChange:(e,t)=>{We(e,t,"BuildingIDPK")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),We("1","","BuildingIDPK","",t)},openSlide:()=>{OpenSlideComponent("BuildingIDPK")},Tabledialog:()=>OpenDialogComponent("BuildingIDPK"),loading:v,selectAllData:!0,minWidth:"270px",clear:e=>{e&&ke("BuildingID")}})),n().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(m.Z,{value:h.DivisionName,ref:Ne,json:g.A,SPName:"PPMSSCreationWorkOrder",FieldName:"DivisionIDMonth",EnterSave:e=>{e&&xe(e)},onSelect:(e,t)=>Ee(0,t,"DivisionID"),onChange:(e,t)=>{We(e,t,"DivisionIDPK")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),We("1","","DivisionIDPK","",t)},selectAllData:!0,minWidth:"270px",openSlide:()=>{OpenSlideComponent("DivisionIDPK")},Tabledialog:()=>OpenDialogComponent("DivisionIDPK"),loading:v,clear:e=>{e&&ke("DivisionID")}})),n().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(m.Z,{value:h.DisciplineName,json:g.A,ref:Te,SPName:"PPMSSCreationWorkOrder",FieldName:"DisciplineIDMonth",EnterSave:e=>{e&&xe(e)},onSelect:(e,t)=>Ee(0,t,"DisciplineID"),onChange:(e,t)=>{We(e,t,"DisciplineIDPK")},fieldOrder:"3",data:x,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:x.length>0?x[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),We("1","","DisciplineIDPK","",t)},selectAllData:!0,minWidth:"270px",openSlide:()=>{OpenSlideComponent("DisciplineIDPK")},Tabledialog:()=>OpenDialogComponent("DisciplineIDPK"),loading:v,clear:e=>{e&&ke("DisciplineID")}})),n().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd",style:{position:"relative",marginTop:"15px"}},n().createElement(d.Z,{value:k||new Date,disabled:!1,label:n().createElement("span",null,"Select an Year"),onChange:t=>{if("Invalid Date"!=t){let l=t?.split("-");if(O(l&&l[0]),b(l&&l[0]),M({type:"text",name:"AssetStartDate",value:t}),h.ContractName&&h.LocalityName){let e=new Date(t).getFullYear();Me("PPMSSCOUNT",null,null,e)}else e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})}},onErr:e=>{ge(e)},view:["year"],format:"yyyy",formctrlId:"17917",formctrlIdName:"AssetStartDate",fieldOrder:"1"})),n().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,className:"RightContFooter",style:{position:"relative",marginTop:"25px"}},n().createElement(D.Z,{name:"Clear",className:"ContainedBtn",disabled:!1,startIcon:"",onClick:()=>{Z(""),M({type:"text",name:"ContractID",value:""}),M({type:"text",name:"ContractName",value:""}),M({type:"text",name:"LocalityID",value:""}),M({type:"text",name:"LocalityName",value:""}),M({type:"text",name:"BuildingID",value:""}),M({type:"text",name:"BuildingName",value:""}),_.length>0&&document.getElementById("PPMSSCreationWorkOrderBuildingMonthNameClear").click(),M({type:"text",name:"DivisionID",value:""}),M({type:"text",name:"DivisionName",value:""}),z.length>0&&document.getElementById("PPMSSCreationWorkOrderDivisionMonthNameClear").click(),M({type:"text",name:"DisciplineID",value:""}),M({type:"text",name:"DisciplineName",value:""}),Q.length>0&&document.getElementById("PPMSSCreationWorkOrderDisciplineMonthNameClear").click(),M({type:"text",name:"AssetStartDate",value:""}),Y([]),J([]),$([]),b(""),O(""),w(T)},formctrlId:"entclear800"}," Clear"),n().createElement(D.Z,{name:"Show",className:"ColorContainedBtn",disabled:!1,startIcon:"",onClick:()=>{xe("PPMSSCOUNT")}}," Show")))))))}},95909:(e,t,l)=>{l.d(t,{Z:()=>u});var a=l(92950),n=l.n(a),i=l(40900);l(87429);const o={position:"absolute",textAlign:"center",top:"46%",width:"100%",zIndex:"99",transform:"translate(-50%, -50%)",transform:"-webkit-translate(-50%, -50%)",transform:"-moz-translate(-50%, -50%)",transform:"-ms-translate(-50%, -50%)"},r={width:"5%",WebkitTouchCallout:"none",WebkitUserSelect:"none",khtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},u=function(e){const{classes:t}=e,[l,u]=(0,a.useState)("hidden");return(0,a.useEffect)((()=>{!0===e.loading?u("block"):u("none")})),n().createElement("div",{className:"loadingRoot",style:{display:l},draggable:"false"},n().createElement("div",{style:o,draggable:"false"},n().createElement("img",{draggable:"false",src:i.v.ImageUrl+"BuildingLoader.gif",alt:"Logo",style:r})))}},9939:(e,t,l)=>{l(92950),l(49174),l(99173),l(39431),l(10635),l(87429),window.headercellid=""}}]);