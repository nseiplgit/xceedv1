/*! For license information please see 2581.7116265e2bb736d9adf8.js.LICENSE.txt */
(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[2581,4660,7805,9861],{41722:(e,t,a)=>{"use strict";a.d(t,{D:()=>n,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function n(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},30037:(e,t,a)=>{"use strict";a.d(t,{E:()=>l,d:()=>n});const l={IsDraft:!1,count:0,editData:[],AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},ShowView:!1,PrimaryData:[],ViewID:0,ExpandTableValue:!1,ExpandDetailValue:!0,Showtable:!1,expandDetail:"mainpanel",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{},IsShow:!1};function n(e,t){switch(t.type){case"IsDraft":return{...e,IsDraft:t.payload};case"IsShow":return{...e,IsShow:t.payload};case"count":return{...e,count:t.payload};case"editData":return{...e,editData:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"ShowView":return{...e,ShowView:t.payload};case"PrimaryData":return{...e,PrimaryData:t.payload};case"ViewID":return{...e,ViewID:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"Showtable":return{...e,Showtable:t.payload};case"expandDetail":return{...e,expandDetail:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var l=a(40900),n=a(26537),o=a(61956),r=a(35131),i=a.n(r),c=a(25108);function d(e,t,a,r){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":n.Z.TokenIDPK,"x-tokenname":n.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return c.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:r,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:i()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:i()().format("YYYY-MM-DD hh:mm:ss")}]};(0,n.Z)(0).then((t=>{(0,o.Z)(e,d,t).then((e=>{200==e[0].status.code?c.log(e,"RES"):c.log("Error")}))}))}}},83817:(e,t,a)=>{"use strict";function l(e,t,a,l,n){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:a}),t({type:"ShowDetail",payload:l}),n.loading(!1)):(n.loading(!1),n.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){n.loading(!1),n.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{a:()=>l})},45441:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var l=a(92950),n=a.n(l),o=a(7869),r=a.n(o),i=a(14439),c=a(27848),d=a(282),s=a(90482),m=a(868),u=a(8981);function p(e){let t=(0,u.Z)();return n().createElement(m.ZP,{placement:"top",title:e.name},n().createElement(d.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,onClick:e.onClick,frmctrlid:e.frmctrlid,startIcon:n().createElement(s.Z,{className:"PrintBtnIcon"})},t[e.name]))}function C(e){let t=(0,u.Z)();const a=e=>t?.[e]?t[e]:e;return n().createElement(m.ZP,{placement:"top",title:e.name?e.name:a("Import")},n().createElement(d.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,frmctrlid:e.frmctrlid,onClick:e.onClick,startIcon:n().createElement(s.Z,{className:"PrintBtnIcon"})},e.name?e.name:a("Import")))}a(96622);var y=a(80366),g=a(39803),D=a(13089),I=a(61657),S=a(25108);const E=function(e){const[t,a]=(0,l.useState)([]),[o,r]=(0,l.useState)(e.TableVisibleItem),[i,c]=(0,l.useState)(e.TableBodyItem);return(0,l.useEffect)((()=>{if(e.tableData.length>0){let t=[],l=[];Object.keys(e.tableData[0]).map((e=>{e.startsWith("Is")||(t.push({id:e,name:e.trim(),type:"varchar"}),l.push(e.trim()))})),r(t),c(l),a(e.tableData)}else a([])}),[e.tableData]),n().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",position:"relative",height:"61vh"}},e.tableData.length>0&&n().createElement("div",{className:"tableTopPagination displayFlex floatOrder",style:{float:"right"}},n().createElement(I.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:e.tableData.length,page:0,rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})),n().createElement(D.Z,{id:"ExcelMigrationTable",headerdata:o,tablesearchparams:"",searchvalue:e=>{setTableSearchParams(e)},bodydata:t,ondrag:(e,t)=>S.log(e,t),bodyitem:i,visibleitem:o,IsDraft:!1,IsView:!1,IsSub:"",tableExp:!1,accessrights:{},expanded:e=>{},edit:(e,t,a)=>{S.log(e,t,a)},viewtoggle:()=>{},isexpanded:!1,ViewComp:(e,t)=>{}}))};var f=a(55546),v=a.n(f),N=(a(40900),a(11557),a(51673),a(25108));v().ExcelFile,v().ExcelFile.ExcelSheet;const h=(0,l.forwardRef)(((e,t)=>{const{classes:a}=e,o=(0,l.useRef)(null),d=(0,l.useRef)(null),[s,m]=(0,l.useState)({}),[u,D]=(0,l.useState)([]),[I,S]=(0,l.useState)([]),[f,v]=(0,l.useState)(""),[h,T]=(0,l.useState)(!0),[b,P]=(0,l.useState)(!0);(0,l.useImperativeHandle)(t,(()=>({getRefresh:e=>D(e)})));const L=()=>{D([]),v(""),e.clear(),T(!0),P(!0)};async function x(t,a){e.loading(!0),e.importSave(t,a)}return e.TableBodyItem,N.log("exportData",e.exportData),n().createElement(i.Z,null,n().createElement(c.Z,{sm:12},n().createElement(i.Z,null,n().createElement(c.Z,{sm:2},n().createElement(p,{name:"download",id:e.frmctrlid+"_download",disabled:!1,onClick:e=>{d.current.click()}})),n().createElement(c.Z,{sm:2},n().createElement("input",{type:"file",className:"form-control",id:"myInput",ref:o,style:{display:"none"},onChange:t=>{(t=>{const a=t.target.files;v(t.target.files[0].name);var l=t.target.files[0].name.split(/\.(?=[^\.]+$)/);if(N.log("filename",a),"xls"!=l[1]&&"xlsx"!=l[1]&&"ods"!=l[1])return e.alert({open:!0,color:"error",message:["You can only upload Excel file!"]}),!1;{a&&a[0]&&v(a[0].name);const t=new FileReader,l=!!t.readAsBinaryString;t.onload=t=>{const a=t.target.result,n=r().read(a,{type:l?"binary":"array",bookVBA:!0});if(e.SheetCount>1){var o=n.SheetNames.slice(0,e.SheetCount);let t=[];o.map(((e,a)=>{const l=n.SheetNames[a],o=n.Sheets[l];let i=r().utils.sheet_to_json(o);t.push(i)})),e.data(t)}else{const t=n.SheetNames[0],a=n.Sheets[t],l=r().utils.sheet_to_json(a);let o=function(e,t){let a=[];for(let l=0;l<e.length;l++){let n=e[l],o={};for(let e=0;e<t.length;e++){let a=t[e];o["p"+(e+1)]=n[a]||""}a.push(o)}return a}(l,function(e){const t=[],a=r().utils.decode_range(e["!ref"]);for(let l=a.s.c;l<=a.e.c;++l){const n=e[r().utils.encode_cell({r:a.s.r,c:l})];n&&n.t&&t.push(n.v)}return t}(a));D(o),S((e=>{let t=[],a=r().utils.decode_range(e).e.c+1;for(var l=0;l<a;++l)t[l]={name:r().utils.encode_col(l),key:l};return t})(a["!ref"])),e.data(l,null,2),T(!1)}},l?t.readAsBinaryString(a[0]):t.readAsArrayBuffer(a[0])}})(t)},onClick:e=>{e.target.value=null}}),n().createElement(p,{name:"Browse",id:e.frmctrlid+"_browse2",disabled:!1,onClick:e=>{o.current.click()}})),n().createElement(c.Z,{sm:4},n().createElement(g.Z,{value:f,disabled:!0,multiline:!0,rowsMax:"2",fullWidth:!0,InputProps:{classes:a,endAdornment:f?n().createElement(y.Z,{style:{width:"18px",color:"#777"},onClick:e=>{L()}}):null}})),n().createElement(c.Z,{sm:2},n().createElement(C,{name:"Process",disabled:!!h,id:e.frmctrlid+"_Process",onClick:e=>{x(u,{type:"Process",uid:localStorage.getItem("userid")}),P(!1),T(!0)}})),n().createElement(c.Z,{sm:2},n().createElement(C,{name:"Import",disabled:!!b,id:e.frmctrlid+"_import",onClick:e=>{x(u,{type:"Import",uid:localStorage.getItem("userid")}),L()}})),n().createElement(c.Z,{sm:12},n().createElement(E,{tableData:u,TableVisibleItem:e.TableVisibleItem,TableBodyItem:e.TableBodyItem})))),n().createElement("a",{ref:d,style:{display:"none"},href:e.excelfile,download:e.filename},"Click to download"))}))},75086:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var l=a(92950),n=a.n(l);window.location.href.split("/");a(87429);const o={position:"absolute",textAlign:"center",top:"41%",width:"100%",zIndex:"99",transform:"translate(-50%, -50%)",transform:"-webkit-translate(-50%, -50%)",transform:"-moz-translate(-50%, -50%)",transform:"-ms-translate(-50%, -50%)"},r={width:"80px",WebkitTouchCallout:"none",WebkitUserSelect:"none",khtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},i=function(e){const{classes:t}=e,[a,i]=(0,l.useState)("hidden");return(0,l.useEffect)((()=>{!0===e.loading?i("block"):i("none")})),n().createElement("div",{className:"loadingRoot",style:{display:a,position:"absolute"},draggable:"false"},n().createElement("div",{style:o,draggable:"false"},n().createElement("img",{draggable:"false",src:"http://13.127.67.252:5040/Images/BuildingLoader.gif",alt:"Logo",style:r})))}},88845:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var l=a(92950),n=a.n(l),o=a(27848),r=a(14439),i=a(92448),c=a(99940),d=a(89738);function s(e){const[t,a]=(0,l.useState)(!1),[s,m]=(0,l.useState)(!1),[u,p]=(0,l.useState)("All"),[C,y]=(0,l.useState)([]),[g,D]=(0,l.useState)([]);return(0,l.useEffect)((()=>{y([]),y(e.data.Main),D(e.data.Child)}),[e.data]),n().createElement("div",null,n().createElement(r.Z,null,n().createElement(o.Z,{style:{padding:"6px"},xs:12,sm:12,md:12,lg:12},n().createElement(r.Z,{className:"ScreenCardDiv"},C&&C.map(((t,l,r)=>n().createElement(o.Z,{xs:e.xs?e.xs:6,sm:e.xs?e.xs:6,md:e.xs?e.xs:6,lg:e.xs?e.xs:6,key:l,className:"padding4"},n().createElement("div",{className:"schemaCard schemaCard-visitors",onClick:()=>{var l,n,o;l=t,n=t.Name,o=r,e.getChildData(l,n,o),a(l),y([]),document.getElementById("sidebarwid").offsetWidth>60?document.getElementById(e.id).style.width="calc(100% - 201px)":document.getElementById(e.id).style.width="calc(100% - 58px)",document.getElementById(e.id).style.display="block",document.getElementById(e.id).style.padding="5px 1.5rem",document.getElementById(e.id).style.right="0",y(e.data.Main)}},n().createElement("input",{type:"checkbox",id:"schemaCard-visitors-indicator-l3"+l}),n().createElement("div",{className:"header",style:{background:t.Color?t.Color:"#fff"}},n().createElement("div",{className:"content title2ADiv"},n().createElement("div",{className:"data"},n().createElement("div",{className:"top"},n().createElement("p",{className:"title2"},t.DisplayName.replace(/([A-Z])/g," $1").trim()))),n().createElement(c.Icon,{className:"schemaCardIcon "},t.Icon?t.Icon:n().createElement(i.Z,null)),n().createElement("span",{className:"title title2A"},t.DisplayName.replace(/([A-Z])/g," $1").trim()),n().createElement("div",{className:"float"}))),n().createElement("div",{className:"info"},n().createElement(d.Z,null,"Show"===e.type&&n().createElement("p",{className:"schemaCard-desc"},t.Description.replace(/([A-Z])/g," $1").trim()),n().createElement("p",{className:"counter"},t.Total?t.Total:"0")))))))))),n().createElement("div",{id:e.id,className:"sidenav inSlide viewImgWidth",style:{height:"calc(100vh - 90px)",marginTop:"90px",display:"none"}},!e.hideTitle&&n().createElement("div",{className:"ScreenTitle"},e.name&&e.name.replace(/([A-Z])/g," $1").trim()+" ("+e.count+")"),n().createElement("div",{className:"closebtnFlt",onClick:()=>{document.getElementById(e.id).style.padding="0",document.getElementById(e.id).style.display="none"}},"×"),"Schema"===e.type||"Share"===e.type&&n().createElement("div",{class:"chip-group",tabindex:"-1",role:"radiogroup"},n().createElement("div",{class:"chip chip-checkbox","aria-labelledby":"radioOneLabel",tabindex:"0",role:"radio","aria-checked":"false"},n().createElement("input",{type:"radio",name:"radioEx"}),n().createElement("span",{id:"radioOneLabel"},"All")),n().createElement("div",{class:"chip chip-checkbox","aria-labelledby":"radioTwoLabel",tabindex:"0",role:"radio","aria-checked":"false"},n().createElement("input",{type:"radio",name:"radioEx"}),n().createElement("span",{id:"radioTwoLabel"},"Two"))),n().createElement("div",{style:{marginTop:e.hideTitle?"0px":"3%"}},t&&e.tablecomponent)))}},65197:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var l=a(92950),n=a.n(l),o=a(14439),r=a(27848),i=a(63163),c=a(6562),d=a(30553),s=a(83173),m=a(21392),u=a(69685),p=a(45332),C=a(26537),y=a(77366),g=a(71168),D=a.n(g),I=a(99940),S=a(55918),E=a.n(S);function f(e){const[t,a]=(0,l.useState)([]),[s,m]=(0,l.useState)([]),[u,p]=D()(e.tableID);(0,l.useEffect)((()=>{y(u)}),[u,e.val]),(0,l.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&y(e.refresh)}),[e.refresh]);const C=t=>e.t(t);function y(t){const l=t.filter((t=>t.FormID==e.tableID));let n=[],o=[];l.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?o.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):n.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),m(g(o,"id")),a(g(n,"id"))}function g(e,t){const a=e.map((e=>e[t])),l=e.filter((({value:e},t)=>!a.includes(e,t+1)));return l}return n().createElement(n().Fragment,null,n().createElement("div",{index:e.index,className:"padding paddingLeft width100"},n().createElement(o.Z,{container:!0},n().createElement(r.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},n().createElement(o.Z,{container:!0},n().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},n().createElement("div",{className:"ViewHeadingTitle"},n().createElement("p",null,(S=e.tableName,e.tf(S)+" "+C("view")))),n().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},s.map(((t,a)=>n().createElement(n().Fragment,null,n().createElement(I.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},n().createElement("div",{key:a,className:"GridAlignSwitch"},n().createElement(c.Z,null,n().createElement(d.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:n().createElement(i.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),n().createElement(o.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",n().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement(o.Z,{container:!0},t.map(((t,a)=>n().createElement(n().Fragment,null,t.ForeignTag?n().createElement(n().Fragment,null,n().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:C(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var a,l;a=t.IDPK,l=e.val[t.ValID],e.OpenSlideComponent(a,l)},title:e.val[t.id]},e.val[t.id])))):n().createElement(n().Fragment,null,n().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?E()(e.val[t.id]):e.val[t.id]))))))))))),n().createElement(r.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",n().createElement(o.Z,{container:!0},n().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewFileImgCont"},n().createElement(o.Z,{container:!0},n().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingTitle1"},n().createElement("p",{className:"ViewHeadpTagHD"},C("Attachments")))),n().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingAttachmentL4"},n().createElement(v,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var S}const v=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&o()}),[e.id]);const o=()=>{(0,C.Z)(0).then((t=>{(0,y.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return n().createElement("div",null,n().createElement(u.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return n().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{src:e.ImgPath,alt:e.ImageName}):n().createElement(s.Z,{className:"previewFile"}),t.length>1&&n().createElement("div",{className:"Imgbgmstyle"},n().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),n().createElement(m.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},87709:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var l=a(92950),n=a.n(l),o=a(14439),r=a(27848),i=(a(63163),a(21392),a(26537),a(77366),a(71168)),c=a.n(i),d=(a(20506),a(99940),a(55918),a(64379)),s=a(66735),m=a(89875),u=a(25108);function p(e){const[t,a]=(0,l.useState)([]),[i,p]=(0,l.useState)([]),[C,y]=(0,l.useState)(!1),[g,D]=(0,l.useState)(!1),[I,S]=(0,l.useState)(e.cardName),[E,f]=(0,l.useState)(e.AddCardname),[v,N]=c()(e.tableID);return(0,l.useEffect)((()=>{!function(t){const l=t.filter((t=>t.FormID==e.tableID&&"1"==t.IsApplyToView&&t.FieldName!=e.tableID));let n=[];l.map((e=>{n.push({id:e.FieldDisplay,groupID:e.GroupID,groupName:e.GroupName,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType})})),u.log(n,"arr");let o=n.filter((e=>0!=e.groupID&&99!=e.groupID));if(o.length>0){D(!0);const e=o.map((e=>({...e,detail:n.filter((t=>t.groupID==e.groupID)),group:!0}))),t=e.map((e=>e.groupID)),l=e.filter((({groupID:e},a)=>!t.includes(e,a+1))).sort(((e,t)=>e.groupID-t.groupID));a(l)}else D(!1),a(n)}(v)}),[v,e.val]),n().createElement("div",{className:"cardhight"},n().createElement("div",{className:"mpadd5"},n().createElement("div",{className:`${e.tableName}-sublink v4Ass-sublink_D1`,style:{height:"77vh",padding:"0",overflowY:"auto"}},n().createElement("div",{className:"displayFlex",style:{alignItems:"center"}},n().createElement(d.Z,{style:{margin:"5px",fontSize:"18px",cursor:"pointer"},title:"Go Back",onClick:()=>e.onBack()}),n().createElement("p",{style:{color:"#202124"},className:"ListP",onClick:()=>{}},(h=e.tableID,e.tf(h)?e.tf(h):h))),g&&t.slice(0,1).map(((t,a)=>n().createElement(o.Z,{className:"l4D3ParentCard",onClick:()=>{e.cardEvent("parentDataCard")}},e.cardName&&t.detail.slice(0,5).filter((e=>1==e.groupID)).map((t=>n().createElement(n().Fragment,null,n().createElement(r.Z,{sm:5,md:5,lg:5,xs:5,style:{padding:"0px"}},n().createElement("p",{className:"ViewHeadpTag_D1",title:t.name},t.name)),n().createElement(r.Z,{sm:7,md:7,lg:7,xs:7,style:{padding:"0px"}},n().createElement("p",{className:"v4ViewBodypTag_D1",title:e.val[t.id]},":  ",e.val[t.id])))))))),e.SubCardData.length>0&&e.SubCardData.map(((t,a)=>n().createElement("div",{className:"displayFlex L4MenuHvr",style:{background:"panel1"===e.cstate.expandDetail?"#4892F9":"#fff",alignItems:"center",borderBottom:"1px solid #e3e4e9",padding:"4% 2%",borderTop:"1px solid #e3e4e9"}},n().createElement("p",{className:"mpadd5 ViewHeadpTag"+("panel1"===e.cstate.expandDetail?" Asslinkactive ":""),onClick:()=>{t.isDisable?content.alert({open:!0,color:"warning",message:[t.message?t.message:"Please Contact Admin"]}):e.SubformsLink(t),y(!1)}},t.displayName),"panel1"===e.cstate.expandDetail?n().createElement(m.Z,{className:"l4subicon2",style:{color:"panel1"===e.cstate.expandDetail?"#fff":"#4892F9"}}):n().createElement(s.Z,{className:"l4subicon2",style:{color:"panel1"===e.cstate.expandDetail?"#fff":"#4892F9"}})))))));var h}},55746:(e,t,a)=>{"use strict";a.d(t,{Z:()=>f});var l=a(92950),n=a.n(l),o=a(14439),r=a(27848),i=a(63163),c=a(6562),d=a(30553),s=a(83173),m=a(21392),u=a(69685),p=a(45332),C=a(26537),y=a(77366),g=a(71168),D=a.n(g),I=(a(20506),a(99940),a(55918)),S=a.n(I),E=a(25108);function f(e){const[t,a]=(0,l.useState)([]),[s,m]=(0,l.useState)([]),[u,p]=(0,l.useState)(!0),[C,y]=(0,l.useState)(!1),[g,I]=(0,l.useState)(e.cardName),[f,N]=(0,l.useState)(e.AddCardname),[h,T]=D()(e.tableID);(0,l.useEffect)((()=>{!function(t){const l=t.filter((t=>t.FormID==e.tableID&&"1"==t.IsApplyToView&&t.FieldName!=e.tableID));let n=[];l.map((e=>{n.push({id:e.FieldDisplay,groupID:e.GroupID,groupName:e.GroupName,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType})})),m([]);let o=n.filter((e=>0!=e.groupID&&99!=e.groupID));if(o.length>0){y(!0);const e=o.map((e=>({...e,detail:n.filter((t=>t.groupID==e.groupID)),group:!0}))),t=e.map((e=>e.groupID)),l=e.filter((({groupID:e},a)=>!t.includes(e,a+1))).sort(((e,t)=>e.groupID-t.groupID));E.log("arrSort",l),a(l)}else y(!1),a(n)}(h)}),[h,e.val]);const b=t=>e.t(t)?e.t(t):t;return n().createElement("div",{className:"width100"},n().createElement(o.Z,null,C&&t.slice(0,1).map(((t,a)=>n().createElement(r.Z,{sm:10,md:10,lg:10,xs:10,style:{borderRight:"1px solid #dbe2eb"}},n().createElement(o.Z,null,n().createElement(r.Z,{sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"v4ViewHeadingTitle"},n().createElement("p",null,t.groupName)))),n().createElement(o.Z,{style:{padding:"0px 15px"}},n().createElement(r.Z,{sm:12,md:12,lg:12,xs:12},n().createElement(o.Z,null,e.cardName&&t.detail.filter((e=>1==e.groupID)).map((t=>n().createElement(n().Fragment,null,n().createElement(r.Z,{sm:2,md:2,lg:2,xs:2,className:"v4viewgridpad"},n().createElement("span",{className:"ViewHeadpTag"}," ",b(t.name),"  ")),n().createElement(r.Z,{sm:2,md:2,lg:2,xs:2,className:"v4viewgridpad"},n().createElement("p",{className:"v4ViewBodypTag v4ViewHightLight "},":  ",e.val[t.id]))))))))))),n().createElement(r.Z,{sm:2,md:2,lg:2,xs:2,style:{paddingLeft:"2%"}},n().createElement(o.Z,null,n().createElement(r.Z,{sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"v4ViewHeadingTitle"},n().createElement("p",null,"Attachment"))),n().createElement("div",{className:"ViewHeadingAttachmentL4"},n().createElement(v,{id:e.parentID,tableID:e.tableID,tableName:e.tableName}))))),n().createElement(o.Z,{className:""},C&&t.slice(1,t.length).map(((t,a)=>n().createElement(r.Z,{sm:12,md:12,lg:12,xs:12,style:{borderTop:"1px solid #dbe2eb"}},n().createElement(o.Z,null,n().createElement(r.Z,{sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"v4ViewHeadingTitle"},n().createElement("p",null,t.groupName)))),n().createElement(o.Z,{style:{padding:"0px 15px"}},n().createElement(r.Z,{sm:12,md:12,lg:12,xs:12},n().createElement(o.Z,null,t.detail.map((t=>n().createElement(n().Fragment,null,n().createElement(r.Z,{sm:2,md:2,lg:2,xs:2,className:"v4viewgridpad"},n().createElement("span",{className:"ViewHeadpTag"}," ",b(t.name),"  ")),n().createElement(r.Z,{sm:2,md:2,lg:2,xs:2,className:"v4viewgridpad"},":",t.id.startsWith("Is")?n().createElement("div",{className:"vGridAlignSwitch"},n().createElement(c.Z,null,n().createElement(d.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:n().createElement(i.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:""}))):n().createElement("p",{className:"v4ViewBodypTag v4ViewHightLight "},"mins"==t.FieldDataType?S()(e.val[t.id]):e.val[t.id])))))))))))))}const v=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&o()}),[e.id]);const o=()=>{(0,C.Z)(0).then((t=>{(0,y.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return n().createElement("div",null,n().createElement(u.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return n().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{src:e.ImgPath,alt:e.ImageName}):n().createElement(s.Z,{className:"previewFile"}),t.length>1&&n().createElement("div",{className:"Imgbgmstyle"},n().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),n().createElement(m.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},25926:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var l=a(92950),n=a.n(l),o=a(45237),r=a(36939),i=a(61201),c=a(50743),d=(a(67698),a(10966),a(30553)),s=(a(99090),a(61956)),m=a(51673),u=a(44528),p=(a(96071),a(14439)),C=a(27848),y=a(49174),g=(a(38773),a(19089),a(1695)),D=(a(13235),a(61924)),I=a.n(D),S=a(26537),E=a(40900),f=a(35131),v=a.n(f),N=a(55490),h=(a(2493),a(82729),a(75355),a(11107),a(37148)),T=(a(45965),a(92371)),b=a(40826),P=a(64566),L=a(92205),x=a(8712),w=a(55176),B=a(8981),F=a(63163),A=a(99940),M=a(5434),R=a(45155),k=a(79352),O=a(99263),Z=a(16233),G=a.n(Z),q=(a(91113),a(79117),a(96617)),K=a(85639),V=a(29829),z=a(79895),_=a(55517),Q=a(24960);const H={ContractIDPK:"",ContractCode:"",ContractName:"",ContractDate:"",ContractDateType:"",ContractDateBetween:"",ContractValue:"",ExtendedValue:"",NoOfBilling:"",Period:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",AnnualReviewDate:"",AnnualReviewDateType:"",AnnualReviewDateBetween:"",CreatedByDate:"",CreatedByDateType:"",CreatedByDateBetween:"",ApprovedDate:"",ApprovedDateType:"",ApprovedDateBetween:"",DisplayEndDate:"",DisplayEndDateType:"",DisplayEndDateBetween:"",ExtendedDate:"",ExtendedDateType:"",ExtendedDateBetween:"",ConStatus:"",Retention:"",InvoiceDescription:"",AcknowledgedBy:"",SignedBy:"",EnquiryCode:"",EnquiryDate:"",EnquiryDateType:"",EnquiryDateBetween:"",QuotationCode:"",QuotationDate:"",QuotationDateType:"",QuotationDateBetween:"",SiteSurveyCode:"",SiteSurveyDate:"",SiteSurveyDateType:"",SiteSurveyDateBetween:"",Notify1:"",NotifyDate1:"",NotifyDate1Type:"",NotifyDate1Between:"",Notify2:"",NotifyDate2:"",NotifyDate2Type:"",NotifyDate2Between:"",NoofInvoice:"",LosedDate:"",LosedDateType:"",LosedDateBetween:"",LosedComment:"",FollowUpDate:"",FollowUpDateType:"",FollowUpDateBetween:"",IsEnableClient:!1,IsExtended:!1,IsPPM:!1,IsBDM:!1,IsDSM:!1,IsIncident:!1,IsCase:!1,NoofPrimary:"",NoofSecondary:"",NoofSupervisor:"",NoofEngineer:"",ShiftNoofPrimary:"",ShiftNoofSecondary:"",IsNonContract:!1,IsEnableBudget:!1,IsEnableValue:!1,IsRenewal:!1,IsBudgetValByCont:!1,XContractKey:"",ParentContractIKeyD:"",ParentContractName:"",RenewalConKey:"",ShiftKey:"",SalesEmpKey:"",CreatedEmpKey:"",ApprovedEmpKey:"",TotalContractValue:"",ContractLeassValue:"",ContractLeassDate:"",ContractLeassDateType:"",ContractLeassDateBetween:"",TotalLessContractValue:"",ConLatitude:"",ConLongitude:"",FieldRadius:"",SACCode:"",IsRes:!1,IsInclusive:!1,VatAmount:"",ConValueBeforVat:"",IsConType:!1,IsConLost:!1,ConZoomValue:"",ConGenerateCode:"",ConTRNno:"",ConEmail:"",IsDefault:!1,IsDraft:!1,StatusKey:"",Remarks:"",ContractGroupID:null,TaxID:null,CustomerID:null,ContractTypeID:null,ContractCategID:null,OrganisationID:null,ConPaymentTermsID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupCode:"",ContractGroupName:"",TaxCode:"",TaxName:"",TaxValue:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",CustGroupID:null,CustGroupCode:"",CustGroupName:"",BusinessClasificationID:null,ClasificationCode:"",ClasificationName:"",CustomerCode:"",CustomerName:"",ComplaintHeaderID:null,ComplaintHeaderCode:"",ComplaintHeaderName:"",ContractTypCode:"",ContractTypeName:"",ContractCategCode:"",ContractCategName:"",OrganisationCode:"",OrganisationName:"",PaymentTermsTypeID:null,PaymentTermsTypeCode:"",PaymentTermsTypeName:"",ConPaymentTermsName:"",Type:"ContractID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},U=(0,l.forwardRef)(((e,t)=>{(0,o.useSelector)((e=>e.form));const[a,D]=(0,l.useState)(!1),[f,Z]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)(0),[X,ee]=(0,l.useState)(!0),[te,ae]=(0,l.useState)({}),[le,ne]=(0,l.useState)([]),[oe,re]=(0,l.useState)(!1),[ie,ce]=((0,l.useRef)(),(0,l.useState)(!1)),[de,se]=(0,l.useState)(null),[me,ue]=((0,l.useRef)(),(0,l.useState)(!0)),[pe,Ce]=(0,l.useState)(!0),[ye,ge]=(0,l.useState)(0),[De,Ie]=(0,l.useState)(0),[Se,Ee]=(0,l.useState)([]),[fe,ve]=(0,l.useState)([]),[Ne,he]=(0,l.useReducer)(T.Z,H),[Te,be]=(0,l.useState)(!1),[Pe,Le]=(0,l.useState)([]),[xe,we]=(0,l.useState)(null),Be=(0,l.useContext)(x.ConContractRegistryContext),{cstate:Fe,cdispatch:Ae}=(0,x.ContextApi)(),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(""),[Ze,Ge]=(0,l.useState)(!1),[qe,Ke]=(0,l.useState)(""),[Ve,ze]=(0,l.useState)(!0),[_e,Qe]=(0,l.useState)(!0),[He,Ue]=(0,l.useState)(""),[je,Ye]=(0,l.useState)(""),[We,$e]=(0,l.useState)(!0),[Je,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)("CASE1"),[at,lt]=(0,l.useState)(!1),nt=n().useRef(null),[ot,rt]=(0,l.useState)(""),[it,ct]=(0,l.useState)(""),[dt,st]=(0,l.useState)(""),[mt,ut]=(0,l.useState)(""),[pt,Ct]=(0,l.useState)(!0),[yt,gt]=(0,l.useState)(""),[Dt,It]=(0,l.useState)(""),[St,Et]=(0,l.useState)(""),[ft,vt]=(0,l.useState)(!0),[Nt,ht]=(0,l.useState)(!0),[Tt,bt]=(0,l.useState)(""),[Pt,Lt]=(0,l.useState)(!0),[xt,wt]=(0,l.useState)(""),[Bt,Ft]=(0,l.useState)(!0),[At,Mt]=(0,l.useState)(""),[Rt,kt]=(0,l.useState)(!0),[Ot,Zt]=(0,l.useState)(""),[Gt,qt]=(0,l.useState)(!0),[Kt,Vt]=(0,l.useState)(""),[zt,_t]=(0,l.useState)(""),[Qt,Ht]=(0,l.useState)(!0),[Ut,jt]=(0,l.useState)(!0),[Yt,Wt]=(0,l.useState)(!0),[$t,Jt]=(0,l.useState)(!0),[Xt,ea]=(0,l.useState)(!0),[ta,aa]=(0,l.useState)(!0),[la,na]=(0,l.useState)(!0),[oa,ra]=(0,l.useState)(!0),[ia,ca]=(0,l.useState)(""),[da,sa]=(0,l.useState)(!0),[ma,ua]=(0,l.useState)(!0),[pa,Ca]=(0,l.useState)(!0),[ya,ga]=(0,l.useState)(!0),[Da,Ia]=(0,l.useState)(!0),[Sa,Ea]=(0,l.useState)(!0),[fa,va]=(0,l.useState)(!0),[Na,ha]=(0,l.useState)(!0),[Ta,ba]=(0,l.useState)(!0),[Pa,La]=(0,l.useState)(!0),[xa,wa]=(0,l.useState)(0),[Ba]=(0,l.useState)(localStorage.getItem("Language")),[Fa]=(0,l.useState)(localStorage.getItem("Language")),[Aa,Ma]=(0,l.useState)(!1),[Ra,ka]=(0,l.useState)(!1),Oa=(0,l.useRef)(null),Za=(0,l.useRef)(null),[Ga,qa]=G()("156"),[Ka,Va]=(0,l.useState)(!1),[za,_a]=(0,l.useState)("panelS5"),[Qa,Ha]=(0,l.useState)([]);let Ua=(0,B.Z)();const[ja,Ya]=(0,l.useState)({}),Wa=e=>Ua?.[e]?Ua[e]:e,$a=t=>Fe.language?.[t]?Fe.language[t]:e.createEasy?ja?.[t]:t;(0,l.useEffect)((()=>{document.addEventListener("click",(e=>{const t=document.getElementById("CaseOut");let a=e.target;do{if(a==t)return;a=a.parentNode}while(a);ka(!1)}))}),[]),(0,l.useEffect)((()=>{Fe.PrimaryId&&wa(Number(Fe.PrimaryId))}),[Fe.PrimaryId]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ya(Object.assign({},...t))}(Ga)}),[Ga]),(0,l.useEffect)((()=>{Fe.editData.length<0&&(0,S.Z)(1).then((e=>{il(1,null,"SetDefaultContractID",e)}))}),[]),(0,l.useEffect)((()=>{el(Qa,"SetDefaultContractID")}),[Qa]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{Ae({type:"expandDetail",payload:!0}),j(!1)},getPreview:e=>{},clear:()=>{tl(),il(1,null,"SetDefaultContractID",Fe.token[0])},formlink:e=>{},editRecord:(e,t,a)=>{el(e,""),re(a)},Add:()=>{tl(),re(!1),Ae({type:"expandDetail",payload:"mainpanel"})},Editview:(e,t,a)=>{el(e,""),re(a),Ce(!1)},CreateEasyProps:(e=!0,t)=>{setIsFetching(!0),t?(pl(t),Ma(e)):(tl(),Ma(e))},cardRefresh:()=>{Za.current.cardRefresh()}})));const Ja=e=>e?e.split("-").reverse().join("-"):null,Xa=e=>{if(e){let t=Ja(e);return"Invalid Date"!=new Date(t)?(0,b.format)(new Date(t),"yyyy-MM-dd"):e}return null},el=(t,a)=>{let l=t;Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),Ae({type:"ViewID",payload:l.ContractIDPK}),"SetDefaultContractID"==a?Ke(l.ContractIDPK):(wa(e.primid?Number(e.primid):l.ContractIDPK?l.ContractIDPK:0),Ae({type:"PrimaryId",payload:l.ContractIDPK})),he({type:"text",name:"ContractCode",value:l.ContractCode?l.ContractCode:""}),he({type:"text",name:"ContractName",value:l.ContractName?l.ContractName:""}),he({type:"number",name:"ContractTypeID",number:l.ContractTypeID?Number(l.ContractTypeID):0}),he({type:"text",name:"ContractTypeName",value:l.ContractTypeName}),he({type:"number",name:"ContractCategID",number:l.ContractCategID?Number(l.ContractCategID):0}),he({type:"text",name:"ContractCategName",value:l.ContractCategName}),he({type:"text",name:"AcknowledgedBy",value:l.AcknowledgedBy?l.AcknowledgedBy:""}),he({type:"text",name:"SignedBy",value:l.SignedBy?l.SignedBy:""}),he({type:"text",name:"StartDate",value:l.StartDate?Ja(l.StartDate):null}),he({type:"text",name:"EndDate",value:l.EndDate?Ja(l.EndDate):null}),he({type:"number",name:"ConValueBeforVat",number:Number(l.ConValueBeforVat)}),he({type:"number",name:"TaxID",number:l.TaxID?Number(l.TaxID):0}),he({type:"text",name:"TaxName",value:l.TaxName}),he({type:"number",name:"VatAmount",number:Number(l.VatAmount)}),he({type:"number",name:"ContractValue",number:Number(l.ContractValue)}),he({type:"number",name:"ContractGroupID",number:l.ContractGroupID?Number(l.ContractGroupID):0}),he({type:"text",name:"ContractGroupName",value:l.ContractGroupName}),he({type:"number",name:"ParentContractIKeyD",number:l.ParentContractIKeyD}),he({type:"boolean",name:"IsNonContract",boolean:!!l.IsNonContract&&l.IsNonContract}),he({type:"text",name:"ConGenerateCode",value:l.ConGenerateCode?l.ConGenerateCode:""}),he({type:"number",name:"OrganisationID",number:l.OrganisationID?Number(l.OrganisationID):0}),he({type:"text",name:"OrganisationName",value:l.OrganisationName}),he({type:"number",name:"CustomerID",number:l.CustomerID?Number(l.CustomerID):0}),he({type:"text",name:"CustomerName",value:l.CustomerName}),he({type:"text",name:"ConLatitude",value:l.ConLatitude?l.ConLatitude:""}),he({type:"text",name:"ConLongitude",value:l.ConLongitude?l.ConLongitude:""}),he({type:"text",name:"ConTRNno",value:l.ConTRNno?l.ConTRNno:""}),he({type:"boolean",name:"IsEnableBudget",boolean:!!l.IsEnableBudget&&l.IsEnableBudget}),he({type:"text",name:"AnnualReviewDate",value:l.AnnualReviewDate?Ja(l.AnnualReviewDate):null}),he({type:"text",name:"ExtendedDate",value:l.ExtendedDate?Ja(l.ExtendedDate):null}),he({type:"number",name:"ExtendedValue",number:Number(l.ExtendedValue)}),he({type:"text",name:"Retention",value:l.Retention?l.Retention:""}),he({type:"text",name:"ConEmail",value:l.ConEmail?l.ConEmail:""}),he({type:"boolean",name:"IsConLost",boolean:!!l.IsConLost&&l.IsConLost}),he({type:"text",name:"LosedDate",value:l.LosedDate?Ja(l.LosedDate):null}),he({type:"text",name:"LosedComment",value:l.LosedComment?l.LosedComment:""}),he({type:"text",name:"SACCode",value:l.SACCode?l.SACCode:""}),he({type:"text",name:"InvoiceDescription",value:l.InvoiceDescription?l.InvoiceDescription:""}),he({type:"text",name:"Period",value:l.Period?l.Period:""}),he({type:"number",name:"NoofInvoice",number:l.NoofInvoice}),he({type:"number",name:"ConPaymentTermsID",number:l.ConPaymentTermsID?Number(l.ConPaymentTermsID):0}),he({type:"text",name:"ConPaymentTermsName",value:l.ConPaymentTermsName}),he({type:"boolean",name:"IsDefault",boolean:l.IsDefault}),he({type:"text",name:"ContractDate",value:l.ContractDate?Ja(l.ContractDate):null}),he({type:"number",name:"NoOfBilling",number:l.NoOfBilling}),he({type:"text",name:"CreatedByDate",value:l.CreatedByDate?Ja(l.CreatedByDate):null}),he({type:"text",name:"ApprovedDate",value:l.ApprovedDate?Ja(l.ApprovedDate):null}),he({type:"text",name:"DisplayEndDate",value:l.DisplayEndDate?Ja(l.DisplayEndDate):null}),he({type:"number",name:"ConStatus",number:l.ConStatus}),he({type:"text",name:"EnquiryCode",value:l.EnquiryCode?l.EnquiryCode:""}),he({type:"text",name:"EnquiryDate",value:l.EnquiryDate?Ja(l.EnquiryDate):null}),he({type:"text",name:"QuotationCode",value:l.QuotationCode?l.QuotationCode:""}),he({type:"text",name:"QuotationDate",value:l.QuotationDate?Ja(l.QuotationDate):null}),he({type:"text",name:"SiteSurveyCode",value:l.SiteSurveyCode?l.SiteSurveyCode:""}),he({type:"text",name:"SiteSurveyDate",value:l.SiteSurveyDate?Ja(l.SiteSurveyDate):null}),he({type:"text",name:"Notify1",value:l.Notify1?l.Notify1:""}),he({type:"text",name:"NotifyDate1",value:l.NotifyDate1?Ja(l.NotifyDate1):null}),he({type:"text",name:"Notify2",value:l.Notify2?l.Notify2:""}),he({type:"text",name:"NotifyDate2",value:l.NotifyDate2?Ja(l.NotifyDate2):null}),he({type:"text",name:"FollowUpDate",value:l.FollowUpDate?Ja(l.FollowUpDate):null}),he({type:"boolean",name:"IsEnableClient",boolean:!!l.IsEnableClient&&l.IsEnableClient}),he({type:"boolean",name:"IsExtended",boolean:!!l.IsExtended&&l.IsExtended}),he({type:"boolean",name:"IsPPM",boolean:!!l.IsPPM&&l.IsPPM}),he({type:"boolean",name:"IsBDM",boolean:!!l.IsBDM&&l.IsBDM}),he({type:"boolean",name:"IsDSM",boolean:!!l.IsDSM&&l.IsDSM}),he({type:"boolean",name:"IsIncident",boolean:!!l.IsIncident&&l.IsIncident}),he({type:"boolean",name:"IsCase",boolean:!!l.IsCase&&l.IsCase}),he({type:"number",name:"NoofPrimary",number:l.NoofPrimary}),he({type:"number",name:"NoofSecondary",number:l.NoofSecondary}),he({type:"number",name:"NoofSupervisor",number:l.NoofSupervisor}),he({type:"number",name:"NoofEngineer",number:l.NoofEngineer}),he({type:"number",name:"ShiftNoofPrimary",number:l.ShiftNoofPrimary}),he({type:"number",name:"ShiftNoofSecondary",number:l.ShiftNoofSecondary}),he({type:"boolean",name:"IsEnableValue",boolean:!!l.IsEnableValue&&l.IsEnableValue}),he({type:"boolean",name:"IsRenewal",boolean:!!l.IsRenewal&&l.IsRenewal}),he({type:"boolean",name:"IsBudgetValByCont",boolean:!!l.IsBudgetValByCont&&l.IsBudgetValByCont}),he({type:"number",name:"TotalContractValue",number:Number(l.TotalContractValue)}),he({type:"number",name:"ContractLeassValue",number:Number(l.ContractLeassValue)}),he({type:"text",name:"ContractLeassDate",value:l.ContractLeassDate?Ja(l.ContractLeassDate):null}),he({type:"number",name:"TotalLessContractValue",number:Number(l.TotalLessContractValue)}),he({type:"number",name:"FieldRadius",number:Number(l.FieldRadius)}),he({type:"number",name:"IsRes",number:l.IsRes}),he({type:"boolean",name:"IsInclusive",boolean:!!l.IsInclusive&&l.IsInclusive}),he({type:"boolean",name:"IsConType",boolean:!!l.IsConType&&l.IsConType}),he({type:"number",name:"ConZoomValue",number:l.ConZoomValue}),he({type:"number",name:"StatusKey",number:l.StatusKey}),he({type:"number",name:"XContractKey",number:l.XContractKey}),he({type:"number",name:"RenewalConKey",number:l.RenewalConKey}),he({type:"number",name:"ShiftKey",number:l.ShiftKey}),he({type:"number",name:"SalesEmpKey",number:l.SalesEmpKey}),he({type:"number",name:"CreatedEmpKey",number:l.CreatedEmpKey}),he({type:"number",name:"ApprovedEmpKey",number:l.ApprovedEmpKey}),he({type:"text",name:"ParentContractName",value:l.ParentContractName?l.ParentContractName:""}),l.IsActive&&Z("1"==l.IsActive)},tl=()=>{Ee([]),wa(0),Ke(""),Ae({type:"PrimaryId",payload:""}),he({type:"text",name:"ContractCode",value:""}),he({type:"text",name:"ContractName",value:""}),he({type:"text",name:"ContractTypeID",value:null}),he({type:"text",name:"ContractTypeName",value:""}),document.getElementById("ConContractRegistryContractTypeNameClear")&&document.getElementById("ConContractRegistryContractTypeNameClear").click(),he({type:"text",name:"ContractCategID",value:null}),he({type:"text",name:"ContractCategName",value:""}),document.getElementById("ConContractRegistryContractCategNameClear")&&document.getElementById("ConContractRegistryContractCategNameClear").click(),he({type:"text",name:"AcknowledgedBy",value:""}),he({type:"text",name:"SignedBy",value:""}),he({type:"text",name:"StartDate",value:""}),he({type:"text",name:"EndDate",value:""}),he({type:"number",name:"ConValueBeforVat",number:0}),he({type:"text",name:"TaxID",value:null}),he({type:"text",name:"TaxName",value:""}),document.getElementById("ConContractRegistryTaxNameClear")&&document.getElementById("ConContractRegistryTaxNameClear").click(),he({type:"number",name:"VatAmount",number:0}),he({type:"number",name:"ContractValue",number:0}),he({type:"text",name:"ContractGroupID",value:null}),he({type:"text",name:"ContractGroupName",value:""}),document.getElementById("ConContractRegistryContractGroupNameClear")&&document.getElementById("ConContractRegistryContractGroupNameClear").click(),he({type:"number",name:"ParentContractIKeyD",number:0}),he({type:"boolean",name:"IsNonContract",boolean:!1}),he({type:"text",name:"ConGenerateCode",value:""}),he({type:"text",name:"OrganisationID",value:null}),he({type:"text",name:"OrganisationName",value:""}),document.getElementById("ConContractRegistryOrganisationNameClear")&&document.getElementById("ConContractRegistryOrganisationNameClear").click(),he({type:"text",name:"CustomerID",value:null}),he({type:"text",name:"CustomerName",value:""}),document.getElementById("ConContractRegistryCustomerNameClear")&&document.getElementById("ConContractRegistryCustomerNameClear").click(),he({type:"text",name:"ConLatitude",value:""}),he({type:"text",name:"ConLongitude",value:""}),he({type:"text",name:"ConTRNno",value:""}),he({type:"boolean",name:"IsEnableBudget",boolean:!1}),he({type:"text",name:"AnnualReviewDate",value:""}),he({type:"text",name:"ExtendedDate",value:""}),he({type:"number",name:"ExtendedValue",number:0}),he({type:"text",name:"Retention",value:""}),he({type:"text",name:"ConEmail",value:""}),he({type:"boolean",name:"IsConLost",boolean:!1}),he({type:"text",name:"LosedDate",value:""}),he({type:"text",name:"LosedComment",value:""}),he({type:"text",name:"SACCode",value:""}),he({type:"text",name:"InvoiceDescription",value:""}),he({type:"text",name:"Period",value:""}),he({type:"number",name:"NoofInvoice",number:0}),he({type:"text",name:"ConPaymentTermsID",value:null}),he({type:"text",name:"ConPaymentTermsName",value:""}),document.getElementById("ConContractRegistryConPaymentTermsNameClear")&&document.getElementById("ConContractRegistryConPaymentTermsNameClear").click(),he({type:"boolean",name:"IsDefault",boolean:!1}),he({type:"text",name:"ContractDate",value:""}),he({type:"number",name:"NoOfBilling",number:0}),he({type:"text",name:"CreatedByDate",value:""}),he({type:"text",name:"ApprovedDate",value:""}),he({type:"text",name:"DisplayEndDate",value:""}),he({type:"number",name:"ConStatus",number:0}),he({type:"text",name:"EnquiryCode",value:""}),he({type:"text",name:"EnquiryDate",value:""}),he({type:"text",name:"QuotationCode",value:""}),he({type:"text",name:"QuotationDate",value:""}),he({type:"text",name:"SiteSurveyCode",value:""}),he({type:"text",name:"SiteSurveyDate",value:""}),he({type:"text",name:"Notify1",value:""}),he({type:"text",name:"NotifyDate1",value:""}),he({type:"text",name:"Notify2",value:""}),he({type:"text",name:"NotifyDate2",value:""}),he({type:"text",name:"FollowUpDate",value:""}),he({type:"boolean",name:"IsEnableClient",boolean:!1}),he({type:"boolean",name:"IsExtended",boolean:!1}),he({type:"boolean",name:"IsPPM",boolean:!1}),he({type:"boolean",name:"IsBDM",boolean:!1}),he({type:"boolean",name:"IsDSM",boolean:!1}),he({type:"boolean",name:"IsIncident",boolean:!1}),he({type:"boolean",name:"IsCase",boolean:!1}),he({type:"number",name:"NoofPrimary",number:0}),he({type:"number",name:"NoofSecondary",number:0}),he({type:"number",name:"NoofSupervisor",number:0}),he({type:"number",name:"NoofEngineer",number:0}),he({type:"number",name:"ShiftNoofPrimary",number:0}),he({type:"number",name:"ShiftNoofSecondary",number:0}),he({type:"boolean",name:"IsEnableValue",boolean:!1}),he({type:"boolean",name:"IsRenewal",boolean:!1}),he({type:"boolean",name:"IsBudgetValByCont",boolean:!1}),he({type:"number",name:"TotalContractValue",number:0}),he({type:"number",name:"ContractLeassValue",number:0}),he({type:"text",name:"ContractLeassDate",value:""}),he({type:"number",name:"TotalLessContractValue",number:0}),he({type:"number",name:"FieldRadius",number:0}),he({type:"number",name:"IsRes",number:0}),he({type:"boolean",name:"IsInclusive",boolean:!1}),he({type:"boolean",name:"IsConType",boolean:!1}),he({type:"number",name:"ConZoomValue",number:0}),he({type:"number",name:"StatusKey",number:0}),he({type:"number",name:"XContractKey",number:0}),he({type:"number",name:"RenewalConKey",number:0}),he({type:"number",name:"ShiftKey",number:0}),he({type:"number",name:"SalesEmpKey",number:0}),he({type:"number",name:"CreatedEmpKey",number:0}),he({type:"number",name:"ApprovedEmpKey",number:0}),he({type:"text",name:"ParentContractName",value:""}),ze(!0),Qe(!0),$e(!0),Xe(!0),Ct(!0),vt(!0),ht(!0),Lt(!0),Ft(!0),kt(!0),qt(!0),Ht(!0),jt(!0),Wt(!0),Jt(!0),ea(!0),aa(!0),na(!0),ra(!0),sa(!0),ua(!0),Ca(!0),ga(!0),Ia(!0),Ea(!0),va(!0),ha(!0),ba(!0),La(!0),Z(!0)},al=e=>{Be.loading(!0),Be.ConfirmAlert(null);const t=E.v.Api+"FP156S2/",a={data:[{p1:"SetDefaultContractID"==e?"NORECORDS"!=qe&&qe?qe:0:xa,p2:Cl(Ne.ContractCode),p3:Cl(Ne.ContractName),p4:Ne.ContractDate?Xa(Ne.ContractDate):null,p5:Ne.ContractValue?Number(Ne.ContractValue):0,p6:Ne.ExtendedValue?Number(Ne.ExtendedValue):0,p7:Ne.NoOfBilling?Number(Ne.NoOfBilling):0,p8:Cl(Ne.Period),p9:Ne.StartDate?Xa(Ne.StartDate):null,p10:Ne.EndDate?Xa(Ne.EndDate):null,p11:Ne.AnnualReviewDate?Xa(Ne.AnnualReviewDate):null,p12:Ne.CreatedByDate?Xa(Ne.CreatedByDate):null,p13:Ne.ApprovedDate?Xa(Ne.ApprovedDate):null,p14:Ne.DisplayEndDate?Xa(Ne.DisplayEndDate):null,p15:Ne.ExtendedDate?Xa(Ne.ExtendedDate):null,p16:Ne.ConStatus?Number(Ne.ConStatus):0,p17:Cl(Ne.Retention),p18:Cl(Ne.InvoiceDescription),p19:Cl(Ne.AcknowledgedBy),p20:Cl(Ne.SignedBy),p21:Cl(Ne.EnquiryCode),p22:Ne.EnquiryDate?Xa(Ne.EnquiryDate):null,p23:Cl(Ne.QuotationCode),p24:Ne.QuotationDate?Xa(Ne.QuotationDate):null,p25:Cl(Ne.SiteSurveyCode),p26:Ne.SiteSurveyDate?Xa(Ne.SiteSurveyDate):null,p27:Cl(Ne.Notify1),p28:Ne.NotifyDate1?Xa(Ne.NotifyDate1):null,p29:Cl(Ne.Notify2),p30:Ne.NotifyDate2?Xa(Ne.NotifyDate2):null,p31:Ne.NoofInvoice?Number(Ne.NoofInvoice):0,p32:Ne.LosedDate?Xa(Ne.LosedDate):null,p33:Cl(Ne.LosedComment),p34:Ne.FollowUpDate?Xa(Ne.FollowUpDate):null,p35:Ne.IsEnableClient,p36:Ne.IsExtended,p37:Ne.IsPPM,p38:Ne.IsBDM,p39:Ne.IsDSM,p40:Ne.IsIncident,p41:Ne.IsCase,p42:Ne.NoofPrimary?Number(Ne.NoofPrimary):0,p43:Ne.NoofSecondary?Number(Ne.NoofSecondary):0,p44:Ne.NoofSupervisor?Number(Ne.NoofSupervisor):0,p45:Ne.NoofEngineer?Number(Ne.NoofEngineer):0,p46:Ne.ShiftNoofPrimary?Number(Ne.ShiftNoofPrimary):0,p47:Ne.ShiftNoofSecondary?Number(Ne.ShiftNoofSecondary):0,p48:Ne.IsNonContract,p49:Ne.IsEnableBudget,p50:Ne.IsEnableValue,p51:Ne.IsRenewal,p52:Ne.IsBudgetValByCont,p53:Ne.XContractKey?Number(Ne.XContractKey):0,p54:Ne.ParentContractIKeyD?Number(Ne.ParentContractIKeyD):0,p55:Ne.RenewalConKey?Number(Ne.RenewalConKey):0,p56:Ne.ShiftKey?Number(Ne.ShiftKey):0,p57:Ne.SalesEmpKey?Number(Ne.SalesEmpKey):0,p58:Ne.CreatedEmpKey?Number(Ne.CreatedEmpKey):0,p59:Ne.ApprovedEmpKey?Number(Ne.ApprovedEmpKey):0,p60:Ne.TotalContractValue?Number(Ne.TotalContractValue):0,p61:Ne.ContractLeassValue?Number(Ne.ContractLeassValue):0,p62:Ne.ContractLeassDate?Xa(Ne.ContractLeassDate):null,p63:Ne.TotalLessContractValue?Number(Ne.TotalLessContractValue):0,p64:Cl(Ne.ConLatitude),p65:Cl(Ne.ConLongitude),p66:Ne.FieldRadius?Number(Ne.FieldRadius):0,p67:Cl(Ne.SACCode),p68:Ne.IsRes,p69:Ne.IsInclusive,p70:Ne.VatAmount?Number(Ne.VatAmount):0,p71:Ne.ConValueBeforVat?Number(Ne.ConValueBeforVat):0,p72:Ne.IsConType,p73:Ne.IsConLost,p74:Ne.ConZoomValue?Number(Ne.ConZoomValue):0,p75:Cl(Ne.ConGenerateCode),p76:Cl(Ne.ConTRNno),p77:Cl(Ne.ConEmail),p78:Ne.IsDefault,p79:!1,p80:Ne.StatusKey?Number(Ne.StatusKey):0,p81:"SetDefaultContractID"==e?"SetDefault":null,p82:Ne.ContractGroupID?Ne.ContractGroupID:0,p83:Ne.TaxID?Ne.TaxID:0,p84:Ne.CustomerID?Ne.CustomerID:0,p85:Ne.ContractTypeID?Ne.ContractTypeID:0,p86:Ne.ContractCategID?Ne.ContractCategID:0,p87:Ne.OrganisationID?Ne.OrganisationID:0,p88:Ne.ConPaymentTermsID?Ne.ConPaymentTermsID:0,p89:f,p90:"SetDefaultContractID"==e,p91:localStorage.getItem("userid"),p92:v()().format("YYYY-MM-DD hh:mm:ss"),p93:localStorage.getItem("userid"),p94:v()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((l=>{(0,m.Z)(t,a,l).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(Be.alert({open:!0,color:"warning",message:o}),Be.loading(!1)):ll(e)):(Be.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Be.loading(!1))}))}))},ll=e=>{ze(!0),Qe(!0),$e(!0),Xe(!0),Ct(!0),vt(!0),ht(!0),Lt(!0),Ft(!0),kt(!0),qt(!0),Ht(!0),jt(!0),Wt(!0),Jt(!0),ea(!0),aa(!0),na(!0),ra(!0),sa(!0),ua(!0),Ca(!0),ga(!0),Ia(!0),Ea(!0),va(!0),ha(!0),ba(!0),La(!0),Be.ConfirmAlert(null);const t=E.v.Api+"FP156S1/",a={data:[{p1:"SetDefaultContractID"==e?"NORECORDS"!=qe&&qe?qe:0:xa,p2:Cl(Ne.ContractCode),p3:Cl(Ne.ContractName),p4:Ne.ContractDate?Xa(Ne.ContractDate):null,p5:Ne.ContractValue?Number(Ne.ContractValue):0,p6:Ne.ExtendedValue?Number(Ne.ExtendedValue):0,p7:Ne.NoOfBilling?Number(Ne.NoOfBilling):0,p8:Cl(Ne.Period),p9:Ne.StartDate?Xa(Ne.StartDate):null,p10:Ne.EndDate?Xa(Ne.EndDate):null,p11:Ne.AnnualReviewDate?Xa(Ne.AnnualReviewDate):null,p12:Ne.CreatedByDate?Xa(Ne.CreatedByDate):null,p13:Ne.ApprovedDate?Xa(Ne.ApprovedDate):null,p14:Ne.DisplayEndDate?Xa(Ne.DisplayEndDate):null,p15:Ne.ExtendedDate?Xa(Ne.ExtendedDate):null,p16:Ne.ConStatus?Number(Ne.ConStatus):0,p17:Cl(Ne.Retention),p18:Cl(Ne.InvoiceDescription),p19:Cl(Ne.AcknowledgedBy),p20:Cl(Ne.SignedBy),p21:Cl(Ne.EnquiryCode),p22:Ne.EnquiryDate?Xa(Ne.EnquiryDate):null,p23:Cl(Ne.QuotationCode),p24:Ne.QuotationDate?Xa(Ne.QuotationDate):null,p25:Cl(Ne.SiteSurveyCode),p26:Ne.SiteSurveyDate?Xa(Ne.SiteSurveyDate):null,p27:Cl(Ne.Notify1),p28:Ne.NotifyDate1?Xa(Ne.NotifyDate1):null,p29:Cl(Ne.Notify2),p30:Ne.NotifyDate2?Xa(Ne.NotifyDate2):null,p31:Ne.NoofInvoice?Number(Ne.NoofInvoice):0,p32:Ne.LosedDate?Xa(Ne.LosedDate):null,p33:Cl(Ne.LosedComment),p34:Ne.FollowUpDate?Xa(Ne.FollowUpDate):null,p35:Ne.IsEnableClient,p36:Ne.IsExtended,p37:Ne.IsPPM,p38:Ne.IsBDM,p39:Ne.IsDSM,p40:Ne.IsIncident,p41:Ne.IsCase,p42:Ne.NoofPrimary?Number(Ne.NoofPrimary):0,p43:Ne.NoofSecondary?Number(Ne.NoofSecondary):0,p44:Ne.NoofSupervisor?Number(Ne.NoofSupervisor):0,p45:Ne.NoofEngineer?Number(Ne.NoofEngineer):0,p46:Ne.ShiftNoofPrimary?Number(Ne.ShiftNoofPrimary):0,p47:Ne.ShiftNoofSecondary?Number(Ne.ShiftNoofSecondary):0,p48:Ne.IsNonContract,p49:Ne.IsEnableBudget,p50:Ne.IsEnableValue,p51:Ne.IsRenewal,p52:Ne.IsBudgetValByCont,p53:Ne.XContractKey?Number(Ne.XContractKey):0,p54:Ne.ParentContractIKeyD?Number(Ne.ParentContractIKeyD):0,p55:Ne.RenewalConKey?Number(Ne.RenewalConKey):0,p56:Ne.ShiftKey?Number(Ne.ShiftKey):0,p57:Ne.SalesEmpKey?Number(Ne.SalesEmpKey):0,p58:Ne.CreatedEmpKey?Number(Ne.CreatedEmpKey):0,p59:Ne.ApprovedEmpKey?Number(Ne.ApprovedEmpKey):0,p60:Ne.TotalContractValue?Number(Ne.TotalContractValue):0,p61:Ne.ContractLeassValue?Number(Ne.ContractLeassValue):0,p62:Ne.ContractLeassDate?Xa(Ne.ContractLeassDate):null,p63:Ne.TotalLessContractValue?Number(Ne.TotalLessContractValue):0,p64:Cl(Ne.ConLatitude),p65:Cl(Ne.ConLongitude),p66:Ne.FieldRadius?Number(Ne.FieldRadius):0,p67:Cl(Ne.SACCode),p68:Ne.IsRes,p69:Ne.IsInclusive,p70:Ne.VatAmount?Number(Ne.VatAmount):0,p71:Ne.ConValueBeforVat?Number(Ne.ConValueBeforVat):0,p72:Ne.IsConType,p73:Ne.IsConLost,p74:Ne.ConZoomValue?Number(Ne.ConZoomValue):0,p75:Cl(Ne.ConGenerateCode),p76:Cl(Ne.ConTRNno),p77:Cl(Ne.ConEmail),p78:Ne.IsDefault,p79:!1,p80:Ne.StatusKey?Number(Ne.StatusKey):0,p81:"SetDefaultContractID"==e?"SetDefault":null,p82:Ne.ContractGroupID?Ne.ContractGroupID:0,p83:Ne.TaxID?Ne.TaxID:0,p84:Ne.CustomerID?Ne.CustomerID:0,p85:Ne.ContractTypeID?Ne.ContractTypeID:0,p86:Ne.ContractCategID?Ne.ContractCategID:0,p87:Ne.OrganisationID?Ne.OrganisationID:0,p88:Ne.ConPaymentTermsID?Ne.ConPaymentTermsID:0,p89:f,p90:"SetDefaultContractID"==e,p91:localStorage.getItem("userid"),p92:v()().format("YYYY-MM-DD hh:mm:ss"),p93:localStorage.getItem("userid"),p94:v()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((l=>{(0,s.Z)(t,a,l).then((async t=>{const a=t[0].status;200==a.code?("SetDefaultContractID"==e?Be.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Be.alert({open:!0,color:"success",message:[a.message]}),Ae({type:"ViewID",payload:t[0].Data.IDPK}),Ae({type:"PrimaryId",payload:t[0].Data.IDPK}),await re(!0)),Be.attachmentSave(t[0].Data.IDPK),Be.loading(!1),document.getElementById("overlayimgAttConContractRegistry")&&(document.getElementById("overlayimgAttConContractRegistry").style.width="0%",document.getElementById("overlayimgAttConContractRegistry").style.display="none")):(Be.alert({open:!0,color:"warning",message:[a.message]}),Be.loading(!1)),"SetDefaultContractID"==e&&(Ma(!0),il(1,null,"SetDefaultContractID",Fe.token[0]))}))}))};function nl(e,t){(0,O.CreateEasy)(e,Fe,Ae,Be,Oa)}function ol(e,a){return AdvanceSearch(e,a,x.ConContractRegistryContext,(0,x.ContextApi)(),dl,t),!1}const rl=e=>(t,a)=>{_a(!!a&&e)},il=(t,a,l,n,o,r)=>{const i=E.v.Api+"FP156S3/",c={data:{p1:null,p2:null,p3:null,p4:Ne.ContractDate?Ne.ContractDate:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:Ne.StartDate?Ne.StartDate:null,p12:null,p13:null,p14:Ne.EndDate?Ne.EndDate:null,p15:null,p16:null,p17:Ne.AnnualReviewDate?Ne.AnnualReviewDate:null,p18:null,p19:null,p20:Ne.CreatedByDate?Ne.CreatedByDate:null,p21:null,p22:null,p23:Ne.ApprovedDate?Ne.ApprovedDate:null,p24:null,p25:null,p26:Ne.DisplayEndDate?Ne.DisplayEndDate:null,p27:null,p28:null,p29:Ne.ExtendedDate?Ne.ExtendedDate:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:Ne.EnquiryDate?Ne.EnquiryDate:null,p39:null,p40:null,p41:null,p42:Ne.QuotationDate?Ne.QuotationDate:null,p43:null,p44:null,p45:null,p46:Ne.SiteSurveyDate?Ne.SiteSurveyDate:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:Ne.LosedDate?Ne.LosedDate:null,p59:null,p60:null,p61:null,p62:Ne.FollowUpDate?Ne.FollowUpDate:null,p63:null,p64:null,p65:1==Ne.IsEnableClient,p66:1==Ne.IsExtended,p67:1==Ne.IsPPM,p68:1==Ne.IsBDM,p69:1==Ne.IsDSM,p70:1==Ne.IsIncident,p71:1==Ne.IsCase,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:a?"%"+a+"%":null,p78:1==Ne.IsNonContract,p79:1==Ne.IsEnableBudget,p80:1==Ne.IsEnableValue,p81:1==Ne.IsRenewal,p82:1==Ne.IsBudgetValByCont,p83:a?"%"+a+"%":null,p84:"0"==Ne.ParentContractIKeyD_varchar?null:Ne.ParentContractIKeyD_varchar,p85:a?"%"+a+"%":null,p86:a?"%"+a+"%":null,p87:a?"%"+a+"%":null,p88:a?"%"+a+"%":null,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:a?"%"+a+"%":null,p92:Ne.ContractLeassDate?Ne.ContractLeassDate:null,p93:null,p94:null,p95:a?"%"+a+"%":null,p96:a?"%"+a+"%":null,p97:a?"%"+a+"%":null,p98:a?"%"+a+"%":null,p99:a?"%"+a+"%":null,p100:1==Ne.IsRes,p101:1==Ne.IsInclusive,p102:a?"%"+a+"%":null,p103:a?"%"+a+"%":null,p104:1==Ne.IsConType,p105:1==Ne.IsConLost,p106:a?"%"+a+"%":null,p107:a?"%"+a+"%":null,p108:a?"%"+a+"%":null,p109:a?"%"+a+"%":null,p110:null,p111:null,p112:a?"%"+a+"%":null,p113:null,p114:"0"==Ne.ContractGroupID?null:Ne.ContractGroupID,p115:"0"==Ne.TaxID?null:Ne.TaxID,p116:"0"==Ne.CustomerID?null:Ne.CustomerID,p117:"0"==Ne.ContractTypeID?null:Ne.ContractTypeID,p118:"0"==Ne.ContractCategID?null:Ne.ContractCategID,p119:"0"==Ne.OrganisationID?null:Ne.OrganisationID,p120:"0"==Ne.ConPaymentTermsID?null:Ne.ConPaymentTermsID,p121:e.Dialogview?"1":null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:a?"%"+a+"%":null,p129:a?"%"+a+"%":null,p130:a?"%"+a+"%":null,p131:a?"%"+a+"%":null,p132:a?"%"+a+"%":null,p133:"0"==Ne.EmployeeID?null:Ne.EmployeeID,p134:a?"%"+a+"%":null,p135:a?"%"+a+"%":null,p136:a?"%"+a+"%":null,p137:a?"%"+a+"%":null,p138:"0"==Ne.CityID?null:Ne.CityID,p139:a?"%"+a+"%":null,p140:a?"%"+a+"%":null,p141:"0"==Ne.RegionID?null:Ne.RegionID,p142:a?"%"+a+"%":null,p143:a?"%"+a+"%":null,p144:"0"==Ne.CountryID?null:Ne.CountryID,p145:a?"%"+a+"%":null,p146:a?"%"+a+"%":null,p147:"0"==Ne.CustGroupID?null:Ne.CustGroupID,p148:a?"%"+a+"%":null,p149:a?"%"+a+"%":null,p150:"0"==Ne.BusinessClasificationID?null:Ne.BusinessClasificationID,p151:a?"%"+a+"%":null,p152:a?"%"+a+"%":null,p153:a?"%"+a+"%":null,p154:a?"%"+a+"%":null,p155:"0"==Ne.ComplaintHeaderID?null:Ne.ComplaintHeaderID,p156:a?"%"+a+"%":null,p157:a?"%"+a+"%":null,p158:a?"%"+a+"%":null,p159:a?"%"+a+"%":null,p160:a?"%"+a+"%":null,p161:a?"%"+a+"%":null,p162:a?"%"+a+"%":null,p163:a?"%"+a+"%":null,p164:"0"==Ne.PaymentTermsTypeID?null:Ne.PaymentTermsTypeID,p165:a?"%"+a+"%":null,p166:a?"%"+a+"%":null,p167:a?"%"+a+"%":null,p168:t,p169:10,p170:l,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});be(!0);const s={data:d};return(0,m.Z)(i,"ClearAll"==l?s:c,"SetDefaultContractID"==l&&n?n:Fe.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};Le(1==t?e>0?n:[]:Pe.concat(n)),"SetDefaultContractID"==l&&(e>0?Ha(n[0]):Ke("NORECORDS")),be(!1)}else Be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be(!1)}))},cl=(t,a,l)=>{const n=E.v.Api+"FP156S3/",o={data:{p1:null,p2:"ContractCode"==l&&a?"%"+a+"%":null,p3:"ContractName"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:"ContractValue"==l&&a?"%"+a+"%":null,p8:"ExtendedValue"==l&&a?"%"+a+"%":null,p9:"NoOfBilling"==l&&a?"%"+a+"%":null,p10:"Period"==l&&a?"%"+a+"%":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:"ConStatus"==l&&a?"%"+a+"%":null,p33:"Retention"==l&&a?"%"+a+"%":null,p34:"InvoiceDescription"==l&&a?"%"+a+"%":null,p35:"AcknowledgedBy"==l&&a?"%"+a+"%":null,p36:"SignedBy"==l&&a?"%"+a+"%":null,p37:"EnquiryCode"==l&&a?"%"+a+"%":null,p38:null,p39:null,p40:null,p41:"QuotationCode"==l&&a?"%"+a+"%":null,p42:null,p43:null,p44:null,p45:"SiteSurveyCode"==l&&a?"%"+a+"%":null,p46:null,p47:null,p48:null,p49:"Notify1"==l&&a?"%"+a+"%":null,p50:"NotifyDate1"==l&&a?"%"+a+"%":null,p51:"NotifyDate1Type"==l&&a?"%"+a+"%":null,p52:"NotifyDate1Between"==l&&a?"%"+a+"%":null,p53:"Notify2"==l&&a?"%"+a+"%":null,p54:"NotifyDate2"==l&&a?"%"+a+"%":null,p55:"NotifyDate2Type"==l&&a?"%"+a+"%":null,p56:"NotifyDate2Between"==l&&a?"%"+a+"%":null,p57:"NoofInvoice"==l&&a?"%"+a+"%":null,p58:null,p59:null,p60:null,p61:"LosedComment"==l&&a?"%"+a+"%":null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:e.Dialogview?"1":null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:null,p129:null,p130:null,p131:null,p132:null,p133:null,p134:null,p135:null,p136:null,p137:null,p138:null,p139:null,p140:null,p141:null,p142:null,p143:null,p144:null,p145:null,p146:null,p147:null,p148:null,p149:null,p150:null,p151:null,p152:null,p153:null,p154:null,p155:null,p156:null,p157:null,p158:null,p159:null,p160:null,p161:null,p162:null,p163:null,p164:null,p165:null,p166:null,p167:null,p168:t,p169:10,p170:"ContractID",p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}},r={data:Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{})};be(!0),(0,m.Z)(n,"ClearAll"==l?r:o,Fe.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("ContractCode"==l&&ze(e>0),"ContractName"==l&&Qe(e>0),"VatAmount"==l&&$e(e>0),"NoOfBilling"==l&&Ct(e>0),"ConStatus"==l&&vt(e>0),"EnquiryCode"==l&&ht(e>0),"QuotationCode"==l&&Lt(e>0),"SiteSurveyCode"==l&&Ft(e>0),"Notify1"==l&&kt(e>0),"Notify2"==l&&qt(e>0),"NoofPrimary"==l&&Ht(e>0),"NoofSecondary"==l&&jt(e>0),"NoofSupervisor"==l&&Wt(e>0),"NoofEngineer"==l&&Jt(e>0),"ShiftNoofPrimary"==l&&ea(e>0),"ShiftNoofSecondary"==l&&aa(e>0),"TotalContractValue"==l&&na(e>0),"ContractLeassValue"==l&&ra(e>0),"TotalLessContractValue"==l&&sa(e>0),"FieldRadius"==l&&ua(e>0),"ConZoomValue"==l&&Ca(e>0),"StatusKey"==l&&ga(e>0),"XContractKey"==l&&Ia(e>0),"RenewalConKey"==l&&Ea(e>0),"ShiftKey"==l&&va(e>0),"SalesEmpKey"==l&&ha(e>0),"CreatedEmpKey"==l&&ba(e>0),"ApprovedEmpKey"==l&&La(e>0),Le(n)):("ContractCode"==l&&ze(!0),"ContractName"==l&&Qe(!0),"VatAmount"==l&&$e(!0),"NoOfBilling"==l&&Ct(!0),"ConStatus"==l&&vt(!0),"EnquiryCode"==l&&ht(!0),"QuotationCode"==l&&Lt(!0),"SiteSurveyCode"==l&&Ft(!0),"Notify1"==l&&kt(!0),"Notify2"==l&&qt(!0),"NoofPrimary"==l&&Ht(!0),"NoofSecondary"==l&&jt(!0),"NoofSupervisor"==l&&Wt(!0),"NoofEngineer"==l&&Jt(!0),"ShiftNoofPrimary"==l&&ea(!0),"ShiftNoofSecondary"==l&&aa(!0),"TotalContractValue"==l&&na(!0),"ContractLeassValue"==l&&ra(!0),"TotalLessContractValue"==l&&sa(!0),"FieldRadius"==l&&ua(!0),"ConZoomValue"==l&&Ca(!0),"StatusKey"==l&&ga(!0),"XContractKey"==l&&Ia(!0),"RenewalConKey"==l&&Ea(!0),"ShiftKey"==l&&va(!0),"SalesEmpKey"==l&&ha(!0),"CreatedEmpKey"==l&&ba(!0),"ApprovedEmpKey"==l&&La(!0),Le(Pe.concat(n))),be(!1)}else Be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be(!1)}))},dl=(0,l.useCallback)((async(e,t,a)=>{if("text"==a)he({type:a,name:t,value:e});else if("number"==a){if(he({type:a,name:t,number:Number(e)}),"ConValueBeforVat"===t){let t=Number(e*Ne.TaxValue/100);he({type:"number",name:"VatAmount",number:Number(t)});let a=Number(t)+Number(e);he({type:"number",name:"ContractValue",number:Number(a)})}}else if("boolean"==a)he({type:a,name:t,boolean:e});else if("date"==a)he({type:"text",name:t,value:e});else if("select"==a)if("ContractTypeID"==t)he({type:"text",name:"ContractTypeID",value:e.ContractTypeIDPK?e.ContractTypeIDPK:null}),he({type:"text",name:"ContractTypeName",value:e.ContractTypeName?e.ContractTypeName:null});else if("ContractCategID"==t)he({type:"text",name:"ContractCategID",value:e.ContractCategIDPK?e.ContractCategIDPK:null}),he({type:"text",name:"ContractCategName",value:e.ContractCategName?e.ContractCategName:null});else if("TaxID"==t){he({type:"text",name:"TaxID",value:e.TaxIDPK?e.TaxIDPK:null}),he({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:null}),he({type:"text",name:"ContractValue",value:e.ContractValue?e.ContractValue:null}),he({type:"text",name:"VatAmount",value:e.VatAmount?e.VatAmount:null}),he({type:"text",name:"TaxValue",value:e.TaxValue&&e.TaxValue});let t=Number(Ne.ConValueBeforVat*e.TaxValue/100);he({type:"number",name:"VatAmount",number:Number(t)});let a=Number(t)+Number(Ne.ConValueBeforVat);he({type:"number",name:"ContractValue",number:Number(a)})}else"ContractGroupID"==t?(he({type:"text",name:"ContractGroupID",value:e.ContractGroupIDPK?e.ContractGroupIDPK:null}),he({type:"text",name:"ContractGroupName",value:e.ContractGroupName?e.ContractGroupName:null})):"ParentContractIKeyD"==t?(he({type:"text",name:"ParentContractIKeyD",value:e.ParentContractIKeyDPK?e.ParentContractIKeyDPK:null}),he({type:"text",name:"ParentContractName",value:e.ParentContractName?e.ParentContractName:null})):"OrganisationID"==t?(he({type:"text",name:"OrganisationID",value:e.OrganisationIDPK?e.OrganisationIDPK:null}),he({type:"text",name:"OrganisationName",value:e.OrganisationName?e.OrganisationName:null})):"CustomerID"==t?(he({type:"text",name:"CustomerID",value:e.CustomerIDPK?e.CustomerIDPK:null}),he({type:"text",name:"CustomerName",value:e.CustomerName?e.CustomerName:null})):"ConPaymentTermsID"==t&&(he({type:"text",name:"ConPaymentTermsID",value:e.ConPaymentTermsIDPK?e.ConPaymentTermsIDPK:null}),he({type:"text",name:"ConPaymentTermsName",value:e.ConPaymentTermsName?e.ConPaymentTermsName:null}),he({type:"text",name:"Period",value:e.Period?e.Period:null}))}),[Ne]);function sl(e){if("ContractTypeID"==e){if(!Ne.ContractTypeID)return!1;he({type:"text",name:"ContractTypeID",value:null}),he({type:"text",name:"ContractTypeName",value:""}),document.getElementById("ConContractRegistryContractTypeNameClear")&&document.getElementById("ConContractRegistryContractTypeNameClear").click()}else if("ContractCategID"==e){if(!Ne.ContractCategID)return!1;he({type:"text",name:"ContractCategID",value:null}),he({type:"text",name:"ContractCategName",value:""}),document.getElementById("ConContractRegistryContractCategNameClear")&&document.getElementById("ConContractRegistryContractCategNameClear").click()}else if("TaxID"==e){if(!Ne.TaxID)return!1;he({type:"text",name:"TaxID",value:null}),he({type:"text",name:"TaxName",value:""}),document.getElementById("ConContractRegistryTaxNameClear")&&document.getElementById("ConContractRegistryTaxNameClear").click(),he({type:"text",name:"ContractValue",value:""}),he({type:"text",name:"VatAmount",value:""})}else if("ContractGroupID"==e){if(!Ne.ContractGroupID)return!1;he({type:"text",name:"ContractGroupID",value:null}),he({type:"text",name:"ContractGroupName",value:""}),document.getElementById("ConContractRegistryContractGroupNameClear")&&document.getElementById("ConContractRegistryContractGroupNameClear").click()}else if("ParentContractIKeyD"==e){if(!Ne.ParentContractIKeyD)return!1;he({type:"text",name:"ParentContractIKeyD",value:null}),he({type:"text",name:"ParentContractName",value:""}),document.getElementById("ConContractRegistryParentContractNameClear")&&document.getElementById("ConContractRegistryParentContractNameClear").click()}else if("OrganisationID"==e){if(!Ne.OrganisationID)return!1;he({type:"text",name:"OrganisationID",value:null}),he({type:"text",name:"OrganisationName",value:""}),document.getElementById("ConContractRegistryOrganisationNameClear")&&document.getElementById("ConContractRegistryOrganisationNameClear").click()}else if("CustomerID"==e){if(!Ne.CustomerID)return!1;he({type:"text",name:"CustomerID",value:null}),he({type:"text",name:"CustomerName",value:""}),document.getElementById("ConContractRegistryCustomerNameClear")&&document.getElementById("ConContractRegistryCustomerNameClear").click()}else if("ConPaymentTermsID"==e){if(!Ne.ConPaymentTermsID)return!1;he({type:"text",name:"ConPaymentTermsID",value:null}),he({type:"text",name:"ConPaymentTermsName",value:""}),document.getElementById("ConContractRegistryConPaymentTermsNameClear")&&document.getElementById("ConContractRegistryConPaymentTermsNameClear").click(),he({type:"text",name:"Period",value:""})}}function ml(e){if("ContractTypeID"==e){if(!Ne.ContractTypeID)return!1;he({type:"text",name:"ContractTypeID",value:null})}else if("ContractCategID"==e){if(!Ne.ContractCategID)return!1;he({type:"text",name:"ContractCategID",value:null})}else if("TaxID"==e){if(!Ne.TaxID)return!1}else if("ContractGroupID"==e){if(!Ne.ContractGroupID)return!1;he({type:"text",name:"ContractGroupID",value:null})}else if("ParentContractIKeyD"==e){if(!Ne.ParentContractIKeyD)return!1;he({type:"text",name:"ParentContractIKeyD",value:null})}else if("OrganisationID"==e){if(!Ne.OrganisationID)return!1;he({type:"text",name:"OrganisationID",value:null})}else if("CustomerID"==e){if(!Ne.CustomerID)return!1;he({type:"text",name:"CustomerID",value:null})}else if("ConPaymentTermsID"==e&&!Ne.ConPaymentTermsID)return!1}const ul=e=>{Be.ConfirmAlert(n().createElement(I(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>pl(e),onCancel:()=>Be.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Wa("Yes"),cancelBtnText:Wa("No"),showCancel:!0},Wa("Do you want to update this record?")))};function pl(e){Be.ConfirmAlert(null),W(e.IsDraft),Ae({type:"editData",payload:[e]}),Ae({type:"PrimaryId",payload:e.ContractIDPK}),wa(Number(e.ContractIDPK)?Number(e.ContractIDPK):0),he({type:"text",name:"ContractCode",value:e.ContractCode?e.ContractCode:""}),he({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),he({type:"number",name:"ContractTypeID",number:e.ContractTypeID?Number(e.ContractTypeID):0}),he({type:"text",name:"ContractTypeName",value:e.ContractTypeName?e.ContractTypeName:""}),he({type:"number",name:"ContractCategID",number:e.ContractCategID?Number(e.ContractCategID):0}),he({type:"text",name:"ContractCategName",value:e.ContractCategName?e.ContractCategName:""}),he({type:"text",name:"AcknowledgedBy",value:e.AcknowledgedBy?e.AcknowledgedBy:""}),he({type:"text",name:"SignedBy",value:e.SignedBy?e.SignedBy:""}),he({type:"text",name:"StartDate",value:e.StartDate?Ja(e.StartDate):null}),he({type:"text",name:"EndDate",value:e.EndDate?Ja(e.EndDate):null}),he({type:"number",name:"ConValueBeforVat",number:e.ConValueBeforVat?Number(e.ConValueBeforVat):0}),he({type:"number",name:"TaxID",number:e.TaxID?Number(e.TaxID):0}),he({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:""}),he({type:"number",name:"VatAmount",number:e.VatAmount?Number(e.VatAmount):0}),he({type:"number",name:"ContractValue",number:e.ContractValue?Number(e.ContractValue):0}),he({type:"number",name:"ContractGroupID",number:e.ContractGroupID?Number(e.ContractGroupID):0}),he({type:"text",name:"ContractGroupName",value:e.ContractGroupName?e.ContractGroupName:""}),he({type:"number",name:"ParentContractIKeyD",number:e.ParentContractIKeyD?Number(e.ParentContractIKeyD):0}),he({type:"text",name:"ParentContractName",value:e.ParentContractName?e.ParentContractName:""}),he({type:"boolean",name:"IsNonContract",boolean:!!e.IsNonContract&&e.IsNonContract}),he({type:"text",name:"ConGenerateCode",value:e.ConGenerateCode?e.ConGenerateCode:""}),he({type:"number",name:"OrganisationID",number:e.OrganisationID?Number(e.OrganisationID):0}),he({type:"text",name:"OrganisationName",value:e.OrganisationName?e.OrganisationName:""}),he({type:"number",name:"CustomerID",number:e.CustomerID?Number(e.CustomerID):0}),he({type:"text",name:"CustomerName",value:e.CustomerName?e.CustomerName:""}),he({type:"number",name:"ConLatitude",number:e.ConLatitude?Number(e.ConLatitude):0}),he({type:"number",name:"ConLongitude",number:e.ConLongitude?Number(e.ConLongitude):0}),he({type:"number",name:"ConTRNno",number:e.ConTRNno?Number(e.ConTRNno):0}),he({type:"boolean",name:"IsEnableBudget",boolean:!!e.IsEnableBudget&&e.IsEnableBudget}),he({type:"text",name:"AnnualReviewDate",value:e.AnnualReviewDate?Ja(e.AnnualReviewDate):null}),he({type:"text",name:"ExtendedDate",value:e.ExtendedDate?Ja(e.ExtendedDate):null}),he({type:"number",name:"ExtendedValue",number:e.ExtendedValue?Number(e.ExtendedValue):0}),he({type:"number",name:"Retention",number:e.Retention?Number(e.Retention):0}),he({type:"text",name:"ConEmail",value:e.ConEmail?e.ConEmail:""}),he({type:"boolean",name:"IsConLost",boolean:!!e.IsConLost&&e.IsConLost}),he({type:"text",name:"LosedDate",value:e.LosedDate?Ja(e.LosedDate):null}),he({type:"text",name:"LosedComment",value:e.LosedComment?e.LosedComment:""}),he({type:"text",name:"SACCode",value:e.SACCode?e.SACCode:""}),he({type:"text",name:"InvoiceDescription",value:e.InvoiceDescription?e.InvoiceDescription:""}),he({type:"text",name:"Period",value:e.Period?e.Period:""}),he({type:"text",name:"NoofInvoice",value:e.NoofInvoice?e.NoofInvoice:""}),he({type:"number",name:"ConPaymentTermsID",number:e.ConPaymentTermsID?Number(e.ConPaymentTermsID):0}),he({type:"text",name:"ConPaymentTermsName",value:e.ConPaymentTermsName?e.ConPaymentTermsName:""}),he({type:"text",name:"ContractDate",value:e.ContractDate?Ja(e.ContractDate):null}),he({type:"text",name:"NoOfBilling",value:e.NoOfBilling?e.NoOfBilling:""}),he({type:"text",name:"CreatedByDate",value:e.CreatedByDate?Ja(e.CreatedByDate):null}),he({type:"text",name:"ApprovedDate",value:e.ApprovedDate?Ja(e.ApprovedDate):null}),he({type:"text",name:"DisplayEndDate",value:e.DisplayEndDate?Ja(e.DisplayEndDate):null}),he({type:"text",name:"ConStatus",value:e.ConStatus?e.ConStatus:""}),he({type:"text",name:"EnquiryCode",value:e.EnquiryCode?e.EnquiryCode:""}),he({type:"text",name:"EnquiryDate",value:e.EnquiryDate?Ja(e.EnquiryDate):null}),he({type:"text",name:"QuotationCode",value:e.QuotationCode?e.QuotationCode:""}),he({type:"text",name:"QuotationDate",value:e.QuotationDate?Ja(e.QuotationDate):null}),he({type:"text",name:"SiteSurveyCode",value:e.SiteSurveyCode?e.SiteSurveyCode:""}),he({type:"text",name:"SiteSurveyDate",value:e.SiteSurveyDate?Ja(e.SiteSurveyDate):null}),he({type:"text",name:"Notify1",value:e.Notify1?e.Notify1:""}),he({type:"text",name:"NotifyDate1",value:e.NotifyDate1?Ja(e.NotifyDate1):null}),he({type:"text",name:"Notify2",value:e.Notify2?e.Notify2:""}),he({type:"text",name:"NotifyDate2",value:e.NotifyDate2?Ja(e.NotifyDate2):null}),he({type:"text",name:"FollowUpDate",value:e.FollowUpDate?Ja(e.FollowUpDate):null}),he({type:"boolean",name:"IsEnableClient",boolean:!!e.IsEnableClient&&e.IsEnableClient}),he({type:"boolean",name:"IsExtended",boolean:!!e.IsExtended&&e.IsExtended}),he({type:"boolean",name:"IsPPM",boolean:!!e.IsPPM&&e.IsPPM}),he({type:"boolean",name:"IsBDM",boolean:!!e.IsBDM&&e.IsBDM}),he({type:"boolean",name:"IsDSM",boolean:!!e.IsDSM&&e.IsDSM}),he({type:"boolean",name:"IsIncident",boolean:!!e.IsIncident&&e.IsIncident}),he({type:"boolean",name:"IsCase",boolean:!!e.IsCase&&e.IsCase}),he({type:"text",name:"NoofPrimary",value:e.NoofPrimary?e.NoofPrimary:""}),he({type:"text",name:"NoofSecondary",value:e.NoofSecondary?e.NoofSecondary:""}),he({type:"text",name:"NoofSupervisor",value:e.NoofSupervisor?e.NoofSupervisor:""}),he({type:"text",name:"NoofEngineer",value:e.NoofEngineer?e.NoofEngineer:""}),he({type:"text",name:"ShiftNoofPrimary",value:e.ShiftNoofPrimary?e.ShiftNoofPrimary:""}),he({type:"text",name:"ShiftNoofSecondary",value:e.ShiftNoofSecondary?e.ShiftNoofSecondary:""}),he({type:"boolean",name:"IsEnableValue",boolean:!!e.IsEnableValue&&e.IsEnableValue}),he({type:"boolean",name:"IsRenewal",boolean:!!e.IsRenewal&&e.IsRenewal}),he({type:"boolean",name:"IsBudgetValByCont",boolean:!!e.IsBudgetValByCont&&e.IsBudgetValByCont}),he({type:"number",name:"TotalContractValue",number:e.TotalContractValue?Number(e.TotalContractValue):0}),he({type:"number",name:"ContractLeassValue",number:e.ContractLeassValue?Number(e.ContractLeassValue):0}),he({type:"text",name:"ContractLeassDate",value:e.ContractLeassDate?Ja(e.ContractLeassDate):null}),he({type:"number",name:"TotalLessContractValue",number:e.TotalLessContractValue?Number(e.TotalLessContractValue):0}),he({type:"number",name:"FieldRadius",number:e.FieldRadius?Number(e.FieldRadius):0}),he({type:"boolean",name:"IsRes",boolean:!!e.IsRes&&e.IsRes}),he({type:"boolean",name:"IsInclusive",boolean:!!e.IsInclusive&&e.IsInclusive}),he({type:"boolean",name:"IsConType",boolean:!!e.IsConType&&e.IsConType}),he({type:"text",name:"ConZoomValue",value:e.ConZoomValue?e.ConZoomValue:""}),he({type:"text",name:"StatusKey",value:e.StatusKey?e.StatusKey:""}),he({type:"text",name:"XContractKey",value:e.XContractKey?e.XContractKey:""}),he({type:"text",name:"RenewalConKey",value:e.RenewalConKey?e.RenewalConKey:""}),he({type:"text",name:"ShiftKey",value:e.ShiftKey?e.ShiftKey:""}),he({type:"text",name:"SalesEmpKey",value:e.SalesEmpKey?e.SalesEmpKey:""}),he({type:"text",name:"CreatedEmpKey",value:e.CreatedEmpKey?e.CreatedEmpKey:""}),he({type:"text",name:"ApprovedEmpKey",value:e.ApprovedEmpKey?e.ApprovedEmpKey:""})}const Cl=e=>"string"==typeof e?e.trim():e;return n().createElement("div",{style:{width:"100%",display:"none"},id:"ConContractRegistry-MainEntry"},n().createElement("div",{className:"tabcontainer padleft5"},n().createElement("div",{className:"formcontent"},n().createElement("div",{className:"mar0"},n().createElement("div",{className:"ascardpad"},oe?n().createElement("div",null,n().createElement(L.default,{ref:Za,ExpandDetailValue:!0,EntryExp:Fe.expandDetail,inboxdata:{}})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractRegistry-Entry",style:{width:"100%",position:"relative"}},n().createElement(r.Z,{expanded:"mainpanel"==Fe.expandDetail},n().createElement(c.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},n().createElement("div",{className:"displayFlex backgroundLightL3 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("div",{id:"fld156L4ECdFlexEntryHeader",onClick:()=>{Be.ShowTableDiv(!1),document.getElementById("overlayimgAttConContractRegistry").style.display="none"}},n().createElement(M.aQX,{className:"BackBtnIcon"})),n().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[156]"},xa?"Edit ":"New ",$a("156"))),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},"mainpanel"===Fe.expandDetail&&!xa&&n().createElement(A.FormGroup,{row:!0},n().createElement(d.Z,{labelPlacement:"bottom",id:"fld156L4ECEntryCheckbox",control:n().createElement(F.Z,{checked:"1"==f,onChange:e=>Z(e.target.checked)}),label:Wa(1==f?"Active":"In Active")})))),xa&&"mainpanel"===Fe.expandDetail?n().createElement("div",{className:"GridAlign",onClick:()=>{Be.AttachExpand(!0)},id:"fld156L4ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!xa},n().createElement(R.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Wa("Attach")))):null,!xa&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{tl()},id:"fld156L4ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(R.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Wa("Reset")))),xa?null:n().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,a,l,n){if(!(Fe.count>0))return Be.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...Ne};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){ze(!0),Qe(!0),$e(!0),Xe(!0),Ct(!0),vt(!0),ht(!0),Lt(!0),Ft(!0),kt(!0),qt(!0),Ht(!0),jt(!0),Wt(!0),Jt(!0),ea(!0),aa(!0),na(!0),ra(!0),sa(!0),ua(!0),Ca(!0),ga(!0),Ia(!0),Ea(!0),va(!0),ha(!0),ba(!0),La(!0),Be.loading(!0),Be.ConfirmAlert(null);const a=E.v.Api+"FP156S1/",l={data:[{p1:"SetDefaultContractID"==n?"NORECORDS"!=qe&&qe?qe:0:xa,p2:Cl(Ne.ContractCode),p3:Cl(Ne.ContractName),p4:Ne.ContractDate?Xa(Ne.ContractDate):null,p5:Ne.ContractValue?Number(Ne.ContractValue):0,p6:Ne.ExtendedValue?Number(Ne.ExtendedValue):0,p7:Ne.NoOfBilling?Number(Ne.NoOfBilling):0,p8:Cl(Ne.Period),p9:Ne.StartDate?Xa(Ne.StartDate):null,p10:Ne.EndDate?Xa(Ne.EndDate):null,p11:Ne.AnnualReviewDate?Xa(Ne.AnnualReviewDate):null,p12:Ne.CreatedByDate?Xa(Ne.CreatedByDate):null,p13:Ne.ApprovedDate?Xa(Ne.ApprovedDate):null,p14:Ne.DisplayEndDate?Xa(Ne.DisplayEndDate):null,p15:Ne.ExtendedDate?Xa(Ne.ExtendedDate):null,p16:Ne.ConStatus?Number(Ne.ConStatus):0,p17:Cl(Ne.Retention),p18:Cl(Ne.InvoiceDescription),p19:Cl(Ne.AcknowledgedBy),p20:Cl(Ne.SignedBy),p21:Cl(Ne.EnquiryCode),p22:Ne.EnquiryDate?Xa(Ne.EnquiryDate):null,p23:Cl(Ne.QuotationCode),p24:Ne.QuotationDate?Xa(Ne.QuotationDate):null,p25:Cl(Ne.SiteSurveyCode),p26:Ne.SiteSurveyDate?Xa(Ne.SiteSurveyDate):null,p27:Cl(Ne.Notify1),p28:Ne.NotifyDate1?Xa(Ne.NotifyDate1):null,p29:Cl(Ne.Notify2),p30:Ne.NotifyDate2?Xa(Ne.NotifyDate2):null,p31:Ne.NoofInvoice?Number(Ne.NoofInvoice):0,p32:Ne.LosedDate?Xa(Ne.LosedDate):null,p33:Cl(Ne.LosedComment),p34:Ne.FollowUpDate?Xa(Ne.FollowUpDate):null,p35:Ne.IsEnableClient,p36:Ne.IsExtended,p37:Ne.IsPPM,p38:Ne.IsBDM,p39:Ne.IsDSM,p40:Ne.IsIncident,p41:Ne.IsCase,p42:Ne.NoofPrimary?Number(Ne.NoofPrimary):0,p43:Ne.NoofSecondary?Number(Ne.NoofSecondary):0,p44:Ne.NoofSupervisor?Number(Ne.NoofSupervisor):0,p45:Ne.NoofEngineer?Number(Ne.NoofEngineer):0,p46:Ne.ShiftNoofPrimary?Number(Ne.ShiftNoofPrimary):0,p47:Ne.ShiftNoofSecondary?Number(Ne.ShiftNoofSecondary):0,p48:Ne.IsNonContract,p49:Ne.IsEnableBudget,p50:Ne.IsEnableValue,p51:Ne.IsRenewal,p52:Ne.IsBudgetValByCont,p53:Ne.XContractKey?Number(Ne.XContractKey):0,p54:Ne.ParentContractIKeyD?Number(Ne.ParentContractIKeyD):0,p55:Ne.RenewalConKey?Number(Ne.RenewalConKey):0,p56:Ne.ShiftKey?Number(Ne.ShiftKey):0,p57:Ne.SalesEmpKey?Number(Ne.SalesEmpKey):0,p58:Ne.CreatedEmpKey?Number(Ne.CreatedEmpKey):0,p59:Ne.ApprovedEmpKey?Number(Ne.ApprovedEmpKey):0,p60:Ne.TotalContractValue?Number(Ne.TotalContractValue):0,p61:Ne.ContractLeassValue?Number(Ne.ContractLeassValue):0,p62:Ne.ContractLeassDate?Xa(Ne.ContractLeassDate):null,p63:Ne.TotalLessContractValue?Number(Ne.TotalLessContractValue):0,p64:Cl(Ne.ConLatitude),p65:Cl(Ne.ConLongitude),p66:Ne.FieldRadius?Number(Ne.FieldRadius):0,p67:Cl(Ne.SACCode),p68:Ne.IsRes,p69:Ne.IsInclusive,p70:Ne.VatAmount?Number(Ne.VatAmount):0,p71:Ne.ConValueBeforVat?Number(Ne.ConValueBeforVat):0,p72:Ne.IsConType,p73:Ne.IsConLost,p74:Ne.ConZoomValue?Number(Ne.ConZoomValue):0,p75:Cl(Ne.ConGenerateCode),p76:Cl(Ne.ConTRNno),p77:Cl(Ne.ConEmail),p78:Ne.IsDefault,p79:!0,p80:Ne.StatusKey?Number(Ne.StatusKey):0,p81:"SetDefaultContractID"==n?"SetDefault":null,p82:Ne.ContractGroupID?Ne.ContractGroupID:0,p83:Ne.TaxID?Ne.TaxID:0,p84:Ne.CustomerID?Ne.CustomerID:0,p85:Ne.ContractTypeID?Ne.ContractTypeID:0,p86:Ne.ContractCategID?Ne.ContractCategID:0,p87:Ne.OrganisationID?Ne.OrganisationID:0,p88:Ne.ConPaymentTermsID?Ne.ConPaymentTermsID:0,p89:!1,p90:"SetDefaultContractID"==n,p91:localStorage.getItem("userid"),p92:v()().format("YYYY-MM-DD hh:mm:ss"),p93:localStorage.getItem("userid"),p94:v()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((n=>{(0,s.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?Be.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):Be.alert({open:!0,color:"success",message:["Saved to Draft"]}),tl(),e.clrImgstate(!0),document.getElementById("ConContractRegistry-MainTable").style.width="0%",document.getElementById("ConContractRegistry-MainEntry").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.display="flex",document.getElementById("ConContractRegistry-MainTable").style.display="none",ee(!1),Be.loading(!1),document.getElementById("overlayimgAttConContractRegistry")&&(document.getElementById("overlayimgAttConContractRegistry").style.width="0%",document.getElementById("overlayimgAttConContractRegistry").style.display="none")):(Be.alert({open:!0,color:"warning",message:[l.message]}),Be.loading(!1))}))}))}else Be.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}()},id:"fld156L4ECDraftBtn",disabled:!1},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(k.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Wa("Draft")))),"mainpanel"===Fe.expandDetail?n().createElement(g.Z,{name:xa?"Update":"Save",disabled:!1,frmctrlid:"fld156L4ECSaveBtnIsAdd",onClick:()=>{(e=>{if(!Cl(Ne.ContractName))return Be.alert({open:!0,color:"warning",message:[Wa("Please enter the")+""+$a("ContractName")]}),!1;if(!Ne.ContractTypeID||0==Ne.ContractTypeID)return Be.alert({open:!0,color:"warning",message:[Wa("Please select the ")+" "+$a("ContractTypeID")]}),!1;if(!Ne.StartDate||0==Ne.StartDate||He)return Be.alert({open:!0,color:"warning",message:[Wa("Please enter the Contract Start Date")]}),!1;if(!Ne.EndDate||0==Ne.EndDate||je)return Be.alert({open:!0,color:"warning",message:[Wa("Please enter the Contract End Date")]}),!1;if(!Ne.ContractGroupID||0==Ne.ContractGroupID)return Be.alert({open:!0,color:"warning",message:[Wa("Please select the ")+" "+$a("ContractGroupID")]}),!1;if(!Ne.CustomerID||0==Ne.CustomerID)return Be.alert({open:!0,color:"warning",message:[Wa("Please select the ")+" "+$a("CustomerID")]}),!1;let t=/^([a-zA-Z0-9_.-])+\@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/.test(Ne.ConEmail);if(Ne.ConEmail&&!t)return Be.alert({open:!0,color:"error",message:[Wa("Invalid")+" "+$a("ConEmail")]}),!1;Be.ConfirmAlert(n().createElement(I(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Wa("Are you sure?"),onConfirm:()=>al(),onCancel:()=>Be.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Wa("Yes"),cancelBtnText:Wa("Cancel"),showCancel:!0},Wa("Do you want to Save?")))})()}}):null,xa&&"mainpanel"===Fe.expandDetail?n().createElement(h.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld156L4ECCloseBtn",onClick:()=>{Be.ShowTableDiv(!1),tl(),re(!0),Ce(!0),document.getElementById("overlayimgAttConContractRegistry").style.display="none"}}):null))),n().createElement(i.Z,null,n().createElement("div",{id:"ConContractRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractRegistry-MainBody",className:"padding paddingLeft"},n().createElement("div",{className:"display-inline-flex"},n().createElement("div",{className:"l4-side-component displayFlex"+(Me?"":"l4width")},n().createElement("div",{className:"l4-side-component"},n().createElement("div",{className:"cardl4 "},n().createElement("div",{color:"info",className:"cardheadvh"},n().createElement(p.Z,null,n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Contract Primary Details"))))),n().createElement("div",{style:{padding:"15px"}},n().createElement(p.Z,{spacing:2},n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{"data-testid":Ne.ContractCode,json:w.A,SPName:"ConContractRegistry",FieldName:"ContractCode",tfLabel:$a("ContractCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Ve&&cl(1,"","ClearAll"),ze(!0)},frmctrlid:"fld156_3027",frmctrlidName:"ContractCode",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Ve&&cl(e,t,"ContractCode"),dl(t,"ContractCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ze(!0)},showList:Ve,SideEntryView:!1,KeyBack:e=>{},value:Ne.ContractCode,loading:Te,clear:e=>{e&&(he({type:"text",name:"ContractCode",value:""}),ze(!0))}})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{"data-testid":Ne.ContractName,json:w.A,SPName:"ConContractRegistry",FieldName:"ContractName",tfLabel:$a("ContractName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{_e&&cl(1,"","ClearAll"),Qe(!0)},frmctrlid:"fld156_3028",frmctrlidName:"ContractName",fieldorder:"2",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{_e&&cl(e,t,"ContractName"),dl(t,"ContractName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Qe(!0)},showList:_e,SideEntryView:!1,KeyBack:e=>{},value:Ne.ContractName,loading:Te,clear:e=>{e&&(he({type:"text",name:"ContractName",value:""}),Qe(!0))}})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{json:w.A,id:Ne.ContractTypeID,"data-testid":Ne.ContractTypeID,value:Ne.ContractTypeName,SPName:"ConContractRegistry",FieldName:"ContractTypeID",tfLabel:$a("ContractTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>dl(e,"ContractTypeID","select"),onChange:(e,t)=>{il(e,t,"ContractTypeIDPK")},KeyBack:e=>{ml("ContractTypeID")},fieldorder:"3",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("161")},Tabledialog:()=>ol("161","ContractTypeID"),loading:Te,clear:e=>{e&&sl("ContractTypeID")}})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{json:w.A,id:Ne.ContractCategID,"data-testid":Ne.ContractCategID,value:Ne.ContractCategName,SPName:"ConContractRegistry",FieldName:"ContractCategID",tfLabel:$a("ContractCategID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>dl(e,"ContractCategID","select"),onChange:(e,t)=>{il(e,t,"ContractCategIDPK")},KeyBack:e=>{ml("ContractCategID")},fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("146")},Tabledialog:()=>ol("146","ContractCategID"),loading:Te,clear:e=>{e&&sl("ContractCategID")}})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.AcknowledgedBy,SPName:"ConContractRegistry",FieldName:"AcknowledgedBy",tfLabel:$a("AcknowledgedBy"),frmctrlid:"fld156_3044",fieldorder:"1",onChange:e=>{dl(e,"AcknowledgedBy","text")},clear:e=>{e&&he({type:"text",name:"AcknowledgedBy",value:""})},value:Ne.AcknowledgedBy})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.SignedBy,SPName:"ConContractRegistry",FieldName:"SignedBy",tfLabel:$a("SignedBy"),frmctrlid:"fld156_3045",fieldorder:"2",onChange:e=>{dl(e,"SignedBy","text")},clear:e=>{e&&he({type:"text",name:"SignedBy",value:""})},value:Ne.SignedBy})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(y.Z,{value:Ne.StartDate,"data-testid":Ne.StartDate,disabled:!1,onChange:e=>{dl(e,"StartDate","date")},onErr:e=>{Ue(e)},label:n().createElement("span",null,$a("StartDate"),n().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld156_3034",frmctrlidName:"StartDate",fieldorder:"3"})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(y.Z,{value:Ne.EndDate,"data-testid":Ne.EndDate,disabled:!1,onChange:e=>{dl(e,"EndDate","date")},onErr:e=>{Ye(e)},label:n().createElement("span",null,$a("EndDate"),n().createElement("span",{className:"errorinput"},"*")),minDate:Ne.StartDate,frmctrlid:"fld156_3035",frmctrlidName:"EndDate",fieldorder:"4"})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ConValueBeforVat,SPName:"ConContractRegistry",FieldName:"ConValueBeforVat",tfLabel:$a("ConValueBeforVat"),frmctrlid:"fld156_3090",fieldorder:"1",onChange:e=>{dl(e,"ConValueBeforVat","number")},clear:e=>{e&&he({type:"number",name:"ConValueBeforVat",number:0})},value:Ne.ConValueBeforVat})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{json:w.A,id:Ne.TaxID,"data-testid":Ne.TaxID,value:Ne.TaxName,SPName:"ConContractRegistry",FieldName:"TaxID",tfLabel:$a("TaxID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>dl(e,"TaxID","select"),onChange:(e,t)=>{il(e,t,"TaxIDPK")},KeyBack:e=>{ml("TaxID")},fieldorder:"2",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("19")},Tabledialog:()=>ol("19","TaxID"),loading:Te,clear:e=>{e&&sl("TaxID")}})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{"data-testid":Ne.VatAmount,json:w.A,SPName:"ConContractRegistry",FieldName:"VatAmount",tfLabel:$a("VatAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{We&&cl(1,"","ClearAll"),$e(!0)},frmctrlid:"fld156_3089",frmctrlidName:"VatAmount",fieldorder:"3",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{We&&cl(e,t,"VatAmount"),dl(t,"VatAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||$e(!0)},showList:We,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:Ne.VatAmount,loading:Te,clear:e=>{e&&(he({type:"text",name:"VatAmount",value:""}),$e(!0))}})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ContractValue,SPName:"ConContractRegistry",FieldName:"ContractValue",tfLabel:$a("ContractValue"),frmctrlid:"fld156_3030",fieldorder:"4",onChange:e=>{dl(e,"ContractValue","number")},clear:e=>{e&&he({type:"number",name:"ContractValue",number:0})},value:Ne.ContractValue})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{json:w.A,id:Ne.ContractGroupID,"data-testid":Ne.ContractGroupID,value:Ne.ContractGroupName,SPName:"ConContractRegistry",FieldName:"ContractGroupID",tfLabel:$a("ContractGroupID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>dl(e,"ContractGroupID","select"),onChange:(e,t)=>{il(e,t,"ContractGroupIDPK")},KeyBack:e=>{ml("ContractGroupID")},fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("165")},Tabledialog:()=>ol("165","ContractGroupID"),loading:Te,clear:e=>{e&&sl("ContractGroupID")}})),(3==Ne.ContractGroupID||2==Ne.ContractGroupID)&&n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{json:w.A,id:Ne.ParentContractIKeyD,"data-testid":Ne.ParentContractIKeyD,value:Ne.ParentContractName,SPName:"ConContractRegistry",FieldName:"ParentContractIKeyD",tfLabel:$a("ParentContractIKeyD"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>dl(e,"ParentContractIKeyD","select"),onChange:(e,t)=>{il(e,t,"ParentContractIKeyDPK")},KeyBack:e=>{ml("ParentContractIKeyD")},fieldorder:"2",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("ContractIDPK")},Tabledialog:()=>ol("ContractIDPK","ParentContractIKeyD"),loading:Te,clear:e=>{e&&sl("ParentContractIKeyD")}}))," ",n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsNonContract,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsNonContract,onChange:e=>{dl(e.target.checked,"IsNonContract","boolean")},frmctrlid:"fld156_3074",frmctrlidname:"IsNonContract",fieldorder:"3",tfLabel:$a("IsNonContract")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsNonContract?"#21446F":"#999"}},$a("IsNonContract"))})))))),n().createElement("div",{className:"cardl4 "},n().createElement("div",{color:"info",className:"cardheadvh"},n().createElement(p.Z,null,n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Additional Details"))))),n().createElement("div",{style:{padding:"15px"}},n().createElement(p.Z,{spacing:2},n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ConGenerateCode,SPName:"ConContractRegistry",FieldName:"ConGenerateCode",tfLabel:$a("ConGenerateCode"),frmctrlid:"fld156_3094",fieldorder:"1",onChange:e=>{dl(e,"ConGenerateCode","text")},clear:e=>{e&&he({type:"text",name:"ConGenerateCode",value:""})},value:Ne.ConGenerateCode})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"CasePopper"},n().createElement(N.Z,{json:w.A,id:Ne.OrganisationID,"data-testid":Ne.OrganisationID,value:Ne.OrganisationName,customLabel:et===$a("CASE1")?$a("Contractor"):et===$a("CASE2")?$a("AssetOwner"):"",SPName:"ConContractRegistry",FieldName:"OrganisationID",tfLabel:$a("OrganisationID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>dl(e,"OrganisationID","select"),onChange:(e,t)=>{il(e,t,"OrganisationIDPK")},KeyBack:e=>{ml("OrganisationID")},fieldorder:"2",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("14")},Tabledialog:()=>ol("14","OrganisationID"),loading:Te,clear:e=>{e&&sl("OrganisationID")}}),n().createElement(Q.Z,{onClick:()=>{ka(!Ra)},ref:nt,id:"OrganisationIDCaseOut"}),n().createElement(q.Z,{style:{zIndex:"2"},open:at,anchorEl:nt.current,transition:!0,disablePortal:!0,placement:"bottom"},n().createElement(z.Z,null,n().createElement(V.Z,{role:"menu"},n().createElement(K.Z,{className:"Menuitems",onClick:()=>tt("CASE1")},n().createElement("span",null,"CASE1")),n().createElement(_.Z,{light:!0}),n().createElement(K.Z,{className:"Menuitems",onClick:()=>tt("CASE2")},n().createElement("span",null,"CASE2")),n().createElement(_.Z,{light:!0}))))),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(N.Z,{json:w.A,id:Ne.CustomerID,"data-testid":Ne.CustomerID,value:Ne.CustomerName,customLabel:et===$a("CASE1")?$a("Customer"):et===$a("CASE2")?$a("Contractor"):"",SPName:"ConContractRegistry",FieldName:"CustomerID",tfLabel:$a("CustomerID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>dl(e,"CustomerID","select"),onChange:(e,t)=>{il(e,t,"CustomerIDPK")},KeyBack:e=>{ml("CustomerID")},fieldorder:"3",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("164")},Tabledialog:()=>ol("164","CustomerID"),loading:Te,clear:e=>{e&&sl("CustomerID")}})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ConLatitude,SPName:"ConContractRegistry",FieldName:"ConLatitude",tfLabel:$a("ConLatitude"),frmctrlid:"fld156_3083",fieldorder:"4",onChange:e=>{dl(e,"ConLatitude","number")},clear:e=>{e&&he({type:"number",name:"ConLatitude",number:0})},value:Ne.ConLatitude})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ConLongitude,SPName:"ConContractRegistry",FieldName:"ConLongitude",tfLabel:$a("ConLongitude"),frmctrlid:"fld156_3084",fieldorder:"1",onChange:e=>{dl(e,"ConLongitude","number")},clear:e=>{e&&he({type:"number",name:"ConLongitude",number:0})},value:Ne.ConLongitude})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ConTRNno,SPName:"ConContractRegistry",FieldName:"ConTRNno",tfLabel:$a("ConTRNno"),frmctrlid:"fld156_3095",fieldorder:"2",onChange:e=>{dl(e,"ConTRNno","number")},clear:e=>{e&&he({type:"number",name:"ConTRNno",number:0})},value:Ne.ConTRNno})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsEnableBudget,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsEnableBudget,onChange:e=>{dl(e.target.checked,"IsEnableBudget","boolean")},frmctrlid:"fld156_3075",frmctrlidname:"IsEnableBudget",fieldorder:"3",tfLabel:$a("IsEnableBudget")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsEnableBudget?"#21446F":"#999"}},$a("IsEnableBudget"))})))))),n().createElement("div",{className:"cardl4 "},n().createElement("div",{color:"info",className:"cardheadvh"},n().createElement(p.Z,null,n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Renewal Details"))))),n().createElement("div",{style:{padding:"15px"}},n().createElement(p.Z,{spacing:2},n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(y.Z,{value:Ne.AnnualReviewDate,"data-testid":Ne.AnnualReviewDate,disabled:!1,onChange:e=>{dl(e,"AnnualReviewDate","date")},onErr:e=>{rt(e)},label:$a("AnnualReviewDate"),minDate:Ne.StartDate,frmctrlid:"fld156_3036",frmctrlidName:"AnnualReviewDate",fieldorder:"1"})),(new Date).getTime()>new Date(Ne.EndDate).getTime()&&n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(y.Z,{value:Ne.ExtendedDate,"data-testid":Ne.ExtendedDate,disabled:!1,onChange:e=>{dl(e,"ExtendedDate","date")},onErr:e=>{ct(e)},label:$a("ExtendedDate"),minDate:v()(Ne.EndDate).add(1,"d"),frmctrlid:"fld156_3040",frmctrlidName:"ExtendedDate",fieldorder:"2"}))," ",(new Date).getTime()>new Date(Ne.EndDate).getTime()&&n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ExtendedValue,SPName:"ConContractRegistry",FieldName:"ExtendedValue",tfLabel:$a("ExtendedValue"),frmctrlid:"fld156_3031",fieldorder:"3",onChange:e=>{dl(e,"ExtendedValue","number")},clear:e=>{e&&he({type:"number",name:"ExtendedValue",number:0})},value:Ne.ExtendedValue}))," ",n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.Retention,SPName:"ConContractRegistry",FieldName:"Retention",tfLabel:$a("Retention"),frmctrlid:"fld156_3042",fieldorder:"4",onChange:e=>{dl(e,"Retention","number")},clear:e=>{e&&he({type:"number",name:"Retention",number:0})},value:Ne.Retention})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.ConEmail,SPName:"ConContractRegistry",FieldName:"ConEmail",tfLabel:$a("ConEmail"),onChange:e=>{he({type:"text",name:"ConEmail",value:e})},value:Ne.ConEmail,clear:e=>{e&&he({type:"text",name:"ConEmail",value:""})},frmctrlid:"fld156_3096",frmctrlidName:"ConEmail",fieldorder:"1"})),n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsConLost,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsConLost,onChange:e=>{dl(e.target.checked,"IsConLost","boolean")},frmctrlid:"fld156_3092",frmctrlidname:"IsConLost",fieldorder:"2",tfLabel:$a("IsConLost")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsConLost?"#21446F":"#999"}},$a("IsConLost"))}))),1==Ne.IsConLost&&n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(y.Z,{value:Ne.LosedDate,"data-testid":Ne.LosedDate,disabled:!1,onChange:e=>{dl(e,"LosedDate","date")},onErr:e=>{st(e)},label:$a("LosedDate"),minDate:Ne.StartDate,frmctrlid:"fld156_3058",frmctrlidName:"LosedDate",fieldorder:"3"}))," ",1==Ne.IsConLost&&n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.LosedComment,SPName:"ConContractRegistry",FieldName:"LosedComment",tfLabel:$a("LosedComment"),frmctrlid:"fld156_3059",fieldorder:"4",onChange:e=>{dl(e,"LosedComment","text")},clear:e=>{e&&he({type:"text",name:"LosedComment",value:""})},value:Ne.LosedComment}))," ",n().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(u.Z,{json:w.A,"data-testid":Ne.SACCode,SPName:"ConContractRegistry",FieldName:"SACCode",tfLabel:$a("SACCode"),frmctrlid:"fld156_3086",fieldorder:"1",onChange:e=>{dl(e,"SACCode","text")},clear:e=>{e&&he({type:"text",name:"SACCode",value:""})},value:Ne.SACCode})))))),n().createElement("div",{className:"l4-side-menu "},n().createElement("div",{className:"cardhight cardl4"},n().createElement("div",null,n().createElement("div",{className:"ConContractRegistry-sublink formpanel"},n().createElement("div",{className:"divacc"},n().createElement(r.Z,{expanded:"panelS4"==za,onChange:rl("panelS4")},n().createElement(c.Z,{className:"accpanel",expandIcon:n().createElement(P.Z,{className:"iconExpand"})},n().createElement("p",{className:"mpadd5 plinkactive"},"Billing Details")),n().createElement(i.Z,null,n().createElement(p.Z,{spacing:12},n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12},n().createElement(u.Z,{json:w.A,"data-testid":Ne.InvoiceDescription,SPName:"ConContractRegistry",FieldName:"InvoiceDescription",tfLabel:$a("InvoiceDescription"),frmctrlid:"fld156_3043",fieldorder:"1",onChange:e=>{dl(e,"InvoiceDescription","text")},clear:e=>{e&&he({type:"text",name:"InvoiceDescription",value:""})},value:Ne.InvoiceDescription})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12},n().createElement(u.Z,{json:w.A,"data-testid":Ne.Period,SPName:"ConContractRegistry",FieldName:"Period",tfLabel:$a("Period"),frmctrlid:"fld156_3033",fieldorder:"2",onChange:e=>{dl(e,"Period","text")},clear:e=>{e&&he({type:"text",name:"Period",value:""})},value:Ne.Period})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12},n().createElement(u.Z,{json:w.A,"data-testid":Ne.NoofInvoice,SPName:"ConContractRegistry",FieldName:"NoofInvoice",tfLabel:$a("NoofInvoice"),frmctrlid:"fld156_3057",fieldorder:"3",onChange:e=>{dl(e,"NoofInvoice","text")},clear:e=>{e&&he({type:"text",name:"NoofInvoice",value:""})},value:Ne.NoofInvoice})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12},n().createElement(N.Z,{json:w.A,id:Ne.ConPaymentTermsID,"data-testid":Ne.ConPaymentTermsID,value:Ne.ConPaymentTermsName,SPName:"ConContractRegistry",FieldName:"ConPaymentTermsID",tfLabel:$a("ConPaymentTermsID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!0,onSelect:e=>dl(e,"ConPaymentTermsID","select"),onChange:(e,t)=>{il(e,t,"ConPaymentTermsIDPK")},KeyBack:e=>{ml("ConPaymentTermsID")},fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,openSlide:()=>{nl("238")},Tabledialog:()=>ol("238","ConPaymentTermsID"),loading:Te,clear:e=>{e&&sl("ConPaymentTermsID")}})))))),n().createElement("div",{className:"divacc",style:{display:"none"}},n().createElement(r.Z,{expanded:"panelS99"==za,onChange:rl("panelS99")},n().createElement(c.Z,{className:"accpanel",expandIcon:n().createElement(P.Z,{className:"iconExpand"})},n().createElement("p",{className:"mpadd5 plinkactive"},"Invisible Fields")),n().createElement(i.Z,null,n().createElement(p.Z,{spacing:12},n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.ContractDate,"data-testid":Ne.ContractDate,disabled:!1,onChange:e=>{dl(e,"ContractDate","date")},onErr:e=>{ut(e)},label:$a("ContractDate"),frmctrlid:"fld156_3029",frmctrlidName:"ContractDate",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.NoOfBilling,json:w.A,SPName:"ConContractRegistry",FieldName:"NoOfBilling",tfLabel:$a("NoOfBilling"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{pt&&cl(1,"","ClearAll"),Ct(!0)},frmctrlid:"fld156_3032",frmctrlidName:"NoOfBilling",fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{pt&&cl(e,t,"NoOfBilling"),dl(t,"NoOfBilling","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ct(!0)},showList:pt,SideEntryView:!1,KeyBack:e=>{},value:Ne.NoOfBilling,loading:Te,clear:e=>{e&&(he({type:"text",name:"NoOfBilling",value:""}),Ct(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.CreatedByDate,"data-testid":Ne.CreatedByDate,disabled:!1,onChange:e=>{dl(e,"CreatedByDate","date")},onErr:e=>{gt(e)},label:$a("CreatedByDate"),frmctrlid:"fld156_3037",frmctrlidName:"CreatedByDate",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.ApprovedDate,"data-testid":Ne.ApprovedDate,disabled:!1,onChange:e=>{dl(e,"ApprovedDate","date")},onErr:e=>{It(e)},label:$a("ApprovedDate"),frmctrlid:"fld156_3038",frmctrlidName:"ApprovedDate",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.DisplayEndDate,"data-testid":Ne.DisplayEndDate,disabled:!1,onChange:e=>{dl(e,"DisplayEndDate","date")},onErr:e=>{Et(e)},label:$a("DisplayEndDate"),frmctrlid:"fld156_3039",frmctrlidName:"DisplayEndDate",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.ConStatus,json:w.A,SPName:"ConContractRegistry",FieldName:"ConStatus",tfLabel:$a("ConStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{ft&&cl(1,"","ClearAll"),vt(!0)},frmctrlid:"fld156_3041",frmctrlidName:"ConStatus",fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{ft&&cl(e,t,"ConStatus"),dl(t,"ConStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||vt(!0)},showList:ft,SideEntryView:!1,KeyBack:e=>{},value:Ne.ConStatus,loading:Te,clear:e=>{e&&(he({type:"text",name:"ConStatus",value:""}),vt(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.EnquiryCode,json:w.A,SPName:"ConContractRegistry",FieldName:"EnquiryCode",tfLabel:$a("EnquiryCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Nt&&cl(1,"","ClearAll"),ht(!0)},frmctrlid:"fld156_3046",frmctrlidName:"EnquiryCode",fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Nt&&cl(e,t,"EnquiryCode"),dl(t,"EnquiryCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ht(!0)},showList:Nt,SideEntryView:!1,KeyBack:e=>{},value:Ne.EnquiryCode,loading:Te,clear:e=>{e&&(he({type:"text",name:"EnquiryCode",value:""}),ht(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.EnquiryDate,"data-testid":Ne.EnquiryDate,disabled:!1,onChange:e=>{dl(e,"EnquiryDate","date")},onErr:e=>{bt(e)},label:$a("EnquiryDate"),frmctrlid:"fld156_3047",frmctrlidName:"EnquiryDate",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.QuotationCode,json:w.A,SPName:"ConContractRegistry",FieldName:"QuotationCode",tfLabel:$a("QuotationCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Pt&&cl(1,"","ClearAll"),Lt(!0)},frmctrlid:"fld156_3048",frmctrlidName:"QuotationCode",fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Pt&&cl(e,t,"QuotationCode"),dl(t,"QuotationCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Lt(!0)},showList:Pt,SideEntryView:!1,KeyBack:e=>{},value:Ne.QuotationCode,loading:Te,clear:e=>{e&&(he({type:"text",name:"QuotationCode",value:""}),Lt(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.QuotationDate,"data-testid":Ne.QuotationDate,disabled:!1,onChange:e=>{dl(e,"QuotationDate","date")},onErr:e=>{wt(e)},label:$a("QuotationDate"),frmctrlid:"fld156_3049",frmctrlidName:"QuotationDate",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.SiteSurveyCode,json:w.A,SPName:"ConContractRegistry",FieldName:"SiteSurveyCode",tfLabel:$a("SiteSurveyCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Bt&&cl(1,"","ClearAll"),Ft(!0)},frmctrlid:"fld156_3050",frmctrlidName:"SiteSurveyCode",fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Bt&&cl(e,t,"SiteSurveyCode"),dl(t,"SiteSurveyCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ft(!0)},showList:Bt,SideEntryView:!1,KeyBack:e=>{},value:Ne.SiteSurveyCode,loading:Te,clear:e=>{e&&(he({type:"text",name:"SiteSurveyCode",value:""}),Ft(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.SiteSurveyDate,"data-testid":Ne.SiteSurveyDate,disabled:!1,onChange:e=>{dl(e,"SiteSurveyDate","date")},onErr:e=>{Mt(e)},label:$a("SiteSurveyDate"),frmctrlid:"fld156_3051",frmctrlidName:"SiteSurveyDate",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.Notify1,json:w.A,SPName:"ConContractRegistry",FieldName:"Notify1",tfLabel:$a("Notify1"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Rt&&cl(1,"","ClearAll"),kt(!0)},frmctrlid:"fld156_3052",frmctrlidName:"Notify1",fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Rt&&cl(e,t,"Notify1"),dl(t,"Notify1","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||kt(!0)},showList:Rt,SideEntryView:!1,KeyBack:e=>{},value:Ne.Notify1,loading:Te,clear:e=>{e&&(he({type:"text",name:"Notify1",value:""}),kt(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.NotifyDate1,"data-testid":Ne.NotifyDate1,disabled:!1,onChange:e=>{dl(e,"NotifyDate1","date")},onErr:e=>{Zt(e)},label:$a("NotifyDate1"),frmctrlid:"fld156_3053",frmctrlidName:"NotifyDate1",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.Notify2,json:w.A,SPName:"ConContractRegistry",FieldName:"Notify2",tfLabel:$a("Notify2"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Gt&&cl(1,"","ClearAll"),qt(!0)},frmctrlid:"fld156_3054",frmctrlidName:"Notify2",fieldorder:"4",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Gt&&cl(e,t,"Notify2"),dl(t,"Notify2","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||qt(!0)},showList:Gt,SideEntryView:!1,KeyBack:e=>{},value:Ne.Notify2,loading:Te,clear:e=>{e&&(he({type:"text",name:"Notify2",value:""}),qt(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.NotifyDate2,"data-testid":Ne.NotifyDate2,disabled:!1,onChange:e=>{dl(e,"NotifyDate2","date")},onErr:e=>{Vt(e)},label:$a("NotifyDate2"),frmctrlid:"fld156_3055",frmctrlidName:"NotifyDate2",fieldorder:"4"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd"},n().createElement(y.Z,{value:Ne.FollowUpDate,"data-testid":Ne.FollowUpDate,disabled:!1,onChange:e=>{dl(e,"FollowUpDate","date")},onErr:e=>{_t(e)},label:$a("FollowUpDate"),frmctrlid:"fld156_3060",frmctrlidName:"FollowUpDate",fieldorder:"1"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsEnableClient,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsEnableClient,onChange:e=>{dl(e.target.checked,"IsEnableClient","boolean")},frmctrlid:"fld156_3061",frmctrlidname:"IsEnableClient",fieldorder:"1",tfLabel:$a("IsEnableClient")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsEnableClient?"#21446F":"#999"}},$a("IsEnableClient"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsExtended,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsExtended,onChange:e=>{dl(e.target.checked,"IsExtended","boolean")},frmctrlid:"fld156_3062",frmctrlidname:"IsExtended",fieldorder:"1",tfLabel:$a("IsExtended")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsExtended?"#21446F":"#999"}},$a("IsExtended"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsPPM,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsPPM,onChange:e=>{dl(e.target.checked,"IsPPM","boolean")},frmctrlid:"fld156_3063",frmctrlidname:"IsPPM",fieldorder:"1",tfLabel:$a("IsPPM")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsPPM?"#21446F":"#999"}},$a("IsPPM"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsBDM,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsBDM,onChange:e=>{dl(e.target.checked,"IsBDM","boolean")},frmctrlid:"fld156_3064",frmctrlidname:"IsBDM",fieldorder:"1",tfLabel:$a("IsBDM")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsBDM?"#21446F":"#999"}},$a("IsBDM"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsDSM,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsDSM,onChange:e=>{dl(e.target.checked,"IsDSM","boolean")},frmctrlid:"fld156_3065",frmctrlidname:"IsDSM",fieldorder:"1",tfLabel:$a("IsDSM")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsDSM?"#21446F":"#999"}},$a("IsDSM"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsIncident,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsIncident,onChange:e=>{dl(e.target.checked,"IsIncident","boolean")},frmctrlid:"fld156_3066",frmctrlidname:"IsIncident",fieldorder:"1",tfLabel:$a("IsIncident")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsIncident?"#21446F":"#999"}},$a("IsIncident"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsCase,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsCase,onChange:e=>{dl(e.target.checked,"IsCase","boolean")},frmctrlid:"fld156_3067",frmctrlidname:"IsCase",fieldorder:"1",tfLabel:$a("IsCase")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsCase?"#21446F":"#999"}},$a("IsCase"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.NoofPrimary,json:w.A,SPName:"ConContractRegistry",FieldName:"NoofPrimary",tfLabel:$a("NoofPrimary"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Qt&&cl(1,"","ClearAll"),Ht(!0)},frmctrlid:"fld156_3068",frmctrlidName:"NoofPrimary",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Qt&&cl(e,t,"NoofPrimary"),dl(t,"NoofPrimary","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ht(!0)},showList:Qt,SideEntryView:!1,KeyBack:e=>{},value:Ne.NoofPrimary,loading:Te,clear:e=>{e&&(he({type:"text",name:"NoofPrimary",value:""}),Ht(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.NoofSecondary,json:w.A,SPName:"ConContractRegistry",FieldName:"NoofSecondary",tfLabel:$a("NoofSecondary"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Ut&&cl(1,"","ClearAll"),jt(!0)},frmctrlid:"fld156_3069",frmctrlidName:"NoofSecondary",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Ut&&cl(e,t,"NoofSecondary"),dl(t,"NoofSecondary","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||jt(!0)},showList:Ut,SideEntryView:!1,KeyBack:e=>{},value:Ne.NoofSecondary,loading:Te,clear:e=>{e&&(he({type:"text",name:"NoofSecondary",value:""}),jt(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.NoofSupervisor,json:w.A,SPName:"ConContractRegistry",FieldName:"NoofSupervisor",tfLabel:$a("NoofSupervisor"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Yt&&cl(1,"","ClearAll"),Wt(!0)},frmctrlid:"fld156_3070",frmctrlidName:"NoofSupervisor",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Yt&&cl(e,t,"NoofSupervisor"),dl(t,"NoofSupervisor","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Wt(!0)},showList:Yt,SideEntryView:!1,KeyBack:e=>{},value:Ne.NoofSupervisor,loading:Te,clear:e=>{e&&(he({type:"text",name:"NoofSupervisor",value:""}),Wt(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.NoofEngineer,json:w.A,SPName:"ConContractRegistry",FieldName:"NoofEngineer",tfLabel:$a("NoofEngineer"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{$t&&cl(1,"","ClearAll"),Jt(!0)},frmctrlid:"fld156_3071",frmctrlidName:"NoofEngineer",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{$t&&cl(e,t,"NoofEngineer"),dl(t,"NoofEngineer","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Jt(!0)},showList:$t,SideEntryView:!1,KeyBack:e=>{},value:Ne.NoofEngineer,loading:Te,clear:e=>{e&&(he({type:"text",name:"NoofEngineer",value:""}),Jt(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.ShiftNoofPrimary,json:w.A,SPName:"ConContractRegistry",FieldName:"ShiftNoofPrimary",tfLabel:$a("ShiftNoofPrimary"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Xt&&cl(1,"","ClearAll"),ea(!0)},frmctrlid:"fld156_3072",frmctrlidName:"ShiftNoofPrimary",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Xt&&cl(e,t,"ShiftNoofPrimary"),dl(t,"ShiftNoofPrimary","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ea(!0)},showList:Xt,SideEntryView:!1,KeyBack:e=>{},value:Ne.ShiftNoofPrimary,loading:Te,clear:e=>{e&&(he({type:"text",name:"ShiftNoofPrimary",value:""}),ea(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.ShiftNoofSecondary,json:w.A,SPName:"ConContractRegistry",FieldName:"ShiftNoofSecondary",tfLabel:$a("ShiftNoofSecondary"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{ta&&cl(1,"","ClearAll"),aa(!0)},frmctrlid:"fld156_3073",frmctrlidName:"ShiftNoofSecondary",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{ta&&cl(e,t,"ShiftNoofSecondary"),dl(t,"ShiftNoofSecondary","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||aa(!0)},showList:ta,SideEntryView:!1,KeyBack:e=>{},value:Ne.ShiftNoofSecondary,loading:Te,clear:e=>{e&&(he({type:"text",name:"ShiftNoofSecondary",value:""}),aa(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsEnableValue,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsEnableValue,onChange:e=>{dl(e.target.checked,"IsEnableValue","boolean")},frmctrlid:"fld156_3076",frmctrlidname:"IsEnableValue",fieldorder:"1",tfLabel:$a("IsEnableValue")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsEnableValue?"#21446F":"#999"}},$a("IsEnableValue"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsRenewal,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsRenewal,onChange:e=>{dl(e.target.checked,"IsRenewal","boolean")},frmctrlid:"fld156_3077",frmctrlidname:"IsRenewal",fieldorder:"1",tfLabel:$a("IsRenewal")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsRenewal?"#21446F":"#999"}},$a("IsRenewal"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsBudgetValByCont,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsBudgetValByCont,onChange:e=>{dl(e.target.checked,"IsBudgetValByCont","boolean")},frmctrlid:"fld156_3078",frmctrlidname:"IsBudgetValByCont",fieldorder:"1",tfLabel:$a("IsBudgetValByCont")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsBudgetValByCont?"#21446F":"#999"}},$a("IsBudgetValByCont"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.TotalContractValue,json:w.A,SPName:"ConContractRegistry",FieldName:"TotalContractValue",tfLabel:$a("TotalContractValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{la&&cl(1,"","ClearAll"),na(!0)},frmctrlid:"fld156_3079",frmctrlidName:"TotalContractValue",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{la&&cl(e,t,"TotalContractValue"),dl(t,"TotalContractValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||na(!0)},showList:la,SideEntryView:!1,KeyBack:e=>{},value:Ne.TotalContractValue,loading:Te,clear:e=>{e&&(he({type:"text",name:"TotalContractValue",value:""}),na(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.ContractLeassValue,json:w.A,SPName:"ConContractRegistry",FieldName:"ContractLeassValue",tfLabel:$a("ContractLeassValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{oa&&cl(1,"","ClearAll"),ra(!0)},frmctrlid:"fld156_3080",frmctrlidName:"ContractLeassValue",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{oa&&cl(e,t,"ContractLeassValue"),dl(t,"ContractLeassValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ra(!0)},showList:oa,SideEntryView:!1,KeyBack:e=>{},value:Ne.ContractLeassValue,loading:Te,clear:e=>{e&&(he({type:"text",name:"ContractLeassValue",value:""}),ra(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(y.Z,{value:Ne.ContractLeassDate,"data-testid":Ne.ContractLeassDate,disabled:!1,onChange:e=>{dl(e,"ContractLeassDate","date")},onErr:e=>{ca(e)},label:$a("ContractLeassDate"),frmctrlid:"fld156_3081",frmctrlidName:"ContractLeassDate",fieldorder:"1"})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.TotalLessContractValue,json:w.A,SPName:"ConContractRegistry",FieldName:"TotalLessContractValue",tfLabel:$a("TotalLessContractValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{da&&cl(1,"","ClearAll"),sa(!0)},frmctrlid:"fld156_3082",frmctrlidName:"TotalLessContractValue",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{da&&cl(e,t,"TotalLessContractValue"),dl(t,"TotalLessContractValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||sa(!0)},showList:da,SideEntryView:!1,KeyBack:e=>{},value:Ne.TotalLessContractValue,loading:Te,clear:e=>{e&&(he({type:"text",name:"TotalLessContractValue",value:""}),sa(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.FieldRadius,json:w.A,SPName:"ConContractRegistry",FieldName:"FieldRadius",tfLabel:$a("FieldRadius"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{ma&&cl(1,"","ClearAll"),ua(!0)},frmctrlid:"fld156_3085",frmctrlidName:"FieldRadius",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{ma&&cl(e,t,"FieldRadius"),dl(t,"FieldRadius","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ua(!0)},showList:ma,SideEntryView:!1,KeyBack:e=>{},value:Ne.FieldRadius,loading:Te,clear:e=>{e&&(he({type:"text",name:"FieldRadius",value:""}),ua(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsRes,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsRes,onChange:e=>{dl(e.target.checked,"IsRes","boolean")},frmctrlid:"fld156_3087",frmctrlidname:"IsRes",fieldorder:"1",tfLabel:$a("IsRes")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsRes?"#21446F":"#999"}},$a("IsRes"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsInclusive,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsInclusive,onChange:e=>{dl(e.target.checked,"IsInclusive","boolean")},frmctrlid:"fld156_3088",frmctrlidname:"IsInclusive",fieldorder:"1",tfLabel:$a("IsInclusive")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsInclusive?"#21446F":"#999"}},$a("IsInclusive"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":Ne.IsConType,labelPlacement:"end",control:n().createElement(F.Z,{checked:"1"==Ne.IsConType,onChange:e=>{dl(e.target.checked,"IsConType","boolean")},frmctrlid:"fld156_3091",frmctrlidname:"IsConType",fieldorder:"1",tfLabel:$a("IsConType")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:Ne.IsConType?"#21446F":"#999"}},$a("IsConType"))}))),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.ConZoomValue,json:w.A,SPName:"ConContractRegistry",FieldName:"ConZoomValue",tfLabel:$a("ConZoomValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{pa&&cl(1,"","ClearAll"),Ca(!0)},frmctrlid:"fld156_3093",frmctrlidName:"ConZoomValue",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{pa&&cl(e,t,"ConZoomValue"),dl(t,"ConZoomValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ca(!0)},showList:pa,SideEntryView:!1,KeyBack:e=>{},value:Ne.ConZoomValue,loading:Te,clear:e=>{e&&(he({type:"text",name:"ConZoomValue",value:""}),Ca(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.StatusKey,json:w.A,SPName:"ConContractRegistry",FieldName:"StatusKey",tfLabel:$a("StatusKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{ya&&cl(1,"","ClearAll"),ga(!0)},frmctrlid:"fld156_3099",frmctrlidName:"StatusKey",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{ya&&cl(e,t,"StatusKey"),dl(t,"StatusKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ga(!0)},showList:ya,SideEntryView:!1,KeyBack:e=>{},value:Ne.StatusKey,loading:Te,clear:e=>{e&&(he({type:"text",name:"StatusKey",value:""}),ga(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.XContractKey,json:w.A,SPName:"ConContractRegistry",FieldName:"XContractKey",tfLabel:$a("XContractKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Da&&cl(1,"","ClearAll"),Ia(!0)},frmctrlid:"fld156_14170",frmctrlidName:"XContractKey",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Da&&cl(e,t,"XContractKey"),dl(t,"XContractKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ia(!0)},showList:Da,SideEntryView:!1,KeyBack:e=>{},value:Ne.XContractKey,loading:Te,clear:e=>{e&&(he({type:"text",name:"XContractKey",value:""}),Ia(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.RenewalConKey,json:w.A,SPName:"ConContractRegistry",FieldName:"RenewalConKey",tfLabel:$a("RenewalConKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Sa&&cl(1,"","ClearAll"),Ea(!0)},frmctrlid:"fld156_14172",frmctrlidName:"RenewalConKey",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Sa&&cl(e,t,"RenewalConKey"),dl(t,"RenewalConKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ea(!0)},showList:Sa,SideEntryView:!1,KeyBack:e=>{},value:Ne.RenewalConKey,loading:Te,clear:e=>{e&&(he({type:"text",name:"RenewalConKey",value:""}),Ea(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.ShiftKey,json:w.A,SPName:"ConContractRegistry",FieldName:"ShiftKey",tfLabel:$a("ShiftKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{fa&&cl(1,"","ClearAll"),va(!0)},frmctrlid:"fld156_14173",frmctrlidName:"ShiftKey",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{fa&&cl(e,t,"ShiftKey"),dl(t,"ShiftKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||va(!0)},showList:fa,SideEntryView:!1,KeyBack:e=>{},value:Ne.ShiftKey,loading:Te,clear:e=>{e&&(he({type:"text",name:"ShiftKey",value:""}),va(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.SalesEmpKey,json:w.A,SPName:"ConContractRegistry",FieldName:"SalesEmpKey",tfLabel:$a("SalesEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Na&&cl(1,"","ClearAll"),ha(!0)},frmctrlid:"fld156_14174",frmctrlidName:"SalesEmpKey",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Na&&cl(e,t,"SalesEmpKey"),dl(t,"SalesEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ha(!0)},showList:Na,SideEntryView:!1,KeyBack:e=>{},value:Ne.SalesEmpKey,loading:Te,clear:e=>{e&&(he({type:"text",name:"SalesEmpKey",value:""}),ha(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.CreatedEmpKey,json:w.A,SPName:"ConContractRegistry",FieldName:"CreatedEmpKey",tfLabel:$a("CreatedEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Ta&&cl(1,"","ClearAll"),ba(!0)},frmctrlid:"fld156_14175",frmctrlidName:"CreatedEmpKey",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Ta&&cl(e,t,"CreatedEmpKey"),dl(t,"CreatedEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ba(!0)},showList:Ta,SideEntryView:!1,KeyBack:e=>{},value:Ne.CreatedEmpKey,loading:Te,clear:e=>{e&&(he({type:"text",name:"CreatedEmpKey",value:""}),ba(!0))}})),n().createElement(C.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(N.Z,{"data-testid":Ne.ApprovedEmpKey,json:w.A,SPName:"ConContractRegistry",FieldName:"ApprovedEmpKey",tfLabel:$a("ApprovedEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ul(t),onClick:()=>{Pa&&cl(1,"","ClearAll"),La(!0)},frmctrlid:"fld156_14176",frmctrlidName:"ApprovedEmpKey",fieldorder:"1",data:Pe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Pe.length>0?Pe[0].TotalCount:0,onChange:(e,t)=>{Pa&&cl(e,t,"ApprovedEmpKey"),dl(t,"ApprovedEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||La(!0)},showList:Pa,SideEntryView:!1,KeyBack:e=>{},value:Ne.ApprovedEmpKey,loading:Te,clear:e=>{e&&(he({type:"text",name:"ApprovedEmpKey",value:""}),La(!0))}})))))),n().createElement("div",{className:"divacc",style:{display:"none"}},n().createElement(r.Z,{expanded:"panelS@number@"==za,onChange:rl("panelS@number@")},n().createElement(c.Z,{className:"accpanel",expandIcon:n().createElement(P.Z,{className:"iconExpand"})},n().createElement("p",{className:"mpadd5 plinkactive"},"Contract Primary Details")),n().createElement(i.Z,null,n().createElement(p.Z,{spacing:12}))))))),n().createElement("div",{id:"ConContractRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractRegistrySideBar").style.width="0",void ce(!1))},"×"),ie&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},de)))))))))))))))))}))},13723:(e,t,a)=>{"use strict";a.d(t,{Z:()=>C,n:()=>p});var l=a(92950),n=a.n(l),o=a(42258),r=a(40900),i=(a(14439),a(27848),a(51673)),c=a(45237),d=a(83032),s=(a(44117),a(44087)),m=a(8712),u=a(88845);function p(e){(0,c.useSelector)((e=>e.form));const[t,a]=(0,l.useState)([]),[s,u]=(0,l.useState)([]),[p,C]=(0,l.useState)(!1),[y,g]=(0,l.useState)([]),[D,I]=(0,l.useState)([]),[S,E]=(0,l.useState)([]),[f,v]=(0,l.useState)([]),[N,h]=(0,l.useState)([]),[T,b]=(0,l.useState)({id:"",type:""}),[P,L]=(0,l.useState)({}),[x,w]=(0,l.useState)(1),{cstate:B,cdispatch:F}=(0,m.ContextApi)(),[A,M]=(0,l.useState)({}),[R,k]=(0,l.useState)(!1),[O,Z]=(0,l.useState)({}),[G,q]=(0,l.useState)({current:1,pageSize:10}),[K,V]=(0,l.useState)(""),[z,_]=(0,l.useState)(""),[Q,H]=(0,l.useState)({type:"ContractIDPK",params:{}});(0,l.useEffect)((()=>{e.onload&&U(A,"ContractIDPK"),C(!1)}),[e.onload]),(0,l.useEffect)((()=>{e.refresh&&U(Q.params,"ContractIDPK")}),[e.refresh]),(0,l.useEffect)((()=>{U(e.json,"ContractIDPK"),L(e.json),document.getElementById("ConContractRegistryGridViewCard").style.width="100%"}),[e.json]);const U=(t,l)=>{let n=r.v.Api+"FP156S5/",o={data:{p1:t&&t.ContractIDPK?t.ContractIDPK:null,p2:t&&t.ContractCode?t.ContractCode:null,p3:t&&t.ContractName?t.ContractName:null,p4:t&&t.ContractDate?t.ContractDate:null,p5:t&&t.ContractDateType?t.ContractDateType:null,p6:t&&t.ContractDateBetween?t.ContractDateBetween:null,p7:t&&t.ContractValue?t.ContractValue:null,p8:t&&t.ExtendedValue?t.ExtendedValue:null,p9:t&&t.NoOfBilling?t.NoOfBilling:null,p10:t&&t.Period?t.Period:null,p11:t&&t.StartDate?t.StartDate:null,p12:t&&t.StartDateType?t.StartDateType:null,p13:t&&t.StartDateBetween?t.StartDateBetween:null,p14:t&&t.EndDate?t.EndDate:null,p15:t&&t.EndDateType?t.EndDateType:null,p16:t&&t.EndDateBetween?t.EndDateBetween:null,p17:t&&t.AnnualReviewDate?t.AnnualReviewDate:null,p18:t&&t.AnnualReviewDateType?t.AnnualReviewDateType:null,p19:t&&t.AnnualReviewDateBetween?t.AnnualReviewDateBetween:null,p20:t&&t.CreatedByDate?t.CreatedByDate:null,p21:t&&t.CreatedByDateType?t.CreatedByDateType:null,p22:t&&t.CreatedByDateBetween?t.CreatedByDateBetween:null,p23:t&&t.ApprovedDate?t.ApprovedDate:null,p24:t&&t.ApprovedDateType?t.ApprovedDateType:null,p25:t&&t.ApprovedDateBetween?t.ApprovedDateBetween:null,p26:t&&t.DisplayEndDate?t.DisplayEndDate:null,p27:t&&t.DisplayEndDateType?t.DisplayEndDateType:null,p28:t&&t.DisplayEndDateBetween?t.DisplayEndDateBetween:null,p29:t&&t.ExtendedDate?t.ExtendedDate:null,p30:t&&t.ExtendedDateType?t.ExtendedDateType:null,p31:t&&t.ExtendedDateBetween?t.ExtendedDateBetween:null,p32:t&&t.ConStatus?t.ConStatus:null,p33:t&&t.Retention?t.Retention:null,p34:t&&t.InvoiceDescription?t.InvoiceDescription:null,p35:t&&t.AcknowledgedBy?t.AcknowledgedBy:null,p36:t&&t.SignedBy?t.SignedBy:null,p37:t&&t.EnquiryCode?t.EnquiryCode:null,p38:t&&t.EnquiryDate?t.EnquiryDate:null,p39:t&&t.EnquiryDateType?t.EnquiryDateType:null,p40:t&&t.EnquiryDateBetween?t.EnquiryDateBetween:null,p41:t&&t.QuotationCode?t.QuotationCode:null,p42:t&&t.QuotationDate?t.QuotationDate:null,p43:t&&t.QuotationDateType?t.QuotationDateType:null,p44:t&&t.QuotationDateBetween?t.QuotationDateBetween:null,p45:t&&t.SiteSurveyCode?t.SiteSurveyCode:null,p46:t&&t.SiteSurveyDate?t.SiteSurveyDate:null,p47:t&&t.SiteSurveyDateType?t.SiteSurveyDateType:null,p48:t&&t.SiteSurveyDateBetween?t.SiteSurveyDateBetween:null,p49:t&&t.Notify1?t.Notify1:null,p50:t&&t.NotifyDate1?t.NotifyDate1:null,p51:t&&t.NotifyDate1Type?t.NotifyDate1Type:null,p52:t&&t.NotifyDate1Between?t.NotifyDate1Between:null,p53:t&&t.Notify2?t.Notify2:null,p54:t&&t.NotifyDate2?t.NotifyDate2:null,p55:t&&t.NotifyDate2Type?t.NotifyDate2Type:null,p56:t&&t.NotifyDate2Between?t.NotifyDate2Between:null,p57:t&&t.NoofInvoice?t.NoofInvoice:null,p58:t&&t.LosedDate?t.LosedDate:null,p59:t&&t.LosedDateType?t.LosedDateType:null,p60:t&&t.LosedDateBetween?t.LosedDateBetween:null,p61:t&&t.LosedComment?t.LosedComment:null,p62:t&&t.FollowUpDate?t.FollowUpDate:null,p63:t&&t.FollowUpDateType?t.FollowUpDateType:null,p64:t&&t.FollowUpDateBetween?t.FollowUpDateBetween:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:t&&t.NoofPrimary?t.NoofPrimary:null,p73:t&&t.NoofSecondary?t.NoofSecondary:null,p74:t&&t.NoofSupervisor?t.NoofSupervisor:null,p75:t&&t.NoofEngineer?t.NoofEngineer:null,p76:t&&t.ShiftNoofPrimary?t.ShiftNoofPrimary:null,p77:t&&t.ShiftNoofSecondary?t.ShiftNoofSecondary:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:t&&t.XContractKey?t.XContractKey:null,p84:t&&t.ParentContractIKeyD?t.ParentContractIKeyD:null,p85:t&&t.RenewalConKey?t.RenewalConKey:null,p86:t&&t.ShiftKey?t.ShiftKey:null,p87:t&&t.SalesEmpKey?t.SalesEmpKey:null,p88:t&&t.CreatedEmpKey?t.CreatedEmpKey:null,p89:t&&t.ApprovedEmpKey?t.ApprovedEmpKey:null,p90:t&&t.TotalContractValue?t.TotalContractValue:null,p91:t&&t.ContractLeassValue?t.ContractLeassValue:null,p92:t&&t.ContractLeassDate?t.ContractLeassDate:null,p93:t&&t.ContractLeassDateType?t.ContractLeassDateType:null,p94:t&&t.ContractLeassDateBetween?t.ContractLeassDateBetween:null,p95:t&&t.TotalLessContractValue?t.TotalLessContractValue:null,p96:t&&t.ConLatitude?t.ConLatitude:null,p97:t&&t.ConLongitude?t.ConLongitude:null,p98:t&&t.FieldRadius?t.FieldRadius:null,p99:t&&t.SACCode?t.SACCode:null,p100:null,p101:null,p102:t&&t.VatAmount?t.VatAmount:null,p103:t&&t.ConValueBeforVat?t.ConValueBeforVat:null,p104:null,p105:null,p106:t&&t.ConZoomValue?t.ConZoomValue:null,p107:t&&t.ConGenerateCode?t.ConGenerateCode:null,p108:t&&t.ConTRNno?t.ConTRNno:null,p109:t&&t.ConEmail?t.ConEmail:null,p110:null,p111:null,p112:t&&t.StatusKey?t.StatusKey:null,p113:null,p114:t&&t.ContractGroupID?t.ContractGroupID:null,p115:t&&t.TaxID?t.TaxID:null,p116:t&&t.CustomerID?t.CustomerID:null,p117:t&&t.ContractTypeID?t.ContractTypeID:null,p118:t&&t.ContractCategID?t.ContractCategID:null,p119:t&&t.OrganisationID?t.OrganisationID:null,p120:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p121:e.Dialogview?"1":null,p122:null,p123:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p124:t&&t.CreatedTtm?t.CreatedTtm:null,p125:t&&t.CreatedTtmType?t.CreatedTtmType:null,p126:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p127:null,p128:t&&t.ContractGroupCode?t.ContractGroupCode:null,p129:t&&t.ContractGroupName?t.ContractGroupName:null,p130:t&&t.TaxCode?t.TaxCode:null,p131:t&&t.TaxName?t.TaxName:null,p132:t&&t.TaxValue?t.TaxValue:null,p133:t&&t.EmployeeID?t.EmployeeID:null,p134:t&&t.EmployeeCode?t.EmployeeCode:null,p135:t&&t.FirstName?t.FirstName:null,p136:t&&t.EmpContactNo1?t.EmpContactNo1:null,p137:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p138:t&&t.CityID?t.CityID:null,p139:t&&t.CityCode?t.CityCode:null,p140:t&&t.CityName?t.CityName:null,p141:t&&t.RegionID?t.RegionID:null,p142:t&&t.RegionCode?t.RegionCode:null,p143:t&&t.RegionName?t.RegionName:null,p144:t&&t.CountryID?t.CountryID:null,p145:t&&t.CountryCode?t.CountryCode:null,p146:t&&t.CountryName?t.CountryName:null,p147:t&&t.CustGroupID?t.CustGroupID:null,p148:t&&t.CustGroupCode?t.CustGroupCode:null,p149:t&&t.CustGroupName?t.CustGroupName:null,p150:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p151:t&&t.ClasificationCode?t.ClasificationCode:null,p152:t&&t.ClasificationName?t.ClasificationName:null,p153:t&&t.CustomerCode?t.CustomerCode:null,p154:t&&t.CustomerName?t.CustomerName:null,p155:t&&t.ComplaintHeaderID?t.ComplaintHeaderID:null,p156:t&&t.ComplaintHeaderCode?t.ComplaintHeaderCode:null,p157:t&&t.ComplaintHeaderName?t.ComplaintHeaderName:null,p158:t&&t.ContractTypCode?t.ContractTypCode:null,p159:t&&t.ContractTypeName?t.ContractTypeName:null,p160:t&&t.ContractCategCode?t.ContractCategCode:null,p161:t&&t.ContractCategName?t.ContractCategName:null,p162:t&&t.OrganisationCode?t.OrganisationCode:null,p163:t&&t.OrganisationName?t.OrganisationName:null,p164:t&&t.PaymentTermsTypeID?t.PaymentTermsTypeID:null,p165:t&&t.PaymentTermsTypeCode?t.PaymentTermsTypeCode:null,p166:t&&t.PaymentTermsTypeName?t.PaymentTermsTypeName:null,p167:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p168:1,p169:10,p170:l,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};(0,i.Z)(n,o,B.token[0]).then((e=>{if(e.Output.data){let t=e.Output.data;"ContractIDPK"==l?(a(t),C(!1)):(u(t),C(!0))}}))};return n().createElement("div",{id:"ConContractRegistryGridViewCard"},n().createElement("div",{className:"GridViewChildCard"},n().createElement(d.Z,{name:K.DisplayName,count:K.Total,id:"ConContractRegistryPopUpTableSchema",showSearch:e.showSearch,type:"Schema",chipdata:s,showview:R,viewcomponent:R&&n().createElement(ViewComponent,{ExpandDetailValue:!0,l4viewonly:R,data:O,editopen:function(e){Z(e),document.getElementById("ConContractRegistryPopUpTableSchema").style.width="0",document.getElementById("ConContractRegistryPopUpTableSchema").style.padding="0",document.getElementById("ConContractRegistry-ThemeSlide1").style.width="3.3%",document.getElementById("ConContractRegistry-ThemeSlide1").style.background="none",document.getElementById("ConContractRegistry-Floatcnt").style.width="0",document.getElementById("ConContractRegistry-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}}),tablecomponent:n().createElement(o.Z,{dynamic:!0,name:CardName,tableData:s,TableVisibleItem:[],TableBodyItem:[]}),data:t,sendparams:M,getChildData:(e,t)=>{U(P,e,G),setCardName(t.Name)},float:!0})))}const C=(0,l.forwardRef)(((e,t)=>{(0,c.useSelector)((e=>e.form));const[a,o]=(0,l.useState)([]),[d,p]=(0,l.useState)([]),[C,y]=(0,l.useState)(!1),[g,D]=(0,l.useState)([]),[I,S]=(0,l.useState)([]),[E,f]=(0,l.useState)([]),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)([]),[b,P]=(0,l.useState)({id:"",type:""}),[L,x]=(0,l.useState)({}),[w,B]=(0,l.useState)(1),{cstate:F,cdispatch:A}=(0,m.ContextApi)(),[M,R]=(0,l.useState)({}),k=(0,l.useRef)(null),[O,Z]=(0,l.useState)(!1),[G,q]=(0,l.useState)({}),[K,V]=(0,l.useState)({type:"ContractIDPK",params:{}}),[z,_]=(0,l.useState)({current:1,pageSize:10}),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)("viewonly"),[Y,W]=(0,l.useState)("");function $(e){q(e),document.getElementById("ConContractRegistryPopUpTableScreen").style.width="0",document.getElementById("ConContractRegistryPopUpTableScreen").style.padding="0",document.getElementById("ConContractRegistry-ThemeSlide1").style.width="3.3%",document.getElementById("ConContractRegistry-ThemeSlide1").style.background="none",document.getElementById("ConContractRegistry-Floatcnt").style.width="0",document.getElementById("ConContractRegistry-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}(0,l.useEffect)((()=>{e.onload&&J(K.params,"ContractIDPK"),y(!1)}),[e.onload]),(0,l.useEffect)((()=>{e.refresh&&J(K.params,"ContractIDPK")}),[]),(0,l.useEffect)((()=>{x(e.json),document.getElementById("ConContractRegistryGridViewCard")&&(document.getElementById("ConContractRegistryGridViewCard").style.width="100%")}),[e.json]),(0,l.useImperativeHandle)(t,(()=>({countRefresh:()=>{J(K.params,"ContractIDPK")}})));const J=(t,a,l)=>{l&&H(l),e.loading(!0),p([]);let n=r.v.Api+"FP156S11/",c={data:{p1:t&&t.ContractIDPK?t.ContractIDPK:null,p2:t&&t.ContractCode?t.ContractCode:null,p3:t&&t.ContractName?t.ContractName:null,p4:t&&t.ContractDate?t.ContractDate:null,p5:t&&t.ContractDateType?t.ContractDateType:null,p6:t&&t.ContractDateBetween?t.ContractDateBetween:null,p7:t&&t.ContractValue?t.ContractValue:null,p8:t&&t.ExtendedValue?t.ExtendedValue:null,p9:t&&t.NoOfBilling?t.NoOfBilling:null,p10:t&&t.Period?t.Period:null,p11:t&&t.StartDate?t.StartDate:null,p12:t&&t.StartDateType?t.StartDateType:null,p13:t&&t.StartDateBetween?t.StartDateBetween:null,p14:t&&t.EndDate?t.EndDate:null,p15:t&&t.EndDateType?t.EndDateType:null,p16:t&&t.EndDateBetween?t.EndDateBetween:null,p17:t&&t.AnnualReviewDate?t.AnnualReviewDate:null,p18:t&&t.AnnualReviewDateType?t.AnnualReviewDateType:null,p19:t&&t.AnnualReviewDateBetween?t.AnnualReviewDateBetween:null,p20:t&&t.CreatedByDate?t.CreatedByDate:null,p21:t&&t.CreatedByDateType?t.CreatedByDateType:null,p22:t&&t.CreatedByDateBetween?t.CreatedByDateBetween:null,p23:t&&t.ApprovedDate?t.ApprovedDate:null,p24:t&&t.ApprovedDateType?t.ApprovedDateType:null,p25:t&&t.ApprovedDateBetween?t.ApprovedDateBetween:null,p26:t&&t.DisplayEndDate?t.DisplayEndDate:null,p27:t&&t.DisplayEndDateType?t.DisplayEndDateType:null,p28:t&&t.DisplayEndDateBetween?t.DisplayEndDateBetween:null,p29:t&&t.ExtendedDate?t.ExtendedDate:null,p30:t&&t.ExtendedDateType?t.ExtendedDateType:null,p31:t&&t.ExtendedDateBetween?t.ExtendedDateBetween:null,p32:t&&t.ConStatus?t.ConStatus:null,p33:t&&t.Retention?t.Retention:null,p34:t&&t.InvoiceDescription?t.InvoiceDescription:null,p35:t&&t.AcknowledgedBy?t.AcknowledgedBy:null,p36:t&&t.SignedBy?t.SignedBy:null,p37:t&&t.EnquiryCode?t.EnquiryCode:null,p38:t&&t.EnquiryDate?t.EnquiryDate:null,p39:t&&t.EnquiryDateType?t.EnquiryDateType:null,p40:t&&t.EnquiryDateBetween?t.EnquiryDateBetween:null,p41:t&&t.QuotationCode?t.QuotationCode:null,p42:t&&t.QuotationDate?t.QuotationDate:null,p43:t&&t.QuotationDateType?t.QuotationDateType:null,p44:t&&t.QuotationDateBetween?t.QuotationDateBetween:null,p45:t&&t.SiteSurveyCode?t.SiteSurveyCode:null,p46:t&&t.SiteSurveyDate?t.SiteSurveyDate:null,p47:t&&t.SiteSurveyDateType?t.SiteSurveyDateType:null,p48:t&&t.SiteSurveyDateBetween?t.SiteSurveyDateBetween:null,p49:t&&t.Notify1?t.Notify1:null,p50:t&&t.NotifyDate1?t.NotifyDate1:null,p51:t&&t.NotifyDate1Type?t.NotifyDate1Type:null,p52:t&&t.NotifyDate1Between?t.NotifyDate1Between:null,p53:t&&t.Notify2?t.Notify2:null,p54:t&&t.NotifyDate2?t.NotifyDate2:null,p55:t&&t.NotifyDate2Type?t.NotifyDate2Type:null,p56:t&&t.NotifyDate2Between?t.NotifyDate2Between:null,p57:t&&t.NoofInvoice?t.NoofInvoice:null,p58:t&&t.LosedDate?t.LosedDate:null,p59:t&&t.LosedDateType?t.LosedDateType:null,p60:t&&t.LosedDateBetween?t.LosedDateBetween:null,p61:t&&t.LosedComment?t.LosedComment:null,p62:t&&t.FollowUpDate?t.FollowUpDate:null,p63:t&&t.FollowUpDateType?t.FollowUpDateType:null,p64:t&&t.FollowUpDateBetween?t.FollowUpDateBetween:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:t&&t.NoofPrimary?t.NoofPrimary:null,p73:t&&t.NoofSecondary?t.NoofSecondary:null,p74:t&&t.NoofSupervisor?t.NoofSupervisor:null,p75:t&&t.NoofEngineer?t.NoofEngineer:null,p76:t&&t.ShiftNoofPrimary?t.ShiftNoofPrimary:null,p77:t&&t.ShiftNoofSecondary?t.ShiftNoofSecondary:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:t&&t.XContractKey?t.XContractKey:null,p84:t&&t.ParentContractIKeyD?t.ParentContractIKeyD:null,p85:t&&t.RenewalConKey?t.RenewalConKey:null,p86:t&&t.ShiftKey?t.ShiftKey:null,p87:t&&t.SalesEmpKey?t.SalesEmpKey:null,p88:t&&t.CreatedEmpKey?t.CreatedEmpKey:null,p89:t&&t.ApprovedEmpKey?t.ApprovedEmpKey:null,p90:t&&t.TotalContractValue?t.TotalContractValue:null,p91:t&&t.ContractLeassValue?t.ContractLeassValue:null,p92:t&&t.ContractLeassDate?t.ContractLeassDate:null,p93:t&&t.ContractLeassDateType?t.ContractLeassDateType:null,p94:t&&t.ContractLeassDateBetween?t.ContractLeassDateBetween:null,p95:t&&t.TotalLessContractValue?t.TotalLessContractValue:null,p96:t&&t.ConLatitude?t.ConLatitude:null,p97:t&&t.ConLongitude?t.ConLongitude:null,p98:t&&t.FieldRadius?t.FieldRadius:null,p99:t&&t.SACCode?t.SACCode:null,p100:null,p101:null,p102:t&&t.VatAmount?t.VatAmount:null,p103:t&&t.ConValueBeforVat?t.ConValueBeforVat:null,p104:null,p105:null,p106:t&&t.ConZoomValue?t.ConZoomValue:null,p107:t&&t.ConGenerateCode?t.ConGenerateCode:null,p108:t&&t.ConTRNno?t.ConTRNno:null,p109:t&&t.ConEmail?t.ConEmail:null,p110:null,p111:null,p112:t&&t.StatusKey?t.StatusKey:null,p113:null,p114:t&&t.ContractGroupID?t.ContractGroupID:null,p115:t&&t.TaxID?t.TaxID:null,p116:t&&t.CustomerID?t.CustomerID:null,p117:t&&t.ContractTypeID?t.ContractTypeID:null,p118:t&&t.ContractCategID?t.ContractCategID:null,p119:t&&t.OrganisationID?t.OrganisationID:null,p120:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p121:e.Dialogview?"1":null,p122:null,p123:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p124:t&&t.CreatedTtm?t.CreatedTtm:null,p125:t&&t.CreatedTtmType?t.CreatedTtmType:null,p126:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p127:null,p128:t&&t.ContractGroupCode?t.ContractGroupCode:null,p129:t&&t.ContractGroupName?t.ContractGroupName:null,p130:t&&t.TaxCode?t.TaxCode:null,p131:t&&t.TaxName?t.TaxName:null,p132:t&&t.TaxValue?t.TaxValue:null,p133:t&&t.EmployeeID?t.EmployeeID:null,p134:t&&t.EmployeeCode?t.EmployeeCode:null,p135:t&&t.FirstName?t.FirstName:null,p136:t&&t.EmpContactNo1?t.EmpContactNo1:null,p137:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p138:t&&t.CityID?t.CityID:null,p139:t&&t.CityCode?t.CityCode:null,p140:t&&t.CityName?t.CityName:null,p141:t&&t.RegionID?t.RegionID:null,p142:t&&t.RegionCode?t.RegionCode:null,p143:t&&t.RegionName?t.RegionName:null,p144:t&&t.CountryID?t.CountryID:null,p145:t&&t.CountryCode?t.CountryCode:null,p146:t&&t.CountryName?t.CountryName:null,p147:t&&t.CustGroupID?t.CustGroupID:null,p148:t&&t.CustGroupCode?t.CustGroupCode:null,p149:t&&t.CustGroupName?t.CustGroupName:null,p150:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p151:t&&t.ClasificationCode?t.ClasificationCode:null,p152:t&&t.ClasificationName?t.ClasificationName:null,p153:t&&t.CustomerCode?t.CustomerCode:null,p154:t&&t.CustomerName?t.CustomerName:null,p155:t&&t.ComplaintHeaderID?t.ComplaintHeaderID:null,p156:t&&t.ComplaintHeaderCode?t.ComplaintHeaderCode:null,p157:t&&t.ComplaintHeaderName?t.ComplaintHeaderName:null,p158:t&&t.ContractTypCode?t.ContractTypCode:null,p159:t&&t.ContractTypeName?t.ContractTypeName:null,p160:t&&t.ContractCategCode?t.ContractCategCode:null,p161:t&&t.ContractCategName?t.ContractCategName:null,p162:t&&t.OrganisationCode?t.OrganisationCode:null,p163:t&&t.OrganisationName?t.OrganisationName:null,p164:t&&t.PaymentTermsTypeID?t.PaymentTermsTypeID:null,p165:t&&t.PaymentTermsTypeCode?t.PaymentTermsTypeCode:null,p166:t&&t.PaymentTermsTypeName?t.PaymentTermsTypeName:null,p167:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p168:1,p169:100,p170:a,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};(0,i.Z)(n,c,F.token[0]).then((t=>{if(t.Output.data){let l=t.Output.data;"ContractIDPK"==a?(o(l),y(!1),e.maindata(l)):(p(l),y(!0)),V({type:a,params:c.data}),e.loading(!1)}}))};return n().createElement("div",{id:"ConContractRegistryGridViewCard"},n().createElement("div",{className:"GridViewChildCard"},n().createElement(u.Z,{name:Q.DisplayName,count:Q.Total,xs:e.xs,id:"ConContractRegistryPopUpTableScreen",showSearch:e.showSearch,type:"Screen",chipdata:d,hideTitle:!0,showview:O,viewcomponent:O&&n().createElement(ViewComponent,{ExpandDetailValue:!0,l4viewonly:O,data:G,editopen:$}),tablecomponent:n().createElement(s.ConContractRegistryPopUpTable,{ref:k,CardName:Q.DisplayName,tableID:Q.TableID,GridView:Y,ApiType:"FP156S11",ApiParamType:K,pagination:e=>{_(e)},IsSub:!1,viewtype:U,type:"screen",data:d,searchParams:{},editdata:(e,t)=>{$(e)}}),data:a,sendparams:R,getChildData:(e,t,a)=>{H({DisplayName:e.DisplayName,Total:e.Total,TableID:e.TableID}),W(a),y(!0),setTimeout((()=>{k.current.searchData(L,e,t)}),500)}})))}))},8712:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConContractRegistryContext:()=>E,ContextApi:()=>f,default:()=>v});var l=a(92950),n=a.n(l),o=a(25926),r=a(45965),i=a(44087),c=a(45237),d=a(26537),s=a(30037),m=a(67698),u=a(55995),p=a(37274),C=a(9175),y=a.n(C),g=a(91113),D=a.n(g),I=a(13723),S=a(25108);const E=(0,l.createContext)();function f(){const e=n().useContext(E);if(void 0===e)throw new Error("ContextApi must be used within a ConContractRegistryContext.Provider");return e}const v=(0,l.forwardRef)(((e,t)=>{(0,c.useSelector)((e=>e.form));const a=(0,l.useRef)(),C=(0,c.useDispatch)(),[g,f]=(0,l.useState)(0),[v,N]=n().useReducer(s.d,s.E),h=(0,l.useRef)(),T=(0,l.useRef)(),b=(0,l.useRef)(),[P,L]=(0,l.useState)(),[x,w]=(0,l.useState)(null),[B,F]=(0,l.useState)(""),A=(0,l.useRef)(),[M,R]=(0,l.useState)([]),[k,O]=(0,l.useState)(!1),{data:Z,isLoading:G,error:q,isParams:K,setIsFetching:V,setParams:z}=D()(null);(0,l.useEffect)((()=>{C((e=>{(0,d.Z)(1).then((e=>{var t=new Array;t.push(e),N({type:"token",payload:t}),f(t.length),_(e)}))})),e.loading(!0)}),[]),(0,l.useEffect)((()=>{Z&&Z.map((e=>{if(200==e.Output.status.code&&e.Output.data.length>0){let t=Object.keys(e.Output.data[0])[0];localStorage.setItem(t,e.Output.data[0][t])}}))}),[Z]),(0,l.useEffect)((()=>{e.editData&&(N({type:"ShowView",payload:!0}),N({type:"PrimaryData",payload:e.editData}),a.current.editRecord(e.editData,!1,!0),N({type:"IsDraft",payload:!1}),Q(!0))}),[e.editData]);const _=e=>{(0,r.Z)(e,156).then((e=>N({type:"AccessRights",payload:e})))};function Q(e){N({type:"expandDetail",payload:"mainpanel"}),e?(document.getElementById("ConContractRegistry-MainTable").style.width="0%",document.getElementById("ConContractRegistry-MainEntry").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.display="flex",document.getElementById("ConContractRegistry-MainTable").style.display="none",N({type:"Showtable",payload:!1})):(document.getElementById("ConContractRegistry-MainTable").style.width="100%",document.getElementById("ConContractRegistry-MainTable").style.display="block",document.getElementById("ConContractRegistry-MainEntry").style.width="0%",document.getElementById("ConContractRegistry-MainEntry").style.display="none",N({type:"Showtable",payload:!0}),h.current.tableRefresh())}return n().createElement("div",null,n().createElement(E.Provider,{value:{cstate:v,cdispatch:N,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),edit:(e,t,l)=>{return o=t,r=l,void((n=e)?(N({type:"ShowView",payload:!0}),N({type:"PrimaryData",payload:n}),o?a.current.editRecord(n,o,!1):a.current.editRecord(n,o,r),N({type:"IsDraft",payload:o}),Q(!0)):(a.current.formlink(0),N({type:"ShowView",payload:!1}),Q(!0),a.current.clear()));var n,o,r},add:()=>a.current.Add(),editview:e=>{a.current.Editview(e),N({type:"expandDetail",payload:"mainpanel"})},ShowTableDiv:e=>Q(e),AttachExpand:e=>(T.current.AttachmentData(v.PrimaryId),void(v.ExpandTableValue?(document.getElementById("overlayimgAttConContractRegistry").style.width="30%",document.getElementById("divConContractRegistry-Entry").style.width="100%",document.getElementById("ConContractRegistry-MainTable").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.width="100%",document.getElementById("ConContractRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractRegistry").style.display="block",document.getElementById("ConContractRegistryTbsearch").style.display="none"):(document.getElementById("ConContractRegistry-MainTable").style.width="40%",document.getElementById("divConContractRegistry-Entry").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.display="block",document.getElementById("ConContractRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractRegistry").style.width="30%",document.getElementById("overlayimgAttConContractRegistry").style.display="block",document.getElementById("ConContractRegistryTbsearch").style.display="none"))),openDialog:t=>e.openDialog(t),Approval:e=>O(e),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{b.current.tempsave(e,M),R([])},floatRefresh:()=>A.current.countRefresh()}},n().createElement("div",{className:"MainDivStyles displayGrid",style:{width:"100%"}},n().createElement("div",{id:"ConContractRegistry-MainDiv",className:"Maincontent",style:{paddingTop:"8px",minHeight:"100vh"}},n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{className:"width100"},n().createElement("div",{id:"ConContractRegistry-MainTable",className:"commonSlide",style:{width:"100%",display:"block"}},0!==g&&n().createElement(i.default,{ref:h})),n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"width100"},n().createElement(o.default,{ref:a,clrImgstate:e=>T.current.clrImgstate(e)}),n().createElement(u.Z,{ref:b,menurefID:156,fileId:"LogoImgConContractRegistry",imgloading:e=>L(e),valueIDPK:v.PrimaryId,AttachmentVal:e=>T.current.AttachmentData(e),previd:"overlayPreviewConContractRegistry",AccessRights:v.AccessRights,frmctrlid:"PvwIm_156_L4_",tempImg:e=>{v.PrimaryId?T.current.AttachmentData(v.PrimaryId):T.current.tempImg(e),R(e)},clearTempData:v.Add})),n().createElement(m.Z,{ImgAttachment:e=>{v.IsCollapse?(document.getElementById("ConContractRegistry-MainTable").style.width="50%",document.getElementById("divConContractRegistry-Entry").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.display="block",document.getElementById("ConContractRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractRegistry").style.width="0%",document.getElementById("overlayimgAttConContractRegistry").style.display="none",document.getElementById("ConContractRegistryTbsearch").style.display="block"):(document.getElementById("overlayimgAttConContractRegistry").style.width="0%",document.getElementById("overlayimgAttConContractRegistry").style.display="none",document.getElementById("divConContractRegistry-Entry").style.width="100%",document.getElementById("ConContractRegistry-MainTable").style.width="100%",document.getElementById("ConContractRegistry-MainEntry").style.width="100%",document.getElementById("ConContractRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("ConContractRegistryTbsearch").style.display="block")},menurefID:156,fileId:"AttImgConContractRegistry",imgid:"overlayimgAttConContractRegistry",valueIDPK:v.PrimaryId,PriviewData:(e,t,a,l)=>{b.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractRegistry",ref:T,imgloading:P,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_156_L4_",timglist:e=>b.current.timglist(e),clearTempData:v.Add})))))),n().createElement("div",{style:{width:"6%",display:"none"}},n().createElement(p.Z,{refresh:()=>A.current.countRefresh(),ScreenClose:()=>h.current.gridViewRefresh(),id:"ConContractRegistry-ThemeSlide1",reload:e=>{A.current.countRefresh()},idcnt:"ConContractRegistry-Floatcnt",idbtn:"ConContractRegistry-Floatbtn",maindata:B,openfloat:()=>setonload(!0),formid:"156_",sendFilterValue:e=>{S.log(e,"e"),w(e.SearchParams)},TableComp:e=>n().createElement(i.ConContractRegistryPopUpTable,{IsSub:!1,viewtype:"editonly",ref:h,searchParams:{}}),TreeComp:t=>n().createElement(I.Z,{onload:!0,ref:A,maindata:e=>{F(e?e.Main:[])},json:{},xs:3,loading:t=>e.loading(t)})})),k&&n().createElement(y(),{openDialog:k,closeDialog:e=>O(e),formID:156,PrimID:v.PrimaryId,alert:(e,t,l)=>{"Approval Sent Succesfully"==e.message&&a.current.cardRefresh()},loading:t=>{e.loading(t)}})))}))},44087:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ConContractRegistryPopUpTable:()=>Q,default:()=>_}),a(95866);var l=a(92950),n=a.n(l),o=a(45237),r=a(36939),i=a(61201),c=a(50743),d=a(59009),s=a(80366),m=a(51673),u=a(13291),p=a(35025),C=a(64566),y=a(54180),g=a(47516),D=(a(14439),a(27848),a(13723)),I=a(43031),S=a(110),E=a(88995),f=a(5109),v=a(868),N=a(39327),h=a(40900),T=a(3212),b=a(24038),P=a(79352),L=a(51209),x=a(8981),w=a(86893),B=a(53854),F=a(37106),A=a(5434),M=a(93521),R=(a(79117),a(26537),a(61956),a(35131),a(45441)),k=a(71168),O=a.n(k),Z=a(65107),G=a(8712),q=a(94986),K=a(15999),V=a(11557),z=a(25108);window.clickFilter="";const _=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),k=(0,l.useRef)(null),_=(0,l.useRef)(null),Q=(0,l.useRef)(null),H=(0,l.useRef)(null),[U]=((0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[j]=(0,l.useState)("156"),[Y,W]=(0,l.useState)(!0),[$,J]=(0,l.useState)(!1),[X,ee]=(0,l.useState)(0),[te,ae]=(0,l.useState)(0),[le,ne]=(0,l.useState)(0),[oe,re]=(0,l.useState)({current:1,pageSize:100}),[ie,ce]=(0,l.useState)(""),[de,se]=(0,l.useState)([]),[me,ue]=(0,l.useState)({val:"",column:""}),[pe,Ce]=(0,l.useState)([]),[ye,ge]=(0,l.useState)(!1),[De,Ie]=(0,l.useState)(""),[Se,Ee]=(0,l.useState)(""),[fe,ve]=(0,l.useState)(!1),[Ne,he]=(0,l.useState)(!1),[Te,be]=(0,l.useState)([]),[Pe,Le]=(0,l.useState)([]),[xe,we]=(0,l.useState)([]),[Be,Fe]=(0,l.useState)(!1),[Ae,Me]=(0,l.useState)({children:[{name:"ConContractRegistry",children:[]}]}),[Re,ke]=(0,l.useState)(!1);let Oe={ContractIDPK:"",ContractCode:"",ContractName:"",ContractDate:"",ContractDateType:"",ContractDateBetween:"",ContractValue:"",ExtendedValue:"",NoOfBilling:"",Period:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",AnnualReviewDate:"",AnnualReviewDateType:"",AnnualReviewDateBetween:"",CreatedByDate:"",CreatedByDateType:"",CreatedByDateBetween:"",ApprovedDate:"",ApprovedDateType:"",ApprovedDateBetween:"",DisplayEndDate:"",DisplayEndDateType:"",DisplayEndDateBetween:"",ExtendedDate:"",ExtendedDateType:"",ExtendedDateBetween:"",ConStatus:"",Retention:"",InvoiceDescription:"",AcknowledgedBy:"",SignedBy:"",EnquiryCode:"",EnquiryDate:"",EnquiryDateType:"",EnquiryDateBetween:"",QuotationCode:"",QuotationDate:"",QuotationDateType:"",QuotationDateBetween:"",SiteSurveyCode:"",SiteSurveyDate:"",SiteSurveyDateType:"",SiteSurveyDateBetween:"",Notify1:"",NotifyDate1:"",NotifyDate1Type:"",NotifyDate1Between:"",Notify2:"",NotifyDate2:"",NotifyDate2Type:"",NotifyDate2Between:"",NoofInvoice:"",LosedDate:"",LosedDateType:"",LosedDateBetween:"",LosedComment:"",FollowUpDate:"",FollowUpDateType:"",FollowUpDateBetween:"",IsEnableClient:"",IsExtended:"",IsPPM:"",IsBDM:"",IsDSM:"",IsIncident:"",IsCase:"",NoofPrimary:"",NoofSecondary:"",NoofSupervisor:"",NoofEngineer:"",ShiftNoofPrimary:"",ShiftNoofSecondary:"",IsNonContract:"",IsEnableBudget:"",IsEnableValue:"",IsRenewal:"",IsBudgetValByCont:"",XContractKey:"",ParentContractIKeyD:"",RenewalConKey:"",ShiftKey:"",SalesEmpKey:"",CreatedEmpKey:"",ApprovedEmpKey:"",TotalContractValue:"",ContractLeassValue:"",ContractLeassDate:"",ContractLeassDateType:"",ContractLeassDateBetween:"",TotalLessContractValue:"",ConLatitude:"",ConLongitude:"",FieldRadius:"",SACCode:"",IsRes:"",IsInclusive:"",VatAmount:"",ConValueBeforVat:"",IsConType:"",IsConLost:"",ConZoomValue:"",ConGenerateCode:"",ConTRNno:"",ConEmail:"",IsDefault:"",IsDraft:"",StatusKey:"",Remarks:"",ContractGroupID:"",TaxID:"",CustomerID:"",ContractTypeID:"",ContractCategID:"",OrganisationID:"",ConPaymentTermsID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupCode:"",ContractGroupName:"",TaxCode:"",TaxName:"",TaxValue:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CustGroupID:"",CustGroupCode:"",CustGroupName:"",BusinessClasificationID:"",ClasificationCode:"",ClasificationName:"",CustomerCode:"",CustomerName:"",ComplaintHeaderID:"",ComplaintHeaderCode:"",ComplaintHeaderName:"",ContractTypCode:"",ContractTypeName:"",ContractCategCode:"",ContractCategName:"",OrganisationCode:"",OrganisationName:"",PaymentTermsTypeID:"",PaymentTermsTypeCode:"",PaymentTermsTypeName:"",ConPaymentTermsName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ze,Ge]=(0,l.useState)(Oe),[qe,Ke]=(0,l.useState)(Oe),[Ve,ze]=(0,l.useState)(Oe),[_e,Qe]=(0,l.useState)(Oe),[He,Ue]=(0,l.useState)("asc"),[je,Ye]=(0,l.useState)(""),[We,$e]=(0,l.useState)(!1),[Je,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[nt,ot]=(0,l.useState)({ContractCode:"",ContractName:"",ContractTypeName:"",ContractCategName:"",AcknowledgedBy:"",SignedBy:"",StartDate:"",EndDate:"",ConValueBeforVat:"",TaxName:"",VatAmount:"",ContractValue:"",ContractGroupName:"",ParentContractIKeyD:"",IsNonContract:"",ConGenerateCode:"",OrganisationName:"",CustomerName:"",ConLatitude:"",ConLongitude:"",ConTRNno:"",IsEnableBudget:"",AnnualReviewDate:"",ExtendedDate:"",ExtendedValue:"",Retention:"",ConEmail:"",IsConLost:"",LosedDate:"",LosedComment:"",SACCode:"",InvoiceDescription:"",Period:"",NoofInvoice:"",ConPaymentTermsName:"",ContractDate:"",NoOfBilling:"",CreatedByDate:"",ApprovedDate:"",DisplayEndDate:"",ConStatus:"",EnquiryCode:"",EnquiryDate:"",QuotationCode:"",QuotationDate:"",SiteSurveyCode:"",SiteSurveyDate:"",Notify1:"",NotifyDate1:"",Notify2:"",NotifyDate2:"",FollowUpDate:"",IsEnableClient:"",IsExtended:"",IsPPM:"",IsBDM:"",IsDSM:"",IsIncident:"",IsCase:"",NoofPrimary:"",NoofSecondary:"",NoofSupervisor:"",NoofEngineer:"",ShiftNoofPrimary:"",ShiftNoofSecondary:"",IsEnableValue:"",IsRenewal:"",IsBudgetValByCont:"",TotalContractValue:"",ContractLeassValue:"",ContractLeassDate:"",TotalLessContractValue:"",FieldRadius:"",IsRes:"",IsInclusive:"",IsConType:"",ConZoomValue:"",StatusKey:"",XContractKey:"",RenewalConKey:"",ShiftKey:"",SalesEmpKey:"",CreatedEmpKey:"",ApprovedEmpKey:"",ParentContractName:""}),rt=(0,l.useContext)(e.context?e.context:G.ConContractRegistryContext),{cstate:it,cdispatch:ct}=e.ContextApi?e.ContextApi:(0,G.ContextApi)(),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)([]),[pt,Ct]=(0,l.useState)(0),[yt,gt]=(0,l.useState)(0),[Dt,It]=(0,l.useState)({current:1,pageSize:10}),[St,Et]=(0,l.useState)([]),[ft,vt]=(0,l.useState)([]),[Nt,ht]=(0,l.useState)(!1),[Tt]=(0,l.useState)(localStorage.getItem("Language")),[bt]=(0,l.useState)(localStorage.getItem("Language")),[Pt,Lt]=(0,l.useState)(!1),[xt,wt]=O()("156"),[Bt,Ft]=(0,l.useState)(0),[At]=(0,l.useState)("655"),[Mt,Rt]=(0,l.useState)([]),[kt,Ot]=(0,l.useState)([]);let Zt={ContractCode:"",ContractName:"",ContractTypeName:"",ContractCategName:"",AcknowledgedBy:"",SignedBy:"",StartDate:"",EndDate:"",ConValueBeforVat:"",TaxName:"",VatAmount:"",ContractValue:"",ContractGroupName:"",ParentContractIKeyD:"",IsNonContract:"",ConGenerateCode:"",OrganisationName:"",CustomerName:"",ConLatitude:"",ConLongitude:"",ConTRNno:"",IsEnableBudget:"",AnnualReviewDate:"",ExtendedDate:"",ExtendedValue:"",Retention:"",ConEmail:"",IsConLost:"",LosedDate:"",LosedComment:"",SACCode:"",InvoiceDescription:"",Period:"",NoofInvoice:"",ConPaymentTermsName:"",ContractDate:"",NoOfBilling:"",CreatedByDate:"",ApprovedDate:"",DisplayEndDate:"",ConStatus:"",EnquiryCode:"",EnquiryDate:"",QuotationCode:"",QuotationDate:"",SiteSurveyCode:"",SiteSurveyDate:"",Notify1:"",NotifyDate1:"",Notify2:"",NotifyDate2:"",FollowUpDate:"",IsEnableClient:"",IsExtended:"",IsPPM:"",IsBDM:"",IsDSM:"",IsIncident:"",IsCase:"",NoofPrimary:"",NoofSecondary:"",NoofSupervisor:"",NoofEngineer:"",ShiftNoofPrimary:"",ShiftNoofSecondary:"",IsEnableValue:"",IsRenewal:"",IsBudgetValByCont:"",TotalContractValue:"",ContractLeassValue:"",ContractLeassDate:"",TotalLessContractValue:"",FieldRadius:"",IsRes:"",IsInclusive:"",IsConType:"",ConZoomValue:"",StatusKey:"",XContractKey:"",RenewalConKey:"",ShiftKey:"",SalesEmpKey:"",CreatedEmpKey:"",ApprovedEmpKey:"",ParentContractName:""};const Gt=[{columns:St,data:ie}];let qt=(0,x.Z)();const Kt=e=>qt?.[e]?qt[e]:e,Vt=e=>it.language?.[e]?it.language[e]:e;(0,l.useEffect)((()=>{jt(xt),function(e){const t=e.filter((e=>e.FormID==At));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldName))})),Rt(a),Ot(l)}(xt)}),[xt]),(0,l.useEffect)((()=>{Ne||Be||Re?Ne?Ke(De):Be?ze(De):Re&&Qe(De):(Ge(De),it.token.length>0&&zt({current:1,pageSize:100},De,"ContractID"))}),[De]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&J(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ht(e.searchsafaritext,{current:oe.current,pageSize:oe.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Ht(e,{current:1,pageSize:100})},tableRefresh:()=>{zt(oe,De,"ContractID")}})));const zt=(e,t,a,l,n)=>{rt.loading(!0);let o=h.v.Api+"FP156S3/",r={data:{p1:l||(t&&t.ContractIDPK?t.ContractIDPK:null),p2:t&&t.ContractCode?t.ContractCode:null,p3:t&&t.ContractName?t.ContractName:null,p4:t&&t.ContractDate?t.ContractDate:null,p5:t&&t.ContractDateType?t.ContractDateType:null,p6:t&&t.ContractDateBetween?t.ContractDateBetween:null,p7:t&&t.ContractValue?t.ContractValue:null,p8:t&&t.ExtendedValue?t.ExtendedValue:null,p9:t&&t.NoOfBilling?t.NoOfBilling:null,p10:t&&t.Period?t.Period:null,p11:t&&t.StartDate?t.StartDate:null,p12:t&&t.StartDateType?t.StartDateType:null,p13:t&&t.StartDateBetween?t.StartDateBetween:null,p14:t&&t.EndDate?t.EndDate:null,p15:t&&t.EndDateType?t.EndDateType:null,p16:t&&t.EndDateBetween?t.EndDateBetween:null,p17:t&&t.AnnualReviewDate?t.AnnualReviewDate:null,p18:t&&t.AnnualReviewDateType?t.AnnualReviewDateType:null,p19:t&&t.AnnualReviewDateBetween?t.AnnualReviewDateBetween:null,p20:t&&t.CreatedByDate?t.CreatedByDate:null,p21:t&&t.CreatedByDateType?t.CreatedByDateType:null,p22:t&&t.CreatedByDateBetween?t.CreatedByDateBetween:null,p23:t&&t.ApprovedDate?t.ApprovedDate:null,p24:t&&t.ApprovedDateType?t.ApprovedDateType:null,p25:t&&t.ApprovedDateBetween?t.ApprovedDateBetween:null,p26:t&&t.DisplayEndDate?t.DisplayEndDate:null,p27:t&&t.DisplayEndDateType?t.DisplayEndDateType:null,p28:t&&t.DisplayEndDateBetween?t.DisplayEndDateBetween:null,p29:t&&t.ExtendedDate?t.ExtendedDate:null,p30:t&&t.ExtendedDateType?t.ExtendedDateType:null,p31:t&&t.ExtendedDateBetween?t.ExtendedDateBetween:null,p32:t&&t.ConStatus?t.ConStatus:null,p33:t&&t.Retention?t.Retention:null,p34:t&&t.InvoiceDescription?t.InvoiceDescription:null,p35:t&&t.AcknowledgedBy?t.AcknowledgedBy:null,p36:t&&t.SignedBy?t.SignedBy:null,p37:t&&t.EnquiryCode?t.EnquiryCode:null,p38:t&&t.EnquiryDate?t.EnquiryDate:null,p39:t&&t.EnquiryDateType?t.EnquiryDateType:null,p40:t&&t.EnquiryDateBetween?t.EnquiryDateBetween:null,p41:t&&t.QuotationCode?t.QuotationCode:null,p42:t&&t.QuotationDate?t.QuotationDate:null,p43:t&&t.QuotationDateType?t.QuotationDateType:null,p44:t&&t.QuotationDateBetween?t.QuotationDateBetween:null,p45:t&&t.SiteSurveyCode?t.SiteSurveyCode:null,p46:t&&t.SiteSurveyDate?t.SiteSurveyDate:null,p47:t&&t.SiteSurveyDateType?t.SiteSurveyDateType:null,p48:t&&t.SiteSurveyDateBetween?t.SiteSurveyDateBetween:null,p49:t&&t.Notify1?t.Notify1:null,p50:t&&t.NotifyDate1?t.NotifyDate1:null,p51:t&&t.NotifyDate1Type?t.NotifyDate1Type:null,p52:t&&t.NotifyDate1Between?t.NotifyDate1Between:null,p53:t&&t.Notify2?t.Notify2:null,p54:t&&t.NotifyDate2?t.NotifyDate2:null,p55:t&&t.NotifyDate2Type?t.NotifyDate2Type:null,p56:t&&t.NotifyDate2Between?t.NotifyDate2Between:null,p57:t&&t.NoofInvoice?t.NoofInvoice:null,p58:t&&t.LosedDate?t.LosedDate:null,p59:t&&t.LosedDateType?t.LosedDateType:null,p60:t&&t.LosedDateBetween?t.LosedDateBetween:null,p61:t&&t.LosedComment?t.LosedComment:null,p62:t&&t.FollowUpDate?t.FollowUpDate:null,p63:t&&t.FollowUpDateType?t.FollowUpDateType:null,p64:t&&t.FollowUpDateBetween?t.FollowUpDateBetween:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:t&&t.NoofPrimary?t.NoofPrimary:null,p73:t&&t.NoofSecondary?t.NoofSecondary:null,p74:t&&t.NoofSupervisor?t.NoofSupervisor:null,p75:t&&t.NoofEngineer?t.NoofEngineer:null,p76:t&&t.ShiftNoofPrimary?t.ShiftNoofPrimary:null,p77:t&&t.ShiftNoofSecondary?t.ShiftNoofSecondary:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:t&&t.XContractKey?t.XContractKey:null,p84:t&&t.ParentContractIKeyD?t.ParentContractIKeyD:null,p85:t&&t.RenewalConKey?t.RenewalConKey:null,p86:t&&t.ShiftKey?t.ShiftKey:null,p87:t&&t.SalesEmpKey?t.SalesEmpKey:null,p88:t&&t.CreatedEmpKey?t.CreatedEmpKey:null,p89:t&&t.ApprovedEmpKey?t.ApprovedEmpKey:null,p90:t&&t.TotalContractValue?t.TotalContractValue:null,p91:t&&t.ContractLeassValue?t.ContractLeassValue:null,p92:t&&t.ContractLeassDate?t.ContractLeassDate:null,p93:t&&t.ContractLeassDateType?t.ContractLeassDateType:null,p94:t&&t.ContractLeassDateBetween?t.ContractLeassDateBetween:null,p95:t&&t.TotalLessContractValue?t.TotalLessContractValue:null,p96:t&&t.ConLatitude?t.ConLatitude:null,p97:t&&t.ConLongitude?t.ConLongitude:null,p98:t&&t.FieldRadius?t.FieldRadius:null,p99:t&&t.SACCode?t.SACCode:null,p100:null,p101:null,p102:t&&t.VatAmount?t.VatAmount:null,p103:t&&t.ConValueBeforVat?t.ConValueBeforVat:null,p104:null,p105:null,p106:t&&t.ConZoomValue?t.ConZoomValue:null,p107:t&&t.ConGenerateCode?t.ConGenerateCode:null,p108:t&&t.ConTRNno?t.ConTRNno:null,p109:t&&t.ConEmail?t.ConEmail:null,p110:null,p111:"DraftContractID"==a?"1":"0",p112:t&&t.StatusKey?t.StatusKey:null,p113:null,p114:t&&t.ContractGroupID?t.ContractGroupID:null,p115:t&&t.TaxID?t.TaxID:null,p116:t&&t.CustomerID?t.CustomerID:null,p117:t&&t.ContractTypeID?t.ContractTypeID:null,p118:t&&t.ContractCategID?t.ContractCategID:null,p119:t&&t.OrganisationID?t.OrganisationID:null,p120:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p121:t&&t.IsActive,p122:null,p123:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p124:t&&t.CreatedTtm?t.CreatedTtm:null,p125:t&&t.CreatedTtmType?t.CreatedTtmType:null,p126:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p127:null,p128:t&&t.ContractGroupCode?t.ContractGroupCode:null,p129:t&&t.ContractGroupName?t.ContractGroupName:null,p130:t&&t.TaxCode?t.TaxCode:null,p131:t&&t.TaxName?t.TaxName:null,p132:t&&t.TaxValue?t.TaxValue:null,p133:t&&t.EmployeeID?t.EmployeeID:null,p134:t&&t.EmployeeCode?t.EmployeeCode:null,p135:t&&t.FirstName?t.FirstName:null,p136:t&&t.EmpContactNo1?t.EmpContactNo1:null,p137:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p138:t&&t.CityID?t.CityID:null,p139:t&&t.CityCode?t.CityCode:null,p140:t&&t.CityName?t.CityName:null,p141:t&&t.RegionID?t.RegionID:null,p142:t&&t.RegionCode?t.RegionCode:null,p143:t&&t.RegionName?t.RegionName:null,p144:t&&t.CountryID?t.CountryID:null,p145:t&&t.CountryCode?t.CountryCode:null,p146:t&&t.CountryName?t.CountryName:null,p147:t&&t.CustGroupID?t.CustGroupID:null,p148:t&&t.CustGroupCode?t.CustGroupCode:null,p149:t&&t.CustGroupName?t.CustGroupName:null,p150:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p151:t&&t.ClasificationCode?t.ClasificationCode:null,p152:t&&t.ClasificationName?t.ClasificationName:null,p153:t&&t.CustomerCode?t.CustomerCode:null,p154:t&&t.CustomerName?t.CustomerName:null,p155:t&&t.ComplaintHeaderID?t.ComplaintHeaderID:null,p156:t&&t.ComplaintHeaderCode?t.ComplaintHeaderCode:null,p157:t&&t.ComplaintHeaderName?t.ComplaintHeaderName:null,p158:t&&t.ContractTypCode?t.ContractTypCode:null,p159:t&&t.ContractTypeName?t.ContractTypeName:null,p160:t&&t.ContractCategCode?t.ContractCategCode:null,p161:t&&t.ContractCategName?t.ContractCategName:null,p162:t&&t.OrganisationCode?t.OrganisationCode:null,p163:t&&t.OrganisationName?t.OrganisationName:null,p164:t&&t.PaymentTermsTypeID?t.PaymentTermsTypeID:null,p165:t&&t.PaymentTermsTypeCode?t.PaymentTermsTypeCode:null,p166:t&&t.PaymentTermsTypeName?t.PaymentTermsTypeName:null,p167:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p168:l?1:e.current,p169:e.pageSize,p170:a,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};(0,m.Z)(o,r,it.token[0]).then((l=>{if("200"==l.Output.status.code)if(l.Output.data.length>0){if(l.Output.data){let t=0;l.Output.data.length>0?(t=parseFloat(l.Output.data[0].TotalCount,10)/10,ae(l.Output.data[0].TotalCount),ct({type:"count",payload:l.Output.data[0].TotalCount}),ne(l.Output.data[0].DraftCnt)):(t=0,ae(0),ct({type:"count",payload:0}),ne(0)),10==e.pageSize?ee(Math.ceil(t)):20==e.pageSize?ee(Math.ceil(t/2)):50==e.pageSize?ee(Math.ceil(t/5)):100==e.pageSize&&ee(Math.ceil(t/10)),Ce(l.Output.data),rt.loading(!1)}"DraftContractID"===a?($e(!0),ve(!1)):$e(!1)}else"DraftContractID"===a?(rt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ve(!0),$e(!1),rt.loading(!1)):($e(!1),Ce([]),re({current:1,pageSize:100}),ee(0),ae(0),rt.loading(!1),Object.values(t).some((e=>e))&&(rt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),document.getElementById("ConContractRegistry-MainTable").style.display="block"));else rt.alert({open:!0,color:"warning",message:[l.Output.status.message]}),rt.loading(!1)}))},_t=()=>{ye?(document.getElementById("ConContractRegistryFilterDiv").style.width="0%",document.getElementById("ConContractRegistryTabDiv").style.width="100%",document.getElementById("ConContractRegistryFilterDiv").style.display="none",ge(!1),Ne?(document.getElementById("ConContractRegistryfildiv").style.width="fit-content",document.getElementById("ConContractRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):at?Be?(document.getElementById("ConContractRegistryfildiv").style.width="fit-content",document.getElementById("ConContractRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractRegistrycoldiv").style.width="fit-content",document.getElementById("ConContractRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractRegistryfildiv").style.width="fit-content",document.getElementById("ConContractRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractRegistryfildiv").style.width="fit-content",document.getElementById("ConContractRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractRegistryFilterDiv").style.width="25%",document.getElementById("ConContractRegistryTabDiv").style.width="75%",document.getElementById("ConContractRegistryFilterDiv").style.display="block",ge(!0),document.getElementById("ConContractRegistryfildiv").style.width="fit-content",document.getElementById("ConContractRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"),ve(!1),window.clickFilter=!ye},Qt=()=>{fe?(document.getElementById("ConContractRegistryFilterDiv").style.width="0%",document.getElementById("ConContractRegistryTabDiv").style.width="100%",document.getElementById("ConContractRegistryFilterDiv").style.display="none",document.getElementById("ConContractRegistrycoldiv").style.width="fit-content",document.getElementById("ConContractRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!1)):(document.getElementById("ConContractRegistryFilterDiv").style.width="25%",document.getElementById("ConContractRegistryTabDiv").style.width="75%",document.getElementById("ConContractRegistryFilterDiv").style.display="block",document.getElementById("ConContractRegistryfildiv").style.width="fit-content",document.getElementById("ConContractRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractRegistrycoldiv").style.width="fit-content",document.getElementById("ConContractRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!0)),ge(!1)};function Ht(e,t){rt.loading(!0);const a=h.v.Api+"FP156S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:We?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,l,it.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let n=0;e.Output.data.length>0?(n=parseFloat(e.Output.data[0].TotalCount,10)/10,ae(e.Output.data[0].TotalCount),ne(e.Output.data[0].DraftCnt)):(n=0,ae(0),ne(0)),10==t.pageSize?ee(Math.ceil(n)):20==t.pageSize?ee(Math.ceil(n/2)):50==t.pageSize?ee(Math.ceil(n/5)):100==t.pageSize&&ee(Math.ceil(n/10)),Ce(e.Output.data);for(var a=document.querySelectorAll("#ConContractRegistryTable td"),l=0;l<a.length;++l)a.forEach((function(e,t){e.textContent.toLowerCase().includes(Se.toLowerCase())&&Se.length>0&&(e.style.color="#ffa502")}));rt.loading(!1)}else Ce([]),re({current:1,pageSize:100}),ee(0),ae(0),ne(0),rt.loading(!1),rt.alert({open:!0,color:"warning",message:["There is no Record Found"]});else rt.alert({open:!0,color:"warning",message:[e.Output.status.message]}),rt.loading(!1)}))}function Ut(e){"Table"==e?(document.getElementById("ConContractRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("ConContractRegistry-ShowView").classList.remove("ViewBtnAct"),document.getElementById("ConContractRegistry-GridView").classList.remove("ViewBtnAct"),he(!1),Fe(!1),ke(!1)):"Grid"==e?(document.getElementById("ConContractRegistryFilterDiv").style.width="0%",document.getElementById("ConContractRegistryTabDiv").style.width="100%",document.getElementById("ConContractRegistryFilterDiv").style.display="none",document.getElementById("ConContractRegistryfildiv").style.width="35px",document.getElementById("ConContractRegistryfildiv").getElementsByTagName("svg")[0].style.padding="15%",he(!0),Fe(!1),ke(!1),ge(!1),ve(!1),lt(!0),document.querySelector('[data-bid="156List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Grid"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="156Tile"]').classList.remove("buttonGrpActive")):"Bubble"==e?(document.getElementById("ConContractRegistry-TabView").classList.remove("ViewBtnAct"),document.getElementById("ConContractRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("ConContractRegistryFilterDiv").style.width="0%",document.getElementById("ConContractRegistryTabDiv").style.width="100%",document.getElementById("ConContractRegistryFilterDiv").style.display="none",Fe(!0),he(!1),ke(!1),ge(!1),ve(!1),lt(!0)):"Share"==e?(document.getElementById("ConContractRegistry-TabView").classList.remove("ViewBtnAct"),document.querySelector('[data-bid="156List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Grid"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Share"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="156Tile"]').classList.remove("buttonGrpActive"),document.getElementById("ConContractRegistry-GridView").classList.remove("ViewBtnAct"),Fe(!1),he(!1),ke(!0),ge(!1),ve(!1),lt(!0)):"List"==e?(he(!1),ke(!1),lt(!0),ht(!1),document.querySelector('[data-bid="156List"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="156Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Tile"]').classList.remove("buttonGrpActive")):"Card"==e?(lt(!1),ht(!1),document.querySelector('[data-bid="156List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Card"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="156Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Tile"]').classList.remove("buttonGrpActive")):"Tile"==e?(ht(!0),lt(!1),document.querySelector('[data-bid="156List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Tile"]').classList.add("buttonGrpActive")):"Show"==e&&(document.querySelector('[data-bid="156List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Tile"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="156Show"]').classList.add("buttonGrpActive"),Fe(!1),he(!1),ke(!0),lt(!0),ye&&Qt())}function jt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,fieldname:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]}),"IsShow"==e.FieldName&&ct({type:"IsShow",payload:!0})})),ct({type:"language",payload:Object.assign({},...n)}),ot(a.reduce(((e,t)=>(e[t]="",e)),{})),be(e),Le(t),we(a),Et(l),vt(a)}function Yt(e,t){rt.edit(e),ge(!1),document.getElementById("ConContractRegistry-Detail").style.width="64%",document.getElementById("ConContractRegistry-Detail").style.display="block",document.getElementById("ConContractRegistry-Table").style.width="35%",document.getElementById("ConContractRegistry-TabView").classList.add("ViewButtonAct"),document.getElementById("ConContractRegistry-GridView").classList.remove("ViewButtonAct"),document.getElementById("ConContractRegistry-BubbleView").classList.remove("ViewButtonAct"),he(!1),Fe(!1),ke(!1);let a={ContractCode:"",ContractName:"",ContractTypeID:"",ContractCategID:"",AcknowledgedBy:"",SignedBy:"",StartDate:"",EndDate:"",ConValueBeforVat:"",TaxID:"",VatAmount:"",ContractValue:"",ContractGroupID:"",ParentContractIKeyD:"",IsNonContract:"",ConGenerateCode:"",OrganisationID:"",CustomerID:"",ConLatitude:"",ConLongitude:"",ConTRNno:"",IsEnableBudget:"",AnnualReviewDate:"",ExtendedDate:"",ExtendedValue:"",Retention:"",ConEmail:"",IsConLost:"",LosedDate:"",LosedComment:"",SACCode:"",InvoiceDescription:"",Period:"",NoofInvoice:"",ConPaymentTermsID:"",ContractDate:"",NoOfBilling:"",CreatedByDate:"",ApprovedDate:"",DisplayEndDate:"",ConStatus:"",EnquiryCode:"",EnquiryDate:"",QuotationCode:"",QuotationDate:"",SiteSurveyCode:"",SiteSurveyDate:"",Notify1:"",NotifyDate1:"",Notify2:"",NotifyDate2:"",FollowUpDate:"",IsEnableClient:"",IsExtended:"",IsPPM:"",IsBDM:"",IsDSM:"",IsIncident:"",IsCase:"",NoofPrimary:"",NoofSecondary:"",NoofSupervisor:"",NoofEngineer:"",ShiftNoofPrimary:"",ShiftNoofSecondary:"",IsEnableValue:"",IsRenewal:"",IsBudgetValByCont:"",TotalContractValue:"",ContractLeassValue:"",ContractLeassDate:"",TotalLessContractValue:"",FieldRadius:"",IsRes:"",IsInclusive:"",IsConType:"",ConZoomValue:"",StatusKey:"",XContractKey:"",RenewalConKey:"",ShiftKey:"",SalesEmpKey:"",CreatedEmpKey:"",ApprovedEmpKey:"",ParentContractName:""};Ge(a),zt({current:1,pageSize:100},a,"ContractID")}function Wt(e){rt.loading(!0);let t=h.v.Api+"FP156S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(t,a,it.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,gt(t.Output.data[0].TotalCount)):(a=0,gt(0)),10==e.pageSize?Ct(Math.ceil(a)):20==e.pageSize?Ct(Math.ceil(a/2)):50==e.pageSize?Ct(Math.ceil(a/5)):100==e.pageSize&&Ct(Math.ceil(a/10)),ut(t.Output.data),rt.loading(!1)}else rt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),rt.loading(!1)}))}(0,l.useEffect)((()=>{tt(e.ExpandTableValue)}),[e.ExpandTableValue]);return n().createElement("div",null,n().createElement(r.Z,{expanded:Je,onChange:()=>()=>{Xe(et)}},n().createElement(c.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100 L3Header"},n().createElement("div",null,n().createElement("div",{className:"displayFlex"},We?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("div",{id:"fld156L4TCKeyboardBackspaceRounded",onClick:()=>{zt(oe,Oe,"ContractID"),$e(!1)}},n().createElement(v.ZP,{title:"List",placement:"top"},n().createElement(A.aQX,{className:"BackBtnIcon"}))),n().createElement("div",{id:"fld156L4TCDraftP",onClick:()=>zt(oe,Oe,"DraftContractID")},n().createElement(v.ZP,{title:"Draft",placement:"top"},n().createElement("p",{className:"DraftP"},"Drafts(",te,")")))):n().createElement("div",{className:"ListHeader displayFlex"},e.ExpandTableValue?Je?n().createElement(p.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!1)}}):n().createElement(C.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!0)}}):null,n().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[156]",onClick:()=>e.ExpandTableValue&&Xe(!Je)},`${Vt("156")} (${Re?Bt:te})`)))),n().createElement("div",null,Ne||Be||Re||We?null:n().createElement("div",{className:"displayFlex"},n().createElement("div",{id:"fld156L4TCSearchBar",className:"searchbar",style:{marginRight:"2%"}},n().createElement(b.Z,{className:"search_input",type:"text",id:"ConContractRegistrygridsearch",placeholder:"Search",value:Se,onChange:e=>{if(Ee(e),"0"==e.length)return zt(oe,De,We?"DraftContractID":"ContractID",We&&"DraftPage"),!1;Ht(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},Se?n().createElement("div",{id:"fld156L4TCInputCloseIcon",onClick:()=>{Ee(""),zt(oe,De,We?"DraftContractID":"ContractID",We&&"DraftPage")}},n().createElement(s.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld156L4TCInputSearchIcon",onClick:()=>{Ee(""),tableRefresh()}},n().createElement(E.Z,{className:"InputSearchIcon"})))),it.AccessRights.IsAdd&&n().createElement(T.Z,{disabled:!1,className:"SaveBtnCommon",name:"Add",frmctrlid:"fld156L4ECAddBtnIsAdd",onClick:()=>{rt.edit(!1),rt.add()}}))))),n().createElement(i.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"ConContractRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},!We&&n().createElement("div",{frmctrlid:"fld156L4TCFilterDataIsDraft",id:"ConContractRegistryfildiv",className:"buttoncard",onClick:()=>{_t()}},n().createElement(v.ZP,{title:Kt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(g.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Kt("Filter Data"))),n().createElement(y.Z,{formctrlidprint:"fld156L4TCExportPrint",formctrlidexport:"fld156L4TCExportTable",formctrlidrefresh:"fld156L4TCExportRefresh",title:"156",data:de,exportData:Gt,Items:ft,columnIndex:St,TableVisibleItem:Pe,userGridViewFormID:j,TableTotalCount:te,triggerApi:e=>{((e,t,l,n,o)=>{if(0===te)return rt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Zt[t]=e,rt.loading(!0);let r=h.v.Api+"FP156S3/",i={data:{p1:e&&e.ContractIDPK?e.ContractIDPK:null,p2:e&&e.ContractCode?e.ContractCode:null,p3:e&&e.ContractName?e.ContractName:null,p4:e&&e.ContractDate?e.ContractDate:null,p5:e&&e.ContractDateType?e.ContractDateType:null,p6:e&&e.ContractDateBetween?e.ContractDateBetween:null,p7:e&&e.ContractValue?e.ContractValue:null,p8:e&&e.ExtendedValue?e.ExtendedValue:null,p9:e&&e.NoOfBilling?e.NoOfBilling:null,p10:e&&e.Period?e.Period:null,p11:e&&e.StartDate?e.StartDate:null,p12:e&&e.StartDateType?e.StartDateType:null,p13:e&&e.StartDateBetween?e.StartDateBetween:null,p14:e&&e.EndDate?e.EndDate:null,p15:e&&e.EndDateType?e.EndDateType:null,p16:e&&e.EndDateBetween?e.EndDateBetween:null,p17:e&&e.AnnualReviewDate?e.AnnualReviewDate:null,p18:e&&e.AnnualReviewDateType?e.AnnualReviewDateType:null,p19:e&&e.AnnualReviewDateBetween?e.AnnualReviewDateBetween:null,p20:e&&e.CreatedByDate?e.CreatedByDate:null,p21:e&&e.CreatedByDateType?e.CreatedByDateType:null,p22:e&&e.CreatedByDateBetween?e.CreatedByDateBetween:null,p23:e&&e.ApprovedDate?e.ApprovedDate:null,p24:e&&e.ApprovedDateType?e.ApprovedDateType:null,p25:e&&e.ApprovedDateBetween?e.ApprovedDateBetween:null,p26:e&&e.DisplayEndDate?e.DisplayEndDate:null,p27:e&&e.DisplayEndDateType?e.DisplayEndDateType:null,p28:e&&e.DisplayEndDateBetween?e.DisplayEndDateBetween:null,p29:e&&e.ExtendedDate?e.ExtendedDate:null,p30:e&&e.ExtendedDateType?e.ExtendedDateType:null,p31:e&&e.ExtendedDateBetween?e.ExtendedDateBetween:null,p32:e&&e.ConStatus?e.ConStatus:null,p33:e&&e.Retention?e.Retention:null,p34:e&&e.InvoiceDescription?e.InvoiceDescription:null,p35:e&&e.AcknowledgedBy?e.AcknowledgedBy:null,p36:e&&e.SignedBy?e.SignedBy:null,p37:e&&e.EnquiryCode?e.EnquiryCode:null,p38:e&&e.EnquiryDate?e.EnquiryDate:null,p39:e&&e.EnquiryDateType?e.EnquiryDateType:null,p40:e&&e.EnquiryDateBetween?e.EnquiryDateBetween:null,p41:e&&e.QuotationCode?e.QuotationCode:null,p42:e&&e.QuotationDate?e.QuotationDate:null,p43:e&&e.QuotationDateType?e.QuotationDateType:null,p44:e&&e.QuotationDateBetween?e.QuotationDateBetween:null,p45:e&&e.SiteSurveyCode?e.SiteSurveyCode:null,p46:e&&e.SiteSurveyDate?e.SiteSurveyDate:null,p47:e&&e.SiteSurveyDateType?e.SiteSurveyDateType:null,p48:e&&e.SiteSurveyDateBetween?e.SiteSurveyDateBetween:null,p49:e&&e.Notify1?e.Notify1:null,p50:e&&e.NotifyDate1?e.NotifyDate1:null,p51:e&&e.NotifyDate1Type?e.NotifyDate1Type:null,p52:e&&e.NotifyDate1Between?e.NotifyDate1Between:null,p53:e&&e.Notify2?e.Notify2:null,p54:e&&e.NotifyDate2?e.NotifyDate2:null,p55:e&&e.NotifyDate2Type?e.NotifyDate2Type:null,p56:e&&e.NotifyDate2Between?e.NotifyDate2Between:null,p57:e&&e.NoofInvoice?e.NoofInvoice:null,p58:e&&e.LosedDate?e.LosedDate:null,p59:e&&e.LosedDateType?e.LosedDateType:null,p60:e&&e.LosedDateBetween?e.LosedDateBetween:null,p61:e&&e.LosedComment?e.LosedComment:null,p62:e&&e.FollowUpDate?e.FollowUpDate:null,p63:e&&e.FollowUpDateType?e.FollowUpDateType:null,p64:e&&e.FollowUpDateBetween?e.FollowUpDateBetween:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:e&&e.NoofPrimary?e.NoofPrimary:null,p73:e&&e.NoofSecondary?e.NoofSecondary:null,p74:e&&e.NoofSupervisor?e.NoofSupervisor:null,p75:e&&e.NoofEngineer?e.NoofEngineer:null,p76:e&&e.ShiftNoofPrimary?e.ShiftNoofPrimary:null,p77:e&&e.ShiftNoofSecondary?e.ShiftNoofSecondary:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:e&&e.XContractKey?e.XContractKey:null,p84:e&&e.ParentContractIKeyD?e.ParentContractIKeyD:null,p85:e&&e.RenewalConKey?e.RenewalConKey:null,p86:e&&e.ShiftKey?e.ShiftKey:null,p87:e&&e.SalesEmpKey?e.SalesEmpKey:null,p88:e&&e.CreatedEmpKey?e.CreatedEmpKey:null,p89:e&&e.ApprovedEmpKey?e.ApprovedEmpKey:null,p90:e&&e.TotalContractValue?e.TotalContractValue:null,p91:e&&e.ContractLeassValue?e.ContractLeassValue:null,p92:e&&e.ContractLeassDate?e.ContractLeassDate:null,p93:e&&e.ContractLeassDateType?e.ContractLeassDateType:null,p94:e&&e.ContractLeassDateBetween?e.ContractLeassDateBetween:null,p95:e&&e.TotalLessContractValue?e.TotalLessContractValue:null,p96:e&&e.ConLatitude?e.ConLatitude:null,p97:e&&e.ConLongitude?e.ConLongitude:null,p98:e&&e.FieldRadius?e.FieldRadius:null,p99:e&&e.SACCode?e.SACCode:null,p100:null,p101:null,p102:e&&e.VatAmount?e.VatAmount:null,p103:e&&e.ConValueBeforVat?e.ConValueBeforVat:null,p104:null,p105:null,p106:e&&e.ConZoomValue?e.ConZoomValue:null,p107:e&&e.ConGenerateCode?e.ConGenerateCode:null,p108:e&&e.ConTRNno?e.ConTRNno:null,p109:e&&e.ConEmail?e.ConEmail:null,p110:null,p111:We?"1":"0",p112:e&&e.StatusKey?e.StatusKey:null,p113:null,p114:e&&e.ContractGroupID?e.ContractGroupID:null,p115:e&&e.TaxID?e.TaxID:null,p116:e&&e.CustomerID?e.CustomerID:null,p117:e&&e.ContractTypeID?e.ContractTypeID:null,p118:e&&e.ContractCategID?e.ContractCategID:null,p119:e&&e.OrganisationID?e.OrganisationID:null,p120:e&&e.ConPaymentTermsID?e.ConPaymentTermsID:null,p121:e&&e.IsActive,p122:null,p123:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p124:e&&e.CreatedTtm?e.CreatedTtm:null,p125:e&&e.CreatedTtmType?e.CreatedTtmType:null,p126:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p127:null,p128:e&&e.ContractGroupCode?e.ContractGroupCode:null,p129:e&&e.ContractGroupName?e.ContractGroupName:null,p130:e&&e.TaxCode?e.TaxCode:null,p131:e&&e.TaxName?e.TaxName:null,p132:e&&e.TaxValue?e.TaxValue:null,p133:e&&e.EmployeeID?e.EmployeeID:null,p134:e&&e.EmployeeCode?e.EmployeeCode:null,p135:e&&e.FirstName?e.FirstName:null,p136:e&&e.EmpContactNo1?e.EmpContactNo1:null,p137:e&&e.EmpEmailOfficial?e.EmpEmailOfficial:null,p138:e&&e.CityID?e.CityID:null,p139:e&&e.CityCode?e.CityCode:null,p140:e&&e.CityName?e.CityName:null,p141:e&&e.RegionID?e.RegionID:null,p142:e&&e.RegionCode?e.RegionCode:null,p143:e&&e.RegionName?e.RegionName:null,p144:e&&e.CountryID?e.CountryID:null,p145:e&&e.CountryCode?e.CountryCode:null,p146:e&&e.CountryName?e.CountryName:null,p147:e&&e.CustGroupID?e.CustGroupID:null,p148:e&&e.CustGroupCode?e.CustGroupCode:null,p149:e&&e.CustGroupName?e.CustGroupName:null,p150:e&&e.BusinessClasificationID?e.BusinessClasificationID:null,p151:e&&e.ClasificationCode?e.ClasificationCode:null,p152:e&&e.ClasificationName?e.ClasificationName:null,p153:e&&e.CustomerCode?e.CustomerCode:null,p154:e&&e.CustomerName?e.CustomerName:null,p155:e&&e.ComplaintHeaderID?e.ComplaintHeaderID:null,p156:e&&e.ComplaintHeaderCode?e.ComplaintHeaderCode:null,p157:e&&e.ComplaintHeaderName?e.ComplaintHeaderName:null,p158:e&&e.ContractTypCode?e.ContractTypCode:null,p159:e&&e.ContractTypeName?e.ContractTypeName:null,p160:e&&e.ContractCategCode?e.ContractCategCode:null,p161:e&&e.ContractCategName?e.ContractCategName:null,p162:e&&e.OrganisationCode?e.OrganisationCode:null,p163:e&&e.OrganisationName?e.OrganisationName:null,p164:e&&e.PaymentTermsTypeID?e.PaymentTermsTypeID:null,p165:e&&e.PaymentTermsTypeCode?e.PaymentTermsTypeCode:null,p166:e&&e.PaymentTermsTypeName?e.PaymentTermsTypeName:null,p167:e&&e.ConPaymentTermsName?e.ConPaymentTermsName:null,p168:oe.current,p169:te,p170:We?"DraftContractID":"ContractID",p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};rt.loading(!1),rt.alert({open:!0,color:"success",message:[`${Vt(156)} - ${o.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(r,i,it.token[0],o).then((e=>{(0,M.PDF_Excel_Generate)(e,rt,ft,ce,a,o)}))})(De,me.column,0,0,e)},Refresh:()=>{Ee(""),e.draftval?(zt({current:1,pageSize:100},Oe,"DraftContractID"),re({current:1,pageSize:100})):(zt({current:1,pageSize:100},Oe,"ContractID"),re({current:1,pageSize:100}),Ie({})),H.current&&H.current.clearItem()},disabledPrint:!it.AccessRights.IsPrint,disabledExport:!it.AccessRights.IsExport,ref:a}),!We&&n().createElement("div",{className:"buttoncard",onClick:()=>Lt(!Pt)},n().createElement("span",null,Pt?n().createElement(v.ZP,{disableFocusListener:!0,title:"Less",placement:"top"},n().createElement("span",{id:"fld156L4TCLess"},n().createElement(B.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(v.ZP,{disableFocusListener:!0,title:"More",placement:"top"},n().createElement("span",{id:"fld156L4TCMore"},n().createElement(B.ilJ,{className:"tableFilterColumnIcon"}))))),!We&&Pt?n().createElement("div",{className:"EntryHeaderMore"},Ne||Be||Re||We?null:!We&&n().createElement("div",null,n().createElement("div",{frmctrlid:"fld156L4TCFilterDataIsAdd",id:"ConContractRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Qt()}},n().createElement(v.ZP,{title:Kt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(N.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Kt("Manage Columns")))),!We&&Y&&!Ne&&!Re&&!$&&n().createElement("div",{frmctrlid:"fld156L4TCExpMigSlide",className:"buttoncard",onClick:()=>(setTimeout((()=>Q.current.getRefresh([])),2e3),rt.openNav(),void rt.SlideComponentType(n().createElement(R.Z,{ref:Q,alert:e=>rt.alert(e),loading:e=>rt.loading(e),Api:"FP156S8/",data:e=>z.log(e),SheetCount:1,importSave:(e,t)=>(async(e,t)=>{if(e.length>0){rt.loading(!0);const a=h.v.Api+"FP156S8/";await(0,V.ProcessDataSyncSave)(a,e,t,rt,Q)}})(e,t),TableVisibleItem:Mt,frmctrlid:"fld156L4TCExpMig",TableBodyItem:kt,clear:e=>Q.current.getRefresh([]),excelfile:h.v.excel+"ConContractRegistry.xlsx",filename:"ConContractRegistry.xlsx"})))},n().createElement(v.ZP,{title:Kt("Migration"),placement:"top"},n().createElement("div",null,n().createElement(P.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Kt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&n().createElement("div",null,n().createElement("div",{frmctrlid:"fld156L4TCTableScrollData",id:"ConContractRegistrycoldiv",className:"buttoncard",onClick:()=>{dt?st(!1):(st(!0),Wt({current:1,pageSize:100}))}},n().createElement(v.ZP,{title:Kt("Table Scroll Data"),placement:"top"},n().createElement("div",null,n().createElement(K.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Kt("Table Scroll Data")))),it.AccessRights.IsAdd&&!Re&&n().createElement("div",null,n().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:le,showZero:!0},n().createElement("div",{id:"fld156L4TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{zt({current:1,pageSize:100},Oe,"DraftContractID"),$e(!0),ve(!1),ct({type:"IsDraft",payload:!0}),document.getElementById("ConContractRegistryTabDiv").style.width="100%"}},n().createElement(v.ZP,{title:"Drafts",placement:"top"},n().createElement("div",null,n().createElement(F.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Kt("Drafts")))))):""),!We&&!$&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},it.IsShow?n().createElement("div",{className:"buttonGrpUnActive buttonGrpActive","data-bid":"156Show",id:"fld156L4TCShowView",onClick:()=>{ke(!0),Ut("Show"),ShowComponent}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(w.aCJ,null)),n().createElement("span",null,Kt("Show"))):"",n().createElement("div",{className:"buttonGrpUnActive","data-bid":"156List",id:"fld156L4TCListView",onClick:()=>{Ut("List")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(B.umT,null)),n().createElement("span",null,Kt("List"))),n().createElement("div",{className:"buttonGrpUnActive","data-bid":"156Card",id:"fld156L4TCCardView",onClick:()=>{Ut("Card")}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(w.aCJ,null)),n().createElement("span",null,Kt("Card"))),n().createElement("div",{className:"buttonGrpUnActive","data-bid":"156Tile",id:"fld156L4TCTileView",onClick:()=>{Ut("Tile")},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(A.f_H,null)),n().createElement("span",null,Kt("Tile"))))))),Ne||Be||Re?null:dt?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(I.Z,{count:pt,color:"primary",page:Dt.current,onChange:(e,t)=>{It({current:t,pageSize:Dt.pageSize}),Ct(t),Wt({current:t,pageSize:Dt.pageSize})}}),n().createElement("div",null,n().createElement(S.Z,{value:Dt.pageSize,frmctrlid:"fld156L4TCSelectPagination",onChange:e=>{It({current:1,pageSize:e.target.value}),Wt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),et&&n().createElement("p",{className:"per-page"},"/ per page Of (",yt,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(I.Z,{count:X,siblingCount:0,color:"primary",page:oe.current,onChange:(e,t)=>{re({current:t,pageSize:oe.pageSize}),Se.length>0?Ht(Se,{current:t,pageSize:oe.pageSize}):zt({current:t,pageSize:oe.pageSize},De,We?"DraftContractID":"ContractID")}}),n().createElement("div",null,n().createElement(S.Z,{value:oe.pageSize,frmctrlid:"fld156L4TCSelectPagination",onChange:e=>{re({current:1,pageSize:e.target.value}),Se.length>0?Ht(Se,{current:1,pageSize:e.target.value}):zt({current:1,pageSize:e.target.value},Ze,We?"DraftContractID":"ContractID")},className:"BootstrapInputStyle"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),et&&n().createElement("p",{className:"per-page"},"/ per page of (",te,") "))),n().createElement("div",{id:"ConContractRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},!We&&n().createElement("div",{id:"ConContractRegistryFilterDiv",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ye&&n().createElement(u.default,{ref:_,userGrid:xt,CloseBtnClk:()=>_t(),searchData:e=>Ie(e),formID:j,data:()=>{},visibleData:()=>{},token:it.token[0],alertmsg:(e,t)=>rt.alert({open:!0,color:e,message:[t]}),clearTableFilter:()=>{tableRefresh()}}),fe&&!Ne&&!Be&&n().createElement(f.Z,{frmctrlid:"fld156L4TCTableColumnOrder",loading:e=>rt.loading(e),AltMsg:(e,t)=>rt.alert({open:!0,color:t,message:[e]}),select:fe,userID:U,userGridViewFormID:j,saved:(e,t)=>{e&&jt(t),wt(t)},Token:it.token[0]})),n().createElement("div",{id:"ConContractRegistryTabDiv",style:{width:"100%",position:"relative",height:"66vh"}},at?n().createElement("div",null,Ne&&n().createElement(D.n,{onLoad:Ne,showSearch:ye,data:(e,t)=>{Yt(e)},json:qe}),Re&&n().createElement(ShowComponent,{ref:k,onload:Re,showSearch:!1,showViewCount:e=>Ft(e),data:(e,t)=>{Yt(e)},json:De}),!Ne&&!Re&&n().createElement("div",null,dt?n().createElement(q.Z,{data:mt,expanded:()=>{},edit:rt.edit}):n().createElement(Z.Z,{ref:H,frmctrlid:"tblcs_156_L4_",id:"ConContractRegistryTable",headerdata:Pe,tablesearchparams:nt,searchvalue:e=>{let t={...De,...e};ot(e),Ie(t),re({current:1,pageSize:100}),zt({current:1,pageSize:100},t,We?"DraftContractID":"ContractID",We&&"DraftPage")},bodydata:pe,ondrag:(e,t)=>{rt.edit(t,We,!0)},bodyitem:xe,visibleitem:Pe,isdraft:We,action:"none",tableID:j,accessrights:it.AccessRights,expanded:()=>{},edit:rt.edit,viewtoggle:()=>it.viewtoggle,tf:Vt,isexpanded:!$||et}))):n().createElement(L.Z,{frmctrlid:"fld156L4TCExpandedCardDual",data:pe,id:"ConContractRegistry",title:"ContractName",cardTile:!!Nt,visibleitem:Pe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{$?rt.select(e):("edit"==t?rt.edit(e,t):rt.edit(e,!1,!0),et&&(ge(!1),ve(!1)))}})))))))})),Q=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),s=(0,l.useRef)(null),[u]=((0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[p,C]=O()(e.tableID),[g,D]=(0,l.useState)(!1),[E,f]=(0,l.useState)(0),[v,N]=(0,l.useState)(0),[T,b]=(0,l.useState)({current:1,pageSize:100}),[P,L]=(0,l.useState)(""),[w,B]=(0,l.useState)([]),[F,A]=(0,l.useState)({val:"",column:""}),[R,k]=(0,l.useState)([]),[q,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)(""),[_,Q]=(0,l.useState)([]),[H,U]=(0,l.useState)([]),[j,Y]=(0,l.useState)([]),W=(0,l.useContext)(G.ConContractRegistryContext),{cstate:$,cdispatch:J}=(0,G.ContextApi)();let X={ContractIDPK:"",ContractCode:"",ContractName:"",ContractDate:"",ContractDateType:"",ContractDateBetween:"",ContractValue:"",ExtendedValue:"",NoOfBilling:"",Period:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",AnnualReviewDate:"",AnnualReviewDateType:"",AnnualReviewDateBetween:"",CreatedByDate:"",CreatedByDateType:"",CreatedByDateBetween:"",ApprovedDate:"",ApprovedDateType:"",ApprovedDateBetween:"",DisplayEndDate:"",DisplayEndDateType:"",DisplayEndDateBetween:"",ExtendedDate:"",ExtendedDateType:"",ExtendedDateBetween:"",ConStatus:"",Retention:"",InvoiceDescription:"",AcknowledgedBy:"",SignedBy:"",EnquiryCode:"",EnquiryDate:"",EnquiryDateType:"",EnquiryDateBetween:"",QuotationCode:"",QuotationDate:"",QuotationDateType:"",QuotationDateBetween:"",SiteSurveyCode:"",SiteSurveyDate:"",SiteSurveyDateType:"",SiteSurveyDateBetween:"",Notify1:"",NotifyDate1:"",NotifyDate1Type:"",NotifyDate1Between:"",Notify2:"",NotifyDate2:"",NotifyDate2Type:"",NotifyDate2Between:"",NoofInvoice:"",LosedDate:"",LosedDateType:"",LosedDateBetween:"",LosedComment:"",FollowUpDate:"",FollowUpDateType:"",FollowUpDateBetween:"",IsEnableClient:"",IsExtended:"",IsPPM:"",IsBDM:"",IsDSM:"",IsIncident:"",IsCase:"",NoofPrimary:"",NoofSecondary:"",NoofSupervisor:"",NoofEngineer:"",ShiftNoofPrimary:"",ShiftNoofSecondary:"",IsNonContract:"",IsEnableBudget:"",IsEnableValue:"",IsRenewal:"",IsBudgetValByCont:"",XContractKey:"",ParentContractIKeyD:"",RenewalConKey:"",ShiftKey:"",SalesEmpKey:"",CreatedEmpKey:"",ApprovedEmpKey:"",TotalContractValue:"",ContractLeassValue:"",ContractLeassDate:"",ContractLeassDateType:"",ContractLeassDateBetween:"",TotalLessContractValue:"",ConLatitude:"",ConLongitude:"",FieldRadius:"",SACCode:"",IsRes:"",IsInclusive:"",VatAmount:"",ConValueBeforVat:"",IsConType:"",IsConLost:"",ConZoomValue:"",ConGenerateCode:"",ConTRNno:"",ConEmail:"",IsDefault:"",IsDraft:"",StatusKey:"",Remarks:"",ContractGroupID:"",TaxID:"",CustomerID:"",ContractTypeID:"",ContractCategID:"",OrganisationID:"",ConPaymentTermsID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupCode:"",ContractGroupName:"",TaxCode:"",TaxName:"",TaxValue:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CustGroupID:"",CustGroupCode:"",CustGroupName:"",BusinessClasificationID:"",ClasificationCode:"",ClasificationName:"",CustomerCode:"",CustomerName:"",ComplaintHeaderID:"",ComplaintHeaderCode:"",ComplaintHeaderName:"",ContractTypCode:"",ContractTypeName:"",ContractCategCode:"",ContractCategName:"",OrganisationCode:"",OrganisationName:"",PaymentTermsTypeID:"",PaymentTermsTypeCode:"",PaymentTermsTypeName:"",ConPaymentTermsName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(!0),[ce,de]=(0,l.useState)(0),[se,me]=(0,l.useState)({ContractCode:"",ContractName:"",ContractTypeName:"",ContractCategName:"",AcknowledgedBy:"",SignedBy:"",StartDate:"",EndDate:"",ConValueBeforVat:"",TaxName:"",VatAmount:"",ContractValue:"",ContractGroupName:"",ParentContractIKeyD:"",IsNonContract:"",ConGenerateCode:"",OrganisationName:"",CustomerName:"",ConLatitude:"",ConLongitude:"",ConTRNno:"",IsEnableBudget:"",AnnualReviewDate:"",ExtendedDate:"",ExtendedValue:"",Retention:"",ConEmail:"",IsConLost:"",LosedDate:"",LosedComment:"",SACCode:"",InvoiceDescription:"",Period:"",NoofInvoice:"",ConPaymentTermsName:"",ContractDate:"",NoOfBilling:"",CreatedByDate:"",ApprovedDate:"",DisplayEndDate:"",ConStatus:"",EnquiryCode:"",EnquiryDate:"",QuotationCode:"",QuotationDate:"",SiteSurveyCode:"",SiteSurveyDate:"",Notify1:"",NotifyDate1:"",Notify2:"",NotifyDate2:"",FollowUpDate:"",IsEnableClient:"",IsExtended:"",IsPPM:"",IsBDM:"",IsDSM:"",IsIncident:"",IsCase:"",NoofPrimary:"",NoofSecondary:"",NoofSupervisor:"",NoofEngineer:"",ShiftNoofPrimary:"",ShiftNoofSecondary:"",IsEnableValue:"",IsRenewal:"",IsBudgetValByCont:"",TotalContractValue:"",ContractLeassValue:"",ContractLeassDate:"",TotalLessContractValue:"",FieldRadius:"",IsRes:"",IsInclusive:"",IsConType:"",ConZoomValue:"",StatusKey:"",XContractKey:"",RenewalConKey:"",ShiftKey:"",SalesEmpKey:"",CreatedEmpKey:"",ApprovedEmpKey:"",ParentContractName:""}),[ue,pe]=(0,l.useState)([]),[Ce,ye]=(0,l.useState)([]),[ge,De]=(0,l.useState)([]),[Ie,Se]=(0,l.useState)(!1),[Ee,fe]=(0,l.useState)("");let ve=(0,x.Z)();const Ne=[{columns:ue,data:P}];(0,l.useEffect)((()=>{e.GridView&&function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),J({type:"language",payload:Object.assign({},...n)}),me(a.reduce(((e,t)=>(e[t]="",e)),{})),Q(e),U(t),Y(a),pe(l),ye(a)}(p)}),[p,e.GridView]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{he()},viewrecord:e=>{R.map(((t,a)=>{t.ContractIDPK==e&&J({type:"editData",payload:[R[a]]})}))},DialogTableProps:e=>{D(e)},searchData:(t,a,l)=>{W.loading(!0),d.current&&d.current.clearItem(),fe(l),b({current:1,pageSize:10}),X=e.ApiParamType.params,Te({current:1,pageSize:100},a,l),s.current&&s.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&ie(e.cardview),e.Dialogview&&D(e.Dialogview)}),[e.cardview,e.Dialogview]);const he=()=>{$.IsDraft?Te(T,X,"DraftContractID"):Te(T,X,"ContractID")},Te=async(t,a,l,n)=>{if($.token[0]){if(W.loading(!0),"DraftPage"!==n&&te($.IsDraft),await fe((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],n=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=n[e];a=t}z(a);let o=h.v.Api+`${e.ApiType}/`,r={data:{p1:a&&a.ContractIDPK?a.ContractIDPK:null,p2:a&&a.ContractCode?a.ContractCode:null,p3:a&&a.ContractName?a.ContractName:null,p4:a&&a.ContractDate?a.ContractDate:null,p5:a&&a.ContractDateType?a.ContractDateType:null,p6:a&&a.ContractDateBetween?a.ContractDateBetween:null,p7:a&&a.ContractValue?a.ContractValue:null,p8:a&&a.ExtendedValue?a.ExtendedValue:null,p9:a&&a.NoOfBilling?a.NoOfBilling:null,p10:a&&a.Period?a.Period:null,p11:a&&a.StartDate?a.StartDate:null,p12:a&&a.StartDateType?a.StartDateType:null,p13:a&&a.StartDateBetween?a.StartDateBetween:null,p14:a&&a.EndDate?a.EndDate:null,p15:a&&a.EndDateType?a.EndDateType:null,p16:a&&a.EndDateBetween?a.EndDateBetween:null,p17:a&&a.AnnualReviewDate?a.AnnualReviewDate:null,p18:a&&a.AnnualReviewDateType?a.AnnualReviewDateType:null,p19:a&&a.AnnualReviewDateBetween?a.AnnualReviewDateBetween:null,p20:a&&a.CreatedByDate?a.CreatedByDate:null,p21:a&&a.CreatedByDateType?a.CreatedByDateType:null,p22:a&&a.CreatedByDateBetween?a.CreatedByDateBetween:null,p23:a&&a.ApprovedDate?a.ApprovedDate:null,p24:a&&a.ApprovedDateType?a.ApprovedDateType:null,p25:a&&a.ApprovedDateBetween?a.ApprovedDateBetween:null,p26:a&&a.DisplayEndDate?a.DisplayEndDate:null,p27:a&&a.DisplayEndDateType?a.DisplayEndDateType:null,p28:a&&a.DisplayEndDateBetween?a.DisplayEndDateBetween:null,p29:a&&a.ExtendedDate?a.ExtendedDate:null,p30:a&&a.ExtendedDateType?a.ExtendedDateType:null,p31:a&&a.ExtendedDateBetween?a.ExtendedDateBetween:null,p32:a&&a.ConStatus?a.ConStatus:null,p33:a&&a.Retention?a.Retention:null,p34:a&&a.InvoiceDescription?a.InvoiceDescription:null,p35:a&&a.AcknowledgedBy?a.AcknowledgedBy:null,p36:a&&a.SignedBy?a.SignedBy:null,p37:a&&a.EnquiryCode?a.EnquiryCode:null,p38:a&&a.EnquiryDate?a.EnquiryDate:null,p39:a&&a.EnquiryDateType?a.EnquiryDateType:null,p40:a&&a.EnquiryDateBetween?a.EnquiryDateBetween:null,p41:a&&a.QuotationCode?a.QuotationCode:null,p42:a&&a.QuotationDate?a.QuotationDate:null,p43:a&&a.QuotationDateType?a.QuotationDateType:null,p44:a&&a.QuotationDateBetween?a.QuotationDateBetween:null,p45:a&&a.SiteSurveyCode?a.SiteSurveyCode:null,p46:a&&a.SiteSurveyDate?a.SiteSurveyDate:null,p47:a&&a.SiteSurveyDateType?a.SiteSurveyDateType:null,p48:a&&a.SiteSurveyDateBetween?a.SiteSurveyDateBetween:null,p49:a&&a.Notify1?a.Notify1:null,p50:a&&a.NotifyDate1?a.NotifyDate1:null,p51:a&&a.NotifyDate1Type?a.NotifyDate1Type:null,p52:a&&a.NotifyDate1Between?a.NotifyDate1Between:null,p53:a&&a.Notify2?a.Notify2:null,p54:a&&a.NotifyDate2?a.NotifyDate2:null,p55:a&&a.NotifyDate2Type?a.NotifyDate2Type:null,p56:a&&a.NotifyDate2Between?a.NotifyDate2Between:null,p57:a&&a.NoofInvoice?a.NoofInvoice:null,p58:a&&a.LosedDate?a.LosedDate:null,p59:a&&a.LosedDateType?a.LosedDateType:null,p60:a&&a.LosedDateBetween?a.LosedDateBetween:null,p61:a&&a.LosedComment?a.LosedComment:null,p62:a&&a.FollowUpDate?a.FollowUpDate:null,p63:a&&a.FollowUpDateType?a.FollowUpDateType:null,p64:a&&a.FollowUpDateBetween?a.FollowUpDateBetween:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:a&&a.NoofPrimary?a.NoofPrimary:null,p73:a&&a.NoofSecondary?a.NoofSecondary:null,p74:a&&a.NoofSupervisor?a.NoofSupervisor:null,p75:a&&a.NoofEngineer?a.NoofEngineer:null,p76:a&&a.ShiftNoofPrimary?a.ShiftNoofPrimary:null,p77:a&&a.ShiftNoofSecondary?a.ShiftNoofSecondary:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:a&&a.XContractKey?a.XContractKey:null,p84:a&&a.ParentContractIKeyD?a.ParentContractIKeyD:null,p85:a&&a.RenewalConKey?a.RenewalConKey:null,p86:a&&a.ShiftKey?a.ShiftKey:null,p87:a&&a.SalesEmpKey?a.SalesEmpKey:null,p88:a&&a.CreatedEmpKey?a.CreatedEmpKey:null,p89:a&&a.ApprovedEmpKey?a.ApprovedEmpKey:null,p90:a&&a.TotalContractValue?a.TotalContractValue:null,p91:a&&a.ContractLeassValue?a.ContractLeassValue:null,p92:a&&a.ContractLeassDate?a.ContractLeassDate:null,p93:a&&a.ContractLeassDateType?a.ContractLeassDateType:null,p94:a&&a.ContractLeassDateBetween?a.ContractLeassDateBetween:null,p95:a&&a.TotalLessContractValue?a.TotalLessContractValue:null,p96:a&&a.ConLatitude?a.ConLatitude:null,p97:a&&a.ConLongitude?a.ConLongitude:null,p98:a&&a.FieldRadius?a.FieldRadius:null,p99:a&&a.SACCode?a.SACCode:null,p100:null,p101:null,p102:a&&a.VatAmount?a.VatAmount:null,p103:a&&a.ConValueBeforVat?a.ConValueBeforVat:null,p104:null,p105:null,p106:a&&a.ConZoomValue?a.ConZoomValue:null,p107:a&&a.ConGenerateCode?a.ConGenerateCode:null,p108:a&&a.ConTRNno?a.ConTRNno:null,p109:a&&a.ConEmail?a.ConEmail:null,p110:null,p111:"DraftContractID"==l?"1":"0",p112:a&&a.StatusKey?a.StatusKey:null,p113:null,p114:a&&a.ContractGroupID?a.ContractGroupID:null,p115:a&&a.TaxID?a.TaxID:null,p116:a&&a.CustomerID?a.CustomerID:null,p117:a&&a.ContractTypeID?a.ContractTypeID:null,p118:a&&a.ContractCategID?a.ContractCategID:null,p119:a&&a.OrganisationID?a.OrganisationID:null,p120:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p121:a&&a.IsActive,p122:null,p123:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p124:a&&a.CreatedTtm?a.CreatedTtm:null,p125:a&&a.CreatedTtmType?a.CreatedTtmType:null,p126:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p127:null,p128:a&&a.ContractGroupCode?a.ContractGroupCode:null,p129:a&&a.ContractGroupName?a.ContractGroupName:null,p130:a&&a.TaxCode?a.TaxCode:null,p131:a&&a.TaxName?a.TaxName:null,p132:a&&a.TaxValue?a.TaxValue:null,p133:a&&a.EmployeeID?a.EmployeeID:null,p134:a&&a.EmployeeCode?a.EmployeeCode:null,p135:a&&a.FirstName?a.FirstName:null,p136:a&&a.EmpContactNo1?a.EmpContactNo1:null,p137:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p138:a&&a.CityID?a.CityID:null,p139:a&&a.CityCode?a.CityCode:null,p140:a&&a.CityName?a.CityName:null,p141:a&&a.RegionID?a.RegionID:null,p142:a&&a.RegionCode?a.RegionCode:null,p143:a&&a.RegionName?a.RegionName:null,p144:a&&a.CountryID?a.CountryID:null,p145:a&&a.CountryCode?a.CountryCode:null,p146:a&&a.CountryName?a.CountryName:null,p147:a&&a.CustGroupID?a.CustGroupID:null,p148:a&&a.CustGroupCode?a.CustGroupCode:null,p149:a&&a.CustGroupName?a.CustGroupName:null,p150:a&&a.BusinessClasificationID?a.BusinessClasificationID:null,p151:a&&a.ClasificationCode?a.ClasificationCode:null,p152:a&&a.ClasificationName?a.ClasificationName:null,p153:a&&a.CustomerCode?a.CustomerCode:null,p154:a&&a.CustomerName?a.CustomerName:null,p155:a&&a.ComplaintHeaderID?a.ComplaintHeaderID:null,p156:a&&a.ComplaintHeaderCode?a.ComplaintHeaderCode:null,p157:a&&a.ComplaintHeaderName?a.ComplaintHeaderName:null,p158:a&&a.ContractTypCode?a.ContractTypCode:null,p159:a&&a.ContractTypeName?a.ContractTypeName:null,p160:a&&a.ContractCategCode?a.ContractCategCode:null,p161:a&&a.ContractCategName?a.ContractCategName:null,p162:a&&a.OrganisationCode?a.OrganisationCode:null,p163:a&&a.OrganisationName?a.OrganisationName:null,p164:a&&a.PaymentTermsTypeID?a.PaymentTermsTypeID:null,p165:a&&a.PaymentTermsTypeCode?a.PaymentTermsTypeCode:null,p166:a&&a.PaymentTermsTypeName?a.PaymentTermsTypeName:null,p167:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p168:t.current,p169:t.pageSize,p170:l,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};(0,m.Z)(o,r,$.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,N(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),J({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?f(Math.ceil(a)):20==t.pageSize?f(Math.ceil(a/2)):50==t.pageSize?f(Math.ceil(a/5)):100==t.pageSize&&f(Math.ceil(a/10)),k(e.Output.data)}}else W.alert({open:!0,color:"warning",message:[(a="There is no Record Found",ve?.[a]?ve[a]:a)]}),k([]),f(0),N(0),J({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{oe($.ExpandTableValue)}),[$.ExpandTableValue]),n().createElement("div",null,n().createElement(r.Z,{expanded:ae,onChange:()=>()=>{le(ne)}},n().createElement(c.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",v,")")))))),n().createElement(i.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"ConContractRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(y.Z,{formctrlidprint:"fld156L4TCExportPrint",formctrlidexport:"fld156L4TCExportTable",formctrlidrefresh:"fld156L4TCExportRefresh",title:"156",data:w,exportData:Ne,Items:Ce,columnIndex:ue,triggerApi:t=>{((t,l,n)=>{if(0===v)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let o=h.v.Api+`${e.ApiType}/`,r={data:{p1:t||(t&&t.ContractIDPK?t.ContractIDPK:null),p2:t&&t.ContractCode?t.ContractCode:null,p3:t&&t.ContractName?t.ContractName:null,p4:t&&t.ContractDate?t.ContractDate:null,p5:t&&t.ContractDateType?t.ContractDateType:null,p6:t&&t.ContractDateBetween?t.ContractDateBetween:null,p7:t&&t.ContractValue?t.ContractValue:null,p8:t&&t.ExtendedValue?t.ExtendedValue:null,p9:t&&t.NoOfBilling?t.NoOfBilling:null,p10:t&&t.Period?t.Period:null,p11:t&&t.StartDate?t.StartDate:null,p12:t&&t.StartDateType?t.StartDateType:null,p13:t&&t.StartDateBetween?t.StartDateBetween:null,p14:t&&t.EndDate?t.EndDate:null,p15:t&&t.EndDateType?t.EndDateType:null,p16:t&&t.EndDateBetween?t.EndDateBetween:null,p17:t&&t.AnnualReviewDate?t.AnnualReviewDate:null,p18:t&&t.AnnualReviewDateType?t.AnnualReviewDateType:null,p19:t&&t.AnnualReviewDateBetween?t.AnnualReviewDateBetween:null,p20:t&&t.CreatedByDate?t.CreatedByDate:null,p21:t&&t.CreatedByDateType?t.CreatedByDateType:null,p22:t&&t.CreatedByDateBetween?t.CreatedByDateBetween:null,p23:t&&t.ApprovedDate?t.ApprovedDate:null,p24:t&&t.ApprovedDateType?t.ApprovedDateType:null,p25:t&&t.ApprovedDateBetween?t.ApprovedDateBetween:null,p26:t&&t.DisplayEndDate?t.DisplayEndDate:null,p27:t&&t.DisplayEndDateType?t.DisplayEndDateType:null,p28:t&&t.DisplayEndDateBetween?t.DisplayEndDateBetween:null,p29:t&&t.ExtendedDate?t.ExtendedDate:null,p30:t&&t.ExtendedDateType?t.ExtendedDateType:null,p31:t&&t.ExtendedDateBetween?t.ExtendedDateBetween:null,p32:t&&t.ConStatus?t.ConStatus:null,p33:t&&t.Retention?t.Retention:null,p34:t&&t.InvoiceDescription?t.InvoiceDescription:null,p35:t&&t.AcknowledgedBy?t.AcknowledgedBy:null,p36:t&&t.SignedBy?t.SignedBy:null,p37:t&&t.EnquiryCode?t.EnquiryCode:null,p38:t&&t.EnquiryDate?t.EnquiryDate:null,p39:t&&t.EnquiryDateType?t.EnquiryDateType:null,p40:t&&t.EnquiryDateBetween?t.EnquiryDateBetween:null,p41:t&&t.QuotationCode?t.QuotationCode:null,p42:t&&t.QuotationDate?t.QuotationDate:null,p43:t&&t.QuotationDateType?t.QuotationDateType:null,p44:t&&t.QuotationDateBetween?t.QuotationDateBetween:null,p45:t&&t.SiteSurveyCode?t.SiteSurveyCode:null,p46:t&&t.SiteSurveyDate?t.SiteSurveyDate:null,p47:t&&t.SiteSurveyDateType?t.SiteSurveyDateType:null,p48:t&&t.SiteSurveyDateBetween?t.SiteSurveyDateBetween:null,p49:t&&t.Notify1?t.Notify1:null,p50:t&&t.NotifyDate1?t.NotifyDate1:null,p51:t&&t.NotifyDate1Type?t.NotifyDate1Type:null,p52:t&&t.NotifyDate1Between?t.NotifyDate1Between:null,p53:t&&t.Notify2?t.Notify2:null,p54:t&&t.NotifyDate2?t.NotifyDate2:null,p55:t&&t.NotifyDate2Type?t.NotifyDate2Type:null,p56:t&&t.NotifyDate2Between?t.NotifyDate2Between:null,p57:t&&t.NoofInvoice?t.NoofInvoice:null,p58:t&&t.LosedDate?t.LosedDate:null,p59:t&&t.LosedDateType?t.LosedDateType:null,p60:t&&t.LosedDateBetween?t.LosedDateBetween:null,p61:t&&t.LosedComment?t.LosedComment:null,p62:t&&t.FollowUpDate?t.FollowUpDate:null,p63:t&&t.FollowUpDateType?t.FollowUpDateType:null,p64:t&&t.FollowUpDateBetween?t.FollowUpDateBetween:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:t&&t.NoofPrimary?t.NoofPrimary:null,p73:t&&t.NoofSecondary?t.NoofSecondary:null,p74:t&&t.NoofSupervisor?t.NoofSupervisor:null,p75:t&&t.NoofEngineer?t.NoofEngineer:null,p76:t&&t.ShiftNoofPrimary?t.ShiftNoofPrimary:null,p77:t&&t.ShiftNoofSecondary?t.ShiftNoofSecondary:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:t&&t.XContractKey?t.XContractKey:null,p84:t&&t.ParentContractIKeyD?t.ParentContractIKeyD:null,p85:t&&t.RenewalConKey?t.RenewalConKey:null,p86:t&&t.ShiftKey?t.ShiftKey:null,p87:t&&t.SalesEmpKey?t.SalesEmpKey:null,p88:t&&t.CreatedEmpKey?t.CreatedEmpKey:null,p89:t&&t.ApprovedEmpKey?t.ApprovedEmpKey:null,p90:t&&t.TotalContractValue?t.TotalContractValue:null,p91:t&&t.ContractLeassValue?t.ContractLeassValue:null,p92:t&&t.ContractLeassDate?t.ContractLeassDate:null,p93:t&&t.ContractLeassDateType?t.ContractLeassDateType:null,p94:t&&t.ContractLeassDateBetween?t.ContractLeassDateBetween:null,p95:t&&t.TotalLessContractValue?t.TotalLessContractValue:null,p96:t&&t.ConLatitude?t.ConLatitude:null,p97:t&&t.ConLongitude?t.ConLongitude:null,p98:t&&t.FieldRadius?t.FieldRadius:null,p99:t&&t.SACCode?t.SACCode:null,p100:null,p101:null,p102:t&&t.VatAmount?t.VatAmount:null,p103:t&&t.ConValueBeforVat?t.ConValueBeforVat:null,p104:null,p105:null,p106:t&&t.ConZoomValue?t.ConZoomValue:null,p107:t&&t.ConGenerateCode?t.ConGenerateCode:null,p108:t&&t.ConTRNno?t.ConTRNno:null,p109:t&&t.ConEmail?t.ConEmail:null,p110:null,p111:ee?"1":"0",p112:t&&t.StatusKey?t.StatusKey:null,p113:null,p114:t&&t.ContractGroupID?t.ContractGroupID:null,p115:t&&t.TaxID?t.TaxID:null,p116:t&&t.CustomerID?t.CustomerID:null,p117:t&&t.ContractTypeID?t.ContractTypeID:null,p118:t&&t.ContractCategID?t.ContractCategID:null,p119:t&&t.OrganisationID?t.OrganisationID:null,p120:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p121:t&&t.IsActive,p122:null,p123:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p124:t&&t.CreatedTtm?t.CreatedTtm:null,p125:t&&t.CreatedTtmType?t.CreatedTtmType:null,p126:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p127:null,p128:t&&t.ContractGroupCode?t.ContractGroupCode:null,p129:t&&t.ContractGroupName?t.ContractGroupName:null,p130:t&&t.TaxCode?t.TaxCode:null,p131:t&&t.TaxName?t.TaxName:null,p132:t&&t.TaxValue?t.TaxValue:null,p133:t&&t.EmployeeID?t.EmployeeID:null,p134:t&&t.EmployeeCode?t.EmployeeCode:null,p135:t&&t.FirstName?t.FirstName:null,p136:t&&t.EmpContactNo1?t.EmpContactNo1:null,p137:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p138:t&&t.CityID?t.CityID:null,p139:t&&t.CityCode?t.CityCode:null,p140:t&&t.CityName?t.CityName:null,p141:t&&t.RegionID?t.RegionID:null,p142:t&&t.RegionCode?t.RegionCode:null,p143:t&&t.RegionName?t.RegionName:null,p144:t&&t.CountryID?t.CountryID:null,p145:t&&t.CountryCode?t.CountryCode:null,p146:t&&t.CountryName?t.CountryName:null,p147:t&&t.CustGroupID?t.CustGroupID:null,p148:t&&t.CustGroupCode?t.CustGroupCode:null,p149:t&&t.CustGroupName?t.CustGroupName:null,p150:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p151:t&&t.ClasificationCode?t.ClasificationCode:null,p152:t&&t.ClasificationName?t.ClasificationName:null,p153:t&&t.CustomerCode?t.CustomerCode:null,p154:t&&t.CustomerName?t.CustomerName:null,p155:t&&t.ComplaintHeaderID?t.ComplaintHeaderID:null,p156:t&&t.ComplaintHeaderCode?t.ComplaintHeaderCode:null,p157:t&&t.ComplaintHeaderName?t.ComplaintHeaderName:null,p158:t&&t.ContractTypCode?t.ContractTypCode:null,p159:t&&t.ContractTypeName?t.ContractTypeName:null,p160:t&&t.ContractCategCode?t.ContractCategCode:null,p161:t&&t.ContractCategName?t.ContractCategName:null,p162:t&&t.OrganisationCode?t.OrganisationCode:null,p163:t&&t.OrganisationName?t.OrganisationName:null,p164:t&&t.PaymentTermsTypeID?t.PaymentTermsTypeID:null,p165:t&&t.PaymentTermsTypeCode?t.PaymentTermsTypeCode:null,p166:t&&t.PaymentTermsTypeName?t.PaymentTermsTypeName:null,p167:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p168:1,p169:v,p170:Ee,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};var i;W.loading(!1),W.alert({open:!0,color:"success",message:[`${i="156",$.language?.[i]?$.language[i]:i} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,m.Z)(o,r,$.token[0],n).then((e=>{(0,M.PDF_Excel_Generate)(e,W,Ce,L,a,n)}))})(V,F.column,t)},TableVisibleItem:H,userGridViewFormID:"156",TableTotalCount:v,Refresh:()=>{Te({current:1,pageSize:100},V,Ee),b({current:1,pageSize:100}),s.current&&s.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!$.AccessRights.IsPrint,disabledExport:!$.AccessRights.IsExport,ref:a})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(I.Z,{count:E,siblingCount:0,color:"primary",page:T.current,onChange:(e,t)=>{if(b({current:t,pageSize:T.pageSize}),ee)Te({current:t,pageSize:T.pageSize},V,"DraftContractID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Te({current:t,pageSize:T.pageSize},V,"ContractID")}}}),n().createElement("div",null,n().createElement(S.Z,{value:T.pageSize,onChange:e=>{b({current:1,pageSize:e.target.value}),Te({current:1,pageSize:e.target.value},V,"ContractID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),n().createElement("div",{id:"ConContractRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"ConContractRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:s,type:e.viewtype,id:"ConContractRegistry",headerdata:H,tablesearchparams:se,searchvalue:e=>{me(e),b({current:1,pageSize:100}),Te({current:1,pageSize:100},e,ee?"DraftContractID":"ContractID",ee&&"DraftPage")},bodydata:R,ondrag:(e,t)=>{J({type:"editData",payload:[t]}),J({type:"IsDraft",payload:ee}),J({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:ee,accessrights:$.AccessRights,expanded:()=>{},edit:(t,a,l)=>{g?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,a,l):W.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{k(e)},color:!0,isexpanded:!1}):n().createElement(Z.Z,{frmctrlid:"tblcs_156_L4_",ref:d,id:"ConContractRegistryTable",type:e.viewtype,headerdata:H,tablesearchparams:se,searchvalue:e=>{let t={...V,...e};me(e),z(t),b({current:1,pageSize:100}),Te(T,t,Ee)},bodydata:R,ondrag:(e,t)=>{J({type:"editData",payload:[t]}),J({type:"IsDraft",payload:ee}),J({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:ee,accessrights:$.AccessRights,expanded:()=>{},edit:(t,a,l)=>{g?W.select(t):(e.editdata(t,"view"),W.edit(t,a,1!=t.Entry))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},13291:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M}),a(95866),a(99058);var l=a(92950),n=a.n(l),o=a(80366),r=a(51673),i=a(282),c=a(868),d=a(78513),s=a(14439),m=a(27848),u=a(40900),p=a(64059),C=a(24038),y=a(8981),g=a(47516),D=a(86893),I=a(8712),S=a(33681),E=a(63163),f=(a(35131),a(61956),a(93657)),v=a(53375),N=a(52663),h=a(66083),T=a(29525),b=a(66856),P=a(39803),L=a(99940),x=a(17149),w=a(62810),B=a(30553),F=a(92381),A=a(25108);const M=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[M,R]=(0,l.useState)([]),[k,O]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[Z,G]=(0,l.useState)(""),[q,K]=(0,l.useState)({}),[V,z]=(0,l.useState)(!0),[_,Q]=(0,l.useState)(!1),{cstate:H,cdispatch:U}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[j,Y]=(0,l.useState)(1),[W,$]=(0,l.useState)(0),[J,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[ne,oe]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1),[ce,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(!1),[ge,De]=(0,l.useState)(""),Ie=(0,l.useRef)(null),[Se,Ee]=(0,l.useState)({});let fe=localStorage.getItem("Language");const ve={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ne=(0,y.Z)();const he=e=>Ne[e]?Ne[e]:e,Te=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[ve[fe]];function be(){K({}),te({}),e.searchData({}),Q(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ee(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Ie.current&&Ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{be()}})));const Pe=async(t,a,l,n)=>{X(!0);try{Ie.current&&Ie.current.abort();const o=new AbortController;Ie.current=o;let i="",c=[],d={};await O((e=>(i=e.name,e))),await K((e=>(c=e,e))),await te((e=>(d=e,e)));const s=u.v.Api+"FP156S3/",m={data:{p1:"ContractIDPK"==a?null:await Fe(),p2:"ContractCode"==i&&l.length>0?"%"+l+"%":null,p3:"ContractName"==i&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:"ContractValue"==i&&l.length>0?"%"+l+"%":null,p8:"ExtendedValue"==i&&l.length>0?"%"+l+"%":null,p9:"NoOfBilling"==i&&l.length>0?"%"+l+"%":null,p10:"Period"==i&&l.length>0?"%"+l+"%":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:"ConStatus"==i&&l.length>0?"%"+l+"%":null,p33:"Retention"==i&&l.length>0?"%"+l+"%":null,p34:"InvoiceDescription"==i&&l.length>0?"%"+l+"%":null,p35:"AcknowledgedBy"==i&&l.length>0?"%"+l+"%":null,p36:"SignedBy"==i&&l.length>0?"%"+l+"%":null,p37:"EnquiryCode"==i&&l.length>0?"%"+l+"%":null,p38:null,p39:null,p40:null,p41:"QuotationCode"==i&&l.length>0?"%"+l+"%":null,p42:null,p43:null,p44:null,p45:"SiteSurveyCode"==i&&l.length>0?"%"+l+"%":null,p46:null,p47:null,p48:null,p49:"Notify1"==i&&l.length>0?"%"+l+"%":null,p50:d.NotifyDate1?d.NotifyDate1.From:null,p51:d.NotifyDate1?d.NotifyDate1.Type:null,p52:d.NotifyDate1?d.NotifyDate1.To:null,p53:"Notify2"==i&&l.length>0?"%"+l+"%":null,p54:d.NotifyDate2?d.NotifyDate2.From:null,p55:d.NotifyDate2?d.NotifyDate2.Type:null,p56:d.NotifyDate2?d.NotifyDate2.To:null,p57:"NoofInvoice"==i&&l.length>0?"%"+l+"%":null,p58:null,p59:null,p60:null,p61:"LosedComment"==i&&l.length>0?"%"+l+"%":null,p62:null,p63:null,p64:null,p65:"IsEnableClient"==i&&l.length>0?"%"+l+"%":null,p66:"IsExtended"==i&&l.length>0?"%"+l+"%":null,p67:"IsPPM"==i&&l.length>0?"%"+l+"%":null,p68:"IsBDM"==i&&l.length>0?"%"+l+"%":null,p69:"IsDSM"==i&&l.length>0?"%"+l+"%":null,p70:"IsIncident"==i&&l.length>0?"%"+l+"%":null,p71:"IsCase"==i&&l.length>0?"%"+l+"%":null,p72:"NoofPrimary"==i&&l.length>0?"%"+l+"%":null,p73:"NoofSecondary"==i&&l.length>0?"%"+l+"%":null,p74:"NoofSupervisor"==i&&l.length>0?"%"+l+"%":null,p75:"NoofEngineer"==i&&l.length>0?"%"+l+"%":null,p76:"ShiftNoofPrimary"==i&&l.length>0?"%"+l+"%":null,p77:"ShiftNoofSecondary"==i&&l.length>0?"%"+l+"%":null,p78:"IsNonContract"==i&&l.length>0?"%"+l+"%":null,p79:"IsEnableBudget"==i&&l.length>0?"%"+l+"%":null,p80:"IsEnableValue"==i&&l.length>0?"%"+l+"%":null,p81:"IsRenewal"==i&&l.length>0?"%"+l+"%":null,p82:"IsBudgetValByCont"==i&&l.length>0?"%"+l+"%":null,p83:"XContractKey"==i&&l.length>0?"%"+l+"%":null,p84:"ParentContractIKeyD"==i&&l.length>0?"%"+l+"%":null,p85:"RenewalConKey"==i&&l.length>0?"%"+l+"%":null,p86:"ShiftKey"==i&&l.length>0?"%"+l+"%":null,p87:"SalesEmpKey"==i&&l.length>0?"%"+l+"%":null,p88:"CreatedEmpKey"==i&&l.length>0?"%"+l+"%":null,p89:"ApprovedEmpKey"==i&&l.length>0?"%"+l+"%":null,p90:"TotalContractValue"==i&&l.length>0?"%"+l+"%":null,p91:"ContractLeassValue"==i&&l.length>0?"%"+l+"%":null,p92:null,p93:null,p94:null,p95:"TotalLessContractValue"==i&&l.length>0?"%"+l+"%":null,p96:"ConLatitude"==i&&l.length>0?"%"+l+"%":null,p97:"ConLongitude"==i&&l.length>0?"%"+l+"%":null,p98:"FieldRadius"==i&&l.length>0?"%"+l+"%":null,p99:"SACCode"==i&&l.length>0?"%"+l+"%":null,p100:"IsRes"==i&&l.length>0?"%"+l+"%":null,p101:"IsInclusive"==i&&l.length>0?"%"+l+"%":null,p102:"VatAmount"==i&&l.length>0?"%"+l+"%":null,p103:"ConValueBeforVat"==i&&l.length>0?"%"+l+"%":null,p104:"IsConType"==i&&l.length>0?"%"+l+"%":null,p105:"IsConLost"==i&&l.length>0?"%"+l+"%":null,p106:"ConZoomValue"==i&&l.length>0?"%"+l+"%":null,p107:"ConGenerateCode"==i&&l.length>0?"%"+l+"%":null,p108:"ConTRNno"==i&&l.length>0?"%"+l+"%":null,p109:"ConEmail"==i&&l.length>0?"%"+l+"%":null,p110:null,p111:null,p112:"StatusKey"==i&&l.length>0?"%"+l+"%":null,p113:null,p114:"ContractGroupName"!=i&&c.ContractGroupName?c.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p115:"TaxName"!=i&&c.TaxName?c.TaxName.map((e=>e.TaxIDPK)).toString():null,p116:"CustomerName"!=i&&c.CustomerName?c.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p117:"ContractTypeName"!=i&&c.ContractTypeName?c.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p118:"ContractCategName"!=i&&c.ContractCategName?c.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p119:"OrganisationName"!=i&&c.OrganisationName?c.OrganisationName.map((e=>e.OrganisationIDPK)).toString():null,p120:"ConPaymentTermsName"!=i&&c.ConPaymentTermsName?c.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p121:e.Dialogview?"1":null,p122:null,p123:"p123"==i&&l.length>0?l:null,p124:null,p125:null,p126:null,p127:null,p128:"ContractGroupCode"==i&&l.length>0?"%"+l+"%":null,p129:"ContractGroupName"==i&&l.length>0?"%"+l+"%":null,p130:"TaxCode"==i&&l.length>0?"%"+l+"%":null,p131:"TaxName"==i&&l.length>0?"%"+l+"%":null,p132:"TaxValue"==i&&l.length>0?"%"+l+"%":null,p133:"FirstName"!=i&&c.FirstName?c.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p134:"EmployeeCode"==i&&l.length>0?"%"+l+"%":null,p135:"FirstName"==i&&l.length>0?"%"+l+"%":null,p136:"EmpContactNo1"==i&&l.length>0?"%"+l+"%":null,p137:"EmpEmailOfficial"==i&&l.length>0?"%"+l+"%":null,p138:"CityName"!=i&&c.CityName?c.CityName.map((e=>e.CityIDPK)).toString():null,p139:"CityCode"==i&&l.length>0?"%"+l+"%":null,p140:"CityName"==i&&l.length>0?"%"+l+"%":null,p141:"RegionName"!=i&&c.RegionName?c.RegionName.map((e=>e.RegionIDPK)).toString():null,p142:"RegionCode"==i&&l.length>0?"%"+l+"%":null,p143:"RegionName"==i&&l.length>0?"%"+l+"%":null,p144:"CountryName"!=i&&c.CountryName?c.CountryName.map((e=>e.CountryIDPK)).toString():null,p145:"CountryCode"==i&&l.length>0?"%"+l+"%":null,p146:"CountryName"==i&&l.length>0?"%"+l+"%":null,p147:"CustGroupName"!=i&&c.CustGroupName?c.CustGroupName.map((e=>e.CustGroupIDPK)).toString():null,p148:"CustGroupCode"==i&&l.length>0?"%"+l+"%":null,p149:"CustGroupName"==i&&l.length>0?"%"+l+"%":null,p150:"ClasificationName"!=i&&c.ClasificationName?c.ClasificationName.map((e=>e.BusinessClasificationIDPK)).toString():null,p151:"ClasificationCode"==i&&l.length>0?"%"+l+"%":null,p152:"ClasificationName"==i&&l.length>0?"%"+l+"%":null,p153:"CustomerCode"==i&&l.length>0?"%"+l+"%":null,p154:"CustomerName"==i&&l.length>0?"%"+l+"%":null,p155:"ComplaintHeaderName"!=i&&c.ComplaintHeaderName?c.ComplaintHeaderName.map((e=>e.ComplaintHeaderIDPK)).toString():null,p156:"ComplaintHeaderCode"==i&&l.length>0?"%"+l+"%":null,p157:"ComplaintHeaderName"==i&&l.length>0?"%"+l+"%":null,p158:"ContractTypCode"==i&&l.length>0?"%"+l+"%":null,p159:"ContractTypeName"==i&&l.length>0?"%"+l+"%":null,p160:"ContractCategCode"==i&&l.length>0?"%"+l+"%":null,p161:"ContractCategName"==i&&l.length>0?"%"+l+"%":null,p162:"OrganisationCode"==i&&l.length>0?"%"+l+"%":null,p163:"OrganisationName"==i&&l.length>0?"%"+l+"%":null,p164:"PaymentTermsTypeName"!=i&&c.PaymentTermsTypeName?c.PaymentTermsTypeName.map((e=>e.PaymentTermsTypeIDPK)).toString():null,p165:"PaymentTermsTypeCode"==i&&l.length>0?"%"+l+"%":null,p166:"PaymentTermsTypeName"==i&&l.length>0?"%"+l+"%":null,p167:"ConPaymentTermsName"==i&&l.length>0?"%"+l+"%":null,p168:n||1,p169:10,p170:t,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}},p=await(0,r.Z)(s,m,e.token,"",o.signal);if(!p)return!1;const C=p.Output.status.code,y=p.Output.data;if("200"===C)if(y.length>0)if(1===n){let e=xe(y,i),t=Le(e,q[i],a);R(t),$(t.length>0?t[0].TotalCount:q[i].length)}else{let e=[...M,...y],t=xe(e,i);$(t.length<10?t.length:y[0].TotalCount),R(xe(t,i))}else Z.length>0&&R([]),$(M.length);else e.alertmsg("error",[p.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Le=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),xe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=Se[e];if(a){const e=a.flatMap((e=>q[e]?q[e].map((e=>e[t])):[]));return e.toString()}return""}const Be=async t=>{let a="",l={};await K((e=>(a=e,e)));let n=[...ae],o=[];for(let e of n){let t=a[e]?.map((e=>e.ContractIDPK)).toString();t&&o.push(t)}await te((e=>(l=e,e)));let r={ContractIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",StartDate:l.StartDate?l.StartDate.From:"",StartDateType:l.StartDate?l.StartDate.Type:"",StartDateBetween:l.StartDate?l.StartDate.To:"",EndDate:l.EndDate?l.EndDate.From:"",EndDateType:l.EndDate?l.EndDate.Type:"",EndDateBetween:l.EndDate?l.EndDate.To:"",AnnualReviewDate:l.AnnualReviewDate?l.AnnualReviewDate.From:"",AnnualReviewDateType:l.AnnualReviewDate?l.AnnualReviewDate.Type:"",AnnualReviewDateBetween:l.AnnualReviewDate?l.AnnualReviewDate.To:"",ExtendedDate:l.ExtendedDate?l.ExtendedDate.From:"",ExtendedDateType:l.ExtendedDate?l.ExtendedDate.Type:"",ExtendedDateBetween:l.ExtendedDate?l.ExtendedDate.To:"",LosedDate:l.LosedDate?l.LosedDate.From:"",LosedDateType:l.LosedDate?l.LosedDate.Type:"",LosedDateBetween:l.LosedDate?l.LosedDate.To:"",ContractDate:l.ContractDate?l.ContractDate.From:"",ContractDateType:l.ContractDate?l.ContractDate.Type:"",ContractDateBetween:l.ContractDate?l.ContractDate.To:"",CreatedByDate:l.CreatedByDate?l.CreatedByDate.From:"",CreatedByDateType:l.CreatedByDate?l.CreatedByDate.Type:"",CreatedByDateBetween:l.CreatedByDate?l.CreatedByDate.To:"",ApprovedDate:l.ApprovedDate?l.ApprovedDate.From:"",ApprovedDateType:l.ApprovedDate?l.ApprovedDate.Type:"",ApprovedDateBetween:l.ApprovedDate?l.ApprovedDate.To:"",DisplayEndDate:l.DisplayEndDate?l.DisplayEndDate.From:"",DisplayEndDateType:l.DisplayEndDate?l.DisplayEndDate.Type:"",DisplayEndDateBetween:l.DisplayEndDate?l.DisplayEndDate.To:"",EnquiryDate:l.EnquiryDate?l.EnquiryDate.From:"",EnquiryDateType:l.EnquiryDate?l.EnquiryDate.Type:"",EnquiryDateBetween:l.EnquiryDate?l.EnquiryDate.To:"",QuotationDate:l.QuotationDate?l.QuotationDate.From:"",QuotationDateType:l.QuotationDate?l.QuotationDate.Type:"",QuotationDateBetween:l.QuotationDate?l.QuotationDate.To:"",SiteSurveyDate:l.SiteSurveyDate?l.SiteSurveyDate.From:"",SiteSurveyDateType:l.SiteSurveyDate?l.SiteSurveyDate.Type:"",SiteSurveyDateBetween:l.SiteSurveyDate?l.SiteSurveyDate.To:"",NotifyDate1:l.NotifyDate1?l.NotifyDate1.From:"",NotifyDate1Type:l.NotifyDate1?l.NotifyDate1.Type:"",NotifyDate1Between:l.NotifyDate1?l.NotifyDate1.To:"",NotifyDate2:l.NotifyDate2?l.NotifyDate2.From:"",NotifyDate2Type:l.NotifyDate2?l.NotifyDate2.Type:"",NotifyDate2Between:l.NotifyDate2?l.NotifyDate2.To:"",FollowUpDate:l.FollowUpDate?l.FollowUpDate.From:"",FollowUpDateType:l.FollowUpDate?l.FollowUpDate.Type:"",FollowUpDateBetween:l.FollowUpDate?l.FollowUpDate.To:"",ContractLeassDate:l.ContractLeassDate?l.ContractLeassDate.From:"",ContractLeassDateType:l.ContractLeassDate?l.ContractLeassDate.Type:"",ContractLeassDateBetween:l.ContractLeassDate?l.ContractLeassDate.To:"",ContractTypeID:we("ContractTypeID"),ContractCategID:we("ContractCategID"),TaxID:we("TaxID"),ContractGroupID:we("ContractGroupID"),OrganisationID:we("OrganisationID"),CustomerID:we("CustomerID"),ConPaymentTermsID:we("ConPaymentTermsID")};"saveFav"==t?Re("save",r):(e.searchData(r),Q(!1))};async function Fe(){let e={};await K((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.ContractIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ae(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};te((e=>({...e,...i})));const d={...q};let s=[...ae],m=[];for(let e of s){let t=d[e]?.map((e=>e.ContractIDPK)).toString();t&&m.push(t)}await te((e=>(c=e,e)));let u={ContractIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,StartDate:c.StartDate?c.StartDate.From:"",StartDateType:c.StartDate?c.StartDate.Type:"",StartDateBetween:c.StartDate?c.StartDate.To:"",EndDate:c.EndDate?c.EndDate.From:"",EndDateType:c.EndDate?c.EndDate.Type:"",EndDateBetween:c.EndDate?c.EndDate.To:"",AnnualReviewDate:c.AnnualReviewDate?c.AnnualReviewDate.From:"",AnnualReviewDateType:c.AnnualReviewDate?c.AnnualReviewDate.Type:"",AnnualReviewDateBetween:c.AnnualReviewDate?c.AnnualReviewDate.To:"",ExtendedDate:c.ExtendedDate?c.ExtendedDate.From:"",ExtendedDateType:c.ExtendedDate?c.ExtendedDate.Type:"",ExtendedDateBetween:c.ExtendedDate?c.ExtendedDate.To:"",LosedDate:c.LosedDate?c.LosedDate.From:"",LosedDateType:c.LosedDate?c.LosedDate.Type:"",LosedDateBetween:c.LosedDate?c.LosedDate.To:"",ContractDate:c.ContractDate?c.ContractDate.From:"",ContractDateType:c.ContractDate?c.ContractDate.Type:"",ContractDateBetween:c.ContractDate?c.ContractDate.To:"",CreatedByDate:c.CreatedByDate?c.CreatedByDate.From:"",CreatedByDateType:c.CreatedByDate?c.CreatedByDate.Type:"",CreatedByDateBetween:c.CreatedByDate?c.CreatedByDate.To:"",ApprovedDate:c.ApprovedDate?c.ApprovedDate.From:"",ApprovedDateType:c.ApprovedDate?c.ApprovedDate.Type:"",ApprovedDateBetween:c.ApprovedDate?c.ApprovedDate.To:"",DisplayEndDate:c.DisplayEndDate?c.DisplayEndDate.From:"",DisplayEndDateType:c.DisplayEndDate?c.DisplayEndDate.Type:"",DisplayEndDateBetween:c.DisplayEndDate?c.DisplayEndDate.To:"",EnquiryDate:c.EnquiryDate?c.EnquiryDate.From:"",EnquiryDateType:c.EnquiryDate?c.EnquiryDate.Type:"",EnquiryDateBetween:c.EnquiryDate?c.EnquiryDate.To:"",QuotationDate:c.QuotationDate?c.QuotationDate.From:"",QuotationDateType:c.QuotationDate?c.QuotationDate.Type:"",QuotationDateBetween:c.QuotationDate?c.QuotationDate.To:"",SiteSurveyDate:c.SiteSurveyDate?c.SiteSurveyDate.From:"",SiteSurveyDateType:c.SiteSurveyDate?c.SiteSurveyDate.Type:"",SiteSurveyDateBetween:c.SiteSurveyDate?c.SiteSurveyDate.To:"",NotifyDate1:c.NotifyDate1?c.NotifyDate1.From:"",NotifyDate1Type:c.NotifyDate1?c.NotifyDate1.Type:"",NotifyDate1Between:c.NotifyDate1?c.NotifyDate1.To:"",NotifyDate2:c.NotifyDate2?c.NotifyDate2.From:"",NotifyDate2Type:c.NotifyDate2?c.NotifyDate2.Type:"",NotifyDate2Between:c.NotifyDate2?c.NotifyDate2.To:"",FollowUpDate:c.FollowUpDate?c.FollowUpDate.From:"",FollowUpDateType:c.FollowUpDate?c.FollowUpDate.Type:"",FollowUpDateBetween:c.FollowUpDate?c.FollowUpDate.To:"",ContractLeassDate:c.ContractLeassDate?c.ContractLeassDate.From:"",ContractLeassDateType:c.ContractLeassDate?c.ContractLeassDate.Type:"",ContractLeassDateBetween:c.ContractLeassDate?c.ContractLeassDate.To:"",ContractTypeID:q.ContractTypeName?.map((e=>e.ContractTypeIDPK)).toString(),ContractCategID:q.ContractCategName?.map((e=>e.ContractCategIDPK)).toString(),TaxID:q.TaxName?.map((e=>e.TaxIDPK)).toString(),ContractGroupID:q.ContractGroupName?.map((e=>e.ContractGroupIDPK)).toString(),OrganisationID:q.OrganisationName?.map((e=>e.OrganisationIDPK)).toString(),CustomerID:q.CustomerName?.map((e=>e.CustomerIDPK)).toString(),ConPaymentTermsID:q.ConPaymentTermsName?.map((e=>e.ConPaymentTermsIDPK)).toString()};e.searchData(u)}function Me(){return n().createElement(p.Z,{frmctrlid:"fld156L4TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Ae(e,t,a,k.name,l)},keyboardback:()=>{Q(!1),O({idpk:"",name:"",type:"",fieldidpk:""})},title:he(k.name),fieldname:k.name,save:e=>{alert(!0)}})}const Re=(t,a)=>{(0,F.Z)(t,e.formID,a,ce).then((e=>{const t=e.Output.data;De(t)}))};return n().createElement("div",null,n().createElement(N.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:se},n().createElement(h.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),n().createElement(T.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(P.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ce,onChange:e=>de(e.target.value),fullWidth:!0})),n().createElement(B.Z,{style:{color:"#337ab7"},control:n().createElement(L.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Quick"}),n().createElement(B.Z,{style:{color:"#337ab7"},control:n().createElement(L.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:Ce,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),n().createElement(b.Z,null,n().createElement(i.Z,{onClick:()=>{Be("saveFav"),me(!1)},color:"primary"},"Save"))),_?"Created Ttm"===k.name||k.name.includes("Date")?n().createElement(Me,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(s.Z,null,n().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Te(k.idpk)," (",M.length,"/",W,")")),n().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(c.ZP,{title:he("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(o.Z,{id:"fld156L4TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{Q(!1),O({idpk:"",name:"",type:"",fieldidpk:!1}),Y(1)}}))),q[k.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(i.Z,{frmctrlid:"fld156L4TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,A.log("clear fewItems",e),t))),e[k.name]=[],Pe(k.type,k.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},V?n().createElement(c.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{z(!1)}}))):n().createElement(c.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{z(!0)}})))),n().createElement("ul",null,q[k.name]&&q[k.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:V?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[k.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[k.name],onClick:()=>(async(e,t)=>{Y(1);let a=q[k.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[k.name]=a,K(l),R((t=>[e,...t]))})(e)},n().createElement(o.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(C.Z,{frmctrlid:"fld156L4TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:Z,placeholder:he("Enter ")+" "+Te(k.idpk),onChange:e=>{G(e),Pe(k.type,k.fieldidpk,e,1,Fe())}})),n().createElement("div",{id:"fld156L4TFCFilterGoForward",className:"FilterSearchBtn",onClick:Be},n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(i.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(S.Z,{color:"secondary"})),n().createElement("div",{id:"fld156L4TFCScrollYDefault",className:"height65 scrollYDefault"},M.length>0&&M.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[k.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let n=l[k.name];t[k.name]=n?[...a,...n]:a,l={...l,...t},K(l),R((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(d.Z,{className:"DotIcon"}),n().createElement("span",null,e[k.name])))),M.length+0<W&&M.length>0&&n().createElement("div",{id:"fld156L4TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Y(j+1),Pe(k.type,k.fieldidpk,"",j+1)}},n().createElement("p",null," more... ")),0===M.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:u.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(g.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",ce.length>0&&`(${ce})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(c.ZP,{title:"Favorite List",placement:"top"},re?n().createElement(o.Z,{className:"favlisticon",onClick:()=>{ie(!1),De(""),be()}}):n().createElement(f.Z,{className:"favlisticon",onClick:()=>{ie(!0),Re("select"),be()}})),Object.keys(q).length>0&&n().createElement(c.ZP,{title:"Save Favorites",placement:"top"},n().createElement(v.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(i.Z,{className:"ColumnApplyButton",onClick:()=>{be()},id:"fld156L4TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),n().createElement(c.ZP,{title:"",placement:"top"},n().createElement(i.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld156L4TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld156L4TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{Q(!0),G(""),R([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"ContractIDPK";O({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterContractID",fieldidpk:t}),Pe(e.IsForeign?"Filter"+e.FieldName:"FilterContractID",t,"",1,Fe())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Te(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Te(e.AdminUserGridViewIDPK)),n().createElement(E.Z,{checked:"1"==ne,onChange:t=>{oe(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Te(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,q[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},q[a][0][a]),q[a].length>1&&n().createElement("span",{className:"RoundedDivName"},q[a][1][a]),q[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(q[a].length-2))))));var a})),ge&&ge.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pe("FilterContractID",a),Be("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}))},92205:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>co});var l=a(92950),n=a.n(l),o=a(45237),r=a(3212),i=a(29800),c=a(14439),d=a(27848),s=a(10966),m=a(30553),u=a(36939),p=a(61201),C=a(50743),y=a(64379),g=a(8712),D=a(21392),I=a(51673),S=a(40900),E=a(77366),f=a(26537),v=a(1695),N=(a(97829),a(20506),a(55176),a(8981)),h=a(99940),T=a(37148),b=a(79117),P=a.n(b),L=a(87709),x=a(55746),w=a(63163),B=a(6562),F=(a(44087),a(95866),a(99058),a(80366)),A=a(282),M=a(868),R=a(78513),k=a(64059),O=a(24038),Z=a(47516),G=a(86893),q=a(33681),K=a(35131),V=a.n(K),z=a(61956),_=a(93657),Q=a(53375),H=a(52663),U=a(66083),j=a(29525),Y=a(66856),W=a(39803),$=a(17149),J=a(62810),X=a(92381),ee=a(25108);const te=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:et(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,ne]=(0,l.useState)(!0),[oe,re]=(0,l.useState)(!1),[ie,ce]=(0,l.useState)(""),[de,se]=(0,l.useState)(!1),[me,ue]=(0,l.useState)(!1),[pe,Ce]=(0,l.useState)(!1),[ye,ge]=(0,l.useState)(""),De=(0,l.useRef)(null),[Ie,Se]=(0,l.useState)({});let Ee=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,N.Z)();const Ne=e=>ve[e]?ve[e]:e,he=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Ee]];function Te(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Se(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Te()}})));const be=async(t,a,l,n)=>{K(!0);try{De.current&&De.current.abort();const i=new AbortController;De.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP150S3/",g={data:{p1:"ContractLocalityDetailIDPK"==a?null:await Be(),p2:"ContractLocalityDetailCode"==c&&l.length>0?"%"+l+"%":null,p3:"BudgetValue"==c&&l.length>0?"%"+l+"%":null,p4:"IsValidate"==c&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p9:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p10:e.parentId?e.parentId:"0",p11:"BuildingName"!=c&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p12:e.Dialogview?"1":null,p13:null,p14:"p14"==c&&l.length>0?l:null,p15:null,p16:null,p17:null,p18:null,p19:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p20:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p21:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p22:"CityCode"==c&&l.length>0?"%"+l+"%":null,p23:"CityName"==c&&l.length>0?"%"+l+"%":null,p24:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p25:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p26:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p27:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p28:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p29:"AssBuildingTypeName"!=c&&d.AssBuildingTypeName?d.AssBuildingTypeName.map((e=>e.AssBuildingTypeIDPK)).toString():null,p30:"AssBuildingTypeCode"==c&&l.length>0?"%"+l+"%":null,p31:"AssBuildingTypeName"==c&&l.length>0?"%"+l+"%":null,p32:"BuildingCode"==c&&l.length>0?"%"+l+"%":null,p33:"BuildingName"==c&&l.length>0?"%"+l+"%":null,p34:n||1,p35:10,p36:t,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Le(f,c),t=Pe(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Le(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Le(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},Pe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Le=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function xe(e){let t=e+"PK",a=Ie[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const we=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...te],o=[];for(let e of n){let t=a[e]?.map((e=>e.ContractLocalityDetailIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ContractLocalityDetailIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",LocalityID:xe("LocalityID"),BuildingID:xe("BuildingID"),LocalityGroupID:xe("LocalityGroupID"),ContractID:xe("ContractID")};"saveFav"==t?Me("save",r):(e.searchData(r),f(!1))};async function Be(){let e={};await y((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.ContractLocalityDetailIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Fe(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...te],m=[];for(let e of s){let t=d[e]?.map((e=>e.ContractLocalityDetailIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ContractLocalityDetailIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),BuildingID:C.BuildingName?.map((e=>e.BuildingIDPK)).toString(),LocalityGroupID:C.LocalityGroupName?.map((e=>e.LocalityGroupIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Ae(){return n().createElement(k.Z,{frmctrlid:"fld150L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Fe(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:Ne(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Me=(t,a)=>{(0,X.Z)(t,e.formID,a,ie).then((e=>{const t=e.Output.data;ge(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>se(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>se(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>ce(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ue(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>Ce(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{we("saveFav"),se(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Ae,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},he(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:Ne("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld150L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld150L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,ee.log("clear fewItems",e),t))),e[i.name]=[],be(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld150L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:Ne("Enter ")+" "+he(i.idpk),onChange:e=>{p(e),be(i.type,i.fieldidpk,e,1,Be())}})),n().createElement("div",{id:"fld150L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:we},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld150L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld150L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),be(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",Ne("Filter")," ",ie.length>0&&`(${ie})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},oe?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{re(!1),ge(""),Te()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{re(!0),Me("select"),Te()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{se(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{Te()},id:"fld150L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld150L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Ne("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld150L1TFCFilItems",className:"FilterItems"},!ye&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ContractLocalityDetailIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterContractLocalityDetailID",fieldidpk:t}),be(e.IsForeign?"Filter"+e.FieldName:"FilterContractLocalityDetailID",t,"",1,Be())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,he(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,he(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==le,onChange:t=>{ne(t.target.checked),Fe("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,he(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),ye&&ye.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{be("FilterContractLocalityDetailID",a),we("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),ae=te;var le=a(54180),ne=a(43031),oe=a(85639),re=a(110),ie=a(5109),ce=a(88995),de=a(61657),se=a(51209),me=a(53854),ue=a(5434),pe=a(83817),Ce=a(39327),ye=a(79352),ge=a(93521),De=a(45441),Ie=a(71168),Se=a.n(Ie),Ee=a(65107),fe=a(94986),ve=a(15999),Ne=a(11557),he=a(25108);window.clickFilter="";const Te=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),c=(0,l.useRef)(null),[d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[s]=(0,l.useState)("150"),[m,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,f]=(0,l.useState)(0),[v,h]=(0,l.useState)(0),[T,b]=(0,l.useState)(0),[P,L]=(0,l.useState)(0),[x,w]=(0,l.useState)({current:1,pageSize:100}),[B,A]=(0,l.useState)(""),[R,k]=(0,l.useState)([]),[q,K]=(0,l.useState)({val:"",column:""}),[V,z]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),[H,U]=(0,l.useState)(""),[j,Y]=(0,l.useState)(""),[W,$]=(0,l.useState)(!1),[J,X]=(0,l.useState)([]),[ee,te]=(0,l.useState)([]),[Ie,Te]=(0,l.useState)([]),[be,Pe]=(0,l.useState)({children:[{name:"ConContractLocalityDetail",children:[]}]}),[Le,xe]=(0,l.useState)(!1),we=(0,l.useContext)(e.context?e.context:Xe),{cstate:Be,cdispatch:Fe}=e.ContextApi?e.ContextApi:et();let Ae={ContractLocalityDetailIDPK:"",ContractLocalityDetailCode:"",BudgetValue:"",IsValidate:"",IsDefault:"",IsDraft:"",Remarks:"",LocalityGroupID:"",LocalityID:"",ContractID:"",BuildingID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Me,Re]=(0,l.useState)(Ae),[ke,Oe]=(0,l.useState)(Ae),[Ze,Ge]=(0,l.useState)(!1),[qe,Ke]=(0,l.useState)(!0),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)(!0),[He,Ue]=(0,l.useState)({LocalityName:"",BuildingName:"",ContractLocalityDetailCode:"",BudgetValue:"",IsValidate:"",LocalityGroupName:"",ContractName:""}),[je,Ye]=(0,l.useState)(!1),[We,$e]=(0,l.useState)([]),[Je,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)(0),[nt,ot]=(0,l.useState)({current:1,pageSize:10}),[rt,it]=(0,l.useState)([]),[ct,dt]=(0,l.useState)([]),[st,mt]=(0,l.useState)(!1),[ut,pt]=(0,l.useState)(!1),[Ct,yt]=(0,l.useState)(!1),[gt,Dt]=(0,l.useState)(""),[It,St]=Se()("150"),[Et,ft]=(0,l.useState)({}),[vt]=(0,l.useState)("656"),[Nt,ht]=(0,l.useState)([]),[Tt,bt]=(0,l.useState)([]),Pt=[{columns:rt,data:B}];let Lt=(0,N.Z)();const xt=e=>Lt[e]?Lt[e]:e,wt=e=>Be.language?.[e]?Be.language[e]:e;(0,l.useEffect)((()=>{Ot(It),function(e){const t=e.filter((e=>e.FormID==vt));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldName))})),ht(a),bt(l)}(It)}),[It]),(0,l.useEffect)((()=>{Be.token.length>0&&(e.parentId?Rt(x,Ae,"ContractLocalityDetailID"):z([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Le&&e.parentId?Rt(x,H,"ContractLocalityDetailID"):Le&&Oe(H)}),[H]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Bt(e)},tableRefresh:()=>{Rt(x,Ae,"ContractLocalityDetailID")},DialogTableProps:e=>{D(e)},HideEntryFields:e=>{yt(!0===e)}})));const Bt=e=>{""==e?Rt(x,Ae,Ze?"DraftContractLocalityDetailID":"ContractLocalityDetailID",Ze&&"DraftPage"):kt(e,{current:1,pageSize:100}),Y(e)};function Ft(t){we.loading(!0);let a=S.v.Api+"FP150S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Be.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,lt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?tt(Math.ceil(a)):20==t.pageSize?tt(Math.ceil(a/2)):50==t.pageSize?tt(Math.ceil(a/5)):100==t.pageSize&&tt(Math.ceil(a/10)),$e(e.Output.data),we.loading(!1)}}))}function At(e,t){Fe({type:"editData",payload:[t]}),Fe({type:"IsDraft",payload:Ze}),Fe({type:"ShowDetail",payload:!0}),we.Expanded(!0),Ve&&$(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Qe(e.cardview),e.Dialogview&&(D(e.Dialogview),yt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&kt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const Mt=()=>{we.EditClose(!0),_?(document.getElementById("ConContractLocalityDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractLocalityDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractLocalityDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",Q(!1),_e?(g||(document.getElementById("ConContractLocalityDetailcoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityDetailcoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractLocalityDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractLocalityDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractLocalityDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractLocalityDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractLocalityDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",Q(!0),document.getElementById("ConContractLocalityDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),$(!1),window.clickFilter=!_},Rt=(t,a,l,n,o,r)=>{we.loading(!0),"DraftPage"!==n&&Ge(Be.IsDraft);let i=S.v.Api+"FP150S3/",c={data:{p1:o||(a&&a.ContractLocalityDetailIDPK?a.ContractLocalityDetailIDPK:null),p2:a&&a.ContractLocalityDetailCode?a.ContractLocalityDetailCode:null,p3:a&&a.BudgetValue?a.BudgetValue:null,p4:null,p5:null,p6:"DraftContractLocalityDetailID"==l?"1":"0",p7:null,p8:a&&a.LocalityGroupID?a.LocalityGroupID:null,p9:a&&a.LocalityID?a.LocalityID:null,p10:e.parentId?Number(e.parentId):0,p11:a&&a.BuildingID?a.BuildingID:null,p12:a&&a.IsActive,p13:null,p14:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p15:a&&a.CreatedTtm?a.CreatedTtm:null,p16:a&&a.CreatedTtmType?a.CreatedTtmType:null,p17:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p18:null,p19:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p20:a&&a.LocalityGroupName?a.LocalityGroupName:null,p21:a&&a.CityID?a.CityID:null,p22:a&&a.CityCode?a.CityCode:null,p23:a&&a.CityName?a.CityName:null,p24:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p25:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p26:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p27:a&&a.LocalityCode?a.LocalityCode:null,p28:a&&a.LocalityName?a.LocalityName:null,p29:a&&a.AssBuildingTypeID?a.AssBuildingTypeID:null,p30:a&&a.AssBuildingTypeCode?a.AssBuildingTypeCode:null,p31:a&&a.AssBuildingTypeName?a.AssBuildingTypeName:null,p32:a&&a.BuildingCode?a.BuildingCode:null,p33:a&&a.BuildingName?a.BuildingName:null,p34:o?1:t.current,p35:t.pageSize,p36:l,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,I.Z)(i,c,Be.token[0]).then((i=>{if(o)(0,pe.a)(i,Fe,n,r,we);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,b(i.Output.data[0].TotalCount),L(i.Output.data[0].DraftCnt),Fe({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&L(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?h(Math.ceil(e)):20==t.pageSize?h(Math.ceil(e/2)):50==t.pageSize?h(Math.ceil(e/5)):100==t.pageSize&&h(Math.ceil(e/10)),z(i.Output.data),we.loading(!1)}e.Dialogview||(document.getElementById("divConContractLocalityDetail-Entry").style.height="auto",document.getElementById("divConContractLocalityDetail-Entry").style.display="block")}else we.loading(!1),"DraftContractLocalityDetailID"===l?(we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),$(!0),Ge(!1)):(z([]),w({current:1,pageSize:10}),h(0),b(0),Fe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&we.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else we.alert({open:!0,color:"warning",message:[i.Output.status.message]}),we.loading(!1)}))};function kt(t,a){we.loading(!0);const l=S.v.Api+"FP150S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),Fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?h(Math.ceil(t)):20==a.pageSize?h(Math.ceil(t/2)):50==a.pageSize?h(Math.ceil(t/5)):100==a.pageSize&&h(Math.ceil(t/10)),z(e.Output.data),we.loading(!1)}else z([]),h(0),b(0),Fe({type:"count",payload:"0"}),we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1);else we.alert({open:!0,color:"warning",message:[e.Output.status.message]}),we.loading(!1)}))}function Ot(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Fe({type:"language",payload:Object.assign({},...n)}),Ue(a.reduce(((e,t)=>(e[t]="",e)),{})),X(e),te(t),Te(a),it(l),dt(a)}const Zt=()=>Le?null:n().createElement("div",null,je?n().createElement(fe.Z,{data:We,expanded:e=>!g&&we.Expanded(e),edit:(e,t,a)=>{g?we.select(e):(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:t}),Fe({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_150_L1_",id:"ConContractLocalityDetailTable",headerdata:ee,tablesearchparams:He,searchvalue:e=>{Ue(e),U(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};ft(t),w({current:1,pageSize:10}),Rt({current:1,pageSize:10},t,Ze?"DraftContractLocalityDetailID":"ContractLocalityDetailID",Ze&&"DraftPage")},bodydata:V,ondrag:At,bodyitem:Ie,visibleitem:ee,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:s,showMore:!1,accessrights:Be.AccessRights,expanded:e=>!g&&we.Expanded(e),edit:(e,t,a)=>{g?we.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Rt(x,null,t?"DraftContractLocalityDetailID":"ContractLocalityDetailID",t&&"DraftPage",e[l],a)})),we.hideAddBtn(!0))},viewtoggle:we.viewtoggle,isexpanded:!g||Ve,tf:wt,action:g?"none":"",ViewComp:(e,t)=>{}}));(0,l.useEffect)((()=>{ze(Be.ExpandTableValue)}),[Be.ExpandTableValue]);return n().createElement("div",null,!Ct&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld150L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld150L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:xt("Search"),value:j,onChange:e=>{Y(e),we.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},j?n().createElement("div",{id:"fld150L1TCCloseIconCommonSearch",onClick:()=>{Y(""),we.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld150L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractLocalityDetailgridsearch").focus()}})))),n().createElement("div",null,Be.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld150L1TCAddBtnIsAdd",onClick:()=>{we.hideAddBtn(!0),Fe({type:"editData",payload:[]}),Fe({type:"ShowDetail",payload:!1}),Fe({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:qe,onChange:()=>()=>{Ke(Ve)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[150]"},`${wt("150")} (${T})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld150L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld150L1TCInputSearch",className:"search_input",type:"text",placeholder:xt("Search"),value:j,onChange:e=>{Bt(e)}}),n().createElement("div",{className:"search_icon"},j?n().createElement("div",{id:"fld150L1TCInputCloseIcon",onClick:()=>{Bt("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld150L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractLocalityDetail-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&n().createElement("div",{frmctrlid:"fld150L1TCFilterDataIsDraft",id:"ConContractLocalityDetailfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Mt()}},n().createElement(M.ZP,{title:xt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Filter Data"))),!g&&!Ze&&!Le&&n().createElement(le.Z,{formctrlidprint:"fld150L1TCExportPrint",formctrlidexport:"fld150L1TCExportTable",formctrlidrefresh:"fld150L1TCExportRefresh",title:wt("150"),data:R,exportData:Pt,Items:ct,columnIndex:rt,TableVisibleItem:ee,userGridViewFormID:s,TableTotalCount:T,triggerApi:t=>{((t,l,n,o,r)=>{if(0===T)return we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;we.loading(!0);let i=S.v.Api+"FP150S3/",c={data:{p1:t&&t.ContractLocalityDetailIDPK?t.ContractLocalityDetailIDPK:null,p2:t&&t.ContractLocalityDetailCode?t.ContractLocalityDetailCode:null,p3:t&&t.BudgetValue?t.BudgetValue:null,p4:null,p5:null,p6:Ze?"1":"0",p7:null,p8:t&&t.LocalityGroupID?t.LocalityGroupID:null,p9:t&&t.LocalityID?t.LocalityID:null,p10:e.parentId?Number(e.parentId):0,p11:t&&t.BuildingID?t.BuildingID:null,p12:t&&t.IsActive,p13:null,p14:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p15:t&&t.CreatedTtm?t.CreatedTtm:null,p16:t&&t.CreatedTtmType?t.CreatedTtmType:null,p17:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p18:null,p19:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p20:t&&t.LocalityGroupName?t.LocalityGroupName:null,p21:t&&t.CityID?t.CityID:null,p22:t&&t.CityCode?t.CityCode:null,p23:t&&t.CityName?t.CityName:null,p24:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p25:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p26:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p27:t&&t.LocalityCode?t.LocalityCode:null,p28:t&&t.LocalityName?t.LocalityName:null,p29:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p30:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p31:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p32:t&&t.BuildingCode?t.BuildingCode:null,p33:t&&t.BuildingName?t.BuildingName:null,p34:x.current,p35:T,p36:Ze?"DraftContractLocalityDetailID":"ContractLocalityDetailID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};we.loading(!1),we.alert({open:!0,color:"success",message:[`${wt(150)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Be.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,we,ct,A,a,r)}))})(H,q.column,0,0,t)},Refresh:()=>{Y(""),w({current:1,pageSize:100}),i.current.clearItem(),Be.IsDraft?Rt({current:1,pageSize:100},Ae,"DraftContractLocalityDetailID"):Rt({current:1,pageSize:100},Ae,"ContractLocalityDetailID")},disabledPrint:!Be.AccessRights.IsPrint,disabledExport:!Be.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ze&&!Le&&!g&&n().createElement("div",{className:"buttoncard",onClick:()=>pt(!ut)},n().createElement("span",null,ut?n().createElement(M.ZP,{disableFocusListener:!0,title:xt("Less"),placement:"top"},n().createElement("span",{id:"fld150L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:xt("More"),placement:"top"},n().createElement("span",{id:"fld150L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ut?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Le||!Ve?null:g||!Be.AccessRights.IsAdd||Ze?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld150L1TCFilterDataIsAdd",id:"ConContractLocalityDetailcoldiv",className:"buttoncard",onClick:()=>{we.EditClose(!0),W?(document.getElementById("ConContractLocalityDetailFilterDiv").style.width="0%",document.getElementById("ConContractLocalityDetailTabDiv").style.width="100%",document.getElementById("ConContractLocalityDetailFilterDiv").style.display="none",document.getElementById("ConContractLocalityDetailcoldiv").style.width="fit-content",document.getElementById("ConContractLocalityDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",$(!1)):(document.getElementById("ConContractLocalityDetailFilterDiv").style.width="25%",document.getElementById("ConContractLocalityDetailTabDiv").style.width="75%",document.getElementById("ConContractLocalityDetailFilterDiv").style.display="block",document.getElementById("ConContractLocalityDetailfildiv").style.width="fit-content",document.getElementById("ConContractLocalityDetailfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractLocalityDetailcoldiv").style.width="fit-content",document.getElementById("ConContractLocalityDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",$(!0)),Q(!1)}},n().createElement(M.ZP,{title:xt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Manage Columns")))),!Ze&&m&&!Le&&!g&&n().createElement("div",{className:"buttoncard",onClick:()=>(setTimeout((()=>c.current.getRefresh([])),2e3),we.openNav(),void we.SlideComponentType(n().createElement(De.Z,{ref:c,alert:e=>we.alert(e),loading:e=>we.loading(e),Api:"FP150S8/",data:e=>he.log(e),SheetCount:1,frmctrlid:"fld150L1TCExpMig",importSave:(e,t)=>(async(e,t)=>{if(e.length>0){we.loading(!0);const a=S.v.Api+"FP150S8/";await(0,Ne.ProcessDataSyncSave)(a,e,t,we,c)}})(e,t),TableVisibleItem:Nt,TableBodyItem:Tt,clear:e=>c.current.getRefresh([]),excelfile:S.v.excel+"ConContractLocalityDetail.xlsx",filename:"ConContractLocalityDetail.xlsx"}))),id:"fld150L1TCExpMigSlide"},n().createElement(M.ZP,{title:xt("Migration"),placement:"top"},n().createElement("span",null,n().createElement(ye.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!g&&Ve&&!Le&&!Ze&&n().createElement("div",null,n().createElement("div",{id:"ConContractLocalityDetailcoldiv",className:"buttoncard",onClick:()=>{je?Ye(!1):(Ye(!0),Ft({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:xt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld150L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},xt("Table Scroll Data")))))):""),!Ze&&!g&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Le||Ze?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld150L1TCListView",onClick:()=>{Qe(!0),mt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,xt("List"))),n().createElement("div",{className:_e||st?"buttonGrid":"buttonList",id:"fld150L1TCCardView",onClick:()=>{Qe(!1),mt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,xt("Card"))),n().createElement("div",{className:st?"buttonList":"buttonGrid",id:"fld150L1TCTileView",onClick:()=>{mt(!0),Qe(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,xt("Tile"))))))),Le?null:je?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld150L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(at),page:E,onPageChange:(e,t)=>{f(t),Ft({current:t+1,pageSize:nt.pageSize}),ot({current:t+1,pageSize:nt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:Je,color:"primary",page:nt.current,onChange:(e,t)=>{ot({current:t,pageSize:nt.pageSize}),tt(t),Ft({current:t,pageSize:nt.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:nt.pageSize,frmctrlid:"fld150L1TCSelectPagination",onChange:e=>{ot({current:1,pageSize:e.target.value}),Ft({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),Ve&&n().createElement("p",{className:"per-page"},"/ ",xt("RowperpageOf")," (",at,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld150L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:E,onPageChange:(e,t)=>{f(t),Rt({current:t+1,pageSize:x.pageSize},Ae,Ze?"DraftContractLocalityDetailID":"ContractLocalityDetailID",Ze&&"DraftPage"),w({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:v,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(w({current:t,pageSize:x.pageSize}),Ze)Rt({current:t,pageSize:x.pageSize},Me,"DraftContractLocalityDetailID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";j.length>0?kt(j,{current:t,pageSize:x.pageSize}):Rt({current:t,pageSize:x.pageSize},Me,"ContractLocalityDetailID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld150L1TCSelectPaging",onChange:e=>{w({current:1,pageSize:e.target.value}),Ze?Rt({current:1,pageSize:e.target.value},Me,"DraftContractLocalityDetailID","DraftPage"):j.length>0?kt(j,{current:1,pageSize:e.target.value}):Rt({current:1,pageSize:e.target.value},Me,"ContractLocalityDetailID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),Ve&&n().createElement("p",{className:"per-page"},"/ ",xt("RowperpageOf")," (",T,") "))),n().createElement("div",{id:"ConContractLocalityDetail-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractLocalityDetailFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},_&&n().createElement(ae,{parentId:e.parentId,searchData:e=>{U(e||Et),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:s,data:()=>{},visibleData:()=>{},token:Be.token[0],CloseBtnClk:()=>Mt(),userGrid:It,msg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),W&&n().createElement(ie.Z,{Refresh:e=>{Rt({current:1,pageSize:100},Ae,"ContractLocalityDetailID")},frmctrlid:"fld150L1TCTableColumnOrder",loading:e=>we.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),select:W,userID:d,userGridViewFormID:s,saved:(e,t)=>{e&&Ot(t),St(t),Fe({type:"showTableview",payload:t})},Token:Be.token[0]})),n().createElement("div",{id:"ConContractLocalityDetailTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?n().createElement(Zt,null):n().createElement(se.Z,{frmctrlid:"fld150L1TCExpandedCardDual",data:V,id:"ConContractLocalityDetail",title:"LocalityID",cardTile:!!st,visibleitem:ee,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{g?we.select(e):("edit"==t?(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:Ze}),Fe({type:"ShowDetail",payload:!1}),we.Expanded(!0)):(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:Ze}),Fe({type:"ShowDetail",payload:!0}),we.Expanded(!0),we.viewtoggle()),_?Q(!0):W?$(!0):($(!1),$(!1))),we.hideAddBtn(!0)}})))))))}));var be=a(44528),Pe=a(99090),Le=a(61924),xe=a.n(Le),we=a(40826),Be=a(55490),Fe=a(92371);const Ae={EnterKeyValues:{ConContractLocalityDetail:["LocalityName","BuildingName","ContractLocalityDetailCode","BudgetValue","IsValidate","LocalityGroupName","ContractName"]},Label:{ConContractLocalityDetail:{LocalityID:["LocalityCode","LocalityName"],BuildingID:["BuildingCode","BuildingName"],ContractLocalityDetailCode:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],BudgetValue:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],IsValidate:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],LocalityGroupID:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],ContractID:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"]}},LabelHeader:{ConContractLocalityDetail:{LocalityID:["Location Code","Location Name"],BuildingID:["Building Code","Building Name"],ContractLocalityDetailCode:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],BudgetValue:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],IsValidate:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],LocalityGroupID:["ContractLocalityDetailCode","BuildingCode","BuildingName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"],ContractID:["ContractLocalityDetailCode","BuildingCode","BuildingName","Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractLocalityCode","LocalityCode","LocalityName"]}},Property:{ConContractLocalityDetail:{LocalityID:{id:"fld150_2936",clearID:"ConContractLocalityDetailLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location Site",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},BuildingID:{id:"fld150_2938",clearID:"ConContractLocalityDetailBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"Building",fielddisplayname:"BuildingName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ContractLocalityDetailCode:{id:"fld150_2929",labelID:"ContractLocalityDetailCode",maxLength:"20",labelname:"ContractLocalityDetailCode",frmctrlid:"fld150_2929",frmctrlidname:"ContractLocalityDetailCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BudgetValue:{id:"fld150_2930",labelID:"BudgetValue",maxLength:"25",labelname:"BudgetValue",frmctrlid:"fld150_2930",frmctrlidname:"BudgetValue",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsValidate:{id:"fld150_2931",labelID:"IsValidate",maxLength:"25",labelname:"IsValidate",frmctrlid:"fld150_2931",frmctrlidname:"IsValidate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},LocalityGroupID:{id:"fld150_2935",clearID:"ConContractLocalityDetailLocalityGroupNameClear",type:"select",labelID:"LocalityGroupIDPK",labelname:"Location Site Group",fielddisplayname:"LocalityGroupName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ContractID:{id:"fld150_2937",clearID:"ConContractLocalityDetailContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{ConContractLocalityDetail:{LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],LocalityGroupID:["LocalityGroupCode","LocalityGroupName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}};var Me=a(45155),Re=a(49174),ke=(a(38773),a(19089),a(16233)),Oe=a.n(ke),Ze=a(82729),Ge=a(75355),qe=a(11107),Ke=a(74095),Ve=a(25108);const ze={ContractLocalityDetailIDPK:"",ContractLocalityDetailCode:"",BudgetValue:"",IsValidate:!1,IsDefault:!1,IsDraft:!1,Remarks:"",LocalityGroupID:null,LocalityID:null,ContractID:null,BuildingID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:null,AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",Type:"ContractLocalityDetailID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},_e=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,ze),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:Xe),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:et(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("150"),[ae,le]=(0,l.useState)([]),[ne,oe]=(0,l.useState)([]),re=(0,l.useRef)(null),ie=(0,l.useRef)(null),[ce,de]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!0),[ue,pe]=(0,l.useState)(!1);let Ce=(0,N.Z)();const[ye,ge]=(0,l.useState)({}),De=e=>Ce[e]?Ce[e]:e,Ie=t=>U.language?.[t]?U.language[t]:e.createEasy?ye?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ee(),be()}),[]),(0,l.useEffect)((()=>{Ee()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(Se(U.editData[0],""),D(!0)):U.Add&&(Ee(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ge(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ee()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Ge(t),D(e)):(Ee(),D(e))},AddOpen:e=>{Ee(),D(!0)}})));const Se=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultContractLocalityDetailID"==a?J(t.ContractLocalityDetailIDPK):(W(e.primid?Number(e.primid):t.ContractLocalityDetailIDPK?t.ContractLocalityDetailIDPK:0),j({type:"PrimaryId",payload:t.ContractLocalityDetailIDPK})),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),O({type:"text",name:"BuildingName",value:t.BuildingName}),O({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),O({type:"text",name:"ContractLocalityDetailCode",value:t.ContractLocalityDetailCode?t.ContractLocalityDetailCode:""}),O({type:"number",name:"BudgetValue",number:Number(t.BudgetValue)}),O({type:"number",name:"IsValidate",number:t.IsValidate}),O({type:"number",name:"LocalityGroupID",number:t.LocalityGroupID?Number(t.LocalityGroupID):0}),O({type:"text",name:"LocalityGroupName",value:t.LocalityGroupName}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Ee=()=>{A([]),J(""),j({type:"PrimaryId",payload:""}),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractLocalityDetailLocalityNameClear")&&document.getElementById("ConContractLocalityDetailLocalityNameClear").click(),document.getElementById("ConContractLocalityDetailLocalityIDClear")&&document.getElementById("ConContractLocalityDetailLocalityIDClear").click(),le([]),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractLocalityDetailBuildingNameClear")&&document.getElementById("ConContractLocalityDetailBuildingNameClear").click(),O({type:"boolean",name:"IsDefault",boolean:!1}),O({type:"text",name:"ContractLocalityDetailCode",value:""}),O({type:"number",name:"BudgetValue",number:0}),O({type:"number",name:"IsValidate",number:0}),O({type:"text",name:"LocalityGroupID",value:null}),O({type:"text",name:"LocalityGroupName",value:""}),document.getElementById("ConContractLocalityDetailLocalityGroupNameClear")&&document.getElementById("ConContractLocalityDetailLocalityGroupNameClear").click(),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractLocalityDetailContractNameClear")&&document.getElementById("ConContractLocalityDetailContractNameClear").click(),W(0),y(!0),P(""),de(!0),me(!0)},fe=(e,t,a)=>{"LocalityIDPK"==a?le(t):"BuildingIDPK"==a&&oe(t)},ve=t=>{de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1}),(0,f.Z)(0).then((a=>{if(Y){const l=`${S.v.Api}${Y?"FP150S1/":"FP150S19/"}`,n={data:[{p1:"SetDefaultContractLocalityDetailID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:qe(k.ContractLocalityDetailCode),p3:k.BudgetValue?Number(k.BudgetValue):0,p4:k.IsValidate,p5:k.IsDefault,p6:!1,p7:"SetDefaultContractLocalityDetailID"==t?"SetDefault":null,p8:k.LocalityGroupID?k.LocalityGroupID:0,p9:Y?k.LocalityID:0==ae.length?0:ae.map((e=>e.LocalityIDPK)).toString(),p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.BuildingID?k.BuildingID:0,p12:s,p13:"SetDefaultContractLocalityDetailID"==t,p14:localStorage.getItem("userid"),p15:V()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,z.Z)(l,n,a).then((a=>{const l=a[0].status;200==l.code?("SetDefaultContractLocalityDetailID"==t?H.alert({open:!0,color:"success",message:[De("Default Record Configured")]}):H.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttConContractLocalityDetail"),H.loading(!1),j({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(a[0].Data.IDPK)),Ee(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConContractLocalityDetail")&&(document.getElementById("overlayimgAttConContractLocalityDetail").style.width="0%",document.getElementById("overlayimgAttConContractLocalityDetail").style.display="none",document.getElementById("divConContractLocalityDetail-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractLocalityDetail-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1)),D(!0)}))}if(!Y){Ve.log("MultiSelectBuildingID",ne);const t=S.v.Api+"FP150S3/",l={data:{p1:null,p2:null,p3:null,p4:1==k.IsValidate,p5:null,p6:null,p7:null,p8:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p9:Y||!k.IsValidate?k.LocalityID:ae.map((e=>e.LocalityIDPK)).toString(),p10:e.parentId?Number(e.parentId):0,p11:Y?k.BuildingID:ne.map((e=>e.BuildingIDPK)).toString(),p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:1,p35:10,p36:"MULTIPLEBUILDINGDETAILS",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,I.Z)(t,l,a).then((e=>{H.loading(!1),H.RefreshTable(),Ee(),H.alert({open:!0,color:"warning",message:["Saved Successfully"]})}))}}))},Ne=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP150S2/",l={data:[{p1:"SetDefaultContractLocalityDetailID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:qe(k.ContractLocalityDetailCode),p3:k.BudgetValue?Number(k.BudgetValue):0,p4:k.IsValidate,p5:k.IsDefault,p6:!1,p7:"SetDefaultContractLocalityDetailID"==t?"SetDefault":null,p8:k.LocalityGroupID?k.LocalityGroupID:0,p9:Y?k.LocalityID:0==ae.length?0:ae.map((e=>e.LocalityIDPK)).toString(),p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.BuildingID?k.BuildingID:0,p12:s,p13:"SetDefaultContractLocalityDetailID"==t,p14:localStorage.getItem("userid"),p15:V()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((e=>{(0,I.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,n=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:n}),H.loading(!1)):ve()):(H.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),H.loading(!1))}))}))};function he(e){return CreateEasy(e,U,j,H,X),!1}function Te(e,a){return AdvanceSearch(e,a,Xe,et(),we,t),!1}const be=()=>{const t=S.v.Api+"FP150S3/",a={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.parentId?Number(e.parentId):0,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:1,p35:10,p36:"BUILDINGSETTINGDETAILS",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,I.Z)(t,a,U.token[0]).then((e=>{const t=e.Output.status.code;e.Output.data,"200"==t&&pe(e.Output.data[0].BuildingSettingEnable)}))},Pe=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP150S3/",c={data:{p1:null,p2:null,p3:null,p4:1==k.IsValidate,p5:null,p6:null,p7:null,p8:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p9:k.IsValidate?"LocalityIDPK"!=l?Y?k.LocalityID:ae.map((e=>e.LocalityIDPK)).toString():null:k.LocalityID,p10:e.parentId?Number(e.parentId):0,p11:"0"==k.BuildingID?null:k.BuildingID,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==k.CityID?null:k.CityID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==k.AssBuildingTypeID?null:k.AssBuildingTypeID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:t,p35:r||10,p36:l,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};(0,I.Z)(i,"ClearAll"==l?s:c,"PKDrag"==n?o:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?e>0?(K(n),r&&"LocalityIDPK"==l&&(re.current.checkedAll(n),H.loading(!1)),r&&"BuildingIDPK"==l&&(ie.current.checkedAll(n),H.loading(!1))):K([]):K(q.concat(n)),"SetDefaultContractLocalityDetailID"==l&&(e>0?Se(n[0],"SetDefaultContractLocalityDetailID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Le=(t,l,n)=>{const o=S.v.Api+"FP150S3/",r={data:{p1:null,p2:"ContractLocalityDetailCode"==n&&l?"%"+l+"%":null,p3:"BudgetValue"==n&&l?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:t,p35:10,p36:"ContractLocalityDetailID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ContractLocalityDetailCode"==n&&de(e>0),"BudgetValue"==n&&me(e>0),K(l)):("ContractLocalityDetailCode"==n&&de(!0),"BudgetValue"==n&&me(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},we=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("LocalityID"==t?(O({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"BuildingID"==t&&(O({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null})))}),[k]);function Re(e){if("LocalityID"==e){if(!k.LocalityID)return!1;!Y&&k.IsValidate||(O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractLocalityDetailLocalityIDClear")&&document.getElementById("ConContractLocalityDetailLocalityIDClear").click()),document.getElementById("ConContractLocalityDetailLocalityNameClear")&&document.getElementById("ConContractLocalityDetailLocalityNameClear").click(),le([])}else if("BuildingID"==e){if(!k.BuildingID)return!1;O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractLocalityDetailBuildingNameClear")&&document.getElementById("ConContractLocalityDetailBuildingNameClear").click()}else if("LocalityGroupID"==e){if(!k.LocalityGroupID)return!1}else if("ContractID"==e&&!k.ContractID)return!1}function ke(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null})}else if("BuildingID"==e){if(!k.BuildingID)return!1;O({type:"text",name:"BuildingID",value:null})}else if("LocalityGroupID"==e){if(!k.LocalityGroupID)return!1}else if("ContractID"==e&&!k.ContractID)return!1}const Ze=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ge(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:De("Yes"),cancelBtnText:De("No"),showCancel:!0},De("Do you want to update this record?")))};function Ge(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ContractLocalityDetailIDPK)?Number(e.ContractLocalityDetailIDPK):0),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),O({type:"text",name:"ContractLocalityDetailCode",value:e.ContractLocalityDetailCode?e.ContractLocalityDetailCode:""}),O({type:"text",name:"BudgetValue",value:e.BudgetValue?e.BudgetValue:""}),O({type:"boolean",name:"IsValidate",boolean:!!e.IsValidate&&e.IsValidate}),O({type:"number",name:"LocalityGroupID",number:e.LocalityGroupID?Number(e.LocalityGroupID):0}),O({type:"text",name:"LocalityGroupName",value:e.LocalityGroupName?e.LocalityGroupName:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const qe=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[150]"}," ",De("Add "),Ie("150")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld150L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:De(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld150L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,De("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ee()},id:"fld150L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,De("Reset")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld150L1ECSaveBtnIsAdd",name:De(Y?"Update":"Save"),disabled:!1,onClick:()=>{!Y&&k.IsValidate&&0==ae.length?H.alert({open:!0,color:"warning",message:[De("Please select the ")+" "+Ie("LocalityID")]}):!Y&&k.IsValidate||k.LocalityID&&0!=k.LocalityID?1!=ue||k.IsValidate||0!=ne.length?e.parentId&&0!=e.parentId?Y?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:De("Are you sure?"),onConfirm:()=>Ne(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:De("Yes"),cancelBtnText:De("Cancel"),showCancel:!0},De(Y?"Do you want to Update?":"Do you want to Save?"))):ve():H.alert({open:!0,color:"warning",message:[De("Please select the ")+" "+Ie("ContractID")]}):H.alert({open:!0,color:"warning",message:[De("Please select the ")+" "+Ie("Building")]}):H.alert({open:!0,color:"warning",message:[De("Please select the ")+" "+Ie("LocalityID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld150L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ee(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractLocalityDetail-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractLocalityDetail-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractLocalityDetail-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:2,md:2,lg:2,sm:2,style:{display:"flex",alignItems:"center"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(m.Z,{style:{color:"#337ab7"},"data-testid":k.IsValidate,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==k.IsValidate,onChange:e=>{Ee(),we(e.target.checked,"IsValidate","boolean")},frmctrlid:"fld150_2931",frmctrlidname:"IsValidate",fieldorder:"2",tfLabel:Ie("IsValidate")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsValidate?"#21446F":"#999"}},Ie("All Building"))}))),!Y&&k.IsValidate?n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Ke.Z,{json:Ae,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,SPName:"ConContractLocalityDetail",FieldName:"LocalityID",tfLabel:Ie("LocalityID"),ref:re,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>fe(0,t,"LocalityIDPK"),onChange:(e,t)=>{Pe(e,t,"LocalityIDPK")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{H.loading(!0),Pe("1",t||"","LocalityIDPK","","",e)},openSlide:()=>{he("12")},Tabledialog:()=>Te("12","LocalityID"),loading:Z,clear:e=>{e&&Re("LocalityID")}})):null,Y||!k.IsValidate?n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Ae,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,SPName:"ConContractLocalityDetail",FieldName:"LocalityID",tfLabel:Ie("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>we(e,"LocalityID","select"),onChange:(e,t)=>{Pe(e,t,"LocalityIDPK")},KeyBack:e=>{ke("LocalityID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{he("12")},Tabledialog:()=>Te("12","LocalityID"),loading:Z,SideEntryView:!1,clear:e=>{e&&Re("LocalityID")}})):null,Y&&!k.IsValidate?n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Ae,id:k.BuildingID,"data-testid":k.BuildingID,value:k.BuildingName,SPName:"ConContractLocalityDetail",FieldName:"BuildingID",tfLabel:Ie("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"BuildingID","select"),onChange:(e,t)=>{0==e&&K([]),Pe(e,t,"BuildingIDPK")},KeyBack:e=>{ke("BuildingID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{he("30")},Tabledialog:()=>Te("30","BuildingID"),loading:Z,clear:e=>{e&&Re("BuildingID")}})):null,Y||k.IsValidate?null:n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Ke.Z,{json:Ae,id:k.BuildingID,"data-testid":k.BuildingID,value:k.BuildingName,SPName:"ConContractLocalityDetail",FieldName:"BuildingID",tfLabel:Ie("BuildingID"),ref:ie,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>fe(0,t,"BuildingIDPK"),onChange:(e,t)=>{Pe(e,t,"BuildingIDPK")},mandatory:!(k.IsValidate||!ue),fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{H.loading(!0),Pe("1",t||"","BuildingIDPK","","",e)},openSlide:()=>{he("30")},Tabledialog:()=>Te("30","BuildingID"),loading:Z,clear:e=>{e&&Re("BuildingID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ContractLocalityDetailCode,json:Ae,SPName:"ConContractLocalityDetail",FieldName:"ContractLocalityDetailCode",tfLabel:Ie("ContractLocalityDetailCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ze(t),onClick:()=>{ce&&Le(1,"","ClearAll"),de(!0)},frmctrlid:"fld150_2929",frmctrlidName:"ContractLocalityDetailCode",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ce&&Le(e,t,"ContractLocalityDetailCode"),we(t,"ContractLocalityDetailCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.ContractLocalityDetailCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ContractLocalityDetailCode",value:""}),de(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.BudgetValue,json:Ae,SPName:"ConContractLocalityDetail",FieldName:"BudgetValue",tfLabel:Ie("BudgetValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ze(t),onClick:()=>{se&&Le(1,"","ClearAll"),me(!0)},frmctrlid:"fld150_2930",frmctrlidName:"BudgetValue",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{se&&Le(e,t,"BudgetValue"),we(t,"BudgetValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:k.BudgetValue,loading:Z,clear:e=>{e&&(O({type:"text",name:"BudgetValue",value:""}),me(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(m.Z,{style:{color:"#337ab7"},"data-testid":k.IsValidate,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==k.IsValidate,onChange:e=>{we(e.target.checked,"IsValidate","boolean")},frmctrlid:"fld150_2931",frmctrlidname:"IsValidate",fieldorder:"2",tfLabel:Ie("IsValidate")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsValidate?"#21446F":"#999"}},Ie("IsValidate"))}))),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Ae,id:k.LocalityGroupID,"data-testid":k.LocalityGroupID,value:k.LocalityGroupName,SPName:"ConContractLocalityDetail",FieldName:"LocalityGroupID",tfLabel:Ie("LocalityGroupID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"LocalityGroupID","select"),onChange:(e,t)=>{Pe(e,t,"LocalityGroupIDPK")},KeyBack:e=>{ke("LocalityGroupID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{he("260")},Tabledialog:()=>Te("260","LocalityGroupID"),loading:Z,clear:e=>{e&&Re("LocalityGroupID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Ae,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConContractLocalityDetail",FieldName:"ContractID",tfLabel:Ie("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"ContractID","select"),onChange:(e,t)=>{Pe(e,t,"ContractIDPK")},KeyBack:e=>{ke("ContractID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{he("156")},Tabledialog:()=>Te("156","ContractID"),loading:Z,clear:e=>{e&&Re("ContractID")}})))),n().createElement("div",{id:"ConContractLocalityDetailSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractLocalityDetailSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))}));var Qe=a(65197);const He=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(Xe),{cstate:B,cdispatch:F}=et(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ContractLocalityDetailIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP150S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:1,p35:10,p36:B.IsDraft?"DraftContractLocalityDetailID":"ContractLocalityDetailID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ContractLocalityDetailIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConContractLocalityDetail"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld150L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld150L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld150L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld150L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(_e,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractLocalityDetail",tableID:150,parentID:t.ContractLocalityDetailIDPK,fldid:"fld150L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[150]"}))))))))}));var Ue=a(67698),je=a(55995),Ye=a(45965),We=a(41722),$e=a(9175),Je=a.n($e);const Xe=(0,l.createContext)(),et=()=>{const e=(0,l.useContext)(Xe);if(void 0===e)throw new Error("useCont must be used within  ConContractLocalityDetailContext Provider");return e},tt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractLocalityDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityDetail-MainTable").style.width="100%",document.getElementById("ConContractLocalityDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractLocalityDetail-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractLocalityDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityDetail-MainTable").style.width="100%",document.getElementById("ConContractLocalityDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractLocalityDetail-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractLocalityDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityDetailEntryTable").style.width="100%",document.getElementById("ConContractLocalityDetail-MainEntry").style.width="100%",document.getElementById("ConContractLocalityDetail-MainEntry").style.display="block",document.getElementById("ConContractLocalityDetail-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractLocalityDetail-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractLocalityDetail").style.width="0%",document.getElementById("overlayimgAttConContractLocalityDetail").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Xe.Provider,{value:{cstate:D,cdispatch:I,ContextApi:et,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractLocalityDetail").style.width="50%",document.getElementById("divConContractLocalityDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityDetail-MainTable").style.width="100%",document.getElementById("ConContractLocalityDetail-MainEntry").style.width="100%",document.getElementById("ConContractLocalityDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractLocalityDetail-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractLocalityDetail").style.display="block",document.getElementById("overlayimgAttConContractLocalityDetail").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractLocalityDetail-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractLocalityDetail-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractLocalityDetailEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractLocalityDetail-Entry",style:{width:"100%"}},0!==y?n().createElement(He,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:150,fileId:"LogoImgConContractLocalityDetail",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractLocalityDetail",frmctrlid:"PvwIm_150_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractLocalityDetail-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(_e,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:150,fileId:"LogoImgConContractLocalityDetail",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractLocalityDetail",frmctrlid:"PvwIm_150_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractLocalityDetail-MainTable"},0!==y?n().createElement(Te,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:150,fileId:"AttImgConContractLocalityDetail",imgid:"overlayimgAttConContractLocalityDetail",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractLocalityDetail",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_150_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractLocalityDetail-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:150,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var at=a(59009),lt=a(25108);const nt=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:yt(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP159S3/",g={data:{p1:"ConServiceIDPK"==a?null:await we(),p2:"ConServiceCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"ServiceAmount"==c&&l.length>0?"%"+l+"%":null,p10:"NoofEmployee"==c&&l.length>0?"%"+l+"%":null,p11:"FrequencyAmount"==c&&l.length>0?"%"+l+"%":null,p12:"ServiceType"==c&&l.length>0?"%"+l+"%":null,p13:"ServiceTotal"==c&&l.length>0?"%"+l+"%":null,p14:"FrequencyLink"==c&&l.length>0?"%"+l+"%":null,p15:"SerSellingPrice"==c&&l.length>0?"%"+l+"%":null,p16:"SerMinSellingPrice"==c&&l.length>0?"%"+l+"%":null,p17:"SerMaxSellingPrice"==c&&l.length>0?"%"+l+"%":null,p18:null,p19:null,p20:"ServiceTypeName"!=c&&d.ServiceTypeName?d.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p21:e.parentId?e.parentId:"0",p22:e.Dialogview?"1":null,p23:null,p24:"p24"==c&&l.length>0?l:null,p25:null,p26:null,p27:null,p28:null,p29:"ServiceTypCode"==c&&l.length>0?"%"+l+"%":null,p30:"ServiceTypeName"==c&&l.length>0?"%"+l+"%":null,p31:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p32:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p33:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p34:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p35:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p36:"TaxName"==c&&l.length>0?"%"+l+"%":null,p37:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p38:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p39:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p40:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p41:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p42:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p43:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p44:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p45:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p46:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p47:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p48:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p49:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p50:"ContractName"==c&&l.length>0?"%"+l+"%":null,p51:n||1,p52:10,p53:t,p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ConServiceIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ConServiceIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",ServiceStartDate:l.ServiceStartDate?l.ServiceStartDate.From:"",ServiceStartDateType:l.ServiceStartDate?l.ServiceStartDate.Type:"",ServiceStartDateBetween:l.ServiceStartDate?l.ServiceStartDate.To:"",ServiceEndDate:l.ServiceEndDate?l.ServiceEndDate.From:"",ServiceEndDateType:l.ServiceEndDate?l.ServiceEndDate.Type:"",ServiceEndDateBetween:l.ServiceEndDate?l.ServiceEndDate.To:"",ServiceTypeID:Le("ServiceTypeID"),ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ConServiceIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ConServiceIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ConServiceIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,ServiceStartDate:c.ServiceStartDate?c.ServiceStartDate.From:"",ServiceStartDateType:c.ServiceStartDate?c.ServiceStartDate.Type:"",ServiceStartDateBetween:c.ServiceStartDate?c.ServiceStartDate.To:"",ServiceEndDate:c.ServiceEndDate?c.ServiceEndDate.From:"",ServiceEndDateType:c.ServiceEndDate?c.ServiceEndDate.Type:"",ServiceEndDateBetween:c.ServiceEndDate?c.ServiceEndDate.To:"",ServiceTypeID:C.ServiceTypeName?.map((e=>e.ServiceTypeIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld159L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld159L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld159L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,lt.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld159L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld159L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld159L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld159L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld159L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld159L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld159L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ConServiceIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterConServiceID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterConServiceID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterConServiceID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),ot=nt;var rt=a(51649),it=a(37106),ct=a(25108);window.clickFilter="";const dt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),c=(0,l.useRef)(null),[d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[s]=(0,l.useState)("159"),[m,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,f]=(0,l.useState)(0),[v,h]=(0,l.useState)(0),[T,b]=(0,l.useState)(0),[L,x]=(0,l.useState)(0),[w,B]=(0,l.useState)({current:1,pageSize:100}),[A,R]=(0,l.useState)(""),[k,q]=(0,l.useState)([]),[K,V]=(0,l.useState)({val:"",column:""}),[z,_]=(0,l.useState)([]),[Q,H]=(0,l.useState)(!1),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(""),[$,J]=(0,l.useState)(!1),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[Ie,he]=(0,l.useState)([]),[Te,be]=(0,l.useState)({children:[{name:"ConContractServiceDetails",children:[]}]}),[Pe,Le]=(0,l.useState)(!1),xe=(0,l.useContext)(e.context?e.context:Ct),{cstate:we,cdispatch:Be}=e.ContextApi?e.ContextApi:yt();let Fe={ConServiceIDPK:"",ConServiceCode:"",ServiceStartDate:"",ServiceStartDateType:"",ServiceStartDateBetween:"",ServiceEndDate:"",ServiceEndDateType:"",ServiceEndDateBetween:"",ServiceAmount:"",NoofEmployee:"",FrequencyAmount:"",ServiceType:"",ServiceTotal:"",FrequencyLink:"",SerSellingPrice:"",SerMinSellingPrice:"",SerMaxSellingPrice:"",IsDraft:"",Remarks:"",ServiceTypeID:"",ContractID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ServiceTypCode:"",ServiceTypeName:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,Me]=(0,l.useState)(Fe),[Re,ke]=(0,l.useState)(Fe),[Oe,Ze]=(0,l.useState)(!1),[Ge,qe]=(0,l.useState)(!0),[Ke,Ve]=(0,l.useState)(!1),[ze,_e]=(0,l.useState)(!0),[Qe,He]=(0,l.useState)({ServiceTypeName:"",ServiceStartDate:"",ServiceEndDate:"",NoofEmployee:"",ServiceAmount:"",SerSellingPrice:"",SerMinSellingPrice:"",SerMaxSellingPrice:"",ConServiceCode:"",FrequencyAmount:"",ServiceType:"",ServiceTotal:"",FrequencyLink:"",ContractName:""}),[Ue,je]=(0,l.useState)(!1),[Ye,We]=(0,l.useState)([]),[$e,Je]=(0,l.useState)(0),[Xe,et]=(0,l.useState)(0),[tt,lt]=(0,l.useState)({current:1,pageSize:10}),[nt,dt]=(0,l.useState)([]),[st,mt]=(0,l.useState)([]),[ut,pt]=(0,l.useState)(!1),[gt,Dt]=(0,l.useState)(!1),[It,St]=(0,l.useState)(!1),[Et,ft]=(0,l.useState)(""),[vt,Nt]=Se()("159"),[ht,Tt]=(0,l.useState)({}),[bt]=(0,l.useState)("657"),[Pt,Lt]=(0,l.useState)([]),[xt,wt]=(0,l.useState)([]),Bt=[{columns:nt,data:A}];let Ft=(0,N.Z)();const At=e=>Ft[e]?Ft[e]:e,Mt=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{Kt(vt),function(e){const t=e.filter((e=>e.FormID==bt));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldName))})),Lt(a),wt(l)}(vt)}),[vt]),(0,l.useEffect)((()=>{we.token.length>0&&(e.parentId?Gt(w,Fe,"ConServiceID"):_([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Pe&&e.parentId?Gt(w,U,"ConServiceID"):Pe&&ke(U)}),[U]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Rt(e)},tableRefresh:()=>{Gt(w,Fe,"ConServiceID")},DialogTableProps:e=>{D(e)},HideEntryFields:e=>{St(!0===e)}})));const Rt=e=>{""==e?Gt(w,Fe,Oe?"DraftConServiceID":"ConServiceID",Oe&&"DraftPage"):qt(e,{current:1,pageSize:100}),W(e)};function kt(t){xe.loading(!0);let a=S.v.Api+"FP159S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,we.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,et(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Je(Math.ceil(a)):20==t.pageSize?Je(Math.ceil(a/2)):50==t.pageSize?Je(Math.ceil(a/5)):100==t.pageSize&&Je(Math.ceil(a/10)),We(e.Output.data),xe.loading(!1)}}))}function Ot(e,t){Be({type:"editData",payload:[t]}),Be({type:"IsDraft",payload:Oe}),Be({type:"ShowDetail",payload:!0}),xe.Expanded(!0),Ke&&J(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&_e(e.cardview),e.Dialogview&&(D(e.Dialogview),St(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&qt(e.searchsafaritext,{current:w.current,pageSize:w.pageSize})}),[e.searchsafaritext]);const Zt=()=>{xe.EditClose(!0),Q?(document.getElementById("ConContractServiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractServiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractServiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",H(!1),ze?(g||(document.getElementById("ConContractServiceDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractServiceDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractServiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractServiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractServiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractServiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractServiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractServiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractServiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",H(!0),document.getElementById("ConContractServiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractServiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),J(!1),window.clickFilter=!Q},Gt=(t,a,l,n,o,r)=>{xe.loading(!0),"DraftPage"!==n&&Ze(we.IsDraft);let i=S.v.Api+"FP159S3/",c={data:{p1:o||(a&&a.ConServiceIDPK?a.ConServiceIDPK:null),p2:a&&a.ConServiceCode?a.ConServiceCode:null,p3:a&&a.ServiceStartDate?a.ServiceStartDate:null,p4:a&&a.ServiceStartDateType?a.ServiceStartDateType:null,p5:a&&a.ServiceStartDateBetween?a.ServiceStartDateBetween:null,p6:a&&a.ServiceEndDate?a.ServiceEndDate:null,p7:a&&a.ServiceEndDateType?a.ServiceEndDateType:null,p8:a&&a.ServiceEndDateBetween?a.ServiceEndDateBetween:null,p9:a&&a.ServiceAmount?a.ServiceAmount:null,p10:a&&a.NoofEmployee?a.NoofEmployee:null,p11:a&&a.FrequencyAmount?a.FrequencyAmount:null,p12:a&&a.ServiceType?a.ServiceType:null,p13:a&&a.ServiceTotal?a.ServiceTotal:null,p14:a&&a.FrequencyLink?a.FrequencyLink:null,p15:a&&a.SerSellingPrice?a.SerSellingPrice:null,p16:a&&a.SerMinSellingPrice?a.SerMinSellingPrice:null,p17:a&&a.SerMaxSellingPrice?a.SerMaxSellingPrice:null,p18:"DraftConServiceID"==l?"1":"0",p19:null,p20:a&&a.ServiceTypeID?a.ServiceTypeID:null,p21:e.parentId?Number(e.parentId):0,p22:a&&a.IsActive,p23:null,p24:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p25:a&&a.CreatedTtm?a.CreatedTtm:null,p26:a&&a.CreatedTtmType?a.CreatedTtmType:null,p27:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p28:null,p29:a&&a.ServiceTypCode?a.ServiceTypCode:null,p30:a&&a.ServiceTypeName?a.ServiceTypeName:null,p31:a&&a.ContractGroupID?a.ContractGroupID:null,p32:a&&a.ContractGroupCode?a.ContractGroupCode:null,p33:a&&a.ContractGroupName?a.ContractGroupName:null,p34:a&&a.TaxID?a.TaxID:null,p35:a&&a.TaxCode?a.TaxCode:null,p36:a&&a.TaxName?a.TaxName:null,p37:a&&a.TaxValue?a.TaxValue:null,p38:a&&a.CustomerID?a.CustomerID:null,p39:a&&a.CustomerCode?a.CustomerCode:null,p40:a&&a.CustomerName?a.CustomerName:null,p41:a&&a.ContractTypeID?a.ContractTypeID:null,p42:a&&a.ContractTypCode?a.ContractTypCode:null,p43:a&&a.ContractTypeName?a.ContractTypeName:null,p44:a&&a.ContractCategID?a.ContractCategID:null,p45:a&&a.ContractCategCode?a.ContractCategCode:null,p46:a&&a.ContractCategName?a.ContractCategName:null,p47:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p48:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p49:a&&a.ContractCode?a.ContractCode:null,p50:a&&a.ContractName?a.ContractName:null,p51:o?1:t.current,p52:t.pageSize,p53:l,p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}};(0,I.Z)(i,c,we.token[0]).then((i=>{if(o)(0,pe.a)(i,Be,n,r,xe);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,b(i.Output.data[0].TotalCount),x(i.Output.data[0].DraftCnt),Be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&x(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?h(Math.ceil(e)):20==t.pageSize?h(Math.ceil(e/2)):50==t.pageSize?h(Math.ceil(e/5)):100==t.pageSize&&h(Math.ceil(e/10)),_(i.Output.data),xe.loading(!1)}e.Dialogview||(document.getElementById("divConContractServiceDetails-Entry").style.height="auto",document.getElementById("divConContractServiceDetails-Entry").style.display="block")}else xe.loading(!1),"DraftConServiceID"===l?(xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),J(!0),Ze(!1)):(_([]),B({current:1,pageSize:10}),h(0),b(0),Be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else xe.alert({open:!0,color:"warning",message:[i.Output.status.message]}),xe.loading(!1)}))};function qt(t,a){xe.loading(!0);const l=S.v.Api+"FP159S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Oe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),Be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?h(Math.ceil(t)):20==a.pageSize?h(Math.ceil(t/2)):50==a.pageSize?h(Math.ceil(t/5)):100==a.pageSize&&h(Math.ceil(t/10)),_(e.Output.data),xe.loading(!1)}else _([]),h(0),b(0),Be({type:"count",payload:"0"}),xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),xe.loading(!1);else xe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),xe.loading(!1)}))}function Kt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Be({type:"language",payload:Object.assign({},...n)}),He(a.reduce(((e,t)=>(e[t]="",e)),{})),ee(e),ae(t),he(a),dt(l),mt(a)}const Vt=()=>Pe?null:n().createElement("div",null,Ue?n().createElement(fe.Z,{data:Ye,expanded:e=>!g&&xe.Expanded(e),edit:(e,t,a)=>{g?xe.select(e):(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:t}),Be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_159_L1_",id:"ConContractServiceDetailsTable",headerdata:te,tablesearchparams:Qe,searchvalue:e=>{He(e),j(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Tt(t),B({current:1,pageSize:10}),Gt({current:1,pageSize:10},t,Oe?"DraftConServiceID":"ConServiceID",Oe&&"DraftPage")},bodydata:z,ondrag:Ot,bodyitem:Ie,visibleitem:te,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:s,showMore:!!e.parentId||false$cstateApproval,accessrights:we.AccessRights,expanded:e=>!g&&xe.Expanded(e),edit:(e,t,a)=>{g?xe.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Gt(w,null,t?"DraftConServiceID":"ConServiceID",t&&"DraftPage",e[l],a)})),xe.hideAddBtn(!0))},viewtoggle:xe.viewtoggle,isexpanded:!g||Ke,tf:Mt,action:g?"none":"",ViewComp:(e,t)=>{}}));(0,l.useEffect)((()=>{Ve(we.ExpandTableValue)}),[we.ExpandTableValue]);return n().createElement("div",null,!It&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld159L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld159L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:At("Search"),value:Y,onChange:e=>{W(e),xe.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},Y?n().createElement("div",{id:"fld159L1TCCloseIconCommonSearch",onClick:()=>{W(""),xe.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld159L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractServiceDetailsgridsearch").focus()}})))),n().createElement("div",{style:{width:"100%"}},we.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon flotright",frmctrlid:"fld159L1TCAddBtnIsAdd",onClick:()=>{xe.hideAddBtn(!0),Be({type:"editData",payload:[]}),Be({type:"ShowDetail",payload:!1}),Be({type:"Add",payload:!0})}}):""),n().createElement(P(),{id:159,cstate:we,cdispatch:Be,context:xe,parentId:e.parentId,parentData:{},AccessRights:we.AccessRights,sentToAppr:"1"==we.AccessRights.IsApproval,model:"IsTable"})),n().createElement(u.Z,{expanded:Ge,onChange:()=>()=>{qe(Ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[159]"},`${Mt("159")} (${T})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld159L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld159L1TCInputSearch",className:"search_input",type:"text",placeholder:At("Search"),value:Y,onChange:e=>{Rt(e)}}),n().createElement("div",{className:"search_icon"},Y?n().createElement("div",{id:"fld159L1TCInputCloseIcon",onClick:()=>{Rt("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld159L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractServiceDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&n().createElement("div",{frmctrlid:"fld159L1TCFilterDataIsDraft",id:"ConContractServiceDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Zt()}},n().createElement(M.ZP,{title:At("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},At("Filter Data"))),!g&&!Oe&&!Pe&&n().createElement(le.Z,{formctrlidprint:"fld159L1TCExportPrint",formctrlidexport:"fld159L1TCExportTable",formctrlidrefresh:"fld159L1TCExportRefresh",title:Mt("159"),data:k,exportData:Bt,Items:st,columnIndex:nt,TableVisibleItem:te,userGridViewFormID:s,TableTotalCount:T,triggerApi:t=>{((t,l,n,o,r)=>{if(0===T)return xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;xe.loading(!0);let i=S.v.Api+"FP159S3/",c={data:{p1:t&&t.ConServiceIDPK?t.ConServiceIDPK:null,p2:t&&t.ConServiceCode?t.ConServiceCode:null,p3:t&&t.ServiceStartDate?t.ServiceStartDate:null,p4:t&&t.ServiceStartDateType?t.ServiceStartDateType:null,p5:t&&t.ServiceStartDateBetween?t.ServiceStartDateBetween:null,p6:t&&t.ServiceEndDate?t.ServiceEndDate:null,p7:t&&t.ServiceEndDateType?t.ServiceEndDateType:null,p8:t&&t.ServiceEndDateBetween?t.ServiceEndDateBetween:null,p9:t&&t.ServiceAmount?t.ServiceAmount:null,p10:t&&t.NoofEmployee?t.NoofEmployee:null,p11:t&&t.FrequencyAmount?t.FrequencyAmount:null,p12:t&&t.ServiceType?t.ServiceType:null,p13:t&&t.ServiceTotal?t.ServiceTotal:null,p14:t&&t.FrequencyLink?t.FrequencyLink:null,p15:t&&t.SerSellingPrice?t.SerSellingPrice:null,p16:t&&t.SerMinSellingPrice?t.SerMinSellingPrice:null,p17:t&&t.SerMaxSellingPrice?t.SerMaxSellingPrice:null,p18:Oe?"1":"0",p19:null,p20:t&&t.ServiceTypeID?t.ServiceTypeID:null,p21:e.parentId?Number(e.parentId):0,p22:t&&t.IsActive,p23:null,p24:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p25:t&&t.CreatedTtm?t.CreatedTtm:null,p26:t&&t.CreatedTtmType?t.CreatedTtmType:null,p27:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p28:null,p29:t&&t.ServiceTypCode?t.ServiceTypCode:null,p30:t&&t.ServiceTypeName?t.ServiceTypeName:null,p31:t&&t.ContractGroupID?t.ContractGroupID:null,p32:t&&t.ContractGroupCode?t.ContractGroupCode:null,p33:t&&t.ContractGroupName?t.ContractGroupName:null,p34:t&&t.TaxID?t.TaxID:null,p35:t&&t.TaxCode?t.TaxCode:null,p36:t&&t.TaxName?t.TaxName:null,p37:t&&t.TaxValue?t.TaxValue:null,p38:t&&t.CustomerID?t.CustomerID:null,p39:t&&t.CustomerCode?t.CustomerCode:null,p40:t&&t.CustomerName?t.CustomerName:null,p41:t&&t.ContractTypeID?t.ContractTypeID:null,p42:t&&t.ContractTypCode?t.ContractTypCode:null,p43:t&&t.ContractTypeName?t.ContractTypeName:null,p44:t&&t.ContractCategID?t.ContractCategID:null,p45:t&&t.ContractCategCode?t.ContractCategCode:null,p46:t&&t.ContractCategName?t.ContractCategName:null,p47:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p48:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p49:t&&t.ContractCode?t.ContractCode:null,p50:t&&t.ContractName?t.ContractName:null,p51:w.current,p52:T,p53:Oe?"DraftConServiceID":"ConServiceID",p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}};xe.loading(!1),xe.alert({open:!0,color:"success",message:[`${Mt(159)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,we.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,xe,st,R,a,r)}))})(U,K.column,0,0,t)},Refresh:()=>{W(""),B({current:1,pageSize:100}),i.current.clearItem(),we.IsDraft?Gt({current:1,pageSize:100},Fe,"DraftConServiceID"):Gt({current:1,pageSize:100},Fe,"ConServiceID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Oe&&!Pe&&!g&&n().createElement("div",{className:"buttoncard",onClick:()=>Dt(!gt)},n().createElement("span",null,gt?n().createElement(M.ZP,{disableFocusListener:!0,title:At("Less"),placement:"top"},n().createElement("span",{id:"fld159L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:At("More"),placement:"top"},n().createElement("span",{id:"fld159L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),gt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Pe||!Ke?null:g||!we.AccessRights.IsAdd||Oe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld159L1TCFilterDataIsAdd",id:"ConContractServiceDetailscoldiv",className:"buttoncard",onClick:()=>{xe.EditClose(!0),$?(document.getElementById("ConContractServiceDetailsFilterDiv").style.width="0%",document.getElementById("ConContractServiceDetailsTabDiv").style.width="100%",document.getElementById("ConContractServiceDetailsFilterDiv").style.display="none",document.getElementById("ConContractServiceDetailscoldiv").style.width="fit-content",document.getElementById("ConContractServiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",J(!1)):(document.getElementById("ConContractServiceDetailsFilterDiv").style.width="25%",document.getElementById("ConContractServiceDetailsTabDiv").style.width="75%",document.getElementById("ConContractServiceDetailsFilterDiv").style.display="block",document.getElementById("ConContractServiceDetailsfildiv").style.width="fit-content",document.getElementById("ConContractServiceDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractServiceDetailscoldiv").style.width="fit-content",document.getElementById("ConContractServiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",J(!0)),H(!1)}},n().createElement(M.ZP,{title:At("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},At("Manage Columns")))),!Oe&&m&&!Pe&&!g&&n().createElement("div",{className:"buttoncard",onClick:()=>(setTimeout((()=>c.current.getRefresh([])),2e3),xe.openNav(),void xe.SlideComponentType(n().createElement(De.Z,{ref:c,alert:e=>xe.alert(e),loading:e=>xe.loading(e),Api:"FP159S8/",data:e=>ct.log(e),SheetCount:1,frmctrlid:"fld159L1TCExpMig",importSave:(e,t)=>(async(e,t)=>{if(e.length>0){xe.loading(!0);const a=S.v.Api+"FP159S8/";await(0,Ne.ProcessDataSyncSave)(a,e,t,xe,c)}})(e,t),TableVisibleItem:Pt,TableBodyItem:xt,clear:e=>c.current.getRefresh([]),excelfile:S.v.excel+"ConContractServiceDetails.xlsx",filename:"ConContractServiceDetails.xlsx"}))),id:"fld159L1TCExpMigSlide"},n().createElement(M.ZP,{title:At("Migration"),placement:"top"},n().createElement("span",null,n().createElement(ye.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},At("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!g&&Ke&&!Pe&&!Oe&&n().createElement("div",null,n().createElement("div",{id:"ConContractServiceDetailscoldiv",className:"buttoncard",onClick:()=>{Ue?je(!1):(je(!0),kt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:At("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld159L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},At("Table Scroll Data")))),!Pe&&Oe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{xe.hideAddBtn(!1),xe.ExpandEntry(),Gt({current:1,pageSize:100},Fe,"ConServiceID"),Ze(!1),W(""),Be({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},n().createElement(M.ZP,{title:At("List"),placement:"top"},n().createElement("div",{id:"fld159L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},At("Drafts")," ",T)):!g&&!Pe&&we.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:L,showZero:!0},n().createElement("div",{id:"fld159L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{L>0?(B({current:1,pageSize:100}),f(0),xe.clear(),W(""),Be({type:"Add",payload:!1}),Gt({current:1,pageSize:10},Fe,"DraftConServiceID"),Ze(!0),Be({type:"IsDraft",payload:!0}),J(!1),_e(!0),document.getElementById("ConContractServiceDetailsFilterDiv").style.width="0%",document.getElementById("ConContractServiceDetailsTabDiv").style.width="100%",document.getElementById("ConContractServiceDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),Le(!1)):xe.alert({open:!0,color:"warning",message:[At("There is no Record Found")]})}},n().createElement(M.ZP,{title:At("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},At("Drafts"))))))):""),!Oe&&!g&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Pe||Oe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:ze?"buttonList":"buttonGrid",id:"fld159L1TCListView",onClick:()=>{_e(!0),pt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,At("List"))),n().createElement("div",{className:ze||ut?"buttonGrid":"buttonList",id:"fld159L1TCCardView",onClick:()=>{_e(!1),pt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,At("Card"))),n().createElement("div",{className:ut?"buttonList":"buttonGrid",id:"fld159L1TCTileView",onClick:()=>{pt(!0),_e(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,At("Tile"))))))),Pe?null:Ue?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld159L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:E,onPageChange:(e,t)=>{f(t),kt({current:t+1,pageSize:tt.pageSize}),lt({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:$e,color:"primary",page:tt.current,onChange:(e,t)=>{lt({current:t,pageSize:tt.pageSize}),Je(t),kt({current:t,pageSize:tt.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld159L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),kt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),Ke&&n().createElement("p",{className:"per-page"},"/ ",At("RowperpageOf")," (",Xe,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld159L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:E,onPageChange:(e,t)=>{f(t),Gt({current:t+1,pageSize:w.pageSize},Fe,Oe?"DraftConServiceID":"ConServiceID",Oe&&"DraftPage"),B({current:t+1,pageSize:w.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:v,siblingCount:0,color:"primary",page:w.current,onChange:(e,t)=>{if(B({current:t,pageSize:w.pageSize}),Oe)Gt({current:t,pageSize:w.pageSize},Ae,"DraftConServiceID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Y.length>0?qt(Y,{current:t,pageSize:w.pageSize}):Gt({current:t,pageSize:w.pageSize},Ae,"ConServiceID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:w.pageSize,id:"fld159L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),Oe?Gt({current:1,pageSize:e.target.value},Ae,"DraftConServiceID","DraftPage"):Y.length>0?qt(Y,{current:1,pageSize:e.target.value}):Gt({current:1,pageSize:e.target.value},Ae,"ConServiceID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),Ke&&n().createElement("p",{className:"per-page"},"/ ",At("RowperpageOf")," (",T,") "))),n().createElement("div",{id:"ConContractServiceDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractServiceDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},Q&&n().createElement(ot,{parentId:e.parentId,searchData:e=>{j(e||ht),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:s,data:()=>{},visibleData:()=>{},token:we.token[0],CloseBtnClk:()=>Zt(),userGrid:vt,msg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),$&&n().createElement(ie.Z,{Refresh:e=>{Gt({current:1,pageSize:100},Fe,"ConServiceID")},frmctrlid:"fld159L1TCTableColumnOrder",loading:e=>xe.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),select:$,userID:d,userGridViewFormID:s,saved:(e,t)=>{e&&Kt(t),Nt(t),Be({type:"showTableview",payload:t})},Token:we.token[0]})),n().createElement("div",{id:"ConContractServiceDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},ze?n().createElement(Vt,null):n().createElement(se.Z,{frmctrlid:"fld159L1TCExpandedCardDual",data:z,id:"ConContractServiceDetails",title:"ConServiceCode",cardTile:!!ut,visibleitem:te,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{g?xe.select(e):("edit"==t?(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:Oe}),Be({type:"ShowDetail",payload:!1}),xe.Expanded(!0)):(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:Oe}),Be({type:"ShowDetail",payload:!0}),xe.Expanded(!0),xe.viewtoggle()),Q?H(!0):$?J(!0):(J(!1),J(!1))),xe.hideAddBtn(!0)}})))))))})),st={EnterKeyValues:{ConContractServiceDetails:["ServiceTypeName","ServiceStartDate","ServiceEndDate","NoofEmployee","ServiceAmount","SerSellingPrice","SerMinSellingPrice","SerMaxSellingPrice","ConServiceCode","FrequencyAmount","ServiceType","ServiceTotal","FrequencyLink","ContractName"]},Label:{ConContractServiceDetails:{ServiceTypeID:["ServiceTypCode","ServiceTypeName"],ServiceStartDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceEndDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],NoofEmployee:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceAmount:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],SerSellingPrice:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],SerMinSellingPrice:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],SerMaxSellingPrice:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ConServiceCode:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],FrequencyAmount:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceType:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceTotal:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],FrequencyLink:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ContractID:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"]}},LabelHeader:{ConContractServiceDetails:{ServiceTypeID:["Code","Name"],ServiceStartDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceEndDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],NoofEmployee:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceAmount:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],SerSellingPrice:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],SerMinSellingPrice:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],SerMaxSellingPrice:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ConServiceCode:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],FrequencyAmount:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceType:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ServiceTotal:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],FrequencyLink:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ServiceTypCode","ServiceTypeName"],ContractID:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ServiceTypCode","ServiceTypeName"]}},Property:{ConContractServiceDetails:{ServiceTypeID:{id:"fld159_3161",clearID:"ConContractServiceDetailsServiceTypeNameClear",type:"select",labelID:"ServiceTypeIDPK",labelname:"Type Of Service",fielddisplayname:"ServiceTypeName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ServiceStartDate:{id:"fld159_3151",labelID:"ServiceStartDate",maxLength:"25",labelname:"Start Date",frmctrlid:"fld159_3151",frmctrlidname:"ServiceStartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceEndDate:{id:"fld159_3152",labelID:"ServiceEndDate",maxLength:"25",labelname:"End Date",frmctrlid:"fld159_3152",frmctrlidname:"ServiceEndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoofEmployee:{id:"fld159_3154",labelID:"NoofEmployee",maxLength:"8",labelname:"No of Employee",frmctrlid:"fld159_3154",frmctrlidname:"NoofEmployee",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceAmount:{id:"fld159_3153",labelID:"ServiceAmount",maxLength:"8",labelname:"Actual Price",frmctrlid:"fld159_3153",frmctrlidname:"ServiceAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SerSellingPrice:{id:"fld159_17355",labelID:"SerSellingPrice",maxLength:"8",labelname:"Selling Price",frmctrlid:"fld159_17355",frmctrlidname:"SerSellingPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SerMinSellingPrice:{id:"fld159_17356",labelID:"SerMinSellingPrice",maxLength:"8",labelname:"Min Selling Price",frmctrlid:"fld159_17356",frmctrlidname:"SerMinSellingPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SerMaxSellingPrice:{id:"fld159_17357",labelID:"SerMaxSellingPrice",maxLength:"8",labelname:"Max Selling Price",frmctrlid:"fld159_17357",frmctrlidname:"SerMaxSellingPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConServiceCode:{id:"fld159_3150",labelID:"ConServiceCode",maxLength:"20",labelname:"ConServiceCode",frmctrlid:"fld159_3150",frmctrlidname:"ConServiceCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FrequencyAmount:{id:"fld159_3155",labelID:"FrequencyAmount",maxLength:"8",labelname:"FrequencyAmount",frmctrlid:"fld159_3155",frmctrlidname:"FrequencyAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceType:{id:"fld159_3156",labelID:"ServiceType",maxLength:"",labelname:"ServiceType",frmctrlid:"fld159_3156",frmctrlidname:"ServiceType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceTotal:{id:"fld159_3157",labelID:"ServiceTotal",maxLength:"8",labelname:"ServiceTotal",frmctrlid:"fld159_3157",frmctrlidname:"ServiceTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FrequencyLink:{id:"fld159_3158",labelID:"FrequencyLink",maxLength:"",labelname:"FrequencyLink",frmctrlid:"fld159_3158",frmctrlidname:"FrequencyLink",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld159_3162",clearID:"ConContractServiceDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractName",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{ConContractServiceDetails:{ServiceTypeID:["ServiceTypCode","ServiceTypeName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},mt={ConServiceIDPK:"",ConServiceCode:"",ServiceStartDate:"",ServiceStartDateType:"",ServiceStartDateBetween:"",ServiceEndDate:"",ServiceEndDateType:"",ServiceEndDateBetween:"",ServiceAmount:"",NoofEmployee:"",FrequencyAmount:"",ServiceType:"",ServiceTotal:"",FrequencyLink:"",SerSellingPrice:"",SerMinSellingPrice:"",SerMaxSellingPrice:"",IsDraft:!1,Remarks:"",ServiceTypeID:null,ContractID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ServiceTypCode:"",ServiceTypeName:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",Type:"ConServiceID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},ut=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,L]=(0,l.useState)(""),[x,F]=(0,l.useState)(!1),[A,M]=(0,l.useState)([]),[R,k]=(0,l.useState)(null),[O,Z]=(0,l.useReducer)(Fe.Z,mt),[G,q]=(0,l.useState)(!1),[K,_]=(0,l.useState)([]),[Q,H]=(0,l.useState)(!1),U=(0,l.useContext)(e.context?e.context:Ct),{cstate:j,cdispatch:Y}=e.ContextApi?e.ContextApi:yt(),[W,$]=(0,l.useState)(0),[J,X]=(0,l.useState)(""),ee=(0,l.useRef)(null),[te,ae]=Oe()("159"),[le,ne]=(0,l.useState)(""),[oe,re]=(0,l.useState)(""),[ie,ce]=(0,l.useState)(!0),[de,se]=(0,l.useState)(!0),[me,ue]=(0,l.useState)(!0),[pe,Ce]=(0,l.useState)(!0),[ge,De]=(0,l.useState)(!0),[Ie,Se]=(0,l.useState)(!1);let Ee=(0,N.Z)();const[fe,ve]=(0,l.useState)({}),Ne=e=>Ee[e]?Ee[e]:e,he=t=>j.language?.[t]?j.language[t]:e.createEasy?fe?.[t]:t;(0,l.useEffect)((()=>{j.PrimaryId&&$(Number(j.PrimaryId))}),[j.PrimaryId]),(0,l.useEffect)((()=>{ke()}),[]),(0,l.useEffect)((()=>{ke()}),[e.parentId]),(0,l.useEffect)((()=>{j.editData.length>0?(Ae(j.editData[0],""),D(!0)):j.Add&&(ke(),D(!0))}),[j.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ve(Object.assign({},...t))}(te)}),[te]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ke()},CreateEasyProps:(e=!0,t)=>{ae(!0),t?(je(t),D(e)):(ke(),D(e))},AddOpen:e=>{ke(),D(!0)}})));const Te=e=>e?e.split("-").reverse().join("-"):null,Le=e=>{if(e){let t=Te(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},Ae=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultConServiceID"==a?X(t.ConServiceIDPK):($(e.primid?Number(e.primid):t.ConServiceIDPK?t.ConServiceIDPK:0),Y({type:"PrimaryId",payload:t.ConServiceIDPK})),Z({type:"number",name:"ServiceTypeID",number:t.ServiceTypeID?Number(t.ServiceTypeID):0}),Z({type:"text",name:"ServiceTypeName",value:t.ServiceTypeName}),Z({type:"text",name:"ServiceStartDate",value:t.ServiceStartDate?Te(t.ServiceStartDate):null}),Z({type:"text",name:"ServiceEndDate",value:t.ServiceEndDate?Te(t.ServiceEndDate):null}),Z({type:"number",name:"NoofEmployee",number:t.NoofEmployee}),Z({type:"number",name:"ServiceAmount",number:Number(t.ServiceAmount)}),Z({type:"number",name:"SerSellingPrice",number:Number(t.SerSellingPrice)}),Z({type:"number",name:"SerMinSellingPrice",number:Number(t.SerMinSellingPrice)}),Z({type:"number",name:"SerMaxSellingPrice",number:Number(t.SerMaxSellingPrice)}),Z({type:"text",name:"ConServiceCode",value:t.ConServiceCode?t.ConServiceCode:""}),Z({type:"number",name:"FrequencyAmount",number:Number(t.FrequencyAmount)}),Z({type:"text",name:"ServiceType",value:t.ServiceType?t.ServiceType:""}),Z({type:"number",name:"ServiceTotal",number:Number(t.ServiceTotal)}),Z({type:"number",name:"FrequencyLink",number:t.FrequencyLink}),Z({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),Z({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},ke=()=>{M([]),$(0),X(""),e.createEasy||U.resetImg(),Y({type:"PrimaryId",payload:""}),Z({type:"text",name:"ServiceTypeID",value:null}),Z({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("ConContractServiceDetailsServiceTypeNameClear")&&document.getElementById("ConContractServiceDetailsServiceTypeNameClear").click(),Z({type:"text",name:"ServiceStartDate",value:""}),Z({type:"text",name:"ServiceEndDate",value:""}),Z({type:"number",name:"NoofEmployee",number:0}),Z({type:"number",name:"ServiceAmount",number:0}),Z({type:"number",name:"SerSellingPrice",number:0}),Z({type:"number",name:"SerMinSellingPrice",number:0}),Z({type:"number",name:"SerMaxSellingPrice",number:0}),Z({type:"text",name:"ConServiceCode",value:""}),Z({type:"number",name:"FrequencyAmount",number:0}),Z({type:"text",name:"ServiceType",value:""}),Z({type:"number",name:"ServiceTotal",number:0}),Z({type:"number",name:"FrequencyLink",number:0}),Z({type:"text",name:"ContractID",value:null}),Z({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractServiceDetailsContractNameClear")&&document.getElementById("ConContractServiceDetailsContractNameClear").click(),y(!0),L(""),ce(!0),se(!0),ue(!0),Ce(!0),De(!0)},Ze=t=>{U.loading(!0),U.ConfirmAlert(null);const a=S.v.Api+"FP159S2/",l={data:[{p1:"SetDefaultConServiceID"==t?"NORECORDS"!=J&&J?J:0:W,p2:Ye(O.ConServiceCode),p3:O.ServiceStartDate?Le(O.ServiceStartDate):null,p4:O.ServiceEndDate?Le(O.ServiceEndDate):null,p5:O.ServiceAmount?Number(O.ServiceAmount):0,p6:O.NoofEmployee?Number(O.NoofEmployee):0,p7:O.FrequencyAmount?Number(O.FrequencyAmount):0,p8:Ye(O.ServiceType),p9:O.ServiceTotal?Number(O.ServiceTotal):0,p10:O.FrequencyLink?Number(O.FrequencyLink):0,p11:O.SerSellingPrice?Number(O.SerSellingPrice):0,p12:O.SerMinSellingPrice?Number(O.SerMinSellingPrice):0,p13:O.SerMaxSellingPrice?Number(O.SerMaxSellingPrice):0,p14:!1,p15:"SetDefaultConServiceID"==t?"SetDefault":null,p16:O.ServiceTypeID?O.ServiceTypeID:0,p17:e.parentId?Number(e.parentId):O.ContractID?O.ContractID:0,p18:s,p19:"SetDefaultConServiceID"==t,p20:localStorage.getItem("userid"),p21:V()().format("YYYY-MM-DD hh:mm:ss"),p22:localStorage.getItem("userid"),p23:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(U.alert({open:!0,color:"warning",message:o}),U.loading(!1)):(t=>{ce(!0),se(!0),ue(!0),Ce(!0),De(!0),U.loading(!0),U.ConfirmAlert(null),Y({type:"IsDraft",payload:!1});const a=S.v.Api+"FP159S1/",l={data:[{p1:W,p2:Ye(O.ConServiceCode),p3:O.ServiceStartDate?Le(O.ServiceStartDate):null,p4:O.ServiceEndDate?Le(O.ServiceEndDate):null,p5:O.ServiceAmount?Number(O.ServiceAmount):0,p6:O.NoofEmployee?Number(O.NoofEmployee):0,p7:O.FrequencyAmount?Number(O.FrequencyAmount):0,p8:Ye(O.ServiceType),p9:O.ServiceTotal?Number(O.ServiceTotal):0,p10:O.FrequencyLink?Number(O.FrequencyLink):0,p11:O.SerSellingPrice?Number(O.SerSellingPrice):0,p12:O.SerMinSellingPrice?Number(O.SerMinSellingPrice):0,p13:O.SerMaxSellingPrice?Number(O.SerMaxSellingPrice):0,p14:!1,p15:null,p16:O.ServiceTypeID?O.ServiceTypeID:0,p17:e.parentId?Number(e.parentId):O.ContractID?O.ContractID:0,p18:s,p19:!1,p20:localStorage.getItem("userid"),p21:V()().format("YYYY-MM-DD hh:mm:ss"),p22:localStorage.getItem("userid"),p23:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(U.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttConContractServiceDetails"),U.loading(!1),Y({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(U.RefreshTable(),U.attachmentSave(t[0].Data.IDPK)),ke(),j.AccessRights.IsApproval&&U.Approval(!0),document.getElementById("overlayimgAttConContractServiceDetails")&&(document.getElementById("overlayimgAttConContractServiceDetails").style.width="0%",document.getElementById("overlayimgAttConContractServiceDetails").style.display="none",document.getElementById("divConContractServiceDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractServiceDetails-MainTable").style.display="block")):(U.alert({open:!0,color:"warning",message:[a.message]}),U.loading(!1)),D(!0)}))}))})()):(U.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),U.loading(!1))}))}))};function Ge(t,a,l,n){if(!(j.count>0))return U.alert({open:!0,color:"warning",message:[Ne("Please save atleast one record")]}),!1;if(!((()=>{const e={...O};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return U.alert({open:!0,color:"warning",message:[Ne("Please enter the primary fields")]}),!1;{ce(!0),se(!0),ue(!0),Ce(!0),De(!0),U.loading(!0),U.ConfirmAlert(null),Y({type:"IsDraft",payload:!1});const a=S.v.Api+"FP159S1/",l={data:[{p1:"SetDefaultConServiceID"==n?"NORECORDS"!=J&&J?J:0:W,p2:Ye(O.ConServiceCode),p3:O.ServiceStartDate?Le(O.ServiceStartDate):null,p4:O.ServiceEndDate?Le(O.ServiceEndDate):null,p5:O.ServiceAmount?Number(O.ServiceAmount):0,p6:O.NoofEmployee?Number(O.NoofEmployee):0,p7:O.FrequencyAmount?Number(O.FrequencyAmount):0,p8:Ye(O.ServiceType),p9:O.ServiceTotal?Number(O.ServiceTotal):0,p10:O.FrequencyLink?Number(O.FrequencyLink):0,p11:O.SerSellingPrice?Number(O.SerSellingPrice):0,p12:O.SerMinSellingPrice?Number(O.SerMinSellingPrice):0,p13:O.SerMaxSellingPrice?Number(O.SerMaxSellingPrice):0,p14:!0,p15:"SetDefaultConServiceID"==n?"SetDefault":null,p16:O.ServiceTypeID?O.ServiceTypeID:0,p17:e.parentId?Number(e.parentId):O.ContractID?O.ContractID:0,p18:!1,p19:"SetDefaultConServiceID"==n,p20:localStorage.getItem("userid"),p21:V()().format("YYYY-MM-DD hh:mm:ss"),p22:localStorage.getItem("userid"),p23:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?U.alert({open:!0,color:"warning",message:[Ne("Deleted Successfully")]}):U.alert({open:!0,color:"success",message:[Ne("Saved to Draft")]}),U.loading(!1),U.attachmentSave(a[0].Data.IDPK),ke(),U.RefreshTable(),e.clrImgstate(!0)):(U.alert({open:!0,color:"warning",message:[l.message]}),U.loading(!1))}))}))}}function qe(e){return CreateEasy(e,j,Y,U,ee),!1}function Ke(e,a){return AdvanceSearch(e,a,Ct,yt(),_e,t),!1}const Ve=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP159S3/",c={data:{p1:null,p2:null,p3:O.ServiceStartDate?O.ServiceStartDate:null,p4:null,p5:null,p6:O.ServiceEndDate?O.ServiceEndDate:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:"0"==O.ServiceTypeID?null:O.ServiceTypeID,p21:e.parentId?Number(e.parentId):0,p22:e.Dialogview?"1":null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:"0"==O.ContractGroupID?null:O.ContractGroupID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==O.TaxID?null:O.TaxID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==O.CustomerID?null:O.CustomerID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==O.ContractTypeID?null:O.ContractTypeID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==O.ContractCategID?null:O.ContractCategID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:"0"==O.ConPaymentTermsID?null:O.ConPaymentTermsID,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:t,p52:10,p53:l,p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});q(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultConServiceID"==l&&n?n:j.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};_(1==t?e>0?n:[]:K.concat(n)),"SetDefaultConServiceID"==l&&(e>0?Ae(n[0],"SetDefaultConServiceID"):X("NORECORDS")),q(!1)}else U.alert({open:!0,color:"warning",message:[e.Output.status.message]}),q(!1)}))},ze=(t,l,n)=>{const o=S.v.Api+"FP159S3/",r={data:{p1:null,p2:"ConServiceCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"ServiceAmount"==n&&l?"%"+l+"%":null,p10:"NoofEmployee"==n&&l?"%"+l+"%":null,p11:"FrequencyAmount"==n&&l?"%"+l+"%":null,p12:"ServiceType"==n&&l?"%"+l+"%":null,p13:"ServiceTotal"==n&&l?"%"+l+"%":null,p14:"FrequencyLink"==n&&l?"%"+l+"%":null,p15:"SerSellingPrice"==n&&l?"%"+l+"%":null,p16:"SerMinSellingPrice"==n&&l?"%"+l+"%":null,p17:"SerMaxSellingPrice"==n&&l?"%"+l+"%":null,p18:null,p19:null,p20:null,p21:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p22:e.Dialogview?"1":null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:t,p52:10,p53:"ConServiceID",p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};q(!0),(0,I.Z)(o,"ClearAll"==n?i:r,j.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ConServiceCode"==n&&ce(e>0),"FrequencyAmount"==n&&se(e>0),"ServiceType"==n&&ue(e>0),"ServiceTotal"==n&&Ce(e>0),"FrequencyLink"==n&&De(e>0),_(l)):("ConServiceCode"==n&&ce(!0),"FrequencyAmount"==n&&se(!0),"ServiceType"==n&&ue(!0),"ServiceTotal"==n&&Ce(!0),"FrequencyLink"==n&&De(!0),_(K.concat(l))),q(!1)}else U.alert({open:!0,color:"warning",message:[e.Output.status.message]}),q(!1)}))},_e=(0,l.useCallback)((async(e,t,a)=>{"text"==a?Z({type:a,name:t,value:e}):"number"==a?Z({type:a,name:t,number:Number(e)}):"boolean"==a?Z({type:a,name:t,boolean:e}):"date"==a?Z({type:"text",name:t,value:e}):"select"==a&&"ServiceTypeID"==t&&(Z({type:"text",name:"ServiceTypeID",value:e.ServiceTypeIDPK?e.ServiceTypeIDPK:null}),Z({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName?e.ServiceTypeName:null}))}),[O]);function Qe(e){if("ServiceTypeID"==e){if(!O.ServiceTypeID)return!1;Z({type:"text",name:"ServiceTypeID",value:null}),Z({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("ConContractServiceDetailsServiceTypeNameClear")&&document.getElementById("ConContractServiceDetailsServiceTypeNameClear").click()}else if("ContractID"==e&&!O.ContractID)return!1}function He(e){if("ServiceTypeID"==e){if(!O.ServiceTypeID)return!1;Z({type:"text",name:"ServiceTypeID",value:null})}else if("ContractID"==e&&!O.ContractID)return!1}const Ue=e=>{U.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>je(e),onCancel:()=>U.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("No"),showCancel:!0},Ne("Do you want to update this record?")))};function je(e){U.ConfirmAlert(null),h(e.IsDraft),$(Number(e.ConServiceIDPK)?Number(e.ConServiceIDPK):0),Z({type:"number",name:"ServiceTypeID",number:e.ServiceTypeID?Number(e.ServiceTypeID):0}),Z({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName?e.ServiceTypeName:""}),Z({type:"text",name:"ServiceStartDate",value:e.ServiceStartDate?Te(e.ServiceStartDate):null}),Z({type:"text",name:"ServiceEndDate",value:e.ServiceEndDate?Te(e.ServiceEndDate):null}),Z({type:"number",name:"NoofEmployee",number:e.NoofEmployee?Number(e.NoofEmployee):0}),Z({type:"number",name:"ServiceAmount",number:e.ServiceAmount?Number(e.ServiceAmount):0}),Z({type:"number",name:"SerSellingPrice",number:e.SerSellingPrice?Number(e.SerSellingPrice):0}),Z({type:"number",name:"SerMinSellingPrice",number:e.SerMinSellingPrice?Number(e.SerMinSellingPrice):0}),Z({type:"number",name:"SerMaxSellingPrice",number:e.SerMaxSellingPrice?Number(e.SerMaxSellingPrice):0}),Z({type:"text",name:"ConServiceCode",value:e.ConServiceCode?e.ConServiceCode:""}),Z({type:"text",name:"FrequencyAmount",value:e.FrequencyAmount?e.FrequencyAmount:""}),Z({type:"text",name:"ServiceType",value:e.ServiceType?e.ServiceType:""}),Z({type:"text",name:"ServiceTotal",value:e.ServiceTotal?e.ServiceTotal:""}),Z({type:"text",name:"FrequencyLink",value:e.FrequencyLink?e.FrequencyLink:""}),Z({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),Z({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const Ye=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[159]"}," ",Ne("Add "),he("159")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld159L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:Ne(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{U.AttachExpand(!0)},id:"fld159L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ne("Attach")))),!W&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ke()},id:"fld159L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ne("Reset")))),"1"===E&&W&&n().createElement(Pe.Z,{frmctrlid:"fld159L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ge("draftdel")}}),W&&"1"!==E||e.createEasy?null:j.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Ge()},frmctrlid:"fld159L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ne("Draft")))),j.AccessRights.IsAdd||j.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld159L1ECSaveBtnIsAdd",name:Ne(W?"Update":"Save"),disabled:!1,onClick:()=>{O.ServiceTypeID&&0!=O.ServiceTypeID?e.parentId&&0!=e.parentId?U.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ne("Are you sure?"),onConfirm:()=>Ze(),onCancel:()=>U.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("Cancel"),showCancel:!0},Ne(W?"Do you want to Update?":"Do you want to Save?"))):U.alert({open:!0,color:"warning",message:[Ne("Please select the ")+" "+he("ContractID")]}):U.alert({open:!0,color:"warning",message:[Ne("Please select the ")+" "+he("ServiceTypeID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld159L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ke(),D(!1),U.EditClose(!0),U.hideAddBtn(!1),Y({type:"Add",payload:!1})}}),W?n().createElement(P(),{id:159,cstate:j,cdispatch:Y,context:U,parentId:e.parentId,parentData:e.parentId,Approval:e=>U.Approval(e),sentToAppr:"1"==j.AccessRights.IsApproval,model:"IsEntry"}):null)))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractServiceDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractServiceDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractServiceDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:st,id:O.ServiceTypeID,"data-testid":O.ServiceTypeID,value:O.ServiceTypeName,disabled:!(!W||E),SPName:"ConContractServiceDetails",FieldName:"ServiceTypeID",tfLabel:he("ServiceTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>_e(e,"ServiceTypeID","select"),onChange:(e,t)=>{Ve(e,t,"ServiceTypeIDPK")},KeyBack:e=>{He("ServiceTypeID")},fieldorder:"1",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,openSlide:()=>{qe("17")},Tabledialog:()=>Ke("17","ServiceTypeID"),loading:G,clear:e=>{e&&Qe("ServiceTypeID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:O.ServiceStartDate,"data-testid":O.ServiceStartDate,onChange:e=>{_e(e,"ServiceStartDate","date")},disabled:!(!W||E),onErr:e=>{ne(e)},label:he("ServiceStartDate"),frmctrlid:"fld159_3151",frmctrlidName:"ServiceStartDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:O.ServiceEndDate,"data-testid":O.ServiceEndDate,onChange:e=>{_e(e,"ServiceEndDate","date")},disabled:!(!W||E),onErr:e=>{re(e)},label:he("ServiceEndDate"),minDate:O.ServiceStartDate,frmctrlid:"fld159_3152",frmctrlidName:"ServiceEndDate",fieldorder:"3"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:st,"data-testid":O.NoofEmployee,SPName:"ConContractServiceDetails",FieldName:"NoofEmployee",tfLabel:he("NoofEmployee"),frmctrlid:"fld159_3154",fieldorder:"4",disabled:!(!W||E),onChange:e=>{_e(e,"NoofEmployee","number")},clear:e=>{e&&Z({type:"number",name:"NoofEmployee",number:0})},value:O.NoofEmployee})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:st,"data-testid":O.ServiceAmount,SPName:"ConContractServiceDetails",FieldName:"ServiceAmount",tfLabel:he("ServiceAmount"),frmctrlid:"fld159_3153",fieldorder:"1",disabled:!(!W||E),onChange:e=>{_e(e,"ServiceAmount","number")},clear:e=>{e&&Z({type:"number",name:"ServiceAmount",number:0})},Iscurr:!0,value:O.ServiceAmount})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:st,"data-testid":O.SerSellingPrice,SPName:"ConContractServiceDetails",FieldName:"SerSellingPrice",tfLabel:he("SerSellingPrice"),frmctrlid:"fld159_17355",fieldorder:"2",disabled:!(!W||E),onChange:e=>{_e(e,"SerSellingPrice","number")},clear:e=>{e&&Z({type:"number",name:"SerSellingPrice",number:0})},value:O.SerSellingPrice})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:st,"data-testid":O.SerMinSellingPrice,SPName:"ConContractServiceDetails",FieldName:"SerMinSellingPrice",tfLabel:he("SerMinSellingPrice"),frmctrlid:"fld159_17356",fieldorder:"3",disabled:!(!W||E),onChange:e=>{_e(e,"SerMinSellingPrice","number")},clear:e=>{e&&Z({type:"number",name:"SerMinSellingPrice",number:0})},value:O.SerMinSellingPrice})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:st,"data-testid":O.SerMaxSellingPrice,SPName:"ConContractServiceDetails",FieldName:"SerMaxSellingPrice",tfLabel:he("SerMaxSellingPrice"),frmctrlid:"fld159_17357",fieldorder:"4",disabled:!(!W||E),onChange:e=>{_e(e,"SerMaxSellingPrice","number")},clear:e=>{e&&Z({type:"number",name:"SerMaxSellingPrice",number:0})},value:O.SerMaxSellingPrice})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":O.ConServiceCode,json:st,SPName:"ConContractServiceDetails",FieldName:"ConServiceCode",tfLabel:he("ConServiceCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ie&&ze(1,"","ClearAll"),ce(!0)},frmctrlid:"fld159_3150",frmctrlidName:"ConServiceCode",fieldorder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ie&&ze(e,t,"ConServiceCode"),_e(t,"ConServiceCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:O.ConServiceCode,loading:G,clear:e=>{e&&(Z({type:"text",name:"ConServiceCode",value:""}),ce(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":O.FrequencyAmount,json:st,SPName:"ConContractServiceDetails",FieldName:"FrequencyAmount",tfLabel:he("FrequencyAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{de&&ze(1,"","ClearAll"),se(!0)},frmctrlid:"fld159_3155",frmctrlidName:"FrequencyAmount",fieldorder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{de&&ze(e,t,"FrequencyAmount"),_e(t,"FrequencyAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:O.FrequencyAmount,loading:G,clear:e=>{e&&(Z({type:"text",name:"FrequencyAmount",value:""}),se(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":O.ServiceType,json:st,SPName:"ConContractServiceDetails",FieldName:"ServiceType",tfLabel:he("ServiceType"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{me&&ze(1,"","ClearAll"),ue(!0)},frmctrlid:"fld159_3156",frmctrlidName:"ServiceType",fieldorder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{me&&ze(e,t,"ServiceType"),_e(t,"ServiceType","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ue(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:O.ServiceType,loading:G,clear:e=>{e&&(Z({type:"text",name:"ServiceType",value:""}),ue(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":O.ServiceTotal,json:st,SPName:"ConContractServiceDetails",FieldName:"ServiceTotal",tfLabel:he("ServiceTotal"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{pe&&ze(1,"","ClearAll"),Ce(!0)},frmctrlid:"fld159_3157",frmctrlidName:"ServiceTotal",fieldorder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{pe&&ze(e,t,"ServiceTotal"),_e(t,"ServiceTotal","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ce(!0)},showList:pe,SideEntryView:!1,KeyBack:e=>{},value:O.ServiceTotal,loading:G,clear:e=>{e&&(Z({type:"text",name:"ServiceTotal",value:""}),Ce(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":O.FrequencyLink,json:st,SPName:"ConContractServiceDetails",FieldName:"FrequencyLink",tfLabel:he("FrequencyLink"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ge&&ze(1,"","ClearAll"),De(!0)},frmctrlid:"fld159_3158",frmctrlidName:"FrequencyLink",fieldorder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,onChange:(e,t)=>{ge&&ze(e,t,"FrequencyLink"),_e(t,"FrequencyLink","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:O.FrequencyLink,loading:G,clear:e=>{e&&(Z({type:"text",name:"FrequencyLink",value:""}),De(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:st,id:O.ContractID,"data-testid":O.ContractID,value:O.ContractName,SPName:"ConContractServiceDetails",FieldName:"ContractID",tfLabel:he("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>_e(e,"ContractID","select"),onChange:(e,t)=>{Ve(e,t,"ContractIDPK")},KeyBack:e=>{He("ContractID")},fieldorder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,openSlide:()=>{qe("156")},Tabledialog:()=>Ke("156","ContractID"),loading:G,clear:e=>{e&&Qe("ContractID")}})))),n().createElement("div",{id:"ConContractServiceDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractServiceDetailsSideBar").style.width="0",void F(!1))},"×"),x&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},R))))))))})),pt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,L]=n().useState(""),[x,w]=n().useState(!1),B=(0,l.useContext)(Ct),{cstate:F,cdispatch:A}=yt(),[M,R]=(0,l.useState)(!1),[k,O]=(0,l.useState)(""),[Z,G]=(0,l.useState)(""),[q,K]=(0,l.useState)("");let V=(0,N.Z)();(0,l.useEffect)((()=>{F.editData.length>0&&(d(F.editData),h(!1),A({type:"PrimaryId",payload:F.editData[0].ConServiceIDPK}))}),[F.editData]),(0,l.useEffect)((()=>{F.showTableview&&K(F.showTableview)}),[F.showTableview]),(0,l.useEffect)((()=>{m(F.ExpandDetailValue)}),[F.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP159S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:e.Dialogview?"1":null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:1,p52:10,p53:F.IsDraft?"DraftConServiceID":"ConServiceID",p54:null,p55:null,p56:localStorage.getItem("UserGroupID"),p57:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{B.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const z=e=>V?.[e]?V?.[e]:e,_=e=>F.language?.[e]?F.language[e]:e;function Q(e,t){}const H=(e,t)=>(a,l)=>{L(x?Object.assign(...c.filter((e=>e.ConServiceIDPK==t)).map((e=>e))):F.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},F.IsDraft?z("Draft"):"",_("ConContractServiceDetails"),e.viewonly?" ":"("+F.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&F.AccessRights.IsAdd?n().createElement(r.Z,{name:z("Add"),frmctrlid:"fld159L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{B.hideAddBtn(!0),A({type:"editData",payload:[]}),A({type:"ShowDetail",payload:!1}),A({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&F.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld159L1VCEditBtn",onClick:H("panel0",""),disabled:!1}):F.IsDraft&&F.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld159L1VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld159L1VCCloseBtn",onClick:()=>{m(!1),B.hideAddBtn(!1),x&&(A({type:"editData",payload:[]}),d([]))}})):"",n().createElement(P(),{id:159,cstate:F,cdispatch:A,context:B,parentId:e.parentId,parentData:e.parentId,Approval:e=>B.Approval(e),sentToAppr:"1"==F.AccessRights.IsApproval}))),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(ut,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractServiceDetails",tableID:159,parentID:t.ConServiceIDPK,fldid:"fld159L1VCContainer",OpenSlideComponent:Q,index:l,refresh:q,val:t,tf:_,t:z,title:"10.0.0.59-3:08:17 PM-18-7[159]"}))))))))})),Ct=(0,l.createContext)(),yt=()=>{const e=(0,l.useContext)(Ct);if(void 0===e)throw new Error("useCont must be used within  ConContractServiceDetailsContext Provider");return e},gt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractServiceDetails-Entry").style.width="100%",document.getElementById("ConContractServiceDetails-MainTable").style.width="100%",document.getElementById("ConContractServiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractServiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractServiceDetails-Entry").style.width="100%",document.getElementById("ConContractServiceDetails-MainTable").style.width="100%",document.getElementById("ConContractServiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractServiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractServiceDetails-Entry").style.width="100%",document.getElementById("ConContractServiceDetailsEntryTable").style.width="100%",document.getElementById("ConContractServiceDetails-MainEntry").style.width="100%",document.getElementById("ConContractServiceDetails-MainEntry").style.display="block",document.getElementById("ConContractServiceDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractServiceDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractServiceDetails").style.width="0%",document.getElementById("overlayimgAttConContractServiceDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Ct.Provider,{value:{cstate:D,cdispatch:I,ContextApi:yt,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractServiceDetails").style.width="50%",document.getElementById("divConContractServiceDetails-Entry").style.width="100%",document.getElementById("ConContractServiceDetails-MainTable").style.width="100%",document.getElementById("ConContractServiceDetails-MainEntry").style.width="100%",document.getElementById("ConContractServiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractServiceDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractServiceDetails").style.display="block",document.getElementById("overlayimgAttConContractServiceDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractServiceDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractServiceDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractServiceDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractServiceDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(pt,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:159,fileId:"LogoImgConContractServiceDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractServiceDetails",frmctrlid:"PvwIm_159_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractServiceDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(ut,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:159,fileId:"LogoImgConContractServiceDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractServiceDetails",frmctrlid:"PvwIm_159_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractServiceDetails-MainTable"},0!==y?n().createElement(dt,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:159,fileId:"AttImgConContractServiceDetails",imgid:"overlayimgAttConContractServiceDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractServiceDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_159_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractServiceDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:159,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Dt=a(25108);const It=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:Bt(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP93S3/",g={data:{p1:"BOQConfiqIDPK"==a?null:await we(),p2:"BOQConfiqCode"==c&&l.length>0?"%"+l+"%":null,p3:"BOQprice"==c&&l.length>0?"%"+l+"%":null,p4:"BOQDiscount"==c&&l.length>0?"%"+l+"%":null,p5:"TaxAmount"==c&&l.length>0?"%"+l+"%":null,p6:"BOQSubTotal"==c&&l.length>0?"%"+l+"%":null,p7:"BOQTotal"==c&&l.length>0?"%"+l+"%":null,p8:"BOQType"==c&&l.length>0?"%"+l+"%":null,p9:"Basic1"==c&&l.length>0?"%"+l+"%":null,p10:"Basic2"==c&&l.length>0?"%"+l+"%":null,p11:null,p12:null,p13:"DiscountAmount"==c&&l.length>0?"%"+l+"%":null,p14:"BOQGrandTotal"==c&&l.length>0?"%"+l+"%":null,p15:null,p16:"BOQName"!=c&&d.BOQName?d.BOQName.map((e=>e.BOQIDPK)).toString():null,p17:e.parentId?e.parentId:"0",p18:"BOQQty"==c&&l.length>0?"%"+l+"%":null,p19:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p20:e.Dialogview?"1":null,p21:null,p22:"p22"==c&&l.length>0?l:null,p23:null,p24:null,p25:null,p26:null,p27:"BOQCode"==c&&l.length>0?"%"+l+"%":null,p28:"BOQName"==c&&l.length>0?"%"+l+"%":null,p29:"UOM"==c&&l.length>0?"%"+l+"%":null,p30:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p31:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p32:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p33:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p34:"TaxName"==c&&l.length>0?"%"+l+"%":null,p35:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p36:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p37:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p38:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p39:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p40:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p41:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p42:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p43:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p44:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p45:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p46:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p47:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p48:"ContractName"==c&&l.length>0?"%"+l+"%":null,p49:n||1,p50:10,p51:t,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.BOQConfiqIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={BOQConfiqIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",BOQID:Le("BOQID"),TaxID:Le("TaxID"),ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.BOQConfiqIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.BOQConfiqIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={BOQConfiqIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,BOQID:C.BOQName?.map((e=>e.BOQIDPK)).toString(),TaxID:C.TaxName?.map((e=>e.TaxIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld93L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld93L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld93L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Dt.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld93L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld93L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld93L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld93L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld93L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld93L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld93L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"BOQConfiqIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBOQConfiqID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterBOQConfiqID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterBOQConfiqID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),St=It;window.clickFilter="";const Et=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("93"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"BOQConfiqDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:wt),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:Bt();let Pe={BOQConfiqIDPK:"",BOQConfiqCode:"",BOQprice:"",BOQDiscount:"",TaxAmount:"",BOQSubTotal:"",BOQTotal:"",BOQType:"",Basic1:"",Basic2:"",IsDefault:"",IsDraft:"",DiscountAmount:"",BOQGrandTotal:"",Remarks:"",BOQID:"",ContractID:"",BOQQty:"",TaxID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BOQCode:"",BOQName:"",UOM:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({BOQName:"",BOQprice:"",BOQQty:"",BOQSubTotal:"",BOQDiscount:"",DiscountAmount:"",TaxName:"",TaxAmount:"",BOQTotal:"",BOQType:"",Basic2:"",Basic1:"",BOQConfiqCode:"",BOQGrandTotal:"",ContractName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("93"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const Et=e=>It[e]?It[e]:e,ft=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Lt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?bt(L,Pe,"BOQConfiqID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?bt(L,Q,"BOQConfiqID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{vt(e)},tableRefresh:()=>{bt(L,Pe,"BOQConfiqID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const vt=e=>{""==e?bt(L,Pe,Fe?"DraftBOQConfiqID":"BOQConfiqID",Fe&&"DraftPage"):Pt(e,{current:1,pageSize:100}),j(e)};function Nt(t){he.loading(!0);let a=S.v.Api+"FP93S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function ht(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Pt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const Tt=()=>{he.EditClose(!0),z?(document.getElementById("BOQConfiqDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BOQConfiqDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BOQConfiqDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("BOQConfiqDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BOQConfiqDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("BOQConfiqDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BOQConfiqDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BOQConfiqDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BOQConfiqDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BOQConfiqDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BOQConfiqDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BOQConfiqDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("BOQConfiqDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BOQConfiqDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},bt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP93S3/",c={data:{p1:o||(a&&a.BOQConfiqIDPK?a.BOQConfiqIDPK:null),p2:a&&a.BOQConfiqCode?a.BOQConfiqCode:null,p3:a&&a.BOQprice?a.BOQprice:null,p4:a&&a.BOQDiscount?a.BOQDiscount:null,p5:a&&a.TaxAmount?a.TaxAmount:null,p6:a&&a.BOQSubTotal?a.BOQSubTotal:null,p7:a&&a.BOQTotal?a.BOQTotal:null,p8:a&&a.BOQType?a.BOQType:null,p9:a&&a.Basic1?a.Basic1:null,p10:a&&a.Basic2?a.Basic2:null,p11:null,p12:"DraftBOQConfiqID"==l?"1":"0",p13:a&&a.DiscountAmount?a.DiscountAmount:null,p14:a&&a.BOQGrandTotal?a.BOQGrandTotal:null,p15:null,p16:a&&a.BOQID?a.BOQID:null,p17:e.parentId?Number(e.parentId):0,p18:a&&a.BOQQty?a.BOQQty:null,p19:a&&a.TaxID?a.TaxID:null,p20:a&&a.IsActive,p21:null,p22:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p23:a&&a.CreatedTtm?a.CreatedTtm:null,p24:a&&a.CreatedTtmType?a.CreatedTtmType:null,p25:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p26:null,p27:a&&a.BOQCode?a.BOQCode:null,p28:a&&a.BOQName?a.BOQName:null,p29:a&&a.UOM?a.UOM:null,p30:a&&a.ContractGroupID?a.ContractGroupID:null,p31:a&&a.ContractGroupCode?a.ContractGroupCode:null,p32:a&&a.ContractGroupName?a.ContractGroupName:null,p33:a&&a.TaxCode?a.TaxCode:null,p34:a&&a.TaxName?a.TaxName:null,p35:a&&a.TaxValue?a.TaxValue:null,p36:a&&a.CustomerID?a.CustomerID:null,p37:a&&a.CustomerCode?a.CustomerCode:null,p38:a&&a.CustomerName?a.CustomerName:null,p39:a&&a.ContractTypeID?a.ContractTypeID:null,p40:a&&a.ContractTypCode?a.ContractTypCode:null,p41:a&&a.ContractTypeName?a.ContractTypeName:null,p42:a&&a.ContractCategID?a.ContractCategID:null,p43:a&&a.ContractCategCode?a.ContractCategCode:null,p44:a&&a.ContractCategName?a.ContractCategName:null,p45:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p46:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p47:a&&a.ContractCode?a.ContractCode:null,p48:a&&a.ContractName?a.ContractName:null,p49:o?1:t.current,p50:t.pageSize,p51:l,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divBOQConfiqDetails-Entry").style.height="auto",document.getElementById("divBOQConfiqDetails-Entry").style.display="block")}else he.loading(!1),"DraftBOQConfiqID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function Pt(t,a){he.loading(!0);const l=S.v.Api+"FP93S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Lt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const xt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_93_L1_",id:"BOQConfiqDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),bt({current:1,pageSize:10},t,Fe?"DraftBOQConfiqID":"BOQConfiqID",Fe&&"DraftPage")},bodydata:K,ondrag:ht,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&bt(L,null,t?"DraftBOQConfiqID":"BOQConfiqID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:ft,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld93L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld93L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld93L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld93L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("BOQConfiqDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld93L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[93]"},`${ft("93")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld93L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld93L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:U,onChange:e=>{vt(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld93L1TCInputCloseIcon",onClick:()=>{vt("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld93L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"BOQConfiqDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld93L1TCFilterDataIsDraft",id:"BOQConfiqDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Tt()}},n().createElement(M.ZP,{title:Et("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld93L1TCExportPrint",formctrlidexport:"fld93L1TCExportTable",formctrlidrefresh:"fld93L1TCExportRefresh",title:ft("93"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP93S3/",c={data:{p1:t&&t.BOQConfiqIDPK?t.BOQConfiqIDPK:null,p2:t&&t.BOQConfiqCode?t.BOQConfiqCode:null,p3:t&&t.BOQprice?t.BOQprice:null,p4:t&&t.BOQDiscount?t.BOQDiscount:null,p5:t&&t.TaxAmount?t.TaxAmount:null,p6:t&&t.BOQSubTotal?t.BOQSubTotal:null,p7:t&&t.BOQTotal?t.BOQTotal:null,p8:t&&t.BOQType?t.BOQType:null,p9:t&&t.Basic1?t.Basic1:null,p10:t&&t.Basic2?t.Basic2:null,p11:null,p12:Fe?"1":"0",p13:t&&t.DiscountAmount?t.DiscountAmount:null,p14:t&&t.BOQGrandTotal?t.BOQGrandTotal:null,p15:null,p16:t&&t.BOQID?t.BOQID:null,p17:e.parentId?Number(e.parentId):0,p18:t&&t.BOQQty?t.BOQQty:null,p19:t&&t.TaxID?t.TaxID:null,p20:t&&t.IsActive,p21:null,p22:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p23:t&&t.CreatedTtm?t.CreatedTtm:null,p24:t&&t.CreatedTtmType?t.CreatedTtmType:null,p25:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p26:null,p27:t&&t.BOQCode?t.BOQCode:null,p28:t&&t.BOQName?t.BOQName:null,p29:t&&t.UOM?t.UOM:null,p30:t&&t.ContractGroupID?t.ContractGroupID:null,p31:t&&t.ContractGroupCode?t.ContractGroupCode:null,p32:t&&t.ContractGroupName?t.ContractGroupName:null,p33:t&&t.TaxCode?t.TaxCode:null,p34:t&&t.TaxName?t.TaxName:null,p35:t&&t.TaxValue?t.TaxValue:null,p36:t&&t.CustomerID?t.CustomerID:null,p37:t&&t.CustomerCode?t.CustomerCode:null,p38:t&&t.CustomerName?t.CustomerName:null,p39:t&&t.ContractTypeID?t.ContractTypeID:null,p40:t&&t.ContractTypCode?t.ContractTypCode:null,p41:t&&t.ContractTypeName?t.ContractTypeName:null,p42:t&&t.ContractCategID?t.ContractCategID:null,p43:t&&t.ContractCategCode?t.ContractCategCode:null,p44:t&&t.ContractCategName?t.ContractCategName:null,p45:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p46:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p47:t&&t.ContractCode?t.ContractCode:null,p48:t&&t.ContractName?t.ContractName:null,p49:L.current,p50:h,p51:Fe?"DraftBOQConfiqID":"BOQConfiqID",p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${ft(93)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?bt({current:1,pageSize:100},Pe,"DraftBOQConfiqID"):bt({current:1,pageSize:100},Pe,"BOQConfiqID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},n().createElement("span",{id:"fld93L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},n().createElement("span",{id:"fld93L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld93L1TCFilterDataIsAdd",id:"BOQConfiqDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("BOQConfiqDetailsFilterDiv").style.width="0%",document.getElementById("BOQConfiqDetailsTabDiv").style.width="100%",document.getElementById("BOQConfiqDetailsFilterDiv").style.display="none",document.getElementById("BOQConfiqDetailscoldiv").style.width="fit-content",document.getElementById("BOQConfiqDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("BOQConfiqDetailsFilterDiv").style.width="25%",document.getElementById("BOQConfiqDetailsTabDiv").style.width="75%",document.getElementById("BOQConfiqDetailsFilterDiv").style.display="block",document.getElementById("BOQConfiqDetailsfildiv").style.width="fit-content",document.getElementById("BOQConfiqDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BOQConfiqDetailscoldiv").style.width="fit-content",document.getElementById("BOQConfiqDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:Et("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"BOQConfiqDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),Nt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:Et("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld93L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),bt({current:1,pageSize:100},Pe,"BOQConfiqID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:Et("List"),placement:"top"},n().createElement("div",{id:"fld93L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Et("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld93L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),bt({current:1,pageSize:10},Pe,"DraftBOQConfiqID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("BOQConfiqDetailsFilterDiv").style.width="0%",document.getElementById("BOQConfiqDetailsTabDiv").style.width="100%",document.getElementById("BOQConfiqDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},n().createElement(M.ZP,{title:Et("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld93L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,Et("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld93L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,Et("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld93L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,Et("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld93L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),Nt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),Nt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld93L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),Nt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld93L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),bt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftBOQConfiqID":"BOQConfiqID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)bt({current:t,pageSize:L.pageSize},Le,"DraftBOQConfiqID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?Pt(U,{current:t,pageSize:L.pageSize}):bt({current:t,pageSize:L.pageSize},Le,"BOQConfiqID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld93L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?bt({current:1,pageSize:e.target.value},Le,"DraftBOQConfiqID","DraftPage"):U.length>0?Pt(U,{current:1,pageSize:e.target.value}):bt({current:1,pageSize:e.target.value},Le,"BOQConfiqID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"BOQConfiqDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"BOQConfiqDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(St,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>Tt(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{bt({current:1,pageSize:100},Pe,"BOQConfiqID")},frmctrlid:"fld93L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Lt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"BOQConfiqDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(xt,null):n().createElement(se.Z,{frmctrlid:"fld93L1TCExpandedCardDual",data:K,id:"BOQConfiqDetails",title:"BOQConfiqCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),ft={EnterKeyValues:{BOQConfiqDetails:["BOQName","BOQprice","BOQQty","BOQSubTotal","BOQDiscount","DiscountAmount","TaxName","TaxAmount","BOQTotal","BOQType","Basic2","Basic1","BOQConfiqCode","BOQGrandTotal","ContractName"]},Label:{BOQConfiqDetails:{BOQID:["BOQCode","BOQName","UOM"],BOQprice:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQQty:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQSubTotal:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQDiscount:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],DiscountAmount:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],TaxID:["TaxCode","TaxName"],TaxAmount:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQTotal:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQType:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],Basic2:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],Basic1:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQConfiqCode:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQGrandTotal:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],ContractID:["BOQConfiqCode","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"]}},LabelHeader:{BOQConfiqDetails:{BOQID:["BOQ Code","BOQ Name","UOM"],BOQprice:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQQty:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQSubTotal:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQDiscount:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],DiscountAmount:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],TaxID:["Tax Code","Tax Name"],TaxAmount:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQTotal:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQType:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],Basic2:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],Basic1:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQConfiqCode:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],BOQGrandTotal:["Code","BOQCode","BOQName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"],ContractID:["BOQConfiqCode","BOQCode","BOQName","Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","DivisionCode","DivisionName","DivisionCode","DivisionName"]}},Property:{BOQConfiqDetails:{BOQID:{id:"fld93_1731",clearID:"BOQConfiqDetailsBOQNameClear",type:"select",labelID:"BOQIDPK",labelname:"BOQ",fielddisplayname:"BOQName",foreignFld:["B O Q Code","U O M"],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!0},BOQprice:{id:"fld93_1720",labelID:"BOQprice",maxLength:"6",labelname:"Price",frmctrlid:"fld93_1720",frmctrlidname:"BOQprice",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BOQQty:{id:"fld93_14188",labelID:"BOQQty",maxLength:"6",labelname:"Quantity",frmctrlid:"fld93_14188",frmctrlidname:"BOQQty",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BOQSubTotal:{id:"fld93_1723",labelID:"BOQSubTotal",maxLength:"6",labelname:"Sub Total",frmctrlid:"fld93_1723",frmctrlidname:"BOQSubTotal",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},BOQDiscount:{id:"fld93_1721",labelID:"BOQDiscount",maxLength:"2",labelname:"Discount %",frmctrlid:"fld93_1721",frmctrlidname:"BOQDiscount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},DiscountAmount:{id:"fld93_34458",labelID:"DiscountAmount",maxLength:"",labelname:"Discount Amount ",frmctrlid:"fld93_34458",frmctrlidname:"DiscountAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},TaxID:{id:"fld93_1734",clearID:"BOQConfiqDetailsTaxNameClear",type:"select",labelID:"TaxIDPK",labelname:"VAT",fielddisplayname:"TaxName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},TaxAmount:{id:"fld93_1722",labelID:"TaxAmount",maxLength:"6",labelname:"VAT Amount",frmctrlid:"fld93_1722",frmctrlidname:"TaxAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},BOQTotal:{id:"fld93_1724",labelID:"BOQTotal",maxLength:"6",labelname:"Grand Total",frmctrlid:"fld93_1724",frmctrlidname:"BOQTotal",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},BOQType:{id:"fld93_1725",labelID:"BOQType",maxLength:"10",labelname:"Type",frmctrlid:"fld93_1725",frmctrlidname:"BOQType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Basic2:{id:"fld93_1727",labelID:"Basic2",maxLength:"10",labelname:"Basic 2",frmctrlid:"fld93_1727",frmctrlidname:"Basic2",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Basic1:{id:"fld93_1726",labelID:"Basic1",maxLength:"10",labelname:"Basic 1",frmctrlid:"fld93_1726",frmctrlidname:"Basic1",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BOQConfiqCode:{id:"fld93_1719",labelID:"BOQConfiqCode",maxLength:"10",labelname:"Code",frmctrlid:"fld93_1719",frmctrlidname:"BOQConfiqCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BOQGrandTotal:{id:"fld93_34459",labelID:"BOQGrandTotal",maxLength:"",labelname:"",frmctrlid:"fld93_34459",frmctrlidname:"BOQGrandTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld93_1732",clearID:"BOQConfiqDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract Name",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{BOQConfiqDetails:{BOQID:["BOQCode","BOQName","IsActive","CreatedTtm","UOM"],TaxID:["TaxCode","TaxName","TaxValue"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}};var vt=a(99263),Nt=a(99323);const ht={BOQConfiqIDPK:"",BOQConfiqCode:"",BOQprice:"",BOQDiscount:"",TaxAmount:"",BOQSubTotal:"",BOQTotal:"",BOQType:"",Basic1:"",Basic2:"",IsDefault:!1,IsDraft:!1,DiscountAmount:"",BOQGrandTotal:"",Remarks:"",BOQID:null,ContractID:null,BOQQty:"",TaxID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BOQCode:"",BOQName:"",UOM:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",Type:"BOQConfiqID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Tt=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=((0,l.useRef)(),(0,l.useState)(!0)),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,ht),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:wt),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:Bt(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("93"),[ae,le]=(0,l.useState)(""),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(!0),[ce,de]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!1);let ue=(0,N.Z)();const[pe,Ce]=(0,l.useState)({}),ge=e=>ue[e]?ue[e]:e,De=t=>U.language?.[t]?U.language[t]:e.createEasy?pe?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Se()}),[]),(0,l.useEffect)((()=>{Se()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(Ie(U.editData[0],""),D(!0)):U.Add&&(Se(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ce(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(ke(t),D(e)):(Se(),D(e))},AddOpen:e=>{Se(),D(!0)}})));const Ie=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultBOQConfiqID"==a?J(t.BOQConfiqIDPK):(W(e.primid?Number(e.primid):t.BOQConfiqIDPK?t.BOQConfiqIDPK:0),j({type:"PrimaryId",payload:t.BOQConfiqIDPK})),O({type:"number",name:"BOQID",number:t.BOQID?Number(t.BOQID):0}),O({type:"text",name:"BOQName",value:t.BOQName}),O({type:"number",name:"BOQprice",number:Number(t.BOQprice)}),O({type:"number",name:"BOQQty",number:Number(t.BOQQty)}),O({type:"number",name:"BOQSubTotal",number:Number(t.BOQSubTotal)}),O({type:"number",name:"BOQDiscount",number:Number(t.BOQDiscount)}),O({type:"number",name:"DiscountAmount",number:Number(t.DiscountAmount)}),O({type:"number",name:"TaxID",number:t.TaxID?Number(t.TaxID):0}),O({type:"text",name:"TaxName",value:t.TaxName}),O({type:"number",name:"TaxAmount",number:Number(t.TaxAmount)}),O({type:"number",name:"BOQTotal",number:Number(t.BOQTotal)}),O({type:"text",name:"BOQType",value:t.BOQType?t.BOQType:""}),O({type:"text",name:"Basic2",value:t.Basic2?t.Basic2:""}),O({type:"text",name:"Basic1",value:t.Basic1?t.Basic1:""}),O({type:"text",name:"BOQConfiqCode",value:t.BOQConfiqCode?t.BOQConfiqCode:""}),O({type:"number",name:"BOQGrandTotal",number:Number(t.BOQGrandTotal)}),O({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Se=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"BOQID",value:null}),O({type:"text",name:"BOQName",value:""}),document.getElementById("BOQConfiqDetailsBOQNameClear")&&document.getElementById("BOQConfiqDetailsBOQNameClear").click(),O({type:"number",name:"BOQprice",number:0}),O({type:"number",name:"BOQQty",number:0}),O({type:"number",name:"BOQSubTotal",number:0}),O({type:"number",name:"BOQDiscount",number:0}),O({type:"number",name:"DiscountAmount",number:0}),O({type:"text",name:"TaxID",value:null}),O({type:"text",name:"TaxName",value:""}),document.getElementById("BOQConfiqDetailsTaxNameClear")&&document.getElementById("BOQConfiqDetailsTaxNameClear").click(),O({type:"number",name:"TaxAmount",number:0}),O({type:"number",name:"BOQTotal",number:0}),O({type:"text",name:"BOQType",value:""}),O({type:"text",name:"Basic2",value:""}),O({type:"text",name:"Basic1",value:""}),O({type:"text",name:"BOQConfiqCode",value:""}),O({type:"number",name:"BOQGrandTotal",number:0}),O({type:"boolean",name:"IsDefault",boolean:!1}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("BOQConfiqDetailsContractNameClear")&&document.getElementById("BOQConfiqDetailsContractNameClear").click(),y(!0),P(""),ie(!0),de(!0),le(""),oe("")},Ee=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP93S2/",l={data:[{p1:"SetDefaultBOQConfiqID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:Ze(k.BOQConfiqCode),p3:k.BOQprice?Number(k.BOQprice):0,p4:k.BOQDiscount?Number(k.BOQDiscount):0,p5:k.TaxAmount?Number(k.TaxAmount):0,p6:k.BOQSubTotal?Number(k.BOQSubTotal):0,p7:k.BOQTotal?Number(k.BOQTotal):0,p8:Ze(k.BOQType),p9:Ze(k.Basic1),p10:Ze(k.Basic2),p11:k.IsDefault,p12:!1,p13:k.DiscountAmount?Number(k.DiscountAmount):0,p14:k.BOQGrandTotal?Number(k.BOQGrandTotal):0,p15:"SetDefaultBOQConfiqID"==t?"SetDefault":null,p16:k.BOQID?k.BOQID:0,p17:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p18:k.BOQQty?Number(k.BOQQty):0,p19:k.TaxID?k.TaxID:0,p20:s,p21:"SetDefaultBOQConfiqID"==t,p22:localStorage.getItem("userid"),p23:V()().format("YYYY-MM-DD hh:mm:ss"),p24:localStorage.getItem("userid"),p25:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{ie(!0),de(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP93S1/",l={data:[{p1:Y,p2:Ze(k.BOQConfiqCode),p3:k.BOQprice?Number(k.BOQprice):0,p4:k.BOQDiscount?Number(k.BOQDiscount):0,p5:k.TaxAmount?Number(k.TaxAmount):0,p6:k.BOQSubTotal?Number(k.BOQSubTotal):0,p7:k.BOQTotal?Number(k.BOQTotal):0,p8:Ze(k.BOQType),p9:Ze(k.Basic1),p10:Ze(k.Basic2),p11:k.IsDefault,p12:!1,p13:k.DiscountAmount?Number(k.DiscountAmount):0,p14:k.BOQGrandTotal?Number(k.BOQGrandTotal):0,p15:null,p16:k.BOQID?k.BOQID:0,p17:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p18:k.BOQQty?Number(k.BOQQty):0,p19:k.TaxID?k.TaxID:0,p20:s,p21:!1,p22:localStorage.getItem("userid"),p23:V()().format("YYYY-MM-DD hh:mm:ss"),p24:localStorage.getItem("userid"),p25:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttBOQConfiqDetails"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Se(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttBOQConfiqDetails")&&(document.getElementById("overlayimgAttBOQConfiqDetails").style.width="0%",document.getElementById("overlayimgAttBOQConfiqDetails").style.display="none",document.getElementById("divBOQConfiqDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("BOQConfiqDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function fe(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[ge("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[ge("Please enter the primary fields")]}),!1;{ie(!0),de(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP93S1/",l={data:[{p1:"SetDefaultBOQConfiqID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:Ze(k.BOQConfiqCode),p3:k.BOQprice?Number(k.BOQprice):0,p4:k.BOQDiscount?Number(k.BOQDiscount):0,p5:k.TaxAmount?Number(k.TaxAmount):0,p6:k.BOQSubTotal?Number(k.BOQSubTotal):0,p7:k.BOQTotal?Number(k.BOQTotal):0,p8:Ze(k.BOQType),p9:Ze(k.Basic1),p10:Ze(k.Basic2),p11:k.IsDefault,p12:!0,p13:k.DiscountAmount?Number(k.DiscountAmount):0,p14:k.BOQGrandTotal?Number(k.BOQGrandTotal):0,p15:"SetDefaultBOQConfiqID"==n?"SetDefault":null,p16:k.BOQID?k.BOQID:0,p17:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p18:k.BOQQty?Number(k.BOQQty):0,p19:k.TaxID?k.TaxID:0,p20:!1,p21:"SetDefaultBOQConfiqID"==n,p22:localStorage.getItem("userid"),p23:V()().format("YYYY-MM-DD hh:mm:ss"),p24:localStorage.getItem("userid"),p25:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[ge("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[ge("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),Se(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function ve(e){return(0,vt.CreateEasy)(e,U,j,H,X),!1}function Ne(e,a){return(0,Nt.AdvanceSearch)(e,a,wt,Bt(),Le,t),!1}const he=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP93S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:a?"%"+a+"%":null,p14:a?"%"+a+"%":null,p15:null,p16:"0"==k.BOQID?null:k.BOQID,p17:e.parentId?Number(e.parentId):0,p18:a?"%"+a+"%":null,p19:"0"==k.TaxID?null:k.TaxID,p20:e.Dialogview?"1":null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==k.ContractGroupID?null:k.ContractGroupID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.CustomerID?null:k.CustomerID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.ContractTypeID?null:k.ContractTypeID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==k.ContractCategID?null:k.ContractCategID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:t,p50:10,p51:l,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultBOQConfiqID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultBOQConfiqID"==l&&(e>0?Ie(n[0],"SetDefaultBOQConfiqID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Te=(t,l,n)=>{const o=S.v.Api+"FP93S3/",r={data:{p1:null,p2:"BOQConfiqCode"==n&&l?"%"+l+"%":null,p3:"BOQprice"==n&&l?"%"+l+"%":null,p4:"BOQDiscount"==n&&l?"%"+l+"%":null,p5:"TaxAmount"==n&&l?"%"+l+"%":null,p6:"BOQSubTotal"==n&&l?"%"+l+"%":null,p7:"BOQTotal"==n&&l?"%"+l+"%":null,p8:"BOQType"==n&&l?"%"+l+"%":null,p9:"Basic1"==n&&l?"%"+l+"%":null,p10:"Basic2"==n&&l?"%"+l+"%":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p18:null,p19:null,p20:e.Dialogview?"1":null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:t,p50:10,p51:"BOQConfiqID",p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("BOQConfiqCode"==n&&ie(e>0),"BOQGrandTotal"==n&&de(e>0),K(l)):("BOQConfiqCode"==n&&ie(!0),"BOQGrandTotal"==n&&de(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Le=(0,l.useCallback)((async(e,t,a)=>{if("text"==a)O({type:a,name:t,value:e});else if("number"==a){if(O({type:a,name:t,number:Number(e)}),"BOQprice"===t){let t=e*k.BOQQty;O({type:"number",name:"BOQSubTotal",number:Number(t)})}else if("BOQQty"===t){let t=e*k.BOQprice;O({type:"number",name:"BOQSubTotal",number:Number(t)})}else if("BOQDiscount"===t){let t=Number(k.BOQSubTotal-k.BOQSubTotal*e/100);O({type:"number",name:"DiscountAmount",number:Number(t)})}}else if("boolean"==a)O({type:a,name:t,boolean:e});else if("date"==a)O({type:"text",name:t,value:e});else if("select"==a)if("BOQID"==t)O({type:"text",name:"BOQID",value:e.BOQIDPK?e.BOQIDPK:null}),O({type:"text",name:"BOQName",value:e.BOQName?e.BOQName:null}),le(e.BOQCode?e.BOQCode:null),oe(e.UOM?e.UOM:null);else if("TaxID"==t){O({type:"text",name:"TaxID",value:e.TaxIDPK?e.TaxIDPK:null}),O({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:null}),O({type:"text",name:"BOQTotal",value:e.BOQTotal?e.BOQTotal:null}),O({type:"text",name:"TaxAmount",value:e.TaxAmount?e.TaxAmount:null}),O({type:"text",name:"TaxValue",value:e.TaxValue&&e.TaxValue});let t=Number(k.DiscountAmount*e.TaxValue/100);O({type:"number",name:"TaxAmount",number:Number(t)});let a=Number(t)+Number(k.DiscountAmount);O({type:"number",name:"BOQTotal",number:Number(a)})}}),[k]);function we(e){if("BOQID"==e){if(!k.BOQID)return!1;O({type:"text",name:"BOQID",value:null}),O({type:"text",name:"BOQName",value:""}),document.getElementById("BOQConfiqDetailsBOQNameClear")&&document.getElementById("BOQConfiqDetailsBOQNameClear").click(),le(""),oe("")}else if("TaxID"==e){if(!k.TaxID)return!1;O({type:"text",name:"TaxID",value:null}),O({type:"text",name:"TaxName",value:""}),document.getElementById("BOQConfiqDetailsTaxNameClear")&&document.getElementById("BOQConfiqDetailsTaxNameClear").click(),O({type:"text",name:"BOQTotal",value:""}),O({type:"text",name:"TaxAmount",value:""})}else if("ContractID"==e&&!k.ContractID)return!1}function Ae(e){if("BOQID"==e){if(!k.BOQID)return!1;O({type:"text",name:"BOQID",value:null}),le(""),oe("")}else if("TaxID"==e){if(!k.TaxID)return!1}else if("ContractID"==e&&!k.ContractID)return!1}const Re=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ke(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ge("Yes"),cancelBtnText:ge("No"),showCancel:!0},ge("Do you want to update this record?")))};function ke(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.BOQConfiqIDPK)?Number(e.BOQConfiqIDPK):0),O({type:"number",name:"BOQID",number:e.BOQID?Number(e.BOQID):0}),O({type:"text",name:"BOQName",value:e.BOQName?e.BOQName:""}),O({type:"number",name:"BOQprice",number:e.BOQprice?Number(e.BOQprice):0}),O({type:"number",name:"BOQQty",number:e.BOQQty?Number(e.BOQQty):0}),O({type:"number",name:"BOQSubTotal",number:e.BOQSubTotal?Number(e.BOQSubTotal):0}),O({type:"number",name:"BOQDiscount",number:e.BOQDiscount?Number(e.BOQDiscount):0}),O({type:"number",name:"DiscountAmount",number:e.DiscountAmount?Number(e.DiscountAmount):0}),O({type:"number",name:"TaxID",number:e.TaxID?Number(e.TaxID):0}),O({type:"text",name:"TaxName",value:e.TaxName?e.TaxName:""}),O({type:"number",name:"TaxAmount",number:e.TaxAmount?Number(e.TaxAmount):0}),O({type:"number",name:"BOQTotal",number:e.BOQTotal?Number(e.BOQTotal):0}),O({type:"text",name:"BOQType",value:e.BOQType?e.BOQType:""}),O({type:"text",name:"Basic2",value:e.Basic2?e.Basic2:""}),O({type:"text",name:"Basic1",value:e.Basic1?e.Basic1:""}),O({type:"text",name:"BOQConfiqCode",value:e.BOQConfiqCode?e.BOQConfiqCode:""}),O({type:"text",name:"BOQGrandTotal",value:e.BOQGrandTotal?e.BOQGrandTotal:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const Ze=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[93]"}," ",ge("Add "),De("93")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld93L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:ge(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld93L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ge("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Se()},id:"fld93L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ge("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld93L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{fe("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{fe()},frmctrlid:"fld93L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ge("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld93L1ECSaveBtnIsAdd",name:ge(Y?"Update":"Save"),disabled:!1,onClick:()=>{k.BOQID&&0!=k.BOQID?Ze(k.BOQprice)?e.parentId&&0!=e.parentId?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ge("Are you sure?"),onConfirm:()=>Ee(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ge("Yes"),cancelBtnText:ge("Cancel"),showCancel:!0},ge(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[ge("Please select the ")+" "+De("ContractID")]}):H.alert({open:!0,color:"warning",message:[ge("Please enter the")+""+De("BOQprice")]}):H.alert({open:!0,color:"warning",message:[ge("Please select the ")+" "+De("BOQID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld93L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Se(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"BOQConfiqDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"BOQConfiqDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"BOQConfiqDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:ft,id:k.BOQID,"data-testid":k.BOQID,value:k.BOQName,disabled:!!Y,SPName:"BOQConfiqDetails",FieldName:"BOQID",tfLabel:De("BOQID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Le(e,"BOQID","select"),onChange:(e,t)=>{he(e,t,"BOQIDPK")},KeyBack:e=>{Ae("BOQID")},fieldorder:"1",data:q,foreign:!U.PrimaryId,foreignName:ae||ne?[ae,ne]:["B O Q Code","U O M"],foreignClick:t=>e.openSlideView("BOQID",k.BOQID?k.BOQID:t),totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("278")},Tabledialog:()=>Ne("278","BOQID"),loading:Z,clear:e=>{e&&we("BOQID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.BOQprice,SPName:"BOQConfiqDetails",FieldName:"BOQprice",tfLabel:De("BOQprice"),frmctrlid:"fld93_1720",fieldorder:"2",disabled:!!Y,onChange:e=>{Le(e,"BOQprice","number")},clear:e=>{e&&O({type:"number",name:"BOQprice",number:0})},value:k.BOQprice})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.BOQQty,SPName:"BOQConfiqDetails",FieldName:"BOQQty",tfLabel:De("BOQQty"),frmctrlid:"fld93_14188",fieldorder:"3",disabled:!!Y,onChange:e=>{Le(e,"BOQQty","number")},clear:e=>{e&&O({type:"number",name:"BOQQty",number:0})},value:k.BOQQty})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.BOQSubTotal,SPName:"BOQConfiqDetails",FieldName:"BOQSubTotal",tfLabel:De("BOQSubTotal"),frmctrlid:"fld93_1723",fieldorder:"4",disabled:!!Y,onChange:e=>{Le(e,"BOQSubTotal","number")},clear:e=>{e&&O({type:"number",name:"BOQSubTotal",number:0})},value:k.BOQSubTotal})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.BOQDiscount,SPName:"BOQConfiqDetails",FieldName:"BOQDiscount",tfLabel:De("BOQDiscount"),frmctrlid:"fld93_1721",fieldorder:"1",disabled:!!Y,onChange:e=>{Le(e,"BOQDiscount","number")},clear:e=>{e&&O({type:"number",name:"BOQDiscount",number:0})},value:k.BOQDiscount})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.DiscountAmount,SPName:"BOQConfiqDetails",FieldName:"DiscountAmount",tfLabel:De("DiscountAmount"),frmctrlid:"fld93_34458",fieldorder:"2",onChange:e=>{Le(e,"DiscountAmount","number")},clear:e=>{e&&O({type:"number",name:"DiscountAmount",number:0})},Iscurr:!0,value:k.DiscountAmount})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:ft,id:k.TaxID,"data-testid":k.TaxID,value:k.TaxName,disabled:!!Y,SPName:"BOQConfiqDetails",FieldName:"TaxID",tfLabel:De("TaxID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"TaxID","select"),onChange:(e,t)=>{he(e,t,"TaxIDPK")},KeyBack:e=>{Ae("TaxID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("19")},Tabledialog:()=>Ne("19","TaxID"),loading:Z,clear:e=>{e&&we("TaxID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.TaxAmount,SPName:"BOQConfiqDetails",FieldName:"TaxAmount",tfLabel:De("TaxAmount"),frmctrlid:"fld93_1722",fieldorder:"4",disabled:!!Y,onChange:e=>{Le(e,"TaxAmount","number")},clear:e=>{e&&O({type:"number",name:"TaxAmount",number:0})},Iscurr:!0,value:k.TaxAmount})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.BOQTotal,SPName:"BOQConfiqDetails",FieldName:"BOQTotal",tfLabel:De("BOQTotal"),frmctrlid:"fld93_1724",fieldorder:"1",disabled:!!Y,onChange:e=>{Le(e,"BOQTotal","number")},clear:e=>{e&&O({type:"number",name:"BOQTotal",number:0})},value:k.BOQTotal})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.BOQType,SPName:"BOQConfiqDetails",FieldName:"BOQType",tfLabel:De("BOQType"),frmctrlid:"fld93_1725",fieldorder:"2",disabled:!!Y,onChange:e=>{Le(e,"BOQType","text")},clear:e=>{e&&O({type:"text",name:"BOQType",value:""})},value:k.BOQType})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.Basic2,SPName:"BOQConfiqDetails",FieldName:"Basic2",tfLabel:De("Basic2"),frmctrlid:"fld93_1727",fieldorder:"3",disabled:!!Y,onChange:e=>{Le(e,"Basic2","text")},clear:e=>{e&&O({type:"text",name:"Basic2",value:""})},value:k.Basic2})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ft,"data-testid":k.Basic1,SPName:"BOQConfiqDetails",FieldName:"Basic1",tfLabel:De("Basic1"),frmctrlid:"fld93_1726",fieldorder:"4",disabled:!!Y,onChange:e=>{Le(e,"Basic1","text")},clear:e=>{e&&O({type:"text",name:"Basic1",value:""})},value:k.Basic1})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.BOQConfiqCode,json:ft,SPName:"BOQConfiqDetails",FieldName:"BOQConfiqCode",tfLabel:De("BOQConfiqCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Re(t),onClick:()=>{re&&Te(1,"","ClearAll"),ie(!0)},frmctrlid:"fld93_1719",frmctrlidName:"BOQConfiqCode",fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{re&&Te(e,t,"BOQConfiqCode"),Le(t,"BOQConfiqCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:k.BOQConfiqCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"BOQConfiqCode",value:""}),ie(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.BOQGrandTotal,json:ft,SPName:"BOQConfiqDetails",FieldName:"BOQGrandTotal",tfLabel:De("BOQGrandTotal"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Re(t),onClick:()=>{ce&&Te(1,"","ClearAll"),de(!0)},frmctrlid:"fld93_34459",frmctrlidName:"BOQGrandTotal",fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ce&&Te(e,t,"BOQGrandTotal"),Le(t,"BOQGrandTotal","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.BOQGrandTotal,loading:Z,clear:e=>{e&&(O({type:"text",name:"BOQGrandTotal",value:""}),de(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:ft,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"BOQConfiqDetails",FieldName:"ContractID",tfLabel:De("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"ContractID","select"),onChange:(e,t)=>{he(e,t,"ContractIDPK")},KeyBack:e=>{Ae("ContractID")},fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("156")},Tabledialog:()=>Ne("156","ContractID"),loading:Z,clear:e=>{e&&we("ContractID")}})))),n().createElement("div",{id:"BOQConfiqDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BOQConfiqDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))}));var bt=a(76498),Pt=a.n(bt),Lt=a(38696);const xt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),c=((0,o.useSelector)((e=>e.form)),(0,l.useRef)()),[d,s]=(0,l.useState)([]),[m,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(e.showDetail),[E,v]=(0,l.useState)(""),[h,b]=n().useState(!1),[P,L]=n().useState(""),[x,w]=n().useState(!1),B=(0,l.useContext)(wt),{cstate:F,cdispatch:A}=Bt(),[M,R]=(0,l.useState)(!1),[k,O]=(0,l.useState)(""),[Z,G]=(0,l.useState)(""),[q,K]=(0,l.useState)("");let V=(0,N.Z)();(0,l.useEffect)((()=>{F.editData.length>0&&(s(F.editData),b(!1),A({type:"PrimaryId",payload:F.editData[0].BOQConfiqIDPK}))}),[F.editData]),(0,l.useEffect)((()=>{F.showTableview&&K(F.showTableview)}),[F.showTableview]),(0,l.useEffect)((()=>{y(F.ExpandDetailValue)}),[F.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{y(e),b(null)},viewtoggle:()=>{b(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP93S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:e.Dialogview?"1":null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:1,p50:10,p51:F.IsDraft?"DraftBOQConfiqID":"BOQConfiqID",p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{B.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===h&&a.current.clear()}})));const z=e=>V?.[e]?V?.[e]:e,_=e=>F.language?.[e]?F.language[e]:e;function Q(e,t){"BOQIDPK"===e&&(B.openNav(),setTimeout((function(){c.current.viewlistProps(t)}),1e3),B.SlideComponentType(n().createElement("div",{id:"divCCMBOQRegistry-View",style:{width:"100%"}},n().createElement(Lt.CCMBOQRegistryContext.Provider,{value:{cstate:F,cdispatch:A,loading:e=>B.loading(e),alert:e=>B.alert(e),openNav:()=>B.openNav(),SlideComponentType:e=>B.SlideComponentType(e)}},n().createElement(Pt(),{viewonly:!0,ref:c})))))}const H=(e,t)=>(a,l)=>{L(x?Object.assign(...d.filter((e=>e.BOQConfiqIDPK==t)).map((e=>e))):F.editData),b(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&y(!m)}},!h&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},F.IsDraft?z("Draft"):"",_("BOQConfiqDetails"),e.viewonly?" ":"("+F.count+")")):"",m?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&F.AccessRights.IsAdd?n().createElement(r.Z,{name:z("Add"),frmctrlid:"fld93L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{B.hideAddBtn(!0),A({type:"editData",payload:[]}),A({type:"ShowDetail",payload:!1}),A({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&F.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld93L1VCEditBtn",onClick:H("panel0",""),disabled:!1}):F.IsDraft&&F.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld93L1VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld93L1VCCloseBtn",onClick:()=>{y(!1),B.hideAddBtn(!1),x&&(A({type:"editData",payload:[]}),s([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},d.map(((t,l)=>n().createElement("div",{key:l},h==="panel"+l?n().createElement(Tt,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"BOQConfiqDetails",tableID:93,parentID:t.BOQConfiqIDPK,fldid:"fld93L1VCContainer",OpenSlideComponent:Q,index:l,refresh:q,val:t,tf:_,t:z,title:"10.0.0.59-3:08:17 PM-18-7[93]"}))))))))})),wt=(0,l.createContext)(),Bt=()=>{const e=(0,l.useContext)(wt);if(void 0===e)throw new Error("useCont must be used within  BOQConfiqDetailsContext Provider");return e},Ft=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divBOQConfiqDetails-Entry").style.width="100%",document.getElementById("BOQConfiqDetails-MainTable").style.width="100%",document.getElementById("BOQConfiqDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BOQConfiqDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divBOQConfiqDetails-Entry").style.width="100%",document.getElementById("BOQConfiqDetails-MainTable").style.width="100%",document.getElementById("BOQConfiqDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BOQConfiqDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divBOQConfiqDetails-Entry").style.width="100%",document.getElementById("BOQConfiqDetailsEntryTable").style.width="100%",document.getElementById("BOQConfiqDetails-MainEntry").style.width="100%",document.getElementById("BOQConfiqDetails-MainEntry").style.display="block",document.getElementById("BOQConfiqDetails-MainDiv").classList.add("displayFlex"),document.getElementById("BOQConfiqDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBOQConfiqDetails").style.width="0%",document.getElementById("overlayimgAttBOQConfiqDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(wt.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Bt,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewBOQConfiqDetails").style.width="50%",document.getElementById("divBOQConfiqDetails-Entry").style.width="100%",document.getElementById("BOQConfiqDetails-MainTable").style.width="100%",document.getElementById("BOQConfiqDetails-MainEntry").style.width="100%",document.getElementById("BOQConfiqDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("BOQConfiqDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBOQConfiqDetails").style.display="block",document.getElementById("overlayimgAttBOQConfiqDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"BOQConfiqDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"BOQConfiqDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"BOQConfiqDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBOQConfiqDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(xt,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:93,fileId:"LogoImgBOQConfiqDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewBOQConfiqDetails",frmctrlid:"PvwIm_93_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBOQConfiqDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Tt,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:93,fileId:"LogoImgBOQConfiqDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewBOQConfiqDetails",frmctrlid:"PvwIm_93_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"BOQConfiqDetails-MainTable"},0!==y?n().createElement(Et,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:93,fileId:"AttImgBOQConfiqDetails",imgid:"overlayimgAttBOQConfiqDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewBOQConfiqDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_93_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"BOQConfiqDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:93,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var At=a(25108);const Mt=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:zt(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP143S3/",g={data:{p1:"ContractAssetIDPK"==a?null:await we(),p2:"ContractAssetCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:e.parentId?e.parentId:"0",p6:"EquipmentName"!=c&&d.EquipmentName?d.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p7:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p8:"BuildingName"!=c&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p9:"DivisionName"!=c&&d.DivisionName?d.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p10:"DisciplineName"!=c&&d.DisciplineName?d.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p11:e.Dialogview?"1":null,p12:null,p13:"p13"==c&&l.length>0?l:null,p14:null,p15:null,p16:null,p17:null,p18:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p19:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p20:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p21:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p22:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p23:"TaxName"==c&&l.length>0?"%"+l+"%":null,p24:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p25:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p26:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p27:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p28:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p29:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p30:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p31:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p32:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p33:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p34:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p35:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p36:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p37:"ContractName"==c&&l.length>0?"%"+l+"%":null,p38:"AssetCategoryName"!=c&&d.AssetCategoryName?d.AssetCategoryName.map((e=>e.AssetCategoryIDPK)).toString():null,p39:"AssetCategoryCode"==c&&l.length>0?"%"+l+"%":null,p40:"AssetCategoryName"==c&&l.length>0?"%"+l+"%":null,p41:"AssetTypeName"!=c&&d.AssetTypeName?d.AssetTypeName.map((e=>e.AssetTypeIDPK)).toString():null,p42:"AssetTypCode"==c&&l.length>0?"%"+l+"%":null,p43:"AssetTypeName"==c&&l.length>0?"%"+l+"%":null,p44:"PriorityName"!=c&&d.PriorityName?d.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p45:"PriorityCode"==c&&l.length>0?"%"+l+"%":null,p46:"PriorityName"==c&&l.length>0?"%"+l+"%":null,p47:"DivisionCode"==c&&l.length>0?"%"+l+"%":null,p48:"DivisionName"==c&&l.length>0?"%"+l+"%":null,p49:"DisciplineCode"==c&&l.length>0?"%"+l+"%":null,p50:"DisciplineName"==c&&l.length>0?"%"+l+"%":null,p51:"BuildingCode"==c&&l.length>0?"%"+l+"%":null,p52:"BuildingName"==c&&l.length>0?"%"+l+"%":null,p53:"FloorName"!=c&&d.FloorName?d.FloorName.map((e=>e.FloorIDPK)).toString():null,p54:"FloorCode"==c&&l.length>0?"%"+l+"%":null,p55:"FloorName"==c&&l.length>0?"%"+l+"%":null,p56:"SpotName"!=c&&d.SpotName?d.SpotName.map((e=>e.SpotIDPK)).toString():null,p57:"SpotCode"==c&&l.length>0?"%"+l+"%":null,p58:"SpotName"==c&&l.length>0?"%"+l+"%":null,p59:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p60:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p61:"StatusName"!=c&&d.StatusName?d.StatusName.map((e=>e.StatusIDPK)).toString():null,p62:"StatusCode"==c&&l.length>0?"%"+l+"%":null,p63:"StatusName"==c&&l.length>0?"%"+l+"%":null,p64:"ConditionName"!=c&&d.ConditionName?d.ConditionName.map((e=>e.ConditionIDPK)).toString():null,p65:"ConditionCode"==c&&l.length>0?"%"+l+"%":null,p66:"ConditionDesp"==c&&l.length>0?"%"+l+"%":null,p67:"ConditionName"==c&&l.length>0?"%"+l+"%":null,p68:"MakeName"!=c&&d.MakeName?d.MakeName.map((e=>e.MakeIDPK)).toString():null,p69:"MakeCode"==c&&l.length>0?"%"+l+"%":null,p70:"MakeName"==c&&l.length>0?"%"+l+"%":null,p71:"ModelName"!=c&&d.ModelName?d.ModelName.map((e=>e.ModelIDPK)).toString():null,p72:"ModelCode"==c&&l.length>0?"%"+l+"%":null,p73:"ModelName"==c&&l.length>0?"%"+l+"%":null,p74:"ServiceAreaName"!=c&&d.ServiceAreaName?d.ServiceAreaName.map((e=>e.ServiceAreaIDPK)).toString():null,p75:"ServiceAreaCode"==c&&l.length>0?"%"+l+"%":null,p76:"ServiceAreaName"==c&&l.length>0?"%"+l+"%":null,p77:"TradeGroupName"!=c&&d.TradeGroupName?d.TradeGroupName.map((e=>e.TradeGroupIDPK)).toString():null,p78:"TradeGroupCode"==c&&l.length>0?"%"+l+"%":null,p79:"TradeGroupName"==c&&l.length>0?"%"+l+"%":null,p80:"EquipmentName"==c&&l.length>0?"%"+l+"%":null,p81:"EquipmentRefNo"==c&&l.length>0?"%"+l+"%":null,p82:"AssetBarcode"==c&&l.length>0?"%"+l+"%":null,p83:"AssetTagNo"==c&&l.length>0?"%"+l+"%":null,p84:n||1,p85:10,p86:t,p87:null,p88:null,p89:localStorage.getItem("UserGroupID"),p90:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ContractAssetIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ContractAssetIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",LocalityID:Le("LocalityID"),BuildingID:Le("BuildingID"),ContractID:Le("ContractID"),DivisionID:Le("DivisionID"),DisciplineID:Le("DisciplineID"),AssetID:Le("AssetID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ContractAssetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ContractAssetIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ContractAssetIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),BuildingID:C.BuildingName?.map((e=>e.BuildingIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),DivisionID:C.DivisionName?.map((e=>e.DivisionIDPK)).toString(),DisciplineID:C.DisciplineName?.map((e=>e.DisciplineIDPK)).toString(),AssetID:C.EquipmentName?.map((e=>e.AssetIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld143L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld143L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld143L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,At.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld143L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld143L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld143L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld143L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld143L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld143L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld143L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ContractAssetIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterContractAssetID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterContractAssetID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterContractAssetID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),Rt=Mt;var kt=a(25108);window.clickFilter="";const Ot=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),c=(0,l.useRef)(null),[d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[s]=(0,l.useState)("143"),[m,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,f]=(0,l.useState)(0),[v,h]=(0,l.useState)(0),[T,b]=(0,l.useState)(0),[P,L]=(0,l.useState)(0),[x,w]=(0,l.useState)({current:1,pageSize:100}),[B,A]=(0,l.useState)(""),[R,k]=(0,l.useState)([]),[q,K]=(0,l.useState)({val:"",column:""}),[V,z]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),[H,U]=(0,l.useState)(""),[j,Y]=(0,l.useState)(""),[W,$]=(0,l.useState)(!1),[J,X]=(0,l.useState)([]),[ee,te]=(0,l.useState)([]),[ae,Ie]=(0,l.useState)([]),[he,Te]=(0,l.useState)({children:[{name:"ConContractAssetDetails",children:[]}]}),[be,Pe]=(0,l.useState)(!1),Le=(0,l.useContext)(e.context?e.context:Vt),{cstate:xe,cdispatch:we}=e.ContextApi?e.ContextApi:zt();let Be={ContractAssetIDPK:"",ContractAssetCode:"",IsDraft:"",Remarks:"",ContractID:"",AssetID:"",LocalityID:"",BuildingID:"",DivisionID:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",AssetCategoryID:"",AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:"",AssetTypCode:"",AssetTypeName:"",PriorityID:"",PriorityCode:"",PriorityName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",LocalityCode:"",LocalityName:"",StatusID:"",StatusCode:"",StatusName:"",ConditionID:"",ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:"",MakeCode:"",MakeName:"",ModelID:"",ModelCode:"",ModelName:"",ServiceAreaID:"",ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:"",TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Fe,Ae]=(0,l.useState)(Be),[Me,Re]=(0,l.useState)(Be),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)(!1),[Ve,ze]=(0,l.useState)(!0),[_e,Qe]=(0,l.useState)({LocalityName:"",BuildingName:"",ContractAssetCode:"",ContractName:"",DivisionName:"",DisciplineName:"",EquipmentName:""}),[He,Ue]=(0,l.useState)(!1),[je,Ye]=(0,l.useState)([]),[We,$e]=(0,l.useState)(0),[Je,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)({current:1,pageSize:10}),[lt,nt]=(0,l.useState)([]),[ot,ct]=(0,l.useState)([]),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(!1),[pt,Ct]=(0,l.useState)(!1),[yt,gt]=(0,l.useState)(""),[Dt,It]=Se()("143"),[St,Et]=(0,l.useState)({}),[ft]=(0,l.useState)("778"),[vt,Nt]=(0,l.useState)([]),[ht,Tt]=(0,l.useState)([]),bt=[{columns:lt,data:B}];let Pt=(0,N.Z)();const Lt=e=>Pt[e]?Pt[e]:e,xt=e=>xe.language?.[e]?xe.language[e]:e;(0,l.useEffect)((()=>{Zt(Dt),function(e){const t=e.filter((e=>e.FormID==ft));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldName))})),Nt(a),Tt(l)}(Dt)}),[Dt]),(0,l.useEffect)((()=>{xe.token.length>0&&(e.parentId?Mt(x,Be,"ContractAssetID"):z([]))}),[e.parentId]),(0,l.useEffect)((()=>{!be&&e.parentId?Mt(x,H,"ContractAssetID"):be&&Re(H)}),[H]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{wt(e)},tableRefresh:()=>{Mt(x,Be,"ContractAssetID")},DialogTableProps:e=>{D(e)},HideEntryFields:e=>{Ct(!0===e)}})));const wt=e=>{""==e?Mt(x,Be,ke?"DraftContractAssetID":"ContractAssetID",ke&&"DraftPage"):Ot(e,{current:1,pageSize:100}),Y(e)};function Bt(t){Le.loading(!0);let a=S.v.Api+"FP143S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,xe.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Xe(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?$e(Math.ceil(a)):20==t.pageSize?$e(Math.ceil(a/2)):50==t.pageSize?$e(Math.ceil(a/5)):100==t.pageSize&&$e(Math.ceil(a/10)),Ye(e.Output.data),Le.loading(!1)}}))}function Ft(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:ke}),we({type:"ShowDetail",payload:!0}),Le.Expanded(!0),qe&&$(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&ze(e.cardview),e.Dialogview&&(D(e.Dialogview),Ct(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ot(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const At=()=>{Le.EditClose(!0),_?(document.getElementById("ConContractAssetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractAssetDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractAssetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",Q(!1),Ve?(g||(document.getElementById("ConContractAssetDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractAssetDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractAssetDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractAssetDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractAssetDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractAssetDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractAssetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractAssetDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractAssetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",Q(!0),document.getElementById("ConContractAssetDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractAssetDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),$(!1),window.clickFilter=!_},Mt=(t,a,l,n,o,r)=>{Le.loading(!0),"DraftPage"!==n&&Oe(xe.IsDraft);let i=S.v.Api+"FP143S3/",c={data:{p1:o||(a&&a.ContractAssetIDPK?a.ContractAssetIDPK:null),p2:a&&a.ContractAssetCode?a.ContractAssetCode:null,p3:"DraftContractAssetID"==l?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:a&&a.AssetID?a.AssetID:null,p7:a&&a.LocalityID?a.LocalityID:null,p8:a&&a.BuildingID?a.BuildingID:null,p9:a&&a.DivisionID?a.DivisionID:null,p10:a&&a.DisciplineID?a.DisciplineID:null,p11:a&&a.IsActive,p12:null,p13:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p14:a&&a.CreatedTtm?a.CreatedTtm:null,p15:a&&a.CreatedTtmType?a.CreatedTtmType:null,p16:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p17:null,p18:a&&a.ContractGroupID?a.ContractGroupID:null,p19:a&&a.ContractGroupCode?a.ContractGroupCode:null,p20:a&&a.ContractGroupName?a.ContractGroupName:null,p21:a&&a.TaxID?a.TaxID:null,p22:a&&a.TaxCode?a.TaxCode:null,p23:a&&a.TaxName?a.TaxName:null,p24:a&&a.TaxValue?a.TaxValue:null,p25:a&&a.CustomerID?a.CustomerID:null,p26:a&&a.CustomerCode?a.CustomerCode:null,p27:a&&a.CustomerName?a.CustomerName:null,p28:a&&a.ContractTypeID?a.ContractTypeID:null,p29:a&&a.ContractTypCode?a.ContractTypCode:null,p30:a&&a.ContractTypeName?a.ContractTypeName:null,p31:a&&a.ContractCategID?a.ContractCategID:null,p32:a&&a.ContractCategCode?a.ContractCategCode:null,p33:a&&a.ContractCategName?a.ContractCategName:null,p34:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p35:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p36:a&&a.ContractCode?a.ContractCode:null,p37:a&&a.ContractName?a.ContractName:null,p38:a&&a.AssetCategoryID?a.AssetCategoryID:null,p39:a&&a.AssetCategoryCode?a.AssetCategoryCode:null,p40:a&&a.AssetCategoryName?a.AssetCategoryName:null,p41:a&&a.AssetTypeID?a.AssetTypeID:null,p42:a&&a.AssetTypCode?a.AssetTypCode:null,p43:a&&a.AssetTypeName?a.AssetTypeName:null,p44:a&&a.PriorityID?a.PriorityID:null,p45:a&&a.PriorityCode?a.PriorityCode:null,p46:a&&a.PriorityName?a.PriorityName:null,p47:a&&a.DivisionCode?a.DivisionCode:null,p48:a&&a.DivisionName?a.DivisionName:null,p49:a&&a.DisciplineCode?a.DisciplineCode:null,p50:a&&a.DisciplineName?a.DisciplineName:null,p51:a&&a.BuildingCode?a.BuildingCode:null,p52:a&&a.BuildingName?a.BuildingName:null,p53:a&&a.FloorID?a.FloorID:null,p54:a&&a.FloorCode?a.FloorCode:null,p55:a&&a.FloorName?a.FloorName:null,p56:a&&a.SpotID?a.SpotID:null,p57:a&&a.SpotCode?a.SpotCode:null,p58:a&&a.SpotName?a.SpotName:null,p59:a&&a.LocalityCode?a.LocalityCode:null,p60:a&&a.LocalityName?a.LocalityName:null,p61:a&&a.StatusID?a.StatusID:null,p62:a&&a.StatusCode?a.StatusCode:null,p63:a&&a.StatusName?a.StatusName:null,p64:a&&a.ConditionID?a.ConditionID:null,p65:a&&a.ConditionCode?a.ConditionCode:null,p66:a&&a.ConditionDesp?a.ConditionDesp:null,p67:a&&a.ConditionName?a.ConditionName:null,p68:a&&a.MakeID?a.MakeID:null,p69:a&&a.MakeCode?a.MakeCode:null,p70:a&&a.MakeName?a.MakeName:null,p71:a&&a.ModelID?a.ModelID:null,p72:a&&a.ModelCode?a.ModelCode:null,p73:a&&a.ModelName?a.ModelName:null,p74:a&&a.ServiceAreaID?a.ServiceAreaID:null,p75:a&&a.ServiceAreaCode?a.ServiceAreaCode:null,p76:a&&a.ServiceAreaName?a.ServiceAreaName:null,p77:a&&a.TradeGroupID?a.TradeGroupID:null,p78:a&&a.TradeGroupCode?a.TradeGroupCode:null,p79:a&&a.TradeGroupName?a.TradeGroupName:null,p80:a&&a.EquipmentName?a.EquipmentName:null,p81:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p82:a&&a.AssetBarcode?a.AssetBarcode:null,p83:a&&a.AssetTagNo?a.AssetTagNo:null,p84:o?1:t.current,p85:t.pageSize,p86:l,p87:null,p88:null,p89:localStorage.getItem("UserGroupID"),p90:localStorage.getItem("userid")}};(0,I.Z)(i,c,xe.token[0]).then((i=>{if(o)(0,pe.a)(i,we,n,r,Le);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,b(i.Output.data[0].TotalCount),L(i.Output.data[0].DraftCnt),we({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&L(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?h(Math.ceil(e)):20==t.pageSize?h(Math.ceil(e/2)):50==t.pageSize?h(Math.ceil(e/5)):100==t.pageSize&&h(Math.ceil(e/10)),z(i.Output.data),Le.loading(!1)}e.Dialogview||(document.getElementById("divConContractAssetDetails-Entry").style.height="auto",document.getElementById("divConContractAssetDetails-Entry").style.display="block")}else Le.loading(!1),"DraftContractAssetID"===l?(Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}),$(!0),Oe(!1)):(z([]),w({current:1,pageSize:10}),h(0),b(0),we({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Le.alert({open:!0,color:"warning",message:[i.Output.status.message]}),Le.loading(!1)}))};function Ot(t,a){Le.loading(!0);const l=S.v.Api+"FP143S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:ke?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,xe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?h(Math.ceil(t)):20==a.pageSize?h(Math.ceil(t/2)):50==a.pageSize?h(Math.ceil(t/5)):100==a.pageSize&&h(Math.ceil(t/10)),z(e.Output.data),Le.loading(!1)}else z([]),h(0),b(0),we({type:"count",payload:"0"}),Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Le.loading(!1);else Le.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Le.loading(!1)}))}function Zt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),we({type:"language",payload:Object.assign({},...n)}),Qe(a.reduce(((e,t)=>(e[t]="",e)),{})),X(e),te(t),Ie(a),nt(l),ct(a)}const Gt=()=>be?null:n().createElement("div",null,He?n().createElement(fe.Z,{data:je,expanded:e=>!g&&Le.Expanded(e),edit:(e,t,a)=>{g?Le.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_143_L1_",id:"ConContractAssetDetailsTable",headerdata:ee,tablesearchparams:_e,searchvalue:e=>{Qe(e),U(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Et(t),w({current:1,pageSize:10}),Mt({current:1,pageSize:10},t,ke?"DraftContractAssetID":"ContractAssetID",ke&&"DraftPage")},bodydata:V,ondrag:Ft,bodyitem:ae,visibleitem:ee,isdraft:ke,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:s,showMore:!1,accessrights:xe.AccessRights,expanded:e=>!g&&Le.Expanded(e),edit:(e,t,a)=>{g?Le.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Mt(x,null,t?"DraftContractAssetID":"ContractAssetID",t&&"DraftPage",e[l],a)})),Le.hideAddBtn(!0))},viewtoggle:Le.viewtoggle,isexpanded:!g||qe,tf:xt,action:g?"none":"",ViewComp:(e,t)=>{}}));(0,l.useEffect)((()=>{Ke(xe.ExpandTableValue)}),[xe.ExpandTableValue]);return n().createElement("div",null,!pt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld143L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld143L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Lt("Search"),value:j,onChange:e=>{Y(e),Le.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},j?n().createElement("div",{id:"fld143L1TCCloseIconCommonSearch",onClick:()=>{Y(""),Le.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld143L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractAssetDetailsgridsearch").focus()}})))),n().createElement("div",null,xe.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld143L1TCAddBtnIsAdd",onClick:()=>{Le.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Ze,onChange:()=>()=>{Ge(qe)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[143]"},`${xt("143")} (${T})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld143L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld143L1TCInputSearch",className:"search_input",type:"text",placeholder:Lt("Search"),value:j,onChange:e=>{wt(e)}}),n().createElement("div",{className:"search_icon"},j?n().createElement("div",{id:"fld143L1TCInputCloseIcon",onClick:()=>{wt("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld143L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractAssetDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!ke&&n().createElement("div",{frmctrlid:"fld143L1TCFilterDataIsDraft",id:"ConContractAssetDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{At()}},n().createElement(M.ZP,{title:Lt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Lt("Filter Data"))),!g&&!ke&&!be&&n().createElement(le.Z,{formctrlidprint:"fld143L1TCExportPrint",formctrlidexport:"fld143L1TCExportTable",formctrlidrefresh:"fld143L1TCExportRefresh",title:xt("143"),data:R,exportData:bt,Items:ot,columnIndex:lt,TableVisibleItem:ee,userGridViewFormID:s,TableTotalCount:T,triggerApi:t=>{((t,l,n,o,r)=>{if(0===T)return Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Le.loading(!0);let i=S.v.Api+"FP143S3/",c={data:{p1:t&&t.ContractAssetIDPK?t.ContractAssetIDPK:null,p2:t&&t.ContractAssetCode?t.ContractAssetCode:null,p3:ke?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:t&&t.AssetID?t.AssetID:null,p7:t&&t.LocalityID?t.LocalityID:null,p8:t&&t.BuildingID?t.BuildingID:null,p9:t&&t.DivisionID?t.DivisionID:null,p10:t&&t.DisciplineID?t.DisciplineID:null,p11:t&&t.IsActive,p12:null,p13:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p14:t&&t.CreatedTtm?t.CreatedTtm:null,p15:t&&t.CreatedTtmType?t.CreatedTtmType:null,p16:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p17:null,p18:t&&t.ContractGroupID?t.ContractGroupID:null,p19:t&&t.ContractGroupCode?t.ContractGroupCode:null,p20:t&&t.ContractGroupName?t.ContractGroupName:null,p21:t&&t.TaxID?t.TaxID:null,p22:t&&t.TaxCode?t.TaxCode:null,p23:t&&t.TaxName?t.TaxName:null,p24:t&&t.TaxValue?t.TaxValue:null,p25:t&&t.CustomerID?t.CustomerID:null,p26:t&&t.CustomerCode?t.CustomerCode:null,p27:t&&t.CustomerName?t.CustomerName:null,p28:t&&t.ContractTypeID?t.ContractTypeID:null,p29:t&&t.ContractTypCode?t.ContractTypCode:null,p30:t&&t.ContractTypeName?t.ContractTypeName:null,p31:t&&t.ContractCategID?t.ContractCategID:null,p32:t&&t.ContractCategCode?t.ContractCategCode:null,p33:t&&t.ContractCategName?t.ContractCategName:null,p34:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p35:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p36:t&&t.ContractCode?t.ContractCode:null,p37:t&&t.ContractName?t.ContractName:null,p38:t&&t.AssetCategoryID?t.AssetCategoryID:null,p39:t&&t.AssetCategoryCode?t.AssetCategoryCode:null,p40:t&&t.AssetCategoryName?t.AssetCategoryName:null,p41:t&&t.AssetTypeID?t.AssetTypeID:null,p42:t&&t.AssetTypCode?t.AssetTypCode:null,p43:t&&t.AssetTypeName?t.AssetTypeName:null,p44:t&&t.PriorityID?t.PriorityID:null,p45:t&&t.PriorityCode?t.PriorityCode:null,p46:t&&t.PriorityName?t.PriorityName:null,p47:t&&t.DivisionCode?t.DivisionCode:null,p48:t&&t.DivisionName?t.DivisionName:null,p49:t&&t.DisciplineCode?t.DisciplineCode:null,p50:t&&t.DisciplineName?t.DisciplineName:null,p51:t&&t.BuildingCode?t.BuildingCode:null,p52:t&&t.BuildingName?t.BuildingName:null,p53:t&&t.FloorID?t.FloorID:null,p54:t&&t.FloorCode?t.FloorCode:null,p55:t&&t.FloorName?t.FloorName:null,p56:t&&t.SpotID?t.SpotID:null,p57:t&&t.SpotCode?t.SpotCode:null,p58:t&&t.SpotName?t.SpotName:null,p59:t&&t.LocalityCode?t.LocalityCode:null,p60:t&&t.LocalityName?t.LocalityName:null,p61:t&&t.StatusID?t.StatusID:null,p62:t&&t.StatusCode?t.StatusCode:null,p63:t&&t.StatusName?t.StatusName:null,p64:t&&t.ConditionID?t.ConditionID:null,p65:t&&t.ConditionCode?t.ConditionCode:null,p66:t&&t.ConditionDesp?t.ConditionDesp:null,p67:t&&t.ConditionName?t.ConditionName:null,p68:t&&t.MakeID?t.MakeID:null,p69:t&&t.MakeCode?t.MakeCode:null,p70:t&&t.MakeName?t.MakeName:null,p71:t&&t.ModelID?t.ModelID:null,p72:t&&t.ModelCode?t.ModelCode:null,p73:t&&t.ModelName?t.ModelName:null,p74:t&&t.ServiceAreaID?t.ServiceAreaID:null,p75:t&&t.ServiceAreaCode?t.ServiceAreaCode:null,p76:t&&t.ServiceAreaName?t.ServiceAreaName:null,p77:t&&t.TradeGroupID?t.TradeGroupID:null,p78:t&&t.TradeGroupCode?t.TradeGroupCode:null,p79:t&&t.TradeGroupName?t.TradeGroupName:null,p80:t&&t.EquipmentName?t.EquipmentName:null,p81:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p82:t&&t.AssetBarcode?t.AssetBarcode:null,p83:t&&t.AssetTagNo?t.AssetTagNo:null,p84:x.current,p85:T,p86:ke?"DraftContractAssetID":"ContractAssetID",p87:null,p88:null,p89:localStorage.getItem("UserGroupID"),p90:localStorage.getItem("userid")}};Le.loading(!1),Le.alert({open:!0,color:"success",message:[`${xt(143)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,xe.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,Le,ot,A,a,r)}))})(H,q.column,0,0,t)},Refresh:()=>{Y(""),w({current:1,pageSize:100}),i.current.clearItem(),xe.IsDraft?Mt({current:1,pageSize:100},Be,"DraftContractAssetID"):Mt({current:1,pageSize:100},Be,"ContractAssetID")},disabledPrint:!xe.AccessRights.IsPrint,disabledExport:!xe.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!ke&&!be&&!g&&n().createElement("div",{className:"buttoncard",onClick:()=>ut(!mt)},n().createElement("span",null,mt?n().createElement(M.ZP,{disableFocusListener:!0,title:Lt("Less"),placement:"top"},n().createElement("span",{id:"fld143L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:Lt("More"),placement:"top"},n().createElement("span",{id:"fld143L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),mt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},be||!qe?null:g||!xe.AccessRights.IsAdd||ke?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld143L1TCFilterDataIsAdd",id:"ConContractAssetDetailscoldiv",className:"buttoncard",onClick:()=>{Le.EditClose(!0),W?(document.getElementById("ConContractAssetDetailsFilterDiv").style.width="0%",document.getElementById("ConContractAssetDetailsTabDiv").style.width="100%",document.getElementById("ConContractAssetDetailsFilterDiv").style.display="none",document.getElementById("ConContractAssetDetailscoldiv").style.width="fit-content",document.getElementById("ConContractAssetDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",$(!1)):(document.getElementById("ConContractAssetDetailsFilterDiv").style.width="25%",document.getElementById("ConContractAssetDetailsTabDiv").style.width="75%",document.getElementById("ConContractAssetDetailsFilterDiv").style.display="block",document.getElementById("ConContractAssetDetailsfildiv").style.width="fit-content",document.getElementById("ConContractAssetDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractAssetDetailscoldiv").style.width="fit-content",document.getElementById("ConContractAssetDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",$(!0)),Q(!1)}},n().createElement(M.ZP,{title:Lt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Lt("Manage Columns")))),!ke&&m&&!be&&!g&&n().createElement("div",{className:"buttoncard",onClick:()=>(setTimeout((()=>c.current.getRefresh([])),2e3),Le.openNav(),void Le.SlideComponentType(n().createElement(De.Z,{ref:c,alert:e=>Le.alert(e),loading:e=>Le.loading(e),Api:"FP143S8/",data:e=>kt.log(e),SheetCount:1,frmctrlid:"fld143L1TCExpMig",importSave:(e,t)=>(async(e,t)=>{if(e.length>0){Le.loading(!0);const a=S.v.Api+"FP143S8/";await(0,Ne.ProcessDataSyncSave)(a,e,t,Le,c)}})(e,t),TableVisibleItem:vt,TableBodyItem:ht,clear:e=>c.current.getRefresh([]),excelfile:S.v.excel+"ConContractAssetDetails.xlsx",filename:"ConContractAssetDetails.xlsx"}))),id:"fld143L1TCExpMigSlide"},n().createElement(M.ZP,{title:Lt("Migration"),placement:"top"},n().createElement("span",null,n().createElement(ye.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Lt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!g&&qe&&!be&&!ke&&n().createElement("div",null,n().createElement("div",{id:"ConContractAssetDetailscoldiv",className:"buttoncard",onClick:()=>{He?Ue(!1):(Ue(!0),Bt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:Lt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld143L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Lt("Table Scroll Data")))),!be&&ke?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Le.hideAddBtn(!1),Le.ExpandEntry(),Mt({current:1,pageSize:100},Be,"ContractAssetID"),Oe(!1),Y(""),we({type:"IsDraft",payload:!1}),w({current:1,pageSize:10})}},n().createElement(M.ZP,{title:Lt("List"),placement:"top"},n().createElement("div",{id:"fld143L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Lt("Drafts")," ",T)):!g&&!be&&xe.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:P,showZero:!0},n().createElement("div",{id:"fld143L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{P>0?(w({current:1,pageSize:100}),f(0),Le.clear(),Y(""),we({type:"Add",payload:!1}),Mt({current:1,pageSize:10},Be,"DraftContractAssetID"),Oe(!0),we({type:"IsDraft",payload:!0}),$(!1),ze(!0),document.getElementById("ConContractAssetDetailsFilterDiv").style.width="0%",document.getElementById("ConContractAssetDetailsTabDiv").style.width="100%",document.getElementById("ConContractAssetDetailsFilterDiv").style.display="none",w({current:1,pageSize:100}),Pe(!1)):Le.alert({open:!0,color:"warning",message:[Lt("There is no Record Found")]})}},n().createElement(M.ZP,{title:Lt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Lt("Drafts"))))))):""),!ke&&!g&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},be||ke?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ve?"buttonList":"buttonGrid",id:"fld143L1TCListView",onClick:()=>{ze(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,Lt("List"))),n().createElement("div",{className:Ve||dt?"buttonGrid":"buttonList",id:"fld143L1TCCardView",onClick:()=>{ze(!1),st(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,Lt("Card"))),n().createElement("div",{className:dt?"buttonList":"buttonGrid",id:"fld143L1TCTileView",onClick:()=>{st(!0),ze(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,Lt("Tile"))))))),be?null:He?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld143L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:E,onPageChange:(e,t)=>{f(t),Bt({current:t+1,pageSize:et.pageSize}),tt({current:t+1,pageSize:et.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:We,color:"primary",page:et.current,onChange:(e,t)=>{tt({current:t,pageSize:et.pageSize}),$e(t),Bt({current:t,pageSize:et.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:et.pageSize,frmctrlid:"fld143L1TCSelectPagination",onChange:e=>{tt({current:1,pageSize:e.target.value}),Bt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),qe&&n().createElement("p",{className:"per-page"},"/ ",Lt("RowperpageOf")," (",Je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld143L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:E,onPageChange:(e,t)=>{f(t),Mt({current:t+1,pageSize:x.pageSize},Be,ke?"DraftContractAssetID":"ContractAssetID",ke&&"DraftPage"),w({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:v,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(w({current:t,pageSize:x.pageSize}),ke)Mt({current:t,pageSize:x.pageSize},Fe,"DraftContractAssetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";j.length>0?Ot(j,{current:t,pageSize:x.pageSize}):Mt({current:t,pageSize:x.pageSize},Fe,"ContractAssetID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld143L1TCSelectPaging",onChange:e=>{w({current:1,pageSize:e.target.value}),ke?Mt({current:1,pageSize:e.target.value},Fe,"DraftContractAssetID","DraftPage"):j.length>0?Ot(j,{current:1,pageSize:e.target.value}):Mt({current:1,pageSize:e.target.value},Fe,"ContractAssetID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),qe&&n().createElement("p",{className:"per-page"},"/ ",Lt("RowperpageOf")," (",T,") "))),n().createElement("div",{id:"ConContractAssetDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractAssetDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},_&&n().createElement(Rt,{parentId:e.parentId,searchData:e=>{U(e||St),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:s,data:()=>{},visibleData:()=>{},token:xe.token[0],CloseBtnClk:()=>At(),userGrid:Dt,msg:(e,t)=>Le.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),W&&n().createElement(ie.Z,{Refresh:e=>{Mt({current:1,pageSize:100},Be,"ContractAssetID")},frmctrlid:"fld143L1TCTableColumnOrder",loading:e=>Le.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Le.alert({open:!0,color:t,message:[e]}),select:W,userID:d,userGridViewFormID:s,saved:(e,t)=>{e&&Zt(t),It(t),we({type:"showTableview",payload:t})},Token:xe.token[0]})),n().createElement("div",{id:"ConContractAssetDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ve?n().createElement(Gt,null):n().createElement(se.Z,{frmctrlid:"fld143L1TCExpandedCardDual",data:V,id:"ConContractAssetDetails",title:"ContractAssetCode",cardTile:!!dt,visibleitem:ee,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{g?Le.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:ke}),we({type:"ShowDetail",payload:!1}),Le.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:ke}),we({type:"ShowDetail",payload:!0}),Le.Expanded(!0),Le.viewtoggle()),_?Q(!0):W?$(!0):($(!1),$(!1))),Le.hideAddBtn(!0)}})))))))})),Zt={EnterKeyValues:{ConContractAssetDetails:["LocalityName","BuildingName","ContractAssetCode","ContractName","DivisionName","DisciplineName","EquipmentName"]},Label:{ConContractAssetDetails:{LocalityID:["LocalityCode","LocalityName"],BuildingID:["BuildingCode","BuildingName"],ContractAssetCode:["ContractAssetCode","AssetBarcode","AssetCode","EquipmentName","TechSpechName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractID:["ContractAssetCode","AssetBarcode","AssetCode","EquipmentName","TechSpechName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName"],AssetID:["AssetTagNo","EquipmentName"]}},LabelHeader:{ConContractAssetDetails:{LocalityID:["Location Code","Location Name"],BuildingID:["Building Code","Building Name"],ContractAssetCode:["ContractAssetCode","AssetBarcode","AssetCode","EquipmentName","TechSpechName","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractID:["ContractAssetCode","AssetBarcode","AssetCode","EquipmentName","TechSpechName","Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode"],DivisionID:["Division Code","Division Name"],DisciplineID:["Discipline Code","Discipline Name"],AssetID:["Asset Tag No","Asset Name"]}},Property:{ConContractAssetDetails:{LocalityID:{id:"fld143_33974",clearID:"ConContractAssetDetailsLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},BuildingID:{id:"fld143_33975",clearID:"ConContractAssetDetailsBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"Building",fielddisplayname:"BuildingName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ContractAssetCode:{id:"fld143_2830",labelID:"ContractAssetCode",maxLength:"20",labelname:"ContractAssetCode",frmctrlid:"fld143_2830",frmctrlidname:"ContractAssetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld143_2832",clearID:"ConContractAssetDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},DivisionID:{id:"fld143_33976",clearID:"ConContractAssetDetailsDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},DisciplineID:{id:"fld143_33977",clearID:"ConContractAssetDetailsDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},AssetID:{id:"fld143_2833",clearID:"ConContractAssetDetailsEquipmentNameClear",type:"select",labelID:"AssetIDPK",labelname:"Asset Name",fielddisplayname:"EquipmentName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{ConContractAssetDetails:{LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],AssetID:["AssetTagNo","EquipmentName","EquipmentRefNo","AssetSerialNo","AssetBarcode","CreatedTtm","IsActive","IsDraft"]}}},Gt={ContractAssetIDPK:"",ContractAssetCode:"",IsDraft:!1,Remarks:"",ContractID:null,AssetID:null,LocalityID:null,BuildingID:null,DivisionID:null,DisciplineID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",AssetCategoryID:null,AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:null,AssetTypCode:"",AssetTypeName:"",PriorityID:null,PriorityCode:"",PriorityName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",LocalityCode:"",LocalityName:"",StatusID:null,StatusCode:"",StatusName:"",ConditionID:null,ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:null,MakeCode:"",MakeName:"",ModelID:null,ModelCode:"",ModelName:"",ServiceAreaID:null,ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:null,TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",Type:"ContractAssetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},qt=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,Gt),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:Vt),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:zt(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("143"),[ae,le]=(0,l.useState)([]),ne=(0,l.useRef)(null),[oe,re]=(0,l.useState)(!0),[ie,ce]=(0,l.useState)(!1);let de=(0,N.Z)();const[se,me]=(0,l.useState)({}),ue=e=>de[e]?de[e]:e,pe=t=>U.language?.[t]?U.language[t]:e.createEasy?se?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{ge()}),[]),(0,l.useEffect)((()=>{ge()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(Ce(U.editData[0],""),D(!0)):U.Add&&(ge(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),me(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ge()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Le(t),D(e)):(ge(),D(e))},AddOpen:e=>{ge(),D(!0)}})));const Ce=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultContractAssetID"==a?J(t.ContractAssetIDPK):(W(e.primid?Number(e.primid):t.ContractAssetIDPK?t.ContractAssetIDPK:0),j({type:"PrimaryId",payload:t.ContractAssetIDPK})),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),O({type:"text",name:"BuildingName",value:t.BuildingName}),O({type:"text",name:"ContractAssetCode",value:t.ContractAssetCode?t.ContractAssetCode:""}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"number",name:"DivisionID",number:t.DivisionID?Number(t.DivisionID):0}),O({type:"text",name:"DivisionName",value:t.DivisionName}),O({type:"number",name:"DisciplineID",number:t.DisciplineID?Number(t.DisciplineID):0}),O({type:"text",name:"DisciplineName",value:t.DisciplineName}),O({type:"number",name:"AssetID",number:t.AssetID?Number(t.AssetID):0}),O({type:"text",name:"EquipmentName",value:t.EquipmentName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},ge=()=>{A([]),J(""),j({type:"PrimaryId",payload:""}),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractAssetDetailsLocalityNameClear")&&document.getElementById("ConContractAssetDetailsLocalityNameClear").click(),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractAssetDetailsBuildingNameClear")&&document.getElementById("ConContractAssetDetailsBuildingNameClear").click(),O({type:"text",name:"ContractAssetCode",value:""}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractAssetDetailsContractNameClear")&&document.getElementById("ConContractAssetDetailsContractNameClear").click(),O({type:"text",name:"DivisionID",value:null}),O({type:"text",name:"DivisionName",value:""}),document.getElementById("ConContractAssetDetailsDivisionNameClear")&&document.getElementById("ConContractAssetDetailsDivisionNameClear").click(),O({type:"text",name:"DisciplineID",value:null}),O({type:"text",name:"DisciplineName",value:""}),document.getElementById("ConContractAssetDetailsDisciplineNameClear")&&document.getElementById("ConContractAssetDetailsDisciplineNameClear").click(),O({type:"text",name:"AssetID",value:null}),O({type:"text",name:"EquipmentName",value:""}),document.getElementById("ConContractAssetDetailsEquipmentNameClear")&&document.getElementById("ConContractAssetDetailsEquipmentNameClear").click(),document.getElementById("ConContractAssetDetailsAssetIDClear")&&document.getElementById("ConContractAssetDetailsAssetIDClear").click(),le([]),W(0),y(!0),P(""),re(!0)},De=t=>{re(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=`${S.v.Api}${Y?"FP143S1/":"FP143S19/"}`,l={data:[{p1:"SetDefaultContractAssetID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:we(k.ContractAssetCode),p3:!1,p4:"SetDefaultContractAssetID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p6:Y?k.AssetID:0==ae.length?0:ae.map((e=>e.AssetIDPK)).toString(),p7:k.LocalityID?k.LocalityID:0,p8:k.BuildingID?k.BuildingID:0,p9:k.DivisionID?k.DivisionID:0,p10:k.DisciplineID?k.DisciplineID:0,p11:s,p12:"SetDefaultContractAssetID"==t,p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?("SetDefaultContractAssetID"==t?H.alert({open:!0,color:"success",message:[ue("Default Record Configured")]}):H.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttConContractAssetDetails"),H.loading(!1),j({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(a[0].Data.IDPK)),ge(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConContractAssetDetails")&&(document.getElementById("overlayimgAttConContractAssetDetails").style.width="0%",document.getElementById("overlayimgAttConContractAssetDetails").style.display="none",document.getElementById("divConContractAssetDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractAssetDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1)),D(!0)}))}))},Ie=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP143S2/",l={data:[{p1:"SetDefaultContractAssetID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:we(k.ContractAssetCode),p3:!1,p4:"SetDefaultContractAssetID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p6:Y?k.AssetID:0==ae.length?0:ae.map((e=>e.AssetIDPK)).toString(),p7:k.LocalityID?k.LocalityID:0,p8:k.BuildingID?k.BuildingID:0,p9:k.DivisionID?k.DivisionID:0,p10:k.DisciplineID?k.DisciplineID:0,p11:s,p12:"SetDefaultContractAssetID"==t,p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((e=>{(0,I.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,n=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:n}),H.loading(!1)):De()):(H.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),H.loading(!1))}))}))};function Se(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[ue("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[ue("Please enter the primary fields")]}),!1;{re(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP143S1/",l={data:[{p1:"SetDefaultContractAssetID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:we(k.ContractAssetCode),p3:!0,p4:"SetDefaultContractAssetID"==n?"SetDefault":null,p5:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p6:Y?k.AssetID:0==ae.length?0:ae.map((e=>e.AssetIDPK)).toString(),p7:k.LocalityID?k.LocalityID:0,p8:k.BuildingID?k.BuildingID:0,p9:k.DivisionID?k.DivisionID:0,p10:k.DisciplineID?k.DisciplineID:0,p11:!1,p12:"SetDefaultContractAssetID"==n,p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[ue("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[ue("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),ge(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function Ee(e){return CreateEasy(e,U,j,H,X),!1}function fe(e,a){return AdvanceSearch(e,a,Vt,zt(),he,t),!1}const ve=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP143S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:e.parentId?Number(e.parentId):0,p6:"0"==k.AssetID?null:k.AssetID?k.AssetID:ae.map((e=>e.AssetIDPK)).toString(),p7:"0"==k.LocalityID?null:k.LocalityID,p8:"0"==k.BuildingID?null:k.BuildingID,p9:"0"==k.DivisionID?null:k.DivisionID,p10:"0"==k.DisciplineID?null:k.DisciplineID,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:"0"==k.ContractGroupID?null:k.ContractGroupID,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==k.TaxID?null:k.TaxID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:a?"%"+a+"%":null,p25:"0"==k.CustomerID?null:k.CustomerID,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:"0"==k.ContractTypeID?null:k.ContractTypeID,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:"0"==k.ContractCategID?null:k.ContractCategID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==k.AssetCategoryID?null:k.AssetCategoryID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==k.AssetTypeID?null:k.AssetTypeID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==k.PriorityID?null:k.PriorityID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:"0"==k.FloorID?null:k.FloorID,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:"0"==k.SpotID?null:k.SpotID,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==k.StatusID?null:k.StatusID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==k.ConditionID?null:k.ConditionID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:"0"==k.MakeID?null:k.MakeID,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:"0"==k.ModelID?null:k.ModelID,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:"0"==k.ServiceAreaID?null:k.ServiceAreaID,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:"0"==k.TradeGroupID?null:k.TradeGroupID,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:a?"%"+a+"%":null,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:t,p85:r||10,p86:l,p87:null,p88:null,p89:localStorage.getItem("UserGroupID"),p90:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};(0,I.Z)(i,"ClearAll"==l?s:c,"PKDrag"==n?o:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?e>0?(K(n),r&&"AssetIDPK"==l&&(ne.current.checkedAll(n),H.loading(!1))):K([]):K(q.concat(n)),"SetDefaultContractAssetID"==l&&(e>0?Ce(n[0],"SetDefaultContractAssetID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ne=(t,l,n)=>{const o=S.v.Api+"FP143S3/",r={data:{p1:null,p2:"ContractAssetCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p6:null,p7:null,p8:null,p9:null,p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:t,p85:10,p86:"ContractAssetID",p87:null,p88:null,p89:localStorage.getItem("UserGroupID"),p90:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ContractAssetCode"==n&&re(e>0),K(l)):("ContractAssetCode"==n&&re(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},he=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("LocalityID"==t?(O({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"BuildingID"==t?(O({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null})):"ContractID"==t||("DivisionID"==t?(O({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),O({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"DisciplineID"==t?(O({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),O({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null})):"AssetID"==t&&(O({type:"text",name:"AssetID",value:e.AssetIDPK?e.AssetIDPK:null}),O({type:"text",name:"EquipmentName",value:e.EquipmentName?e.EquipmentName:null}))))}),[k]);function Te(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractAssetDetailsLocalityNameClear")&&document.getElementById("ConContractAssetDetailsLocalityNameClear").click(),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractAssetDetailsBuildingNameClear")&&document.getElementById("ConContractAssetDetailsBuildingNameClear").click(),O({type:"text",name:"AssetID",value:null}),O({type:"text",name:"EquipmentName",value:""}),document.getElementById("ConContractAssetDetailsEquipmentNameClear")&&document.getElementById("ConContractAssetDetailsEquipmentNameClear").click()}else if("BuildingID"==e){if(!k.BuildingID)return!1;O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractAssetDetailsBuildingNameClear")&&document.getElementById("ConContractAssetDetailsBuildingNameClear").click(),O({type:"text",name:"AssetID",value:null}),O({type:"text",name:"EquipmentName",value:""}),document.getElementById("ConContractAssetDetailsEquipmentNameClear")&&document.getElementById("ConContractAssetDetailsEquipmentNameClear").click()}else if("ContractID"==e){if(!k.ContractID)return!1}else if("DivisionID"==e){if(!k.DivisionID)return!1;O({type:"text",name:"DivisionID",value:null}),O({type:"text",name:"DivisionName",value:""}),document.getElementById("ConContractAssetDetailsDivisionNameClear")&&document.getElementById("ConContractAssetDetailsDivisionNameClear").click(),O({type:"text",name:"DisciplineID",value:null}),O({type:"text",name:"DisciplineName",value:""}),document.getElementById("ConContractAssetDetailsDisciplineNameClear")&&document.getElementById("ConContractAssetDetailsDisciplineNameClear").click()}else if("DisciplineID"==e){if(!k.DisciplineID)return!1;O({type:"text",name:"DisciplineID",value:null}),O({type:"text",name:"DisciplineName",value:""}),document.getElementById("ConContractAssetDetailsDisciplineNameClear")&&document.getElementById("ConContractAssetDetailsDisciplineNameClear").click()}else if("AssetID"==e){if(!k.AssetID)return!1;O({type:"text",name:"AssetID",value:null}),O({type:"text",name:"EquipmentName",value:""}),document.getElementById("ConContractAssetDetailsAssetIDClear")&&document.getElementById("ConContractAssetDetailsAssetIDClear").click(),le([]),document.getElementById("ConContractAssetDetailsEquipmentNameClear")&&document.getElementById("ConContractAssetDetailsEquipmentNameClear").click()}}function be(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"AssetID",value:null})}else if("BuildingID"==e){if(!k.BuildingID)return!1;O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"AssetID",value:null})}else if("ContractID"==e){if(!k.ContractID)return!1}else if("DivisionID"==e){if(!k.DivisionID)return!1;O({type:"text",name:"DivisionID",value:null}),O({type:"text",name:"DisciplineID",value:null})}else if("DisciplineID"==e){if(!k.DisciplineID)return!1;O({type:"text",name:"DisciplineID",value:null})}else if("AssetID"==e){if(!k.AssetID)return!1;O({type:"text",name:"AssetID",value:null})}}function Le(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ContractAssetIDPK)?Number(e.ContractAssetIDPK):0),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),O({type:"text",name:"ContractAssetCode",value:e.ContractAssetCode?e.ContractAssetCode:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"number",name:"DivisionID",number:e.DivisionID?Number(e.DivisionID):0}),O({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:""}),O({type:"number",name:"DisciplineID",number:e.DisciplineID?Number(e.DisciplineID):0}),O({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:""}),O({type:"number",name:"AssetID",number:e.AssetID?Number(e.AssetID):0}),O({type:"text",name:"EquipmentName",value:e.EquipmentName?e.EquipmentName:""})}const we=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[143]"}," ",ue("Add "),pe("143")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld143L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:ue(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld143L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ue("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ge()},id:"fld143L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ue("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld143L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Se("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Se()},frmctrlid:"fld143L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ue("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld143L1ECSaveBtnIsAdd",name:ue(Y?"Update":"Save"),disabled:!1,onClick:()=>{k.LocalityID&&0!=k.LocalityID?e.parentId&&0!=e.parentId?!Y&&0==ae.length||Y&&(!k.AssetID||0==k.AssetID)?H.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+pe("AssetID")]}):Y?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ue("Are you sure?"),onConfirm:()=>Ie(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("Cancel"),showCancel:!0},ue(Y?"Do you want to Update?":"Do you want to Save?"))):De():H.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+pe("ContractID")]}):H.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+pe("LocalityID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld143L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ge(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractAssetDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractAssetDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractAssetDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Zt,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,disabled:!!Y,SPName:"ConContractAssetDetails",FieldName:"LocalityID",tfLabel:pe("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"LocalityID","select"),onChange:(e,t)=>{ve(e,t,"LocalityIDPK")},KeyBack:e=>{be("LocalityID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("12")},Tabledialog:()=>fe("12","LocalityID"),loading:Z,clear:e=>{e&&Te("LocalityID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Zt,id:k.BuildingID,"data-testid":k.BuildingID,value:k.BuildingName,disabled:!!Y,SPName:"ConContractAssetDetails",FieldName:"BuildingID",tfLabel:pe("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"BuildingID","select"),onChange:(e,t)=>{ve(e,t,"BuildingIDPK")},KeyBack:e=>{be("BuildingID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("30")},Tabledialog:()=>fe("30","BuildingID"),loading:Z,clear:e=>{e&&Te("BuildingID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ContractAssetCode,json:Zt,SPName:"ConContractAssetDetails",FieldName:"ContractAssetCode",tfLabel:pe("ContractAssetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Le(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("No"),showCancel:!0},ue("Do you want to update this record?")))})(t),onClick:()=>{oe&&Ne(1,"","ClearAll"),re(!0)},frmctrlid:"fld143_2830",frmctrlidName:"ContractAssetCode",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{oe&&Ne(e,t,"ContractAssetCode"),he(t,"ContractAssetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:k.ContractAssetCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ContractAssetCode",value:""}),re(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Zt,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConContractAssetDetails",FieldName:"ContractID",tfLabel:pe("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"ContractID","select"),onChange:(e,t)=>{ve(e,t,"ContractIDPK")},KeyBack:e=>{be("ContractID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("156")},Tabledialog:()=>fe("156","ContractID"),loading:Z,clear:e=>{e&&Te("ContractID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Zt,id:k.DivisionID,"data-testid":k.DivisionID,value:k.DivisionName,disabled:!!Y,SPName:"ConContractAssetDetails",FieldName:"DivisionID",tfLabel:pe("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"DivisionID","select"),onChange:(e,t)=>{ve(e,t,"DivisionIDPK")},KeyBack:e=>{be("DivisionID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("35")},Tabledialog:()=>fe("35","DivisionID"),loading:Z,clear:e=>{e&&Te("DivisionID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Zt,id:k.DisciplineID,"data-testid":k.DisciplineID,value:k.DisciplineName,disabled:!!Y,SPName:"ConContractAssetDetails",FieldName:"DisciplineID",tfLabel:pe("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"DisciplineID","select"),onChange:(e,t)=>{ve(e,t,"DisciplineIDPK")},KeyBack:e=>{be("DisciplineID")},fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("34")},Tabledialog:()=>fe("34","DisciplineID"),loading:Z,clear:e=>{e&&Te("DisciplineID")}})),Y?null:n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Ke.Z,{json:Zt,id:k.AssetID,"data-testid":k.AssetID,value:k.EquipmentName,SPName:"ConContractAssetDetails",FieldName:"AssetID",tfLabel:pe("AssetID"),ref:ne,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return le(a=t),void a.length;var a},onChange:(e,t)=>{ve(e,t,"AssetIDPK")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{H.loading(!0),ve("1",t||"","AssetIDPK","","",e)},openSlide:()=>{Ee("801")},Tabledialog:()=>fe("801","AssetID"),loading:Z,clear:e=>{e&&Te("AssetID")}})),Y?n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Zt,id:k.AssetID,"data-testid":k.AssetID,value:k.EquipmentName,disabled:!!Y,SPName:"ConContractAssetDetails",FieldName:"AssetID",tfLabel:pe("Asset Name"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>he(e,"AssetID","select"),onChange:(e,t)=>{ve(e,t,"AssetIDPK")},KeyBack:e=>{be("AssetID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("801")},Tabledialog:()=>fe("801","AssetID"),loading:Z,SideEntryView:!1,clear:e=>{e&&Te("AssetID")}})):null)),n().createElement("div",{id:"ConContractAssetDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractAssetDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Kt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(Vt),{cstate:B,cdispatch:F}=zt(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ContractAssetIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP143S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:1,p85:10,p86:B.IsDraft?"DraftContractAssetID":"ContractAssetID",p87:null,p88:null,p89:localStorage.getItem("UserGroupID"),p90:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ContractAssetIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConContractAssetDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld143L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld143L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld143L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld143L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(qt,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractAssetDetails",tableID:143,parentID:t.ContractAssetIDPK,fldid:"fld143L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[143]"}))))))))})),Vt=(0,l.createContext)(),zt=()=>{const e=(0,l.useContext)(Vt);if(void 0===e)throw new Error("useCont must be used within  ConContractAssetDetailsContext Provider");return e},_t=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractAssetDetails-Entry").style.width="100%",document.getElementById("ConContractAssetDetails-MainTable").style.width="100%",document.getElementById("ConContractAssetDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractAssetDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractAssetDetails-Entry").style.width="100%",document.getElementById("ConContractAssetDetails-MainTable").style.width="100%",document.getElementById("ConContractAssetDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractAssetDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractAssetDetails-Entry").style.width="100%",document.getElementById("ConContractAssetDetailsEntryTable").style.width="100%",document.getElementById("ConContractAssetDetails-MainEntry").style.width="100%",document.getElementById("ConContractAssetDetails-MainEntry").style.display="block",document.getElementById("ConContractAssetDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractAssetDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractAssetDetails").style.width="0%",document.getElementById("overlayimgAttConContractAssetDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Vt.Provider,{value:{cstate:D,cdispatch:I,ContextApi:zt,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractAssetDetails").style.width="50%",document.getElementById("divConContractAssetDetails-Entry").style.width="100%",document.getElementById("ConContractAssetDetails-MainTable").style.width="100%",document.getElementById("ConContractAssetDetails-MainEntry").style.width="100%",document.getElementById("ConContractAssetDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractAssetDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractAssetDetails").style.display="block",document.getElementById("overlayimgAttConContractAssetDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractAssetDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractAssetDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractAssetDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractAssetDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Kt,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:143,fileId:"LogoImgConContractAssetDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractAssetDetails",frmctrlid:"PvwIm_143_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractAssetDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(qt,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:143,fileId:"LogoImgConContractAssetDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractAssetDetails",frmctrlid:"PvwIm_143_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractAssetDetails-MainTable"},0!==y?n().createElement(Ot,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:143,fileId:"AttImgConContractAssetDetails",imgid:"overlayimgAttConContractAssetDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractAssetDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_143_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractAssetDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:143,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Qt=a(25108);const Ht=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:ea(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP149S3/",g={data:{p1:"ContractExtLogIDPK"==a?null:await we(),p2:"ContractExtLogCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:"ExtendedValue"==c&&l.length>0?"%"+l+"%":null,p13:null,p14:null,p15:e.parentId?e.parentId:"0",p16:e.Dialogview?"1":null,p17:null,p18:"p18"==c&&l.length>0?l:null,p19:null,p20:null,p21:null,p22:null,p23:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p24:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p25:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p26:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p27:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p28:"TaxName"==c&&l.length>0?"%"+l+"%":null,p29:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p30:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p31:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p32:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p33:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p34:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p35:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p36:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p37:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p38:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p39:"PaymentTermsName"!=c&&d.PaymentTermsName?d.PaymentTermsName.map((e=>e.PaymentTermsIDPK)).toString():null,p40:"PaymentTermsCode"==c&&l.length>0?"%"+l+"%":null,p41:"PaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p42:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p43:"ContractName"==c&&l.length>0?"%"+l+"%":null,p44:n||1,p45:10,p46:t,p47:null,p48:null,p49:localStorage.getItem("UserGroupID"),p50:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ContractExtLogIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ContractExtLogIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",StartDate:l.StartDate?l.StartDate.From:"",StartDateType:l.StartDate?l.StartDate.Type:"",StartDateBetween:l.StartDate?l.StartDate.To:"",EndDate:l.EndDate?l.EndDate.From:"",EndDateType:l.EndDate?l.EndDate.Type:"",EndDateBetween:l.EndDate?l.EndDate.To:"",ExtendedDate:l.ExtendedDate?l.ExtendedDate.From:"",ExtendedDateType:l.ExtendedDate?l.ExtendedDate.Type:"",ExtendedDateBetween:l.ExtendedDate?l.ExtendedDate.To:"",ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ContractExtLogIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ContractExtLogIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ContractExtLogIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,StartDate:c.StartDate?c.StartDate.From:"",StartDateType:c.StartDate?c.StartDate.Type:"",StartDateBetween:c.StartDate?c.StartDate.To:"",EndDate:c.EndDate?c.EndDate.From:"",EndDateType:c.EndDate?c.EndDate.Type:"",EndDateBetween:c.EndDate?c.EndDate.To:"",ExtendedDate:c.ExtendedDate?c.ExtendedDate.From:"",ExtendedDateType:c.ExtendedDate?c.ExtendedDate.Type:"",ExtendedDateBetween:c.ExtendedDate?c.ExtendedDate.To:"",ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld149L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld149L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld149L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Qt.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld149L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld149L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld149L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld149L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld149L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld149L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld149L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ContractExtLogIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterContractExtLogID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterContractExtLogID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterContractExtLogID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),Ut=Ht;window.clickFilter="";const jt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("149"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ConContractExtLogDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:Xt),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:ea();let Pe={ContractExtLogIDPK:"",ContractExtLogCode:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",ExtendedDate:"",ExtendedDateType:"",ExtendedDateBetween:"",ExtendedValue:"",IsDraft:"",Remarks:"",ContractID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsCode:"",PaymentTermsName:"",ContractCode:"",ContractName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({ContractExtLogCode:"",StartDate:"",EndDate:"",ExtendedDate:"",ExtendedValue:"",ContractName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[at,lt]=(0,l.useState)(!1),[nt,ot]=(0,l.useState)(!1),[rt,it]=(0,l.useState)(!1),[ct,dt]=(0,l.useState)(""),[st,mt]=Se()("149"),[ut,pt]=(0,l.useState)({}),Ct=[{columns:Je,data:w}];let yt=(0,N.Z)();const gt=e=>yt[e]?yt[e]:e,Dt=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{ht(st)}),[st]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?vt(L,Pe,"ContractExtLogID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?vt(L,Q,"ContractExtLogID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{It(e)},tableRefresh:()=>{vt(L,Pe,"ContractExtLogID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{it(!0===e)}})));const It=e=>{""==e?vt(L,Pe,Fe?"DraftContractExtLogID":"ContractExtLogID",Fe&&"DraftPage"):Nt(e,{current:1,pageSize:100}),j(e)};function St(t){he.loading(!0);let a=S.v.Api+"FP149S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Et(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),it(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Nt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ft=()=>{he.EditClose(!0),z?(document.getElementById("ConContractExtLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractExtLogDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractExtLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ConContractExtLogDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractExtLogDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractExtLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractExtLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractExtLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractExtLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractExtLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractExtLogDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractExtLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ConContractExtLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractExtLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},vt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP149S3/",c={data:{p1:o||(a&&a.ContractExtLogIDPK?a.ContractExtLogIDPK:null),p2:a&&a.ContractExtLogCode?a.ContractExtLogCode:null,p3:a&&a.StartDate?a.StartDate:null,p4:a&&a.StartDateType?a.StartDateType:null,p5:a&&a.StartDateBetween?a.StartDateBetween:null,p6:a&&a.EndDate?a.EndDate:null,p7:a&&a.EndDateType?a.EndDateType:null,p8:a&&a.EndDateBetween?a.EndDateBetween:null,p9:a&&a.ExtendedDate?a.ExtendedDate:null,p10:a&&a.ExtendedDateType?a.ExtendedDateType:null,p11:a&&a.ExtendedDateBetween?a.ExtendedDateBetween:null,p12:a&&a.ExtendedValue?a.ExtendedValue:null,p13:"DraftContractExtLogID"==l?"1":"0",p14:null,p15:e.parentId?Number(e.parentId):0,p16:a&&a.IsActive,p17:null,p18:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p19:a&&a.CreatedTtm?a.CreatedTtm:null,p20:a&&a.CreatedTtmType?a.CreatedTtmType:null,p21:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p22:null,p23:a&&a.ContractGroupID?a.ContractGroupID:null,p24:a&&a.ContractGroupCode?a.ContractGroupCode:null,p25:a&&a.ContractGroupName?a.ContractGroupName:null,p26:a&&a.TaxID?a.TaxID:null,p27:a&&a.TaxCode?a.TaxCode:null,p28:a&&a.TaxName?a.TaxName:null,p29:a&&a.TaxValue?a.TaxValue:null,p30:a&&a.CustomerID?a.CustomerID:null,p31:a&&a.CustomerCode?a.CustomerCode:null,p32:a&&a.CustomerName?a.CustomerName:null,p33:a&&a.ContractTypeID?a.ContractTypeID:null,p34:a&&a.ContractTypCode?a.ContractTypCode:null,p35:a&&a.ContractTypeName?a.ContractTypeName:null,p36:a&&a.ContractCategID?a.ContractCategID:null,p37:a&&a.ContractCategCode?a.ContractCategCode:null,p38:a&&a.ContractCategName?a.ContractCategName:null,p39:a&&a.PaymentTermsID?a.PaymentTermsID:null,p40:a&&a.PaymentTermsCode?a.PaymentTermsCode:null,p41:a&&a.PaymentTermsName?a.PaymentTermsName:null,p42:a&&a.ContractCode?a.ContractCode:null,p43:a&&a.ContractName?a.ContractName:null,p44:o?1:t.current,p45:t.pageSize,p46:l,p47:null,p48:null,p49:localStorage.getItem("UserGroupID"),p50:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divConContractExtLogDetails-Entry").style.height="auto",document.getElementById("divConContractExtLogDetails-Entry").style.display="block")}else he.loading(!1),"DraftContractExtLogID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function Nt(t,a){he.loading(!0);const l=S.v.Api+"FP149S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function ht(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Tt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_149_L1_",id:"ConContractExtLogDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};pt(t),x({current:1,pageSize:10}),vt({current:1,pageSize:10},t,Fe?"DraftContractExtLogID":"ContractExtLogID",Fe&&"DraftPage")},bodydata:K,ondrag:Et,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&vt(L,null,t?"DraftContractExtLogID":"ContractExtLogID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Dt,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!rt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld149L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld149L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:gt("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld149L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld149L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractExtLogDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld149L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[149]"},`${Dt("149")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld149L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld149L1TCInputSearch",className:"search_input",type:"text",placeholder:gt("Search"),value:U,onChange:e=>{It(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld149L1TCInputCloseIcon",onClick:()=>{It("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld149L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractExtLogDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld149L1TCFilterDataIsDraft",id:"ConContractExtLogDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ft()}},n().createElement(M.ZP,{title:gt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld149L1TCExportPrint",formctrlidexport:"fld149L1TCExportTable",formctrlidrefresh:"fld149L1TCExportRefresh",title:Dt("149"),data:A,exportData:Ct,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP149S3/",c={data:{p1:t&&t.ContractExtLogIDPK?t.ContractExtLogIDPK:null,p2:t&&t.ContractExtLogCode?t.ContractExtLogCode:null,p3:t&&t.StartDate?t.StartDate:null,p4:t&&t.StartDateType?t.StartDateType:null,p5:t&&t.StartDateBetween?t.StartDateBetween:null,p6:t&&t.EndDate?t.EndDate:null,p7:t&&t.EndDateType?t.EndDateType:null,p8:t&&t.EndDateBetween?t.EndDateBetween:null,p9:t&&t.ExtendedDate?t.ExtendedDate:null,p10:t&&t.ExtendedDateType?t.ExtendedDateType:null,p11:t&&t.ExtendedDateBetween?t.ExtendedDateBetween:null,p12:t&&t.ExtendedValue?t.ExtendedValue:null,p13:Fe?"1":"0",p14:null,p15:e.parentId?Number(e.parentId):0,p16:t&&t.IsActive,p17:null,p18:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p19:t&&t.CreatedTtm?t.CreatedTtm:null,p20:t&&t.CreatedTtmType?t.CreatedTtmType:null,p21:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p22:null,p23:t&&t.ContractGroupID?t.ContractGroupID:null,p24:t&&t.ContractGroupCode?t.ContractGroupCode:null,p25:t&&t.ContractGroupName?t.ContractGroupName:null,p26:t&&t.TaxID?t.TaxID:null,p27:t&&t.TaxCode?t.TaxCode:null,p28:t&&t.TaxName?t.TaxName:null,p29:t&&t.TaxValue?t.TaxValue:null,p30:t&&t.CustomerID?t.CustomerID:null,p31:t&&t.CustomerCode?t.CustomerCode:null,p32:t&&t.CustomerName?t.CustomerName:null,p33:t&&t.ContractTypeID?t.ContractTypeID:null,p34:t&&t.ContractTypCode?t.ContractTypCode:null,p35:t&&t.ContractTypeName?t.ContractTypeName:null,p36:t&&t.ContractCategID?t.ContractCategID:null,p37:t&&t.ContractCategCode?t.ContractCategCode:null,p38:t&&t.ContractCategName?t.ContractCategName:null,p39:t&&t.PaymentTermsID?t.PaymentTermsID:null,p40:t&&t.PaymentTermsCode?t.PaymentTermsCode:null,p41:t&&t.PaymentTermsName?t.PaymentTermsName:null,p42:t&&t.ContractCode?t.ContractCode:null,p43:t&&t.ContractName?t.ContractName:null,p44:L.current,p45:h,p46:Fe?"DraftContractExtLogID":"ContractExtLogID",p47:null,p48:null,p49:localStorage.getItem("UserGroupID"),p50:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Dt(149)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?vt({current:1,pageSize:100},Pe,"DraftContractExtLogID"):vt({current:1,pageSize:100},Pe,"ContractExtLogID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ot(!nt)},n().createElement("span",null,nt?n().createElement(M.ZP,{disableFocusListener:!0,title:gt("Less"),placement:"top"},n().createElement("span",{id:"fld149L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:gt("More"),placement:"top"},n().createElement("span",{id:"fld149L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),nt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld149L1TCFilterDataIsAdd",id:"ConContractExtLogDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ConContractExtLogDetailsFilterDiv").style.width="0%",document.getElementById("ConContractExtLogDetailsTabDiv").style.width="100%",document.getElementById("ConContractExtLogDetailsFilterDiv").style.display="none",document.getElementById("ConContractExtLogDetailscoldiv").style.width="fit-content",document.getElementById("ConContractExtLogDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ConContractExtLogDetailsFilterDiv").style.width="25%",document.getElementById("ConContractExtLogDetailsTabDiv").style.width="75%",document.getElementById("ConContractExtLogDetailsFilterDiv").style.display="block",document.getElementById("ConContractExtLogDetailsfildiv").style.width="fit-content",document.getElementById("ConContractExtLogDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractExtLogDetailscoldiv").style.width="fit-content",document.getElementById("ConContractExtLogDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:gt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ConContractExtLogDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),St({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:gt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld149L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Table Scroll Data")))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld149L1TCListView",onClick:()=>{Ge(!0),lt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,gt("List"))),n().createElement("div",{className:Ze||at?"buttonGrid":"buttonList",id:"fld149L1TCCardView",onClick:()=>{Ge(!1),lt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,gt("Card"))),n().createElement("div",{className:at?"buttonList":"buttonGrid",id:"fld149L1TCTileView",onClick:()=>{lt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,gt("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld149L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),St({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),St({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld149L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),St({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld149L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftContractExtLogID":"ContractExtLogID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)vt({current:t,pageSize:L.pageSize},Le,"DraftContractExtLogID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?Nt(U,{current:t,pageSize:L.pageSize}):vt({current:t,pageSize:L.pageSize},Le,"ContractExtLogID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld149L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?vt({current:1,pageSize:e.target.value},Le,"DraftContractExtLogID","DraftPage"):U.length>0?Nt(U,{current:1,pageSize:e.target.value}):vt({current:1,pageSize:e.target.value},Le,"ContractExtLogID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ConContractExtLogDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractExtLogDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(Ut,{parentId:e.parentId,searchData:e=>{H(e||ut),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ft(),userGrid:st,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{vt({current:1,pageSize:100},Pe,"ContractExtLogID")},frmctrlid:"fld149L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&ht(t),mt(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ConContractExtLogDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Tt,null):n().createElement(se.Z,{frmctrlid:"fld149L1TCExpandedCardDual",data:K,id:"ConContractExtLogDetails",title:"ContractExtLogCode",cardTile:!!at,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),Yt={EnterKeyValues:{ConContractExtLogDetails:["ContractExtLogCode","StartDate","EndDate","ExtendedDate","ExtendedValue","ContractName"]},Label:{ConContractExtLogDetails:{ContractExtLogCode:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],StartDate:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],EndDate:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ExtendedDate:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ExtendedValue:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractID:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"]}},LabelHeader:{ConContractExtLogDetails:{ContractExtLogCode:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],StartDate:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],EndDate:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ExtendedDate:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ExtendedValue:["ContractExtLogCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractID:["ContractExtLogCode","Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode"]}},Property:{ConContractExtLogDetails:{ContractExtLogCode:{id:"fld149_2914",labelID:"ContractExtLogCode",maxLength:"50",labelname:"ContractExtLogCode",frmctrlid:"fld149_2914",frmctrlidname:"ContractExtLogCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StartDate:{id:"fld149_2915",labelID:"StartDate",maxLength:"",labelname:"Start Date",frmctrlid:"fld149_2915",frmctrlidname:"StartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EndDate:{id:"fld149_2916",labelID:"EndDate",maxLength:"",labelname:"End Date",frmctrlid:"fld149_2916",frmctrlidname:"EndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ExtendedDate:{id:"fld149_2917",labelID:"ExtendedDate",maxLength:"",labelname:"Extended Date",frmctrlid:"fld149_2917",frmctrlidname:"ExtendedDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ExtendedValue:{id:"fld149_2918",labelID:"ExtendedValue",maxLength:"",labelname:"Extended Value",frmctrlid:"fld149_2918",frmctrlidname:"ExtendedValue",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld149_2921",clearID:"ConContractExtLogDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractName",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{ConContractExtLogDetails:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},Wt={ContractExtLogIDPK:"",ContractExtLogCode:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",ExtendedDate:"",ExtendedDateType:"",ExtendedDateBetween:"",ExtendedValue:"",IsDraft:!1,Remarks:"",ContractID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",PaymentTermsID:null,PaymentTermsCode:"",PaymentTermsName:"",ContractCode:"",ContractName:"",Type:"ContractExtLogID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},$t=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,Wt),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:Xt),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:ea(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("149"),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(!0),[ue,pe]=(0,l.useState)(!1);let Ce=(0,N.Z)();const[ye,ge]=(0,l.useState)({}),De=e=>Ce[e]?Ce[e]:e,Ie=t=>U.language?.[t]?U.language[t]:e.createEasy?ye?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{ve()}),[]),(0,l.useEffect)((()=>{ve()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(fe(U.editData[0],""),D(!0)):U.Add&&(ve(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ge(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ve()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Pe(t),D(e)):(ve(),D(e))},AddOpen:e=>{ve(),D(!0)}})));const Se=e=>e?e.split("-").reverse().join("-"):null,Ee=e=>{if(e){let t=Se(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},fe=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultContractExtLogID"==a?J(t.ContractExtLogIDPK):(W(e.primid?Number(e.primid):t.ContractExtLogIDPK?t.ContractExtLogIDPK:0),j({type:"PrimaryId",payload:t.ContractExtLogIDPK})),O({type:"text",name:"ContractExtLogCode",value:t.ContractExtLogCode?t.ContractExtLogCode:""}),O({type:"text",name:"StartDate",value:t.StartDate?Se(t.StartDate):null}),O({type:"text",name:"EndDate",value:t.EndDate?Se(t.EndDate):null}),O({type:"text",name:"ExtendedDate",value:t.ExtendedDate?Se(t.ExtendedDate):null}),O({type:"number",name:"ExtendedValue",number:Number(t.ExtendedValue)}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},ve=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"ContractExtLogCode",value:""}),O({type:"text",name:"StartDate",value:""}),O({type:"text",name:"EndDate",value:""}),O({type:"text",name:"ExtendedDate",value:""}),O({type:"number",name:"ExtendedValue",number:0}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractExtLogDetailsContractNameClear")&&document.getElementById("ConContractExtLogDetailsContractNameClear").click(),y(!0),P(""),le(!0),me(!0)},Ne=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP149S2/",l={data:[{p1:"SetDefaultContractExtLogID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:Le(k.ContractExtLogCode),p3:k.StartDate?Ee(k.StartDate):null,p4:k.EndDate?Ee(k.EndDate):null,p5:k.ExtendedDate?Ee(k.ExtendedDate):null,p6:k.ExtendedValue?Number(k.ExtendedValue):0,p7:!1,p8:"SetDefaultContractExtLogID"==t?"SetDefault":null,p9:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p10:s,p11:"SetDefaultContractExtLogID"==t,p12:localStorage.getItem("userid"),p13:V()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{le(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP149S1/",l={data:[{p1:Y,p2:Le(k.ContractExtLogCode),p3:k.StartDate?Ee(k.StartDate):null,p4:k.EndDate?Ee(k.EndDate):null,p5:k.ExtendedDate?Ee(k.ExtendedDate):null,p6:k.ExtendedValue?Number(k.ExtendedValue):0,p7:!1,p8:null,p9:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p10:s,p11:!1,p12:localStorage.getItem("userid"),p13:V()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttConContractExtLogDetails"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),ve(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConContractExtLogDetails")&&(document.getElementById("overlayimgAttConContractExtLogDetails").style.width="0%",document.getElementById("overlayimgAttConContractExtLogDetails").style.display="none",document.getElementById("divConContractExtLogDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractExtLogDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))},he=(t,l,n)=>{const o=S.v.Api+"FP149S3/",r={data:{p1:null,p2:"ContractExtLogCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:"ExtendedValue"==n&&l?"%"+l+"%":null,p13:null,p14:null,p15:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:t,p45:10,p46:"ContractExtLogID",p47:null,p48:null,p49:localStorage.getItem("UserGroupID"),p50:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ContractExtLogCode"==n&&le(e>0),"ExtendedValue"==n&&me(e>0),K(l)):("ContractExtLogCode"==n&&le(!0),"ExtendedValue"==n&&me(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Te=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a&&O({type:"text",name:t,value:e})}),[k]),be=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Pe(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:De("Yes"),cancelBtnText:De("No"),showCancel:!0},De("Do you want to update this record?")))};function Pe(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ContractExtLogIDPK)?Number(e.ContractExtLogIDPK):0),O({type:"text",name:"ContractExtLogCode",value:e.ContractExtLogCode?e.ContractExtLogCode:""}),O({type:"text",name:"StartDate",value:e.StartDate?Se(e.StartDate):null}),O({type:"text",name:"EndDate",value:e.EndDate?Se(e.EndDate):null}),O({type:"text",name:"ExtendedDate",value:e.ExtendedDate?Se(e.ExtendedDate):null}),O({type:"text",name:"ExtendedValue",value:e.ExtendedValue?e.ExtendedValue:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const Le=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[149]"}," ",De("Add "),Ie("149")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld149L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:De(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld149L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,De("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ve()},id:"fld149L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,De("Reset")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld149L1ECSaveBtnIsAdd",name:De(Y?"Update":"Save"),disabled:!1,onClick:()=>{(t=>{if(!e.parentId||0==e.parentId)return H.alert({open:!0,color:"warning",message:[De("Please select the ")+" "+Ie("ContractID")]}),!1;H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:De("Are you sure?"),onConfirm:()=>Ne(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:De("Yes"),cancelBtnText:De("Cancel"),showCancel:!0},De(Y?"Do you want to Update?":"Do you want to Save?")))})()}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld149L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ve(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractExtLogDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractExtLogDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractExtLogDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":k.ContractExtLogCode,json:Yt,SPName:"ConContractExtLogDetails",FieldName:"ContractExtLogCode",tfLabel:Ie("ContractExtLogCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&be(t),onClick:()=>{ae&&he(1,"","ClearAll"),le(!0)},frmctrlid:"fld149_2914",frmctrlidName:"ContractExtLogCode",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ae&&he(e,t,"ContractExtLogCode"),Te(t,"ContractExtLogCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.ContractExtLogCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ContractExtLogCode",value:""}),le(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.StartDate,"data-testid":k.StartDate,disabled:!1,onChange:e=>{Te(e,"StartDate","date")},onErr:e=>{oe(e)},label:Ie("StartDate"),frmctrlid:"fld149_2915",frmctrlidName:"StartDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.EndDate,"data-testid":k.EndDate,disabled:!1,onChange:e=>{Te(e,"EndDate","date")},onErr:e=>{ie(e)},label:Ie("EndDate"),minDate:k.StartDate,frmctrlid:"fld149_2916",frmctrlidName:"EndDate",fieldorder:"3"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.ExtendedDate,"data-testid":k.ExtendedDate,disabled:!1,onChange:e=>{Te(e,"ExtendedDate","date")},onErr:e=>{de(e)},label:Ie("ExtendedDate"),minDate:k.EndDate,frmctrlid:"fld149_2917",frmctrlidName:"ExtendedDate",fieldorder:"4"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":k.ExtendedValue,json:Yt,SPName:"ConContractExtLogDetails",FieldName:"ExtendedValue",tfLabel:Ie("ExtendedValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&be(t),onClick:()=>{se&&he(1,"","ClearAll"),me(!0)},frmctrlid:"fld149_2918",frmctrlidName:"ExtendedValue",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{se&&he(e,t,"ExtendedValue"),Te(t,"ExtendedValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:k.ExtendedValue,loading:Z,clear:e=>{e&&(O({type:"text",name:"ExtendedValue",value:""}),me(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Yt,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConContractExtLogDetails",FieldName:"ContractID",tfLabel:Ie("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Te(e,"ContractID","select"),onChange:(t,a)=>{((t,a,l,n,o,r)=>{const i=S.v.Api+"FP149S3/",c={data:{p1:null,p2:null,p3:k.StartDate?k.StartDate:null,p4:null,p5:null,p6:k.EndDate?k.EndDate:null,p7:null,p8:null,p9:k.ExtendedDate?k.ExtendedDate:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.parentId?Number(e.parentId):0,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:"0"==k.ContractGroupID?null:k.ContractGroupID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==k.TaxID?null:k.TaxID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==k.CustomerID?null:k.CustomerID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.ContractTypeID?null:k.ContractTypeID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.ContractCategID?null:k.ContractCategID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.PaymentTermsID?null:k.PaymentTermsID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:t,p45:10,p46:l,p47:null,p48:null,p49:localStorage.getItem("UserGroupID"),p50:localStorage.getItem("userid")}};Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);(0,I.Z)(i,c,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;undefined,K(1==t?e>0?l:[]:q.concat(l)),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))})(t,a,"ContractIDPK")},KeyBack:e=>{k.ContractID},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{CreateEasy("156",U,j,H,X)},Tabledialog:()=>(AdvanceSearch("156","ContractID",Xt,ea(),Te,t),!1),loading:Z,clear:e=>{e&&k.ContractID}})))),n().createElement("div",{id:"ConContractExtLogDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractExtLogDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Jt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(Xt),{cstate:B,cdispatch:F}=ea(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ContractExtLogIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP149S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:1,p45:10,p46:B.IsDraft?"DraftContractExtLogID":"ContractExtLogID",p47:null,p48:null,p49:localStorage.getItem("UserGroupID"),p50:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ContractExtLogIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConContractExtLogDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld149L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld149L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld149L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld149L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement($t,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractExtLogDetails",tableID:149,parentID:t.ContractExtLogIDPK,fldid:"fld149L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[149]"}))))))))})),Xt=(0,l.createContext)(),ea=()=>{const e=(0,l.useContext)(Xt);if(void 0===e)throw new Error("useCont must be used within  ConContractExtLogDetailsContext Provider");return e},ta=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractExtLogDetails-Entry").style.width="100%",document.getElementById("ConContractExtLogDetails-MainTable").style.width="100%",document.getElementById("ConContractExtLogDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractExtLogDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractExtLogDetails-Entry").style.width="100%",document.getElementById("ConContractExtLogDetails-MainTable").style.width="100%",document.getElementById("ConContractExtLogDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractExtLogDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractExtLogDetails-Entry").style.width="100%",document.getElementById("ConContractExtLogDetailsEntryTable").style.width="100%",document.getElementById("ConContractExtLogDetails-MainEntry").style.width="100%",document.getElementById("ConContractExtLogDetails-MainEntry").style.display="block",document.getElementById("ConContractExtLogDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractExtLogDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractExtLogDetails").style.width="0%",document.getElementById("overlayimgAttConContractExtLogDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Xt.Provider,{value:{cstate:D,cdispatch:I,ContextApi:ea,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractExtLogDetails").style.width="50%",document.getElementById("divConContractExtLogDetails-Entry").style.width="100%",document.getElementById("ConContractExtLogDetails-MainTable").style.width="100%",document.getElementById("ConContractExtLogDetails-MainEntry").style.width="100%",document.getElementById("ConContractExtLogDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractExtLogDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractExtLogDetails").style.display="block",document.getElementById("overlayimgAttConContractExtLogDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractExtLogDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractExtLogDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractExtLogDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractExtLogDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Jt,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:149,fileId:"LogoImgConContractExtLogDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractExtLogDetails",frmctrlid:"PvwIm_149_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractExtLogDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement($t,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:149,fileId:"LogoImgConContractExtLogDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractExtLogDetails",frmctrlid:"PvwIm_149_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractExtLogDetails-MainTable"},0!==y?n().createElement(jt,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:149,fileId:"AttImgConContractExtLogDetails",imgid:"overlayimgAttConContractExtLogDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractExtLogDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_149_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractExtLogDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:149,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var aa=a(25108);const la=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:ma(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP144S3/",g={data:{p1:"ContractBillingIDPK"==a?null:await we(),p2:"ContractBillingCode"==c&&l.length>0?"%"+l+"%":null,p3:"BillingCycleNo"==c&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:"Percentage"==c&&l.length>0?"%"+l+"%":null,p8:"Amount"==c&&l.length>0?"%"+l+"%":null,p9:"Comments"==c&&l.length>0?"%"+l+"%":null,p10:"BActive"==c&&l.length>0?"%"+l+"%":null,p11:"IsInvoiced"==c&&l.length>0?"%"+l+"%":null,p12:"IsExtended"==c&&l.length>0?"%"+l+"%":null,p13:null,p14:null,p15:e.parentId?e.parentId:"0",p16:e.Dialogview?"1":null,p17:null,p18:"p18"==c&&l.length>0?l:null,p19:null,p20:null,p21:null,p22:null,p23:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p24:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p25:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p26:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p27:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p28:"TaxName"==c&&l.length>0?"%"+l+"%":null,p29:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p30:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p31:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p32:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p33:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p34:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p35:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p36:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p37:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p38:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p39:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p40:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p41:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p42:"ContractName"==c&&l.length>0?"%"+l+"%":null,p43:n||1,p44:10,p45:t,p46:null,p47:null,p48:localStorage.getItem("UserGroupID"),p49:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ContractBillingIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ContractBillingIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",BillingCycleDate:l.BillingCycleDate?l.BillingCycleDate.From:"",BillingCycleDateType:l.BillingCycleDate?l.BillingCycleDate.Type:"",BillingCycleDateBetween:l.BillingCycleDate?l.BillingCycleDate.To:"",ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ContractBillingIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ContractBillingIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ContractBillingIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,BillingCycleDate:c.BillingCycleDate?c.BillingCycleDate.From:"",BillingCycleDateType:c.BillingCycleDate?c.BillingCycleDate.Type:"",BillingCycleDateBetween:c.BillingCycleDate?c.BillingCycleDate.To:"",ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld144L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld144L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld144L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,aa.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld144L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld144L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld144L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld144L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld144L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld144L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld144L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ContractBillingIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterContractBillingID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterContractBillingID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterContractBillingID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),na=la;window.clickFilter="";const oa=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("144"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ConContractBillingDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:sa),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:ma();let Pe={ContractBillingIDPK:"",ContractBillingCode:"",BillingCycleNo:"",BillingCycleDate:"",BillingCycleDateType:"",BillingCycleDateBetween:"",Percentage:"",Amount:"",Comments:"",BActive:"",IsInvoiced:"",IsExtended:"",IsDraft:"",Remarks:"",ContractID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({BillingCycleNo:"",BillingCycleDate:"",Percentage:"",Amount:"",ContractBillingCode:"",Comments:"",BActive:"",IsInvoiced:"",IsExtended:"",ContractName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[at,lt]=(0,l.useState)(!1),[nt,ot]=(0,l.useState)(!1),[rt,it]=(0,l.useState)(!1),[ct,dt]=(0,l.useState)(""),[st,mt]=Se()("144"),[ut,pt]=(0,l.useState)({}),Ct=[{columns:Je,data:w}];let yt=(0,N.Z)();const gt=e=>yt[e]?yt[e]:e,Dt=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{ht(st)}),[st]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?vt(L,Pe,"ContractBillingID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?vt(L,Q,"ContractBillingID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{It(e)},tableRefresh:()=>{vt(L,Pe,"ContractBillingID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{it(!0===e)}})));const It=e=>{""==e?vt(L,Pe,Fe?"DraftContractBillingID":"ContractBillingID",Fe&&"DraftPage"):Nt(e,{current:1,pageSize:100}),j(e)};function St(t){he.loading(!0);let a=S.v.Api+"FP144S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Et(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),it(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Nt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ft=()=>{he.EditClose(!0),z?(document.getElementById("ConContractBillingDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractBillingDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractBillingDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ConContractBillingDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractBillingDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractBillingDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractBillingDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractBillingDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractBillingDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractBillingDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractBillingDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractBillingDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ConContractBillingDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractBillingDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},vt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP144S3/",c={data:{p1:o||(a&&a.ContractBillingIDPK?a.ContractBillingIDPK:null),p2:a&&a.ContractBillingCode?a.ContractBillingCode:null,p3:a&&a.BillingCycleNo?a.BillingCycleNo:null,p4:a&&a.BillingCycleDate?a.BillingCycleDate:null,p5:a&&a.BillingCycleDateType?a.BillingCycleDateType:null,p6:a&&a.BillingCycleDateBetween?a.BillingCycleDateBetween:null,p7:a&&a.Percentage?a.Percentage:null,p8:a&&a.Amount?a.Amount:null,p9:a&&a.Comments?a.Comments:null,p10:a&&a.BActive?a.BActive:null,p11:null,p12:null,p13:"DraftContractBillingID"==l?"1":"0",p14:null,p15:e.parentId?Number(e.parentId):0,p16:a&&a.IsActive,p17:null,p18:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p19:a&&a.CreatedTtm?a.CreatedTtm:null,p20:a&&a.CreatedTtmType?a.CreatedTtmType:null,p21:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p22:null,p23:a&&a.ContractGroupID?a.ContractGroupID:null,p24:a&&a.ContractGroupCode?a.ContractGroupCode:null,p25:a&&a.ContractGroupName?a.ContractGroupName:null,p26:a&&a.TaxID?a.TaxID:null,p27:a&&a.TaxCode?a.TaxCode:null,p28:a&&a.TaxName?a.TaxName:null,p29:a&&a.TaxValue?a.TaxValue:null,p30:a&&a.CustomerID?a.CustomerID:null,p31:a&&a.CustomerCode?a.CustomerCode:null,p32:a&&a.CustomerName?a.CustomerName:null,p33:a&&a.ContractTypeID?a.ContractTypeID:null,p34:a&&a.ContractTypCode?a.ContractTypCode:null,p35:a&&a.ContractTypeName?a.ContractTypeName:null,p36:a&&a.ContractCategID?a.ContractCategID:null,p37:a&&a.ContractCategCode?a.ContractCategCode:null,p38:a&&a.ContractCategName?a.ContractCategName:null,p39:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p40:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p41:a&&a.ContractCode?a.ContractCode:null,p42:a&&a.ContractName?a.ContractName:null,p43:o?1:t.current,p44:t.pageSize,p45:l,p46:null,p47:null,p48:localStorage.getItem("UserGroupID"),p49:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divConContractBillingDetails-Entry").style.height="auto",document.getElementById("divConContractBillingDetails-Entry").style.display="block")}else he.loading(!1),"DraftContractBillingID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function Nt(t,a){he.loading(!0);const l=S.v.Api+"FP144S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function ht(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Tt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_144_L1_",id:"ConContractBillingDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};pt(t),x({current:1,pageSize:10}),vt({current:1,pageSize:10},t,Fe?"DraftContractBillingID":"ContractBillingID",Fe&&"DraftPage")},bodydata:K,ondrag:Et,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&vt(L,null,t?"DraftContractBillingID":"ContractBillingID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Dt,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!rt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld144L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld144L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:gt("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld144L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld144L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractBillingDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld144L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[144]"},`${Dt("144")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld144L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld144L1TCInputSearch",className:"search_input",type:"text",placeholder:gt("Search"),value:U,onChange:e=>{It(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld144L1TCInputCloseIcon",onClick:()=>{It("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld144L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractBillingDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld144L1TCFilterDataIsDraft",id:"ConContractBillingDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ft()}},n().createElement(M.ZP,{title:gt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld144L1TCExportPrint",formctrlidexport:"fld144L1TCExportTable",formctrlidrefresh:"fld144L1TCExportRefresh",title:Dt("144"),data:A,exportData:Ct,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP144S3/",c={data:{p1:t&&t.ContractBillingIDPK?t.ContractBillingIDPK:null,p2:t&&t.ContractBillingCode?t.ContractBillingCode:null,p3:t&&t.BillingCycleNo?t.BillingCycleNo:null,p4:t&&t.BillingCycleDate?t.BillingCycleDate:null,p5:t&&t.BillingCycleDateType?t.BillingCycleDateType:null,p6:t&&t.BillingCycleDateBetween?t.BillingCycleDateBetween:null,p7:t&&t.Percentage?t.Percentage:null,p8:t&&t.Amount?t.Amount:null,p9:t&&t.Comments?t.Comments:null,p10:t&&t.BActive?t.BActive:null,p11:null,p12:null,p13:Fe?"1":"0",p14:null,p15:e.parentId?Number(e.parentId):0,p16:t&&t.IsActive,p17:null,p18:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p19:t&&t.CreatedTtm?t.CreatedTtm:null,p20:t&&t.CreatedTtmType?t.CreatedTtmType:null,p21:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p22:null,p23:t&&t.ContractGroupID?t.ContractGroupID:null,p24:t&&t.ContractGroupCode?t.ContractGroupCode:null,p25:t&&t.ContractGroupName?t.ContractGroupName:null,p26:t&&t.TaxID?t.TaxID:null,p27:t&&t.TaxCode?t.TaxCode:null,p28:t&&t.TaxName?t.TaxName:null,p29:t&&t.TaxValue?t.TaxValue:null,p30:t&&t.CustomerID?t.CustomerID:null,p31:t&&t.CustomerCode?t.CustomerCode:null,p32:t&&t.CustomerName?t.CustomerName:null,p33:t&&t.ContractTypeID?t.ContractTypeID:null,p34:t&&t.ContractTypCode?t.ContractTypCode:null,p35:t&&t.ContractTypeName?t.ContractTypeName:null,p36:t&&t.ContractCategID?t.ContractCategID:null,p37:t&&t.ContractCategCode?t.ContractCategCode:null,p38:t&&t.ContractCategName?t.ContractCategName:null,p39:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p40:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p41:t&&t.ContractCode?t.ContractCode:null,p42:t&&t.ContractName?t.ContractName:null,p43:L.current,p44:h,p45:Fe?"DraftContractBillingID":"ContractBillingID",p46:null,p47:null,p48:localStorage.getItem("UserGroupID"),p49:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Dt(144)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?vt({current:1,pageSize:100},Pe,"DraftContractBillingID"):vt({current:1,pageSize:100},Pe,"ContractBillingID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ot(!nt)},n().createElement("span",null,nt?n().createElement(M.ZP,{disableFocusListener:!0,title:gt("Less"),placement:"top"},n().createElement("span",{id:"fld144L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:gt("More"),placement:"top"},n().createElement("span",{id:"fld144L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),nt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld144L1TCFilterDataIsAdd",id:"ConContractBillingDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ConContractBillingDetailsFilterDiv").style.width="0%",document.getElementById("ConContractBillingDetailsTabDiv").style.width="100%",document.getElementById("ConContractBillingDetailsFilterDiv").style.display="none",document.getElementById("ConContractBillingDetailscoldiv").style.width="fit-content",document.getElementById("ConContractBillingDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ConContractBillingDetailsFilterDiv").style.width="25%",document.getElementById("ConContractBillingDetailsTabDiv").style.width="75%",document.getElementById("ConContractBillingDetailsFilterDiv").style.display="block",document.getElementById("ConContractBillingDetailsfildiv").style.width="fit-content",document.getElementById("ConContractBillingDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractBillingDetailscoldiv").style.width="fit-content",document.getElementById("ConContractBillingDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:gt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ConContractBillingDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),St({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:gt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld144L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Table Scroll Data")))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld144L1TCListView",onClick:()=>{Ge(!0),lt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,gt("List"))),n().createElement("div",{className:Ze||at?"buttonGrid":"buttonList",id:"fld144L1TCCardView",onClick:()=>{Ge(!1),lt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,gt("Card"))),n().createElement("div",{className:at?"buttonList":"buttonGrid",id:"fld144L1TCTileView",onClick:()=>{lt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,gt("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld144L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),St({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),St({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld144L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),St({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld144L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftContractBillingID":"ContractBillingID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)vt({current:t,pageSize:L.pageSize},Le,"DraftContractBillingID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?Nt(U,{current:t,pageSize:L.pageSize}):vt({current:t,pageSize:L.pageSize},Le,"ContractBillingID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld144L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?vt({current:1,pageSize:e.target.value},Le,"DraftContractBillingID","DraftPage"):U.length>0?Nt(U,{current:1,pageSize:e.target.value}):vt({current:1,pageSize:e.target.value},Le,"ContractBillingID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ConContractBillingDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractBillingDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(na,{parentId:e.parentId,searchData:e=>{H(e||ut),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ft(),userGrid:st,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{vt({current:1,pageSize:100},Pe,"ContractBillingID")},frmctrlid:"fld144L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&ht(t),mt(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ConContractBillingDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Tt,null):n().createElement(se.Z,{frmctrlid:"fld144L1TCExpandedCardDual",data:K,id:"ConContractBillingDetails",title:"BillingCycleNo",cardTile:!!at,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),ra={EnterKeyValues:{ConContractBillingDetails:["BillingCycleNo","BillingCycleDate","Percentage","Amount","ContractBillingCode","Comments","BActive","IsInvoiced","IsExtended","ContractName"]},Label:{ConContractBillingDetails:{BillingCycleNo:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],BillingCycleDate:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],Percentage:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],Amount:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractBillingCode:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],Comments:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],BActive:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],IsInvoiced:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],IsExtended:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractID:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"]}},LabelHeader:{ConContractBillingDetails:{BillingCycleNo:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],BillingCycleDate:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],Percentage:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],Amount:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractBillingCode:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],Comments:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],BActive:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],IsInvoiced:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],IsExtended:["ContractBillingCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode"],ContractID:["ContractBillingCode","Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode"]}},Property:{ConContractBillingDetails:{BillingCycleNo:{id:"fld144_2843",labelID:"BillingCycleNo",maxLength:"25",labelname:"Billing No",frmctrlid:"fld144_2843",frmctrlidname:"BillingCycleNo",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BillingCycleDate:{id:"fld144_2844",labelID:"BillingCycleDate",maxLength:"25",labelname:"Billing Date",frmctrlid:"fld144_2844",frmctrlidname:"BillingCycleDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Percentage:{id:"fld144_2845",labelID:"Percentage",maxLength:"3",labelname:"Percentage",frmctrlid:"fld144_2845",frmctrlidname:"Percentage",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Amount:{id:"fld144_2846",labelID:"Amount",maxLength:"10",labelname:"Amount",frmctrlid:"fld144_2846",frmctrlidname:"Amount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractBillingCode:{id:"fld144_2842",labelID:"ContractBillingCode",maxLength:"20",labelname:"ContractBillingCode",frmctrlid:"fld144_2842",frmctrlidname:"ContractBillingCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Comments:{id:"fld144_2847",labelID:"Comments",maxLength:"200",labelname:"Comments",frmctrlid:"fld144_2847",frmctrlidname:"Comments",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BActive:{id:"fld144_2848",labelID:"BActive",maxLength:"",labelname:"BActive",frmctrlid:"fld144_2848",frmctrlidname:"BActive",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsInvoiced:{id:"fld144_2849",labelID:"IsInvoiced",maxLength:"",labelname:"IsInvoiced",frmctrlid:"fld144_2849",frmctrlidname:"IsInvoiced",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsExtended:{id:"fld144_2850",labelID:"IsExtended",maxLength:"",labelname:"IsExtended",frmctrlid:"fld144_2850",frmctrlidname:"IsExtended",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld144_2853",clearID:"ConContractBillingDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractName",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{ConContractBillingDetails:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},ia={ContractBillingIDPK:"",ContractBillingCode:"",BillingCycleNo:"",BillingCycleDate:"",BillingCycleDateType:"",BillingCycleDateBetween:"",Percentage:"",Amount:"",Comments:"",BActive:"",IsInvoiced:!1,IsExtended:!1,IsDraft:!1,Remarks:"",ContractID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",Type:"ContractBillingID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},ca=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,ia),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:sa),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:ma(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("144"),[ae,le]=(0,l.useState)(""),[ne,oe]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!0),[ce,de]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!1);let ue=(0,N.Z)();const[pe,Ce]=(0,l.useState)({}),ye=e=>ue[e]?ue[e]:e,ge=t=>U.language?.[t]?U.language[t]:e.createEasy?pe?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ee()}),[]),(0,l.useEffect)((()=>{Ee()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(Se(U.editData[0],""),D(!0)):U.Add&&(Ee(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ce(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ee()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Te(t),D(e)):(Ee(),D(e))},AddOpen:e=>{Ee(),D(!0)}})));const De=e=>e?e.split("-").reverse().join("-"):null,Ie=e=>{if(e){let t=De(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},Se=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultContractBillingID"==a?J(t.ContractBillingIDPK):(W(e.primid?Number(e.primid):t.ContractBillingIDPK?t.ContractBillingIDPK:0),j({type:"PrimaryId",payload:t.ContractBillingIDPK})),O({type:"text",name:"BillingCycleNo",value:t.BillingCycleNo?t.BillingCycleNo:""}),O({type:"text",name:"BillingCycleDate",value:t.BillingCycleDate?De(t.BillingCycleDate):null}),O({type:"number",name:"Percentage",number:Number(t.Percentage)}),O({type:"number",name:"Amount",number:Number(t.Amount)}),O({type:"text",name:"ContractBillingCode",value:t.ContractBillingCode?t.ContractBillingCode:""}),O({type:"text",name:"Comments",value:t.Comments?t.Comments:""}),O({type:"boolean",name:"BActive",boolean:!!t.BActive&&t.BActive}),O({type:"boolean",name:"IsInvoiced",boolean:!!t.IsInvoiced&&t.IsInvoiced}),O({type:"boolean",name:"IsExtended",boolean:!!t.IsExtended&&t.IsExtended}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Ee=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"BillingCycleNo",value:""}),O({type:"text",name:"BillingCycleDate",value:""}),O({type:"number",name:"Percentage",number:0}),O({type:"number",name:"Amount",number:0}),O({type:"text",name:"ContractBillingCode",value:""}),O({type:"text",name:"Comments",value:""}),O({type:"boolean",name:"BActive",boolean:!1}),O({type:"boolean",name:"IsInvoiced",boolean:!1}),O({type:"boolean",name:"IsExtended",boolean:!1}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractBillingDetailsContractNameClear")&&document.getElementById("ConContractBillingDetailsContractNameClear").click(),y(!0),P(""),oe(!0),ie(!0),de(!0)},fe=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP144S2/",l={data:[{p1:"SetDefaultContractBillingID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:Pe(k.ContractBillingCode),p3:Pe(k.BillingCycleNo),p4:k.BillingCycleDate?Ie(k.BillingCycleDate):null,p5:k.Percentage?Number(k.Percentage):0,p6:k.Amount?Number(k.Amount):0,p7:Pe(k.Comments),p8:k.BActive,p9:k.IsInvoiced,p10:k.IsExtended,p11:!1,p12:"SetDefaultContractBillingID"==t?"SetDefault":null,p13:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p14:s,p15:"SetDefaultContractBillingID"==t,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{oe(!0),ie(!0),de(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP144S1/",l={data:[{p1:Y,p2:Pe(k.ContractBillingCode),p3:Pe(k.BillingCycleNo),p4:k.BillingCycleDate?Ie(k.BillingCycleDate):null,p5:k.Percentage?Number(k.Percentage):0,p6:k.Amount?Number(k.Amount):0,p7:Pe(k.Comments),p8:k.BActive,p9:k.IsInvoiced,p10:k.IsExtended,p11:!1,p12:null,p13:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p14:s,p15:!1,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttConContractBillingDetails"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Ee(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConContractBillingDetails")&&(document.getElementById("overlayimgAttConContractBillingDetails").style.width="0%",document.getElementById("overlayimgAttConContractBillingDetails").style.display="none",document.getElementById("divConContractBillingDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractBillingDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))},ve=(t,l,n)=>{const o=S.v.Api+"FP144S3/",r={data:{p1:null,p2:"ContractBillingCode"==n&&l?"%"+l+"%":null,p3:"BillingCycleNo"==n&&l?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:"Percentage"==n&&l?"%"+l+"%":null,p8:"Amount"==n&&l?"%"+l+"%":null,p9:"Comments"==n&&l?"%"+l+"%":null,p10:"BActive"==n&&l?"%"+l+"%":null,p11:null,p12:null,p13:null,p14:null,p15:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:t,p44:10,p45:"ContractBillingID",p46:null,p47:null,p48:localStorage.getItem("UserGroupID"),p49:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ContractBillingCode"==n&&oe(e>0),"Comments"==n&&ie(e>0),"BActive"==n&&de(e>0),K(l)):("ContractBillingCode"==n&&oe(!0),"Comments"==n&&ie(!0),"BActive"==n&&de(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ne=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a&&O({type:"text",name:t,value:e})}),[k]),he=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Te(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ye("Yes"),cancelBtnText:ye("No"),showCancel:!0},ye("Do you want to update this record?")))};function Te(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ContractBillingIDPK)?Number(e.ContractBillingIDPK):0),O({type:"text",name:"BillingCycleNo",value:e.BillingCycleNo?e.BillingCycleNo:""}),O({type:"text",name:"BillingCycleDate",value:e.BillingCycleDate?De(e.BillingCycleDate):null}),O({type:"text",name:"Percentage",value:e.Percentage?e.Percentage:""}),O({type:"text",name:"Amount",value:e.Amount?e.Amount:""}),O({type:"text",name:"ContractBillingCode",value:e.ContractBillingCode?e.ContractBillingCode:""}),O({type:"text",name:"Comments",value:e.Comments?e.Comments:""}),O({type:"text",name:"BActive",value:e.BActive?e.BActive:""}),O({type:"boolean",name:"IsInvoiced",boolean:!!e.IsInvoiced&&e.IsInvoiced}),O({type:"boolean",name:"IsExtended",boolean:!!e.IsExtended&&e.IsExtended}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const Pe=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[144]"}," ",ye("Add "),ge("144")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld144L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:ye(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld144L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ye("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ee()},id:"fld144L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ye("Reset")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld144L1ECSaveBtnIsAdd",name:ye(Y?"Update":"Save"),disabled:!1,onClick:()=>{Pe(k.BillingCycleNo)?e.parentId&&0!=e.parentId?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ye("Are you sure?"),onConfirm:()=>fe(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ye("Yes"),cancelBtnText:ye("Cancel"),showCancel:!0},ye(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[ye("Please select the ")+" "+ge("ContractID")]}):H.alert({open:!0,color:"warning",message:[ye("Please enter the")+""+ge("BillingCycleNo")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld144L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ee(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractBillingDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractBillingDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractBillingDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ra,"data-testid":k.BillingCycleNo,SPName:"ConContractBillingDetails",FieldName:"BillingCycleNo",tfLabel:ge("BillingCycleNo"),frmctrlid:"fld144_2843",fieldorder:"1",disabled:!!Y,onChange:e=>{Ne(e,"BillingCycleNo","text")},clear:e=>{e&&O({type:"text",name:"BillingCycleNo",value:""})},value:k.BillingCycleNo})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.BillingCycleDate,"data-testid":k.BillingCycleDate,disabled:!1,onChange:e=>{Ne(e,"BillingCycleDate","date")},disabled:!!Y,onErr:e=>{le(e)},label:ge("BillingCycleDate"),frmctrlid:"fld144_2844",frmctrlidName:"BillingCycleDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ra,"data-testid":k.Percentage,SPName:"ConContractBillingDetails",FieldName:"Percentage",tfLabel:ge("Percentage"),frmctrlid:"fld144_2845",fieldorder:"3",disabled:!!Y,onChange:e=>{Ne(e,"Percentage","text")},clear:e=>{e&&O({type:"text",name:"Percentage",value:""})},value:k.Percentage})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:ra,"data-testid":k.Amount,SPName:"ConContractBillingDetails",FieldName:"Amount",tfLabel:ge("Amount"),frmctrlid:"fld144_2846",fieldorder:"4",disabled:!!Y,onChange:e=>{Ne(e,"Amount","text")},clear:e=>{e&&O({type:"text",name:"Amount",value:""})},Iscurr:!0,value:k.Amount})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ContractBillingCode,json:ra,SPName:"ConContractBillingDetails",FieldName:"ContractBillingCode",tfLabel:ge("ContractBillingCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&he(t),onClick:()=>{ne&&ve(1,"","ClearAll"),oe(!0)},frmctrlid:"fld144_2842",frmctrlidName:"ContractBillingCode",fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ne&&ve(e,t,"ContractBillingCode"),Ne(t,"ContractBillingCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:k.ContractBillingCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ContractBillingCode",value:""}),oe(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.Comments,json:ra,SPName:"ConContractBillingDetails",FieldName:"Comments",tfLabel:ge("Comments"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&he(t),onClick:()=>{re&&ve(1,"","ClearAll"),ie(!0)},frmctrlid:"fld144_2847",frmctrlidName:"Comments",fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{re&&ve(e,t,"Comments"),Ne(t,"Comments","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:k.Comments,loading:Z,clear:e=>{e&&(O({type:"text",name:"Comments",value:""}),ie(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.BActive,json:ra,SPName:"ConContractBillingDetails",FieldName:"BActive",tfLabel:ge("BActive"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&he(t),onClick:()=>{ce&&ve(1,"","ClearAll"),de(!0)},frmctrlid:"fld144_2848",frmctrlidName:"BActive",fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ce&&ve(e,t,"BActive"),Ne(t,"BActive","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.BActive,loading:Z,clear:e=>{e&&(O({type:"text",name:"BActive",value:""}),de(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(m.Z,{style:{color:"#337ab7"},"data-testid":k.IsInvoiced,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==k.IsInvoiced,onChange:e=>{Ne(e.target.checked,"IsInvoiced","boolean")},frmctrlid:"fld144_2849",frmctrlidname:"IsInvoiced",fieldorder:"4",tfLabel:ge("IsInvoiced")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsInvoiced?"#21446F":"#999"}},ge("IsInvoiced"))}))),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(m.Z,{style:{color:"#337ab7"},"data-testid":k.IsExtended,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==k.IsExtended,onChange:e=>{Ne(e.target.checked,"IsExtended","boolean")},frmctrlid:"fld144_2850",frmctrlidname:"IsExtended",fieldorder:"4",tfLabel:ge("IsExtended")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsExtended?"#21446F":"#999"}},ge("IsExtended"))}))),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:ra,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConContractBillingDetails",FieldName:"ContractID",tfLabel:ge("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ne(e,"ContractID","select"),onChange:(t,a)=>{((t,a,l,n,o,r)=>{const i=S.v.Api+"FP144S3/",c={data:{p1:null,p2:null,p3:null,p4:k.BillingCycleDate?k.BillingCycleDate:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:1==k.IsInvoiced,p12:1==k.IsExtended,p13:null,p14:null,p15:e.parentId?Number(e.parentId):0,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:"0"==k.ContractGroupID?null:k.ContractGroupID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==k.TaxID?null:k.TaxID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==k.CustomerID?null:k.CustomerID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.ContractTypeID?null:k.ContractTypeID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.ContractCategID?null:k.ContractCategID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:t,p44:10,p45:l,p46:null,p47:null,p48:localStorage.getItem("UserGroupID"),p49:localStorage.getItem("userid")}};Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);(0,I.Z)(i,c,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;undefined,K(1==t?e>0?l:[]:q.concat(l)),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))})(t,a,"ContractIDPK")},KeyBack:e=>{k.ContractID},fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{CreateEasy("156",U,j,H,X)},Tabledialog:()=>(AdvanceSearch("156","ContractID",sa,ma(),Ne,t),!1),loading:Z,clear:e=>{e&&k.ContractID}})))),n().createElement("div",{id:"ConContractBillingDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractBillingDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),da=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(sa),{cstate:B,cdispatch:F}=ma(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ContractBillingIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP144S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:1,p44:10,p45:B.IsDraft?"DraftContractBillingID":"ContractBillingID",p46:null,p47:null,p48:localStorage.getItem("UserGroupID"),p49:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ContractBillingIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConContractBillingDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld144L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld144L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld144L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld144L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(ca,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractBillingDetails",tableID:144,parentID:t.ContractBillingIDPK,fldid:"fld144L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[144]"}))))))))})),sa=(0,l.createContext)(),ma=()=>{const e=(0,l.useContext)(sa);if(void 0===e)throw new Error("useCont must be used within  ConContractBillingDetailsContext Provider");return e},ua=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractBillingDetails-Entry").style.width="100%",document.getElementById("ConContractBillingDetails-MainTable").style.width="100%",document.getElementById("ConContractBillingDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractBillingDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractBillingDetails-Entry").style.width="100%",document.getElementById("ConContractBillingDetails-MainTable").style.width="100%",document.getElementById("ConContractBillingDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractBillingDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractBillingDetails-Entry").style.width="100%",document.getElementById("ConContractBillingDetailsEntryTable").style.width="100%",document.getElementById("ConContractBillingDetails-MainEntry").style.width="100%",document.getElementById("ConContractBillingDetails-MainEntry").style.display="block",document.getElementById("ConContractBillingDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractBillingDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractBillingDetails").style.width="0%",document.getElementById("overlayimgAttConContractBillingDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(sa.Provider,{value:{cstate:D,cdispatch:I,ContextApi:ma,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractBillingDetails").style.width="50%",document.getElementById("divConContractBillingDetails-Entry").style.width="100%",document.getElementById("ConContractBillingDetails-MainTable").style.width="100%",document.getElementById("ConContractBillingDetails-MainEntry").style.width="100%",document.getElementById("ConContractBillingDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractBillingDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractBillingDetails").style.display="block",document.getElementById("overlayimgAttConContractBillingDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractBillingDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractBillingDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractBillingDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractBillingDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(da,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:144,fileId:"LogoImgConContractBillingDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractBillingDetails",frmctrlid:"PvwIm_144_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractBillingDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(ca,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:144,fileId:"LogoImgConContractBillingDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractBillingDetails",frmctrlid:"PvwIm_144_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractBillingDetails-MainTable"},0!==y?n().createElement(oa,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:144,fileId:"AttImgConContractBillingDetails",imgid:"overlayimgAttConContractBillingDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractBillingDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_144_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractBillingDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:144,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var pa=a(25108);const Ca=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:va(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP154S3/",g={data:{p1:"ConManPowerIDPK"==a?null:await we(),p2:"ConManPowerCode"==c&&l.length>0?"%"+l+"%":null,p3:"NoofEmp"==c&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:"DesignationName"!=c&&d.DesignationName?d.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p13:"EmployeeGroupName"!=c&&d.EmployeeGroupName?d.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p14:e.parentId?e.parentId:"0",p15:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p16:e.Dialogview?"1":null,p17:null,p18:"p18"==c&&l.length>0?l:null,p19:null,p20:null,p21:null,p22:null,p23:"LevelName"!=c&&d.LevelName?d.LevelName.map((e=>e.LevelIDPK)).toString():null,p24:"LevelCode"==c&&l.length>0?"%"+l+"%":null,p25:"LevelName"==c&&l.length>0?"%"+l+"%":null,p26:"DesignationCode"==c&&l.length>0?"%"+l+"%":null,p27:"DesignationName"==c&&l.length>0?"%"+l+"%":null,p28:"EmployeeGroupCode"==c&&l.length>0?"%"+l+"%":null,p29:"EmployeeGroupName"==c&&l.length>0?"%"+l+"%":null,p30:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p31:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p32:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p33:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p34:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p35:"TaxName"==c&&l.length>0?"%"+l+"%":null,p36:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p37:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p38:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p39:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p40:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p41:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p42:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p43:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p44:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p45:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p46:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p47:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p48:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p49:"ContractName"==c&&l.length>0?"%"+l+"%":null,p50:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p51:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p52:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p53:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p54:"CityCode"==c&&l.length>0?"%"+l+"%":null,p55:"CityName"==c&&l.length>0?"%"+l+"%":null,p56:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p57:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p58:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p59:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p60:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p61:n||1,p62:10,p63:t,p64:null,p65:null,p66:localStorage.getItem("UserGroupID"),p67:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ConManPowerIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ConManPowerIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",EmpStartDate:l.EmpStartDate?l.EmpStartDate.From:"",EmpStartDateType:l.EmpStartDate?l.EmpStartDate.Type:"",EmpStartDateBetween:l.EmpStartDate?l.EmpStartDate.To:"",EmpEndDate:l.EmpEndDate?l.EmpEndDate.From:"",EmpEndDateType:l.EmpEndDate?l.EmpEndDate.Type:"",EmpEndDateBetween:l.EmpEndDate?l.EmpEndDate.To:"",LocalityID:Le("LocalityID"),EmployeeGroupID:Le("EmployeeGroupID"),DesignationID:Le("DesignationID"),ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ConManPowerIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ConManPowerIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ConManPowerIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,EmpStartDate:c.EmpStartDate?c.EmpStartDate.From:"",EmpStartDateType:c.EmpStartDate?c.EmpStartDate.Type:"",EmpStartDateBetween:c.EmpStartDate?c.EmpStartDate.To:"",EmpEndDate:c.EmpEndDate?c.EmpEndDate.From:"",EmpEndDateType:c.EmpEndDate?c.EmpEndDate.Type:"",EmpEndDateBetween:c.EmpEndDate?c.EmpEndDate.To:"",LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),EmployeeGroupID:C.EmployeeGroupName?.map((e=>e.EmployeeGroupIDPK)).toString(),DesignationID:C.DesignationName?.map((e=>e.DesignationIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld154L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld154L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld154L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,pa.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld154L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld154L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld154L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld154L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld154L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld154L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld154L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ConManPowerIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterConManPowerID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterConManPowerID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterConManPowerID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),ya=Ca;window.clickFilter="";const ga=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("154"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ConContractManPowerDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:fa),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:va();let Pe={ConManPowerIDPK:"",ConManPowerCode:"",NoofEmp:"",EmpStartDate:"",EmpStartDateType:"",EmpStartDateBetween:"",EmpEndDate:"",EmpEndDateType:"",EmpEndDateBetween:"",IsDraft:"",Remarks:"",DesignationID:"",EmployeeGroupID:"",ContractID:"",LocalityID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LevelID:"",LevelCode:"",LevelName:"",DesignationCode:"",DesignationName:"",EmployeeGroupCode:"",EmployeeGroupName:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({LocalityName:"",EmployeeGroupName:"",DesignationName:"",NoofEmp:"",EmpStartDate:"",EmpEndDate:"",ConManPowerCode:"",ContractName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("154"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"ConManPowerID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"ConManPowerID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"ConManPowerID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftConManPowerID":"ConManPowerID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP154S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("ConContractManPowerDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractManPowerDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractManPowerDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ConContractManPowerDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractManPowerDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractManPowerDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractManPowerDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractManPowerDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractManPowerDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractManPowerDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractManPowerDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractManPowerDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ConContractManPowerDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractManPowerDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP154S3/",c={data:{p1:o||(a&&a.ConManPowerIDPK?a.ConManPowerIDPK:null),p2:a&&a.ConManPowerCode?a.ConManPowerCode:null,p3:a&&a.NoofEmp?a.NoofEmp:null,p4:a&&a.EmpStartDate?a.EmpStartDate:null,p5:a&&a.EmpStartDateType?a.EmpStartDateType:null,p6:a&&a.EmpStartDateBetween?a.EmpStartDateBetween:null,p7:a&&a.EmpEndDate?a.EmpEndDate:null,p8:a&&a.EmpEndDateType?a.EmpEndDateType:null,p9:a&&a.EmpEndDateBetween?a.EmpEndDateBetween:null,p10:"DraftConManPowerID"==l?"1":"0",p11:null,p12:a&&a.DesignationID?a.DesignationID:null,p13:a&&a.EmployeeGroupID?a.EmployeeGroupID:null,p14:e.parentId?Number(e.parentId):0,p15:a&&a.LocalityID?a.LocalityID:null,p16:a&&a.IsActive,p17:null,p18:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p19:a&&a.CreatedTtm?a.CreatedTtm:null,p20:a&&a.CreatedTtmType?a.CreatedTtmType:null,p21:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p22:null,p23:a&&a.LevelID?a.LevelID:null,p24:a&&a.LevelCode?a.LevelCode:null,p25:a&&a.LevelName?a.LevelName:null,p26:a&&a.DesignationCode?a.DesignationCode:null,p27:a&&a.DesignationName?a.DesignationName:null,p28:a&&a.EmployeeGroupCode?a.EmployeeGroupCode:null,p29:a&&a.EmployeeGroupName?a.EmployeeGroupName:null,p30:a&&a.ContractGroupID?a.ContractGroupID:null,p31:a&&a.ContractGroupCode?a.ContractGroupCode:null,p32:a&&a.ContractGroupName?a.ContractGroupName:null,p33:a&&a.TaxID?a.TaxID:null,p34:a&&a.TaxCode?a.TaxCode:null,p35:a&&a.TaxName?a.TaxName:null,p36:a&&a.TaxValue?a.TaxValue:null,p37:a&&a.CustomerID?a.CustomerID:null,p38:a&&a.CustomerCode?a.CustomerCode:null,p39:a&&a.CustomerName?a.CustomerName:null,p40:a&&a.ContractTypeID?a.ContractTypeID:null,p41:a&&a.ContractTypCode?a.ContractTypCode:null,p42:a&&a.ContractTypeName?a.ContractTypeName:null,p43:a&&a.ContractCategID?a.ContractCategID:null,p44:a&&a.ContractCategCode?a.ContractCategCode:null,p45:a&&a.ContractCategName?a.ContractCategName:null,p46:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p47:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p48:a&&a.ContractCode?a.ContractCode:null,p49:a&&a.ContractName?a.ContractName:null,p50:a&&a.LocalityGroupID?a.LocalityGroupID:null,p51:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p52:a&&a.LocalityGroupName?a.LocalityGroupName:null,p53:a&&a.CityID?a.CityID:null,p54:a&&a.CityCode?a.CityCode:null,p55:a&&a.CityName?a.CityName:null,p56:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p57:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p58:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p59:a&&a.LocalityCode?a.LocalityCode:null,p60:a&&a.LocalityName?a.LocalityName:null,p61:o?1:t.current,p62:t.pageSize,p63:l,p64:null,p65:null,p66:localStorage.getItem("UserGroupID"),p67:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divConContractManPowerDetails-Entry").style.height="auto",document.getElementById("divConContractManPowerDetails-Entry").style.display="block")}else he.loading(!1),"DraftConManPowerID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP154S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_154_L1_",id:"ConContractManPowerDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftConManPowerID":"ConManPowerID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftConManPowerID":"ConManPowerID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld154L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld154L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld154L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld154L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractManPowerDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld154L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[154]"},`${Et("154")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld154L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld154L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld154L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld154L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractManPowerDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld154L1TCFilterDataIsDraft",id:"ConContractManPowerDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld154L1TCExportPrint",formctrlidexport:"fld154L1TCExportTable",formctrlidrefresh:"fld154L1TCExportRefresh",title:Et("154"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP154S3/",c={data:{p1:t&&t.ConManPowerIDPK?t.ConManPowerIDPK:null,p2:t&&t.ConManPowerCode?t.ConManPowerCode:null,p3:t&&t.NoofEmp?t.NoofEmp:null,p4:t&&t.EmpStartDate?t.EmpStartDate:null,p5:t&&t.EmpStartDateType?t.EmpStartDateType:null,p6:t&&t.EmpStartDateBetween?t.EmpStartDateBetween:null,p7:t&&t.EmpEndDate?t.EmpEndDate:null,p8:t&&t.EmpEndDateType?t.EmpEndDateType:null,p9:t&&t.EmpEndDateBetween?t.EmpEndDateBetween:null,p10:Fe?"1":"0",p11:null,p12:t&&t.DesignationID?t.DesignationID:null,p13:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p14:e.parentId?Number(e.parentId):0,p15:t&&t.LocalityID?t.LocalityID:null,p16:t&&t.IsActive,p17:null,p18:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p19:t&&t.CreatedTtm?t.CreatedTtm:null,p20:t&&t.CreatedTtmType?t.CreatedTtmType:null,p21:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p22:null,p23:t&&t.LevelID?t.LevelID:null,p24:t&&t.LevelCode?t.LevelCode:null,p25:t&&t.LevelName?t.LevelName:null,p26:t&&t.DesignationCode?t.DesignationCode:null,p27:t&&t.DesignationName?t.DesignationName:null,p28:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p29:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p30:t&&t.ContractGroupID?t.ContractGroupID:null,p31:t&&t.ContractGroupCode?t.ContractGroupCode:null,p32:t&&t.ContractGroupName?t.ContractGroupName:null,p33:t&&t.TaxID?t.TaxID:null,p34:t&&t.TaxCode?t.TaxCode:null,p35:t&&t.TaxName?t.TaxName:null,p36:t&&t.TaxValue?t.TaxValue:null,p37:t&&t.CustomerID?t.CustomerID:null,p38:t&&t.CustomerCode?t.CustomerCode:null,p39:t&&t.CustomerName?t.CustomerName:null,p40:t&&t.ContractTypeID?t.ContractTypeID:null,p41:t&&t.ContractTypCode?t.ContractTypCode:null,p42:t&&t.ContractTypeName?t.ContractTypeName:null,p43:t&&t.ContractCategID?t.ContractCategID:null,p44:t&&t.ContractCategCode?t.ContractCategCode:null,p45:t&&t.ContractCategName?t.ContractCategName:null,p46:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p47:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p48:t&&t.ContractCode?t.ContractCode:null,p49:t&&t.ContractName?t.ContractName:null,p50:t&&t.LocalityGroupID?t.LocalityGroupID:null,p51:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p52:t&&t.LocalityGroupName?t.LocalityGroupName:null,p53:t&&t.CityID?t.CityID:null,p54:t&&t.CityCode?t.CityCode:null,p55:t&&t.CityName?t.CityName:null,p56:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p57:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p58:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p59:t&&t.LocalityCode?t.LocalityCode:null,p60:t&&t.LocalityName?t.LocalityName:null,p61:L.current,p62:h,p63:Fe?"DraftConManPowerID":"ConManPowerID",p64:null,p65:null,p66:localStorage.getItem("UserGroupID"),p67:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(154)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftConManPowerID"):Tt({current:1,pageSize:100},Pe,"ConManPowerID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld154L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld154L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld154L1TCFilterDataIsAdd",id:"ConContractManPowerDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ConContractManPowerDetailsFilterDiv").style.width="0%",document.getElementById("ConContractManPowerDetailsTabDiv").style.width="100%",document.getElementById("ConContractManPowerDetailsFilterDiv").style.display="none",document.getElementById("ConContractManPowerDetailscoldiv").style.width="fit-content",document.getElementById("ConContractManPowerDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ConContractManPowerDetailsFilterDiv").style.width="25%",document.getElementById("ConContractManPowerDetailsTabDiv").style.width="75%",document.getElementById("ConContractManPowerDetailsFilterDiv").style.display="block",document.getElementById("ConContractManPowerDetailsfildiv").style.width="fit-content",document.getElementById("ConContractManPowerDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractManPowerDetailscoldiv").style.width="fit-content",document.getElementById("ConContractManPowerDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ConContractManPowerDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld154L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"ConManPowerID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld154L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld154L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftConManPowerID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("ConContractManPowerDetailsFilterDiv").style.width="0%",document.getElementById("ConContractManPowerDetailsTabDiv").style.width="100%",document.getElementById("ConContractManPowerDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld154L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld154L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld154L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld154L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld154L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld154L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftConManPowerID":"ConManPowerID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftConManPowerID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"ConManPowerID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld154L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftConManPowerID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"ConManPowerID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ConContractManPowerDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractManPowerDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(ya,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"ConManPowerID")},frmctrlid:"fld154L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ConContractManPowerDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld154L1TCExpandedCardDual",data:K,id:"ConContractManPowerDetails",title:"ConManPowerCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),Da={EnterKeyValues:{ConContractManPowerDetails:["LocalityName","EmployeeGroupName","DesignationName","NoofEmp","EmpStartDate","EmpEndDate","ConManPowerCode","ContractName"]},Label:{ConContractManPowerDetails:{LocalityID:["LocalityCode","LocalityName"],EmployeeGroupID:["EmployeeGroupCode","EmployeeGroupName"],DesignationID:["DesignationCode","DesignationName"],NoofEmp:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],EmpStartDate:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],EmpEndDate:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],ConManPowerCode:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],ContractID:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"]}},LabelHeader:{ConContractManPowerDetails:{LocalityID:["Location Code","Location Name"],EmployeeGroupID:["Employee Group Code","Employee Group Name"],DesignationID:["Designation Code","Designation Name"],NoofEmp:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],EmpStartDate:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],EmpEndDate:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],ConManPowerCode:["ConManPowerCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"],ContractID:["ConManPowerCode","Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","DesignationCode","DesignationName","EmployeeGroupCode","EmployeeGroupName"]}},Property:{ConContractManPowerDetails:{LocalityID:{id:"fld154_16520",clearID:"ConContractManPowerDetailsLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},EmployeeGroupID:{id:"fld154_3002",clearID:"ConContractManPowerDetailsEmployeeGroupNameClear",type:"select",labelID:"EmployeeGroupIDPK",labelname:"Employee Group",fielddisplayname:"EmployeeGroupName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},DesignationID:{id:"fld154_3001",clearID:"ConContractManPowerDetailsDesignationNameClear",type:"select",labelID:"DesignationIDPK",labelname:"Designation",fielddisplayname:"DesignationName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},NoofEmp:{id:"fld154_2994",labelID:"NoofEmp",maxLength:"50",labelname:"No of Employee",frmctrlid:"fld154_2994",frmctrlidname:"NoofEmp",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},EmpStartDate:{id:"fld154_2995",labelID:"EmpStartDate",maxLength:"",labelname:"Start Date",frmctrlid:"fld154_2995",frmctrlidname:"EmpStartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EmpEndDate:{id:"fld154_2996",labelID:"EmpEndDate",maxLength:"",labelname:"End Date",frmctrlid:"fld154_2996",frmctrlidname:"EmpEndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConManPowerCode:{id:"fld154_2993",labelID:"ConManPowerCode",maxLength:"50",labelname:"ConManPowerCode",frmctrlid:"fld154_2993",frmctrlidname:"ConManPowerCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld154_16519",clearID:"ConContractManPowerDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{ConContractManPowerDetails:{LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],EmployeeGroupID:["EmployeeGroupCode","EmployeeGroupName"],DesignationID:["DesignationCode","DesignationName","LevelName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},Ia={ConManPowerIDPK:"",ConManPowerCode:"",NoofEmp:"",EmpStartDate:"",EmpStartDateType:"",EmpStartDateBetween:"",EmpEndDate:"",EmpEndDateType:"",EmpEndDateBetween:"",IsDraft:!1,Remarks:"",DesignationID:null,EmployeeGroupID:null,ContractID:null,LocalityID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LevelID:null,LevelCode:"",LevelName:"",DesignationCode:"",DesignationName:"",EmployeeGroupCode:"",EmployeeGroupName:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",Type:"ConManPowerID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Sa=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,Ia),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:fa),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:va(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("154"),[ae,le]=(0,l.useState)(""),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(!0),[ce,de]=(0,l.useState)(!1);let se=(0,N.Z)();const[me,ue]=(0,l.useState)({}),pe=e=>se[e]?se[e]:e,Ce=t=>U.language?.[t]?U.language[t]:e.createEasy?me?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Se()}),[]),(0,l.useEffect)((()=>{Se()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(Ie(U.editData[0],""),D(!0)):U.Add&&(Se(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ue(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Ze(t),D(e)):(Se(),D(e))},AddOpen:e=>{Se(),D(!0)}})));const ge=e=>e?e.split("-").reverse().join("-"):null,De=e=>{if(e){let t=ge(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},Ie=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultConManPowerID"==a?J(t.ConManPowerIDPK):(W(e.primid?Number(e.primid):t.ConManPowerIDPK?t.ConManPowerIDPK:0),j({type:"PrimaryId",payload:t.ConManPowerIDPK})),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"EmployeeGroupID",number:t.EmployeeGroupID?Number(t.EmployeeGroupID):0}),O({type:"text",name:"EmployeeGroupName",value:t.EmployeeGroupName}),O({type:"number",name:"DesignationID",number:t.DesignationID?Number(t.DesignationID):0}),O({type:"text",name:"DesignationName",value:t.DesignationName}),O({type:"number",name:"NoofEmp",number:t.NoofEmp}),O({type:"text",name:"EmpStartDate",value:t.EmpStartDate?ge(t.EmpStartDate):null}),O({type:"text",name:"EmpEndDate",value:t.EmpEndDate?ge(t.EmpEndDate):null}),O({type:"text",name:"ConManPowerCode",value:t.ConManPowerCode?t.ConManPowerCode:""}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Se=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractManPowerDetailsLocalityNameClear")&&document.getElementById("ConContractManPowerDetailsLocalityNameClear").click(),O({type:"text",name:"EmployeeGroupID",value:null}),O({type:"text",name:"EmployeeGroupName",value:""}),document.getElementById("ConContractManPowerDetailsEmployeeGroupNameClear")&&document.getElementById("ConContractManPowerDetailsEmployeeGroupNameClear").click(),O({type:"text",name:"DesignationID",value:null}),O({type:"text",name:"DesignationName",value:""}),document.getElementById("ConContractManPowerDetailsDesignationNameClear")&&document.getElementById("ConContractManPowerDetailsDesignationNameClear").click(),O({type:"number",name:"NoofEmp",number:0}),O({type:"text",name:"EmpStartDate",value:""}),O({type:"text",name:"EmpEndDate",value:""}),O({type:"text",name:"ConManPowerCode",value:""}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractManPowerDetailsContractNameClear")&&document.getElementById("ConContractManPowerDetailsContractNameClear").click(),y(!0),P(""),ie(!0)},Ee=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP154S2/",l={data:[{p1:"SetDefaultConManPowerID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:Ge(k.ConManPowerCode),p3:k.NoofEmp?Number(k.NoofEmp):0,p4:k.EmpStartDate?De(k.EmpStartDate):null,p5:k.EmpEndDate?De(k.EmpEndDate):null,p6:!1,p7:"SetDefaultConManPowerID"==t?"SetDefault":null,p8:k.DesignationID?k.DesignationID:0,p9:k.EmployeeGroupID?k.EmployeeGroupID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:s,p13:"SetDefaultConManPowerID"==t,p14:localStorage.getItem("userid"),p15:V()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{ie(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP154S1/",l={data:[{p1:Y,p2:Ge(k.ConManPowerCode),p3:k.NoofEmp?Number(k.NoofEmp):0,p4:k.EmpStartDate?De(k.EmpStartDate):null,p5:k.EmpEndDate?De(k.EmpEndDate):null,p6:!1,p7:null,p8:k.DesignationID?k.DesignationID:0,p9:k.EmployeeGroupID?k.EmployeeGroupID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:s,p13:!1,p14:localStorage.getItem("userid"),p15:V()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttConContractManPowerDetails"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Se(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConContractManPowerDetails")&&(document.getElementById("overlayimgAttConContractManPowerDetails").style.width="0%",document.getElementById("overlayimgAttConContractManPowerDetails").style.display="none",document.getElementById("divConContractManPowerDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractManPowerDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function fe(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[pe("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[pe("Please enter the primary fields")]}),!1;{ie(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP154S1/",l={data:[{p1:"SetDefaultConManPowerID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:Ge(k.ConManPowerCode),p3:k.NoofEmp?Number(k.NoofEmp):0,p4:k.EmpStartDate?De(k.EmpStartDate):null,p5:k.EmpEndDate?De(k.EmpEndDate):null,p6:!0,p7:"SetDefaultConManPowerID"==n?"SetDefault":null,p8:k.DesignationID?k.DesignationID:0,p9:k.EmployeeGroupID?k.EmployeeGroupID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:!1,p13:"SetDefaultConManPowerID"==n,p14:localStorage.getItem("userid"),p15:V()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[pe("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[pe("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),Se(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function ve(e){return CreateEasy(e,U,j,H,X),!1}function Ne(e,a){return AdvanceSearch(e,a,fa,va(),Le,t),!1}const he=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP154S3/",c={data:{p1:null,p2:null,p3:null,p4:k.EmpStartDate?k.EmpStartDate:null,p5:null,p6:null,p7:k.EmpEndDate?k.EmpEndDate:null,p8:null,p9:null,p10:null,p11:null,p12:"0"==k.DesignationID?null:k.DesignationID,p13:"0"==k.EmployeeGroupID?null:k.EmployeeGroupID,p14:e.parentId?Number(e.parentId):0,p15:"0"==k.LocalityID?null:k.LocalityID,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:"0"==k.LevelID?null:k.LevelID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==k.ContractGroupID?null:k.ContractGroupID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.TaxID?null:k.TaxID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==k.CustomerID?null:k.CustomerID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:"0"==k.ContractTypeID?null:k.ContractTypeID,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==k.ContractCategID?null:k.ContractCategID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:"0"==k.CityID?null:k.CityID,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:t,p62:10,p63:l,p64:null,p65:null,p66:localStorage.getItem("UserGroupID"),p67:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultConManPowerID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultConManPowerID"==l&&(e>0?Ie(n[0],"SetDefaultConManPowerID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Te=(t,l,n)=>{const o=S.v.Api+"FP154S3/",r={data:{p1:null,p2:"ConManPowerCode"==n&&l?"%"+l+"%":null,p3:"NoofEmp"==n&&l?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:t,p62:10,p63:"ConManPowerID",p64:null,p65:null,p66:localStorage.getItem("UserGroupID"),p67:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ConManPowerCode"==n&&ie(e>0),K(l)):("ConManPowerCode"==n&&ie(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Le=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("LocalityID"==t?(O({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"EmployeeGroupID"==t?(O({type:"text",name:"EmployeeGroupID",value:e.EmployeeGroupIDPK?e.EmployeeGroupIDPK:null}),O({type:"text",name:"EmployeeGroupName",value:e.EmployeeGroupName?e.EmployeeGroupName:null})):"DesignationID"==t&&(O({type:"text",name:"DesignationID",value:e.DesignationIDPK?e.DesignationIDPK:null}),O({type:"text",name:"DesignationName",value:e.DesignationName?e.DesignationName:null})))}),[k]);function Ae(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractManPowerDetailsLocalityNameClear")&&document.getElementById("ConContractManPowerDetailsLocalityNameClear").click()}else if("EmployeeGroupID"==e){if(!k.EmployeeGroupID)return!1;O({type:"text",name:"EmployeeGroupID",value:null}),O({type:"text",name:"EmployeeGroupName",value:""}),document.getElementById("ConContractManPowerDetailsEmployeeGroupNameClear")&&document.getElementById("ConContractManPowerDetailsEmployeeGroupNameClear").click()}else if("DesignationID"==e){if(!k.DesignationID)return!1;O({type:"text",name:"DesignationID",value:null}),O({type:"text",name:"DesignationName",value:""}),document.getElementById("ConContractManPowerDetailsDesignationNameClear")&&document.getElementById("ConContractManPowerDetailsDesignationNameClear").click()}else if("ContractID"==e&&!k.ContractID)return!1}function ke(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null})}else if("EmployeeGroupID"==e){if(!k.EmployeeGroupID)return!1;O({type:"text",name:"EmployeeGroupID",value:null})}else if("DesignationID"==e){if(!k.DesignationID)return!1;O({type:"text",name:"DesignationID",value:null})}else if("ContractID"==e&&!k.ContractID)return!1}function Ze(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ConManPowerIDPK)?Number(e.ConManPowerIDPK):0),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"EmployeeGroupID",number:e.EmployeeGroupID?Number(e.EmployeeGroupID):0}),O({type:"text",name:"EmployeeGroupName",value:e.EmployeeGroupName?e.EmployeeGroupName:""}),O({type:"number",name:"DesignationID",number:e.DesignationID?Number(e.DesignationID):0}),O({type:"text",name:"DesignationName",value:e.DesignationName?e.DesignationName:""}),O({type:"number",name:"NoofEmp",number:e.NoofEmp?Number(e.NoofEmp):0}),O({type:"text",name:"EmpStartDate",value:e.EmpStartDate?ge(e.EmpStartDate):null}),O({type:"text",name:"EmpEndDate",value:e.EmpEndDate?ge(e.EmpEndDate):null}),O({type:"text",name:"ConManPowerCode",value:e.ConManPowerCode?e.ConManPowerCode:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const Ge=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[154]"}," ",pe("Add "),Ce("154")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld154L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:pe(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld154L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Se()},id:"fld154L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld154L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{fe("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{fe()},frmctrlid:"fld154L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld154L1ECSaveBtnIsAdd",name:pe(Y?"Update":"Save"),disabled:!1,onClick:()=>{k.LocalityID&&0!=k.LocalityID?k.DesignationID&&0!=k.DesignationID?Ge(k.NoofEmp)?e.parentId&&0!=e.parentId?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:pe("Are you sure?"),onConfirm:()=>Ee(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("Cancel"),showCancel:!0},pe(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("ContractID")]}):H.alert({open:!0,color:"warning",message:[pe("Please enter the")+""+Ce("NoofEmp")]}):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("DesignationID")]}):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("LocalityID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld154L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Se(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractManPowerDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractManPowerDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractManPowerDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Da,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,disabled:!!Y,SPName:"ConContractManPowerDetails",FieldName:"LocalityID",tfLabel:Ce("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"LocalityID","select"),onChange:(e,t)=>{he(e,t,"LocalityIDPK")},KeyBack:e=>{ke("LocalityID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("12")},Tabledialog:()=>Ne("12","LocalityID"),loading:Z,clear:e=>{e&&Ae("LocalityID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Da,id:k.EmployeeGroupID,"data-testid":k.EmployeeGroupID,value:k.EmployeeGroupName,disabled:!!Y,SPName:"ConContractManPowerDetails",FieldName:"EmployeeGroupID",tfLabel:Ce("EmployeeGroupID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"EmployeeGroupID","select"),onChange:(e,t)=>{he(e,t,"EmployeeGroupIDPK")},KeyBack:e=>{ke("EmployeeGroupID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("187")},Tabledialog:()=>Ne("187","EmployeeGroupID"),loading:Z,clear:e=>{e&&Ae("EmployeeGroupID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Da,id:k.DesignationID,"data-testid":k.DesignationID,value:k.DesignationName,disabled:!!Y,SPName:"ConContractManPowerDetails",FieldName:"DesignationID",tfLabel:Ce("DesignationID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"DesignationID","select"),onChange:(e,t)=>{he(e,t,"DesignationIDPK")},KeyBack:e=>{ke("DesignationID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("170")},Tabledialog:()=>Ne("170","DesignationID"),loading:Z,clear:e=>{e&&Ae("DesignationID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Da,"data-testid":k.NoofEmp,SPName:"ConContractManPowerDetails",FieldName:"NoofEmp",tfLabel:Ce("NoofEmp"),frmctrlid:"fld154_2994",fieldorder:"4",disabled:!!Y,onChange:e=>{Le(e,"NoofEmp","number")},clear:e=>{e&&O({type:"number",name:"NoofEmp",number:0})},value:k.NoofEmp})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.EmpStartDate,"data-testid":k.EmpStartDate,disabled:!1,onChange:e=>{Le(e,"EmpStartDate","date")},disabled:!!Y,onErr:e=>{le(e)},label:Ce("EmpStartDate"),minDate:k.ContractDate,frmctrlid:"fld154_2995",frmctrlidName:"EmpStartDate",fieldorder:"1"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.EmpEndDate,"data-testid":k.EmpEndDate,disabled:!1,onChange:e=>{Le(e,"EmpEndDate","date")},disabled:!!Y,onErr:e=>{oe(e)},label:Ce("EmpEndDate"),frmctrlid:"fld154_2996",frmctrlidName:"EmpEndDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ConManPowerCode,json:Da,SPName:"ConContractManPowerDetails",FieldName:"ConManPowerCode",tfLabel:Ce("ConManPowerCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ze(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("No"),showCancel:!0},pe("Do you want to update this record?")))})(t),onClick:()=>{re&&Te(1,"","ClearAll"),ie(!0)},frmctrlid:"fld154_2993",frmctrlidName:"ConManPowerCode",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{re&&Te(e,t,"ConManPowerCode"),Le(t,"ConManPowerCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:k.ConManPowerCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ConManPowerCode",value:""}),ie(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Da,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConContractManPowerDetails",FieldName:"ContractID",tfLabel:Ce("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"ContractID","select"),onChange:(e,t)=>{he(e,t,"ContractIDPK")},KeyBack:e=>{ke("ContractID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("156")},Tabledialog:()=>Ne("156","ContractID"),loading:Z,clear:e=>{e&&Ae("ContractID")}})))),n().createElement("div",{id:"ConContractManPowerDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractManPowerDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Ea=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(fa),{cstate:B,cdispatch:F}=va(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ConManPowerIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP154S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:e.Dialogview?"1":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:1,p62:10,p63:B.IsDraft?"DraftConManPowerID":"ConManPowerID",p64:null,p65:null,p66:localStorage.getItem("UserGroupID"),p67:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ConManPowerIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConContractManPowerDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld154L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld154L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld154L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld154L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(Sa,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractManPowerDetails",tableID:154,parentID:t.ConManPowerIDPK,fldid:"fld154L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[154]"}))))))))})),fa=(0,l.createContext)(),va=()=>{const e=(0,l.useContext)(fa);if(void 0===e)throw new Error("useCont must be used within  ConContractManPowerDetailsContext Provider");return e},Na=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractManPowerDetails-Entry").style.width="100%",document.getElementById("ConContractManPowerDetails-MainTable").style.width="100%",document.getElementById("ConContractManPowerDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractManPowerDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractManPowerDetails-Entry").style.width="100%",document.getElementById("ConContractManPowerDetails-MainTable").style.width="100%",document.getElementById("ConContractManPowerDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractManPowerDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractManPowerDetails-Entry").style.width="100%",document.getElementById("ConContractManPowerDetailsEntryTable").style.width="100%",document.getElementById("ConContractManPowerDetails-MainEntry").style.width="100%",document.getElementById("ConContractManPowerDetails-MainEntry").style.display="block",document.getElementById("ConContractManPowerDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractManPowerDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractManPowerDetails").style.width="0%",document.getElementById("overlayimgAttConContractManPowerDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(fa.Provider,{value:{cstate:D,cdispatch:I,ContextApi:va,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractManPowerDetails").style.width="50%",document.getElementById("divConContractManPowerDetails-Entry").style.width="100%",document.getElementById("ConContractManPowerDetails-MainTable").style.width="100%",document.getElementById("ConContractManPowerDetails-MainEntry").style.width="100%",document.getElementById("ConContractManPowerDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractManPowerDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractManPowerDetails").style.display="block",document.getElementById("overlayimgAttConContractManPowerDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractManPowerDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractManPowerDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractManPowerDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractManPowerDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Ea,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:154,fileId:"LogoImgConContractManPowerDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractManPowerDetails",frmctrlid:"PvwIm_154_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractManPowerDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Sa,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:154,fileId:"LogoImgConContractManPowerDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractManPowerDetails",frmctrlid:"PvwIm_154_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractManPowerDetails-MainTable"},0!==y?n().createElement(ga,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:154,fileId:"AttImgConContractManPowerDetails",imgid:"overlayimgAttConContractManPowerDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractManPowerDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_154_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractManPowerDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:154,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var ha=a(25108);const Ta=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:Aa(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP148S3/",g={data:{p1:"ConContractEngIDPK"==a?null:await we(),p2:"ConContractEngCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:e.parentId?e.parentId:"0",p6:"FirstName"!=c&&d.FirstName?d.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p7:e.Dialogview?"1":null,p8:null,p9:"p9"==c&&l.length>0?l:null,p10:null,p11:null,p12:null,p13:null,p14:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p15:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p16:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p17:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p18:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p19:"TaxName"==c&&l.length>0?"%"+l+"%":null,p20:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p21:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p22:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p23:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p24:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p25:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p26:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p27:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p28:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p29:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p30:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p31:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p32:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p33:"ContractName"==c&&l.length>0?"%"+l+"%":null,p34:"ShiftName"!=c&&d.ShiftName?d.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p35:"ShiftCode"==c&&l.length>0?"%"+l+"%":null,p36:"ShiftName"==c&&l.length>0?"%"+l+"%":null,p37:"ClassificationName"!=c&&d.ClassificationName?d.ClassificationName.map((e=>e.ClassificationIDPK)).toString():null,p38:"ClassificationCode"==c&&l.length>0?"%"+l+"%":null,p39:"ClassificationName"==c&&l.length>0?"%"+l+"%":null,p40:"DepartmentName"!=c&&d.DepartmentName?d.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p41:"DepartmentCode"==c&&l.length>0?"%"+l+"%":null,p42:"DepartmentName"==c&&l.length>0?"%"+l+"%":null,p43:"DesignationName"!=c&&d.DesignationName?d.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p44:"DesignationCode"==c&&l.length>0?"%"+l+"%":null,p45:"DesignationName"==c&&l.length>0?"%"+l+"%":null,p46:"NationalityName"!=c&&d.NationalityName?d.NationalityName.map((e=>e.NationalityIDPK)).toString():null,p47:"NationalityCode"==c&&l.length>0?"%"+l+"%":null,p48:"NationalityName"==c&&l.length>0?"%"+l+"%":null,p49:"NatureOfWorkName"!=c&&d.NatureOfWorkName?d.NatureOfWorkName.map((e=>e.EmpWorkNatureIDPK)).toString():null,p50:"NatureOfWorkCode"==c&&l.length>0?"%"+l+"%":null,p51:"NatureOfWorkName"==c&&l.length>0?"%"+l+"%":null,p52:"EmployeeTypeName"!=c&&d.EmployeeTypeName?d.EmployeeTypeName.map((e=>e.EmployeeTypeIDPK)).toString():null,p53:"EmployeeTypeCode"==c&&l.length>0?"%"+l+"%":null,p54:"EmployeeTypeName"==c&&l.length>0?"%"+l+"%":null,p55:"EmploymentTypeName"!=c&&d.EmploymentTypeName?d.EmploymentTypeName.map((e=>e.EmploymentTypeIDPK)).toString():null,p56:"EmploymentTypCode"==c&&l.length>0?"%"+l+"%":null,p57:"EmploymentTypeName"==c&&l.length>0?"%"+l+"%":null,p58:"EmployeeGroupName"!=c&&d.EmployeeGroupName?d.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p59:"EmployeeGroupCode"==c&&l.length>0?"%"+l+"%":null,p60:"EmployeeGroupName"==c&&l.length>0?"%"+l+"%":null,p61:"EmpGradeName"!=c&&d.EmpGradeName?d.EmpGradeName.map((e=>e.EmpGradeIDPK)).toString():null,p62:"EmpGradeCode"==c&&l.length>0?"%"+l+"%":null,p63:"EmpGradeName"==c&&l.length>0?"%"+l+"%":null,p64:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p65:"CityCode"==c&&l.length>0?"%"+l+"%":null,p66:"CityName"==c&&l.length>0?"%"+l+"%":null,p67:"RegionName"!=c&&d.RegionName?d.RegionName.map((e=>e.RegionIDPK)).toString():null,p68:"RegionCode"==c&&l.length>0?"%"+l+"%":null,p69:"RegionName"==c&&l.length>0?"%"+l+"%":null,p70:"CountryName"!=c&&d.CountryName?d.CountryName.map((e=>e.CountryIDPK)).toString():null,p71:"CountryCode"==c&&l.length>0?"%"+l+"%":null,p72:"CountryName"==c&&l.length>0?"%"+l+"%":null,p73:"EmpGenderName"!=c&&d.EmpGenderName?d.EmpGenderName.map((e=>e.EmpGenderIDPK)).toString():null,p74:"EmpGenderName"==c&&l.length>0?"%"+l+"%":null,p75:"EmpTitleName"!=c&&d.EmpTitleName?d.EmpTitleName.map((e=>e.EmpTitleIDPK)).toString():null,p76:"EmpTitleName"==c&&l.length>0?"%"+l+"%":null,p77:"EmployeeCode"==c&&l.length>0?"%"+l+"%":null,p78:"FirstName"==c&&l.length>0?"%"+l+"%":null,p79:"EmpContactNo1"==c&&l.length>0?"%"+l+"%":null,p80:"EmpEmailOfficial"==c&&l.length>0?"%"+l+"%":null,p81:n||1,p82:10,p83:t,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ConContractEngIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ConContractEngIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",EmployeeID:Le("EmployeeID"),ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ConContractEngIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ConContractEngIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ConContractEngIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,EmployeeID:C.FirstName?.map((e=>e.EmployeeIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld148L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld148L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld148L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,ha.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld148L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld148L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld148L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld148L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld148L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld148L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld148L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ConContractEngIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterConContractEngID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterConContractEngID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterConContractEngID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),ba=Ta;window.clickFilter="";const Pa=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("148"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ConContractEngDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:Fa),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:Aa();let Pe={ConContractEngIDPK:"",ConContractEngCode:"",IsDraft:"",Remarks:"",ContractID:"",EmployeeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({FirstName:"",ContractName:"",ConContractEngCode:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("148"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"ConContractEngID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"ConContractEngID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"ConContractEngID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftConContractEngID":"ConContractEngID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP148S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("ConContractEngDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractEngDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractEngDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ConContractEngDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractEngDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractEngDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractEngDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractEngDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractEngDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractEngDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractEngDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractEngDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ConContractEngDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractEngDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP148S3/",c={data:{p1:o||(a&&a.ConContractEngIDPK?a.ConContractEngIDPK:null),p2:a&&a.ConContractEngCode?a.ConContractEngCode:null,p3:"DraftConContractEngID"==l?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:a&&a.EmployeeID?a.EmployeeID:null,p7:a&&a.IsActive,p8:null,p9:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p10:a&&a.CreatedTtm?a.CreatedTtm:null,p11:a&&a.CreatedTtmType?a.CreatedTtmType:null,p12:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p13:null,p14:a&&a.ContractGroupID?a.ContractGroupID:null,p15:a&&a.ContractGroupCode?a.ContractGroupCode:null,p16:a&&a.ContractGroupName?a.ContractGroupName:null,p17:a&&a.TaxID?a.TaxID:null,p18:a&&a.TaxCode?a.TaxCode:null,p19:a&&a.TaxName?a.TaxName:null,p20:a&&a.TaxValue?a.TaxValue:null,p21:a&&a.CustomerID?a.CustomerID:null,p22:a&&a.CustomerCode?a.CustomerCode:null,p23:a&&a.CustomerName?a.CustomerName:null,p24:a&&a.ContractTypeID?a.ContractTypeID:null,p25:a&&a.ContractTypCode?a.ContractTypCode:null,p26:a&&a.ContractTypeName?a.ContractTypeName:null,p27:a&&a.ContractCategID?a.ContractCategID:null,p28:a&&a.ContractCategCode?a.ContractCategCode:null,p29:a&&a.ContractCategName?a.ContractCategName:null,p30:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p31:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p32:a&&a.ContractCode?a.ContractCode:null,p33:a&&a.ContractName?a.ContractName:null,p34:a&&a.ShiftID?a.ShiftID:null,p35:a&&a.ShiftCode?a.ShiftCode:null,p36:a&&a.ShiftName?a.ShiftName:null,p37:a&&a.ClassificationID?a.ClassificationID:null,p38:a&&a.ClassificationCode?a.ClassificationCode:null,p39:a&&a.ClassificationName?a.ClassificationName:null,p40:a&&a.DepartmentID?a.DepartmentID:null,p41:a&&a.DepartmentCode?a.DepartmentCode:null,p42:a&&a.DepartmentName?a.DepartmentName:null,p43:a&&a.DesignationID?a.DesignationID:null,p44:a&&a.DesignationCode?a.DesignationCode:null,p45:a&&a.DesignationName?a.DesignationName:null,p46:a&&a.NationalityID?a.NationalityID:null,p47:a&&a.NationalityCode?a.NationalityCode:null,p48:a&&a.NationalityName?a.NationalityName:null,p49:a&&a.EmpWorkNatureID?a.EmpWorkNatureID:null,p50:a&&a.NatureOfWorkCode?a.NatureOfWorkCode:null,p51:a&&a.NatureOfWorkName?a.NatureOfWorkName:null,p52:a&&a.EmployeeTypeID?a.EmployeeTypeID:null,p53:a&&a.EmployeeTypeCode?a.EmployeeTypeCode:null,p54:a&&a.EmployeeTypeName?a.EmployeeTypeName:null,p55:a&&a.EmploymentTypeID?a.EmploymentTypeID:null,p56:a&&a.EmploymentTypCode?a.EmploymentTypCode:null,p57:a&&a.EmploymentTypeName?a.EmploymentTypeName:null,p58:a&&a.EmployeeGroupID?a.EmployeeGroupID:null,p59:a&&a.EmployeeGroupCode?a.EmployeeGroupCode:null,p60:a&&a.EmployeeGroupName?a.EmployeeGroupName:null,p61:a&&a.EmpGradeID?a.EmpGradeID:null,p62:a&&a.EmpGradeCode?a.EmpGradeCode:null,p63:a&&a.EmpGradeName?a.EmpGradeName:null,p64:a&&a.CityID?a.CityID:null,p65:a&&a.CityCode?a.CityCode:null,p66:a&&a.CityName?a.CityName:null,p67:a&&a.RegionID?a.RegionID:null,p68:a&&a.RegionCode?a.RegionCode:null,p69:a&&a.RegionName?a.RegionName:null,p70:a&&a.CountryID?a.CountryID:null,p71:a&&a.CountryCode?a.CountryCode:null,p72:a&&a.CountryName?a.CountryName:null,p73:a&&a.EmpGenderID?a.EmpGenderID:null,p74:a&&a.EmpGenderName?a.EmpGenderName:null,p75:a&&a.EmpTitleID?a.EmpTitleID:null,p76:a&&a.EmpTitleName?a.EmpTitleName:null,p77:a&&a.EmployeeCode?a.EmployeeCode:null,p78:a&&a.FirstName?a.FirstName:null,p79:a&&a.EmpContactNo1?a.EmpContactNo1:null,p80:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p81:o?1:t.current,p82:t.pageSize,p83:l,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divConContractEngDetails-Entry").style.height="auto",document.getElementById("divConContractEngDetails-Entry").style.display="block")}else he.loading(!1),"DraftConContractEngID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP148S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_148_L1_",id:"ConContractEngDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftConContractEngID":"ConContractEngID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftConContractEngID":"ConContractEngID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld148L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld148L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld148L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld148L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractEngDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld148L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[148]"},`${Et("148")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld148L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld148L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld148L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld148L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractEngDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld148L1TCFilterDataIsDraft",id:"ConContractEngDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld148L1TCExportPrint",formctrlidexport:"fld148L1TCExportTable",formctrlidrefresh:"fld148L1TCExportRefresh",title:Et("148"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP148S3/",c={data:{p1:t&&t.ConContractEngIDPK?t.ConContractEngIDPK:null,p2:t&&t.ConContractEngCode?t.ConContractEngCode:null,p3:Fe?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:t&&t.EmployeeID?t.EmployeeID:null,p7:t&&t.IsActive,p8:null,p9:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p10:t&&t.CreatedTtm?t.CreatedTtm:null,p11:t&&t.CreatedTtmType?t.CreatedTtmType:null,p12:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p13:null,p14:t&&t.ContractGroupID?t.ContractGroupID:null,p15:t&&t.ContractGroupCode?t.ContractGroupCode:null,p16:t&&t.ContractGroupName?t.ContractGroupName:null,p17:t&&t.TaxID?t.TaxID:null,p18:t&&t.TaxCode?t.TaxCode:null,p19:t&&t.TaxName?t.TaxName:null,p20:t&&t.TaxValue?t.TaxValue:null,p21:t&&t.CustomerID?t.CustomerID:null,p22:t&&t.CustomerCode?t.CustomerCode:null,p23:t&&t.CustomerName?t.CustomerName:null,p24:t&&t.ContractTypeID?t.ContractTypeID:null,p25:t&&t.ContractTypCode?t.ContractTypCode:null,p26:t&&t.ContractTypeName?t.ContractTypeName:null,p27:t&&t.ContractCategID?t.ContractCategID:null,p28:t&&t.ContractCategCode?t.ContractCategCode:null,p29:t&&t.ContractCategName?t.ContractCategName:null,p30:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p31:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p32:t&&t.ContractCode?t.ContractCode:null,p33:t&&t.ContractName?t.ContractName:null,p34:t&&t.ShiftID?t.ShiftID:null,p35:t&&t.ShiftCode?t.ShiftCode:null,p36:t&&t.ShiftName?t.ShiftName:null,p37:t&&t.ClassificationID?t.ClassificationID:null,p38:t&&t.ClassificationCode?t.ClassificationCode:null,p39:t&&t.ClassificationName?t.ClassificationName:null,p40:t&&t.DepartmentID?t.DepartmentID:null,p41:t&&t.DepartmentCode?t.DepartmentCode:null,p42:t&&t.DepartmentName?t.DepartmentName:null,p43:t&&t.DesignationID?t.DesignationID:null,p44:t&&t.DesignationCode?t.DesignationCode:null,p45:t&&t.DesignationName?t.DesignationName:null,p46:t&&t.NationalityID?t.NationalityID:null,p47:t&&t.NationalityCode?t.NationalityCode:null,p48:t&&t.NationalityName?t.NationalityName:null,p49:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p50:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p51:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p52:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p53:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p54:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p55:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p56:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p57:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p58:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p59:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p60:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p61:t&&t.EmpGradeID?t.EmpGradeID:null,p62:t&&t.EmpGradeCode?t.EmpGradeCode:null,p63:t&&t.EmpGradeName?t.EmpGradeName:null,p64:t&&t.CityID?t.CityID:null,p65:t&&t.CityCode?t.CityCode:null,p66:t&&t.CityName?t.CityName:null,p67:t&&t.RegionID?t.RegionID:null,p68:t&&t.RegionCode?t.RegionCode:null,p69:t&&t.RegionName?t.RegionName:null,p70:t&&t.CountryID?t.CountryID:null,p71:t&&t.CountryCode?t.CountryCode:null,p72:t&&t.CountryName?t.CountryName:null,p73:t&&t.EmpGenderID?t.EmpGenderID:null,p74:t&&t.EmpGenderName?t.EmpGenderName:null,p75:t&&t.EmpTitleID?t.EmpTitleID:null,p76:t&&t.EmpTitleName?t.EmpTitleName:null,p77:t&&t.EmployeeCode?t.EmployeeCode:null,p78:t&&t.FirstName?t.FirstName:null,p79:t&&t.EmpContactNo1?t.EmpContactNo1:null,p80:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p81:L.current,p82:h,p83:Fe?"DraftConContractEngID":"ConContractEngID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(148)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftConContractEngID"):Tt({current:1,pageSize:100},Pe,"ConContractEngID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld148L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld148L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld148L1TCFilterDataIsAdd",id:"ConContractEngDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ConContractEngDetailsFilterDiv").style.width="0%",document.getElementById("ConContractEngDetailsTabDiv").style.width="100%",document.getElementById("ConContractEngDetailsFilterDiv").style.display="none",document.getElementById("ConContractEngDetailscoldiv").style.width="fit-content",document.getElementById("ConContractEngDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ConContractEngDetailsFilterDiv").style.width="25%",document.getElementById("ConContractEngDetailsTabDiv").style.width="75%",document.getElementById("ConContractEngDetailsFilterDiv").style.display="block",document.getElementById("ConContractEngDetailsfildiv").style.width="fit-content",document.getElementById("ConContractEngDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractEngDetailscoldiv").style.width="fit-content",document.getElementById("ConContractEngDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ConContractEngDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld148L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"ConContractEngID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld148L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld148L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftConContractEngID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("ConContractEngDetailsFilterDiv").style.width="0%",document.getElementById("ConContractEngDetailsTabDiv").style.width="100%",document.getElementById("ConContractEngDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld148L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld148L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld148L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld148L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld148L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld148L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftConContractEngID":"ConContractEngID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftConContractEngID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"ConContractEngID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld148L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftConContractEngID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"ConContractEngID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ConContractEngDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractEngDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(ba,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"ConContractEngID")},frmctrlid:"fld148L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ConContractEngDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld148L1TCExpandedCardDual",data:K,id:"ConContractEngDetails",title:"ConContractEngCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),La={EnterKeyValues:{ConContractEngDetails:["FirstName","ContractName","ConContractEngCode"]},Label:{ConContractEngDetails:{EmployeeID:["EmployeeCode","FirstName","DesignationName"],ContractID:["ConContractEngCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","AccCode","CandidateCode","EmpFirstName","EmployeeCode","FirstName","HTPincode","LastName","MiddleName","Pincode"],ConContractEngCode:["ConContractEngCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","AccCode","CandidateCode","EmpFirstName","EmployeeCode","FirstName","HTPincode","LastName","MiddleName","Pincode"]}},LabelHeader:{ConContractEngDetails:{EmployeeID:["Employee Code","First Name","DesignationName"],ContractID:["ConContractEngCode","Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","AccCode","CandidateCode","EmpFirstName","EmployeeCode","FirstName","HTPincode","LastName","MiddleName","Pincode"],ConContractEngCode:["ConContractEngCode","ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","AccCode","CandidateCode","EmpFirstName","EmployeeCode","FirstName","HTPincode","LastName","MiddleName","Pincode"]}},Property:{ConContractEngDetails:{EmployeeID:{id:"fld148_2906",clearID:"ConContractEngDetailsFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"Engineer",fielddisplayname:"FirstName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},ContractID:{id:"fld148_2905",clearID:"ConContractEngDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractName",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ConContractEngCode:{id:"fld148_2902",labelID:"ConContractEngCode",maxLength:"20",labelname:"ConContractEngCode",frmctrlid:"fld148_2902",frmctrlidname:"ConContractEngCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{ConContractEngDetails:{EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},xa={ConContractEngIDPK:"",ConContractEngCode:"",IsDraft:!1,Remarks:"",ContractID:null,EmployeeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:null,EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",Type:"ConContractEngID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},wa=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,xa),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:Fa),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:Aa(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("148"),[ae,le]=(0,l.useState)([]),ne=(0,l.useRef)(null),[oe,re]=(0,l.useState)(!0),[ie,ce]=(0,l.useState)(!1);let de=(0,N.Z)();const[se,me]=(0,l.useState)({}),ue=e=>de[e]?de[e]:e,pe=t=>U.language?.[t]?U.language[t]:e.createEasy?se?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{ge()}),[]),(0,l.useEffect)((()=>{ge()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(Ce(U.editData[0],""),D(!0)):U.Add&&(ge(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),me(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ge()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Le(t),D(e)):(ge(),D(e))},AddOpen:e=>{ge(),D(!0)}})));const Ce=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultConContractEngID"==a?J(t.ConContractEngIDPK):(W(e.primid?Number(e.primid):t.ConContractEngIDPK?t.ConContractEngIDPK:0),j({type:"PrimaryId",payload:t.ConContractEngIDPK})),O({type:"number",name:"EmployeeID",number:t.EmployeeID?Number(t.EmployeeID):0}),O({type:"text",name:"FirstName",value:t.FirstName}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"text",name:"ConContractEngCode",value:t.ConContractEngCode?t.ConContractEngCode:""}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},ge=()=>{A([]),J(""),j({type:"PrimaryId",payload:""}),O({type:"text",name:"EmployeeID",value:null}),O({type:"text",name:"FirstName",value:""}),document.getElementById("ConContractEngDetailsFirstNameClear")&&document.getElementById("ConContractEngDetailsFirstNameClear").click(),document.getElementById("ConContractEngDetailsEmployeeIDClear")&&document.getElementById("ConContractEngDetailsEmployeeIDClear").click(),le([]),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractEngDetailsContractNameClear")&&document.getElementById("ConContractEngDetailsContractNameClear").click(),O({type:"text",name:"ConContractEngCode",value:""}),W(0),y(!0),P(""),re(!0)},De=t=>{re(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=`${S.v.Api}${Y?"FP148S1/":"FP148S19/"}`,l={data:[{p1:"SetDefaultConContractEngID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:we(k.ConContractEngCode),p3:!1,p4:"SetDefaultConContractEngID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p6:Y?k.EmployeeID:0==ae.length?0:ae.map((e=>e.EmployeeIDPK)).toString(),p7:s,p8:"SetDefaultConContractEngID"==t,p9:localStorage.getItem("userid"),p10:V()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?("SetDefaultConContractEngID"==t?H.alert({open:!0,color:"success",message:[ue("Default Record Configured")]}):H.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttConContractEngDetails"),H.loading(!1),j({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(a[0].Data.IDPK)),ge(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConContractEngDetails")&&(document.getElementById("overlayimgAttConContractEngDetails").style.width="0%",document.getElementById("overlayimgAttConContractEngDetails").style.display="none",document.getElementById("divConContractEngDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractEngDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1)),D(!0)}))}))},Ie=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP148S2/",l={data:[{p1:"SetDefaultConContractEngID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:we(k.ConContractEngCode),p3:!1,p4:"SetDefaultConContractEngID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p6:Y?k.EmployeeID:0==ae.length?0:ae.map((e=>e.EmployeeIDPK)).toString(),p7:s,p8:"SetDefaultConContractEngID"==t,p9:localStorage.getItem("userid"),p10:V()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((e=>{(0,I.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,n=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:n}),H.loading(!1)):De()):(H.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),H.loading(!1))}))}))};function Se(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[ue("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[ue("Please enter the primary fields")]}),!1;{re(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP148S1/",l={data:[{p1:"SetDefaultConContractEngID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:we(k.ConContractEngCode),p3:!0,p4:"SetDefaultConContractEngID"==n?"SetDefault":null,p5:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p6:Y?k.EmployeeID:0==ae.length?0:ae.map((e=>e.EmployeeIDPK)).toString(),p7:!1,p8:"SetDefaultConContractEngID"==n,p9:localStorage.getItem("userid"),p10:V()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[ue("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[ue("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),ge(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function Ee(e){return CreateEasy(e,U,j,H,X),!1}function fe(e,a){return AdvanceSearch(e,a,Fa,Aa(),he,t),!1}const ve=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP148S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:e.parentId?Number(e.parentId):0,p6:"0"==k.EmployeeID?null:k.EmployeeID?k.EmployeeID:ae.map((e=>e.EmployeeIDPK)).toString(),p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:"0"==k.ContractGroupID?null:k.ContractGroupID,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:"0"==k.TaxID?null:k.TaxID,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==k.CustomerID?null:k.CustomerID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==k.ContractTypeID?null:k.ContractTypeID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:"0"==k.ContractCategID?null:k.ContractCategID,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==k.ShiftID?null:k.ShiftID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==k.ClassificationID?null:k.ClassificationID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:"0"==k.DepartmentID?null:k.DepartmentID,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==k.DesignationID?null:k.DesignationID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==k.NationalityID?null:k.NationalityID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==k.EmpWorkNatureID?null:k.EmpWorkNatureID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==k.EmployeeTypeID?null:k.EmployeeTypeID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==k.EmploymentTypeID?null:k.EmploymentTypeID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==k.EmployeeGroupID?null:k.EmployeeGroupID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==k.EmpGradeID?null:k.EmpGradeID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==k.CityID?null:k.CityID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:"0"==k.RegionID?null:k.RegionID,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:"0"==k.CountryID?null:k.CountryID,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:"0"==k.EmpGenderID?null:k.EmpGenderID,p74:a?"%"+a+"%":null,p75:"0"==k.EmpTitleID?null:k.EmpTitleID,p76:a?"%"+a+"%":null,p77:a?"%"+a+"%":null,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:t,p82:r||10,p83:l,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};(0,I.Z)(i,"ClearAll"==l?s:c,"PKDrag"==n?o:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?e>0?(K(n),r&&"EmployeeIDPK"==l&&(ne.current.checkedAll(n),H.loading(!1))):K([]):K(q.concat(n)),"SetDefaultConContractEngID"==l&&(e>0?Ce(n[0],"SetDefaultConContractEngID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ne=(t,l,n)=>{const o=S.v.Api+"FP148S3/",r={data:{p1:null,p2:"ConContractEngCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:t,p82:10,p83:"ConContractEngID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ConContractEngCode"==n&&re(e>0),K(l)):("ConContractEngCode"==n&&re(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},he=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&"EmployeeID"==t&&(O({type:"text",name:"EmployeeID",value:e.EmployeeIDPK?e.EmployeeIDPK:null}),O({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:null}))}),[k]);function Te(e){if("EmployeeID"==e){if(!k.EmployeeID)return!1;O({type:"text",name:"EmployeeID",value:null}),O({type:"text",name:"FirstName",value:""}),document.getElementById("ConContractEngDetailsEmployeeIDClear")&&document.getElementById("ConContractEngDetailsEmployeeIDClear").click(),le([]),document.getElementById("ConContractEngDetailsFirstNameClear")&&document.getElementById("ConContractEngDetailsFirstNameClear").click()}else if("ContractID"==e&&!k.ContractID)return!1}function be(e){if("EmployeeID"==e){if(!k.EmployeeID)return!1;O({type:"text",name:"EmployeeID",value:null})}else if("ContractID"==e&&!k.ContractID)return!1}function Le(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ConContractEngIDPK)?Number(e.ConContractEngIDPK):0),O({type:"number",name:"EmployeeID",number:e.EmployeeID?Number(e.EmployeeID):0}),O({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"text",name:"ConContractEngCode",value:e.ConContractEngCode?e.ConContractEngCode:""})}const we=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[148]"}," ",ue("Add "),pe("148")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld148L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:ue(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld148L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ue("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ge()},id:"fld148L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ue("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld148L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Se("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Se()},frmctrlid:"fld148L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,ue("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld148L1ECSaveBtnIsAdd",name:ue(Y?"Update":"Save"),disabled:!1,onClick:()=>{!Y&&0==ae.length||Y&&(!k.EmployeeID||0==k.EmployeeID)?H.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+pe("EmployeeID")]}):e.parentId&&0!=e.parentId?Y?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ue("Are you sure?"),onConfirm:()=>Ie(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("Cancel"),showCancel:!0},ue(Y?"Do you want to Update?":"Do you want to Save?"))):De():H.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+pe("ContractID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld148L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ge(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractEngDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractEngDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractEngDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},Y?null:n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Ke.Z,{json:La,id:k.EmployeeID,"data-testid":k.EmployeeID,value:k.FirstName,SPName:"ConContractEngDetails",FieldName:"EmployeeID",tfLabel:pe("EmployeeID"),ref:ne,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return le(a=t),void a.length;var a},onChange:(e,t)=>{ve(e,t,"EmployeeIDPK")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{H.loading(!0),ve("1",t||"","EmployeeIDPK","","",e)},openSlide:()=>{Ee("197")},Tabledialog:()=>fe("197","EmployeeID"),loading:Z,clear:e=>{e&&Te("EmployeeID")}})),Y?n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:La,id:k.EmployeeID,"data-testid":k.EmployeeID,value:k.FirstName,disabled:!!Y,SPName:"ConContractEngDetails",FieldName:"EmployeeID",tfLabel:pe("EmployeeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>he(e,"EmployeeID","select"),onChange:(e,t)=>{ve(e,t,"EmployeeIDPK")},KeyBack:e=>{be("EmployeeID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("197")},Tabledialog:()=>fe("197","EmployeeID"),loading:Z,SideEntryView:!1,clear:e=>{e&&Te("EmployeeID")}})):null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:La,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConContractEngDetails",FieldName:"ContractID",tfLabel:pe("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"ContractID","select"),onChange:(e,t)=>{ve(e,t,"ContractIDPK")},KeyBack:e=>{be("ContractID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("156")},Tabledialog:()=>fe("156","ContractID"),loading:Z,clear:e=>{e&&Te("ContractID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ConContractEngCode,json:La,SPName:"ConContractEngDetails",FieldName:"ConContractEngCode",tfLabel:pe("ConContractEngCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Le(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("No"),showCancel:!0},ue("Do you want to update this record?")))})(t),onClick:()=>{oe&&Ne(1,"","ClearAll"),re(!0)},frmctrlid:"fld148_2902",frmctrlidName:"ConContractEngCode",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{oe&&Ne(e,t,"ConContractEngCode"),he(t,"ConContractEngCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:k.ConContractEngCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ConContractEngCode",value:""}),re(!0))}})))),n().createElement("div",{id:"ConContractEngDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractEngDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Ba=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(Fa),{cstate:B,cdispatch:F}=Aa(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ConContractEngIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP148S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:1,p82:10,p83:B.IsDraft?"DraftConContractEngID":"ConContractEngID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ConContractEngIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConContractEngDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld148L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld148L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld148L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld148L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(wa,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractEngDetails",tableID:148,parentID:t.ConContractEngIDPK,fldid:"fld148L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[148]"}))))))))})),Fa=(0,l.createContext)(),Aa=()=>{const e=(0,l.useContext)(Fa);if(void 0===e)throw new Error("useCont must be used within  ConContractEngDetailsContext Provider");return e},Ma=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractEngDetails-Entry").style.width="100%",document.getElementById("ConContractEngDetails-MainTable").style.width="100%",document.getElementById("ConContractEngDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractEngDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractEngDetails-Entry").style.width="100%",document.getElementById("ConContractEngDetails-MainTable").style.width="100%",document.getElementById("ConContractEngDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractEngDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractEngDetails-Entry").style.width="100%",document.getElementById("ConContractEngDetailsEntryTable").style.width="100%",document.getElementById("ConContractEngDetails-MainEntry").style.width="100%",document.getElementById("ConContractEngDetails-MainEntry").style.display="block",document.getElementById("ConContractEngDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractEngDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractEngDetails").style.width="0%",document.getElementById("overlayimgAttConContractEngDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Fa.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Aa,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractEngDetails").style.width="50%",document.getElementById("divConContractEngDetails-Entry").style.width="100%",document.getElementById("ConContractEngDetails-MainTable").style.width="100%",document.getElementById("ConContractEngDetails-MainEntry").style.width="100%",document.getElementById("ConContractEngDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractEngDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractEngDetails").style.display="block",document.getElementById("overlayimgAttConContractEngDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractEngDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractEngDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractEngDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractEngDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Ba,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:148,fileId:"LogoImgConContractEngDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractEngDetails",frmctrlid:"PvwIm_148_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractEngDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(wa,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:148,fileId:"LogoImgConContractEngDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractEngDetails",frmctrlid:"PvwIm_148_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractEngDetails-MainTable"},0!==y?n().createElement(Pa,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:148,fileId:"AttImgConContractEngDetails",imgid:"overlayimgAttConContractEngDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractEngDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_148_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractEngDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:148,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Ra=a(25108);const ka=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:_a(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP241S3/",g={data:{p1:"ContractShiftDetailIDPK"==a?null:await we(),p2:"ContractShiftDetailICode"==c&&l.length>0?"%"+l+"%":null,p3:"NoOfPrimaryEmp"==c&&l.length>0?"%"+l+"%":null,p4:"NoOfSecondaryEmp"==c&&l.length>0?"%"+l+"%":null,p5:"NoOfSupervisor"==c&&l.length>0?"%"+l+"%":null,p6:"NoOfEngineer"==c&&l.length>0?"%"+l+"%":null,p7:"Others"==c&&l.length>0?"%"+l+"%":null,p8:null,p9:null,p10:e.parentId?e.parentId:"0",p11:"ShiftName"!=c&&d.ShiftName?d.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p12:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p13:e.Dialogview?"1":null,p14:null,p15:"p15"==c&&l.length>0?l:null,p16:null,p17:null,p18:null,p19:null,p20:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p21:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p22:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p23:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p24:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p25:"TaxName"==c&&l.length>0?"%"+l+"%":null,p26:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p27:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p28:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p29:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p30:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p31:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p32:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p33:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p34:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p35:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p36:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p37:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p38:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p39:"ContractName"==c&&l.length>0?"%"+l+"%":null,p40:"ShiftCode"==c&&l.length>0?"%"+l+"%":null,p41:"ShiftName"==c&&l.length>0?"%"+l+"%":null,p42:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p43:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p44:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p45:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p46:"CityCode"==c&&l.length>0?"%"+l+"%":null,p47:"CityName"==c&&l.length>0?"%"+l+"%":null,p48:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p49:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p50:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p51:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p52:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p53:n||1,p54:10,p55:t,p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ContractShiftDetailIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ContractShiftDetailIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",LocalityID:Le("LocalityID"),ShiftID:Le("ShiftID"),ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ContractShiftDetailIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ContractShiftDetailIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ContractShiftDetailIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),ShiftID:C.ShiftName?.map((e=>e.ShiftIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld241L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld241L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld241L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Ra.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld241L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld241L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld241L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld241L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld241L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld241L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld241L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ContractShiftDetailIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterContractShiftDetailID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterContractShiftDetailID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterContractShiftDetailID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),Oa=ka;window.clickFilter="";const Za=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("241"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ContractShiftDetail",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:za),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:_a();let Pe={ContractShiftDetailIDPK:"",ContractShiftDetailICode:"",NoOfPrimaryEmp:"",NoOfSecondaryEmp:"",NoOfSupervisor:"",NoOfEngineer:"",Others:"",IsDraft:"",Remarks:"",ContractID:"",ShiftID:"",LocalityID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",ShiftCode:"",ShiftName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({LocalityName:"",ShiftName:"",NoOfPrimaryEmp:"",NoOfSecondaryEmp:"",NoOfSupervisor:"",NoOfEngineer:"",Others:"",ContractShiftDetailICode:"",ContractName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("241"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"ContractShiftDetailID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"ContractShiftDetailID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"ContractShiftDetailID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftContractShiftDetailID":"ContractShiftDetailID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP241S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("ContractShiftDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ContractShiftDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ContractShiftDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ContractShiftDetailcoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ContractShiftDetailcoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ContractShiftDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ContractShiftDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ContractShiftDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ContractShiftDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ContractShiftDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ContractShiftDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ContractShiftDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ContractShiftDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ContractShiftDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP241S3/",c={data:{p1:o||(a&&a.ContractShiftDetailIDPK?a.ContractShiftDetailIDPK:null),p2:a&&a.ContractShiftDetailICode?a.ContractShiftDetailICode:null,p3:a&&a.NoOfPrimaryEmp?a.NoOfPrimaryEmp:null,p4:a&&a.NoOfSecondaryEmp?a.NoOfSecondaryEmp:null,p5:a&&a.NoOfSupervisor?a.NoOfSupervisor:null,p6:a&&a.NoOfEngineer?a.NoOfEngineer:null,p7:a&&a.Others?a.Others:null,p8:"DraftContractShiftDetailID"==l?"1":"0",p9:null,p10:e.parentId?Number(e.parentId):0,p11:a&&a.ShiftID?a.ShiftID:null,p12:a&&a.LocalityID?a.LocalityID:null,p13:a&&a.IsActive,p14:null,p15:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p16:a&&a.CreatedTtm?a.CreatedTtm:null,p17:a&&a.CreatedTtmType?a.CreatedTtmType:null,p18:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p19:null,p20:a&&a.ContractGroupID?a.ContractGroupID:null,p21:a&&a.ContractGroupCode?a.ContractGroupCode:null,p22:a&&a.ContractGroupName?a.ContractGroupName:null,p23:a&&a.TaxID?a.TaxID:null,p24:a&&a.TaxCode?a.TaxCode:null,p25:a&&a.TaxName?a.TaxName:null,p26:a&&a.TaxValue?a.TaxValue:null,p27:a&&a.CustomerID?a.CustomerID:null,p28:a&&a.CustomerCode?a.CustomerCode:null,p29:a&&a.CustomerName?a.CustomerName:null,p30:a&&a.ContractTypeID?a.ContractTypeID:null,p31:a&&a.ContractTypCode?a.ContractTypCode:null,p32:a&&a.ContractTypeName?a.ContractTypeName:null,p33:a&&a.ContractCategID?a.ContractCategID:null,p34:a&&a.ContractCategCode?a.ContractCategCode:null,p35:a&&a.ContractCategName?a.ContractCategName:null,p36:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p37:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p38:a&&a.ContractCode?a.ContractCode:null,p39:a&&a.ContractName?a.ContractName:null,p40:a&&a.ShiftCode?a.ShiftCode:null,p41:a&&a.ShiftName?a.ShiftName:null,p42:a&&a.LocalityGroupID?a.LocalityGroupID:null,p43:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p44:a&&a.LocalityGroupName?a.LocalityGroupName:null,p45:a&&a.CityID?a.CityID:null,p46:a&&a.CityCode?a.CityCode:null,p47:a&&a.CityName?a.CityName:null,p48:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p49:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p50:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p51:a&&a.LocalityCode?a.LocalityCode:null,p52:a&&a.LocalityName?a.LocalityName:null,p53:o?1:t.current,p54:t.pageSize,p55:l,p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divContractShiftDetail-Entry").style.height="auto",document.getElementById("divContractShiftDetail-Entry").style.display="block")}else he.loading(!1),"DraftContractShiftDetailID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP241S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_241_L1_",id:"ContractShiftDetailTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftContractShiftDetailID":"ContractShiftDetailID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftContractShiftDetailID":"ContractShiftDetailID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld241L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld241L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld241L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld241L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ContractShiftDetailgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld241L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[241]"},`${Et("241")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld241L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld241L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld241L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld241L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ContractShiftDetail-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld241L1TCFilterDataIsDraft",id:"ContractShiftDetailfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld241L1TCExportPrint",formctrlidexport:"fld241L1TCExportTable",formctrlidrefresh:"fld241L1TCExportRefresh",title:Et("241"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP241S3/",c={data:{p1:t&&t.ContractShiftDetailIDPK?t.ContractShiftDetailIDPK:null,p2:t&&t.ContractShiftDetailICode?t.ContractShiftDetailICode:null,p3:t&&t.NoOfPrimaryEmp?t.NoOfPrimaryEmp:null,p4:t&&t.NoOfSecondaryEmp?t.NoOfSecondaryEmp:null,p5:t&&t.NoOfSupervisor?t.NoOfSupervisor:null,p6:t&&t.NoOfEngineer?t.NoOfEngineer:null,p7:t&&t.Others?t.Others:null,p8:Fe?"1":"0",p9:null,p10:e.parentId?Number(e.parentId):0,p11:t&&t.ShiftID?t.ShiftID:null,p12:t&&t.LocalityID?t.LocalityID:null,p13:t&&t.IsActive,p14:null,p15:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p16:t&&t.CreatedTtm?t.CreatedTtm:null,p17:t&&t.CreatedTtmType?t.CreatedTtmType:null,p18:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p19:null,p20:t&&t.ContractGroupID?t.ContractGroupID:null,p21:t&&t.ContractGroupCode?t.ContractGroupCode:null,p22:t&&t.ContractGroupName?t.ContractGroupName:null,p23:t&&t.TaxID?t.TaxID:null,p24:t&&t.TaxCode?t.TaxCode:null,p25:t&&t.TaxName?t.TaxName:null,p26:t&&t.TaxValue?t.TaxValue:null,p27:t&&t.CustomerID?t.CustomerID:null,p28:t&&t.CustomerCode?t.CustomerCode:null,p29:t&&t.CustomerName?t.CustomerName:null,p30:t&&t.ContractTypeID?t.ContractTypeID:null,p31:t&&t.ContractTypCode?t.ContractTypCode:null,p32:t&&t.ContractTypeName?t.ContractTypeName:null,p33:t&&t.ContractCategID?t.ContractCategID:null,p34:t&&t.ContractCategCode?t.ContractCategCode:null,p35:t&&t.ContractCategName?t.ContractCategName:null,p36:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p37:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p38:t&&t.ContractCode?t.ContractCode:null,p39:t&&t.ContractName?t.ContractName:null,p40:t&&t.ShiftCode?t.ShiftCode:null,p41:t&&t.ShiftName?t.ShiftName:null,p42:t&&t.LocalityGroupID?t.LocalityGroupID:null,p43:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p44:t&&t.LocalityGroupName?t.LocalityGroupName:null,p45:t&&t.CityID?t.CityID:null,p46:t&&t.CityCode?t.CityCode:null,p47:t&&t.CityName?t.CityName:null,p48:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p49:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p50:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p51:t&&t.LocalityCode?t.LocalityCode:null,p52:t&&t.LocalityName?t.LocalityName:null,p53:L.current,p54:h,p55:Fe?"DraftContractShiftDetailID":"ContractShiftDetailID",p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(241)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftContractShiftDetailID"):Tt({current:1,pageSize:100},Pe,"ContractShiftDetailID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld241L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld241L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld241L1TCFilterDataIsAdd",id:"ContractShiftDetailcoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ContractShiftDetailFilterDiv").style.width="0%",document.getElementById("ContractShiftDetailTabDiv").style.width="100%",document.getElementById("ContractShiftDetailFilterDiv").style.display="none",document.getElementById("ContractShiftDetailcoldiv").style.width="fit-content",document.getElementById("ContractShiftDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ContractShiftDetailFilterDiv").style.width="25%",document.getElementById("ContractShiftDetailTabDiv").style.width="75%",document.getElementById("ContractShiftDetailFilterDiv").style.display="block",document.getElementById("ContractShiftDetailfildiv").style.width="fit-content",document.getElementById("ContractShiftDetailfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ContractShiftDetailcoldiv").style.width="fit-content",document.getElementById("ContractShiftDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ContractShiftDetailcoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld241L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"ContractShiftDetailID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld241L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld241L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftContractShiftDetailID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("ContractShiftDetailFilterDiv").style.width="0%",document.getElementById("ContractShiftDetailTabDiv").style.width="100%",document.getElementById("ContractShiftDetailFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld241L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld241L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld241L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld241L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld241L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld241L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftContractShiftDetailID":"ContractShiftDetailID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftContractShiftDetailID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"ContractShiftDetailID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld241L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftContractShiftDetailID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"ContractShiftDetailID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ContractShiftDetail-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ContractShiftDetailFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(Oa,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"ContractShiftDetailID")},frmctrlid:"fld241L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ContractShiftDetailTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld241L1TCExpandedCardDual",data:K,id:"ContractShiftDetail",title:"ContractShiftDetailICode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),Ga={EnterKeyValues:{ContractShiftDetail:["LocalityName","ShiftName","NoOfPrimaryEmp","NoOfSecondaryEmp","NoOfSupervisor","NoOfEngineer","Others","ContractShiftDetailICode","ContractName"]},Label:{ContractShiftDetail:{LocalityID:["LocalityCode","LocalityName"],ShiftID:["ShiftCode","ShiftName"],NoOfPrimaryEmp:["ContractShiftDetailICode"],NoOfSecondaryEmp:["ContractShiftDetailICode"],NoOfSupervisor:["ContractShiftDetailICode"],NoOfEngineer:["ContractShiftDetailICode"],Others:["ContractShiftDetailICode"],ContractShiftDetailICode:["ContractShiftDetailICode"],ContractID:["ContractShiftDetailICode"]}},LabelHeader:{ContractShiftDetail:{LocalityID:["Location Code","Location Name"],ShiftID:["Shift Code","Shift Name"],NoOfPrimaryEmp:["Contract Shift Detail I Code"],NoOfSecondaryEmp:["Contract Shift Detail I Code"],NoOfSupervisor:["Contract Shift Detail I Code"],NoOfEngineer:["Contract Shift Detail I Code"],Others:["Contract Shift Detail I Code"],ContractShiftDetailICode:["Contract Shift Detail I Code"],ContractID:["ContractShiftDetailICode"]}},Property:{ContractShiftDetail:{LocalityID:{id:"fld241_4547",clearID:"ContractShiftDetailLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},ShiftID:{id:"fld241_4546",clearID:"ContractShiftDetailShiftNameClear",type:"select",labelID:"ShiftIDPK",labelname:"Shift",fielddisplayname:"ShiftName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},NoOfPrimaryEmp:{id:"fld241_4539",labelID:"NoOfPrimaryEmp",maxLength:"5",labelname:"No of Primary Employee",frmctrlid:"fld241_4539",frmctrlidname:"NoOfPrimaryEmp",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoOfSecondaryEmp:{id:"fld241_4540",labelID:"NoOfSecondaryEmp",maxLength:"5",labelname:"No of Secondary Employee",frmctrlid:"fld241_4540",frmctrlidname:"NoOfSecondaryEmp",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoOfSupervisor:{id:"fld241_4541",labelID:"NoOfSupervisor",maxLength:"5",labelname:"No of Supervisor",frmctrlid:"fld241_4541",frmctrlidname:"NoOfSupervisor",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoOfEngineer:{id:"fld241_4542",labelID:"NoOfEngineer",maxLength:"5",labelname:"No of Engineer",frmctrlid:"fld241_4542",frmctrlidname:"NoOfEngineer",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Others:{id:"fld241_4543",labelID:"Others",maxLength:"5",labelname:"Others",frmctrlid:"fld241_4543",frmctrlidname:"Others",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractShiftDetailICode:{id:"fld241_4538",labelID:"ContractShiftDetailICode",maxLength:"20",labelname:"Contract Shift Detail I Code",frmctrlid:"fld241_4538",frmctrlidname:"ContractShiftDetailICode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld241_4545",clearID:"ContractShiftDetailContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{ContractShiftDetail:{LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],ShiftID:["BreakEndTime","BreakStartTime","BreakTotalHours","FirstHalfEndTime","FirstHalfExcuseMinutes","FirstHalfStartTime","FirstHalfTotalHours","SecondHalfEndTime","SecondHalfStartTime","SecondHalfTotalHours","ShiftCode","ShiftName","ShiftTotalHours"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},qa={ContractShiftDetailIDPK:"",ContractShiftDetailICode:"",NoOfPrimaryEmp:"",NoOfSecondaryEmp:"",NoOfSupervisor:"",NoOfEngineer:"",Others:"",IsDraft:!1,Remarks:"",ContractID:null,ShiftID:null,LocalityID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",ShiftCode:"",ShiftName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",Type:"ContractShiftDetailID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ka=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,qa),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:za),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:_a(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("241"),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1);let re=(0,N.Z)();const[ie,ce]=(0,l.useState)({}),de=e=>re[e]?re[e]:e,se=t=>U.language?.[t]?U.language[t]:e.createEasy?ie?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{ue()}),[]),(0,l.useEffect)((()=>{ue()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(me(U.editData[0],""),D(!0)):U.Add&&(ue(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ce(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ue()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Ne(t),D(e)):(ue(),D(e))},AddOpen:e=>{ue(),D(!0)}})));const me=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultContractShiftDetailID"==a?J(t.ContractShiftDetailIDPK):(W(e.primid?Number(e.primid):t.ContractShiftDetailIDPK?t.ContractShiftDetailIDPK:0),j({type:"PrimaryId",payload:t.ContractShiftDetailIDPK})),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"ShiftID",number:t.ShiftID?Number(t.ShiftID):0}),O({type:"text",name:"ShiftName",value:t.ShiftName}),O({type:"number",name:"NoOfPrimaryEmp",number:t.NoOfPrimaryEmp}),O({type:"number",name:"NoOfSecondaryEmp",number:t.NoOfSecondaryEmp}),O({type:"number",name:"NoOfSupervisor",number:t.NoOfSupervisor}),O({type:"number",name:"NoOfEngineer",number:t.NoOfEngineer}),O({type:"number",name:"Others",number:t.Others}),O({type:"text",name:"ContractShiftDetailICode",value:t.ContractShiftDetailICode?t.ContractShiftDetailICode:""}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},ue=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ContractShiftDetailLocalityNameClear")&&document.getElementById("ContractShiftDetailLocalityNameClear").click(),O({type:"text",name:"ShiftID",value:null}),O({type:"text",name:"ShiftName",value:""}),document.getElementById("ContractShiftDetailShiftNameClear")&&document.getElementById("ContractShiftDetailShiftNameClear").click(),O({type:"number",name:"NoOfPrimaryEmp",number:0}),O({type:"number",name:"NoOfSecondaryEmp",number:0}),O({type:"number",name:"NoOfSupervisor",number:0}),O({type:"number",name:"NoOfEngineer",number:0}),O({type:"number",name:"Others",number:0}),O({type:"text",name:"ContractShiftDetailICode",value:""}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ContractShiftDetailContractNameClear")&&document.getElementById("ContractShiftDetailContractNameClear").click(),y(!0),P(""),le(!0)},pe=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP241S2/",l={data:[{p1:"SetDefaultContractShiftDetailID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:he(k.ContractShiftDetailICode),p3:k.NoOfPrimaryEmp?Number(k.NoOfPrimaryEmp):0,p4:k.NoOfSecondaryEmp?Number(k.NoOfSecondaryEmp):0,p5:k.NoOfSupervisor?Number(k.NoOfSupervisor):0,p6:k.NoOfEngineer?Number(k.NoOfEngineer):0,p7:k.Others?Number(k.Others):0,p8:!1,p9:"SetDefaultContractShiftDetailID"==t?"SetDefault":null,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.ShiftID?k.ShiftID:0,p12:k.LocalityID?k.LocalityID:0,p13:s,p14:"SetDefaultContractShiftDetailID"==t,p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{le(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP241S1/",l={data:[{p1:Y,p2:he(k.ContractShiftDetailICode),p3:k.NoOfPrimaryEmp?Number(k.NoOfPrimaryEmp):0,p4:k.NoOfSecondaryEmp?Number(k.NoOfSecondaryEmp):0,p5:k.NoOfSupervisor?Number(k.NoOfSupervisor):0,p6:k.NoOfEngineer?Number(k.NoOfEngineer):0,p7:k.Others?Number(k.Others):0,p8:!1,p9:null,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.ShiftID?k.ShiftID:0,p12:k.LocalityID?k.LocalityID:0,p13:s,p14:!1,p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttContractShiftDetail"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),ue(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttContractShiftDetail")&&(document.getElementById("overlayimgAttContractShiftDetail").style.width="0%",document.getElementById("overlayimgAttContractShiftDetail").style.display="none",document.getElementById("divContractShiftDetail-Entry").style.width="100%"),e.createEasy||(document.getElementById("ContractShiftDetail-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function Ce(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[de("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[de("Please enter the primary fields")]}),!1;{le(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP241S1/",l={data:[{p1:"SetDefaultContractShiftDetailID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:he(k.ContractShiftDetailICode),p3:k.NoOfPrimaryEmp?Number(k.NoOfPrimaryEmp):0,p4:k.NoOfSecondaryEmp?Number(k.NoOfSecondaryEmp):0,p5:k.NoOfSupervisor?Number(k.NoOfSupervisor):0,p6:k.NoOfEngineer?Number(k.NoOfEngineer):0,p7:k.Others?Number(k.Others):0,p8:!0,p9:"SetDefaultContractShiftDetailID"==n?"SetDefault":null,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.ShiftID?k.ShiftID:0,p12:k.LocalityID?k.LocalityID:0,p13:!1,p14:"SetDefaultContractShiftDetailID"==n,p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[de("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[de("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),ue(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function ge(e){return CreateEasy(e,U,j,H,X),!1}function De(e,a){return AdvanceSearch(e,a,za,_a(),Ee,t),!1}const Ie=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP241S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.parentId?Number(e.parentId):0,p11:"0"==k.ShiftID?null:k.ShiftID,p12:"0"==k.LocalityID?null:k.LocalityID,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:"0"==k.ContractGroupID?null:k.ContractGroupID,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:"0"==k.TaxID?null:k.TaxID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:"0"==k.CustomerID?null:k.CustomerID,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==k.ContractTypeID?null:k.ContractTypeID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.ContractCategID?null:k.ContractCategID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==k.CityID?null:k.CityID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:t,p54:10,p55:l,p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultContractShiftDetailID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultContractShiftDetailID"==l&&(e>0?me(n[0],"SetDefaultContractShiftDetailID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Se=(t,l,n)=>{const o=S.v.Api+"FP241S3/",r={data:{p1:null,p2:"ContractShiftDetailICode"==n&&l?"%"+l+"%":null,p3:"NoOfPrimaryEmp"==n&&l?"%"+l+"%":null,p4:"NoOfSecondaryEmp"==n&&l?"%"+l+"%":null,p5:"NoOfSupervisor"==n&&l?"%"+l+"%":null,p6:"NoOfEngineer"==n&&l?"%"+l+"%":null,p7:"Others"==n&&l?"%"+l+"%":null,p8:null,p9:null,p10:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p11:null,p12:null,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:t,p54:10,p55:"ContractShiftDetailID",p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ContractShiftDetailICode"==n&&le(e>0),K(l)):("ContractShiftDetailICode"==n&&le(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ee=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("LocalityID"==t?(O({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"ShiftID"==t&&(O({type:"text",name:"ShiftID",value:e.ShiftIDPK?e.ShiftIDPK:null}),O({type:"text",name:"ShiftName",value:e.ShiftName?e.ShiftName:null})))}),[k]);function fe(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ContractShiftDetailLocalityNameClear")&&document.getElementById("ContractShiftDetailLocalityNameClear").click()}else if("ShiftID"==e){if(!k.ShiftID)return!1;O({type:"text",name:"ShiftID",value:null}),O({type:"text",name:"ShiftName",value:""}),document.getElementById("ContractShiftDetailShiftNameClear")&&document.getElementById("ContractShiftDetailShiftNameClear").click()}else if("ContractID"==e&&!k.ContractID)return!1}function ve(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null})}else if("ShiftID"==e){if(!k.ShiftID)return!1;O({type:"text",name:"ShiftID",value:null})}else if("ContractID"==e&&!k.ContractID)return!1}function Ne(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ContractShiftDetailIDPK)?Number(e.ContractShiftDetailIDPK):0),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"ShiftID",number:e.ShiftID?Number(e.ShiftID):0}),O({type:"text",name:"ShiftName",value:e.ShiftName?e.ShiftName:""}),O({type:"number",name:"NoOfPrimaryEmp",number:e.NoOfPrimaryEmp?Number(e.NoOfPrimaryEmp):0}),O({type:"number",name:"NoOfSecondaryEmp",number:e.NoOfSecondaryEmp?Number(e.NoOfSecondaryEmp):0}),O({type:"number",name:"NoOfSupervisor",number:e.NoOfSupervisor?Number(e.NoOfSupervisor):0}),O({type:"number",name:"NoOfEngineer",number:e.NoOfEngineer?Number(e.NoOfEngineer):0}),O({type:"number",name:"Others",number:e.Others?Number(e.Others):0}),O({type:"text",name:"ContractShiftDetailICode",value:e.ContractShiftDetailICode?e.ContractShiftDetailICode:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const he=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[241]"}," ",de("Add "),se("241")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld241L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:de(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld241L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,de("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ue()},id:"fld241L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,de("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld241L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ce("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Ce()},frmctrlid:"fld241L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,de("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld241L1ECSaveBtnIsAdd",name:de(Y?"Update":"Save"),disabled:!1,onClick:()=>{k.LocalityID&&0!=k.LocalityID?k.ShiftID&&0!=k.ShiftID?e.parentId&&0!=e.parentId?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:de("Are you sure?"),onConfirm:()=>pe(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:de("Yes"),cancelBtnText:de("Cancel"),showCancel:!0},de(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[de("Please select the ")+" "+se("ContractID")]}):H.alert({open:!0,color:"warning",message:[de("Please select the ")+" "+se("ShiftID")]}):H.alert({open:!0,color:"warning",message:[de("Please select the ")+" "+se("LocalityID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld241L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ue(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ContractShiftDetail-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ContractShiftDetail-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ContractShiftDetail-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Ga,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,disabled:!!Y,SPName:"ContractShiftDetail",FieldName:"LocalityID",tfLabel:se("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ee(e,"LocalityID","select"),onChange:(e,t)=>{Ie(e,t,"LocalityIDPK")},KeyBack:e=>{ve("LocalityID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ge("12")},Tabledialog:()=>De("12","LocalityID"),loading:Z,clear:e=>{e&&fe("LocalityID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Ga,id:k.ShiftID,"data-testid":k.ShiftID,value:k.ShiftName,disabled:!!Y,SPName:"ContractShiftDetail",FieldName:"ShiftID",tfLabel:se("ShiftID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ee(e,"ShiftID","select"),onChange:(e,t)=>{Ie(e,t,"ShiftIDPK")},KeyBack:e=>{ve("ShiftID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ge("199")},Tabledialog:()=>De("199","ShiftID"),loading:Z,clear:e=>{e&&fe("ShiftID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Ga,"data-testid":k.NoOfPrimaryEmp,SPName:"ContractShiftDetail",FieldName:"NoOfPrimaryEmp",tfLabel:se("NoOfPrimaryEmp"),frmctrlid:"fld241_4539",fieldorder:"3",disabled:!!Y,onChange:e=>{Ee(e,"NoOfPrimaryEmp","number")},clear:e=>{e&&O({type:"number",name:"NoOfPrimaryEmp",number:0})},value:k.NoOfPrimaryEmp})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Ga,"data-testid":k.NoOfSecondaryEmp,SPName:"ContractShiftDetail",FieldName:"NoOfSecondaryEmp",tfLabel:se("NoOfSecondaryEmp"),frmctrlid:"fld241_4540",fieldorder:"4",disabled:!!Y,onChange:e=>{Ee(e,"NoOfSecondaryEmp","number")},clear:e=>{e&&O({type:"number",name:"NoOfSecondaryEmp",number:0})},value:k.NoOfSecondaryEmp})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Ga,"data-testid":k.NoOfSupervisor,SPName:"ContractShiftDetail",FieldName:"NoOfSupervisor",tfLabel:se("NoOfSupervisor"),frmctrlid:"fld241_4541",fieldorder:"1",disabled:!!Y,onChange:e=>{Ee(e,"NoOfSupervisor","number")},clear:e=>{e&&O({type:"number",name:"NoOfSupervisor",number:0})},value:k.NoOfSupervisor})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Ga,"data-testid":k.NoOfEngineer,SPName:"ContractShiftDetail",FieldName:"NoOfEngineer",tfLabel:se("NoOfEngineer"),frmctrlid:"fld241_4542",fieldorder:"2",disabled:!!Y,onChange:e=>{Ee(e,"NoOfEngineer","number")},clear:e=>{e&&O({type:"number",name:"NoOfEngineer",number:0})},value:k.NoOfEngineer})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Ga,"data-testid":k.Others,SPName:"ContractShiftDetail",FieldName:"Others",tfLabel:se("Others"),frmctrlid:"fld241_4543",fieldorder:"3",disabled:!!Y,onChange:e=>{Ee(e,"Others","number")},clear:e=>{e&&O({type:"number",name:"Others",number:0})},value:k.Others})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ContractShiftDetailICode,json:Ga,SPName:"ContractShiftDetail",FieldName:"ContractShiftDetailICode",tfLabel:se("ContractShiftDetailICode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ne(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:de("Yes"),cancelBtnText:de("No"),showCancel:!0},de("Do you want to update this record?")))})(t),onClick:()=>{ae&&Se(1,"","ClearAll"),le(!0)},frmctrlid:"fld241_4538",frmctrlidName:"ContractShiftDetailICode",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ae&&Se(e,t,"ContractShiftDetailICode"),Ee(t,"ContractShiftDetailICode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.ContractShiftDetailICode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ContractShiftDetailICode",value:""}),le(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Ga,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ContractShiftDetail",FieldName:"ContractID",tfLabel:se("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ee(e,"ContractID","select"),onChange:(e,t)=>{Ie(e,t,"ContractIDPK")},KeyBack:e=>{ve("ContractID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ge("156")},Tabledialog:()=>De("156","ContractID"),loading:Z,clear:e=>{e&&fe("ContractID")}})))),n().createElement("div",{id:"ContractShiftDetailSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ContractShiftDetailSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Va=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(za),{cstate:B,cdispatch:F}=_a(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ContractShiftDetailIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP241S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:e.Dialogview?"1":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:1,p54:10,p55:B.IsDraft?"DraftContractShiftDetailID":"ContractShiftDetailID",p56:null,p57:null,p58:localStorage.getItem("UserGroupID"),p59:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ContractShiftDetailIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ContractShiftDetail"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld241L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld241L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld241L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld241L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(Ka,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ContractShiftDetail",tableID:241,parentID:t.ContractShiftDetailIDPK,fldid:"fld241L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[241]"}))))))))})),za=(0,l.createContext)(),_a=()=>{const e=(0,l.useContext)(za);if(void 0===e)throw new Error("useCont must be used within  ContractShiftDetailContext Provider");return e},Qa=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divContractShiftDetail-Entry").style.width="100%",document.getElementById("ContractShiftDetail-MainTable").style.width="100%",document.getElementById("ContractShiftDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ContractShiftDetail-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divContractShiftDetail-Entry").style.width="100%",document.getElementById("ContractShiftDetail-MainTable").style.width="100%",document.getElementById("ContractShiftDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ContractShiftDetail-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divContractShiftDetail-Entry").style.width="100%",document.getElementById("ContractShiftDetailEntryTable").style.width="100%",document.getElementById("ContractShiftDetail-MainEntry").style.width="100%",document.getElementById("ContractShiftDetail-MainEntry").style.display="block",document.getElementById("ContractShiftDetail-MainDiv").classList.add("displayFlex"),document.getElementById("ContractShiftDetail-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttContractShiftDetail").style.width="0%",document.getElementById("overlayimgAttContractShiftDetail").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(za.Provider,{value:{cstate:D,cdispatch:I,ContextApi:_a,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewContractShiftDetail").style.width="50%",document.getElementById("divContractShiftDetail-Entry").style.width="100%",document.getElementById("ContractShiftDetail-MainTable").style.width="100%",document.getElementById("ContractShiftDetail-MainEntry").style.width="100%",document.getElementById("ContractShiftDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ContractShiftDetail-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttContractShiftDetail").style.display="block",document.getElementById("overlayimgAttContractShiftDetail").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ContractShiftDetail-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ContractShiftDetail-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ContractShiftDetailEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divContractShiftDetail-Entry",style:{width:"100%"}},0!==y?n().createElement(Va,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:241,fileId:"LogoImgContractShiftDetail",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewContractShiftDetail",frmctrlid:"PvwIm_241_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divContractShiftDetail-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Ka,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:241,fileId:"LogoImgContractShiftDetail",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewContractShiftDetail",frmctrlid:"PvwIm_241_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ContractShiftDetail-MainTable"},0!==y?n().createElement(Za,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:241,fileId:"AttImgContractShiftDetail",imgid:"overlayimgAttContractShiftDetail",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewContractShiftDetail",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_241_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ContractShiftDetail-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:241,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Ha=a(25108);const Ua=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:tl(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP236S3/",g={data:{p1:"ConMPRateCardDetIDPK"==a?null:await we(),p2:"ConMPRateCardDetCode"==c&&l.length>0?"%"+l+"%":null,p3:"ManPowerRate"==c&&l.length>0?"%"+l+"%":null,p4:"OTRate"==c&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:"RatePerMonth"==c&&l.length>0?"%"+l+"%":null,p12:"RatePerDay"==c&&l.length>0?"%"+l+"%":null,p13:null,p14:null,p15:e.parentId?e.parentId:"0",p16:"DesignationName"!=c&&d.DesignationName?d.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p17:"EmployeeGroupName"!=c&&d.EmployeeGroupName?d.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p18:e.Dialogview?"1":null,p19:null,p20:"p20"==c&&l.length>0?l:null,p21:null,p22:null,p23:null,p24:null,p25:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p26:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p27:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p28:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p29:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p30:"TaxName"==c&&l.length>0?"%"+l+"%":null,p31:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p32:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p33:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p34:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p35:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p36:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p37:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p38:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p39:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p40:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p41:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p42:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p43:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p44:"ContractName"==c&&l.length>0?"%"+l+"%":null,p45:"LevelName"!=c&&d.LevelName?d.LevelName.map((e=>e.LevelIDPK)).toString():null,p46:"LevelCode"==c&&l.length>0?"%"+l+"%":null,p47:"LevelName"==c&&l.length>0?"%"+l+"%":null,p48:"DesignationCode"==c&&l.length>0?"%"+l+"%":null,p49:"DesignationName"==c&&l.length>0?"%"+l+"%":null,p50:"EmployeeGroupCode"==c&&l.length>0?"%"+l+"%":null,p51:"EmployeeGroupName"==c&&l.length>0?"%"+l+"%":null,p52:n||1,p53:10,p54:t,p55:null,p56:null,p57:localStorage.getItem("UserGroupID"),p58:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ConMPRateCardDetIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ConMPRateCardDetIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",RateStartDate:l.RateStartDate?l.RateStartDate.From:"",RateStartDateType:l.RateStartDate?l.RateStartDate.Type:"",RateStartDateBetween:l.RateStartDate?l.RateStartDate.To:"",RateEndDate:l.RateEndDate?l.RateEndDate.From:"",RateEndDateType:l.RateEndDate?l.RateEndDate.Type:"",RateEndDateBetween:l.RateEndDate?l.RateEndDate.To:"",DesignationID:Le("DesignationID"),EmployeeGroupID:Le("EmployeeGroupID"),ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ConMPRateCardDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ConMPRateCardDetIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ConMPRateCardDetIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,RateStartDate:c.RateStartDate?c.RateStartDate.From:"",RateStartDateType:c.RateStartDate?c.RateStartDate.Type:"",RateStartDateBetween:c.RateStartDate?c.RateStartDate.To:"",RateEndDate:c.RateEndDate?c.RateEndDate.From:"",RateEndDateType:c.RateEndDate?c.RateEndDate.Type:"",RateEndDateBetween:c.RateEndDate?c.RateEndDate.To:"",DesignationID:C.DesignationName?.map((e=>e.DesignationIDPK)).toString(),EmployeeGroupID:C.EmployeeGroupName?.map((e=>e.EmployeeGroupIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld236L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld236L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld236L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Ha.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld236L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld236L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld236L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld236L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld236L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld236L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld236L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ConMPRateCardDetIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterConMPRateCardDetID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterConMPRateCardDetID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterConMPRateCardDetID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),ja=Ua;window.clickFilter="";const Ya=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("236"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ConManPowerRateCardDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:el),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:tl();let Pe={ConMPRateCardDetIDPK:"",ConMPRateCardDetCode:"",ManPowerRate:"",OTRate:"",RateStartDate:"",RateStartDateType:"",RateStartDateBetween:"",RateEndDate:"",RateEndDateType:"",RateEndDateBetween:"",RatePerMonth:"",RatePerDay:"",IsDraft:"",Remarks:"",ContractID:"",DesignationID:"",EmployeeGroupID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LevelID:"",LevelCode:"",LevelName:"",DesignationCode:"",DesignationName:"",EmployeeGroupCode:"",EmployeeGroupName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({DesignationName:"",EmployeeGroupName:"",RateStartDate:"",RateEndDate:"",ManPowerRate:"",OTRate:"",RatePerMonth:"",RatePerDay:"",ContractName:"",ConMPRateCardDetCode:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("236"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"ConMPRateCardDetID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"ConMPRateCardDetID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"ConMPRateCardDetID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftConMPRateCardDetID":"ConMPRateCardDetID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP236S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("ConManPowerRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConManPowerRateCardDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConManPowerRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ConManPowerRateCardDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConManPowerRateCardDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConManPowerRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConManPowerRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConManPowerRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConManPowerRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConManPowerRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConManPowerRateCardDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConManPowerRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ConManPowerRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConManPowerRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP236S3/",c={data:{p1:o||(a&&a.ConMPRateCardDetIDPK?a.ConMPRateCardDetIDPK:null),p2:a&&a.ConMPRateCardDetCode?a.ConMPRateCardDetCode:null,p3:a&&a.ManPowerRate?a.ManPowerRate:null,p4:a&&a.OTRate?a.OTRate:null,p5:a&&a.RateStartDate?a.RateStartDate:null,p6:a&&a.RateStartDateType?a.RateStartDateType:null,p7:a&&a.RateStartDateBetween?a.RateStartDateBetween:null,p8:a&&a.RateEndDate?a.RateEndDate:null,p9:a&&a.RateEndDateType?a.RateEndDateType:null,p10:a&&a.RateEndDateBetween?a.RateEndDateBetween:null,p11:a&&a.RatePerMonth?a.RatePerMonth:null,p12:a&&a.RatePerDay?a.RatePerDay:null,p13:"DraftConMPRateCardDetID"==l?"1":"0",p14:null,p15:e.parentId?Number(e.parentId):0,p16:a&&a.DesignationID?a.DesignationID:null,p17:a&&a.EmployeeGroupID?a.EmployeeGroupID:null,p18:a&&a.IsActive,p19:null,p20:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p21:a&&a.CreatedTtm?a.CreatedTtm:null,p22:a&&a.CreatedTtmType?a.CreatedTtmType:null,p23:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p24:null,p25:a&&a.ContractGroupID?a.ContractGroupID:null,p26:a&&a.ContractGroupCode?a.ContractGroupCode:null,p27:a&&a.ContractGroupName?a.ContractGroupName:null,p28:a&&a.TaxID?a.TaxID:null,p29:a&&a.TaxCode?a.TaxCode:null,p30:a&&a.TaxName?a.TaxName:null,p31:a&&a.TaxValue?a.TaxValue:null,p32:a&&a.CustomerID?a.CustomerID:null,p33:a&&a.CustomerCode?a.CustomerCode:null,p34:a&&a.CustomerName?a.CustomerName:null,p35:a&&a.ContractTypeID?a.ContractTypeID:null,p36:a&&a.ContractTypCode?a.ContractTypCode:null,p37:a&&a.ContractTypeName?a.ContractTypeName:null,p38:a&&a.ContractCategID?a.ContractCategID:null,p39:a&&a.ContractCategCode?a.ContractCategCode:null,p40:a&&a.ContractCategName?a.ContractCategName:null,p41:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p42:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p43:a&&a.ContractCode?a.ContractCode:null,p44:a&&a.ContractName?a.ContractName:null,p45:a&&a.LevelID?a.LevelID:null,p46:a&&a.LevelCode?a.LevelCode:null,p47:a&&a.LevelName?a.LevelName:null,p48:a&&a.DesignationCode?a.DesignationCode:null,p49:a&&a.DesignationName?a.DesignationName:null,p50:a&&a.EmployeeGroupCode?a.EmployeeGroupCode:null,p51:a&&a.EmployeeGroupName?a.EmployeeGroupName:null,p52:o?1:t.current,p53:t.pageSize,p54:l,p55:null,p56:null,p57:localStorage.getItem("UserGroupID"),p58:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divConManPowerRateCardDetails-Entry").style.height="auto",document.getElementById("divConManPowerRateCardDetails-Entry").style.display="block")}else he.loading(!1),"DraftConMPRateCardDetID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP236S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_236_L1_",id:"ConManPowerRateCardDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftConMPRateCardDetID":"ConMPRateCardDetID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftConMPRateCardDetID":"ConMPRateCardDetID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld236L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld236L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld236L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld236L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConManPowerRateCardDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld236L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[236]"},`${Et("236")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld236L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld236L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld236L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld236L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConManPowerRateCardDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld236L1TCFilterDataIsDraft",id:"ConManPowerRateCardDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld236L1TCExportPrint",formctrlidexport:"fld236L1TCExportTable",formctrlidrefresh:"fld236L1TCExportRefresh",title:Et("236"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP236S3/",c={data:{p1:t&&t.ConMPRateCardDetIDPK?t.ConMPRateCardDetIDPK:null,p2:t&&t.ConMPRateCardDetCode?t.ConMPRateCardDetCode:null,p3:t&&t.ManPowerRate?t.ManPowerRate:null,p4:t&&t.OTRate?t.OTRate:null,p5:t&&t.RateStartDate?t.RateStartDate:null,p6:t&&t.RateStartDateType?t.RateStartDateType:null,p7:t&&t.RateStartDateBetween?t.RateStartDateBetween:null,p8:t&&t.RateEndDate?t.RateEndDate:null,p9:t&&t.RateEndDateType?t.RateEndDateType:null,p10:t&&t.RateEndDateBetween?t.RateEndDateBetween:null,p11:t&&t.RatePerMonth?t.RatePerMonth:null,p12:t&&t.RatePerDay?t.RatePerDay:null,p13:Fe?"1":"0",p14:null,p15:e.parentId?Number(e.parentId):0,p16:t&&t.DesignationID?t.DesignationID:null,p17:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p18:t&&t.IsActive,p19:null,p20:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p21:t&&t.CreatedTtm?t.CreatedTtm:null,p22:t&&t.CreatedTtmType?t.CreatedTtmType:null,p23:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p24:null,p25:t&&t.ContractGroupID?t.ContractGroupID:null,p26:t&&t.ContractGroupCode?t.ContractGroupCode:null,p27:t&&t.ContractGroupName?t.ContractGroupName:null,p28:t&&t.TaxID?t.TaxID:null,p29:t&&t.TaxCode?t.TaxCode:null,p30:t&&t.TaxName?t.TaxName:null,p31:t&&t.TaxValue?t.TaxValue:null,p32:t&&t.CustomerID?t.CustomerID:null,p33:t&&t.CustomerCode?t.CustomerCode:null,p34:t&&t.CustomerName?t.CustomerName:null,p35:t&&t.ContractTypeID?t.ContractTypeID:null,p36:t&&t.ContractTypCode?t.ContractTypCode:null,p37:t&&t.ContractTypeName?t.ContractTypeName:null,p38:t&&t.ContractCategID?t.ContractCategID:null,p39:t&&t.ContractCategCode?t.ContractCategCode:null,p40:t&&t.ContractCategName?t.ContractCategName:null,p41:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p42:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p43:t&&t.ContractCode?t.ContractCode:null,p44:t&&t.ContractName?t.ContractName:null,p45:t&&t.LevelID?t.LevelID:null,p46:t&&t.LevelCode?t.LevelCode:null,p47:t&&t.LevelName?t.LevelName:null,p48:t&&t.DesignationCode?t.DesignationCode:null,p49:t&&t.DesignationName?t.DesignationName:null,p50:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p51:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p52:L.current,p53:h,p54:Fe?"DraftConMPRateCardDetID":"ConMPRateCardDetID",p55:null,p56:null,p57:localStorage.getItem("UserGroupID"),p58:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(236)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftConMPRateCardDetID"):Tt({current:1,pageSize:100},Pe,"ConMPRateCardDetID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld236L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld236L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld236L1TCFilterDataIsAdd",id:"ConManPowerRateCardDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ConManPowerRateCardDetailsFilterDiv").style.width="0%",document.getElementById("ConManPowerRateCardDetailsTabDiv").style.width="100%",document.getElementById("ConManPowerRateCardDetailsFilterDiv").style.display="none",document.getElementById("ConManPowerRateCardDetailscoldiv").style.width="fit-content",document.getElementById("ConManPowerRateCardDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ConManPowerRateCardDetailsFilterDiv").style.width="25%",document.getElementById("ConManPowerRateCardDetailsTabDiv").style.width="75%",document.getElementById("ConManPowerRateCardDetailsFilterDiv").style.display="block",document.getElementById("ConManPowerRateCardDetailsfildiv").style.width="fit-content",document.getElementById("ConManPowerRateCardDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConManPowerRateCardDetailscoldiv").style.width="fit-content",document.getElementById("ConManPowerRateCardDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ConManPowerRateCardDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld236L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"ConMPRateCardDetID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld236L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld236L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftConMPRateCardDetID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("ConManPowerRateCardDetailsFilterDiv").style.width="0%",document.getElementById("ConManPowerRateCardDetailsTabDiv").style.width="100%",document.getElementById("ConManPowerRateCardDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld236L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld236L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld236L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld236L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld236L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld236L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftConMPRateCardDetID":"ConMPRateCardDetID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftConMPRateCardDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"ConMPRateCardDetID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld236L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftConMPRateCardDetID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"ConMPRateCardDetID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ConManPowerRateCardDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConManPowerRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(ja,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"ConMPRateCardDetID")},frmctrlid:"fld236L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ConManPowerRateCardDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld236L1TCExpandedCardDual",data:K,id:"ConManPowerRateCardDetails",title:"ConMPRateCardDetCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),Wa={EnterKeyValues:{ConManPowerRateCardDetails:["DesignationName","EmployeeGroupName","RateStartDate","RateEndDate","ManPowerRate","OTRate","RatePerMonth","RatePerDay","ContractName","ConMPRateCardDetCode"]},Label:{ConManPowerRateCardDetails:{DesignationID:["DesignationCode","DesignationName"],EmployeeGroupID:["EmployeeGroupCode","EmployeeGroupName"],RateStartDate:["ConMPRateCardDetCode"],RateEndDate:["ConMPRateCardDetCode"],ManPowerRate:["ConMPRateCardDetCode"],OTRate:["ConMPRateCardDetCode"],RatePerMonth:["ConMPRateCardDetCode"],RatePerDay:["ConMPRateCardDetCode"],ContractID:["ConMPRateCardDetCode"],ConMPRateCardDetCode:["ConMPRateCardDetCode"]}},LabelHeader:{ConManPowerRateCardDetails:{DesignationID:["Designation Code","Designation Name"],EmployeeGroupID:["Employee Group Code","Employee Group Name"],RateStartDate:["Con MP Rate Card Det Code"],RateEndDate:["Con MP Rate Card Det Code"],ManPowerRate:["Con MP Rate Card Det Code"],OTRate:["Con MP Rate Card Det Code"],RatePerMonth:["Con MP Rate Card Det Code"],RatePerDay:["Con MP Rate Card Det Code"],ContractID:["ConMPRateCardDetCode"],ConMPRateCardDetCode:["Con MP Rate Card Det Code"]}},Property:{ConManPowerRateCardDetails:{DesignationID:{id:"fld236_4465",clearID:"ConManPowerRateCardDetailsDesignationNameClear",type:"select",labelID:"DesignationIDPK",labelname:"Designation",fielddisplayname:"DesignationName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},EmployeeGroupID:{id:"fld236_4468",clearID:"ConManPowerRateCardDetailsEmployeeGroupNameClear",type:"select",labelID:"EmployeeGroupIDPK",labelname:"Employee Group",fielddisplayname:"EmployeeGroupName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},RateStartDate:{id:"fld236_4457",labelID:"RateStartDate",maxLength:"",labelname:"Start Date",frmctrlid:"fld236_4457",frmctrlidname:"RateStartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RateEndDate:{id:"fld236_4458",labelID:"RateEndDate",maxLength:"",labelname:"End Date",frmctrlid:"fld236_4458",frmctrlidname:"RateEndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ManPowerRate:{id:"fld236_4455",labelID:"ManPowerRate",maxLength:"5",labelname:"Rate Per Hour",frmctrlid:"fld236_4455",frmctrlidname:"ManPowerRate",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},OTRate:{id:"fld236_4456",labelID:"OTRate",maxLength:"5",labelname:"OT Rate Per Hour",frmctrlid:"fld236_4456",frmctrlidname:"OTRate",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RatePerMonth:{id:"fld236_4459",labelID:"RatePerMonth",maxLength:"5",labelname:"Rate Per Month",frmctrlid:"fld236_4459",frmctrlidname:"RatePerMonth",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RatePerDay:{id:"fld236_4460",labelID:"RatePerDay",maxLength:"5",labelname:"Rate Per Day",frmctrlid:"fld236_4460",frmctrlidname:"RatePerDay",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld236_4466",clearID:"ConManPowerRateCardDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractID",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ConMPRateCardDetCode:{id:"fld236_4454",labelID:"ConMPRateCardDetCode",maxLength:"10",labelname:"Con MP Rate Card Det Code",frmctrlid:"fld236_4454",frmctrlidname:"ConMPRateCardDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{ConManPowerRateCardDetails:{DesignationID:["DesignationCode","DesignationName","LevelName"],EmployeeGroupID:["EmployeeGroupCode","EmployeeGroupName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},$a={ConMPRateCardDetIDPK:"",ConMPRateCardDetCode:"",ManPowerRate:"",OTRate:"",RateStartDate:"",RateStartDateType:"",RateStartDateBetween:"",RateEndDate:"",RateEndDateType:"",RateEndDateBetween:"",RatePerMonth:"",RatePerDay:"",IsDraft:!1,Remarks:"",ContractID:null,DesignationID:null,EmployeeGroupID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LevelID:null,LevelCode:"",LevelName:"",DesignationCode:"",DesignationName:"",EmployeeGroupCode:"",EmployeeGroupName:"",Type:"ConMPRateCardDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ja=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,$a),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:el),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:tl(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("236"),[ae,le]=(0,l.useState)(""),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(!0),[ce,de]=(0,l.useState)(!1);let se=(0,N.Z)();const[me,ue]=(0,l.useState)({}),pe=e=>se[e]?se[e]:e,Ce=t=>U.language?.[t]?U.language[t]:e.createEasy?me?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Se()}),[]),(0,l.useEffect)((()=>{Se()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(Ie(U.editData[0],""),D(!0)):U.Add&&(Se(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ue(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Ze(t),D(e)):(Se(),D(e))},AddOpen:e=>{Se(),D(!0)}})));const ge=e=>e?e.split("-").reverse().join("-"):null,De=e=>{if(e){let t=ge(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},Ie=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultConMPRateCardDetID"==a?J(t.ConMPRateCardDetIDPK):(W(e.primid?Number(e.primid):t.ConMPRateCardDetIDPK?t.ConMPRateCardDetIDPK:0),j({type:"PrimaryId",payload:t.ConMPRateCardDetIDPK})),O({type:"number",name:"DesignationID",number:t.DesignationID?Number(t.DesignationID):0}),O({type:"text",name:"DesignationName",value:t.DesignationName}),O({type:"number",name:"EmployeeGroupID",number:t.EmployeeGroupID?Number(t.EmployeeGroupID):0}),O({type:"text",name:"EmployeeGroupName",value:t.EmployeeGroupName}),O({type:"text",name:"RateStartDate",value:t.RateStartDate?ge(t.RateStartDate):null}),O({type:"text",name:"RateEndDate",value:t.RateEndDate?ge(t.RateEndDate):null}),O({type:"number",name:"ManPowerRate",number:Number(t.ManPowerRate)}),O({type:"number",name:"OTRate",number:Number(t.OTRate)}),O({type:"number",name:"RatePerMonth",number:Number(t.RatePerMonth)}),O({type:"number",name:"RatePerDay",number:Number(t.RatePerDay)}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"text",name:"ConMPRateCardDetCode",value:t.ConMPRateCardDetCode?t.ConMPRateCardDetCode:""}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Se=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"DesignationID",value:null}),O({type:"text",name:"DesignationName",value:""}),document.getElementById("ConManPowerRateCardDetailsDesignationNameClear")&&document.getElementById("ConManPowerRateCardDetailsDesignationNameClear").click(),O({type:"text",name:"EmployeeGroupID",value:null}),O({type:"text",name:"EmployeeGroupName",value:""}),document.getElementById("ConManPowerRateCardDetailsEmployeeGroupNameClear")&&document.getElementById("ConManPowerRateCardDetailsEmployeeGroupNameClear").click(),O({type:"text",name:"RateStartDate",value:""}),O({type:"text",name:"RateEndDate",value:""}),O({type:"number",name:"ManPowerRate",number:0}),O({type:"number",name:"OTRate",number:0}),O({type:"number",name:"RatePerMonth",number:0}),O({type:"number",name:"RatePerDay",number:0}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConManPowerRateCardDetailsContractNameClear")&&document.getElementById("ConManPowerRateCardDetailsContractNameClear").click(),O({type:"text",name:"ConMPRateCardDetCode",value:""}),y(!0),P(""),ie(!0)},Ee=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP236S2/",l={data:[{p1:"SetDefaultConMPRateCardDetID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:Ge(k.ConMPRateCardDetCode),p3:k.ManPowerRate?Number(k.ManPowerRate):0,p4:k.OTRate?Number(k.OTRate):0,p5:k.RateStartDate?De(k.RateStartDate):null,p6:k.RateEndDate?De(k.RateEndDate):null,p7:k.RatePerMonth?Number(k.RatePerMonth):0,p8:k.RatePerDay?Number(k.RatePerDay):0,p9:!1,p10:"SetDefaultConMPRateCardDetID"==t?"SetDefault":null,p11:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p12:k.DesignationID?k.DesignationID:0,p13:k.EmployeeGroupID?k.EmployeeGroupID:0,p14:s,p15:"SetDefaultConMPRateCardDetID"==t,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{ie(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP236S1/",l={data:[{p1:Y,p2:Ge(k.ConMPRateCardDetCode),p3:k.ManPowerRate?Number(k.ManPowerRate):0,p4:k.OTRate?Number(k.OTRate):0,p5:k.RateStartDate?De(k.RateStartDate):null,p6:k.RateEndDate?De(k.RateEndDate):null,p7:k.RatePerMonth?Number(k.RatePerMonth):0,p8:k.RatePerDay?Number(k.RatePerDay):0,p9:!1,p10:null,p11:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p12:k.DesignationID?k.DesignationID:0,p13:k.EmployeeGroupID?k.EmployeeGroupID:0,p14:s,p15:!1,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttConManPowerRateCardDetails"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Se(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConManPowerRateCardDetails")&&(document.getElementById("overlayimgAttConManPowerRateCardDetails").style.width="0%",document.getElementById("overlayimgAttConManPowerRateCardDetails").style.display="none",document.getElementById("divConManPowerRateCardDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConManPowerRateCardDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function fe(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[pe("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[pe("Please enter the primary fields")]}),!1;{ie(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP236S1/",l={data:[{p1:"SetDefaultConMPRateCardDetID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:Ge(k.ConMPRateCardDetCode),p3:k.ManPowerRate?Number(k.ManPowerRate):0,p4:k.OTRate?Number(k.OTRate):0,p5:k.RateStartDate?De(k.RateStartDate):null,p6:k.RateEndDate?De(k.RateEndDate):null,p7:k.RatePerMonth?Number(k.RatePerMonth):0,p8:k.RatePerDay?Number(k.RatePerDay):0,p9:!0,p10:"SetDefaultConMPRateCardDetID"==n?"SetDefault":null,p11:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p12:k.DesignationID?k.DesignationID:0,p13:k.EmployeeGroupID?k.EmployeeGroupID:0,p14:!1,p15:"SetDefaultConMPRateCardDetID"==n,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[pe("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[pe("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),Se(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function ve(e){return CreateEasy(e,U,j,H,X),!1}function Ne(e,a){return AdvanceSearch(e,a,el,tl(),Le,t),!1}const he=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP236S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:k.RateStartDate?k.RateStartDate:null,p6:null,p7:null,p8:k.RateEndDate?k.RateEndDate:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.parentId?Number(e.parentId):0,p16:"0"==k.DesignationID?null:k.DesignationID,p17:"0"==k.EmployeeGroupID?null:k.EmployeeGroupID,p18:e.Dialogview?"1":null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:"0"==k.ContractGroupID?null:k.ContractGroupID,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:"0"==k.TaxID?null:k.TaxID,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==k.CustomerID?null:k.CustomerID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"==k.ContractTypeID?null:k.ContractTypeID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==k.ContractCategID?null:k.ContractCategID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==k.LevelID?null:k.LevelID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:t,p53:10,p54:l,p55:null,p56:null,p57:localStorage.getItem("UserGroupID"),p58:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultConMPRateCardDetID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultConMPRateCardDetID"==l&&(e>0?Ie(n[0],"SetDefaultConMPRateCardDetID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Te=(t,l,n)=>{const o=S.v.Api+"FP236S3/",r={data:{p1:null,p2:"ConMPRateCardDetCode"==n&&l?"%"+l+"%":null,p3:"ManPowerRate"==n&&l?"%"+l+"%":null,p4:"OTRate"==n&&l?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:"RatePerMonth"==n&&l?"%"+l+"%":null,p12:"RatePerDay"==n&&l?"%"+l+"%":null,p13:null,p14:null,p15:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p16:null,p17:null,p18:e.Dialogview?"1":null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:t,p53:10,p54:"ConMPRateCardDetID",p55:null,p56:null,p57:localStorage.getItem("UserGroupID"),p58:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ConMPRateCardDetCode"==n&&ie(e>0),K(l)):("ConMPRateCardDetCode"==n&&ie(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Le=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("DesignationID"==t?(O({type:"text",name:"DesignationID",value:e.DesignationIDPK?e.DesignationIDPK:null}),O({type:"text",name:"DesignationName",value:e.DesignationName?e.DesignationName:null})):"EmployeeGroupID"==t&&(O({type:"text",name:"EmployeeGroupID",value:e.EmployeeGroupIDPK?e.EmployeeGroupIDPK:null}),O({type:"text",name:"EmployeeGroupName",value:e.EmployeeGroupName?e.EmployeeGroupName:null})))}),[k]);function Ae(e){if("DesignationID"==e){if(!k.DesignationID)return!1;O({type:"text",name:"DesignationID",value:null}),O({type:"text",name:"DesignationName",value:""}),document.getElementById("ConManPowerRateCardDetailsDesignationNameClear")&&document.getElementById("ConManPowerRateCardDetailsDesignationNameClear").click()}else if("EmployeeGroupID"==e){if(!k.EmployeeGroupID)return!1;O({type:"text",name:"EmployeeGroupID",value:null}),O({type:"text",name:"EmployeeGroupName",value:""}),document.getElementById("ConManPowerRateCardDetailsEmployeeGroupNameClear")&&document.getElementById("ConManPowerRateCardDetailsEmployeeGroupNameClear").click()}else if("ContractID"==e&&!k.ContractID)return!1}function ke(e){if("DesignationID"==e){if(!k.DesignationID)return!1;O({type:"text",name:"DesignationID",value:null})}else if("EmployeeGroupID"==e){if(!k.EmployeeGroupID)return!1;O({type:"text",name:"EmployeeGroupID",value:null})}else if("ContractID"==e&&!k.ContractID)return!1}function Ze(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ConMPRateCardDetIDPK)?Number(e.ConMPRateCardDetIDPK):0),O({type:"number",name:"DesignationID",number:e.DesignationID?Number(e.DesignationID):0}),O({type:"text",name:"DesignationName",value:e.DesignationName?e.DesignationName:""}),O({type:"number",name:"EmployeeGroupID",number:e.EmployeeGroupID?Number(e.EmployeeGroupID):0}),O({type:"text",name:"EmployeeGroupName",value:e.EmployeeGroupName?e.EmployeeGroupName:""}),O({type:"text",name:"RateStartDate",value:e.RateStartDate?ge(e.RateStartDate):null}),O({type:"text",name:"RateEndDate",value:e.RateEndDate?ge(e.RateEndDate):null}),O({type:"number",name:"ManPowerRate",number:e.ManPowerRate?Number(e.ManPowerRate):0}),O({type:"number",name:"OTRate",number:e.OTRate?Number(e.OTRate):0}),O({type:"number",name:"RatePerMonth",number:e.RatePerMonth?Number(e.RatePerMonth):0}),O({type:"number",name:"RatePerDay",number:e.RatePerDay?Number(e.RatePerDay):0}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"text",name:"ConMPRateCardDetCode",value:e.ConMPRateCardDetCode?e.ConMPRateCardDetCode:""})}const Ge=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[236]"}," ",pe("Add "),Ce("236")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld236L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:pe(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld236L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Se()},id:"fld236L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld236L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{fe("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{fe()},frmctrlid:"fld236L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld236L1ECSaveBtnIsAdd",name:pe(Y?"Update":"Save"),disabled:!1,onClick:()=>{k.DesignationID&&0!=k.DesignationID?k.EmployeeGroupID&&0!=k.EmployeeGroupID?e.parentId&&0!=e.parentId?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:pe("Are you sure?"),onConfirm:()=>Ee(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("Cancel"),showCancel:!0},pe(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("ContractID")]}):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("EmployeeGroupID")]}):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("DesignationID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld236L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Se(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConManPowerRateCardDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConManPowerRateCardDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConManPowerRateCardDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Wa,id:k.DesignationID,"data-testid":k.DesignationID,value:k.DesignationName,disabled:!!Y,SPName:"ConManPowerRateCardDetails",FieldName:"DesignationID",tfLabel:Ce("DesignationID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"DesignationID","select"),onChange:(e,t)=>{he(e,t,"DesignationIDPK")},KeyBack:e=>{ke("DesignationID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("170")},Tabledialog:()=>Ne("170","DesignationID"),loading:Z,clear:e=>{e&&Ae("DesignationID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Wa,id:k.EmployeeGroupID,"data-testid":k.EmployeeGroupID,value:k.EmployeeGroupName,disabled:!!Y,SPName:"ConManPowerRateCardDetails",FieldName:"EmployeeGroupID",tfLabel:Ce("EmployeeGroupID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"EmployeeGroupID","select"),onChange:(e,t)=>{he(e,t,"EmployeeGroupIDPK")},KeyBack:e=>{ke("EmployeeGroupID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("187")},Tabledialog:()=>Ne("187","EmployeeGroupID"),loading:Z,clear:e=>{e&&Ae("EmployeeGroupID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.RateStartDate,"data-testid":k.RateStartDate,disabled:!1,onChange:e=>{Le(e,"RateStartDate","date")},disabled:!!Y,onErr:e=>{le(e)},label:Ce("RateStartDate"),minDate:k.ContractDate,frmctrlid:"fld236_4457",frmctrlidName:"RateStartDate",fieldorder:"3"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.RateEndDate,"data-testid":k.RateEndDate,disabled:!1,onChange:e=>{Le(e,"RateEndDate","date")},disabled:!!Y,onErr:e=>{oe(e)},label:Ce("RateEndDate"),minDate:k.RateStartDate,frmctrlid:"fld236_4458",frmctrlidName:"RateEndDate",fieldorder:"4"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Wa,"data-testid":k.ManPowerRate,SPName:"ConManPowerRateCardDetails",FieldName:"ManPowerRate",tfLabel:Ce("ManPowerRate"),frmctrlid:"fld236_4455",fieldorder:"1",disabled:!!Y,onChange:e=>{Le(e,"ManPowerRate","number")},clear:e=>{e&&O({type:"number",name:"ManPowerRate",number:0})},Iscurr:!0,value:k.ManPowerRate})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Wa,"data-testid":k.OTRate,SPName:"ConManPowerRateCardDetails",FieldName:"OTRate",tfLabel:Ce("OTRate"),frmctrlid:"fld236_4456",fieldorder:"2",disabled:!!Y,onChange:e=>{Le(e,"OTRate","number")},clear:e=>{e&&O({type:"number",name:"OTRate",number:0})},Iscurr:!0,value:k.OTRate})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Wa,"data-testid":k.RatePerMonth,SPName:"ConManPowerRateCardDetails",FieldName:"RatePerMonth",tfLabel:Ce("RatePerMonth"),frmctrlid:"fld236_4459",fieldorder:"3",disabled:!!Y,onChange:e=>{Le(e,"RatePerMonth","number")},clear:e=>{e&&O({type:"number",name:"RatePerMonth",number:0})},Iscurr:!0,value:k.RatePerMonth})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Wa,"data-testid":k.RatePerDay,SPName:"ConManPowerRateCardDetails",FieldName:"RatePerDay",tfLabel:Ce("RatePerDay"),frmctrlid:"fld236_4460",fieldorder:"4",disabled:!!Y,onChange:e=>{Le(e,"RatePerDay","number")},clear:e=>{e&&O({type:"number",name:"RatePerDay",number:0})},Iscurr:!0,value:k.RatePerDay})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Wa,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConManPowerRateCardDetails",FieldName:"ContractID",tfLabel:Ce("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Le(e,"ContractID","select"),onChange:(e,t)=>{he(e,t,"ContractIDPK")},KeyBack:e=>{ke("ContractID")},fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ve("156")},Tabledialog:()=>Ne("156","ContractID"),loading:Z,clear:e=>{e&&Ae("ContractID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ConMPRateCardDetCode,json:Wa,SPName:"ConManPowerRateCardDetails",FieldName:"ConMPRateCardDetCode",tfLabel:Ce("ConMPRateCardDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ze(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("No"),showCancel:!0},pe("Do you want to update this record?")))})(t),onClick:()=>{re&&Te(1,"","ClearAll"),ie(!0)},frmctrlid:"fld236_4454",frmctrlidName:"ConMPRateCardDetCode",fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{re&&Te(e,t,"ConMPRateCardDetCode"),Le(t,"ConMPRateCardDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.ConMPRateCardDetCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ConMPRateCardDetCode",value:""}),ie(!0))}})))),n().createElement("div",{id:"ConManPowerRateCardDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConManPowerRateCardDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Xa=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(el),{cstate:B,cdispatch:F}=tl(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ConMPRateCardDetIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP236S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:e.Dialogview?"1":null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:1,p53:10,p54:B.IsDraft?"DraftConMPRateCardDetID":"ConMPRateCardDetID",p55:null,p56:null,p57:localStorage.getItem("UserGroupID"),p58:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ConMPRateCardDetIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConManPowerRateCardDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld236L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld236L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld236L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld236L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(Ja,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConManPowerRateCardDetails",tableID:236,parentID:t.ConMPRateCardDetIDPK,fldid:"fld236L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[236]"}))))))))})),el=(0,l.createContext)(),tl=()=>{const e=(0,l.useContext)(el);if(void 0===e)throw new Error("useCont must be used within  ConManPowerRateCardDetailsContext Provider");return e},al=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConManPowerRateCardDetails-Entry").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainTable").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConManPowerRateCardDetails-Entry").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainTable").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConManPowerRateCardDetails-Entry").style.width="100%",document.getElementById("ConManPowerRateCardDetailsEntryTable").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainEntry").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainEntry").style.display="block",document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConManPowerRateCardDetails").style.width="0%",document.getElementById("overlayimgAttConManPowerRateCardDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(el.Provider,{value:{cstate:D,cdispatch:I,ContextApi:tl,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConManPowerRateCardDetails").style.width="50%",document.getElementById("divConManPowerRateCardDetails-Entry").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainTable").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainEntry").style.width="100%",document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConManPowerRateCardDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConManPowerRateCardDetails").style.display="block",document.getElementById("overlayimgAttConManPowerRateCardDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConManPowerRateCardDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConManPowerRateCardDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConManPowerRateCardDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConManPowerRateCardDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Xa,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId,parentData:e.parentData}):null)),n().createElement(je.Z,{ref:d,menurefID:236,fileId:"LogoImgConManPowerRateCardDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConManPowerRateCardDetails",frmctrlid:"PvwIm_236_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConManPowerRateCardDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Ja,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),parentData:e.parentData,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:236,fileId:"LogoImgConManPowerRateCardDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConManPowerRateCardDetails",frmctrlid:"PvwIm_236_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConManPowerRateCardDetails-MainTable"},0!==y?n().createElement(Ya,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:236,fileId:"AttImgConManPowerRateCardDetails",imgid:"overlayimgAttConManPowerRateCardDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConManPowerRateCardDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_236_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConManPowerRateCardDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:236,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var ll=a(25108);const nl=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:ul(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP413S3/",g={data:{p1:"MatRateCardDetailsIDPK"==a?null:await we(),p2:"MatRateCardDetailsCode"==c&&l.length>0?"%"+l+"%":null,p3:"MaterialCardRate"==c&&l.length>0?"%"+l+"%":null,p4:"MatRentalRate"==c&&l.length>0?"%"+l+"%":null,p5:"MatStdRate"==c&&l.length>0?"%"+l+"%":null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:"MatStdCode"==c&&l.length>0?"%"+l+"%":null,p13:"IsMatTools"==c&&l.length>0?"%"+l+"%":null,p14:"MatSellingRate"==c&&l.length>0?"%"+l+"%":null,p15:null,p16:null,p17:e.parentId?e.parentId:"0",p18:"MaterialName"!=c&&d.MaterialName?d.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p19:e.Dialogview?"1":null,p20:null,p21:"p21"==c&&l.length>0?l:null,p22:null,p23:null,p24:null,p25:null,p26:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p27:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p28:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p29:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p30:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p31:"TaxName"==c&&l.length>0?"%"+l+"%":null,p32:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p33:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p34:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p35:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p36:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p37:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p38:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p39:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p40:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p41:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p42:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p43:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p44:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p45:"ContractName"==c&&l.length>0?"%"+l+"%":null,p46:"MatProcessTypeName"!=c&&d.MatProcessTypeName?d.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p47:"MatProcessTypeCode"==c&&l.length>0?"%"+l+"%":null,p48:"MatProcessTypeName"==c&&l.length>0?"%"+l+"%":null,p49:"MaterialTypeName"!=c&&d.MaterialTypeName?d.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p50:"MaterialTypeCode"==c&&l.length>0?"%"+l+"%":null,p51:"MaterialTypeName"==c&&l.length>0?"%"+l+"%":null,p52:"MatMainClassName"!=c&&d.MatMainClassName?d.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p53:"MatMainClassCode"==c&&l.length>0?"%"+l+"%":null,p54:"MatMainClassName"==c&&l.length>0?"%"+l+"%":null,p55:"MatSubClassName"!=c&&d.MatSubClassName?d.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p56:"MatSubClassCode"==c&&l.length>0?"%"+l+"%":null,p57:"MatSubClassName"==c&&l.length>0?"%"+l+"%":null,p58:"MatMakeName"!=c&&d.MatMakeName?d.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p59:"MatMakeCode"==c&&l.length>0?"%"+l+"%":null,p60:"MatMakeName"==c&&l.length>0?"%"+l+"%":null,p61:"MatModelName"!=c&&d.MatModelName?d.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p62:"MatModelCode"==c&&l.length>0?"%"+l+"%":null,p63:"MatModelName"==c&&l.length>0?"%"+l+"%":null,p64:"UOMName"!=c&&d.UOMName?d.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p65:"MATUOMCode"==c&&l.length>0?"%"+l+"%":null,p66:"UOMName"==c&&l.length>0?"%"+l+"%":null,p67:"GradeName"!=c&&d.GradeName?d.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p68:"GradeName"==c&&l.length>0?"%"+l+"%":null,p69:"MatGradeCode"==c&&l.length>0?"%"+l+"%":null,p70:"MaterialColorName"!=c&&d.MaterialColorName?d.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p71:"MaterialColorName"==c&&l.length>0?"%"+l+"%":null,p72:"MatMaterialColorCode"==c&&l.length>0?"%"+l+"%":null,p73:"RawMaterialName"!=c&&d.RawMaterialName?d.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p74:"MadeRawMaterialCode"==c&&l.length>0?"%"+l+"%":null,p75:"RawMaterialName"==c&&l.length>0?"%"+l+"%":null,p76:"MaterialSizeName"!=c&&d.MaterialSizeName?d.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p77:"MaterialSizeName"==c&&l.length>0?"%"+l+"%":null,p78:"MatMaterialSizeCode"==c&&l.length>0?"%"+l+"%":null,p79:"MaterialCode"==c&&l.length>0?"%"+l+"%":null,p80:"MaterialName"==c&&l.length>0?"%"+l+"%":null,p81:n||1,p82:10,p83:t,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.MatRateCardDetailsIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={MatRateCardDetailsIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MatRateStartDate:l.MatRateStartDate?l.MatRateStartDate.From:"",MatRateStartDateType:l.MatRateStartDate?l.MatRateStartDate.Type:"",MatRateStartDateBetween:l.MatRateStartDate?l.MatRateStartDate.To:"",MatRateEndtDate:l.MatRateEndtDate?l.MatRateEndtDate.From:"",MatRateEndtDateType:l.MatRateEndtDate?l.MatRateEndtDate.Type:"",MatRateEndtDateBetween:l.MatRateEndtDate?l.MatRateEndtDate.To:"",MaterialID:Le("MaterialID"),ContractID:Le("ContractID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.MatRateCardDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.MatRateCardDetailsIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={MatRateCardDetailsIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,MatRateStartDate:c.MatRateStartDate?c.MatRateStartDate.From:"",MatRateStartDateType:c.MatRateStartDate?c.MatRateStartDate.Type:"",MatRateStartDateBetween:c.MatRateStartDate?c.MatRateStartDate.To:"",MatRateEndtDate:c.MatRateEndtDate?c.MatRateEndtDate.From:"",MatRateEndtDateType:c.MatRateEndtDate?c.MatRateEndtDate.Type:"",MatRateEndtDateBetween:c.MatRateEndtDate?c.MatRateEndtDate.To:"",MaterialID:C.MaterialName?.map((e=>e.MaterialIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld413L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld413L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld413L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,ll.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld413L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld413L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld413L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld413L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld413L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld413L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld413L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"MatRateCardDetailsIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMatRateCardDetailsID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterMatRateCardDetailsID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterMatRateCardDetailsID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),ol=nl;window.clickFilter="";const rl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("413"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"MatRateCardDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:ml),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:ul();let Pe={MatRateCardDetailsIDPK:"",MatRateCardDetailsCode:"",MaterialCardRate:"",MatRentalRate:"",MatStdRate:"",MatRateStartDate:"",MatRateStartDateType:"",MatRateStartDateBetween:"",MatRateEndtDate:"",MatRateEndtDateType:"",MatRateEndtDateBetween:"",MatStdCode:"",IsMatTools:"",MatSellingRate:"",IsDraft:"",Remarks:"",ContractID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({MaterialName:"",MatStdCode:"",MaterialCardRate:"",MatSellingRate:"",MatRateStartDate:"",MatRateEndtDate:"",MatRateCardDetailsCode:"",MatRentalRate:"",MatStdRate:"",IsMatTools:"",ContractName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("413"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"MatRateCardDetailsID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"MatRateCardDetailsID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"MatRateCardDetailsID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftMatRateCardDetailsID":"MatRateCardDetailsID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP413S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("MatRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MatRateCardDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MatRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("MatRateCardDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatRateCardDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MatRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MatRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MatRateCardDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MatRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("MatRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatRateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP413S3/",c={data:{p1:o||(a&&a.MatRateCardDetailsIDPK?a.MatRateCardDetailsIDPK:null),p2:a&&a.MatRateCardDetailsCode?a.MatRateCardDetailsCode:null,p3:a&&a.MaterialCardRate?a.MaterialCardRate:null,p4:a&&a.MatRentalRate?a.MatRentalRate:null,p5:a&&a.MatStdRate?a.MatStdRate:null,p6:a&&a.MatRateStartDate?a.MatRateStartDate:null,p7:a&&a.MatRateStartDateType?a.MatRateStartDateType:null,p8:a&&a.MatRateStartDateBetween?a.MatRateStartDateBetween:null,p9:a&&a.MatRateEndtDate?a.MatRateEndtDate:null,p10:a&&a.MatRateEndtDateType?a.MatRateEndtDateType:null,p11:a&&a.MatRateEndtDateBetween?a.MatRateEndtDateBetween:null,p12:a&&a.MatStdCode?a.MatStdCode:null,p13:null,p14:a&&a.MatSellingRate?a.MatSellingRate:null,p15:"DraftMatRateCardDetailsID"==l?"1":"0",p16:null,p17:e.parentId?Number(e.parentId):0,p18:a&&a.MaterialID?a.MaterialID:null,p19:a&&a.IsActive,p20:null,p21:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p22:a&&a.CreatedTtm?a.CreatedTtm:null,p23:a&&a.CreatedTtmType?a.CreatedTtmType:null,p24:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p25:null,p26:a&&a.ContractGroupID?a.ContractGroupID:null,p27:a&&a.ContractGroupCode?a.ContractGroupCode:null,p28:a&&a.ContractGroupName?a.ContractGroupName:null,p29:a&&a.TaxID?a.TaxID:null,p30:a&&a.TaxCode?a.TaxCode:null,p31:a&&a.TaxName?a.TaxName:null,p32:a&&a.TaxValue?a.TaxValue:null,p33:a&&a.CustomerID?a.CustomerID:null,p34:a&&a.CustomerCode?a.CustomerCode:null,p35:a&&a.CustomerName?a.CustomerName:null,p36:a&&a.ContractTypeID?a.ContractTypeID:null,p37:a&&a.ContractTypCode?a.ContractTypCode:null,p38:a&&a.ContractTypeName?a.ContractTypeName:null,p39:a&&a.ContractCategID?a.ContractCategID:null,p40:a&&a.ContractCategCode?a.ContractCategCode:null,p41:a&&a.ContractCategName?a.ContractCategName:null,p42:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p43:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p44:a&&a.ContractCode?a.ContractCode:null,p45:a&&a.ContractName?a.ContractName:null,p46:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p47:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p48:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p49:a&&a.MaterialTypeID?a.MaterialTypeID:null,p50:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p51:a&&a.MaterialTypeName?a.MaterialTypeName:null,p52:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p53:a&&a.MatMainClassCode?a.MatMainClassCode:null,p54:a&&a.MatMainClassName?a.MatMainClassName:null,p55:a&&a.MatSubClassID?a.MatSubClassID:null,p56:a&&a.MatSubClassCode?a.MatSubClassCode:null,p57:a&&a.MatSubClassName?a.MatSubClassName:null,p58:a&&a.MaterialMakeID?a.MaterialMakeID:null,p59:a&&a.MatMakeCode?a.MatMakeCode:null,p60:a&&a.MatMakeName?a.MatMakeName:null,p61:a&&a.MaterialModelID?a.MaterialModelID:null,p62:a&&a.MatModelCode?a.MatModelCode:null,p63:a&&a.MatModelName?a.MatModelName:null,p64:a&&a.MATUOMID?a.MATUOMID:null,p65:a&&a.MATUOMCode?a.MATUOMCode:null,p66:a&&a.UOMName?a.UOMName:null,p67:a&&a.MatGradeID?a.MatGradeID:null,p68:a&&a.GradeName?a.GradeName:null,p69:a&&a.MatGradeCode?a.MatGradeCode:null,p70:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p71:a&&a.MaterialColorName?a.MaterialColorName:null,p72:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p73:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p74:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p75:a&&a.RawMaterialName?a.RawMaterialName:null,p76:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p77:a&&a.MaterialSizeName?a.MaterialSizeName:null,p78:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p79:a&&a.MaterialCode?a.MaterialCode:null,p80:a&&a.MaterialName?a.MaterialName:null,p81:o?1:t.current,p82:t.pageSize,p83:l,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divMatRateCardDetails-Entry").style.height="auto",document.getElementById("divMatRateCardDetails-Entry").style.display="block")}else he.loading(!1),"DraftMatRateCardDetailsID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP413S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_413_L1_",id:"MatRateCardDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftMatRateCardDetailsID":"MatRateCardDetailsID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftMatRateCardDetailsID":"MatRateCardDetailsID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld413L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld413L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld413L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld413L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MatRateCardDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld413L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[413]"},`${Et("413")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld413L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld413L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld413L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld413L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"MatRateCardDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld413L1TCFilterDataIsDraft",id:"MatRateCardDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld413L1TCExportPrint",formctrlidexport:"fld413L1TCExportTable",formctrlidrefresh:"fld413L1TCExportRefresh",title:Et("413"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP413S3/",c={data:{p1:t&&t.MatRateCardDetailsIDPK?t.MatRateCardDetailsIDPK:null,p2:t&&t.MatRateCardDetailsCode?t.MatRateCardDetailsCode:null,p3:t&&t.MaterialCardRate?t.MaterialCardRate:null,p4:t&&t.MatRentalRate?t.MatRentalRate:null,p5:t&&t.MatStdRate?t.MatStdRate:null,p6:t&&t.MatRateStartDate?t.MatRateStartDate:null,p7:t&&t.MatRateStartDateType?t.MatRateStartDateType:null,p8:t&&t.MatRateStartDateBetween?t.MatRateStartDateBetween:null,p9:t&&t.MatRateEndtDate?t.MatRateEndtDate:null,p10:t&&t.MatRateEndtDateType?t.MatRateEndtDateType:null,p11:t&&t.MatRateEndtDateBetween?t.MatRateEndtDateBetween:null,p12:t&&t.MatStdCode?t.MatStdCode:null,p13:null,p14:t&&t.MatSellingRate?t.MatSellingRate:null,p15:Fe?"1":"0",p16:null,p17:e.parentId?Number(e.parentId):0,p18:t&&t.MaterialID?t.MaterialID:null,p19:t&&t.IsActive,p20:null,p21:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p22:t&&t.CreatedTtm?t.CreatedTtm:null,p23:t&&t.CreatedTtmType?t.CreatedTtmType:null,p24:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p25:null,p26:t&&t.ContractGroupID?t.ContractGroupID:null,p27:t&&t.ContractGroupCode?t.ContractGroupCode:null,p28:t&&t.ContractGroupName?t.ContractGroupName:null,p29:t&&t.TaxID?t.TaxID:null,p30:t&&t.TaxCode?t.TaxCode:null,p31:t&&t.TaxName?t.TaxName:null,p32:t&&t.TaxValue?t.TaxValue:null,p33:t&&t.CustomerID?t.CustomerID:null,p34:t&&t.CustomerCode?t.CustomerCode:null,p35:t&&t.CustomerName?t.CustomerName:null,p36:t&&t.ContractTypeID?t.ContractTypeID:null,p37:t&&t.ContractTypCode?t.ContractTypCode:null,p38:t&&t.ContractTypeName?t.ContractTypeName:null,p39:t&&t.ContractCategID?t.ContractCategID:null,p40:t&&t.ContractCategCode?t.ContractCategCode:null,p41:t&&t.ContractCategName?t.ContractCategName:null,p42:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p43:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p44:t&&t.ContractCode?t.ContractCode:null,p45:t&&t.ContractName?t.ContractName:null,p46:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p47:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p48:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p49:t&&t.MaterialTypeID?t.MaterialTypeID:null,p50:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p51:t&&t.MaterialTypeName?t.MaterialTypeName:null,p52:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p53:t&&t.MatMainClassCode?t.MatMainClassCode:null,p54:t&&t.MatMainClassName?t.MatMainClassName:null,p55:t&&t.MatSubClassID?t.MatSubClassID:null,p56:t&&t.MatSubClassCode?t.MatSubClassCode:null,p57:t&&t.MatSubClassName?t.MatSubClassName:null,p58:t&&t.MaterialMakeID?t.MaterialMakeID:null,p59:t&&t.MatMakeCode?t.MatMakeCode:null,p60:t&&t.MatMakeName?t.MatMakeName:null,p61:t&&t.MaterialModelID?t.MaterialModelID:null,p62:t&&t.MatModelCode?t.MatModelCode:null,p63:t&&t.MatModelName?t.MatModelName:null,p64:t&&t.MATUOMID?t.MATUOMID:null,p65:t&&t.MATUOMCode?t.MATUOMCode:null,p66:t&&t.UOMName?t.UOMName:null,p67:t&&t.MatGradeID?t.MatGradeID:null,p68:t&&t.GradeName?t.GradeName:null,p69:t&&t.MatGradeCode?t.MatGradeCode:null,p70:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p71:t&&t.MaterialColorName?t.MaterialColorName:null,p72:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p73:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p74:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p75:t&&t.RawMaterialName?t.RawMaterialName:null,p76:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p77:t&&t.MaterialSizeName?t.MaterialSizeName:null,p78:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p79:t&&t.MaterialCode?t.MaterialCode:null,p80:t&&t.MaterialName?t.MaterialName:null,p81:L.current,p82:h,p83:Fe?"DraftMatRateCardDetailsID":"MatRateCardDetailsID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(413)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftMatRateCardDetailsID"):Tt({current:1,pageSize:100},Pe,"MatRateCardDetailsID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld413L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld413L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld413L1TCFilterDataIsAdd",id:"MatRateCardDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("MatRateCardDetailsFilterDiv").style.width="0%",document.getElementById("MatRateCardDetailsTabDiv").style.width="100%",document.getElementById("MatRateCardDetailsFilterDiv").style.display="none",document.getElementById("MatRateCardDetailscoldiv").style.width="fit-content",document.getElementById("MatRateCardDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("MatRateCardDetailsFilterDiv").style.width="25%",document.getElementById("MatRateCardDetailsTabDiv").style.width="75%",document.getElementById("MatRateCardDetailsFilterDiv").style.display="block",document.getElementById("MatRateCardDetailsfildiv").style.width="fit-content",document.getElementById("MatRateCardDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatRateCardDetailscoldiv").style.width="fit-content",document.getElementById("MatRateCardDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"MatRateCardDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld413L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"MatRateCardDetailsID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld413L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld413L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftMatRateCardDetailsID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("MatRateCardDetailsFilterDiv").style.width="0%",document.getElementById("MatRateCardDetailsTabDiv").style.width="100%",document.getElementById("MatRateCardDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld413L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld413L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld413L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld413L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld413L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld413L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftMatRateCardDetailsID":"MatRateCardDetailsID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftMatRateCardDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"MatRateCardDetailsID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld413L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftMatRateCardDetailsID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"MatRateCardDetailsID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"MatRateCardDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"MatRateCardDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(ol,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"MatRateCardDetailsID")},frmctrlid:"fld413L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"MatRateCardDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld413L1TCExpandedCardDual",data:K,id:"MatRateCardDetails",title:"MatRateCardDetailsCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),il={EnterKeyValues:{MatRateCardDetails:["MaterialName","MatStdCode","MaterialCardRate","MatSellingRate","MatRateStartDate","MatRateEndtDate","MatRateCardDetailsCode","MatRentalRate","MatStdRate","IsMatTools","ContractName"]},Label:{MatRateCardDetails:{MaterialID:["MaterialCode","MaterialName"],MatStdCode:["MatRateCardDetailsCode","StdCode"],MaterialCardRate:["MatRateCardDetailsCode","StdCode"],MatSellingRate:["MatRateCardDetailsCode","StdCode"],MatRateStartDate:["MatRateCardDetailsCode","StdCode"],MatRateEndtDate:["MatRateCardDetailsCode","StdCode"],MatRateCardDetailsCode:["MatRateCardDetailsCode","StdCode"],MatRentalRate:["MatRateCardDetailsCode","StdCode"],MatStdRate:["MatRateCardDetailsCode","StdCode"],IsMatTools:["MatRateCardDetailsCode","StdCode"],ContractID:["MatRateCardDetailsCode","StdCode"]}},LabelHeader:{MatRateCardDetails:{MaterialID:["Material Code","Material Name"],MatStdCode:["MatRateCardDetailsCode","StdCode"],MaterialCardRate:["MatRateCardDetailsCode","StdCode"],MatSellingRate:["MatRateCardDetailsCode","StdCode"],MatRateStartDate:["MatRateCardDetailsCode","StdCode"],MatRateEndtDate:["MatRateCardDetailsCode","StdCode"],MatRateCardDetailsCode:["MatRateCardDetailsCode","StdCode"],MatRentalRate:["MatRateCardDetailsCode","StdCode"],MatStdRate:["MatRateCardDetailsCode","StdCode"],IsMatTools:["MatRateCardDetailsCode","StdCode"],ContractID:["MatRateCardDetailsCode","StdCode"]}},Property:{MatRateCardDetails:{MaterialID:{id:"fld413_19984",clearID:"MatRateCardDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},MatStdCode:{id:"fld413_19977",labelID:"MatStdCode",maxLength:"20",labelname:"Code",frmctrlid:"fld413_19977",frmctrlidname:"MatStdCode",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialCardRate:{id:"fld413_19972",labelID:"MaterialCardRate",maxLength:"10",labelname:"Rate",frmctrlid:"fld413_19972",frmctrlidname:"MaterialCardRate",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},MatSellingRate:{id:"fld413_19979",labelID:"MatSellingRate",maxLength:"10",labelname:"Selling Rate",frmctrlid:"fld413_19979",frmctrlidname:"MatSellingRate",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatRateStartDate:{id:"fld413_19975",labelID:"MatRateStartDate",maxLength:"20",labelname:"Start Date",frmctrlid:"fld413_19975",frmctrlidname:"MatRateStartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatRateEndtDate:{id:"fld413_19976",labelID:"MatRateEndtDate",maxLength:"20",labelname:"End Date",frmctrlid:"fld413_19976",frmctrlidname:"MatRateEndtDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatRateCardDetailsCode:{id:"fld413_19971",labelID:"MatRateCardDetailsCode",maxLength:"50",labelname:"MatRateCardDetailsCode",frmctrlid:"fld413_19971",frmctrlidname:"MatRateCardDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatRentalRate:{id:"fld413_19973",labelID:"MatRentalRate",maxLength:"",labelname:"MatRentalRate",frmctrlid:"fld413_19973",frmctrlidname:"MatRentalRate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatStdRate:{id:"fld413_19974",labelID:"MatStdRate",maxLength:"",labelname:"MatStdRate",frmctrlid:"fld413_19974",frmctrlidname:"MatStdRate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMatTools:{id:"fld413_19978",labelID:"IsMatTools",maxLength:"",labelname:"IsMatTools",frmctrlid:"fld413_19978",frmctrlidname:"IsMatTools",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld413_19982",clearID:"MatRateCardDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractID",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{MatRateCardDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"]}}},cl={MatRateCardDetailsIDPK:"",MatRateCardDetailsCode:"",MaterialCardRate:"",MatRentalRate:"",MatStdRate:"",MatRateStartDate:"",MatRateStartDateType:"",MatRateStartDateBetween:"",MatRateEndtDate:"",MatRateEndtDateType:"",MatRateEndtDateBetween:"",MatStdCode:"",IsMatTools:!1,MatSellingRate:"",IsDraft:!1,Remarks:"",ContractID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"MatRateCardDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},dl=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,cl),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:ml),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:ul(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("413"),[ae,le]=(0,l.useState)(""),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(!0),[ce,de]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!0),[ue,pe]=(0,l.useState)(!1);let Ce=(0,N.Z)();const[ge,De]=(0,l.useState)({}),Ie=e=>Ce[e]?Ce[e]:e,Se=t=>U.language?.[t]?U.language[t]:e.createEasy?ge?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ne()}),[]),(0,l.useEffect)((()=>{Ne()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(ve(U.editData[0],""),D(!0)):U.Add&&(Ne(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),De(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(ze(t),D(e)):(Ne(),D(e))},AddOpen:e=>{Ne(),D(!0)}})));const Ee=e=>e?e.split("-").reverse().join("-"):null,fe=e=>{if(e){let t=Ee(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},ve=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultMatRateCardDetailsID"==a?J(t.MatRateCardDetailsIDPK):(W(e.primid?Number(e.primid):t.MatRateCardDetailsIDPK?t.MatRateCardDetailsIDPK:0),j({type:"PrimaryId",payload:t.MatRateCardDetailsIDPK})),O({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),O({type:"text",name:"MaterialName",value:t.MaterialName}),O({type:"text",name:"MatStdCode",value:t.MatStdCode?t.MatStdCode:""}),O({type:"number",name:"MaterialCardRate",number:Number(t.MaterialCardRate)}),O({type:"number",name:"MatSellingRate",number:Number(t.MatSellingRate)}),O({type:"text",name:"MatRateStartDate",value:t.MatRateStartDate?Ee(t.MatRateStartDate):null}),O({type:"text",name:"MatRateEndtDate",value:t.MatRateEndtDate?Ee(t.MatRateEndtDate):null}),O({type:"text",name:"MatRateCardDetailsCode",value:t.MatRateCardDetailsCode?t.MatRateCardDetailsCode:""}),O({type:"number",name:"MatRentalRate",number:Number(t.MatRentalRate)}),O({type:"number",name:"MatStdRate",number:Number(t.MatStdRate)}),O({type:"boolean",name:"IsMatTools",boolean:!!t.IsMatTools&&t.IsMatTools}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Ne=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"MaterialID",value:null}),O({type:"text",name:"MaterialName",value:""}),document.getElementById("MatRateCardDetailsMaterialNameClear")&&document.getElementById("MatRateCardDetailsMaterialNameClear").click(),O({type:"text",name:"MatStdCode",value:""}),O({type:"number",name:"MaterialCardRate",number:0}),O({type:"number",name:"MatSellingRate",number:0}),O({type:"text",name:"MatRateStartDate",value:""}),O({type:"text",name:"MatRateEndtDate",value:""}),O({type:"text",name:"MatRateCardDetailsCode",value:""}),O({type:"number",name:"MatRentalRate",number:0}),O({type:"number",name:"MatStdRate",number:0}),O({type:"boolean",name:"IsMatTools",boolean:!1}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("MatRateCardDetailsContractNameClear")&&document.getElementById("MatRateCardDetailsContractNameClear").click(),y(!0),P(""),ie(!0),de(!0),me(!0)},he=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP413S2/",l={data:[{p1:"SetDefaultMatRateCardDetailsID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:_e(k.MatRateCardDetailsCode),p3:k.MaterialCardRate?Number(k.MaterialCardRate):0,p4:k.MatRentalRate?Number(k.MatRentalRate):0,p5:k.MatStdRate?Number(k.MatStdRate):0,p6:k.MatRateStartDate?fe(k.MatRateStartDate):null,p7:k.MatRateEndtDate?fe(k.MatRateEndtDate):null,p8:_e(k.MatStdCode),p9:k.IsMatTools,p10:k.MatSellingRate?Number(k.MatSellingRate):0,p11:!1,p12:"SetDefaultMatRateCardDetailsID"==t?"SetDefault":null,p13:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p14:k.MaterialID?k.MaterialID:0,p15:s,p16:"SetDefaultMatRateCardDetailsID"==t,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{ie(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP413S1/",l={data:[{p1:Y,p2:_e(k.MatRateCardDetailsCode),p3:k.MaterialCardRate?Number(k.MaterialCardRate):0,p4:k.MatRentalRate?Number(k.MatRentalRate):0,p5:k.MatStdRate?Number(k.MatStdRate):0,p6:k.MatRateStartDate?fe(k.MatRateStartDate):null,p7:k.MatRateEndtDate?fe(k.MatRateEndtDate):null,p8:_e(k.MatStdCode),p9:k.IsMatTools,p10:k.MatSellingRate?Number(k.MatSellingRate):0,p11:!1,p12:null,p13:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p14:k.MaterialID?k.MaterialID:0,p15:s,p16:!1,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttMatRateCardDetails"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Ne(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttMatRateCardDetails")&&(document.getElementById("overlayimgAttMatRateCardDetails").style.width="0%",document.getElementById("overlayimgAttMatRateCardDetails").style.display="none",document.getElementById("divMatRateCardDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("MatRateCardDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function Te(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[Ie("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[Ie("Please enter the primary fields")]}),!1;{ie(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP413S1/",l={data:[{p1:"SetDefaultMatRateCardDetailsID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:_e(k.MatRateCardDetailsCode),p3:k.MaterialCardRate?Number(k.MaterialCardRate):0,p4:k.MatRentalRate?Number(k.MatRentalRate):0,p5:k.MatStdRate?Number(k.MatStdRate):0,p6:k.MatRateStartDate?fe(k.MatRateStartDate):null,p7:k.MatRateEndtDate?fe(k.MatRateEndtDate):null,p8:_e(k.MatStdCode),p9:k.IsMatTools,p10:k.MatSellingRate?Number(k.MatSellingRate):0,p11:!0,p12:"SetDefaultMatRateCardDetailsID"==n?"SetDefault":null,p13:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p14:k.MaterialID?k.MaterialID:0,p15:!1,p16:"SetDefaultMatRateCardDetailsID"==n,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[Ie("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[Ie("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),Ne(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function Le(e){return CreateEasy(e,U,j,H,X),!1}function Ae(e,a){return AdvanceSearch(e,a,ml,ul(),Ge,t),!1}const ke=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP413S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:k.MatRateStartDate?k.MatRateStartDate:null,p7:null,p8:null,p9:k.MatRateEndtDate?k.MatRateEndtDate:null,p10:null,p11:null,p12:null,p13:1==k.IsMatTools,p14:a?"%"+a+"%":null,p15:null,p16:null,p17:e.parentId?Number(e.parentId):0,p18:"0"==k.MaterialID?null:k.MaterialID,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:"0"==k.ContractGroupID?null:k.ContractGroupID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==k.TaxID?null:k.TaxID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.CustomerID?null:k.CustomerID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.ContractTypeID?null:k.ContractTypeID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.ContractCategID?null:k.ContractCategID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==k.MatProcessTypeID?null:k.MatProcessTypeID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==k.MaterialTypeID?null:k.MaterialTypeID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==k.MaterialMainClassID?null:k.MaterialMainClassID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==k.MatSubClassID?null:k.MatSubClassID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==k.MaterialMakeID?null:k.MaterialMakeID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==k.MaterialModelID?null:k.MaterialModelID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==k.MATUOMID?null:k.MATUOMID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:"0"==k.MatGradeID?null:k.MatGradeID,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:"0"==k.MatMaterialColorID?null:k.MatMaterialColorID,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:"0"==k.MadeRawMaterialID?null:k.MadeRawMaterialID,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:"0"==k.MatMaterialSizeID?null:k.MatMaterialSizeID,p77:a?"%"+a+"%":null,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:t,p82:10,p83:l,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultMatRateCardDetailsID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultMatRateCardDetailsID"==l&&(e>0?ve(n[0],"SetDefaultMatRateCardDetailsID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ze=(t,l,n)=>{const o=S.v.Api+"FP413S3/",r={data:{p1:null,p2:"MatRateCardDetailsCode"==n&&l?"%"+l+"%":null,p3:"MaterialCardRate"==n&&l?"%"+l+"%":null,p4:"MatRentalRate"==n&&l?"%"+l+"%":null,p5:"MatStdRate"==n&&l?"%"+l+"%":null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:"MatStdCode"==n&&l?"%"+l+"%":null,p13:null,p14:null,p15:null,p16:null,p17:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:t,p82:10,p83:"MatRateCardDetailsID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("MatRateCardDetailsCode"==n&&ie(e>0),"MatRentalRate"==n&&de(e>0),"MatStdRate"==n&&me(e>0),K(l)):("MatRateCardDetailsCode"==n&&ie(!0),"MatRentalRate"==n&&de(!0),"MatStdRate"==n&&me(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ge=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(O({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),O({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}))}),[k]);function qe(e){if("MaterialID"==e){if(!k.MaterialID)return!1;O({type:"text",name:"MaterialID",value:null}),O({type:"text",name:"MaterialName",value:""}),document.getElementById("MatRateCardDetailsMaterialNameClear")&&document.getElementById("MatRateCardDetailsMaterialNameClear").click()}else if("ContractID"==e&&!k.ContractID)return!1}function Ke(e){if("MaterialID"==e){if(!k.MaterialID)return!1;O({type:"text",name:"MaterialID",value:null})}else if("ContractID"==e&&!k.ContractID)return!1}const Ve=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ze(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("No"),showCancel:!0},Ie("Do you want to update this record?")))};function ze(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.MatRateCardDetailsIDPK)?Number(e.MatRateCardDetailsIDPK):0),O({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),O({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),O({type:"number",name:"MatStdCode",number:e.MatStdCode?Number(e.MatStdCode):0}),O({type:"number",name:"MaterialCardRate",number:e.MaterialCardRate?Number(e.MaterialCardRate):0}),O({type:"number",name:"MatSellingRate",number:e.MatSellingRate?Number(e.MatSellingRate):0}),O({type:"text",name:"MatRateStartDate",value:e.MatRateStartDate?Ee(e.MatRateStartDate):null}),O({type:"text",name:"MatRateEndtDate",value:e.MatRateEndtDate?Ee(e.MatRateEndtDate):null}),O({type:"text",name:"MatRateCardDetailsCode",value:e.MatRateCardDetailsCode?e.MatRateCardDetailsCode:""}),O({type:"text",name:"MatRentalRate",value:e.MatRentalRate?e.MatRentalRate:""}),O({type:"text",name:"MatStdRate",value:e.MatStdRate?e.MatStdRate:""}),O({type:"boolean",name:"IsMatTools",boolean:!!e.IsMatTools&&e.IsMatTools}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""})}const _e=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[413]"}," ",Ie("Add "),Se("413")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld413L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:Ie(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld413L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ne()},id:"fld413L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld413L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Te("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Te()},frmctrlid:"fld413L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld413L1ECSaveBtnIsAdd",name:Ie(Y?"Update":"Save"),disabled:!1,onClick:()=>{k.MaterialID&&0!=k.MaterialID?_e(k.MaterialCardRate)?e.parentId&&0!=e.parentId?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ie("Are you sure?"),onConfirm:()=>he(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("Cancel"),showCancel:!0},Ie(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("ContractID")]}):H.alert({open:!0,color:"warning",message:[Ie("Please enter the")+""+Se("MaterialCardRate")]}):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("MaterialID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld413L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ne(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"MatRateCardDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"MatRateCardDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"MatRateCardDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:il,id:k.MaterialID,"data-testid":k.MaterialID,value:k.MaterialName,disabled:!!Y,SPName:"MatRateCardDetails",FieldName:"MaterialID",tfLabel:Se("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ge(e,"MaterialID","select"),onChange:(e,t)=>{ke(e,t,"MaterialIDPK")},KeyBack:e=>{Ke("MaterialID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Le("354")},Tabledialog:()=>Ae("354","MaterialID"),loading:Z,clear:e=>{e&&qe("MaterialID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:il,"data-testid":k.MatStdCode,SPName:"MatRateCardDetails",FieldName:"MatStdCode",tfLabel:Se("MatStdCode"),frmctrlid:"fld413_19977",fieldorder:"2",onChange:e=>{Ge(e,"MatStdCode","number")},clear:e=>{e&&O({type:"number",name:"MatStdCode",number:0})},value:k.MatStdCode})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:il,"data-testid":k.MaterialCardRate,SPName:"MatRateCardDetails",FieldName:"MaterialCardRate",tfLabel:Se("MaterialCardRate"),frmctrlid:"fld413_19972",fieldorder:"3",disabled:!!Y,onChange:e=>{Ge(e,"MaterialCardRate","number")},clear:e=>{e&&O({type:"number",name:"MaterialCardRate",number:0})},Iscurr:!0,value:k.MaterialCardRate})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:il,"data-testid":k.MatSellingRate,SPName:"MatRateCardDetails",FieldName:"MatSellingRate",tfLabel:Se("MatSellingRate"),frmctrlid:"fld413_19979",fieldorder:"4",disabled:!!Y,onChange:e=>{Ge(e,"MatSellingRate","number")},clear:e=>{e&&O({type:"number",name:"MatSellingRate",number:0})},Iscurr:!0,value:k.MatSellingRate})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.MatRateStartDate,"data-testid":k.MatRateStartDate,disabled:!1,onChange:e=>{Ge(e,"MatRateStartDate","date")},disabled:!!Y,onErr:e=>{le(e)},label:Se("MatRateStartDate"),frmctrlid:"fld413_19975",frmctrlidName:"MatRateStartDate",fieldorder:"1"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:k.MatRateEndtDate,"data-testid":k.MatRateEndtDate,disabled:!1,onChange:e=>{Ge(e,"MatRateEndtDate","date")},disabled:!!Y,onErr:e=>{oe(e)},label:Se("MatRateEndtDate"),minDate:k.MatRateStartDate,frmctrlid:"fld413_19976",frmctrlidName:"MatRateEndtDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.MatRateCardDetailsCode,json:il,SPName:"MatRateCardDetails",FieldName:"MatRateCardDetailsCode",tfLabel:Se("MatRateCardDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ve(t),onClick:()=>{re&&Ze(1,"","ClearAll"),ie(!0)},frmctrlid:"fld413_19971",frmctrlidName:"MatRateCardDetailsCode",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{re&&Ze(e,t,"MatRateCardDetailsCode"),Ge(t,"MatRateCardDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},disabled:!!Y,Iscurr:!0,value:k.MatRateCardDetailsCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"MatRateCardDetailsCode",value:""}),ie(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.MatRentalRate,json:il,SPName:"MatRateCardDetails",FieldName:"MatRentalRate",tfLabel:Se("MatRentalRate"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ve(t),onClick:()=>{ce&&Ze(1,"","ClearAll"),de(!0)},frmctrlid:"fld413_19973",frmctrlidName:"MatRentalRate",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ce&&Ze(e,t,"MatRentalRate"),Ge(t,"MatRentalRate","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.MatRentalRate,loading:Z,clear:e=>{e&&(O({type:"text",name:"MatRentalRate",value:""}),de(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.MatStdRate,json:il,SPName:"MatRateCardDetails",FieldName:"MatStdRate",tfLabel:Se("MatStdRate"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ve(t),onClick:()=>{se&&Ze(1,"","ClearAll"),me(!0)},frmctrlid:"fld413_19974",frmctrlidName:"MatStdRate",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{se&&Ze(e,t,"MatStdRate"),Ge(t,"MatStdRate","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.MatStdRate,loading:Z,clear:e=>{e&&(O({type:"text",name:"MatStdRate",value:""}),me(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(m.Z,{style:{color:"#337ab7"},"data-testid":k.IsMatTools,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==k.IsMatTools,onChange:e=>{Ge(e.target.checked,"IsMatTools","boolean")},frmctrlid:"fld413_19978",frmctrlidname:"IsMatTools",fieldorder:"2",tfLabel:Se("IsMatTools")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsMatTools?"#21446F":"#999"}},Se("IsMatTools"))}))),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:il,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"MatRateCardDetails",FieldName:"ContractID",tfLabel:Se("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ge(e,"ContractID","select"),onChange:(e,t)=>{ke(e,t,"ContractIDPK")},KeyBack:e=>{Ke("ContractID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Le("156")},Tabledialog:()=>Ae("156","ContractID"),loading:Z,clear:e=>{e&&qe("ContractID")}})))),n().createElement("div",{id:"MatRateCardDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MatRateCardDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),sl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(ml),{cstate:B,cdispatch:F}=ul(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].MatRateCardDetailsIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP413S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:1,p82:10,p83:B.IsDraft?"DraftMatRateCardDetailsID":"MatRateCardDetailsID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.MatRateCardDetailsIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("MatRateCardDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld413L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld413L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld413L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld413L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(dl,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"MatRateCardDetails",tableID:413,parentID:t.MatRateCardDetailsIDPK,fldid:"fld413L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[413]"}))))))))})),ml=(0,l.createContext)(),ul=()=>{const e=(0,l.useContext)(ml);if(void 0===e)throw new Error("useCont must be used within  MatRateCardDetailsContext Provider");return e},pl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divMatRateCardDetails-Entry").style.width="100%",document.getElementById("MatRateCardDetails-MainTable").style.width="100%",document.getElementById("MatRateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatRateCardDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divMatRateCardDetails-Entry").style.width="100%",document.getElementById("MatRateCardDetails-MainTable").style.width="100%",document.getElementById("MatRateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatRateCardDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divMatRateCardDetails-Entry").style.width="100%",document.getElementById("MatRateCardDetailsEntryTable").style.width="100%",document.getElementById("MatRateCardDetails-MainEntry").style.width="100%",document.getElementById("MatRateCardDetails-MainEntry").style.display="block",document.getElementById("MatRateCardDetails-MainDiv").classList.add("displayFlex"),document.getElementById("MatRateCardDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMatRateCardDetails").style.width="0%",document.getElementById("overlayimgAttMatRateCardDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(ml.Provider,{value:{cstate:D,cdispatch:I,ContextApi:ul,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewMatRateCardDetails").style.width="50%",document.getElementById("divMatRateCardDetails-Entry").style.width="100%",document.getElementById("MatRateCardDetails-MainTable").style.width="100%",document.getElementById("MatRateCardDetails-MainEntry").style.width="100%",document.getElementById("MatRateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatRateCardDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMatRateCardDetails").style.display="block",document.getElementById("overlayimgAttMatRateCardDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"MatRateCardDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"MatRateCardDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"MatRateCardDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMatRateCardDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(sl,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:413,fileId:"LogoImgMatRateCardDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewMatRateCardDetails",frmctrlid:"PvwIm_413_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMatRateCardDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(dl,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:413,fileId:"LogoImgMatRateCardDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewMatRateCardDetails",frmctrlid:"PvwIm_413_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"MatRateCardDetails-MainTable"},0!==y?n().createElement(rl,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:413,fileId:"AttImgMatRateCardDetails",imgid:"overlayimgAttMatRateCardDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMatRateCardDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_413_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"MatRateCardDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:413,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Cl=a(25108);const yl=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:Nl(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP239S3/",g={data:{p1:"ConSLARateCardIDPK"==a?null:await we(),p2:"ConSLARateCardCode"==c&&l.length>0?"%"+l+"%":null,p3:"ManHrRquired"==c&&l.length>0?"%"+l+"%":null,p4:"ManPwrRequired"==c&&l.length>0?"%"+l+"%":null,p5:"SLAStdPrice"==c&&l.length>0?"%"+l+"%":null,p6:"SLASellingPrice"==c&&l.length>0?"%"+l+"%":null,p7:null,p8:null,p9:e.parentId?e.parentId:"0",p10:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p11:"DivisionName"!=c&&d.DivisionName?d.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p12:"DisciplineName"!=c&&d.DisciplineName?d.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p13:"FrequencyName"!=c&&d.FrequencyName?d.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p14:e.Dialogview?"1":null,p15:null,p16:"p16"==c&&l.length>0?l:null,p17:null,p18:null,p19:null,p20:null,p21:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p22:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p23:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p24:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p25:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p26:"TaxName"==c&&l.length>0?"%"+l+"%":null,p27:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p28:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p29:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p30:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p31:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p32:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p33:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p34:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p35:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p36:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p37:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p38:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p39:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p40:"ContractName"==c&&l.length>0?"%"+l+"%":null,p41:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p42:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p43:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p44:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p45:"CityCode"==c&&l.length>0?"%"+l+"%":null,p46:"CityName"==c&&l.length>0?"%"+l+"%":null,p47:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p48:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p49:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p50:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p51:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p52:"DivisionCode"==c&&l.length>0?"%"+l+"%":null,p53:"DivisionName"==c&&l.length>0?"%"+l+"%":null,p54:"DisciplineCode"==c&&l.length>0?"%"+l+"%":null,p55:"DisciplineName"==c&&l.length>0?"%"+l+"%":null,p56:"FrequencyCode"==c&&l.length>0?"%"+l+"%":null,p57:"FrequencyName"==c&&l.length>0?"%"+l+"%":null,p58:n||1,p59:10,p60:t,p61:null,p62:null,p63:localStorage.getItem("UserGroupID"),p64:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ConSLARateCardIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ConSLARateCardIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",DivisionID:Le("DivisionID"),DisciplineID:Le("DisciplineID"),FrequencyID:Le("FrequencyID"),ContractID:Le("ContractID"),LocalityID:Le("LocalityID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ConSLARateCardIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ConSLARateCardIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ConSLARateCardIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,DivisionID:C.DivisionName?.map((e=>e.DivisionIDPK)).toString(),DisciplineID:C.DisciplineName?.map((e=>e.DisciplineIDPK)).toString(),FrequencyID:C.FrequencyName?.map((e=>e.FrequencyIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld239L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld239L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld239L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Cl.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld239L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld239L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld239L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld239L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld239L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld239L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld239L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ConSLARateCardIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterConSLARateCardID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterConSLARateCardID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterConSLARateCardID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),gl=yl;window.clickFilter="";const Dl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("239"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ConSLARateCardDetails",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:vl),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:Nl();let Pe={ConSLARateCardIDPK:"",ConSLARateCardCode:"",ManHrRquired:"",ManPwrRequired:"",SLAStdPrice:"",SLASellingPrice:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({DivisionName:"",DisciplineName:"",FrequencyName:"",SLAStdPrice:"",SLASellingPrice:"",ConSLARateCardCode:"",ManHrRquired:"",ManPwrRequired:"",ContractName:"",LocalityName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("239"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"ConSLARateCardID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"ConSLARateCardID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"ConSLARateCardID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftConSLARateCardID":"ConSLARateCardID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP239S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("ConSLARateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConSLARateCardDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConSLARateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ConSLARateCardDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConSLARateCardDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConSLARateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConSLARateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConSLARateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConSLARateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConSLARateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConSLARateCardDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConSLARateCardDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ConSLARateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConSLARateCardDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP239S3/",c={data:{p1:o||(a&&a.ConSLARateCardIDPK?a.ConSLARateCardIDPK:null),p2:a&&a.ConSLARateCardCode?a.ConSLARateCardCode:null,p3:a&&a.ManHrRquired?a.ManHrRquired:null,p4:a&&a.ManPwrRequired?a.ManPwrRequired:null,p5:a&&a.SLAStdPrice?a.SLAStdPrice:null,p6:a&&a.SLASellingPrice?a.SLASellingPrice:null,p7:"DraftConSLARateCardID"==l?"1":"0",p8:null,p9:e.parentId?Number(e.parentId):0,p10:a&&a.LocalityID?a.LocalityID:null,p11:a&&a.DivisionID?a.DivisionID:null,p12:a&&a.DisciplineID?a.DisciplineID:null,p13:a&&a.FrequencyID?a.FrequencyID:null,p14:a&&a.IsActive,p15:null,p16:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p17:a&&a.CreatedTtm?a.CreatedTtm:null,p18:a&&a.CreatedTtmType?a.CreatedTtmType:null,p19:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p20:null,p21:a&&a.ContractGroupID?a.ContractGroupID:null,p22:a&&a.ContractGroupCode?a.ContractGroupCode:null,p23:a&&a.ContractGroupName?a.ContractGroupName:null,p24:a&&a.TaxID?a.TaxID:null,p25:a&&a.TaxCode?a.TaxCode:null,p26:a&&a.TaxName?a.TaxName:null,p27:a&&a.TaxValue?a.TaxValue:null,p28:a&&a.CustomerID?a.CustomerID:null,p29:a&&a.CustomerCode?a.CustomerCode:null,p30:a&&a.CustomerName?a.CustomerName:null,p31:a&&a.ContractTypeID?a.ContractTypeID:null,p32:a&&a.ContractTypCode?a.ContractTypCode:null,p33:a&&a.ContractTypeName?a.ContractTypeName:null,p34:a&&a.ContractCategID?a.ContractCategID:null,p35:a&&a.ContractCategCode?a.ContractCategCode:null,p36:a&&a.ContractCategName?a.ContractCategName:null,p37:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p38:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p39:a&&a.ContractCode?a.ContractCode:null,p40:a&&a.ContractName?a.ContractName:null,p41:a&&a.LocalityGroupID?a.LocalityGroupID:null,p42:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p43:a&&a.LocalityGroupName?a.LocalityGroupName:null,p44:a&&a.CityID?a.CityID:null,p45:a&&a.CityCode?a.CityCode:null,p46:a&&a.CityName?a.CityName:null,p47:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p48:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p49:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p50:a&&a.LocalityCode?a.LocalityCode:null,p51:a&&a.LocalityName?a.LocalityName:null,p52:a&&a.DivisionCode?a.DivisionCode:null,p53:a&&a.DivisionName?a.DivisionName:null,p54:a&&a.DisciplineCode?a.DisciplineCode:null,p55:a&&a.DisciplineName?a.DisciplineName:null,p56:a&&a.FrequencyCode?a.FrequencyCode:null,p57:a&&a.FrequencyName?a.FrequencyName:null,p58:o?1:t.current,p59:t.pageSize,p60:l,p61:null,p62:null,p63:localStorage.getItem("UserGroupID"),p64:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divConSLARateCardDetails-Entry").style.height="auto",document.getElementById("divConSLARateCardDetails-Entry").style.display="block")}else he.loading(!1),"DraftConSLARateCardID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP239S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_239_L1_",id:"ConSLARateCardDetailsTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftConSLARateCardID":"ConSLARateCardID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftConSLARateCardID":"ConSLARateCardID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld239L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld239L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld239L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld239L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConSLARateCardDetailsgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld239L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[239]"},`${Et("239")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld239L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld239L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld239L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld239L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConSLARateCardDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld239L1TCFilterDataIsDraft",id:"ConSLARateCardDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld239L1TCExportPrint",formctrlidexport:"fld239L1TCExportTable",formctrlidrefresh:"fld239L1TCExportRefresh",title:Et("239"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP239S3/",c={data:{p1:t&&t.ConSLARateCardIDPK?t.ConSLARateCardIDPK:null,p2:t&&t.ConSLARateCardCode?t.ConSLARateCardCode:null,p3:t&&t.ManHrRquired?t.ManHrRquired:null,p4:t&&t.ManPwrRequired?t.ManPwrRequired:null,p5:t&&t.SLAStdPrice?t.SLAStdPrice:null,p6:t&&t.SLASellingPrice?t.SLASellingPrice:null,p7:Fe?"1":"0",p8:null,p9:e.parentId?Number(e.parentId):0,p10:t&&t.LocalityID?t.LocalityID:null,p11:t&&t.DivisionID?t.DivisionID:null,p12:t&&t.DisciplineID?t.DisciplineID:null,p13:t&&t.FrequencyID?t.FrequencyID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.ContractGroupID?t.ContractGroupID:null,p22:t&&t.ContractGroupCode?t.ContractGroupCode:null,p23:t&&t.ContractGroupName?t.ContractGroupName:null,p24:t&&t.TaxID?t.TaxID:null,p25:t&&t.TaxCode?t.TaxCode:null,p26:t&&t.TaxName?t.TaxName:null,p27:t&&t.TaxValue?t.TaxValue:null,p28:t&&t.CustomerID?t.CustomerID:null,p29:t&&t.CustomerCode?t.CustomerCode:null,p30:t&&t.CustomerName?t.CustomerName:null,p31:t&&t.ContractTypeID?t.ContractTypeID:null,p32:t&&t.ContractTypCode?t.ContractTypCode:null,p33:t&&t.ContractTypeName?t.ContractTypeName:null,p34:t&&t.ContractCategID?t.ContractCategID:null,p35:t&&t.ContractCategCode?t.ContractCategCode:null,p36:t&&t.ContractCategName?t.ContractCategName:null,p37:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p38:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p39:t&&t.ContractCode?t.ContractCode:null,p40:t&&t.ContractName?t.ContractName:null,p41:t&&t.LocalityGroupID?t.LocalityGroupID:null,p42:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p43:t&&t.LocalityGroupName?t.LocalityGroupName:null,p44:t&&t.CityID?t.CityID:null,p45:t&&t.CityCode?t.CityCode:null,p46:t&&t.CityName?t.CityName:null,p47:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p48:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p49:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p50:t&&t.LocalityCode?t.LocalityCode:null,p51:t&&t.LocalityName?t.LocalityName:null,p52:t&&t.DivisionCode?t.DivisionCode:null,p53:t&&t.DivisionName?t.DivisionName:null,p54:t&&t.DisciplineCode?t.DisciplineCode:null,p55:t&&t.DisciplineName?t.DisciplineName:null,p56:t&&t.FrequencyCode?t.FrequencyCode:null,p57:t&&t.FrequencyName?t.FrequencyName:null,p58:L.current,p59:h,p60:Fe?"DraftConSLARateCardID":"ConSLARateCardID",p61:null,p62:null,p63:localStorage.getItem("UserGroupID"),p64:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(239)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftConSLARateCardID"):Tt({current:1,pageSize:100},Pe,"ConSLARateCardID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld239L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld239L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld239L1TCFilterDataIsAdd",id:"ConSLARateCardDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ConSLARateCardDetailsFilterDiv").style.width="0%",document.getElementById("ConSLARateCardDetailsTabDiv").style.width="100%",document.getElementById("ConSLARateCardDetailsFilterDiv").style.display="none",document.getElementById("ConSLARateCardDetailscoldiv").style.width="fit-content",document.getElementById("ConSLARateCardDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ConSLARateCardDetailsFilterDiv").style.width="25%",document.getElementById("ConSLARateCardDetailsTabDiv").style.width="75%",document.getElementById("ConSLARateCardDetailsFilterDiv").style.display="block",document.getElementById("ConSLARateCardDetailsfildiv").style.width="fit-content",document.getElementById("ConSLARateCardDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConSLARateCardDetailscoldiv").style.width="fit-content",document.getElementById("ConSLARateCardDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ConSLARateCardDetailscoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld239L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"ConSLARateCardID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld239L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld239L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftConSLARateCardID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("ConSLARateCardDetailsFilterDiv").style.width="0%",document.getElementById("ConSLARateCardDetailsTabDiv").style.width="100%",document.getElementById("ConSLARateCardDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld239L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld239L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld239L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld239L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld239L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld239L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftConSLARateCardID":"ConSLARateCardID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftConSLARateCardID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"ConSLARateCardID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld239L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftConSLARateCardID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"ConSLARateCardID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ConSLARateCardDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConSLARateCardDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(gl,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"ConSLARateCardID")},frmctrlid:"fld239L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ConSLARateCardDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld239L1TCExpandedCardDual",data:K,id:"ConSLARateCardDetails",title:"ConSLARateCardCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),Il={EnterKeyValues:{ConSLARateCardDetails:["DivisionName","DisciplineName","FrequencyName","SLAStdPrice","SLASellingPrice","ConSLARateCardCode","ManHrRquired","ManPwrRequired","ContractName","LocalityName"]},Label:{ConSLARateCardDetails:{DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyName"],SLAStdPrice:["ConSLARateCardCode"],SLASellingPrice:["ConSLARateCardCode"],ConSLARateCardCode:["ConSLARateCardCode"],ManHrRquired:["ConSLARateCardCode"],ManPwrRequired:["ConSLARateCardCode"],ContractID:["ConSLARateCardCode"],LocalityID:["ConSLARateCardCode"]}},LabelHeader:{ConSLARateCardDetails:{DivisionID:["Division Code","Division Name"],DisciplineID:["Discipline Code","Discipline Name","Division Name"],FrequencyID:["Frequency Name"],SLAStdPrice:["ConSLARateCardCode"],SLASellingPrice:["ConSLARateCardCode"],ConSLARateCardCode:["ConSLARateCardCode"],ManHrRquired:["ConSLARateCardCode"],ManPwrRequired:["ConSLARateCardCode"],ContractID:["ConSLARateCardCode"],LocalityID:["ConSLARateCardCode"]}},Property:{ConSLARateCardDetails:{DivisionID:{id:"fld239_20001",clearID:"ConSLARateCardDetailsDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},DisciplineID:{id:"fld239_20002",clearID:"ConSLARateCardDetailsDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FrequencyID:{id:"fld239_20003",clearID:"ConSLARateCardDetailsFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},SLAStdPrice:{id:"fld239_19995",labelID:"SLAStdPrice",maxLength:"10",labelname:"Standard Rate",frmctrlid:"fld239_19995",frmctrlidname:"SLAStdPrice",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},SLASellingPrice:{id:"fld239_19996",labelID:"SLASellingPrice",maxLength:"10",labelname:"Selling Rate",frmctrlid:"fld239_19996",frmctrlidname:"SLASellingPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConSLARateCardCode:{id:"fld239_19992",labelID:"ConSLARateCardCode",maxLength:"50",labelname:"ConSLARateCardCode",frmctrlid:"fld239_19992",frmctrlidname:"ConSLARateCardCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ManHrRquired:{id:"fld239_19993",labelID:"ManHrRquired",maxLength:"",labelname:"ManHrRquired",frmctrlid:"fld239_19993",frmctrlidname:"ManHrRquired",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ManPwrRequired:{id:"fld239_19994",labelID:"ManPwrRequired",maxLength:"",labelname:"ManPwrRequired",frmctrlid:"fld239_19994",frmctrlidname:"ManPwrRequired",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld239_19999",clearID:"ConSLARateCardDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractID",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},LocalityID:{id:"fld239_20000",clearID:"ConSLARateCardDetailsLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"LocalityID",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{ConSLARateCardDetails:{DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"]}}},Sl={ConSLARateCardIDPK:"",ConSLARateCardCode:"",ManHrRquired:"",ManPwrRequired:"",SLAStdPrice:"",SLASellingPrice:"",IsDraft:!1,Remarks:"",ContractID:null,LocalityID:null,DivisionID:null,DisciplineID:null,FrequencyID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",Type:"ConSLARateCardID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},El=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,Sl),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:vl),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:Nl(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("239"),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!0),[ce,de]=(0,l.useState)(!1);let se=(0,N.Z)();const[me,ue]=(0,l.useState)({}),pe=e=>se[e]?se[e]:e,Ce=t=>U.language?.[t]?U.language[t]:e.createEasy?me?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{De()}),[]),(0,l.useEffect)((()=>{De()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(ge(U.editData[0],""),D(!0)):U.Add&&(De(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ue(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{De()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Ae(t),D(e)):(De(),D(e))},AddOpen:e=>{De(),D(!0)}})));const ge=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultConSLARateCardID"==a?J(t.ConSLARateCardIDPK):(W(e.primid?Number(e.primid):t.ConSLARateCardIDPK?t.ConSLARateCardIDPK:0),j({type:"PrimaryId",payload:t.ConSLARateCardIDPK})),O({type:"number",name:"DivisionID",number:t.DivisionID?Number(t.DivisionID):0}),O({type:"text",name:"DivisionName",value:t.DivisionName}),O({type:"number",name:"DisciplineID",number:t.DisciplineID?Number(t.DisciplineID):0}),O({type:"text",name:"DisciplineName",value:t.DisciplineName}),O({type:"number",name:"FrequencyID",number:t.FrequencyID?Number(t.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:t.FrequencyName}),O({type:"number",name:"SLAStdPrice",number:Number(t.SLAStdPrice)}),O({type:"number",name:"SLASellingPrice",number:Number(t.SLASellingPrice)}),O({type:"text",name:"ConSLARateCardCode",value:t.ConSLARateCardCode?t.ConSLARateCardCode:""}),O({type:"number",name:"ManHrRquired",number:t.ManHrRquired}),O({type:"number",name:"ManPwrRequired",number:t.ManPwrRequired}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},De=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"DivisionID",value:null}),O({type:"text",name:"DivisionName",value:""}),document.getElementById("ConSLARateCardDetailsDivisionNameClear")&&document.getElementById("ConSLARateCardDetailsDivisionNameClear").click(),O({type:"text",name:"DisciplineID",value:null}),O({type:"text",name:"DisciplineName",value:""}),document.getElementById("ConSLARateCardDetailsDisciplineNameClear")&&document.getElementById("ConSLARateCardDetailsDisciplineNameClear").click(),O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("ConSLARateCardDetailsFrequencyNameClear")&&document.getElementById("ConSLARateCardDetailsFrequencyNameClear").click(),O({type:"number",name:"SLAStdPrice",number:0}),O({type:"number",name:"SLASellingPrice",number:0}),O({type:"text",name:"ConSLARateCardCode",value:""}),O({type:"number",name:"ManHrRquired",number:0}),O({type:"number",name:"ManPwrRequired",number:0}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConSLARateCardDetailsContractNameClear")&&document.getElementById("ConSLARateCardDetailsContractNameClear").click(),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConSLARateCardDetailsLocalityNameClear")&&document.getElementById("ConSLARateCardDetailsLocalityNameClear").click(),y(!0),P(""),le(!0),oe(!0),ie(!0)},Ie=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP239S2/",l={data:[{p1:"SetDefaultConSLARateCardID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:Re(k.ConSLARateCardCode),p3:k.ManHrRquired?Number(k.ManHrRquired):0,p4:k.ManPwrRequired?Number(k.ManPwrRequired):0,p5:k.SLAStdPrice?Number(k.SLAStdPrice):0,p6:k.SLASellingPrice?Number(k.SLASellingPrice):0,p7:!1,p8:"SetDefaultConSLARateCardID"==t?"SetDefault":null,p9:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p10:k.LocalityID?k.LocalityID:0,p11:k.DivisionID?k.DivisionID:0,p12:k.DisciplineID?k.DisciplineID:0,p13:k.FrequencyID?k.FrequencyID:0,p14:s,p15:"SetDefaultConSLARateCardID"==t,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{le(!0),oe(!0),ie(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP239S1/",l={data:[{p1:Y,p2:Re(k.ConSLARateCardCode),p3:k.ManHrRquired?Number(k.ManHrRquired):0,p4:k.ManPwrRequired?Number(k.ManPwrRequired):0,p5:k.SLAStdPrice?Number(k.SLAStdPrice):0,p6:k.SLASellingPrice?Number(k.SLASellingPrice):0,p7:!1,p8:null,p9:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p10:k.LocalityID?k.LocalityID:0,p11:k.DivisionID?k.DivisionID:0,p12:k.DisciplineID?k.DisciplineID:0,p13:k.FrequencyID?k.FrequencyID:0,p14:s,p15:!1,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttConSLARateCardDetails"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),De(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConSLARateCardDetails")&&(document.getElementById("overlayimgAttConSLARateCardDetails").style.width="0%",document.getElementById("overlayimgAttConSLARateCardDetails").style.display="none",document.getElementById("divConSLARateCardDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConSLARateCardDetails-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function Se(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[pe("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[pe("Please enter the primary fields")]}),!1;{le(!0),oe(!0),ie(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP239S1/",l={data:[{p1:"SetDefaultConSLARateCardID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:Re(k.ConSLARateCardCode),p3:k.ManHrRquired?Number(k.ManHrRquired):0,p4:k.ManPwrRequired?Number(k.ManPwrRequired):0,p5:k.SLAStdPrice?Number(k.SLAStdPrice):0,p6:k.SLASellingPrice?Number(k.SLASellingPrice):0,p7:!0,p8:"SetDefaultConSLARateCardID"==n?"SetDefault":null,p9:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p10:k.LocalityID?k.LocalityID:0,p11:k.DivisionID?k.DivisionID:0,p12:k.DisciplineID?k.DisciplineID:0,p13:k.FrequencyID?k.FrequencyID:0,p14:!1,p15:"SetDefaultConSLARateCardID"==n,p16:localStorage.getItem("userid"),p17:V()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[pe("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[pe("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),De(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function Ee(e){return CreateEasy(e,U,j,H,X),!1}function fe(e,a){return AdvanceSearch(e,a,vl,Nl(),he,t),!1}const ve=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP239S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.parentId?Number(e.parentId):0,p10:"0"==k.LocalityID?null:k.LocalityID,p11:"0"==k.DivisionID?null:k.DivisionID,p12:"0"==k.DisciplineID?null:k.DisciplineID,p13:"0"==k.FrequencyID?null:k.FrequencyID,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:"0"==k.ContractGroupID?null:k.ContractGroupID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==k.TaxID?null:k.TaxID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:"0"==k.CustomerID?null:k.CustomerID,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:"0"==k.ContractTypeID?null:k.ContractTypeID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==k.ContractCategID?null:k.ContractCategID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==k.CityID?null:k.CityID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:t,p59:10,p60:l,p61:null,p62:null,p63:localStorage.getItem("UserGroupID"),p64:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultConSLARateCardID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultConSLARateCardID"==l&&(e>0?ge(n[0],"SetDefaultConSLARateCardID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ne=(t,l,n)=>{const o=S.v.Api+"FP239S3/",r={data:{p1:null,p2:"ConSLARateCardCode"==n&&l?"%"+l+"%":null,p3:"ManHrRquired"==n&&l?"%"+l+"%":null,p4:"ManPwrRequired"==n&&l?"%"+l+"%":null,p5:"SLAStdPrice"==n&&l?"%"+l+"%":null,p6:"SLASellingPrice"==n&&l?"%"+l+"%":null,p7:null,p8:null,p9:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:t,p59:10,p60:"ConSLARateCardID",p61:null,p62:null,p63:localStorage.getItem("UserGroupID"),p64:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ConSLARateCardCode"==n&&le(e>0),"ManHrRquired"==n&&oe(e>0),"ManPwrRequired"==n&&ie(e>0),K(l)):("ConSLARateCardCode"==n&&le(!0),"ManHrRquired"==n&&oe(!0),"ManPwrRequired"==n&&ie(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},he=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("DivisionID"==t?(O({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),O({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"DisciplineID"==t?(O({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),O({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null}),O({type:"text",name:"DivisionID",value:e.DivisionID?e.DivisionID:null}),O({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"FrequencyID"==t&&(O({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null})))}),[k]);function Te(e){if("DivisionID"==e){if(!k.DivisionID)return!1;O({type:"text",name:"DivisionID",value:null}),O({type:"text",name:"DivisionName",value:""}),document.getElementById("ConSLARateCardDetailsDivisionNameClear")&&document.getElementById("ConSLARateCardDetailsDivisionNameClear").click()}else if("DisciplineID"==e){if(!k.DisciplineID)return!1;O({type:"text",name:"DisciplineID",value:null}),O({type:"text",name:"DisciplineName",value:""}),document.getElementById("ConSLARateCardDetailsDisciplineNameClear")&&document.getElementById("ConSLARateCardDetailsDisciplineNameClear").click(),O({type:"text",name:"DivisionID",value:null}),O({type:"text",name:"DivisionName",value:""}),document.getElementById("ConSLARateCardDetailsDivisionNameClear")&&document.getElementById("ConSLARateCardDetailsDivisionNameClear").click()}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("ConSLARateCardDetailsFrequencyNameClear")&&document.getElementById("ConSLARateCardDetailsFrequencyNameClear").click()}else if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e&&!k.LocalityID)return!1}function Le(e){if("DivisionID"==e){if(!k.DivisionID)return!1;O({type:"text",name:"DivisionID",value:null})}else if("DisciplineID"==e){if(!k.DisciplineID)return!1;O({type:"text",name:"DisciplineID",value:null}),O({type:"text",name:"DivisionID",value:null})}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null})}else if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e&&!k.LocalityID)return!1}const we=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ae(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("No"),showCancel:!0},pe("Do you want to update this record?")))};function Ae(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ConSLARateCardIDPK)?Number(e.ConSLARateCardIDPK):0),O({type:"number",name:"DivisionID",number:e.DivisionID?Number(e.DivisionID):0}),O({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:""}),O({type:"number",name:"DisciplineID",number:e.DisciplineID?Number(e.DisciplineID):0}),O({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:""}),O({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""}),O({type:"number",name:"SLAStdPrice",number:e.SLAStdPrice?Number(e.SLAStdPrice):0}),O({type:"number",name:"SLASellingPrice",number:e.SLASellingPrice?Number(e.SLASellingPrice):0}),O({type:"text",name:"ConSLARateCardCode",value:e.ConSLARateCardCode?e.ConSLARateCardCode:""}),O({type:"text",name:"ManHrRquired",value:e.ManHrRquired?e.ManHrRquired:""}),O({type:"text",name:"ManPwrRequired",value:e.ManPwrRequired?e.ManPwrRequired:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""})}const Re=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[239]"}," ",pe("Add "),Ce("239")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld239L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:pe(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld239L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{De()},id:"fld239L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld239L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Se("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Se()},frmctrlid:"fld239L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,pe("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld239L1ECSaveBtnIsAdd",name:pe(Y?"Update":"Save"),disabled:!1,onClick:()=>{k.DisciplineID&&0!=k.DisciplineID?k.FrequencyID&&0!=k.FrequencyID?Re(k.SLAStdPrice)?e.parentId&&0!=e.parentId?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:pe("Are you sure?"),onConfirm:()=>Ie(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("Cancel"),showCancel:!0},pe(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("ContractID")]}):H.alert({open:!0,color:"warning",message:[pe("Please enter the")+""+Ce("SLAStdPrice")]}):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("FrequencyID")]}):H.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+Ce("DisciplineID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld239L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{De(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConSLARateCardDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConSLARateCardDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConSLARateCardDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Il,id:k.DivisionID,"data-testid":k.DivisionID,value:k.DivisionName,SPName:"ConSLARateCardDetails",FieldName:"DivisionID",tfLabel:Ce("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"DivisionID","select"),onChange:(e,t)=>{ve(e,t,"DivisionIDPK")},KeyBack:e=>{Le("DivisionID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("35")},Tabledialog:()=>fe("35","DivisionID"),loading:Z,clear:e=>{e&&Te("DivisionID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Il,id:k.DisciplineID,"data-testid":k.DisciplineID,value:k.DisciplineName,SPName:"ConSLARateCardDetails",FieldName:"DisciplineID",tfLabel:Ce("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"DisciplineID","select"),onChange:(e,t)=>{ve(e,t,"DisciplineIDPK")},KeyBack:e=>{Le("DisciplineID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("34")},Tabledialog:()=>fe("34","DisciplineID"),loading:Z,clear:e=>{e&&Te("DisciplineID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Il,id:k.FrequencyID,"data-testid":k.FrequencyID,value:k.FrequencyName,SPName:"ConSLARateCardDetails",FieldName:"FrequencyID",tfLabel:Ce("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"FrequencyID","select"),onChange:(e,t)=>{ve(e,t,"FrequencyIDPK")},KeyBack:e=>{Le("FrequencyID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("457")},Tabledialog:()=>fe("457","FrequencyID"),loading:Z,clear:e=>{e&&Te("FrequencyID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Il,"data-testid":k.SLAStdPrice,SPName:"ConSLARateCardDetails",FieldName:"SLAStdPrice",tfLabel:Ce("SLAStdPrice"),frmctrlid:"fld239_19995",fieldorder:"4",onChange:e=>{he(e,"SLAStdPrice","number")},clear:e=>{e&&O({type:"number",name:"SLAStdPrice",number:0})},value:k.SLAStdPrice})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(be.Z,{json:Il,"data-testid":k.SLASellingPrice,SPName:"ConSLARateCardDetails",FieldName:"SLASellingPrice",tfLabel:Ce("SLASellingPrice"),frmctrlid:"fld239_19996",fieldorder:"1",onChange:e=>{he(e,"SLASellingPrice","number")},clear:e=>{e&&O({type:"number",name:"SLASellingPrice",number:0})},value:k.SLASellingPrice})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ConSLARateCardCode,json:Il,SPName:"ConSLARateCardDetails",FieldName:"ConSLARateCardCode",tfLabel:Ce("ConSLARateCardCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&we(t),onClick:()=>{ae&&Ne(1,"","ClearAll"),le(!0)},frmctrlid:"fld239_19992",frmctrlidName:"ConSLARateCardCode",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ae&&Ne(e,t,"ConSLARateCardCode"),he(t,"ConSLARateCardCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:k.ConSLARateCardCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ConSLARateCardCode",value:""}),le(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ManHrRquired,json:Il,SPName:"ConSLARateCardDetails",FieldName:"ManHrRquired",tfLabel:Ce("ManHrRquired"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&we(t),onClick:()=>{ne&&Ne(1,"","ClearAll"),oe(!0)},frmctrlid:"fld239_19993",frmctrlidName:"ManHrRquired",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ne&&Ne(e,t,"ManHrRquired"),he(t,"ManHrRquired","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:k.ManHrRquired,loading:Z,clear:e=>{e&&(O({type:"text",name:"ManHrRquired",value:""}),oe(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.ManPwrRequired,json:Il,SPName:"ConSLARateCardDetails",FieldName:"ManPwrRequired",tfLabel:Ce("ManPwrRequired"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&we(t),onClick:()=>{re&&Ne(1,"","ClearAll"),ie(!0)},frmctrlid:"fld239_19994",frmctrlidName:"ManPwrRequired",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{re&&Ne(e,t,"ManPwrRequired"),he(t,"ManPwrRequired","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:k.ManPwrRequired,loading:Z,clear:e=>{e&&(O({type:"text",name:"ManPwrRequired",value:""}),ie(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Il,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConSLARateCardDetails",FieldName:"ContractID",tfLabel:Ce("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"ContractID","select"),onChange:(e,t)=>{ve(e,t,"ContractIDPK")},KeyBack:e=>{Le("ContractID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("156")},Tabledialog:()=>fe("156","ContractID"),loading:Z,clear:e=>{e&&Te("ContractID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Il,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,SPName:"ConSLARateCardDetails",FieldName:"LocalityID",tfLabel:Ce("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>he(e,"LocalityID","select"),onChange:(e,t)=>{ve(e,t,"LocalityIDPK")},KeyBack:e=>{Le("LocalityID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{Ee("12")},Tabledialog:()=>fe("12","LocalityID"),loading:Z,clear:e=>{e&&Te("LocalityID")}})))),n().createElement("div",{id:"ConSLARateCardDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConSLARateCardDetailsSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),fl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(vl),{cstate:B,cdispatch:F}=Nl(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ConSLARateCardIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP239S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:1,p59:10,p60:B.IsDraft?"DraftConSLARateCardID":"ConSLARateCardID",p61:null,p62:null,p63:localStorage.getItem("UserGroupID"),p64:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ConSLARateCardIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConSLARateCardDetails"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld239L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld239L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld239L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld239L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(El,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConSLARateCardDetails",tableID:239,parentID:t.ConSLARateCardIDPK,fldid:"fld239L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[239]"}))))))))})),vl=(0,l.createContext)(),Nl=()=>{const e=(0,l.useContext)(vl);if(void 0===e)throw new Error("useCont must be used within  ConSLARateCardDetailsContext Provider");return e},hl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConSLARateCardDetails-Entry").style.width="100%",document.getElementById("ConSLARateCardDetails-MainTable").style.width="100%",document.getElementById("ConSLARateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConSLARateCardDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConSLARateCardDetails-Entry").style.width="100%",document.getElementById("ConSLARateCardDetails-MainTable").style.width="100%",document.getElementById("ConSLARateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConSLARateCardDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConSLARateCardDetails-Entry").style.width="100%",document.getElementById("ConSLARateCardDetailsEntryTable").style.width="100%",document.getElementById("ConSLARateCardDetails-MainEntry").style.width="100%",document.getElementById("ConSLARateCardDetails-MainEntry").style.display="block",document.getElementById("ConSLARateCardDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConSLARateCardDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConSLARateCardDetails").style.width="0%",document.getElementById("overlayimgAttConSLARateCardDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(vl.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Nl,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConSLARateCardDetails").style.width="50%",document.getElementById("divConSLARateCardDetails-Entry").style.width="100%",document.getElementById("ConSLARateCardDetails-MainTable").style.width="100%",document.getElementById("ConSLARateCardDetails-MainEntry").style.width="100%",document.getElementById("ConSLARateCardDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConSLARateCardDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConSLARateCardDetails").style.display="block",document.getElementById("overlayimgAttConSLARateCardDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConSLARateCardDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConSLARateCardDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConSLARateCardDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConSLARateCardDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(fl,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:239,fileId:"LogoImgConSLARateCardDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConSLARateCardDetails",frmctrlid:"PvwIm_239_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConSLARateCardDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(El,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:239,fileId:"LogoImgConSLARateCardDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConSLARateCardDetails",frmctrlid:"PvwIm_239_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConSLARateCardDetails-MainTable"},0!==y?n().createElement(Dl,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:239,fileId:"AttImgConSLARateCardDetails",imgid:"overlayimgAttConSLARateCardDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConSLARateCardDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_239_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConSLARateCardDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:239,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Tl=a(25108);const bl=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:Ml(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP151S3/",g={data:{p1:"ContractLocalityLogDetailIDPK"==a?null:await we(),p2:"ContractLocalityLogDetailCode"==c&&l.length>0?"%"+l+"%":null,p3:"BudgetValue"==c&&l.length>0?"%"+l+"%":null,p4:"IsValidate"==c&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p9:e.parentId?e.parentId:"0",p10:"BuildingName"!=c&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p11:e.Dialogview?"1":null,p12:null,p13:"p13"==c&&l.length>0?l:null,p14:null,p15:null,p16:null,p17:null,p18:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p19:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p20:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p21:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p22:"CityCode"==c&&l.length>0?"%"+l+"%":null,p23:"CityName"==c&&l.length>0?"%"+l+"%":null,p24:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p25:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p26:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p27:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p28:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p29:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p30:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p31:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p32:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p33:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p34:"TaxName"==c&&l.length>0?"%"+l+"%":null,p35:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p36:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p37:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p38:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p39:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p40:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p41:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p42:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p43:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p44:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p45:"PaymentTermsName"!=c&&d.PaymentTermsName?d.PaymentTermsName.map((e=>e.PaymentTermsIDPK)).toString():null,p46:"PaymentTermsCode"==c&&l.length>0?"%"+l+"%":null,p47:"PaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p48:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p49:"ContractName"==c&&l.length>0?"%"+l+"%":null,p50:"AssBuildingTypeName"!=c&&d.AssBuildingTypeName?d.AssBuildingTypeName.map((e=>e.AssBuildingTypeIDPK)).toString():null,p51:"AssBuildingTypeCode"==c&&l.length>0?"%"+l+"%":null,p52:"AssBuildingTypeName"==c&&l.length>0?"%"+l+"%":null,p53:"BuildingCode"==c&&l.length>0?"%"+l+"%":null,p54:"BuildingName"==c&&l.length>0?"%"+l+"%":null,p55:n||1,p56:10,p57:t,p58:null,p59:null,p60:localStorage.getItem("UserGroupID"),p61:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.ContractLocalityLogDetailIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={ContractLocalityLogDetailIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",LocalityID:Le("LocalityID"),ContractID:Le("ContractID"),BuildingID:Le("BuildingID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.ContractLocalityLogDetailIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.ContractLocalityLogDetailIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={ContractLocalityLogDetailIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),BuildingID:C.BuildingName?.map((e=>e.BuildingIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld151L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld151L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld151L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Tl.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld151L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld151L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld151L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld151L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld151L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld151L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld151L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"ContractLocalityLogDetailIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterContractLocalityLogDetailID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterContractLocalityLogDetailID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterContractLocalityLogDetailID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),Pl=bl;window.clickFilter="";const Ll=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("151"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"ConContractLocalityLogDetail",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:Al),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:Ml();let Pe={ContractLocalityLogDetailIDPK:"",ContractLocalityLogDetailCode:"",BudgetValue:"",IsValidate:"",IsDefault:"",IsDraft:"",Remarks:"",LocalityID:"",ContractID:"",BuildingID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsCode:"",PaymentTermsName:"",ContractCode:"",ContractName:"",AssBuildingTypeID:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({ContractLocalityLogDetailCode:"",BudgetValue:"",IsValidate:"",LocalityName:"",ContractName:"",BuildingName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[at,lt]=(0,l.useState)(!1),[nt,ot]=(0,l.useState)(!1),[rt,it]=(0,l.useState)(!1),[ct,dt]=(0,l.useState)(""),[st,mt]=Se()("151"),[ut,pt]=(0,l.useState)({}),Ct=[{columns:Je,data:w}];let yt=(0,N.Z)();const gt=e=>yt[e]?yt[e]:e,Dt=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{ht(st)}),[st]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?vt(L,Pe,"ContractLocalityLogDetailID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?vt(L,Q,"ContractLocalityLogDetailID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{It(e)},tableRefresh:()=>{vt(L,Pe,"ContractLocalityLogDetailID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{it(!0===e)}})));const It=e=>{""==e?vt(L,Pe,Fe?"DraftContractLocalityLogDetailID":"ContractLocalityLogDetailID",Fe&&"DraftPage"):Nt(e,{current:1,pageSize:100}),j(e)};function St(t){he.loading(!0);let a=S.v.Api+"FP151S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Et(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),it(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Nt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ft=()=>{he.EditClose(!0),z?(document.getElementById("ConContractLocalityLogDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractLocalityLogDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractLocalityLogDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("ConContractLocalityLogDetailcoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityLogDetailcoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("ConContractLocalityLogDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityLogDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("ConContractLocalityLogDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityLogDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("ConContractLocalityLogDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractLocalityLogDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractLocalityLogDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("ConContractLocalityLogDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("ConContractLocalityLogDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},vt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP151S3/",c={data:{p1:o||(a&&a.ContractLocalityLogDetailIDPK?a.ContractLocalityLogDetailIDPK:null),p2:a&&a.ContractLocalityLogDetailCode?a.ContractLocalityLogDetailCode:null,p3:a&&a.BudgetValue?a.BudgetValue:null,p4:null,p5:null,p6:"DraftContractLocalityLogDetailID"==l?"1":"0",p7:null,p8:a&&a.LocalityID?a.LocalityID:null,p9:e.parentId?Number(e.parentId):0,p10:a&&a.BuildingID?a.BuildingID:null,p11:a&&a.IsActive,p12:null,p13:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p14:a&&a.CreatedTtm?a.CreatedTtm:null,p15:a&&a.CreatedTtmType?a.CreatedTtmType:null,p16:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p17:null,p18:a&&a.LocalityGroupID?a.LocalityGroupID:null,p19:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p20:a&&a.LocalityGroupName?a.LocalityGroupName:null,p21:a&&a.CityID?a.CityID:null,p22:a&&a.CityCode?a.CityCode:null,p23:a&&a.CityName?a.CityName:null,p24:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p25:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p26:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p27:a&&a.LocalityCode?a.LocalityCode:null,p28:a&&a.LocalityName?a.LocalityName:null,p29:a&&a.ContractGroupID?a.ContractGroupID:null,p30:a&&a.ContractGroupCode?a.ContractGroupCode:null,p31:a&&a.ContractGroupName?a.ContractGroupName:null,p32:a&&a.TaxID?a.TaxID:null,p33:a&&a.TaxCode?a.TaxCode:null,p34:a&&a.TaxName?a.TaxName:null,p35:a&&a.TaxValue?a.TaxValue:null,p36:a&&a.CustomerID?a.CustomerID:null,p37:a&&a.CustomerCode?a.CustomerCode:null,p38:a&&a.CustomerName?a.CustomerName:null,p39:a&&a.ContractTypeID?a.ContractTypeID:null,p40:a&&a.ContractTypCode?a.ContractTypCode:null,p41:a&&a.ContractTypeName?a.ContractTypeName:null,p42:a&&a.ContractCategID?a.ContractCategID:null,p43:a&&a.ContractCategCode?a.ContractCategCode:null,p44:a&&a.ContractCategName?a.ContractCategName:null,p45:a&&a.PaymentTermsID?a.PaymentTermsID:null,p46:a&&a.PaymentTermsCode?a.PaymentTermsCode:null,p47:a&&a.PaymentTermsName?a.PaymentTermsName:null,p48:a&&a.ContractCode?a.ContractCode:null,p49:a&&a.ContractName?a.ContractName:null,p50:a&&a.AssBuildingTypeID?a.AssBuildingTypeID:null,p51:a&&a.AssBuildingTypeCode?a.AssBuildingTypeCode:null,p52:a&&a.AssBuildingTypeName?a.AssBuildingTypeName:null,p53:a&&a.BuildingCode?a.BuildingCode:null,p54:a&&a.BuildingName?a.BuildingName:null,p55:o?1:t.current,p56:t.pageSize,p57:l,p58:null,p59:null,p60:localStorage.getItem("UserGroupID"),p61:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divConContractLocalityLogDetail-Entry").style.height="auto",document.getElementById("divConContractLocalityLogDetail-Entry").style.display="block")}else he.loading(!1),"DraftContractLocalityLogDetailID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function Nt(t,a){he.loading(!0);const l=S.v.Api+"FP151S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function ht(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Tt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_151_L1_",id:"ConContractLocalityLogDetailTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};pt(t),x({current:1,pageSize:10}),vt({current:1,pageSize:10},t,Fe?"DraftContractLocalityLogDetailID":"ContractLocalityLogDetailID",Fe&&"DraftPage")},bodydata:K,ondrag:Et,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&vt(L,null,t?"DraftContractLocalityLogDetailID":"ContractLocalityLogDetailID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Dt,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!rt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld151L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld151L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:gt("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld151L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld151L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractLocalityLogDetailgridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld151L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[151]"},`${Dt("151")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld151L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld151L1TCInputSearch",className:"search_input",type:"text",placeholder:gt("Search"),value:U,onChange:e=>{It(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld151L1TCInputCloseIcon",onClick:()=>{It("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld151L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"ConContractLocalityLogDetail-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld151L1TCFilterDataIsDraft",id:"ConContractLocalityLogDetailfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ft()}},n().createElement(M.ZP,{title:gt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld151L1TCExportPrint",formctrlidexport:"fld151L1TCExportTable",formctrlidrefresh:"fld151L1TCExportRefresh",title:Dt("151"),data:A,exportData:Ct,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP151S3/",c={data:{p1:t&&t.ContractLocalityLogDetailIDPK?t.ContractLocalityLogDetailIDPK:null,p2:t&&t.ContractLocalityLogDetailCode?t.ContractLocalityLogDetailCode:null,p3:t&&t.BudgetValue?t.BudgetValue:null,p4:null,p5:null,p6:Fe?"1":"0",p7:null,p8:t&&t.LocalityID?t.LocalityID:null,p9:e.parentId?Number(e.parentId):0,p10:t&&t.BuildingID?t.BuildingID:null,p11:t&&t.IsActive,p12:null,p13:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p14:t&&t.CreatedTtm?t.CreatedTtm:null,p15:t&&t.CreatedTtmType?t.CreatedTtmType:null,p16:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p17:null,p18:t&&t.LocalityGroupID?t.LocalityGroupID:null,p19:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p20:t&&t.LocalityGroupName?t.LocalityGroupName:null,p21:t&&t.CityID?t.CityID:null,p22:t&&t.CityCode?t.CityCode:null,p23:t&&t.CityName?t.CityName:null,p24:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p25:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p26:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p27:t&&t.LocalityCode?t.LocalityCode:null,p28:t&&t.LocalityName?t.LocalityName:null,p29:t&&t.ContractGroupID?t.ContractGroupID:null,p30:t&&t.ContractGroupCode?t.ContractGroupCode:null,p31:t&&t.ContractGroupName?t.ContractGroupName:null,p32:t&&t.TaxID?t.TaxID:null,p33:t&&t.TaxCode?t.TaxCode:null,p34:t&&t.TaxName?t.TaxName:null,p35:t&&t.TaxValue?t.TaxValue:null,p36:t&&t.CustomerID?t.CustomerID:null,p37:t&&t.CustomerCode?t.CustomerCode:null,p38:t&&t.CustomerName?t.CustomerName:null,p39:t&&t.ContractTypeID?t.ContractTypeID:null,p40:t&&t.ContractTypCode?t.ContractTypCode:null,p41:t&&t.ContractTypeName?t.ContractTypeName:null,p42:t&&t.ContractCategID?t.ContractCategID:null,p43:t&&t.ContractCategCode?t.ContractCategCode:null,p44:t&&t.ContractCategName?t.ContractCategName:null,p45:t&&t.PaymentTermsID?t.PaymentTermsID:null,p46:t&&t.PaymentTermsCode?t.PaymentTermsCode:null,p47:t&&t.PaymentTermsName?t.PaymentTermsName:null,p48:t&&t.ContractCode?t.ContractCode:null,p49:t&&t.ContractName?t.ContractName:null,p50:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p51:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p52:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p53:t&&t.BuildingCode?t.BuildingCode:null,p54:t&&t.BuildingName?t.BuildingName:null,p55:L.current,p56:h,p57:Fe?"DraftContractLocalityLogDetailID":"ContractLocalityLogDetailID",p58:null,p59:null,p60:localStorage.getItem("UserGroupID"),p61:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Dt(151)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?vt({current:1,pageSize:100},Pe,"DraftContractLocalityLogDetailID"):vt({current:1,pageSize:100},Pe,"ContractLocalityLogDetailID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ot(!nt)},n().createElement("span",null,nt?n().createElement(M.ZP,{disableFocusListener:!0,title:gt("Less"),placement:"top"},n().createElement("span",{id:"fld151L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:gt("More"),placement:"top"},n().createElement("span",{id:"fld151L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),nt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld151L1TCFilterDataIsAdd",id:"ConContractLocalityLogDetailcoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("ConContractLocalityLogDetailFilterDiv").style.width="0%",document.getElementById("ConContractLocalityLogDetailTabDiv").style.width="100%",document.getElementById("ConContractLocalityLogDetailFilterDiv").style.display="none",document.getElementById("ConContractLocalityLogDetailcoldiv").style.width="fit-content",document.getElementById("ConContractLocalityLogDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("ConContractLocalityLogDetailFilterDiv").style.width="25%",document.getElementById("ConContractLocalityLogDetailTabDiv").style.width="75%",document.getElementById("ConContractLocalityLogDetailFilterDiv").style.display="block",document.getElementById("ConContractLocalityLogDetailfildiv").style.width="fit-content",document.getElementById("ConContractLocalityLogDetailfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("ConContractLocalityLogDetailcoldiv").style.width="fit-content",document.getElementById("ConContractLocalityLogDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:gt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"ConContractLocalityLogDetailcoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),St({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:gt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld151L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},gt("Table Scroll Data")))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld151L1TCListView",onClick:()=>{Ge(!0),lt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,gt("List"))),n().createElement("div",{className:Ze||at?"buttonGrid":"buttonList",id:"fld151L1TCCardView",onClick:()=>{Ge(!1),lt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,gt("Card"))),n().createElement("div",{className:at?"buttonList":"buttonGrid",id:"fld151L1TCTileView",onClick:()=>{lt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,gt("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld151L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),St({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),St({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld151L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),St({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld151L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftContractLocalityLogDetailID":"ContractLocalityLogDetailID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)vt({current:t,pageSize:L.pageSize},Le,"DraftContractLocalityLogDetailID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?Nt(U,{current:t,pageSize:L.pageSize}):vt({current:t,pageSize:L.pageSize},Le,"ContractLocalityLogDetailID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld151L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?vt({current:1,pageSize:e.target.value},Le,"DraftContractLocalityLogDetailID","DraftPage"):U.length>0?Nt(U,{current:1,pageSize:e.target.value}):vt({current:1,pageSize:e.target.value},Le,"ContractLocalityLogDetailID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"ConContractLocalityLogDetail-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractLocalityLogDetailFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(Pl,{parentId:e.parentId,searchData:e=>{H(e||ut),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ft(),userGrid:st,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{vt({current:1,pageSize:100},Pe,"ContractLocalityLogDetailID")},frmctrlid:"fld151L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&ht(t),mt(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"ConContractLocalityLogDetailTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Tt,null):n().createElement(se.Z,{frmctrlid:"fld151L1TCExpandedCardDual",data:K,id:"ConContractLocalityLogDetail",title:"ContractLocalityLogDetailCode",cardTile:!!at,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),xl={EnterKeyValues:{ConContractLocalityLogDetail:["ContractLocalityLogDetailCode","BudgetValue","IsValidate","LocalityName","ContractName","BuildingName"]},Label:{ConContractLocalityLogDetail:{ContractLocalityLogDetailCode:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],BudgetValue:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],IsValidate:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],LocalityID:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],ContractID:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],BuildingID:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"]}},LabelHeader:{ConContractLocalityLogDetail:{ContractLocalityLogDetailCode:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],BudgetValue:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],IsValidate:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"],LocalityID:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","ContractCode","ContractName","ContractLocalityCode","Location Code","Location Name"],ContractID:["ContractLocalityLogDetailCode","BuildingCode","BuildingName","Contract Code","Contract Name","ContractLocalityCode","LocalityCode","LocalityName"],BuildingID:["ContractLocalityLogDetailCode","Building Code","Building Name","ContractCode","ContractName","ContractLocalityCode","LocalityCode","LocalityName"]}},Property:{ConContractLocalityLogDetail:{ContractLocalityLogDetailCode:{id:"fld151_2946",labelID:"ContractLocalityLogDetailCode",maxLength:"50",labelname:"ContractLocalityLogDetailCode",frmctrlid:"fld151_2946",frmctrlidname:"ContractLocalityLogDetailCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BudgetValue:{id:"fld151_2947",labelID:"BudgetValue",maxLength:"",labelname:"BudgetValue",frmctrlid:"fld151_2947",frmctrlidname:"BudgetValue",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsValidate:{id:"fld151_2948",labelID:"IsValidate",maxLength:"",labelname:"IsValidate",frmctrlid:"fld151_2948",frmctrlidname:"IsValidate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},LocalityID:{id:"fld151_2953",clearID:"ConContractLocalityLogDetailLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"LocalityName",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},ContractID:{id:"fld151_2954",clearID:"ConContractLocalityLogDetailContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractName",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},BuildingID:{id:"fld151_2955",clearID:"ConContractLocalityLogDetailBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"BuildingName",fielddisplayname:"BuildingName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{ConContractLocalityLogDetail:{LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"]}}},wl={ContractLocalityLogDetailIDPK:"",ContractLocalityLogDetailCode:"",BudgetValue:"",IsValidate:!1,IsDefault:!1,IsDraft:!1,Remarks:"",LocalityID:null,ContractID:null,BuildingID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",PaymentTermsID:null,PaymentTermsCode:"",PaymentTermsName:"",ContractCode:"",ContractName:"",AssBuildingTypeID:null,AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",Type:"ContractLocalityLogDetailID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Bl=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,wl),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:Al),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:Ml(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("151"),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1);let ce=(0,N.Z)();const[de,se]=(0,l.useState)({}),me=e=>ce[e]?ce[e]:e,ue=t=>U.language?.[t]?U.language[t]:e.createEasy?de?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ce()}),[]),(0,l.useEffect)((()=>{Ce()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(pe(U.editData[0],""),D(!0)):U.Add&&(Ce(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),se(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ce()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(he(t),D(e)):(Ce(),D(e))},AddOpen:e=>{Ce(),D(!0)}})));const pe=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultContractLocalityLogDetailID"==a?J(t.ContractLocalityLogDetailIDPK):(W(e.primid?Number(e.primid):t.ContractLocalityLogDetailIDPK?t.ContractLocalityLogDetailIDPK:0),j({type:"PrimaryId",payload:t.ContractLocalityLogDetailIDPK})),O({type:"text",name:"ContractLocalityLogDetailCode",value:t.ContractLocalityLogDetailCode?t.ContractLocalityLogDetailCode:""}),O({type:"number",name:"BudgetValue",number:Number(t.BudgetValue)}),O({type:"number",name:"IsValidate",number:t.IsValidate}),O({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),O({type:"text",name:"BuildingName",value:t.BuildingName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Ce=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"ContractLocalityLogDetailCode",value:""}),O({type:"number",name:"BudgetValue",number:0}),O({type:"number",name:"IsValidate",number:0}),O({type:"boolean",name:"IsDefault",boolean:!1}),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractLocalityLogDetailLocalityNameClear")&&document.getElementById("ConContractLocalityLogDetailLocalityNameClear").click(),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractLocalityLogDetailContractNameClear")&&document.getElementById("ConContractLocalityLogDetailContractNameClear").click(),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractLocalityLogDetailBuildingNameClear")&&document.getElementById("ConContractLocalityLogDetailBuildingNameClear").click(),y(!0),P(""),le(!0),oe(!0)},ye=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP151S2/",l={data:[{p1:"SetDefaultContractLocalityLogDetailID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:Te(k.ContractLocalityLogDetailCode),p3:k.BudgetValue?Number(k.BudgetValue):0,p4:k.IsValidate,p5:k.IsDefault,p6:!1,p7:"SetDefaultContractLocalityLogDetailID"==t?"SetDefault":null,p8:k.LocalityID?k.LocalityID:0,p9:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p10:k.BuildingID?k.BuildingID:0,p11:s,p12:"SetDefaultContractLocalityLogDetailID"==t,p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{le(!0),oe(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP151S1/",l={data:[{p1:Y,p2:Te(k.ContractLocalityLogDetailCode),p3:k.BudgetValue?Number(k.BudgetValue):0,p4:k.IsValidate,p5:k.IsDefault,p6:!1,p7:null,p8:k.LocalityID?k.LocalityID:0,p9:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p10:k.BuildingID?k.BuildingID:0,p11:s,p12:!1,p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttConContractLocalityLogDetail"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Ce(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttConContractLocalityLogDetail")&&(document.getElementById("overlayimgAttConContractLocalityLogDetail").style.width="0%",document.getElementById("overlayimgAttConContractLocalityLogDetail").style.display="none",document.getElementById("divConContractLocalityLogDetail-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractLocalityLogDetail-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function ge(e){return CreateEasy(e,U,j,H,X),!1}function De(e,a){return AdvanceSearch(e,a,Al,Ml(),Ee,t),!1}const Ie=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP151S3/",c={data:{p1:null,p2:null,p3:null,p4:1==k.IsValidate,p5:null,p6:null,p7:null,p8:"0"==k.LocalityID?null:k.LocalityID,p9:e.parentId?Number(e.parentId):0,p10:"0"==k.BuildingID?null:k.BuildingID,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==k.CityID?null:k.CityID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==k.ContractGroupID?null:k.ContractGroupID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==k.TaxID?null:k.TaxID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.CustomerID?null:k.CustomerID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.ContractTypeID?null:k.ContractTypeID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==k.ContractCategID?null:k.ContractCategID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==k.PaymentTermsID?null:k.PaymentTermsID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==k.AssBuildingTypeID?null:k.AssBuildingTypeID,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:t,p56:10,p57:l,p58:null,p59:null,p60:localStorage.getItem("UserGroupID"),p61:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultContractLocalityLogDetailID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultContractLocalityLogDetailID"==l&&(e>0?pe(n[0],"SetDefaultContractLocalityLogDetailID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Se=(t,l,n)=>{const o=S.v.Api+"FP151S3/",r={data:{p1:null,p2:"ContractLocalityLogDetailCode"==n&&l?"%"+l+"%":null,p3:"BudgetValue"==n&&l?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:t,p56:10,p57:"ContractLocalityLogDetailID",p58:null,p59:null,p60:localStorage.getItem("UserGroupID"),p61:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ContractLocalityLogDetailCode"==n&&le(e>0),"BudgetValue"==n&&oe(e>0),K(l)):("ContractLocalityLogDetailCode"==n&&le(!0),"BudgetValue"==n&&oe(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ee=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("LocalityID"==t?(O({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null}),O({type:"text",name:"BuildingID",value:e.BuildingID?e.BuildingID:null}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),O({type:"text",name:"ContractID",value:e.ContractID?e.ContractID:null}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null}),O({type:"text",name:"ContractLocalityID",value:e.ContractLocalityID?e.ContractLocalityID:null}),O({type:"text",name:"ContractLocalityCode",value:e.ContractLocalityCode?e.ContractLocalityCode:null})):"ContractID"==t?(O({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null}),O({type:"text",name:"BuildingID",value:e.BuildingID?e.BuildingID:null}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),O({type:"text",name:"ContractLocalityID",value:e.ContractLocalityID?e.ContractLocalityID:null}),O({type:"text",name:"ContractLocalityCode",value:e.ContractLocalityCode?e.ContractLocalityCode:null}),O({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"BuildingID"==t&&(O({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null}),O({type:"text",name:"ContractID",value:e.ContractID?e.ContractID:null}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null}),O({type:"text",name:"ContractLocalityID",value:e.ContractLocalityID?e.ContractLocalityID:null}),O({type:"text",name:"ContractLocalityCode",value:e.ContractLocalityCode?e.ContractLocalityCode:null}),O({type:"text",name:"LocalityID",value:e.LocalityID?e.LocalityID:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})))}),[k]);function fe(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractLocalityLogDetailLocalityNameClear")&&document.getElementById("ConContractLocalityLogDetailLocalityNameClear").click(),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractLocalityLogDetailBuildingNameClear")&&document.getElementById("ConContractLocalityLogDetailBuildingNameClear").click(),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractLocalityLogDetailContractNameClear")&&document.getElementById("ConContractLocalityLogDetailContractNameClear").click(),O({type:"text",name:"ContractLocalityID",value:null}),O({type:"text",name:"ContractLocalityCode",value:""}),document.getElementById("ConContractLocalityLogDetailContractLocalityCodeClear")&&document.getElementById("ConContractLocalityLogDetailContractLocalityCodeClear").click()}else if("ContractID"==e){if(!k.ContractID)return!1;O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractLocalityLogDetailContractNameClear")&&document.getElementById("ConContractLocalityLogDetailContractNameClear").click(),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractLocalityLogDetailBuildingNameClear")&&document.getElementById("ConContractLocalityLogDetailBuildingNameClear").click(),O({type:"text",name:"ContractLocalityID",value:null}),O({type:"text",name:"ContractLocalityCode",value:""}),document.getElementById("ConContractLocalityLogDetailContractLocalityCodeClear")&&document.getElementById("ConContractLocalityLogDetailContractLocalityCodeClear").click(),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractLocalityLogDetailLocalityNameClear")&&document.getElementById("ConContractLocalityLogDetailLocalityNameClear").click()}else if("BuildingID"==e){if(!k.BuildingID)return!1;O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("ConContractLocalityLogDetailBuildingNameClear")&&document.getElementById("ConContractLocalityLogDetailBuildingNameClear").click(),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractLocalityLogDetailContractNameClear")&&document.getElementById("ConContractLocalityLogDetailContractNameClear").click(),O({type:"text",name:"ContractLocalityID",value:null}),O({type:"text",name:"ContractLocalityCode",value:""}),document.getElementById("ConContractLocalityLogDetailContractLocalityCodeClear")&&document.getElementById("ConContractLocalityLogDetailContractLocalityCodeClear").click(),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("ConContractLocalityLogDetailLocalityNameClear")&&document.getElementById("ConContractLocalityLogDetailLocalityNameClear").click()}}function ve(e){if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractLocalityID",value:null})}else if("ContractID"==e){if(!k.ContractID)return!1;O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"ContractLocalityID",value:null}),O({type:"text",name:"LocalityID",value:null})}else if("BuildingID"==e){if(!k.BuildingID)return!1;O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractLocalityID",value:null}),O({type:"text",name:"LocalityID",value:null})}}const Ne=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>he(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:me("Yes"),cancelBtnText:me("No"),showCancel:!0},me("Do you want to update this record?")))};function he(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.ContractLocalityLogDetailIDPK)?Number(e.ContractLocalityLogDetailIDPK):0),O({type:"text",name:"ContractLocalityLogDetailCode",value:e.ContractLocalityLogDetailCode?e.ContractLocalityLogDetailCode:""}),O({type:"text",name:"BudgetValue",value:e.BudgetValue?e.BudgetValue:""}),O({type:"boolean",name:"IsValidate",boolean:!!e.IsValidate&&e.IsValidate}),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""})}const Te=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[151]"}," ",me("Add "),ue("151")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld151L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:me(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld151L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,me("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ce()},id:"fld151L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,me("Reset")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld151L1ECSaveBtnIsAdd",name:me(Y?"Update":"Save"),disabled:!1,onClick:()=>{Te(k.ContractLocalityLogDetailCode)?k.LocalityID&&0!=k.LocalityID?e.parentId&&0!=e.parentId?k.BuildingID&&0!=k.BuildingID?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:me("Are you sure?"),onConfirm:()=>ye(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:me("Yes"),cancelBtnText:me("Cancel"),showCancel:!0},me(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[me("Please select the ")+" "+ue("BuildingID")]}):H.alert({open:!0,color:"warning",message:[me("Please select the ")+" "+ue("ContractID")]}):H.alert({open:!0,color:"warning",message:[me("Please select the ")+" "+ue("LocalityID")]}):H.alert({open:!0,color:"warning",message:[me("Please enter the")+""+ue("ContractLocalityLogDetailCode")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld151L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ce(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractLocalityLogDetail-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractLocalityLogDetail-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractLocalityLogDetail-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":k.ContractLocalityLogDetailCode,json:xl,SPName:"ConContractLocalityLogDetail",FieldName:"ContractLocalityLogDetailCode",tfLabel:ue("ContractLocalityLogDetailCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ne(t),onClick:()=>{ae&&Se(1,"","ClearAll"),le(!0)},frmctrlid:"fld151_2946",frmctrlidName:"ContractLocalityLogDetailCode",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ae&&Se(e,t,"ContractLocalityLogDetailCode"),Ee(t,"ContractLocalityLogDetailCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.ContractLocalityLogDetailCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"ContractLocalityLogDetailCode",value:""}),le(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":k.BudgetValue,json:xl,SPName:"ConContractLocalityLogDetail",FieldName:"BudgetValue",tfLabel:ue("BudgetValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ne(t),onClick:()=>{ne&&Se(1,"","ClearAll"),oe(!0)},frmctrlid:"fld151_2947",frmctrlidName:"BudgetValue",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ne&&Se(e,t,"BudgetValue"),Ee(t,"BudgetValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:k.BudgetValue,loading:Z,clear:e=>{e&&(O({type:"text",name:"BudgetValue",value:""}),oe(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(m.Z,{style:{color:"#337ab7"},"data-testid":k.IsValidate,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==k.IsValidate,onChange:e=>{Ee(e.target.checked,"IsValidate","boolean")},frmctrlid:"fld151_2948",frmctrlidname:"IsValidate",fieldorder:"3",tfLabel:ue("IsValidate")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsValidate?"#21446F":"#999"}},ue("IsValidate"))}))),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:xl,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,SPName:"ConContractLocalityLogDetail",FieldName:"LocalityID",tfLabel:ue("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ee(e,"LocalityID","select"),onChange:(e,t)=>{Ie(e,t,"LocalityIDPK")},KeyBack:e=>{ve("LocalityID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ge("12")},Tabledialog:()=>De("12","LocalityID"),loading:Z,clear:e=>{e&&fe("LocalityID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:xl,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"ConContractLocalityLogDetail",FieldName:"ContractID",tfLabel:ue("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ee(e,"ContractID","select"),onChange:(e,t)=>{Ie(e,t,"ContractIDPK")},KeyBack:e=>{ve("ContractID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ge("156")},Tabledialog:()=>De("156","ContractID"),loading:Z,clear:e=>{e&&fe("ContractID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:xl,id:k.BuildingID,"data-testid":k.BuildingID,value:k.BuildingName,SPName:"ConContractLocalityLogDetail",FieldName:"BuildingID",tfLabel:ue("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ee(e,"BuildingID","select"),onChange:(e,t)=>{Ie(e,t,"BuildingIDPK")},KeyBack:e=>{ve("BuildingID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{ge("30")},Tabledialog:()=>De("30","BuildingID"),loading:Z,clear:e=>{e&&fe("BuildingID")}})))),n().createElement("div",{id:"ConContractLocalityLogDetailSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractLocalityLogDetailSideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Fl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(Al),{cstate:B,cdispatch:F}=Ml(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].ContractLocalityLogDetailIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP151S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:1,p56:10,p57:B.IsDraft?"DraftContractLocalityLogDetailID":"ContractLocalityLogDetailID",p58:null,p59:null,p60:localStorage.getItem("UserGroupID"),p61:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.ContractLocalityLogDetailIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("ConContractLocalityLogDetail"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld151L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld151L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld151L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld151L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(Bl,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"ConContractLocalityLogDetail",tableID:151,parentID:t.ContractLocalityLogDetailIDPK,fldid:"fld151L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[151]"}))))))))})),Al=(0,l.createContext)(),Ml=()=>{const e=(0,l.useContext)(Al);if(void 0===e)throw new Error("useCont must be used within  ConContractLocalityLogDetailContext Provider");return e},Rl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractLocalityLogDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainTable").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractLocalityLogDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainTable").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divConContractLocalityLogDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityLogDetailEntryTable").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainEntry").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainEntry").style.display="block",document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractLocalityLogDetail").style.width="0%",document.getElementById("overlayimgAttConContractLocalityLogDetail").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Al.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Ml,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewConContractLocalityLogDetail").style.width="50%",document.getElementById("divConContractLocalityLogDetail-Entry").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainTable").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainEntry").style.width="100%",document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractLocalityLogDetail-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractLocalityLogDetail").style.display="block",document.getElementById("overlayimgAttConContractLocalityLogDetail").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"ConContractLocalityLogDetail-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"ConContractLocalityLogDetail-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractLocalityLogDetailEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractLocalityLogDetail-Entry",style:{width:"100%"}},0!==y?n().createElement(Fl,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:151,fileId:"LogoImgConContractLocalityLogDetail",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractLocalityLogDetail",frmctrlid:"PvwIm_151_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractLocalityLogDetail-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Bl,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:151,fileId:"LogoImgConContractLocalityLogDetail",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractLocalityLogDetail",frmctrlid:"PvwIm_151_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"ConContractLocalityLogDetail-MainTable"},0!==y?n().createElement(Ll,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:151,fileId:"AttImgConContractLocalityLogDetail",imgid:"overlayimgAttConContractLocalityLogDetail",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewConContractLocalityLogDetail",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_151_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"ConContractLocalityLogDetail-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:151,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));a(99173);var kl=a(78880),Ol=a(29973),Zl=a(35996),Gl=a(85963),ql=(a(15940),a(22318)),Kl=a(17812);const Vl={English:{ConContractServiceLogDetails:"Type Of Service Log",ConServiceLogCode:"ConServiceLogCode",ServiceStartDate:"ServiceStartDt",ServiceEndDate:"ServiceEndDt",ServiceAmount:"ServiceAmount",NoofEmployee:"NoofEmployee",FrequencyAmount:"FrequencyAmount",ServiceType:"ServiceType",ServiceTotal:"ServiceTotal",FrequencyLink:"FrequencyLink",ServiceTypCode:"Code",ServiceTypeName:"Name",ContractCode:"Contract Code",ContractName:"Contract Name",ContractDate:"ContractDate",ContractValue:"Contract Value After VAT",ExtendedValue:"Extended Value",NoOfBilling:"No Of Billing",Period:"Period b/w Invoice",StartDate:"Contract Start Date",EndDate:"Contract End Date",AnnualReviewDate:"Annual Review Date",CreatedByDate:"CreatedByDate",ApprovedDate:"ApprovedDate",DisplayEndDate:"DisplayEndDate",ExtendedDate:"Extended Till",ConStatus:"ConStatus",Retention:"Retention",InvoiceDescription:"Invoice Description",AcknowledgedBy:"Acknowledged By",SignedBy:"Signed By",EnquiryCode:"EnquiryCode",EnquiryDate:"EnquiryDate",QuotationCode:"QuotationCode",QuotationDate:"QuotationDate",SiteSurveyCode:"SiteSurveyCode",SiteSurveyDate:"SiteSurveyDate",Notify1:"Notify1",NotifyDate1:"NotifyDate1",Notify2:"Notify2",NotifyDate2:"NotifyDate2",NoofInvoice:"No of Invoice",LosedDate:"Terminated Date",LosedComment:"Terminate Comment",FollowUpDate:"FollowUpDate",IsEnableClient:"IsEnableClient",IsExtended:"IsExtended",IsPPM:"IsPPM",IsBDM:"IsBDM",IsDSM:"IsDSM",IsCase:"IsCase",NoofPrimary:"NoofPrimary",NoofSecondary:"NoofSecondary",NoofSupervisor:"NoofSupervisor",NoofEngineer:"NoofEngineer",ShiftNoofPrimary:"ShiftNoofPrimary",ShiftNoofSecondary:"ShiftNoofSecondary",IsNonContract:"Non Contract",IsEnableBudget:"Enable Budget",IsEnableValue:"IsEnableValue",IsRenewal:"IsRenewal",IsBudgetValByCont:"IsBudgetValByCont",TotalContractValue:"TotalContractValue",ContractLeassValue:"ContractLeassValue",ContractLeassDate:"ContractLeassDate",TotalLessContractValue:"TotalLessContractValue",ConLatitude:"Latitude",ConLongitude:"Longitude",FieldRadius:"FieldRadius",SACCode:"SAC Code",IsRes:"IsRes",IsInclusive:"IsInclusive",VatAmount:"VAT Amount",ConValueBeforVat:"Contract Value Before VAT",IsConType:"ConType",IsConLost:"Terminate Contract",ConZoomValue:"ConZoomValue",ConGenerateCode:"Generate Code",ConTRNno:"TRN",ConEmail:"Email ID",StatusKey:"StatusKey",XContractKey:"XContractKey",ParantContractKey:"ParantContractKey",RenewalConKey:"RenewalConKey",ShiftKey:"ShiftKey",SalesEmpKey:"SalesEmpKey",CreatedEmpKey:"CreatedEmpKey",ApprovedEmpKey:"ApprovedEmpKey"},Arabic:{ConContractServiceLogDetails:"Type Of Service Log",ConServiceLogCode:"سجل خدمة العقد الشفرة",ServiceStartDate:"تاريخ بدء الخدمة",ServiceEndDate:"تاريخ انتهاء الخدمة",ServiceAmount:"ضعف الخدمة",NoofEmployee:"عدد موظف",FrequencyAmount:"تردد التردد",ServiceType:"خدمة يكتب",ServiceTotal:"إجمالي الخدمة",FrequencyLink:"رابط التردد",ServiceTypCode:"شفرة",ServiceTypeName:"اسم",ContractCode:"عقد الشفرة",ContractName:"عقد اسم",ContractDate:"تاريخ العقد",ContractValue:"قيمة العقد بعد ضريبة القيمة المضافة",ExtendedValue:"قيمة ممتدة",NoOfBilling:"رقم الفواتير",Period:"الفترة بين الفاتورة",StartDate:"تاريخ بدء العقد",EndDate:"تاريخ نهاية العقد",AnnualReviewDate:"تاريخ المراجعة السنوي",CreatedByDate:"تاريخ الإنشاء",ApprovedDate:"تاريخ الموافقة",DisplayEndDate:"عرض تاريخ الانتهاء",ExtendedDate:"امتدت حتى",ConStatus:"حالة التعاقد",Retention:"حفظ",InvoiceDescription:"وصف الفاتورة",AcknowledgedBy:"معرف ب",SignedBy:"موقعة من قبل",EnquiryCode:"كود الاستفسار",EnquiryDate:"تاريخ الاستفسار",QuotationCode:"كود الاقتباس",QuotationDate:"تاريخ الاقتباس",SiteSurveyCode:"كود مسح الموقع",SiteSurveyDate:"تاريخ مسح الموقع",Notify1:"إخطار 1",NotifyDate1:"تاريخ الإخطار 1",Notify2:"إخطار 2",NotifyDate2:"تاريخ الإخطار 2",NoofInvoice:"رقم الفاتورة",LosedDate:"تاريخ إنهاء",LosedComment:"إنهاء التعليق",FollowUpDate:"متابعة التاريخ",IsEnableClient:"يتم تمكين العميل",IsExtended:"تم تمديد",IsPPM:"هوPPM",IsBDM:"هوBDM",IsDSM:"هوDSM",IsCase:"هو الحال",NoofPrimary:"رقم الابتدائي",NoofSecondary:"رقم الثانوية",NoofSupervisor:"رقم المشرف",NoofEngineer:"رقم المهندس",ShiftNoofPrimary:"رقم التحول من الابتدائية",ShiftNoofSecondary:"التحول رقم من الثانوية",IsNonContract:"عدم عقد",IsEnableBudget:"تمكين الميزانية",IsEnableValue:"هو تمكين القيمة",IsRenewal:"هو التجديد",IsBudgetValByCont:"هي قيمة الميزانية حسب العقد",TotalContractValue:"إجمالي قيمة العقد",ContractLeassValue:"قيمة عقد المقاولات",ContractLeassDate:"تاريخ عقود العقد",TotalLessContractValue:"إجمالي قيمة العقد أقل",ConLatitude:"خط العرض",ConLongitude:"خط الطول",FieldRadius:"نصف قطر المجال",SACCode:"SAC الشفرة",IsRes:"هوRes",IsInclusive:"هو شامل",VatAmount:"ضعف ضريبة القيمة المضافة",ConValueBeforVat:"قيمة العقد قبل ضريبة القيمة المضافة",IsConType:"يكتب العقد",IsConLost:"إنهاء عقد",ConZoomValue:"قيمة تكبير العقد",ConGenerateCode:"توليد الشفرة",ConTRNno:"TRN",ConEmail:"معرف البريد الإلكتروني",StatusKey:"حالة مفتاح",XContractKey:"X مفتاح العقد",ParantContractKey:"مفتاح عقد الوالدين",RenewalConKey:"مفتاح عقد التجديد",ShiftKey:"مفتاح التحول",SalesEmpKey:"مفتاح موظف المبيعات",CreatedEmpKey:"مفتاح الموظف الذي تم إنشاؤه",ApprovedEmpKey:"مفتاح الموظف المعتمد"}};function zl(){let e=localStorage.getItem("Language");return Vl[e]}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},_l.apply(this,arguments)}const Ql=e=>{const{children:t,classes:a,onClose:l,...o}=e;return n().createElement(U.Z,_l({disableTypography:!0,style:{padding:0}},o),n().createElement(ql.Z,{variant:"h6",style:{marginTop:"0.5rem"}},t),l?n().createElement(Kl.Z,{"aria-label":"close",className:"calenderdialogrootclose",id:"fld160L1TFCfiltercalenderclose",onClick:l},n().createElement(F.Z,null)):null)};function Hl(e){(0,o.useSelector)((e=>e.form)),(0,o.useDispatch)();const[t]=(0,l.useState)(localStorage.getItem("userid")),[a,r]=(0,l.useState)(!1),[i,s]=(0,l.useState)({name:"",type:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)([]),[g,D]=(0,l.useState)(1),[E,f]=(0,l.useState)(0),[v,T]=(0,l.useState)(0),[b,P]=(0,l.useState)({from:"",to:"",type:"",dtype:"",fname:""}),[L,x]=(0,l.useState)({}),[w,B]=(0,l.useState)(0),[Z,G]=(0,l.useState)(""),[q]=(0,l.useState)("160"),[K,V]=(0,l.useState)(!1),[U,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!1),[ne,oe]=(0,l.useState)([]),[re,ie]=(0,l.useState)([]),[ce,de]=(0,l.useState)([]),[se,me]=(0,l.useState)([]),[ue,pe]=(0,l.useState)([]),[Ce,ye]=(0,l.useState)([]),[ge,De]=(0,l.useState)([]),[Ie,Se]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[ve,Ne]=(0,l.useState)([]),[he,Te]=(0,l.useState)([]),[be,Pe]=(0,l.useState)([]),[Le,xe]=(0,l.useState)([]),[we,Be]=(0,l.useState)([]),[Fe,Ae]=(0,l.useState)([]),[Me,Re]=(0,l.useState)([]),[ke,Oe]=(0,l.useState)([]),[Ze,Ge]=(0,l.useState)([]),[qe,Ke]=(0,l.useState)([]),[Ve,ze]=(0,l.useState)([]),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)([]),[je,Ye]=(0,l.useState)([]),[We,$e]=(0,l.useState)([]),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[at,lt]=(0,l.useState)([]),[nt,ot]=(0,l.useState)([]),[rt,it]=(0,l.useState)([]),[ct,dt]=(0,l.useState)([]),[st,mt]=(0,l.useState)([]),[ut,pt]=(0,l.useState)([]),[Ct,yt]=(0,l.useState)([]),[gt,Dt]=(0,l.useState)([]),[It,St]=(0,l.useState)([]),[Et]=(0,l.useState)(localStorage.getItem("Language")),[ft]=(0,l.useState)(localStorage.getItem("Language"));let vt=(0,N.Z)(),Nt=zl();(0,l.useEffect)((()=>{D(1),e.Report&&xt({},e.Report)}),[e.Report]);const ht=e=>vt[e],Tt=e=>Nt[e];function bt(e,t){if(D(1),"Service Type Name"===i.name){let e=Ce.filter((e=>e!==Ce[t])),a=ge.filter((e=>e!==ge[t]));ye(e),De(a),0==e.length&&Bt("FilterServiceTypeID","Service Type Name","",1,"")}else if("Contract Name"===i.name){let e=Ie.filter((e=>e!==Ie[t])),a=Ee.filter((e=>e!==Ee[t]));Se(e),fe(a),0==e.length&&Bt("FilterContractID","Contract Name","",1,"")}else if("Contract Group Name"===i.name){let e=ve.filter((e=>e!==ve[t])),a=he.filter((e=>e!==he[t]));Ne(e),Te(a),0==e.length&&Bt("FilterContractGroupID","Contract Group Name","",1,"")}else if("Tax Name"===i.name){let e=be.filter((e=>e!==be[t])),a=Le.filter((e=>e!==Le[t]));Pe(e),xe(a),0==e.length&&Bt("FilterTaxID","Tax Name","",1,"")}else if("Customer Name"===i.name){let e=we.filter((e=>e!==we[t])),a=Fe.filter((e=>e!==Fe[t]));Be(e),Ae(a),0==e.length&&Bt("FilterCustomerID","Customer Name","",1,"")}else if("Contract Type Name"===i.name){let e=Me.filter((e=>e!==Me[t])),a=ke.filter((e=>e!==ke[t]));Re(e),Oe(a),0==e.length&&Bt("FilterContractTypeID","Contract Type Name","",1,"")}else if("Contract Categ Name"===i.name){let e=Ze.filter((e=>e!==Ze[t])),a=qe.filter((e=>e!==qe[t]));Ge(e),Ke(a),0==e.length&&Bt("FilterContractCategID","Contract Categ Name","",1,"")}else if("Payment Terms Name"===i.name){let e=Ve.filter((e=>e!==Ve[t])),a=_e.filter((e=>e!==_e[t]));ze(e),Qe(a),0==e.length&&Bt("FilterPaymentTermsID","Payment Terms Name","",1,"")}else if("Con Service Log Code"===i.name){let e=He.filter((e=>e!==He[t])),a=je.filter((e=>e!==je[t]));Ue(e),Ye(a),0==e.length&&Bt("FilterConServiceLogID","Con Service Log Code","",1,"")}else if("Service Amount"===i.name){let e=We.filter((e=>e!==We[t])),a=Je.filter((e=>e!==Je[t]));$e(e),Xe(a),0==e.length&&Bt("FilterConServiceLogID","Service Amount","",1,"")}else if("Noof Employee"===i.name){let e=et.filter((e=>e!==et[t])),a=at.filter((e=>e!==at[t]));tt(e),lt(a),0==e.length&&Bt("FilterConServiceLogID","Noof Employee","",1,"")}else if("Frequency Amount"===i.name){let e=nt.filter((e=>e!==nt[t])),a=rt.filter((e=>e!==rt[t]));ot(e),it(a),0==e.length&&Bt("FilterConServiceLogID","Frequency Amount","",1,"")}else if("Service Type"===i.name){let e=ct.filter((e=>e!==ct[t])),a=st.filter((e=>e!==st[t]));dt(e),mt(a),0==e.length&&Bt("FilterConServiceLogID","Service Type","",1,"")}else if("Service Total"===i.name){let e=ut.filter((e=>e!==ut[t])),a=Ct.filter((e=>e!==Ct[t]));pt(e),yt(a),0==e.length&&Bt("FilterConServiceLogID","Service Total","",1,"")}else if("Frequency Link"===i.name){let e=gt.filter((e=>e!==gt[t])),a=It.filter((e=>e!==It[t]));Dt(e),St(a),0==e.length&&Bt("FilterConServiceLogID","Frequency Link","",1,"")}}function Pt(e,t,a){r(!0),s({name:e,type:t}),a.length>0?Bt(t,e,"",1,""):Bt(t,e,"",1,Lt()),p("")}function Lt(){let e=[...He,...We,...et,...nt,...ct,...ut,...gt],t=new Array;return e.map((e=>{t.includes(e)||t.push(e)})),t.toString()}const xt=(t,a)=>{let l=S.v.Api+"FP160S3/",n={data:{p1:t&&t.ConServiceLogIDPK?t.ConServiceLogIDPK:null,p2:t&&t.ConServiceLogCode?t.ConServiceLogCode:null,p3:t&&t.ServiceStartDate?t.ServiceStartDate:null,p4:t&&t.ServiceStartDateType?t.ServiceStartDateType:null,p5:t&&t.ServiceStartDateBetween?t.ServiceStartDateBetween:null,p6:t&&t.ServiceEndDate?t.ServiceEndDate:null,p7:t&&t.ServiceEndDateType?t.ServiceEndDateType:null,p8:t&&t.ServiceEndDateBetween?t.ServiceEndDateBetween:null,p9:t&&t.ServiceAmount?t.ServiceAmount:null,p10:t&&t.NoofEmployee?t.NoofEmployee:null,p11:t&&t.FrequencyAmount?t.FrequencyAmount:null,p12:t&&t.ServiceType?t.ServiceType:null,p13:t&&t.ServiceTotal?t.ServiceTotal:null,p14:t&&t.FrequencyLink?t.FrequencyLink:null,p15:"0",p16:null,p17:t&&t.ServiceTypeID?t.ServiceTypeID:null,p18:t&&t.ContractID?t.ContractID:null,p19:e.Dialogview?"1":null,p20:null,p21:t&&t.CreatedUserID?t.CreatedUserID:null,p22:t&&t.CreatedTtm?t.CreatedTtm:null,p23:t&&t.CreatedTtmType?t.CreatedTtmType:null,p24:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p25:null,p26:null,p27:null,p28:t&&t.ContractGroupID?t.ContractGroupID:null,p29:null,p30:null,p31:t&&t.TaxID?t.TaxID:null,p32:null,p33:null,p34:null,p35:t&&t.CustomerID?t.CustomerID:null,p36:null,p37:null,p38:t&&t.ContractTypeID?t.ContractTypeID:null,p39:null,p40:null,p41:t&&t.ContractCategID?t.ContractCategID:null,p42:null,p43:null,p44:t&&t.PaymentTermsID?t.PaymentTermsID:null,p45:null,p46:null,p47:null,p48:null,p49:a.page,p50:a.pageSize,p51:"ConServiceLogID",p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};(0,I.Z)(l,n,e.token).then((t=>{e.data(t.Output.data),wt(t.Output.data)}))},wt=t=>{const a=S.v.Api+"FP20S3/",l={data:{p1:null,p2:null,p3:null,p4:null,p5:e.formID,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:1,p22:100,p23:"AdminUserGridViewID",p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}};(0,I.Z)(a,l,e.token).then((a=>{e.visibleData(a.Output.data,t)}))};function Bt(t,a,l,n,o,r){const i=S.v.Api+"FP160S3/",c={data:{p1:o?Lt():null,p2:"Con Service Log Code"==a&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"Service Amount"==a&&l.length>0?"%"+l+"%":null,p10:"Noof Employee"==a&&l.length>0?"%"+l+"%":null,p11:"Frequency Amount"==a&&l.length>0?"%"+l+"%":null,p12:"Service Type"==a&&l.length>0?"%"+l+"%":null,p13:"Service Total"==a&&l.length>0?"%"+l+"%":null,p14:"Frequency Link"==a&&l.length>0?"%"+l+"%":null,p15:null,p16:null,p17:"Service Type Name"!=a?r?"":Ce.toString():null,p18:e.parentId?e.parentId:"0",p19:e.Dialogview?"1":null,p20:null,p21:"Created User I D _varchar"==a&&l.length>0?l:null,p22:null,p23:null,p24:null,p25:null,p26:"Service Typ Code"==a&&l.length>0?"%"+l+"%":null,p27:"Service Type Name"==a&&l.length>0?"%"+l+"%":null,p28:"Contract Group Name"!=a?r?"":ve.toString():null,p29:"Contract Group Code"==a&&l.length>0?"%"+l+"%":null,p30:"Contract Group Name"==a&&l.length>0?"%"+l+"%":null,p31:"Tax Name"!=a?r?"":be.toString():null,p32:"Tax Code"==a&&l.length>0?"%"+l+"%":null,p33:"Tax Name"==a&&l.length>0?"%"+l+"%":null,p34:"Tax Value"==a&&l.length>0?"%"+l+"%":null,p35:"Customer Name"!=a?r?"":we.toString():null,p36:"Customer Code"==a&&l.length>0?"%"+l+"%":null,p37:"Customer Name"==a&&l.length>0?"%"+l+"%":null,p38:"Contract Type Name"!=a?r?"":Me.toString():null,p39:"Contract Typ Code"==a&&l.length>0?"%"+l+"%":null,p40:"Contract Type Name"==a&&l.length>0?"%"+l+"%":null,p41:"Contract Categ Name"!=a?r?"":Ze.toString():null,p42:"Contract Categ Code"==a&&l.length>0?"%"+l+"%":null,p43:"Contract Categ Name"==a&&l.length>0?"%"+l+"%":null,p44:"Payment Terms Name"!=a?r?"":Ve.toString():null,p45:"Payment Terms Code"==a&&l.length>0?"%"+l+"%":null,p46:"Payment Terms Name"==a&&l.length>0?"%"+l+"%":null,p47:"Contract Code"==a&&l.length>0?"%"+l+"%":null,p48:"Contract Name"==a&&l.length>0?"%"+l+"%":null,p49:n,p50:10,p51:t,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};(0,I.Z)(i,c,e.token).then((e=>{const t=e.Output.status.code,l=e.Output.data,o=new Array;if("200"===t)if(l.length>0)if(f(l[0].TotalCount),1===n){l.map((e=>{"Con Service Log Code"===a?o.push({id:e.ConServiceLogIDPK,name:e.ConServiceLogCode}):"Service Start Date"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceStartDate}):"Service End Date"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceEndDate}):"Service Amount"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceAmount}):"Noof Employee"===a?o.push({id:e.ConServiceLogIDPK,name:e.NoofEmployee}):"Frequency Amount"===a?o.push({id:e.ConServiceLogIDPK,name:e.FrequencyAmount}):"Service Type"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceType}):"Service Total"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceTotal}):"Frequency Link"===a?o.push({id:e.ConServiceLogIDPK,name:e.FrequencyLink}):"Service Type Name"===a?o.push({id:e.ServiceTypeIDPK,name:e.ServiceTypeName}):"Contract Name"===a&&o.push({id:e.ContractIDPK,name:e.ContractName})}));const e=o.map((e=>e.name)),t=o.filter((({name:t},a)=>!e.includes(t,a+1)));y(t)}else{l.map((e=>{"Con Service Log Code"===a?o.push({id:e.ConServiceLogIDPK,name:e.ConServiceLogCode}):"Service Start Date"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceStartDate}):"Service End Date"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceEndDate}):"Service Amount"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceAmount}):"Noof Employee"===a?o.push({id:e.ConServiceLogIDPK,name:e.NoofEmployee}):"Frequency Amount"===a?o.push({id:e.ConServiceLogIDPK,name:e.FrequencyAmount}):"Service Type"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceType}):"Service Total"===a?o.push({id:e.ConServiceLogIDPK,name:e.ServiceTotal}):"Frequency Link"===a?o.push({id:e.ConServiceLogIDPK,name:e.FrequencyLink}):"Service Type Name"===a?o.push({id:e.ServiceTypeIDPK,name:e.ServiceTypeName}):"Contract Name"===a&&o.push({id:e.ContractIDPK,name:e.ContractName})}));let e=C.concat(o);const t=e.map((e=>e.name)),n=e.filter((({name:e},a)=>!t.includes(e,a+1)));y(n)}else u.length>0&&y([]),f(C.length)}))}function Ft(t,a,l,n,o,r){let i={ServiceStartDate:"Service Start Date"==n?t:re.from,ServiceStartDateType:"Service Start Date"==n?l:re.type,ServiceStartDateBetween:"Service Start Date"==n?a:re.to,ServiceEndDate:"Service End Date"==n?t:se.from,ServiceEndDateType:"Service End Date"==n?l:se.type,ServiceEndDateBetween:"Service End Date"==n?a:se.to,CreatedTtm:"Created Ttm"==n?t:b.from,CreatedTtmType:"Created Ttm"==n?l:b.type,CreatedTtmBetween:"Created Ttm"==n?a:b.to,ConServiceLogIDPK:Lt().toString(),ServiceTypeID:Ce.toString(),ContractID:Ie.toString()};"Service Start Date"===n&&ie({from:t,to:a,type:l,dtype:o,fname:r}),"Service End Date"===n&&me({from:t,to:a,type:l,dtype:o,fname:r}),"Created Ttm"===n&&P({from:t,to:a,type:l,dtype:o,fname:r}),x(i),e.searchData(i)}function At(){return"Service Start Date"==i.name?n().createElement(k.Z,{frmctrlid:"fld160L1TFCServiceStartDate",SendDateVal:(e,t,a,l,n)=>{Ft(e,t,a,"Service Start Date",l,n)},keyboardback:()=>{r(!1),s({name:"",type:""})},title:ht("Service Start Date"),fieldname:"ServiceStartDate",save:e=>{V(!0),setDateValue(e)}}):"Service End Date"==i.name?n().createElement(k.Z,{frmctrlid:"fld160L1TFCServiceEndDate",SendDateVal:(e,t,a,l,n)=>{Ft(e,t,a,"Service End Date",l,n)},keyboardback:()=>{r(!1),s({name:"",type:""})},title:ht("Service End Date"),fieldname:"ServiceEndDate",save:e=>{V(!0)}}):"Created Date"===i.name?n().createElement(k.Z,{frmctrlid:"fld160L1TFCCreatedDate",SendDateVal:(e,t,a,l,n)=>{Ft(e,t,a,"Created Date",l,n)},keyboardback:()=>{r(!1),s({name:"",type:""})},title:ht("Created Date"),fieldname:"CreatedTtm",save:e=>{V(!0)}}):void 0}const Mt=C.map(((e,t)=>{if("Service Type Name"===i.name){if(!Ce.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Contract Name"===i.name){if(!Ie.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Contract Group Name"===i.name){if(!ve.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Tax Name"===i.name){if(!be.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Customer Name"===i.name){if(!we.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Contract Type Name"===i.name){if(!Me.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Contract Categ Name"===i.name){if(!Ze.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Payment Terms Name"===i.name){if(!Ve.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Con Service Log Code"===i.name){if(!He.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Service Amount"===i.name){if(!We.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Noof Employee"===i.name){if(!et.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Frequency Amount"===i.name){if(!nt.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Service Type"===i.name){if(!ct.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Service Total"===i.name){if(!ut.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}else if("Frequency Link"===i.name){if(!gt.some((t=>t===e.id)))return n().createElement("div",{id:"filda_160_L1_"+e.name,key:t,className:"FilterItemDiv",onClick:()=>{Rt(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e.name));if(1===C.length)return n().createElement("div",{key:t},n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, this record already selected.")))}}));function Rt(e){"Service Type Name"===i.name?(ye((t=>[...t,e.id])),De((t=>[...t,e.name])),T(v+1)):"Contract Name"===i.name?(Se((t=>[...t,e.id])),fe((t=>[...t,e.name])),T(v+1)):"Contract Group Name"===i.name?(Ne((t=>[...t,e.id])),Te((t=>[...t,e.name])),T(v+1)):"Tax Name"===i.name?(Pe((t=>[...t,e.id])),xe((t=>[...t,e.name])),T(v+1)):"Customer Name"===i.name?(Be((t=>[...t,e.id])),Ae((t=>[...t,e.name])),T(v+1)):"Contract Type Name"===i.name?(Re((t=>[...t,e.id])),Oe((t=>[...t,e.name])),T(v+1)):"Contract Categ Name"===i.name?(Ge((t=>[...t,e.id])),Ke((t=>[...t,e.name])),T(v+1)):"Payment Terms Name"===i.name?(ze((t=>[...t,e.id])),Qe((t=>[...t,e.name])),T(v+1)):"Con Service Log Code"===i.name?(Ue((t=>[...t,e.id])),Ye((t=>[...t,e.name])),T(v+1)):"Service Amount"===i.name?($e((t=>[...t,e.id])),Xe((t=>[...t,e.name])),T(v+1)):"Noof Employee"===i.name?(tt((t=>[...t,e.id])),lt((t=>[...t,e.name])),T(v+1)):"Frequency Amount"===i.name?(ot((t=>[...t,e.id])),it((t=>[...t,e.name])),T(v+1)):"Service Type"===i.name?(dt((t=>[...t,e.id])),mt((t=>[...t,e.name])),T(v+1)):"Service Total"===i.name?(pt((t=>[...t,e.id])),yt((t=>[...t,e.name])),T(v+1)):"Frequency Link"===i.name&&(Dt((t=>[...t,e.id])),St((t=>[...t,e.name])),T(v+1)),C.filter((t=>t.id!==e.id));var t=document.getElementById("SelectedItems");t.scrollTop=t.scrollHeight}function kt(){const t=`${S.v.MongoAPI}FilterFavorites_Select/`,a={data:{_id:0,UserID:localStorage.getItem("userid"),FormID:q,IsQuick:!1,IsDashboard:!1,IsActive:!0,DeleStat:!1}};(0,I.Z)(t,a,e.token).then((e=>{oe(e.Output.data),le(!0)}))}return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>V(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:K},n().createElement(Ql,{id:"customized-dialog-title",onClose:()=>V(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Z,onChange:e=>G(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:U,onChange:e=>X(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ee,onChange:e=>te(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>function(){let t=Object.assign({},L),a=[b,se],l=[];Object.keys(t).map(((e,a)=>{(e.includes("Ttm")||e.includes("Date"))&&delete t[e]})),a.map((e=>{l.push({name:e.fname,type:e.dtype})}));let n=`${S.v.MongoAPI}FilterFavorites_Save/`,o={data:{_id:w||0,UserID:localStorage.getItem("userid"),Name:Z,FormID:q,FormName:"ConContractServiceLogDetails",SearchParams:t,Date:l,CreatedDate:(new Date).toISOString(),IsQuick:U,IsDashboard:ee,IsActive:!0,DeleStat:!1,ConServiceLogCodeValData:je,ServiceAmountValData:Je,NoofEmployeeValData:at,FrequencyAmountValData:rt,ServiceTypeValData:st,ServiceTotalValData:Ct,FrequencyLinkValData:It,ServiceTypeNameValData:ge,ContractNameValData:Ee}};(0,z.Z)(n,o,{}).then((t=>{V(!1),e.msg(t[0].status.message,"success")}))}(),color:"primary"},"Save"))),a?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(At,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},ht(i.name)," (",C.length,"/",E,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ht("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld160L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:function(){r(!1),s({name:"",type:""}),D(1)}}))),(He.length>0||We.length>0||et.length>0||nt.length>0||ct.length>0||ut.length>0||gt.length>0||Ce.length>0||Ie.length>0)&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(M.ZP,{title:ht("Clear All"),placement:"top"},n().createElement(A.Z,{frmctrlid:"fld160L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{G(""),Ue([]),Ye([]),ie({from:"",to:"",type:""}),me({from:"",to:"",type:""}),$e([]),Xe([]),tt([]),lt([]),ot([]),it([]),dt([]),mt([]),pt([]),yt([]),Dt([]),St([]),ye([]),De([]),Se([]),fe([]),T(0),Bt(i.type,i.name,"",1,"","clear"),e.searchData({}),x({}),xt({},{page:1,pageSize:10})}},n().createElement("span",{className:"ColumnApplyTitle"},ht("Clear All"))))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("ul",null,"Service Type Name"===i.name?ge.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Contract Name"===i.name?Ee.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Contract Group Name"===i.name?he.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Tax Name"===i.name?Le.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Customer Name"===i.name?Fe.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Contract Type Name"===i.name?ke.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Contract Categ Name"===i.name?qe.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Payment Terms Name"===i.name?_e.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Con Service Log Code"===i.name?je.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Service Amount"===i.name?Je.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Noof Employee"===i.name?at.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Frequency Amount"===i.name?rt.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Service Type"===i.name?st.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Service Total"===i.name?Ct.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):"Frequency Link"===i.name?It.map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:"filterSelectedItems"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e)),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_160_L1_"+e,onClick:()=>bt(0,t)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))):void 0)),n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{className:"width90"},n().createElement(O.Z,{frmctrlid:"fld160L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ht("Enter ")+Tt(i.name),onChange:e=>{p(e),Bt(i.type,i.name,e,1,Lt())}})),n().createElement("div",{id:"fld160L1TFCFilterGoForward",className:"width10 circleRound",onClick:function(){let t={ConServiceLogIDPK:[...He,...We,...et,...nt,...ct,...ut,...gt].toString(),ServiceStartDate:re.from,ServiceStartDateType:re.type,ServiceStartDateBetween:re.to,ServiceEndDate:se.from,ServiceEndDateType:se.type,ServiceEndDateBetween:se.to,CreatedTtm:b.from,CreatedTtmType:b.type,CreatedTtmBetween:b.to,ServiceTypeID:Ce.toString(),ContractID:Ie.toString()};[...He,...We,...et,...nt,...ct,...ut,...gt,...Ce,...Ie].length>0&&(e.searchData(t),x(t),xt(t,{page:1,pageSize:10}),r(!1))}},n().createElement(Ol.Z,{className:"circleRoundIcon"}))))),n().createElement("div",{id:"fld160L1TFCScrollYDefault",className:"height65 scrollYDefault"},C.length>0&&Mt,C.length+("Service Type Name"===i.name?Ce.length:"Contract Name"===i.name?Ie.length:"Contract Group Name"===i.name?ve.length:"Tax Name"===i.name?be.length:"Customer Name"===i.name?we.length:"Contract Type Name"===i.name?Me.length:"Contract Categ Name"===i.name?Ze.length:"Payment Terms Name"===i.name?Ve.length:"Con Service Log Code"===i.name?He.length:"Service Amount"===i.name?We.length:"Noof Employee"===i.name?et.length:"Frequency Amount"===i.name?nt.length:"Service Type"===i.name?ct.length:"Service Total"===i.name?ut.length:"Frequency Link"===i.name?gt.length:void 0)<E&&C.length>0&&n().createElement("div",{id:"fld160L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{D(g+1),Bt(i.type,i.name,"",g+1,"")}},n().createElement("p",null," more... ")),0===C.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Gl.Z,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ht("Filter")," ",Z.length>0&&`(${Z})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ae?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{le(!1)}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{kt()}})),[...He,...We,...et,...nt,...ct,...ut,...gt,...Ce,...Ie].length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{V(!0)}})),n().createElement(M.ZP,{title:"clear",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",startIcon:n().createElement(Zl.Z,{className:"ColumnApplyIcon"}),onClick:()=>{B(0),Ue([]),Ye([]),ie({from:"",to:"",type:""}),me({from:"",to:"",type:""}),$e([]),Xe([]),tt([]),lt([]),ot([]),it([]),dt([]),mt([]),pt([]),yt([]),Dt([]),St([]),ye([]),De([]),Se([]),fe([]),T(0),e.searchData({}),x({}),xt({},{page:1,pageSize:10}),r(!1),s({name:"",type:""}),P({from:"",to:"",type:"",dtype:"",fname:""})},id:"fld160L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ht("Clear")))))),n().createElement("div",{className:"height65"},ae?n().createElement("div",{id:"fld160L1TFCFilItemsShowFav",className:"FilterItems"},ne.map((t=>n().createElement("div",{className:"FilterItemDivTitle"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("span",{onClick:()=>{!function(t){let a={};t.Date.length>0&&t.Date.map((e=>{a=(0,k.i)(e.type,e.name)})),e.searchData({...t.SearchParams,...a}),x(t.SearchParams),le(!1),G(t.Name),B(t._id),Ye(t.ConServiceLogCodeValData||[]),Xe(t.ServiceAmountValData||[]),lt(t.NoofEmployeeValData||[]),it(t.FrequencyAmountValData||[]),mt(t.ServiceTypeValData||[]),yt(t.ServiceTotalValData||[]),St(t.FrequencyLinkValData||[]),De(t.ServiceTypeNameValData||[]),fe(t.ContractNameValData||[])}(t)}},t.Name)),n().createElement(d.Z,{xs:6,md:6,lg:6,sm:6}),n().createElement(d.Z,{align:"right",xs:3,md:3,lg:3,sm:3},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon",onClick:()=>{!function(t){let a=`${S.v.MongoAPI}FilterFavorites_Save/`,l={data:{_id:t,DeleStat:!0}};(0,z.Z)(a,l,{}).then((t=>{e.msg(t[0].status.message,"success"),kt()}))}(t._id)}}))))))):n().createElement("div",{id:"fld160L1TFCFilItems",className:"FilterItems"},n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Con Service Log Code","FilterConServiceLogID",He)}},n().createElement("span",{className:je.length>0?"FilterItemDivSmall":""},Tt("Con Service Log Code")),je.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},je[0]),je.length>1&&n().createElement("span",{className:"RoundedDivName"},je[1]),je.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(je.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Service Start Date","FilterConServiceLogID")}},ht("Service Start Date"),re.from&&n().createElement("p",{className:"filterdatevalue"},"(",re.from+" to "+re.to,")")),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Service End Date","FilterConServiceLogID")}},ht("Service End Date"),se.from&&n().createElement("p",{className:"filterdatevalue"},"(",se.from+" to "+se.to,")")),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Service Amount","FilterConServiceLogID",We)}},n().createElement("span",{className:Je.length>0?"FilterItemDivSmall":""},Tt("Service Amount")),Je.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},Je[0]),Je.length>1&&n().createElement("span",{className:"RoundedDivName"},Je[1]),Je.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(Je.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Noof Employee","FilterConServiceLogID",et)}},n().createElement("span",{className:at.length>0?"FilterItemDivSmall":""},Tt("Noof Employee")),at.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},at[0]),at.length>1&&n().createElement("span",{className:"RoundedDivName"},at[1]),at.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(at.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Frequency Amount","FilterConServiceLogID",nt)}},n().createElement("span",{className:rt.length>0?"FilterItemDivSmall":""},Tt("Frequency Amount")),rt.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},rt[0]),rt.length>1&&n().createElement("span",{className:"RoundedDivName"},rt[1]),rt.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(rt.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Service Type","FilterConServiceLogID",ct)}},n().createElement("span",{className:st.length>0?"FilterItemDivSmall":""},Tt("Service Type")),st.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},st[0]),st.length>1&&n().createElement("span",{className:"RoundedDivName"},st[1]),st.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(st.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Service Total","FilterConServiceLogID",ut)}},n().createElement("span",{className:Ct.length>0?"FilterItemDivSmall":""},Tt("Service Total")),Ct.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},Ct[0]),Ct.length>1&&n().createElement("span",{className:"RoundedDivName"},Ct[1]),Ct.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(Ct.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Frequency Link","FilterConServiceLogID",gt)}},n().createElement("span",{className:It.length>0?"FilterItemDivSmall":""},Tt("Frequency Link")),It.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},It[0]),It.length>1&&n().createElement("span",{className:"RoundedDivName"},It[1]),It.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(It.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Service Type Name","FilterServiceTypeID",Ce)}},n().createElement("span",{className:ge.length>0?"FilterItemDivSmall":""},Tt("Service Type Name")),ge.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},ge[0]),ge.length>1&&n().createElement("span",{className:"RoundedDivName"},ge[1]),ge.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(ge.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Contract Name","FilterContractID",Ie)}},n().createElement("span",{className:Ee.length>0?"FilterItemDivSmall":""},Tt("Contract Name")),Ee.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},Ee[0]),Ee.length>1&&n().createElement("span",{className:"RoundedDivName"},Ee[1]),Ee.length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(Ee.length-2)))),n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pt("Created Ttm","FilterConServiceLogID",b)}},ht("Created Date"),b.from&&n().createElement("p",{className:"filterdatevalue"},"(",b.from+" to "+b.to,")"))))))}var Ul=a(7997),jl=a(66321),Yl=a(24837),Wl=a(44954),$l=a(63750);window.clickFilter="";const Jl=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),[r]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[i]=(0,l.useState)("160"),[c,d]=(0,l.useState)(!1),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(0),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)({current:1,pageSize:10}),[L,x]=(0,l.useState)(""),[w,B]=(0,l.useState)([]),[R,k]=(0,l.useState)({val:"",column:""}),[Z,G]=(0,l.useState)([]),[q,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)(""),[_,Q]=(0,l.useState)(""),[H,U]=(0,l.useState)(!1),[j,Y]=(0,l.useState)([]),[W,$]=(0,l.useState)([]),[J,X]=(0,l.useState)([]),[ee,te]=(0,l.useState)({children:[{name:"ConContractServiceLogDetails",children:[]}]}),[ae,oe]=(0,l.useState)(!1),me=(0,l.useContext)(pn),{cstate:ue,cdispatch:pe}=Cn();let Ce={ConServiceLogIDPK:"",ConServiceLogCode:"",ServiceStartDate:"",ServiceStartDateType:"",ServiceStartDateBetween:"",ServiceEndDate:"",ServiceEndDateType:"",ServiceEndDateBetween:"",ServiceAmount:"",NoofEmployee:"",FrequencyAmount:"",ServiceType:"",ServiceTotal:"",FrequencyLink:"",IsDraft:"",Remarks:"",ServiceTypeID:"",ContractID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ServiceTypCode:"",ServiceTypeName:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsCode:"",PaymentTermsName:"",ContractCode:"",ContractName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ye,ge]=(0,l.useState)(Ce),[De,Se]=(0,l.useState)(Ce),[Ne,he]=(0,l.useState)(!1),[Te,be]=(0,l.useState)(!0),[Pe,Le]=(0,l.useState)(!1),[xe,we]=(0,l.useState)(!0),[Be,Fe]=(0,l.useState)({ConServiceLogCode:"",ServiceStartDate:"",ServiceEndDate:"",ServiceAmount:"",NoofEmployee:"",FrequencyAmount:"",ServiceType:"",ServiceTotal:"",FrequencyLink:"",ServiceTypeName:"",ContractName:""}),[Ae,Me]=(0,l.useState)(!1),[Re,ke]=(0,l.useState)([]),[Oe,Ze]=(0,l.useState)(0),[Ge,qe]=(0,l.useState)(0),[Ke,Ve]=(0,l.useState)({current:1,pageSize:10}),[ze,_e]=(0,l.useState)([]),[Qe,He]=(0,l.useState)([]),[Ue,je]=(0,l.useState)(!1),[Ye]=(0,l.useState)(localStorage.getItem("Language")),[We]=(0,l.useState)(localStorage.getItem("Language")),$e=[{columns:ze,data:L}];let Je=(0,N.Z)(),Xe=zl();const et=e=>Je[e],tt=e=>Xe[e];(0,l.useEffect)((()=>{ct(Ie.UserGridViewData)}),[JSON.stringify(Ie.UserGridViewData.filter((e=>e.FormID==i)))]),(0,l.useEffect)((()=>{ue.token.length>0&&(e.parentId?(rt(b,Ce,"ConServiceLogID"),document.getElementById("ConContractServiceLogDetails-MainTable").style.display="block"):G([]))}),[e.parentId]),(0,l.useEffect)((()=>{!ae&&e.parentId?rt(b,V,"ConServiceLogID"):ae&&Se(V)}),[V]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{lt(e)},tableRefresh:()=>{rt(b,Ce,"ConServiceLogID")},DialogTableProps:e=>{m(e)}})));const lt=e=>{""==e?rt(b,Ce,Ne?"DraftConServiceLogID":"ConServiceLogID",Ne&&"DraftPage"):it(e,{current:1,pageSize:10}),Q(e)};function nt(t){me.loading(!0);let a=S.v.Api+"FP160S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,ue.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,qe(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ze(Math.ceil(a)):20==t.pageSize?Ze(Math.ceil(a/2)):50==t.pageSize?Ze(Math.ceil(a/5)):100==t.pageSize&&Ze(Math.ceil(a/10)),ke(e.Output.data),me.loading(!1)}}))}function ot(e,t){pe({type:"editData",payload:[t]}),pe({type:"IsDraft",payload:Ne}),pe({type:"ShowDetail",payload:!0}),me.Expanded(!0),Pe&&U(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&we(e.cardview),e.Dialogview&&m(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&it(e.searchsafaritext,{current:b.current,pageSize:b.pageSize})}),[e.searchsafaritext]);const rt=(t,a,l,n)=>{me.loading(!0),"DraftPage"!==n&&he(ue.IsDraft);let o=S.v.Api+"FP160S3/",r={data:{p1:a&&a.ConServiceLogIDPK?a.ConServiceLogIDPK:null,p2:a&&a.ConServiceLogCode?a.ConServiceLogCode:null,p3:a&&a.ServiceStartDate?a.ServiceStartDate:null,p4:a&&a.ServiceStartDateType?a.ServiceStartDateType:null,p5:a&&a.ServiceStartDateBetween?a.ServiceStartDateBetween:null,p6:a&&a.ServiceEndDate?a.ServiceEndDate:null,p7:a&&a.ServiceEndDateType?a.ServiceEndDateType:null,p8:a&&a.ServiceEndDateBetween?a.ServiceEndDateBetween:null,p9:a&&a.ServiceAmount?a.ServiceAmount:null,p10:a&&a.NoofEmployee?a.NoofEmployee:null,p11:a&&a.FrequencyAmount?a.FrequencyAmount:null,p12:a&&a.ServiceType?a.ServiceType:null,p13:a&&a.ServiceTotal?a.ServiceTotal:null,p14:a&&a.FrequencyLink?a.FrequencyLink:null,p15:"DraftConServiceLogID"==l?"1":"0",p16:null,p17:a&&a.ServiceTypeID?a.ServiceTypeID:null,p18:e.parentId?e.parentId:"0",p19:e.Dialogview?"1":null,p20:null,p21:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p22:a&&a.CreatedTtm?a.CreatedTtm:null,p23:a&&a.CreatedTtmType?a.CreatedTtmType:null,p24:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p25:null,p26:a&&a.ServiceTypCode?a.ServiceTypCode:null,p27:a&&a.ServiceTypeName?a.ServiceTypeName:null,p28:a&&a.ContractGroupID?a.ContractGroupID:null,p29:a&&a.ContractGroupCode?a.ContractGroupCode:null,p30:a&&a.ContractGroupName?a.ContractGroupName:null,p31:a&&a.TaxID?a.TaxID:null,p32:a&&a.TaxCode?a.TaxCode:null,p33:a&&a.TaxName?a.TaxName:null,p34:a&&a.TaxValue?a.TaxValue:null,p35:a&&a.CustomerID?a.CustomerID:null,p36:a&&a.CustomerCode?a.CustomerCode:null,p37:a&&a.CustomerName?a.CustomerName:null,p38:a&&a.ContractTypeID?a.ContractTypeID:null,p39:a&&a.ContractTypCode?a.ContractTypCode:null,p40:a&&a.ContractTypeName?a.ContractTypeName:null,p41:a&&a.ContractCategID?a.ContractCategID:null,p42:a&&a.ContractCategCode?a.ContractCategCode:null,p43:a&&a.ContractCategName?a.ContractCategName:null,p44:a&&a.PaymentTermsID?a.PaymentTermsID:null,p45:a&&a.PaymentTermsCode?a.PaymentTermsCode:null,p46:a&&a.PaymentTermsName?a.PaymentTermsName:null,p47:a&&a.ContractCode?a.ContractCode:null,p48:a&&a.ContractName?a.ContractName:null,p49:t.current,p50:t.pageSize,p51:l,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};(0,I.Z)(o,r,ue.token[0]).then((o=>{if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,v(o.Output.data[0].TotalCount),T(o.Output.data[0].DraftCnt),pe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&T(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?E(Math.ceil(e)):20==t.pageSize?E(Math.ceil(e/2)):50==t.pageSize?E(Math.ceil(e/5)):100==t.pageSize&&E(Math.ceil(e/10)),G(o.Output.data),me.loading(!1)}e.Dialogview||(document.getElementById("divConContractServiceLogDetails-Entry").style.height="auto",document.getElementById("divConContractServiceLogDetails-Entry").style.display="block")}else me.loading(!1),"DraftConServiceLogID"===l?(me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),U(!0),he(!1)):(G([]),P({current:1,pageSize:10}),E(0),v(0),T(0),pe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&me.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else me.alert({open:!0,color:"warning",message:[o.Output.status.message]}),me.loading(!1)}))};function it(t,a){me.loading(!0);const l=S.v.Api+"FP160S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ne?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,ue.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount),pe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?E(Math.ceil(t)):20==a.pageSize?E(Math.ceil(t/2)):50==a.pageSize?E(Math.ceil(t/5)):100==a.pageSize&&E(Math.ceil(t/10)),G(e.Output.data),me.loading(!1)}else G([]),E(0),v(0),pe({type:"count",payload:"0"}),me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),me.loading(!1);else me.alert({open:!0,color:"warning",message:[e.Output.status.message]}),me.loading(!1)}))}function ct(e){const t=e.filter((e=>e.FormID==i));let a=[],l=[],n=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldName),n.push(e.FieldDescription)))})),Fe(l.reduce(((e,t)=>(e[t]="",e)),{})),Y(t),$(a),X(l),_e(n),He(l)}const dt=()=>ae?null:n().createElement("div",null,Ae?n().createElement(fe.Z,{data:Re,expanded:e=>!s&&me.Expanded(e),edit:(e,t,a)=>{s?me.select(e):(pe({type:"editData",payload:[e]}),pe({type:"IsDraft",payload:t}),pe({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{frmctrlid:"tblcs_160_L1_",id:"ConContractServiceLogDetailsTable",headerdata:W,tablesearchparams:Be,searchvalue:e=>{Fe(e),z(e),rt(b,e,Ne?"DraftConServiceLogID":"ConServiceLogID",Ne&&"DraftPage")},bodydata:Z,ondrag:ot,bodyitem:J,visibleitem:W,isdraft:Ne,IsView:!1,IsSub:e.tableview,tableExp:!1,accessrights:ue.AccessRights,expanded:e=>!s&&me.Expanded(e),edit:(e,t,a)=>{s?me.select(e):(pe({type:"editData",payload:[e]}),pe({type:"IsDraft",payload:t}),pe({type:"ShowDetail",payload:a}))},viewtoggle:me.viewtoggle,isexpanded:!s||Pe,ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Le(ue.ExpandTableValue)}),[ue.ExpandTableValue]),n().createElement("div",null,n().createElement(u.Z,{expanded:Te,onChange:()=>()=>{be(Pe)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1"},tt("ConContractServiceLogDetails")(f))),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld160L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld160L1TCInputSearch",className:"search_input",type:"text",placeholder:et("Search"),value:_,onChange:e=>{lt(e)}}),n().createElement("div",{className:"search_icon"},_?n().createElement("div",{id:"fld160L1TCInputCloseIcon",onClick:()=>{lt("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld160L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"75vh"}},!e.tableview&&n().createElement("div",{id:"ConContractServiceLogDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ne&&n().createElement("div",{frmctrlid:"fld160L1TCFilterDataIsDraft",id:"ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{me.EditClose(!0),q?(document.getElementById("ConContractServiceLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractServiceLogDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractServiceLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",K(!1),xe?(s||(document.getElementById("ConContractServiceLogDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="35px",document.getElementById("ConContractServiceLogDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="15%"),document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="35px",document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="15%"):(document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="35px",document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="15%")):(document.getElementById("ConContractServiceLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("ConContractServiceLogDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("ConContractServiceLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",K(!0),xe?(s||(document.getElementById("ConContractServiceLogDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="35px",document.getElementById("ConContractServiceLogDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="15%"),document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="90px",document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="8%"):(document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="90px",document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="8%")),U(!1),window.clickFilter=!q}},n().createElement(M.ZP,{title:et("Filter Data"),placement:"top"},n().createElement(Gl.Z,{className:"tableFilterColumnIcon"})),n().createElement("span",{className:"iconinfo"},et("Filter Data"))),ae||!Pe?null:!s&&ue.AccessRights.IsAdd&&!Ne&&n().createElement("div",null,n().createElement("div",{id:"ConContractServiceLogDetailscoldiv",className:"buttoncard"},n().createElement(M.ZP,{title:et("Add/Remove Columns"),placement:"top"},n().createElement("div",{frmctrlid:"fld160L1TCFilterDataIsAdd",onClick:()=>{me.EditClose(!0),H?(document.getElementById("ConContractServiceLogDetailsFilterDiv").style.width="0%",document.getElementById("ConContractServiceLogDetailsTabDiv").style.width="100%",document.getElementById("ConContractServiceLogDetailsFilterDiv").style.display="none",document.getElementById("ConContractServiceLogDetailscoldiv").style.width="35px",document.getElementById("ConContractServiceLogDetailscoldiv").getElementsByTagName("svg")[0].style.padding="15%",U(!1)):(document.getElementById("ConContractServiceLogDetailsFilterDiv").style.width="25%",document.getElementById("ConContractServiceLogDetailsTabDiv").style.width="75%",document.getElementById("ConContractServiceLogDetailsFilterDiv").style.display="block",document.getElementById("ConContractServiceLogDetailsfildiv").style.width="35px",document.getElementById("ConContractServiceLogDetailsfildiv").getElementsByTagName("svg")[0].style.padding="15%",document.getElementById("ConContractServiceLogDetailscoldiv").style.width="140px",document.getElementById("ConContractServiceLogDetailscoldiv").getElementsByTagName("svg")[0].style.padding="5%",U(!0)),K(!1)}},n().createElement(jl.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},et("Add/Remove Columns")))),!s&&!Ne&&!ae&&n().createElement(le.Z,{formctrlidprint:"fld160L1TCExportPrint",formctrlidexport:"fld160L1TCExportTable",formctrlidrefresh:"fld160L1TCExportRefresh",title:tt("ConContractServiceLogDetails"),data:w,exportData:$e,Items:Qe,columnIndex:ze,triggerApi:()=>{((t,l)=>{if(0===f)return me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;me.loading(!0);let n=S.v.Api+"FP160S3/",o={data:{p1:t&&t.ConServiceLogIDPK?t.ConServiceLogIDPK:null,p2:t&&t.ConServiceLogCode?t.ConServiceLogCode:null,p3:t&&t.ServiceStartDate?t.ServiceStartDate:null,p4:t&&t.ServiceStartDateType?t.ServiceStartDateType:null,p5:t&&t.ServiceStartDateBetween?t.ServiceStartDateBetween:null,p6:t&&t.ServiceEndDate?t.ServiceEndDate:null,p7:t&&t.ServiceEndDateType?t.ServiceEndDateType:null,p8:t&&t.ServiceEndDateBetween?t.ServiceEndDateBetween:null,p9:t&&t.ServiceAmount?t.ServiceAmount:null,p10:t&&t.NoofEmployee?t.NoofEmployee:null,p11:t&&t.FrequencyAmount?t.FrequencyAmount:null,p12:t&&t.ServiceType?t.ServiceType:null,p13:t&&t.ServiceTotal?t.ServiceTotal:null,p14:t&&t.FrequencyLink?t.FrequencyLink:null,p15:Ne?"1":"0",p16:null,p17:t&&t.ServiceTypeID?t.ServiceTypeID:null,p18:e.parentId?e.parentId:"0",p19:e.Dialogview?"1":null,p20:null,p21:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p22:t&&t.CreatedTtm?t.CreatedTtm:null,p23:t&&t.CreatedTtmType?t.CreatedTtmType:null,p24:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p25:null,p26:t&&t.ServiceTypCode?t.ServiceTypCode:null,p27:t&&t.ServiceTypeName?t.ServiceTypeName:null,p28:t&&t.ContractGroupID?t.ContractGroupID:null,p29:t&&t.ContractGroupCode?t.ContractGroupCode:null,p30:t&&t.ContractGroupName?t.ContractGroupName:null,p31:t&&t.TaxID?t.TaxID:null,p32:t&&t.TaxCode?t.TaxCode:null,p33:t&&t.TaxName?t.TaxName:null,p34:t&&t.TaxValue?t.TaxValue:null,p35:t&&t.CustomerID?t.CustomerID:null,p36:t&&t.CustomerCode?t.CustomerCode:null,p37:t&&t.CustomerName?t.CustomerName:null,p38:t&&t.ContractTypeID?t.ContractTypeID:null,p39:t&&t.ContractTypCode?t.ContractTypCode:null,p40:t&&t.ContractTypeName?t.ContractTypeName:null,p41:t&&t.ContractCategID?t.ContractCategID:null,p42:t&&t.ContractCategCode?t.ContractCategCode:null,p43:t&&t.ContractCategName?t.ContractCategName:null,p44:t&&t.PaymentTermsID?t.PaymentTermsID:null,p45:t&&t.PaymentTermsCode?t.PaymentTermsCode:null,p46:t&&t.PaymentTermsName?t.PaymentTermsName:null,p47:t&&t.ContractCode?t.ContractCode:null,p48:t&&t.ContractName?t.ContractName:null,p49:1,p50:f,p51:Ne?"DraftConServiceLogID":"ConServiceLogID",p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};(0,I.Z)(n,o,ue.token[0]).then((e=>{if("200"==e.Output.status.code){if(e.Output.data.length>0&&e.Output.data.length>0){B(e.Output.data);let t=[];e.Output.data.map((e=>{let a=[];Qe.map((t=>{a.push(e[t])})),t.push(a)})),x(t),a.current.PrintValue(),me.loading(!1)}}else me.alert({open:!0,color:"warning",message:[e.Output.status.message]}),me.loading(!1)}))})(V,R.column)},Refresh:()=>{if(Q(""),document.querySelectorAll(".TabClrDiv").length>0){let e=document.querySelectorAll(".TabClrDiv");for(let t=0;t<e.length;t++)setTimeout((()=>{e[t].click()}),500*t);return!1}P({current:1,pageSize:10}),ue.IsDraft?rt({current:1,pageSize:10},Ce,"DraftConServiceLogID"):rt({current:1,pageSize:10},Ce,"ConServiceLogID")},disabledPrint:!ue.AccessRights.IsPrint,disabledExport:!ue.AccessRights.IsExport,ref:a}),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!s&&Pe&&!ae&&n().createElement("div",null,n().createElement("div",{id:"ConContractServiceLogDetailscoldiv",className:"buttoncard"},n().createElement(M.ZP,{title:et("Table Scroll Data"),placement:"top"},n().createElement("div",{id:"fld160L1TCTableScrollData",onClick:()=>{Ae?Me(!1):(Me(!0),nt({current:1,pageSize:10}))}},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),Ae&&n().createElement("span",{className:"iconinfo"},"Table Scroll Data"))),ae||Ne?null:n().createElement("div",{style:{paddingLeft:"1rem"}},n().createElement("div",{style:{display:"flex",alignItem:"center"}},n().createElement("div",{frmctrlid:"fld160L1TCAddBtn",className:"button b2",id:"button-11",onClick:()=>{!0===xe?(we(!1),document.getElementById("ConContractServiceLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("ConContractServiceLogDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("ConContractServiceLogDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="35px",document.getElementById("ConContractServiceLogDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="15%",K(!1)):we(!0)}},n().createElement("input",{type:"checkbox",className:"checkbox"}),n().createElement("div",{className:"knobs"},n().createElement("span",null)),n().createElement("div",{className:"layer"})),xe?null:n().createElement("div",{className:"displayFlex",style:{marginLeft:"5px"}},Ue?n().createElement(M.ZP,{title:et("Grid View"),placement:"top"},n().createElement(Kl.Z,{id:"fld160L1TCGridView",onClick:()=>{je(!1)},size:"small",style:{color:"#3873bb"}},n().createElement($l.m_d,null))):n().createElement(M.ZP,{title:et("Tile View"),placement:"top"},n().createElement(Kl.Z,{id:"fld160L1TCTileView",onClick:()=>{je(!0)},size:"small",style:{color:"#3873bb"}},n().createElement(Wl.Z,null)))))),!ae&&Ne?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement(M.ZP,{title:et("List"),placement:"top"},n().createElement("div",{id:"fld160L1TCList",onClick:()=>{me.clear(),me.Expanded(!1),rt({current:1,pageSize:10},Ce,"ConServiceLogID"),he(!1),pe({type:"IsDraft",payload:!1})}},n().createElement(Ul.Z,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},et("Draft")," ",f)):!s&&!ae&&ue.AccessRights.IsAdd&&n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:h,showZero:!0},n().createElement(M.ZP,{title:et("Drafts"),placement:"top"},n().createElement(A.Z,{id:"fld160L1TCDraftsIcon",className:"DraftButtonL1",startIcon:n().createElement(kl.Z,{className:"DraftIcon"}),onClick:()=>{h>0?(P({current:1,pageSize:10}),g(0),me.clear(),rt({current:1,pageSize:10},Ce,"DraftConServiceLogID"),he(!0),pe({type:"IsDraft",payload:!0}),U(!1),we(!0),document.getElementById("ConContractServiceLogDetailsFilterDiv").style.width="0%",document.getElementById("ConContractServiceLogDetailsTabDiv").style.width="100%",document.getElementById("ConContractServiceLogDetailsFilterDiv").style.display="none",me.Expanded(!1),P({current:1,pageSize:10}),oe(!1)):me.alert({open:!0,color:"warning",message:[et("There is no Record Found")]})}})))),!Ne&&!s&&n().createElement("div",{className:"viewTypes",style:{width:"30%"}},n().createElement(Yl.Z,{variant:"text",color:"primary"},n().createElement(A.Z,{frmctrlid:"fld160L1TCListView",id:"ConContractServiceLogDetails-TabView",startIcon:n().createElement(Wl.Z,null),className:"ViewBtn ViewBtnAct",onClick:()=>{be(!0),document.getElementById("ConContractServiceLogDetails-TabView").classList.add("ViewBtnAct"),oe(!1)}},et("List View")))),ae?null:Ae?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld160L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Ge),page:y,onPageChange:(e,t)=>{g(t),nt({current:t+1,pageSize:Ke.pageSize}),Ve({current:t+1,pageSize:Ke.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:Oe,color:"primary",page:Ke.current,onChange:(e,t)=>{Ve({current:t,pageSize:Ke.pageSize}),Ze(t),nt({current:t,pageSize:Ke.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:Ke.pageSize,onChange:e=>{frmctrlid="fld160L1TCSelectPagination",Ve({current:1,pageSize:e.target.value}),nt({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Pe&&n().createElement("p",{className:"per-page"},"/ ",et("per page Of")," (",Ge,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld160L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(f),page:y,onPageChange:(e,t)=>{g(t),rt({current:t+1,pageSize:b.pageSize},Ce,Ne?"DraftConServiceLogID":"ConServiceLogID",Ne&&"DraftPage"),P({current:t+1,pageSize:b.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:D,siblingCount:0,color:"primary",page:b.current,onChange:(e,t)=>{if(P({current:t,pageSize:b.pageSize}),Ne)rt({current:t,pageSize:b.pageSize},ye,"DraftConServiceLogID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";_.length>0?it(_,{current:t,pageSize:b.pageSize}):rt({current:t,pageSize:b.pageSize},ye,"ConServiceLogID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:b.pageSize,id:"fld160L1TCSelectPaging",onChange:e=>{P({current:1,pageSize:e.target.value}),Ne?rt({current:1,pageSize:e.target.value},ye,"DraftConServiceLogID","DraftPage"):_.length>0?it(_,{current:1,pageSize:e.target.value}):rt({current:1,pageSize:e.target.value},ye,"ConServiceLogID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Pe&&n().createElement("p",{className:"per-page"},"/ ",et("per page of")," (",f,") "))),n().createElement("div",{id:"ConContractServiceLogDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"ConContractServiceLogDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},q&&n().createElement(Hl,{parentId:e.parentId,searchData:e=>z(e),formID:i,data:()=>{},visibleData:()=>{},token:ue.token[0],msg:(e,t)=>me.alert({open:!0,color:t,message:[e]})}),H&&n().createElement(ie.Z,{frmctrlid:"fld160L1TCTableColumnOrder",loading:e=>me.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>me.alert({open:!0,color:t,message:[e]}),select:H,userID:r,userGridViewFormID:i,saved:(e,t)=>{e&&ct(t)},Token:ue.token[0]})),n().createElement("div",{id:"ConContractServiceLogDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},xe?n().createElement(dt,null):n().createElement(se.Z,{frmctrlid:"fld160L1TCExpandedCardDual",data:Z,id:"ConContractServiceLogDetails",title:"ConServiceLogCode",cardTile:!!Ue,visibleitem:W,gridCount:4,onDoubleClick:e=>{s?me.select(e):(pe({type:"editData",payload:[e]}),pe({type:"IsDraft",payload:Ne}),pe({type:"ShowDetail",payload:!0}),me.Expanded(!0),Pe&&(K(!1),U(!1)))}})))))))}));var Xl=a(83173),en=a(69685),tn=a(45332),an=a(13258),ln=a(96071),nn=a(13235),on=a(70329);const rn={EnterKeyValues:{ConContractServiceLogDetails:["ConServiceLogCode","ServiceStartDate","ServiceEndDate","ServiceAmount","NoofEmployee","FrequencyAmount","ServiceType","ServiceTotal","FrequencyLink","ServiceTypeName","ContractName"]},Label:{ConContractServiceLogDetails:{ConServiceLogCode:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceStartDate:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceEndDate:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceAmount:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],NoofEmployee:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],FrequencyAmount:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceType:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceTotal:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],FrequencyLink:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceTypeID:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ContractID:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"]}},LabelHeader:{ConContractServiceLogDetails:{ConServiceLogCode:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceStartDate:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceEndDate:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceAmount:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],NoofEmployee:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],FrequencyAmount:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceType:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceTotal:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],FrequencyLink:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","ServiceTypCode","ServiceTypeName"],ServiceTypeID:["ConServiceLogCode","ConGenerateCode","ContractCode","ContractName","Code","Name"],ContractID:["ConServiceLogCode","Generate Code","Contract Code","Contract Name","ServiceTypCode","ServiceTypeName"]}},Property:{ConContractServiceLogDetails:{ConServiceLogCode:{id:"fld160_3170",labelID:"ConServiceLogCode",maxLength:"50",labelname:"ConServiceLogCode",frmctrlid:"fld160_3170",frmctrlidname:"ConServiceLogCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceStartDate:{id:"fld160_3171",labelID:"ServiceStartDate",maxLength:"",labelname:"ServiceStartDt",frmctrlid:"fld160_3171",frmctrlidname:"ServiceStartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceEndDate:{id:"fld160_3172",labelID:"ServiceEndDate",maxLength:"",labelname:"ServiceEndDt",frmctrlid:"fld160_3172",frmctrlidname:"ServiceEndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceAmount:{id:"fld160_3173",labelID:"ServiceAmount",maxLength:"",labelname:"ServiceAmount",frmctrlid:"fld160_3173",frmctrlidname:"ServiceAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoofEmployee:{id:"fld160_3174",labelID:"NoofEmployee",maxLength:"",labelname:"NoofEmployee",frmctrlid:"fld160_3174",frmctrlidname:"NoofEmployee",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FrequencyAmount:{id:"fld160_3175",labelID:"FrequencyAmount",maxLength:"",labelname:"FrequencyAmount",frmctrlid:"fld160_3175",frmctrlidname:"FrequencyAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceType:{id:"fld160_3176",labelID:"ServiceType",maxLength:"50",labelname:"ServiceType",frmctrlid:"fld160_3176",frmctrlidname:"ServiceType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceTotal:{id:"fld160_3177",labelID:"ServiceTotal",maxLength:"",labelname:"ServiceTotal",frmctrlid:"fld160_3177",frmctrlidname:"ServiceTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FrequencyLink:{id:"fld160_3178",labelID:"FrequencyLink",maxLength:"",labelname:"FrequencyLink",frmctrlid:"fld160_3178",frmctrlidname:"FrequencyLink",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ServiceTypeID:{id:"fld160_3181",clearID:"ConContractServiceLogDetailsServiceTypeNameClear",type:"select",labelID:"ServiceTypeIDPK",labelname:"ServiceTypeName",fielddisplayname:"ServiceTypeName",fieldOrder:"2",frmctrlid:"fld160_3181",frmctrlidname:"ServiceTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ContractID:{id:"fld160_3182",clearID:"ConContractServiceLogDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractName",fielddisplayname:"ContractName",fieldOrder:"3",frmctrlid:"fld160_3182",frmctrlidname:"ContractID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{ConContractServiceLogDetails:{ServiceTypeID:["CreatedTtm","IsActive","ServiceTypCode","ServiceTypeName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName","IsActive","CreatedTtm","UpdatedTtm"]}}},cn={ConServiceLogIDPK:"",ConServiceLogCode:"",ServiceStartDate:"",ServiceStartDateType:"",ServiceStartDateBetween:"",ServiceEndDate:"",ServiceEndDateType:"",ServiceEndDateBetween:"",ServiceAmount:"",NoofEmployee:"",FrequencyAmount:"",ServiceType:"",ServiceTotal:"",FrequencyLink:"",IsDraft:!1,Remarks:"",ServiceTypeID:null,ContractID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ServiceTypCode:"",ServiceTypeName:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",PaymentTermsID:null,PaymentTermsCode:"",PaymentTermsName:"",ContractCode:"",ContractName:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},dn=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[i,s]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!0),[D,E]=(0,l.useState)(!1),[h,b]=(0,l.useState)(!1),[P,L]=(0,l.useState)(""),[x,w]=(0,l.useState)(!1),[B,A]=(0,l.useState)([]),[R,k]=(0,l.useState)(null),[Z,G]=(0,l.useReducer)(Fe.Z,cn),[q,K]=(0,l.useState)(!1),[_,Q]=(0,l.useState)([]),[H,U]=(0,l.useState)(!1),j=(0,l.useContext)(pn),{cstate:Y,cdispatch:W}=Cn(),[X,ee]=(0,l.useState)(0),[te,ae]=(0,l.useState)(""),[le]=(0,l.useState)(localStorage.getItem("Language")),[ne]=(0,l.useState)(localStorage.getItem("Language")),[oe,re]=(0,l.useState)(!0),[ie,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(""),[ue,pe]=(0,l.useState)(!0),[Ce,ye]=(0,l.useState)(!0),[ge,De]=(0,l.useState)(!0),[Ie,Se]=(0,l.useState)(!0),[Ee,fe]=(0,l.useState)(!0),[ve,Ne]=(0,l.useState)(!0),[he,Te]=(0,l.useState)(!1);let be=(0,N.Z)(),Le=zl();(0,l.useEffect)((()=>{Y.PrimaryId&&ee(Y.PrimaryId)}),[Y.PrimaryId]),(0,l.useEffect)((()=>{Oe(),Y.editData.length<0&&(0,f.Z)(1).then((e=>{ze(1,null,"SetDefaultConServiceLogID",e)}))}),[]),(0,l.useEffect)((()=>{Oe()}),[e.parentId]),(0,l.useEffect)((()=>{Y.editData.length>0?(ke(Y.editData[0],""),E(!0)):Y.Add&&(Oe(),ze(1,null,"SetDefaultConServiceLogID",Y.token[0]),E(!0))}),[Y.editData]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Oe()},CreateEasyProps:e=>{Oe(),E(!0)}})));const we=e=>be[e],Ae=e=>Le[e],Me=e=>e?e.split("-").reverse().join("-"):null,ke=(t,a)=>{b(t.IsDraft),ee(e.primid?e.primid:t.ConServiceLogIDPK),"SetDefaultConServiceLogID"==a?ae(t.ConServiceLogIDPK):W({type:"PrimaryId",payload:t.ConServiceLogIDPK}),G({type:"text",name:"ConServiceLogCode",value:t.ConServiceLogCode?t.ConServiceLogCode:""}),G({type:"text",name:"ServiceStartDate",value:Me(t.ServiceStartDate)}),G({type:"text",name:"ServiceEndDate",value:Me(t.ServiceEndDate)}),G({type:"number",name:"ServiceAmount",number:Number(t.ServiceAmount)}),G({type:"number",name:"NoofEmployee",number:t.NoofEmployee}),G({type:"number",name:"FrequencyAmount",number:Number(t.FrequencyAmount)}),G({type:"text",name:"ServiceType",value:t.ServiceType?t.ServiceType:""}),G({type:"number",name:"ServiceTotal",number:Number(t.ServiceTotal)}),G({type:"number",name:"FrequencyLink",number:t.FrequencyLink}),G({type:"text",name:"ServiceTypeID",value:t.ServiceTypeID?t.ServiceTypeID:""}),G({type:"text",name:"ServiceTypeName",value:t.ServiceTypeName}),G({type:"text",name:"ContractID",value:t.ContractID?t.ContractID:""}),G({type:"text",name:"ContractName",value:t.ContractName}),t.IsDraft?g(!0):g(!("1"!=t.IsActive&&!t.IsActive))},Oe=()=>{A([]),ee(0),ae(""),W({type:"PrimaryId",payload:""}),G({type:"text",name:"ConServiceLogCode",value:""}),G({type:"text",name:"ServiceStartDate",value:""}),G({type:"text",name:"ServiceEndDate",value:""}),G({type:"number",name:"ServiceAmount",number:0}),G({type:"number",name:"NoofEmployee",number:0}),G({type:"number",name:"FrequencyAmount",number:0}),G({type:"text",name:"ServiceType",value:""}),G({type:"number",name:"ServiceTotal",number:0}),G({type:"number",name:"FrequencyLink",number:0}),G({type:"text",name:"ServiceTypeID",value:null}),G({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("ConContractServiceLogDetailsServiceTypeNameClear")&&document.getElementById("ConContractServiceLogDetailsServiceTypeNameClear").click(),G({type:"text",name:"ContractID",value:null}),G({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractServiceLogDetailsContractNameClear")&&document.getElementById("ConContractServiceLogDetailsContractNameClear").click(),g(!0),L("")},Ze=t=>Ye(Z.ConServiceLogCode)?X||0!=MultiSelectServiceTypeID.length?X&&!Z.ServiceTypeID?(j.alert({open:!0,color:"warning",message:["Please select the Type   Of   Service"]}),!1):e.parentId&&0!=e.parentId?void Ge(t):(j.alert({open:!0,color:"warning",message:[we("Please select the Contract  ")]}),!1):(j.alert({open:!0,color:"warning",message:["Please select the Type   Of   Service"]}),!1):(j.alert({open:!0,color:"warning",message:[we("Please enter the")+""+Ae("ConServiceLogCode")]}),!1),Ge=e=>{j.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:we("Are you sure?"),onConfirm:()=>Ke(),onCancel:()=>j.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:we("Yes"),cancelBtnText:we("Cancel"),showCancel:!0},Y.PrimarId?we("Do you want to Update?"):we("Do you want to Save?")))},qe=t=>{re(!0),pe(!0),ye(!0),De(!0),Se(!0),fe(!0),Ne(!0),j.loading(!0),j.ConfirmAlert(null),W({type:"IsDraft",payload:!1});const a=S.v.Api+"FP160S1/",l={data:[{p1:"SetDefaultConServiceLogID"==t?"NORECORDS"!=te&&te?te:0:X,p2:Ye(Z.ConServiceLogCode),p3:Z.ServiceStartDate,p4:Z.ServiceEndDate,p5:Z.ServiceAmount?Z.ServiceAmount:0,p6:Z.NoofEmployee,p7:Z.FrequencyAmount?Z.FrequencyAmount:0,p8:Ye(Z.ServiceType),p9:Z.ServiceTotal?Z.ServiceTotal:0,p10:Z.FrequencyLink,p11:!1,p12:"SetDefaultConServiceLogID"==t?"SetDefault":null,p13:Z.ServiceTypeID?Z.ServiceTypeID:0,p14:e.parentId?e.parentId:Z.ContractID,p15:y,p16:"SetDefaultConServiceLogID"==t,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?("SetDefaultConServiceLogID"==t?j.alert({open:!0,color:"success",message:[we("Default Record Configured")]}):j.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttConContractServiceLogDetails"),j.attachmentSave(a[0].Data.IDPK),j.loading(!1),e.createEasy||j.RefreshTable(),Oe(),document.getElementById("overlayimgAttConContractServiceLogDetails")&&(document.getElementById("overlayimgAttConContractServiceLogDetails").style.width="0%",document.getElementById("overlayimgAttConContractServiceLogDetails").style.display="none",document.getElementById("divConContractServiceLogDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("ConContractServiceLogDetails-MainTable").style.display="block")):(j.alert({open:!0,color:"warning",message:[l.message]}),j.loading(!1)),E(!0),ze(1,null,"SetDefaultConServiceLogID",Y.token[0])}))}))},Ke=t=>{j.loading(!0),j.ConfirmAlert(null);const a=S.v.Api+"FP160S2/",l={data:[{p1:"SetDefaultConServiceLogID"==t?"NORECORDS"!=te&&te?te:0:X,p2:Ye(Z.ConServiceLogCode),p3:Z.ServiceStartDate,p4:Z.ServiceEndDate,p5:Z.ServiceAmount?Z.ServiceAmount:0,p6:Z.NoofEmployee,p7:Z.FrequencyAmount?Z.FrequencyAmount:0,p8:Ye(Z.ServiceType),p9:Z.ServiceTotal?Z.ServiceTotal:0,p10:Z.FrequencyLink,p11:!1,p12:"SetDefaultConServiceLogID"==t?"SetDefault":null,p13:Z.ServiceTypeID?Z.ServiceTypeID:0,p14:e.parentId?e.parentId:Z.ContractID,p15:y,p16:"SetDefaultConServiceLogID"==t,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((e=>{(0,I.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,n=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(j.alert({open:!0,color:"warning",message:n}),j.loading(!1)):qe())}))}))};function Ve(t,a,l,n){if(!(Y.count>0))return j.alert({open:!0,color:"warning",message:[we("Please save atleast one record")]}),!1;{re(!0),pe(!0),ye(!0),De(!0),Se(!0),fe(!0),Ne(!0),j.loading(!0),j.ConfirmAlert(null),W({type:"IsDraft",payload:!1});const a=S.v.Api+"FP160S1/",l={data:[{p1:"SetDefaultConServiceLogID"==n?"NORECORDS"!=te&&te?te:0:X,p2:Ye(Z.ConServiceLogCode),p3:Z.ServiceStartDate,p4:Z.ServiceEndDate,p5:Z.ServiceAmount?Z.ServiceAmount:0,p6:Z.NoofEmployee,p7:Z.FrequencyAmount?Z.FrequencyAmount:0,p8:Ye(Z.ServiceType),p9:Z.ServiceTotal?Z.ServiceTotal:0,p10:Z.FrequencyLink,p11:!1,p12:"SetDefaultConServiceLogID"==n?"SetDefault":null,p13:Z.ServiceTypeID?Z.ServiceTypeID:0,p14:e.parentId?e.parentId:Z.ContractID,p15:!1,p16:"SetDefaultConServiceLogID"==n,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((e=>{(0,z.Z)(a,l,e).then((e=>{const a=e[0].status;200==a.code?(t?j.alert({open:!0,color:"warning",message:[we("Deleted Successfully")]}):j.alert({open:!0,color:"success",message:[we("Saved to Draft")]}),j.loading(!1),Oe(),j.RefreshTable()):(j.alert({open:!0,color:"warning",message:[a.message]}),j.loading(!1))}))}))}}const ze=(t,a,l,n)=>{const o=S.v.Api+"FP160S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:1,p50:10,p51:l,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}},i={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:"0"===Z.ServiceTypeID?null:Z.ServiceTypeID,p18:e.parentId?e.parentId:"0",p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:"0"===Z.ContractGroupID?null:Z.ContractGroupID,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:"0"===Z.TaxID?null:Z.TaxID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"===Z.CustomerID?null:Z.CustomerID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"===Z.ContractTypeID?null:Z.ContractTypeID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"===Z.ContractCategID?null:Z.ContractCategID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"===Z.PaymentTermsID?null:Z.PaymentTermsID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:t,p50:10,p51:l,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};K(!0),(0,I.Z)(o,"ClearAll"==l?r:i,"SetDefaultConServiceLogID"==l&&n?n:Y.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;Q(1==t?e>0?n:[]:_.concat(n)),"SetDefaultConServiceLogID"==l&&(e>0?ke(n[0],"SetDefaultConServiceLogID"):ae("NORECORDS")),K(!1)}else j.alert({open:!0,color:"warning",message:[e.Output.status.message]}),K(!1)}))},_e=(t,l,n)=>{const o=S.v.Api+"FP160S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:1,p50:10,p51:n,p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}},i={data:{p1:null,p2:"ConServiceLogCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"ServiceAmount"==n&&l?"%"+l+"%":null,p10:"NoofEmployee"==n&&l?"%"+l+"%":null,p11:"FrequencyAmount"==n&&l?"%"+l+"%":null,p12:"ServiceType"==n&&l?"%"+l+"%":null,p13:"ServiceTotal"==n&&l?"%"+l+"%":null,p14:"FrequencyLink"==n&&l?"%"+l+"%":null,p15:null,p16:null,p17:null,p18:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:t,p50:10,p51:"ConServiceLogID",p52:null,p53:null,p54:localStorage.getItem("UserGroupID"),p55:localStorage.getItem("userid")}};K(!0),(0,I.Z)(o,"ClearAll"==n?r:i,Y.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("ConServiceLogCode"==n&&re(e>0),"ServiceAmount"==n&&pe(e>0),"NoofEmployee"==n&&ye(e>0),"FrequencyAmount"==n&&De(e>0),"ServiceType"==n&&Se(e>0),"ServiceTotal"==n&&fe(e>0),"FrequencyLink"==n&&Ne(e>0),Q(l)):("ConServiceLogCode"==n&&re(!0),"ServiceAmount"==n&&pe(!0),"NoofEmployee"==n&&ye(!0),"FrequencyAmount"==n&&De(!0),"ServiceType"==n&&Se(!0),"ServiceTotal"==n&&fe(!0),"FrequencyLink"==n&&Ne(!0),Q(_.concat(l))),K(!1)}else j.alert({open:!0,color:"warning",message:[e.Output.status.message]}),K(!1)}))},Qe=(0,l.useCallback)(((e,t,a)=>{"text"==a?G({type:a,name:t,value:e}):"number"==a?G({type:a,name:t,number:Number(e)}):"boolean"==a?G({type:a,name:t,boolean:e}):"date"==a||"select"==a&&("ServiceTypeID"==t?(G({type:"text",name:"ServiceTypeID",value:e.ServiceTypeIDPK?e.ServiceTypeIDPK:null}),G({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName?e.ServiceTypeName:null}),G({type:"text",name:"ContractID",value:e.ContractID?e.ContractID:null}),G({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null})):"ContractID"==t&&(G({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),G({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null}),G({type:"text",name:"ServiceTypeID",value:e.ServiceTypeID?e.ServiceTypeID:null}),G({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName?e.ServiceTypeName:null})))}),[Z]);function He(e){"ServiceTypeID"==e?(G({type:"text",name:"ServiceTypeID",value:null}),G({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("ConContractServiceLogDetailsServiceTypeNameClear").click(),G({type:"text",name:"ContractID",value:null}),G({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractServiceLogDetailsContractNameClear").click()):"ContractID"==e&&(G({type:"text",name:"ContractID",value:null}),G({type:"text",name:"ContractName",value:""}),document.getElementById("ConContractServiceLogDetailsContractNameClear").click(),G({type:"text",name:"ServiceTypeID",value:null}),G({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("ConContractServiceLogDetailsServiceTypeNameClear").click())}function Ue(e){"ServiceTypeID"==e?(G({type:"text",name:"ServiceTypeID",value:null}),G({type:"text",name:"ContractID",value:null})):"ContractID"==e&&(G({type:"text",name:"ContractID",value:null}),G({type:"text",name:"ServiceTypeID",value:null}))}const je=e=>{j.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>function(e){j.ConfirmAlert(null),b(e.IsDraft),ee(e.ConServiceLogIDPK),G({type:"text",name:"ConServiceLogCode",value:e.ConServiceLogCode}),G({type:"text",name:"ServiceStartDate",value:Me(e.ServiceStartDate)}),G({type:"text",name:"ServiceStartDate",value:e.ServiceStartDate}),G({type:"text",name:"ServiceEndDate",value:Me(e.ServiceEndDate)}),G({type:"text",name:"ServiceEndDate",value:e.ServiceEndDate}),G({type:"text",name:"ServiceAmount",value:e.ServiceAmount}),G({type:"text",name:"NoofEmployee",value:e.NoofEmployee}),G({type:"text",name:"FrequencyAmount",value:e.FrequencyAmount}),G({type:"text",name:"ServiceType",value:e.ServiceType}),G({type:"text",name:"ServiceTotal",value:e.ServiceTotal}),G({type:"text",name:"FrequencyLink",value:e.FrequencyLink}),G({type:"text",name:"ServiceTypeID",value:e.ServiceTypeID}),G({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName}),G({type:"text",name:"ContractID",value:e.ContractID}),G({type:"text",name:"ContractName",value:e.ContractName})}(e),onCancel:()=>j.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:we("Yes"),cancelBtnText:we("No"),showCancel:!0},we("Do you want to update this record?")))},Ye=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:D,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1 ",id:"fld160L1ECEntryHeader"},we(X?"Edit ":"New "),Ae("Type Of Service Log")," ",e.createEasy?"":"("+Y.count+")")),D?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},Y.AccessRights.IsAdd&&(te||"NORECORDS"==te)?n().createElement(nn.Z,{title:"Set Default",disabled:!1,frmctrlid:"fld160L1ECSetDefaultBtnIsAdd",onClick:()=>{qe("SetDefaultConServiceLogID")}}):n().createElement(nn.Z,{title:"Get Default",disabled:!1,frmctrlid:"fld160L1ECSetDefaultBtn",onClick:()=>{ze(1,null,"SetDefaultConServiceLogID",Y.token[0])}}),Y.AccessRights.IsDelete&&n().createElement("div",{className:"Entry-Checkbox"},n().createElement(m.Z,{style:{color:"#337ab7"},id:"fld160L1ECEntryCheckbox",control:n().createElement(an.Z,{style:{color:"#rgb(52, 179, 68)",padding:"6px",minWidth:"auto",width:"auto"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:"1"==y,onChange:e=>g(e.target.checked)}),label:"Active"})),!e.createEasy&&n().createElement(M.ZP,{title:"Browse Attachment",placement:"top"},n().createElement(Kl.Z,{id:"fld160L1ECIconButton",component:"div",className:"btnpadding",onClick:()=>{j.AttachExpand(!0)},disableRipple:!0,disabled:!X},n().createElement(on.Z,{className:"Iconstyles"}))),!X&&n().createElement(Pe.Z,{frmctrlid:"fld160L1ECClearBtn",disabled:!1,onClick:()=>{Oe()}}),"1"===h&&X&&n().createElement(Pe.Z,{frmctrlid:"fld160L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ve("draftdel")}}),X&&"1"!==h||e.createEasy?null:Y.AccessRights.IsAdd&&n().createElement(ln.Z,{disabled:!1,frmctrlid:"fld160L1ECDraftBtn",onClick:()=>{Ve()}}),Y.AccessRights.IsAdd?n().createElement(v.Z,{frmctrlid:"fld160L1ECSaveBtnIsAdd",name:we(X?"Update":"Save"),disabled:!1,onClick:()=>{Ze()}}):Y.AccessRights.IsEdit&&n().createElement(v.Z,{frmctrlid:"fld160L1ECSaveBtn",name:we(X?"Update":"Save"),disabled:!1,onClick:()=>{Ze()}}),!e.createEasy&&Y.count>0&&n().createElement(T.Z,{frmctrlid:"fld160L1ECCloseBtn",disabled:!1,onClick:()=>{Oe(),E(!1),j.EditClose(!0)}})):n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld160L1ECSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld160L1ECInputSearch",className:"search_input",type:"text",id:"ConContractServiceLogDetailsgridsearch",placeholder:we("Search"),value:P,onChange:e=>{L(e),j.searchItem(e)}}),n().createElement("div",{className:"search_icon"},P?n().createElement("div",{id:"fld160L1ECCloseIconCommonSearch",onClick:()=>{L(""),j.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld160L1ECInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("ConContractServiceLogDetailsgridsearch").focus()}})))),n().createElement(r.Z,{className:"L1AddBtnCommon",frmctrlid:"fld160L1ECAddBtn",onClick:()=>{Oe(),E(!0)},disabled:!e.parentId})))),n().createElement(p.Z,null,n().createElement("div",{id:"ConContractServiceLogDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"ConContractServiceLogDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"ConContractServiceLogDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":Z.ConServiceLogCode,json:rn,SPName:"ConContractServiceLogDetails",FieldName:"ConServiceLogCode",tfLabel:Ae("ConServiceLogCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>je(e),onClick:()=>{oe&&_e(1,"","ClearAll"),re(!0)},frmctrlid:"fld160_3170",frmctrlidName:"ConServiceLogCode",fieldorder:"1",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{oe&&_e(e,t,"ConServiceLogCode"),Qe(t,"ConServiceLogCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:Z.ConServiceLogCode,loading:q,clear:e=>{e&&(G({type:"text",name:"ConServiceLogCode",value:""}),re(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:Z.ServiceStartDate,"data-testid":Z.ServiceStartDate,disabled:!1,label:n().createElement("span",null,we("ServiceStartDt")),onChange:e=>{G({type:"text",name:"ServiceStartDate",value:e})},onErr:e=>{de(e)},tfLabel:Ae("ServiceStartDate"),frmctrlid:"fld160_3171",frmctrlidName:"ServiceStartDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(Re.Z,{value:Z.ServiceEndDate,"data-testid":Z.ServiceEndDate,disabled:!1,label:n().createElement("span",null,we("ServiceEndDt")),onChange:e=>{G({type:"text",name:"ServiceEndDate",value:e})},onErr:e=>{me(e)},tfLabel:Ae("ServiceEndDate"),frmctrlid:"fld160_3172",frmctrlidName:"ServiceEndDate",fieldorder:"3"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":Z.ServiceAmount,json:rn,SPName:"ConContractServiceLogDetails",FieldName:"ServiceAmount",tfLabel:Ae("ServiceAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>je(e),onClick:()=>{ue&&_e(1,"","ClearAll"),pe(!0)},frmctrlid:"fld160_3173",frmctrlidName:"ServiceAmount",fieldorder:"4",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{ue&&_e(e,t,"ServiceAmount"),Qe(t,"ServiceAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||pe(!0)},showList:ue,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:Z.ServiceAmount,loading:q,clear:e=>{e&&(G({type:"text",name:"ServiceAmount",value:""}),pe(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":Z.NoofEmployee,json:rn,SPName:"ConContractServiceLogDetails",FieldName:"NoofEmployee",tfLabel:Ae("NoofEmployee"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>je(e),onClick:()=>{Ce&&_e(1,"","ClearAll"),ye(!0)},frmctrlid:"fld160_3174",frmctrlidName:"NoofEmployee",fieldorder:"1",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{Ce&&_e(e,t,"NoofEmployee"),Qe(t,"NoofEmployee","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:Z.NoofEmployee,loading:q,clear:e=>{e&&(G({type:"text",name:"NoofEmployee",value:""}),ye(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":Z.FrequencyAmount,json:rn,SPName:"ConContractServiceLogDetails",FieldName:"FrequencyAmount",tfLabel:Ae("FrequencyAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>je(e),onClick:()=>{ge&&_e(1,"","ClearAll"),De(!0)},frmctrlid:"fld160_3175",frmctrlidName:"FrequencyAmount",fieldorder:"2",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{ge&&_e(e,t,"FrequencyAmount"),Qe(t,"FrequencyAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:Z.FrequencyAmount,loading:q,clear:e=>{e&&(G({type:"text",name:"FrequencyAmount",value:""}),De(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":Z.ServiceType,json:rn,SPName:"ConContractServiceLogDetails",FieldName:"ServiceType",tfLabel:Ae("ServiceType"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>je(e),onClick:()=>{Ie&&_e(1,"","ClearAll"),Se(!0)},frmctrlid:"fld160_3176",frmctrlidName:"ServiceType",fieldorder:"3",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{Ie&&_e(e,t,"ServiceType"),Qe(t,"ServiceType","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Se(!0)},showList:Ie,SideEntryView:!1,KeyBack:e=>{},value:Z.ServiceType,loading:q,clear:e=>{e&&(G({type:"text",name:"ServiceType",value:""}),Se(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":Z.ServiceTotal,json:rn,SPName:"ConContractServiceLogDetails",FieldName:"ServiceTotal",tfLabel:Ae("ServiceTotal"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>je(e),onClick:()=>{Ee&&_e(1,"","ClearAll"),fe(!0)},frmctrlid:"fld160_3177",frmctrlidName:"ServiceTotal",fieldorder:"4",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{Ee&&_e(e,t,"ServiceTotal"),Qe(t,"ServiceTotal","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:Ee,SideEntryView:!1,KeyBack:e=>{},value:Z.ServiceTotal,loading:q,clear:e=>{e&&(G({type:"text",name:"ServiceTotal",value:""}),fe(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{"data-testid":Z.FrequencyLink,json:rn,SPName:"ConContractServiceLogDetails",FieldName:"FrequencyLink",tfLabel:Ae("FrequencyLink"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>je(e),onClick:()=>{ve&&_e(1,"","ClearAll"),Ne(!0)},frmctrlid:"fld160_3178",frmctrlidName:"FrequencyLink",fieldorder:"1",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{ve&&_e(e,t,"FrequencyLink"),Qe(t,"FrequencyLink","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ne(!0)},showList:ve,SideEntryView:!1,KeyBack:e=>{},value:Z.FrequencyLink,loading:q,clear:e=>{e&&(G({type:"text",name:"FrequencyLink",value:""}),Ne(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:rn,id:Z.ServiceTypeID,"data-testid":Z.ServiceTypeID,value:Z.ServiceTypeName,SPName:"ConContractServiceLogDetails",FieldName:"ServiceTypeID",tfLabel:Ae("ServiceTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Qe(e,"ServiceTypeID","select"),onChange:(e,t)=>{ze(e,t,"ServiceTypeIDPK")},KeyBack:e=>{Ue("ServiceTypeID")},fieldorder:"2",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:q,SideEntryView:!1,clear:e=>{e&&He("ServiceTypeID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:rn,id:Z.ContractID,"data-testid":Z.ContractID,value:Z.ContractName,SPName:"ConContractServiceLogDetails",FieldName:"ContractID",tfLabel:Ae("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Qe(e,"ContractID","select"),onChange:(e,t)=>{ze(e,t,"ContractIDPK")},KeyBack:e=>{Ue("ContractID")},fieldorder:"3",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:q,SideEntryView:!1,clear:e=>{e&&He("ContractID")}})))),n().createElement("div",{id:"ConContractServiceLogDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("ConContractServiceLogDetailsSideBar").style.width="0",void w(!1))},"×"),x&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},R))))))))}));var sn=a(59067);const mn=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&o()}),[e.id]);const o=()=>{(0,f.Z)(0).then((t=>{(0,E.Z)(t,e.id,160).then((e=>a(e)))}))};return n().createElement("div",null,n().createElement(en.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById("ConContractServiceLogDetailsImgPriv"+e.id).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return n().createElement(tn.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{src:e.ImgPath,alt:e.ImageName}):n().createElement(Xl.Z,{className:"previewFile"}),t.length>1&&n().createElement("div",{className:"Imgbgmstyle"},n().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),n().createElement(D.Z,{id:"ConContractServiceLogDetailsImgPriv"+e.id,data:t}))},un=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[m,y]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[g,D]=(0,l.useState)(!0),[E,v]=(0,l.useState)(e.showDetail),[h,b]=(0,l.useState)(""),[P,L]=n().useState(!1),[x,w]=n().useState(""),[B,A]=n().useState(!1),R=(0,l.useContext)(pn),{cstate:k,cdispatch:Z}=Cn(),[G,q]=(0,l.useState)(!1),[K]=(0,l.useState)(localStorage.getItem("Language")),[V]=(0,l.useState)(localStorage.getItem("Language"));let z=(0,N.Z)(),_=zl();(0,l.useEffect)((()=>{B?m.some((e=>e.ConServiceLogIDPK==k.editData[0].ConServiceLogIDPK))?R.alert({open:!0,color:"error",message:["Data Already Exists"]}):k.editData.length>0&&y(m.concat(k.editData)):k.editData.length>0&&(y(k.editData),L(!1),Z({type:"PrimaryId",payload:k.editData[0].ConServiceLogIDPK}))}),[k.editData]),(0,l.useEffect)((()=>{D(k.ExpandDetailValue)}),[k.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{D(e)},viewtoggle:()=>{L(!1)},viewlistProps:t=>{!function(t){let a=S.v.Api+"FP160Select/",l={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:1,p50:10,p51:k.IsDraft?"DraftConServiceLogID":"ConServiceLogID",p52:null,p53:null,p54:null,p55:null}};(0,f.Z)(0).then((e=>{(0,I.Z)(a,l,e).then((e=>{R.loading(!1),"200"==e.Output.status.code&&y(e.Output.data)}))}))}(t)},clear:()=>{"panel0"===P&&a.current.clear()}})));const Q=e=>z[e],H=e=>_[e],U=(e,t)=>(a,l)=>{w(B?Object.assign(...m.filter((e=>e.ConServiceLogIDPK==t)).map((e=>e))):k.editData),L(!l&&e)},j=(e,t)=>!(!e&&!t),Y=m.map(((t,l)=>n().createElement("div",{key:l},P==="panel"+l?n().createElement(dn,{ref:a,primid:k.PrimaryId,ExpandDetailValue:e.ExpandDetailValue,IsEditOpen:e.IsEditOpen,parentId:e.parentId,parentDatas:e.parentDatas}):n().createElement("div",{index:l,className:"padding paddingLeft width100"},n().createElement(c.Z,{container:!0,style:{borderBottom:"1px solid #dad1d1"}},n().createElement(d.Z,{item:!0,sm:8,md:8,lg:8,xs:8,style:{borderRight:"1px solid #dbe2eb"}},n().createElement(c.Z,{container:!0},n().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"ViewHeadingTitle"},n().createElement("p",null," ",H("ConContractServiceLogDetails")+" "+Q("view"))))),n().createElement(c.Z,{container:!0,style:{padding:"0px 15px"},id:"fld160L1VCContainer"},n().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement(c.Z,{container:!0},n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ConServiceLogCode")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.ConServiceLogCode)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ServiceStartDt")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.ServiceStartDate)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ServiceEndDt")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.ServiceEndDate)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ServiceAmount")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.ServiceAmount)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("NoofEmployee")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.NoofEmployee)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("FrequencyAmount")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.FrequencyAmount)))),n().createElement(d.Z,{item:!0,sm:6,md:6,lg:6,xs:6,style:{borderLeft:"1px solid #e3e4e9",display:"none"}},n().createElement(c.Z,{container:!0},n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ServiceType")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.ServiceType)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ServiceTotal")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.ServiceTotal)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("FrequencyLink")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight"},":  ",t.FrequencyLink)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ServiceTypeName")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight ViewBodyForeignTag",onClick:()=>{t.ServiceTypeID}},": ",t.ServiceTypeName)),n().createElement(d.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},n().createElement("p",{className:"ViewHeadpTag"},H("ContractName")," ")),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},n().createElement("p",{className:"ViewBodypTag ViewHightLight ViewBodyForeignTag",onClick:()=>{t.ContractID}},": ",t.ContractName))))),n().createElement(c.Z,{container:!0},n().createElement(d.Z,{item:!0,sm:3,md:3,lg:3,xs:3},n().createElement(s.Z,{label:Q("Active"),checked:"1"==t.IsActive,onClick:()=>{},disabled:!0})))),n().createElement(d.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{paddingLeft:"2%"}},n().createElement(c.Z,{container:!0},n().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{height:"2rem"}},n().createElement("div",{className:"ViewHeadingTitle",id:"fld160L1VCAttachment"},n().createElement("p",null,Q("Attachment"))),B&&n().createElement("div",{className:"Divbtnpos"},!e.viewonly&&k.AccessRights.IsEdit?n().createElement(M.ZP,{title:Q("Edit")},n().createElement(sn.Z,{className:"EditNewcls",onClick:U("panel"+l,t.ConServiceLogIDPK),formctrlid:"vewmultiicon160"})):k.IsDraft&&k.AccessRights.IsAdd&&n().createElement(M.ZP,{title:Q("Edit")},n().createElement(sn.Z,{className:"EditNewcls",onClick:U("panel"+l,t.ConServiceLogIDPK),formctrlid:"vewdrfmultiicon160"})),n().createElement(M.ZP,{title:Q("Close")},n().createElement(F.Z,{className:"Closesmcls",onClick:()=>{B&&(e=>{if(B){const t=m.filter((t=>t.ConServiceLogIDPK!=e));y(t)}else y([]),D(!1);Z({type:"editData",payload:[]})})(t.ConServiceLogIDPK),D(!1)},formctrlid:"vewmulticlose160"})))),n().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"ViewHeadingTitle",id:"fld160L1VCFiles"},n().createElement("p",{className:"ViewHeadpTag"},Q("Files")))),n().createElement(mn,{id:t.ConServiceLogIDPK}))))))));return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:()=>()=>{e.expandTable&&D(!g)}},!P&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},k.IsDraft?Q("Draft"):"",H("ConContractServiceLogDetails"),e.viewonly?" ":"("+k.count+")")),g?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&k.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld160L1VCEditBtn",onClick:U("panel0",""),disabled:!1}):k.IsDraft&&k.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld160L1VCEditBtnIsAdd",onClick:()=>{U("panel","")},disabled:!1}),!e.viewonly&&k.AccessRights.IsAdd&&n().createElement(r.Z,{name:Q("Add"),frmctrlid:"fld160L1VCAddBtn",className:"L1AddBtnCommon",onClick:()=>{Z({type:"editData",payload:[]}),Z({type:"ShowDetail",payload:!1}),Z({type:"Add",payload:!0})},disabled:j(e.IsEditOpen,e.IsDraftEdit)}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,frmctrlid:"fld160L1VCCloseBtn",onClick:()=>{D(!1),B&&(Z({type:"editData",payload:[]}),y([]))}})):n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld160L1VCsearchbar",className:"searchbar"},n().createElement(O.Z,{frmctrlid:"fld160L1VCInputsearch",className:"search_input",type:"text",placeholder:"Search",value:h,onChange:e=>{b(e),R.searchItem(e)}}),n().createElement("div",{className:"search_icon"},h?n().createElement("div",{id:"fld160L1VCCloseIcon",onClick:()=>{b(""),R.RefreshTable()}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement(ce.Z,{className:"InputSearchIcon"}))),k.AccessRights.IsAdd&&n().createElement(r.Z,{frmctrlid:"fld160L1VCAddBtnIsAdd",className:"L1AddBtnCommon",onClick:()=>{Z({type:"editData",payload:[]}),Z({type:"ShowDetail",payload:!1}),Z({type:"Add",payload:!0})},disabled:j(e.IsEditOpen,e.IsDraftEdit)})))),n().createElement(p.Z,{style:{display:"block"}},Y)))})),pn=(0,l.createContext)(),Cn=()=>{const e=(0,l.useContext)(pn);if(void 0===e)throw new Error("useCont must be used within  ConContractServiceLogDetailsContext Provider");return e},yn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.parentId&&E(e.parentId)}),[e.parentId]),(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divConContractServiceLogDetails-Entry").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainTable").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractServiceLogDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divConContractServiceLogDetails-Entry").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainTable").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractServiceLogDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]);const h=e=>{document.getElementById("divConContractServiceLogDetails-Entry").style.width="100%",document.getElementById("ConContractServiceLogDetailsEntryTable").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainEntry").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainEntry").style.display="block",document.getElementById("ConContractServiceLogDetails-MainDiv").classList.add("displayFlex"),document.getElementById("ConContractServiceLogDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttConContractServiceLogDetails").style.width="0%",document.getElementById("overlayimgAttConContractServiceLogDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),T(e)})),T()}))}),[]);const T=e=>{(0,Ye.Z)(e,156).then((e=>I({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(pn.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Cn,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>a.current.tableRefresh(),searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>h(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayimgAttConContractServiceLogDetails").style.width="25%",document.getElementById("divConContractServiceLogDetails-Entry").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainTable").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainEntry").style.width="100%",document.getElementById("ConContractServiceLogDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("ConContractServiceLogDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttConContractServiceLogDetails").style.display="block"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{D.ShowDetail?i.current.clear(e):r.current.clear(e)}}},n().createElement("div",{id:"ConContractServiceLogDetails-MainDiv",className:"MainDivStyles displayFlex"},n().createElement("div",{id:"ConContractServiceLogDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"ConContractServiceLogDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractServiceLogDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(un,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:S}):null)),n().createElement(je.Z,{ref:d,menurefID:160,fileId:"LogoImgConContractServiceLogDetails",imgloading:e=>p(e),valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractServiceLogDetails",frmctrlid:"PvwIm_160_L1_",tempImg:e=>{c.current.tempImg(e),N(e)}})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divConContractServiceLogDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(dn,{ref:r,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:S}))),n().createElement(je.Z,{ref:d,menurefID:160,fileId:"LogoImgConContractServiceLogDetails",imgloading:e=>p(e),valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewConContractServiceLogDetails",frmctrlid:"PvwIm_160_L1_",tempImg:e=>{c.current.tempImg(e),N(e)}})),n().createElement("div",{id:"ConContractServiceLogDetails-MainTable"},0!==y?n().createElement(Jl,{ref:a,parentId:S,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>h(),menurefID:160,fileId:"AttImgConContractServiceLogDetails",imgid:"overlayimgAttConContractServiceLogDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t)=>{d.current.PriviewItem(e,t)},previd:"overlayPreviewConContractServiceLogDetails",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_160_L1_",timglist:e=>d.current.timglist(e)}))),n().createElement("div",{id:"ConContractServiceLogDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}));var gn=a(25108);const Dn=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:Tn(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP568S3/",g={data:{p1:"FreqLocalityIDPK"==a?null:await we(),p2:"FreqLocalityCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"Hours"==c&&l.length>0?"%"+l+"%":null,p10:"Days"==c&&l.length>0?"%"+l+"%":null,p11:null,p12:null,p13:"FrequencyName"!=c&&d.FrequencyName?d.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p14:e.parentId?e.parentId:"0",p15:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p16:"BuildingName"!=c&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p17:e.Dialogview?"1":null,p18:null,p19:"p19"==c&&l.length>0?l:null,p20:null,p21:null,p22:null,p23:null,p24:"FrequencyCode"==c&&l.length>0?"%"+l+"%":null,p25:"FrequencyName"==c&&l.length>0?"%"+l+"%":null,p26:"ContractGroupName"!=c&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p27:"ContractGroupCode"==c&&l.length>0?"%"+l+"%":null,p28:"ContractGroupName"==c&&l.length>0?"%"+l+"%":null,p29:"TaxName"!=c&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p30:"TaxCode"==c&&l.length>0?"%"+l+"%":null,p31:"TaxName"==c&&l.length>0?"%"+l+"%":null,p32:"TaxValue"==c&&l.length>0?"%"+l+"%":null,p33:"CustomerName"!=c&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p34:"CustomerCode"==c&&l.length>0?"%"+l+"%":null,p35:"CustomerName"==c&&l.length>0?"%"+l+"%":null,p36:"ContractTypeName"!=c&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p37:"ContractTypCode"==c&&l.length>0?"%"+l+"%":null,p38:"ContractTypeName"==c&&l.length>0?"%"+l+"%":null,p39:"ContractCategName"!=c&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p40:"ContractCategCode"==c&&l.length>0?"%"+l+"%":null,p41:"ContractCategName"==c&&l.length>0?"%"+l+"%":null,p42:"ConPaymentTermsName"!=c&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p43:"ConPaymentTermsName"==c&&l.length>0?"%"+l+"%":null,p44:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p45:"ContractName"==c&&l.length>0?"%"+l+"%":null,p46:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p47:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p48:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p49:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p50:"CityCode"==c&&l.length>0?"%"+l+"%":null,p51:"CityName"==c&&l.length>0?"%"+l+"%":null,p52:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p53:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p54:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p55:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p56:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p57:n||1,p58:10,p59:t,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.FreqLocalityIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={FreqLocalityIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",StartDate:l.StartDate?l.StartDate.From:"",StartDateType:l.StartDate?l.StartDate.Type:"",StartDateBetween:l.StartDate?l.StartDate.To:"",EndDate:l.EndDate?l.EndDate.From:"",EndDateType:l.EndDate?l.EndDate.Type:"",EndDateBetween:l.EndDate?l.EndDate.To:"",ContractID:Le("ContractID"),LocalityID:Le("LocalityID"),FrequencyID:Le("FrequencyID"),BuildingID:Le("BuildingID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.FreqLocalityIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.FreqLocalityIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={FreqLocalityIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,StartDate:c.StartDate?c.StartDate.From:"",StartDateType:c.StartDate?c.StartDate.Type:"",StartDateBetween:c.StartDate?c.StartDate.To:"",EndDate:c.EndDate?c.EndDate.From:"",EndDateType:c.EndDate?c.EndDate.Type:"",EndDateBetween:c.EndDate?c.EndDate.To:"",ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),FrequencyID:C.FrequencyName?.map((e=>e.FrequencyIDPK)).toString(),BuildingID:C.BuildingName?.map((e=>e.BuildingIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld568L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld568L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld568L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,gn.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld568L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld568L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld568L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld568L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld568L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld568L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld568L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"FreqLocalityIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterFreqLocalityID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterFreqLocalityID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterFreqLocalityID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),In=Dn;window.clickFilter="";const Sn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("568"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"SchFreqLocality",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:hn),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:Tn();let Pe={FreqLocalityIDPK:"",FreqLocalityCode:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",Hours:"",Days:"",IsDraft:"",Remarks:"",FrequencyID:"",ContractID:"",LocalityID:"",BuildingID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({ContractName:"",LocalityName:"",FrequencyName:"",FreqLocalityCode:"",StartDate:"",EndDate:"",Hours:"",Days:"",BuildingName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("568"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"FreqLocalityID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"FreqLocalityID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"FreqLocalityID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftFreqLocalityID":"FreqLocalityID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP568S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("SchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("SchFreqLocalityTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("SchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("SchFreqLocalitycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchFreqLocalitycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("SchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("SchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("SchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("SchFreqLocalityTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("SchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("SchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP568S3/",c={data:{p1:o||(a&&a.FreqLocalityIDPK?a.FreqLocalityIDPK:null),p2:a&&a.FreqLocalityCode?a.FreqLocalityCode:null,p3:a&&a.StartDate?a.StartDate:null,p4:a&&a.StartDateType?a.StartDateType:null,p5:a&&a.StartDateBetween?a.StartDateBetween:null,p6:a&&a.EndDate?a.EndDate:null,p7:a&&a.EndDateType?a.EndDateType:null,p8:a&&a.EndDateBetween?a.EndDateBetween:null,p9:a&&a.Hours?a.Hours:null,p10:a&&a.Days?a.Days:null,p11:"DraftFreqLocalityID"==l?"1":"0",p12:null,p13:a&&a.FrequencyID?a.FrequencyID:null,p14:e.parentId?Number(e.parentId):0,p15:a&&a.LocalityID?a.LocalityID:null,p16:a&&a.BuildingID?a.BuildingID:null,p17:a&&a.IsActive,p18:null,p19:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p20:a&&a.CreatedTtm?a.CreatedTtm:null,p21:a&&a.CreatedTtmType?a.CreatedTtmType:null,p22:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p23:null,p24:a&&a.FrequencyCode?a.FrequencyCode:null,p25:a&&a.FrequencyName?a.FrequencyName:null,p26:a&&a.ContractGroupID?a.ContractGroupID:null,p27:a&&a.ContractGroupCode?a.ContractGroupCode:null,p28:a&&a.ContractGroupName?a.ContractGroupName:null,p29:a&&a.TaxID?a.TaxID:null,p30:a&&a.TaxCode?a.TaxCode:null,p31:a&&a.TaxName?a.TaxName:null,p32:a&&a.TaxValue?a.TaxValue:null,p33:a&&a.CustomerID?a.CustomerID:null,p34:a&&a.CustomerCode?a.CustomerCode:null,p35:a&&a.CustomerName?a.CustomerName:null,p36:a&&a.ContractTypeID?a.ContractTypeID:null,p37:a&&a.ContractTypCode?a.ContractTypCode:null,p38:a&&a.ContractTypeName?a.ContractTypeName:null,p39:a&&a.ContractCategID?a.ContractCategID:null,p40:a&&a.ContractCategCode?a.ContractCategCode:null,p41:a&&a.ContractCategName?a.ContractCategName:null,p42:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p43:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p44:a&&a.ContractCode?a.ContractCode:null,p45:a&&a.ContractName?a.ContractName:null,p46:a&&a.LocalityGroupID?a.LocalityGroupID:null,p47:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p48:a&&a.LocalityGroupName?a.LocalityGroupName:null,p49:a&&a.CityID?a.CityID:null,p50:a&&a.CityCode?a.CityCode:null,p51:a&&a.CityName?a.CityName:null,p52:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p53:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p54:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p55:a&&a.LocalityCode?a.LocalityCode:null,p56:a&&a.LocalityName?a.LocalityName:null,p57:o?1:t.current,p58:t.pageSize,p59:l,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divSchFreqLocality-Entry").style.height="auto",document.getElementById("divSchFreqLocality-Entry").style.display="block")}else he.loading(!1),"DraftFreqLocalityID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP568S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_568_L1_",id:"SchFreqLocalityTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftFreqLocalityID":"FreqLocalityID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftFreqLocalityID":"FreqLocalityID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld568L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld568L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld568L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld568L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("SchFreqLocalitygridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld568L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[568]"},`${Et("568")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld568L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld568L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld568L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld568L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"SchFreqLocality-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld568L1TCFilterDataIsDraft",id:"SchFreqLocalityfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld568L1TCExportPrint",formctrlidexport:"fld568L1TCExportTable",formctrlidrefresh:"fld568L1TCExportRefresh",title:Et("568"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP568S3/",c={data:{p1:t&&t.FreqLocalityIDPK?t.FreqLocalityIDPK:null,p2:t&&t.FreqLocalityCode?t.FreqLocalityCode:null,p3:t&&t.StartDate?t.StartDate:null,p4:t&&t.StartDateType?t.StartDateType:null,p5:t&&t.StartDateBetween?t.StartDateBetween:null,p6:t&&t.EndDate?t.EndDate:null,p7:t&&t.EndDateType?t.EndDateType:null,p8:t&&t.EndDateBetween?t.EndDateBetween:null,p9:t&&t.Hours?t.Hours:null,p10:t&&t.Days?t.Days:null,p11:Fe?"1":"0",p12:null,p13:t&&t.FrequencyID?t.FrequencyID:null,p14:e.parentId?Number(e.parentId):0,p15:t&&t.LocalityID?t.LocalityID:null,p16:t&&t.BuildingID?t.BuildingID:null,p17:t&&t.IsActive,p18:null,p19:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p20:t&&t.CreatedTtm?t.CreatedTtm:null,p21:t&&t.CreatedTtmType?t.CreatedTtmType:null,p22:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p23:null,p24:t&&t.FrequencyCode?t.FrequencyCode:null,p25:t&&t.FrequencyName?t.FrequencyName:null,p26:t&&t.ContractGroupID?t.ContractGroupID:null,p27:t&&t.ContractGroupCode?t.ContractGroupCode:null,p28:t&&t.ContractGroupName?t.ContractGroupName:null,p29:t&&t.TaxID?t.TaxID:null,p30:t&&t.TaxCode?t.TaxCode:null,p31:t&&t.TaxName?t.TaxName:null,p32:t&&t.TaxValue?t.TaxValue:null,p33:t&&t.CustomerID?t.CustomerID:null,p34:t&&t.CustomerCode?t.CustomerCode:null,p35:t&&t.CustomerName?t.CustomerName:null,p36:t&&t.ContractTypeID?t.ContractTypeID:null,p37:t&&t.ContractTypCode?t.ContractTypCode:null,p38:t&&t.ContractTypeName?t.ContractTypeName:null,p39:t&&t.ContractCategID?t.ContractCategID:null,p40:t&&t.ContractCategCode?t.ContractCategCode:null,p41:t&&t.ContractCategName?t.ContractCategName:null,p42:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p43:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p44:t&&t.ContractCode?t.ContractCode:null,p45:t&&t.ContractName?t.ContractName:null,p46:t&&t.LocalityGroupID?t.LocalityGroupID:null,p47:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p48:t&&t.LocalityGroupName?t.LocalityGroupName:null,p49:t&&t.CityID?t.CityID:null,p50:t&&t.CityCode?t.CityCode:null,p51:t&&t.CityName?t.CityName:null,p52:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p53:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p54:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p55:t&&t.LocalityCode?t.LocalityCode:null,p56:t&&t.LocalityName?t.LocalityName:null,p57:L.current,p58:h,p59:Fe?"DraftFreqLocalityID":"FreqLocalityID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(568)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftFreqLocalityID"):Tt({current:1,pageSize:100},Pe,"FreqLocalityID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld568L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld568L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld568L1TCFilterDataIsAdd",id:"SchFreqLocalitycoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("SchFreqLocalityFilterDiv").style.width="0%",document.getElementById("SchFreqLocalityTabDiv").style.width="100%",document.getElementById("SchFreqLocalityFilterDiv").style.display="none",document.getElementById("SchFreqLocalitycoldiv").style.width="fit-content",document.getElementById("SchFreqLocalitycoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("SchFreqLocalityFilterDiv").style.width="25%",document.getElementById("SchFreqLocalityTabDiv").style.width="75%",document.getElementById("SchFreqLocalityFilterDiv").style.display="block",document.getElementById("SchFreqLocalityfildiv").style.width="fit-content",document.getElementById("SchFreqLocalityfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("SchFreqLocalitycoldiv").style.width="fit-content",document.getElementById("SchFreqLocalitycoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"SchFreqLocalitycoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld568L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"FreqLocalityID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld568L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld568L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftFreqLocalityID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("SchFreqLocalityFilterDiv").style.width="0%",document.getElementById("SchFreqLocalityTabDiv").style.width="100%",document.getElementById("SchFreqLocalityFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld568L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld568L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld568L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld568L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld568L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld568L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftFreqLocalityID":"FreqLocalityID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftFreqLocalityID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"FreqLocalityID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld568L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftFreqLocalityID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"FreqLocalityID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"SchFreqLocality-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"SchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(In,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"FreqLocalityID")},frmctrlid:"fld568L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"SchFreqLocalityTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld568L1TCExpandedCardDual",data:K,id:"SchFreqLocality",title:"FreqLocalityCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),En={EnterKeyValues:{SchFreqLocality:["ContractName","LocalityName","FrequencyName","FreqLocalityCode","StartDate","EndDate","Hours","Days","BuildingName"]},Label:{SchFreqLocality:{ContractID:["FreqLocalityCode"],LocalityID:["LocalityCode","LocalityName"],FrequencyID:["FrequencyCode","FrequencyName"],FreqLocalityCode:["FreqLocalityCode"],StartDate:["FreqLocalityCode"],EndDate:["FreqLocalityCode"],Hours:["FreqLocalityCode"],Days:["FreqLocalityCode"],BuildingID:["FreqLocalityCode"]}},LabelHeader:{SchFreqLocality:{ContractID:["FreqLocalityCode"],LocalityID:["Location Code","Location Name"],FrequencyID:["Frequency Code","Frequency Name"],FreqLocalityCode:["Freq Locality Code"],StartDate:["Freq Locality Code"],EndDate:["Freq Locality Code"],Hours:["Freq Locality Code"],Days:["Freq Locality Code"],BuildingID:["FreqLocalityCode"]}},Property:{SchFreqLocality:{ContractID:{id:"fld568_11093",clearID:"SchFreqLocalityContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},LocalityID:{id:"fld568_11094",clearID:"SchFreqLocalityLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},FrequencyID:{id:"fld568_11092",clearID:"SchFreqLocalityFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},FreqLocalityCode:{id:"fld568_11087",labelID:"FreqLocalityCode",maxLength:"50",labelname:"Freq Locality Code",frmctrlid:"fld568_11087",frmctrlidname:"FreqLocalityCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StartDate:{id:"fld568_11088",labelID:"StartDate",maxLength:"",labelname:"Start Date",frmctrlid:"fld568_11088",frmctrlidname:"StartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EndDate:{id:"fld568_11089",labelID:"EndDate",maxLength:"",labelname:"End Date",frmctrlid:"fld568_11089",frmctrlidname:"EndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Hours:{id:"fld568_11090",labelID:"Hours",maxLength:"",labelname:"Hours",frmctrlid:"fld568_11090",frmctrlidname:"Hours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Days:{id:"fld568_11091",labelID:"Days",maxLength:"",labelname:"Days",frmctrlid:"fld568_11091",frmctrlidname:"Days",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BuildingID:{id:"fld568_14346",clearID:"SchFreqLocalityBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"BuildingID",fielddisplayname:"BuildingName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{SchFreqLocality:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"]}}},fn={FreqLocalityIDPK:"",FreqLocalityCode:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",Hours:"",Days:"",IsDraft:!1,Remarks:"",FrequencyID:null,ContractID:null,LocalityID:null,BuildingID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",Type:"FreqLocalityID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},vn=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,fn),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:hn),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:Tn(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("568"),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!0),[ue,pe]=(0,l.useState)(!1);let Ce=(0,N.Z)();const[ge,De]=(0,l.useState)({}),Ie=e=>Ce[e]?Ce[e]:e,Se=t=>U.language?.[t]?U.language[t]:e.createEasy?ge?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ne()}),[]),(0,l.useEffect)((()=>{Ne()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(ve(U.editData[0],""),D(!0)):U.Add&&(Ne(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),De(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Ve(t),D(e)):(Ne(),D(e))},AddOpen:e=>{Ne(),D(!0)}})));const Ee=e=>e?e.split("-").reverse().join("-"):null,fe=e=>{if(e){let t=Ee(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},ve=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultFreqLocalityID"==a?J(t.FreqLocalityIDPK):(W(e.primid?Number(e.primid):t.FreqLocalityIDPK?t.FreqLocalityIDPK:0),j({type:"PrimaryId",payload:t.FreqLocalityIDPK})),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"FrequencyID",number:t.FrequencyID?Number(t.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:t.FrequencyName}),O({type:"text",name:"FreqLocalityCode",value:t.FreqLocalityCode?t.FreqLocalityCode:""}),O({type:"text",name:"StartDate",value:t.StartDate?Ee(t.StartDate):null}),O({type:"text",name:"EndDate",value:t.EndDate?Ee(t.EndDate):null}),O({type:"number",name:"Hours",number:t.Hours}),O({type:"number",name:"Days",number:t.Days}),O({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),O({type:"text",name:"BuildingName",value:t.BuildingName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Ne=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("SchFreqLocalityContractNameClear")&&document.getElementById("SchFreqLocalityContractNameClear").click(),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("SchFreqLocalityLocalityNameClear")&&document.getElementById("SchFreqLocalityLocalityNameClear").click(),O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("SchFreqLocalityFrequencyNameClear")&&document.getElementById("SchFreqLocalityFrequencyNameClear").click(),O({type:"text",name:"FreqLocalityCode",value:""}),O({type:"text",name:"StartDate",value:""}),O({type:"text",name:"EndDate",value:""}),O({type:"number",name:"Hours",number:0}),O({type:"number",name:"Days",number:0}),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("SchFreqLocalityBuildingNameClear")&&document.getElementById("SchFreqLocalityBuildingNameClear").click(),y(!0),P(""),le(!0),de(!0),me(!0)},he=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP568S2/",l={data:[{p1:"SetDefaultFreqLocalityID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:ze(k.FreqLocalityCode),p3:k.StartDate?fe(k.StartDate):null,p4:k.EndDate?fe(k.EndDate):null,p5:k.Hours?Number(k.Hours):0,p6:k.Days?Number(k.Days):0,p7:!1,p8:"SetDefaultFreqLocalityID"==t?"SetDefault":null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:s,p14:"SetDefaultFreqLocalityID"==t,p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{le(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP568S1/",l={data:[{p1:Y,p2:ze(k.FreqLocalityCode),p3:k.StartDate?fe(k.StartDate):null,p4:k.EndDate?fe(k.EndDate):null,p5:k.Hours?Number(k.Hours):0,p6:k.Days?Number(k.Days):0,p7:!1,p8:null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:s,p14:!1,p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttSchFreqLocality"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Ne(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttSchFreqLocality")&&(document.getElementById("overlayimgAttSchFreqLocality").style.width="0%",document.getElementById("overlayimgAttSchFreqLocality").style.display="none",document.getElementById("divSchFreqLocality-Entry").style.width="100%"),e.createEasy||(document.getElementById("SchFreqLocality-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function Te(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[Ie("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[Ie("Please enter the primary fields")]}),!1;{le(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP568S1/",l={data:[{p1:"SetDefaultFreqLocalityID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:ze(k.FreqLocalityCode),p3:k.StartDate?fe(k.StartDate):null,p4:k.EndDate?fe(k.EndDate):null,p5:k.Hours?Number(k.Hours):0,p6:k.Days?Number(k.Days):0,p7:!0,p8:"SetDefaultFreqLocalityID"==n?"SetDefault":null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:!1,p14:"SetDefaultFreqLocalityID"==n,p15:localStorage.getItem("userid"),p16:V()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[Ie("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[Ie("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),Ne(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function be(e){return CreateEasy(e,U,j,H,X),!1}function Le(e,a){return AdvanceSearch(e,a,hn,Tn(),Ze,t),!1}const Ae=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP568S3/",c={data:{p1:null,p2:null,p3:k.StartDate?k.StartDate:null,p4:null,p5:null,p6:k.EndDate?k.EndDate:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:"0"==k.FrequencyID?null:k.FrequencyID,p14:e.parentId?Number(e.parentId):0,p15:"0"==k.LocalityID?null:k.LocalityID,p16:"0"==k.BuildingID?null:k.BuildingID,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==k.ContractGroupID?null:k.ContractGroupID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==k.TaxID?null:k.TaxID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.CustomerID?null:k.CustomerID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.ContractTypeID?null:k.ContractTypeID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.ContractCategID?null:k.ContractCategID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==k.ConPaymentTermsID?null:k.ConPaymentTermsID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==k.CityID?null:k.CityID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:t,p58:10,p59:l,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultFreqLocalityID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultFreqLocalityID"==l&&(e>0?ve(n[0],"SetDefaultFreqLocalityID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},ke=(t,l,n)=>{const o=S.v.Api+"FP568S3/",r={data:{p1:null,p2:"FreqLocalityCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"Hours"==n&&l?"%"+l+"%":null,p10:"Days"==n&&l?"%"+l+"%":null,p11:null,p12:null,p13:null,p14:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p15:null,p16:null,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:t,p58:10,p59:"FreqLocalityID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("FreqLocalityCode"==n&&le(e>0),"Hours"==n&&de(e>0),"Days"==n&&me(e>0),K(l)):("FreqLocalityCode"==n&&le(!0),"Hours"==n&&de(!0),"Days"==n&&me(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ze=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("ContractID"==t||("LocalityID"==t?(O({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"FrequencyID"==t&&(O({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null}))))}),[k]);function Ge(e){if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("SchFreqLocalityLocalityNameClear")&&document.getElementById("SchFreqLocalityLocalityNameClear").click()}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("SchFreqLocalityFrequencyNameClear")&&document.getElementById("SchFreqLocalityFrequencyNameClear").click()}else if("BuildingID"==e&&!k.BuildingID)return!1}function qe(e){if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e){if(!k.LocalityID)return!1;O({type:"text",name:"LocalityID",value:null})}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null})}else if("BuildingID"==e&&!k.BuildingID)return!1}const Ke=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ve(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("No"),showCancel:!0},Ie("Do you want to update this record?")))};function Ve(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.FreqLocalityIDPK)?Number(e.FreqLocalityIDPK):0),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""}),O({type:"text",name:"FreqLocalityCode",value:e.FreqLocalityCode?e.FreqLocalityCode:""}),O({type:"text",name:"StartDate",value:e.StartDate?Ee(e.StartDate):null}),O({type:"text",name:"EndDate",value:e.EndDate?Ee(e.EndDate):null}),O({type:"text",name:"Hours",value:e.Hours?e.Hours:""}),O({type:"text",name:"Days",value:e.Days?e.Days:""}),O({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""})}const ze=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[568]"}," ",Ie("Add "),Se("568")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld568L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:Ie(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld568L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ne()},id:"fld568L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld568L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Te("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Te()},frmctrlid:"fld568L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld568L1ECSaveBtnIsAdd",name:Ie(Y?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?k.LocalityID&&0!=k.LocalityID?k.FrequencyID&&0!=k.FrequencyID?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ie("Are you sure?"),onConfirm:()=>he(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("Cancel"),showCancel:!0},Ie(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("FrequencyID")]}):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("LocalityID")]}):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("ContractID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld568L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ne(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"SchFreqLocality-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"SchFreqLocality-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"SchFreqLocality-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:En,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"SchFreqLocality",FieldName:"ContractID",tfLabel:Se("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ze(e,"ContractID","select"),onChange:(e,t)=>{Ae(e,t,"ContractIDPK")},KeyBack:e=>{qe("ContractID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("156")},Tabledialog:()=>Le("156","ContractID"),loading:Z,clear:e=>{e&&Ge("ContractID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:En,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,SPName:"SchFreqLocality",FieldName:"LocalityID",tfLabel:Se("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ze(e,"LocalityID","select"),onChange:(e,t)=>{Ae(e,t,"LocalityIDPK")},KeyBack:e=>{qe("LocalityID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("12")},Tabledialog:()=>Le("12","LocalityID"),loading:Z,clear:e=>{e&&Ge("LocalityID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:En,id:k.FrequencyID,"data-testid":k.FrequencyID,value:k.FrequencyName,SPName:"SchFreqLocality",FieldName:"FrequencyID",tfLabel:Se("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ze(e,"FrequencyID","select"),onChange:(e,t)=>{Ae(e,t,"FrequencyIDPK")},KeyBack:e=>{qe("FrequencyID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("457")},Tabledialog:()=>Le("457","FrequencyID"),loading:Z,clear:e=>{e&&Ge("FrequencyID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.FreqLocalityCode,json:En,SPName:"SchFreqLocality",FieldName:"FreqLocalityCode",tfLabel:Se("FreqLocalityCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ke(t),onClick:()=>{ae&&ke(1,"","ClearAll"),le(!0)},frmctrlid:"fld568_11087",frmctrlidName:"FreqLocalityCode",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ae&&ke(e,t,"FreqLocalityCode"),Ze(t,"FreqLocalityCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.FreqLocalityCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"FreqLocalityCode",value:""}),le(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{value:k.StartDate,"data-testid":k.StartDate,disabled:!1,onChange:e=>{Ze(e,"StartDate","date")},onErr:e=>{oe(e)},label:Se("StartDate"),frmctrlid:"fld568_11088",frmctrlidName:"StartDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{value:k.EndDate,"data-testid":k.EndDate,disabled:!1,onChange:e=>{Ze(e,"EndDate","date")},onErr:e=>{ie(e)},label:Se("EndDate"),frmctrlid:"fld568_11089",frmctrlidName:"EndDate",fieldorder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.Hours,json:En,SPName:"SchFreqLocality",FieldName:"Hours",tfLabel:Se("Hours"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ke(t),onClick:()=>{ce&&ke(1,"","ClearAll"),de(!0)},frmctrlid:"fld568_11090",frmctrlidName:"Hours",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ce&&ke(e,t,"Hours"),Ze(t,"Hours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.Hours,loading:Z,clear:e=>{e&&(O({type:"text",name:"Hours",value:""}),de(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.Days,json:En,SPName:"SchFreqLocality",FieldName:"Days",tfLabel:Se("Days"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ke(t),onClick:()=>{se&&ke(1,"","ClearAll"),me(!0)},frmctrlid:"fld568_11091",frmctrlidName:"Days",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{se&&ke(e,t,"Days"),Ze(t,"Days","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:k.Days,loading:Z,clear:e=>{e&&(O({type:"text",name:"Days",value:""}),me(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:En,id:k.BuildingID,"data-testid":k.BuildingID,value:k.BuildingName,SPName:"SchFreqLocality",FieldName:"BuildingID",tfLabel:Se("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ze(e,"BuildingID","select"),onChange:(e,t)=>{Ae(e,t,"BuildingIDPK")},KeyBack:e=>{qe("BuildingID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("30")},Tabledialog:()=>Le("30","BuildingID"),loading:Z,clear:e=>{e&&Ge("BuildingID")}})))),n().createElement("div",{id:"SchFreqLocalitySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("SchFreqLocalitySideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Nn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(hn),{cstate:B,cdispatch:F}=Tn(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].FreqLocalityIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP568S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:1,p58:10,p59:B.IsDraft?"DraftFreqLocalityID":"FreqLocalityID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.FreqLocalityIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("SchFreqLocality"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld568L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld568L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld568L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld568L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(vn,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"SchFreqLocality",tableID:568,parentID:t.FreqLocalityIDPK,fldid:"fld568L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[568]"}))))))))})),hn=(0,l.createContext)(),Tn=()=>{const e=(0,l.useContext)(hn);if(void 0===e)throw new Error("useCont must be used within  SchFreqLocalityContext Provider");return e},bn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divSchFreqLocality-Entry").style.width="100%",document.getElementById("SchFreqLocality-MainTable").style.width="100%",document.getElementById("SchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("SchFreqLocality-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divSchFreqLocality-Entry").style.width="100%",document.getElementById("SchFreqLocality-MainTable").style.width="100%",document.getElementById("SchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("SchFreqLocality-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divSchFreqLocality-Entry").style.width="100%",document.getElementById("SchFreqLocalityEntryTable").style.width="100%",document.getElementById("SchFreqLocality-MainEntry").style.width="100%",document.getElementById("SchFreqLocality-MainEntry").style.display="block",document.getElementById("SchFreqLocality-MainDiv").classList.add("displayFlex"),document.getElementById("SchFreqLocality-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttSchFreqLocality").style.width="0%",document.getElementById("overlayimgAttSchFreqLocality").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(hn.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Tn,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewSchFreqLocality").style.width="50%",document.getElementById("divSchFreqLocality-Entry").style.width="100%",document.getElementById("SchFreqLocality-MainTable").style.width="100%",document.getElementById("SchFreqLocality-MainEntry").style.width="100%",document.getElementById("SchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("SchFreqLocality-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttSchFreqLocality").style.display="block",document.getElementById("overlayimgAttSchFreqLocality").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"SchFreqLocality-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"SchFreqLocality-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"SchFreqLocalityEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divSchFreqLocality-Entry",style:{width:"100%"}},0!==y?n().createElement(Nn,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:568,fileId:"LogoImgSchFreqLocality",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewSchFreqLocality",frmctrlid:"PvwIm_568_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divSchFreqLocality-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(vn,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:568,fileId:"LogoImgSchFreqLocality",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewSchFreqLocality",frmctrlid:"PvwIm_568_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"SchFreqLocality-MainTable"},0!==y?n().createElement(Sn,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:568,fileId:"AttImgSchFreqLocality",imgid:"overlayimgAttSchFreqLocality",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewSchFreqLocality",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_568_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"SchFreqLocality-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:568,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Pn=a(25108);const Ln=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:kn(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP505S3/",g={data:{p1:"PPMSBFreqLocalityIDPK"==a?null:await we(),p2:"PPMSBFreqLocalityCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"PPMSBHours"==c&&l.length>0?"%"+l+"%":null,p10:"PPMSBDays"==c&&l.length>0?"%"+l+"%":null,p11:null,p12:null,p13:"FrequencyName"!=c&&d.FrequencyName?d.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p14:e.parentId?e.parentId:"0",p15:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p16:"BuildingName"!=c&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p17:"FloorName"!=c&&d.FloorName?d.FloorName.map((e=>e.FloorIDPK)).toString():null,p18:"SpotName"!=c&&d.SpotName?d.SpotName.map((e=>e.SpotIDPK)).toString():null,p19:"ServiceTypeName"!=c&&d.ServiceTypeName?d.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p20:e.Dialogview?"1":null,p21:null,p22:"p22"==c&&l.length>0?l:null,p23:null,p24:null,p25:null,p26:null,p27:"FrequencyCode"==c&&l.length>0?"%"+l+"%":null,p28:"FrequencyName"==c&&l.length>0?"%"+l+"%":null,p29:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p30:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p31:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p32:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p33:"CityCode"==c&&l.length>0?"%"+l+"%":null,p34:"CityName"==c&&l.length>0?"%"+l+"%":null,p35:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p36:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p37:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p38:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p39:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p40:"ServiceTypCode"==c&&l.length>0?"%"+l+"%":null,p41:"ServiceTypeName"==c&&l.length>0?"%"+l+"%":null,p42:n||1,p43:10,p44:t,p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await y((e=>(a=e,e)));let n=[...ee],o=[];for(let e of n){let t=a[e]?.map((e=>e.PPMSBFreqLocalityIDPK)).toString();t&&o.push(t)}await z((e=>(l=e,e)));let r={PPMSBFreqLocalityIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMSBStartDate:l.PPMSBStartDate?l.PPMSBStartDate.From:"",PPMSBStartDateType:l.PPMSBStartDate?l.PPMSBStartDate.Type:"",PPMSBStartDateBetween:l.PPMSBStartDate?l.PPMSBStartDate.To:"",PPMSBEndDate:l.PPMSBEndDate?l.PPMSBEndDate.From:"",PPMSBEndDateType:l.PPMSBEndDate?l.PPMSBEndDate.Type:"",PPMSBEndDateBetween:l.PPMSBEndDate?l.PPMSBEndDate.To:"",ContractID:Le("ContractID"),LocalityID:Le("LocalityID"),BuildingID:Le("BuildingID"),FloorID:Le("FloorID"),SpotID:Le("SpotID"),FrequencyID:Le("FrequencyID"),ServiceTypeID:Le("ServiceTypeID")};"saveFav"==t?Ae("save",r):(e.searchData(r),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBFreqLocalityIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.PPMSBFreqLocalityIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={PPMSBFreqLocalityIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,PPMSBStartDate:c.PPMSBStartDate?c.PPMSBStartDate.From:"",PPMSBStartDateType:c.PPMSBStartDate?c.PPMSBStartDate.Type:"",PPMSBStartDateBetween:c.PPMSBStartDate?c.PPMSBStartDate.To:"",PPMSBEndDate:c.PPMSBEndDate?c.PPMSBEndDate.From:"",PPMSBEndDateType:c.PPMSBEndDate?c.PPMSBEndDate.Type:"",PPMSBEndDateBetween:c.PPMSBEndDate?c.PPMSBEndDate.To:"",ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),BuildingID:C.BuildingName?.map((e=>e.BuildingIDPK)).toString(),FloorID:C.FloorName?.map((e=>e.FloorIDPK)).toString(),SpotID:C.SpotName?.map((e=>e.SpotIDPK)).toString(),FrequencyID:C.FrequencyName?.map((e=>e.FrequencyIDPK)).toString(),ServiceTypeID:C.ServiceTypeName?.map((e=>e.ServiceTypeIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld505L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld505L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld505L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Pn.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld505L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld505L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld505L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld505L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),ye(""),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld505L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld505L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld505L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBFreqLocalityIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBFreqLocalityID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBFreqLocalityID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterPPMSBFreqLocalityID",a),xe("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),xn=Ln;window.clickFilter="";const wn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("505"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"PPMSBSchFreqLocality",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:Rn),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:kn();let Pe={PPMSBFreqLocalityIDPK:"",PPMSBFreqLocalityCode:"",PPMSBStartDate:"",PPMSBStartDateType:"",PPMSBStartDateBetween:"",PPMSBEndDate:"",PPMSBEndDateType:"",PPMSBEndDateBetween:"",PPMSBHours:"",PPMSBDays:"",IsDraft:"",Remarks:"",FrequencyID:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",ServiceTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",ServiceTypCode:"",ServiceTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({PPMSBFreqLocalityCode:"",PPMSBStartDate:"",PPMSBEndDate:"",PPMSBHours:"",PPMSBDays:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",FrequencyName:"",ServiceTypeName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("505"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"PPMSBFreqLocalityID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"PPMSBFreqLocalityID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"PPMSBFreqLocalityID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftPPMSBFreqLocalityID":"PPMSBFreqLocalityID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP505S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("PPMSBSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBSchFreqLocalityTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("PPMSBSchFreqLocalitycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchFreqLocalitycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBSchFreqLocalityTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("PPMSBSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP505S3/",c={data:{p1:o||(a&&a.PPMSBFreqLocalityIDPK?a.PPMSBFreqLocalityIDPK:null),p2:a&&a.PPMSBFreqLocalityCode?a.PPMSBFreqLocalityCode:null,p3:a&&a.PPMSBStartDate?a.PPMSBStartDate:null,p4:a&&a.PPMSBStartDateType?a.PPMSBStartDateType:null,p5:a&&a.PPMSBStartDateBetween?a.PPMSBStartDateBetween:null,p6:a&&a.PPMSBEndDate?a.PPMSBEndDate:null,p7:a&&a.PPMSBEndDateType?a.PPMSBEndDateType:null,p8:a&&a.PPMSBEndDateBetween?a.PPMSBEndDateBetween:null,p9:a&&a.PPMSBHours?a.PPMSBHours:null,p10:a&&a.PPMSBDays?a.PPMSBDays:null,p11:"DraftPPMSBFreqLocalityID"==l?"1":"0",p12:null,p13:a&&a.FrequencyID?a.FrequencyID:null,p14:e.parentId?Number(e.parentId):0,p15:a&&a.LocalityID?a.LocalityID:null,p16:a&&a.BuildingID?a.BuildingID:null,p17:a&&a.FloorID?a.FloorID:null,p18:a&&a.SpotID?a.SpotID:null,p19:a&&a.ServiceTypeID?a.ServiceTypeID:null,p20:a&&a.IsActive,p21:null,p22:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p23:a&&a.CreatedTtm?a.CreatedTtm:null,p24:a&&a.CreatedTtmType?a.CreatedTtmType:null,p25:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p26:null,p27:a&&a.FrequencyCode?a.FrequencyCode:null,p28:a&&a.FrequencyName?a.FrequencyName:null,p29:a&&a.LocalityGroupID?a.LocalityGroupID:null,p30:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p31:a&&a.LocalityGroupName?a.LocalityGroupName:null,p32:a&&a.CityID?a.CityID:null,p33:a&&a.CityCode?a.CityCode:null,p34:a&&a.CityName?a.CityName:null,p35:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p36:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p37:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p38:a&&a.LocalityCode?a.LocalityCode:null,p39:a&&a.LocalityName?a.LocalityName:null,p40:a&&a.ServiceTypCode?a.ServiceTypCode:null,p41:a&&a.ServiceTypeName?a.ServiceTypeName:null,p42:o?1:t.current,p43:t.pageSize,p44:l,p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBSchFreqLocality-Entry").style.height="auto",document.getElementById("divPPMSBSchFreqLocality-Entry").style.display="block")}else he.loading(!1),"DraftPPMSBFreqLocalityID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP505S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_505_L1_",id:"PPMSBSchFreqLocalityTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftPPMSBFreqLocalityID":"PPMSBFreqLocalityID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftPPMSBFreqLocalityID":"PPMSBFreqLocalityID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld505L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld505L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld505L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld505L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBSchFreqLocalitygridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld505L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[505]"},`${Et("505")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld505L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld505L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld505L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld505L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"PPMSBSchFreqLocality-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld505L1TCFilterDataIsDraft",id:"PPMSBSchFreqLocalityfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld505L1TCExportPrint",formctrlidexport:"fld505L1TCExportTable",formctrlidrefresh:"fld505L1TCExportRefresh",title:Et("505"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP505S3/",c={data:{p1:t&&t.PPMSBFreqLocalityIDPK?t.PPMSBFreqLocalityIDPK:null,p2:t&&t.PPMSBFreqLocalityCode?t.PPMSBFreqLocalityCode:null,p3:t&&t.PPMSBStartDate?t.PPMSBStartDate:null,p4:t&&t.PPMSBStartDateType?t.PPMSBStartDateType:null,p5:t&&t.PPMSBStartDateBetween?t.PPMSBStartDateBetween:null,p6:t&&t.PPMSBEndDate?t.PPMSBEndDate:null,p7:t&&t.PPMSBEndDateType?t.PPMSBEndDateType:null,p8:t&&t.PPMSBEndDateBetween?t.PPMSBEndDateBetween:null,p9:t&&t.PPMSBHours?t.PPMSBHours:null,p10:t&&t.PPMSBDays?t.PPMSBDays:null,p11:Fe?"1":"0",p12:null,p13:t&&t.FrequencyID?t.FrequencyID:null,p14:e.parentId?Number(e.parentId):0,p15:t&&t.LocalityID?t.LocalityID:null,p16:t&&t.BuildingID?t.BuildingID:null,p17:t&&t.FloorID?t.FloorID:null,p18:t&&t.SpotID?t.SpotID:null,p19:t&&t.ServiceTypeID?t.ServiceTypeID:null,p20:t&&t.IsActive,p21:null,p22:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p23:t&&t.CreatedTtm?t.CreatedTtm:null,p24:t&&t.CreatedTtmType?t.CreatedTtmType:null,p25:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p26:null,p27:t&&t.FrequencyCode?t.FrequencyCode:null,p28:t&&t.FrequencyName?t.FrequencyName:null,p29:t&&t.LocalityGroupID?t.LocalityGroupID:null,p30:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p31:t&&t.LocalityGroupName?t.LocalityGroupName:null,p32:t&&t.CityID?t.CityID:null,p33:t&&t.CityCode?t.CityCode:null,p34:t&&t.CityName?t.CityName:null,p35:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p36:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p37:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p38:t&&t.LocalityCode?t.LocalityCode:null,p39:t&&t.LocalityName?t.LocalityName:null,p40:t&&t.ServiceTypCode?t.ServiceTypCode:null,p41:t&&t.ServiceTypeName?t.ServiceTypeName:null,p42:L.current,p43:h,p44:Fe?"DraftPPMSBFreqLocalityID":"PPMSBFreqLocalityID",p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(505)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftPPMSBFreqLocalityID"):Tt({current:1,pageSize:100},Pe,"PPMSBFreqLocalityID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld505L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld505L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld505L1TCFilterDataIsAdd",id:"PPMSBSchFreqLocalitycoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("PPMSBSchFreqLocalityFilterDiv").style.width="0%",document.getElementById("PPMSBSchFreqLocalityTabDiv").style.width="100%",document.getElementById("PPMSBSchFreqLocalityFilterDiv").style.display="none",document.getElementById("PPMSBSchFreqLocalitycoldiv").style.width="fit-content",document.getElementById("PPMSBSchFreqLocalitycoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("PPMSBSchFreqLocalityFilterDiv").style.width="25%",document.getElementById("PPMSBSchFreqLocalityTabDiv").style.width="75%",document.getElementById("PPMSBSchFreqLocalityFilterDiv").style.display="block",document.getElementById("PPMSBSchFreqLocalityfildiv").style.width="fit-content",document.getElementById("PPMSBSchFreqLocalityfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBSchFreqLocalitycoldiv").style.width="fit-content",document.getElementById("PPMSBSchFreqLocalitycoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"PPMSBSchFreqLocalitycoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld505L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"PPMSBFreqLocalityID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld505L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld505L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftPPMSBFreqLocalityID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("PPMSBSchFreqLocalityFilterDiv").style.width="0%",document.getElementById("PPMSBSchFreqLocalityTabDiv").style.width="100%",document.getElementById("PPMSBSchFreqLocalityFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld505L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld505L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld505L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld505L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld505L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld505L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftPPMSBFreqLocalityID":"PPMSBFreqLocalityID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftPPMSBFreqLocalityID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"PPMSBFreqLocalityID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld505L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftPPMSBFreqLocalityID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"PPMSBFreqLocalityID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"PPMSBSchFreqLocality-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMSBSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(xn,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"PPMSBFreqLocalityID")},frmctrlid:"fld505L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"PPMSBSchFreqLocalityTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld505L1TCExpandedCardDual",data:K,id:"PPMSBSchFreqLocality",title:"PPMSBFreqLocalityCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),Bn={EnterKeyValues:{PPMSBSchFreqLocality:["PPMSBFreqLocalityCode","PPMSBStartDate","PPMSBEndDate","PPMSBHours","PPMSBDays","ContractName","LocalityName","BuildingName","FloorName","SpotName","FrequencyName","ServiceTypeName"]},Label:{PPMSBSchFreqLocality:{PPMSBFreqLocalityCode:["PPMSBFreqLocalityCode"],PPMSBStartDate:["PPMSBFreqLocalityCode"],PPMSBEndDate:["PPMSBFreqLocalityCode"],PPMSBHours:["PPMSBFreqLocalityCode"],PPMSBDays:["PPMSBFreqLocalityCode"],ContractID:["PPMSBFreqLocalityCode"],LocalityID:["PPMSBFreqLocalityCode"],BuildingID:["PPMSBFreqLocalityCode"],FloorID:["PPMSBFreqLocalityCode"],SpotID:["PPMSBFreqLocalityCode"],FrequencyID:["FrequencyCode","FrequencyName"],ServiceTypeID:["PPMSBFreqLocalityCode"]}},LabelHeader:{PPMSBSchFreqLocality:{PPMSBFreqLocalityCode:["PPMSBFreqLocalityCode"],PPMSBStartDate:["PPMSBFreqLocalityCode"],PPMSBEndDate:["PPMSBFreqLocalityCode"],PPMSBHours:["PPMSBFreqLocalityCode"],PPMSBDays:["PPMSBFreqLocalityCode"],ContractID:["PPMSBFreqLocalityCode"],LocalityID:["PPMSBFreqLocalityCode"],BuildingID:["PPMSBFreqLocalityCode"],FloorID:["PPMSBFreqLocalityCode"],SpotID:["PPMSBFreqLocalityCode"],FrequencyID:["Frequency Code","Frequency Name"],ServiceTypeID:["PPMSBFreqLocalityCode"]}},Property:{PPMSBSchFreqLocality:{PPMSBFreqLocalityCode:{id:"fld505_22167",labelID:"PPMSBFreqLocalityCode",maxLength:"50",labelname:"",frmctrlid:"fld505_22167",frmctrlidname:"PPMSBFreqLocalityCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBStartDate:{id:"fld505_22168",labelID:"PPMSBStartDate",maxLength:"",labelname:"",frmctrlid:"fld505_22168",frmctrlidname:"PPMSBStartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBEndDate:{id:"fld505_22169",labelID:"PPMSBEndDate",maxLength:"",labelname:"",frmctrlid:"fld505_22169",frmctrlidname:"PPMSBEndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBHours:{id:"fld505_22170",labelID:"PPMSBHours",maxLength:"",labelname:"",frmctrlid:"fld505_22170",frmctrlidname:"PPMSBHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBDays:{id:"fld505_22171",labelID:"PPMSBDays",maxLength:"",labelname:"",frmctrlid:"fld505_22171",frmctrlidname:"PPMSBDays",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld505_22175",clearID:"PPMSBSchFreqLocalityContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},LocalityID:{id:"fld505_22176",clearID:"PPMSBSchFreqLocalityLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BuildingID:{id:"fld505_22177",clearID:"PPMSBSchFreqLocalityBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"",fielddisplayname:"BuildingName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FloorID:{id:"fld505_22178",clearID:"PPMSBSchFreqLocalityFloorNameClear",type:"select",labelID:"FloorIDPK",labelname:"",fielddisplayname:"FloorName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},SpotID:{id:"fld505_22179",clearID:"PPMSBSchFreqLocalitySpotNameClear",type:"select",labelID:"SpotIDPK",labelname:"",fielddisplayname:"SpotName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FrequencyID:{id:"fld505_22174",clearID:"PPMSBSchFreqLocalityFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency ",fielddisplayname:"FrequencyName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ServiceTypeID:{id:"fld505_37483",clearID:"PPMSBSchFreqLocalityServiceTypeNameClear",type:"select",labelID:"ServiceTypeIDPK",labelname:"Service Type ",fielddisplayname:"ServiceTypeName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBSchFreqLocality:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],FloorID:["FloorCode","FloorName","BuildingName","LocalityName"],SpotID:["SpotCode","SpotName","LocalityName","BuildingName","FloorName","AssWingName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"],ServiceTypeID:["ServiceTypCode","ServiceTypeName"]}}},Fn={PPMSBFreqLocalityIDPK:"",PPMSBFreqLocalityCode:"",PPMSBStartDate:"",PPMSBStartDateType:"",PPMSBStartDateBetween:"",PPMSBEndDate:"",PPMSBEndDateType:"",PPMSBEndDateBetween:"",PPMSBHours:"",PPMSBDays:"",IsDraft:!1,Remarks:"",FrequencyID:null,ContractID:null,LocalityID:null,BuildingID:null,FloorID:null,SpotID:null,ServiceTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",ServiceTypCode:"",ServiceTypeName:"",Type:"PPMSBFreqLocalityID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},An=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,Fn),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:Rn),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:kn(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("505"),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!0),[ue,pe]=(0,l.useState)(!1);let Ce=(0,N.Z)();const[ge,De]=(0,l.useState)({}),Ie=e=>Ce[e]?Ce[e]:e,Se=t=>U.language?.[t]?U.language[t]:e.createEasy?ge?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ne()}),[]),(0,l.useEffect)((()=>{Ne()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(ve(U.editData[0],""),D(!0)):U.Add&&(Ne(),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),De(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Qe(t),D(e)):(Ne(),D(e))},AddOpen:e=>{Ne(),D(!0)}})));const Ee=e=>e?e.split("-").reverse().join("-"):null,fe=e=>{if(e){let t=Ee(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},ve=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultPPMSBFreqLocalityID"==a?J(t.PPMSBFreqLocalityIDPK):(W(e.primid?Number(e.primid):t.PPMSBFreqLocalityIDPK?t.PPMSBFreqLocalityIDPK:0),j({type:"PrimaryId",payload:t.PPMSBFreqLocalityIDPK})),O({type:"text",name:"PPMSBFreqLocalityCode",value:t.PPMSBFreqLocalityCode?t.PPMSBFreqLocalityCode:""}),O({type:"text",name:"PPMSBStartDate",value:t.PPMSBStartDate?Ee(t.PPMSBStartDate):null}),O({type:"text",name:"PPMSBEndDate",value:t.PPMSBEndDate?Ee(t.PPMSBEndDate):null}),O({type:"number",name:"PPMSBHours",number:t.PPMSBHours}),O({type:"number",name:"PPMSBDays",number:t.PPMSBDays}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),O({type:"text",name:"BuildingName",value:t.BuildingName}),O({type:"number",name:"FloorID",number:t.FloorID?Number(t.FloorID):0}),O({type:"text",name:"FloorName",value:t.FloorName}),O({type:"number",name:"SpotID",number:t.SpotID?Number(t.SpotID):0}),O({type:"text",name:"SpotName",value:t.SpotName}),O({type:"number",name:"FrequencyID",number:t.FrequencyID?Number(t.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:t.FrequencyName}),O({type:"number",name:"ServiceTypeID",number:t.ServiceTypeID?Number(t.ServiceTypeID):0}),O({type:"text",name:"ServiceTypeName",value:t.ServiceTypeName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Ne=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"PPMSBFreqLocalityCode",value:""}),O({type:"text",name:"PPMSBStartDate",value:""}),O({type:"text",name:"PPMSBEndDate",value:""}),O({type:"number",name:"PPMSBHours",number:0}),O({type:"number",name:"PPMSBDays",number:0}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSBSchFreqLocalityContractNameClear")&&document.getElementById("PPMSBSchFreqLocalityContractNameClear").click(),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSBSchFreqLocalityLocalityNameClear")&&document.getElementById("PPMSBSchFreqLocalityLocalityNameClear").click(),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSBSchFreqLocalityBuildingNameClear")&&document.getElementById("PPMSBSchFreqLocalityBuildingNameClear").click(),O({type:"text",name:"FloorID",value:null}),O({type:"text",name:"FloorName",value:""}),document.getElementById("PPMSBSchFreqLocalityFloorNameClear")&&document.getElementById("PPMSBSchFreqLocalityFloorNameClear").click(),O({type:"text",name:"SpotID",value:null}),O({type:"text",name:"SpotName",value:""}),document.getElementById("PPMSBSchFreqLocalitySpotNameClear")&&document.getElementById("PPMSBSchFreqLocalitySpotNameClear").click(),O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSBSchFreqLocalityFrequencyNameClear")&&document.getElementById("PPMSBSchFreqLocalityFrequencyNameClear").click(),O({type:"text",name:"ServiceTypeID",value:null}),O({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("PPMSBSchFreqLocalityServiceTypeNameClear")&&document.getElementById("PPMSBSchFreqLocalityServiceTypeNameClear").click(),y(!0),P(""),le(!0),de(!0),me(!0)},he=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP505S2/",l={data:[{p1:"SetDefaultPPMSBFreqLocalityID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:He(k.PPMSBFreqLocalityCode),p3:k.PPMSBStartDate?fe(k.PPMSBStartDate):null,p4:k.PPMSBEndDate?fe(k.PPMSBEndDate):null,p5:k.PPMSBHours?Number(k.PPMSBHours):0,p6:k.PPMSBDays?Number(k.PPMSBDays):0,p7:!1,p8:"SetDefaultPPMSBFreqLocalityID"==t?"SetDefault":null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:k.FloorID?k.FloorID:0,p14:k.SpotID?k.SpotID:0,p15:k.ServiceTypeID?k.ServiceTypeID:0,p16:s,p17:"SetDefaultPPMSBFreqLocalityID"==t,p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{le(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP505S1/",l={data:[{p1:Y,p2:He(k.PPMSBFreqLocalityCode),p3:k.PPMSBStartDate?fe(k.PPMSBStartDate):null,p4:k.PPMSBEndDate?fe(k.PPMSBEndDate):null,p5:k.PPMSBHours?Number(k.PPMSBHours):0,p6:k.PPMSBDays?Number(k.PPMSBDays):0,p7:!1,p8:null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:k.FloorID?k.FloorID:0,p14:k.SpotID?k.SpotID:0,p15:k.ServiceTypeID?k.ServiceTypeID:0,p16:s,p17:!1,p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSBSchFreqLocality"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Ne(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttPPMSBSchFreqLocality")&&(document.getElementById("overlayimgAttPPMSBSchFreqLocality").style.width="0%",document.getElementById("overlayimgAttPPMSBSchFreqLocality").style.display="none",document.getElementById("divPPMSBSchFreqLocality-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBSchFreqLocality-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function Te(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[Ie("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[Ie("Please enter the primary fields")]}),!1;{le(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP505S1/",l={data:[{p1:"SetDefaultPPMSBFreqLocalityID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:He(k.PPMSBFreqLocalityCode),p3:k.PPMSBStartDate?fe(k.PPMSBStartDate):null,p4:k.PPMSBEndDate?fe(k.PPMSBEndDate):null,p5:k.PPMSBHours?Number(k.PPMSBHours):0,p6:k.PPMSBDays?Number(k.PPMSBDays):0,p7:!0,p8:"SetDefaultPPMSBFreqLocalityID"==n?"SetDefault":null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:k.FloorID?k.FloorID:0,p14:k.SpotID?k.SpotID:0,p15:k.ServiceTypeID?k.ServiceTypeID:0,p16:!1,p17:"SetDefaultPPMSBFreqLocalityID"==n,p18:localStorage.getItem("userid"),p19:V()().format("YYYY-MM-DD hh:mm:ss"),p20:localStorage.getItem("userid"),p21:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[Ie("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[Ie("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),Ne(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function be(e){return CreateEasy(e,U,j,H,X),!1}function Le(e,a){return AdvanceSearch(e,a,Rn,kn(),Ke,t),!1}const Ae=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP505S3/",c={data:{p1:null,p2:null,p3:k.PPMSBStartDate?k.PPMSBStartDate:null,p4:null,p5:null,p6:k.PPMSBEndDate?k.PPMSBEndDate:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:"0"==k.FrequencyID?null:k.FrequencyID,p14:e.parentId?Number(e.parentId):0,p15:"0"==k.LocalityID?null:k.LocalityID,p16:"0"==k.BuildingID?null:k.BuildingID,p17:"0"==k.FloorID?null:k.FloorID,p18:"0"==k.SpotID?null:k.SpotID,p19:"0"==k.ServiceTypeID?null:k.ServiceTypeID,p20:e.Dialogview?"1":null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:"0"==k.CityID?null:k.CityID,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:t,p43:10,p44:l,p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultPPMSBFreqLocalityID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultPPMSBFreqLocalityID"==l&&(e>0?ve(n[0],"SetDefaultPPMSBFreqLocalityID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},ke=(t,l,n)=>{const o=S.v.Api+"FP505S3/",r={data:{p1:null,p2:"PPMSBFreqLocalityCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"PPMSBHours"==n&&l?"%"+l+"%":null,p10:"PPMSBDays"==n&&l?"%"+l+"%":null,p11:null,p12:null,p13:null,p14:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p15:null,p16:null,p17:null,p18:null,p19:null,p20:e.Dialogview?"1":null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:t,p43:10,p44:"PPMSBFreqLocalityID",p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBFreqLocalityCode"==n&&le(e>0),"PPMSBHours"==n&&de(e>0),"PPMSBDays"==n&&me(e>0),K(l)):("PPMSBFreqLocalityCode"==n&&le(!0),"PPMSBHours"==n&&de(!0),"PPMSBDays"==n&&me(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ke=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("ContractID"==t||"LocalityID"==t||"BuildingID"==t||"FloorID"==t||"SpotID"==t||"FrequencyID"==t&&(O({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null})))}),[k]);function Ve(e){if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e){if(!k.LocalityID)return!1}else if("BuildingID"==e){if(!k.BuildingID)return!1}else if("FloorID"==e){if(!k.FloorID)return!1}else if("SpotID"==e){if(!k.SpotID)return!1}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSBSchFreqLocalityFrequencyNameClear")&&document.getElementById("PPMSBSchFreqLocalityFrequencyNameClear").click()}else if("ServiceTypeID"==e&&!k.ServiceTypeID)return!1}function ze(e){if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e){if(!k.LocalityID)return!1}else if("BuildingID"==e){if(!k.BuildingID)return!1}else if("FloorID"==e){if(!k.FloorID)return!1}else if("SpotID"==e){if(!k.SpotID)return!1}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null})}else if("ServiceTypeID"==e&&!k.ServiceTypeID)return!1}const _e=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Qe(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("No"),showCancel:!0},Ie("Do you want to update this record?")))};function Qe(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.PPMSBFreqLocalityIDPK)?Number(e.PPMSBFreqLocalityIDPK):0),O({type:"text",name:"PPMSBFreqLocalityCode",value:e.PPMSBFreqLocalityCode?e.PPMSBFreqLocalityCode:""}),O({type:"text",name:"PPMSBStartDate",value:e.PPMSBStartDate?Ee(e.PPMSBStartDate):null}),O({type:"text",name:"PPMSBEndDate",value:e.PPMSBEndDate?Ee(e.PPMSBEndDate):null}),O({type:"text",name:"PPMSBHours",value:e.PPMSBHours?e.PPMSBHours:""}),O({type:"text",name:"PPMSBDays",value:e.PPMSBDays?e.PPMSBDays:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),O({type:"number",name:"FloorID",number:e.FloorID?Number(e.FloorID):0}),O({type:"text",name:"FloorName",value:e.FloorName?e.FloorName:""}),O({type:"number",name:"SpotID",number:e.SpotID?Number(e.SpotID):0}),O({type:"text",name:"SpotName",value:e.SpotName?e.SpotName:""}),O({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""}),O({type:"number",name:"ServiceTypeID",number:e.ServiceTypeID?Number(e.ServiceTypeID):0}),O({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName?e.ServiceTypeName:""})}const He=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[505]"}," ",Ie("Add "),Se("505")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld505L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:Ie(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld505L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ne()},id:"fld505L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld505L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Te("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Te()},frmctrlid:"fld505L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld505L1ECSaveBtnIsAdd",name:Ie(Y?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?k.FrequencyID&&0!=k.FrequencyID?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ie("Are you sure?"),onConfirm:()=>he(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("Cancel"),showCancel:!0},Ie(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("FrequencyID")]}):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("ContractID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld505L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ne(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"PPMSBSchFreqLocality-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMSBSchFreqLocality-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMSBSchFreqLocality-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(Ze.Z,null,n().createElement(qe.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(c.Z,null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Ge.Z,{style:{padding:"5px 20px 15px"}},n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.PPMSBFreqLocalityCode,json:Bn,SPName:"PPMSBSchFreqLocality",FieldName:"PPMSBFreqLocalityCode",tfLabel:Se("PPMSBFreqLocalityCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&_e(t),onClick:()=>{ae&&ke(1,"","ClearAll"),le(!0)},frmctrlid:"fld505_22167",frmctrlidName:"PPMSBFreqLocalityCode",fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ae&&ke(e,t,"PPMSBFreqLocalityCode"),Ke(t,"PPMSBFreqLocalityCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.PPMSBFreqLocalityCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"PPMSBFreqLocalityCode",value:""}),le(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{value:k.PPMSBStartDate,"data-testid":k.PPMSBStartDate,disabled:!1,onChange:e=>{Ke(e,"PPMSBStartDate","date")},onErr:e=>{oe(e)},label:Se("PPMSBStartDate"),frmctrlid:"fld505_22168",frmctrlidName:"PPMSBStartDate",fieldorder:"0"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{value:k.PPMSBEndDate,"data-testid":k.PPMSBEndDate,disabled:!1,onChange:e=>{Ke(e,"PPMSBEndDate","date")},onErr:e=>{ie(e)},label:Se("PPMSBEndDate"),frmctrlid:"fld505_22169",frmctrlidName:"PPMSBEndDate",fieldorder:"0"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.PPMSBHours,json:Bn,SPName:"PPMSBSchFreqLocality",FieldName:"PPMSBHours",tfLabel:Se("PPMSBHours"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&_e(t),onClick:()=>{ce&&ke(1,"","ClearAll"),de(!0)},frmctrlid:"fld505_22170",frmctrlidName:"PPMSBHours",fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ce&&ke(e,t,"PPMSBHours"),Ke(t,"PPMSBHours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.PPMSBHours,loading:Z,clear:e=>{e&&(O({type:"text",name:"PPMSBHours",value:""}),de(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.PPMSBDays,json:Bn,SPName:"PPMSBSchFreqLocality",FieldName:"PPMSBDays",tfLabel:Se("PPMSBDays"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&_e(t),onClick:()=>{se&&ke(1,"","ClearAll"),me(!0)},frmctrlid:"fld505_22171",frmctrlidName:"PPMSBDays",fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{se&&ke(e,t,"PPMSBDays"),Ke(t,"PPMSBDays","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:k.PPMSBDays,loading:Z,clear:e=>{e&&(O({type:"text",name:"PPMSBDays",value:""}),me(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Bn,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"PPMSBSchFreqLocality",FieldName:"ContractID",tfLabel:Se("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"ContractID","select"),onChange:(e,t)=>{Ae(e,t,"ContractIDPK")},KeyBack:e=>{ze("ContractID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("156")},Tabledialog:()=>Le("156","ContractID"),loading:Z,clear:e=>{e&&Ve("ContractID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Bn,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,SPName:"PPMSBSchFreqLocality",FieldName:"LocalityID",tfLabel:Se("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"LocalityID","select"),onChange:(e,t)=>{Ae(e,t,"LocalityIDPK")},KeyBack:e=>{ze("LocalityID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("12")},Tabledialog:()=>Le("12","LocalityID"),loading:Z,clear:e=>{e&&Ve("LocalityID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Bn,id:k.BuildingID,"data-testid":k.BuildingID,value:k.BuildingName,SPName:"PPMSBSchFreqLocality",FieldName:"BuildingID",tfLabel:Se("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"BuildingID","select"),onChange:(e,t)=>{Ae(e,t,"BuildingIDPK")},KeyBack:e=>{ze("BuildingID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("30")},Tabledialog:()=>Le("30","BuildingID"),loading:Z,clear:e=>{e&&Ve("BuildingID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Bn,id:k.FloorID,"data-testid":k.FloorID,value:k.FloorName,SPName:"PPMSBSchFreqLocality",FieldName:"FloorID",tfLabel:Se("FloorID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"FloorID","select"),onChange:(e,t)=>{Ae(e,t,"FloorIDPK")},KeyBack:e=>{ze("FloorID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("52")},Tabledialog:()=>Le("52","FloorID"),loading:Z,clear:e=>{e&&Ve("FloorID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Bn,id:k.SpotID,"data-testid":k.SpotID,value:k.SpotName,SPName:"PPMSBSchFreqLocality",FieldName:"SpotID",tfLabel:Se("SpotID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"SpotID","select"),onChange:(e,t)=>{Ae(e,t,"SpotIDPK")},KeyBack:e=>{ze("SpotID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("70")},Tabledialog:()=>Le("70","SpotID"),loading:Z,clear:e=>{e&&Ve("SpotID")}}))))),n().createElement(Ze.Z,null,n().createElement(qe.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Ge.Z,{style:{padding:"5px 20px 15px"}},n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Bn,id:k.FrequencyID,"data-testid":k.FrequencyID,value:k.FrequencyName,SPName:"PPMSBSchFreqLocality",FieldName:"FrequencyID",tfLabel:Se("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"FrequencyID","select"),onChange:(e,t)=>{Ae(e,t,"FrequencyIDPK")},KeyBack:e=>{ze("FrequencyID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("457")},Tabledialog:()=>Le("457","FrequencyID"),loading:Z,clear:e=>{e&&Ve("FrequencyID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Bn,id:k.ServiceTypeID,"data-testid":k.ServiceTypeID,value:k.ServiceTypeName,SPName:"PPMSBSchFreqLocality",FieldName:"ServiceTypeID",tfLabel:Se("ServiceTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"ServiceTypeID","select"),onChange:(e,t)=>{Ae(e,t,"ServiceTypeIDPK")},KeyBack:e=>{ze("ServiceTypeID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("17")},Tabledialog:()=>Le("17","ServiceTypeID"),loading:Z,clear:e=>{e&&Ve("ServiceTypeID")}})))))),n().createElement("div",{id:"PPMSBSchFreqLocalitySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBSchFreqLocalitySideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Mn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(Rn),{cstate:B,cdispatch:F}=kn(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].PPMSBFreqLocalityIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP505S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:e.Dialogview?"1":null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:1,p43:10,p44:B.IsDraft?"DraftPPMSBFreqLocalityID":"PPMSBFreqLocalityID",p45:null,p46:null,p47:localStorage.getItem("UserGroupID"),p48:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.PPMSBFreqLocalityIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("PPMSBSchFreqLocality"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld505L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld505L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld505L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld505L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(An,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"PPMSBSchFreqLocality",tableID:505,parentID:t.PPMSBFreqLocalityIDPK,fldid:"fld505L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.59-3:08:17 PM-18-7[505]"}))))))))})),Rn=(0,l.createContext)(),kn=()=>{const e=(0,l.useContext)(Rn);if(void 0===e)throw new Error("useCont must be used within  PPMSBSchFreqLocalityContext Provider");return e},On=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divPPMSBSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainTable").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divPPMSBSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainTable").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divPPMSBSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSBSchFreqLocalityEntryTable").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainEntry").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainEntry").style.display="block",document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBSchFreqLocality").style.width="0%",document.getElementById("overlayimgAttPPMSBSchFreqLocality").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Rn.Provider,{value:{cstate:D,cdispatch:I,ContextApi:kn,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewPPMSBSchFreqLocality").style.width="50%",document.getElementById("divPPMSBSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainTable").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainEntry").style.width="100%",document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBSchFreqLocality-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBSchFreqLocality").style.display="block",document.getElementById("overlayimgAttPPMSBSchFreqLocality").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"PPMSBSchFreqLocality-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"PPMSBSchFreqLocality-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"PPMSBSchFreqLocalityEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMSBSchFreqLocality-Entry",style:{width:"100%"}},0!==y?n().createElement(Mn,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:505,fileId:"LogoImgPPMSBSchFreqLocality",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewPPMSBSchFreqLocality",frmctrlid:"PvwIm_505_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMSBSchFreqLocality-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(An,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:505,fileId:"LogoImgPPMSBSchFreqLocality",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewPPMSBSchFreqLocality",frmctrlid:"PvwIm_505_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"PPMSBSchFreqLocality-MainTable"},0!==y?n().createElement(wn,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:505,fileId:"AttImgPPMSBSchFreqLocality",imgid:"overlayimgAttPPMSBSchFreqLocality",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBSchFreqLocality",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_505_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"PPMSBSchFreqLocality-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:505,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Zn=a(25108);const Gn=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,r]=(0,l.useState)([]),[i,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[u,p]=(0,l.useState)(""),[C,y]=(0,l.useState)({}),[g,D]=(0,l.useState)(!0),[E,f]=(0,l.useState)(!1),{cstate:v,cdispatch:T}=e.ContextApi?e.ContextApi:Un(),[b,P]=(0,l.useState)(1),[L,x]=(0,l.useState)(0),[B,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!1),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[Ce,ye]=(0,l.useState)(""),ge=(0,l.useRef)(null),[De,Ie]=(0,l.useState)({});let Se=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,N.Z)();const ve=e=>fe[e]?fe[e]:e,Ne=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Se]];function he(){ie(""),ye(""),y({}),z({}),e.searchData({}),f(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Te=async(t,a,l,n)=>{K(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let c="",d=[],m={};await s((e=>(c=e.name,e))),await y((e=>(d=e,e))),await z((e=>(m=e,e)));const p=S.v.Api+"FP533S3/",g={data:{p1:"PPMSSFreqLocalityIDPK"==a?null:await we(),p2:"PPMSSFreqLocalityCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"PPMSSFreqLocHours"==c&&l.length>0?"%"+l+"%":null,p10:"PPMSSFreqLocDays"==c&&l.length>0?"%"+l+"%":null,p11:null,p12:null,p13:"FrequencyName"!=c&&d.FrequencyName?d.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p14:e.parentId?e.parentId:"0",p15:"LocalityName"!=c&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p16:"BuildingName"!=c&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p17:"FloorName"!=c&&d.FloorName?d.FloorName.map((e=>e.FloorIDPK)).toString():null,p18:"SpotName"!=c&&d.SpotName?d.SpotName.map((e=>e.SpotIDPK)).toString():null,p19:e.Dialogview?"1":null,p20:null,p21:"p21"==c&&l.length>0?l:null,p22:null,p23:null,p24:null,p25:null,p26:"FrequencyCode"==c&&l.length>0?"%"+l+"%":null,p27:"FrequencyName"==c&&l.length>0?"%"+l+"%":null,p28:"LocalityGroupName"!=c&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p29:"LocalityGroupCode"==c&&l.length>0?"%"+l+"%":null,p30:"LocalityGroupName"==c&&l.length>0?"%"+l+"%":null,p31:"CityName"!=c&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p32:"CityCode"==c&&l.length>0?"%"+l+"%":null,p33:"CityName"==c&&l.length>0?"%"+l+"%":null,p34:"AdminLocalityTypeName"!=c&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p35:"AdminLocalityTypeCode"==c&&l.length>0?"%"+l+"%":null,p36:"AdminLocalityTypeName"==c&&l.length>0?"%"+l+"%":null,p37:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p38:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p39:"AssBuildingTypeName"!=c&&d.AssBuildingTypeName?d.AssBuildingTypeName.map((e=>e.AssBuildingTypeIDPK)).toString():null,p40:"AssBuildingTypeCode"==c&&l.length>0?"%"+l+"%":null,p41:"AssBuildingTypeName"==c&&l.length>0?"%"+l+"%":null,p42:"BuildingCode"==c&&l.length>0?"%"+l+"%":null,p43:"BuildingName"==c&&l.length>0?"%"+l+"%":null,p44:"FloorCode"==c&&l.length>0?"%"+l+"%":null,p45:"FloorName"==c&&l.length>0?"%"+l+"%":null,p46:"SpotTypeName"!=c&&d.SpotTypeName?d.SpotTypeName.map((e=>e.SpotTypeIDPK)).toString():null,p47:"SpotTypeCode"==c&&l.length>0?"%"+l+"%":null,p48:"SpotTypeName"==c&&l.length>0?"%"+l+"%":null,p49:"AssWingName"!=c&&d.AssWingName?d.AssWingName.map((e=>e.AssWingIDPK)).toString():null,p50:"AssWingCode"==c&&l.length>0?"%"+l+"%":null,p51:"AssWingName"==c&&l.length>0?"%"+l+"%":null,p52:"SpotCode"==c&&l.length>0?"%"+l+"%":null,p53:"SpotName"==c&&l.length>0?"%"+l+"%":null,p54:n||1,p55:10,p56:t,p57:null,p58:null,p59:localStorage.getItem("UserGroupID"),p60:localStorage.getItem("userid")}},D=await(0,I.Z)(p,g,e.token,"",i.signal);if(!D)return!1;const E=D.Output.status.code,f=D.Output.data;if("200"===E)if(f.length>0)if(1===n){let e=Pe(f,c),t=be(e,C[c],a);r(t),x(t.length>0?t[0].TotalCount:C[c].length)}else{let e=[...o,...f],t=Pe(e,c);x(t.length<10?t.length:f[0].TotalCount),r(Pe(t,c))}else u.length>0&&r([]),x(o.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Le(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async(t,a)=>{let l="",n={};await y((e=>(l=e,e)));let o=[...ee],r=[];for(let e of o){let t=l[e]?.map((e=>e.PPMSSFreqLocalityIDPK)).toString();t&&r.push(t)}await z((e=>(n=e,e)));let i={PPMSSFreqLocalityIDPK:a?a.PPMSSFreqLocalityIDPK:r?[...new Set(r)].toString():"",CreatedTtm:n.CreatedTtm?n.CreatedTtm.From:"",CreatedTtmType:n.CreatedTtm?n.CreatedTtm.Type:"",CreatedTtmBetween:n.CreatedTtm?n.CreatedTtm.To:"",PPMSSFreqLocStartDate:n.PPMSSFreqLocStartDate?n.PPMSSFreqLocStartDate.From:"",PPMSSFreqLocStartDateType:n.PPMSSFreqLocStartDate?n.PPMSSFreqLocStartDate.Type:"",PPMSSFreqLocStartDateBetween:n.PPMSSFreqLocStartDate?n.PPMSSFreqLocStartDate.To:"",PPMSSFreqLocEndDate:n.PPMSSFreqLocEndDate?n.PPMSSFreqLocEndDate.From:"",PPMSSFreqLocEndDateType:n.PPMSSFreqLocEndDate?n.PPMSSFreqLocEndDate.Type:"",PPMSSFreqLocEndDateBetween:n.PPMSSFreqLocEndDate?n.PPMSSFreqLocEndDate.To:"",ContractID:Le("ContractID"),LocalityID:Le("LocalityID"),BuildingID:Le("BuildingID"),FloorID:Le("FloorID"),SpotID:Le("SpotID"),FrequencyID:Le("FrequencyID")};"saveFav"==t?Ae("save",i):(e.searchData(i),f(!1))};async function we(){let e={};await y((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSSFreqLocalityIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Be(t,a,l,n,o,r){let i={[n]:{From:t,Type:l,To:a}},c={};z((e=>({...e,...i})));const d={...C};let s=[...ee],m=[];for(let e of s){let t=d[e]?.map((e=>e.PPMSSFreqLocalityIDPK)).toString();t&&m.push(t)}await z((e=>(c=e,e)));let u={PPMSSFreqLocalityIDPK:m?[...new Set(m)].toString():"",CreatedTtm:c.CreatedTtm?c.CreatedTtm.From:"",CreatedTtmType:c.CreatedTtm?c.CreatedTtm.Type:"",CreatedTtmBetween:c.CreatedTtm?c.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,PPMSSFreqLocStartDate:c.PPMSSFreqLocStartDate?c.PPMSSFreqLocStartDate.From:"",PPMSSFreqLocStartDateType:c.PPMSSFreqLocStartDate?c.PPMSSFreqLocStartDate.Type:"",PPMSSFreqLocStartDateBetween:c.PPMSSFreqLocStartDate?c.PPMSSFreqLocStartDate.To:"",PPMSSFreqLocEndDate:c.PPMSSFreqLocEndDate?c.PPMSSFreqLocEndDate.From:"",PPMSSFreqLocEndDateType:c.PPMSSFreqLocEndDate?c.PPMSSFreqLocEndDate.Type:"",PPMSSFreqLocEndDateBetween:c.PPMSSFreqLocEndDate?c.PPMSSFreqLocEndDate.To:"",ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),BuildingID:C.BuildingName?.map((e=>e.BuildingIDPK)).toString(),FloorID:C.FloorName?.map((e=>e.FloorIDPK)).toString(),SpotID:C.SpotName?.map((e=>e.SpotIDPK)).toString(),FrequencyID:C.FrequencyName?.map((e=>e.FrequencyIDPK)).toString()};e.searchData(u)}function Fe(){return n().createElement(k.Z,{frmctrlid:"fld533L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{Be(e,t,a,i.name,l)},keyboardback:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,X.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;ye(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},n().createElement(U.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(j.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(W.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>ie(e.target.value),fullWidth:!0})),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:se,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(m.Z,{style:{color:"#337ab7"},control:n().createElement(h.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement($.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(J.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(Y.Z,null,n().createElement(A.Z,{onClick:()=>{xe("saveFav"),de(!1)},color:"primary"},"Save"))),E?"Created Ttm"===i.name||i.name.includes("Date")?n().createElement(Fe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ne(i.idpk)," (",o.length,"/",L,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(M.ZP,{title:ve("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(F.Z,{id:"fld533L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{f(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),P(1)}}))),C[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(A.Z,{frmctrlid:"fld533L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await y((t=>(e=t,Zn.log("clear fewItems",e),t))),e[i.name]=[],Te(i.type,i.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},g?n().createElement(M.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(G.D7o,{className:"FilterMaximizeIcon",onClick:()=>{D(!1)}}))):n().createElement(M.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(G.dOw,{className:"FilterMaximizeIcon",onClick:()=>{D(!0)}})))),n().createElement("ul",null,C[i.name]&&C[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{P(1);let a=C[i.name].filter((t=>t!=e)),l={};await y((e=>(l=e,e))),l[i.name]=a,y(l),r((t=>[e,...t]))})(e)},n().createElement(F.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(O.Z,{frmctrlid:"fld533L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:u,placeholder:ve("Enter ")+" "+Ne(i.idpk),onChange:e=>{p(e),Te(i.type,i.fieldidpk,e,1,we())}})),n().createElement("div",{id:"fld533L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),B&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(q.Z,{color:"secondary"})),n().createElement("div",{id:"fld533L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await y((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},y(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(R.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),o.length+0<L&&o.length>0&&n().createElement("div",{id:"fld533L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(b+1),Te(i.type,i.fieldidpk,"",b+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:S.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(Z.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(M.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(F.Z,{className:"favlisticon",onClick:()=>{oe(!1),he()}}):n().createElement(_.Z,{className:"favlisticon",onClick:()=>{oe(!0),Ae("select"),he()}})),Object.keys(C).length>0&&n().createElement(M.ZP,{title:"Save Favorites",placement:"top"},n().createElement(Q.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld533L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),n().createElement(M.ZP,{title:"",placement:"top"},n().createElement(A.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld533L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld533L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{f(!0),p(""),r([]),x(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSSFreqLocalityIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSFreqLocalityID",fieldidpk:t}),Te(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSFreqLocalityID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ne(e.AdminUserGridViewIDPK)," ",V[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",V[e.FieldName]?.From+" to "+V[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Be("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ne(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&n().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Te("FilterPPMSSFreqLocalityID",a),xe("",a)}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))})),qn=Gn;window.clickFilter="";const Kn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),i=(0,l.useRef)(null),[c]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[d]=(0,l.useState)("533"),[s,m]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),[D,E]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)(0),[b,P]=(0,l.useState)(0),[L,x]=(0,l.useState)({current:1,pageSize:100}),[w,B]=(0,l.useState)(""),[A,R]=(0,l.useState)([]),[k,q]=(0,l.useState)({val:"",column:""}),[K,V]=(0,l.useState)([]),[z,_]=(0,l.useState)(!1),[Q,H]=(0,l.useState)(""),[U,j]=(0,l.useState)(""),[Y,W]=(0,l.useState)(!1),[$,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)([]),[ye,De]=(0,l.useState)({children:[{name:"PPMSSSchFreqLocality",children:[]}]}),[Ie,Ne]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:Hn),{cstate:Te,cdispatch:be}=e.ContextApi?e.ContextApi:Un();let Pe={PPMSSFreqLocalityIDPK:"",PPMSSFreqLocalityCode:"",PPMSSFreqLocStartDate:"",PPMSSFreqLocStartDateType:"",PPMSSFreqLocStartDateBetween:"",PPMSSFreqLocEndDate:"",PPMSSFreqLocEndDateType:"",PPMSSFreqLocEndDateBetween:"",PPMSSFreqLocHours:"",PPMSSFreqLocDays:"",IsDraft:"",Remarks:"",FrequencyID:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",FloorCode:"",FloorName:"",SpotTypeID:"",SpotTypeCode:"",SpotTypeName:"",AssWingID:"",AssWingCode:"",AssWingName:"",SpotCode:"",SpotName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,xe]=(0,l.useState)(Pe),[we,Be]=(0,l.useState)(Pe),[Fe,Ae]=(0,l.useState)(!1),[Me,Re]=(0,l.useState)(!0),[ke,Oe]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[qe,Ke]=(0,l.useState)({PPMSSFreqLocalityCode:"",PPMSSFreqLocStartDate:"",PPMSSFreqLocEndDate:"",PPMSSFreqLocHours:"",PPMSSFreqLocDays:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",FrequencyName:""}),[Ve,ze]=(0,l.useState)(!1),[_e,Qe]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[We,$e]=(0,l.useState)({current:1,pageSize:10}),[Je,Xe]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,nt]=(0,l.useState)(!1),[ot,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Ct]=Se()("533"),[yt,gt]=(0,l.useState)({}),Dt=[{columns:Je,data:w}];let It=(0,N.Z)();const St=e=>It[e]?It[e]:e,Et=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{Pt(pt)}),[pt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Tt(L,Pe,"PPMSSFreqLocalityID"):V([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(L,Q,"PPMSSFreqLocalityID"):Ie&&Be(Q)}),[Q]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Tt(L,Pe,"PPMSSFreqLocalityID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{st(!0===e)}})));const ft=e=>{""==e?Tt(L,Pe,Fe?"DraftPPMSSFreqLocalityID":"PPMSSFreqLocalityID",Fe&&"DraftPage"):bt(e,{current:1,pageSize:100}),j(e)};function vt(t){he.loading(!0);let a=S.v.Api+"FP533S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Qe(e.Output.data),he.loading(!1)}}))}function Nt(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),ke&&W(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(g(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:L.current,pageSize:L.pageSize})}),[e.searchsafaritext]);const ht=()=>{he.EditClose(!0),z?(document.getElementById("PPMSSSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSSSchFreqLocalityTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSSSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ze?(y||(document.getElementById("PPMSSSchFreqLocalitycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSSchFreqLocalitycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSSSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSSSchFreqLocalityTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSSSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("PPMSSSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSSchFreqLocalityfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!z},Tt=(t,a,l,n,o,r)=>{he.loading(!0),"DraftPage"!==n&&Ae(Te.IsDraft);let i=S.v.Api+"FP533S3/",c={data:{p1:o||(a&&a.PPMSSFreqLocalityIDPK?a.PPMSSFreqLocalityIDPK:null),p2:a&&a.PPMSSFreqLocalityCode?a.PPMSSFreqLocalityCode:null,p3:a&&a.PPMSSFreqLocStartDate?a.PPMSSFreqLocStartDate:null,p4:a&&a.PPMSSFreqLocStartDateType?a.PPMSSFreqLocStartDateType:null,p5:a&&a.PPMSSFreqLocStartDateBetween?a.PPMSSFreqLocStartDateBetween:null,p6:a&&a.PPMSSFreqLocEndDate?a.PPMSSFreqLocEndDate:null,p7:a&&a.PPMSSFreqLocEndDateType?a.PPMSSFreqLocEndDateType:null,p8:a&&a.PPMSSFreqLocEndDateBetween?a.PPMSSFreqLocEndDateBetween:null,p9:a&&a.PPMSSFreqLocHours?a.PPMSSFreqLocHours:null,p10:a&&a.PPMSSFreqLocDays?a.PPMSSFreqLocDays:null,p11:"DraftPPMSSFreqLocalityID"==l?"1":"0",p12:null,p13:a&&a.FrequencyID?a.FrequencyID:null,p14:e.parentId?Number(e.parentId):0,p15:a&&a.LocalityID?a.LocalityID:null,p16:a&&a.BuildingID?a.BuildingID:null,p17:a&&a.FloorID?a.FloorID:null,p18:a&&a.SpotID?a.SpotID:null,p19:a&&a.IsActive,p20:null,p21:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p22:a&&a.CreatedTtm?a.CreatedTtm:null,p23:a&&a.CreatedTtmType?a.CreatedTtmType:null,p24:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p25:null,p26:a&&a.FrequencyCode?a.FrequencyCode:null,p27:a&&a.FrequencyName?a.FrequencyName:null,p28:a&&a.LocalityGroupID?a.LocalityGroupID:null,p29:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p30:a&&a.LocalityGroupName?a.LocalityGroupName:null,p31:a&&a.CityID?a.CityID:null,p32:a&&a.CityCode?a.CityCode:null,p33:a&&a.CityName?a.CityName:null,p34:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p35:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p36:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p37:a&&a.LocalityCode?a.LocalityCode:null,p38:a&&a.LocalityName?a.LocalityName:null,p39:a&&a.AssBuildingTypeID?a.AssBuildingTypeID:null,p40:a&&a.AssBuildingTypeCode?a.AssBuildingTypeCode:null,p41:a&&a.AssBuildingTypeName?a.AssBuildingTypeName:null,p42:a&&a.BuildingCode?a.BuildingCode:null,p43:a&&a.BuildingName?a.BuildingName:null,p44:a&&a.FloorCode?a.FloorCode:null,p45:a&&a.FloorName?a.FloorName:null,p46:a&&a.SpotTypeID?a.SpotTypeID:null,p47:a&&a.SpotTypeCode?a.SpotTypeCode:null,p48:a&&a.SpotTypeName?a.SpotTypeName:null,p49:a&&a.AssWingID?a.AssWingID:null,p50:a&&a.AssWingCode?a.AssWingCode:null,p51:a&&a.AssWingName?a.AssWingName:null,p52:a&&a.SpotCode?a.SpotCode:null,p53:a&&a.SpotName?a.SpotName:null,p54:o?1:t.current,p55:t.pageSize,p56:l,p57:null,p58:null,p59:localStorage.getItem("UserGroupID"),p60:localStorage.getItem("userid")}};(0,I.Z)(i,c,Te.token[0]).then((i=>{if(o)(0,pe.a)(i,be,n,r,he);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,T(i.Output.data[0].TotalCount),P(i.Output.data[0].DraftCnt),be({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==n&&P(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?v(Math.ceil(e)):20==t.pageSize?v(Math.ceil(e/2)):50==t.pageSize?v(Math.ceil(e/5)):100==t.pageSize&&v(Math.ceil(e/10)),V(i.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divPPMSSSchFreqLocality-Entry").style.height="auto",document.getElementById("divPPMSSSchFreqLocality-Entry").style.display="block")}else he.loading(!1),"DraftPPMSSFreqLocalityID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),x({current:1,pageSize:10}),v(0),T(0),be({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[i.Output.status.message]}),he.loading(!1)}))};function bt(t,a){he.loading(!0);const l=S.v.Api+"FP533S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,I.Z)(l,n,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,T(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?v(Math.ceil(t)):20==a.pageSize?v(Math.ceil(t/2)):50==a.pageSize?v(Math.ceil(t/5)):100==a.pageSize&&v(Math.ceil(t/10)),V(e.Output.data),he.loading(!1)}else V([]),v(0),T(0),be({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Pt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),be({type:"language",payload:Object.assign({},...n)}),Ke(a.reduce(((e,t)=>(e[t]="",e)),{})),J(e),ee(t),ae(a),Xe(l),tt(a)}const Lt=()=>Ie?null:n().createElement("div",null,Ve?n().createElement(fe.Z,{data:_e,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:a}))}}):n().createElement(Ee.Z,{ref:i,frmctrlid:"tblcs_533_L1_",id:"PPMSSSchFreqLocalityTable",headerdata:X,tablesearchparams:qe,searchvalue:e=>{Ke(e),H(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Fe?"DraftPPMSSFreqLocalityID":"PPMSSFreqLocalityID",Fe&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:te,visibleitem:X,isdraft:Fe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:d,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!y&&he.Expanded(e),edit:(e,t,a)=>{y?he.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Tt(L,null,t?"DraftPPMSSFreqLocalityID":"PPMSSFreqLocalityID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!y||ke,tf:Et,action:y?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Oe(Te.ExpandTableValue)}),[Te.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld533L1ECSearchBar",className:"searchbar1"},n().createElement(O.Z,{frmctrlid:"fld533L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:St("Search"),value:U,onChange:e=>{j(e),he.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld533L1TCCloseIconCommonSearch",onClick:()=>{j(""),he.searchItem("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld533L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSSSchFreqLocalitygridsearch").focus()}})))),n().createElement("div",null,Te.AccessRights.IsAdd?n().createElement(r.Z,{className:"SaveBtnCommon",frmctrlid:"fld533L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(u.Z,{expanded:Me,onChange:()=>()=>{Re(ke)}},e.Dialogview&&n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.63-3:15:30 PM-28-7[533]"},`${Et("533")} (${h})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld533L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(O.Z,{frmctrlid:"fld533L1TCInputSearch",className:"search_input",type:"text",placeholder:St("Search"),value:U,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},U?n().createElement("div",{id:"fld533L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(F.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld533L1TCInputSearchIcon"},n().createElement(ce.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"PPMSSSchFreqLocality-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld533L1TCFilterDataIsDraft",id:"PPMSSSchFreqLocalityfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},n().createElement(M.ZP,{title:St("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(Z.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Filter Data"))),!y&&!Fe&&!Ie&&n().createElement(le.Z,{formctrlidprint:"fld533L1TCExportPrint",formctrlidexport:"fld533L1TCExportTable",formctrlidrefresh:"fld533L1TCExportRefresh",title:Et("533"),data:A,exportData:Dt,Items:et,columnIndex:Je,TableVisibleItem:X,userGridViewFormID:d,TableTotalCount:h,triggerApi:t=>{((t,l,n,o,r)=>{if(0===h)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let i=S.v.Api+"FP533S3/",c={data:{p1:t&&t.PPMSSFreqLocalityIDPK?t.PPMSSFreqLocalityIDPK:null,p2:t&&t.PPMSSFreqLocalityCode?t.PPMSSFreqLocalityCode:null,p3:t&&t.PPMSSFreqLocStartDate?t.PPMSSFreqLocStartDate:null,p4:t&&t.PPMSSFreqLocStartDateType?t.PPMSSFreqLocStartDateType:null,p5:t&&t.PPMSSFreqLocStartDateBetween?t.PPMSSFreqLocStartDateBetween:null,p6:t&&t.PPMSSFreqLocEndDate?t.PPMSSFreqLocEndDate:null,p7:t&&t.PPMSSFreqLocEndDateType?t.PPMSSFreqLocEndDateType:null,p8:t&&t.PPMSSFreqLocEndDateBetween?t.PPMSSFreqLocEndDateBetween:null,p9:t&&t.PPMSSFreqLocHours?t.PPMSSFreqLocHours:null,p10:t&&t.PPMSSFreqLocDays?t.PPMSSFreqLocDays:null,p11:Fe?"1":"0",p12:null,p13:t&&t.FrequencyID?t.FrequencyID:null,p14:e.parentId?Number(e.parentId):0,p15:t&&t.LocalityID?t.LocalityID:null,p16:t&&t.BuildingID?t.BuildingID:null,p17:t&&t.FloorID?t.FloorID:null,p18:t&&t.SpotID?t.SpotID:null,p19:t&&t.IsActive,p20:null,p21:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p22:t&&t.CreatedTtm?t.CreatedTtm:null,p23:t&&t.CreatedTtmType?t.CreatedTtmType:null,p24:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p25:null,p26:t&&t.FrequencyCode?t.FrequencyCode:null,p27:t&&t.FrequencyName?t.FrequencyName:null,p28:t&&t.LocalityGroupID?t.LocalityGroupID:null,p29:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p30:t&&t.LocalityGroupName?t.LocalityGroupName:null,p31:t&&t.CityID?t.CityID:null,p32:t&&t.CityCode?t.CityCode:null,p33:t&&t.CityName?t.CityName:null,p34:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p35:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p36:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p37:t&&t.LocalityCode?t.LocalityCode:null,p38:t&&t.LocalityName?t.LocalityName:null,p39:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p40:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p41:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p42:t&&t.BuildingCode?t.BuildingCode:null,p43:t&&t.BuildingName?t.BuildingName:null,p44:t&&t.FloorCode?t.FloorCode:null,p45:t&&t.FloorName?t.FloorName:null,p46:t&&t.SpotTypeID?t.SpotTypeID:null,p47:t&&t.SpotTypeCode?t.SpotTypeCode:null,p48:t&&t.SpotTypeName?t.SpotTypeName:null,p49:t&&t.AssWingID?t.AssWingID:null,p50:t&&t.AssWingCode?t.AssWingCode:null,p51:t&&t.AssWingName?t.AssWingName:null,p52:t&&t.SpotCode?t.SpotCode:null,p53:t&&t.SpotName?t.SpotName:null,p54:L.current,p55:h,p56:Fe?"DraftPPMSSFreqLocalityID":"PPMSSFreqLocalityID",p57:null,p58:null,p59:localStorage.getItem("UserGroupID"),p60:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Et(533)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,I.Z)(i,c,Te.token[0],r).then((e=>{(0,ge.PDF_Excel_Generate)(e,he,et,B,a,r)}))})(Q,k.column,0,0,t)},Refresh:()=>{j(""),x({current:1,pageSize:100}),i.current.clearItem(),Te.IsDraft?Tt({current:1,pageSize:100},Pe,"DraftPPMSSFreqLocalityID"):Tt({current:1,pageSize:100},Pe,"PPMSSFreqLocalityID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Ie&&!y&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ot)},n().createElement("span",null,ot?n().createElement(M.ZP,{disableFocusListener:!0,title:St("Less"),placement:"top"},n().createElement("span",{id:"fld533L1TCLess"},n().createElement(me.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(M.ZP,{disableFocusListener:!0,title:St("More"),placement:"top"},n().createElement("span",{id:"fld533L1TCMore"},n().createElement(me.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Ie||!ke?null:y||!Te.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld533L1TCFilterDataIsAdd",id:"PPMSSSchFreqLocalitycoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),Y?(document.getElementById("PPMSSSchFreqLocalityFilterDiv").style.width="0%",document.getElementById("PPMSSSchFreqLocalityTabDiv").style.width="100%",document.getElementById("PPMSSSchFreqLocalityFilterDiv").style.display="none",document.getElementById("PPMSSSchFreqLocalitycoldiv").style.width="fit-content",document.getElementById("PPMSSSchFreqLocalitycoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("PPMSSSchFreqLocalityFilterDiv").style.width="25%",document.getElementById("PPMSSSchFreqLocalityTabDiv").style.width="75%",document.getElementById("PPMSSSchFreqLocalityFilterDiv").style.display="block",document.getElementById("PPMSSSchFreqLocalityfildiv").style.width="fit-content",document.getElementById("PPMSSSchFreqLocalityfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSSchFreqLocalitycoldiv").style.width="fit-content",document.getElementById("PPMSSSchFreqLocalitycoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(M.ZP,{title:St("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Ce.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!y&&ke&&!Ie&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"PPMSSSchFreqLocalitycoldiv",className:"buttoncard",onClick:()=>{Ve?ze(!1):(ze(!0),vt({current:1,pageSize:100}))}},n().createElement(M.ZP,{title:St("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld533L1TCTableScrollData"},n().createElement(ve.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},St("Table Scroll Data")))),!Ie&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{he.hideAddBtn(!1),he.ExpandEntry(),Tt({current:1,pageSize:100},Pe,"PPMSSFreqLocalityID"),Ae(!1),j(""),be({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},n().createElement(M.ZP,{title:St("List"),placement:"top"},n().createElement("div",{id:"fld533L1TCList"},n().createElement(rt.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},St("Drafts")," ",h)):!y&&!Ie&&Te.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(at.Z,{color:"secondary",className:"badge",max:999,badgeContent:b,showZero:!0},n().createElement("div",{id:"fld533L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{b>0?(x({current:1,pageSize:100}),E(0),he.clear(),j(""),be({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Pe,"DraftPPMSSFreqLocalityID"),Ae(!0),be({type:"IsDraft",payload:!0}),W(!1),Ge(!0),document.getElementById("PPMSSSchFreqLocalityFilterDiv").style.width="0%",document.getElementById("PPMSSSchFreqLocalityTabDiv").style.width="100%",document.getElementById("PPMSSSchFreqLocalityFilterDiv").style.display="none",x({current:1,pageSize:100}),Ne(!1)):he.alert({open:!0,color:"warning",message:[St("There is no Record Found")]})}},n().createElement(M.ZP,{title:St("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(it.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},St("Drafts"))))))):""),!Fe&&!y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld533L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(me.umT,null)),n().createElement("span",null,St("List"))),n().createElement("div",{className:Ze||lt?"buttonGrid":"buttonList",id:"fld533L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(G.aCJ,null)),n().createElement("span",null,St("Card"))),n().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld533L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ue.f_H,null)),n().createElement("span",null,St("Tile"))))))),Ie?null:Ve?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld533L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{E(t),vt({current:t+1,pageSize:We.pageSize}),$e({current:t+1,pageSize:We.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:He,color:"primary",page:We.current,onChange:(e,t)=>{$e({current:t,pageSize:We.pageSize}),Ue(t),vt({current:t,pageSize:We.pageSize})}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:We.pageSize,frmctrlid:"fld533L1TCSelectPagination",onChange:e=>{$e({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(de.Z,{style:{color:"#777"},id:"fld533L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(h),page:D,onPageChange:(e,t)=>{E(t),Tt({current:t+1,pageSize:L.pageSize},Pe,Fe?"DraftPPMSSFreqLocalityID":"PPMSSFreqLocalityID",Fe&&"DraftPage"),x({current:t+1,pageSize:L.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{count:f,siblingCount:0,color:"primary",page:L.current,onChange:(e,t)=>{if(x({current:t,pageSize:L.pageSize}),Fe)Tt({current:t,pageSize:L.pageSize},Le,"DraftPPMSSFreqLocalityID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";U.length>0?bt(U,{current:t,pageSize:L.pageSize}):Tt({current:t,pageSize:L.pageSize},Le,"PPMSSFreqLocalityID")}}}),n().createElement("div",null,n().createElement(re.Z,{className:"BootstrapInputStyle",value:L.pageSize,id:"fld533L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Fe?Tt({current:1,pageSize:e.target.value},Le,"DraftPPMSSFreqLocalityID","DraftPage"):U.length>0?bt(U,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},Le,"PPMSSFreqLocalityID")}},n().createElement(oe.Z,{value:10},"10"),n().createElement(oe.Z,{value:20},"20"),n().createElement(oe.Z,{value:50},"50"),n().createElement(oe.Z,{value:100},"100"))),ke&&n().createElement("p",{className:"per-page"},"/ ",St("RowperpageOf")," (",h,") "))),n().createElement("div",{id:"PPMSSSchFreqLocality-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMSSSchFreqLocalityFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},z&&n().createElement(qn,{parentId:e.parentId,searchData:e=>{H(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:d,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>ht(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Y&&n().createElement(ie.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Pe,"PPMSSFreqLocalityID")},frmctrlid:"fld533L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:Y,userID:c,userGridViewFormID:d,saved:(e,t)=>{e&&Pt(t),Ct(t),be({type:"showTableview",payload:t})},Token:Te.token[0]})),n().createElement("div",{id:"PPMSSSchFreqLocalityTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?n().createElement(Lt,null):n().createElement(se.Z,{frmctrlid:"fld533L1TCExpandedCardDual",data:K,id:"PPMSSSchFreqLocality",title:"PPMSSFreqLocalityCode",cardTile:!!lt,visibleitem:X,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{y?he.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Fe}),be({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),z?_(!0):Y?W(!0):(W(!1),W(!1))),he.hideAddBtn(!0)}})))))))})),Vn={EnterKeyValues:{PPMSSSchFreqLocality:["PPMSSFreqLocalityCode","PPMSSFreqLocStartDate","PPMSSFreqLocEndDate","PPMSSFreqLocHours","PPMSSFreqLocDays","ContractName","LocalityName","BuildingName","FloorName","SpotName","FrequencyName"]},Label:{PPMSSSchFreqLocality:{PPMSSFreqLocalityCode:["PPMSSFreqLocalityCode"],PPMSSFreqLocStartDate:["PPMSSFreqLocalityCode"],PPMSSFreqLocEndDate:["PPMSSFreqLocalityCode"],PPMSSFreqLocHours:["PPMSSFreqLocalityCode"],PPMSSFreqLocDays:["PPMSSFreqLocalityCode"],ContractID:["PPMSSFreqLocalityCode"],LocalityID:["PPMSSFreqLocalityCode"],BuildingID:["PPMSSFreqLocalityCode"],FloorID:["PPMSSFreqLocalityCode"],SpotID:["PPMSSFreqLocalityCode"],FrequencyID:["FrequencyCode","FrequencyName"]}},LabelHeader:{PPMSSSchFreqLocality:{PPMSSFreqLocalityCode:["PPMSSFreqLocalityCode"],PPMSSFreqLocStartDate:["PPMSSFreqLocalityCode"],PPMSSFreqLocEndDate:["PPMSSFreqLocalityCode"],PPMSSFreqLocHours:["PPMSSFreqLocalityCode"],PPMSSFreqLocDays:["PPMSSFreqLocalityCode"],ContractID:["PPMSSFreqLocalityCode"],LocalityID:["PPMSSFreqLocalityCode"],BuildingID:["PPMSSFreqLocalityCode"],FloorID:["PPMSSFreqLocalityCode"],SpotID:["PPMSSFreqLocalityCode"],FrequencyID:["Frequency Code","Frequency Name"]}},Property:{PPMSSSchFreqLocality:{PPMSSFreqLocalityCode:{id:"fld533_21764",labelID:"PPMSSFreqLocalityCode",maxLength:"50",labelname:"",frmctrlid:"fld533_21764",frmctrlidname:"PPMSSFreqLocalityCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSFreqLocStartDate:{id:"fld533_21765",labelID:"PPMSSFreqLocStartDate",maxLength:"",labelname:"",frmctrlid:"fld533_21765",frmctrlidname:"PPMSSFreqLocStartDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSFreqLocEndDate:{id:"fld533_21766",labelID:"PPMSSFreqLocEndDate",maxLength:"",labelname:"",frmctrlid:"fld533_21766",frmctrlidname:"PPMSSFreqLocEndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSFreqLocHours:{id:"fld533_21767",labelID:"PPMSSFreqLocHours",maxLength:"",labelname:"",frmctrlid:"fld533_21767",frmctrlidname:"PPMSSFreqLocHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSFreqLocDays:{id:"fld533_21768",labelID:"PPMSSFreqLocDays",maxLength:"",labelname:"",frmctrlid:"fld533_21768",frmctrlidname:"PPMSSFreqLocDays",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld533_21772",clearID:"PPMSSSchFreqLocalityContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"",fielddisplayname:"ContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},LocalityID:{id:"fld533_21773",clearID:"PPMSSSchFreqLocalityLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BuildingID:{id:"fld533_21774",clearID:"PPMSSSchFreqLocalityBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"Building",fielddisplayname:"BuildingName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FloorID:{id:"fld533_21775",clearID:"PPMSSSchFreqLocalityFloorNameClear",type:"select",labelID:"FloorIDPK",labelname:"Floor",fielddisplayname:"FloorName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},SpotID:{id:"fld533_21776",clearID:"PPMSSSchFreqLocalitySpotNameClear",type:"select",labelID:"SpotIDPK",labelname:"Spot",fielddisplayname:"SpotName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FrequencyID:{id:"fld533_21771",clearID:"PPMSSSchFreqLocalityFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMSSSchFreqLocality:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],FloorID:["FloorCode","FloorName","BuildingName","LocalityName"],SpotID:["SpotCode","SpotName","LocalityName","BuildingName","FloorName","AssWingName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"]}}},zn={PPMSSFreqLocalityIDPK:"",PPMSSFreqLocalityCode:"",PPMSSFreqLocStartDate:"",PPMSSFreqLocStartDateType:"",PPMSSFreqLocStartDateBetween:"",PPMSSFreqLocEndDate:"",PPMSSFreqLocEndDateType:"",PPMSSFreqLocEndDateBetween:"",PPMSSFreqLocHours:"",PPMSSFreqLocDays:"",IsDraft:!1,Remarks:"",FrequencyID:null,ContractID:null,LocalityID:null,BuildingID:null,FloorID:null,SpotID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeID:null,AssBuildingTypeCode:"",AssBuildingTypeName:"",BuildingCode:"",BuildingName:"",FloorCode:"",FloorName:"",SpotTypeID:null,SpotTypeCode:"",SpotTypeName:"",AssWingID:null,AssWingCode:"",AssWingName:"",SpotCode:"",SpotName:"",Type:"PPMSSFreqLocalityID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},_n=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[r,i]=(0,l.useState)(!1),[s,y]=(0,l.useState)(!0),[g,D]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!1),[b,P]=(0,l.useState)(""),[L,x]=(0,l.useState)(!1),[F,A]=(0,l.useState)([]),[M,R]=(0,l.useState)(null),[k,O]=(0,l.useReducer)(Fe.Z,zn),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)([]),[_,Q]=(0,l.useState)(!1),H=(0,l.useContext)(e.context?e.context:Hn),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:Un(),[Y,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(""),X=(0,l.useRef)(null),[ee,te]=Oe()("533"),[ae,le]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(""),[re,ie]=(0,l.useState)(""),[ce,de]=(0,l.useState)(!0),[se,me]=(0,l.useState)(!0),[ue,pe]=(0,l.useState)(!1);let Ce=(0,N.Z)();const[ge,De]=(0,l.useState)({}),Ie=e=>Ce[e]?Ce[e]:e,Se=t=>U.language?.[t]?U.language[t]:e.createEasy?ge?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&W(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{Ne()}),[]),(0,l.useEffect)((()=>{Ne()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(ve(U.editData[0],""),D(!0)):U.Add&&(Ne(),Ae(1,null,"SetDefaultPPMSSFreqLocalityID",U.token[0]),D(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),De(Object.assign({},...t))}(ee)}),[ee]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()},CreateEasyProps:(e=!0,t)=>{te(!0),t?(Qe(t),D(e)):(Ne(),D(e))},AddOpen:e=>{Ne(),D(!0)}})));const Ee=e=>e?e.split("-").reverse().join("-"):null,fe=e=>{if(e){let t=Ee(e);return"Invalid Date"!=new Date(t)?(0,we.format)(new Date(t),"yyyy-MM-dd"):e}return null},ve=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),h(t.IsDraft),"SetDefaultPPMSSFreqLocalityID"==a?J(t.PPMSSFreqLocalityIDPK):(W(e.primid?Number(e.primid):t.PPMSSFreqLocalityIDPK?t.PPMSSFreqLocalityIDPK:0),j({type:"PrimaryId",payload:t.PPMSSFreqLocalityIDPK})),O({type:"text",name:"PPMSSFreqLocalityCode",value:t.PPMSSFreqLocalityCode?t.PPMSSFreqLocalityCode:""}),O({type:"text",name:"PPMSSFreqLocStartDate",value:t.PPMSSFreqLocStartDate?Ee(t.PPMSSFreqLocStartDate):null}),O({type:"text",name:"PPMSSFreqLocEndDate",value:t.PPMSSFreqLocEndDate?Ee(t.PPMSSFreqLocEndDate):null}),O({type:"number",name:"PPMSSFreqLocHours",number:t.PPMSSFreqLocHours}),O({type:"number",name:"PPMSSFreqLocDays",number:t.PPMSSFreqLocDays}),O({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),O({type:"text",name:"ContractName",value:t.ContractName}),O({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),O({type:"text",name:"LocalityName",value:t.LocalityName}),O({type:"number",name:"BuildingID",number:t.BuildingID?Number(t.BuildingID):0}),O({type:"text",name:"BuildingName",value:t.BuildingName}),O({type:"number",name:"FloorID",number:t.FloorID?Number(t.FloorID):0}),O({type:"text",name:"FloorName",value:t.FloorName}),O({type:"number",name:"SpotID",number:t.SpotID?Number(t.SpotID):0}),O({type:"text",name:"SpotName",value:t.SpotName}),O({type:"number",name:"FrequencyID",number:t.FrequencyID?Number(t.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:t.FrequencyName}),t.IsDraft?y(!0):y(!("1"!=t.IsActive&&!t.IsActive))},Ne=()=>{A([]),W(0),J(""),e.createEasy||H.resetImg(),j({type:"PrimaryId",payload:""}),O({type:"text",name:"PPMSSFreqLocalityCode",value:""}),O({type:"text",name:"PPMSSFreqLocStartDate",value:""}),O({type:"text",name:"PPMSSFreqLocEndDate",value:""}),O({type:"number",name:"PPMSSFreqLocHours",number:0}),O({type:"number",name:"PPMSSFreqLocDays",number:0}),O({type:"text",name:"ContractID",value:null}),O({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSSSchFreqLocalityContractNameClear")&&document.getElementById("PPMSSSchFreqLocalityContractNameClear").click(),O({type:"text",name:"LocalityID",value:null}),O({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSSSchFreqLocalityLocalityNameClear")&&document.getElementById("PPMSSSchFreqLocalityLocalityNameClear").click(),O({type:"text",name:"BuildingID",value:null}),O({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSSSchFreqLocalityBuildingNameClear")&&document.getElementById("PPMSSSchFreqLocalityBuildingNameClear").click(),O({type:"text",name:"FloorID",value:null}),O({type:"text",name:"FloorName",value:""}),document.getElementById("PPMSSSchFreqLocalityFloorNameClear")&&document.getElementById("PPMSSSchFreqLocalityFloorNameClear").click(),O({type:"text",name:"SpotID",value:null}),O({type:"text",name:"SpotName",value:""}),document.getElementById("PPMSSSchFreqLocalitySpotNameClear")&&document.getElementById("PPMSSSchFreqLocalitySpotNameClear").click(),O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSSSchFreqLocalityFrequencyNameClear")&&document.getElementById("PPMSSSchFreqLocalityFrequencyNameClear").click(),y(!0),P(""),le(!0),de(!0),me(!0)},he=t=>{H.loading(!0),H.ConfirmAlert(null);const a=S.v.Api+"FP533S2/",l={data:[{p1:"SetDefaultPPMSSFreqLocalityID"==t?"NORECORDS"!=$&&$?$:0:Y,p2:He(k.PPMSSFreqLocalityCode),p3:k.PPMSSFreqLocStartDate?fe(k.PPMSSFreqLocStartDate):null,p4:k.PPMSSFreqLocEndDate?fe(k.PPMSSFreqLocEndDate):null,p5:k.PPMSSFreqLocHours?Number(k.PPMSSFreqLocHours):0,p6:k.PPMSSFreqLocDays?Number(k.PPMSSFreqLocDays):0,p7:!1,p8:"SetDefaultPPMSSFreqLocalityID"==t?"SetDefault":null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:k.FloorID?k.FloorID:0,p14:k.SpotID?k.SpotID:0,p15:s,p16:"SetDefaultPPMSSFreqLocalityID"==t,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,I.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(H.alert({open:!0,color:"warning",message:o}),H.loading(!1)):(t=>{le(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP533S1/",l={data:[{p1:Y,p2:He(k.PPMSSFreqLocalityCode),p3:k.PPMSSFreqLocStartDate?fe(k.PPMSSFreqLocStartDate):null,p4:k.PPMSSFreqLocEndDate?fe(k.PPMSSFreqLocEndDate):null,p5:k.PPMSSFreqLocHours?Number(k.PPMSSFreqLocHours):0,p6:k.PPMSSFreqLocDays?Number(k.PPMSSFreqLocDays):0,p7:!1,p8:null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:k.FloorID?k.FloorID:0,p14:k.SpotID?k.SpotID:0,p15:s,p16:!1,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((t=>{(0,z.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(H.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSSSchFreqLocality"),H.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(H.RefreshTable(),H.attachmentSave(t[0].Data.IDPK)),Ne(),U.AccessRights.IsApproval&&H.Approval(!0),document.getElementById("overlayimgAttPPMSSSchFreqLocality")&&(document.getElementById("overlayimgAttPPMSSSchFreqLocality").style.width="0%",document.getElementById("overlayimgAttPPMSSSchFreqLocality").style.display="none",document.getElementById("divPPMSSSchFreqLocality-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSSSchFreqLocality-MainTable").style.display="block")):(H.alert({open:!0,color:"warning",message:[a.message]}),H.loading(!1)),D(!0)}))}))})()):(H.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),H.loading(!1))}))}))};function Te(t,a,l,n){if(!(U.count>0))return H.alert({open:!0,color:"warning",message:[Ie("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return H.alert({open:!0,color:"warning",message:[Ie("Please enter the primary fields")]}),!1;{le(!0),de(!0),me(!0),H.loading(!0),H.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const a=S.v.Api+"FP533S1/",l={data:[{p1:"SetDefaultPPMSSFreqLocalityID"==n?"NORECORDS"!=$&&$?$:0:Y,p2:He(k.PPMSSFreqLocalityCode),p3:k.PPMSSFreqLocStartDate?fe(k.PPMSSFreqLocStartDate):null,p4:k.PPMSSFreqLocEndDate?fe(k.PPMSSFreqLocEndDate):null,p5:k.PPMSSFreqLocHours?Number(k.PPMSSFreqLocHours):0,p6:k.PPMSSFreqLocDays?Number(k.PPMSSFreqLocDays):0,p7:!0,p8:"SetDefaultPPMSSFreqLocalityID"==n?"SetDefault":null,p9:k.FrequencyID?k.FrequencyID:0,p10:e.parentId?Number(e.parentId):k.ContractID?k.ContractID:0,p11:k.LocalityID?k.LocalityID:0,p12:k.BuildingID?k.BuildingID:0,p13:k.FloorID?k.FloorID:0,p14:k.SpotID?k.SpotID:0,p15:!1,p16:"SetDefaultPPMSSFreqLocalityID"==n,p17:localStorage.getItem("userid"),p18:V()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,f.Z)(0).then((n=>{(0,z.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?H.alert({open:!0,color:"warning",message:[Ie("Deleted Successfully")]}):H.alert({open:!0,color:"success",message:[Ie("Saved to Draft")]}),H.loading(!1),H.attachmentSave(a[0].Data.IDPK),Ne(),H.RefreshTable(),e.clrImgstate(!0)):(H.alert({open:!0,color:"warning",message:[l.message]}),H.loading(!1))}))}))}}function be(e){return CreateEasy(e,U,j,H,X),!1}function Le(e,a){return AdvanceSearch(e,a,Hn,Un(),Ke,t),!1}const Ae=(t,a,l,n,o,r)=>{const i=S.v.Api+"FP533S3/",c={data:{p1:null,p2:null,p3:k.PPMSSFreqLocStartDate?k.PPMSSFreqLocStartDate:null,p4:null,p5:null,p6:k.PPMSSFreqLocEndDate?k.PPMSSFreqLocEndDate:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:"0"==k.FrequencyID?null:k.FrequencyID,p14:e.parentId?Number(e.parentId):0,p15:"0"==k.LocalityID?null:k.LocalityID,p16:"0"==k.BuildingID?null:k.BuildingID,p17:"0"==k.FloorID?null:k.FloorID,p18:"0"==k.SpotID?null:k.SpotID,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:"0"==k.LocalityGroupID?null:k.LocalityGroupID,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:"0"==k.CityID?null:k.CityID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==k.AdminLocalityTypeID?null:k.AdminLocalityTypeID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.AssBuildingTypeID?null:k.AssBuildingTypeID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==k.SpotTypeID?null:k.SpotTypeID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==k.AssWingID?null:k.AssWingID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:t,p55:10,p56:l,p57:null,p58:null,p59:localStorage.getItem("UserGroupID"),p60:localStorage.getItem("userid")}},d=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});G(!0);const s={data:d};return(0,I.Z)(i,"ClearAll"==l?s:c,"SetDefaultPPMSSFreqLocalityID"==l&&n?n:U.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(o)return 1==n.length?n[0]:{};K(1==t?e>0?n:[]:q.concat(n)),"SetDefaultPPMSSFreqLocalityID"==l&&(e>0?ve(n[0],"SetDefaultPPMSSFreqLocalityID"):J("NORECORDS")),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},ke=(t,l,n)=>{const o=S.v.Api+"FP533S3/",r={data:{p1:null,p2:"PPMSSFreqLocalityCode"==n&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"PPMSSFreqLocHours"==n&&l?"%"+l+"%":null,p10:"PPMSSFreqLocDays"==n&&l?"%"+l+"%":null,p11:null,p12:null,p13:null,p14:a.ConContractRegistryContractID?a.ConContractRegistryContractID:"0",p15:null,p16:null,p17:null,p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:t,p55:10,p56:"PPMSSFreqLocalityID",p57:null,p58:null,p59:localStorage.getItem("UserGroupID"),p60:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};G(!0),(0,I.Z)(o,"ClearAll"==n?i:r,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSSFreqLocalityCode"==n&&le(e>0),"PPMSSFreqLocHours"==n&&de(e>0),"PPMSSFreqLocDays"==n&&me(e>0),K(l)):("PPMSSFreqLocalityCode"==n&&le(!0),"PPMSSFreqLocHours"==n&&de(!0),"PPMSSFreqLocDays"==n&&me(!0),K(q.concat(l))),G(!1)}else H.alert({open:!0,color:"warning",message:[e.Output.status.message]}),G(!1)}))},Ke=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a?O({type:"text",name:t,value:e}):"select"==a&&("ContractID"==t||"LocalityID"==t||"BuildingID"==t||"FloorID"==t||"SpotID"==t||"FrequencyID"==t&&(O({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null})))}),[k]);function Ve(e){if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e){if(!k.LocalityID)return!1}else if("BuildingID"==e){if(!k.BuildingID)return!1}else if("FloorID"==e){if(!k.FloorID)return!1}else if("SpotID"==e){if(!k.SpotID)return!1}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null}),O({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSSSchFreqLocalityFrequencyNameClear")&&document.getElementById("PPMSSSchFreqLocalityFrequencyNameClear").click()}}function ze(e){if("ContractID"==e){if(!k.ContractID)return!1}else if("LocalityID"==e){if(!k.LocalityID)return!1}else if("BuildingID"==e){if(!k.BuildingID)return!1}else if("FloorID"==e){if(!k.FloorID)return!1}else if("SpotID"==e){if(!k.SpotID)return!1}else if("FrequencyID"==e){if(!k.FrequencyID)return!1;O({type:"text",name:"FrequencyID",value:null})}}const _e=e=>{H.ConfirmAlert(n().createElement(xe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Qe(e),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("No"),showCancel:!0},Ie("Do you want to update this record?")))};function Qe(e){H.ConfirmAlert(null),h(e.IsDraft),W(Number(e.PPMSSFreqLocalityIDPK)?Number(e.PPMSSFreqLocalityIDPK):0),O({type:"text",name:"PPMSSFreqLocalityCode",value:e.PPMSSFreqLocalityCode?e.PPMSSFreqLocalityCode:""}),O({type:"text",name:"PPMSSFreqLocStartDate",value:e.PPMSSFreqLocStartDate?Ee(e.PPMSSFreqLocStartDate):null}),O({type:"text",name:"PPMSSFreqLocEndDate",value:e.PPMSSFreqLocEndDate?Ee(e.PPMSSFreqLocEndDate):null}),O({type:"text",name:"PPMSSFreqLocHours",value:e.PPMSSFreqLocHours?e.PPMSSFreqLocHours:""}),O({type:"text",name:"PPMSSFreqLocDays",value:e.PPMSSFreqLocDays?e.PPMSSFreqLocDays:""}),O({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),O({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),O({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),O({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),O({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),O({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),O({type:"number",name:"FloorID",number:e.FloorID?Number(e.FloorID):0}),O({type:"text",name:"FloorName",value:e.FloorName?e.FloorName:""}),O({type:"number",name:"SpotID",number:e.SpotID?Number(e.SpotID):0}),O({type:"text",name:"SpotName",value:e.SpotName?e.SpotName:""}),O({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),O({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""})}const He=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(u.Z,{expanded:g,onChange:e=>{}},n().createElement(C.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.63-3:15:30 PM-28-7[533]"}," ",Ie("Add "),Se("533")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(B.Z,{row:!0},n().createElement(m.Z,{labelPlacement:"bottom",id:"fld533L1ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==s,onChange:e=>y(e.target.checked)}),label:Ie(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{H.AttachExpand(!0)},id:"fld533L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Me.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Attach")))),!Y&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ne()},id:"fld533L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Me.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Reset")))),"1"===E&&Y&&n().createElement(Pe.Z,{frmctrlid:"fld533L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Te("draftdel")}}),Y&&"1"!==E||e.createEasy?null:U.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Te()},frmctrlid:"fld533L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ye.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ie("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?n().createElement(v.Z,{frmctrlid:"fld533L1ECSaveBtnIsAdd",name:Ie(Y?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?k.FrequencyID&&0!=k.FrequencyID?H.ConfirmAlert(n().createElement(xe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ie("Are you sure?"),onConfirm:()=>he(),onCancel:()=>H.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ie("Yes"),cancelBtnText:Ie("Cancel"),showCancel:!0},Ie(Y?"Do you want to Update?":"Do you want to Save?"))):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("FrequencyID")]}):H.alert({open:!0,color:"warning",message:[Ie("Please select the ")+" "+Se("ContractID")]})}}):null,!e.createEasy&&n().createElement(T.Z,{frmctrlid:"fld533L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ne(),D(!1),H.EditClose(!0),H.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"PPMSSSchFreqLocality-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMSSSchFreqLocality-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMSSSchFreqLocality-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(Ze.Z,null,n().createElement(qe.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(c.Z,null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Ge.Z,{style:{padding:"5px 20px 15px"}},n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.PPMSSFreqLocalityCode,json:Vn,SPName:"PPMSSSchFreqLocality",FieldName:"PPMSSFreqLocalityCode",tfLabel:Se("PPMSSFreqLocalityCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&_e(t),onClick:()=>{ae&&ke(1,"","ClearAll"),le(!0)},frmctrlid:"fld533_21764",frmctrlidName:"PPMSSFreqLocalityCode",fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ae&&ke(e,t,"PPMSSFreqLocalityCode"),Ke(t,"PPMSSFreqLocalityCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.PPMSSFreqLocalityCode,loading:Z,clear:e=>{e&&(O({type:"text",name:"PPMSSFreqLocalityCode",value:""}),le(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{value:k.PPMSSFreqLocStartDate,"data-testid":k.PPMSSFreqLocStartDate,disabled:!1,onChange:e=>{Ke(e,"PPMSSFreqLocStartDate","date")},onErr:e=>{oe(e)},label:Se("PPMSSFreqLocStartDate"),frmctrlid:"fld533_21765",frmctrlidName:"PPMSSFreqLocStartDate",fieldorder:"0"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Re.Z,{value:k.PPMSSFreqLocEndDate,"data-testid":k.PPMSSFreqLocEndDate,disabled:!1,onChange:e=>{Ke(e,"PPMSSFreqLocEndDate","date")},onErr:e=>{ie(e)},label:Se("PPMSSFreqLocEndDate"),frmctrlid:"fld533_21766",frmctrlidName:"PPMSSFreqLocEndDate",fieldorder:"0"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.PPMSSFreqLocHours,json:Vn,SPName:"PPMSSSchFreqLocality",FieldName:"PPMSSFreqLocHours",tfLabel:Se("PPMSSFreqLocHours"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&_e(t),onClick:()=>{ce&&ke(1,"","ClearAll"),de(!0)},frmctrlid:"fld533_21767",frmctrlidName:"PPMSSFreqLocHours",fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ce&&ke(e,t,"PPMSSFreqLocHours"),Ke(t,"PPMSSFreqLocHours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.PPMSSFreqLocHours,loading:Z,clear:e=>{e&&(O({type:"text",name:"PPMSSFreqLocHours",value:""}),de(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{"data-testid":k.PPMSSFreqLocDays,json:Vn,SPName:"PPMSSSchFreqLocality",FieldName:"PPMSSFreqLocDays",tfLabel:Se("PPMSSFreqLocDays"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&_e(t),onClick:()=>{se&&ke(1,"","ClearAll"),me(!0)},frmctrlid:"fld533_21768",frmctrlidName:"PPMSSFreqLocDays",fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{se&&ke(e,t,"PPMSSFreqLocDays"),Ke(t,"PPMSSFreqLocDays","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:k.PPMSSFreqLocDays,loading:Z,clear:e=>{e&&(O({type:"text",name:"PPMSSFreqLocDays",value:""}),me(!0))}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Vn,id:k.ContractID,"data-testid":k.ContractID,value:k.ContractName,SPName:"PPMSSSchFreqLocality",FieldName:"ContractID",tfLabel:Se("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"ContractID","select"),onChange:(e,t)=>{Ae(e,t,"ContractIDPK")},KeyBack:e=>{ze("ContractID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("156")},Tabledialog:()=>Le("156","ContractID"),loading:Z,clear:e=>{e&&Ve("ContractID")}}))))),n().createElement(Ze.Z,null,n().createElement(qe.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(c.Z,null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Ge.Z,{style:{padding:"5px 20px 15px"}},n().createElement(c.Z,{spacing:2},n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Vn,id:k.LocalityID,"data-testid":k.LocalityID,value:k.LocalityName,SPName:"PPMSSSchFreqLocality",FieldName:"LocalityID",tfLabel:Se("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"LocalityID","select"),onChange:(e,t)=>{Ae(e,t,"LocalityIDPK")},KeyBack:e=>{ze("LocalityID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("12")},Tabledialog:()=>Le("12","LocalityID"),loading:Z,clear:e=>{e&&Ve("LocalityID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Vn,id:k.BuildingID,"data-testid":k.BuildingID,value:k.BuildingName,SPName:"PPMSSSchFreqLocality",FieldName:"BuildingID",tfLabel:Se("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"BuildingID","select"),onChange:(e,t)=>{Ae(e,t,"BuildingIDPK")},KeyBack:e=>{ze("BuildingID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("30")},Tabledialog:()=>Le("30","BuildingID"),loading:Z,clear:e=>{e&&Ve("BuildingID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Vn,id:k.FloorID,"data-testid":k.FloorID,value:k.FloorName,SPName:"PPMSSSchFreqLocality",FieldName:"FloorID",tfLabel:Se("FloorID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"FloorID","select"),onChange:(e,t)=>{Ae(e,t,"FloorIDPK")},KeyBack:e=>{ze("FloorID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("52")},Tabledialog:()=>Le("52","FloorID"),loading:Z,clear:e=>{e&&Ve("FloorID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Be.Z,{json:Vn,id:k.SpotID,"data-testid":k.SpotID,value:k.SpotName,SPName:"PPMSSSchFreqLocality",FieldName:"SpotID",tfLabel:Se("SpotID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"SpotID","select"),onChange:(e,t)=>{Ae(e,t,"SpotIDPK")},KeyBack:e=>{ze("SpotID")},fieldorder:"0",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("70")},Tabledialog:()=>Le("70","SpotID"),loading:Z,clear:e=>{e&&Ve("SpotID")}})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Be.Z,{json:Vn,id:k.FrequencyID,"data-testid":k.FrequencyID,value:k.FrequencyName,SPName:"PPMSSSchFreqLocality",FieldName:"FrequencyID",tfLabel:Se("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"FrequencyID","select"),onChange:(e,t)=>{Ae(e,t,"FrequencyIDPK")},KeyBack:e=>{ze("FrequencyID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{be("457")},Tabledialog:()=>Le("457","FrequencyID"),loading:Z,clear:e=>{e&&Ve("FrequencyID")}})))))),n().createElement("div",{id:"PPMSSSchFreqLocalitySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSSchFreqLocalitySideBar").style.width="0",void x(!1))},"×"),L&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},M))))))))})),Qn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,d]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[s,m]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,E]=(0,l.useState)(""),[v,h]=n().useState(!1),[b,P]=n().useState(""),[L,x]=n().useState(!1),w=(0,l.useContext)(Hn),{cstate:B,cdispatch:F}=Un(),[A,M]=(0,l.useState)(!1),[R,k]=(0,l.useState)(""),[O,Z]=(0,l.useState)(""),[G,q]=(0,l.useState)("");let K=(0,N.Z)();(0,l.useEffect)((()=>{B.editData.length>0&&(d(B.editData),h(!1),F({type:"PrimaryId",payload:B.editData[0].PPMSSFreqLocalityIDPK}))}),[B.editData]),(0,l.useEffect)((()=>{B.showTableview&&q(B.showTableview)}),[B.showTableview]),(0,l.useEffect)((()=>{m(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),h(null)},viewtoggle:()=>{h(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP533S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:1,p55:10,p56:B.IsDraft?"DraftPPMSSFreqLocalityID":"PPMSSFreqLocalityID",p57:null,p58:null,p59:localStorage.getItem("UserGroupID"),p60:localStorage.getItem("userid")}};(0,f.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,z=e=>B.language?.[e]?B.language[e]:e;function _(e,t){}const Q=(e,t)=>(a,l)=>{P(L?Object.assign(...c.filter((e=>e.PPMSSFreqLocalityIDPK==t)).map((e=>e))):B.editData),h(!l&&e)};return n().createElement("div",null,n().createElement(u.Z,{expanded:s,onChange:()=>()=>{e.expandTable&&m(!s)}},!v&&n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},s?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",z("PPMSSSchFreqLocality"),e.viewonly?" ":"("+B.count+")")):"",s?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(r.Z,{name:V("Add"),frmctrlid:"fld533L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(i.Z,{frmctrlid:"fld533L1VCEditBtn",onClick:Q("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(i.Z,{frmctrlid:"fld533L1VCEditBtnIsAdd",onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(T.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld533L1VCCloseBtn",onClick:()=>{m(!1),w.hideAddBtn(!1),L&&(F({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},c.map(((t,l)=>n().createElement("div",{key:l},v==="panel"+l?n().createElement(_n,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Qe.Z,{tableName:"PPMSSSchFreqLocality",tableID:533,parentID:t.PPMSSFreqLocalityIDPK,fldid:"fld533L1VCContainer",OpenSlideComponent:_,index:l,refresh:G,val:t,tf:z,t:V,title:"10.0.0.63-3:15:30 PM-28-7[533]"}))))))))})),Hn=(0,l.createContext)(),Un=()=>{const e=(0,l.useContext)(Hn);if(void 0===e)throw new Error("useCont must be used within  PPMSSSchFreqLocalityContext Provider");return e},jn=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),r=(0,l.useRef)(),i=(0,l.useRef)(),c=(0,l.useRef)(),d=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),C=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[y,g]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(We.D,We.E),[S,E]=(0,l.useState)(""),[v,N]=(0,l.useState)([]),[h,T]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divPPMSSSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainTable").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divPPMSSSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainTable").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const b=e=>{N([]),document.getElementById("divPPMSSSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSSSchFreqLocalityEntryTable").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainEntry").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainEntry").style.display="block",document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSSchFreqLocality").style.width="0%",document.getElementById("overlayimgAttPPMSSSchFreqLocality").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,f.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),g(t.length),P(e)}))}))}),[]);const P=t=>{I({type:"AccessRights",payload:e.AccessRights}),T(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Hn.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Un,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,v),N([])},EditClose:e=>b(),AttachExpand:e=>(c.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewPPMSSSchFreqLocality").style.width="50%",document.getElementById("divPPMSSSchFreqLocality-Entry").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainTable").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainEntry").style.width="100%",document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSSchFreqLocality-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSSchFreqLocality").style.display="block",document.getElementById("overlayimgAttPPMSSSchFreqLocality").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),c.current.clrImgstate(!0)}}},n().createElement("div",{id:"PPMSSSchFreqLocality-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"PPMSSSchFreqLocality-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"PPMSSSchFreqLocalityEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMSSSchFreqLocality-Entry",style:{width:"100%"}},0!==y?n().createElement(Qn,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(je.Z,{ref:d,menurefID:533,fileId:"LogoImgPPMSSSchFreqLocality",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewPPMSSSchFreqLocality",frmctrlid:"PvwIm_533_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMSSSchFreqLocality-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(_n,{ref:r,clrImgstate:e=>c.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(je.Z,{ref:d,menurefID:533,fileId:"LogoImgPPMSSSchFreqLocality",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>c.current.AttachmentData(e),previd:"overlayPreviewPPMSSSchFreqLocality",frmctrlid:"PvwIm_533_L1_",tempImg:e=>{D.PrimaryId?c.current.AttachmentData(D.PrimaryId):c.current.tempImg(e),N(e)},clearTempData:D.Add})),n().createElement("div",{id:"PPMSSSchFreqLocality-MainTable"},0!==y?n().createElement(Kn,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ue.Z,{ImgAttachment:e=>b(),menurefID:533,fileId:"AttImgPPMSSSchFreqLocality",imgid:"overlayimgAttPPMSSSchFreqLocality",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSSSchFreqLocality",ref:c,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_533_L1_",timglist:e=>{d.current.timglist(e),N(e)},clearTempData:D.Add}))),n().createElement("div",{id:"PPMSSSchFreqLocality-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(Je(),{openDialog:h,closeDialog:e=>T(e),formID:533,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Yn=a(20067),Wn=a(42258),$n=a(75086),Jn=a(25108);const Xn={UserIDPK:"",UserCode:"",UserName:"",UserPassword:"",UserConfirmPassword:"",UserLoginStat:"",UserEmail:"",UserMobile:"",IsSuperUser:"",IsPriorityUser:"",IsSelfService:"",IsWeb:"",IsXceed:"",IsReach:"",IsWebSaas:"",IsMobilePortal:"",IsClientPortal:"",IsSCM:"",IsGroupAtten:"",IsLanLoard:"",ResetCode:"",ResetDURDate:"",ResetDURDateType:"",ResetDURDateBetween:"",IsDraft:0,Remarks:"",UserGroupID:"",EmployeeID:"",IsActive:1,DeleStat:0,CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",GroupCode:"",GroupDesc:"",GroupEmail:"",GroupMobile:"",GroupName:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CurrencyName:"",CurrencySymbol:"",EmployeeCode:"",FirstName:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},eo=(0,l.forwardRef)((e=>{const[t,a]=(0,l.useState)(!1),[o,r]=(0,l.useState)(""),[i,s]=(0,l.useState)([]),[m,u]=(0,l.useReducer)(Fe.Z,Xn),[p,C]=(0,l.useState)(!1),[y,D]=(0,l.useState)(""),[E,f]=(0,l.useState)(""),[v,N]=(0,l.useState)(""),[h,T]=(0,l.useState)(""),[b,P]=(0,l.useState)([]),{cstate:L,cdispatch:x}=(0,g.ContextApi)(),[w,B]=(0,l.useState)(0),F=(0,l.useContext)(g.ConContractRegistryContext);(0,l.useEffect)((()=>{k()}),[]);const M=()=>{C(!0),s([]),D(""),f(""),u({type:"text",name:"UserName",value:""}),u({type:"text",name:"UserPassword",value:""}),u({type:"text",name:"UserEmail",value:""}),u({type:"boolean",name:"IsSuperUser",boolean:"0"}),u({type:"boolean",name:"IsPriorityUser",boolean:"0"}),u({type:"boolean",name:"IsSelfService",boolean:"0"}),u({type:"text",name:"UserConfirmPassword",value:""}),u({type:"text",name:"UserCode",value:""}),u({type:"boolean",name:"UserLoginStat",boolean:"0"}),u({type:"text",name:"UserMobile",value:""}),u({type:"number",name:"ResetCode",number:""}),u({type:"text",name:"ResetDURDate",value:""}),u({type:"text",name:"ResetDURDateType",value:""}),r(""),C(!1)},R=e=>m.ResetDURDate&&0!=m.ResetDURDate?m.ResetDURDateType&&0!=m.ResetDURDateType?void 0:(F.alert({open:!0,color:"warning",message:["Please select the To Date"]}),!1):(F.alert({open:!0,color:"warning",message:["Please select the From Date"]}),!1),k=(t,a,l,n)=>{C(!0);let o=e.parentData;Jn.log(o,"DATA*");const r=S.v.Api+"FP156S3/",i={data:{p1:e.parentId?e.parentId:0,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:m.ResetDURDate?m.ResetDURDate:null,p12:null,p13:null,p14:m.ResetDURDateType?m.ResetDURDateType:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:e.Dialogview?"1":null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:null,p129:null,p130:null,p131:null,p132:null,p133:null,p134:null,p135:null,p136:null,p137:null,p138:null,p139:null,p140:null,p141:null,p142:null,p143:null,p144:null,p145:null,p146:null,p147:null,p148:null,p149:null,p150:null,p151:null,p152:null,p153:null,p154:null,p155:null,p156:null,p157:null,p158:null,p159:null,p160:null,p161:null,p162:null,p163:null,p164:null,p165:null,p166:null,p167:null,p168:1,p169:10,p170:l,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};(0,I.Z)(r,"ClearAll"==l?clearAllParams:i,"SetDefaultContractID"==l&&n?n:L.token[0]).then((e=>{C(!1),e.Output.status.code,e.Output.data,P(e.Output.data),C(!1)}))};function O(e){B(e);let t=document.querySelectorAll(".SLAtab");for(let e=0;e<t.length;e++)t[e].style.background="#e3e4e9",t[e].style.color="#777";document.getElementsByClassName("SLAtab")[e].style.background="#777",document.getElementsByClassName("SLAtab")[e].style.color="#fff"}return n().createElement("div",null,n().createElement("div",{id:"WorkOrders-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%",height:"100vh"}},n().createElement("div",{id:"WorkOrders-MainEntry",className:"Maincontent",style:{width:"100%"}},n().createElement("div",{style:{background:"#e3e4e9",display:"flex"}},n().createElement("span",{onClick:()=>{O(0),M(),P("")},className:"SLAtab",style:{background:"#777",color:"#fff"}},"Helpdesk WorkOrders"),n().createElement("span",{onClick:()=>{O(1),M(),P("")},className:"SLAtab"},"PPM WorkOrders")),"0"==w&&n().createElement(c.Z,null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{marginTop:"1rem",marginRight:"20px"}},n().createElement(Re.Z,{style:{marginTop:"auto"},value:m.ResetDURDate,disabled:!1,label:n().createElement("span",null,"From Date",n().createElement("span",{className:"errorinput"},"*")),onChange:e=>{u({type:"text",name:"ResetDURDate",value:e})},onErr:e=>{N(e)},formctrlId:"24722",formctrlIdName:"ResetDURDate",fieldOrder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{marginTop:"1rem",marginRight:"20px"}},n().createElement(Re.Z,{style:{marginTop:"auto"},value:m.ResetDURDateType,minDate:m.ResetDURDate,disabled:!1,label:n().createElement("span",null,"To Date",n().createElement("span",{className:"errorinput"},"*")),onChange:e=>{u({type:"text",name:"ResetDURDateType",value:e})},onErr:e=>{T(e)},formctrlId:"24722",formctrlIdName:"ResetDURDateType",fieldOrder:"2"})),n().createElement(d.Z,{xs:2,md:2,lg:2,sm:2}),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"flex",alignItems:"flex-end"}},n().createElement(A.Z,{name:"Clear",className:"boxShadowNone clearBtnppm",disabled:!1,startIcon:n().createElement(Zl.Z,{style:{marginRight:"8px",fontSize:"15px"}}),onClick:()=>{M()},formctrlid:"entclear800"}," Clear"),n().createElement(A.Z,{name:"Show",className:" boxShadowNone ShowBtn",disabled:!1,startIcon:n().createElement(Yn.Z,{style:{marginRight:"8px",fontSize:"15px"}}),onClick:()=>{R(),k("","","CONTRACTHELPDESKWO")}}," Show")),n().createElement(d.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative"}},n().createElement($n.Z,{loading:p}),b.length>0?n().createElement(Wn.Z,{refresh:"hide",height:"auto",dynamic:!0,tableData:b,TableVisibleItem:[],TableBodyItem:[],hideExportPrint:!1}):n().createElement("div",{className:"noRecIbxHd",style:{boxShadow:" rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",height:"20vh",marginTop:"2rem"}},n().createElement("div",{className:"wobble-hor-top",style:{textAlign:"center",cursor:"default"}},"No records Found")))),"1"==w&&n().createElement(c.Z,null,n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{marginTop:"1rem"}},n().createElement(Re.Z,{style:{marginTop:"auto"},value:m.ResetDURDate,disabled:!1,label:n().createElement("span",null,"From Date",n().createElement("span",{className:"errorinput"},"*")),onChange:e=>{u({type:"text",name:"ResetDURDate",value:e})},onErr:e=>{N(e)},formctrlId:"24722",formctrlIdName:"ResetDURDate",fieldOrder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{marginTop:"1rem"}},n().createElement(Re.Z,{style:{marginTop:"auto"},value:m.ResetDURDateType,minDate:m.ResetDURDate,disabled:!1,label:n().createElement("span",null,"To Date",n().createElement("span",{className:"errorinput"},"*")),onChange:e=>{u({type:"text",name:"ResetDURDateType",value:e})},onErr:e=>{T(e)},formctrlId:"24722",formctrlIdName:"ResetDURDateType",fieldOrder:"2"})),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3}),n().createElement(d.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"flex",alignItems:"flex-end"}},n().createElement(A.Z,{name:"Clear",className:"boxShadowNone clearBtnppm",disabled:!1,startIcon:n().createElement(Zl.Z,{style:{marginRight:"8px",fontSize:"15px"}}),onClick:()=>{M()},formctrlid:"entclear800"}," Clear"),n().createElement(A.Z,{name:"Show",className:" boxShadowNone ShowBtn",disabled:!1,startIcon:n().createElement(Yn.Z,{style:{marginRight:"8px",fontSize:"15px"}}),onClick:()=>{R(),k("","","CONTRACTPPMWO")}}," Show")),n().createElement(d.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative"}},n().createElement($n.Z,{loading:p}),b.length>0?n().createElement(Wn.Z,{refresh:"hide",height:"auto",dynamic:!0,tableData:b,TableVisibleItem:[],TableBodyItem:[],hideExportPrint:!1}):n().createElement("div",{className:"noRecIbxHd",style:{boxShadow:" rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",height:"20vh",marginTop:"2rem"}},n().createElement("div",{className:"wobble-hor-top",style:{textAlign:"center",cursor:"default"}},"No records Found")))))))}));a(92762);var to=a(41749),ao=a(25108);const lo=[{id:"DepStat",name:"Deployed Status",type:"varchar"},{id:"ContractName",name:"Contract Name",type:"varchar"},{id:"LocalityName",name:"Locality Name",type:"varchar"},{id:"BuildingName",name:"Building Name",type:"varchar"},{id:"NoOfEmp",name:"No Of Emp",type:"varchar"},{id:"SharedEmpCnt",name:"Shared Emp Cnt",type:"varchar"},{id:"DedicatedEmpCnt",name:"Dedicated Emp Cnt",type:"varchar"},{id:"TotalRate",name:"Total Rate",type:"varchar"}],no=["DepStat","ContractName","LocalityName","BuildingName","NoOfEmp","SharedEmpCnt","DedicatedEmpCnt","TotalRate"],oo={EmpDeploymentDetailsIDPK:"",EmpDeploymentDetailsCode:"",EmpDepStartDate:"",EmpDepStartDateType:"",EmpDepStartDateBetween:"",EmpDepEndDate:"",EmpDepEndDateType:"",EmpDepEndDateBetween:"",NoOfDays:"",IsDefault:0,EmpRate:"",IsDraft:0,Remarks:"",ContractID:"",LocalityID:"",EmployeeID:"",EmpDeploymentTypID:"",BuildingID:"",IsActive:1,DeleStat:0,CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsName:"",PaymentType:"",Period:"",UserCode:"",UserName:"",ContractCode:"",ContractName:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",LocalityCode:"",LocalityName:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CurrencyName:"",CurrencySymbol:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",LastName:"",EmpContactNo1:"",EmpEmailOfficial:"",EmpDeployTypCode:"",EmpDeployTypName:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",BuildingArea:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},ro=e=>{const[t,a]=(0,l.useReducer)(Fe.Z,oo),[o,r]=(0,l.useState)(!1),[i,c]=(0,l.useState)(!1),[d,s]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),[p,C]=(0,l.useState)(""),[y,g]=(0,l.useState)({open:!1,color:"",message:[]}),[D,E]=(0,l.useState)([]),[f,v]=(0,l.useState)([]),[N,h]=(0,l.useState)([]),[T,b]=(0,l.useState)([]);(0,l.useEffect)((()=>{P(e.parentId)}),[e.parentId]);const P=async t=>{var a=S.v.Api+"FPC1S3/";let l={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:"EmpDeployeeCnt1",p7:null,p8:localStorage.getItem("userid")}};ao.log(l,"paramdata CommonSelect_API"),await(0,I.Z)(a,l,e.token).then((e=>{if(ao.log(e,"RESPONSE FROM COMMONAPI 1"),e.Output.data){let t=e.Output.data;v(t),c(!1)}}));let n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:"EmpDeployeeCnt2",p7:null,p8:localStorage.getItem("userid")}};ao.log(n,"paramdata2 CommonSelect_API"),await(0,I.Z)(a,n,e.token).then((e=>{if(ao.log(e,"RESPONSE FROM COMMONAPI 2"),e.Output.data){let t=e.Output.data;h(t),s(!1)}}));let o={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:"EmpDeployeeCnt3",p7:null,p8:localStorage.getItem("userid")}};ao.log(o,"paramdata3 CommonSelect_API"),await(0,I.Z)(a,o,e.token).then((e=>{if(ao.log(e,"RESPONSE FROM COMMONAPI 3"),e.Output.data){let t=e.Output.data;b(t),u(!1)}})),await r(!1)};return n().createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%"}},n().createElement($n.Z,{loading:o}),n().createElement("p",{className:"ListP"},"DASHBOARD"),n().createElement(to.Z,{container:!0,direction:"row",justifyContent:"flex-start",alignContent:"flex-start",alignItems:"flex-start"},n().createElement(to.Z,{item:!0,xs:6,md:6,lg:6,sm:6,style:{paddingLeft:"1%"}},n().createElement("p",{className:"EntryViewHeader ListP"},"Required")),n().createElement(to.Z,{item:!0,xs:6,md:6,lg:6,sm:6,style:{paddingLeft:"1%"}},n().createElement("p",{className:"EntryViewHeader ListP"},"Deployed")),n().createElement(to.Z,{item:!0,xs:6,md:6,lg:6,sm:6,style:{paddingLeft:"1%",position:"relative",height:"20vh !important"}},n().createElement($n.Z,{loading:i}),f.length>0?n().createElement(n().Fragment,null,n().createElement(Wn.Z,{height:"20vh",marginTop:"-4vh",dynamic:!0,tableData:f,TableVisibleItem:[],hideExportPrint:!0,TableBodyItem:[]})):n().createElement("div",{className:"noRecIbxHd",style:{boxShadow:" rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",height:"20vh",marginTop:"0"}},n().createElement("div",{className:"wobble-hor-top",style:{textAlign:"center",cursor:"default"}},"No records Found"))),n().createElement(to.Z,{item:!0,xs:6,md:6,lg:6,sm:6,style:{paddingLeft:"1%",position:"relative",height:"20vh !important"}},n().createElement($n.Z,{loading:d}),N.length>0?n().createElement(Wn.Z,{height:"20vh",marginTop:"-4vh",dynamic:!0,tableData:N,TableVisibleItem:[],TableBodyItem:[],hideExportPrint:!0}):n().createElement("div",{className:"noRecIbxHd",style:{boxShadow:" rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",height:"20vh",marginTop:"0"}},n().createElement("div",{className:"wobble-hor-top",style:{textAlign:"center",cursor:"default"}},"No records Found"))),n().createElement(to.Z,{item:!0,xs:12,md:12,lg:12,sm:12,style:{paddingLeft:"1%",position:"relative",marginTop:(f.length&&N.length)>0?"3%":"0",height:"35vh !important"}},n().createElement($n.Z,{loading:m}),T.length>0?n().createElement(Wn.Z,{height:"35vh",tableData:T,TableVisibleItem:lo,TableBodyItem:no,hideExportPrint:!0}):n().createElement("div",{className:"noRecIbxHd",style:{boxShadow:" rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",height:"35vh",marginTop:"0"}},n().createElement("div",{className:"wobble-hor-top",style:{textAlign:"center",cursor:"default"}},"No records Found")))))};var io=a(25108);const co=(0,l.forwardRef)(((e,t)=>{(0,o.useSelector)((e=>e.form));const a=(0,o.useDispatch)(),c=(0,l.useRef)(),[d,s]=(0,l.useState)([]),[D,E]=(0,l.useState)(!1),[v,h]=(0,l.useState)(!0),[T,b]=(0,l.useState)(e.showDetail),[P,F]=(0,l.useState)(!1),A=(0,l.useContext)(g.ConContractRegistryContext),{cstate:M,cdispatch:R}=(0,g.ContextApi)(),[k,O]=(0,l.useState)(!1),[Z,G]=(0,l.useState)(!1),[q,K]=(0,l.useState)(!1),[V,z]=(0,l.useState)(0),[_,Q]=(0,l.useState)(""),[H,U]=(0,l.useState)(""),[j,Y]=(0,l.useState)(null),[W,$]=(0,l.useState)("parentDataCard"),[J,X]=(0,l.useState)([]),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)({1:"WorkOrders",2:"ResourceDeployment"}),[ne,oe]=(0,l.useState)({IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!1,IsPrint:!0,IsExport:!0});let re=(0,N.Z)();const ie=e=>re?.[e]?re[e]:e,ce=e=>M.language?.[e]?M.language[e]:e;function de(e,t){}async function se(t,a,l){_&&Q(t),A.loading(!0);let n=S.v.Api+"FPN156S3/",o={data:{p1:t||M.PrimaryId,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:e.Dialogview?"1":null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:null,p129:null,p130:null,p131:null,p132:null,p133:null,p134:null,p135:null,p136:null,p137:null,p138:null,p139:null,p140:null,p141:null,p142:null,p143:null,p144:null,p145:null,p146:null,p147:null,p148:null,p149:null,p150:null,p151:null,p152:null,p153:null,p154:null,p155:null,p156:null,p157:null,p158:null,p159:null,p160:null,p161:null,p162:null,p163:null,p164:null,p165:null,p166:null,p167:null,p168:1,p169:10,p170:l,p171:null,p172:null,p173:localStorage.getItem("UserGroupID"),p174:localStorage.getItem("userid")}};var r={};0==M.token.length&&await(0,f.Z)(0).then((e=>{r=e})),await(0,I.Z)(n,o,0==M.token.length?r:M.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=e.Output.data[0][156][0];s(t),z(e.Output.data[0][156][0].ViewCancelCheck);let a=e.Output.data[0],l=[];delete a[156];const n=[...Object.values(a).flat(),...l].sort(((e,t)=>e.orderno-t.orderno));X(n),A.loading(!1)}else A.loading(!1),A.alert({open:!0,color:"warning",message:["No record found"]})}))}(0,l.useEffect)((()=>{e.l4viewonly?s(e.data):e.viewonly?se(M.PrimaryId,0,"ContractID"):(s(M.PrimaryData),a({type:"ConContractRegistry156",ConContractRegistryContractID:M.PrimaryData.ContractIDPK}))}),[e.data]),(0,l.useEffect)((()=>M.PrimaryData.length>0?(se(M.PrimaryId,0,"ContractID"),!1):M.PrimaryId?(se(M.PrimaryId,0,"ContractID"),me(),!1):void 0),[M.PrimaryData,M.PrimaryId]),(0,l.useEffect)((()=>{h(e.ExpandDetailValue)}),[e.ExpandDetailValue]),(0,l.useEffect)((()=>{e.inboxdata&&Object.keys(e.inboxdata).length>0&&(h(!0),se(e.inboxdata.id,e.inboxdata.token,"ContractID"),G(!0))}),[e.inboxdata]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{h(!0),E(!1)},inboxprops:e=>{h(!0),se(e.id,e.token,"ContractID"),R({type:"PrimaryId",payload:e.id}),G(!0)}})));const me=()=>{let e=Object.values(ae);te(e),io.log(e,"addCardname")};function ue(e){$(e.name),oe((t=>({...t,IsAdd:e.isNestAdd,IsEdit:e.isNestEdit})))}return n().createElement("div",{style:{width:"100%",display:"block"},id:"ConContractRegistry-MainEntry"},n().createElement("div",{className:"tabcontainer padleft5"},n().createElement("div",{className:"formcontent"},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"v4submenudivl4"},n().createElement(L.Z,{tableName:"ConContractRegistry",tableID:156,parentID:M.PrimaryId,fldid:"fld156L4VCContainer",OpenSlideComponent:de,index:0,val:d,tf:ce,t:ie,onBack:()=>{A.add(),A.ShowTableDiv(!1),document.getElementById(`overlayimgAtt${e.tableName}`).style.display="none"},cstate:M,cardName:W,SubCardData:J,AddSubCardData:ae,cardEvent:e=>$(e),SubformsLink:ue,alertmsg:e=>A.alert(e),title:"10.0.0.36-4:58:36 PM-11-5[156]"})),n().createElement("div",{className:"Compdivl4"},n().createElement("div",{className:"mar0"},n().createElement("div",{className:"v4cardbdyl4"},"parentDataCard"==W&&n().createElement("div",{className:"mar0"},n().createElement("div",{className:"ascardpad"},n().createElement(u.Z,{expanded:v},n().createElement(C.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement(y.Z,{style:{margin:"0 5px",fontSize:"18px",cursor:"pointer"},onClick:()=>{A.ShowTableDiv(!1),A.add()}}),n().createElement("p",{className:"ListP",onClick:()=>M.ExpandTableValue&&h(!v)},e.draftval?"Draft ":"",ce(156))),v&&n().createElement("div",{className:"displayFlex EntryHeaderViewBtn"},n().createElement("div",{className:"GridAlignSwitch"},n().createElement(B.Z,null,n().createElement(m.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:n().createElement(w.Z,{checked:"1"==d.IsActive,onClick:()=>{},onChange:()=>{},disabled:!0}),label:"Active"}))),!M.AccessRights.IsEdit||"mainpanel"!==e.EntryExp&&e.EntryExp?e.draftval&&M.AccessRights.IsAdd&&n().createElement(i.Z,{disabled:!1,className:"v4AddBtnCommon",onClick:()=>{A.editview(d)}}):n().createElement(i.Z,{disabled:!1,className:"v4AddBtnCommon",onClick:()=>{A.editview(d)}}),M.AccessRights.IsAdd&&("mainpanel"===e.EntryExp||!e.EntryExp)&&n().createElement(r.Z,{disabled:!1,className:"v4AddBtnCommon",onClick:()=>{A.add()}})))),n().createElement(p.Z,null,n().createElement(x.Z,{tableName:"ConContractRegistry",tableID:156,parentID:M.PrimaryId,fldid:"fld156L4VCContainer",OpenSlideComponent:de,index:0,val:d,tf:ce,t:ie,cardName:W,SubCardData:[],AddSubCardData:[],SubformsLink:ue,alertmsg:e=>A.alert(e),title:"10.0.0.36-4:58:36 PM-11-5[156]"}))))),"ConContractLocalityDetail"==W&&n().createElement(tt,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractServiceDetails"==W&&n().createElement(gt,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"BOQConfiqDetails"==W&&n().createElement(Ft,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractAssetDetails"==W&&n().createElement(_t,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractExtLogDetails"==W&&n().createElement(ta,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractBillingDetails"==W&&n().createElement(ua,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractManPowerDetails"==W&&n().createElement(Na,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractEngDetails"==W&&n().createElement(Ma,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ContractShiftDetail"==W&&n().createElement(Qa,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConManPowerRateCardDetails"==W&&n().createElement(al,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"MatRateCardDetails"==W&&n().createElement(pl,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConSLARateCardDetails"==W&&n().createElement(hl,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractLocalityLogDetail"==W&&n().createElement(Rl,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ConContractServiceLogDetails"==W&&n().createElement(yn,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"SchFreqLocality"==W&&n().createElement(bn,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"PPMSBSchFreqLocality"==W&&n().createElement(On,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"PPMSSSchFreqLocality"==W&&n().createElement(jn,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"WorkOrders"==W&&n().createElement(eo,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}),"ResourceDeployment"==W&&n().createElement(ro,{AccessRights:ne,loading:e=>A.loading(e),parentData:d,alertmsg:e=>A.alert(e),ConfirmAlert:e=>{A.ConfirmAlert(e)},ref:c,PrimaryView:!1,parentId:M.PrimaryId,SlideComponentType:(e,t)=>A.SlideComponentType(e,t),openNav:e=>A.openNav(e),openDialog:e=>A.openDialog(e),DialogComponentType:e=>A.DialogComponentType(e),cardRefresh:()=>se(M.PrimaryId,0,"ContractID")}))))))))}))},55176:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const l={EnterKeyValues:{ConContractRegistry:["ContractCode","ContractName","ContractTypeName","ContractCategName","AcknowledgedBy","SignedBy","StartDate","EndDate","ConValueBeforVat","TaxName","VatAmount","ContractValue","ContractGroupName","ParentContractName","IsNonContract","ConGenerateCode","OrganisationName","CustomerName","ConLatitude","ConLongitude","ConTRNno","IsEnableBudget","AnnualReviewDate","ExtendedDate","ExtendedValue","Retention","ConEmail","IsConLost","LosedDate","LosedComment","SACCode","InvoiceDescription","Period","NoofInvoice","ConPaymentTermsName","ContractDate","NoOfBilling","CreatedByDate","ApprovedDate","DisplayEndDate","ConStatus","EnquiryCode","EnquiryDate","QuotationCode","QuotationDate","SiteSurveyCode","SiteSurveyDate","Notify1","NotifyDate1","Notify2","NotifyDate2","FollowUpDate","IsEnableClient","IsExtended","IsPPM","IsBDM","IsDSM","IsIncident","IsCase","NoofPrimary","NoofSecondary","NoofSupervisor","NoofEngineer","ShiftNoofPrimary","ShiftNoofSecondary","IsEnableValue","IsRenewal","IsBudgetValByCont","TotalContractValue","ContractLeassValue","ContractLeassDate","TotalLessContractValue","FieldRadius","IsRes","IsInclusive","IsConType","ConZoomValue","StatusKey","XContractKey","RenewalConKey","ShiftKey","SalesEmpKey","CreatedEmpKey","ApprovedEmpKey"]},Label:{ConContractRegistry:{ContractCode:["ContractCode","ContractName"],ContractName:["ContractCode","ContractName"],ContractTypeID:["ContractTypCode","ContractTypeName"],ContractCategID:["ContractCategCode","ContractCategName"],AcknowledgedBy:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SignedBy:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],StartDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],EndDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConValueBeforVat:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],TaxID:["TaxCode","TaxName","TaxValue"],VatAmount:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractValue:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractGroupID:["ContractGroupCode","ContractGroupName"],ParentContractIKeyD:["ParentContractCode","ParentContractName"],IsNonContract:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConGenerateCode:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],OrganisationID:["OrganisationCode","OrganisationName"],CustomerID:["CustomerCode","CustomerName"],ConLatitude:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConLongitude:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConTRNno:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsEnableBudget:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],AnnualReviewDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ExtendedDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ExtendedValue:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Retention:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConEmail:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsConLost:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],LosedDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],LosedComment:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SACCode:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],InvoiceDescription:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Period:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofInvoice:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConPaymentTermsID:["ConPaymentTermsName"],ContractDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoOfBilling:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],CreatedByDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ApprovedDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],DisplayEndDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConStatus:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],EnquiryCode:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],EnquiryDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],QuotationCode:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],QuotationDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SiteSurveyCode:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SiteSurveyDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Notify1:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NotifyDate1:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Notify2:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NotifyDate2:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],FollowUpDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsEnableClient:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsExtended:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsPPM:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsBDM:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsDSM:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsIncident:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsCase:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofPrimary:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofSecondary:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofSupervisor:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofEngineer:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ShiftNoofPrimary:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ShiftNoofSecondary:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsEnableValue:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsRenewal:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsBudgetValByCont:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],TotalContractValue:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractLeassValue:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractLeassDate:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],TotalLessContractValue:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],FieldRadius:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsRes:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsInclusive:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsConType:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConZoomValue:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],StatusKey:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],XContractKey:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],RenewalConKey:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ShiftKey:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SalesEmpKey:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],CreatedEmpKey:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ApprovedEmpKey:["ConGenerateCode","ContractCode","ContractName","EnquiryCode","QuotationCode","SACCode","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"]}},LabelHeader:{ConContractRegistry:{ContractCode:["Contract Code","Contract Name"],ContractName:["Contract Code","Contract Name"],ContractTypeID:["Contract Type Code","Contract Type Name"],ContractCategID:["Category Code","Category Name"],AcknowledgedBy:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SignedBy:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],StartDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],EndDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConValueBeforVat:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],TaxID:["Tax Code","Tax Name","Tax Value"],VatAmount:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractValue:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractGroupID:["Classification Code","Classification Name"],ParentContractIKeyD:["ParentContractCode","ParentContractName"],IsNonContract:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConGenerateCode:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],OrganisationID:["Organisation Code","Organisation Name"],CustomerID:["Code","Company Name"],ConLatitude:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConLongitude:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConTRNno:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsEnableBudget:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],AnnualReviewDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ExtendedDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ExtendedValue:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Retention:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConEmail:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsConLost:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],LosedDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],LosedComment:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SACCode:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],InvoiceDescription:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Period:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofInvoice:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConPaymentTermsID:["Payment Terms Name"],ContractDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoOfBilling:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],CreatedByDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ApprovedDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],DisplayEndDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConStatus:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],EnquiryCode:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],EnquiryDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],QuotationCode:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],QuotationDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SiteSurveyCode:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SiteSurveyDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Notify1:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NotifyDate1:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],Notify2:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NotifyDate2:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],FollowUpDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsEnableClient:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsExtended:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsPPM:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsBDM:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsDSM:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsIncident:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsCase:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofPrimary:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofSecondary:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofSupervisor:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],NoofEngineer:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ShiftNoofPrimary:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ShiftNoofSecondary:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsEnableValue:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsRenewal:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsBudgetValByCont:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],TotalContractValue:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractLeassValue:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ContractLeassDate:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],TotalLessContractValue:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],FieldRadius:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsRes:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsInclusive:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],IsConType:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ConZoomValue:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],StatusKey:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],XContractKey:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],RenewalConKey:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ShiftKey:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],SalesEmpKey:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],CreatedEmpKey:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"],ApprovedEmpKey:["Generate Code","Contract Code","Contract Name","EnquiryCode","QuotationCode","SAC Code","SiteSurveyCode","ContractCategCode","ContractCategName","ContractGroupCode","ContractGroupName","ContractTypCode","ContractTypeName","CustomerCode","CustomerName","IntagrationCode","IntagrationName","OrganisationCode","OrganisationName","OrgCityName","Pincode"]}},Property:{ConContractRegistry:{ContractCode:{id:"fld156_3027",labelID:"ContractCode",maxLength:"20",labelname:"Contract Code",frmctrlid:"fld156_3027",frmctrlidname:"ContractCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractName:{id:"fld156_3028",labelID:"ContractName",maxLength:"50",labelname:"Contract Name",frmctrlid:"fld156_3028",frmctrlidname:"ContractName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractTypeID:{id:"fld156_3110",clearID:"ConContractRegistryContractTypeNameClear",type:"select",labelID:"ContractTypeIDPK",labelname:"Contract Type ",fielddisplayname:"ContractTypeName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ContractCategID:{id:"fld156_3111",clearID:"ConContractRegistryContractCategNameClear",type:"select",labelID:"ContractCategIDPK",labelname:"Contract Category",fielddisplayname:"ContractCategName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},AcknowledgedBy:{id:"fld156_3044",labelID:"AcknowledgedBy",maxLength:"50",labelname:"Acknowledged By",frmctrlid:"fld156_3044",frmctrlidname:"AcknowledgedBy",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SignedBy:{id:"fld156_3045",labelID:"SignedBy",maxLength:"50",labelname:"Signed By",frmctrlid:"fld156_3045",frmctrlidname:"SignedBy",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StartDate:{id:"fld156_3034",labelID:"StartDate",maxLength:"25",labelname:"Contract Start Date",frmctrlid:"fld156_3034",frmctrlidname:"StartDate",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},EndDate:{id:"fld156_3035",labelID:"EndDate",maxLength:"25",labelname:"Contract End Date",frmctrlid:"fld156_3035",frmctrlidname:"EndDate",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ConValueBeforVat:{id:"fld156_3090",labelID:"ConValueBeforVat",maxLength:"6",labelname:"Contract Value Before VAT",frmctrlid:"fld156_3090",frmctrlidname:"ConValueBeforVat",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},TaxID:{id:"fld156_3105",clearID:"ConContractRegistryTaxNameClear",type:"select",labelID:"TaxIDPK",labelname:"VAT",fielddisplayname:"TaxName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},VatAmount:{id:"fld156_3089",labelID:"VatAmount",maxLength:"6",labelname:"VAT Amount",frmctrlid:"fld156_3089",frmctrlidname:"VatAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!0},ContractValue:{id:"fld156_3030",labelID:"ContractValue",maxLength:"25",labelname:"Contract Value After VAT",frmctrlid:"fld156_3030",frmctrlidname:"ContractValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!0},ContractGroupID:{id:"fld156_3101",clearID:"ConContractRegistryContractGroupNameClear",type:"select",labelID:"ContractGroupIDPK",labelname:"Classification",fielddisplayname:"ContractGroupName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ParentContractIKeyD:{id:"fld156_14171",clearID:"ConContractRegistryParentContractNameClear",type:"select",labelID:"ParentContractIKeyDPK",labelname:"Parent Contract Key",fielddisplayname:"ParentContractName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},IsNonContract:{id:"fld156_3074",labelID:"IsNonContract",maxLength:"",labelname:"Non Contract",frmctrlid:"fld156_3074",frmctrlidname:"IsNonContract",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConGenerateCode:{id:"fld156_3094",labelID:"ConGenerateCode",maxLength:"10",labelname:"Generate Code",frmctrlid:"fld156_3094",frmctrlidname:"ConGenerateCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},OrganisationID:{id:"fld156_3114",clearID:"ConContractRegistryOrganisationNameClear",type:"select",labelID:"OrganisationIDPK",labelname:"Contractor",fielddisplayname:"OrganisationName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},CustomerID:{id:"fld156_3106",clearID:"ConContractRegistryCustomerNameClear",type:"select",labelID:"CustomerIDPK",labelname:"Customer",fielddisplayname:"CustomerName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ConLatitude:{id:"fld156_3083",labelID:"ConLatitude",maxLength:"10",labelname:"Latitude",frmctrlid:"fld156_3083",frmctrlidname:"ConLatitude",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConLongitude:{id:"fld156_3084",labelID:"ConLongitude",maxLength:"10",labelname:"Longitude",frmctrlid:"fld156_3084",frmctrlidname:"ConLongitude",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConTRNno:{id:"fld156_3095",labelID:"ConTRNno",maxLength:"15",labelname:"TRN",frmctrlid:"fld156_3095",frmctrlidname:"ConTRNno",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsEnableBudget:{id:"fld156_3075",labelID:"IsEnableBudget",maxLength:"",labelname:"Enable Budget",frmctrlid:"fld156_3075",frmctrlidname:"IsEnableBudget",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},AnnualReviewDate:{id:"fld156_3036",labelID:"AnnualReviewDate",maxLength:"25",labelname:"Annual Review Date",frmctrlid:"fld156_3036",frmctrlidname:"AnnualReviewDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ExtendedDate:{id:"fld156_3040",labelID:"ExtendedDate",maxLength:"25",labelname:"Extended Till",frmctrlid:"fld156_3040",frmctrlidname:"ExtendedDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ExtendedValue:{id:"fld156_3031",labelID:"ExtendedValue",maxLength:"10",labelname:"Extended Value",frmctrlid:"fld156_3031",frmctrlidname:"ExtendedValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Retention:{id:"fld156_3042",labelID:"Retention",maxLength:"10",labelname:"Retention",frmctrlid:"fld156_3042",frmctrlidname:"Retention",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConEmail:{id:"fld156_3096",labelID:"ConEmail",maxLength:"50",labelname:"Email ID",frmctrlid:"fld156_3096",frmctrlidname:"ConEmail",type:"email",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsConLost:{id:"fld156_3092",labelID:"IsConLost",maxLength:"",labelname:"Terminate Contract",frmctrlid:"fld156_3092",frmctrlidname:"IsConLost",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},LosedDate:{id:"fld156_3058",labelID:"LosedDate",maxLength:"25",labelname:"Terminated Date",frmctrlid:"fld156_3058",frmctrlidname:"LosedDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},LosedComment:{id:"fld156_3059",labelID:"LosedComment",maxLength:"100",labelname:"Terminate Comment",frmctrlid:"fld156_3059",frmctrlidname:"LosedComment",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SACCode:{id:"fld156_3086",labelID:"SACCode",maxLength:"10",labelname:"SAC Code",frmctrlid:"fld156_3086",frmctrlidname:"SACCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},InvoiceDescription:{id:"fld156_3043",labelID:"InvoiceDescription",maxLength:"100",labelname:"Invoice Description",frmctrlid:"fld156_3043",frmctrlidname:"InvoiceDescription",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Period:{id:"fld156_3033",labelID:"Period",maxLength:"8",labelname:"Period b/w Invoice",frmctrlid:"fld156_3033",frmctrlidname:"Period",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!0},NoofInvoice:{id:"fld156_3057",labelID:"NoofInvoice",maxLength:"25",labelname:"No of Invoice",frmctrlid:"fld156_3057",frmctrlidname:"NoofInvoice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!0},ConPaymentTermsID:{id:"fld156_14177",clearID:"ConContractRegistryConPaymentTermsNameClear",type:"select",labelID:"ConPaymentTermsIDPK",labelname:"Payment Terms",fielddisplayname:"ConPaymentTermsName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ContractDate:{id:"fld156_3029",labelID:"ContractDate",maxLength:"25",labelname:"ContractDate",frmctrlid:"fld156_3029",frmctrlidname:"ContractDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoOfBilling:{id:"fld156_3032",labelID:"NoOfBilling",maxLength:"10",labelname:"No Of Billing",frmctrlid:"fld156_3032",frmctrlidname:"NoOfBilling",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CreatedByDate:{id:"fld156_3037",labelID:"CreatedByDate",maxLength:"25",labelname:"CreatedByDate",frmctrlid:"fld156_3037",frmctrlidname:"CreatedByDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ApprovedDate:{id:"fld156_3038",labelID:"ApprovedDate",maxLength:"25",labelname:"ApprovedDate",frmctrlid:"fld156_3038",frmctrlidname:"ApprovedDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},DisplayEndDate:{id:"fld156_3039",labelID:"DisplayEndDate",maxLength:"25",labelname:"DisplayEndDate",frmctrlid:"fld156_3039",frmctrlidname:"DisplayEndDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConStatus:{id:"fld156_3041",labelID:"ConStatus",maxLength:"",labelname:"ConStatus",frmctrlid:"fld156_3041",frmctrlidname:"ConStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EnquiryCode:{id:"fld156_3046",labelID:"EnquiryCode",maxLength:"20",labelname:"EnquiryCode",frmctrlid:"fld156_3046",frmctrlidname:"EnquiryCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EnquiryDate:{id:"fld156_3047",labelID:"EnquiryDate",maxLength:"25",labelname:"EnquiryDate",frmctrlid:"fld156_3047",frmctrlidname:"EnquiryDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},QuotationCode:{id:"fld156_3048",labelID:"QuotationCode",maxLength:"20",labelname:"QuotationCode",frmctrlid:"fld156_3048",frmctrlidname:"QuotationCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},QuotationDate:{id:"fld156_3049",labelID:"QuotationDate",maxLength:"25",labelname:"QuotationDate",frmctrlid:"fld156_3049",frmctrlidname:"QuotationDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SiteSurveyCode:{id:"fld156_3050",labelID:"SiteSurveyCode",maxLength:"20",labelname:"SiteSurveyCode",frmctrlid:"fld156_3050",frmctrlidname:"SiteSurveyCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SiteSurveyDate:{id:"fld156_3051",labelID:"SiteSurveyDate",maxLength:"25",labelname:"SiteSurveyDate",frmctrlid:"fld156_3051",frmctrlidname:"SiteSurveyDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Notify1:{id:"fld156_3052",labelID:"Notify1",maxLength:"",labelname:"Notify1",frmctrlid:"fld156_3052",frmctrlidname:"Notify1",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NotifyDate1:{id:"fld156_3053",labelID:"NotifyDate1",maxLength:"25",labelname:"NotifyDate1",frmctrlid:"fld156_3053",frmctrlidname:"NotifyDate1",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Notify2:{id:"fld156_3054",labelID:"Notify2",maxLength:"",labelname:"Notify2",frmctrlid:"fld156_3054",frmctrlidname:"Notify2",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NotifyDate2:{id:"fld156_3055",labelID:"NotifyDate2",maxLength:"25",labelname:"NotifyDate2",frmctrlid:"fld156_3055",frmctrlidname:"NotifyDate2",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FollowUpDate:{id:"fld156_3060",labelID:"FollowUpDate",maxLength:"25",labelname:"FollowUpDate",frmctrlid:"fld156_3060",frmctrlidname:"FollowUpDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsEnableClient:{id:"fld156_3061",labelID:"IsEnableClient",maxLength:"",labelname:"IsEnableClient",frmctrlid:"fld156_3061",frmctrlidname:"IsEnableClient",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsExtended:{id:"fld156_3062",labelID:"IsExtended",maxLength:"",labelname:"IsExtended",frmctrlid:"fld156_3062",frmctrlidname:"IsExtended",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPPM:{id:"fld156_3063",labelID:"IsPPM",maxLength:"",labelname:"IsPPM",frmctrlid:"fld156_3063",frmctrlidname:"IsPPM",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsBDM:{id:"fld156_3064",labelID:"IsBDM",maxLength:"",labelname:"IsBDM",frmctrlid:"fld156_3064",frmctrlidname:"IsBDM",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsDSM:{id:"fld156_3065",labelID:"IsDSM",maxLength:"",labelname:"IsDSM",frmctrlid:"fld156_3065",frmctrlidname:"IsDSM",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsIncident:{id:"fld156_3066",labelID:"IsIncident",maxLength:"",labelname:"IsIncident",frmctrlid:"fld156_3066",frmctrlidname:"IsIncident",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsCase:{id:"fld156_3067",labelID:"IsCase",maxLength:"",labelname:"IsCase",frmctrlid:"fld156_3067",frmctrlidname:"IsCase",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoofPrimary:{id:"fld156_3068",labelID:"NoofPrimary",maxLength:"25",labelname:"NoofPrimary",frmctrlid:"fld156_3068",frmctrlidname:"NoofPrimary",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoofSecondary:{id:"fld156_3069",labelID:"NoofSecondary",maxLength:"25",labelname:"NoofSecondary",frmctrlid:"fld156_3069",frmctrlidname:"NoofSecondary",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoofSupervisor:{id:"fld156_3070",labelID:"NoofSupervisor",maxLength:"25",labelname:"NoofSupervisor",frmctrlid:"fld156_3070",frmctrlidname:"NoofSupervisor",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoofEngineer:{id:"fld156_3071",labelID:"NoofEngineer",maxLength:"25",labelname:"NoofEngineer",frmctrlid:"fld156_3071",frmctrlidname:"NoofEngineer",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ShiftNoofPrimary:{id:"fld156_3072",labelID:"ShiftNoofPrimary",maxLength:"25",labelname:"ShiftNoofPrimary",frmctrlid:"fld156_3072",frmctrlidname:"ShiftNoofPrimary",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ShiftNoofSecondary:{id:"fld156_3073",labelID:"ShiftNoofSecondary",maxLength:"25",labelname:"ShiftNoofSecondary",frmctrlid:"fld156_3073",frmctrlidname:"ShiftNoofSecondary",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsEnableValue:{id:"fld156_3076",labelID:"IsEnableValue",maxLength:"",labelname:"IsEnableValue",frmctrlid:"fld156_3076",frmctrlidname:"IsEnableValue",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsRenewal:{id:"fld156_3077",labelID:"IsRenewal",maxLength:"",labelname:"IsRenewal",frmctrlid:"fld156_3077",frmctrlidname:"IsRenewal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsBudgetValByCont:{id:"fld156_3078",labelID:"IsBudgetValByCont",maxLength:"25",labelname:"IsBudgetValByCont",frmctrlid:"fld156_3078",frmctrlidname:"IsBudgetValByCont",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},TotalContractValue:{id:"fld156_3079",labelID:"TotalContractValue",maxLength:"25",labelname:"TotalContractValue",frmctrlid:"fld156_3079",frmctrlidname:"TotalContractValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractLeassValue:{id:"fld156_3080",labelID:"ContractLeassValue",maxLength:"25",labelname:"ContractLeassValue",frmctrlid:"fld156_3080",frmctrlidname:"ContractLeassValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractLeassDate:{id:"fld156_3081",labelID:"ContractLeassDate",maxLength:"25",labelname:"ContractLeassDate",frmctrlid:"fld156_3081",frmctrlidname:"ContractLeassDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},TotalLessContractValue:{id:"fld156_3082",labelID:"TotalLessContractValue",maxLength:"25",labelname:"TotalLessContractValue",frmctrlid:"fld156_3082",frmctrlidname:"TotalLessContractValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FieldRadius:{id:"fld156_3085",labelID:"FieldRadius",maxLength:"",labelname:"FieldRadius",frmctrlid:"fld156_3085",frmctrlidname:"FieldRadius",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsRes:{id:"fld156_3087",labelID:"IsRes",maxLength:"",labelname:"IsRes",frmctrlid:"fld156_3087",frmctrlidname:"IsRes",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsInclusive:{id:"fld156_3088",labelID:"IsInclusive",maxLength:"",labelname:"IsInclusive",frmctrlid:"fld156_3088",frmctrlidname:"IsInclusive",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsConType:{id:"fld156_3091",labelID:"IsConType",maxLength:"",labelname:"ConType",frmctrlid:"fld156_3091",frmctrlidname:"IsConType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ConZoomValue:{id:"fld156_3093",labelID:"ConZoomValue",maxLength:"19",labelname:"ConZoomValue",frmctrlid:"fld156_3093",frmctrlidname:"ConZoomValue",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StatusKey:{id:"fld156_3099",labelID:"StatusKey",maxLength:"",labelname:"StatusKey",frmctrlid:"fld156_3099",frmctrlidname:"StatusKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},XContractKey:{id:"fld156_14170",labelID:"XContractKey",maxLength:"",labelname:"XContractKey",frmctrlid:"fld156_14170",frmctrlidname:"XContractKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RenewalConKey:{id:"fld156_14172",labelID:"RenewalConKey",maxLength:"",labelname:"RenewalConKey",frmctrlid:"fld156_14172",frmctrlidname:"RenewalConKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ShiftKey:{id:"fld156_14173",labelID:"ShiftKey",maxLength:"",labelname:"ShiftKey",frmctrlid:"fld156_14173",frmctrlidname:"ShiftKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SalesEmpKey:{id:"fld156_14174",labelID:"SalesEmpKey",maxLength:"",labelname:"SalesEmpKey",frmctrlid:"fld156_14174",frmctrlidname:"SalesEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CreatedEmpKey:{id:"fld156_14175",labelID:"CreatedEmpKey",maxLength:"",labelname:"CreatedEmpKey",frmctrlid:"fld156_14175",frmctrlidname:"CreatedEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ApprovedEmpKey:{id:"fld156_14176",labelID:"ApprovedEmpKey",maxLength:"",labelname:"ApprovedEmpKey",frmctrlid:"fld156_14176",frmctrlidname:"ApprovedEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{ConContractRegistry:[{name:"ConContractLocalityDetail",displayname:"Location / Building",icons:"Home",id:0,disable:"all",order:1},{name:"ConContractServiceDetails",displayname:"Type Of Service",icons:"Home",id:0,disable:"all",order:2},{name:"BOQConfiqDetails",displayname:"BOQ Details",icons:"Home",id:0,disable:"all",order:3},{name:"ConContractAssetDetails",displayname:"Assets",icons:"Home",id:0,disable:"all",order:4},{name:"ConContractExtLogDetails",displayname:"Extended Log",icons:"Home",id:0,disable:"all",order:5},{name:"ConContractBillingDetails",displayname:"Billing Details",icons:"Home",id:0,disable:"all",order:6},{name:"ConContractManPowerDetails",displayname:"Employee Requirement",icons:"Home",id:0,disable:"all",order:7},{name:"ConContractEngDetails",displayname:"Responsible Engineer",icons:"Home",id:0,disable:"all",order:8},{name:"ContractShiftDetail",displayname:"Shift Details",icons:"Home",id:0,disable:"all",order:9},{name:"ConManPowerRateCardDetails",displayname:"Man Power Rate Card",icons:"Home",id:0,disable:"all",order:10},{name:"MatRateCardDetails",displayname:"Material Rate Card",icons:"Home",id:0,disable:"all",order:11},{name:"ConSLARateCardDetails",displayname:"SLA Rate Card",icons:"Home",id:0,disable:"all",order:12},{name:"ConContractLocalityLogDetail",displayname:"Location / Building Log",icons:"Home",id:0,disable:"all",order:13},{name:"ConContractServiceLogDetails",displayname:"Type Of Service Log",icons:"Home",id:0,disable:"all",order:14},{name:"SchFreqLocality",displayname:"General PPM Frequency Config",icons:"Description",id:0,disable:"all",order:15}]},POPLabel:{ConContractRegistry:{ContractTypeID:["ContractTypCode","ContractTypeName","ComplaintHeaderName","IsActive","IsDraft","CreatedTtm","UpdatedTtm"],ContractCategID:["ContractCategCode","ContractCategName","IsActive","CreatedTtm","UpdatedTtm"],TaxID:["TaxCode","TaxName","TaxValue"],ContractGroupID:["ContractGroupCode","ContractGroupName","CreatedTtm","IsActive","IsDraft"],OrganisationID:["OrganisationCode","OrganisationName","OrgContactNo1","OrgEmailAdd1","OrgCityName","OrgAddress1","OrgAddress2","OrgPincode","WebSite","CreatedTtm","UpdatedTtm"],CustomerID:["CustomerCode","CustomerName","CityName","PhoneNo1","Email","CreatedTtm","IsActive"],ConPaymentTermsID:["PaymentTermsName","Period","PaymentTermsTypeName","IsActive","CreatedTtm","UpdatedTtm"]}}}},20506:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});const l=a.p+"[object Object].jpg"},80950:()=>{},46601:()=>{},89214:()=>{},96419:()=>{},56353:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},69386:()=>{},31616:()=>{},56619:()=>{},77108:()=>{},69862:()=>{},40964:()=>{},72095:()=>{}}]);