"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[80750],{80750:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var n=l(92950),a=l.n(n),i=l(14439),o=l(27848),r=l(40900),s=l(26537),u=(l(95909),l(11377)),p=l(74095),m=l(92371),c=l(51673),d=l(49174),D=l(282),C=l(92772),y=l(65763),I=(l(10635),l(95866),l(45237),l(54180),l(5109),l(15940),l(3212),l(24038),l(71168)),g=l.n(I);l(65107),l(94986),l(41823),l(25108),window.clickFilter="",localStorage.getItem("UserGroupID"),localStorage.getItem("userid");var P=l(96599),N=l(30037),M=l(25108);const v={PPMCreationAssetIDPK:"",PPMCreationAssetCode:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",GeneratedDateTime:"",GeneratedDateTimeType:"",GeneratedDateTimeBetween:"",ActualDateTime:"",ActualDateTimeType:"",ActualDateTimeBetween:"",WoCompletedDate:"",WoCompletedDateType:"",WoCompletedDateBetween:"",ParentCreationKey:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",IsWithDraw:"",WithDrawRemarks:"",IsReschedule:"",RescheduleRemarks:"",IsRework:"",ReworkRemarks:"",SequenceNo:"",PPMLattitude:"",PPMLongitude:"",IsCCMRaised:"",XCreationAssetKey:"",XWorkOrder:"",XWoDate:"",XWoDateType:"",XWoDateBetween:"",PPMGeneralCost:"",PPMMaterialCost:"",PPMLabourCost:"",PPMVendorInvCost:"",PPMTotalCost:"",PPMChargeLedgerKey:"",PPMCostLedgerKey:"",SchFreqAssetKey:"",PpmCreationDisciplineKey:"",PPMSBSTimeCostKey:"",BMSKey:"",IsWoManual:"",IsDraft:0,Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",PPMTypeID:"",AssetID:"",EmployeeID:"",EmployeeID1:"",EmployeeID2:"",EmployeeID3:"",HierarchyDetailsID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",PPMCreationOthersAddOnID:"",PPMCreationTechAddOnID:"",PPMCreationSupAddOnID:"",IsActive:1,DeleStat:0,CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsName:"",PaymentType:"",Period:"",UserCode:"",UserName:"",ContractCode:"",ContractName:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",LocalityCode:"",LocalityName:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",BuildingArea:"",FloorCode:"",FloorName:"",SpotTypeID:"",SpotTypeCode:"",SpotTypeName:"",AssWingID:"",AssWingCode:"",AssWingName:"",WingLatitude:"",WingLongitude:"",SpotCode:"",SpotName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PPMTypeCode:"",PPMTypeName:"",AssetCategoryID:"",AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:"",AssetTypCode:"",AssetTypeName:"",PriorityID:"",PriorityCode:"",PriorityName:"",StatusID:"",StatusCode:"",StatusName:"",ConditionID:"",ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:"",MakeCode:"",MakeName:"",ModelID:"",ModelCode:"",ModelName:"",ServiceAreaID:"",ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:"",TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CurrencyName:"",CurrencySymbol:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",LastName:"",EmpContactNo1:"",EmpEmailOfficial:"",HierarchyID:"",HierCode:"",HierName:"",HierarchyDetCode:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageName:"",StageSeqNo:"",PPMCreationAssetID:"",ApprovalRemarks:"",CarryonRemarks:"",PPMCreationOthersAddOnCode:"",PPMRefNo:"",PPMRefRemarks:"",WoStatus:"",WoStatusDesc:"",TechRemarks:"",SupRemarks:"",AssetStartDate:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},S=[{Name:"January",Count:""},{Name:"February",Count:""},{Name:"March",Count:""},{Name:"April",Count:""},{Name:"May",Count:""},{Name:"June",Count:""},{Name:"July",Count:""},{Name:"August",Count:""},{Name:"September",Count:""},{Name:"October",Count:""},{Name:"November",Count:""},{Name:"December",Count:""}],T=e=>{const[t]=(0,n.useState)(localStorage.getItem("userid")),[l,I]=(0,n.useState)([]),[T,h]=(0,n.useState)(!1),[E,f]=(0,n.useReducer)(m.Z,v),[A,B]=(0,n.useState)([]),[x,b]=(0,n.useState)([]),[w,k]=(0,n.useState)(0),[L,F]=(0,n.useState)(0),[W,O]=(0,n.useState)(S),[Z,K]=(0,n.useState)(""),[G,R]=(0,n.useState)(""),[_]=(0,n.useState)("2004"),[q,H]=(0,n.useState)([]),[U,V]=(0,n.useState)([]),[X,Y]=(0,n.useState)({WorkOrder:"",WoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",EquipmentName:"",FrequencyName:"",PPMCreationAssetCode:"",GeneratedDateTime:"",ActualDateTime:"",WoCompletedDate:"",ParentCreationKey:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",IsWithDraw:"",WithDrawRemarks:"",IsReschedule:"",RescheduleRemarks:"",IsRework:"",ReworkRemarks:"",SequenceNo:"",PPMLattitude:"",PPMLongitude:"",IsCCMRaised:"",XCreationAssetKey:"",XWorkOrder:"",XWoDate:"",PPMGeneralCost:"",PPMMaterialCost:"",PPMLabourCost:"",PPMVendorInvCost:"",PPMTotalCost:"",PPMChargeLedgerKey:"",PPMCostLedgerKey:"",SchFreqAssetKey:"",PpmCreationDisciplineKey:"",PPMSBSTimeCostKey:"",BMSKey:"",IsWoManual:"",PPMTypeName:"",FirstName:"",FirstName1:"",FirstName2:"",FirstName3:"",HierarchyDetCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMStageName:"",PPMCreationOthersAddOnCode:"",PPMCreationAnaAddOnCode:"",PPMCreationSupAddOnCode:""}),[j,z]=(0,n.useState)([]),[J,$]=(0,n.useState)([]),[Q,ee]=(0,n.useState)([]),[te,le]=(0,n.useState)([]),[ne,ae]=(0,n.useState)(""),[ie,oe]=(0,n.useState)([]),[re,se]=(0,n.useState)([]),[ue,pe]=(0,n.useState)([]),[me,ce]=(0,n.useState)([]),[de,De]=(0,n.useState)(""),[Ce,ye]=a().useReducer(N.d,N.E),[Ie,ge]=(0,n.useState)({current:1,pageSize:10}),[Pe,Ne]=g()("2004"),[Me,ve]=(0,n.useState)(""),Se=(0,n.useRef)(),Te=(0,n.useRef)(),he=(0,n.useRef)(),Ee=(0,n.useRef)(),[fe,Ae]=(0,n.useState)({open:!1,color:"",message:[""]});(0,n.useRef)(null),(0,n.useRef)(null);var Be=[...W];(0,n.useEffect)((()=>{(0,s.Z)(0).then((e=>{b(e)}))}),[]),(0,n.useEffect)((()=>{!function(e){let t=[],l=[],n=[],a=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),n.push(e.FieldDescription)));let i=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),ye({type:"language",payload:Object.assign({},...a)}),Y(l.reduce(((e,t)=>(e[t]="",e)),{})),oe(e),H(t),V(l),se(n),pe(l)}(Pe)}),[Pe]);const xe=(t,l,n,i,o,u,p)=>{e.loading(!0);let m=[],d=[],D=[],I=[];j.map((e=>{e&&I.push(e.LocalityID)})),J.map((e=>{e&&m.push(e.BuildingID)})),Q.map((e=>{e&&d.push(e.DivisionID)})),te.map((e=>{e&&D.push(e.DisciplineID)}));let g=r.v.Api+"FP468S3/";const P={data:{p1:o&&o.PPMCreationAssetIDPK?o.PPMCreationAssetIDPK:null,p2:o&&o.PPMCreationAssetCode?o.PPMCreationAssetCode:null,p3:o&&o.WorkOrder?o.WorkOrder:null,p4:o&&o.WoDateTime?o.WoDateTime:null,p5:o&&o.WoDateTimeType?o.WoDateTimeType:null,p6:o&&o.WoDateTimeBetween?o.WoDateTimeBetween:null,p7:o&&o.GeneratedDateTime?o.GeneratedDateTime:null,p8:o&&o.GeneratedDateTimeType?o.GeneratedDateTimeType:null,p9:o&&o.GeneratedDateTimeBetween?o.GeneratedDateTimeBetween:null,p10:o&&o.ActualDateTime?o.ActualDateTime:null,p11:o&&o.ActualDateTimeType?o.ActualDateTimeType:null,p12:o&&o.ActualDateTimeBetween?o.ActualDateTimeBetween:null,p13:o&&o.WoCompletedDate?o.WoCompletedDate:null,p14:o&&o.WoCompletedDateType?o.WoCompletedDateType:null,p15:o&&o.WoCompletedDateBetween?o.WoCompletedDateBetween:null,p16:o&&o.ParentCreationKey?o.ParentCreationKey:null,p17:"PPMMONTHWISEDET"==t?l||"0"==l?l+1:(new Date).getMonth()+1:null,p18:"PPMMONTHWISEDET"==t?w||(new Date).getFullYear():"PPMCOUNT"==t?i||w||(new Date).getFullYear():null,p19:"PPMCOUNT"==t?"PPMMONTH":null,p20:o&&o.ManPower?o.ManPower:null,p21:o&&o.MaintenanceHours?o.MaintenanceHours:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:o&&o.SequenceNo?o.SequenceNo:null,p29:o&&o.PPMLattitude?o.PPMLattitude:null,p30:o&&o.PPMLongitude?o.PPMLongitude:null,p31:null,p32:o&&o.XCreationAssetKey?o.XCreationAssetKey:null,p33:o&&o.XWorkOrder?o.XWorkOrder:null,p34:o&&o.XWoDate?o.XWoDate:null,p35:o&&o.XWoDateType?o.XWoDateType:null,p36:o&&o.XWoDateBetween?o.XWoDateBetween:null,p37:o&&o.PPMGeneralCost?o.PPMGeneralCost:null,p38:o&&o.PPMMaterialCost?o.PPMMaterialCost:null,p39:o&&o.PPMLabourCost?o.PPMLabourCost:null,p40:o&&o.PPMVendorInvCost?o.PPMVendorInvCost:null,p41:o&&o.PPMTotalCost?o.PPMTotalCost:null,p42:o&&o.PPMChargeLedgerKey?o.PPMChargeLedgerKey:null,p43:o&&o.PPMCostLedgerKey?o.PPMCostLedgerKey:null,p44:o&&o.SchFreqAssetKey?o.SchFreqAssetKey:null,p45:o&&o.PpmCreationDisciplineKey?o.PpmCreationDisciplineKey:null,p46:o&&o.PPMSBSCostKey?o.PPMSBSCostKey:null,p47:o&&o.BMSKey?o.BMSKey:null,p48:null,p49:o&&o.PMTechStartDateTime?o.PMTechStartDateTime:null,p50:o&&o.PMTechStartDateTimeType?o.PMTechStartDateTimeType:null,p51:o&&o.PMTechStartDateTimeBetween?o.PMTechStartDateTimeBetween:null,p52:o&&o.PMTechEndDateTime?o.PMTechEndDateTime:null,p53:o&&o.PMTechEndDateTimeType?o.PMTechEndDateTimeType:null,p54:o&&o.PMTechEndDateTimeBetween?o.PMTechEndDateTimeBetween:null,p55:null,p56:o&&o.PMTechName?o.PMTechName:null,p57:o&&o.PMTechKey?o.PMTechKey:null,p58:o&&o.PMSupStartDateTime?o.PMSupStartDateTime:null,p59:o&&o.PMSupStartDateTimeType?o.PMSupStartDateTimeType:null,p60:o&&o.PMSupStartDateTimeBetween?o.PMSupStartDateTimeBetween:null,p61:o&&o.PMSupEndDateTime?o.PMSupEndDateTime:null,p62:o&&o.PMSupEndDateTimeType?o.PMSupEndDateTimeType:null,p63:"PPMDAYWISEDET"==t?day:null,p64:null,p65:o&&o.PMSupName?o.PMSupName:null,p66:o&&o.PMSupKey?o.PMSupKey:null,p67:o&&o.PMFirstParty?o.PMFirstParty:null,p68:o&&o.PMContract?o.PMContract:null,p69:o&&o.WorkPermit?o.WorkPermit:null,p70:"DraftPPMCreationAssetID"==t?"1":"0",p71:null,p72:E.ContractID?E.ContractID:null,p73:I.length>0?I.toString():null,p74:m.length>0?m.toString():null,p75:null,p76:null,p77:d.length>0?d.toString():null,p78:D.length>0?D.toString():null,p79:o&&o.FrequencyID?o.FrequencyID:null,p80:o&&o.AssetID?o.AssetID:null,p81:o&&o.EmployeeID?o.EmployeeID:null,p82:o&&o.EmployeeID1?o.EmployeeID1:null,p83:o&&o.EmployeeID2?o.EmployeeID2:null,p84:o&&o.EmployeeID3?o.EmployeeID3:null,p85:o&&o.PPMBusinessFlowID?o.PPMBusinessFlowID:null,p86:o&&o.PPMFixonBusinessFlowID?o.PPMFixonBusinessFlowID:null,p87:o&&o.PPMStageID?o.PPMStageID:null,p88:e.Dialogview?"1":null,p89:null,p90:o&&o.CreatedUserID_varchar?o.CreatedUserID_varchar:null,p91:o&&o.CreatedTtm?o.CreatedTtm:null,p92:o&&o.CreatedTtmType?o.CreatedTtmType:null,p93:o&&o.CreatedTtmBetween?o.CreatedTtmBetween:null,p94:null,p95:o&&o.ContractGroupID?o.ContractGroupID:null,p96:o&&o.ContractGroupCode?o.ContractGroupCode:null,p97:o&&o.ContractGroupName?o.ContractGroupName:null,p98:o&&o.TaxID?o.TaxID:null,p99:o&&o.TaxCode?o.TaxCode:null,p100:o&&o.TaxName?o.TaxName:null,p101:o&&o.TaxValue?o.TaxValue:null,p102:o&&o.CustomerID?o.CustomerID:null,p103:o&&o.CustomerCode?o.CustomerCode:null,p104:o&&o.CustomerName?o.CustomerName:null,p105:o&&o.ContractTypeID?o.ContractTypeID:null,p106:o&&o.ContractTypCode?o.ContractTypCode:null,p107:o&&o.ContractTypeName?o.ContractTypeName:null,p108:o&&o.ContractCategID?o.ContractCategID:null,p109:o&&o.ContractCategCode?o.ContractCategCode:null,p110:o&&o.ContractCategName?o.ContractCategName:null,p111:o&&o.ConPaymentTermsID?o.ConPaymentTermsID:null,p112:o&&o.ConPaymentTermsName?o.ConPaymentTermsName:null,p113:o&&o.ContractCode?o.ContractCode:null,p114:o&&o.ContractName?o.ContractName:null,p115:o&&o.LocalityGroupID?o.LocalityGroupID:null,p116:o&&o.LocalityGroupCode?o.LocalityGroupCode:null,p117:o&&o.LocalityGroupName?o.LocalityGroupName:null,p118:o&&o.CityID?o.CityID:null,p119:o&&o.CityCode?o.CityCode:null,p120:o&&o.CityName?o.CityName:null,p121:o&&o.AdminLocalityTypeID?o.AdminLocalityTypeID:null,p122:o&&o.AdminLocalityTypeCode?o.AdminLocalityTypeCode:null,p123:o&&o.AdminLocalityTypeName?o.AdminLocalityTypeName:null,p124:o&&o.LocalityCode?o.LocalityCode:null,p125:o&&o.LocalityName?o.LocalityName:null,p126:o&&o.AssBuildingTypeID?o.AssBuildingTypeID:null,p127:o&&o.AssBuildingTypeCode?o.AssBuildingTypeCode:null,p128:o&&o.AssBuildingTypeName?o.AssBuildingTypeName:null,p129:o&&o.BuildingCode?o.BuildingCode:null,p130:o&&o.BuildingName?o.BuildingName:null,p131:o&&o.FloorCode?o.FloorCode:null,p132:o&&o.FloorName?o.FloorName:null,p133:o&&o.SpotTypeID?o.SpotTypeID:null,p134:o&&o.SpotTypeCode?o.SpotTypeCode:null,p135:o&&o.SpotTypeName?o.SpotTypeName:null,p136:o&&o.AssWingID?o.AssWingID:null,p137:o&&o.AssWingCode?o.AssWingCode:null,p138:o&&o.AssWingName?o.AssWingName:null,p139:o&&o.SpotCode?o.SpotCode:null,p140:o&&o.SpotName?o.SpotName:null,p141:o&&o.DivisionCode?o.DivisionCode:null,p142:o&&o.DivisionName?o.DivisionName:null,p143:o&&o.DisciplineCode?o.DisciplineCode:null,p144:o&&o.DisciplineName?o.DisciplineName:null,p145:o&&o.FrequencyCode?o.FrequencyCode:null,p146:o&&o.FrequencyName?o.FrequencyName:null,p147:o&&o.AssetCategoryID?o.AssetCategoryID:null,p148:o&&o.AssetCategoryCode?o.AssetCategoryCode:null,p149:o&&o.AssetCategoryName?o.AssetCategoryName:null,p150:o&&o.AssetTypeID?o.AssetTypeID:null,p151:o&&o.AssetTypCode?o.AssetTypCode:null,p152:o&&o.AssetTypeName?o.AssetTypeName:null,p153:o&&o.PriorityID?o.PriorityID:null,p154:o&&o.PriorityCode?o.PriorityCode:null,p155:o&&o.PriorityName?o.PriorityName:null,p156:o&&o.StatusID?o.StatusID:null,p157:o&&o.StatusCode?o.StatusCode:null,p158:o&&o.StatusName?o.StatusName:null,p159:o&&o.ConditionID?o.ConditionID:null,p160:o&&o.ConditionCode?o.ConditionCode:null,p161:o&&o.ConditionDesp?o.ConditionDesp:null,p162:o&&o.ConditionName?o.ConditionName:null,p163:o&&o.MakeID?o.MakeID:null,p164:o&&o.MakeCode?o.MakeCode:null,p165:o&&o.MakeName?o.MakeName:null,p166:o&&o.ModelID?o.ModelID:null,p167:o&&o.ModelCode?o.ModelCode:null,p168:o&&o.ModelName?o.ModelName:null,p169:o&&o.ServiceAreaID?o.ServiceAreaID:null,p170:o&&o.ServiceAreaCode?o.ServiceAreaCode:null,p171:o&&o.ServiceAreaName?o.ServiceAreaName:null,p172:o&&o.TradeGroupID?o.TradeGroupID:null,p173:o&&o.TradeGroupCode?o.TradeGroupCode:null,p174:o&&o.TradeGroupName?o.TradeGroupName:null,p175:o&&o.EquipmentName?o.EquipmentName:null,p176:o&&o.EquipmentRefNo?o.EquipmentRefNo:null,p177:o&&o.AssetBarcode?o.AssetBarcode:null,p178:o&&o.AssetTagNo?o.AssetTagNo:null,p179:o&&o.BriefDetails?o.BriefDetails:null,p180:o&&o.FlowCode?o.FlowCode:null,p181:o&&o.FlowDisplayName?o.FlowDisplayName:null,p182:o&&o.FixonBusinessFlowName?o.FixonBusinessFlowName:null,p183:o&&o.PPMFixonBusinessFlowCode?o.PPMFixonBusinessFlowCode:null,p184:o&&o.PPMStageName?o.PPMStageName:null,p185:o&&o.StageSeqNo?o.StageSeqNo:null,p186:n||1,p187:u||10,p188:t,p189:null,p190:null,p191:localStorage.getItem("UserGroupID"),p192:localStorage.getItem("userid")}};(0,s.Z)(0).then((n=>{(0,c.Z)(g,P,n).then((n=>{if("PPMCOUNT"==t){if(0==n.Output.data.length)return e.alertmsg({open:!0,color:"warning",message:["No Records Found"]}),e.loading(!1),O(S),!1;const{LocUserID:t,SelectedYear:l,...a}=n.Output.data[0];K(n.Output.data[0].SelectedYear),Object.values(a).map(((e,t)=>{const l={Count:e},n=[...Be],i=n.findIndex((e=>e.Name==Object.keys(a)[t])),o=n[i];n.splice(i,1,{...o,...l}),Be=n,O(n),M.log(n,l,o,"newdata")}))}"PPMMONTHWISEDET"==t&&(0==n.Output.data.length&&e.alertmsg({open:!0,color:"warning",message:["No Records Found"]}),e.SlideComponentType(a().createElement(C.default,{dynamic:!0,name:"PPM Month Wise Summary",tableData:n.Output.data,TableVisibleItem:[],TableBodyItem:[],Refresh:()=>xe(t,l),onPageChange:(e,n)=>{xe(t,l,e,"","",n)},searchvalue:e=>{xe(t,l,"","",e)},pageSize:n.Output.data[0]?.PageSize,PrintPdf:e=>{xe(t,l,"1","","",n.Output.data[0].TotalCount,e)}})),h(!1)),e.loading(!1)})),p&&(0,c.Z)(g,P,n,p).then((t=>{(0,y.j)(t,e,t.Output.data,p,"PPM Month Wise Summary")}))}))},be=t=>E.ContractID&&0!=E.ContractID?0==j.length?(e.alertmsg({open:!0,color:"warning",message:["Please select the Location"]}),!1):void xe(t):(e.alertmsg({open:!0,color:"warning",message:["Please select the Contract Name"]}),!1),we=(e,t,l)=>{"LocalityID"==l&&z(t),"BuildingID"==l&&$(t),"DivisionID"==l&&ee(t),"DisciplineID"==l&&le(t)},ke=(t,l,n,a,i)=>{let o=[],s=[],u=[],p=[];j.map((e=>{e&&p.push(e.LocalityID)})),J.map((e=>{e&&o.push(e.BuildingID)})),Q.map((e=>{e&&s.push(e.DivisionID)})),te.map((e=>{e&&u.push(e.DisciplineID)}));const m=r.v.Api+"FP468S3/",d={data:{p1:null,p2:null,p3:null,p4:E.WoDateTime?E.WoDateTime:null,p5:null,p6:null,p7:E.GeneratedDateTime?E.GeneratedDateTime:null,p8:null,p9:null,p10:E.ActualDateTime?E.ActualDateTime:null,p11:null,p12:null,p13:E.WoCompletedDate?E.WoCompletedDate:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:1==E.IsWithDraw,p23:null,p24:1==E.IsReschedule,p25:null,p26:1==E.IsRework,p27:null,p28:l?"%"+l+"%":null,p29:l?"%"+l+"%":null,p30:l?"%"+l+"%":null,p31:1==E.IsCCMRaised,p32:l?"%"+l+"%":null,p33:l?"%"+l+"%":null,p34:E.XWoDate?E.XWoDate:null,p35:null,p36:null,p37:l?"%"+l+"%":null,p38:l?"%"+l+"%":null,p39:l?"%"+l+"%":null,p40:l?"%"+l+"%":null,p41:l?"%"+l+"%":null,p42:l?"%"+l+"%":null,p43:l?"%"+l+"%":null,p44:l?"%"+l+"%":null,p45:l?"%"+l+"%":null,p46:l?"%"+l+"%":null,p47:l?"%"+l+"%":null,p48:1==E.IsWoManual,p49:E.PMTechStartDateTime?E.PMTechStartDateTime:null,p50:null,p51:null,p52:E.PMTechEndDateTime?E.PMTechEndDateTime:null,p53:null,p54:null,p55:null,p56:l?"%"+l+"%":null,p57:l?"%"+l+"%":null,p58:E.PMSupStartDateTime?E.PMSupStartDateTime:null,p59:null,p60:null,p61:E.PMSupEndDateTime?E.PMSupEndDateTime:null,p62:null,p63:null,p64:null,p65:l?"%"+l+"%":null,p66:l?"%"+l+"%":null,p67:l?"%"+l+"%":null,p68:l?"%"+l+"%":null,p69:l?"%"+l+"%":null,p70:null,p71:null,p72:"0"==E.ContractID?null:E.ContractID,p73:"LocalityIDPK"!=n?p.toString():"0"==E.LocalityID?null:E.LocalityID,p74:"BuildingIDPK"!=n?o.toString():"0"==E.BuildingID?null:E.BuildingID,p75:"0"==E.FloorID?null:E.FloorID,p76:"0"==E.SpotID?null:E.SpotID,p77:"DivisionIDPK"!=n?s.toString():"0"==E.DivisionID?null:E.DivisionID,p78:"DisciplineIDPK"!=n?u.toString():"0"==E.DisciplineID?null:E.DisciplineID,p79:"0"==E.FrequencyID?null:E.FrequencyID,p80:"0"==E.AssetID?null:E.AssetID,p81:"0"==E.EmployeeID?null:E.EmployeeID,p82:"0"==E.EmployeeID1?null:E.EmployeeID1,p83:"0"==E.EmployeeID2?null:E.EmployeeID2,p84:"0"==E.EmployeeID3?null:E.EmployeeID3,p85:"0"==E.PPMBusinessFlowID?null:E.PPMBusinessFlowID,p86:"0"==E.PPMFixonBusinessFlowID?null:E.PPMFixonBusinessFlowID,p87:"0"==E.PPMStageID?null:E.PPMStageID,p88:e.Dialogview?"1":null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:"0"==E.ContractGroupID?null:E.ContractGroupID,p96:l?"%"+l+"%":null,p97:l?"%"+l+"%":null,p98:"0"==E.TaxID?null:E.TaxID,p99:l?"%"+l+"%":null,p100:l?"%"+l+"%":null,p101:l?"%"+l+"%":null,p102:"0"==E.CustomerID?null:E.CustomerID,p103:l?"%"+l+"%":null,p104:l?"%"+l+"%":null,p105:"0"==E.ContractTypeID?null:E.ContractTypeID,p106:l?"%"+l+"%":null,p107:l?"%"+l+"%":null,p108:"0"==E.ContractCategID?null:E.ContractCategID,p109:l?"%"+l+"%":null,p110:l?"%"+l+"%":null,p111:"0"==E.ConPaymentTermsID?null:E.ConPaymentTermsID,p112:l?"%"+l+"%":null,p113:l?"%"+l+"%":null,p114:l?"%"+l+"%":null,p115:"0"==E.LocalityGroupID?null:E.LocalityGroupID,p116:l?"%"+l+"%":null,p117:l?"%"+l+"%":null,p118:"0"==E.CityID?null:E.CityID,p119:l?"%"+l+"%":null,p120:l?"%"+l+"%":null,p121:"0"==E.AdminLocalityTypeID?null:E.AdminLocalityTypeID,p122:l?"%"+l+"%":null,p123:l?"%"+l+"%":null,p124:l?"%"+l+"%":null,p125:l?"%"+l+"%":null,p126:"0"==E.AssBuildingTypeID?null:E.AssBuildingTypeID,p127:l?"%"+l+"%":null,p128:l?"%"+l+"%":null,p129:l?"%"+l+"%":null,p130:l?"%"+l+"%":null,p131:l?"%"+l+"%":null,p132:l?"%"+l+"%":null,p133:"0"==E.SpotTypeID?null:E.SpotTypeID,p134:l?"%"+l+"%":null,p135:l?"%"+l+"%":null,p136:"0"==E.AssWingID?null:E.AssWingID,p137:l?"%"+l+"%":null,p138:l?"%"+l+"%":null,p139:l?"%"+l+"%":null,p140:l?"%"+l+"%":null,p141:l?"%"+l+"%":null,p142:l?"%"+l+"%":null,p143:l?"%"+l+"%":null,p144:l?"%"+l+"%":null,p145:l?"%"+l+"%":null,p146:l?"%"+l+"%":null,p147:"0"==E.AssetCategoryID?null:E.AssetCategoryID,p148:l?"%"+l+"%":null,p149:l?"%"+l+"%":null,p150:"0"==E.AssetTypeID?null:E.AssetTypeID,p151:l?"%"+l+"%":null,p152:l?"%"+l+"%":null,p153:"0"==E.PriorityID?null:E.PriorityID,p154:l?"%"+l+"%":null,p155:l?"%"+l+"%":null,p156:"0"==E.StatusID?null:E.StatusID,p157:l?"%"+l+"%":null,p158:l?"%"+l+"%":null,p159:"0"==E.ConditionID?null:E.ConditionID,p160:l?"%"+l+"%":null,p161:l?"%"+l+"%":null,p162:l?"%"+l+"%":null,p163:"0"==E.MakeID?null:E.MakeID,p164:l?"%"+l+"%":null,p165:l?"%"+l+"%":null,p166:"0"==E.ModelID?null:E.ModelID,p167:l?"%"+l+"%":null,p168:l?"%"+l+"%":null,p169:"0"==E.ServiceAreaID?null:E.ServiceAreaID,p170:l?"%"+l+"%":null,p171:l?"%"+l+"%":null,p172:"0"==E.TradeGroupID?null:E.TradeGroupID,p173:l?"%"+l+"%":null,p174:l?"%"+l+"%":null,p175:l?"%"+l+"%":null,p176:l?"%"+l+"%":null,p177:l?"%"+l+"%":null,p178:l?"%"+l+"%":null,p179:l?"%"+l+"%":null,p180:l?"%"+l+"%":null,p181:l?"%"+l+"%":null,p182:l?"%"+l+"%":null,p183:l?"%"+l+"%":null,p184:l?"%"+l+"%":null,p185:l?"%"+l+"%":null,p186:t,p187:i||10,p188:n,p189:null,p190:null,p191:localStorage.getItem("UserGroupID"),p192:localStorage.getItem("userid")}};h(!0);const D=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(d.data).length-8?d.data[t]:null,e)),{});h(!0);const C={data:D};(0,c.Z)(m,"ClearAll"==n?C:d,"SetDefaultPPMCreationAssetID"==n&&a?a:x).then((l=>{const a=l.Output.status.code,o=l.Output.data;if("200"==a){const l=o.length;1==t?l>0?(B(o),"AssetIDPK"==n&&i&&AssetIDRef.current.checkedAll(o),i&&"LocalityIDPK"==n&&(Ee.current.checkedAll(o),e.loading(!1)),i&&"BuildingIDPK"==n&&(Se.current.checkedAll(o),e.loading(!1)),i&&"DivisionIDPK"==n&&(Te.current.checkedAll(o),e.loading(!1)),i&&"DisciplineIDPK"==n&&(he.current.checkedAll(o),e.loading(!1))):B([]):B(A.concat(o)),"SetDefaultPPMCreationAssetID"==n&&(l>0?editRecord(o[0],"SetDefaultPPMCreationAssetID"):setDefaultPrimaryId("NORECORDS")),h(!1)}else context.alert({open:!0,color:"warning",message:[l.Output.status.message]}),h(!1)}))},Le=(0,n.useCallback)(((e,t,l)=>{"text"==l?f({type:l,name:t,value:e}):"number"==l?f({type:l,name:t,number:e}):"boolean"==l?f({type:l,name:t,boolean:e}):"date"==l||"select"==l&&("ContractID"==t?(f({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),f({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null}),f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMCreationAssetBuildingMonthNameClear")&&document.getElementById("PPMCreationAssetBuildingMonthNameClear").click(),$([]),f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMCreationAssetLocalityMonthNameClear")&&document.getElementById("PPMCreationAssetLocalityMonthNameClear").click(),z([]),f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMCreationAssetDivisionMonthNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),ee([]),f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMCreationAssetDisciplineMonthNameClear")&&document.getElementById("PPMCreationAssetDisciplineMonthNameClear").click(),le([])):"LocalityID"==t?(f({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),f({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"BuildingID"==t?(f({type:"text",name:"BuildingID",value:e.BuildingIDPK?e.BuildingIDPK:null}),f({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:null})):"DivisionID"==t?(f({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),f({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"DisciplineID"==t&&(f({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),f({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null})))}),[E]);function Fe(e){"ContractID"==e?(f({type:"text",name:"ContractID",value:""}),f({type:"text",name:"ContractName",value:""}),document.getElementById("PPMCreationAssetContractNameClear")&&document.getElementById("PPMCreationAssetContractMonthNameClear").click(),f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMCreationAssetBuildingMonthNameClear")&&document.getElementById("PPMCreationAssetBuildingMonthNameClear").click(),$([]),f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMCreationAssetDivisionNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),z([]),f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMCreationAssetDivisionNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),ee([]),f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMCreationAssetDisciplineNameClear")&&document.getElementById("PPMCreationAssetDisciplineMonthNameClear").click(),le([])):"LocalityID"==e?(f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMCreationAssetDivisionNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),z([]),f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMCreationAssetBuildingMonthNameClear")&&document.getElementById("PPMCreationAssetBuildingMonthNameClear").click(),$([]),f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMCreationAssetDivisionNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),ee([]),f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMCreationAssetDisciplineNameClear")&&document.getElementById("PPMCreationAssetDisciplineMonthNameClear").click(),le([])):"BuildingID"==e?(f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMCreationAssetBuildingMonthNameClear")&&document.getElementById("PPMCreationAssetBuildingMonthNameClear").click(),f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMCreationAssetLocalityNameClear")&&document.getElementById("PPMCreationAssetLocalityMonthNameClear").click(),$([]),f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMCreationAssetDivisionNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),ee([]),f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMCreationAssetDisciplineNameClear")&&document.getElementById("PPMCreationAssetDisciplineMonthNameClear").click(),le([])):"DivisionID"==e?(f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMCreationAssetDivisionNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),ee([])):"DisciplineID"==e?(f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMCreationAssetDisciplineNameClear")&&document.getElementById("PPMCreationAssetDisciplineMonthNameClear").click(),f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMCreationAssetDivisionNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),le([])):"AssetID"==e?(f({type:"text",name:"AssetID",value:""}),f({type:"text",name:"EquipmentName",value:""})):"FrequencyID"==e&&(f({type:"text",name:"FrequencyID",value:""}),f({type:"text",name:"FrequencyName",value:""}))}return a().createElement("div",{className:"ppmMainDiv"},a().createElement(i.Z,{className:"ppmContainer"},a().createElement(o.Z,{xs:12,sm:12,md:9,lg:9},a().createElement("div",{className:"ppmLeftContainer"},a().createElement(i.Z,null,a().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},a().createElement("div",{className:"LeftContHead"},a().createElement("span",{className:"ContHead1"},"Selected Year : "),a().createElement("span",{className:"ContHead2"},Z))),W&&W.map(((e,t)=>a().createElement(o.Z,{xs:3,md:3,sm:3,lg:3},a().createElement("div",{className:"LeftCont",style:{height:"129px"}},a().createElement("div",{className:"LeftContCard"},a().createElement(i.Z,null,a().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},a().createElement("div",{className:"ContCard1"},a().createElement("span",null,e.Name),M.log(e,e.Count,"COUNT"))),a().createElement(o.Z,{xs:12,md:12,sm:12,lg:12},a().createElement("div",{className:"ContCard2"},a().createElement("span",{style:{cursor:e.Count?"pointer":""},onClick:()=>{e.Count&&xe("PPMMONTHWISEDET",t)}},""===e.Count?"-":e.Count?e.Count:"-")))))))))))),a().createElement(o.Z,{xs:12,sm:12,md:3,lg:3},a().createElement("div",{className:"ppmRightContainer"},a().createElement(i.Z,{style:{position:"relative"}},a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative"}},a().createElement(u.Z,{value:E.ContractName,json:P.A,SPName:"PPMCreationAsset",FieldName:"ContractIDMonth",EnterSave:e=>{e&&be(e)},onSelect:e=>Le(e,"ContractID","select"),onChange:(e,t)=>{ke(e,t,"ContractIDPK")},KeyBack:e=>{"ContractID"=="ContractID"&&f({type:"text",name:"ContractID",value:""})},fieldOrder:"3",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("ContractIDPK")},Tabledialog:()=>OpenDialogComponent("ContractIDPK"),loading:T,SideEntryView:!0,minWidth:"270px",clear:e=>{e&&Fe("ContractID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(p.Z,{value:E.LocalityName,json:P.A,ref:Ee,SPName:"PPMCreationAsset",FieldName:"LocalityIDMonth",EnterSave:e=>{e&&be(e)},onSelect:(e,t)=>we(0,t,"LocalityID"),onChange:(e,t)=>{ke(e,t,"LocalityIDPK")},fieldOrder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,SideEntryView:!0,allData:(t,l)=>{e.loading(!0),ke("1",l||"","LocalityIDPK","",t)},openSlide:()=>{OpenSlideComponent("LocalityIDPK")},Tabledialog:()=>OpenDialogComponent("LocalityIDPK"),loading:T,selectAllData:!0,minWidth:"270px",clear:e=>{e&&Fe("LocalityID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(p.Z,{value:E.BuildingName,json:P.A,ref:Se,SPName:"PPMCreationAsset",FieldName:"BuildingIDMonth",EnterSave:e=>{e&&be(e)},onSelect:(e,t)=>we(0,t,"BuildingID"),onChange:(e,t)=>{ke(e,t,"BuildingIDPK")},fieldOrder:"3",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,SideEntryView:!0,allData:(t,l)=>{e.loading(!0),ke("1",l||"","BuildingIDPK","",t)},openSlide:()=>{OpenSlideComponent("BuildingIDPK")},Tabledialog:()=>OpenDialogComponent("BuildingIDPK"),loading:T,selectAllData:!0,minWidth:"270px",clear:e=>{e&&Fe("BuildingID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(p.Z,{value:E.DivisionName,ref:Te,json:P.A,SPName:"PPMCreationAsset",FieldName:"DivisionIDMonth",EnterSave:e=>{e&&be(e)},onSelect:(e,t)=>we(0,t,"DivisionID"),onChange:(e,t)=>{ke(e,t,"DivisionIDPK")},fieldOrder:"3",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,SideEntryView:!0,allData:(t,l)=>{e.loading(!0),ke("1",l||"","DivisionIDPK","",t)},selectAllData:!0,minWidth:"270px",openSlide:()=>{OpenSlideComponent("DivisionIDPK")},Tabledialog:()=>OpenDialogComponent("DivisionIDPK"),loading:T,clear:e=>{e&&Fe("DivisionID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},a().createElement(p.Z,{value:E.DisciplineName,json:P.A,ref:he,SPName:"PPMCreationAsset",FieldName:"DisciplineIDMonth",EnterSave:e=>{e&&be(e)},onSelect:(e,t)=>we(0,t,"DisciplineID"),onChange:(e,t)=>{ke(e,t,"DisciplineIDPK")},fieldOrder:"3",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,SideEntryView:!0,allData:(t,l)=>{e.loading(!0),ke("1",l||"","DisciplineIDPK","",t)},selectAllData:!0,minWidth:"270px",openSlide:()=>{OpenSlideComponent("DisciplineIDPK")},Tabledialog:()=>OpenDialogComponent("DisciplineIDPK"),loading:T,clear:e=>{e&&Fe("DisciplineID")}})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd",style:{position:"relative",marginTop:"15px"}},a().createElement(d.Z,{value:w||new Date,disabled:!1,label:a().createElement("span",null,"Select an Year"),onChange:t=>{if("Invalid Date"!=t){let l=t?.split("-");if(k(l&&l[0]),K(l&&l[0]),f({type:"text",name:"AssetStartDate",value:t}),E.ContractName){let e=new Date(t).getFullYear();xe("PPMCOUNT",null,null,e)}else e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})}},onErr:e=>{ve(e)},view:["year"],format:"yyyy",formctrlId:"17917",formctrlIdName:"AssetStartDate",fieldOrder:"1"})),a().createElement(o.Z,{xs:12,md:12,lg:12,sm:12,className:"RightContFooter",style:{position:"relative",marginTop:"25px"}},a().createElement(D.Z,{name:"Clear",className:"ContainedBtn",disabled:!1,startIcon:"",onClick:()=>{R(""),f({type:"text",name:"ContractID",value:""}),f({type:"text",name:"ContractName",value:""}),f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMCreationAssetLocalityMonthNameClear")&&document.getElementById("PPMCreationAssetLocalityMonthNameClear").click(),z([]),f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMCreationAssetBuildingMonthNameClear")&&document.getElementById("PPMCreationAssetBuildingMonthNameClear").click(),f({type:"text",name:"FloorID",value:""}),f({type:"text",name:"FloorName",value:""}),f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMCreationAssetDivisionMonthNameClear")&&document.getElementById("PPMCreationAssetDivisionMonthNameClear").click(),f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMCreationAssetDisciplineMonthNameClear")&&document.getElementById("PPMCreationAssetDisciplineMonthNameClear").click(),f({type:"text",name:"AssetStartDate",value:""}),$([]),ee([]),le([]),z([]),K(""),k(""),O(S)},formctrlId:"entclear800"}," Clear"),a().createElement(D.Z,{name:"Show",className:"ColorContainedBtn",disabled:!1,startIcon:"",onClick:()=>{be("PPMCOUNT")}}," Show")))))))}},3212:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(92950),a=l.n(n),i=l(282),o=l(868),r=l(8981);function s(e){let t=(0,r.Z)();const l=e=>t?.[e]?t[e]:e;return a().createElement(o.ZP,{placement:"top",title:e.name?e.name:l("Add")},a().createElement(i.Z,{variant:"contained",id:e.frmctrlid,className:e.className+" boxShadowNone",disabled:e.disabled,onClick:e.onClick},e.name?e.name:l("Add")))}},24038:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(92950),a=l.n(n);function i(e){return a().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},a().createElement("input",{className:e.className,type:e.type,placeholder:e.placeholder,value:e.value,disabled:e.disabled,onChange:t=>{e.onChange(t.target.value.replace(/["']/g,""),t)}}))}},95909:(e,t,l)=>{l.d(t,{Z:()=>s});var n=l(92950),a=l.n(n),i=l(40900);l(87429);const o={position:"absolute",textAlign:"center",top:"46%",width:"100%",zIndex:"99",transform:"translate(-50%, -50%)",transform:"-webkit-translate(-50%, -50%)",transform:"-moz-translate(-50%, -50%)",transform:"-ms-translate(-50%, -50%)"},r={width:"5%",WebkitTouchCallout:"none",WebkitUserSelect:"none",khtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},s=function(e){const{classes:t}=e,[l,s]=(0,n.useState)("hidden");return(0,n.useEffect)((()=>{!0===e.loading?s("block"):s("none")})),a().createElement("div",{className:"loadingRoot",style:{display:l},draggable:"false"},a().createElement("div",{style:o,draggable:"false"},a().createElement("img",{draggable:"false",src:i.v.ImageUrl+"BuildingLoader.gif",alt:"Logo",style:r})))}},5109:(e,t,l)=>{l.d(t,{Z:()=>F});var n=l(92950),a=l.n(n),i=l(65589),o=l(94775),r=l(61956),s=l(51673),u=l(282),p=l(26537),m=l(66321),c=l(14602),d=l.n(c),D=l(35131),C=l.n(D),y=l(40900),I=l(868),g=l(71168),P=l.n(g),N=l(59067),M=l(52663),v=l(66856),S=l(29525),T=l(7212),h=l(66083),E=l(39803),f=l(30553),A=l(64436),B=l(96019),x=l(63163),b=l(53854),w=l(86893),k=l(5434),L=l(6562);function F(e){const[t]=(0,n.useState)(localStorage.getItem("Language")),l=e=>"English"==t?e:Arabic[e]?Arabic[e]:e,c=(0,n.useRef)(null),D=(0,n.useRef)(null),g=(0,n.useRef)(null),[F,W]=(0,n.useState)([]),[O,Z]=(0,n.useState)([]),[K,G]=(0,n.useState)([]),[R,_]=(0,n.useState)([]),[q,H]=(0,n.useState)([]),[U,V]=(0,n.useState)([]),[X,Y]=(0,n.useState)([]),[j,z]=(0,n.useState)(!0),[J,$]=(0,n.useState)(!1),[Q,ee]=(0,n.useState)({}),[te,le]=(0,n.useState)(""),[ne,ae]=(0,n.useState)("varchar"),[ie,oe]=(0,n.useState)(null),[re,se]=(0,n.useState)("table"),[ue,pe]=P()("");(0,n.useEffect)((()=>{ge(!1)}),[e.select]),(0,n.useEffect)((()=>{c.current.classList.add("btnListActive")}),[]);const me=t=>"cancel"==t?($(!1),!1):te?void("save"==t&&(Pe(F,K,R,O,q),$(!1))):(e.AltMsg("Please Enter the Field Name","warning"),!1),ce=(0,i.SortableContainer)((({items:e,frmctrlid:t})=>a().createElement("div",{className:"Showcase__style__list Showcase__style__stylizedList",id:`Showcase__style_${t}`},e.map(((e,l)=>a().createElement(I.ZP,{key:l,title:"Sort",placement:"top"},a().createElement(de,{index:l,value:e,id:t}))))))),de=(0,i.SortableElement)((({value:t})=>a().createElement("div",null,a().createElement("div",{className:"Showcase__style__item Showcase__style__stylizedItem",id:e.frmctrlid+"_"+t.name+"_drag"},"table"==re&&a().createElement(a().Fragment,null,a().createElement(k.iVq,{style:{cursor:"grabbing",justifyContent:"space-between",marginLeft:"5px"}}),a().createElement("div",{className:""},a().createElement(N.Z,{style:{paddingLeft:"1px",marginLeft:"4px"},className:"LockIcon",id:e.frmctrlid+"_editIcon",onClick:()=>{$(!0),ee(t),le(t.desc),ae(t.fielddatatype)}})),a().createElement("span",{style:{fontSize:"0.688rem",width:"100%",paddingLeft:"5px"}},t.desc),a().createElement("div",null,a().createElement("div",{className:"",style:{}},a().createElement(L.Z,{row:!0},a().createElement(f.Z,{labelPlacement:"bottom",control:a().createElement(x.Z,{checked:-1!==K.indexOf(t.name),onChange:()=>{De(t.name)}})}))))),"view"==re&&a().createElement(a().Fragment,null,a().createElement("span",{style:{fontSize:"0.688rem",width:"100%",paddingLeft:"5px"}},t.desc),a().createElement("div",null,a().createElement("div",{className:"",style:{}},a().createElement(L.Z,{row:!0},a().createElement(f.Z,{labelPlacement:"bottom",control:a().createElement(x.Z,{checked:-1!==R.indexOf(t.name),onChange:()=>Ce(t.name)})}))))),"filter"==re&&a().createElement(a().Fragment,null,a().createElement("span",{style:{fontSize:"0.688rem",width:"100%",paddingLeft:"5px"}},t.desc),a().createElement("div",null,a().createElement("div",{className:"",style:{}},a().createElement(L.Z,{row:!0},a().createElement(f.Z,{labelPlacement:"bottom",control:a().createElement(x.Z,{checked:-1!==q.indexOf(t.name),onChange:()=>{ye(t.name)}})}))))))))),De=e=>{const t=K.indexOf(e),l=[...K];-1===t?l.push(e):l.splice(t,1),G(l)},Ce=e=>{const t=R.indexOf(e),l=[...R];-1===t?l.push(e):l.splice(t,1),_(l)},ye=e=>{const t=q.indexOf(e),l=[...q];-1===t?l.push(e):l.splice(t,1),H(l)};function Ie(e,t,l){return e.sort((function(e,n){var a=e[l],i=n[l];return t.indexOf(a)>t.indexOf(i)?1:-1})),e}function ge(t){e.loading(!0);const l=y.v.Api+"FP20S3/",n={data:{p1:null,p2:null,p3:null,p4:null,p5:e.userGridViewFormID,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:1,p26:10,p27:"AdminUserGridViewID",p28:null,p29:null,p30:Number(localStorage.getItem("UserGroupID")),p31:Number(localStorage.getItem("userid"))}};(0,p.Z)(0).then((a=>{(0,s.Z)(l,n,a).then((l=>{try{let n="";if(n=l.Output.status?l.Output.status.code:l.Output.message.code,"200"==n){const n=l.Output.data;let a=[],i=[],o=[],r=[],s=[],u=[];n.map(((e,t)=>{a.push({id:parseInt(e.AdminUserGridViewIDPK),name:e.FieldName,desc:e.FieldDescription,visible:e.IsVisible,apptoview:e.IsApplyToView,order:e.FieldOrder,fieldwidth:e.FieldWidth,fielddisplay:e.FieldDisplay,active:e.IsActive,fielddatatype:e.FieldDataType,GroupID:e.GroupID,GroupName:e.GroupName,IsForeign:e.IsForeign,IsDraft:e.IsDraft,Remarks:e.Remarks}),i.push({name:e.FieldName,desc:e.FieldDescription,active:e.IsActive,fielddatatype:e.FieldDataType}),"1"==e.IsVisible&&r.push(e.FieldName),"1"==e.IsApplyToView&&s.push(e.FieldName),"1"==e.IsDraft&&u.push(e.FieldName)})),W(i),Z(a.filter((e=>e.visible))?.sort(((e,t)=>Number(e.Remarks)-Number(t.Remarks)))),Y(o),G(r),_(s),H(u),V(a),e.loading(!1),t&&e.saved(!0,l.Output.data)}else e.AltMsg(l.Output.error,"error"),e.loading(!1)}catch(t){e.AltMsg(t.message,"error"),e.loading(!1)}}))}))}function Pe(t,n,a,i,o){const s=y.v.Api+"FP20S1/";let u=[],m=[],c=[],d=[],D=[],I=[],g=[],P=[],N=[];t.map((e=>{n.includes(e.name)&&u.push(e.name)})),i.map((e=>{n.includes(e.name)&&m.push(e.name)})),U.map((e=>{n.includes(e.name)?(e.visible=1,c.push(e)):(e.visible=0,d.push(e)),o.includes(e.name)?(e.IsDraft=1,D.push(e)):(e.IsDraft=0,I.push(e))})),c=Ie(c,u,"name"),[...c,...d].map(((e,t)=>{e.order=t+1,a.includes(e.name)?e.apptoview=1:e.apptoview=0,P.push(e)})),D=Ie(D,m,"name"),[...D,...I].map(((e,t)=>{e.Remarks=t+1,N.push(e)}));const M=N.map((e=>{const t=P.find((({id:t})=>t===e.id));return t?{...e,...t}:e}));if(0===u.length)return e.AltMsg("Please Select Column","warning"),!1;{if(J&&!te.trim())return e.AltMsg("Please Enter the Field Name","warning"),$(!0),!1;M.map((t=>{let l={p1:t.id,p2:t.name,p3:t.desc?t.desc.trim():t.desc,p4:Number(localStorage.getItem("userid")),p5:Number(e.userGridViewFormID),p6:t.GroupID,p7:t.GroupName,p8:t.apptoview,p9:t.IsForeign,p10:t.visible,p11:Number(t.order),p12:Number(t.fieldwidth),p13:t.fielddisplay,p14:null,p15:t.fielddatatype,p16:t.IsDraft,p17:t.Remarks,p18:!0,p19:!1,p20:Number(localStorage.getItem("userid")),p21:C()().format("YYYY-MM-DD hh:mm:ss"),p22:Number(localStorage.getItem("userid")),p23:C()().format("YYYY-MM-DD hh:mm:ss")};g.push(l)})),e.loading(!0);const t={data:g};(0,p.Z)(0).then((n=>{(0,r.Z)(s,t,n).then((t=>{const n=t[0].status;t[0].error,200==n.code?(ge(!0),e.loading(!1),e.AltMsg(l("Applied"),"success"),pe(Number(e.userGridViewFormID))):e.saved(!1)}))}))}}const Ne=(e,t)=>{"fieldname"==t?le(e.target.value):ae(e);let l=U.filter((e=>e.name==Q.name));var n=new Object;n={id:l[0].id,name:l[0].name,desc:"fieldname"==t?e.target.value:l[0].desc,visible:l[0].visible,order:l[0].order,fieldwidth:l[0].fieldwidth,fielddisplay:l[0].fielddisplay,active:l[0].active,fielddatatype:"fieldalign"==t?e:l[0].fielddatatype,GroupID:l[0].GroupID,GroupName:l[0].GroupName,IsForeign:l[0].IsForeign,IsDraft:l[0].IsDraft,Remarks:l[0].Remarks};const a=[...U],i=a.findIndex((e=>e.name==Q.name)),o=a[i];a.splice(i,1,{...o,...n}),V(a)};return a().createElement("div",{className:"columnDiv"},a().createElement("div",{className:"columnHeader displayFlex"},a().createElement("div",{className:"columnHeaderTitle"},a().createElement(m.Z,{className:"columnHeaderIcon"}),a().createElement("p",{className:"columnHeaderp"},l("Manage Column"))),a().createElement("div",{className:"columnHeaderbtn",align:"right"},a().createElement(u.Z,{className:"ColumnApplyButton",startIcon:a().createElement(o.Z,{className:"ColumnApplyIcon"}),onClick:()=>Pe(F,K,R,O,q),id:e.frmctrlid+"_clmnApply"},a().createElement("span",{className:"ColumnApplyTitle"},l("Apply"))))),a().createElement("div",null,a().createElement("div",{style:{display:"flex",alignItem:"center",margin:"5px",justifyContent:"center"}},a().createElement("div",{className:"b2",id:"button-11",style:{background:"lightgray"}},a().createElement("div",{className:"btnList",ref:c,id:e.frmctrlid+"table",style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px",cursor:"pointer"},onClick:()=>{se("table"),c.current.classList.add("btnListActive"),D.current.classList.remove("btnListActive"),g.current.classList.remove("btnListActive")}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement(w.aCJ,null)),a().createElement("span",null,l("Table"))),a().createElement("div",{className:"btnList",ref:D,id:e.frmctrlid+"display",onClick:()=>{se("view"),c.current.classList.remove("btnListActive"),D.current.classList.add("btnListActive"),g.current.classList.remove("btnListActive")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",cursor:"pointer"}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement(b.umT,null)),a().createElement("span",null,l("Display"))),a().createElement("div",{className:"btnList",ref:g,id:e.frmctrlid+"filter",onClick:()=>{se("filter"),c.current.classList.remove("btnListActive"),D.current.classList.remove("btnListActive"),g.current.classList.add("btnListActive")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",cursor:"pointer"}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement(b.umT,null)),a().createElement("span",null,l("Filter"))))),a().createElement(ce,{distance:1,lockAxis:"y",items:"filter"==re?O:F,onSortEnd:({oldIndex:e,newIndex:t})=>{if("view"==re)return!1;z(!1),"filter"==re?Z(d()(O,e,t)):W(d()(F,e,t))},frmctrlid:e.frmctrlid+"_sortable"})),a().createElement(M.Z,{open:J,onClose:me,"aria-labelledby":"form-dialog-title"},a().createElement(h.Z,{id:"form-dialog-title"},l("Change Header Name")),a().createElement(S.Z,null,a().createElement(T.Z,null,l("please enter your header name here"),"."),a().createElement(E.Z,{autoFocus:!0,margin:"dense",id:e.frmctrlid+"_textfld",label:l("Field Name"),type:"text",fullWidth:!0,value:te,onChange:e=>{oe(null),Ne(e,"fieldname")},helperText:ie}),"bit"!=Q.fielddatatype&&a().createElement(A.Z,{component:"fieldset"},a().createElement(B.Z,{component:"legend",style:{width:"auto",paddingBottom:"5px"}},l("Field Align")),a().createElement("div",{className:"fradio"},a().createElement("label",{className:"radiocontainer",style:{marginBottom:"10px"}},l("Left"),a().createElement("input",{id:e.frmctrlid+"_left",type:"radio",value:ne,checked:"varchar"===ne,onChange:e=>Ne("varchar","fieldalign")}),a().createElement("span",{className:"radiomark"})),a().createElement("label",{className:"radiocontainer"},l("Right"),a().createElement("input",{id:e.frmctrlid+"_right",type:"radio",value:ne,checked:"int"===ne,onChange:e=>Ne("int","fieldalign")}),a().createElement("span",{className:"radiomark"}))))),a().createElement(v.Z,null,a().createElement(u.Z,{id:e.frmctrlid+"_cancel",onClick:()=>me("cancel"),color:"primary"},l("Cancel")),a().createElement(u.Z,{id:e.frmctrlid+"_save",onClick:()=>me("save"),color:"primary"},l("Update")))))}},94986:(e,t,l)=>{l.d(t,{Z:()=>c});var n=l(92950),a=l.n(n),i=l(79895),o=l(82302),r=l(99613),s=l(88222),u=l(56847),p=l(83750),m=l(57394);function c(e){const[t,l]=(0,n.useState)([]),[c,d]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(e.data.length>0){let t=Object.keys(e.data[0]);l(t),d(e.data)}}),[e]),a().createElement(u.Z,{component:i.Z,className:"TableScrollContainer scrollY"},a().createElement(o.Z,{stickyHeader:!0,id:e.id},a().createElement(p.Z,null,a().createElement(m.Z,null,t.map(((e,t)=>a().createElement(s.Z,{className:"StyledTableCellHeadStyles listColor",key:t,style:{minWidth:"auto",whiteSpace:"nowrap"}},a().createElement("span",{style:{color:"#3873bb",fontWeight:"600",minWidth:"fit-content"}},e)))))),a().createElement(r.Z,null,c.map(((e,l)=>a().createElement(m.Z,{key:"body"+l},t.map(((t,l)=>a().createElement(s.Z,{className:"StyledTableCellBodyStyles",key:l,style:{minWidth:"auto",whiteSpace:"nowrap"}},!0===e[t]||!1===e[t]?!0===e[t]?1:0:e[t])))))))))}},63163:(e,t,l)=>{l.d(t,{Z:()=>P});var n=l(92950),a=l.n(n),i=l(93379),o=l.n(i),r=l(7795),s=l.n(r),u=l(90569),p=l.n(u),m=l(3565),c=l.n(m),d=l(19216),D=l.n(d),C=l(44589),y=l.n(C),I=l(89177),g={};g.styleTagTransform=y(),g.setAttributes=c(),g.insert=p().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=D(),o()(I.Z,g),I.Z&&I.Z.locals&&I.Z.locals;const P=function(e){const[t,l]=(0,n.useState)(e.checked);return(0,n.useEffect)((()=>{l(e.checked)}),[e.checked]),a().createElement("label",{className:"toggle-switch"},a().createElement("input",{type:"checkbox",checked:t,onChange:n=>{l(t),e.onChange(n)},frmctrlid:e.frmctrlid,frmctrlidname:e.frmctrlidname,fieldorder:e.fieldorder,tfLabel:e.tfLabel}),a().createElement("span",{className:"switch"}))}},89177:(e,t,l)=>{l.d(t,{Z:()=>i});var n=l(23645),a=l.n(n)()((function(e){return e[1]}));a.push([e.id,'.toggle-switch {\n    position: relative;\n    display: inline-block;\n    width: 36px;\n    height: 18px;\n  }\n  \n  .toggle-switch input[type="checkbox"] {\n    display: none;\n  }\n  \n  .toggle-switch .switch {\n    position: absolute;\n    cursor: pointer;\n    background-color: #ccc;\n    border-radius: 25px;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    transition: background-color 0.2s ease;\n  }\n  \n  .toggle-switch .switch::before {\n    position: absolute;\n    content: "";\n    left: 3px;\n    top: 3px;\n    width: 12px;\n    height: 12px;\n    background-color: #fff;\n    border-radius: 50%;\n    transition: transform 0.3s ease;\n  }\n  \n  .toggle-switch input[type="checkbox"]:checked + .switch::before {\n    transform: translateX(18px);\n    background-color: #fff;\n  }\n  \n  .toggle-switch input[type="checkbox"]:checked + .switch {\n    background-color: var(--BGButton);\n  }\n  ',""]);const i=a}}]);