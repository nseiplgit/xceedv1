/*! For license information please see 2205.888c92e92c94fe4d9e9e.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[2205],{72205:(e,t,n)=>{n.r(t),n.d(t,{ContextApi:()=>xe,PPMVendorInvoiceDetailsContext:()=>Te,UserGridViewData:()=>Be,default:()=>ke});var l=n(92950),a=n.n(l),o=(n(95866),n(45237)),i=n(36939),r=n(61201),d=n(51673),c=(n(99058),n(80366)),s=n(282),m=n(868),u=n(78513),p=n(14439),P=n(27848),I=n(40900),v=n(64059),D=n(24038),y=n(8981),g=n(47516),M=n(86893),C=n(33681),V=n(63163),f=n(35131),E=n.n(f),N=n(61956),h=n(93657),S=n(53375),b=n(52663),A=n(66083),F=n(29525),w=n(66856),T=n(39803),x=n(99940),B=n(17149),k=n(62810),L=n(30553),Z=n(92381),O=n(25108);const R=(0,l.forwardRef)(((e,t)=>{const[n]=(0,l.useState)(localStorage.getItem("userid")),[o,i]=(0,l.useState)([]),[r,f]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[E,N]=(0,l.useState)(""),[R,K]=(0,l.useState)({}),[z,_]=(0,l.useState)(!0),[W,q]=(0,l.useState)(!1),{cstate:G,cdispatch:j}=e.ContextApi?e.ContextApi:xe(),[U,H]=(0,l.useState)(1),[Y,$]=(0,l.useState)(0),[J,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ne]=(0,l.useState)([]),[le,ae]=(0,l.useState)(!0),[oe,ie]=(0,l.useState)(!1),[re,de]=(0,l.useState)(""),[ce,se]=(0,l.useState)(!1),[me,ue]=(0,l.useState)(!1),[pe,Pe]=(0,l.useState)(!1),[Ie,ve]=(0,l.useState)(""),De=(0,l.useRef)(null),[ye,ge]=(0,l.useState)({});let Me=localStorage.getItem("Language");const Ce={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ve=(0,y.Z)();const fe=e=>Ve[e]?Ve[e]:e,Ee=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ce[Me]];function Ne(){K({}),ee({}),e.searchData({}),q(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const n=e.userGrid.reduce(((e,t)=>{const n=t.FieldName;return t.IsForeign&&(e[n]||(e[n]=[]),e[n].push(t.FieldDisplay)),e}),{});ge(n),ne(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()}})));const he=async(t,n,l,a)=>{Q(!0);try{De.current&&De.current.abort();const r=new AbortController;De.current=r;let c="",s=[],m={};await f((e=>(c=e.name,e))),await K((e=>(s=e,e))),await ee((e=>(m=e,e)));const u=I.v.Api+"FP845S3/",p={data:{p1:"PPMVendorInvoiceIDPK"==n?null:await we(),p2:"PPMVendorInvoiceCode"==c&&l.length>0?"%"+l+"%":null,p3:"PPMVenInvCode"==c&&l.length>0?"%"+l+"%":null,p4:"PPMVendorInvoiceNarration"==c&&l.length>0?"%"+l+"%":null,p5:"PPMVendorInvoiceInvNo"==c&&l.length>0?"%"+l+"%":null,p6:"PPMVendorInvoiceRefNo"==c&&l.length>0?"%"+l+"%":null,p7:"PPMVendorInvoiceAmount"==c&&l.length>0?"%"+l+"%":null,p8:null,p9:null,p10:null,p11:"PPMVendorInvoiceDectAmount"==c&&l.length>0?"%"+l+"%":null,p12:"PPMVendorInvoiceDectKey"==c&&l.length>0?"%"+l+"%":null,p13:"IsActual"==c&&l.length>0?"%"+l+"%":null,p14:null,p15:null,p16:null,p17:e.parentId?e.parentId:"0",p18:"VendorName"!=c&&s.VendorName?s.VendorName.map((e=>e.MatVendorIDPK)).toString():null,p19:e.Dialogview?"1":null,p20:null,p21:"p21"==c&&l.length>0?l:null,p22:null,p23:null,p24:null,p25:null,p26:"ContractName"!=c&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p27:"ContractCode"==c&&l.length>0?"%"+l+"%":null,p28:"ContractName"==c&&l.length>0?"%"+l+"%":null,p29:"LocalityName"!=c&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p30:"LocalityCode"==c&&l.length>0?"%"+l+"%":null,p31:"LocalityName"==c&&l.length>0?"%"+l+"%":null,p32:"BuildingName"!=c&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p33:"BuildingCode"==c&&l.length>0?"%"+l+"%":null,p34:"BuildingName"==c&&l.length>0?"%"+l+"%":null,p35:"FloorName"!=c&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p36:"FloorCode"==c&&l.length>0?"%"+l+"%":null,p37:"FloorName"==c&&l.length>0?"%"+l+"%":null,p38:"SpotName"!=c&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p39:"SpotCode"==c&&l.length>0?"%"+l+"%":null,p40:"SpotName"==c&&l.length>0?"%"+l+"%":null,p41:"DivisionName"!=c&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p42:"DivisionCode"==c&&l.length>0?"%"+l+"%":null,p43:"DivisionName"==c&&l.length>0?"%"+l+"%":null,p44:"DisciplineName"!=c&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p45:"DisciplineCode"==c&&l.length>0?"%"+l+"%":null,p46:"DisciplineName"==c&&l.length>0?"%"+l+"%":null,p47:"FrequencyName"!=c&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p48:"FrequencyCode"==c&&l.length>0?"%"+l+"%":null,p49:"FrequencyName"==c&&l.length>0?"%"+l+"%":null,p50:"EquipmentName"!=c&&s.EquipmentName?s.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p51:"EquipmentName"==c&&l.length>0?"%"+l+"%":null,p52:"EquipmentRefNo"==c&&l.length>0?"%"+l+"%":null,p53:"AssetBarcode"==c&&l.length>0?"%"+l+"%":null,p54:"AssetTagNo"==c&&l.length>0?"%"+l+"%":null,p55:"FirstName"!=c&&s.FirstName?s.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p56:"EmployeeCode"==c&&l.length>0?"%"+l+"%":null,p57:"FirstName"==c&&l.length>0?"%"+l+"%":null,p58:"EmpContactNo1"==c&&l.length>0?"%"+l+"%":null,p59:"EmpEmailOfficial"==c&&l.length>0?"%"+l+"%":null,p60:"FlowDisplayName"!=c&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p61:"BriefDetails"==c&&l.length>0?"%"+l+"%":null,p62:"FlowCode"==c&&l.length>0?"%"+l+"%":null,p63:"FlowDisplayName"==c&&l.length>0?"%"+l+"%":null,p64:"FixonBusinessFlowName"!=c&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p65:"FixonBusinessFlowName"==c&&l.length>0?"%"+l+"%":null,p66:"PPMFixonBusinessFlowCode"==c&&l.length>0?"%"+l+"%":null,p67:"PPMStageName"!=c&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p68:"PPMStageName"==c&&l.length>0?"%"+l+"%":null,p69:"StageSeqNo"==c&&l.length>0?"%"+l+"%":null,p70:"WorkOrder"==c&&l.length>0?"%"+l+"%":null,p71:m.WoDateTime?m.WoDateTime.From:null,p72:m.WoDateTime?m.WoDateTime.Type:null,p73:m.WoDateTime?m.WoDateTime.To:null,p74:"VendorTypeName"!=c&&s.VendorTypeName?s.VendorTypeName.map((e=>e.MatVendorTypeIDPK)).toString():null,p75:"MatVendorTypeCode"==c&&l.length>0?"%"+l+"%":null,p76:"VendorTypeName"==c&&l.length>0?"%"+l+"%":null,p77:"CityName"!=c&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p78:"CityCode"==c&&l.length>0?"%"+l+"%":null,p79:"CityName"==c&&l.length>0?"%"+l+"%":null,p80:"StateName"!=c&&s.StateName?s.StateName.map((e=>e.StateIDPK)).toString():null,p81:"StateCode"==c&&l.length>0?"%"+l+"%":null,p82:"StateName"==c&&l.length>0?"%"+l+"%":null,p83:"CountryName"!=c&&s.CountryName?s.CountryName.map((e=>e.CountryIDPK)).toString():null,p84:"CountryCode"==c&&l.length>0?"%"+l+"%":null,p85:"CountryName"==c&&l.length>0?"%"+l+"%":null,p86:"MatVendorCode"==c&&l.length>0?"%"+l+"%":null,p87:"VendorName"==c&&l.length>0?"%"+l+"%":null,p88:a||1,p89:10,p90:t,p91:null,p92:null,p93:localStorage.getItem("UserGroupID"),p94:localStorage.getItem("userid")}},P=await(0,d.Z)(u,p,e.token,"",r.signal);if(!P)return!1;const v=P.Output.status.code,D=P.Output.data;if("200"===v)if(D.length>0)if(1===a){let e=be(D,c),t=Se(e,R[c],n);i(t),$(t.length>0?t[0].TotalCount:R[c].length)}else{let e=[...o,...D],t=be(e,c);$(t.length<10?t.length:D[0].TotalCount),i(be(t,c))}else E.length>0&&i([]),$(o.length);else e.alertmsg("error",[P.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Se=(e=[],t=[],n)=>e.filter((e=>!t.find((t=>e[n]===t[n])))),be=(e,t)=>e.filter(((e,n,l)=>l.findIndex((n=>n[t]===e[t]))===n));function Ae(e){let t=e+"PK",n=ye[e];if(n){const e=n.flatMap((e=>R[e]?R[e].map((e=>e[t])):[]));return e.toString()}return""}const Fe=async t=>{let n="",l={};await K((e=>(n=e,e)));let a=[...te],o=[];for(let e of a){let t=n[e]?.map((e=>e.PPMVendorInvoiceIDPK)).toString();t&&o.push(t)}await ee((e=>(l=e,e)));let i={PPMVendorInvoiceIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMVendorInvoiceDate:l.PPMVendorInvoiceDate?l.PPMVendorInvoiceDate.From:"",PPMVendorInvoiceDateType:l.PPMVendorInvoiceDate?l.PPMVendorInvoiceDate.Type:"",PPMVendorInvoiceDateBetween:l.PPMVendorInvoiceDate?l.PPMVendorInvoiceDate.To:"",MatVendorID:Ae("MatVendorID"),PPMCreationAssetID:Ae("PPMCreationAssetID")};"saveFav"==t?ke("save",i):(e.searchData(i),q(!1))};async function we(){let e={};await K((t=>(e=t,t)));let t=[...te],n=[];for(let l of t){let t=e[l]?.map((e=>e.PPMVendorInvoiceIDPK)).toString();t&&n.push(t)}return n?[...new Set(n)].toString():""}async function Te(t,n,l,a,o,i){let r={[a]:{From:t,Type:l,To:n}},d={};ee((e=>({...e,...r})));const c={...R};let s=[...te],m=[];for(let e of s){let t=c[e]?.map((e=>e.PPMVendorInvoiceIDPK)).toString();t&&m.push(t)}await ee((e=>(d=e,e)));let u={PPMVendorInvoiceIDPK:m?[...new Set(m)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,PPMVendorInvoiceDate:d.PPMVendorInvoiceDate?d.PPMVendorInvoiceDate.From:"",PPMVendorInvoiceDateType:d.PPMVendorInvoiceDate?d.PPMVendorInvoiceDate.Type:"",PPMVendorInvoiceDateBetween:d.PPMVendorInvoiceDate?d.PPMVendorInvoiceDate.To:"",MatVendorID:R.VendorName?.map((e=>e.MatVendorIDPK)).toString(),PPMCreationAssetID:R.WorkOrder?.map((e=>e.PPMCreationAssetIDPK)).toString()};e.searchData(u)}function Be(){return a().createElement(v.Z,{frmctrlid:"fld845L1TCDateCompCreatedTtm",SendDateVal:(e,t,n,l,a)=>{Te(e,t,n,r.name,l)},keyboardback:()=>{q(!1),f({idpk:"",name:"",type:"",fieldidpk:""})},title:fe(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const ke=(t,n)=>{(0,Z.Z)(t,e.formID,n,re).then((e=>{const t=e.Output.data;ve(t)}))};return a().createElement("div",null,a().createElement(b.Z,{onClose:()=>se(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},a().createElement(A.Z,{id:"customized-dialog-title",onClose:()=>se(!1)},"Add Favorite"),a().createElement(F.Z,{dividers:!0,style:{minWidth:"500px"}},a().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},a().createElement(T.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>de(e.target.value),fullWidth:!0})),a().createElement(L.Z,{style:{color:"#337ab7"},control:a().createElement(x.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:a().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:a().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ue(e.target.checked)}),label:"Quick"}),a().createElement(L.Z,{style:{color:"#337ab7"},control:a().createElement(x.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:a().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:a().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>Pe(e.target.checked)}),label:"Dashboard"})),a().createElement(w.Z,null,a().createElement(s.Z,{onClick:()=>{Fe("saveFav"),se(!1)},color:"primary"},"Save"))),W?"Created Ttm"===r.name||r.name.includes("Date")?a().createElement(Be,null):a().createElement("div",null,a().createElement("div",{className:"columnHeader displayFlex"},a().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},a().createElement(p.Z,null,a().createElement(P.Z,{xs:6,sm:6,md:6,lg:6},a().createElement("p",{className:"columnHeaderp"},Ee(r.idpk)," (",o.length,"/",Y,")")),a().createElement(P.Z,{xs:6,sm:6,md:6,lg:6},a().createElement(m.ZP,{title:fe("Close"),placement:"top"},a().createElement("div",{className:"FilterItemClose",align:"right"},a().createElement(c.Z,{id:"fld845L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{q(!1),f({idpk:"",name:"",type:"",fieldidpk:!1}),H(1)}}))),R[r.name]&&a().createElement("div",{className:"FiltercloseAlign",align:"right"},a().createElement(s.Z,{frmctrlid:"fld845L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,O.log("clear fewItems",e),t))),e[r.name]=[],he(r.type,r.fieldidpk,"",1)})()}},a().createElement("span",{className:"ColumnApplyTitle"},fe("Clear All")))))))),a().createElement("div",{className:"FilterParentDiv"},a().createElement("div",{"data-list-scroll-container":"true"},a().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},a().createElement("div",{className:"FilterMaximize"},z?a().createElement(m.ZP,{title:"Maximize",placement:"right"},a().createElement("span",null,a().createElement(M.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):a().createElement(m.ZP,{title:"Minimize",placement:"right"},a().createElement("span",null,a().createElement(M.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),a().createElement("ul",null,R[r.name]&&R[r.name].map(((e,t)=>a().createElement("div",{key:t,tabIndex:"-1",className:z?"filterSelectedItems":"filterSelectedItemsMaximize"},a().createElement("div",{className:"filterSelectedItemNames"},a().createElement("span",null,e[r.name])),a().createElement("div",{className:"filterSelectedItemClose"},a().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{H(1);let n=R[r.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[r.name]=n,K(l),i((t=>[e,...t]))})(e)},a().createElement(c.Z,{className:"filterSelectedItemCloseIcon"})))))))),a().createElement("div",{className:"displayFlex width100 FilterSearch"},a().createElement("div",{className:"FilterSearchInputDiv"},a().createElement(D.Z,{frmctrlid:"fld845L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:E,placeholder:fe("Enter ")+" "+Ee(r.idpk),onChange:e=>{N(e),he(r.type,r.fieldidpk,e,1,we())}})),a().createElement("div",{id:"fld845L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Fe},a().createElement(m.ZP,{title:"",placement:"top"},a().createElement(s.Z,{className:"ColumnSearchButton"},a().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&a().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},a().createElement(C.Z,{color:"secondary"})),a().createElement("div",{id:"fld845L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>a().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},n=[];n.push(e);let l={};await K((e=>(l=e,e)));let a=l[r.name];t[r.name]=a?[...n,...a]:n,l={...l,...t},K(l),i((t=>t.filter((t=>t!=e))))})(e)}},a().createElement(u.Z,{className:"DotIcon"}),a().createElement("span",null,e[r.name])))),o.length+0<Y&&o.length>0&&a().createElement("div",{id:"fld845L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{H(U+1),he(r.type,r.fieldidpk,"",U+1)}},a().createElement("p",null," more... ")),0===o.length&&a().createElement("div",null,a().createElement("div",{className:"NoDataImage"},a().createElement("img",{src:I.v.NoData,alt:"NoImage"})),a().createElement("div",{className:"NoDataDesc"},a().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):a().createElement("div",null,a().createElement("div",{className:"columnHeader displayFlex"},a().createElement("div",{className:"columnHeaderTitle"},a().createElement(g.Ol$,{className:"columnHeaderIcon"}),a().createElement("p",{className:"columnHeaderp"}," ",fe("Filter")," ",re.length>0&&`(${re})`)),a().createElement("div",{className:"columnHeaderbtn",align:"right"},a().createElement(m.ZP,{title:"Favorite List",placement:"top"},oe?a().createElement(c.Z,{className:"favlisticon",onClick:()=>{ie(!1),ve(""),Ne()}}):a().createElement(h.Z,{className:"favlisticon",onClick:()=>{ie(!0),ke("select"),Ne()}})),Object.keys(R).length>0&&a().createElement(m.ZP,{title:"Save Favorites",placement:"top"},a().createElement(S.Z,{className:"favlisticon",onClick:()=>{se(!0)}})),a().createElement(m.ZP,{title:"",placement:"top"},a().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{Ne()},id:"fld845L1TFCColumApplyBttn"},a().createElement("span",{className:"ColumnApplyTitle"},fe("Clear")))),a().createElement(m.ZP,{title:"",placement:"top"},a().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld845L1TFCColumnCloseButton"},a().createElement("span",{className:"ColumnCloseTitle"},fe("Close")))))),a().createElement("div",{className:"height65"},a().createElement("div",{id:"fld845L1TFCFilItems",className:"FilterItems"},!Ie&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return a().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{q(!0),N(""),i([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"PPMVendorInvoiceIDPK";f({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMVendorInvoiceID",fieldidpk:t}),he(e.IsForeign?"Filter"+e.FieldName:"FilterPPMVendorInvoiceID",t,"",1,we())})(e)}},e.FieldName.includes("Date")?a().createElement(a().Fragment,null,Ee(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&a().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?a().createElement(a().Fragment,null,a().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),a().createElement(V.Z,{checked:"1"==le,onChange:t=>{ae(t.target.checked),Te("","",e.FieldName,"",t.target.checked)}})):a().createElement(a().Fragment,null,a().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),(n=e.FieldDisplay,R[n]?.length>0&&a().createElement("div",{className:"FilterItemDivSelected"},a().createElement("span",{className:"RoundedDivName"},R[n][0][n]),R[n].length>1&&a().createElement("span",{className:"RoundedDivName"},R[n][1][n]),R[n].length>2&&a().createElement("span",{className:"RoundedDivNumber"},"+"+(R[n].length-2))))));var n})),Ie&&Ie.map((e=>{let t=e.TFFSearchParams,n=JSON.parse(t);return a().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{he("FilterPPMVendorInvoiceID",n),Fe("")}},a().createElement(a().Fragment,null,e.TableFilterFavName))}))))))}));var K=n(54180),z=n(43031),_=n(85639),W=n(110),q=n(5109),G=n(88995),j=n(50743),U=n(61657),H=n(51209),Y=n(53854),$=n(5434),J=n(83817),Q=n(39327),X=n(3212),ee=n(93521),te=(n(79117),n(71168)),ne=n.n(te),le=n(65107),ae=n(94986),oe=n(15999);n(11557),window.clickFilter="";const ie=(0,l.forwardRef)(((e,t)=>{const n=(0,l.useRef)(null),s=(0,l.useRef)(null),[u]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[p]=(0,l.useState)("845"),[P,v]=(0,l.useState)(!1),[C,V]=(0,l.useState)(!1),[f,E]=(0,l.useState)(0),[N,h]=(0,l.useState)(0),[S,b]=(0,l.useState)(0),[A,F]=(0,l.useState)(0),[w,T]=(0,l.useState)({current:1,pageSize:100}),[x,B]=(0,l.useState)(""),[k,L]=(0,l.useState)([]),[Z,O]=(0,l.useState)({val:"",column:""}),[te,ie]=(0,l.useState)([]),[re,de]=(0,l.useState)(!1),[ce,se]=(0,l.useState)(""),[me,ue]=(0,l.useState)(""),[pe,Pe]=(0,l.useState)(!1),[Ie,ve]=(0,l.useState)([]),[De,ye]=(0,l.useState)([]),[ge,Me]=(0,l.useState)([]),[Ce,Ve]=(0,l.useState)({children:[{name:"PPMVendorInvoiceDetails",children:[]}]}),[fe,Ee]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:Te),{cstate:he,cdispatch:Se}=e.ContextApi?e.ContextApi:xe();let be={PPMVendorInvoiceIDPK:"",PPMVendorInvoiceCode:"",PPMVenInvCode:"",PPMVendorInvoiceNarration:"",PPMVendorInvoiceInvNo:"",PPMVendorInvoiceRefNo:"",PPMVendorInvoiceAmount:"",PPMVendorInvoiceDate:"",PPMVendorInvoiceDateType:"",PPMVendorInvoiceDateBetween:"",PPMVendorInvoiceDectAmount:"",PPMVendorInvoiceDectKey:"",IsActual:"",IsDefault:"",IsDraft:"",Remarks:"",PPMCreationAssetID:"",MatVendorID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",MatVendorTypeID:"",MatVendorTypeCode:"",VendorTypeName:"",CityID:"",CityCode:"",CityName:"",StateID:"",StateCode:"",StateName:"",CountryID:"",CountryCode:"",CountryName:"",MatVendorCode:"",VendorName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,Fe]=(0,l.useState)(be),[we,Be]=(0,l.useState)(be),[ke,Le]=(0,l.useState)(!1),[Ze,Oe]=(0,l.useState)(!0),[Re,Ke]=(0,l.useState)(!1),[ze,_e]=(0,l.useState)(!0),[We,qe]=(0,l.useState)({PPMVenInvCode:"",PPMVendorInvoiceNarration:"",VendorName:"",PPMVendorInvoiceInvNo:"",PPMVendorInvoiceRefNo:"",PPMVendorInvoiceAmount:"",PPMVendorInvoiceCode:"",PPMVendorInvoiceDate:"",PPMVendorInvoiceDectAmount:"",PPMVendorInvoiceDectKey:"",IsActual:"",WorkOrder:""}),[Ge,je]=(0,l.useState)(!1),[Ue,He]=(0,l.useState)([]),[Ye,$e]=(0,l.useState)(0),[Je,Qe]=(0,l.useState)(0),[Xe,et]=(0,l.useState)({current:1,pageSize:10}),[tt,nt]=(0,l.useState)([]),[lt,at]=(0,l.useState)([]),[ot,it]=(0,l.useState)(!1),[rt,dt]=(0,l.useState)(!1),[ct,st]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(""),[pt,Pt]=ne()("845"),[It,vt]=(0,l.useState)({}),Dt=[{columns:tt,data:x}];let yt=(0,y.Z)();const gt=e=>yt[e]?yt[e]:e,Mt=e=>he.language?.[e]?he.language[e]:e;(0,l.useEffect)((()=>{St(pt)}),[pt]),(0,l.useEffect)((()=>{he.token.length>0&&(e.parentId?Nt(w,be,"PPMVendorInvoiceID"):ie([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?Nt(w,ce,"PPMVendorInvoiceID"):fe&&Be(ce)}),[ce]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Ct(e)},tableRefresh:()=>{Nt(w,be,"PPMVendorInvoiceID")},DialogTableProps:e=>{V(e)},HideEntryFields:e=>{st(!0===e)}})));const Ct=e=>{""==e?Nt(w,be,ke?"DraftPPMVendorInvoiceID":"PPMVendorInvoiceID",ke&&"DraftPage"):ht(e,{current:1,pageSize:100}),ue(e)};function Vt(t){Ne.loading(!0);let n=I.v.Api+"FP845S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(n,l,he.token[0]).then((e=>{if(200==e.Output.status.code){let n=0;e.Output.data.length>0?(n=parseFloat(e.Output.data[0].TotalCount,10)/10,Qe(e.Output.data[0].TotalCount)):n=0,10==t.pageSize?$e(Math.ceil(n)):20==t.pageSize?$e(Math.ceil(n/2)):50==t.pageSize?$e(Math.ceil(n/5)):100==t.pageSize&&$e(Math.ceil(n/10)),He(e.Output.data),Ne.loading(!1)}}))}function ft(e,t){Se({type:"editData",payload:[t]}),Se({type:"IsDraft",payload:ke}),Se({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Re&&Pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&_e(e.cardview),e.Dialogview&&(V(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&ht(e.searchsafaritext,{current:w.current,pageSize:w.pageSize})}),[e.searchsafaritext]);const Et=()=>{Ne.EditClose(!0),re?(document.getElementById("PPMVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),ze?(C||(document.getElementById("PPMVendorInvoiceDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMVendorInvoiceDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),document.getElementById("PPMVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Pe(!1),window.clickFilter=!re},Nt=(t,n,l,a,o,i)=>{Ne.loading(!0),"DraftPage"!==a&&Le(he.IsDraft);let r=I.v.Api+"FP845S3/",c={data:{p1:o||(n&&n.PPMVendorInvoiceIDPK?n.PPMVendorInvoiceIDPK:null),p2:n&&n.PPMVendorInvoiceCode?n.PPMVendorInvoiceCode:null,p3:n&&n.PPMVenInvCode?n.PPMVenInvCode:null,p4:n&&n.PPMVendorInvoiceNarration?n.PPMVendorInvoiceNarration:null,p5:n&&n.PPMVendorInvoiceInvNo?n.PPMVendorInvoiceInvNo:null,p6:n&&n.PPMVendorInvoiceRefNo?n.PPMVendorInvoiceRefNo:null,p7:n&&n.PPMVendorInvoiceAmount?n.PPMVendorInvoiceAmount:null,p8:n&&n.PPMVendorInvoiceDate?n.PPMVendorInvoiceDate:null,p9:n&&n.PPMVendorInvoiceDateType?n.PPMVendorInvoiceDateType:null,p10:n&&n.PPMVendorInvoiceDateBetween?n.PPMVendorInvoiceDateBetween:null,p11:n&&n.PPMVendorInvoiceDectAmount?n.PPMVendorInvoiceDectAmount:null,p12:n&&n.PPMVendorInvoiceDectKey?n.PPMVendorInvoiceDectKey:null,p13:null,p14:null,p15:"DraftPPMVendorInvoiceID"==l?"1":"0",p16:null,p17:e.parentId?Number(e.parentId):0,p18:n&&n.MatVendorID?n.MatVendorID:null,p19:n&&n.IsActive,p20:null,p21:n&&n.CreatedUserID_varchar?n.CreatedUserID_varchar:null,p22:n&&n.CreatedTtm?n.CreatedTtm:null,p23:n&&n.CreatedTtmType?n.CreatedTtmType:null,p24:n&&n.CreatedTtmBetween?n.CreatedTtmBetween:null,p25:null,p26:n&&n.ContractID?n.ContractID:null,p27:n&&n.ContractCode?n.ContractCode:null,p28:n&&n.ContractName?n.ContractName:null,p29:n&&n.LocalityID?n.LocalityID:null,p30:n&&n.LocalityCode?n.LocalityCode:null,p31:n&&n.LocalityName?n.LocalityName:null,p32:n&&n.BuildingID?n.BuildingID:null,p33:n&&n.BuildingCode?n.BuildingCode:null,p34:n&&n.BuildingName?n.BuildingName:null,p35:n&&n.FloorID?n.FloorID:null,p36:n&&n.FloorCode?n.FloorCode:null,p37:n&&n.FloorName?n.FloorName:null,p38:n&&n.SpotID?n.SpotID:null,p39:n&&n.SpotCode?n.SpotCode:null,p40:n&&n.SpotName?n.SpotName:null,p41:n&&n.DivisionID?n.DivisionID:null,p42:n&&n.DivisionCode?n.DivisionCode:null,p43:n&&n.DivisionName?n.DivisionName:null,p44:n&&n.DisciplineID?n.DisciplineID:null,p45:n&&n.DisciplineCode?n.DisciplineCode:null,p46:n&&n.DisciplineName?n.DisciplineName:null,p47:n&&n.FrequencyID?n.FrequencyID:null,p48:n&&n.FrequencyCode?n.FrequencyCode:null,p49:n&&n.FrequencyName?n.FrequencyName:null,p50:n&&n.AssetID?n.AssetID:null,p51:n&&n.EquipmentName?n.EquipmentName:null,p52:n&&n.EquipmentRefNo?n.EquipmentRefNo:null,p53:n&&n.AssetBarcode?n.AssetBarcode:null,p54:n&&n.AssetTagNo?n.AssetTagNo:null,p55:n&&n.EmployeeID?n.EmployeeID:null,p56:n&&n.EmployeeCode?n.EmployeeCode:null,p57:n&&n.FirstName?n.FirstName:null,p58:n&&n.EmpContactNo1?n.EmpContactNo1:null,p59:n&&n.EmpEmailOfficial?n.EmpEmailOfficial:null,p60:n&&n.PPMBusinessFlowID?n.PPMBusinessFlowID:null,p61:n&&n.BriefDetails?n.BriefDetails:null,p62:n&&n.FlowCode?n.FlowCode:null,p63:n&&n.FlowDisplayName?n.FlowDisplayName:null,p64:n&&n.PPMFixonBusinessFlowID?n.PPMFixonBusinessFlowID:null,p65:n&&n.FixonBusinessFlowName?n.FixonBusinessFlowName:null,p66:n&&n.PPMFixonBusinessFlowCode?n.PPMFixonBusinessFlowCode:null,p67:n&&n.PPMStageID?n.PPMStageID:null,p68:n&&n.PPMStageName?n.PPMStageName:null,p69:n&&n.StageSeqNo?n.StageSeqNo:null,p70:n&&n.WorkOrder?n.WorkOrder:null,p71:n&&n.WoDateTime?n.WoDateTime:null,p72:n&&n.WoDateTimeType?n.WoDateTimeType:null,p73:n&&n.WoDateTimeBetween?n.WoDateTimeBetween:null,p74:n&&n.MatVendorTypeID?n.MatVendorTypeID:null,p75:n&&n.MatVendorTypeCode?n.MatVendorTypeCode:null,p76:n&&n.VendorTypeName?n.VendorTypeName:null,p77:n&&n.CityID?n.CityID:null,p78:n&&n.CityCode?n.CityCode:null,p79:n&&n.CityName?n.CityName:null,p80:n&&n.StateID?n.StateID:null,p81:n&&n.StateCode?n.StateCode:null,p82:n&&n.StateName?n.StateName:null,p83:n&&n.CountryID?n.CountryID:null,p84:n&&n.CountryCode?n.CountryCode:null,p85:n&&n.CountryName?n.CountryName:null,p86:n&&n.MatVendorCode?n.MatVendorCode:null,p87:n&&n.VendorName?n.VendorName:null,p88:o?1:t.current,p89:t.pageSize,p90:l,p91:null,p92:null,p93:localStorage.getItem("UserGroupID"),p94:localStorage.getItem("userid")}};(0,d.Z)(r,c,he.token[0]).then((r=>{if(o)(0,J.a)(r,Se,a,i,Ne);else if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let e=0;r.Output.data.length>0?(e=parseFloat(r.Output.data[0].TotalCount,10)/10,b(r.Output.data[0].TotalCount),F(r.Output.data[0].DraftCnt),Se({type:"count",payload:r.Output.data[0].TotalCount}),"DraftPage"==a&&F(r.Output.data[0].TotalCount)):e=0,10==t.pageSize?h(Math.ceil(e)):20==t.pageSize?h(Math.ceil(e/2)):50==t.pageSize?h(Math.ceil(e/5)):100==t.pageSize&&h(Math.ceil(e/10)),ie(r.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divPPMVendorInvoiceDetails-Entry").style.height="auto",document.getElementById("divPPMVendorInvoiceDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftPPMVendorInvoiceID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Pe(!0),Le(!1)):(ie([]),T({current:1,pageSize:10}),h(0),b(0),Se({type:"count",payload:"0"}),Object.values(n).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[r.Output.status.message]}),Ne.loading(!1)}))};function ht(t,n){Ne.loading(!0);const l=I.v.Api+"FP845S4/",a={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:ke?"1":"0",p4:n.current,p5:n.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,a,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),Se({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==n.pageSize?h(Math.ceil(t)):20==n.pageSize?h(Math.ceil(t/2)):50==n.pageSize?h(Math.ceil(t/5)):100==n.pageSize&&h(Math.ceil(t/10)),ie(e.Output.data),Ne.loading(!1)}else ie([]),h(0),b(0),Se({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function St(e){let t=[],n=[],l=[],a=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(n.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Se({type:"language",payload:Object.assign({},...a)}),qe(n.reduce(((e,t)=>(e[t]="",e)),{})),ve(e),ye(t),Me(n),nt(l),at(n)}const bt=()=>fe?null:a().createElement("div",null,Ge?a().createElement(ae.Z,{data:Ue,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,n)=>{C?Ne.select(e):(Se({type:"editData",payload:[e]}),Se({type:"IsDraft",payload:t}),Se({type:"ShowDetail",payload:n}))}}):a().createElement(le.Z,{ref:s,frmctrlid:"tblcs_845_L1_",id:"PPMVendorInvoiceDetailsTable",headerdata:De,tablesearchparams:We,searchvalue:e=>{qe(e),se(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};vt(t),T({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,ke?"DraftPPMVendorInvoiceID":"PPMVendorInvoiceID",ke&&"DraftPage")},bodydata:te,ondrag:ft,bodyitem:ge,visibleitem:De,isdraft:ke,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:p,showMore:!1,accessrights:he.AccessRights,expanded:e=>!C&&Ne.Expanded(e),edit:(e,t,n)=>{C?Ne.select(e):(Object.keys(e).map(((l,a)=>{l.includes("IDPK")&&Nt(w,null,t?"DraftPPMVendorInvoiceID":"PPMVendorInvoiceID",t&&"DraftPage",e[l],n)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!C||Re,tf:Mt,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(he.ExpandTableValue)}),[he.ExpandTableValue]),a().createElement("div",null,!ct&&!e.tableview&&a().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},a().createElement("div",{id:"fld845L1ECSearchBar",className:"searchbar1"},a().createElement(D.Z,{frmctrlid:"fld845L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:gt("Search"),value:me,onChange:e=>{ue(e),Ne.searchItem(e)},style:{width:"300px"}}),a().createElement("div",{className:"search_icon"},me?a().createElement("div",{id:"fld845L1TCCloseIconCommonSearch",onClick:()=>{ue(""),Ne.searchItem("")}},a().createElement(c.Z,{className:"InputSearchIcon"})):a().createElement("div",{id:"fld845L1TCInputSearchIcon"},a().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMVendorInvoiceDetailsgridsearch").focus()}})))),a().createElement("div",null,he.AccessRights.IsAdd?a().createElement(X.Z,{className:"SaveBtnCommon",frmctrlid:"fld845L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),Se({type:"editData",payload:[]}),Se({type:"ShowDetail",payload:!1}),Se({type:"Add",payload:!0})}}):"")),a().createElement(i.Z,{expanded:Ze,onChange:()=>()=>{Oe(Re)}},e.Dialogview&&a().createElement(j.Z,null,a().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},a().createElement("div",{className:"displayFlex EntryHeader"},a().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[845]"},`${Mt("845")} (${S})`)),!1===e.cardview?null:a().createElement("div",{className:"displayFlex EntryHeaderBtn"},a().createElement("div",{id:"fld845L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},a().createElement(D.Z,{frmctrlid:"fld845L1TCInputSearch",className:"search_input",type:"text",placeholder:gt("Search"),value:me,onChange:e=>{Ct(e)}}),a().createElement("div",{className:"search_icon"},me?a().createElement("div",{id:"fld845L1TCInputCloseIcon",onClick:()=>{Ct("")}},a().createElement(c.Z,{className:"InputSearchIcon"})):a().createElement("div",{id:"fld845L1TCInputSearchIcon"},a().createElement(G.Z,{className:"InputSearchIcon"}))))))),a().createElement(r.Z,{className:"AccDetails"},a().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&a().createElement("div",{id:"PPMVendorInvoiceDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:a().createElement("div",{className:"tableHeaderItems displayFlex"},!ke&&a().createElement("div",{frmctrlid:"fld845L1TCFilterDataIsDraft",id:"PPMVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Et()}},a().createElement(m.ZP,{title:gt("Filter Data"),placement:"top"},a().createElement("span",null,a().createElement(g.Ol$,{className:"tableFilterColumnIcon"}))),a().createElement("span",{className:"displayNone"},gt("Filter Data"))),!C&&!ke&&!fe&&a().createElement(K.Z,{formctrlidprint:"fld845L1TCExportPrint",formctrlidexport:"fld845L1TCExportTable",formctrlidrefresh:"fld845L1TCExportRefresh",title:Mt("845"),data:k,exportData:Dt,Items:lt,columnIndex:tt,TableVisibleItem:De,userGridViewFormID:p,TableTotalCount:S,triggerApi:t=>{((t,l,a,o,i)=>{if(0===S)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let r=I.v.Api+"FP845S3/",c={data:{p1:t&&t.PPMVendorInvoiceIDPK?t.PPMVendorInvoiceIDPK:null,p2:t&&t.PPMVendorInvoiceCode?t.PPMVendorInvoiceCode:null,p3:t&&t.PPMVenInvCode?t.PPMVenInvCode:null,p4:t&&t.PPMVendorInvoiceNarration?t.PPMVendorInvoiceNarration:null,p5:t&&t.PPMVendorInvoiceInvNo?t.PPMVendorInvoiceInvNo:null,p6:t&&t.PPMVendorInvoiceRefNo?t.PPMVendorInvoiceRefNo:null,p7:t&&t.PPMVendorInvoiceAmount?t.PPMVendorInvoiceAmount:null,p8:t&&t.PPMVendorInvoiceDate?t.PPMVendorInvoiceDate:null,p9:t&&t.PPMVendorInvoiceDateType?t.PPMVendorInvoiceDateType:null,p10:t&&t.PPMVendorInvoiceDateBetween?t.PPMVendorInvoiceDateBetween:null,p11:t&&t.PPMVendorInvoiceDectAmount?t.PPMVendorInvoiceDectAmount:null,p12:t&&t.PPMVendorInvoiceDectKey?t.PPMVendorInvoiceDectKey:null,p13:null,p14:null,p15:ke?"1":"0",p16:null,p17:e.parentId?Number(e.parentId):0,p18:t&&t.MatVendorID?t.MatVendorID:null,p19:t&&t.IsActive,p20:null,p21:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p22:t&&t.CreatedTtm?t.CreatedTtm:null,p23:t&&t.CreatedTtmType?t.CreatedTtmType:null,p24:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p25:null,p26:t&&t.ContractID?t.ContractID:null,p27:t&&t.ContractCode?t.ContractCode:null,p28:t&&t.ContractName?t.ContractName:null,p29:t&&t.LocalityID?t.LocalityID:null,p30:t&&t.LocalityCode?t.LocalityCode:null,p31:t&&t.LocalityName?t.LocalityName:null,p32:t&&t.BuildingID?t.BuildingID:null,p33:t&&t.BuildingCode?t.BuildingCode:null,p34:t&&t.BuildingName?t.BuildingName:null,p35:t&&t.FloorID?t.FloorID:null,p36:t&&t.FloorCode?t.FloorCode:null,p37:t&&t.FloorName?t.FloorName:null,p38:t&&t.SpotID?t.SpotID:null,p39:t&&t.SpotCode?t.SpotCode:null,p40:t&&t.SpotName?t.SpotName:null,p41:t&&t.DivisionID?t.DivisionID:null,p42:t&&t.DivisionCode?t.DivisionCode:null,p43:t&&t.DivisionName?t.DivisionName:null,p44:t&&t.DisciplineID?t.DisciplineID:null,p45:t&&t.DisciplineCode?t.DisciplineCode:null,p46:t&&t.DisciplineName?t.DisciplineName:null,p47:t&&t.FrequencyID?t.FrequencyID:null,p48:t&&t.FrequencyCode?t.FrequencyCode:null,p49:t&&t.FrequencyName?t.FrequencyName:null,p50:t&&t.AssetID?t.AssetID:null,p51:t&&t.EquipmentName?t.EquipmentName:null,p52:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p53:t&&t.AssetBarcode?t.AssetBarcode:null,p54:t&&t.AssetTagNo?t.AssetTagNo:null,p55:t&&t.EmployeeID?t.EmployeeID:null,p56:t&&t.EmployeeCode?t.EmployeeCode:null,p57:t&&t.FirstName?t.FirstName:null,p58:t&&t.EmpContactNo1?t.EmpContactNo1:null,p59:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p60:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p61:t&&t.BriefDetails?t.BriefDetails:null,p62:t&&t.FlowCode?t.FlowCode:null,p63:t&&t.FlowDisplayName?t.FlowDisplayName:null,p64:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p65:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p66:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p67:t&&t.PPMStageID?t.PPMStageID:null,p68:t&&t.PPMStageName?t.PPMStageName:null,p69:t&&t.StageSeqNo?t.StageSeqNo:null,p70:t&&t.WorkOrder?t.WorkOrder:null,p71:t&&t.WoDateTime?t.WoDateTime:null,p72:t&&t.WoDateTimeType?t.WoDateTimeType:null,p73:t&&t.WoDateTimeBetween?t.WoDateTimeBetween:null,p74:t&&t.MatVendorTypeID?t.MatVendorTypeID:null,p75:t&&t.MatVendorTypeCode?t.MatVendorTypeCode:null,p76:t&&t.VendorTypeName?t.VendorTypeName:null,p77:t&&t.CityID?t.CityID:null,p78:t&&t.CityCode?t.CityCode:null,p79:t&&t.CityName?t.CityName:null,p80:t&&t.StateID?t.StateID:null,p81:t&&t.StateCode?t.StateCode:null,p82:t&&t.StateName?t.StateName:null,p83:t&&t.CountryID?t.CountryID:null,p84:t&&t.CountryCode?t.CountryCode:null,p85:t&&t.CountryName?t.CountryName:null,p86:t&&t.MatVendorCode?t.MatVendorCode:null,p87:t&&t.VendorName?t.VendorName:null,p88:w.current,p89:S,p90:ke?"DraftPPMVendorInvoiceID":"PPMVendorInvoiceID",p91:null,p92:null,p93:localStorage.getItem("UserGroupID"),p94:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${Mt(845)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(r,c,he.token[0],i).then((e=>{(0,ee.PDF_Excel_Generate)(e,Ne,lt,B,n,i)}))})(ce,Z.column,0,0,t)},Refresh:()=>{ue(""),T({current:1,pageSize:100}),s.current.clearItem(),he.IsDraft?Nt({current:1,pageSize:100},be,"DraftPPMVendorInvoiceID"):Nt({current:1,pageSize:100},be,"PPMVendorInvoiceID")},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:n,iconinfo:"displayNone"}),!ke&&!fe&&!C&&a().createElement("div",{className:"buttoncard",onClick:()=>dt(!rt)},a().createElement("span",null,rt?a().createElement(m.ZP,{disableFocusListener:!0,title:gt("Less"),placement:"top"},a().createElement("span",{id:"fld845L1TCLess"},a().createElement(Y.ldB,{className:"tableFilterColumnIcon"}))):a().createElement(m.ZP,{disableFocusListener:!0,title:gt("More"),placement:"top"},a().createElement("span",{id:"fld845L1TCMore"},a().createElement(Y.ilJ,{className:"tableFilterColumnIcon"}))))),rt?a().createElement("div",{className:"EntryHeaderMore"},a().createElement("div",{style:{display:"flex"}},fe||!Re?null:C||!he.AccessRights.IsAdd||ke?"":a().createElement("div",null,a().createElement("div",{frmctrlid:"fld845L1TCFilterDataIsAdd",id:"PPMVendorInvoiceDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),pe?(document.getElementById("PPMVendorInvoiceDetailsFilterDiv").style.width="0%",document.getElementById("PPMVendorInvoiceDetailsTabDiv").style.width="100%",document.getElementById("PPMVendorInvoiceDetailsFilterDiv").style.display="none",document.getElementById("PPMVendorInvoiceDetailscoldiv").style.width="fit-content",document.getElementById("PPMVendorInvoiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Pe(!1)):(document.getElementById("PPMVendorInvoiceDetailsFilterDiv").style.width="25%",document.getElementById("PPMVendorInvoiceDetailsTabDiv").style.width="75%",document.getElementById("PPMVendorInvoiceDetailsFilterDiv").style.display="block",document.getElementById("PPMVendorInvoiceDetailsfildiv").style.width="fit-content",document.getElementById("PPMVendorInvoiceDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMVendorInvoiceDetailscoldiv").style.width="fit-content",document.getElementById("PPMVendorInvoiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Pe(!0)),de(!1)}},a().createElement(m.ZP,{title:gt("Manage Columns"),placement:"top"},a().createElement("div",null,a().createElement(Q.gYA,{className:"tableFilterColumnIcon"}))),a().createElement("span",{className:"displayNone"},gt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&Re&&!fe&&!ke&&a().createElement("div",null,a().createElement("div",{id:"PPMVendorInvoiceDetailscoldiv",className:"buttoncard",onClick:()=>{Ge?je(!1):(je(!0),Vt({current:1,pageSize:100}))}},a().createElement(m.ZP,{title:gt("TableScrollData"),placement:"top"},a().createElement("div",{id:"fld845L1TCTableScrollData"},a().createElement(oe.Z,{className:"tableFilterColumnIcon"}))),a().createElement("span",{className:"displayNone"},gt("Table Scroll Data")))))):""),!ke&&!C&&a().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||ke?null:a().createElement("div",null,a().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},a().createElement("div",{className:"b2",id:"button-11"},a().createElement("div",{className:ze?"buttonList":"buttonGrid",id:"fld845L1TCListView",onClick:()=>{_e(!0),it(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement(Y.umT,null)),a().createElement("span",null,gt("List"))),a().createElement("div",{className:ze||ot?"buttonGrid":"buttonList",id:"fld845L1TCCardView",onClick:()=>{_e(!1),it(!1)}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement(M.aCJ,null)),a().createElement("span",null,gt("Card"))),a().createElement("div",{className:ot?"buttonList":"buttonGrid",id:"fld845L1TCTileView",onClick:()=>{it(!0),_e(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},a().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},a().createElement($.f_H,null)),a().createElement("span",null,gt("Tile"))))))),fe?null:Ge?e.IsCollapse?a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(U.Z,{style:{color:"#777"},id:"fld845L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:f,onPageChange:(e,t)=>{E(t),Vt({current:t+1,pageSize:Xe.pageSize}),et({current:t+1,pageSize:Xe.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(z.Z,{count:Ye,color:"primary",page:Xe.current,onChange:(e,t)=>{et({current:t,pageSize:Xe.pageSize}),$e(t),Vt({current:t,pageSize:Xe.pageSize})}}),a().createElement("div",null,a().createElement(W.Z,{className:"BootstrapInputStyle",value:Xe.pageSize,frmctrlid:"fld845L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),Vt({current:1,pageSize:e.target.value})}},a().createElement(_.Z,{value:10},"10"),a().createElement(_.Z,{value:20},"20"),a().createElement(_.Z,{value:50},"50"),a().createElement(_.Z,{value:100},"100"))),Re&&a().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",Je,")")):e.IsCollapse?a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(U.Z,{style:{color:"#777"},id:"fld845L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(S),page:f,onPageChange:(e,t)=>{E(t),Nt({current:t+1,pageSize:w.pageSize},be,ke?"DraftPPMVendorInvoiceID":"PPMVendorInvoiceID",ke&&"DraftPage"),T({current:t+1,pageSize:w.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):a().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},a().createElement(z.Z,{count:N,siblingCount:0,color:"primary",page:w.current,onChange:(e,t)=>{if(T({current:t,pageSize:w.pageSize}),ke)Nt({current:t,pageSize:w.pageSize},Ae,"DraftPPMVendorInvoiceID","DraftPage");else{var n=document.querySelectorAll(".CardViewMain");for(let e=0;e<n.length;e++)n[e].style.background="#FFF";me.length>0?ht(me,{current:t,pageSize:w.pageSize}):Nt({current:t,pageSize:w.pageSize},Ae,"PPMVendorInvoiceID")}}}),a().createElement("div",null,a().createElement(W.Z,{className:"BootstrapInputStyle",value:w.pageSize,id:"fld845L1TCSelectPaging",onChange:e=>{T({current:1,pageSize:e.target.value}),ke?Nt({current:1,pageSize:e.target.value},Ae,"DraftPPMVendorInvoiceID","DraftPage"):me.length>0?ht(me,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},Ae,"PPMVendorInvoiceID")}},a().createElement(_.Z,{value:10},"10"),a().createElement(_.Z,{value:20},"20"),a().createElement(_.Z,{value:50},"50"),a().createElement(_.Z,{value:100},"100"))),Re&&a().createElement("p",{className:"per-page"},"/ ",gt("RowperpageOf")," (",S,") "))),a().createElement("div",{id:"PPMVendorInvoiceDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},a().createElement("div",{id:"PPMVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},re&&a().createElement(R,{parentId:e.parentId,searchData:e=>{se(e||It),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:p,data:()=>{},visibleData:()=>{},token:he.token[0],CloseBtnClk:()=>Et(),userGrid:pt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&a().createElement(q.Z,{Refresh:e=>{Nt({current:1,pageSize:100},be,"PPMVendorInvoiceID")},frmctrlid:"fld845L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:pe,userID:u,userGridViewFormID:p,saved:(e,t)=>{e&&St(t),Pt(t),Se({type:"showTableview",payload:t})},Token:he.token[0]})),a().createElement("div",{id:"PPMVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},ze?a().createElement(bt,null):a().createElement(H.Z,{frmctrlid:"fld845L1TCExpandedCardDual",data:te,id:"PPMVendorInvoiceDetails",title:"PPMVenInvCode",cardTile:!!ot,visibleitem:De,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?Ne.select(e):("edit"==t?(Se({type:"editData",payload:[e]}),Se({type:"IsDraft",payload:ke}),Se({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(Se({type:"editData",payload:[e]}),Se({type:"IsDraft",payload:ke}),Se({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),re?de(!0):pe?Pe(!0):(Pe(!1),Pe(!1))),Ne.hideAddBtn(!0)}})))))))}));var re=n(37148),de=n(29800),ce=(n(10966),n(21392),n(26537)),se=n(44528),me=(n(99090),n(1695)),ue=n(61924),pe=n.n(ue),Pe=n(40826),Ie=n(55490),ve=n(92371);const De={EnterKeyValues:{PPMVendorInvoiceDetails:["PPMVenInvCode","PPMVendorInvoiceNarration","VendorName","PPMVendorInvoiceInvNo","PPMVendorInvoiceRefNo","PPMVendorInvoiceAmount","PPMVendorInvoiceCode","PPMVendorInvoiceDate","PPMVendorInvoiceDectAmount","PPMVendorInvoiceDectKey","IsActual","WorkOrder"]},Label:{PPMVendorInvoiceDetails:{PPMVenInvCode:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMVendorInvoiceNarration:["PPMVendorInvoiceCode","PPMVenInvCode"],MatVendorID:["MatVendorCode","VendorName"],PPMVendorInvoiceInvNo:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMVendorInvoiceRefNo:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMVendorInvoiceAmount:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMVendorInvoiceCode:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMVendorInvoiceDate:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMVendorInvoiceDectAmount:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMVendorInvoiceDectKey:["PPMVendorInvoiceCode","PPMVenInvCode"],IsActual:["PPMVendorInvoiceCode","PPMVenInvCode"],PPMCreationAssetID:["PPMVendorInvoiceCode","PPMVenInvCode"]}},LabelHeader:{PPMVendorInvoiceDetails:{PPMVenInvCode:["PPMVendorInvoiceCode","Code"],PPMVendorInvoiceNarration:["PPMVendorInvoiceCode","Code"],MatVendorID:["Vendor Code","Vendor Name"],PPMVendorInvoiceInvNo:["PPMVendorInvoiceCode","Code"],PPMVendorInvoiceRefNo:["PPMVendorInvoiceCode","Code"],PPMVendorInvoiceAmount:["PPMVendorInvoiceCode","Code"],PPMVendorInvoiceCode:["PPMVendorInvoiceCode","Code"],PPMVendorInvoiceDate:["PPMVendorInvoiceCode","Code"],PPMVendorInvoiceDectAmount:["PPMVendorInvoiceCode","Code"],PPMVendorInvoiceDectKey:["PPMVendorInvoiceCode","Code"],IsActual:["PPMVendorInvoiceCode","Code"],PPMCreationAssetID:["PPMVendorInvoiceCode","PPMVenInvCode"]}},Property:{PPMVendorInvoiceDetails:{PPMVenInvCode:{id:"fld845_19289",labelID:"PPMVenInvCode",maxLength:"50",labelname:"Code",frmctrlid:"fld845_19289",frmctrlidname:"PPMVenInvCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMVendorInvoiceNarration:{id:"fld845_19290",labelID:"PPMVendorInvoiceNarration",maxLength:"150",labelname:"Narration",frmctrlid:"fld845_19290",frmctrlidname:"PPMVendorInvoiceNarration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatVendorID:{id:"fld845_19302",clearID:"PPMVendorInvoiceDetailsVendorNameClear",type:"select",labelID:"MatVendorIDPK",labelname:"Vendor",fielddisplayname:"VendorName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMVendorInvoiceInvNo:{id:"fld845_19291",labelID:"PPMVendorInvoiceInvNo",maxLength:"25",labelname:"Invoice No",frmctrlid:"fld845_19291",frmctrlidname:"PPMVendorInvoiceInvNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMVendorInvoiceRefNo:{id:"fld845_19292",labelID:"PPMVendorInvoiceRefNo",maxLength:"25",labelname:"Invoice Ref No",frmctrlid:"fld845_19292",frmctrlidname:"PPMVendorInvoiceRefNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMVendorInvoiceAmount:{id:"fld845_19293",labelID:"PPMVendorInvoiceAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld845_19293",frmctrlidname:"PPMVendorInvoiceAmount",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMVendorInvoiceCode:{id:"fld845_19288",labelID:"PPMVendorInvoiceCode",maxLength:"50",labelname:"PPMVendorInvoiceCode",frmctrlid:"fld845_19288",frmctrlidname:"PPMVendorInvoiceCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMVendorInvoiceDate:{id:"fld845_19294",labelID:"PPMVendorInvoiceDate",maxLength:"",labelname:"PPMVendorInvoiceDate",frmctrlid:"fld845_19294",frmctrlidname:"PPMVendorInvoiceDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMVendorInvoiceDectAmount:{id:"fld845_19295",labelID:"PPMVendorInvoiceDectAmount",maxLength:"10",labelname:"PPMVendorInvoiceDectAmount",frmctrlid:"fld845_19295",frmctrlidname:"PPMVendorInvoiceDectAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMVendorInvoiceDectKey:{id:"fld845_19296",labelID:"PPMVendorInvoiceDectKey",maxLength:"",labelname:"PPMVendorInvoiceDectKey",frmctrlid:"fld845_19296",frmctrlidname:"PPMVendorInvoiceDectKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsActual:{id:"fld845_19297",labelID:"IsActual",maxLength:"",labelname:"IsActual",frmctrlid:"fld845_19297",frmctrlidname:"IsActual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAssetID:{id:"fld845_19309",clearID:"PPMVendorInvoiceDetailsWorkOrderClear",type:"select",labelID:"PPMCreationAssetIDPK",labelname:"PPMCreationAssetID",fielddisplayname:"WorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMVendorInvoiceDetails:{MatVendorID:["VendorName","MatVendorCode"],PPMCreationAssetID:["ContractID","BuildingID","AssetID","DisciplineID","DivisionID","FloorID","FrequencyID","SpotID"]}}};var ye=n(6562),ge=n(45155),Me=n(49174),Ce=(n(38773),n(19089),n(16233)),Ve=n.n(Ce);n(82729),n(75355),n(11107);const fe={PPMVendorInvoiceIDPK:"",PPMVendorInvoiceCode:"",PPMVenInvCode:"",PPMVendorInvoiceNarration:"",PPMVendorInvoiceInvNo:"",PPMVendorInvoiceRefNo:"",PPMVendorInvoiceAmount:"",PPMVendorInvoiceDate:"",PPMVendorInvoiceDateType:"",PPMVendorInvoiceDateBetween:"",PPMVendorInvoiceDectAmount:"",PPMVendorInvoiceDectKey:"",IsActual:!1,IsDefault:!1,IsDraft:!1,Remarks:"",PPMCreationAssetID:null,MatVendorID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",MatVendorTypeID:null,MatVendorTypeCode:"",VendorTypeName:"",CityID:null,CityCode:"",CityName:"",StateID:null,StateCode:"",StateName:"",CountryID:null,CountryCode:"",CountryName:"",MatVendorCode:"",VendorName:"",Type:"PPMVendorInvoiceID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ee=(0,l.forwardRef)(((e,t)=>{const n=(0,o.useSelector)((e=>e.form)),[c,s]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!0),[v,D]=(0,l.useState)(!1),[g,M]=(0,l.useState)(!1),[C,f]=(0,l.useState)(""),[h,S]=(0,l.useState)(!1),[b,A]=(0,l.useState)([]),[F,w]=(0,l.useState)(null),[T,x]=(0,l.useReducer)(ve.Z,fe),[B,k]=(0,l.useState)(!1),[Z,O]=(0,l.useState)([]),[R,K]=(0,l.useState)(!1),z=(0,l.useContext)(e.context?e.context:Te),{cstate:_,cdispatch:W}=e.ContextApi?e.ContextApi:xe(),[q,G]=(0,l.useState)(0),[U,H]=(0,l.useState)(""),Y=(0,l.useRef)(null),[$,J]=Ve()("845"),[Q,X]=(0,l.useState)(!0),[ee,te]=(0,l.useState)(""),[ne,le]=(0,l.useState)(!0),[ae,oe]=(0,l.useState)(!0),[ie,de]=(0,l.useState)(!1);let ue=(0,y.Z)();const[Ce,Ee]=(0,l.useState)({}),Ne=e=>ue[e]?ue[e]:e,he=t=>_.language?.[t]?_.language[t]:e.createEasy?Ce?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&G(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{Fe()}),[]),(0,l.useEffect)((()=>{Fe()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(Ae(_.editData[0],""),D(!0)):_.Add&&(Fe(),D(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let n=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Ee(Object.assign({},...t))}($)}),[$]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Fe()},CreateEasyProps:(e=!0,t)=>{J(!0),t?(_e(t),D(e)):(Fe(),D(e))},AddOpen:e=>{Fe(),D(!0)}})));const Se=e=>e?e.split("-").reverse().join("-"):null,be=e=>{if(e){let t=Se(e);return"Invalid Date"!=new Date(t)?(0,Pe.format)(new Date(t),"yyyy-MM-dd"):e}return null},Ae=(t,n)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),M(t.IsDraft),"SetDefaultPPMVendorInvoiceID"==n?H(t.PPMVendorInvoiceIDPK):(G(e.primid?Number(e.primid):t.PPMVendorInvoiceIDPK?t.PPMVendorInvoiceIDPK:0),W({type:"PrimaryId",payload:t.PPMVendorInvoiceIDPK})),x({type:"text",name:"PPMVenInvCode",value:t.PPMVenInvCode?t.PPMVenInvCode:""}),x({type:"text",name:"PPMVendorInvoiceNarration",value:t.PPMVendorInvoiceNarration?t.PPMVendorInvoiceNarration:""}),x({type:"number",name:"MatVendorID",number:t.MatVendorID?Number(t.MatVendorID):0}),x({type:"text",name:"VendorName",value:t.VendorName}),x({type:"text",name:"PPMVendorInvoiceInvNo",value:t.PPMVendorInvoiceInvNo?t.PPMVendorInvoiceInvNo:""}),x({type:"text",name:"PPMVendorInvoiceRefNo",value:t.PPMVendorInvoiceRefNo?t.PPMVendorInvoiceRefNo:""}),x({type:"number",name:"PPMVendorInvoiceAmount",number:Number(t.PPMVendorInvoiceAmount)}),x({type:"text",name:"PPMVendorInvoiceCode",value:t.PPMVendorInvoiceCode?t.PPMVendorInvoiceCode:""}),x({type:"text",name:"PPMVendorInvoiceDate",value:t.PPMVendorInvoiceDate?Se(t.PPMVendorInvoiceDate):null}),x({type:"number",name:"PPMVendorInvoiceDectAmount",number:Number(t.PPMVendorInvoiceDectAmount)}),x({type:"number",name:"PPMVendorInvoiceDectKey",number:t.PPMVendorInvoiceDectKey}),x({type:"boolean",name:"IsActual",boolean:!!t.IsActual&&t.IsActual}),x({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),x({type:"number",name:"PPMCreationAssetID",number:t.PPMCreationAssetID?Number(t.PPMCreationAssetID):0}),x({type:"text",name:"WorkOrder",value:t.WorkOrder}),t.IsDraft?u(!0):u(!("1"!=t.IsActive&&!t.IsActive))},Fe=()=>{A([]),G(0),H(""),e.createEasy||z.resetImg(),W({type:"PrimaryId",payload:""}),x({type:"text",name:"PPMVenInvCode",value:""}),x({type:"text",name:"PPMVendorInvoiceNarration",value:""}),x({type:"text",name:"MatVendorID",value:null}),x({type:"text",name:"VendorName",value:""}),document.getElementById("PPMVendorInvoiceDetailsVendorNameClear")&&document.getElementById("PPMVendorInvoiceDetailsVendorNameClear").click(),x({type:"text",name:"PPMVendorInvoiceInvNo",value:""}),x({type:"text",name:"PPMVendorInvoiceRefNo",value:""}),x({type:"number",name:"PPMVendorInvoiceAmount",number:0}),x({type:"text",name:"PPMVendorInvoiceCode",value:""}),x({type:"text",name:"PPMVendorInvoiceDate",value:""}),x({type:"number",name:"PPMVendorInvoiceDectAmount",number:0}),x({type:"number",name:"PPMVendorInvoiceDectKey",number:0}),x({type:"boolean",name:"IsActual",boolean:!1}),x({type:"boolean",name:"IsDefault",boolean:!1}),x({type:"text",name:"PPMCreationAssetID",value:null}),x({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMVendorInvoiceDetailsWorkOrderClear")&&document.getElementById("PPMVendorInvoiceDetailsWorkOrderClear").click(),u(!0),f(""),X(!0),le(!0),oe(!0)},we=t=>{z.loading(!0),z.ConfirmAlert(null);const n=I.v.Api+"FP845S2/",l={data:[{p1:"SetDefaultPPMVendorInvoiceID"==t?"NORECORDS"!=U&&U?U:0:q,p2:We(T.PPMVendorInvoiceCode),p3:We(T.PPMVenInvCode),p4:We(T.PPMVendorInvoiceNarration),p5:We(T.PPMVendorInvoiceInvNo),p6:We(T.PPMVendorInvoiceRefNo),p7:T.PPMVendorInvoiceAmount?Number(T.PPMVendorInvoiceAmount):0,p8:T.PPMVendorInvoiceDate?be(T.PPMVendorInvoiceDate):null,p9:T.PPMVendorInvoiceDectAmount?Number(T.PPMVendorInvoiceDectAmount):0,p10:T.PPMVendorInvoiceDectKey?Number(T.PPMVendorInvoiceDectKey):0,p11:T.IsActual,p12:T.IsDefault,p13:!1,p14:"SetDefaultPPMVendorInvoiceID"==t?"SetDefault":null,p15:e.parentId?Number(e.parentId):T.PPMCreationAssetID?T.PPMCreationAssetID:0,p16:T.MatVendorID?T.MatVendorID:0,p17:m,p18:"SetDefaultPPMVendorInvoiceID"==t,p19:localStorage.getItem("userid"),p20:E()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((t=>{(0,d.Z)(n,l,t).then((t=>{const n=t.Output[0].status;let l=t.Output[0].Data,a=new Array,o=new Array;"200"===n.code?(l.map((e=>{e&&(a.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),a.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:o}),z.loading(!1)):(t=>{X(!0),le(!0),oe(!0),z.loading(!0),z.ConfirmAlert(null),W({type:"IsDraft",payload:!1});const n=I.v.Api+"FP845S1/",l={data:[{p1:q,p2:We(T.PPMVendorInvoiceCode),p3:We(T.PPMVenInvCode),p4:We(T.PPMVendorInvoiceNarration),p5:We(T.PPMVendorInvoiceInvNo),p6:We(T.PPMVendorInvoiceRefNo),p7:T.PPMVendorInvoiceAmount?Number(T.PPMVendorInvoiceAmount):0,p8:T.PPMVendorInvoiceDate?be(T.PPMVendorInvoiceDate):null,p9:T.PPMVendorInvoiceDectAmount?Number(T.PPMVendorInvoiceDectAmount):0,p10:T.PPMVendorInvoiceDectKey?Number(T.PPMVendorInvoiceDectKey):0,p11:T.IsActual,p12:T.IsDefault,p13:!1,p14:null,p15:e.parentId?Number(e.parentId):T.PPMCreationAssetID?T.PPMCreationAssetID:0,p16:T.MatVendorID?T.MatVendorID:0,p17:m,p18:!1,p19:localStorage.getItem("userid"),p20:E()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((t=>{(0,N.Z)(n,l,t).then((t=>{const n=t[0].status;200==n.code?(z.alert({open:!0,color:"success",message:[n.message]}),document.getElementById("overlayimgAttPPMVendorInvoiceDetails"),z.loading(!1),W({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(t[0].Data.IDPK)),Fe(),_.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttPPMVendorInvoiceDetails")&&(document.getElementById("overlayimgAttPPMVendorInvoiceDetails").style.width="0%",document.getElementById("overlayimgAttPPMVendorInvoiceDetails").style.display="none",document.getElementById("divPPMVendorInvoiceDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMVendorInvoiceDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[n.message]}),z.loading(!1)),D(!0)}))}))})()):(z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),z.loading(!1))}))}))};function Be(e){return CreateEasy(e,_,W,z,Y),!1}function ke(e,n){return AdvanceSearch(e,n,Te,xe(),Oe,t),!1}const Le=(t,n,l,a,o,i)=>{const r=I.v.Api+"FP845S3/",c={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:T.PPMVendorInvoiceDate?T.PPMVendorInvoiceDate:null,p9:null,p10:null,p11:null,p12:null,p13:1==T.IsActual,p14:null,p15:null,p16:null,p17:e.parentId?Number(e.parentId):0,p18:"0"==T.MatVendorID?null:T.MatVendorID,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:"0"==T.ContractID?null:T.ContractID,p27:n?"%"+n+"%":null,p28:n?"%"+n+"%":null,p29:"0"==T.LocalityID?null:T.LocalityID,p30:n?"%"+n+"%":null,p31:n?"%"+n+"%":null,p32:"0"==T.BuildingID?null:T.BuildingID,p33:n?"%"+n+"%":null,p34:n?"%"+n+"%":null,p35:"0"==T.FloorID?null:T.FloorID,p36:n?"%"+n+"%":null,p37:n?"%"+n+"%":null,p38:"0"==T.SpotID?null:T.SpotID,p39:n?"%"+n+"%":null,p40:n?"%"+n+"%":null,p41:"0"==T.DivisionID?null:T.DivisionID,p42:n?"%"+n+"%":null,p43:n?"%"+n+"%":null,p44:"0"==T.DisciplineID?null:T.DisciplineID,p45:n?"%"+n+"%":null,p46:n?"%"+n+"%":null,p47:"0"==T.FrequencyID?null:T.FrequencyID,p48:n?"%"+n+"%":null,p49:n?"%"+n+"%":null,p50:"0"==T.AssetID?null:T.AssetID,p51:n?"%"+n+"%":null,p52:n?"%"+n+"%":null,p53:n?"%"+n+"%":null,p54:n?"%"+n+"%":null,p55:"0"==T.EmployeeID?null:T.EmployeeID,p56:n?"%"+n+"%":null,p57:n?"%"+n+"%":null,p58:n?"%"+n+"%":null,p59:n?"%"+n+"%":null,p60:"0"==T.PPMBusinessFlowID?null:T.PPMBusinessFlowID,p61:n?"%"+n+"%":null,p62:n?"%"+n+"%":null,p63:n?"%"+n+"%":null,p64:"0"==T.PPMFixonBusinessFlowID?null:T.PPMFixonBusinessFlowID,p65:n?"%"+n+"%":null,p66:n?"%"+n+"%":null,p67:"0"==T.PPMStageID?null:T.PPMStageID,p68:n?"%"+n+"%":null,p69:n?"%"+n+"%":null,p70:n?"%"+n+"%":null,p71:T.WoDateTime?T.WoDateTime:null,p72:null,p73:null,p74:"0"==T.MatVendorTypeID?null:T.MatVendorTypeID,p75:n?"%"+n+"%":null,p76:n?"%"+n+"%":null,p77:"0"==T.CityID?null:T.CityID,p78:n?"%"+n+"%":null,p79:n?"%"+n+"%":null,p80:"0"==T.StateID?null:T.StateID,p81:n?"%"+n+"%":null,p82:n?"%"+n+"%":null,p83:"0"==T.CountryID?null:T.CountryID,p84:n?"%"+n+"%":null,p85:n?"%"+n+"%":null,p86:n?"%"+n+"%":null,p87:n?"%"+n+"%":null,p88:t,p89:10,p90:l,p91:null,p92:null,p93:localStorage.getItem("UserGroupID"),p94:localStorage.getItem("userid")}},s=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,n)=>(e[t]=n>Object.keys(c.data).length-8?c.data[t]:null,e)),{});k(!0);const m={data:s};return(0,d.Z)(r,"ClearAll"==l?m:c,"SetDefaultPPMVendorInvoiceID"==l&&a?a:_.token[0]).then((e=>{const n=e.Output.status.code,a=e.Output.data;if("200"==n){const e=a.length;if(o)return 1==a.length?a[0]:{};O(1==t?e>0?a:[]:Z.concat(a)),"SetDefaultPPMVendorInvoiceID"==l&&(e>0?Ae(a[0],"SetDefaultPPMVendorInvoiceID"):H("NORECORDS")),k(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Ze=(t,l,a)=>{const o=I.v.Api+"FP845S3/",i={data:{p1:null,p2:"PPMVendorInvoiceCode"==a&&l?"%"+l+"%":null,p3:"PPMVenInvCode"==a&&l?"%"+l+"%":null,p4:"PPMVendorInvoiceNarration"==a&&l?"%"+l+"%":null,p5:"PPMVendorInvoiceInvNo"==a&&l?"%"+l+"%":null,p6:"PPMVendorInvoiceRefNo"==a&&l?"%"+l+"%":null,p7:"PPMVendorInvoiceAmount"==a&&l?"%"+l+"%":null,p8:null,p9:null,p10:null,p11:"PPMVendorInvoiceDectAmount"==a&&l?"%"+l+"%":null,p12:"PPMVendorInvoiceDectKey"==a&&l?"%"+l+"%":null,p13:null,p14:null,p15:null,p16:null,p17:n.PPMCreationAssetPPMCreationAssetID?n.PPMCreationAssetPPMCreationAssetID:"0",p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:t,p89:10,p90:"PPMVendorInvoiceID",p91:null,p92:null,p93:localStorage.getItem("UserGroupID"),p94:localStorage.getItem("userid")}},r={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,n)=>(e[t]=n>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};k(!0),(0,d.Z)(o,"ClearAll"==a?r:i,_.token[0]).then((e=>{const n=e.Output.status.code,l=e.Output.data;if("200"==n){const e=l.length;1==t?("PPMVendorInvoiceCode"==a&&X(e>0),"PPMVendorInvoiceDectAmount"==a&&le(e>0),"PPMVendorInvoiceDectKey"==a&&oe(e>0),O(l)):("PPMVendorInvoiceCode"==a&&X(!0),"PPMVendorInvoiceDectAmount"==a&&le(!0),"PPMVendorInvoiceDectKey"==a&&oe(!0),O(Z.concat(l))),k(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Oe=(0,l.useCallback)((async(e,t,n)=>{"text"==n?x({type:n,name:t,value:e}):"number"==n?x({type:n,name:t,number:Number(e)}):"boolean"==n?x({type:n,name:t,boolean:e}):"date"==n?x({type:"text",name:t,value:e}):"select"==n&&("MatVendorID"==t?(x({type:"text",name:"MatVendorID",value:e.MatVendorIDPK?e.MatVendorIDPK:null}),x({type:"text",name:"VendorName",value:e.VendorName?e.VendorName:null}),x({type:"text",name:"PPMCreationAssetID",value:e.PPMCreationAssetID?e.PPMCreationAssetID:null}),x({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:null})):"PPMCreationAssetID"==t&&(x({type:"text",name:"PPMCreationAssetID",value:e.PPMCreationAssetIDPK?e.PPMCreationAssetIDPK:null}),x({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:null}),x({type:"text",name:"MatVendorID",value:e.MatVendorID?e.MatVendorID:null}),x({type:"text",name:"VendorName",value:e.VendorName?e.VendorName:null})))}),[T]);function Re(e){if("MatVendorID"==e){if(!T.MatVendorID)return!1;x({type:"text",name:"MatVendorID",value:null}),x({type:"text",name:"VendorName",value:""}),document.getElementById("PPMVendorInvoiceDetailsVendorNameClear")&&document.getElementById("PPMVendorInvoiceDetailsVendorNameClear").click(),x({type:"text",name:"PPMCreationAssetID",value:null}),x({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMVendorInvoiceDetailsWorkOrderClear")&&document.getElementById("PPMVendorInvoiceDetailsWorkOrderClear").click()}else if("PPMCreationAssetID"==e){if(!T.PPMCreationAssetID)return!1;x({type:"text",name:"PPMCreationAssetID",value:null}),x({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMVendorInvoiceDetailsWorkOrderClear")&&document.getElementById("PPMVendorInvoiceDetailsWorkOrderClear").click(),x({type:"text",name:"MatVendorID",value:null}),x({type:"text",name:"VendorName",value:""}),document.getElementById("PPMVendorInvoiceDetailsVendorNameClear")&&document.getElementById("PPMVendorInvoiceDetailsVendorNameClear").click()}}function Ke(e){if("MatVendorID"==e){if(!T.MatVendorID)return!1;x({type:"text",name:"MatVendorID",value:null}),x({type:"text",name:"PPMCreationAssetID",value:null})}else if("PPMCreationAssetID"==e){if(!T.PPMCreationAssetID)return!1;x({type:"text",name:"PPMCreationAssetID",value:null}),x({type:"text",name:"MatVendorID",value:null})}}const ze=e=>{z.ConfirmAlert(a().createElement(pe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>_e(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("No"),showCancel:!0},Ne("Do you want to update this record?")))};function _e(e){z.ConfirmAlert(null),M(e.IsDraft),G(Number(e.PPMVendorInvoiceIDPK)?Number(e.PPMVendorInvoiceIDPK):0),x({type:"text",name:"PPMVenInvCode",value:e.PPMVenInvCode?e.PPMVenInvCode:""}),x({type:"text",name:"PPMVendorInvoiceNarration",value:e.PPMVendorInvoiceNarration?e.PPMVendorInvoiceNarration:""}),x({type:"number",name:"MatVendorID",number:e.MatVendorID?Number(e.MatVendorID):0}),x({type:"text",name:"VendorName",value:e.VendorName?e.VendorName:""}),x({type:"text",name:"PPMVendorInvoiceInvNo",value:e.PPMVendorInvoiceInvNo?e.PPMVendorInvoiceInvNo:""}),x({type:"text",name:"PPMVendorInvoiceRefNo",value:e.PPMVendorInvoiceRefNo?e.PPMVendorInvoiceRefNo:""}),x({type:"number",name:"PPMVendorInvoiceAmount",number:e.PPMVendorInvoiceAmount?Number(e.PPMVendorInvoiceAmount):0}),x({type:"text",name:"PPMVendorInvoiceCode",value:e.PPMVendorInvoiceCode?e.PPMVendorInvoiceCode:""}),x({type:"text",name:"PPMVendorInvoiceDate",value:e.PPMVendorInvoiceDate?Se(e.PPMVendorInvoiceDate):null}),x({type:"text",name:"PPMVendorInvoiceDectAmount",value:e.PPMVendorInvoiceDectAmount?e.PPMVendorInvoiceDectAmount:""}),x({type:"text",name:"PPMVendorInvoiceDectKey",value:e.PPMVendorInvoiceDectKey?e.PPMVendorInvoiceDectKey:""}),x({type:"boolean",name:"IsActual",boolean:!!e.IsActual&&e.IsActual}),x({type:"number",name:"PPMCreationAssetID",number:e.PPMCreationAssetID?Number(e.PPMCreationAssetID):0}),x({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:""})}const We=e=>"string"==typeof e?e.trim():e;return a().createElement("div",null,a().createElement(i.Z,{expanded:v,onChange:e=>{}},a().createElement(j.Z,null,a().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},v&&a().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},a().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[845]"}," ",Ne("Add "),he("845")),a().createElement("div",{className:"displayFlex EntryHeaderBtn"},a().createElement("div",{className:"GridAlign"},a().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},a().createElement(ye.Z,{row:!0},a().createElement(L.Z,{labelPlacement:"bottom",id:"fld845L1ECEntryCheckbox",control:a().createElement(V.Z,{checked:"1"==m,onChange:e=>u(e.target.checked)}),label:Ne(1==m?"Active":"In Active")})))),!e.createEasy&&a().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld845L1ECIconButton"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement("div",{disableRipple:!0,disabled:!1},a().createElement(ge.Ypb,{className:"Iconstyles"}))),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,Ne("Attach")))),!q&&a().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Fe()},id:"fld845L1ECClearBtn"},a().createElement("div",{className:"Entry-Checkbox"},a().createElement(ge.pYJ,{className:"Iconstyles"})),a().createElement("div",{className:"GridLabel"},a().createElement("p",null,Ne("Reset")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?a().createElement(me.Z,{frmctrlid:"fld845L1ECSaveBtnIsAdd",name:Ne(q?"Update":"Save"),disabled:!1,onClick:()=>{T.MatVendorID&&0!=T.MatVendorID?We(T.PPMVendorInvoiceAmount)?e.parentId&&0!=e.parentId?z.ConfirmAlert(a().createElement(pe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ne("Are you sure?"),onConfirm:()=>we(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("Cancel"),showCancel:!0},Ne(q?"Do you want to Update?":"Do you want to Save?"))):z.alert({open:!0,color:"warning",message:[Ne("Please select the ")+" "+he("PPMCreationAssetID")]}):z.alert({open:!0,color:"warning",message:[Ne("Please enter the")+""+he("PPMVendorInvoiceAmount")]}):z.alert({open:!0,color:"warning",message:[Ne("Please select the ")+" "+he("MatVendorID")]})}}):null,!e.createEasy&&a().createElement(re.Z,{frmctrlid:"fld845L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Fe(),D(!1),z.EditClose(!0),z.hideAddBtn(!1),W({type:"Add",payload:!1})}}))))),a().createElement(r.Z,null,a().createElement("div",{id:"PPMVendorInvoiceDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},a().createElement("div",{id:"PPMVendorInvoiceDetails-Detail",className:"detailCard detailDiv"},a().createElement("div",{id:"PPMVendorInvoiceDetails-MainBody",className:"padding paddingLeft "},a().createElement("div",null,a().createElement(p.Z,{spacing:2},a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(se.Z,{json:De,"data-testid":T.PPMVenInvCode,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVenInvCode",tfLabel:he("PPMVenInvCode"),frmctrlid:"fld845_19289",fieldorder:"1",onChange:e=>{Oe(e,"PPMVenInvCode","text")},clear:e=>{e&&x({type:"text",name:"PPMVenInvCode",value:""})},value:T.PPMVenInvCode})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(se.Z,{json:De,"data-testid":T.PPMVendorInvoiceNarration,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVendorInvoiceNarration",tfLabel:he("PPMVendorInvoiceNarration"),frmctrlid:"fld845_19290",fieldorder:"2",onChange:e=>{Oe(e,"PPMVendorInvoiceNarration","text")},clear:e=>{e&&x({type:"text",name:"PPMVendorInvoiceNarration",value:""})},value:T.PPMVendorInvoiceNarration})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(Ie.Z,{json:De,id:T.MatVendorID,"data-testid":T.MatVendorID,value:T.VendorName,SPName:"PPMVendorInvoiceDetails",FieldName:"MatVendorID",tfLabel:he("MatVendorID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Oe(e,"MatVendorID","select"),onChange:(e,t)=>{Le(e,t,"MatVendorIDPK")},KeyBack:e=>{Ke("MatVendorID")},fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Be("442")},Tabledialog:()=>ke("442","MatVendorID"),loading:B,clear:e=>{e&&Re("MatVendorID")}})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(se.Z,{json:De,"data-testid":T.PPMVendorInvoiceInvNo,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVendorInvoiceInvNo",tfLabel:he("PPMVendorInvoiceInvNo"),frmctrlid:"fld845_19291",fieldorder:"4",onChange:e=>{Oe(e,"PPMVendorInvoiceInvNo","text")},clear:e=>{e&&x({type:"text",name:"PPMVendorInvoiceInvNo",value:""})},value:T.PPMVendorInvoiceInvNo})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(se.Z,{json:De,"data-testid":T.PPMVendorInvoiceRefNo,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVendorInvoiceRefNo",tfLabel:he("PPMVendorInvoiceRefNo"),frmctrlid:"fld845_19292",fieldorder:"1",onChange:e=>{Oe(e,"PPMVendorInvoiceRefNo","text")},clear:e=>{e&&x({type:"text",name:"PPMVendorInvoiceRefNo",value:""})},value:T.PPMVendorInvoiceRefNo})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},a().createElement(se.Z,{json:De,"data-testid":T.PPMVendorInvoiceAmount,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVendorInvoiceAmount",tfLabel:he("PPMVendorInvoiceAmount"),frmctrlid:"fld845_19293",fieldorder:"2",onChange:e=>{Oe(e,"PPMVendorInvoiceAmount","number")},clear:e=>{e&&x({type:"number",name:"PPMVendorInvoiceAmount",number:0})},Iscurr:!0,value:T.PPMVendorInvoiceAmount})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(Ie.Z,{"data-testid":T.PPMVendorInvoiceCode,json:De,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVendorInvoiceCode",tfLabel:he("PPMVendorInvoiceCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ze(t),onClick:()=>{Q&&Ze(1,"","ClearAll"),X(!0)},frmctrlid:"fld845_19288",frmctrlidName:"PPMVendorInvoiceCode",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{Q&&Ze(e,t,"PPMVendorInvoiceCode"),Oe(t,"PPMVendorInvoiceCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||X(!0)},showList:Q,SideEntryView:!1,KeyBack:e=>{},value:T.PPMVendorInvoiceCode,loading:B,clear:e=>{e&&(x({type:"text",name:"PPMVendorInvoiceCode",value:""}),X(!0))}})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(Me.Z,{value:T.PPMVendorInvoiceDate,"data-testid":T.PPMVendorInvoiceDate,disabled:!1,onChange:e=>{Oe(e,"PPMVendorInvoiceDate","date")},onErr:e=>{te(e)},label:he("PPMVendorInvoiceDate"),frmctrlid:"fld845_19294",frmctrlidName:"PPMVendorInvoiceDate",fieldorder:"2"})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(Ie.Z,{"data-testid":T.PPMVendorInvoiceDectAmount,json:De,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVendorInvoiceDectAmount",tfLabel:he("PPMVendorInvoiceDectAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ze(t),onClick:()=>{ne&&Ze(1,"","ClearAll"),le(!0)},frmctrlid:"fld845_19295",frmctrlidName:"PPMVendorInvoiceDectAmount",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ne&&Ze(e,t,"PPMVendorInvoiceDectAmount"),Oe(t,"PPMVendorInvoiceDectAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:T.PPMVendorInvoiceDectAmount,loading:B,clear:e=>{e&&(x({type:"text",name:"PPMVendorInvoiceDectAmount",value:""}),le(!0))}})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(Ie.Z,{"data-testid":T.PPMVendorInvoiceDectKey,json:De,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMVendorInvoiceDectKey",tfLabel:he("PPMVendorInvoiceDectKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ze(t),onClick:()=>{ae&&Ze(1,"","ClearAll"),oe(!0)},frmctrlid:"fld845_19296",frmctrlidName:"PPMVendorInvoiceDectKey",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ae&&Ze(e,t,"PPMVendorInvoiceDectKey"),Oe(t,"PPMVendorInvoiceDectKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:T.PPMVendorInvoiceDectKey,loading:B,clear:e=>{e&&(x({type:"text",name:"PPMVendorInvoiceDectKey",value:""}),oe(!0))}})),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement("div",{className:"EntryView-Checkbox"},a().createElement(L.Z,{style:{color:"#337ab7"},"data-testid":T.IsActual,labelPlacement:"end",control:a().createElement(V.Z,{checked:"1"==T.IsActual,onChange:e=>{Oe(e.target.checked,"IsActual","boolean")},frmctrlid:"fld845_19297",frmctrlidname:"IsActual",fieldorder:"2",tfLabel:he("IsActual")}),label:a().createElement("p",{className:"ToggleSwitchLabel",style:{color:T.IsActual?"#21446F":"#999"}},he("IsActual"))}))),a().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},a().createElement(Ie.Z,{json:De,id:T.PPMCreationAssetID,"data-testid":T.PPMCreationAssetID,value:T.WorkOrder,SPName:"PPMVendorInvoiceDetails",FieldName:"PPMCreationAssetID",tfLabel:he("PPMCreationAssetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Oe(e,"PPMCreationAssetID","select"),onChange:(e,t)=>{Le(e,t,"PPMCreationAssetIDPK")},KeyBack:e=>{Ke("PPMCreationAssetID")},fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Be("1390")},Tabledialog:()=>ke("1390","PPMCreationAssetID"),loading:B,clear:e=>{e&&Re("PPMCreationAssetID")}})))),a().createElement("div",{id:"PPMVendorInvoiceDetailsSideBar",className:"sidenav"},a().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMVendorInvoiceDetailsSideBar").style.width="0",void S(!1))},"×"),h&&a().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},F))))))))}));n(77366),n(97829);var Ne=n(65197);const he=(0,l.forwardRef)(((e,t)=>{const n=(0,l.useRef)(),[c,s]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[m,u]=(0,l.useState)(!0),[p,P]=(0,l.useState)(e.showDetail),[v,D]=(0,l.useState)(""),[g,M]=a().useState(!1),[C,V]=a().useState(""),[f,E]=a().useState(!1),N=(0,l.useContext)(Te),{cstate:h,cdispatch:S}=xe(),[b,A]=(0,l.useState)(!1),[F,w]=(0,l.useState)(""),[T,x]=(0,l.useState)(""),[B,k]=(0,l.useState)("");let L=(0,y.Z)();(0,l.useEffect)((()=>{h.editData.length>0&&(s(h.editData),M(!1),S({type:"PrimaryId",payload:h.editData[0].PPMVendorInvoiceIDPK}))}),[h.editData]),(0,l.useEffect)((()=>{h.showTableview&&k(h.showTableview)}),[h.showTableview]),(0,l.useEffect)((()=>{u(h.ExpandDetailValue)}),[h.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{u(e),M(null)},viewtoggle:()=>{M(!1)},viewlistProps:(t,n)=>{!function(t,n=!1){let l=I.v.Api+"FP845S3/",a={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:1,p89:10,p90:h.IsDraft?"DraftPPMVendorInvoiceID":"PPMVendorInvoiceID",p91:null,p92:null,p93:localStorage.getItem("UserGroupID"),p94:localStorage.getItem("userid")}};(0,ce.Z)(0).then((e=>{(0,d.Z)(l,a,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,n)},clear:()=>{"panel0"===g&&n.current.clear()}})));const Z=e=>L?.[e]?L?.[e]:e,O=e=>h.language?.[e]?h.language[e]:e;function R(e,t){}const K=(e,t)=>(n,l)=>{V(f?Object.assign(...c.filter((e=>e.PPMVendorInvoiceIDPK==t)).map((e=>e))):h.editData),M(!l&&e)};return a().createElement("div",null,a().createElement(i.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&u(!m)}},!g&&a().createElement(j.Z,null,a().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?a().createElement("div",{className:"displayFlex EntryViewHeader"},a().createElement("p",{className:"ListP"},h.IsDraft?Z("Draft"):"",O("PPMVendorInvoiceDetails"),e.viewonly?" ":"("+h.count+")")):"",m?a().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&h.AccessRights.IsAdd?a().createElement(X.Z,{name:Z("Add"),frmctrlid:"fld845L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),S({type:"editData",payload:[]}),S({type:"ShowDetail",payload:!1}),S({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&h.AccessRights.IsEdit?a().createElement(de.Z,{frmctrlid:"fld845L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):h.IsDraft&&h.AccessRights.IsAdd&&a().createElement(de.Z,{frmctrlid:"fld845L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&a().createElement(re.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld845L1VCCloseBtn",onClick:()=>{u(!1),N.hideAddBtn(!1),f&&(S({type:"editData",payload:[]}),s([]))}})):"")),a().createElement(r.Z,{style:{display:"block"}},c.map(((t,l)=>a().createElement("div",{key:l},g==="panel"+l?a().createElement(Ee,{ref:n,parentId:e.parentId}):a().createElement(a().Fragment,null,a().createElement(Ne.Z,{tableName:"PPMVendorInvoiceDetails",tableID:845,parentID:t.PPMVendorInvoiceIDPK,fldid:"fld845L1VCContainer",OpenSlideComponent:R,index:l,refresh:B,val:t,tf:O,t:Z,title:"10.0.0.59-3:08:17 PM-18-7[845]"}))))))))}));var Se=n(67698),be=n(55995),Ae=(n(45965),n(41722)),Fe=n(9175),we=n.n(Fe);const Te=(0,l.createContext)(),xe=()=>{const e=(0,l.useContext)(Te);if(void 0===e)throw new Error("useCont must be used within  PPMVendorInvoiceDetailsContext Provider");return e},Be=[],ke=(0,l.forwardRef)(((e,t)=>{const n=(0,l.useRef)(),i=(0,l.useRef)(),r=(0,l.useRef)(),d=(0,l.useRef)(),c=(0,l.useRef)(),[s,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),P=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[I,v]=(0,l.useState)(0),[D,y]=(0,l.useReducer)(Ae.D,Ae.E),[g,M]=(0,l.useState)(""),[C,V]=(0,l.useState)([]),[f,E]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divPPMVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(y({type:"editData",payload:[e.editData]}),y({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{y(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>n.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>n.current.HideEntryFields(!0)),500)}})));const N=e=>{V([]),document.getElementById("divPPMVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMVendorInvoiceDetailsEntryTable").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainEntry").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainEntry").style.display="block",document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMVendorInvoiceDetails").style.width="0%",document.getElementById("overlayimgAttPPMVendorInvoiceDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,ce.Z)(1).then((e=>{var t=new Array;t.push(e),y({type:"token",payload:t}),v(t.length),h(e)}))}))}),[]);const h=t=>{y({type:"AccessRights",payload:e.AccessRights}),E(e.AccessRights?.isNestSendtoApproval)};return a().createElement("div",{style:{width:"100%"}},a().createElement(Te.Provider,{value:{cstate:D,cdispatch:y,ContextApi:xe,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,n)=>e.TabShare(t,n),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{n.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==I&&n.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{c.current.tempsave(e,C),V([])},EditClose:e=>N(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(s&&(document.getElementById("overlayPreviewPPMVendorInvoiceDetails").style.width="50%",document.getElementById("divPPMVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainEntry").style.width="100%",document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMVendorInvoiceDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMVendorInvoiceDetails").style.display="block",document.getElementById("overlayimgAttPPMVendorInvoiceDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&r.current.tableClick(e),y({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&r.current.viewtoggle()},clear:e=>{y({type:"ShowDetail",payload:!1}),y({type:"editData",payload:[]}),D.ShowDetail?r.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{n.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?r.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{c.current.tempClear(),d.current.clrImgstate(!0)}}},a().createElement("div",{id:"PPMVendorInvoiceDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},a().createElement("div",{id:"PPMVendorInvoiceDetails-MainEntry",className:"",style:{background:"#fff"}},a().createElement("div",{style:{display:"flex"}},a().createElement("div",{id:"PPMVendorInvoiceDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?a().createElement("div",null,a().createElement("div",{className:"displayFlex width100"},a().createElement("div",{id:"divPPMVendorInvoiceDetails-Entry",style:{width:"100%"}},0!==I?a().createElement(he,{ref:r,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),a().createElement(be.Z,{ref:c,menurefID:845,fileId:"LogoImgPPMVendorInvoiceDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):n.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMVendorInvoiceDetails",frmctrlid:"PvwIm_845_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),V(e)},clearTempData:D.Add})):a().createElement("div",null,a().createElement("div",{className:"displayFlex width100"},a().createElement("div",{id:"divPPMVendorInvoiceDetails-Entry",style:{width:"100%"}},!e.tableview&&a().createElement(Ee,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),a().createElement(be.Z,{ref:c,menurefID:845,fileId:"LogoImgPPMVendorInvoiceDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):n.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMVendorInvoiceDetails",frmctrlid:"PvwIm_845_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),V(e)},clearTempData:D.Add})),a().createElement("div",{id:"PPMVendorInvoiceDetails-MainTable"},0!==I?a().createElement(ie,{ref:n,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),a().createElement(Se.Z,{ImgAttachment:e=>N(),menurefID:845,fileId:"AttImgPPMVendorInvoiceDetails",imgid:"overlayimgAttPPMVendorInvoiceDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,n,l)=>{c.current.PriviewItem(e,t,n,l)},previd:"overlayPreviewPPMVendorInvoiceDetails",ref:d,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_845_L1_",timglist:e=>{c.current.timglist(e),V(e)},clearTempData:D.Add}))),a().createElement("div",{id:"PPMVendorInvoiceDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),f&&a().createElement(we(),{openDialog:f,closeDialog:e=>E(e),formID:845,PrimID:e.parentId,alert:(t,n,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}))}}]);