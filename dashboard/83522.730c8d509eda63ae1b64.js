"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[83522],{51673:(e,t,a)=>{a.d(t,{Z:()=>s}),a(26537),a(40900);var o=a(25108);async function s(e,t,a,s){let n=localStorage.getItem("userid"),r=await async function(e){return e.data&&!Array.isArray(e.data)?{data:Object.fromEntries(Object.entries(e.data).filter((([e,t])=>null!=t)))}:e}(t);return(s&&"pdf"==s.type||s&&"excel"==s.type)&&(r={...r,file:s}),fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-userid":localStorage.getItem("userid"),"x-tokenid":a&&a.TokenIDPK,"x-tokenname":a&&a.TokenName,USER_ID:n,FORM_ID:1},body:JSON.stringify(r)}).then((e=>e.json())).then((e=>e.Output?e:{Output:e})).catch((e=>{e&&(window.location.href,o.log(e,"error"))}))}},26537:(e,t,a)=>{a.d(t,{Z:()=>r}),a(92950);var o=a(40900),s=a(55905),n=!1;function r(e){const t=(0,s.decode)(localStorage.getItem("username"));let a=o.v.Api+"FPU2S3/",r={data:{UserName:localStorage.getItem("username"),Password:localStorage.getItem("password"),UserID:localStorage.getItem("userid"),IsActive:e,SessionID:localStorage.getItem("SessionID")}};return fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},keepalive:!1,body:JSON.stringify(r)}).then((e=>e.json())).then((e=>e&&0==e.TokenIDPK&&"admin"!=t.toLowerCase()?(n||(n=!0,alert("It appears that your session has been taken over by another device. Please login again to regain access.")),localStorage.clear(),sessionStorage.clear(),window.location.href.toLowerCase().includes("adib")?window.location.href=logoutpath:window.location.href="/",{}):e)).catch((e=>e))}},83522:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var o=a(92950),s=a(40900),n=a(26537),r=(a(51673),a(25108));const i=e=>{const[t,a]=(0,o.useState)(null),[i,l]=(0,o.useState)(!0),[c,p]=(0,o.useState)(null),[d,g]=(0,o.useState)(!1),[u,h]=(0,o.useState)({id:"0",type:[],url:"",fp:!1});return(0,o.useEffect)((()=>{d&&(r.log("test useFetch"),(async()=>{g(!0);const e={data:{p1:u.id,p2:0,p3:"void",p4:1,p5:10,p6:u.type,p7:localStorage.getItem("UserGroupID"),p8:localStorage.getItem("userid")}};r.log("first params",e);try{r.log("usefetch",u),s.v.Api;const e=await(0,n.Z)(0),t=await u.type.map((t=>fetch(s.v.Api+u.url,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":e&&e.TokenIDPK,"x-tokenname":e&&e.TokenName,"x-userid":1,USER_ID:1,FORM_ID:1},body:u.fp?JSON.stringify(u.fp):JSON.stringify({data:{p1:u.id,p2:0,p3:"void",p4:1,p5:10,p6:t,p7:localStorage.getItem("UserGroupID"),p8:localStorage.getItem("userid")}})}).then((e=>e.json()))));await Promise.all(t).then((e=>{r.log("first promise",e),a(e)}))}catch(e){p(e)}finally{l(!1),g(!1)}})())}),[d]),{data:t,isLoading:i,error:c,isParams:u,setIsFetching:g,setParams:h}}},40900:(e,t,a)=>{a.d(t,{v:()=>o}),window.location.href.split("/");const o={Api:"http://13.127.67.252:5040/",MongoAPI:"",NoData:"http://13.127.67.252:5040/images/NoData.GIF",GoogleMapsAPI:"",excel:"http://13.127.67.252:5040/Images/Excel/",ImageUrl:"http://13.127.67.252:5040/Images/",ServerTime:0}}}]);