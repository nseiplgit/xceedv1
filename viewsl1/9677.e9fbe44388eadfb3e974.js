"use strict";(self.webpackChunk_shared_routing_viewsl1=self.webpackChunk_shared_routing_viewsl1||[]).push([[9677],{252:(e,t,l)=>{l.r(t),l.d(t,{default:()=>R});var a=l(92950),n=l.n(a),i=l(45237),r=l(36939),s=l(61201),o=l(50743),p=(l(3212),l(30553)),d=l(61956),c=(l(44528),l(51673)),m=l(37148),u=l(99090),P=l(35131),y=l.n(P),D=l(14439),g=l(27848),I=l(1695),T=l(61924),C=l.n(T),E=l(26537),f=l(40900),v=(l(40826),l(11377)),h=(l(24038),l(92371));const S={EnterKeyValues:{PPMWPTypeDetails:["PPMWPTypeCode","WorkOrder","WPTypeCode"]},Label:{PPMWPTypeDetails:{PPMWPTypeCode:["PPMWPTypeCode"],PPMCreationAssetID:["PPMWPTypeCode"],WPTypeID:["WPTypeCode","WPTypeName"]}},LabelHeader:{PPMWPTypeDetails:{PPMWPTypeCode:["PPMWPTypeCode"],PPMCreationAssetID:["PPMWPTypeCode"],WPTypeID:["Type Code","Type Name"]}},Property:{PPMWPTypeDetails:{PPMWPTypeCode:{id:"fld1467_38248",labelID:"PPMWPTypeCode",maxLength:"50",labelname:"",frmctrlid:"fld1467_38248",frmctrlidname:"PPMWPTypeCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAssetID:{id:"fld1467_38251",clearID:"PPMWPTypeDetailsWorkOrderClear",type:"select",labelID:"PPMCreationAssetIDPK",labelname:"",fielddisplayname:"WorkOrder",fieldOrder:"0",frmctrlid:"fld1467_38251",frmctrlidname:"PPMCreationAssetID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},WPTypeID:{id:"fld1467_38258",clearID:"PPMWPTypeDetailsWPTypeCodeClear",type:"select",labelID:"WPTypeIDPK",labelname:"Type Name",fielddisplayname:"WPTypeCode",fieldOrder:"1",frmctrlid:"fld1467_38258",frmctrlidname:"WPTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{PPMWPTypeDetails:{PPMCreationAssetID:["ContractID","BuildingID","AssetID","DisciplineID","DivisionID","FloorID","FrequencyID","SpotID"],WPTypeID:["WPTypeCode","WPTypeName"]}}};var M=l(79677),W=l(8981),N=l(6562),F=l(63163),w=l(45155),b=l(79352),A=(l(49174),l(38773),l(19089),l(16233)),x=l.n(A),B=l(82729),k=l(75355),L=l(11107),O=l(25108);const Z={PPMWPTypeDetIDPK:"",PPMWPTypeCode:"",IsDraft:!1,Remarks:"",PPMCreationAssetID:null,WPTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",WPTypeCode:"",WPTypeName:"",Type:"PPMWPTypeDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},R=(0,a.forwardRef)(((e,t)=>{(0,i.useSelector)((e=>e.form));const[l,P]=(0,a.useState)(!1),[T,A]=(0,a.useState)(!0),[R,z]=(0,a.useState)(!1),[K,q]=(0,a.useState)(!1),[G,_]=(0,a.useState)(""),[V,U]=(0,a.useState)(!1),[Y,H]=(0,a.useState)([]),[j,$]=(0,a.useState)(null),[J,Q]=(0,a.useReducer)(h.Z,Z),[X,ee]=(0,a.useState)(!1),[te,le]=(0,a.useState)([]),[ae,ne]=(0,a.useState)(!1),ie=(0,a.useContext)(e.context?e.context:M.PPMWPTypeDetailsContext),{cstate:re,cdispatch:se}=e.ContextApi?e.ContextApi:(0,M.ContextApi)(),[oe,pe]=(0,a.useState)(0),[de,ce]=(0,a.useState)(""),me=(0,a.useRef)(null),[ue,Pe]=x()("1467"),[ye,De]=(0,a.useState)(!0),[ge,Ie]=(0,a.useState)(!1);let Te=(0,W.Z)();const[Ce,Ee]=(0,a.useState)({}),fe=e=>Te[e]?Te[e]:e,ve=t=>re.language?.[t]?re.language[t]:e.createEasy?Ce?.[t]:t;(0,a.useEffect)((()=>{Se(),re.editData.length<0&&(0,E.Z)(1).then((e=>{we(1,null,"SetDefaultPPMWPTypeDetID",e)}))}),[]),(0,a.useEffect)((()=>{re.editData.length>0?(he(re.editData[0],""),z(!0)):re.Add&&(Se(),we(1,null,"SetDefaultPPMWPTypeDetID",re.token[0]),z(!0))}),[re.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),Ee(Object.assign({},...t))}(ue)}),[ue]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Se()},CreateEasyProps:(e=!0,t)=>{Pe(!0),t?(ke(t),z(e)):(Se(),z(e))}})));const he=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),q(t.IsDraft),"SetDefaultPPMWPTypeDetID"==l?ce(t.PPMWPTypeDetIDPK):(pe(e.primid?Number(e.primid):t.PPMWPTypeDetIDPK),se({type:"PrimaryId",payload:t.PPMWPTypeDetIDPK})),Q({type:"text",name:"PPMWPTypeCode",value:t.PPMWPTypeCode?t.PPMWPTypeCode:""}),Q({type:"number",name:"PPMCreationAssetID",number:t.PPMCreationAssetID?Number(t.PPMCreationAssetID):0}),Q({type:"text",name:"WorkOrder",value:t.WorkOrder}),Q({type:"number",name:"WPTypeID",number:t.WPTypeID?Number(t.WPTypeID):0}),Q({type:"text",name:"WPTypeCode",value:t.WPTypeCode}),t.IsDraft?A(!0):A(!("1"!=t.IsActive&&!t.IsActive))},Se=()=>{H([]),pe(0),ce(""),e.createEasy||ie.resetImg(),se({type:"PrimaryId",payload:""}),Q({type:"text",name:"PPMWPTypeCode",value:""}),Q({type:"text",name:"PPMCreationAssetID",value:null}),Q({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMWPTypeDetailsWorkOrderClear")&&document.getElementById("PPMWPTypeDetailsWorkOrderClear").click(),Q({type:"text",name:"WPTypeID",value:null}),Q({type:"text",name:"WPTypeCode",value:""}),document.getElementById("PPMWPTypeDetailsWPTypeCodeClear")&&document.getElementById("PPMWPTypeDetailsWPTypeCodeClear").click(),A(!0),_(""),De(!0)},Me=t=>{ie.loading(!0),ie.ConfirmAlert(null);const l=f.v.Api+"FP1467S2/",a={data:[{p1:"SetDefaultPPMWPTypeDetID"==t?"NORECORDS"!=de&&de?de:0:oe,p2:Le(J.PPMWPTypeCode),p3:!1,p4:"SetDefaultPPMWPTypeDetID"==t?"SetDefault":null,p5:e.parentId?e.parentId:0,p6:J.WPTypeID?J.WPTypeID:0,p7:T,p8:"SetDefaultPPMWPTypeDetID"==t,p9:localStorage.getItem("userid"),p10:y()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,E.Z)(0).then((t=>{(0,c.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,n=new Array,i=new Array;"200"===l.code?(a.map((e=>{e&&(n.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(ie.alert({open:!0,color:"warning",message:i}),ie.loading(!1)):(t=>{De(!0),ie.loading(!0),ie.ConfirmAlert(null),se({type:"IsDraft",payload:!1});const l=f.v.Api+"FP1467S1/",a={data:[{p1:oe,p2:Le(J.PPMWPTypeCode),p3:!1,p4:null,p5:e.parentId?e.parentId:0,p6:J.WPTypeID?J.WPTypeID:0,p7:T,p8:!1,p9:localStorage.getItem("userid"),p10:y()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,E.Z)(0).then((t=>{(0,d.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(ie.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttPPMWPTypeDetails"),ie.loading(!1),e.createEasy||(ie.RefreshTable(),ie.attachmentSave(t[0].Data.IDPK),e.clrImgstate(!0)),Se(),re.AccessRights.IsApproval&&ie.Approval(!0),document.getElementById("overlayimgAttPPMWPTypeDetails")&&(document.getElementById("overlayimgAttPPMWPTypeDetails").style.width="0%",document.getElementById("overlayimgAttPPMWPTypeDetails").style.display="none",document.getElementById("divPPMWPTypeDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMWPTypeDetails-MainTable").style.display="block")):(ie.alert({open:!0,color:"warning",message:[l.message]}),ie.loading(!1)),z(!0),we(1,null,"SetDefaultPPMWPTypeDetID",re.token[0])}))}))})()):(ie.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ie.loading(!1))}))}))};function We(t,l,a,n){if(!(re.count>0))return ie.alert({open:!0,color:"warning",message:[fe("Please save atleast one record")]}),!1;if(!((()=>{const e={...J};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return ie.alert({open:!0,color:"warning",message:[fe("Please enter the primary fields")]}),!1;{De(!0),ie.loading(!0),ie.ConfirmAlert(null),se({type:"IsDraft",payload:!1});const l=f.v.Api+"FP1467S1/",a={data:[{p1:"SetDefaultPPMWPTypeDetID"==n?"NORECORDS"!=de&&de?de:0:oe,p2:Le(J.PPMWPTypeCode),p3:!0,p4:"SetDefaultPPMWPTypeDetID"==n?"SetDefault":null,p5:J.PPMCreationAssetID?J.PPMCreationAssetID:0,p6:J.WPTypeID?J.WPTypeID:0,p7:!1,p8:"SetDefaultPPMWPTypeDetID"==n,p9:localStorage.getItem("userid"),p10:y()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,E.Z)(0).then((n=>{(0,d.Z)(l,a,n).then((l=>{const a=l[0].status;200==a.code?(t?ie.alert({open:!0,color:"warning",message:[fe("Deleted Successfully")]}):ie.alert({open:!0,color:"success",message:[fe("Saved to Draft")]}),ie.loading(!1),ie.attachmentSave(l[0].Data.IDPK),Se(),ie.RefreshTable(),e.clrImgstate(!0)):(ie.alert({open:!0,color:"warning",message:[a.message]}),ie.loading(!1))}))}))}}function Ne(e){return CreateEasy(e,re,se,ie,me),!1}function Fe(e,l){return AdvanceSearch(e,l,M.PPMWPTypeDetailsContext,(0,M.ContextApi)(),Ae,t),!1}const we=(t,l,a,n,i,r)=>{const s=f.v.Api+"FP1467S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:"0"==J.PPMCreationAssetID?null:J.PPMCreationAssetID,p6:"0"==J.WPTypeID?null:J.WPTypeID,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:"0"==J.ContractID?null:J.ContractID,p15:l?"%"+l+"%":null,p16:l?"%"+l+"%":null,p17:"0"==J.LocalityID?null:J.LocalityID,p18:l?"%"+l+"%":null,p19:l?"%"+l+"%":null,p20:"0"==J.BuildingID?null:J.BuildingID,p21:l?"%"+l+"%":null,p22:l?"%"+l+"%":null,p23:"0"==J.FloorID?null:J.FloorID,p24:l?"%"+l+"%":null,p25:l?"%"+l+"%":null,p26:"0"==J.SpotID?null:J.SpotID,p27:l?"%"+l+"%":null,p28:l?"%"+l+"%":null,p29:"0"==J.DivisionID?null:J.DivisionID,p30:l?"%"+l+"%":null,p31:l?"%"+l+"%":null,p32:"0"==J.DisciplineID?null:J.DisciplineID,p33:l?"%"+l+"%":null,p34:l?"%"+l+"%":null,p35:"0"==J.FrequencyID?null:J.FrequencyID,p36:l?"%"+l+"%":null,p37:l?"%"+l+"%":null,p38:"0"==J.AssetID?null:J.AssetID,p39:l?"%"+l+"%":null,p40:l?"%"+l+"%":null,p41:l?"%"+l+"%":null,p42:l?"%"+l+"%":null,p43:"0"==J.EmployeeID?null:J.EmployeeID,p44:l?"%"+l+"%":null,p45:l?"%"+l+"%":null,p46:l?"%"+l+"%":null,p47:l?"%"+l+"%":null,p48:"0"==J.PPMBusinessFlowID?null:J.PPMBusinessFlowID,p49:l?"%"+l+"%":null,p50:l?"%"+l+"%":null,p51:l?"%"+l+"%":null,p52:"0"==J.PPMFixonBusinessFlowID?null:J.PPMFixonBusinessFlowID,p53:l?"%"+l+"%":null,p54:l?"%"+l+"%":null,p55:"0"==J.PPMStageID?null:J.PPMStageID,p56:l?"%"+l+"%":null,p57:l?"%"+l+"%":null,p58:l?"%"+l+"%":null,p59:J.WoDateTime?J.WoDateTime:null,p60:null,p61:null,p62:l?"%"+l+"%":null,p63:l?"%"+l+"%":null,p64:t,p65:10,p66:a,p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}},p=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(o.data).length-8?o.data[t]:null,e)),{});ee(!0);const d={data:p};return(0,c.Z)(s,"ClearAll"==a?d:o,"SetDefaultPPMWPTypeDetID"==a&&n?n:re.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;if(i)return 1==n.length?n[0]:{};le(1==t?e>0?n:[]:te.concat(n)),"SetDefaultPPMWPTypeDetID"==a&&(e>0?he(n[0],"SetDefaultPPMWPTypeDetID"):ce("NORECORDS")),ee(!1)}else ie.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ee(!1)}))},be=(t,l,a)=>{const n=f.v.Api+"FP1467S3/",i={data:{p1:null,p2:"PPMWPTypeCode"==a&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:t,p65:10,p66:"PPMWPTypeDetID",p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}},r={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};ee(!0),(0,c.Z)(n,"ClearAll"==a?r:i,re.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;1==t?("PPMWPTypeCode"==a&&De(e>0),le(n)):("PPMWPTypeCode"==a&&De(!0),le(te.concat(n))),ee(!1)}else ie.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ee(!1)}))},Ae=(0,a.useCallback)((async(e,t,l)=>{"text"==l?Q({type:l,name:t,value:e}):"number"==l?Q({type:l,name:t,number:Number(e)}):"boolean"==l?Q({type:l,name:t,boolean:e}):"date"==l?Q({type:"text",name:t,value:e}):"select"==l&&("PPMCreationAssetID"==t?(Q({type:"text",name:"PPMCreationAssetID",value:e.PPMCreationAssetIDPK?e.PPMCreationAssetIDPK:null}),Q({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:null})):"WPTypeID"==t&&(Q({type:"text",name:"WPTypeID",value:e.WPTypeIDPK?e.WPTypeIDPK:null}),Q({type:"text",name:"WPTypeCode",value:e.WPTypeCode?e.WPTypeCode:null})))}),[J]);function xe(e){if("PPMCreationAssetID"==e){if(!J.PPMCreationAssetID)return!1;Q({type:"text",name:"PPMCreationAssetID",value:null}),Q({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMWPTypeDetailsWorkOrderClear")&&document.getElementById("PPMWPTypeDetailsWorkOrderClear").click()}else if("WPTypeID"==e){if(!J.WPTypeID)return!1;Q({type:"text",name:"WPTypeID",value:null}),Q({type:"text",name:"WPTypeCode",value:""}),document.getElementById("PPMWPTypeDetailsWPTypeCodeClear")&&document.getElementById("PPMWPTypeDetailsWPTypeCodeClear").click()}}function Be(e){if("PPMCreationAssetID"==e){if(!J.PPMCreationAssetID)return!1;Q({type:"text",name:"PPMCreationAssetID",value:null})}else if("WPTypeID"==e){if(!J.WPTypeID)return!1;Q({type:"text",name:"WPTypeID",value:null})}}function ke(e){ie.ConfirmAlert(null),q(e.IsDraft),pe(Number(e.PPMWPTypeDetIDPK)?Number(e.PPMWPTypeDetIDPK):0),Q({type:"text",name:"PPMWPTypeCode",value:e.PPMWPTypeCode?e.PPMWPTypeCode:""}),Q({type:"number",name:"PPMCreationAssetID",number:e.PPMCreationAssetID?Number(e.PPMCreationAssetID):0}),Q({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:""}),Q({type:"number",name:"WPTypeID",number:e.WPTypeID?Number(e.WPTypeID):0}),Q({type:"text",name:"WPTypeCode",value:e.WPTypeCode?e.WPTypeCode:""})}const Le=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(r.Z,{expanded:R,onChange:e=>{}},n().createElement(o.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},R&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.39-11:00:03-25-5[1467]"}," ",fe("Add "),ve("1467")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},re.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(N.Z,{row:!0},n().createElement(p.Z,{labelPlacement:"bottom",id:"fld1467L1ECEntryCheckbox",control:n().createElement(F.Z,{checked:"1"==T,onChange:e=>A(e.target.checked)}),label:fe(1==T?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{ie.AttachExpand(!0)},id:"fld1467L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(w.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,fe("Attach")))),!oe&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Se()},id:"fld1467L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(w.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,fe("Reset")))),"1"===K&&oe&&n().createElement(u.Z,{frmctrlid:"fld1467L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{We("draftdel")}}),oe&&"1"!==K||e.createEasy?null:re.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{We()},frmctrlid:"fld1467L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(b.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,fe("Draft")))),re.AccessRights.IsAdd||re.AccessRights.IsEdit?n().createElement(I.Z,{frmctrlid:"fld1467L1ECSaveBtnIsAdd",name:fe(oe?"Update":"Save"),disabled:!1,onClick:()=>{(t=>{if(!J.WPTypeID||0==J.WPTypeID)return ie.alert({open:!0,color:"warning",message:[fe("Please select the ")+" "+ve("WPTypeID")]}),!1;O.log("parentId",e.parentId),ie.ConfirmAlert(n().createElement(C(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:fe("Are you sure?"),onConfirm:()=>Me(),onCancel:()=>ie.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:fe("Yes"),cancelBtnText:fe("Cancel"),showCancel:!0},fe(oe?"Do you want to Update?":"Do you want to Save?")))})()}}):null,!e.createEasy&&n().createElement(m.Z,{frmctrlid:"fld1467L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Se(),z(!1),ie.EditClose(!0),ie.hideAddBtn(!1),se({type:"Add",payload:!1})}}))))),n().createElement(s.Z,null,n().createElement("div",{id:"PPMWPTypeDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMWPTypeDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMWPTypeDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(B.Z,null,n().createElement(L.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(D.Z,null,n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(k.Z,{style:{padding:"5px 20px 15px"}},n().createElement(D.Z,{spacing:2},n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(v.Z,{"data-testid":J.PPMWPTypeCode,json:S,SPName:"PPMWPTypeDetails",FieldName:"PPMWPTypeCode",tfLabel:ve("PPMWPTypeCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{ie.ConfirmAlert(n().createElement(C(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ke(e),onCancel:()=>ie.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:fe("Yes"),cancelBtnText:fe("No"),showCancel:!0},fe("Do you want to update this record?")))})(t),onClick:()=>{ye&&be(1,"","ClearAll"),De(!0)},frmctrlid:"fld1467_38248",frmctrlidName:"PPMWPTypeCode",fieldorder:"0",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,onChange:(e,t)=>{ye&&be(e,t,"PPMWPTypeCode"),Ae(t,"PPMWPTypeCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:ye,SideEntryView:!1,KeyBack:e=>{},value:J.PPMWPTypeCode,loading:X,clear:e=>{e&&(Q({type:"text",name:"PPMWPTypeCode",value:""}),De(!0))}})),n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(v.Z,{json:S,id:J.PPMCreationAssetID,"data-testid":J.PPMCreationAssetID,value:J.WorkOrder,SPName:"PPMWPTypeDetails",FieldName:"PPMCreationAssetID",tfLabel:ve("PPMCreationAssetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ae(e,"PPMCreationAssetID","select"),onChange:(e,t)=>{we(e,t,"PPMCreationAssetIDPK")},KeyBack:e=>{Be("PPMCreationAssetID")},fieldorder:"0",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,openSlide:()=>{Ne("1390")},Tabledialog:()=>Fe("1390","PPMCreationAssetID"),loading:X,clear:e=>{e&&xe("PPMCreationAssetID")}}))))),n().createElement(B.Z,null,n().createElement(L.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(D.Z,null,n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(k.Z,{style:{padding:"5px 20px 15px"}},n().createElement(D.Z,{spacing:2},n().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(v.Z,{json:S,id:J.WPTypeID,"data-testid":J.WPTypeID,value:J.WPTypeCode,SPName:"PPMWPTypeDetails",FieldName:"WPTypeID",tfLabel:ve("WPTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ae(e,"WPTypeID","select"),onChange:(e,t)=>{we(e,t,"WPTypeIDPK")},KeyBack:e=>{Be("WPTypeID")},fieldorder:"1",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,openSlide:()=>{Ne("1466")},Tabledialog:()=>Fe("1466","WPTypeID"),loading:X,clear:e=>{e&&xe("WPTypeID")}})))))),n().createElement("div",{id:"PPMWPTypeDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMWPTypeDetailsSideBar").style.width="0",void U(!1))},"×"),V&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},j))))))))}))},79677:(e,t,l)=>{l.r(t),l.d(t,{ContextApi:()=>y,PPMWPTypeDetailsContext:()=>P,UserGridViewData:()=>D,default:()=>g});var a=l(92950),n=l.n(a),i=l(79423),r=l(52189),s=l(252),o=l(67698),p=l(55995),d=l(26537),c=l(45237),m=l(45965),u=l(41722);l(51673),l(40900),l(9175);const P=(0,a.createContext)(),y=()=>{const e=(0,a.useContext)(P);if(void 0===e)throw new Error("useCont must be used within  PPMWPTypeDetailsContext Provider");return e},D=[],g=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),D=(0,a.useRef)(),g=(0,a.useRef)(),I=(0,a.useRef)(),T=(0,a.useRef)(),[C,E]=(0,a.useState)(!0),[f,v]=(0,a.useState)(),h=((0,c.useSelector)((e=>e.form)),(0,c.useDispatch)()),[S,M]=(0,a.useState)(0),[W,N]=(0,a.useReducer)(u.D,u.E),[F,w]=(0,a.useState)(""),[b,A]=(0,a.useState)([]),[x,B]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||D.current.clear(),document.getElementById("divPPMWPTypeDetails-Entry").style.width="100%",document.getElementById("PPMWPTypeDetails-MainTable").style.width="100%",document.getElementById("PPMWPTypeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMWPTypeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{E(!0),document.getElementById("divPPMWPTypeDetails-Entry").style.width="100%",document.getElementById("PPMWPTypeDetails-MainTable").style.width="100%",document.getElementById("PPMWPTypeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMWPTypeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(N({type:"editData",payload:[e.editData]}),N({type:"ShowDetail",payload:!0}))}),[e.editData]);const k=e=>{document.getElementById("divPPMWPTypeDetails-Entry").style.width="100%",document.getElementById("PPMWPTypeDetailsEntryTable").style.width="100%",document.getElementById("PPMWPTypeDetails-MainEntry").style.width="100%",document.getElementById("PPMWPTypeDetails-MainEntry").style.display="block",document.getElementById("PPMWPTypeDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMWPTypeDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMWPTypeDetails").style.width="0%",document.getElementById("overlayimgAttPPMWPTypeDetails").style.display="none"};(0,a.useEffect)((()=>{h((e=>{(0,d.Z)(1).then((e=>{var t=new Array;t.push(e),N({type:"token",payload:t}),M(t.length),L(e)}))}))}),[]);const L=e=>{(0,m.Z)(e,1467).then((e=>N({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(P.Provider,{value:{cstate:W,cdispatch:N,ContextApi:y,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh()},searchItem:e=>{0!==S&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{T.current.tempsave(e,b),A([])},EditClose:e=>k(),AttachExpand:e=>(I.current.AttachmentData(W.PrimaryId),void(C&&(document.getElementById("overlayimgAttPPMWPTypeDetails").style.width="25%",document.getElementById("overlayPreviewPPMWPTypeDetails").style.width="50%",document.getElementById("divPPMWPTypeDetails-Entry").style.width="100%",document.getElementById("PPMWPTypeDetails-MainTable").style.width="100%",document.getElementById("PPMWPTypeDetails-MainEntry").style.width="100%",document.getElementById("PPMWPTypeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMWPTypeDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMWPTypeDetails").style.display="block",document.getElementById("overlayimgAttPPMWPTypeDetails").style.width="25%"))),Expanded:e=>{W.ShowDetail&&g.current.tableClick(e),N({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{W.ShowDetail&&g.current.viewtoggle()},clear:e=>{N({type:"ShowDetail",payload:!1}),N({type:"editData",payload:[]}),W.ShowDetail?g.current.clear(e):D.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{W.ShowDetail?g.current.tableClick(!1):D.current.CreateEasyProps(!1)},resetImg:()=>{T.current.tempClear(),I.current.clrImgstate(!0)}}},n().createElement("div",{id:"PPMWPTypeDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"PPMWPTypeDetails-MainEntry",className:"Maincontent",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"PPMWPTypeDetailsEntryTable",style:{width:"100%"}},W.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMWPTypeDetails-Entry",style:{width:"100%"}},0!==S?n().createElement(r.default,{ref:g,parentId:e.parentId}):null)),n().createElement(p.Z,{ref:T,menurefID:1467,fileId:"LogoImgPPMWPTypeDetails",imgloading:t=>{t||W.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:W.PrimaryId,AttachmentVal:e=>I.current.AttachmentData(e),previd:"overlayPreviewPPMWPTypeDetails",frmctrlid:"PvwIm_1467_L1_",tempImg:e=>{W.PrimaryId?I.current.AttachmentData(W.PrimaryId):I.current.tempImg(e),A(e)},clearTempData:W.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMWPTypeDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(s.default,{ref:D,parentId:e.parentId,clrImgstate:e=>I.current.clrImgstate(e)}))),n().createElement(p.Z,{ref:T,menurefID:1467,fileId:"LogoImgPPMWPTypeDetails",imgloading:t=>{t||W.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:W.PrimaryId,AttachmentVal:e=>I.current.AttachmentData(e),previd:"overlayPreviewPPMWPTypeDetails",frmctrlid:"PvwIm_1467_L1_",tempImg:e=>{W.PrimaryId?I.current.AttachmentData(W.PrimaryId):I.current.tempImg(e),A(e)},clearTempData:W.Add})),n().createElement("div",{id:"PPMWPTypeDetails-MainTable"},0!==S?n().createElement(i.default,{ref:l,parentId:e.parentId}):null)),n().createElement(o.Z,{ImgAttachment:e=>k(),menurefID:1467,fileId:"AttImgPPMWPTypeDetails",imgid:"overlayimgAttPPMWPTypeDetails",valueIDPK:W.PrimaryId,PriviewData:(e,t,l,a)=>{T.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewPPMWPTypeDetails",ref:I,imgloading:f,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1467_L1_",timglist:e=>T.current.timglist(e),clearTempData:W.Add}))),n().createElement("div",{id:"PPMWPTypeDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},79423:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z}),l(95866);var a=l(92950),n=l.n(a),i=l(45237),r=l(36939),s=l(61201),o=l(59009),p=l(51673),d=l(7695),c=l(54180),m=l(43031),u=l(110),P=l(5109),y=l(868),D=l(40900),g=l(88995),I=l(50743),T=l(80366),C=l(24038),E=l(61657),f=l(51209),v=l(86893),h=l(53854),S=l(51649),M=l(37106),W=l(5434),N=l(83817),F=l(47516),w=l(39327),b=l(3212),A=l(93521),x=l(71168),B=l.n(x),k=l(65107),L=l(79677),O=l(94986),Z=l(15999),R=l(8981);l(11557),window.clickFilter="";const z=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),x=(0,a.useRef)(null),[z]=((0,a.useRef)(null),(0,i.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[K]=(0,a.useState)("1467"),[q,G]=(0,a.useState)(!1),[_,V]=(0,a.useState)(!1),[U,Y]=(0,a.useState)(0),[H,j]=(0,a.useState)(0),[$,J]=(0,a.useState)(0),[Q,X]=(0,a.useState)(0),[ee,te]=(0,a.useState)({current:1,pageSize:100}),[le,ae]=(0,a.useState)(""),[ne,ie]=(0,a.useState)([]),[re,se]=(0,a.useState)({val:"",column:""}),[oe,pe]=(0,a.useState)([]),[de,ce]=(0,a.useState)(!1),[me,ue]=(0,a.useState)(""),[Pe,ye]=(0,a.useState)(""),[De,ge]=(0,a.useState)(!1),[Ie,Te]=(0,a.useState)([]),[Ce,Ee]=(0,a.useState)([]),[fe,ve]=(0,a.useState)([]),[he,Se]=(0,a.useState)({children:[{name:"PPMWPTypeDetails",children:[]}]}),[Me,We]=(0,a.useState)(!1),Ne=(0,a.useContext)(e.context?e.context:L.PPMWPTypeDetailsContext),{cstate:Fe,cdispatch:we}=e.ContextApi?e.ContextApi:(0,L.ContextApi)();let be={PPMWPTypeDetIDPK:"",PPMWPTypeCode:"",IsDraft:"",Remarks:"",PPMCreationAssetID:"",WPTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",WPTypeCode:"",WPTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,xe]=(0,a.useState)(be),[Be,ke]=(0,a.useState)(be),[Le,Oe]=(0,a.useState)(!1),[Ze,Re]=(0,a.useState)(!0),[ze,Ke]=(0,a.useState)(!1),[qe,Ge]=(0,a.useState)(!0),[_e,Ve]=(0,a.useState)({PPMWPTypeCode:"",WorkOrder:"",WPTypeCode:""}),[Ue,Ye]=(0,a.useState)(!1),[He,je]=(0,a.useState)([]),[$e,Je]=(0,a.useState)(0),[Qe,Xe]=(0,a.useState)(0),[et,tt]=(0,a.useState)({current:1,pageSize:10}),[lt,at]=(0,a.useState)([]),[nt,it]=(0,a.useState)([]),[rt,st]=(0,a.useState)(!1),[ot,pt]=(0,a.useState)(!1),[dt,ct]=(0,a.useState)(!1),[mt,ut]=(0,a.useState)(""),[Pt,yt]=B()("1467"),[Dt,gt]=(0,a.useState)({}),It=[{columns:lt,data:le}];let Tt=(0,R.Z)();const Ct=e=>Tt[e]?Tt[e]:e,Et=e=>Fe.language?.[e]?Fe.language[e]:e;(0,a.useEffect)((()=>{Nt(Pt)}),[Pt]),(0,a.useEffect)((()=>{Fe.token.length>0&&Mt(ee,be,"PPMWPTypeDetID")}),[]),(0,a.useEffect)((()=>{!Me&&me?(xe(me),Mt(ee,me,"PPMWPTypeDetID")):Me&&ke(me)}),[me]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{ft(e)},tableRefresh:()=>{Mt(ee,be,"PPMWPTypeDetID")},DialogTableProps:e=>{V(e)},HideEntryFields:e=>{ct(e)}})));const ft=e=>{""==e?Mt(ee,be,Le?"DraftPPMWPTypeDetID":"PPMWPTypeDetID",Le&&"DraftPage"):Wt(e,{current:1,pageSize:100}),ye(e)};function vt(e){Ne.loading(!0);let t=D.v.Api+"FP1467S7/",l={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(t,l,Fe.token[0]).then((t=>{if(200==t.Output.status.code){let l=0;t.Output.data.length>0?(l=parseFloat(t.Output.data[0].TotalCount,10)/10,Xe(t.Output.data[0].TotalCount)):l=0,10==e.pageSize?Je(Math.ceil(l)):20==e.pageSize?Je(Math.ceil(l/2)):50==e.pageSize?Je(Math.ceil(l/5)):100==e.pageSize&&Je(Math.ceil(l/10)),je(t.Output.data),Ne.loading(!1)}}))}function ht(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),ze&&ge(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(V(e.Dialogview),ct(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&Wt(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]);const St=()=>{Ne.EditClose(!0),de?(document.getElementById("PPMWPTypeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMWPTypeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMWPTypeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ce(!1),qe?(_||(document.getElementById("PPMWPTypeDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMWPTypeDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMWPTypeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMWPTypeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMWPTypeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMWPTypeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMWPTypeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMWPTypeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMWPTypeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ce(!0),document.getElementById("PPMWPTypeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMWPTypeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!de},Mt=(t,l,a,n,i,r)=>{Ne.loading(!0),"DraftPage"!==n&&Oe(Fe.IsDraft);let s=D.v.Api+"FP1467S3/",o={data:{p1:i||(l&&l.PPMWPTypeDetIDPK?l.PPMWPTypeDetIDPK:null),p2:l&&l.PPMWPTypeCode?l.PPMWPTypeCode:null,p3:"DraftPPMWPTypeDetID"==a?"1":"0",p4:null,p5:l&&l.PPMCreationAssetID?l.PPMCreationAssetID:null,p6:l&&l.WPTypeID?l.WPTypeID:null,p7:l&&l.IsActive,p8:null,p9:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p10:l&&l.CreatedTtm?l.CreatedTtm:null,p11:l&&l.CreatedTtmType?l.CreatedTtmType:null,p12:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p13:null,p14:l&&l.ContractID?l.ContractID:null,p15:l&&l.ContractCode?l.ContractCode:null,p16:l&&l.ContractName?l.ContractName:null,p17:l&&l.LocalityID?l.LocalityID:null,p18:l&&l.LocalityCode?l.LocalityCode:null,p19:l&&l.LocalityName?l.LocalityName:null,p20:l&&l.BuildingID?l.BuildingID:null,p21:l&&l.BuildingCode?l.BuildingCode:null,p22:l&&l.BuildingName?l.BuildingName:null,p23:l&&l.FloorID?l.FloorID:null,p24:l&&l.FloorCode?l.FloorCode:null,p25:l&&l.FloorName?l.FloorName:null,p26:l&&l.SpotID?l.SpotID:null,p27:l&&l.SpotCode?l.SpotCode:null,p28:l&&l.SpotName?l.SpotName:null,p29:l&&l.DivisionID?l.DivisionID:null,p30:l&&l.DivisionCode?l.DivisionCode:null,p31:l&&l.DivisionName?l.DivisionName:null,p32:l&&l.DisciplineID?l.DisciplineID:null,p33:l&&l.DisciplineCode?l.DisciplineCode:null,p34:l&&l.DisciplineName?l.DisciplineName:null,p35:l&&l.FrequencyID?l.FrequencyID:null,p36:l&&l.FrequencyCode?l.FrequencyCode:null,p37:l&&l.FrequencyName?l.FrequencyName:null,p38:l&&l.AssetID?l.AssetID:null,p39:l&&l.EquipmentName?l.EquipmentName:null,p40:l&&l.EquipmentRefNo?l.EquipmentRefNo:null,p41:l&&l.AssetBarcode?l.AssetBarcode:null,p42:l&&l.AssetTagNo?l.AssetTagNo:null,p43:l&&l.EmployeeID?l.EmployeeID:null,p44:l&&l.EmployeeCode?l.EmployeeCode:null,p45:l&&l.FirstName?l.FirstName:null,p46:l&&l.EmpContactNo1?l.EmpContactNo1:null,p47:l&&l.EmpEmailOfficial?l.EmpEmailOfficial:null,p48:l&&l.PPMBusinessFlowID?l.PPMBusinessFlowID:null,p49:l&&l.BriefDetails?l.BriefDetails:null,p50:l&&l.FlowCode?l.FlowCode:null,p51:l&&l.FlowDisplayName?l.FlowDisplayName:null,p52:l&&l.PPMFixonBusinessFlowID?l.PPMFixonBusinessFlowID:null,p53:l&&l.FixonBusinessFlowName?l.FixonBusinessFlowName:null,p54:l&&l.PPMFixonBusinessFlowCode?l.PPMFixonBusinessFlowCode:null,p55:l&&l.PPMStageID?l.PPMStageID:null,p56:l&&l.PPMStageName?l.PPMStageName:null,p57:l&&l.StageSeqNo?l.StageSeqNo:null,p58:l&&l.WorkOrder?l.WorkOrder:null,p59:l&&l.WoDateTime?l.WoDateTime:null,p60:l&&l.WoDateTimeType?l.WoDateTimeType:null,p61:l&&l.WoDateTimeBetween?l.WoDateTimeBetween:null,p62:l&&l.WPTypeCode?l.WPTypeCode:null,p63:l&&l.WPTypeName?l.WPTypeName:null,p64:i?1:t.current,p65:t.pageSize,p66:a,p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}};(0,p.Z)(s,o,Fe.token[0]).then((s=>{if(i)(0,N.a)(s,we,n,r,Ne);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,J(s.Output.data[0].TotalCount),X(s.Output.data[0].DraftCnt),we({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==n&&X(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?j(Math.ceil(e)):20==t.pageSize?j(Math.ceil(e/2)):50==t.pageSize?j(Math.ceil(e/5)):100==t.pageSize&&j(Math.ceil(e/10)),pe(s.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divPPMWPTypeDetails-Entry").style.height="auto",document.getElementById("divPPMWPTypeDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftPPMWPTypeDetID"===a?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Oe(!1)):(pe([]),te({current:1,pageSize:10}),j(0),J(0),we({type:"count",payload:"0"}),we({type:"ExpandDetailValue",payload:!0}),Object.values(l).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[s.Output.status.message]}),Ne.loading(!1)}))};function Wt(e,t){Ne.loading(!0);const l=D.v.Api+"FP1467S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:Le?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,a,Fe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?j(Math.ceil(l)):20==t.pageSize?j(Math.ceil(l/2)):50==t.pageSize?j(Math.ceil(l/5)):100==t.pageSize&&j(Math.ceil(l/10)),pe(e.Output.data),Ne.loading(!1)}else pe([]),j(0),J(0),we({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function Nt(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),we({type:"language",payload:Object.assign({},...n)}),Ve(l.reduce(((e,t)=>(e[t]="",e)),{})),Te(e),Ee(t),ve(l),at(a),it(l)}const Ft=()=>Me?null:n().createElement("div",null,Ue?n().createElement(O.Z,{data:He,expanded:e=>!_&&Ne.Expanded(e),edit:(e,t,l)=>{_?Ne.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:l}))}}):n().createElement(k.Z,{ref:x,frmctrlid:"tblcs_1467_L1_",id:"PPMWPTypeDetailsTable",headerdata:Ce,tablesearchparams:_e,searchvalue:e=>{Ve(e),ue(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};gt(t),te({current:1,pageSize:10}),Mt({current:1,pageSize:10},t,Le?"DraftPPMWPTypeDetID":"PPMWPTypeDetID",Le&&"DraftPage")},bodydata:oe,ondrag:ht,bodyitem:fe,visibleitem:Ce,isdraft:Le,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:K,showMore:!1,accessrights:Fe.AccessRights,expanded:e=>!_&&Ne.Expanded(e),edit:(e,t,l)=>{_?Ne.select(e):(Object.keys(e).map(((a,n)=>{a.includes("IDPK")&&Mt(ee,null,t?"DraftPPMWPTypeDetID":"PPMWPTypeDetID",t&&"DraftPage",e[a],l)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!_||ze,tf:Et,action:_?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{Ke(Fe.ExpandTableValue)}),[Fe.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld1467L1ECSearchBar",className:"searchbar1"},n().createElement(C.Z,{frmctrlid:"fld1467L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Ct("Search"),value:Pe,onChange:e=>{ye(e),Ne.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},Pe?n().createElement("div",{id:"fld1467L1TCCloseIconCommonSearch",onClick:()=>{ye(""),Ne.searchItem("")}},n().createElement(T.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1467L1TCInputSearchIcon"},n().createElement(g.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMWPTypeDetailsgridsearch").focus()}})))),n().createElement("div",null,Fe.AccessRights.IsAdd?n().createElement(b.Z,{className:"SaveBtnCommon",frmctrlid:"fld1467L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})}}):"")),n().createElement(r.Z,{expanded:Ze,onChange:()=>()=>{Re(ze)}},e.Dialogview&&n().createElement(I.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.39-11:00:03-25-5[1467]"},`${Et("1467")} (${$})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld1467L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(C.Z,{frmctrlid:"fld1467L1TCInputSearch",className:"search_input",type:"text",placeholder:Ct("Search"),value:Pe,onChange:e=>{ft(e)}}),n().createElement("div",{className:"search_icon"},Pe?n().createElement("div",{id:"fld1467L1TCInputCloseIcon",onClick:()=>{ft("")}},n().createElement(T.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1467L1TCInputSearchIcon"},n().createElement(g.Z,{className:"InputSearchIcon"}))))))),n().createElement(s.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"PPMWPTypeDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&n().createElement("div",{frmctrlid:"fld1467L1TCFilterDataIsDraft",id:"PPMWPTypeDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{St()}},n().createElement(y.ZP,{title:Ct("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(F.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Ct("Filter Data"))),!_&&!Le&&!Me&&n().createElement(c.Z,{formctrlidprint:"fld1467L1TCExportPrint",formctrlidexport:"fld1467L1TCExportTable",formctrlidrefresh:"fld1467L1TCExportRefresh",title:Et("PPMWPTypeDetails"),data:ne,exportData:It,Items:nt,columnIndex:lt,TableVisibleItem:Ce,userGridViewFormID:K,TableTotalCount:$,triggerApi:e=>{((e,t,a,n,i)=>{if(0===$)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let r=D.v.Api+"FP1467S3/",s={data:{p1:e&&e.PPMWPTypeDetIDPK?e.PPMWPTypeDetIDPK:null,p2:e&&e.PPMWPTypeCode?e.PPMWPTypeCode:null,p3:Le?"1":"0",p4:null,p5:e&&e.PPMCreationAssetID?e.PPMCreationAssetID:null,p6:e&&e.WPTypeID?e.WPTypeID:null,p7:e&&e.IsActive,p8:null,p9:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p10:e&&e.CreatedTtm?e.CreatedTtm:null,p11:e&&e.CreatedTtmType?e.CreatedTtmType:null,p12:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p13:null,p14:e&&e.ContractID?e.ContractID:null,p15:e&&e.ContractCode?e.ContractCode:null,p16:e&&e.ContractName?e.ContractName:null,p17:e&&e.LocalityID?e.LocalityID:null,p18:e&&e.LocalityCode?e.LocalityCode:null,p19:e&&e.LocalityName?e.LocalityName:null,p20:e&&e.BuildingID?e.BuildingID:null,p21:e&&e.BuildingCode?e.BuildingCode:null,p22:e&&e.BuildingName?e.BuildingName:null,p23:e&&e.FloorID?e.FloorID:null,p24:e&&e.FloorCode?e.FloorCode:null,p25:e&&e.FloorName?e.FloorName:null,p26:e&&e.SpotID?e.SpotID:null,p27:e&&e.SpotCode?e.SpotCode:null,p28:e&&e.SpotName?e.SpotName:null,p29:e&&e.DivisionID?e.DivisionID:null,p30:e&&e.DivisionCode?e.DivisionCode:null,p31:e&&e.DivisionName?e.DivisionName:null,p32:e&&e.DisciplineID?e.DisciplineID:null,p33:e&&e.DisciplineCode?e.DisciplineCode:null,p34:e&&e.DisciplineName?e.DisciplineName:null,p35:e&&e.FrequencyID?e.FrequencyID:null,p36:e&&e.FrequencyCode?e.FrequencyCode:null,p37:e&&e.FrequencyName?e.FrequencyName:null,p38:e&&e.AssetID?e.AssetID:null,p39:e&&e.EquipmentName?e.EquipmentName:null,p40:e&&e.EquipmentRefNo?e.EquipmentRefNo:null,p41:e&&e.AssetBarcode?e.AssetBarcode:null,p42:e&&e.AssetTagNo?e.AssetTagNo:null,p43:e&&e.EmployeeID?e.EmployeeID:null,p44:e&&e.EmployeeCode?e.EmployeeCode:null,p45:e&&e.FirstName?e.FirstName:null,p46:e&&e.EmpContactNo1?e.EmpContactNo1:null,p47:e&&e.EmpEmailOfficial?e.EmpEmailOfficial:null,p48:e&&e.PPMBusinessFlowID?e.PPMBusinessFlowID:null,p49:e&&e.BriefDetails?e.BriefDetails:null,p50:e&&e.FlowCode?e.FlowCode:null,p51:e&&e.FlowDisplayName?e.FlowDisplayName:null,p52:e&&e.PPMFixonBusinessFlowID?e.PPMFixonBusinessFlowID:null,p53:e&&e.FixonBusinessFlowName?e.FixonBusinessFlowName:null,p54:e&&e.PPMFixonBusinessFlowCode?e.PPMFixonBusinessFlowCode:null,p55:e&&e.PPMStageID?e.PPMStageID:null,p56:e&&e.PPMStageName?e.PPMStageName:null,p57:e&&e.StageSeqNo?e.StageSeqNo:null,p58:e&&e.WorkOrder?e.WorkOrder:null,p59:e&&e.WoDateTime?e.WoDateTime:null,p60:e&&e.WoDateTimeType?e.WoDateTimeType:null,p61:e&&e.WoDateTimeBetween?e.WoDateTimeBetween:null,p62:e&&e.WPTypeCode?e.WPTypeCode:null,p63:e&&e.WPTypeName?e.WPTypeName:null,p64:ee.current,p65:$,p66:Le?"DraftPPMWPTypeDetID":"PPMWPTypeDetID",p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${Et(1467)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(r,s,Fe.token[0],i).then((e=>{(0,A.PDF_Excel_Generate)(e,Ne,nt,ae,l,i)}))})(me,re.column,0,0,e)},Refresh:()=>{ye(""),te({current:1,pageSize:100}),x.current.clearItem(),!Fe.ShowDetail&&Ne.clear(),Fe.IsDraft?Mt({current:1,pageSize:100},be,"DraftPPMWPTypeDetID"):Mt({current:1,pageSize:100},be,"PPMWPTypeDetID")},disabledPrint:!Fe.AccessRights.IsPrint,disabledExport:!Fe.AccessRights.IsExport,ref:l,iconinfo:"iconinfo"}),!Le&&!Me&&!_&&n().createElement("div",{className:"buttoncard",onClick:()=>pt(!ot)},n().createElement("span",null,ot?n().createElement(y.ZP,{disableFocusListener:!0,title:Ct("Less"),placement:"top"},n().createElement("span",{id:"fld1467L1TCLess"},n().createElement(h.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(y.ZP,{disableFocusListener:!0,title:Ct("More"),placement:"top"},n().createElement("span",{id:"fld1467L1TCMore"},n().createElement(h.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Me||!ze?null:_||!Fe.AccessRights.IsAdd||Le?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld1467L1TCFilterDataIsAdd",id:"PPMWPTypeDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),De?(document.getElementById("PPMWPTypeDetailsFilterDiv").style.width="0%",document.getElementById("PPMWPTypeDetailsTabDiv").style.width="100%",document.getElementById("PPMWPTypeDetailsFilterDiv").style.display="none",document.getElementById("PPMWPTypeDetailscoldiv").style.width="fit-content",document.getElementById("PPMWPTypeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("PPMWPTypeDetailsFilterDiv").style.width="25%",document.getElementById("PPMWPTypeDetailsTabDiv").style.width="75%",document.getElementById("PPMWPTypeDetailsFilterDiv").style.display="block",document.getElementById("PPMWPTypeDetailsfildiv").style.width="fit-content",document.getElementById("PPMWPTypeDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMWPTypeDetailscoldiv").style.width="fit-content",document.getElementById("PPMWPTypeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),ce(!1)}},n().createElement(y.ZP,{title:Ct("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(w.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Ct("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!_&&ze&&!Me&&!Le&&n().createElement("div",null,n().createElement("div",{id:"PPMWPTypeDetailscoldiv",className:"buttoncard",onClick:()=>{Ue?Ye(!1):(Ye(!0),vt({current:1,pageSize:100}))}},n().createElement(y.ZP,{title:Ct("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld1467L1TCTableScrollData"},n().createElement(Z.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Ct("Table Scroll Data")))),!Me&&Le?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Mt({current:1,pageSize:100},be,"PPMWPTypeDetID"),Oe(!1),ye(""),we({type:"IsDraft",payload:!1}),te({current:1,pageSize:10})}},n().createElement(y.ZP,{title:Ct("List"),placement:"top"},n().createElement("div",{id:"fld1467L1TCList"},n().createElement(S.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Ct("Drafts")," ",$)):!_&&!Me&&Fe.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(o.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},n().createElement("div",{id:"fld1467L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{Q>0?(te({current:1,pageSize:100}),Y(0),Ne.clear(),ye(""),we({type:"Add",payload:!1}),Mt({current:1,pageSize:10},be,"DraftPPMWPTypeDetID"),Oe(!0),we({type:"IsDraft",payload:!0}),ge(!1),Ge(!0),document.getElementById("PPMWPTypeDetailsFilterDiv").style.width="0%",document.getElementById("PPMWPTypeDetailsTabDiv").style.width="100%",document.getElementById("PPMWPTypeDetailsFilterDiv").style.display="none",te({current:1,pageSize:100}),We(!1)):Ne.alert({open:!0,color:"warning",message:[Ct("There is no Record Found")]})}},n().createElement(y.ZP,{title:Ct("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(M.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ct("Drafts"))))))):""),!Le&&!_&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Me||Le?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:qe?"buttonList":"buttonGrid",id:"fld1467L1TCListView",onClick:()=>{Ge(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(h.umT,null)),n().createElement("span",null,Ct("List"))),n().createElement("div",{className:qe||rt?"buttonGrid":"buttonList",id:"fld1467L1TCCardView",onClick:()=>{Ge(!1),st(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(v.aCJ,null)),n().createElement("span",null,Ct("Card"))),n().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld1467L1TCTileView",onClick:()=>{st(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(W.f_H,null)),n().createElement("span",null,Ct("Tile"))))))),Me?null:Ue?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(E.Z,{style:{color:"#777"},id:"fld1467L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:U,onPageChange:(e,t)=>{Y(t),vt({current:t+1,pageSize:et.pageSize}),tt({current:t+1,pageSize:et.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(m.Z,{count:$e,color:"primary",page:et.current,onChange:(e,t)=>{tt({current:t,pageSize:et.pageSize}),Je(t),vt({current:t,pageSize:et.pageSize})}}),n().createElement("div",null,n().createElement(u.Z,{className:"BootstrapInputStyle",value:et.pageSize,frmctrlid:"fld1467L1TCSelectPagination",onChange:e=>{tt({current:1,pageSize:e.target.value}),vt({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",Qe,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(E.Z,{style:{color:"#777"},id:"fld1467L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number($),page:U,onPageChange:(e,t)=>{Y(t),Mt({current:t+1,pageSize:ee.pageSize},be,Le?"DraftPPMWPTypeDetID":"PPMWPTypeDetID",Le&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(m.Z,{count:H,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),Le)Mt({current:t,pageSize:ee.pageSize},Ae,"DraftPPMWPTypeDetID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";Pe.length>0?Wt(Pe,{current:t,pageSize:ee.pageSize}):Mt({current:t,pageSize:ee.pageSize},Ae,"PPMWPTypeDetID")}}}),n().createElement("div",null,n().createElement(u.Z,{className:"BootstrapInputStyle",value:ee.pageSize,id:"fld1467L1TCSelectPaging",onChange:e=>{te({current:1,pageSize:e.target.value}),Le?Mt({current:1,pageSize:e.target.value},Ae,"DraftPPMWPTypeDetID","DraftPage"):Pe.length>0?Wt(Pe,{current:1,pageSize:e.target.value}):Mt({current:1,pageSize:e.target.value},Ae,"PPMWPTypeDetID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",$,") "))),n().createElement("div",{id:"PPMWPTypeDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMWPTypeDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&n().createElement(d.default,{parentId:e.parentId,searchData:e=>{ue(e||Dt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:K,data:()=>{},visibleData:()=>{},token:Fe.token[0],CloseBtnClk:()=>St(),userGrid:Pt,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]})}),De&&n().createElement(P.Z,{Refresh:e=>{Mt({current:1,pageSize:100},be,"PPMWPTypeDetID")},frmctrlid:"fld1467L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:De,userID:z,userGridViewFormID:K,saved:(e,t)=>{e&&Nt(t),yt(t),we({type:"showTableview",payload:t})},Token:Fe.token[0]})),n().createElement("div",{id:"PPMWPTypeDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},qe?n().createElement(Ft,null):n().createElement(f.Z,{frmctrlid:"fld1467L1TCExpandedCardDual",data:oe,id:"PPMWPTypeDetails",title:"PPMWPTypeCode",cardTile:!!rt,visibleitem:Ce,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{_?Ne.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),de?ce(!0):De?ge(!0):(ge(!1),ge(!1))),Ne.hideAddBtn(!0)}})))))))}))},7695:(e,t,l)=>{l.r(t),l.d(t,{default:()=>f}),l(95866),l(99058);var a=l(92950),n=l.n(a),i=l(80366),r=l(51673),s=l(282),o=l(868),p=l(78513),d=l(14439),c=l(27848),m=l(40900),u=l(64059),P=l(24038),y=l(8981),D=l(47516),g=l(86893),I=l(79677),T=l(33681),C=l(63163),E=l(25108);const f=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[f,v]=(0,a.useState)([]),[h,S]=(0,a.useState)({idpk:"",name:"",type:""}),[M,W]=(0,a.useState)(""),[N,F]=(0,a.useState)({}),[w,b]=(0,a.useState)(!0),[A,x]=(0,a.useState)(!1),{cstate:B,cdispatch:k}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[L,O]=(0,a.useState)(1),[Z,R]=(0,a.useState)(0),[z,K]=(0,a.useState)(!1),[q,G]=(0,a.useState)({}),[_,V]=(0,a.useState)([]),[U,Y]=(0,a.useState)(!0);let H=localStorage.getItem("Language");const j={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let $=(0,y.Z)();const J=e=>$[e]?$[e]:e,Q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[j[H]];function X(){F({}),G({}),e.searchData({}),x(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));V(t)}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{X()}})));const ee=async(t,l,a,n)=>{K(!0);let i=l.IsForeign?l.FieldName+"PK":"PPMWPTypeDetIDPK";try{let s="",o=[],p={};await S((e=>(s=e.name,e))),await F((e=>(o=e,e))),await G((e=>(p=e,e)));const d=m.v.Api+"FP1467S3/",c={data:{p1:l.IsForeign?await ae():null,p2:"PPMWPTypeCode"==s&&a.length>0?"%"+a+"%":null,p3:null,p4:null,p5:"WorkOrder"!=s&&o.WorkOrder?o.WorkOrder.map((e=>e.PPMCreationAssetIDPK)).toString():null,p6:"WPTypeCode"!=s&&o.WPTypeCode?o.WPTypeCode.map((e=>e.WPTypeIDPK)).toString():null,p7:e.Dialogview?"1":null,p8:null,p9:"p9"==s&&a.length>0?a:null,p10:null,p11:null,p12:null,p13:null,p14:"ContractName"!=s&&o.ContractName?o.ContractName.map((e=>e.ContractIDPK)).toString():null,p15:"ContractCode"==s&&a.length>0?"%"+a+"%":null,p16:"ContractName"==s&&a.length>0?"%"+a+"%":null,p17:"LocalityName"!=s&&o.LocalityName?o.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p18:"LocalityCode"==s&&a.length>0?"%"+a+"%":null,p19:"LocalityName"==s&&a.length>0?"%"+a+"%":null,p20:"BuildingName"!=s&&o.BuildingName?o.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p21:"BuildingCode"==s&&a.length>0?"%"+a+"%":null,p22:"BuildingName"==s&&a.length>0?"%"+a+"%":null,p23:"FloorName"!=s&&o.FloorName?o.FloorName.map((e=>e.FloorIDPK)).toString():null,p24:"FloorCode"==s&&a.length>0?"%"+a+"%":null,p25:"FloorName"==s&&a.length>0?"%"+a+"%":null,p26:"SpotName"!=s&&o.SpotName?o.SpotName.map((e=>e.SpotIDPK)).toString():null,p27:"SpotCode"==s&&a.length>0?"%"+a+"%":null,p28:"SpotName"==s&&a.length>0?"%"+a+"%":null,p29:"DivisionName"!=s&&o.DivisionName?o.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p30:"DivisionCode"==s&&a.length>0?"%"+a+"%":null,p31:"DivisionName"==s&&a.length>0?"%"+a+"%":null,p32:"DisciplineName"!=s&&o.DisciplineName?o.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p33:"DisciplineCode"==s&&a.length>0?"%"+a+"%":null,p34:"DisciplineName"==s&&a.length>0?"%"+a+"%":null,p35:"FrequencyName"!=s&&o.FrequencyName?o.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p36:"FrequencyCode"==s&&a.length>0?"%"+a+"%":null,p37:"FrequencyName"==s&&a.length>0?"%"+a+"%":null,p38:"EquipmentName"!=s&&o.EquipmentName?o.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p39:"EquipmentName"==s&&a.length>0?"%"+a+"%":null,p40:"EquipmentRefNo"==s&&a.length>0?"%"+a+"%":null,p41:"AssetBarcode"==s&&a.length>0?"%"+a+"%":null,p42:"AssetTagNo"==s&&a.length>0?"%"+a+"%":null,p43:"FirstName"!=s&&o.FirstName?o.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p44:"EmployeeCode"==s&&a.length>0?"%"+a+"%":null,p45:"FirstName"==s&&a.length>0?"%"+a+"%":null,p46:"EmpContactNo1"==s&&a.length>0?"%"+a+"%":null,p47:"EmpEmailOfficial"==s&&a.length>0?"%"+a+"%":null,p48:"FlowDisplayName"!=s&&o.FlowDisplayName?o.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p49:"BriefDetails"==s&&a.length>0?"%"+a+"%":null,p50:"FlowCode"==s&&a.length>0?"%"+a+"%":null,p51:"FlowDisplayName"==s&&a.length>0?"%"+a+"%":null,p52:"FixonBusinessFlowName"!=s&&o.FixonBusinessFlowName?o.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p53:"FixonBusinessFlowName"==s&&a.length>0?"%"+a+"%":null,p54:"PPMFixonBusinessFlowCode"==s&&a.length>0?"%"+a+"%":null,p55:"PPMStageName"!=s&&o.PPMStageName?o.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p56:"PPMStageName"==s&&a.length>0?"%"+a+"%":null,p57:"StageSeqNo"==s&&a.length>0?"%"+a+"%":null,p58:"WorkOrder"==s&&a.length>0?"%"+a+"%":null,p59:p.WoDateTime?p.WoDateTime.From:null,p60:p.WoDateTime?p.WoDateTime.Type:null,p61:p.WoDateTime?p.WoDateTime.To:null,p62:"WPTypeCode"==s&&a.length>0?"%"+a+"%":null,p63:"WPTypeName"==s&&a.length>0?"%"+a+"%":null,p64:n||1,p65:10,p66:t,p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}};await(0,r.Z)(d,c,e.token).then((t=>{const l=t.Output.status.code,a=t.Output.data;if("200"===l)if(a.length>0)if(1===n){let e=le(a,s),t=te(e,N[s],i);v(t),R(t.length>0?t[0].TotalCount:N[s].length)}else{let e=[...f,...a],t=le(e,s);R(t.length<10?t.length:a[0].TotalCount),v(le(t,s))}else M.length>0&&v([]),R(f.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{K(!1)}},te=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),le=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));async function ae(){let e={};await F((t=>(e=t,t)));let t=[..._],l=[];for(let a of t){let t=e[a]?.map((e=>e.PPMWPTypeDetIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function ne(t,l,a,n,i,r){let s={[n]:{From:t,Type:a,To:l}},o={};G((e=>({...e,...s})));const p={...N};let d=[..._],c=[];for(let e of d){let t=p[e]?.map((e=>e.PPMWPTypeDetIDPK)).toString();t&&c.push(t)}await G((e=>(o=e,e)));let m={PPMWPTypeDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==a?i:null,PPMCreationAssetID:N.WorkOrder?.map((e=>e.PPMCreationAssetIDPK)).toString(),WPTypeID:N.WPTypeCode?.map((e=>e.WPTypeIDPK)).toString()};e.searchData(m)}function ie(){return n().createElement(u.Z,{frmctrlid:"fld1467L1TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,n)=>{ne(e,t,l,h.name,a)},keyboardback:()=>{x(!1),S({idpk:"",name:"",type:""})},title:J(h.name),fieldname:h.name,save:e=>{alert(!0)}})}return n().createElement("div",null,A?"Created Ttm"===h.name||h.name.includes("Date")?n().createElement(ie,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(d.Z,null,n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Q(h.idpk)," (",f.length,"/",Z,")")),n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(o.ZP,{title:J("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(i.Z,{id:"fld1467L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{x(!1),S({idpk:"",name:"",type:""}),O(1)}}))),N[h.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(s.Z,{frmctrlid:"fld1467L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await F((t=>(e=t,E.log("clear fewItems",e),t))),e[h.name]=[],ee(h.type,h.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},J("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},w?n().createElement(o.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(g.D7o,{className:"FilterMaximizeIcon",onClick:()=>{b(!1)}}))):n().createElement(o.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(g.dOw,{className:"FilterMaximizeIcon",onClick:()=>{b(!0)}})))),n().createElement("ul",null,N[h.name]&&N[h.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:w?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[h.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[h.name],onClick:()=>(async(e,t)=>{O(1);let l=N[h.name].filter((t=>t!=e)),a={};await F((e=>(a=e,e))),a[h.name]=l,F(a),v((t=>[e,...t]))})(e)},n().createElement(i.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(P.Z,{frmctrlid:"fld1467L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:M,placeholder:J("Enter ")+" "+Q(h.idpk),onChange:e=>{W(e),ee(h.type,h.name,e,1,ae())}})),n().createElement("div",{id:"fld1467L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let l="",a={};await F((e=>(l=e,e)));let n=[..._],i=[];for(let e of n){let t=l[e]?.map((e=>e.PPMWPTypeDetIDPK)).toString();t&&i.push(t)}await G((e=>(a=e,e)));let r={PPMWPTypeDetIDPK:i?[...new Set(i)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",PPMCreationAssetID:N.WorkOrder?.map((e=>e.PPMCreationAssetIDPK)).toString(),WPTypeID:N.WPTypeCode?.map((e=>e.WPTypeIDPK)).toString()};e.searchData(r),x(!1)}},n().createElement(o.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),z&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(T.Z,{color:"secondary"})),n().createElement("div",{id:"fld1467L1TFCScrollYDefault",className:"height65 scrollYDefault"},f.length>0&&f.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[h.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await F((e=>(a=e,e)));let n=a[h.name];t[h.name]=n?[...l,...n]:l,a={...a,...t},F(a),v((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(p.Z,{className:"DotIcon"}),n().createElement("span",null,e[h.name])))),f.length+0<Z&&f.length>0&&n().createElement("div",{id:"fld1467L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{O(L+1),ee(h.type,h.name,"",L+1)}},n().createElement("p",null," more... ")),0===f.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:m.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(D.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(o.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{X()},id:"fld1467L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},J("Clear")))),n().createElement(o.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1467L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},J("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1467L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{x(!0),W(""),v([]),R(0),S({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMWPTypeDetID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterPPMWPTypeDetID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Q(e.AdminUserGridViewIDPK)," ",q[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",q[e.FieldName]?.From+" to "+q[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Q(e.AdminUserGridViewIDPK)),n().createElement(C.Z,{checked:"1"==U,onChange:t=>{Y(t.target.checked),ne("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Q(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,N[l]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},N[l][0][l]),N[l].length>1&&n().createElement("span",{className:"RoundedDivName"},N[l][1][l]),N[l].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(N[l].length-2))))));var l}))))))}))},52189:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var a=l(92950),n=l.n(a),i=l(45237),r=l(37148),s=l(3212),o=l(29800),p=(l(14439),l(27848),l(10966),l(36939)),d=l(61201),c=l(50743),m=l(79677),u=(l(21392),l(51673)),P=l(40900),y=l(26537),D=(l(24038),l(252)),g=(l(77366),l(97829),l(8981)),I=(l(63163),l(1695),l(65197));const T=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[T,C]=((0,i.useSelector)((e=>e.form)),(0,a.useState)([])),[E,f]=(0,a.useState)(!0),[v,h]=(0,a.useState)(e.showDetail),[S,M]=(0,a.useState)(""),[W,N]=n().useState(!1),[F,w]=n().useState(""),[b,A]=n().useState(!1),x=(0,a.useContext)(m.PPMWPTypeDetailsContext),{cstate:B,cdispatch:k}=(0,m.ContextApi)(),[L,O]=(0,a.useState)(!1),[Z,R]=(0,a.useState)(""),[z,K]=(0,a.useState)(""),[q,G]=(0,a.useState)("");let _=(0,g.Z)();(0,a.useEffect)((()=>{B.editData.length>0&&(C(B.editData),N(!1),k({type:"PrimaryId",payload:B.editData[0].PPMWPTypeDetIDPK}))}),[B.editData]),(0,a.useEffect)((()=>{B.showTableview&&G(B.showTableview)}),[B.showTableview]),(0,a.useEffect)((()=>{f(B.ExpandDetailValue)}),[B.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{f(e),N(null)},viewtoggle:()=>{N(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=P.v.Api+"FP1467S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:1,p65:10,p66:B.IsDraft?"DraftPPMWPTypeDetID":"PPMWPTypeDetID",p67:null,p68:null,p69:localStorage.getItem("UserGroupID"),p70:localStorage.getItem("userid")}};(0,y.Z)(0).then((e=>{(0,u.Z)(a,n,e).then((e=>{x.loading(!1),"200"==e.Output.status.code&&C(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===W&&l.current.clear()}})));const V=e=>_?.[e]?_?.[e]:e,U=e=>B.language?.[e]?B.language[e]:e;function Y(e,t){}const H=(e,t)=>(l,a)=>{w(b?Object.assign(...T.filter((e=>e.PPMWPTypeDetIDPK==t)).map((e=>e))):B.editData),N(!a&&e)};return n().createElement("div",null,n().createElement(p.Z,{expanded:E,onChange:()=>()=>{e.expandTable&&f(!E)}},!W&&n().createElement(c.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},E?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},B.IsDraft?V("Draft"):"",U("PPMWPTypeDetails"),e.viewonly?" ":"("+B.count+")")):"",E?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&B.AccessRights.IsAdd?n().createElement(s.Z,{name:V("Add"),frmctrlid:"fld1467L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{x.hideAddBtn(!0),k({type:"editData",payload:[]}),k({type:"ShowDetail",payload:!1}),k({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&B.AccessRights.IsEdit?n().createElement(o.Z,{frmctrlid:"fld1467L1VCEditBtn",onClick:H("panel0",""),disabled:!1}):B.IsDraft&&B.AccessRights.IsAdd&&n().createElement(o.Z,{frmctrlid:"fld1467L1VCEditBtnIsAdd",onClick:()=>{H("panel","")},disabled:!1}),!e.viewonly&&n().createElement(r.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1467L1VCCloseBtn",onClick:()=>{f(!1),x.hideAddBtn(!1),b&&(k({type:"editData",payload:[]}),C([]))}})):"")),n().createElement(d.Z,{style:{display:"block"}},T.map(((e,t)=>n().createElement("div",{key:t},W==="panel"+t?n().createElement(D.default,{ref:l}):n().createElement(n().Fragment,null,n().createElement(I.Z,{tableName:"PPMWPTypeDetails",tableID:1467,parentID:e.PPMWPTypeDetIDPK,fldid:"fld1467L1VCContainer",OpenSlideComponent:Y,index:t,refresh:q,val:e,tf:U,t:V,title:"10.0.0.39-11:00:03-25-5[1467]"}))))))))}))}}]);