/*! For license information please see 4573.651e3725be25768fac9f.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[4573,6408],{89738:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(22122),n=a(81253),r=a(92950),i=a(86010),o=a(52543),s=a(32467),u=r.forwardRef((function(e,t){var a=e.children,o=e.classes,u=e.className,m=e.focusVisibleClassName,d=(0,n.Z)(e,["children","classes","className","focusVisibleClassName"]);return r.createElement(s.Z,(0,l.Z)({className:(0,i.default)(o.root,u),focusVisibleClassName:(0,i.default)(m,o.focusVisible),ref:t},d),a,r.createElement("span",{className:o.focusHighlight}))}));const m=(0,o.Z)((function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}}),{name:"MuiCardActionArea"})(u)},45332:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(22122),n=a(81253),r=a(85061),i=a(92950),o=a(86010),s=a(26956),u=a(52543),m=a(83711),d=function(e,t){var a,l,n,i;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,r.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,r.Z)(t.imgFullHeight.split(" ")))):((n=e.classList).remove.apply(n,(0,r.Z)(t.imgFullHeight.split(" "))),(i=e.classList).add.apply(i,(0,r.Z)(t.imgFullWidth.split(" ")))))},p=i.forwardRef((function(e,t){var a=e.children,r=e.classes,u=e.className,p=(e.cols,e.component),c=void 0===p?"li":p,I=(e.rows,(0,n.Z)(e,["children","classes","className","cols","component","rows"])),y=i.useRef(null);return i.useEffect((function(){!function(e,t){e&&(e.complete?d(e,t):e.addEventListener("load",(function(){d(e,t)})))}(y.current,r)})),i.useEffect((function(){var e=(0,s.Z)((function(){d(y.current,r)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[r]),i.createElement(c,(0,l.Z)({className:(0,o.default)(r.root,u),ref:t},I),i.createElement("div",{className:r.tile},i.Children.map(a,(function(e){return i.isValidElement(e)?"img"===e.type||(0,m.Z)(e,["Image"])?i.cloneElement(e,{ref:y}):e:null}))))}));const c=(0,u.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(p)},69685:(e,t,a)=>{a.d(t,{Z:()=>u});var l=a(22122),n=a(81253),r=a(92950),i=(a(59864),a(86010)),o=a(52543),s=r.forwardRef((function(e,t){var a=e.cellHeight,o=e.children,s=e.classes,u=e.className,m=e.cols,d=void 0===m?2:m,p=e.component,c=void 0===p?"ul":p,I=e.gap,y=void 0===I?4:I,M=e.rowHeight,D=void 0===M?180:M,g=e.spacing,C=e.style,N=(0,n.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),S=g||y,f=a||D;return r.createElement(c,(0,l.Z)({className:(0,i.default)(s.root,u),ref:t,style:(0,l.Z)({margin:-S/2},C)},N),r.Children.map(o,(function(e){if(!r.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return r.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/d*t,"%"),height:"auto"===f?"auto":f*a+S,padding:S/2},e.props.style)})})))}));const u=(0,o.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(s)},83173:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=i},92448:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},85984:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=i},64170:(e,t,a)=>{a(92950),a(8981)},8687:(e,t,a)=>{function l(e,t,a,l,n,r){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let i=e.Output.data[0];t({type:"IsDraft",payload:a}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:a}),n.ExpandDetail(!1),l?n.AddOpen(i[r],a):t({type:"editData",payload:[i]}),n.loading(!1)}}else n.loading(!1),n.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){n.loading(!1),n.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{m:()=>l})},88845:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(92950),n=a.n(l),r=a(27848),i=a(14439),o=a(92448),s=a(99940),u=a(89738);function m(e){const[t,a]=(0,l.useState)(!1),[m,d]=(0,l.useState)(!1),[p,c]=(0,l.useState)("All"),[I,y]=(0,l.useState)([]),[M,D]=(0,l.useState)([]);return(0,l.useEffect)((()=>{y([]),y(e.data.Main),D(e.data.Child)}),[e.data]),n().createElement("div",null,n().createElement(i.Z,null,n().createElement(r.Z,{style:{padding:"6px"},xs:12,sm:12,md:12,lg:12},n().createElement(i.Z,{className:"ScreenCardDiv"},I&&I.map(((t,l,i)=>n().createElement(r.Z,{xs:e.xs?e.xs:6,sm:e.xs?e.xs:6,md:e.xs?e.xs:6,lg:e.xs?e.xs:6,key:l,className:"padding4"},n().createElement("div",{className:"schemaCard schemaCard-visitors",onClick:()=>{var l,n,r;l=t,n=t.Name,r=i,e.getChildData(l,n,r),a(l),y([]),document.getElementById("sidebarwid").offsetWidth>60?document.getElementById(e.id).style.width="calc(100% - 201px)":document.getElementById(e.id).style.width="calc(100% - 58px)",document.getElementById(e.id).style.display="block",document.getElementById(e.id).style.padding="5px 1.5rem",document.getElementById(e.id).style.right="0",y(e.data.Main)}},n().createElement("input",{type:"checkbox",id:"schemaCard-visitors-indicator-l3"+l}),n().createElement("div",{className:"header",style:{background:t.Color?t.Color:"#fff"}},n().createElement("div",{className:"content title2ADiv"},n().createElement("div",{className:"data"},n().createElement("div",{className:"top"},n().createElement("p",{className:"title2"},t.DisplayName.replace(/([A-Z])/g," $1").trim()))),n().createElement(s.Icon,{className:"schemaCardIcon "},t.Icon?t.Icon:n().createElement(o.Z,null)),n().createElement("span",{className:"title title2A"},t.DisplayName.replace(/([A-Z])/g," $1").trim()),n().createElement("div",{className:"float"}))),n().createElement("div",{className:"info"},n().createElement(u.Z,null,"Show"===e.type&&n().createElement("p",{className:"schemaCard-desc"},t.Description.replace(/([A-Z])/g," $1").trim()),n().createElement("p",{className:"counter"},t.Total?t.Total:"0")))))))))),n().createElement("div",{id:e.id,className:"sidenav inSlide viewImgWidth",style:{height:"calc(100vh - 90px)",marginTop:"90px",display:"none"}},!e.hideTitle&&n().createElement("div",{className:"ScreenTitle"},e.name&&e.name.replace(/([A-Z])/g," $1").trim()+" ("+e.count+")"),n().createElement("div",{className:"closebtnFlt",onClick:()=>{document.getElementById(e.id).style.padding="0",document.getElementById(e.id).style.display="none"}},"Ã—"),"Schema"===e.type||"Share"===e.type&&n().createElement("div",{class:"chip-group",tabindex:"-1",role:"radiogroup"},n().createElement("div",{class:"chip chip-checkbox","aria-labelledby":"radioOneLabel",tabindex:"0",role:"radio","aria-checked":"false"},n().createElement("input",{type:"radio",name:"radioEx"}),n().createElement("span",{id:"radioOneLabel"},"All")),n().createElement("div",{class:"chip chip-checkbox","aria-labelledby":"radioTwoLabel",tabindex:"0",role:"radio","aria-checked":"false"},n().createElement("input",{type:"radio",name:"radioEx"}),n().createElement("span",{id:"radioTwoLabel"},"Two"))),n().createElement("div",{style:{marginTop:e.hideTitle?"0px":"3%"}},t&&e.tablecomponent)))}},91538:(e,t,a)=>{a.d(t,{kN:()=>Le,gK:()=>Ae,ZP:()=>Fe});var l=a(92950),n=a.n(l),r=(a(95866),a(45237)),i=a(36939),o=a(61201),s=a(51673),u=(a(99058),a(80366)),m=a(282),d=a(868),p=a(78513),c=a(14439),I=a(27848),y=a(40900),M=a(64059),D=a(24038),g=a(8981),C=a(47516),N=a(86893),S=a(33681),f=a(63163),E=a(25108);const b=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[r,i]=(0,l.useState)([]),[o,b]=(0,l.useState)({idpk:"",name:"",type:""}),[v,h]=(0,l.useState)(""),[T,P]=(0,l.useState)({}),[R,B]=(0,l.useState)(!0),[x,w]=(0,l.useState)(!1),{cstate:K,cdispatch:k}=e.ContextApi?e.ContextApi:Le(),[A,L]=(0,l.useState)(1),[F,G]=(0,l.useState)(0),[Z,O]=(0,l.useState)(!1),[W,q]=(0,l.useState)({}),[Q,V]=(0,l.useState)([]),[_,H]=(0,l.useState)(!0);let z=localStorage.getItem("Language");const j={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let J=(0,g.Z)();const Y=e=>J[e]?J[e]:e,U=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[j[z]];function $(){P({}),q({}),e.searchData({}),w(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));V(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{$()}})));const X=async(t,a,l,n)=>{O(!0);let o=a.IsForeign?a.FieldName+"PK":"MaterialIssueDetIDPK";try{let u="",m=[],d={};await b((e=>(u=e.name,e))),await P((e=>(m=e,e))),await q((e=>(d=e,e)));const p=y.v.Api+"FP342S3/",c={data:{p1:a.IsForeign?await ae():null,p2:"MIMatDetCode"==u&&l.length>0?"%"+l+"%":null,p3:"MatReqKey"==u&&l.length>0?"%"+l+"%":null,p4:"MaterialReqDetkey"==u&&l.length>0?"%"+l+"%":null,p5:"MaterialReturnDetKey"==u&&l.length>0?"%"+l+"%":null,p6:"PurchaseReqDetKey"==u&&l.length>0?"%"+l+"%":null,p7:"PurEnqMatDetKey"==u&&l.length>0?"%"+l+"%":null,p8:"VendorQuotDetKey"==u&&l.length>0?"%"+l+"%":null,p9:"MIRequestedQuantity"==u&&l.length>0?"%"+l+"%":null,p10:"MIMatDetQuantity"==u&&l.length>0?"%"+l+"%":null,p11:"MIPrice"==u&&l.length>0?"%"+l+"%":null,p12:"MIAmount"==u&&l.length>0?"%"+l+"%":null,p13:"MIWAC"==u&&l.length>0?"%"+l+"%":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:"MIReturnedQty"==u&&l.length>0?"%"+l+"%":null,p21:"MIBalanceQty"==u&&l.length>0?"%"+l+"%":null,p22:"MIStatus"==u&&l.length>0?"%"+l+"%":null,p23:"PPMCreationAssetKey"==u&&l.length>0?"%"+l+"%":null,p24:"BDMWorkOrderKey"==u&&l.length>0?"%"+l+"%":null,p25:"MIApprovalRemarks"==u&&l.length>0?"%"+l+"%":null,p26:"MIMatDetRemarks"==u&&l.length>0?"%"+l+"%":null,p27:"MISplitQty"==u&&l.length>0?"%"+l+"%":null,p28:"MIActualQty"==u&&l.length>0?"%"+l+"%":null,p29:"IsMIReject"==u&&l.length>0?"%"+l+"%":null,p30:"IsMIActual"==u&&l.length>0?"%"+l+"%":null,p31:"IsMISplit"==u&&l.length>0?"%"+l+"%":null,p32:"IsReturnable"==u&&l.length>0?"%"+l+"%":null,p33:"MIRejectRemarks"==u&&l.length>0?"%"+l+"%":null,p34:"BudgetCostMaterialDetKey"==u&&l.length>0?"%"+l+"%":null,p35:null,p36:null,p37:null,p38:"MatProcessTypeName"!=u&&m.MatProcessTypeName?m.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p39:e.parentId?e.parentId:"0",p40:"MaterialName"!=u&&m.MaterialName?m.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p41:e.Dialogview?"1":null,p42:null,p43:"p43"==u&&l.length>0?l:null,p44:null,p45:null,p46:null,p47:null,p48:"MatProcessTypeCode"==u&&l.length>0?"%"+l+"%":null,p49:"MatProcessTypeName"==u&&l.length>0?"%"+l+"%":null,p50:"MaterialRequestCode"!=u&&m.MaterialRequestCode?m.MaterialRequestCode.map((e=>e.MaterialRequestIDPK)).toString():null,p51:"MaterialRequestCode"==u&&l.length>0?"%"+l+"%":null,p52:"DivisionName"!=u&&m.DivisionName?m.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p53:"DivisionCode"==u&&l.length>0?"%"+l+"%":null,p54:"DivisionName"==u&&l.length>0?"%"+l+"%":null,p55:"DepartmentName"!=u&&m.DepartmentName?m.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p56:"DepartmentCode"==u&&l.length>0?"%"+l+"%":null,p57:"DepartmentName"==u&&l.length>0?"%"+l+"%":null,p58:"ContractName"!=u&&m.ContractName?m.ContractName.map((e=>e.ContractIDPK)).toString():null,p59:"ContractCode"==u&&l.length>0?"%"+l+"%":null,p60:"ContractName"==u&&l.length>0?"%"+l+"%":null,p61:"LocalityName"!=u&&m.LocalityName?m.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p62:"LocalityCode"==u&&l.length>0?"%"+l+"%":null,p63:"LocalityName"==u&&l.length>0?"%"+l+"%":null,p64:"CustomerName"!=u&&m.CustomerName?m.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p65:"CustomerCode"==u&&l.length>0?"%"+l+"%":null,p66:"CustomerName"==u&&l.length>0?"%"+l+"%":null,p67:"WareHouseName"!=u&&m.WareHouseName?m.WareHouseName.map((e=>e.MatWareHouseIDPK)).toString():null,p68:"WareHouseCode"==u&&l.length>0?"%"+l+"%":null,p69:"WareHouseName"==u&&l.length>0?"%"+l+"%":null,p70:"ProStoreName"!=u&&m.ProStoreName?m.ProStoreName.map((e=>e.ProStoreIDPK)).toString():null,p71:"ProStoreCode"==u&&l.length>0?"%"+l+"%":null,p72:"ProStoreName"==u&&l.length>0?"%"+l+"%":null,p73:"JobGOName"!=u&&m.JobGOName?m.JobGOName.map((e=>e.MatJobIDPK)).toString():null,p74:"JobGOName"==u&&l.length>0?"%"+l+"%":null,p75:"MatJobCode"==u&&l.length>0?"%"+l+"%":null,p76:"FirstName"!=u&&m.FirstName?m.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p77:"EmployeeCode"==u&&l.length>0?"%"+l+"%":null,p78:"FirstName"==u&&l.length>0?"%"+l+"%":null,p79:"EmpContactNo1"==u&&l.length>0?"%"+l+"%":null,p80:"EmpEmailOfficial"==u&&l.length>0?"%"+l+"%":null,p81:"MaterialMINo"==u&&l.length>0?"%"+l+"%":null,p82:null,p83:null,p84:null,p85:"MaterialTypeName"!=u&&m.MaterialTypeName?m.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p86:"MaterialTypeCode"==u&&l.length>0?"%"+l+"%":null,p87:"MaterialTypeName"==u&&l.length>0?"%"+l+"%":null,p88:"MatMainClassName"!=u&&m.MatMainClassName?m.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p89:"MatMainClassCode"==u&&l.length>0?"%"+l+"%":null,p90:"MatMainClassName"==u&&l.length>0?"%"+l+"%":null,p91:"MatSubClassName"!=u&&m.MatSubClassName?m.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p92:"MatSubClassCode"==u&&l.length>0?"%"+l+"%":null,p93:"MatSubClassName"==u&&l.length>0?"%"+l+"%":null,p94:"MatMakeName"!=u&&m.MatMakeName?m.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p95:"MatMakeCode"==u&&l.length>0?"%"+l+"%":null,p96:"MatMakeName"==u&&l.length>0?"%"+l+"%":null,p97:"MatModelName"!=u&&m.MatModelName?m.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p98:"MatModelCode"==u&&l.length>0?"%"+l+"%":null,p99:"MatModelName"==u&&l.length>0?"%"+l+"%":null,p100:"UOMName"!=u&&m.UOMName?m.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p101:"MATUOMCode"==u&&l.length>0?"%"+l+"%":null,p102:"UOMName"==u&&l.length>0?"%"+l+"%":null,p103:"GradeName"!=u&&m.GradeName?m.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p104:"GradeName"==u&&l.length>0?"%"+l+"%":null,p105:"MatGradeCode"==u&&l.length>0?"%"+l+"%":null,p106:"MaterialColorName"!=u&&m.MaterialColorName?m.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p107:"MaterialColorName"==u&&l.length>0?"%"+l+"%":null,p108:"MatMaterialColorCode"==u&&l.length>0?"%"+l+"%":null,p109:"RawMaterialName"!=u&&m.RawMaterialName?m.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p110:"MadeRawMaterialCode"==u&&l.length>0?"%"+l+"%":null,p111:"RawMaterialName"==u&&l.length>0?"%"+l+"%":null,p112:"MaterialSizeName"!=u&&m.MaterialSizeName?m.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p113:"MaterialSizeName"==u&&l.length>0?"%"+l+"%":null,p114:"MatMaterialSizeCode"==u&&l.length>0?"%"+l+"%":null,p115:"MaterialCode"==u&&l.length>0?"%"+l+"%":null,p116:"MaterialName"==u&&l.length>0?"%"+l+"%":null,p117:n||1,p118:10,p119:t,p120:null,p121:null,p122:localStorage.getItem("UserGroupID"),p123:localStorage.getItem("userid")}};await(0,s.Z)(p,c,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===n){let e=te(l,u),t=ee(e,T[u],o);i(t),G(t.length>0?t[0].TotalCount:T[u].length)}else{let e=[...r,...l],t=te(e,u);G(t.length<10?t.length:l[0].TotalCount),i(te(t,u))}else v.length>0&&i([]),G(r.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{O(!1)}},ee=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function ae(){let e={};await P((t=>(e=t,t)));let t=[...Q],a=[];for(let l of t){let t=e[l]?.map((e=>e.MaterialIssueDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function le(t,a,l,n,r,i){let o={[n]:{From:t,Type:l,To:a}},s={};q((e=>({...e,...o})));const u={...T};let m=[...Q],d=[];for(let e of m){let t=u[e]?.map((e=>e.MaterialIssueDetIDPK)).toString();t&&d.push(t)}await q((e=>(s=e,e)));let p={MaterialIssueDetIDPK:d?[...new Set(d)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,MIRequiredDate:s.MIRequiredDate?s.MIRequiredDate.From:"",MIRequiredDateType:s.MIRequiredDate?s.MIRequiredDate.Type:"",MIRequiredDateBetween:s.MIRequiredDate?s.MIRequiredDate.To:"",MIReturnDate:s.MIReturnDate?s.MIReturnDate.From:"",MIReturnDateType:s.MIReturnDate?s.MIReturnDate.Type:"",MIReturnDateBetween:s.MIReturnDate?s.MIReturnDate.To:"",MaterialID:T.MaterialName?.map((e=>e.MaterialIDPK)).toString(),MatProcessTypeID:T.MatProcessTypeName?.map((e=>e.MatProcessTypeIDPK)).toString(),MaterialIssueID:T.MaterialMINo?.map((e=>e.MaterialIssueIDPK)).toString()};e.searchData(p)}function ne(){return n().createElement(M.Z,{frmctrlid:"fld342L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{le(e,t,a,o.name,l)},keyboardback:()=>{w(!1),b({idpk:"",name:"",type:""})},title:Y(o.name),fieldname:o.name,save:e=>{alert(!0)}})}return n().createElement("div",null,x?"Created Ttm"===o.name||o.name.includes("Date")?n().createElement(ne,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(I.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},U(o.idpk)," (",r.length,"/",F,")")),n().createElement(I.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(d.ZP,{title:Y("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(u.Z,{id:"fld342L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{w(!1),b({idpk:"",name:"",type:""}),L(1)}}))),T[o.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(m.Z,{frmctrlid:"fld342L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await P((t=>(e=t,E.log("clear fewItems",e),t))),e[o.name]=[],X(o.type,o.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Y("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},R?n().createElement(d.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(N.D7o,{className:"FilterMaximizeIcon",onClick:()=>{B(!1)}}))):n().createElement(d.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(N.dOw,{className:"FilterMaximizeIcon",onClick:()=>{B(!0)}})))),n().createElement("ul",null,T[o.name]&&T[o.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:R?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[o.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{L(1);let a=T[o.name].filter((t=>t!=e)),l={};await P((e=>(l=e,e))),l[o.name]=a,P(l),i((t=>[e,...t]))})(e)},n().createElement(u.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(D.Z,{frmctrlid:"fld342L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:v,placeholder:Y("Enter ")+" "+U(o.idpk),onChange:e=>{h(e),X(o.type,o.name,e,1,ae())}})),n().createElement("div",{id:"fld342L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await P((e=>(a=e,e)));let n=[...Q],r=[];for(let e of n){let t=a[e]?.map((e=>e.MaterialIssueDetIDPK)).toString();t&&r.push(t)}await q((e=>(l=e,e)));let i={MaterialIssueDetIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MIRequiredDate:l.MIRequiredDate?l.MIRequiredDate.From:"",MIRequiredDateType:l.MIRequiredDate?l.MIRequiredDate.Type:"",MIRequiredDateBetween:l.MIRequiredDate?l.MIRequiredDate.To:"",MIReturnDate:l.MIReturnDate?l.MIReturnDate.From:"",MIReturnDateType:l.MIReturnDate?l.MIReturnDate.Type:"",MIReturnDateBetween:l.MIReturnDate?l.MIReturnDate.To:"",MaterialID:T.MaterialName?.map((e=>e.MaterialIDPK)).toString(),MatProcessTypeID:T.MatProcessTypeName?.map((e=>e.MatProcessTypeIDPK)).toString(),MaterialIssueID:T.MaterialMINo?.map((e=>e.MaterialIssueIDPK)).toString()};e.searchData(i),w(!1)}},n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Z&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(S.Z,{color:"secondary"})),n().createElement("div",{id:"fld342L1TFCScrollYDefault",className:"height65 scrollYDefault"},r.length>0&&r.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await P((e=>(l=e,e)));let n=l[o.name];t[o.name]=n?[...a,...n]:a,l={...l,...t},P(l),i((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(p.Z,{className:"DotIcon"}),n().createElement("span",null,e[o.name])))),r.length+0<F&&r.length>0&&n().createElement("div",{id:"fld342L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{L(A+1),X(o.type,o.name,"",A+1)}},n().createElement("p",null," more... ")),0===r.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:y.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(C.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnApplyButton",onClick:()=>{$()},id:"fld342L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Y("Clear")))),n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld342L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Y("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld342L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{w(!0),h(""),i([]),G(0),b({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMaterialIssueDetID"}),X(e.IsForeign?"Filter"+e.FieldName:"FilterMaterialIssueDetID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,U(e.AdminUserGridViewIDPK)," ",W[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",W[e.FieldName]?.From+" to "+W[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,U(e.AdminUserGridViewIDPK)),n().createElement(f.Z,{checked:"1"==_,onChange:t=>{H(t.target.checked),le("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,U(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,T[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},T[a][0][a]),T[a].length>1&&n().createElement("span",{className:"RoundedDivName"},T[a][1][a]),T[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(T[a].length-2))))));var a}))))))}));var v=a(54180),h=a(43031),T=a(110),P=a(5109),R=a(88995),B=a(50743),x=a(61657),w=a(51209),K=a(53854),k=a(5434),A=a(83817),L=a(39327),F=a(3212),G=a(93521),Z=a(71168),O=a.n(Z),W=a(59009),q=a(25108);function Q(e){const[t]=(0,l.useState)(localStorage.getItem("userid")),[a,r]=(0,l.useState)([]),[i,o]=(0,l.useState)({name:"",type:""}),[S,f]=(0,l.useState)(""),[E,b]=(0,l.useState)({}),[v,h]=(0,l.useState)(!0),[T,P]=(0,l.useState)(!1),[R,B]=(0,l.useState)({from:"",to:"",type:"",dtype:"",fname:""}),{cstate:x,cdispatch:w}=e.ContextApi?e.ContextApi:he(),[K,k]=(0,l.useState)(1),[A,L]=(0,l.useState)(0);let F=(0,g.Z)();const G=e=>F[e]?F[e]:e,Z=e=>x.language?.[e]?x.language[e]:e;(0,l.useEffect)((()=>{}),[]);const O=async(t,l,n,i=1,u,m)=>{let d="",p=[];await o((e=>(d=e.name,e))),await b((e=>(p=e,e)));const c=y.v.Api+"FP347S3/",I={data:{p1:u?await Q():null,p2:"MatSubDetailsCode"==l&&n.length>0?"%"+n+"%":null,p3:"MSubBalanceQty"==l&&n.length>0?"%"+n+"%":null,p4:"MSubQuantity"==l&&n.length>0?"%"+n+"%":null,p5:"MSubNetQuantity"==l&&n.length>0?"%"+n+"%":null,p6:"MSubPieces"==l&&n.length>0?"%"+n+"%":null,p7:"MSubStatus"==l&&n.length>0?"%"+n+"%":null,p8:null,p9:null,p10:e.parentId?e.parentId:"0",p11:"MaterialName"!=l&&p.MaterialName?p.MaterialName.map((e=>e.MaterialID)).toString():null,p12:"WareHouseName"!=l&&p.WareHouseName?p.WareHouseName.map((e=>e.MatWareHouseID)).toString():null,p13:"MatBinName"!=l&&p.MatBinName?p.MatBinName.map((e=>e.MatBinID)).toString():null,p14:"MatBatchCode"!=l&&p.MatBatchCode?p.MatBatchCode.map((e=>e.MatBatchID)).toString():null,p15:"ProStoreName"!=l&&p.ProStoreName?p.ProStoreName.map((e=>e.ProStoreID)).toString():null,p16:"MaterialMINo"!=l&&p.MaterialMINo?p.MaterialMINo.map((e=>e.MaterialIssueID)).toString():null,p17:e.Dialogview?"1":null,p18:null,p19:"p19"==l&&n.length>0?n:null,p20:null,p21:null,p22:null,p23:null,p24:"MatProcessTypeName"!=l&&p.MatProcessTypeName?p.MatProcessTypeName.map((e=>e.MatProcessTypeID)).toString():null,p25:"MatProcessTypeCode"==l&&n.length>0?"%"+n+"%":null,p26:"MatProcessTypeName"==l&&n.length>0?"%"+n+"%":null,p27:"MaterialMINo"==l&&n.length>0?"%"+n+"%":null,p28:null,p29:null,p30:null,p31:"MaterialCode"==l&&n.length>0?"%"+n+"%":null,p32:"MaterialName"==l&&n.length>0?"%"+n+"%":null,p33:"MIMatDetCode"==l&&n.length>0?"%"+n+"%":null,p34:"MaterialTypeName"!=l&&p.MaterialTypeName?p.MaterialTypeName.map((e=>e.MaterialTypeID)).toString():null,p35:"MaterialTypeCode"==l&&n.length>0?"%"+n+"%":null,p36:"MaterialTypeName"==l&&n.length>0?"%"+n+"%":null,p37:"MatMainClassName"!=l&&p.MatMainClassName?p.MatMainClassName.map((e=>e.MaterialMainClassID)).toString():null,p38:"MatMainClassCode"==l&&n.length>0?"%"+n+"%":null,p39:"MatMainClassName"==l&&n.length>0?"%"+n+"%":null,p40:"MatSubClassName"!=l&&p.MatSubClassName?p.MatSubClassName.map((e=>e.MatSubClassID)).toString():null,p41:"MatSubClassCode"==l&&n.length>0?"%"+n+"%":null,p42:"MatSubClassName"==l&&n.length>0?"%"+n+"%":null,p43:"MatMakeName"!=l&&p.MatMakeName?p.MatMakeName.map((e=>e.MaterialMakeID)).toString():null,p44:"MatMakeCode"==l&&n.length>0?"%"+n+"%":null,p45:"MatMakeName"==l&&n.length>0?"%"+n+"%":null,p46:"MatModelName"!=l&&p.MatModelName?p.MatModelName.map((e=>e.MaterialModelID)).toString():null,p47:"MatModelCode"==l&&n.length>0?"%"+n+"%":null,p48:"MatModelName"==l&&n.length>0?"%"+n+"%":null,p49:"UOMName"!=l&&p.UOMName?p.UOMName.map((e=>e.MATUOMID)).toString():null,p50:"MATUOMCode"==l&&n.length>0?"%"+n+"%":null,p51:"UOMName"==l&&n.length>0?"%"+n+"%":null,p52:"GradeName"!=l&&p.GradeName?p.GradeName.map((e=>e.MatGradeID)).toString():null,p53:"GradeName"==l&&n.length>0?"%"+n+"%":null,p54:"MatGradeCode"==l&&n.length>0?"%"+n+"%":null,p55:"MaterialColorName"!=l&&p.MaterialColorName?p.MaterialColorName.map((e=>e.MatMaterialColorID)).toString():null,p56:"MaterialColorName"==l&&n.length>0?"%"+n+"%":null,p57:"MatMaterialColorCode"==l&&n.length>0?"%"+n+"%":null,p58:"RawMaterialName"!=l&&p.RawMaterialName?p.RawMaterialName.map((e=>e.MadeRawMaterialID)).toString():null,p59:"MadeRawMaterialCode"==l&&n.length>0?"%"+n+"%":null,p60:"RawMaterialName"==l&&n.length>0?"%"+n+"%":null,p61:"MaterialSizeName"!=l&&p.MaterialSizeName?p.MaterialSizeName.map((e=>e.MatMaterialSizeID)).toString():null,p62:"MaterialSizeName"==l&&n.length>0?"%"+n+"%":null,p63:"MatMaterialSizeCode"==l&&n.length>0?"%"+n+"%":null,p64:"ZoneName"!=l&&p.ZoneName?p.ZoneName.map((e=>e.ZoneID)).toString():null,p65:"ZoneCode"==l&&n.length>0?"%"+n+"%":null,p66:"ZoneDisplayName"==l&&n.length>0?"%"+n+"%":null,p67:"ZoneName"==l&&n.length>0?"%"+n+"%":null,p68:"WareHouseCode"==l&&n.length>0?"%"+n+"%":null,p69:"WareHouseName"==l&&n.length>0?"%"+n+"%":null,p70:"MatBinCode"==l&&n.length>0?"%"+n+"%":null,p71:"MatBinName"==l&&n.length>0?"%"+n+"%":null,p72:"BatchNo"==l&&n.length>0?"%"+n+"%":null,p73:"MatBatchCode"==l&&n.length>0?"%"+n+"%":null,p74:"CityName"!=l&&p.CityName?p.CityName.map((e=>e.CityID)).toString():null,p75:"CityCode"==l&&n.length>0?"%"+n+"%":null,p76:"CityName"==l&&n.length>0?"%"+n+"%":null,p77:"RegionName"!=l&&p.RegionName?p.RegionName.map((e=>e.RegionID)).toString():null,p78:"RegionCode"==l&&n.length>0?"%"+n+"%":null,p79:"RegionName"==l&&n.length>0?"%"+n+"%":null,p80:"CountryName"!=l&&p.CountryName?p.CountryName.map((e=>e.CountryID)).toString():null,p81:"CountryCode"==l&&n.length>0?"%"+n+"%":null,p82:"CountryName"==l&&n.length>0?"%"+n+"%":null,p83:"ProStoreCode"==l&&n.length>0?"%"+n+"%":null,p84:"ProStoreName"==l&&n.length>0?"%"+n+"%":null,p85:"MaterialRequestCode"!=l&&p.MaterialRequestCode?p.MaterialRequestCode.map((e=>e.MaterialRequestID)).toString():null,p86:"MaterialRequestCode"==l&&n.length>0?"%"+n+"%":null,p87:"DivisionName"!=l&&p.DivisionName?p.DivisionName.map((e=>e.DivisionID)).toString():null,p88:"DivisionCode"==l&&n.length>0?"%"+n+"%":null,p89:"DivisionName"==l&&n.length>0?"%"+n+"%":null,p90:"DepartmentName"!=l&&p.DepartmentName?p.DepartmentName.map((e=>e.DepartmentID)).toString():null,p91:"DepartmentCode"==l&&n.length>0?"%"+n+"%":null,p92:"DepartmentName"==l&&n.length>0?"%"+n+"%":null,p93:"ContractName"!=l&&p.ContractName?p.ContractName.map((e=>e.ContractID)).toString():null,p94:"ContractCode"==l&&n.length>0?"%"+n+"%":null,p95:"ContractName"==l&&n.length>0?"%"+n+"%":null,p96:"LocalityName"!=l&&p.LocalityName?p.LocalityName.map((e=>e.LocalityID)).toString():null,p97:"LocalityCode"==l&&n.length>0?"%"+n+"%":null,p98:"LocalityName"==l&&n.length>0?"%"+n+"%":null,p99:"CustomerName"!=l&&p.CustomerName?p.CustomerName.map((e=>e.CustomerID)).toString():null,p100:"CustomerCode"==l&&n.length>0?"%"+n+"%":null,p101:"CustomerName"==l&&n.length>0?"%"+n+"%":null,p102:"JobGOName"!=l&&p.JobGOName?p.JobGOName.map((e=>e.MatJobID)).toString():null,p103:"JobGOName"==l&&n.length>0?"%"+n+"%":null,p104:"MatJobCode"==l&&n.length>0?"%"+n+"%":null,p105:"FirstName"!=l&&p.FirstName?p.FirstName.map((e=>e.EmployeeID)).toString():null,p106:"EmployeeCode"==l&&n.length>0?"%"+n+"%":null,p107:"FirstName"==l&&n.length>0?"%"+n+"%":null,p108:"EmpContactNo1"==l&&n.length>0?"%"+n+"%":null,p109:"EmpEmailOfficial"==l&&n.length>0?"%"+n+"%":null,p110:i,p111:10,p112:t,p113:null,p114:null,p115:localStorage.getItem("UserGroupID"),p116:localStorage.getItem("userid")}};(0,s.Z)(c,I,e.token).then((e=>{const t=e.Output.status.code,l=e.Output.data;if("200"===t)if(l.length>0)if(1===i){let e=W(l,d);r(e),L(e[0].TotalCount)}else{let e=[...a,...l],t=W(e,d);L(t.length<10?t.length:l[0].TotalCount),r(W(t,d))}else S.length>0&&r([]),L(a.length)}))},W=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function Q(){let e={};await b((t=>(e=t,t)));let t=["MISubPieces","MISubStatus","MaterialIssueSubDetailsCode","MISubBalanceQty","MISubNetQuantity","MISubQuantity"],a=[];for(let l of t){let t=e[l]?.map((e=>e.MaterialIssueSubDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}function V(){if("Created Ttm"===i.name)return n().createElement(M.Z,{frmctrlid:"fld3L2TFCCreatedTtm",SendDateVal:(t,a,l,n,r)=>{!function(t,a,l,n,r,i){const o={...E};let s=["MISubPieces","MISubStatus","MaterialIssueSubDetailsCode","MISubBalanceQty","MISubNetQuantity","MISubQuantity"],u=[];for(let e of s){let t=o[e]?.map((e=>e.MaterialIssueSubDetailsIDPK)).toString();t&&u.push(t)}let m={CreatedTtm:t,CreatedTtmType:l,CreatedTtmBetween:a,MaterialIssueSubDetailsIDPK:u?[...new Set(u)].toString():"",ProStoreID:E.ProStoreName?.map((e=>e.ProStoreIDPK)).toString(),MaterialIssueID:E.MaterialMINo?.map((e=>e.MaterialIssueIDPK)).toString(),MaterialIssueDetID:E.MIMatDetCode?.map((e=>e.MaterialIssueDetIDPK)).toString(),MaterialID:E.MaterialName?.map((e=>e.MaterialIDPK)).toString(),MatWareHouseID:E.WareHouseName?.map((e=>e.MatWareHouseIDPK)).toString(),MatBinID:E.MatBinName?.map((e=>e.MatBinIDPK)).toString(),MatBatchID:E.MatBatchCode?.map((e=>e.MatBatchIDPK)).toString()};B({from:t,to:a,type:l,dtype:r,fname:i}),e.searchData(m)}(t,a,l,0,n,r)},keyboardback:()=>{P(!1),o({name:"",type:""})},title:G("Created Date"),fieldname:"CreatedTtm",save:e=>{alert(!0)}})}return n().createElement("div",null,T?"Created Ttm"===i.name||[i.name].includes("Date")?n().createElement(V,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(I.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Z(i.name)," (",a.length,"/",a[0]?.TotalCount,")")),n().createElement(I.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(d.ZP,{title:G("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(u.Z,{id:"fld347L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{P(!1),o({name:"",type:""}),k(1)}}))),E[i.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(m.Z,{frmctrlid:"fld347L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await b((t=>(e=t,q.log("clear fewItems",e),t))),e[i.name]=[],O(i.type,i.name,"",1,"")})()}},n().createElement("span",{className:"ColumnApplyTitle"},G("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},v?n().createElement(d.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(N.D7o,{className:"FilterMaximizeIcon",onClick:()=>{h(!1)}}))):n().createElement(d.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(N.dOw,{className:"FilterMaximizeIcon",onClick:()=>{h(!0)}})))),n().createElement("ul",null,E[i.name]&&E[i.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:v?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[i.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{k(1);let a=E[i.name].filter((t=>t!=e)),l={};await b((e=>(l=e,e))),l[i.name]=a,b(l),r((t=>[e,...t]))})(e)},n().createElement(u.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(D.Z,{frmctrlid:"fld347L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:G("Enter ")+" "+Z(i.name),onChange:e=>{f(e),O(i.type,i.name,e,1,Q())}})),n().createElement("div",{id:"fld347L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="";await b((e=>(a=e,e)));let l=["CityCode","CityName"],n=[];for(let e of l){let t=a[e]?.map((e=>e.CityIDPK)).toString();t&&n.push(t)}let r={MaterialIssueSubDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",ProStoreID:E.ProStoreName?.map((e=>e.ProStoreID)).toString(),MaterialIssueID:E.MaterialMINo?.map((e=>e.MaterialIssueID)).toString(),MaterialIssueDetID:E.MIMatDetCode?.map((e=>e.MaterialIssueDetID)).toString(),MaterialID:E.MaterialName?.map((e=>e.MaterialID)).toString(),MatWareHouseID:E.WareHouseName?.map((e=>e.MatWareHouseID)).toString(),MatBinID:E.MatBinName?.map((e=>e.MatBinID)).toString(),MatBatchID:E.MatBatchCode?.map((e=>e.MatBatchID)).toString()};e.searchData(r),P(!1)}},n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),n().createElement("div",{id:"fld347L1TFCScrollYDefault",className:"height65 scrollYDefault"},a.length>0&&a.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await b((e=>(l=e,e)));let n=l[i.name];t[i.name]=n?[...a,...n]:a,l={...l,...t},b(l),r((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(p.Z,{className:"DotIcon"}),n().createElement("span",null,e[i.name])))),a.length+0<a[0]?.TotalCount&&a.length>0&&n().createElement("div",{id:"fld347L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{k(K+1),O(i.type,i.name,"",K+1,"")}},n().createElement("p",null," more... ")),0===a.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:y.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(C.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnApplyButton",onClick:()=>{b({}),B({from:"",to:"",type:"",dtype:"",fname:""}),e.searchData({}),P(!1)},id:"fld347L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},G("Clear")))),n().createElement(d.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld347L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},G("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld347L1TFCFilItems",className:"FilterItems"},n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{var e,t,a;e="Created Ttm",t="FilterMaterialIssueSubDetailsID",a=R,P(!0),o({name:e,type:t}),a.length>0?O(t,e,"",1,""):O(t,e,"",1,Q()),f("")}},G("Created Date"),R.from&&n().createElement("p",{className:"filterdatevalue"},"(",R.from+" to "+R.to,")")),e.userGrid.filter((e=>e.IsVisible&&!e.FieldName.startsWith("Is"))).map(((e,t)=>{return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{(e=>{P(!0),f(""),o({name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMaterialIssueSubDetailsID"}),O(e.IsForeign?"Filter"+e.FieldName:"FilterMaterialIssueSubDetailsID",e,"",1,Q())})(e)}},n().createElement("span",null,Z(e.FieldName)),(a=e.FieldDisplay,E[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},E[a][0][a]),E[a].length>1&&n().createElement("span",{className:"RoundedDivName"},E[a][1][a]),E[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(E[a].length-2)))));var a}))))))}var V=a(51649),_=a(37106),H=a(65107),z=a(94986),j=a(15999);window.clickFilter="";const J=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,l.useRef)(null),(0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[c]=(0,l.useState)("347"),[I,M]=(0,l.useState)(!1),[S,f]=(0,l.useState)(!1),[E,b]=(0,l.useState)(0),[Z,q]=(0,l.useState)(0),[J,Y]=(0,l.useState)(0),[U,$]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:10}),[te,ae]=(0,l.useState)(""),[le,ne]=(0,l.useState)([]),[re,ie]=(0,l.useState)({val:"",column:""}),[oe,se]=(0,l.useState)([]),[ue,me]=(0,l.useState)(!1),[de,pe]=(0,l.useState)(""),[ce,Ie]=(0,l.useState)(""),[ye,Me]=(0,l.useState)(!1),[De,ge]=(0,l.useState)([]),[Ce,Ne]=(0,l.useState)([]),[Se,fe]=(0,l.useState)([]),[Ee,be]=(0,l.useState)({children:[{name:"MaterialIssueSubDetails",children:[]}]}),[Te,Pe]=(0,l.useState)(!1),Re=(0,l.useContext)(e.context?e.context:ve),{cstate:Be,cdispatch:xe}=e.ContextApi?e.ContextApi:he();let we={MaterialIssueSubDetailsIDPK:"",MatSubDetailsCode:"",MSubBalanceQty:"",MSubQuantity:"",MSubNetQuantity:"",MSubPieces:"",MSubStatus:"",IsDraft:"",Remarks:"",MaterialIssueDetID:"",MaterialID:"",MatWareHouseID:"",MatBinID:"",MatBatchID:"",ProStoreID:"",MaterialIssueID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",MaterialCode:"",MaterialName:"",MIMatDetCode:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",ZoneID:"",ZoneCode:"",ZoneDisplayName:"",ZoneName:"",WareHouseCode:"",WareHouseName:"",MatBinCode:"",MatBinName:"",BatchNo:"",MatBatchCode:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",ProStoreCode:"",ProStoreName:"",MaterialRequestID:"",MaterialRequestCode:"",DivisionID:"",DivisionCode:"",DivisionName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",CustomerID:"",CustomerCode:"",CustomerName:"",MatJobID:"",JobGOName:"",MatJobCode:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ke,ke]=(0,l.useState)(we),[Ae,Le]=(0,l.useState)(we),[Fe,Ge]=(0,l.useState)(!1),[Ze,Oe]=(0,l.useState)(!0),[We,qe]=(0,l.useState)(!1),[Qe,Ve]=(0,l.useState)(!0),[_e,He]=(0,l.useState)({MISubPieces:"",MISubStatus:"",ProStoreName:"",MaterialMINo:"",MIMatDetCode:"",MaterialName:"",WareHouseName:"",MaterialIssueSubDetailsCode:"",MISubBalanceQty:"",MatBinName:"",MatBatchCode:"",MISubNetQuantity:"",MSubQuantity:""}),[ze,je]=(0,l.useState)(!1),[Je,Ye]=(0,l.useState)([]),[Ue,$e]=(0,l.useState)(0),[Xe,et]=(0,l.useState)(0),[tt,at]=(0,l.useState)({current:1,pageSize:10}),[lt,nt]=(0,l.useState)([]),[rt,it]=(0,l.useState)([]),[ot,st]=(0,l.useState)(!1),[ut,mt]=(0,l.useState)(!1),[dt,pt]=(0,l.useState)(!1),[ct,It]=(0,l.useState)(""),[yt,Mt]=O()("347"),Dt=[{columns:lt,data:te}];let gt=(0,g.Z)();const Ct=e=>gt[e]?gt[e]:e,Nt=e=>Be.language?.[e]?Be.language[e]:e;(0,l.useEffect)((()=>{Tt(yt)}),[yt]),(0,l.useEffect)((()=>{Be.token.length>0&&vt(X,we,"MaterialIssueSubDetailsID")}),[]),(0,l.useEffect)((()=>{!Te&&de?(ke(de),vt(X,de,"MaterialIssueSubDetailsID")):Te&&Le(de)}),[de]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{St(e)},tableRefresh:()=>{vt(X,we,"MaterialIssueSubDetailsID")},DialogTableProps:e=>{f(e)},HideEntryFields:e=>{pt(e)}})));const St=e=>{""==e?vt(X,we,Fe?"DraftMaterialIssueSubDetailsID":"MaterialIssueSubDetailsID",Fe&&"DraftPage"):ht(e,{current:1,pageSize:10}),Ie(e)};function ft(t){Re.loading(!0);let a=y.v.Api+"FP347S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(a,l,Be.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,et(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?$e(Math.ceil(a)):20==t.pageSize?$e(Math.ceil(a/2)):50==t.pageSize?$e(Math.ceil(a/5)):100==t.pageSize&&$e(Math.ceil(a/10)),Ye(e.Output.data),Re.loading(!1)}}))}function Et(e,t){xe({type:"editData",payload:[t]}),xe({type:"IsDraft",payload:Fe}),xe({type:"ShowDetail",payload:!0}),Re.Expanded(!0),We&&Me(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ve(e.cardview),e.Dialogview&&(f(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&ht(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]);const bt=()=>{Re.EditClose(!0),ue?(document.getElementById("MaterialIssueSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MaterialIssueSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MaterialIssueSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Qe?(S||(document.getElementById("MaterialIssueSubDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueSubDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MaterialIssueSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialIssueSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MaterialIssueSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MaterialIssueSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MaterialIssueSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("MaterialIssueSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Me(!1),window.clickFilter=!ue},vt=(t,a,l,n,r,i)=>{Re.loading(!0),"DraftPage"!==n&&Ge(Be.IsDraft);let o=y.v.Api+"FP347S3/",u={data:{p1:r||(a&&a.MaterialIssueSubDetailsIDPK?a.MaterialIssueSubDetailsIDPK:null),p2:a&&a.MatSubDetailsCode?a.MatSubDetailsCode:null,p3:a&&a.MSubBalanceQty?a.MSubBalanceQty:null,p4:a&&a.MSubQuantity?a.MSubQuantity:null,p5:a&&a.MSubNetQuantity?a.MSubNetQuantity:null,p6:a&&a.MSubPieces?a.MSubPieces:null,p7:a&&a.MSubStatus?a.MSubStatus:null,p8:"DraftMaterialIssueSubDetailsID"==l?"1":"0",p9:null,p10:e.detailId?e.detailId:"0",p11:a&&a.MaterialID?a.MaterialID:null,p12:a&&a.MatWareHouseID?a.MatWareHouseID:null,p13:a&&a.MatBinID?a.MatBinID:null,p14:a&&a.MatBatchID?a.MatBatchID:null,p15:a&&a.ProStoreID?a.ProStoreID:null,p16:e.parentId?Number(e.parentId):null,p17:e.Dialogview?"1":null,p18:null,p19:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p20:a&&a.CreatedTtm?a.CreatedTtm:null,p21:a&&a.CreatedTtmType?a.CreatedTtmType:null,p22:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p23:null,p24:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p25:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p26:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p27:a&&a.MaterialMINo?a.MaterialMINo:null,p28:a&&a.MaterialMSDate?a.MaterialMSDate:null,p29:a&&a.MaterialMSDateType?a.MaterialMSDateType:null,p30:a&&a.MaterialMSDateBetween?a.MaterialMSDateBetween:null,p31:a&&a.MaterialCode?a.MaterialCode:null,p32:a&&a.MaterialName?a.MaterialName:null,p33:a&&a.MIMatDetCode?a.MIMatDetCode:null,p34:a&&a.MaterialTypeID?a.MaterialTypeID:null,p35:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p36:a&&a.MaterialTypeName?a.MaterialTypeName:null,p37:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p38:a&&a.MatMainClassCode?a.MatMainClassCode:null,p39:a&&a.MatMainClassName?a.MatMainClassName:null,p40:a&&a.MatSubClassID?a.MatSubClassID:null,p41:a&&a.MatSubClassCode?a.MatSubClassCode:null,p42:a&&a.MatSubClassName?a.MatSubClassName:null,p43:a&&a.MaterialMakeID?a.MaterialMakeID:null,p44:a&&a.MatMakeCode?a.MatMakeCode:null,p45:a&&a.MatMakeName?a.MatMakeName:null,p46:a&&a.MaterialModelID?a.MaterialModelID:null,p47:a&&a.MatModelCode?a.MatModelCode:null,p48:a&&a.MatModelName?a.MatModelName:null,p49:a&&a.MATUOMID?a.MATUOMID:null,p50:a&&a.MATUOMCode?a.MATUOMCode:null,p51:a&&a.UOMName?a.UOMName:null,p52:a&&a.MatGradeID?a.MatGradeID:null,p53:a&&a.GradeName?a.GradeName:null,p54:a&&a.MatGradeCode?a.MatGradeCode:null,p55:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p56:a&&a.MaterialColorName?a.MaterialColorName:null,p57:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p58:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p59:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p60:a&&a.RawMaterialName?a.RawMaterialName:null,p61:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p62:a&&a.MaterialSizeName?a.MaterialSizeName:null,p63:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p64:a&&a.ZoneID?a.ZoneID:null,p65:a&&a.ZoneCode?a.ZoneCode:null,p66:a&&a.ZoneDisplayName?a.ZoneDisplayName:null,p67:a&&a.ZoneName?a.ZoneName:null,p68:a&&a.WareHouseCode?a.WareHouseCode:null,p69:a&&a.WareHouseName?a.WareHouseName:null,p70:a&&a.MatBinCode?a.MatBinCode:null,p71:a&&a.MatBinName?a.MatBinName:null,p72:a&&a.BatchNo?a.BatchNo:null,p73:a&&a.MatBatchCode?a.MatBatchCode:null,p74:a&&a.CityID?a.CityID:null,p75:a&&a.CityCode?a.CityCode:null,p76:a&&a.CityName?a.CityName:null,p77:a&&a.RegionID?a.RegionID:null,p78:a&&a.RegionCode?a.RegionCode:null,p79:a&&a.RegionName?a.RegionName:null,p80:a&&a.CountryID?a.CountryID:null,p81:a&&a.CountryCode?a.CountryCode:null,p82:a&&a.CountryName?a.CountryName:null,p83:a&&a.ProStoreCode?a.ProStoreCode:null,p84:a&&a.ProStoreName?a.ProStoreName:null,p85:a&&a.MaterialRequestID?a.MaterialRequestID:null,p86:a&&a.MaterialRequestCode?a.MaterialRequestCode:null,p87:a&&a.DivisionID?a.DivisionID:null,p88:a&&a.DivisionCode?a.DivisionCode:null,p89:a&&a.DivisionName?a.DivisionName:null,p90:a&&a.DepartmentID?a.DepartmentID:null,p91:a&&a.DepartmentCode?a.DepartmentCode:null,p92:a&&a.DepartmentName?a.DepartmentName:null,p93:a&&a.ContractID?a.ContractID:null,p94:a&&a.ContractCode?a.ContractCode:null,p95:a&&a.ContractName?a.ContractName:null,p96:a&&a.LocalityID?a.LocalityID:null,p97:a&&a.LocalityCode?a.LocalityCode:null,p98:a&&a.LocalityName?a.LocalityName:null,p99:a&&a.CustomerID?a.CustomerID:null,p100:a&&a.CustomerCode?a.CustomerCode:null,p101:a&&a.CustomerName?a.CustomerName:null,p102:a&&a.MatJobID?a.MatJobID:null,p103:a&&a.JobGOName?a.JobGOName:null,p104:a&&a.MatJobCode?a.MatJobCode:null,p105:a&&a.EmployeeID?a.EmployeeID:null,p106:a&&a.EmployeeCode?a.EmployeeCode:null,p107:a&&a.FirstName?a.FirstName:null,p108:a&&a.EmpContactNo1?a.EmpContactNo1:null,p109:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p110:r?1:t.current,p111:e.tableview?100:t.pageSize,p112:l,p113:null,p114:null,p115:localStorage.getItem("UserGroupID"),p116:localStorage.getItem("userid")}};(0,s.Z)(o,u,Be.token[0]).then((o=>{if(r)(0,A.a)(o,xe,n,i,Re);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,Y(o.Output.data[0].TotalCount),$(o.Output.data[0].DraftCnt),xe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&$(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?q(Math.ceil(e)):20==t.pageSize?q(Math.ceil(e/2)):50==t.pageSize?q(Math.ceil(e/5)):100==t.pageSize&&q(Math.ceil(e/10)),se(o.Output.data),Re.loading(!1)}e.Dialogview||(document.getElementById("divMaterialIssueSubDetails-Entry").style.height="auto",document.getElementById("divMaterialIssueSubDetails-Entry").style.display="block")}else Re.loading(!1),"DraftMaterialIssueSubDetailsID"===l?(Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me(!0),Ge(!1)):(se([]),ee({current:1,pageSize:10}),q(0),Y(0),xe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Re.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Re.loading(!1)}))};function ht(t,a){Re.loading(!0);const l=y.v.Api+"FP347S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Fe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(l,n,Be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,Y(e.Output.data[0].TotalCount),xe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?q(Math.ceil(t)):20==a.pageSize?q(Math.ceil(t/2)):50==a.pageSize?q(Math.ceil(t/5)):100==a.pageSize&&q(Math.ceil(t/10)),se(e.Output.data),Re.loading(!1)}else se([]),q(0),Y(0),xe({type:"count",payload:"0"}),Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Re.loading(!1);else Re.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Re.loading(!1)}))}function Tt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]}),e.IsInboxApp&&Re.IsInboxApproval(!!e.IsInboxApp)})),xe({type:"language",payload:Object.assign({},...n)}),He(a.reduce(((e,t)=>(e[t]="",e)),{})),ge(e),Ne(t),fe(a),nt(l),it(a)}const Pt=()=>Te?null:n().createElement("div",null,ze?n().createElement(z.Z,{data:Je,expanded:e=>!S&&Re.Expanded(e),edit:(e,t,a)=>{S?Re.select(e):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:t}),xe({type:"ShowDetail",payload:a}))}}):n().createElement(H.Z,{ref:m,frmctrlid:"tblcs_347_L1_",id:"MaterialIssueSubDetailsTable",headerdata:Ce,tablesearchparams:_e,searchvalue:e=>{He(e),pe(e),ee({current:1,pageSize:10}),vt({current:1,pageSize:10},e,Fe?"DraftMaterialIssueSubDetailsID":"MaterialIssueSubDetailsID",Fe&&"DraftPage")},bodydata:oe,ondrag:Et,bodyitem:Se,visibleitem:Ce,isdraft:Fe,IsView:!1,IsViewNone:!0,IsSub:!1,tableExp:!1,tableID:c,showMore:!1,accessrights:Be.AccessRights,expanded:e=>!S&&Re.Expanded(e),edit:(t,a,l)=>{S||e.detailId?Re.select(t):(Object.keys(t).map(((e,n)=>{e.includes("IDPK")&&vt(X,null,a?"DraftMaterialIssueSubDetailsID":"MaterialIssueSubDetailsID",a&&"DraftPage",t[e],l)})),Re.hideAddBtn(!0))},viewtoggle:Re.viewtoggle,isexpanded:!0,tf:Nt,action:0==Be.AccessRights?.IsEdit?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{qe(Be.ExpandTableValue)}),[Be.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld347L1ECSearchBar",className:"searchbar1"},n().createElement(D.Z,{frmctrlid:"fld347L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Ct("Search"),value:ce,onChange:e=>{Ie(e),Re.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ce?n().createElement("div",{id:"fld347L1TCCloseIconCommonSearch",onClick:()=>{Ie(""),Re.searchItem("")}},n().createElement(u.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld347L1TCInputSearchIcon"},n().createElement(R.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MaterialIssueSubDetailsgridsearch").focus()}})))),n().createElement("div",null,Be.AccessRights.IsAdd?n().createElement(F.Z,{className:"SaveBtnCommon",frmctrlid:"fld347L1TCAddBtnIsAdd",onClick:()=>{Re.hideAddBtn(!0),xe({type:"editData",payload:[]}),xe({type:"ShowDetail",payload:!1}),xe({type:"Add",payload:!0})}}):"")),n().createElement(i.Z,{expanded:Ze,onChange:()=>()=>{Oe(We)}},e.Dialogview&&n().createElement(B.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"8.0.0.51-09:55:08-27-3"},`${Nt("347")} (${J})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld347L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(D.Z,{frmctrlid:"fld347L1TCInputSearch",className:"search_input",type:"text",placeholder:Ct("Search"),value:ce,onChange:e=>{St(e)}}),n().createElement("div",{className:"search_icon"},ce?n().createElement("div",{id:"fld347L1TCInputCloseIcon",onClick:()=>{St("")}},n().createElement(u.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld347L1TCInputSearchIcon"},n().createElement(R.Z,{className:"InputSearchIcon"}))))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"MaterialIssueSubDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Fe&&n().createElement("div",{frmctrlid:"fld347L1TCFilterDataIsDraft",id:"MaterialIssueSubDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{bt()}},n().createElement(d.ZP,{title:Ct("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(C.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ct("Filter Data"))),!S&&!Fe&&!Te&&n().createElement(v.Z,{formctrlidprint:"fld347L1TCExportPrint",formctrlidexport:"fld347L1TCExportTable",formctrlidrefresh:"fld347L1TCExportRefresh",title:Nt("MaterialIssueSubDetails"),data:le,exportData:Dt,Items:rt,columnIndex:lt,TableVisibleItem:Ce,userGridViewFormID:c,TableTotalCount:J,triggerApi:t=>{((t,l,n,r,i)=>{if(0===J)return Re.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Re.loading(!0);let o=y.v.Api+"FP347S3/",u={data:{p1:t&&t.MaterialIssueSubDetailsIDPK?t.MaterialIssueSubDetailsIDPK:null,p2:t&&t.MatSubDetailsCode?t.MatSubDetailsCode:null,p3:t&&t.MSubBalanceQty?t.MSubBalanceQty:null,p4:t&&t.MSubQuantity?t.MSubQuantity:null,p5:t&&t.MSubNetQuantity?t.MSubNetQuantity:null,p6:t&&t.MSubPieces?t.MSubPieces:null,p7:t&&t.MSubStatus?t.MSubStatus:null,p8:Fe?"1":"0",p9:null,p10:e.detailsId?e.detailsId:"0",p11:t&&t.MaterialID?t.MaterialID:null,p12:t&&t.MatWareHouseID?t.MatWareHouseID:null,p13:t&&t.MatBinID?t.MatBinID:null,p14:t&&t.MatBatchID?t.MatBatchID:null,p15:t&&t.ProStoreID?t.ProStoreID:null,p16:t&&t.MaterialIssueID?t.MaterialIssueID:null,p17:e.Dialogview?"1":null,p18:null,p19:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p20:t&&t.CreatedTtm?t.CreatedTtm:null,p21:t&&t.CreatedTtmType?t.CreatedTtmType:null,p22:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p23:null,p24:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p25:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p26:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p27:t&&t.MaterialMINo?t.MaterialMINo:null,p28:t&&t.MaterialMSDate?t.MaterialMSDate:null,p29:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p30:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p31:t&&t.MaterialCode?t.MaterialCode:null,p32:t&&t.MaterialName?t.MaterialName:null,p33:t&&t.MIMatDetCode?t.MIMatDetCode:null,p34:t&&t.MaterialTypeID?t.MaterialTypeID:null,p35:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p36:t&&t.MaterialTypeName?t.MaterialTypeName:null,p37:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p38:t&&t.MatMainClassCode?t.MatMainClassCode:null,p39:t&&t.MatMainClassName?t.MatMainClassName:null,p40:t&&t.MatSubClassID?t.MatSubClassID:null,p41:t&&t.MatSubClassCode?t.MatSubClassCode:null,p42:t&&t.MatSubClassName?t.MatSubClassName:null,p43:t&&t.MaterialMakeID?t.MaterialMakeID:null,p44:t&&t.MatMakeCode?t.MatMakeCode:null,p45:t&&t.MatMakeName?t.MatMakeName:null,p46:t&&t.MaterialModelID?t.MaterialModelID:null,p47:t&&t.MatModelCode?t.MatModelCode:null,p48:t&&t.MatModelName?t.MatModelName:null,p49:t&&t.MATUOMID?t.MATUOMID:null,p50:t&&t.MATUOMCode?t.MATUOMCode:null,p51:t&&t.UOMName?t.UOMName:null,p52:t&&t.MatGradeID?t.MatGradeID:null,p53:t&&t.GradeName?t.GradeName:null,p54:t&&t.MatGradeCode?t.MatGradeCode:null,p55:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p56:t&&t.MaterialColorName?t.MaterialColorName:null,p57:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p58:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p59:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p60:t&&t.RawMaterialName?t.RawMaterialName:null,p61:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p62:t&&t.MaterialSizeName?t.MaterialSizeName:null,p63:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p64:t&&t.ZoneID?t.ZoneID:null,p65:t&&t.ZoneCode?t.ZoneCode:null,p66:t&&t.ZoneDisplayName?t.ZoneDisplayName:null,p67:t&&t.ZoneName?t.ZoneName:null,p68:t&&t.WareHouseCode?t.WareHouseCode:null,p69:t&&t.WareHouseName?t.WareHouseName:null,p70:t&&t.MatBinCode?t.MatBinCode:null,p71:t&&t.MatBinName?t.MatBinName:null,p72:t&&t.BatchNo?t.BatchNo:null,p73:t&&t.MatBatchCode?t.MatBatchCode:null,p74:t&&t.CityID?t.CityID:null,p75:t&&t.CityCode?t.CityCode:null,p76:t&&t.CityName?t.CityName:null,p77:t&&t.RegionID?t.RegionID:null,p78:t&&t.RegionCode?t.RegionCode:null,p79:t&&t.RegionName?t.RegionName:null,p80:t&&t.CountryID?t.CountryID:null,p81:t&&t.CountryCode?t.CountryCode:null,p82:t&&t.CountryName?t.CountryName:null,p83:t&&t.ProStoreCode?t.ProStoreCode:null,p84:t&&t.ProStoreName?t.ProStoreName:null,p85:t&&t.MaterialRequestID?t.MaterialRequestID:null,p86:t&&t.MaterialRequestCode?t.MaterialRequestCode:null,p87:t&&t.DivisionID?t.DivisionID:null,p88:t&&t.DivisionCode?t.DivisionCode:null,p89:t&&t.DivisionName?t.DivisionName:null,p90:t&&t.DepartmentID?t.DepartmentID:null,p91:t&&t.DepartmentCode?t.DepartmentCode:null,p92:t&&t.DepartmentName?t.DepartmentName:null,p93:t&&t.ContractID?t.ContractID:null,p94:t&&t.ContractCode?t.ContractCode:null,p95:t&&t.ContractName?t.ContractName:null,p96:t&&t.LocalityID?t.LocalityID:null,p97:t&&t.LocalityCode?t.LocalityCode:null,p98:t&&t.LocalityName?t.LocalityName:null,p99:t&&t.CustomerID?t.CustomerID:null,p100:t&&t.CustomerCode?t.CustomerCode:null,p101:t&&t.CustomerName?t.CustomerName:null,p102:t&&t.MatJobID?t.MatJobID:null,p103:t&&t.JobGOName?t.JobGOName:null,p104:t&&t.MatJobCode?t.MatJobCode:null,p105:t&&t.EmployeeID?t.EmployeeID:null,p106:t&&t.EmployeeCode?t.EmployeeCode:null,p107:t&&t.FirstName?t.FirstName:null,p108:t&&t.EmpContactNo1?t.EmpContactNo1:null,p109:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p110:X.current,p111:param.pageSize,p112:Fe?"DraftMaterialIssueSubDetailsID":"MaterialIssueSubDetailsID",p113:null,p114:null,p115:localStorage.getItem("UserGroupID"),p116:localStorage.getItem("userid")}};Re.loading(!1),Re.alert({open:!0,color:"success",message:[`${Nt(347)} - Exports In Process, Once you have downloaded the file, you will be notified.`]}),(0,s.Z)(o,u,Be.token[0],i).then((e=>{(0,G.PDF_Excel_Generate)(e,Re,rt,ae,a,i)}))})(de,re.column,0,0,t)},Refresh:()=>{Ie(""),ee({current:1,pageSize:10}),m.current.clearItem(),!Be.ShowDetail&&Re.clear(),Be.IsDraft?vt({current:1,pageSize:10},we,"DraftMaterialIssueSubDetailsID"):vt({current:1,pageSize:10},we,"MaterialIssueSubDetailsID")},disabledPrint:!Be.AccessRights.IsPrint,disabledExport:!Be.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Fe&&!Te&&!S&&n().createElement("div",{className:"buttoncard",onClick:()=>mt(!ut)},n().createElement("span",null,ut?n().createElement(d.ZP,{disableFocusListener:!0,title:Ct("Less"),placement:"top"},n().createElement("span",{id:"fld347L1TCLess"},n().createElement(K.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(d.ZP,{disableFocusListener:!0,title:Ct("More"),placement:"top"},n().createElement("span",{id:"fld347L1TCMore"},n().createElement(K.ilJ,{className:"tableFilterColumnIcon"}))))),ut?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Te||!We?null:S||!Be.AccessRights.IsAdd||Fe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld347L1TCFilterDataIsAdd",id:"MaterialIssueSubDetailscoldiv",className:"buttoncard",onClick:()=>{Re.EditClose(!0),ye?(document.getElementById("MaterialIssueSubDetailsFilterDiv").style.width="0%",document.getElementById("MaterialIssueSubDetailsTabDiv").style.width="100%",document.getElementById("MaterialIssueSubDetailsFilterDiv").style.display="none",document.getElementById("MaterialIssueSubDetailscoldiv").style.width="fit-content",document.getElementById("MaterialIssueSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!1)):(document.getElementById("MaterialIssueSubDetailsFilterDiv").style.width="25%",document.getElementById("MaterialIssueSubDetailsTabDiv").style.width="75%",document.getElementById("MaterialIssueSubDetailsFilterDiv").style.display="block",document.getElementById("MaterialIssueSubDetailsfildiv").style.width="fit-content",document.getElementById("MaterialIssueSubDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialIssueSubDetailscoldiv").style.width="fit-content",document.getElementById("MaterialIssueSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Me(!0)),me(!1)}},n().createElement(d.ZP,{title:Ct("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(L.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ct("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!S&&We&&!Te&&!Fe&&n().createElement("div",null,n().createElement("div",{id:"MaterialIssueSubDetailscoldiv",className:"buttoncard",onClick:()=>{ze?je(!1):(je(!0),ft({current:1,pageSize:10}))}},n().createElement(d.ZP,{title:Ct("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld347L1TCTableScrollData"},n().createElement(j.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ct("Table Scroll Data")))),!Te&&Fe?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Re.hideAddBtn(!1),Re.ExpandEntry(),vt({current:1,pageSize:10},we,"MaterialIssueSubDetailsID"),Ge(!1),Ie(""),xe({type:"IsDraft",payload:!1}),ee({current:1,pageSize:10})}},n().createElement(d.ZP,{title:Ct("List"),placement:"top"},n().createElement("div",{id:"fld347L1TCList"},n().createElement(V.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Ct("Drafts")," ",J)):!S&&!Te&&Be.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(W.Z,{color:"secondary",className:"badge",max:999,badgeContent:U,showZero:!0},n().createElement("div",{id:"fld347L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{U>0?(ee({current:1,pageSize:10}),b(0),Re.clear(),Ie(""),xe({type:"Add",payload:!1}),vt({current:1,pageSize:10},we,"DraftMaterialIssueSubDetailsID"),Ge(!0),xe({type:"IsDraft",payload:!0}),Me(!1),Ve(!0),document.getElementById("MaterialIssueSubDetailsFilterDiv").style.width="0%",document.getElementById("MaterialIssueSubDetailsTabDiv").style.width="100%",document.getElementById("MaterialIssueSubDetailsFilterDiv").style.display="none",ee({current:1,pageSize:10}),Pe(!1)):Re.alert({open:!0,color:"warning",message:[Ct("There is no Record Found")]})}},n().createElement(d.ZP,{title:Ct("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(_.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ct("Drafts"))))))):""),!Fe&&!S&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Te||Fe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Qe?"buttonList":"buttonGrid",id:"fld347L1TCListView",onClick:()=>{Ve(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(K.umT,null)),n().createElement("span",null,Ct("List"))),n().createElement("div",{className:Qe||ot?"buttonGrid":"buttonList",id:"fld347L1TCCardView",onClick:()=>{Ve(!1),st(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(N.aCJ,null)),n().createElement("span",null,Ct("Card"))),n().createElement("div",{className:ot?"buttonList":"buttonGrid",id:"fld347L1TCTileView",onClick:()=>{st(!0),Ve(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(k.f_H,null)),n().createElement("span",null,Ct("Tile"))))))),Te?null:ze?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld347L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:E,onPageChange:(e,t)=>{b(t),ft({current:t+1,pageSize:tt.pageSize}),at({current:t+1,pageSize:tt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:Ue,color:"primary",page:tt.current,onChange:(e,t)=>{at({current:t,pageSize:tt.pageSize}),$e(t),ft({current:t,pageSize:tt.pageSize})}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:tt.pageSize,frmctrlid:"fld347L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),We&&n().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",Xe,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld347L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(J),page:E,onPageChange:(e,t)=>{b(t),vt({current:t+1,pageSize:X.pageSize},we,Fe?"DraftMaterialIssueSubDetailsID":"MaterialIssueSubDetailsID",Fe&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:Z,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),Fe)vt({current:t,pageSize:X.pageSize},Ke,"DraftMaterialIssueSubDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ce.length>0?ht(ce,{current:t,pageSize:X.pageSize}):vt({current:t,pageSize:X.pageSize},Ke,"MaterialIssueSubDetailsID")}}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:X.pageSize,id:"fld347L1TCSelectPaging",onChange:e=>{ee({current:1,pageSize:e.target.value}),Fe?vt({current:1,pageSize:e.target.value},Ke,"DraftMaterialIssueSubDetailsID","DraftPage"):ce.length>0?ht(ce,{current:1,pageSize:e.target.value}):vt({current:1,pageSize:e.target.value},Ke,"MaterialIssueSubDetailsID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),We&&n().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",J,") "))),n().createElement("div",{id:"MaterialIssueSubDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"MaterialIssueSubDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ue&&n().createElement(Q,{parentId:e.parentId,searchData:e=>pe(e),formID:c,data:()=>{},visibleData:()=>{},token:Be.token[0],CloseBtnClk:()=>bt(),userGrid:yt,msg:(e,t)=>Re.alert({open:!0,color:t,message:[e]})}),ye&&n().createElement(P.Z,{Refresh:e=>{vt({current:1,pageSize:10},we,"MaterialIssueSubDetailsID")},frmctrlid:"fld347L1TCTableColumnOrder",loading:e=>Re.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Re.alert({open:!0,color:t,message:[e]}),select:ye,userID:p,userGridViewFormID:c,saved:(e,t)=>{e&&Tt(t),Mt(t),xe({type:"showTableview",payload:t})},Token:Be.token[0]})),n().createElement("div",{id:"MaterialIssueSubDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Qe?n().createElement(Pt,null):n().createElement(w.Z,{frmctrlid:"fld347L1TCExpandedCardDual",data:oe,id:"MaterialIssueSubDetails",title:"MaterialIssueSubDetailsCode",cardTile:!!ot,visibleitem:Ce,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{S?Re.select(e):("edit"==t?(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Fe}),xe({type:"ShowDetail",payload:!1}),Re.Expanded(!0)):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Fe}),xe({type:"ShowDetail",payload:!0}),Re.Expanded(!0),Re.viewtoggle()),ue?me(!0):ye?Me(!0):(Me(!1),Me(!1))),Re.hideAddBtn(!0)}})))))))}));var Y=a(37148),U=a(29800),$=(a(10966),a(21392),a(26537)),X=a(30553),ee=a(61956),te=a(44528),ae=a(99090),le=a(35131),ne=a.n(le),re=a(1695),ie=a(61924),oe=a.n(ie),se=a(40826),ue=a(55490),me=a(92371);const de={EnterKeyValues:{MaterialIssueSubDetails:["MISubPieces","MISubStatus","ProStoreName","MaterialMINo","MIMatDetCode","MaterialName","WareHouseName","MaterialIssueSubDetailsCode","MISubBalanceQty","MatBinName","MatBatchCode","MISubNetQuantity","MSubQuantity"]},Label:{MaterialIssueSubDetails:{MISubPieces:["MaterialIssueSubDetailsCode"],MISubStatus:["MaterialIssueSubDetailsCode"],ProStoreID:["MaterialIssueSubDetailsCode"],MaterialIssueID:["MaterialIssueSubDetailsCode"],MaterialIssueDetID:["MaterialIssueSubDetailsCode"],MaterialID:["MaterialIssueSubDetailsCode"],MatWareHouseID:["MaterialIssueSubDetailsCode"],MaterialIssueSubDetailsCode:["MaterialIssueSubDetailsCode"],MISubBalanceQty:["MaterialIssueSubDetailsCode"],MatBinID:["MatBinCode","MatBinName","BatchNo","CurrentStock"],MatBatchID:["MatBatchCode"],MISubNetQuantity:["MaterialIssueSubDetailsCode"],MSubQuantity:["MaterialIssueSubDetailsCode"]}},LabelHeader:{MaterialIssueSubDetails:{MISubPieces:["MaterialIssueSubDetailsCode"],MISubStatus:["MaterialIssueSubDetailsCode"],ProStoreID:["MaterialIssueSubDetailsCode"],MaterialIssueID:["MaterialIssueSubDetailsCode"],MaterialIssueDetID:["MaterialIssueSubDetailsCode"],MaterialID:["MaterialIssueSubDetailsCode"],MatWareHouseID:["MaterialIssueSubDetailsCode"],MaterialIssueSubDetailsCode:["MaterialIssueSubDetailsCode"],MISubBalanceQty:["MaterialIssueSubDetailsCode"],MatBinID:["Bin Code","Bin Name","Batch No","Current Stock"],MatBatchID:["Mat Batch Code"],MISubNetQuantity:["MaterialIssueSubDetailsCode"],MSubQuantity:["MaterialIssueSubDetailsCode"]}},Property:{MaterialIssueSubDetails:{MISubPieces:{id:"fld347_19123",labelID:"MISubPieces",maxLength:"0",labelname:"MISubPieces",frmctrlid:"fld347_19123",frmctrlidname:"MISubPieces",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MISubStatus:{id:"fld347_19124",labelID:"MISubStatus",maxLength:"0",labelname:"MISubStatus",frmctrlid:"fld347_19124",frmctrlidname:"MISubStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ProStoreID:{id:"fld347_19132",clearID:"MaterialIssueSubDetailsProStoreNameClear",type:"select",labelID:"ProStoreIDPK",labelname:"ProStoreID",fielddisplayname:"ProStoreName",fieldOrder:"0",frmctrlid:"fld347_19132",frmctrlidname:"ProStoreID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MaterialIssueID:{id:"fld347_19133",clearID:"MaterialIssueSubDetailsMaterialMINoClear",type:"select",labelID:"MaterialIssueIDPK",labelname:"MaterialIssueID",fielddisplayname:"MaterialMINo",fieldOrder:"0",frmctrlid:"fld347_19133",frmctrlidname:"MaterialIssueID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MaterialIssueDetID:{id:"fld347_19127",clearID:"MaterialIssueSubDetailsMIMatDetCodeClear",type:"select",labelID:"MaterialIssueDetIDPK",labelname:"MaterialIssueDetID",fielddisplayname:"MIMatDetCode",fieldOrder:"0",frmctrlid:"fld347_19127",frmctrlidname:"MaterialIssueDetID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MaterialID:{id:"fld347_19128",clearID:"MaterialIssueSubDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"MaterialID",fielddisplayname:"MaterialName",fieldOrder:"0",frmctrlid:"fld347_19128",frmctrlidname:"MaterialID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MatWareHouseID:{id:"fld347_19129",clearID:"MaterialIssueSubDetailsWareHouseNameClear",type:"select",labelID:"MatWareHouseIDPK",labelname:"MatWareHouseID",fielddisplayname:"WareHouseName",fieldOrder:"0",frmctrlid:"fld347_19129",frmctrlidname:"MatWareHouseID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MaterialIssueSubDetailsCode:{id:"fld347_19119",labelID:"MaterialIssueSubDetailsCode",maxLength:"0",labelname:"MaterialIssueSubDetailsCode",frmctrlid:"fld347_19119",frmctrlidname:"MaterialIssueSubDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MISubBalanceQty:{id:"fld347_19120",labelID:"MISubBalanceQty",maxLength:"",labelname:"MSubBalanceQty",frmctrlid:"fld347_19120",frmctrlidname:"MISubBalanceQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatBinID:{id:"fld347_19130",clearID:"MaterialIssueSubDetailsMatBinNameClear",type:"select",labelID:"MatBinIDPK",labelname:"Bin",fielddisplayname:"MatBinName",fieldOrder:"1",frmctrlid:"fld347_19130",frmctrlidname:"MatBinID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},MatBatchID:{id:"fld347_19131",clearID:"MaterialIssueSubDetailsMatBatchCodeClear",type:"select",labelID:"MatBatchIDPK",labelname:"Batch",fielddisplayname:"MatBatchCode",fieldOrder:"2",frmctrlid:"fld347_19131",frmctrlidname:"MatBatchID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},MISubNetQuantity:{id:"fld347_19122",labelID:"MISubNetQuantity",maxLength:"",labelname:"Current Stock",frmctrlid:"fld347_19122",frmctrlidname:"MISubNetQuantity",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},MSubQuantity:{id:"fld347_19121",labelID:"MSubQuantity",maxLength:"10",labelname:"Quantity",frmctrlid:"fld347_19121",frmctrlidname:"MSubQuantity",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{MaterialIssueSubDetails:{ProStoreID:["ProStoreCode","ProStoreName","MatProStoreAddress1","MatProStoreAddress2","POBoxNo","Pincode","CityName"],MaterialIssueID:["MaterialMINo","MaterialMSDate","RequestedThrough","DriverName","ContractName","LocalityName","ProStoreName","WareHouseName"],MaterialIssueDetID:["MaterialName","MIMatDetQuantity","IsMIReject"],MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],MatWareHouseID:["WareHouseCode","WareHouseName","WHAddress1","WHAddress2","POBoxNo","Pincode","CityName","IsActive","CreatedTtm","UpdatedTtm"],MatBinID:["IsActive","MatBinCode","IsDraft","CreatedTtm","MatBinName"],MatBatchID:["BatchNo","MatBatchCode","IsActive","IsDraft","AvailableQuantity","MatDate","CreatedTtm","MatBatchCode"]}}};a(79117);var pe=a(6562),ce=a(45155),Ie=a(79352),ye=a(49174),Me=(a(38773),a(19089),a(82729),a(75355),a(11107),a(25108));const De={MaterialIssueSubDetailsIDPK:"",MatSubDetailsCode:"",MSubBalanceQty:"",MSubQuantity:"",MSubNetQuantity:"",MSubPieces:"",MSubStatus:"",IsDraft:!1,Remarks:"",MaterialIssueDetID:!1,MaterialID:null,MatWareHouseID:null,MatBinID:null,MatBatchID:null,ProStoreID:null,MaterialIssueID:!1,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",MaterialCode:"",MaterialName:"",MIMatDetCode:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",ZoneID:null,ZoneCode:"",ZoneDisplayName:"",ZoneName:"",WareHouseCode:"",WareHouseName:"",MatBinCode:"",MatBinName:"",BatchNo:"",MatBatchCode:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",ProStoreCode:"",ProStoreName:"",MaterialRequestID:null,MaterialRequestCode:"",DivisionID:null,DivisionCode:"",DivisionName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",CustomerID:null,CustomerCode:"",CustomerName:"",MatJobID:null,JobGOName:"",MatJobCode:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",Type:"MaterialIssueSubDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},ge=(0,l.forwardRef)(((e,t)=>{const a=(0,r.useSelector)((e=>e.form)),[u,m]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!0),[M,D]=(0,l.useState)(!1),[C,N]=(0,l.useState)(!1),[S,E]=(0,l.useState)(""),[b,v]=(0,l.useState)(!1),[h,T]=(0,l.useState)([]),[P,R]=(0,l.useState)(null),[x,w]=(0,l.useReducer)(me.Z,De),[K,k]=(0,l.useState)(!1),[A,L]=(0,l.useState)([]),[F,G]=(0,l.useState)(!1),Z=(0,l.useContext)(e.context?e.context:ve),{cstate:O,cdispatch:W}=e.ContextApi?e.ContextApi:he(),[q,Q]=(0,l.useState)(0),[V,_]=(0,l.useState)(""),H=(0,l.useRef)(null),[z,j]=(0,l.useState)(!1),[J,U]=(0,l.useState)(""),[le,ie]=(0,l.useState)(!0),[se,ye]=(0,l.useState)(!0),[ge,Ce]=(0,l.useState)(!0),[Ne,Se]=(0,l.useState)(!0),[fe,Ee]=(0,l.useState)(!0),[be,Te]=(0,l.useState)(0),[Pe,Re]=(0,l.useState)(!1);let Be=(0,g.Z)();const xe=e=>Be[e]?Be[e]:e,we=e=>O.language?.[e]?O.language[e]:e;(0,l.useEffect)((()=>{ke()}),[]),(0,l.useEffect)((()=>{if(e.parentData?.MIMatDetQuantity&&(Me.log("props.parentData?.MIMatDetQuantity: ",e.parentData?.MIMatDetQuantity,x.MSubQuantity),Te(e.parentData?.MIMatDetQuantity),x.MSubQuantity>e.parentData?.MIMatDetQuantity))return Z.alert({open:!0,color:"warning",message:[xe("Qty should not exceed Issued Qty")]}),!1}),[e.parentData?.MIMatDetQuantity]),(0,l.useEffect)((()=>{e.detailData&&(U(e.detailData),setBalanceQty(Number(e.detailData&&e.detailData[0].RcptDetDOQuantity)))}),[e.detailData]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ke()},CreateEasyProps:(e=!0,t)=>{t?(Ve(t),D(e)):(ke(),D(e))},IsInboxApproval:e=>{j(e)},AddOpen:e=>{ke(),D(!0),Me.log("sub addopen",e),Ke(e,"")}})));const Ke=(t,a)=>{N(t.IsDraft),w({type:"number",name:"MISubPieces",number:t.MISubPieces}),w({type:"number",name:"MISubStatus",number:t.MISubStatus}),w({type:"number",name:"ProStoreID",number:t.ProStoreID?Number(t.ProStoreID):0}),w({type:"text",name:"ProStoreName",value:t.ProStoreName}),w({type:"number",name:"MaterialIssueID",number:t.MaterialIssueID?Number(t.MaterialIssueID):0}),w({type:"text",name:"MaterialMINo",value:t.MaterialMINo}),w({type:"number",name:"MaterialIssueDetID",number:t.MaterialIssueDetID?Number(t.MaterialIssueDetID):0}),w({type:"text",name:"MIMatDetCode",value:t.MIMatDetCode}),w({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),w({type:"text",name:"MaterialName",value:t.MaterialName}),w({type:"number",name:"MatWareHouseID",number:t.MatWareHouseID?Number(t.MatWareHouseID):0}),w({type:"text",name:"WareHouseName",value:t.WareHouseName}),w({type:"text",name:"MaterialIssueSubDetailsCode",value:t.MaterialIssueSubDetailsCode?t.MaterialIssueSubDetailsCode:""}),w({type:"number",name:"MISubBalanceQty",number:Number(t.MISubBalanceQty)}),"SetDefaultMaterialIssueSubDetailsID"==a?_(t.MaterialIssueSubDetailsIDPK):(Q(e.primid?Number(e.primid):t.MaterialIssueSubDetailsIDPK),W({type:"PrimaryId",payload:t.MaterialIssueSubDetailsIDPK})),w({type:"number",name:"MatBinID",number:t.MatBinID?Number(t.MatBinID):0}),w({type:"text",name:"MatBinName",value:t.MatBinName}),w({type:"number",name:"MatBatchID",number:t.MatBatchID?Number(t.MatBatchID):0}),w({type:"text",name:"MatBatchCode",value:t.MatBatchCode}),w({type:"number",name:"MISubNetQuantity",number:Number(t.MISubNetQuantity)}),w({type:"number",name:"MSubQuantity",number:Number(t.MSubQuantity)}),t.IsDraft?p(!0):p(!("1"!=t.IsActive&&!t.IsActive))},ke=()=>{T([]),Q(0),_(""),e.createEasy||Z.resetImg(),w({type:"number",name:"MISubPieces",number:0}),w({type:"number",name:"MISubStatus",number:0}),w({type:"text",name:"ProStoreID",value:null}),w({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialIssueSubDetailsProStoreNameClear")&&document.getElementById("MaterialIssueSubDetailsProStoreNameClear").click(),w({type:"text",name:"MaterialIssueID",value:null}),w({type:"text",name:"MaterialMINo",value:""}),document.getElementById("MaterialIssueSubDetailsMaterialMINoClear")&&document.getElementById("MaterialIssueSubDetailsMaterialMINoClear").click(),w({type:"text",name:"MaterialIssueDetID",value:null}),w({type:"text",name:"MIMatDetCode",value:""}),document.getElementById("MaterialIssueSubDetailsMIMatDetCodeClear")&&document.getElementById("MaterialIssueSubDetailsMIMatDetCodeClear").click(),w({type:"text",name:"MaterialID",value:null}),w({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialIssueSubDetailsMaterialNameClear")&&document.getElementById("MaterialIssueSubDetailsMaterialNameClear").click(),w({type:"text",name:"MatWareHouseID",value:null}),w({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialIssueSubDetailsWareHouseNameClear")&&document.getElementById("MaterialIssueSubDetailsWareHouseNameClear").click(),w({type:"text",name:"MaterialIssueSubDetailsCode",value:""}),w({type:"number",name:"MISubBalanceQty",number:0}),W({type:"PrimaryId",payload:""}),w({type:"text",name:"MatBinID",value:null}),w({type:"text",name:"MatBinName",value:""}),document.getElementById("MaterialIssueSubDetailsMatBinNameClear")&&document.getElementById("MaterialIssueSubDetailsMatBinNameClear").click(),w({type:"text",name:"MatBatchID",value:null}),w({type:"text",name:"MatBatchCode",value:""}),document.getElementById("MaterialIssueSubDetailsMatBatchCodeClear")&&document.getElementById("MaterialIssueSubDetailsMatBatchCodeClear").click(),w({type:"number",name:"MISubNetQuantity",number:0}),w({type:"number",name:"MSubQuantity",number:0}),p(!0),E(""),ie(!0),ye(!0),Ce(!0),Se(!0),Ee(!0)},Ae=t=>{Z.loading(!0),Z.ConfirmAlert(null);const a=y.v.Api+"FP347S2/",l={data:[{p1:"SetDefaultMaterialIssueSubDetailsID"==t?"NORECORDS"!=V&&V?V:0:q,p2:_e(x.MatSubDetailsCode),p3:x.MSubBalanceQty?Number(x.MSubBalanceQty):0,p4:x.MSubQuantity?Number(x.MSubQuantity):0,p5:x.MSubNetQuantity?Number(x.MSubNetQuantity):0,p6:x.MSubPieces?Number(x.MSubPieces):0,p7:x.MSubStatus?Number(x.MSubStatus):0,p8:!1,p9:"SetDefaultMaterialIssueSubDetailsID"==t?"SetDefault":null,p10:e.detailId?e.detailId:x.MaterialIssueDetID,p11:x.MaterialID?x.MaterialID:0,p12:x.MatWareHouseID?x.MatWareHouseID:0,p13:x.MatBinID?x.MatBinID:0,p14:x.MatBatchID?x.MatBatchID:0,p15:x.ProStoreID?x.ProStoreID:0,p16:e.parentId?e.parentId:0,p17:d,p18:"SetDefaultMaterialIssueSubDetailsID"==t,p19:localStorage.getItem("userid"),p20:ne()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,$.Z)(0).then((t=>{(0,s.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:r}),Z.loading(!1)):(t=>{ie(!0),ye(!0),Ce(!0),Se(!0),Ee(!0),Z.loading(!0),Z.ConfirmAlert(null),W({type:"IsDraft",payload:!1});const a=y.v.Api+"FP347S1/",l={data:[{p1:q,p2:_e(x.MatSubDetailsCode),p3:x.MSubBalanceQty?Number(x.MSubBalanceQty):0,p4:x.MSubQuantity?Number(x.MSubQuantity):0,p5:x.MSubNetQuantity?Number(x.MSubNetQuantity):0,p6:x.MSubPieces?Number(x.MSubPieces):0,p7:x.MSubStatus?Number(x.MSubStatus):0,p8:!1,p9:null,p10:e.detailId?e.detailId:x.MaterialIssueDetID,p11:x.MaterialID?x.MaterialID:0,p12:x.MatWareHouseID?x.MatWareHouseID:0,p13:x.MatBinID?x.MatBinID:0,p14:x.MatBatchID?x.MatBatchID:0,p15:x.ProStoreID?x.ProStoreID:0,p16:e.parentId?e.parentId:0,p17:d,p18:!1,p19:localStorage.getItem("userid"),p20:ne()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,$.Z)(0).then((t=>{(0,ee.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(Z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttMaterialIssueSubDetails"),Z.loading(!1),e.createEasy||(Z.RefreshTable(),Z.attachmentSave(t[0].Data.IDPK)),ke(),Z.Approval(z),Te(BalanceQty),document.getElementById("overlayimgAttMaterialIssueSubDetails")&&(document.getElementById("overlayimgAttMaterialIssueSubDetails").style.width="0%",document.getElementById("overlayimgAttMaterialIssueSubDetails").style.display="none",document.getElementById("divMaterialIssueSubDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("MaterialIssueSubDetails-MainTable").style.display="block")):(Z.alert({open:!0,color:"warning",message:[a.message]}),Z.loading(!1)),D(!0)}))}))})()):(Z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Z.loading(!1))}))}))};function Le(t,a,l,n){if(!(O.count>0))return Z.alert({open:!0,color:"warning",message:[xe("Please save atleast one record")]}),!1;if(!((()=>{const e={...x};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return Z.alert({open:!0,color:"warning",message:[xe("Please enter the primary fields")]}),!1;{ie(!0),ye(!0),Ce(!0),Se(!0),Ee(!0),Z.loading(!0),Z.ConfirmAlert(null),W({type:"IsDraft",payload:!1});const a=y.v.Api+"FP347S1/",l={data:[{p1:"SetDefaultMaterialIssueSubDetailsID"==n?"NORECORDS"!=V&&V?V:0:q,p2:_e(x.MatSubDetailsCode),p3:x.MSubBalanceQty?Number(x.MSubBalanceQty):0,p4:x.MSubQuantity?Number(x.MSubQuantity):0,p5:x.MSubNetQuantity?Number(x.MSubNetQuantity):0,p6:x.MSubPieces?Number(x.MSubPieces):0,p7:x.MSubStatus?Number(x.MSubStatus):0,p8:!0,p9:"SetDefaultMaterialIssueSubDetailsID"==n?"SetDefault":null,p10:e.detailId?e.detailId:x.MaterialIssueDetID,p11:x.MaterialID?x.MaterialID:0,p12:x.MatWareHouseID?x.MatWareHouseID:0,p13:x.MatBinID?x.MatBinID:0,p14:x.MatBatchID?x.MatBatchID:0,p15:x.ProStoreID?x.ProStoreID:0,p16:e.parentId?e.parentId:0,p17:!1,p18:"SetDefaultMaterialIssueSubDetailsID"==n,p19:localStorage.getItem("userid"),p20:ne()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,$.Z)(0).then((n=>{(0,ee.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?Z.alert({open:!0,color:"warning",message:[xe("Deleted Successfully")]}):Z.alert({open:!0,color:"success",message:[xe("Saved to Draft")]}),Z.loading(!1),Z.attachmentSave(a[0].Data.IDPK),ke(),Z.RefreshTable(),e.clrImgstate(!0)):(Z.alert({open:!0,color:"warning",message:[l.message]}),Z.loading(!1))}))}))}}function Fe(e){return CreateEasy(e,O,W,Z,H),!1}function Ge(e,a){return AdvanceSearch(e,a,ve,he(),We,t),!1}const Ze=(t,a,l,n,r)=>{const i=y.v.Api+"FP347S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.detailId?e.detailId:x.MaterialIssueDetID?x.MaterialIssueDetID:0,p11:"0"==x.MaterialID?null:x.MaterialID,p12:"0"==x.MatWareHouseID?null:x.MatWareHouseID,p13:"0"==x.MatBinID?null:x.MatBinID,p14:"0"==x.MatBatchID?null:x.MatBatchID,p15:"0"==x.ProStoreID?null:x.ProStoreID,p16:e.parentId?e.parentId:x.MaterialIssueID?x.MaterialIssueID:0,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:"0"==x.MatProcessTypeID?null:x.MatProcessTypeID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:x.MaterialMSDate?x.MaterialMSDate:null,p29:null,p30:null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==x.MaterialTypeID?null:x.MaterialTypeID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==x.MaterialMainClassID?null:x.MaterialMainClassID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:"0"==x.MatSubClassID?null:x.MatSubClassID,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==x.MaterialMakeID?null:x.MaterialMakeID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==x.MaterialModelID?null:x.MaterialModelID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==x.MATUOMID?null:x.MATUOMID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==x.MatGradeID?null:x.MatGradeID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==x.MatMaterialColorID?null:x.MatMaterialColorID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==x.MadeRawMaterialID?null:x.MadeRawMaterialID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==x.MatMaterialSizeID?null:x.MatMaterialSizeID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==x.ZoneID?null:x.ZoneID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:"0"==x.CityID?null:x.CityID,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:"0"==x.RegionID?null:x.RegionID,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:"0"==x.CountryID?null:x.CountryID,p81:a?"%"+a+"%":null,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:a?"%"+a+"%":null,p85:"0"==x.MaterialRequestID?null:x.MaterialRequestID,p86:a?"%"+a+"%":null,p87:"0"==x.DivisionID?null:x.DivisionID,p88:a?"%"+a+"%":null,p89:a?"%"+a+"%":null,p90:"0"==x.DepartmentID?null:x.DepartmentID,p91:a?"%"+a+"%":null,p92:a?"%"+a+"%":null,p93:"0"==x.ContractID?null:x.ContractID,p94:a?"%"+a+"%":null,p95:a?"%"+a+"%":null,p96:"0"==x.LocalityID?null:x.LocalityID,p97:a?"%"+a+"%":null,p98:a?"%"+a+"%":null,p99:"0"==x.CustomerID?null:x.CustomerID,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:"0"==x.MatJobID?null:x.MatJobID,p103:a?"%"+a+"%":null,p104:a?"%"+a+"%":null,p105:"0"==x.EmployeeID?null:x.EmployeeID,p106:a?"%"+a+"%":null,p107:a?"%"+a+"%":null,p108:a?"%"+a+"%":null,p109:a?"%"+a+"%":null,p110:t,p111:10,p112:l,p113:null,p114:null,p115:localStorage.getItem("UserGroupID"),p116:localStorage.getItem("userid")}},u=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});k(!0);const m={data:u};return(0,s.Z)(i,"ClearAll"==l?m:o,"SetDefaultMaterialIssueSubDetailsID"==l&&n?n:O.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return n?n[0]:{};1==t?e>0?L(n):("SetDefaultMaterialIssueSubDetailsID"!=l&&"MatBinIDPK"==l&&Z.alert({open:!0,color:"warning",message:["There is no stock available at the selected contract/location or warehouse."]}),L([])):L(A.concat(n)),"SetDefaultMaterialIssueSubDetailsID"==l&&(e>0?Ke(n[0],"SetDefaultMaterialIssueSubDetailsID"):_("NORECORDS")),k(!1)}else Z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Oe=(t,l,n)=>{const r=y.v.Api+"FP347S3/",i={data:{p1:null,p2:"MatSubDetailsCode"==n&&l?"%"+l+"%":null,p3:"MSubBalanceQty"==n&&l?"%"+l+"%":null,p4:"MSubQuantity"==n&&l?"%"+l+"%":null,p5:"MSubNetQuantity"==n&&l?"%"+l+"%":null,p6:"MSubPieces"==n&&l?"%"+l+"%":null,p7:"MSubStatus"==n&&l?"%"+l+"%":null,p8:null,p9:null,p10:a.MaterialIssueDetailsMaterialIssueDetID?a.MaterialIssueDetailsMaterialIssueDetID:"0",p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:t,p111:10,p112:"MaterialIssueSubDetailsID",p113:null,p114:null,p115:localStorage.getItem("UserGroupID"),p116:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};k(!0),(0,s.Z)(r,"ClearAll"==n?o:i,O.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("MISubPieces"==n&&ie(e>0),"MISubStatus"==n&&ye(e>0),"MISubBalanceQty"==n&&Ce(e>0),"MISubNetQuantity"==n&&Se(e>0),"MSubQuantity"==n&&Ee(e>0),L(l)):("MISubPieces"==n&&ie(!0),"MISubStatus"==n&&ye(!0),"MISubBalanceQty"==n&&Ce(!0),"MISubNetQuantity"==n&&Se(!0),"MSubQuantity"==n&&Ee(!0),L(A.concat(l))),k(!1)}else Z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},We=(0,l.useCallback)((async(e,t,a)=>{"text"==a?w({type:a,name:t,value:e}):"number"==a?w({type:a,name:t,number:Number(e)}):"boolean"==a?w({type:a,name:t,boolean:e}):"date"==a?w({type:"text",name:t,value:e}):"select"==a&&("ProStoreID"==t||"MaterialIssueID"==t||"MaterialIssueDetID"==t||"MaterialID"==t||"MatWareHouseID"==t||"MatBinID"==t&&(w({type:"text",name:"MatBinID",value:e.MatBinIDPK?e.MatBinIDPK:null}),w({type:"text",name:"MatBinName",value:e.MatBinName?e.MatBinName:null}),w({type:"text",name:"MatBatchID",value:e.MatBatchID?e.MatBatchID:null}),w({type:"text",name:"MatBatchCode",value:e.BatchNo?e.BatchNo:null}),w({type:"text",name:"MISubNetQuantity",value:e.CurrentStock?e.CurrentStock:null})))}),[x]);function qe(e){"ProStoreID"==e||"MaterialIssueID"==e||"MaterialIssueDetID"==e||"MaterialID"==e||"MatWareHouseID"==e||"MatBinID"==e&&(w({type:"text",name:"MatBinID",value:null}),w({type:"text",name:"MatBinName",value:""}),w({type:"text",name:"MatBatchID",value:""}),document.getElementById("MaterialIssueSubDetailsMatBinNameClear")&&document.getElementById("MaterialIssueSubDetailsMatBinNameClear").click())}const Qe=e=>{Z.ConfirmAlert(n().createElement(oe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ve(e),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("No"),showCancel:!0},xe("Do you want to update this record?")))};function Ve(e){Z.ConfirmAlert(null),N(e.IsDraft),Q(Number(e.MaterialIssueSubDetailsIDPK)?Number(e.MaterialIssueSubDetailsIDPK):0),w({type:"text",name:"MISubPieces",value:e.MISubPieces?e.MISubPieces:""}),w({type:"text",name:"MISubStatus",value:e.MISubStatus?e.MISubStatus:""}),w({type:"number",name:"ProStoreID",number:e.ProStoreID?Number(e.ProStoreID):0}),w({type:"text",name:"ProStoreName",value:e.ProStoreName?e.ProStoreName:""}),w({type:"number",name:"MaterialIssueID",number:e.MaterialIssueID?Number(e.MaterialIssueID):0}),w({type:"text",name:"MaterialMINo",value:e.MaterialMINo?e.MaterialMINo:""}),w({type:"number",name:"MaterialIssueDetID",number:e.MaterialIssueDetID?Number(e.MaterialIssueDetID):0}),w({type:"text",name:"MIMatDetCode",value:e.MIMatDetCode?e.MIMatDetCode:""}),w({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),w({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),w({type:"number",name:"MatWareHouseID",number:e.MatWareHouseID?Number(e.MatWareHouseID):0}),w({type:"text",name:"WareHouseName",value:e.WareHouseName?e.WareHouseName:""}),w({type:"boolean",name:"MaterialIssueSubDetailsCode",boolean:!!e.MaterialIssueSubDetailsCode&&e.MaterialIssueSubDetailsCode}),w({type:"text",name:"MISubBalanceQty",value:e.MISubBalanceQty?e.MISubBalanceQty:""}),w({type:"number",name:"MatBinID",number:e.MatBinID?Number(e.MatBinID):0}),w({type:"text",name:"MatBinName",value:e.MatBinName?e.MatBinName:""}),w({type:"number",name:"MatBatchID",number:e.MatBatchID?Number(e.MatBatchID):0}),w({type:"text",name:"MatBatchCode",value:e.MatBatchCode?e.MatBatchCode:""}),w({type:"text",name:"MISubNetQuantity",value:e.MISubNetQuantity?e.MISubNetQuantity:""}),w({type:"text",name:"MSubQuantity",value:e.MSubQuantity?e.MSubQuantity:""})}const _e=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:M,onChange:e=>{}},n().createElement(B.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},M&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"8.0.0.51-09:55:08-27-3"}," ",xe("Add "),we("347")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},O.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(pe.Z,{row:!0},n().createElement(X.Z,{labelPlacement:"bottom",id:"fld347L1ECEntryCheckbox",control:n().createElement(f.Z,{checked:"1"==d,onChange:e=>p(e.target.checked)}),label:xe(1==d?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{Z.AttachExpand(!0)},id:"fld347L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(ce.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,xe("Attach")))),!q&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ke()},id:"fld347L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ce.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,xe("Reset")))),"1"===C&&q&&n().createElement(ae.Z,{frmctrlid:"fld347L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Le("draftdel")}}),q&&"1"!==C||e.createEasy?null:O.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Le()},frmctrlid:"fld347L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Ie.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,xe("Draft")))),O.AccessRights.IsAdd||O.AccessRights.IsEdit?n().createElement(re.Z,{frmctrlid:"fld347L1ECSaveBtnIsAdd",name:xe(q?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?x.MatBinID&&0!=x.MatBinID?_e(x.MSubQuantity)?Z.ConfirmAlert(n().createElement(oe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:xe("Are you sure?"),onConfirm:()=>Ae(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:xe("Yes"),cancelBtnText:xe("Cancel"),showCancel:!0},xe(q?"Do you want to Update?":"Do you want to Save?"))):Z.alert({open:!0,color:"warning",message:[xe("Please enter the")+""+we("MSubQuantity")]}):Z.alert({open:!0,color:"warning",message:[xe("Please select the ")+" "+we("MatBinID")]}):Z.alert({open:!0,color:"warning",message:[xe("Please select the ")+" "+we("MaterialIssueDetID")]})}}):null,!e.createEasy&&n().createElement(Y.Z,{frmctrlid:"fld347L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ke(),D(!1),Z.EditClose(!0),Z.hideAddBtn(!1),W({type:"Add",payload:!1})}}))))),n().createElement(o.Z,null,n().createElement("div",{id:"MaterialIssueSubDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"MaterialIssueSubDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"MaterialIssueSubDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MISubPieces,json:de,SPName:"MaterialIssueSubDetails",FieldName:"MISubPieces",tfLabel:we("MISubPieces"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Qe(t),onClick:()=>{le&&Oe(1,"","ClearAll"),ie(!0)},frmctrlid:"fld347_19123",frmctrlidName:"MISubPieces",fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{le&&Oe(e,t,"MISubPieces"),We(t,"MISubPieces","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:x.MISubPieces,loading:K,clear:e=>{e&&(w({type:"text",name:"MISubPieces",value:""}),ie(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MISubStatus,json:de,SPName:"MaterialIssueSubDetails",FieldName:"MISubStatus",tfLabel:we("MISubStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Qe(t),onClick:()=>{se&&Oe(1,"","ClearAll"),ye(!0)},frmctrlid:"fld347_19124",frmctrlidName:"MISubStatus",fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{se&&Oe(e,t,"MISubStatus"),We(t,"MISubStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:x.MISubStatus,loading:K,clear:e=>{e&&(w({type:"text",name:"MISubStatus",value:""}),ye(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{json:de,id:x.ProStoreID,"data-testid":x.ProStoreID,value:x.ProStoreName,SPName:"MaterialIssueSubDetails",FieldName:"ProStoreID",tfLabel:we("ProStoreID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>We(e,"ProStoreID","select"),onChange:(e,t)=>{Ze(e,t,"ProStoreIDPK")},KeyBack:e=>{},fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Fe("385")},Tabledialog:()=>Ge("385","ProStoreID"),loading:K,clear:e=>{e&&qe("ProStoreID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{json:de,id:x.MaterialIssueID,"data-testid":x.MaterialIssueID,value:x.MaterialMINo,SPName:"MaterialIssueSubDetails",FieldName:"MaterialIssueID",tfLabel:we("MaterialIssueID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>We(e,"MaterialIssueID","select"),onChange:(e,t)=>{Ze(e,t,"MaterialIssueIDPK")},KeyBack:e=>{},fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Fe("345")},Tabledialog:()=>Ge("345","MaterialIssueID"),loading:K,clear:e=>{e&&qe("MaterialIssueID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{json:de,id:x.MaterialIssueDetID,"data-testid":x.MaterialIssueDetID,value:x.MIMatDetCode,SPName:"MaterialIssueSubDetails",FieldName:"MaterialIssueDetID",tfLabel:we("MaterialIssueDetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>We(e,"MaterialIssueDetID","select"),onChange:(e,t)=>{Ze(e,t,"MaterialIssueDetIDPK")},KeyBack:e=>{},fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Fe("342")},Tabledialog:()=>Ge("342","MaterialIssueDetID"),loading:K,clear:e=>{e&&qe("MaterialIssueDetID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{json:de,id:x.MaterialID,"data-testid":x.MaterialID,value:x.MaterialName,SPName:"MaterialIssueSubDetails",FieldName:"MaterialID",tfLabel:we("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>We(e,"MaterialID","select"),onChange:(e,t)=>{Ze(e,t,"MaterialIDPK")},KeyBack:e=>{},fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Fe("354")},Tabledialog:()=>Ge("354","MaterialID"),loading:K,clear:e=>{e&&qe("MaterialID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{json:de,id:x.MatWareHouseID,"data-testid":x.MatWareHouseID,value:x.WareHouseName,SPName:"MaterialIssueSubDetails",FieldName:"MatWareHouseID",tfLabel:we("MatWareHouseID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>We(e,"MatWareHouseID","select"),onChange:(e,t)=>{Ze(e,t,"MatWareHouseIDPK")},KeyBack:e=>{},fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Fe("451")},Tabledialog:()=>Ge("451","MatWareHouseID"),loading:K,clear:e=>{e&&qe("MatWareHouseID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(X.Z,{style:{color:"#337ab7"},"data-testid":x.MaterialIssueSubDetailsCode,labelPlacement:"end",control:n().createElement(f.Z,{checked:"1"==x.MaterialIssueSubDetailsCode,onChange:e=>{We(e.target.checked,"MaterialIssueSubDetailsCode","boolean")},frmctrlid:"fld347_19119",frmctrlidname:"MaterialIssueSubDetailsCode",fieldorder:"0",tfLabel:we("MaterialIssueSubDetailsCode")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.MaterialIssueSubDetailsCode?"#21446F":"#999"}},we("MaterialIssueSubDetailsCode"))}))),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MISubBalanceQty,json:de,SPName:"MaterialIssueSubDetails",FieldName:"MISubBalanceQty",tfLabel:we("MISubBalanceQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Qe(t),onClick:()=>{ge&&Oe(1,"","ClearAll"),Ce(!0)},frmctrlid:"fld347_19120",frmctrlidName:"MISubBalanceQty",fieldorder:"0",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{ge&&Oe(e,t,"MISubBalanceQty"),We(t,"MISubBalanceQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ce(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:x.MISubBalanceQty,loading:K,clear:e=>{e&&(w({type:"text",name:"MISubBalanceQty",value:""}),Ce(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ue.Z,{json:de,id:x.MatBinID,"data-testid":x.MatBinID,value:x.MatBinName,SPName:"MaterialIssueSubDetails",FieldName:"MatBinID",tfLabel:we("MatBinID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>We(e,"MatBinID","select"),onChange:(e,t)=>{Ze(e,t,"MatBinIDPK")},KeyBack:e=>{},fieldorder:"1",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Fe("336")},Tabledialog:()=>Ge("336","MatBinID"),loading:K,clear:e=>{e&&qe("MatBinID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ue.Z,{json:de,id:x.MatBatchID,"data-testid":x.MatBatchID,value:x.MatBatchCode,SPName:"MaterialIssueSubDetails",FieldName:"MatBatchID",tfLabel:we("MatBatchID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>We(e,"MatBatchID","select"),onChange:(e,t)=>{Ze(e,t,"MatBatchIDPK")},KeyBack:e=>{},fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Fe("334")},Tabledialog:()=>Ge("334","MatBatchID"),loading:K,clear:e=>{e&&qe("MatBatchID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ue.Z,{"data-testid":x.MISubNetQuantity,json:de,SPName:"MaterialIssueSubDetails",FieldName:"MISubNetQuantity",tfLabel:we("MISubNetQuantity"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Qe(t),onClick:()=>{Ne&&Oe(1,"","ClearAll"),Se(!0)},frmctrlid:"fld347_19122",frmctrlidName:"MISubNetQuantity",fieldorder:"3",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Ne&&Oe(e,t,"MISubNetQuantity"),We(t,"MISubNetQuantity","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Se(!0)},showList:Ne,SideEntryView:!1,KeyBack:e=>{},value:x.MISubNetQuantity,loading:K,clear:e=>{e&&(w({type:"text",name:"MISubNetQuantity",value:""}),Se(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(te.Z,{json:de,"data-testid":x.MSubQuantity,SPName:"MaterialIssueSubDetails",FieldName:"MSubQuantity",tfLabel:we("MSubQuantity"),frmctrlid:"fld342_19085",fieldorder:"3",onChange:e=>{We(e,"MSubQuantity","number")},clear:e=>{e&&w({type:"number",name:"MSubQuantity",number:0})},value:x.MSubQuantity})))),n().createElement("div",{id:"MaterialIssueSubDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MaterialIssueSubDetailsSideBar").style.width="0",void v(!1))},"Ã—"),b&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},P))))))))}));a(77366),a(97829);var Ce=a(65197);const Ne=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[u,m]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[d,p]=(0,l.useState)(!0),[c,I]=(0,l.useState)(e.showDetail),[M,D]=(0,l.useState)(""),[C,N]=n().useState(!1),[S,f]=n().useState(""),[E,b]=n().useState(!1),v=(0,l.useContext)(ve),{cstate:h,cdispatch:T}=he(),[P,R]=(0,l.useState)(!1),[x,w]=(0,l.useState)(""),[K,k]=(0,l.useState)(""),[A,L]=(0,l.useState)("");let G=(0,g.Z)();(0,l.useEffect)((()=>{h.editData.length>0&&(m(h.editData),N(!1),T({type:"PrimaryId",payload:h.editData[0].MaterialIssueSubDetailsIDPK}))}),[h.editData]),(0,l.useEffect)((()=>{h.showTableview&&L(h.showTableview)}),[h.showTableview]),(0,l.useEffect)((()=>{p(h.ExpandDetailValue)}),[h.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{p(e),N(null)},viewtoggle:()=>{N(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=y.v.Api+"FP347S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:e.Dialogview?"1":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:1,p111:10,p112:h.IsDraft?"DraftMaterialIssueSubDetailsID":"MaterialIssueSubDetailsID",p113:null,p114:null,p115:localStorage.getItem("UserGroupID"),p116:localStorage.getItem("userid")}};(0,$.Z)(0).then((e=>{(0,s.Z)(l,n,e).then((e=>{v.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===C&&a.current.clear()}})));const Z=e=>G?.[e]?G?.[e]:e,O=e=>h.language?.[e]?h.language[e]:e;function W(e,t){}const q=(e,t)=>(a,l)=>{f(E?Object.assign(...u.filter((e=>e.MaterialIssueSubDetailsIDPK==t)).map((e=>e))):h.editData),N(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:d,onChange:()=>()=>{e.expandTable&&p(!d)}},!C&&n().createElement(B.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},d?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},h.IsDraft?Z("Draft"):"",O("MaterialIssueSubDetails"),e.viewonly?" ":"("+h.count+")")):"",d?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&h.AccessRights.IsAdd?n().createElement(F.Z,{name:Z("Add"),frmctrlid:"fld347L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{v.hideAddBtn(!0),T({type:"editData",payload:[]}),T({type:"ShowDetail",payload:!1}),T({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&h.AccessRights.IsEdit?n().createElement(U.Z,{frmctrlid:"fld347L1VCEditBtn",onClick:q("panel0",""),disabled:!1}):h.IsDraft&&h.AccessRights.IsAdd&&n().createElement(U.Z,{frmctrlid:"fld347L1VCEditBtnIsAdd",onClick:()=>{q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(Y.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld347L1VCCloseBtn",onClick:()=>{p(!1),v.hideAddBtn(!1),E&&(T({type:"editData",payload:[]}),m([]))}})):"")),n().createElement(o.Z,{style:{display:"block"}},u.map(((t,l)=>n().createElement("div",{key:l},C==="panel"+l?n().createElement(ge,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Ce.Z,{tableName:"MaterialIssueSubDetails",tableID:347,parentID:t.MaterialIssueSubDetailsIDPK,fldid:"fld347L1VCContainer",OpenSlideComponent:W,index:l,refresh:A,val:t,tf:O,t:Z,title:"8.0.0.51-09:55:08-27-3"}))))))))}));var Se=a(67698),fe=a(55995),Ee=a(45965),be=a(41722);a(9175);const ve=(0,l.createContext)(),he=()=>{const e=(0,l.useContext)(ve);if(void 0===e)throw new Error("useCont must be used within  MaterialIssueSubDetailsContext Provider");return e},Te=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),s=(0,l.useRef)(),u=(0,l.useRef)(),[m,d]=(0,l.useState)(!0),[p,c]=(0,l.useState)(),I=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[y,M]=(0,l.useState)(0),[D,g]=(0,l.useReducer)(be.D,be.E),[C,N]=(0,l.useState)(""),[S,f]=(0,l.useState)([]),[E,b]=(0,l.useState)(!1),[v,h]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divMaterialIssueSubDetails-Entry").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainTable").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{d(!0),document.getElementById("divMaterialIssueSubDetails-Entry").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainTable").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:e=>{i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const T=e=>{document.getElementById("divMaterialIssueSubDetails-Entry").style.width="100%",document.getElementById("MaterialIssueSubDetailsEntryTable").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainEntry").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainEntry").style.display="block",document.getElementById("MaterialIssueSubDetails-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialIssueSubDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialIssueSubDetails").style.width="0%",document.getElementById("overlayimgAttMaterialIssueSubDetails").style.display="none"};return(0,l.useEffect)((()=>{I((e=>{(0,$.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),M(t.length)}))}))}),[]),(0,l.useEffect)((()=>{e.accessrights&&Object.keys(e.accessrights).length>0?g({type:"AccessRights",payload:e.accessrights}):g({type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}})}),[e.accessrights]),n().createElement("div",{style:{width:"100%"}},n().createElement(ve.Provider,{value:{cstate:D,cdispatch:g,ContextApi:he,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{u.current.tempsave(e,S),f([])},IsInboxApproval:e=>i.current.IsInboxApproval(e),EditClose:e=>T(),AttachExpand:e=>(s.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewMaterialIssueSubDetails").style.width="50%",document.getElementById("divMaterialIssueSubDetails-Entry").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainTable").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainEntry").style.width="100%",document.getElementById("MaterialIssueSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueSubDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMaterialIssueSubDetails").style.display="block",document.getElementById("overlayimgAttMaterialIssueSubDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{u.current.tempClear(),s.current.clrImgstate(!0)},select:t=>e.edit(t)}},n().createElement("div",{id:"MaterialIssueSubDetails-MainDiv",className:"MainDivStyles displayFlex"},n().createElement("div",{id:"MaterialIssueSubDetails-MainEntry",className:"Maincontent",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"MaterialIssueSubDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialIssueSubDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(Ne,{ref:o,L3data:e.data,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(fe.Z,{ref:u,menurefID:347,fileId:"LogoImgMaterialIssueSubDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewMaterialIssueSubDetails",frmctrlid:"PvwIm_347_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),f(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialIssueSubDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(ge,{ref:i,clrImgstate:e=>s.current.clrImgstate(e),L3data:e.data,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(fe.Z,{ref:u,menurefID:347,fileId:"LogoImgMaterialIssueSubDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewMaterialIssueSubDetails",frmctrlid:"PvwIm_347_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),f(e)},clearTempData:D.Add})),n().createElement("div",{id:"MaterialIssueSubDetails-MainTable"},0!==y?n().createElement(J,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview,detailId:e.detailId}):null)),n().createElement(Se.Z,{ImgAttachment:e=>T(),menurefID:347,fileId:"AttImgMaterialIssueSubDetails",imgid:"overlayimgAttMaterialIssueSubDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{u.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialIssueSubDetails",ref:s,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_347_L1_",timglist:e=>u.current.timglist(e),clearTempData:D.Add}))),n().createElement("div",{id:"MaterialIssueSubDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}));a(11557),window.clickFilter="";const Pe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,l.useRef)(null),(0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[c]=(0,l.useState)("342"),[I,M]=(0,l.useState)(!1),[S,f]=(0,l.useState)(!1),[E,Z]=(0,l.useState)(0),[W,q]=(0,l.useState)(0),[Q,V]=(0,l.useState)(0),[_,J]=(0,l.useState)(0),[Y,U]=(0,l.useState)({current:1,pageSize:100}),[$,X]=(0,l.useState)(""),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)({val:"",column:""}),[ne,re]=(0,l.useState)([]),[ie,oe]=(0,l.useState)(!1),[se,ue]=(0,l.useState)(""),[me,de]=(0,l.useState)(""),[pe,ce]=(0,l.useState)(!1),[Ie,ye]=(0,l.useState)([]),[Me,De]=(0,l.useState)([]),[ge,Ce]=(0,l.useState)([]),[Ne,Se]=(0,l.useState)({children:[{name:"MaterialIssueDetails",children:[]}]}),[fe,Ee]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:Ae),{cstate:ve,cdispatch:he}=e.ContextApi?e.ContextApi:Le();let Pe={MaterialIssueDetIDPK:"",MIMatDetCode:"",MatReqKey:"",MaterialReqDetkey:"",MaterialReturnDetKey:"",PurchaseReqDetKey:"",PurEnqMatDetKey:"",VendorQuotDetKey:"",MIRequestedQuantity:"",MIMatDetQuantity:"",MIPrice:"",MIAmount:"",MIWAC:"",MIRequiredDate:"",MIRequiredDateType:"",MIRequiredDateBetween:"",MIReturnDate:"",MIReturnDateType:"",MIReturnDateBetween:"",MIReturnedQty:"",MIBalanceQty:"",MIStatus:"",PPMCreationAssetKey:"",BDMWorkOrderKey:"",MIApprovalRemarks:"",MIMatDetRemarks:"",MISplitQty:"",MIActualQty:"",IsMIReject:"",IsMIActual:"",IsMISplit:"",IsReturnable:"",MIRejectRemarks:"",BudgetCostMaterialDetKey:"",IsDefault:"",IsDraft:"",Remarks:"",MatProcessTypeID:"",MaterialIssueID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialRequestID:"",MaterialRequestCode:"",DivisionID:"",DivisionCode:"",DivisionName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",CustomerID:"",CustomerCode:"",CustomerName:"",MatWareHouseID:"",WareHouseCode:"",WareHouseName:"",ProStoreID:"",ProStoreCode:"",ProStoreName:"",MatJobID:"",JobGOName:"",MatJobCode:"",EmployeeID:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Re,Be]=(0,l.useState)(Pe),[xe,we]=(0,l.useState)(Pe),[Ke,ke]=(0,l.useState)(!1),[Fe,Ge]=(0,l.useState)(!0),[Ze,Oe]=(0,l.useState)(!1),[We,qe]=(0,l.useState)(!0),[Qe,Ve]=(0,l.useState)({MaterialName:"",MIBalanceQty:"",MIMatDetQuantity:"",IsMIReject:"",MISplitQty:"",MIRejectRemarks:"",MIMatDetCode:"",MatReqKey:"",MaterialReqDetkey:"",MaterialReturnDetKey:"",PurchaseReqDetKey:"",PurEnqMatDetKey:"",VendorQuotDetKey:"",MIRequestedQuantity:"",MIPrice:"",MIAmount:"",MIWAC:"",MIRequiredDate:"",MIReturnDate:"",MIReturnedQty:"",MIStatus:"",PPMCreationAssetKey:"",BDMWorkOrderKey:"",MIApprovalRemarks:"",MIMatDetRemarks:"",MIActualQty:"",IsMIActual:"",IsMISplit:"",IsReturnable:"",BudgetCostMaterialDetKey:"",MatProcessTypeName:"",MaterialMINo:""}),[_e,He]=(0,l.useState)(!1),[ze,je]=(0,l.useState)([]),[Je,Ye]=(0,l.useState)(0),[Ue,$e]=(0,l.useState)(0),[Xe,et]=(0,l.useState)({current:1,pageSize:10}),[tt,at]=(0,l.useState)([]),[lt,nt]=(0,l.useState)([]),[rt,it]=(0,l.useState)(!1),[ot,st]=(0,l.useState)(!1),[ut,mt]=(0,l.useState)(!1),[dt,pt]=(0,l.useState)(""),[ct,It]=O()("342"),[yt,Mt]=(0,l.useState)({}),Dt=[{columns:tt,data:$}];let gt=(0,g.Z)();const Ct=e=>gt[e]?gt[e]:e,Nt=e=>ve.language?.[e]?ve.language[e]:e;(0,l.useEffect)((()=>{Tt(ct)}),[ct]),(0,l.useEffect)((()=>{ve.token.length>0&&(e.parentId?vt(Y,Pe,"MaterialIssueDetID"):re([]))}),[e.parentId]),(0,l.useEffect)((()=>{!fe&&e.parentId?vt(Y,se,"MaterialIssueDetID"):fe&&we(se)}),[se]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{St(e)},tableRefresh:()=>{vt(Y,Pe,"MaterialIssueDetID")},DialogTableProps:e=>{f(e)},HideEntryFields:e=>{mt(!0===e)}})));const St=e=>{""==e?vt(Y,Pe,Ke?"DraftMaterialIssueDetID":"MaterialIssueDetID",Ke&&"DraftPage"):ht(e,{current:1,pageSize:100}),de(e)};function ft(t){be.loading(!0);let a=y.v.Api+"FP342S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(a,l,ve.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,$e(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ye(Math.ceil(a)):20==t.pageSize?Ye(Math.ceil(a/2)):50==t.pageSize?Ye(Math.ceil(a/5)):100==t.pageSize&&Ye(Math.ceil(a/10)),je(e.Output.data),be.loading(!1)}}))}function Et(e,t){he({type:"editData",payload:[t]}),he({type:"IsDraft",payload:Ke}),he({type:"ShowDetail",payload:!0}),be.Expanded(!0),Ze&&ce(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&qe(e.cardview),e.Dialogview&&(f(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&ht(e.searchsafaritext,{current:Y.current,pageSize:Y.pageSize})}),[e.searchsafaritext]);const bt=()=>{be.EditClose(!0),ie?(document.getElementById("MaterialIssueDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MaterialIssueDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MaterialIssueDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",oe(!1),We?(S||(document.getElementById("MaterialIssueDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MaterialIssueDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialIssueDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MaterialIssueDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MaterialIssueDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MaterialIssueDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",oe(!0),document.getElementById("MaterialIssueDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ce(!1),window.clickFilter=!ie},vt=(t,a,l,n,r,i)=>{be.loading(!0),"DraftPage"!==n&&ke(ve.IsDraft);let o=y.v.Api+"FP342S3/",u={data:{p1:r||(a&&a.MaterialIssueDetIDPK?a.MaterialIssueDetIDPK:null),p2:a&&a.MIMatDetCode?a.MIMatDetCode:null,p3:a&&a.MatReqKey?a.MatReqKey:null,p4:a&&a.MaterialReqDetkey?a.MaterialReqDetkey:null,p5:a&&a.MaterialReturnDetKey?a.MaterialReturnDetKey:null,p6:a&&a.PurchaseReqDetKey?a.PurchaseReqDetKey:null,p7:a&&a.PurEnqMatDetKey?a.PurEnqMatDetKey:null,p8:a&&a.VendorQuotDetKey?a.VendorQuotDetKey:null,p9:a&&a.MIRequestedQuantity?a.MIRequestedQuantity:null,p10:a&&a.MIMatDetQuantity?a.MIMatDetQuantity:null,p11:a&&a.MIPrice?a.MIPrice:null,p12:a&&a.MIAmount?a.MIAmount:null,p13:a&&a.MIWAC?a.MIWAC:null,p14:a&&a.MIRequiredDate?a.MIRequiredDate:null,p15:a&&a.MIRequiredDateType?a.MIRequiredDateType:null,p16:a&&a.MIRequiredDateBetween?a.MIRequiredDateBetween:null,p17:a&&a.MIReturnDate?a.MIReturnDate:null,p18:a&&a.MIReturnDateType?a.MIReturnDateType:null,p19:a&&a.MIReturnDateBetween?a.MIReturnDateBetween:null,p20:a&&a.MIReturnedQty?a.MIReturnedQty:null,p21:a&&a.MIBalanceQty?a.MIBalanceQty:null,p22:a&&a.MIStatus?a.MIStatus:null,p23:a&&a.PPMCreationAssetKey?a.PPMCreationAssetKey:null,p24:a&&a.BDMWorkOrderKey?a.BDMWorkOrderKey:null,p25:null,p26:null,p27:a&&a.MISplitQty?a.MISplitQty:null,p28:a&&a.MIActualQty?a.MIActualQty:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:a&&a.BudgetCostMaterialDetKey?a.BudgetCostMaterialDetKey:null,p35:null,p36:"DraftMaterialIssueDetID"==l?"1":"0",p37:null,p38:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p39:e.parentId?Number(e.parentId):0,p40:a&&a.MaterialID?a.MaterialID:null,p41:a&&a.IsActive,p42:null,p43:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p44:a&&a.CreatedTtm?a.CreatedTtm:null,p45:a&&a.CreatedTtmType?a.CreatedTtmType:null,p46:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p47:null,p48:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p49:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p50:a&&a.MaterialRequestID?a.MaterialRequestID:null,p51:a&&a.MaterialRequestCode?a.MaterialRequestCode:null,p52:a&&a.DivisionID?a.DivisionID:null,p53:a&&a.DivisionCode?a.DivisionCode:null,p54:a&&a.DivisionName?a.DivisionName:null,p55:a&&a.DepartmentID?a.DepartmentID:null,p56:a&&a.DepartmentCode?a.DepartmentCode:null,p57:a&&a.DepartmentName?a.DepartmentName:null,p58:a&&a.ContractID?a.ContractID:null,p59:a&&a.ContractCode?a.ContractCode:null,p60:a&&a.ContractName?a.ContractName:null,p61:a&&a.LocalityID?a.LocalityID:null,p62:a&&a.LocalityCode?a.LocalityCode:null,p63:a&&a.LocalityName?a.LocalityName:null,p64:a&&a.CustomerID?a.CustomerID:null,p65:a&&a.CustomerCode?a.CustomerCode:null,p66:a&&a.CustomerName?a.CustomerName:null,p67:a&&a.MatWareHouseID?a.MatWareHouseID:null,p68:a&&a.WareHouseCode?a.WareHouseCode:null,p69:a&&a.WareHouseName?a.WareHouseName:null,p70:a&&a.ProStoreID?a.ProStoreID:null,p71:a&&a.ProStoreCode?a.ProStoreCode:null,p72:a&&a.ProStoreName?a.ProStoreName:null,p73:a&&a.MatJobID?a.MatJobID:null,p74:a&&a.JobGOName?a.JobGOName:null,p75:a&&a.MatJobCode?a.MatJobCode:null,p76:a&&a.EmployeeID?a.EmployeeID:null,p77:a&&a.EmployeeCode?a.EmployeeCode:null,p78:a&&a.FirstName?a.FirstName:null,p79:a&&a.EmpContactNo1?a.EmpContactNo1:null,p80:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p81:a&&a.MaterialMINo?a.MaterialMINo:null,p82:a&&a.MaterialMSDate?a.MaterialMSDate:null,p83:a&&a.MaterialMSDateType?a.MaterialMSDateType:null,p84:a&&a.MaterialMSDateBetween?a.MaterialMSDateBetween:null,p85:a&&a.MaterialTypeID?a.MaterialTypeID:null,p86:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p87:a&&a.MaterialTypeName?a.MaterialTypeName:null,p88:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p89:a&&a.MatMainClassCode?a.MatMainClassCode:null,p90:a&&a.MatMainClassName?a.MatMainClassName:null,p91:a&&a.MatSubClassID?a.MatSubClassID:null,p92:a&&a.MatSubClassCode?a.MatSubClassCode:null,p93:a&&a.MatSubClassName?a.MatSubClassName:null,p94:a&&a.MaterialMakeID?a.MaterialMakeID:null,p95:a&&a.MatMakeCode?a.MatMakeCode:null,p96:a&&a.MatMakeName?a.MatMakeName:null,p97:a&&a.MaterialModelID?a.MaterialModelID:null,p98:a&&a.MatModelCode?a.MatModelCode:null,p99:a&&a.MatModelName?a.MatModelName:null,p100:a&&a.MATUOMID?a.MATUOMID:null,p101:a&&a.MATUOMCode?a.MATUOMCode:null,p102:a&&a.UOMName?a.UOMName:null,p103:a&&a.MatGradeID?a.MatGradeID:null,p104:a&&a.GradeName?a.GradeName:null,p105:a&&a.MatGradeCode?a.MatGradeCode:null,p106:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p107:a&&a.MaterialColorName?a.MaterialColorName:null,p108:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p109:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p110:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p111:a&&a.RawMaterialName?a.RawMaterialName:null,p112:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p113:a&&a.MaterialSizeName?a.MaterialSizeName:null,p114:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p115:a&&a.MaterialCode?a.MaterialCode:null,p116:a&&a.MaterialName?a.MaterialName:null,p117:r?1:t.current,p118:t.pageSize,p119:l,p120:null,p121:null,p122:localStorage.getItem("UserGroupID"),p123:localStorage.getItem("userid")}};(0,s.Z)(o,u,ve.token[0]).then((o=>{if(r)(0,A.a)(o,he,n,i,be);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,V(o.Output.data[0].TotalCount),J(o.Output.data[0].DraftCnt),he({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&J(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?q(Math.ceil(e)):20==t.pageSize?q(Math.ceil(e/2)):50==t.pageSize?q(Math.ceil(e/5)):100==t.pageSize&&q(Math.ceil(e/10)),re(o.Output.data),be.loading(!1)}e.Dialogview||(document.getElementById("divMaterialIssueDetails-Entry").style.height="auto",document.getElementById("divMaterialIssueDetails-Entry").style.display="block")}else be.loading(!1),"DraftMaterialIssueDetID"===l?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ce(!0),ke(!1)):(re([]),U({current:1,pageSize:10}),q(0),V(0),he({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[o.Output.status.message]}),be.loading(!1)}))};function ht(t,a){if(0==ne.length)return!1;be.loading(!0);const l=y.v.Api+"FP342S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ke?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(l,n,ve.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,V(e.Output.data[0].TotalCount),he({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?q(Math.ceil(t)):20==a.pageSize?q(Math.ceil(t/2)):50==a.pageSize?q(Math.ceil(t/5)):100==a.pageSize&&q(Math.ceil(t/10)),re(e.Output.data),be.loading(!1)}else re([]),q(0),V(0),he({type:"count",payload:"0"}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function Tt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),he({type:"language",payload:Object.assign({},...n)}),Ve(a.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),De(t),Ce(a),at(l),nt(a)}const Pt=()=>fe?null:n().createElement("div",null,_e?n().createElement(z.Z,{data:ze,expanded:e=>!S&&be.Expanded(e),edit:(e,t,a)=>{S?be.select(e):(he({type:"editData",payload:[e]}),he({type:"IsDraft",payload:t}),he({type:"ShowDetail",payload:a}))}}):n().createElement(H.Z,{ref:m,frmctrlid:"tblcs_342_L1_",id:"MaterialIssueDetailsTable",headerdata:Me,tablesearchparams:Qe,searchvalue:e=>{Ve(e),ue(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Mt(t),U({current:1,pageSize:10}),vt({current:1,pageSize:10},t,Ke?"DraftMaterialIssueDetID":"MaterialIssueDetID",Ke&&"DraftPage")},bodydata:ne,ondrag:Et,bodyitem:ge,visibleitem:Me,isdraft:Ke,IsView:!0,IsSub:e.tableview,tableExp:!0,tableID:c,showMore:!1,accessrights:ve.AccessRights,expanded:e=>!S&&be.Expanded(e),edit:(e,t,a)=>{S?be.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&vt(Y,null,t?"DraftMaterialIssueDetID":"MaterialIssueDetID",t&&"DraftPage",e[l],a)})),be.hideAddBtn(!0))},viewtoggle:be.viewtoggle,isexpanded:!0,tf:Nt,action:S?"none":"",ViewComp:(e,t)=>{if(e)return n().createElement(Te,{loading:e=>be.loading(e),alertmsg:e=>be.alert(e),ConfirmAlert:e=>{be.ConfirmAlert(e)},data:ve.editData,AddOpen:ve.EditOpen,accessrights:ve.AccessRights,parentId:t.MaterialIssueID,detailId:t.MaterialIssueDetIDPK,IsDraft:ve.EditIsDraft,edit:e=>{Object.keys(t).map(((e,a)=>{e.includes("IDPK")&&vt(Y,null,Ke?"DraftMaterialIssueDetID":"MaterialIssueDetID",Ke&&"DraftPage",t[e],!1)})),be.hideAddBtn(!0),be.SubAddOpen(e)},tableview:e,subForm:e})}}));return(0,l.useEffect)((()=>{Oe(ve.ExpandTableValue)}),[ve.ExpandTableValue]),n().createElement("div",null,!ut&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld342L1ECSearchBar",className:"searchbar1"},n().createElement(D.Z,{frmctrlid:"fld342L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Ct("Search"),value:me,onChange:e=>{de(e),be.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},me?n().createElement("div",{id:"fld342L1TCCloseIconCommonSearch",onClick:()=>{de(""),be.searchItem("")}},n().createElement(u.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld342L1TCInputSearchIcon"},n().createElement(R.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MaterialIssueDetailsgridsearch").focus()}})))),n().createElement("div",null,ve.AccessRights.IsAdd?n().createElement(F.Z,{className:"SaveBtnCommon",frmctrlid:"fld342L1TCAddBtnIsAdd",onClick:()=>{be.hideAddBtn(!0),he({type:"editData",payload:[]}),he({type:"ShowDetail",payload:!1}),he({type:"Add",payload:!0})}}):"")),n().createElement(i.Z,{expanded:Fe,onChange:()=>()=>{Ge(Ze)}},e.Dialogview&&n().createElement(B.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.44-12:11:05 PM-30-5[342]"},`${Nt("342")} (${Q})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld342L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(D.Z,{frmctrlid:"fld342L1TCInputSearch",className:"search_input",type:"text",placeholder:Ct("Search"),value:me,onChange:e=>{St(e)}}),n().createElement("div",{className:"search_icon"},me?n().createElement("div",{id:"fld342L1TCInputCloseIcon",onClick:()=>{St("")}},n().createElement(u.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld342L1TCInputSearchIcon"},n().createElement(R.Z,{className:"InputSearchIcon"}))))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"MaterialIssueDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ke&&n().createElement("div",{frmctrlid:"fld342L1TCFilterDataIsDraft",id:"MaterialIssueDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{bt()}},n().createElement(d.ZP,{title:Ct("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(C.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ct("Filter Data"))),!S&&!Ke&&!fe&&n().createElement(v.Z,{formctrlidprint:"fld342L1TCExportPrint",formctrlidexport:"fld342L1TCExportTable",formctrlidrefresh:"fld342L1TCExportRefresh",title:Nt("MaterialIssueDetails"),data:ee,exportData:Dt,Items:lt,columnIndex:tt,TableVisibleItem:Me,userGridViewFormID:c,TableTotalCount:Q,triggerApi:t=>{((t,l,n,r,i)=>{if(0===Q)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let o=y.v.Api+"FP342S3/",u={data:{p1:t&&t.MaterialIssueDetIDPK?t.MaterialIssueDetIDPK:null,p2:t&&t.MIMatDetCode?t.MIMatDetCode:null,p3:t&&t.MatReqKey?t.MatReqKey:null,p4:t&&t.MaterialReqDetkey?t.MaterialReqDetkey:null,p5:t&&t.MaterialReturnDetKey?t.MaterialReturnDetKey:null,p6:t&&t.PurchaseReqDetKey?t.PurchaseReqDetKey:null,p7:t&&t.PurEnqMatDetKey?t.PurEnqMatDetKey:null,p8:t&&t.VendorQuotDetKey?t.VendorQuotDetKey:null,p9:t&&t.MIRequestedQuantity?t.MIRequestedQuantity:null,p10:t&&t.MIMatDetQuantity?t.MIMatDetQuantity:null,p11:t&&t.MIPrice?t.MIPrice:null,p12:t&&t.MIAmount?t.MIAmount:null,p13:t&&t.MIWAC?t.MIWAC:null,p14:t&&t.MIRequiredDate?t.MIRequiredDate:null,p15:t&&t.MIRequiredDateType?t.MIRequiredDateType:null,p16:t&&t.MIRequiredDateBetween?t.MIRequiredDateBetween:null,p17:t&&t.MIReturnDate?t.MIReturnDate:null,p18:t&&t.MIReturnDateType?t.MIReturnDateType:null,p19:t&&t.MIReturnDateBetween?t.MIReturnDateBetween:null,p20:t&&t.MIReturnedQty?t.MIReturnedQty:null,p21:t&&t.MIBalanceQty?t.MIBalanceQty:null,p22:t&&t.MIStatus?t.MIStatus:null,p23:t&&t.PPMCreationAssetKey?t.PPMCreationAssetKey:null,p24:t&&t.BDMWorkOrderKey?t.BDMWorkOrderKey:null,p25:null,p26:null,p27:t&&t.MISplitQty?t.MISplitQty:null,p28:t&&t.MIActualQty?t.MIActualQty:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:t&&t.BudgetCostMaterialDetKey?t.BudgetCostMaterialDetKey:null,p35:null,p36:Ke?"1":"0",p37:null,p38:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p39:e.parentId?Number(e.parentId):0,p40:t&&t.MaterialID?t.MaterialID:null,p41:t&&t.IsActive,p42:null,p43:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p44:t&&t.CreatedTtm?t.CreatedTtm:null,p45:t&&t.CreatedTtmType?t.CreatedTtmType:null,p46:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p47:null,p48:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p49:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p50:t&&t.MaterialRequestID?t.MaterialRequestID:null,p51:t&&t.MaterialRequestCode?t.MaterialRequestCode:null,p52:t&&t.DivisionID?t.DivisionID:null,p53:t&&t.DivisionCode?t.DivisionCode:null,p54:t&&t.DivisionName?t.DivisionName:null,p55:t&&t.DepartmentID?t.DepartmentID:null,p56:t&&t.DepartmentCode?t.DepartmentCode:null,p57:t&&t.DepartmentName?t.DepartmentName:null,p58:t&&t.ContractID?t.ContractID:null,p59:t&&t.ContractCode?t.ContractCode:null,p60:t&&t.ContractName?t.ContractName:null,p61:t&&t.LocalityID?t.LocalityID:null,p62:t&&t.LocalityCode?t.LocalityCode:null,p63:t&&t.LocalityName?t.LocalityName:null,p64:t&&t.CustomerID?t.CustomerID:null,p65:t&&t.CustomerCode?t.CustomerCode:null,p66:t&&t.CustomerName?t.CustomerName:null,p67:t&&t.MatWareHouseID?t.MatWareHouseID:null,p68:t&&t.WareHouseCode?t.WareHouseCode:null,p69:t&&t.WareHouseName?t.WareHouseName:null,p70:t&&t.ProStoreID?t.ProStoreID:null,p71:t&&t.ProStoreCode?t.ProStoreCode:null,p72:t&&t.ProStoreName?t.ProStoreName:null,p73:t&&t.MatJobID?t.MatJobID:null,p74:t&&t.JobGOName?t.JobGOName:null,p75:t&&t.MatJobCode?t.MatJobCode:null,p76:t&&t.EmployeeID?t.EmployeeID:null,p77:t&&t.EmployeeCode?t.EmployeeCode:null,p78:t&&t.FirstName?t.FirstName:null,p79:t&&t.EmpContactNo1?t.EmpContactNo1:null,p80:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p81:t&&t.MaterialMINo?t.MaterialMINo:null,p82:t&&t.MaterialMSDate?t.MaterialMSDate:null,p83:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p84:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p85:t&&t.MaterialTypeID?t.MaterialTypeID:null,p86:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p87:t&&t.MaterialTypeName?t.MaterialTypeName:null,p88:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p89:t&&t.MatMainClassCode?t.MatMainClassCode:null,p90:t&&t.MatMainClassName?t.MatMainClassName:null,p91:t&&t.MatSubClassID?t.MatSubClassID:null,p92:t&&t.MatSubClassCode?t.MatSubClassCode:null,p93:t&&t.MatSubClassName?t.MatSubClassName:null,p94:t&&t.MaterialMakeID?t.MaterialMakeID:null,p95:t&&t.MatMakeCode?t.MatMakeCode:null,p96:t&&t.MatMakeName?t.MatMakeName:null,p97:t&&t.MaterialModelID?t.MaterialModelID:null,p98:t&&t.MatModelCode?t.MatModelCode:null,p99:t&&t.MatModelName?t.MatModelName:null,p100:t&&t.MATUOMID?t.MATUOMID:null,p101:t&&t.MATUOMCode?t.MATUOMCode:null,p102:t&&t.UOMName?t.UOMName:null,p103:t&&t.MatGradeID?t.MatGradeID:null,p104:t&&t.GradeName?t.GradeName:null,p105:t&&t.MatGradeCode?t.MatGradeCode:null,p106:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p107:t&&t.MaterialColorName?t.MaterialColorName:null,p108:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p109:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p110:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p111:t&&t.RawMaterialName?t.RawMaterialName:null,p112:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p113:t&&t.MaterialSizeName?t.MaterialSizeName:null,p114:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p115:t&&t.MaterialCode?t.MaterialCode:null,p116:t&&t.MaterialName?t.MaterialName:null,p117:Y.current,p118:Q,p119:Ke?"DraftMaterialIssueDetID":"MaterialIssueDetID",p120:null,p121:null,p122:localStorage.getItem("UserGroupID"),p123:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${Nt(342)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,s.Z)(o,u,ve.token[0],i).then((e=>{(0,G.PDF_Excel_Generate)(e,be,lt,X,a,i)}))})(se,ae.column,0,0,t)},Refresh:()=>{de(""),U({current:1,pageSize:100}),m.current.clearItem(),ve.IsDraft?vt({current:1,pageSize:100},Pe,"DraftMaterialIssueDetID"):vt({current:1,pageSize:100},Pe,"MaterialIssueDetID")},disabledPrint:!ve.AccessRights.IsPrint,disabledExport:!ve.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ke&&!fe&&!S&&n().createElement("div",{className:"buttoncard",onClick:()=>st(!ot)},n().createElement("span",null,ot?n().createElement(d.ZP,{disableFocusListener:!0,title:Ct("Less"),placement:"top"},n().createElement("span",{id:"fld342L1TCLess"},n().createElement(K.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(d.ZP,{disableFocusListener:!0,title:Ct("More"),placement:"top"},n().createElement("span",{id:"fld342L1TCMore"},n().createElement(K.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},fe||!Ze?null:S||!ve.AccessRights.IsAdd||Ke?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld342L1TCFilterDataIsAdd",id:"MaterialIssueDetailscoldiv",className:"buttoncard",onClick:()=>{be.EditClose(!0),pe?(document.getElementById("MaterialIssueDetailsFilterDiv").style.width="0%",document.getElementById("MaterialIssueDetailsTabDiv").style.width="100%",document.getElementById("MaterialIssueDetailsFilterDiv").style.display="none",document.getElementById("MaterialIssueDetailscoldiv").style.width="fit-content",document.getElementById("MaterialIssueDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ce(!1)):(document.getElementById("MaterialIssueDetailsFilterDiv").style.width="25%",document.getElementById("MaterialIssueDetailsTabDiv").style.width="75%",document.getElementById("MaterialIssueDetailsFilterDiv").style.display="block",document.getElementById("MaterialIssueDetailsfildiv").style.width="fit-content",document.getElementById("MaterialIssueDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialIssueDetailscoldiv").style.width="fit-content",document.getElementById("MaterialIssueDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ce(!0)),oe(!1)}},n().createElement(d.ZP,{title:Ct("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(L.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ct("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!S&&Ze&&!fe&&!Ke&&n().createElement("div",null,n().createElement("div",{id:"MaterialIssueDetailscoldiv",className:"buttoncard",onClick:()=>{_e?He(!1):(He(!0),ft({current:1,pageSize:100}))}},n().createElement(d.ZP,{title:Ct("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld342L1TCTableScrollData"},n().createElement(j.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ct("Table Scroll Data")))))):""),!Ke&&!S&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||Ke?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:We?"buttonList":"buttonGrid",id:"fld342L1TCListView",onClick:()=>{qe(!0),it(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(K.umT,null)),n().createElement("span",null,Ct("List"))),n().createElement("div",{className:We||rt?"buttonGrid":"buttonList",id:"fld342L1TCCardView",onClick:()=>{qe(!1),it(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(N.aCJ,null)),n().createElement("span",null,Ct("Card"))),n().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld342L1TCTileView",onClick:()=>{it(!0),qe(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(k.f_H,null)),n().createElement("span",null,Ct("Tile"))))))),fe?null:_e?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld342L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Ue),page:E,onPageChange:(e,t)=>{Z(t),ft({current:t+1,pageSize:Xe.pageSize}),et({current:t+1,pageSize:Xe.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:Je,color:"primary",page:Xe.current,onChange:(e,t)=>{et({current:t,pageSize:Xe.pageSize}),Ye(t),ft({current:t,pageSize:Xe.pageSize})}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:Xe.pageSize,frmctrlid:"fld342L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Ze&&n().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",Ue,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(x.Z,{style:{color:"#777"},id:"fld342L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(Q),page:E,onPageChange:(e,t)=>{Z(t),vt({current:t+1,pageSize:Y.pageSize},Pe,Ke?"DraftMaterialIssueDetID":"MaterialIssueDetID",Ke&&"DraftPage"),U({current:t+1,pageSize:Y.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:W,siblingCount:0,color:"primary",page:Y.current,onChange:(e,t)=>{if(U({current:t,pageSize:Y.pageSize}),Ke)vt({current:t,pageSize:Y.pageSize},Re,"DraftMaterialIssueDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";me.length>0?ht(me,{current:t,pageSize:Y.pageSize}):vt({current:t,pageSize:Y.pageSize},Re,"MaterialIssueDetID")}}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:Y.pageSize,id:"fld342L1TCSelectPaging",onChange:e=>{U({current:1,pageSize:e.target.value}),Ke?vt({current:1,pageSize:e.target.value},Re,"DraftMaterialIssueDetID","DraftPage"):me.length>0?ht(me,{current:1,pageSize:e.target.value}):vt({current:1,pageSize:e.target.value},Re,"MaterialIssueDetID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Ze&&n().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",Q,") "))),n().createElement("div",{id:"MaterialIssueDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"MaterialIssueDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ie&&n().createElement(b,{parentId:e.parentId,searchData:e=>{ue(e||yt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:c,data:()=>{},visibleData:()=>{},token:ve.token[0],CloseBtnClk:()=>bt(),userGrid:ct,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]})}),pe&&n().createElement(P.Z,{Refresh:e=>{vt({current:1,pageSize:100},Pe,"MaterialIssueDetID")},frmctrlid:"fld342L1TCTableColumnOrder",loading:e=>be.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:pe,userID:p,userGridViewFormID:c,saved:(e,t)=>{e&&Tt(t),It(t),he({type:"showTableview",payload:t})},Token:ve.token[0]})),n().createElement("div",{id:"MaterialIssueDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},We?n().createElement(Pt,null):n().createElement(w.Z,{frmctrlid:"fld342L1TCExpandedCardDual",data:ne,id:"MaterialIssueDetails",title:"MIMatDetCode",cardTile:!!rt,visibleitem:Me,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{S?be.select(e):("edit"==t?(he({type:"editData",payload:[e]}),he({type:"IsDraft",payload:Ke}),he({type:"ShowDetail",payload:!1}),be.Expanded(!0)):(he({type:"editData",payload:[e]}),he({type:"IsDraft",payload:Ke}),he({type:"ShowDetail",payload:!0}),be.Expanded(!0),be.viewtoggle()),ie?oe(!0):pe?ce(!0):(ce(!1),ce(!1))),be.hideAddBtn(!0)}})))))))})),Re={EnterKeyValues:{MaterialIssueDetails:["MaterialName","MIBalanceQty","MIMatDetQuantity","IsMIReject","MISplitQty","MIRejectRemarks","MIMatDetCode","MatReqKey","MaterialReqDetkey","MaterialReturnDetKey","PurchaseReqDetKey","PurEnqMatDetKey","VendorQuotDetKey","MIRequestedQuantity","MIPrice","MIAmount","MIWAC","MIRequiredDate","MIReturnDate","MIReturnedQty","MIStatus","PPMCreationAssetKey","BDMWorkOrderKey","MIApprovalRemarks","MIMatDetRemarks","MIActualQty","IsMIActual","IsMISplit","IsReturnable","BudgetCostMaterialDetKey","MatProcessTypeName","MaterialMINo"]},Label:{MaterialIssueDetails:{MaterialID:["MaterialCode","MaterialName"],MIBalanceQty:["MIMatDetCode"],MIMatDetQuantity:["MIMatDetCode"],IsMIReject:["MIMatDetCode"],MISplitQty:["MIMatDetCode"],MIRejectRemarks:["MIMatDetCode"],MIMatDetCode:["MIMatDetCode"],MatReqKey:["MIMatDetCode"],MaterialReqDetkey:["MIMatDetCode"],MaterialReturnDetKey:["MIMatDetCode"],PurchaseReqDetKey:["MIMatDetCode"],PurEnqMatDetKey:["MIMatDetCode"],VendorQuotDetKey:["MIMatDetCode"],MIRequestedQuantity:["MIMatDetCode"],MIPrice:["MIMatDetCode"],MIAmount:["MIMatDetCode"],MIWAC:["MIMatDetCode"],MIRequiredDate:["MIMatDetCode"],MIReturnDate:["MIMatDetCode"],MIReturnedQty:["MIMatDetCode"],MIStatus:["MIMatDetCode"],PPMCreationAssetKey:["MIMatDetCode"],BDMWorkOrderKey:["MIMatDetCode"],MIApprovalRemarks:["MIMatDetCode"],MIMatDetRemarks:["MIMatDetCode"],MIActualQty:["MIMatDetCode"],IsMIActual:["MIMatDetCode"],IsMISplit:["MIMatDetCode"],IsReturnable:["MIMatDetCode"],BudgetCostMaterialDetKey:["MIMatDetCode"],MatProcessTypeID:["MIMatDetCode"],MaterialIssueID:["MIMatDetCode"]}},LabelHeader:{MaterialIssueDetails:{MaterialID:["Material Code","Material Name"],MIBalanceQty:["MIMatDetCode"],MIMatDetQuantity:["MIMatDetCode"],IsMIReject:["MIMatDetCode"],MISplitQty:["MIMatDetCode"],MIRejectRemarks:["MIMatDetCode"],MIMatDetCode:["MIMatDetCode"],MatReqKey:["MIMatDetCode"],MaterialReqDetkey:["MIMatDetCode"],MaterialReturnDetKey:["MIMatDetCode"],PurchaseReqDetKey:["MIMatDetCode"],PurEnqMatDetKey:["MIMatDetCode"],VendorQuotDetKey:["MIMatDetCode"],MIRequestedQuantity:["MIMatDetCode"],MIPrice:["MIMatDetCode"],MIAmount:["MIMatDetCode"],MIWAC:["MIMatDetCode"],MIRequiredDate:["MIMatDetCode"],MIReturnDate:["MIMatDetCode"],MIReturnedQty:["MIMatDetCode"],MIStatus:["MIMatDetCode"],PPMCreationAssetKey:["MIMatDetCode"],BDMWorkOrderKey:["MIMatDetCode"],MIApprovalRemarks:["MIMatDetCode"],MIMatDetRemarks:["MIMatDetCode"],MIActualQty:["MIMatDetCode"],IsMIActual:["MIMatDetCode"],IsMISplit:["MIMatDetCode"],IsReturnable:["MIMatDetCode"],BudgetCostMaterialDetKey:["MIMatDetCode"],MatProcessTypeID:["MIMatDetCode"],MaterialIssueID:["MIMatDetCode"]}},Property:{MaterialIssueDetails:{MaterialID:{id:"fld342_19111",clearID:"MaterialIssueDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",fieldOrder:"1",frmctrlid:"fld342_19111",frmctrlidname:"MaterialID",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},MIBalanceQty:{id:"fld342_19092",labelID:"MIBalanceQty",maxLength:"",labelname:"Balance Qty",frmctrlid:"fld342_19092",frmctrlidname:"MIBalanceQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},MIMatDetQuantity:{id:"fld342_19085",labelID:"MIMatDetQuantity",maxLength:"10",labelname:"Issued Quantity",frmctrlid:"fld342_19085",frmctrlidname:"MIMatDetQuantity",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMIReject:{id:"fld342_19100",labelID:"IsMIReject",maxLength:"",labelname:"Reject",frmctrlid:"fld342_19100",frmctrlidname:"IsMIReject",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MISplitQty:{id:"fld342_19098",labelID:"MISplitQty",maxLength:"10",labelname:"Rejected Quantity",frmctrlid:"fld342_19098",frmctrlidname:"MISplitQty",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIRejectRemarks:{id:"fld342_19104",labelID:"MIRejectRemarks",maxLength:"10",labelname:"Reject Remarks",frmctrlid:"fld342_19104",frmctrlidname:"MIRejectRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIMatDetCode:{id:"fld342_19077",labelID:"MIMatDetCode",maxLength:"50",labelname:"MIMatDetCode",frmctrlid:"fld342_19077",frmctrlidname:"MIMatDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatReqKey:{id:"fld342_19078",labelID:"MatReqKey",maxLength:"",labelname:"MatReqKey",frmctrlid:"fld342_19078",frmctrlidname:"MatReqKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialReqDetkey:{id:"fld342_19079",labelID:"MaterialReqDetkey",maxLength:"",labelname:"MaterialReqDetkey",frmctrlid:"fld342_19079",frmctrlidname:"MaterialReqDetkey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialReturnDetKey:{id:"fld342_19080",labelID:"MaterialReturnDetKey",maxLength:"",labelname:"MaterialReturnDetKey",frmctrlid:"fld342_19080",frmctrlidname:"MaterialReturnDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PurchaseReqDetKey:{id:"fld342_19081",labelID:"PurchaseReqDetKey",maxLength:"",labelname:"PurchaseReqDetKey",frmctrlid:"fld342_19081",frmctrlidname:"PurchaseReqDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PurEnqMatDetKey:{id:"fld342_19082",labelID:"PurEnqMatDetKey",maxLength:"",labelname:"PurEnqMatDetKey",frmctrlid:"fld342_19082",frmctrlidname:"PurEnqMatDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},VendorQuotDetKey:{id:"fld342_19083",labelID:"VendorQuotDetKey",maxLength:"",labelname:"VendorQuotDetKey",frmctrlid:"fld342_19083",frmctrlidname:"VendorQuotDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIRequestedQuantity:{id:"fld342_19084",labelID:"MIRequestedQuantity",maxLength:"",labelname:"MIRequestedQuantity",frmctrlid:"fld342_19084",frmctrlidname:"MIRequestedQuantity",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIPrice:{id:"fld342_19086",labelID:"MIPrice",maxLength:"",labelname:"MIPrice",frmctrlid:"fld342_19086",frmctrlidname:"MIPrice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIAmount:{id:"fld342_19087",labelID:"MIAmount",maxLength:"",labelname:"MIAmount",frmctrlid:"fld342_19087",frmctrlidname:"MIAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIWAC:{id:"fld342_19088",labelID:"MIWAC",maxLength:"",labelname:"MIWAC",frmctrlid:"fld342_19088",frmctrlidname:"MIWAC",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIRequiredDate:{id:"fld342_19089",labelID:"MIRequiredDate",maxLength:"",labelname:"MIRequiredDate",frmctrlid:"fld342_19089",frmctrlidname:"MIRequiredDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIReturnDate:{id:"fld342_19090",labelID:"MIReturnDate",maxLength:"",labelname:"MIReturnDate",frmctrlid:"fld342_19090",frmctrlidname:"MIReturnDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIReturnedQty:{id:"fld342_19091",labelID:"MIReturnedQty",maxLength:"",labelname:"MIReturnedQty",frmctrlid:"fld342_19091",frmctrlidname:"MIReturnedQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIStatus:{id:"fld342_19093",labelID:"MIStatus",maxLength:"",labelname:"MIStatus",frmctrlid:"fld342_19093",frmctrlidname:"MIStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAssetKey:{id:"fld342_19094",labelID:"PPMCreationAssetKey",maxLength:"",labelname:"PPMCreationAssetKey",frmctrlid:"fld342_19094",frmctrlidname:"PPMCreationAssetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BDMWorkOrderKey:{id:"fld342_19095",labelID:"BDMWorkOrderKey",maxLength:"",labelname:"BDMWorkOrderKey",frmctrlid:"fld342_19095",frmctrlidname:"BDMWorkOrderKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIApprovalRemarks:{id:"fld342_19096",labelID:"MIApprovalRemarks",maxLength:"-1",labelname:"MIApprovalRemarks",frmctrlid:"fld342_19096",frmctrlidname:"MIApprovalRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIMatDetRemarks:{id:"fld342_19097",labelID:"MIMatDetRemarks",maxLength:"-1",labelname:"MIMatDetRemarks",frmctrlid:"fld342_19097",frmctrlidname:"MIMatDetRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIActualQty:{id:"fld342_19099",labelID:"MIActualQty",maxLength:"",labelname:"MIActualQty",frmctrlid:"fld342_19099",frmctrlidname:"MIActualQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMIActual:{id:"fld342_19101",labelID:"IsMIActual",maxLength:"",labelname:"IsMIActual",frmctrlid:"fld342_19101",frmctrlidname:"IsMIActual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMISplit:{id:"fld342_19102",labelID:"IsMISplit",maxLength:"",labelname:"IsMISplit",frmctrlid:"fld342_19102",frmctrlidname:"IsMISplit",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsReturnable:{id:"fld342_19103",labelID:"IsReturnable",maxLength:"",labelname:"IsReturnable",frmctrlid:"fld342_19103",frmctrlidname:"IsReturnable",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BudgetCostMaterialDetKey:{id:"fld342_19105",labelID:"BudgetCostMaterialDetKey",maxLength:"",labelname:"BudgetCostMaterialDetKey",frmctrlid:"fld342_19105",frmctrlidname:"BudgetCostMaterialDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatProcessTypeID:{id:"fld342_19109",clearID:"MaterialIssueDetailsMatProcessTypeNameClear",type:"select",labelID:"MatProcessTypeIDPK",labelname:"MatProcessTypeID",fielddisplayname:"MatProcessTypeName",fieldOrder:"2",frmctrlid:"fld342_19109",frmctrlidname:"MatProcessTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MaterialIssueID:{id:"fld342_19110",clearID:"MaterialIssueDetailsMaterialMINoClear",type:"select",labelID:"MaterialIssueIDPK",labelname:"MaterialIssueID",fielddisplayname:"MaterialMINo",fieldOrder:"2",frmctrlid:"fld342_19110",frmctrlidname:"MaterialIssueID",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{MaterialIssueDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],MatProcessTypeID:["MatProcessTypeCode","MatProcessTypeName","IsActive","CreatedTtm","UpdatedTtm"],MaterialIssueID:["MaterialMINo","MaterialMSDate","RequestedThrough","DriverName","ContractName","LocalityName","ProStoreName","WareHouseName"]}}};var Be=a(16233),xe=a.n(Be);const we={MaterialIssueDetIDPK:"",MIMatDetCode:"",MatReqKey:"",MaterialReqDetkey:"",MaterialReturnDetKey:"",PurchaseReqDetKey:"",PurEnqMatDetKey:"",VendorQuotDetKey:"",MIRequestedQuantity:"",MIMatDetQuantity:"",MIPrice:"",MIAmount:"",MIWAC:"",MIRequiredDate:"",MIRequiredDateType:"",MIRequiredDateBetween:"",MIReturnDate:"",MIReturnDateType:"",MIReturnDateBetween:"",MIReturnedQty:"",MIBalanceQty:"",MIStatus:"",PPMCreationAssetKey:"",BDMWorkOrderKey:"",MIApprovalRemarks:"",MIMatDetRemarks:"",MISplitQty:"",MIActualQty:"",IsMIReject:!1,IsMIActual:!1,IsMISplit:!1,IsReturnable:!1,MIRejectRemarks:"",BudgetCostMaterialDetKey:"",IsDefault:!1,IsDraft:!1,Remarks:"",MatProcessTypeID:null,MaterialIssueID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialRequestID:null,MaterialRequestCode:"",DivisionID:null,DivisionCode:"",DivisionName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",CustomerID:null,CustomerCode:"",CustomerName:"",MatWareHouseID:null,WareHouseCode:"",WareHouseName:"",ProStoreID:null,ProStoreCode:"",ProStoreName:"",MatJobID:null,JobGOName:"",MatJobCode:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"MaterialIssueDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ke=(0,l.forwardRef)(((e,t)=>{const a=(0,r.useSelector)((e=>e.form)),[u,m]=(0,l.useState)(!1),[d,p]=(0,l.useState)(!0),[M,D]=(0,l.useState)(!1),[C,N]=(0,l.useState)(!1),[S,E]=(0,l.useState)(""),[b,v]=(0,l.useState)(!1),[h,T]=(0,l.useState)([]),[P,R]=(0,l.useState)(null),[x,w]=(0,l.useReducer)(me.Z,we),[K,k]=(0,l.useState)(!1),[A,L]=(0,l.useState)([]),[F,G]=(0,l.useState)(!1),Z=(0,l.useContext)(e.context?e.context:Ae),{cstate:O,cdispatch:W}=e.ContextApi?e.ContextApi:Le(),[q,Q]=(0,l.useState)(0),[V,_]=(0,l.useState)(""),H=(0,l.useRef)(null),[z,j]=xe()("342"),[J,U]=(0,l.useState)(!1),ae=(0,l.useRef)(null),[le,ie]=(0,l.useState)(!0),[de,Ie]=(0,l.useState)(!0),[Me,De]=(0,l.useState)(!0),[Ce,Ne]=(0,l.useState)(!0),[Se,fe]=(0,l.useState)(!0),[Ee,be]=(0,l.useState)(!0),[he,Te]=(0,l.useState)(!0),[Pe,Be]=(0,l.useState)(!0),[Ke,ke]=(0,l.useState)(!0),[Fe,Ge]=(0,l.useState)(!0),[Ze,Oe]=(0,l.useState)(!0),[We,qe]=(0,l.useState)(!0),[Qe,Ve]=(0,l.useState)(""),[_e,He]=(0,l.useState)(""),[ze,je]=(0,l.useState)(!0),[Je,Ye]=(0,l.useState)(!0),[Ue,$e]=(0,l.useState)(!0),[Xe,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)(!0),[lt,nt]=(0,l.useState)(!0),[rt,it]=(0,l.useState)(!0),[ot,st]=(0,l.useState)(!0),[ut,mt]=(0,l.useState)(!1);let dt=(0,g.Z)();const[pt,ct]=(0,l.useState)({}),It=e=>dt[e]?dt[e]:e,yt=t=>O.language?.[t]?O.language[t]:e.createEasy?pt?.[t]:t;(0,l.useEffect)((()=>{Ct()}),[]),(0,l.useEffect)((()=>{Ct()}),[e.parentId]),(0,l.useEffect)((()=>{O.editData.length>0?(gt(O.editData[0],""),D(!0)):O.Add&&(Ct(),D(!0))}),[O.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ct(Object.assign({},...t))}(z)}),[z]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ct()},CreateEasyProps:(e=!0,t)=>{j(!0),t?(Pt(t),D(e)):(Ct(),D(e))},AddOpen:e=>{Ct(),D(!0)},SubAddOpen:e=>{U(!0),setTimeout((function(){ae.current.AddOpen(e)}),500)}})));const Mt=e=>e?e.split("-").reverse().join("-"):null,Dt=e=>{if(e){let t=Mt(e);return"Invalid Date"!=new Date(t)?(0,se.format)(new Date(t),"yyyy-MM-dd"):e}return null},gt=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),N(t.IsDraft),"SetDefaultMaterialIssueDetID"==a?_(t.MaterialIssueDetIDPK):(Q(e.primid?Number(e.primid):t.MaterialIssueDetIDPK),W({type:"PrimaryId",payload:t.MaterialIssueDetIDPK})),w({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),w({type:"text",name:"MaterialName",value:t.MaterialName}),w({type:"number",name:"MIBalanceQty",number:Number(t.MIBalanceQty)}),w({type:"number",name:"MIMatDetQuantity",number:Number(t.MIMatDetQuantity)}),w({type:"boolean",name:"IsMIReject",boolean:!!t.IsMIReject&&t.IsMIReject}),w({type:"number",name:"MISplitQty",number:Number(t.MISplitQty)}),w({type:"text",name:"MIRejectRemarks",value:t.MIRejectRemarks?t.MIRejectRemarks:""}),w({type:"text",name:"MIMatDetCode",value:t.MIMatDetCode?t.MIMatDetCode:""}),w({type:"number",name:"MatReqKey",number:t.MatReqKey}),w({type:"number",name:"MaterialReqDetkey",number:t.MaterialReqDetkey}),w({type:"number",name:"MaterialReturnDetKey",number:t.MaterialReturnDetKey}),w({type:"number",name:"PurchaseReqDetKey",number:t.PurchaseReqDetKey}),w({type:"number",name:"PurEnqMatDetKey",number:t.PurEnqMatDetKey}),w({type:"number",name:"VendorQuotDetKey",number:t.VendorQuotDetKey}),w({type:"number",name:"MIRequestedQuantity",number:Number(t.MIRequestedQuantity)}),w({type:"number",name:"MIPrice",number:Number(t.MIPrice)}),w({type:"number",name:"MIAmount",number:Number(t.MIAmount)}),w({type:"number",name:"MIWAC",number:Number(t.MIWAC)}),w({type:"text",name:"MIRequiredDate",value:t.MIRequiredDate?Mt(t.MIRequiredDate):null}),w({type:"text",name:"MIReturnDate",value:t.MIReturnDate?Mt(t.MIReturnDate):null}),w({type:"number",name:"MIReturnedQty",number:Number(t.MIReturnedQty)}),w({type:"boolean",name:"MIStatus",boolean:!!t.MIStatus&&t.MIStatus}),w({type:"number",name:"PPMCreationAssetKey",number:t.PPMCreationAssetKey}),w({type:"number",name:"BDMWorkOrderKey",number:t.BDMWorkOrderKey}),w({type:"text",name:"MIApprovalRemarks",value:t.MIApprovalRemarks?t.MIApprovalRemarks:""}),w({type:"text",name:"MIMatDetRemarks",value:t.MIMatDetRemarks?t.MIMatDetRemarks:""}),w({type:"number",name:"MIActualQty",number:Number(t.MIActualQty)}),w({type:"boolean",name:"IsMIActual",boolean:!!t.IsMIActual&&t.IsMIActual}),w({type:"boolean",name:"IsMISplit",boolean:!!t.IsMISplit&&t.IsMISplit}),w({type:"boolean",name:"IsReturnable",boolean:!!t.IsReturnable&&t.IsReturnable}),w({type:"number",name:"BudgetCostMaterialDetKey",number:t.BudgetCostMaterialDetKey}),w({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),w({type:"number",name:"MatProcessTypeID",number:t.MatProcessTypeID?Number(t.MatProcessTypeID):0}),w({type:"text",name:"MatProcessTypeName",value:t.MatProcessTypeName}),w({type:"number",name:"MaterialIssueID",number:t.MaterialIssueID?Number(t.MaterialIssueID):0}),w({type:"text",name:"MaterialMINo",value:t.MaterialMINo}),t.IsDraft?p(!0):p(!("1"!=t.IsActive&&!t.IsActive))},Ct=()=>{T([]),Q(0),_(""),e.createEasy||Z.resetImg(),W({type:"PrimaryId",payload:""}),w({type:"text",name:"MaterialID",value:null}),w({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialIssueDetailsMaterialNameClear")&&document.getElementById("MaterialIssueDetailsMaterialNameClear").click(),w({type:"number",name:"MIBalanceQty",number:0}),w({type:"number",name:"MIMatDetQuantity",number:0}),w({type:"boolean",name:"IsMIReject",boolean:!1}),w({type:"number",name:"MISplitQty",number:0}),w({type:"text",name:"MIRejectRemarks",value:""}),w({type:"text",name:"MIMatDetCode",value:""}),w({type:"number",name:"MatReqKey",number:0}),w({type:"number",name:"MaterialReqDetkey",number:0}),w({type:"number",name:"MaterialReturnDetKey",number:0}),w({type:"number",name:"PurchaseReqDetKey",number:0}),w({type:"number",name:"PurEnqMatDetKey",number:0}),w({type:"number",name:"VendorQuotDetKey",number:0}),w({type:"number",name:"MIRequestedQuantity",number:0}),w({type:"number",name:"MIPrice",number:0}),w({type:"number",name:"MIAmount",number:0}),w({type:"number",name:"MIWAC",number:0}),w({type:"text",name:"MIRequiredDate",value:""}),w({type:"text",name:"MIReturnDate",value:""}),w({type:"number",name:"MIReturnedQty",number:0}),w({type:"boolean",name:"MIStatus",boolean:!1}),w({type:"number",name:"PPMCreationAssetKey",number:0}),w({type:"number",name:"BDMWorkOrderKey",number:0}),w({type:"text",name:"MIApprovalRemarks",value:""}),w({type:"text",name:"MIMatDetRemarks",value:""}),w({type:"number",name:"MIActualQty",number:0}),w({type:"boolean",name:"IsMIActual",boolean:!1}),w({type:"boolean",name:"IsMISplit",boolean:!1}),w({type:"boolean",name:"IsReturnable",boolean:!1}),w({type:"number",name:"BudgetCostMaterialDetKey",number:0}),w({type:"boolean",name:"IsDefault",boolean:!1}),w({type:"text",name:"MatProcessTypeID",value:null}),w({type:"text",name:"MatProcessTypeName",value:""}),document.getElementById("MaterialIssueDetailsMatProcessTypeNameClear")&&document.getElementById("MaterialIssueDetailsMatProcessTypeNameClear").click(),w({type:"text",name:"MaterialIssueID",value:null}),w({type:"text",name:"MaterialMINo",value:""}),document.getElementById("MaterialIssueDetailsMaterialMINoClear")&&document.getElementById("MaterialIssueDetailsMaterialMINoClear").click(),p(!0),E(""),ie(!0),Ie(!0),De(!0),Ne(!0),fe(!0),be(!0),Te(!0),Be(!0),ke(!0),Ge(!0),Oe(!0),qe(!0),je(!0),Ye(!0),$e(!0),et(!0),at(!0),nt(!0),it(!0),st(!0)};function Nt(e){return CreateEasy(e,O,W,Z,H),!1}function St(e,a){return AdvanceSearch(e,a,Ae,Le(),bt,t),!1}const ft=(t,a,l,n,r,i)=>{const o=y.v.Api+"FP342S3/",u={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:x.MIRequiredDate?x.MIRequiredDate:null,p15:null,p16:null,p17:x.MIReturnDate?x.MIReturnDate:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:1==x.IsMIReject,p30:1==x.IsMIActual,p31:1==x.IsMISplit,p32:1==x.IsReturnable,p33:null,p34:a?"%"+a+"%":null,p35:null,p36:null,p37:null,p38:"0"==x.MatProcessTypeID?null:x.MatProcessTypeID,p39:e.parentId?Number(e.parentId):0,p40:"0"==x.MaterialID?null:x.MaterialID,p41:e.Dialogview?"1":null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==x.MaterialRequestID?null:x.MaterialRequestID,p51:a?"%"+a+"%":null,p52:"0"==x.DivisionID?null:x.DivisionID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==x.DepartmentID?null:x.DepartmentID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==x.ContractID?null:x.ContractID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==x.LocalityID?null:x.LocalityID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==x.CustomerID?null:x.CustomerID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:"0"==x.MatWareHouseID?null:x.MatWareHouseID,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:"0"==x.ProStoreID?null:x.ProStoreID,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:"0"==x.MatJobID?null:x.MatJobID,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:"0"==x.EmployeeID?null:x.EmployeeID,p77:a?"%"+a+"%":null,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:a?"%"+a+"%":null,p82:x.MaterialMSDate?x.MaterialMSDate:null,p83:null,p84:null,p85:"0"==x.MaterialTypeID?null:x.MaterialTypeID,p86:a?"%"+a+"%":null,p87:a?"%"+a+"%":null,p88:"0"==x.MaterialMainClassID?null:x.MaterialMainClassID,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:"0"==x.MatSubClassID?null:x.MatSubClassID,p92:a?"%"+a+"%":null,p93:a?"%"+a+"%":null,p94:"0"==x.MaterialMakeID?null:x.MaterialMakeID,p95:a?"%"+a+"%":null,p96:a?"%"+a+"%":null,p97:"0"==x.MaterialModelID?null:x.MaterialModelID,p98:a?"%"+a+"%":null,p99:a?"%"+a+"%":null,p100:"0"==x.MATUOMID?null:x.MATUOMID,p101:a?"%"+a+"%":null,p102:a?"%"+a+"%":null,p103:"0"==x.MatGradeID?null:x.MatGradeID,p104:a?"%"+a+"%":null,p105:a?"%"+a+"%":null,p106:"0"==x.MatMaterialColorID?null:x.MatMaterialColorID,p107:a?"%"+a+"%":null,p108:a?"%"+a+"%":null,p109:"0"==x.MadeRawMaterialID?null:x.MadeRawMaterialID,p110:a?"%"+a+"%":null,p111:a?"%"+a+"%":null,p112:"0"==x.MatMaterialSizeID?null:x.MatMaterialSizeID,p113:a?"%"+a+"%":null,p114:a?"%"+a+"%":null,p115:a?"%"+a+"%":null,p116:a?"%"+a+"%":null,p117:t,p118:10,p119:l,p120:null,p121:null,p122:localStorage.getItem("UserGroupID"),p123:localStorage.getItem("userid")}},m=Object.keys(u.data).slice(0,Object.keys(u.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(u.data).length-8?u.data[t]:null,e)),{});k(!0);const d={data:m};return(0,s.Z)(o,"ClearAll"==l?d:u,"SetDefaultMaterialIssueDetID"==l&&n?n:O.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return 1==n.length?n[0]:{};L(1==t?e>0?n:[]:A.concat(n)),"SetDefaultMaterialIssueDetID"==l&&(e>0?gt(n[0],"SetDefaultMaterialIssueDetID"):_("NORECORDS")),k(!1)}else Z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Et=(t,l,n)=>{const r=y.v.Api+"FP342S3/",i={data:{p1:null,p2:"MIMatDetCode"==n&&l?"%"+l+"%":null,p3:"MatReqKey"==n&&l?"%"+l+"%":null,p4:"MaterialReqDetkey"==n&&l?"%"+l+"%":null,p5:"MaterialReturnDetKey"==n&&l?"%"+l+"%":null,p6:"PurchaseReqDetKey"==n&&l?"%"+l+"%":null,p7:"PurEnqMatDetKey"==n&&l?"%"+l+"%":null,p8:"VendorQuotDetKey"==n&&l?"%"+l+"%":null,p9:"MIRequestedQuantity"==n&&l?"%"+l+"%":null,p10:"MIMatDetQuantity"==n&&l?"%"+l+"%":null,p11:"MIPrice"==n&&l?"%"+l+"%":null,p12:"MIAmount"==n&&l?"%"+l+"%":null,p13:"MIWAC"==n&&l?"%"+l+"%":null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:"MIReturnedQty"==n&&l?"%"+l+"%":null,p21:"MIBalanceQty"==n&&l?"%"+l+"%":null,p22:"MIStatus"==n&&l?"%"+l+"%":null,p23:"PPMCreationAssetKey"==n&&l?"%"+l+"%":null,p24:"BDMWorkOrderKey"==n&&l?"%"+l+"%":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:a.MaterialIssueRegistryMaterialIssueID?a.MaterialIssueRegistryMaterialIssueID:"0",p40:null,p41:e.Dialogview?"1":null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:t,p118:10,p119:"MaterialIssueDetID",p120:null,p121:null,p122:localStorage.getItem("UserGroupID"),p123:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};k(!0),(0,s.Z)(r,"ClearAll"==n?o:i,O.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("MIBalanceQty"==n&&ie(e>0),"MIMatDetCode"==n&&Ie(e>0),"MatReqKey"==n&&De(e>0),"MaterialReqDetkey"==n&&Ne(e>0),"MaterialReturnDetKey"==n&&fe(e>0),"PurchaseReqDetKey"==n&&be(e>0),"PurEnqMatDetKey"==n&&Te(e>0),"VendorQuotDetKey"==n&&Be(e>0),"MIRequestedQuantity"==n&&ke(e>0),"MIPrice"==n&&Ge(e>0),"MIAmount"==n&&Oe(e>0),"MIWAC"==n&&qe(e>0),"MIReturnedQty"==n&&je(e>0),"MIStatus"==n&&Ye(e>0),"PPMCreationAssetKey"==n&&$e(e>0),"BDMWorkOrderKey"==n&&et(e>0),"MIApprovalRemarks"==n&&at(e>0),"MIMatDetRemarks"==n&&nt(e>0),"MIActualQty"==n&&it(e>0),"BudgetCostMaterialDetKey"==n&&st(e>0),L(l)):("MIBalanceQty"==n&&ie(!0),"MIMatDetCode"==n&&Ie(!0),"MatReqKey"==n&&De(!0),"MaterialReqDetkey"==n&&Ne(!0),"MaterialReturnDetKey"==n&&fe(!0),"PurchaseReqDetKey"==n&&be(!0),"PurEnqMatDetKey"==n&&Te(!0),"VendorQuotDetKey"==n&&Be(!0),"MIRequestedQuantity"==n&&ke(!0),"MIPrice"==n&&Ge(!0),"MIAmount"==n&&Oe(!0),"MIWAC"==n&&qe(!0),"MIReturnedQty"==n&&je(!0),"MIStatus"==n&&Ye(!0),"PPMCreationAssetKey"==n&&$e(!0),"BDMWorkOrderKey"==n&&et(!0),"MIApprovalRemarks"==n&&at(!0),"MIMatDetRemarks"==n&&nt(!0),"MIActualQty"==n&&it(!0),"BudgetCostMaterialDetKey"==n&&st(!0),L(A.concat(l))),k(!1)}else Z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},bt=(0,l.useCallback)((async(e,t,a)=>{"text"==a?w({type:a,name:t,value:e}):"number"==a?w({type:a,name:t,number:Number(e)}):"boolean"==a?w({type:a,name:t,boolean:e}):"date"==a?w({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(w({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),w({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}))}),[x]);function vt(e){if("MaterialID"==e){if(!x.MaterialID)return!1;w({type:"text",name:"MaterialID",value:null}),w({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialIssueDetailsMaterialNameClear")&&document.getElementById("MaterialIssueDetailsMaterialNameClear").click()}else if("MatProcessTypeID"==e){if(!x.MatProcessTypeID)return!1}else if("MaterialIssueID"==e&&!x.MaterialIssueID)return!1}function ht(e){if("MaterialID"==e){if(!x.MaterialID)return!1;w({type:"text",name:"MaterialID",value:null})}else if("MatProcessTypeID"==e){if(!x.MatProcessTypeID)return!1}else if("MaterialIssueID"==e&&!x.MaterialIssueID)return!1}const Tt=e=>{Z.ConfirmAlert(n().createElement(oe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Pt(e),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:It("Yes"),cancelBtnText:It("No"),showCancel:!0},It("Do you want to update this record?")))};function Pt(e){Z.ConfirmAlert(null),N(e.IsDraft),Q(Number(e.MaterialIssueDetIDPK)?Number(e.MaterialIssueDetIDPK):0),w({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),w({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),w({type:"text",name:"MIBalanceQty",value:e.MIBalanceQty?e.MIBalanceQty:""}),w({type:"number",name:"MIMatDetQuantity",number:e.MIMatDetQuantity?Number(e.MIMatDetQuantity):0}),w({type:"boolean",name:"IsMIReject",boolean:!!e.IsMIReject&&e.IsMIReject}),w({type:"number",name:"MISplitQty",number:e.MISplitQty?Number(e.MISplitQty):0}),w({type:"text",name:"MIRejectRemarks",value:e.MIRejectRemarks?e.MIRejectRemarks:""}),w({type:"text",name:"MIMatDetCode",value:e.MIMatDetCode?e.MIMatDetCode:""}),w({type:"text",name:"MatReqKey",value:e.MatReqKey?e.MatReqKey:""}),w({type:"text",name:"MaterialReqDetkey",value:e.MaterialReqDetkey?e.MaterialReqDetkey:""}),w({type:"text",name:"MaterialReturnDetKey",value:e.MaterialReturnDetKey?e.MaterialReturnDetKey:""}),w({type:"text",name:"PurchaseReqDetKey",value:e.PurchaseReqDetKey?e.PurchaseReqDetKey:""}),w({type:"text",name:"PurEnqMatDetKey",value:e.PurEnqMatDetKey?e.PurEnqMatDetKey:""}),w({type:"text",name:"VendorQuotDetKey",value:e.VendorQuotDetKey?e.VendorQuotDetKey:""}),w({type:"text",name:"MIRequestedQuantity",value:e.MIRequestedQuantity?e.MIRequestedQuantity:""}),w({type:"text",name:"MIPrice",value:e.MIPrice?e.MIPrice:""}),w({type:"text",name:"MIAmount",value:e.MIAmount?e.MIAmount:""}),w({type:"text",name:"MIWAC",value:e.MIWAC?e.MIWAC:""}),w({type:"text",name:"MIRequiredDate",value:e.MIRequiredDate?Mt(e.MIRequiredDate):null}),w({type:"text",name:"MIReturnDate",value:e.MIReturnDate?Mt(e.MIReturnDate):null}),w({type:"text",name:"MIReturnedQty",value:e.MIReturnedQty?e.MIReturnedQty:""}),w({type:"text",name:"MIStatus",value:e.MIStatus?e.MIStatus:""}),w({type:"text",name:"PPMCreationAssetKey",value:e.PPMCreationAssetKey?e.PPMCreationAssetKey:""}),w({type:"text",name:"BDMWorkOrderKey",value:e.BDMWorkOrderKey?e.BDMWorkOrderKey:""}),w({type:"text",name:"MIApprovalRemarks",value:e.MIApprovalRemarks?e.MIApprovalRemarks:""}),w({type:"text",name:"MIMatDetRemarks",value:e.MIMatDetRemarks?e.MIMatDetRemarks:""}),w({type:"text",name:"MIActualQty",value:e.MIActualQty?e.MIActualQty:""}),w({type:"boolean",name:"IsMIActual",boolean:!!e.IsMIActual&&e.IsMIActual}),w({type:"boolean",name:"IsMISplit",boolean:!!e.IsMISplit&&e.IsMISplit}),w({type:"boolean",name:"IsReturnable",boolean:!!e.IsReturnable&&e.IsReturnable}),w({type:"text",name:"BudgetCostMaterialDetKey",value:e.BudgetCostMaterialDetKey?e.BudgetCostMaterialDetKey:""}),w({type:"number",name:"MatProcessTypeID",number:e.MatProcessTypeID?Number(e.MatProcessTypeID):0}),w({type:"text",name:"MatProcessTypeName",value:e.MatProcessTypeName?e.MatProcessTypeName:""}),w({type:"number",name:"MaterialIssueID",number:e.MaterialIssueID?Number(e.MaterialIssueID):0}),w({type:"text",name:"MaterialMINo",value:e.MaterialMINo?e.MaterialMINo:""})}const Rt=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:M,onChange:e=>{}},n().createElement(B.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},M&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.44-12:11:05 PM-30-5[342]"}," ",It("Add "),yt("342")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},O.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(pe.Z,{row:!0},n().createElement(X.Z,{labelPlacement:"bottom",id:"fld342L1ECEntryCheckbox",control:n().createElement(f.Z,{checked:"1"==d,onChange:e=>p(e.target.checked)}),label:It(1==d?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{Z.AttachExpand(!0)},id:"fld342L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(ce.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,It("Attach")))),!q&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ct()},id:"fld342L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ce.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,It("Reset")))),O.AccessRights.IsAdd||O.AccessRights.IsEdit?n().createElement(re.Z,{frmctrlid:"fld342L1ECSaveBtnIsAdd",name:It(q?"Update":"Save"),disabled:!1,onClick:()=>{x.MaterialID&&0!=x.MaterialID?e.parentId&&0!=e.parentId?(t=>{Z.loading(!0),Z.ConfirmAlert(null);const a=y.v.Api+"FP342S2/",l={data:[{p1:"SetDefaultMaterialIssueDetID"==t?"NORECORDS"!=V&&V?V:0:q,p2:Rt(x.MIMatDetCode),p3:x.MatReqKey?Number(x.MatReqKey):0,p4:x.MaterialReqDetkey?Number(x.MaterialReqDetkey):0,p5:x.MaterialReturnDetKey?Number(x.MaterialReturnDetKey):0,p6:x.PurchaseReqDetKey?Number(x.PurchaseReqDetKey):0,p7:x.PurEnqMatDetKey?Number(x.PurEnqMatDetKey):0,p8:x.VendorQuotDetKey?Number(x.VendorQuotDetKey):0,p9:x.MIRequestedQuantity?Number(x.MIRequestedQuantity):0,p10:x.MIMatDetQuantity?Number(x.MIMatDetQuantity):0,p11:x.MIPrice?Number(x.MIPrice):0,p12:x.MIAmount?Number(x.MIAmount):0,p13:x.MIWAC?Number(x.MIWAC):0,p14:x.MIRequiredDate?Dt(x.MIRequiredDate):null,p15:x.MIReturnDate?Dt(x.MIReturnDate):null,p16:x.MIReturnedQty?Number(x.MIReturnedQty):0,p17:x.MIBalanceQty?Number(x.MIBalanceQty):0,p18:x.MIStatus,p19:x.PPMCreationAssetKey?Number(x.PPMCreationAssetKey):0,p20:x.BDMWorkOrderKey?Number(x.BDMWorkOrderKey):0,p21:Rt(x.MIApprovalRemarks),p22:Rt(x.MIMatDetRemarks),p23:x.MISplitQty?Number(x.MISplitQty):0,p24:x.MIActualQty?Number(x.MIActualQty):0,p25:x.IsMIReject,p26:x.IsMIActual,p27:x.IsMISplit,p28:x.IsReturnable,p29:Rt(x.MIRejectRemarks),p30:x.BudgetCostMaterialDetKey?Number(x.BudgetCostMaterialDetKey):0,p31:x.IsDefault,p32:!1,p33:"SetDefaultMaterialIssueDetID"==t?"SetDefault":null,p34:x.MatProcessTypeID?x.MatProcessTypeID:0,p35:e.parentId?Number(e.parentId):x.MaterialIssueID?x.MaterialIssueID:0,p36:x.MaterialID?x.MaterialID:0,p37:d,p38:"SetDefaultMaterialIssueDetID"==t,p39:localStorage.getItem("userid"),p40:ne()().format("YYYY-MM-DD hh:mm:ss"),p41:localStorage.getItem("userid"),p42:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,$.Z)(0).then((t=>{(0,s.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:r}),Z.loading(!1)):(t=>{ie(!0),Ie(!0),De(!0),Ne(!0),fe(!0),be(!0),Te(!0),Be(!0),ke(!0),Ge(!0),Oe(!0),qe(!0),je(!0),Ye(!0),$e(!0),et(!0),at(!0),nt(!0),it(!0),st(!0),Z.loading(!0),Z.ConfirmAlert(null),W({type:"IsDraft",payload:!1});const a=y.v.Api+"FP342S1/",l={data:[{p1:q,p2:Rt(x.MIMatDetCode),p3:x.MatReqKey?Number(x.MatReqKey):0,p4:x.MaterialReqDetkey?Number(x.MaterialReqDetkey):0,p5:x.MaterialReturnDetKey?Number(x.MaterialReturnDetKey):0,p6:x.PurchaseReqDetKey?Number(x.PurchaseReqDetKey):0,p7:x.PurEnqMatDetKey?Number(x.PurEnqMatDetKey):0,p8:x.VendorQuotDetKey?Number(x.VendorQuotDetKey):0,p9:x.MIRequestedQuantity?Number(x.MIRequestedQuantity):0,p10:x.MIMatDetQuantity?Number(x.MIMatDetQuantity):0,p11:x.MIPrice?Number(x.MIPrice):0,p12:x.MIAmount?Number(x.MIAmount):0,p13:x.MIWAC?Number(x.MIWAC):0,p14:x.MIRequiredDate?Dt(x.MIRequiredDate):null,p15:x.MIReturnDate?Dt(x.MIReturnDate):null,p16:x.MIReturnedQty?Number(x.MIReturnedQty):0,p17:x.MIBalanceQty?Number(x.MIBalanceQty):0,p18:x.MIStatus,p19:x.PPMCreationAssetKey?Number(x.PPMCreationAssetKey):0,p20:x.BDMWorkOrderKey?Number(x.BDMWorkOrderKey):0,p21:Rt(x.MIApprovalRemarks),p22:Rt(x.MIMatDetRemarks),p23:x.MISplitQty?Number(x.MISplitQty):0,p24:x.MIActualQty?Number(x.MIActualQty):0,p25:x.IsMIReject,p26:x.IsMIActual,p27:x.IsMISplit,p28:x.IsReturnable,p29:Rt(x.MIRejectRemarks),p30:x.BudgetCostMaterialDetKey?Number(x.BudgetCostMaterialDetKey):0,p31:x.IsDefault,p32:!1,p33:null,p34:x.MatProcessTypeID?x.MatProcessTypeID:0,p35:e.parentId?Number(e.parentId):x.MaterialIssueID?x.MaterialIssueID:0,p36:x.MaterialID?x.MaterialID:0,p37:d,p38:!1,p39:localStorage.getItem("userid"),p40:ne()().format("YYYY-MM-DD hh:mm:ss"),p41:localStorage.getItem("userid"),p42:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,$.Z)(0).then((t=>{(0,ee.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(Z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttMaterialIssueDetails"),Z.loading(!1),W({type:"PrimaryId",payload:t[0].Data.IDPK}),U(!0),Q(t[0].Data.IDPK),setTimeout((function(){ae.current.AddOpen()}),1e3),e.createEasy||(Z.RefreshTable(),Z.attachmentSave(t[0].Data.IDPK)),document.getElementById("overlayimgAttMaterialIssueDetails")&&(document.getElementById("overlayimgAttMaterialIssueDetails").style.width="0%",document.getElementById("overlayimgAttMaterialIssueDetails").style.display="none",document.getElementById("divMaterialIssueDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("MaterialIssueDetails-MainTable").style.display="block")):(Z.alert({open:!0,color:"warning",message:[a.message]}),Z.loading(!1)),D(!0)}))}))})()):(Z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Z.loading(!1))}))}))})(undefined):Z.alert({open:!0,color:"warning",message:[It("Please select the ")+" "+yt("MaterialIssueID")]}):Z.alert({open:!0,color:"warning",message:[It("Please select the ")+" "+yt("MaterialID")]})}}):null,q?n().createElement(re.Z,{name:It("Add Bin"),disabled:!1,onClick:()=>{U(!0),setTimeout((function(){ae.current.AddOpen()}),500)}}):null,!e.createEasy&&n().createElement(Y.Z,{disabled:!1,onClick:()=>{Ct(),D(!1),Z.EditClose(!0)}}))))),n().createElement(o.Z,null,n().createElement("div",{id:"MaterialIssueDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"MaterialIssueDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"MaterialIssueDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ue.Z,{json:Re,id:x.MaterialID,"data-testid":x.MaterialID,value:x.MaterialName,SPName:"MaterialIssueDetails",FieldName:"MaterialID",tfLabel:yt("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>bt(e,"MaterialID","select"),onChange:(e,t)=>{ft(e,t,"MaterialIDPK")},KeyBack:e=>{ht("MaterialID")},fieldorder:"1",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Nt("354")},Tabledialog:()=>St("354","MaterialID"),loading:K,clear:e=>{e&&vt("MaterialID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ue.Z,{"data-testid":x.MIBalanceQty,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIBalanceQty",tfLabel:yt("MIBalanceQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{le&&Et(1,"","ClearAll"),ie(!0)},frmctrlid:"fld342_19092",frmctrlidName:"MIBalanceQty",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{le&&Et(e,t,"MIBalanceQty"),bt(t,"MIBalanceQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:x.MIBalanceQty,loading:K,clear:e=>{e&&(w({type:"text",name:"MIBalanceQty",value:""}),ie(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(te.Z,{json:Re,"data-testid":x.MIMatDetQuantity,SPName:"MaterialIssueDetails",FieldName:"MIMatDetQuantity",tfLabel:yt("MIMatDetQuantity"),frmctrlid:"fld342_19085",fieldorder:"3",onChange:e=>{bt(e,"MIMatDetQuantity","number")},clear:e=>{e&&w({type:"number",name:"MIMatDetQuantity",number:0})},value:x.MIMatDetQuantity})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd",style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(X.Z,{style:{color:"#337ab7"},"data-testid":x.IsMIReject,labelPlacement:"end",control:n().createElement(f.Z,{checked:"1"==x.IsMIReject,onChange:e=>{bt(e.target.checked,"IsMIReject","boolean")},frmctrlid:"fld342_19100",frmctrlidname:"IsMIReject",fieldorder:"4",tfLabel:yt("IsMIReject")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.IsMIReject?"#21446F":"#999"}},yt("IsMIReject"))}))),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(te.Z,{json:Re,"data-testid":x.MISplitQty,SPName:"MaterialIssueDetails",FieldName:"MISplitQty",tfLabel:yt("MISplitQty"),frmctrlid:"fld342_19098",fieldorder:"1",disabled:"1"!=x.IsMIReject,onChange:e=>{bt(e,"MISplitQty","number")},clear:e=>{e&&w({type:"number",name:"MISplitQty",number:0})},value:x.MISplitQty})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(te.Z,{json:Re,"data-testid":x.MIRejectRemarks,SPName:"MaterialIssueDetails",FieldName:"MIRejectRemarks",tfLabel:yt("MIRejectRemarks"),frmctrlid:"fld342_19104",fieldorder:"2",disabled:"1"!=x.IsMIReject,onChange:e=>{bt(e,"MIRejectRemarks","text")},clear:e=>{e&&w({type:"text",name:"MIRejectRemarks",value:""})},value:x.MIRejectRemarks})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIMatDetCode,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIMatDetCode",tfLabel:yt("MIMatDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{de&&Et(1,"","ClearAll"),Ie(!0)},frmctrlid:"fld342_19077",frmctrlidName:"MIMatDetCode",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{de&&Et(e,t,"MIMatDetCode"),bt(t,"MIMatDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ie(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:x.MIMatDetCode,loading:K,clear:e=>{e&&(w({type:"text",name:"MIMatDetCode",value:""}),Ie(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MatReqKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"MatReqKey",tfLabel:yt("MatReqKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Me&&Et(1,"","ClearAll"),De(!0)},frmctrlid:"fld342_19078",frmctrlidName:"MatReqKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Me&&Et(e,t,"MatReqKey"),bt(t,"MatReqKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:Me,SideEntryView:!1,KeyBack:e=>{},value:x.MatReqKey,loading:K,clear:e=>{e&&(w({type:"text",name:"MatReqKey",value:""}),De(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MaterialReqDetkey,json:Re,SPName:"MaterialIssueDetails",FieldName:"MaterialReqDetkey",tfLabel:yt("MaterialReqDetkey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Ce&&Et(1,"","ClearAll"),Ne(!0)},frmctrlid:"fld342_19079",frmctrlidName:"MaterialReqDetkey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Ce&&Et(e,t,"MaterialReqDetkey"),bt(t,"MaterialReqDetkey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ne(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:x.MaterialReqDetkey,loading:K,clear:e=>{e&&(w({type:"text",name:"MaterialReqDetkey",value:""}),Ne(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MaterialReturnDetKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"MaterialReturnDetKey",tfLabel:yt("MaterialReturnDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Se&&Et(1,"","ClearAll"),fe(!0)},frmctrlid:"fld342_19080",frmctrlidName:"MaterialReturnDetKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Se&&Et(e,t,"MaterialReturnDetKey"),bt(t,"MaterialReturnDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:Se,SideEntryView:!1,KeyBack:e=>{},value:x.MaterialReturnDetKey,loading:K,clear:e=>{e&&(w({type:"text",name:"MaterialReturnDetKey",value:""}),fe(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.PurchaseReqDetKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"PurchaseReqDetKey",tfLabel:yt("PurchaseReqDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Ee&&Et(1,"","ClearAll"),be(!0)},frmctrlid:"fld342_19081",frmctrlidName:"PurchaseReqDetKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Ee&&Et(e,t,"PurchaseReqDetKey"),bt(t,"PurchaseReqDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||be(!0)},showList:Ee,SideEntryView:!1,KeyBack:e=>{},value:x.PurchaseReqDetKey,loading:K,clear:e=>{e&&(w({type:"text",name:"PurchaseReqDetKey",value:""}),be(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.PurEnqMatDetKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"PurEnqMatDetKey",tfLabel:yt("PurEnqMatDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{he&&Et(1,"","ClearAll"),Te(!0)},frmctrlid:"fld342_19082",frmctrlidName:"PurEnqMatDetKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{he&&Et(e,t,"PurEnqMatDetKey"),bt(t,"PurEnqMatDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Te(!0)},showList:he,SideEntryView:!1,KeyBack:e=>{},value:x.PurEnqMatDetKey,loading:K,clear:e=>{e&&(w({type:"text",name:"PurEnqMatDetKey",value:""}),Te(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.VendorQuotDetKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"VendorQuotDetKey",tfLabel:yt("VendorQuotDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Pe&&Et(1,"","ClearAll"),Be(!0)},frmctrlid:"fld342_19083",frmctrlidName:"VendorQuotDetKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Pe&&Et(e,t,"VendorQuotDetKey"),bt(t,"VendorQuotDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Be(!0)},showList:Pe,SideEntryView:!1,KeyBack:e=>{},value:x.VendorQuotDetKey,loading:K,clear:e=>{e&&(w({type:"text",name:"VendorQuotDetKey",value:""}),Be(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIRequestedQuantity,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIRequestedQuantity",tfLabel:yt("MIRequestedQuantity"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Ke&&Et(1,"","ClearAll"),ke(!0)},frmctrlid:"fld342_19084",frmctrlidName:"MIRequestedQuantity",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Ke&&Et(e,t,"MIRequestedQuantity"),bt(t,"MIRequestedQuantity","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ke(!0)},showList:Ke,SideEntryView:!1,KeyBack:e=>{},value:x.MIRequestedQuantity,loading:K,clear:e=>{e&&(w({type:"text",name:"MIRequestedQuantity",value:""}),ke(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIPrice,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIPrice",tfLabel:yt("MIPrice"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Fe&&Et(1,"","ClearAll"),Ge(!0)},frmctrlid:"fld342_19086",frmctrlidName:"MIPrice",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Fe&&Et(e,t,"MIPrice"),bt(t,"MIPrice","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ge(!0)},showList:Fe,SideEntryView:!1,KeyBack:e=>{},value:x.MIPrice,loading:K,clear:e=>{e&&(w({type:"text",name:"MIPrice",value:""}),Ge(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIAmount,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIAmount",tfLabel:yt("MIAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Ze&&Et(1,"","ClearAll"),Oe(!0)},frmctrlid:"fld342_19087",frmctrlidName:"MIAmount",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Ze&&Et(e,t,"MIAmount"),bt(t,"MIAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Oe(!0)},showList:Ze,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:x.MIAmount,loading:K,clear:e=>{e&&(w({type:"text",name:"MIAmount",value:""}),Oe(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIWAC,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIWAC",tfLabel:yt("MIWAC"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{We&&Et(1,"","ClearAll"),qe(!0)},frmctrlid:"fld342_19088",frmctrlidName:"MIWAC",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{We&&Et(e,t,"MIWAC"),bt(t,"MIWAC","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||qe(!0)},showList:We,SideEntryView:!1,KeyBack:e=>{},value:x.MIWAC,loading:K,clear:e=>{e&&(w({type:"text",name:"MIWAC",value:""}),qe(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ye.Z,{value:x.MIRequiredDate,"data-testid":x.MIRequiredDate,disabled:!1,onChange:e=>{bt(e,"MIRequiredDate","date")},onErr:e=>{Ve(e)},label:yt("MIRequiredDate"),frmctrlid:"fld342_19089",frmctrlidName:"MIRequiredDate",fieldorder:"2"})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ye.Z,{value:x.MIReturnDate,"data-testid":x.MIReturnDate,disabled:!1,onChange:e=>{bt(e,"MIReturnDate","date")},onErr:e=>{He(e)},label:yt("MIReturnDate"),frmctrlid:"fld342_19090",frmctrlidName:"MIReturnDate",fieldorder:"2"})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIReturnedQty,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIReturnedQty",tfLabel:yt("MIReturnedQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{ze&&Et(1,"","ClearAll"),je(!0)},frmctrlid:"fld342_19091",frmctrlidName:"MIReturnedQty",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{ze&&Et(e,t,"MIReturnedQty"),bt(t,"MIReturnedQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||je(!0)},showList:ze,SideEntryView:!1,KeyBack:e=>{},value:x.MIReturnedQty,loading:K,clear:e=>{e&&(w({type:"text",name:"MIReturnedQty",value:""}),je(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIStatus,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIStatus",tfLabel:yt("MIStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Je&&Et(1,"","ClearAll"),Ye(!0)},frmctrlid:"fld342_19093",frmctrlidName:"MIStatus",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Je&&Et(e,t,"MIStatus"),bt(t,"MIStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ye(!0)},showList:Je,SideEntryView:!1,KeyBack:e=>{},value:x.MIStatus,loading:K,clear:e=>{e&&(w({type:"text",name:"MIStatus",value:""}),Ye(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.PPMCreationAssetKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"PPMCreationAssetKey",tfLabel:yt("PPMCreationAssetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Ue&&Et(1,"","ClearAll"),$e(!0)},frmctrlid:"fld342_19094",frmctrlidName:"PPMCreationAssetKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Ue&&Et(e,t,"PPMCreationAssetKey"),bt(t,"PPMCreationAssetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||$e(!0)},showList:Ue,SideEntryView:!1,KeyBack:e=>{},value:x.PPMCreationAssetKey,loading:K,clear:e=>{e&&(w({type:"text",name:"PPMCreationAssetKey",value:""}),$e(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.BDMWorkOrderKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"BDMWorkOrderKey",tfLabel:yt("BDMWorkOrderKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{Xe&&Et(1,"","ClearAll"),et(!0)},frmctrlid:"fld342_19095",frmctrlidName:"BDMWorkOrderKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{Xe&&Et(e,t,"BDMWorkOrderKey"),bt(t,"BDMWorkOrderKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||et(!0)},showList:Xe,SideEntryView:!1,KeyBack:e=>{},value:x.BDMWorkOrderKey,loading:K,clear:e=>{e&&(w({type:"text",name:"BDMWorkOrderKey",value:""}),et(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIApprovalRemarks,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIApprovalRemarks",tfLabel:yt("MIApprovalRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{tt&&Et(1,"","ClearAll"),at(!0)},frmctrlid:"fld342_19096",frmctrlidName:"MIApprovalRemarks",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{tt&&Et(e,t,"MIApprovalRemarks"),bt(t,"MIApprovalRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||at(!0)},showList:tt,SideEntryView:!1,KeyBack:e=>{},value:x.MIApprovalRemarks,loading:K,clear:e=>{e&&(w({type:"text",name:"MIApprovalRemarks",value:""}),at(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIMatDetRemarks,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIMatDetRemarks",tfLabel:yt("MIMatDetRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{lt&&Et(1,"","ClearAll"),nt(!0)},frmctrlid:"fld342_19097",frmctrlidName:"MIMatDetRemarks",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{lt&&Et(e,t,"MIMatDetRemarks"),bt(t,"MIMatDetRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||nt(!0)},showList:lt,SideEntryView:!1,KeyBack:e=>{},value:x.MIMatDetRemarks,loading:K,clear:e=>{e&&(w({type:"text",name:"MIMatDetRemarks",value:""}),nt(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.MIActualQty,json:Re,SPName:"MaterialIssueDetails",FieldName:"MIActualQty",tfLabel:yt("MIActualQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{rt&&Et(1,"","ClearAll"),it(!0)},frmctrlid:"fld342_19099",frmctrlidName:"MIActualQty",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{rt&&Et(e,t,"MIActualQty"),bt(t,"MIActualQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||it(!0)},showList:rt,SideEntryView:!1,KeyBack:e=>{},value:x.MIActualQty,loading:K,clear:e=>{e&&(w({type:"text",name:"MIActualQty",value:""}),it(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(X.Z,{style:{color:"#337ab7"},"data-testid":x.IsMIActual,labelPlacement:"end",control:n().createElement(f.Z,{checked:"1"==x.IsMIActual,onChange:e=>{bt(e.target.checked,"IsMIActual","boolean")},frmctrlid:"fld342_19101",frmctrlidname:"IsMIActual",fieldorder:"2",tfLabel:yt("IsMIActual")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.IsMIActual?"#21446F":"#999"}},yt("IsMIActual"))}))),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(X.Z,{style:{color:"#337ab7"},"data-testid":x.IsMISplit,labelPlacement:"end",control:n().createElement(f.Z,{checked:"1"==x.IsMISplit,onChange:e=>{bt(e.target.checked,"IsMISplit","boolean")},frmctrlid:"fld342_19102",frmctrlidname:"IsMISplit",fieldorder:"2",tfLabel:yt("IsMISplit")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.IsMISplit?"#21446F":"#999"}},yt("IsMISplit"))}))),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(X.Z,{style:{color:"#337ab7"},"data-testid":x.IsReturnable,labelPlacement:"end",control:n().createElement(f.Z,{checked:"1"==x.IsReturnable,onChange:e=>{bt(e.target.checked,"IsReturnable","boolean")},frmctrlid:"fld342_19103",frmctrlidname:"IsReturnable",fieldorder:"2",tfLabel:yt("IsReturnable")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.IsReturnable?"#21446F":"#999"}},yt("IsReturnable"))}))),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":x.BudgetCostMaterialDetKey,json:Re,SPName:"MaterialIssueDetails",FieldName:"BudgetCostMaterialDetKey",tfLabel:yt("BudgetCostMaterialDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Tt(t),onClick:()=>{ot&&Et(1,"","ClearAll"),st(!0)},frmctrlid:"fld342_19105",frmctrlidName:"BudgetCostMaterialDetKey",fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,onChange:(e,t)=>{ot&&Et(e,t,"BudgetCostMaterialDetKey"),bt(t,"BudgetCostMaterialDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||st(!0)},showList:ot,SideEntryView:!1,KeyBack:e=>{},value:x.BudgetCostMaterialDetKey,loading:K,clear:e=>{e&&(w({type:"text",name:"BudgetCostMaterialDetKey",value:""}),st(!0))}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{json:Re,id:x.MatProcessTypeID,"data-testid":x.MatProcessTypeID,value:x.MatProcessTypeName,SPName:"MaterialIssueDetails",FieldName:"MatProcessTypeID",tfLabel:yt("MatProcessTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>bt(e,"MatProcessTypeID","select"),onChange:(e,t)=>{ft(e,t,"MatProcessTypeIDPK")},KeyBack:e=>{ht("MatProcessTypeID")},fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Nt("844")},Tabledialog:()=>St("844","MatProcessTypeID"),loading:K,clear:e=>{e&&vt("MatProcessTypeID")}})),n().createElement(I.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{json:Re,id:x.MaterialIssueID,"data-testid":x.MaterialIssueID,value:x.MaterialMINo,SPName:"MaterialIssueDetails",FieldName:"MaterialIssueID",tfLabel:yt("MaterialIssueID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>bt(e,"MaterialIssueID","select"),onChange:(e,t)=>{ft(e,t,"MaterialIssueIDPK")},KeyBack:e=>{ht("MaterialIssueID")},fieldorder:"2",data:A,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:A.length>0?A[0].TotalCount:0,openSlide:()=>{Nt("345")},Tabledialog:()=>St("345","MaterialIssueID"),loading:K,clear:e=>{e&&vt("MaterialIssueID")}})))),J&&n().createElement("div",{id:"divMaterialIssueSubDetails-Entry",style:{width:"100%",display:J?"block":"none"}},n().createElement(ve.Provider,{value:{cstate:O,cdispatch:W,loading:e=>Z.loading(e),alert:e=>Z.alert(e),openNav:e=>Z.openNav(e),SlideComponentType:e=>Z.SlideComponentType(e),ConfirmAlert:e=>Z.ConfirmAlert(e),openDialog:e=>Z.openDialog(e),DialogComponentType:e=>Z.DialogComponentType(e)}},n().createElement(ge,{createEasy:!0,ref:ae,detailId:q,parentId:e.parentId,parentData:x}))),n().createElement("div",{id:"MaterialIssueDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MaterialIssueDetailsSideBar").style.width="0",void v(!1))},"Ã—"),b&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},P))))))))}));a(64170);const ke=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[u,m]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[d,p]=(0,l.useState)(!0),[c,I]=(0,l.useState)(e.showDetail),[M,D]=(0,l.useState)(""),[C,N]=n().useState(!1),[S,f]=n().useState(""),[E,b]=n().useState(!1),v=(0,l.useContext)(Ae),{cstate:h,cdispatch:T}=Le(),[P,R]=(0,l.useState)(!1),[x,w]=(0,l.useState)(""),[K,k]=(0,l.useState)(""),[A,L]=(0,l.useState)("");let G=(0,g.Z)();(0,l.useEffect)((()=>{h.editData.length>0&&(m(h.editData),N(!1),T({type:"PrimaryId",payload:h.editData[0].MaterialIssueDetIDPK}))}),[h.editData]),(0,l.useEffect)((()=>{h.showTableview&&L(h.showTableview)}),[h.showTableview]),(0,l.useEffect)((()=>{p(h.ExpandDetailValue)}),[h.ExpandDetailValue]),(0,l.useEffect)((()=>{p(h.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{p(e),N(null)},viewtoggle:()=>{N(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=y.v.Api+"FP342S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:e.Dialogview?"1":null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:1,p118:10,p119:h.IsDraft?"DraftMaterialIssueDetID":"MaterialIssueDetID",p120:null,p121:null,p122:localStorage.getItem("UserGroupID"),p123:localStorage.getItem("userid")}};(0,$.Z)(0).then((e=>{(0,s.Z)(l,n,e).then((e=>{v.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===C&&a.current.clear()}})));const Z=e=>G?.[e]?G?.[e]:e,O=e=>h.language?.[e]?h.language[e]:e;function W(e,t){}const q=(e,t)=>(a,l)=>{f(E?Object.assign(...u.filter((e=>e.MaterialIssueDetIDPK==t)).map((e=>e))):h.editData),N(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:d,onChange:()=>()=>{e.expandTable&&p(!d)}},!C&&n().createElement(B.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},d?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},h.IsDraft?Z("Draft"):"",O("MaterialIssueDetails"),e.viewonly?" ":"("+h.count+")")):"",d?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&h.AccessRights.IsAdd?n().createElement(F.Z,{name:Z("Add"),frmctrlid:"fld342L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{v.hideAddBtn(!0),T({type:"editData",payload:[]}),T({type:"ShowDetail",payload:!1}),T({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&h.AccessRights.IsEdit?n().createElement(U.Z,{frmctrlid:"fld342L1VCEditBtn",onClick:q("panel0",""),disabled:!1}):h.IsDraft&&h.AccessRights.IsAdd&&n().createElement(U.Z,{frmctrlid:"fld342L1VCEditBtnIsAdd",onClick:()=>{q("panel","")},disabled:!1}),!e.viewonly&&n().createElement(Y.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld342L1VCCloseBtn",onClick:()=>{p(!1),v.hideAddBtn(!1),E&&(T({type:"editData",payload:[]}),m([]))}})):"")),n().createElement(o.Z,{style:{display:"block"}},u.map(((t,l)=>n().createElement("div",{key:l},C==="panel"+l?n().createElement(Ke,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Ce.Z,{tableName:"MaterialIssueDetails",tableID:342,parentID:t.MaterialIssueDetIDPK,fldid:"fld342L1VCContainer",OpenSlideComponent:W,index:l,refresh:A,val:t,tf:O,t:Z,title:"10.0.0.44-12:11:05 PM-30-5[342]"}))))))))})),Ae=(0,l.createContext)(),Le=()=>{const e=(0,l.useContext)(Ae);if(void 0===e)throw new Error("useCont must be used within  MaterialIssueDetailsContext Provider");return e},Fe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),s=(0,l.useRef)(),u=(0,l.useRef)(),[m,d]=(0,l.useState)(!0),[p,c]=(0,l.useState)(),I=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[y,M]=(0,l.useState)(0),[D,g]=(0,l.useReducer)(be.D,be.E),[C,N]=(0,l.useState)(""),[S,f]=(0,l.useState)([]),[E,b]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divMaterialIssueDetails-Entry").style.width="100%",document.getElementById("MaterialIssueDetails-MainTable").style.width="100%",document.getElementById("MaterialIssueDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{d(!0),document.getElementById("divMaterialIssueDetails-Entry").style.width="100%",document.getElementById("MaterialIssueDetails-MainTable").style.width="100%",document.getElementById("MaterialIssueDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const v=e=>{f([]),document.getElementById("divMaterialIssueDetails-Entry").style.width="100%",document.getElementById("MaterialIssueDetailsEntryTable").style.width="100%",document.getElementById("MaterialIssueDetails-MainEntry").style.width="100%",document.getElementById("MaterialIssueDetails-MainEntry").style.display="block",document.getElementById("MaterialIssueDetails-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialIssueDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialIssueDetails").style.width="0%",document.getElementById("overlayimgAttMaterialIssueDetails").style.display="none"};(0,l.useEffect)((()=>{I((e=>{(0,$.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),M(t.length),h(e)}))}))}),[]);const h=e=>{(0,Ee.Z)(e,345).then((e=>g({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(Ae.Provider,{value:{cstate:D,cdispatch:g,ContextApi:Le,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{u.current.tempsave(e,S),f([])},EditClose:e=>{v(),a.current.HideEntryFields(!1)},AttachExpand:e=>(s.current.AttachmentData(D.PrimaryId),void(m&&(document.getElementById("overlayPreviewMaterialIssueDetails").style.width="50%",document.getElementById("divMaterialIssueDetails-Entry").style.width="100%",document.getElementById("MaterialIssueDetails-MainTable").style.width="100%",document.getElementById("MaterialIssueDetails-MainEntry").style.width="100%",document.getElementById("MaterialIssueDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMaterialIssueDetails").style.display="block",document.getElementById("overlayimgAttMaterialIssueDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{u.current.tempClear(),s.current.clrImgstate(!0)},SubAddOpen:e=>i.current.SubAddOpen(e)}},n().createElement("div",{id:"MaterialIssueDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"MaterialIssueDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"MaterialIssueDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialIssueDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(ke,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(fe.Z,{ref:u,menurefID:342,fileId:"LogoImgMaterialIssueDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewMaterialIssueDetails",frmctrlid:"PvwIm_342_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),f(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialIssueDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Ke,{ref:i,clrImgstate:e=>s.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(fe.Z,{ref:u,menurefID:342,fileId:"LogoImgMaterialIssueDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewMaterialIssueDetails",frmctrlid:"PvwIm_342_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),f(e)},clearTempData:D.Add})),n().createElement("div",{id:"MaterialIssueDetails-MainTable"},0!==y?n().createElement(Pe,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Se.Z,{ImgAttachment:e=>v(),menurefID:342,fileId:"AttImgMaterialIssueDetails",imgid:"overlayimgAttMaterialIssueDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{u.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialIssueDetails",ref:s,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_342_L1_",timglist:e=>{u.current.timglist(e),f(e)},clearTempData:D.Add}))),n().createElement("div",{id:"MaterialIssueDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},22378:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W,saveComponent:()=>Q,trimFunc:()=>q});var l=a(92950),n=a.n(l),r=a(45237),i=a(36939),o=a(61201),s=a(50743),u=(a(3212),a(10966),a(30553)),m=(a(99090),a(44528)),d=a(37148),p=a(61956),c=a(51673),I=(a(96071),a(14439)),y=a(27848),M=a(49174),D=(a(38773),a(19089),a(1695)),g=(a(13235),a(61924)),C=a.n(g),N=a(26537),S=a(40900),f=a(35131),E=a.n(f),b=a(55490),v=(a(2493),a(92371)),h=a(82729),T=a(75355),P=a(11107),R=a(40826);const B={EnterKeyValues:{MaterialIssueRegistry:["MatProcessTypeName","MaterialMINo","MaterialMSDate","ContractName","LocalityName","ProStoreName","WareHouseName","DepartmentName","DivisionName","MIPlaceofDelivary","FirstName","FirstName1","DriverName","VehicelName","JobGOName","MIWoRegDesc","ContractKey","LocalityKey","RequestedThrough","MITransactionNo","MIManagedBY","MIStatus","MatStatus","MIBy","MIReceivedBy","MSDate","MIReceivedDate","IsMIContract","IsMIMaterial","IsMIInMaterial","BudgetCostAccountGroupDetKey","MIYearEndKey","MIProStageKey","MITypeKey","VendorMatRjctKey","FixonBusinessFlowKey","ProBusinessFlowKey","IsMICancel","MICancelRemarks","MICancelByKey","MaterialRequestCode","CustomerName"]},Label:{MaterialIssueRegistry:{MatProcessTypeID:["MatProcessTypeCode","MatProcessTypeName"],MaterialMINo:["DriverName"],MaterialMSDate:["DriverName"],ContractID:["ContractCode","ContractName"],LocalityID:["LocalityCode","LocalityName"],ProStoreID:["ProStoreCode","ProStoreName","WareHouseName"],MatWareHouseID:["DriverName"],DepartmentID:["DepartmentCode","DepartmentName"],DivisionID:["DivisionCode","DivisionName"],MIPlaceofDelivary:["DriverName"],EmployeeID:["EmployeeCode","FirstName","LastName"],EmployeeID1:["EmployeeCode","FirstName","LastName"],DriverName:["DriverName"],VehicelName:["DriverName"],MatJobID:["MatJobCode","JobGOName"],MIWoRegDesc:["DriverName"],ContractKey:["DriverName"],LocalityKey:["DriverName"],RequestedThrough:["DriverName"],MITransactionNo:["DriverName"],MIManagedBY:["DriverName"],MIStatus:["DriverName"],MatStatus:["DriverName"],MIBy:["DriverName"],MIReceivedBy:["DriverName"],MSDate:["DriverName"],MIReceivedDate:["DriverName"],IsMIContract:["DriverName"],IsMIMaterial:["DriverName"],IsMIInMaterial:["DriverName"],BudgetCostAccountGroupDetKey:["DriverName"],MIYearEndKey:["DriverName"],MIProStageKey:["DriverName"],MITypeKey:["DriverName"],VendorMatRjctKey:["DriverName"],FixonBusinessFlowKey:["DriverName"],ProBusinessFlowKey:["DriverName"],IsMICancel:["DriverName"],MICancelRemarks:["DriverName"],MICancelByKey:["DriverName"],MaterialRequestID:["DriverName"],CustomerID:["DriverName"]}},LabelHeader:{MaterialIssueRegistry:{MatProcessTypeID:["Requirement Type Code","Requirement Type Name"],MaterialMINo:["Driver Name"],MaterialMSDate:["Driver Name"],ContractID:["Contract Code","Contract Name"],LocalityID:["Location Code","Location Name"],ProStoreID:["Store Code","Store Name","Ware House Name"],MatWareHouseID:["DriverName"],DepartmentID:["Department Code","Department Name"],DivisionID:["Division Code","Division Name"],MIPlaceofDelivary:["Driver Name"],EmployeeID:["Employee Code","First Name","Last Name"],EmployeeID1:["EmployeeCode","FirstName","LastName"],DriverName:["Driver Name"],VehicelName:["Driver Name"],MatJobID:["Job Code","Job Name"],MIWoRegDesc:["Driver Name"],ContractKey:["Driver Name"],LocalityKey:["Driver Name"],RequestedThrough:["Driver Name"],MITransactionNo:["Driver Name"],MIManagedBY:["Driver Name"],MIStatus:["Driver Name"],MatStatus:["Driver Name"],MIBy:["Driver Name"],MIReceivedBy:["Driver Name"],MSDate:["Driver Name"],MIReceivedDate:["Driver Name"],IsMIContract:["Driver Name"],IsMIMaterial:["Driver Name"],IsMIInMaterial:["Driver Name"],BudgetCostAccountGroupDetKey:["Driver Name"],MIYearEndKey:["Driver Name"],MIProStageKey:["Driver Name"],MITypeKey:["Driver Name"],VendorMatRjctKey:["Driver Name"],FixonBusinessFlowKey:["Driver Name"],ProBusinessFlowKey:["Driver Name"],IsMICancel:["Driver Name"],MICancelRemarks:["Driver Name"],MICancelByKey:["Driver Name"],MaterialRequestID:["DriverName"],CustomerID:["DriverName"]}},Property:{MaterialIssueRegistry:{MatProcessTypeID:{id:"fld345_19058",clearID:"MaterialIssueRegistryMatProcessTypeNameClear",type:"select",labelID:"MatProcessTypeIDPK",labelname:"Requirement Type",fielddisplayname:"MatProcessTypeName",fieldOrder:"1",frmctrlid:"fld345_19058",frmctrlidname:"MatProcessTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},MaterialMINo:{id:"fld345_19028",labelID:"MaterialMINo",maxLength:"10",labelname:"Issue No",frmctrlid:"fld345_19028",frmctrlidname:"MaterialMINo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!0},MaterialMSDate:{id:"fld345_19029",labelID:"MaterialMSDate",maxLength:"",labelname:"Issue Date",frmctrlid:"fld345_19029",frmctrlidname:"MaterialMSDate",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld345_19062",clearID:"MaterialIssueRegistryContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",fieldOrder:"4",frmctrlid:"fld345_19062",frmctrlidname:"ContractID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},LocalityID:{id:"fld345_19063",clearID:"MaterialIssueRegistryLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",fieldOrder:"1",frmctrlid:"fld345_19063",frmctrlidname:"LocalityID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ProStoreID:{id:"fld345_19066",clearID:"MaterialIssueRegistryProStoreNameClear",type:"select",labelID:"ProStoreIDPK",labelname:"Store",fielddisplayname:"ProStoreName",fieldOrder:"2",frmctrlid:"fld345_19066",frmctrlidname:"ProStoreID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},MatWareHouseID:{id:"fld345_19065",clearID:"MaterialIssueRegistryWareHouseNameClear",type:"select",labelID:"MatWareHouseIDPK",labelname:"Warehouse",fielddisplayname:"WareHouseName",fieldOrder:"3",frmctrlid:"fld345_19065",frmctrlidname:"MatWareHouseID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!0},DepartmentID:{id:"fld345_19061",clearID:"MaterialIssueRegistryDepartmentNameClear",type:"select",labelID:"DepartmentIDPK",labelname:"Department",fielddisplayname:"DepartmentName",fieldOrder:"4",frmctrlid:"fld345_19061",frmctrlidname:"DepartmentID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},DivisionID:{id:"fld345_19060",clearID:"MaterialIssueRegistryDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",fieldOrder:"1",frmctrlid:"fld345_19060",frmctrlidname:"DivisionID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MIPlaceofDelivary:{id:"fld345_19034",labelID:"MIPlaceofDelivary",maxLength:"-1",labelname:"Place of Delivery",frmctrlid:"fld345_19034",frmctrlidname:"MIPlaceofDelivary",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},EmployeeID:{id:"fld345_19068",clearID:"MaterialIssueRegistryFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"Issued To",fielddisplayname:"FirstName",fieldOrder:"3",frmctrlid:"fld345_19068",frmctrlidname:"EmployeeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},EmployeeID1:{id:"fld345_19069",clearID:"MaterialIssueRegistryFirstName1Clear",type:"select",labelID:"EmployeeID1PK",labelname:"HandOver To",fielddisplayname:"FirstName1",fieldOrder:"4",frmctrlid:"fld345_19069",frmctrlidname:"EmployeeID1",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},DriverName:{id:"fld345_19039",labelID:"DriverName",maxLength:"30",labelname:"Driver Name",frmctrlid:"fld345_19039",frmctrlidname:"DriverName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},VehicelName:{id:"fld345_19040",labelID:"VehicelName",maxLength:"30",labelname:"Vehicle Name & No.",frmctrlid:"fld345_19040",frmctrlidname:"VehicelName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatJobID:{id:"fld345_19067",clearID:"MaterialIssueRegistryJobGONameClear",type:"select",labelID:"MatJobIDPK",labelname:"Category",fielddisplayname:"JobGOName",fieldOrder:"3",frmctrlid:"fld345_19067",frmctrlidname:"MatJobID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MIWoRegDesc:{id:"fld345_19033",labelID:"MIWoRegDesc",maxLength:"-1",labelname:"Work Order",frmctrlid:"fld345_19033",frmctrlidname:"MIWoRegDesc",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},ContractKey:{id:"fld345_21404",labelID:"ContractKey",maxLength:"Invisible Field",labelname:"",frmctrlid:"fld345_21404",frmctrlidname:"ContractKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},LocalityKey:{id:"fld345_21405",labelID:"LocalityKey",maxLength:"Invisible Field",labelname:"",frmctrlid:"fld345_21405",frmctrlidname:"LocalityKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RequestedThrough:{id:"fld345_19030",labelID:"RequestedThrough",maxLength:"-1",labelname:"RequestedThrough",frmctrlid:"fld345_19030",frmctrlidname:"RequestedThrough",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MITransactionNo:{id:"fld345_19031",labelID:"MITransactionNo",maxLength:"-1",labelname:"TransactionNo",frmctrlid:"fld345_19031",frmctrlidname:"MITransactionNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIManagedBY:{id:"fld345_19032",labelID:"MIManagedBY",maxLength:"30",labelname:"ManagedBY",frmctrlid:"fld345_19032",frmctrlidname:"MIManagedBY",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIStatus:{id:"fld345_19035",labelID:"MIStatus",maxLength:"",labelname:"MIStatus",frmctrlid:"fld345_19035",frmctrlidname:"MIStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatStatus:{id:"fld345_19036",labelID:"MatStatus",maxLength:"",labelname:"MatStatus",frmctrlid:"fld345_19036",frmctrlidname:"MatStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIBy:{id:"fld345_19037",labelID:"MIBy",maxLength:"",labelname:"MIBy",frmctrlid:"fld345_19037",frmctrlidname:"MIBy",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIReceivedBy:{id:"fld345_19038",labelID:"MIReceivedBy",maxLength:"",labelname:"MIReceivedBy",frmctrlid:"fld345_19038",frmctrlidname:"MIReceivedBy",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MSDate:{id:"fld345_19041",labelID:"MSDate",maxLength:"-1",labelname:"MSDate",frmctrlid:"fld345_19041",frmctrlidname:"MSDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIReceivedDate:{id:"fld345_19042",labelID:"MIReceivedDate",maxLength:"-1",labelname:"MIReceivedDate",frmctrlid:"fld345_19042",frmctrlidname:"MIReceivedDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMIContract:{id:"fld345_19043",labelID:"IsMIContract",maxLength:"",labelname:"IsMIContract",frmctrlid:"fld345_19043",frmctrlidname:"IsMIContract",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMIMaterial:{id:"fld345_19044",labelID:"IsMIMaterial",maxLength:"",labelname:"IsMIMaterial",frmctrlid:"fld345_19044",frmctrlidname:"IsMIMaterial",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMIInMaterial:{id:"fld345_19045",labelID:"IsMIInMaterial",maxLength:"",labelname:"IsMIInMaterial",frmctrlid:"fld345_19045",frmctrlidname:"IsMIInMaterial",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BudgetCostAccountGroupDetKey:{id:"fld345_19046",labelID:"BudgetCostAccountGroupDetKey",maxLength:"",labelname:"BudgetCostAccountGroupDetKey",frmctrlid:"fld345_19046",frmctrlidname:"BudgetCostAccountGroupDetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIYearEndKey:{id:"fld345_19047",labelID:"MIYearEndKey",maxLength:"",labelname:"MIYearEndKey",frmctrlid:"fld345_19047",frmctrlidname:"MIYearEndKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MIProStageKey:{id:"fld345_19048",labelID:"MIProStageKey",maxLength:"",labelname:"MIProStageKey",frmctrlid:"fld345_19048",frmctrlidname:"MIProStageKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MITypeKey:{id:"fld345_19049",labelID:"MITypeKey",maxLength:"",labelname:"MITypeKey",frmctrlid:"fld345_19049",frmctrlidname:"MITypeKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},VendorMatRjctKey:{id:"fld345_19050",labelID:"VendorMatRjctKey",maxLength:"",labelname:"VendorMatRjctKey",frmctrlid:"fld345_19050",frmctrlidname:"VendorMatRjctKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FixonBusinessFlowKey:{id:"fld345_19051",labelID:"FixonBusinessFlowKey",maxLength:"",labelname:"FixonBusinessFlowKey",frmctrlid:"fld345_19051",frmctrlidname:"FixonBusinessFlowKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ProBusinessFlowKey:{id:"fld345_19052",labelID:"ProBusinessFlowKey",maxLength:"",labelname:"ProBusinessFlowKey",frmctrlid:"fld345_19052",frmctrlidname:"ProBusinessFlowKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMICancel:{id:"fld345_19053",labelID:"IsMICancel",maxLength:"",labelname:"IsMICancel",frmctrlid:"fld345_19053",frmctrlidname:"IsMICancel",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MICancelRemarks:{id:"fld345_19054",labelID:"MICancelRemarks",maxLength:"-1",labelname:"MICancelRemarks",frmctrlid:"fld345_19054",frmctrlidname:"MICancelRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MICancelByKey:{id:"fld345_19055",labelID:"MICancelByKey",maxLength:"",labelname:"MICancelByKey",frmctrlid:"fld345_19055",frmctrlidname:"MICancelByKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialRequestID:{id:"fld345_19059",clearID:"MaterialIssueRegistryMaterialRequestCodeClear",type:"select",labelID:"MaterialRequestIDPK",labelname:"MaterialRequestID",fielddisplayname:"MaterialRequestCode",fieldOrder:"4",frmctrlid:"fld345_19059",frmctrlidname:"MaterialRequestID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},CustomerID:{id:"fld345_19064",clearID:"MaterialIssueRegistryCustomerNameClear",type:"select",labelID:"CustomerIDPK",labelname:"CustomerID",fielddisplayname:"CustomerName",fieldOrder:"4",frmctrlid:"fld345_19064",frmctrlidname:"CustomerID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{MaterialIssueRegistry:{MatProcessTypeID:["MatProcessTypeCode","MatProcessTypeName","IsActive","CreatedTtm","UpdatedTtm"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],ProStoreID:["ProStoreCode","ProStoreName","MatProStoreAddress1","MatProStoreAddress2","POBoxNo","Pincode","CityName"],MatWareHouseID:["WareHouseCode","WareHouseName","WHAddress1","WHAddress2","POBoxNo","Pincode","CityName","IsActive","CreatedTtm","UpdatedTtm"],DepartmentID:["DepartmentCode","DepartmentName"],DivisionID:["DivisionCode","DivisionName"],EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"],MatJobID:["MatJobCode","JobGOName","CreatedTtm","UpdatedTtm"],MaterialRequestID:["MaterialRequestCode","MaterialRequestDate","ContractName","LocalityName","DivisionName","IsActive","CreatedTtm","UpdatedTtm"],CustomerID:["CustomerCode","CustomerName","CityName","PhoneNo1","Email","CreatedTtm","IsActive"]}}};a(42258),a(97829);var x=a(1589),w=a(8981),K=a(63163),k=a(45155),A=a(51649),L=a(16233),F=a.n(L),G=a(25108);const Z={MaterialIssueIDPK:"",MaterialMINo:"",MaterialMSDate:(0,R.format)(new Date,"yyyy-MM-dd"),MaterialMSDateType:"",MaterialMSDateBetween:"",RequestedThrough:"",MITransactionNo:"",MIManagedBY:"",MIWoRegDesc:"",MIPlaceofDelivary:"",MIStatus:"",MatStatus:"",MIBy:"",MIReceivedBy:"",DriverName:"",VehicelName:"",MSDate:"",MIDateType:"",MIDateBetween:"",MIReceivedDate:"",MIReceivedDateType:"",MIReceivedDateBetween:"",IsMIContract:!1,IsMIMaterial:!1,IsMIInMaterial:!1,BudgetCostAccountGroupDetKey:"",MIYearEndKey:"",MIProStageKey:"",MITypeKey:"",VendorMatRjctKey:"",FixonBusinessFlowKey:"",ProBusinessFlowKey:"",IsMICancel:!1,MICancelRemarks:"",MICancelByKey:"",ContractKey:"",LocalityKey:"",IsDraft:!1,Remarks:"",MatProcessTypeID:null,MaterialRequestID:null,DivisionID:null,DepartmentID:null,ContractID:null,LocalityID:null,CustomerID:null,MatWareHouseID:null,ProStoreID:null,MatJobID:null,EmployeeID:null,EmployeeID1:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeCode:"",MatProcessTypeName:"",MatWoTypeID:null,MatWoTypeCode:"",MatWoTypeName:"",MatMaterialGroupID:null,MatMaterialGroupCode:"",MatMaterialGroupName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionCode:"",DivisionName:"",DepartmentCode:"",DepartmentName:"",ContractCode:"",ContractName:"",LocalityCode:"",LocalityName:"",JobGOName:"",MatJobCode:"",ProStoreCode:"",ProStoreName:"",FinLedgerID:null,LedgerCode:"",LedgerName:"",WareHouseCode:"",WareHouseName:"",MaterialRequestCode:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",CustGroupID:null,CustGroupCode:"",CustGroupName:"",BusinessClasificationID:null,ClasificationCode:"",ClasificationName:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:null,EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",Type:"MaterialIssueID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},O=(0,l.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const[a,g]=(0,l.useState)(!1),[f,L]=(0,l.useState)(!0),[O,W]=(0,l.useState)(!1),[q,V]=(0,l.useState)(!1),[_,H]=(0,l.useState)(!1),[z,j]=(0,l.useState)(!1),[J,Y]=(0,l.useState)([]),[U,$]=(0,l.useState)(null),[X,ee]=(0,l.useReducer)(v.Z,Z),[te,ae]=(0,l.useState)(!1),[le,ne]=(0,l.useState)([]),[re,ie]=(0,l.useState)(0),[oe,se]=(0,l.useState)(""),[ue,me]=(0,l.useState)(!0),[de,pe]=(0,l.useState)(""),[ce,Ie]=(0,l.useState)(!0),[ye,Me]=(0,l.useState)(!0),[De,ge]=(0,l.useState)(!0),[Ce,Ne]=(0,l.useState)(!0),[Se,fe]=(0,l.useState)(!0),[Ee,be]=(0,l.useState)(!0),[ve,he]=(0,l.useState)(!0),[Te,Pe]=(0,l.useState)(!0),[Re,Be]=(0,l.useState)(""),[xe,we]=(0,l.useState)(""),[Ke,ke]=(0,l.useState)(!0),[Ae,Le]=(0,l.useState)(!0),[Fe,Ge]=(0,l.useState)(!0),[Ze,Oe]=(0,l.useState)(!0),[We,qe]=(0,l.useState)(!0),[Qe,Ve]=(0,l.useState)(!0),[_e,He]=(0,l.useState)(!0),[ze,je]=(0,l.useState)(!0),[Je,Ye]=(0,l.useState)(!0),Ue=(0,l.useContext)(x.MaterialIssueRegistryContext),{cstate:$e,cdispatch:Xe}=(0,x.ContextApi)(),[et]=(0,l.useState)(localStorage.getItem("Language")),[tt]=(0,l.useState)(localStorage.getItem("Language")),[at,lt]=(0,l.useState)([]),[nt,rt]=(0,l.useState)(null),[it,ot]=(0,l.useState)(!1),[st,ut]=(0,l.useState)(""),mt=(0,l.useRef)(null),[dt,pt]=F()("345"),[ct,It]=(0,l.useState)(!1),[yt,Mt]=(0,l.useState)(""),[Dt,gt]=(0,l.useState)(!1);let Ct=(0,w.Z)();const[Nt,St]=(0,l.useState)({}),ft=e=>Ct?.[e]?Ct[e]:e,Et=t=>$e.language?.[t]?$e.language[t]:e.createEasy?Nt?.[t]:t;(0,l.useEffect)((()=>{$e.PrimaryId&&ie(Number($e.PrimaryId))}),[$e.PrimaryId]),(0,l.useEffect)((()=>{$e.editData.length<0&&(0,N.Z)(1).then((e=>{kt(1,null,"SetDefaultMaterialIssueID",e)}))}),[]),(0,l.useEffect)((()=>{$e.editData.length>0?(ht($e.editData[0],"",$e.screenType),V(!0)):$e.Add&&(ie(0),V(!0))}),[$e.editData,$e.Add,$e.screenType]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),St(Object.assign({},...t))}(dt)}),[dt]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){V(!0),W(!1)},CreateEasyProps:(e=!0,t)=>{pt(!0),t?(Ot(t),V(e)):(Tt(),V(e))},clear:()=>{Tt()}})));const bt=e=>e?e.split("-").reverse().join("-"):null,vt=e=>{if(e){let t=bt(e);return"Invalid Date"!=new Date(t)?(0,R.format)(new Date(t),"yyyy-MM-dd"):e}return null},ht=(t,a,l)=>{let n=t;Object.keys(n).forEach((function(e){0==n[e]&&(n[e]=null)})),H(n.IsDraft),G.log(t,a,l,"datas,ParamType,type"),"MaterialRequestIDMR"==l&&Mt({transID:t.MaterialRequestIDPK,typeID:2}),"MatStockAdjustment"==l&&Mt({transID:t.MatStockAdjustmentIDPK,typeID:3}),"MatVendorMaterialRjctID"==l&&Mt({transID:t.MatVendorMaterialRjctIDPK,typeID:5}),l&&l.length>0?(G.log("screenDisable"),It(!0),Ue.tableGridRefresh()):It(!1),Xe({type:"EditIsDraft",payload:"1"==n.IsDraft}),ee({type:"number",name:"MIProStageKey",number:n.MIProStageKey}),ee({type:"number",name:"MatProcessTypeID",number:n.MatProcessTypeID?Number(n.MatProcessTypeID):0}),ee({type:"text",name:"MatProcessTypeName",value:n.MatProcessTypeName}),ee({type:"text",name:"MaterialMINo",value:n.MaterialMINo?n.MaterialMINo:""}),ee({type:"text",name:"MaterialMSDate",value:n.MaterialMSDate?bt(n.MaterialMSDate):(0,R.format)(new Date,"yyyy-MM-dd")}),ee({type:"number",name:"ContractID",number:n.ContractID?Number(n.ContractID):0}),ee({type:"text",name:"ContractName",value:n.ContractName}),ee({type:"number",name:"LocalityID",number:n.LocalityID?Number(n.LocalityID):0}),ee({type:"text",name:"LocalityName",value:n.LocalityName}),ee({type:"number",name:"ProStoreID",number:n.ProStoreID?Number(n.ProStoreID):0}),ee({type:"text",name:"ProStoreName",value:n.ProStoreName}),ee({type:"number",name:"MatWareHouseID",number:n.MatWareHouseID?Number(n.MatWareHouseID):0}),ee({type:"text",name:"WareHouseName",value:n.WareHouseName}),ee({type:"number",name:"DepartmentID",number:n.DepartmentID?Number(n.DepartmentID):0}),ee({type:"text",name:"DepartmentName",value:n.DepartmentName}),ee({type:"number",name:"DivisionID",number:n.DivisionID?Number(n.DivisionID):0}),ee({type:"text",name:"DivisionName",value:n.DivisionName}),ee({type:"text",name:"MIPlaceofDelivary",value:n.MIPlaceofDelivary?n.MIPlaceofDelivary:""}),ee({type:"number",name:"EmployeeID",number:n.EmployeeID?Number(n.EmployeeID):0}),ee({type:"text",name:"FirstName",value:n.FirstName}),ee({type:"number",name:"EmployeeID1",number:n.EmployeeID1?Number(n.EmployeeID1):0}),ee({type:"text",name:"FirstName1",value:n.FirstName1}),ee({type:"text",name:"DriverName",value:n.DriverName?n.DriverName:""}),ee({type:"text",name:"VehicelName",value:n.VehicelName?n.VehicelName:""}),ee({type:"number",name:"MatJobID",number:n.MatJobID?Number(n.MatJobID):0}),ee({type:"text",name:"JobGOName",value:n.JobGOName}),ee({type:"text",name:"MIWoRegDesc",value:n.MIWoRegDesc?n.MIWoRegDesc:""}),ee({type:"number",name:"ContractKey",number:n.ContractKey}),ee({type:"number",name:"LocalityKey",number:n.LocalityKey}),"SetDefaultMaterialIssueID"==a?se(n.MaterialIssueIDPK):(ie(e.primid?Number(e.primid):n.MaterialIssueIDPK?n.MaterialIssueIDPK:0),Xe({type:"PrimaryId",payload:n.MaterialIssueIDPK})),ee({type:"text",name:"RequestedThrough",value:n.RequestedThrough?n.RequestedThrough:""}),ee({type:"text",name:"MITransactionNo",value:n.MITransactionNo?n.MITransactionNo:""}),ee({type:"text",name:"MIManagedBY",value:n.MIManagedBY?n.MIManagedBY:""}),ee({type:"number",name:"MIStatus",number:n.MIStatus}),ee({type:"number",name:"MatStatus",number:n.MatStatus}),ee({type:"number",name:"MIBy",number:n.MIBy}),ee({type:"number",name:"MIReceivedBy",number:n.MIReceivedBy}),ee({type:"text",name:"MSDate",value:n.MSDate?bt(n.MSDate):null}),ee({type:"text",name:"MIReceivedDate",value:n.MIReceivedDate?bt(n.MIReceivedDate):null}),ee({type:"boolean",name:"IsMIContract",boolean:!!n.IsMIContract&&n.IsMIContract}),ee({type:"boolean",name:"IsMIMaterial",boolean:!!n.IsMIMaterial&&n.IsMIMaterial}),ee({type:"boolean",name:"IsMIInMaterial",boolean:!!n.IsMIInMaterial&&n.IsMIInMaterial}),ee({type:"number",name:"BudgetCostAccountGroupDetKey",number:n.BudgetCostAccountGroupDetKey}),ee({type:"number",name:"MIYearEndKey",number:n.MIYearEndKey}),ee({type:"number",name:"MITypeKey",number:n.MITypeKey}),ee({type:"number",name:"VendorMatRjctKey",number:n.VendorMatRjctKey}),ee({type:"number",name:"FixonBusinessFlowKey",number:n.FixonBusinessFlowKey}),ee({type:"number",name:"ProBusinessFlowKey",number:n.ProBusinessFlowKey}),ee({type:"boolean",name:"IsMICancel",boolean:!!n.IsMICancel&&n.IsMICancel}),ee({type:"text",name:"MICancelRemarks",value:n.MICancelRemarks?n.MICancelRemarks:""}),ee({type:"number",name:"MICancelByKey",number:n.MICancelByKey}),ee({type:"number",name:"MaterialRequestID",number:n.MaterialRequestID?Number(n.MaterialRequestID):0}),ee({type:"text",name:"MaterialRequestCode",value:n.MaterialRequestCode}),ee({type:"number",name:"CustomerID",number:n.CustomerID?Number(n.CustomerID):0}),ee({type:"text",name:"CustomerName",value:n.CustomerName}),n.IsDraft?L(!0):L(!("1"!=n.IsActive&&!n.IsActive))},Tt=()=>{Y([]),ie(0),Mt(0),se(""),It(!1),me(!0),Ie(!0),Me(!0),ge(!0),Ne(!0),fe(!0),be(!0),he(!0),Pe(!0),ke(!0),Le(!0),Ge(!0),Oe(!0),qe(!0),Ve(!0),He(!0),je(!0),Ye(!0),ee({type:"text",name:"MatProcessTypeID",value:null}),ee({type:"text",name:"MatProcessTypeName",value:""}),document.getElementById("MaterialIssueRegistryMatProcessTypeNameClear")&&document.getElementById("MaterialIssueRegistryMatProcessTypeNameClear").click(),ee({type:"text",name:"MaterialMINo",value:""}),ee({type:"text",name:"MaterialMSDate",value:(0,R.format)(new Date,"yyyy-MM-dd")}),ee({type:"text",name:"ContractID",value:null}),ee({type:"text",name:"ContractName",value:""}),document.getElementById("MaterialIssueRegistryContractNameClear")&&document.getElementById("MaterialIssueRegistryContractNameClear").click(),ee({type:"text",name:"LocalityID",value:null}),ee({type:"text",name:"LocalityName",value:""}),document.getElementById("MaterialIssueRegistryLocalityNameClear")&&document.getElementById("MaterialIssueRegistryLocalityNameClear").click(),ee({type:"text",name:"ProStoreID",value:null}),ee({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialIssueRegistryProStoreNameClear")&&document.getElementById("MaterialIssueRegistryProStoreNameClear").click(),ee({type:"text",name:"MatWareHouseID",value:null}),ee({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialIssueRegistryWareHouseNameClear")&&document.getElementById("MaterialIssueRegistryWareHouseNameClear").click(),ee({type:"text",name:"DepartmentID",value:null}),ee({type:"text",name:"DepartmentName",value:""}),document.getElementById("MaterialIssueRegistryDepartmentNameClear")&&document.getElementById("MaterialIssueRegistryDepartmentNameClear").click(),ee({type:"text",name:"DivisionID",value:null}),ee({type:"text",name:"DivisionName",value:""}),document.getElementById("MaterialIssueRegistryDivisionNameClear")&&document.getElementById("MaterialIssueRegistryDivisionNameClear").click(),ee({type:"text",name:"MIPlaceofDelivary",value:""}),ee({type:"text",name:"EmployeeID",value:null}),ee({type:"text",name:"FirstName",value:""}),document.getElementById("MaterialIssueRegistryFirstNameClear")&&document.getElementById("MaterialIssueRegistryFirstNameClear").click(),ee({type:"text",name:"EmployeeID1",value:null}),ee({type:"text",name:"FirstName1",value:""}),document.getElementById("MaterialIssueRegistryFirstName1Clear")&&document.getElementById("MaterialIssueRegistryFirstName1Clear").click(),ee({type:"text",name:"DriverName",value:""}),ee({type:"text",name:"VehicelName",value:""}),ee({type:"text",name:"MatJobID",value:null}),ee({type:"text",name:"JobGOName",value:""}),document.getElementById("MaterialIssueRegistryJobGONameClear")&&document.getElementById("MaterialIssueRegistryJobGONameClear").click(),ee({type:"text",name:"MIWoRegDesc",value:""}),ee({type:"number",name:"ContractKey",number:0}),ee({type:"number",name:"LocalityKey",number:0}),Xe({type:"PrimaryId",payload:""}),ee({type:"text",name:"RequestedThrough",value:""}),ee({type:"text",name:"MITransactionNo",value:""}),ee({type:"text",name:"MIManagedBY",value:""}),ee({type:"number",name:"MIStatus",number:0}),ee({type:"number",name:"MatStatus",number:0}),ee({type:"number",name:"MIBy",number:0}),ee({type:"number",name:"MIReceivedBy",number:0}),ee({type:"text",name:"MSDate",value:""}),ee({type:"text",name:"MIReceivedDate",value:""}),ee({type:"boolean",name:"IsMIContract",boolean:!1}),ee({type:"boolean",name:"IsMIMaterial",boolean:!1}),ee({type:"boolean",name:"IsMIInMaterial",boolean:!1}),ee({type:"number",name:"BudgetCostAccountGroupDetKey",number:0}),ee({type:"number",name:"MIYearEndKey",number:0}),ee({type:"number",name:"MIProStageKey",number:0}),ee({type:"number",name:"MITypeKey",number:0}),ee({type:"number",name:"VendorMatRjctKey",number:0}),ee({type:"number",name:"FixonBusinessFlowKey",number:0}),ee({type:"number",name:"ProBusinessFlowKey",number:0}),ee({type:"boolean",name:"IsMICancel",boolean:!1}),ee({type:"text",name:"MICancelRemarks",value:""}),ee({type:"number",name:"MICancelByKey",number:0}),ee({type:"text",name:"MaterialRequestID",value:null}),ee({type:"text",name:"MaterialRequestCode",value:""}),document.getElementById("MaterialIssueRegistryMaterialRequestCodeClear")&&document.getElementById("MaterialIssueRegistryMaterialRequestCodeClear").click(),ee({type:"text",name:"CustomerID",value:null}),ee({type:"text",name:"CustomerName",value:""}),document.getElementById("MaterialIssueRegistryCustomerNameClear")&&document.getElementById("MaterialIssueRegistryCustomerNameClear").click(),L(!0)},Pt=()=>{const e={...X};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Rt=()=>{Ue.ConfirmAlert(n().createElement(C(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ft("Are you sure?"),onConfirm:()=>Bt(),onCancel:()=>Ue.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ft("Yes"),cancelBtnText:ft("Cancel"),showCancel:!0},$e.PrimaryId?ft("Do you want to Update?"):ft("Do you want to Save?")))},Bt=(e,t)=>{Ue.loading(!0),Ue.ConfirmAlert(null),Xe({type:"IsDraft",payload:!1}),Q({url:S.v.Api+"FP345S2/",PrimID:re,ParamType:e,state:X,active:f,token:$e.token[0],DefaultPrimaryId:oe,IndirectID:""}).then((t=>{const a=t[0].status;let l=t[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(Ue.alert({open:!0,color:"warning",message:r}),Ue.loading(!1)):xt(e)):(Ue.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Ue.loading(!1))}))},xt=(t,a)=>{me(!0),Ie(!0),Me(!0),ge(!0),Ne(!0),fe(!0),be(!0),he(!0),Pe(!0),ke(!0),Le(!0),Ge(!0),Oe(!0),qe(!0),Ve(!0),He(!0),je(!0),Ye(!0),Ue.loading(!0),Ue.ConfirmAlert(null),Q({url:S.v.Api+"FP345S1/",PrimID:re,ParamType:t,state:X,active:f,token:$e.token[0],DefaultPrimaryId:oe,IndirectID:yt}).then((a=>{const l=a[0].status;200==l.code?("SetDefaultMaterialIssueID"==t?Ue.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Xe({type:"PrimaryId",payload:a[0].Data.IDPK}),Ue.AddOpen(a[0].Data.IDPK),Ue.alert({open:!0,color:"success",message:[l.message]})),Ue.attachmentSave(a[0].Data.IDPK),Ue.loading(!1),$e.AccessRights.IsApproval&&Ue.Approval(!0),e.createEasy,Xe({type:"EditOpen",payload:!1}),Xe({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttMaterialIssueRegistry")&&(document.getElementById("overlayimgAttMaterialIssueRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialIssueRegistry").style.display="none",document.getElementById("divMaterialIssueRegistry-Entry").style.width="100%"),document.getElementById("MaterialIssueRegistry-MainTable").style.display="none"):(Ue.alert({open:!0,color:"warning",message:[l.message]}),Ue.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultMaterialIssueID"==t&&(V(!0),kt(1,null,"SetDefaultMaterialIssueID",$e.token[0]))}))};function wt(e){return CreateEasy(e,$e,Xe,Ue,mt),!1}function Kt(e,a){return AdvanceSearch(e,a,x.MaterialIssueRegistryContext,(0,x.ContextApi)(),Lt,t),!1}(0,l.useEffect)((()=>{V($e.ExpandDetailValue)}),[$e.ExpandDetailValue]);const kt=(t,a,l,n,r,i)=>{const o=S.v.Api+"FP345S3/",s={data:{p1:null,p2:null,p3:X.MaterialMSDate?X.MaterialMSDate:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:X.MSDate?X.MSDate:null,p18:null,p19:null,p20:X.MIReceivedDate?X.MIReceivedDate:null,p21:null,p22:null,p23:1==X.IsMIContract,p24:1==X.IsMIMaterial,p25:1==X.IsMIInMaterial,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:1==X.IsMICancel,p34:null,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:null,p39:null,p40:"0"==X.MatProcessTypeID?null:X.MatProcessTypeID,p41:"0"==X.MaterialRequestID?null:X.MaterialRequestID,p42:"0"==X.DivisionID?null:X.DivisionID,p43:"0"==X.DepartmentID?null:X.DepartmentID,p44:"0"==X.ContractID?null:X.ContractID,p45:"0"==X.LocalityID?null:X.LocalityID,p46:"0"==X.CustomerID?null:X.CustomerID,p47:"0"==X.MatWareHouseID?null:X.MatWareHouseID,p48:"0"==X.ProStoreID?null:X.ProStoreID,p49:"0"==X.MatJobID?null:X.MatJobID,p50:"0"==X.EmployeeID?null:X.EmployeeID,p51:"0"==X.EmployeeID1?null:X.EmployeeID1,p52:e.Dialogview?"1":null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==X.MatWoTypeID?null:X.MatWoTypeID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==X.MatMaterialGroupID?null:X.MatMaterialGroupID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:"0"==X.MaterialMainClassID?null:X.MaterialMainClassID,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:a?"%"+a+"%":null,p78:a?"%"+a+"%":null,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:a?"%"+a+"%":null,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:a?"%"+a+"%":null,p85:a?"%"+a+"%":null,p86:"0"==X.FinLedgerID?null:X.FinLedgerID,p87:a?"%"+a+"%":null,p88:a?"%"+a+"%":null,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:a?"%"+a+"%":null,p92:"0"==X.ContractGroupID?null:X.ContractGroupID,p93:a?"%"+a+"%":null,p94:a?"%"+a+"%":null,p95:"0"==X.TaxID?null:X.TaxID,p96:a?"%"+a+"%":null,p97:a?"%"+a+"%":null,p98:a?"%"+a+"%":null,p99:a?"%"+a+"%":null,p100:a?"%"+a+"%":null,p101:"0"==X.ContractTypeID?null:X.ContractTypeID,p102:a?"%"+a+"%":null,p103:a?"%"+a+"%":null,p104:"0"==X.ContractCategID?null:X.ContractCategID,p105:a?"%"+a+"%":null,p106:a?"%"+a+"%":null,p107:"0"==X.ConPaymentTermsID?null:X.ConPaymentTermsID,p108:a?"%"+a+"%":null,p109:"0"==X.LocalityGroupID?null:X.LocalityGroupID,p110:a?"%"+a+"%":null,p111:a?"%"+a+"%":null,p112:"0"==X.CityID?null:X.CityID,p113:a?"%"+a+"%":null,p114:a?"%"+a+"%":null,p115:"0"==X.AdminLocalityTypeID?null:X.AdminLocalityTypeID,p116:a?"%"+a+"%":null,p117:a?"%"+a+"%":null,p118:"0"==X.RegionID?null:X.RegionID,p119:a?"%"+a+"%":null,p120:a?"%"+a+"%":null,p121:"0"==X.CountryID?null:X.CountryID,p122:a?"%"+a+"%":null,p123:a?"%"+a+"%":null,p124:"0"==X.CustGroupID?null:X.CustGroupID,p125:a?"%"+a+"%":null,p126:a?"%"+a+"%":null,p127:"0"==X.BusinessClasificationID?null:X.BusinessClasificationID,p128:a?"%"+a+"%":null,p129:a?"%"+a+"%":null,p130:"0"==X.ShiftID?null:X.ShiftID,p131:a?"%"+a+"%":null,p132:a?"%"+a+"%":null,p133:"0"==X.ClassificationID?null:X.ClassificationID,p134:a?"%"+a+"%":null,p135:a?"%"+a+"%":null,p136:"0"==X.DesignationID?null:X.DesignationID,p137:a?"%"+a+"%":null,p138:a?"%"+a+"%":null,p139:"0"==X.NationalityID?null:X.NationalityID,p140:a?"%"+a+"%":null,p141:a?"%"+a+"%":null,p142:"0"==X.EmpWorkNatureID?null:X.EmpWorkNatureID,p143:a?"%"+a+"%":null,p144:a?"%"+a+"%":null,p145:"0"==X.EmployeeTypeID?null:X.EmployeeTypeID,p146:a?"%"+a+"%":null,p147:a?"%"+a+"%":null,p148:"0"==X.EmploymentTypeID?null:X.EmploymentTypeID,p149:a?"%"+a+"%":null,p150:a?"%"+a+"%":null,p151:"0"==X.EmployeeGroupID?null:X.EmployeeGroupID,p152:a?"%"+a+"%":null,p153:a?"%"+a+"%":null,p154:"0"==X.EmpGradeID?null:X.EmpGradeID,p155:a?"%"+a+"%":null,p156:a?"%"+a+"%":null,p157:"0"==X.EmpGenderID?null:X.EmpGenderID,p158:a?"%"+a+"%":null,p159:"0"==X.EmpTitleID?null:X.EmpTitleID,p160:a?"%"+a+"%":null,p161:t,p162:10,p163:l,p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}},u=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{});ae(!0);const m={data:u};return(0,c.Z)(o,"ClearAll"==l?m:s,"SetDefaultMaterialIssueID"==l&&n?n:$e.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return 1==n.length?n[0]:{};ne(1==t?e>0?n:[]:le.concat(n)),"SetDefaultMaterialIssueID"==l&&(e>0?ht(n[0],"SetDefaultMaterialIssueID"):se("NORECORDS")),ae(!1)}else Ue.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ae(!1)}))},At=(t,a,l)=>{const n=S.v.Api+"FP345S3/",r={data:{p1:null,p2:"MaterialMINo"==l&&a?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:"RequestedThrough"==l&&a?"%"+a+"%":null,p7:"MITransactionNo"==l&&a?"%"+a+"%":null,p8:"MIManagedBY"==l&&a?"%"+a+"%":null,p9:"MIWoRegDesc"==l&&a?"%"+a+"%":null,p10:"MIPlaceofDelivary"==l&&a?"%"+a+"%":null,p11:"MIStatus"==l&&a?"%"+a+"%":null,p12:"MatStatus"==l&&a?"%"+a+"%":null,p13:"MIBy"==l&&a?"%"+a+"%":null,p14:"MIReceivedBy"==l&&a?"%"+a+"%":null,p15:"DriverName"==l&&a?"%"+a+"%":null,p16:"VehicelName"==l&&a?"%"+a+"%":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:e.Dialogview?"1":null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:null,p129:null,p130:null,p131:null,p132:null,p133:null,p134:null,p135:null,p136:null,p137:null,p138:null,p139:null,p140:null,p141:null,p142:null,p143:null,p144:null,p145:null,p146:null,p147:null,p148:null,p149:null,p150:null,p151:null,p152:null,p153:null,p154:null,p155:null,p156:null,p157:null,p158:null,p159:null,p160:null,p161:t,p162:10,p163:"MaterialIssueID",p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};ae(!0),(0,c.Z)(n,"ClearAll"==l?i:r,$e.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("MaterialMINo"==l&&me(e>0),"ContractKey"==l&&Ie(e>0),"LocalityKey"==l&&Me(e>0),"MITransactionNo"==l&&ge(e>0),"MIManagedBY"==l&&Ne(e>0),"MIStatus"==l&&fe(e>0),"MatStatus"==l&&be(e>0),"MIBy"==l&&he(e>0),"MIReceivedBy"==l&&Pe(e>0),"BudgetCostAccountGroupDetKey"==l&&ke(e>0),"MIYearEndKey"==l&&Le(e>0),"MIProStageKey"==l&&Ge(e>0),"MITypeKey"==l&&Oe(e>0),"VendorMatRjctKey"==l&&qe(e>0),"FixonBusinessFlowKey"==l&&Ve(e>0),"ProBusinessFlowKey"==l&&He(e>0),"MICancelRemarks"==l&&je(e>0),"MICancelByKey"==l&&Ye(e>0),ne(n)):("MaterialMINo"==l&&me(!0),"ContractKey"==l&&Ie(!0),"LocalityKey"==l&&Me(!0),"MITransactionNo"==l&&ge(!0),"MIManagedBY"==l&&Ne(!0),"MIStatus"==l&&fe(!0),"MatStatus"==l&&be(!0),"MIBy"==l&&he(!0),"MIReceivedBy"==l&&Pe(!0),"BudgetCostAccountGroupDetKey"==l&&ke(!0),"MIYearEndKey"==l&&Le(!0),"MIProStageKey"==l&&Ge(!0),"MITypeKey"==l&&Oe(!0),"VendorMatRjctKey"==l&&qe(!0),"FixonBusinessFlowKey"==l&&Ve(!0),"ProBusinessFlowKey"==l&&He(!0),"MICancelRemarks"==l&&je(!0),"MICancelByKey"==l&&Ye(!0),ne(le.concat(n))),ae(!1)}else Ue.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ae(!1)}))},Lt=(0,l.useCallback)((async(e,t,a)=>{"text"==a?ee({type:a,name:t,value:e}):"number"==a?ee({type:a,name:t,number:Number(e)}):"boolean"==a?ee({type:a,name:t,boolean:e}):"date"==a?ee({type:"text",name:t,value:e}):"select"==a&&("MatProcessTypeID"==t?(ee({type:"text",name:"MatProcessTypeID",value:e.MatProcessTypeIDPK?e.MatProcessTypeIDPK:null}),ee({type:"text",name:"MatProcessTypeName",value:e.MatProcessTypeName?e.MatProcessTypeName:null})):"ContractID"==t?(ee({type:"text",name:"ContractID",value:e.ContractIDPK?e.ContractIDPK:null}),ee({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:null})):"LocalityID"==t?(ee({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),ee({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"ProStoreID"==t?(ee({type:"text",name:"ProStoreID",value:e.ProStoreIDPK?e.ProStoreIDPK:null}),ee({type:"text",name:"ProStoreName",value:e.ProStoreName?e.ProStoreName:null}),ee({type:"text",name:"MatWareHouseID",value:e.MatWareHouseID?e.MatWareHouseID:null}),ee({type:"text",name:"WareHouseName",value:e.WareHouseName?e.WareHouseName:null})):"MatWareHouseID"==t||("DepartmentID"==t?(ee({type:"text",name:"DepartmentID",value:e.DepartmentIDPK?e.DepartmentIDPK:null}),ee({type:"text",name:"DepartmentName",value:e.DepartmentName?e.DepartmentName:null})):"DivisionID"==t?(ee({type:"text",name:"DivisionID",value:e.DivisionIDPK?e.DivisionIDPK:null}),ee({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:null})):"EmployeeID"==t?(ee({type:"text",name:"EmployeeID",value:e.EmployeeIDPK?e.EmployeeIDPK:null}),ee({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:null})):"EmployeeID1"==t?(ee({type:"text",name:"EmployeeID1",value:e.EmployeeIDPK?e.EmployeeIDPK:null}),ee({type:"text",name:"FirstName1",value:e.FirstName?e.FirstName:null})):"MatJobID"==t&&(ee({type:"text",name:"MatJobID",value:e.MatJobIDPK?e.MatJobIDPK:null}),ee({type:"text",name:"JobGOName",value:e.JobGOName?e.JobGOName:null}))))}),[X]);function Ft(e){if("MatProcessTypeID"==e){if(!X.MatProcessTypeID)return!1;ee({type:"text",name:"MatProcessTypeID",value:null}),ee({type:"text",name:"MatProcessTypeName",value:""}),document.getElementById("MaterialIssueRegistryMatProcessTypeNameClear")&&document.getElementById("MaterialIssueRegistryMatProcessTypeNameClear").click()}else if("ContractID"==e){if(!X.ContractID)return!1;ee({type:"text",name:"ContractID",value:null}),ee({type:"text",name:"ContractName",value:""}),document.getElementById("MaterialIssueRegistryContractNameClear")&&document.getElementById("MaterialIssueRegistryContractNameClear").click()}else if("LocalityID"==e){if(!X.LocalityID)return!1;ee({type:"text",name:"LocalityID",value:null}),ee({type:"text",name:"LocalityName",value:""}),document.getElementById("MaterialIssueRegistryLocalityNameClear")&&document.getElementById("MaterialIssueRegistryLocalityNameClear").click(),ee({type:"text",name:"ContractID",value:null}),ee({type:"text",name:"ContractName",value:""}),document.getElementById("MaterialIssueRegistryContractNameClear")&&document.getElementById("MaterialIssueRegistryContractNameClear").click()}else if("ProStoreID"==e){if(!X.ProStoreID)return!1;ee({type:"text",name:"ProStoreID",value:null}),ee({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialIssueRegistryProStoreNameClear")&&document.getElementById("MaterialIssueRegistryProStoreNameClear").click(),ee({type:"text",name:"MatWareHouseID",value:null}),ee({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialIssueRegistryWareHouseNameClear")&&document.getElementById("MaterialIssueRegistryWareHouseNameClear").click()}else if("MatWareHouseID"==e){if(!X.MatWareHouseID)return!1}else if("DepartmentID"==e){if(!X.DepartmentID)return!1;ee({type:"text",name:"DepartmentID",value:null}),ee({type:"text",name:"DepartmentName",value:""}),document.getElementById("MaterialIssueRegistryDepartmentNameClear")&&document.getElementById("MaterialIssueRegistryDepartmentNameClear").click()}else if("DivisionID"==e){if(!X.DivisionID)return!1;ee({type:"text",name:"DivisionID",value:null}),ee({type:"text",name:"DivisionName",value:""}),document.getElementById("MaterialIssueRegistryDivisionNameClear")&&document.getElementById("MaterialIssueRegistryDivisionNameClear").click()}else if("EmployeeID"==e){if(!X.EmployeeID)return!1;ee({type:"text",name:"EmployeeID",value:null}),ee({type:"text",name:"FirstName",value:""}),document.getElementById("MaterialIssueRegistryFirstNameClear")&&document.getElementById("MaterialIssueRegistryFirstNameClear").click()}else if("EmployeeID1"==e){if(!X.EmployeeID1)return!1;ee({type:"text",name:"EmployeeID1",value:null}),ee({type:"text",name:"FirstName1",value:""}),document.getElementById("MaterialIssueRegistryFirstName1Clear")&&document.getElementById("MaterialIssueRegistryFirstName1Clear").click()}else if("MatJobID"==e){if(!X.MatJobID)return!1;ee({type:"text",name:"MatJobID",value:null}),ee({type:"text",name:"JobGOName",value:""}),document.getElementById("MaterialIssueRegistryJobGONameClear")&&document.getElementById("MaterialIssueRegistryJobGONameClear").click()}else if("MaterialRequestID"==e){if(!X.MaterialRequestID)return!1}else if("CustomerID"==e&&!X.CustomerID)return!1}function Gt(e){if("MatProcessTypeID"==e){if(!X.MatProcessTypeID)return!1;ee({type:"text",name:"MatProcessTypeID",value:null})}else if("ContractID"==e){if(!X.ContractID)return!1;ee({type:"text",name:"ContractID",value:null})}else if("LocalityID"==e){if(!X.LocalityID)return!1;ee({type:"text",name:"LocalityID",value:null}),ee({type:"text",name:"ContractID",value:null})}else if("ProStoreID"==e){if(!X.ProStoreID)return!1;ee({type:"text",name:"ProStoreID",value:null}),ee({type:"text",name:"MatWareHouseID",value:null})}else if("MatWareHouseID"==e){if(!X.MatWareHouseID)return!1}else if("DepartmentID"==e){if(!X.DepartmentID)return!1;ee({type:"text",name:"DepartmentID",value:null})}else if("DivisionID"==e){if(!X.DivisionID)return!1;ee({type:"text",name:"DivisionID",value:null})}else if("EmployeeID"==e){if(!X.EmployeeID)return!1;ee({type:"text",name:"EmployeeID",value:null})}else if("EmployeeID1"==e){if(!X.EmployeeID1)return!1;ee({type:"text",name:"EmployeeID1",value:null})}else if("MatJobID"==e){if(!X.MatJobID)return!1;ee({type:"text",name:"MatJobID",value:null})}else if("MaterialRequestID"==e){if(!X.MaterialRequestID)return!1}else if("CustomerID"==e&&!X.CustomerID)return!1}const Zt=e=>{Ue.ConfirmAlert(n().createElement(C(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ot(e),onCancel:()=>Ue.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ft("Yes"),cancelBtnText:ft("No"),showCancel:!0},ft("Do you want to update this record?")))};function Ot(t){Ue.ConfirmAlert(null),H(t.IsDraft),e.createEasy||(Xe({type:"editData",payload:[t]}),Xe({type:"PrimaryId",payload:t.MaterialIssueIDPK})),ie(Number(t.MaterialIssueIDPK)?Number(t.MaterialIssueIDPK):0),ee({type:"number",name:"MatProcessTypeID",number:t.MatProcessTypeID?Number(t.MatProcessTypeID):0}),ee({type:"text",name:"MatProcessTypeName",value:t.MatProcessTypeName?t.MatProcessTypeName:""}),ee({type:"text",name:"MaterialMINo",value:t.MaterialMINo?t.MaterialMINo:""}),ee({type:"text",name:"MaterialMSDate",value:t.MaterialMSDate?bt(t.MaterialMSDate):null}),ee({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),ee({type:"text",name:"ContractName",value:t.ContractName?t.ContractName:""}),ee({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),ee({type:"text",name:"LocalityName",value:t.LocalityName?t.LocalityName:""}),ee({type:"number",name:"ProStoreID",number:t.ProStoreID?Number(t.ProStoreID):0}),ee({type:"text",name:"ProStoreName",value:t.ProStoreName?t.ProStoreName:""}),ee({type:"number",name:"MatWareHouseID",number:t.MatWareHouseID?Number(t.MatWareHouseID):0}),ee({type:"text",name:"WareHouseName",value:t.WareHouseName?t.WareHouseName:""}),ee({type:"number",name:"DepartmentID",number:t.DepartmentID?Number(t.DepartmentID):0}),ee({type:"text",name:"DepartmentName",value:t.DepartmentName?t.DepartmentName:""}),ee({type:"number",name:"DivisionID",number:t.DivisionID?Number(t.DivisionID):0}),ee({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:""}),ee({type:"text",name:"MIPlaceofDelivary",value:t.MIPlaceofDelivary?t.MIPlaceofDelivary:""}),ee({type:"number",name:"EmployeeID",number:t.EmployeeID?Number(t.EmployeeID):0}),ee({type:"text",name:"FirstName",value:t.FirstName?t.FirstName:""}),ee({type:"number",name:"EmployeeID1",number:t.EmployeeID1?Number(t.EmployeeID1):0}),ee({type:"text",name:"FirstName1",value:t.FirstName1?t.FirstName1:""}),ee({type:"text",name:"DriverName",value:t.DriverName?t.DriverName:""}),ee({type:"text",name:"VehicelName",value:t.VehicelName?t.VehicelName:""}),ee({type:"number",name:"MatJobID",number:t.MatJobID?Number(t.MatJobID):0}),ee({type:"text",name:"JobGOName",value:t.JobGOName?t.JobGOName:""}),ee({type:"text",name:"MIWoRegDesc",value:t.MIWoRegDesc?t.MIWoRegDesc:""}),ee({type:"text",name:"ContractKey",value:t.ContractKey?t.ContractKey:""}),ee({type:"text",name:"LocalityKey",value:t.LocalityKey?t.LocalityKey:""}),ee({type:"text",name:"RequestedThrough",value:t.RequestedThrough?t.RequestedThrough:""}),ee({type:"text",name:"MITransactionNo",value:t.MITransactionNo?t.MITransactionNo:""}),ee({type:"text",name:"MIManagedBY",value:t.MIManagedBY?t.MIManagedBY:""}),ee({type:"text",name:"MIStatus",value:t.MIStatus?t.MIStatus:""}),ee({type:"text",name:"MatStatus",value:t.MatStatus?t.MatStatus:""}),ee({type:"text",name:"MIBy",value:t.MIBy?t.MIBy:""}),ee({type:"text",name:"MIReceivedBy",value:t.MIReceivedBy?t.MIReceivedBy:""}),ee({type:"text",name:"MSDate",value:t.MSDate?bt(t.MSDate):null}),ee({type:"text",name:"MIReceivedDate",value:t.MIReceivedDate?bt(t.MIReceivedDate):null}),ee({type:"boolean",name:"IsMIContract",boolean:!!t.IsMIContract&&t.IsMIContract}),ee({type:"boolean",name:"IsMIMaterial",boolean:!!t.IsMIMaterial&&t.IsMIMaterial}),ee({type:"boolean",name:"IsMIInMaterial",boolean:!!t.IsMIInMaterial&&t.IsMIInMaterial}),ee({type:"text",name:"BudgetCostAccountGroupDetKey",value:t.BudgetCostAccountGroupDetKey?t.BudgetCostAccountGroupDetKey:""}),ee({type:"text",name:"MIYearEndKey",value:t.MIYearEndKey?t.MIYearEndKey:""}),ee({type:"text",name:"MIProStageKey",value:t.MIProStageKey?t.MIProStageKey:""}),ee({type:"text",name:"MITypeKey",value:t.MITypeKey?t.MITypeKey:""}),ee({type:"text",name:"VendorMatRjctKey",value:t.VendorMatRjctKey?t.VendorMatRjctKey:""}),ee({type:"text",name:"FixonBusinessFlowKey",value:t.FixonBusinessFlowKey?t.FixonBusinessFlowKey:""}),ee({type:"text",name:"ProBusinessFlowKey",value:t.ProBusinessFlowKey?t.ProBusinessFlowKey:""}),ee({type:"boolean",name:"IsMICancel",boolean:!!t.IsMICancel&&t.IsMICancel}),ee({type:"text",name:"MICancelRemarks",value:t.MICancelRemarks?t.MICancelRemarks:""}),ee({type:"text",name:"MICancelByKey",value:t.MICancelByKey?t.MICancelByKey:""}),ee({type:"number",name:"MaterialRequestID",number:t.MaterialRequestID?Number(t.MaterialRequestID):0}),ee({type:"text",name:"MaterialRequestCode",value:t.MaterialRequestCode?t.MaterialRequestCode:""}),ee({type:"number",name:"CustomerID",number:t.CustomerID?Number(t.CustomerID):0}),ee({type:"text",name:"CustomerName",value:t.CustomerName?t.CustomerName:""})}const Wt=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:q,onChange:e=>{}},n().createElement(s.Z,null,n().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&n().createElement("span",{style:{cursor:"pointer"}},n().createElement(A.u1R,{className:"backButtonList",onClick:()=>{Ue.ShowTableDiv(),It(!1)}})),n().createElement("p",{id:"fld345L3ECListP",className:"ListP",title:"10.0.0.44-10:48:15 AM-30-5[345]",onClick:()=>$e.ExpandTableValue&&V(!q)},re?"Edit ":"New ",Et("345")," (",$e.count,")")),q&&n().createElement("div",{className:"displayFlex EntryHeaderBtn"},$e.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(u.Z,{labelPlacement:"bottom",frmctrlid:"fld345L3ECEntryCheckbox",control:n().createElement(K.Z,{checked:"1"==f,onChange:e=>L(e.target.checked)}),label:ft(1==f?"Active":"In Active")}))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{Ue.AttachExpand(!0)},id:"fld345L3ECAttachment",disableRipple:!0,disabled:!re},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",null,n().createElement(k.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Attach"))),!e.createEasy&&(!re||!$e.editData.length>0)&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Tt()},id:"fld345L3ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(k.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Reset"))),$e.AccessRights.IsAdd&&n().createElement(D.Z,{name:re?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return t=re?"update":"next",X.MatProcessTypeID&&0!=X.MatProcessTypeID?!X.MaterialMSDate||0==X.MaterialMSDate||de?(Ue.alert({open:!0,color:"warning",message:[ft("Please enter the Issue Date")]}),!1):X.ContractID&&0!=X.ContractID?X.LocalityID&&0!=X.LocalityID?X.ProStoreID&&0!=X.ProStoreID?X.MatWareHouseID&&0!=X.MatWareHouseID?X.EmployeeID&&0!=X.EmployeeID?X.EmployeeID1&&0!=X.EmployeeID1?void("next"==t?function(t,a,l,n){if(Pt().length>0){me(!0),Ie(!0),Me(!0),ge(!0),Ne(!0),fe(!0),be(!0),he(!0),Pe(!0),ke(!0),Le(!0),Ge(!0),Oe(!0),qe(!0),Ve(!0),He(!0),je(!0),Ye(!0),Ue.loading(!0),Ue.ConfirmAlert(null),Xe({type:"IsDraft",payload:!1});const t=S.v.Api+"FP345S1/",a={data:[{p1:re,p2:Wt(X.MaterialMINo),p3:X.MaterialMSDate?vt(X.MaterialMSDate):null,p4:Wt(X.RequestedThrough),p5:Wt(X.MITransactionNo),p6:Wt(X.MIManagedBY),p7:Wt(X.MIWoRegDesc),p8:Wt(X.MIPlaceofDelivary),p9:X.MIStatus?Number(X.MIStatus):0,p10:X.MatStatus?Number(X.MatStatus):0,p11:X.MIBy?Number(X.MIBy):0,p12:X.MIReceivedBy?Number(X.MIReceivedBy):0,p13:Wt(X.DriverName),p14:Wt(X.VehicelName),p15:X.MSDate?vt(X.MSDate):null,p16:X.MIReceivedDate?vt(X.MIReceivedDate):null,p17:X.IsMIContract,p18:X.IsMIMaterial,p19:X.IsMIInMaterial,p20:X.BudgetCostAccountGroupDetKey?Number(X.BudgetCostAccountGroupDetKey):0,p21:X.MIYearEndKey?Number(X.MIYearEndKey):0,p22:yt.transID?Number(yt.transID):0,p23:yt.typeID?Number(yt.typeID):0,p24:X.VendorMatRjctKey?Number(X.VendorMatRjctKey):0,p25:X.FixonBusinessFlowKey?Number(X.FixonBusinessFlowKey):0,p26:X.ProBusinessFlowKey?Number(X.ProBusinessFlowKey):0,p27:X.IsMICancel,p28:Wt(X.MICancelRemarks),p29:X.MICancelByKey?Number(X.MICancelByKey):0,p30:X.ContractKey?Number(X.ContractKey):0,p31:X.LocalityKey?Number(X.LocalityKey):0,p32:!0,p33:null,p34:X.MatProcessTypeID?X.MatProcessTypeID:0,p35:X.MaterialRequestID?X.MaterialRequestID:0,p36:X.DivisionID?X.DivisionID:0,p37:X.DepartmentID?X.DepartmentID:0,p38:X.ContractID?X.ContractID:0,p39:X.LocalityID?X.LocalityID:0,p40:X.CustomerID?X.CustomerID:0,p41:X.MatWareHouseID?X.MatWareHouseID:0,p42:X.ProStoreID?X.ProStoreID:0,p43:X.MatJobID?X.MatJobID:0,p44:X.EmployeeID?X.EmployeeID:0,p45:X.EmployeeID1?X.EmployeeID1:0,p46:!1,p47:!1,p48:localStorage.getItem("userid"),p49:E()().format("YYYY-MM-DD hh:mm:ss"),p50:localStorage.getItem("userid"),p51:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,N.Z)(0).then((l=>{(0,p.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(Ue.alert({open:!0,color:"success",message:["Saved to Draft"]}),Xe({type:"EditIsDraft",payload:!0}),Ue.attachmentSave(t[0].Data.IDPK),Ue.loading(!1),Tt(),e.clrImgstate(!0),Ue.AddOpen(t[0].Data.IDPK,"1")):(Ue.alert({open:!0,color:"warning",message:[a.message]}),Ue.loading(!1))}))}))}else Ue.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Rt(t)):(Ue.alert({open:!0,color:"warning",message:[ft("Please select the ")+" "+Et("EmployeeID1")]}),!1):(Ue.alert({open:!0,color:"warning",message:[ft("Please select the ")+" "+Et("EmployeeID")]}),!1):(Ue.alert({open:!0,color:"warning",message:[ft("Please select the ")+" "+Et("MatWareHouseID")]}),!1):(Ue.alert({open:!0,color:"warning",message:[ft("Please select the ")+" "+Et("ProStoreID")]}),!1):(Ue.alert({open:!0,color:"warning",message:[ft("Please select the ")+" "+Et("LocalityID")]}),!1):(Ue.alert({open:!0,color:"warning",message:[ft("Please select the ")+" "+Et("ContractID")]}),!1):(Ue.alert({open:!0,color:"warning",message:[ft("Please select the ")+" "+Et("MatProcessTypeID")]}),!1);var t}}),re?n().createElement(d.Z,{disabled:!1,frmctrlid:"fld345L3ECCloseBtn",onClick:()=>{Ue.detailview(!0,re)}}):null))),n().createElement(o.Z,null,$e.AccessRights.IsAdd?null:$e.AccessRights.IsEdit?!$e.PrimaryId&&n().createElement("div",{className:"divdisable"}):n().createElement("div",{className:"divdisable"}),n().createElement("div",{id:"MaterialIssueRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"MaterialIssueRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"MaterialIssueRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(h.Z,null,n().createElement(P.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(I.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Issue Details"))))),n().createElement(T.Z,{style:{padding:"5px 20px 15px"}},n().createElement(I.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.MatProcessTypeID,"data-testid":X.MatProcessTypeID,value:X.MatProcessTypeName,SPName:"MaterialIssueRegistry",FieldName:"MatProcessTypeID",tfLabel:Et("MatProcessTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"MatProcessTypeID","select"),onChange:(e,t)=>{kt(e,t,"MatProcessTypeIDPK")},KeyBack:e=>{Gt("MatProcessTypeID")},fieldorder:"1",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("844")},Tabledialog:()=>Kt("844","MatProcessTypeID"),loading:te,clear:e=>{e&&Ft("MatProcessTypeID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{"data-testid":X.MaterialMINo,json:B,SPName:"MaterialIssueRegistry",FieldName:"MaterialMINo",tfLabel:Et("MaterialMINo"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{ue&&At(1,"","ClearAll"),me(!0)},frmctrlid:"fld345_19028",frmctrlidName:"MaterialMINo",fieldorder:"2",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{ue&&At(e,t,"MaterialMINo"),Lt(t,"MaterialMINo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:ue,SideEntryView:!1,KeyBack:e=>{},value:X.MaterialMINo,loading:te,clear:e=>{e&&(ee({type:"text",name:"MaterialMINo",value:""}),me(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(M.Z,{value:X.MaterialMSDate,"data-testid":X.MaterialMSDate,disabled:!1,onChange:e=>{Lt(e,"MaterialMSDate","date")},onErr:e=>{pe(e)},label:n().createElement("span",null,Et("MaterialMSDate"),n().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld345_19029",frmctrlidName:"MaterialMSDate",fieldorder:"3"})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.ContractID,"data-testid":X.ContractID,value:X.ContractName,Indirectdisable:!!ct,SPName:"MaterialIssueRegistry",FieldName:"ContractID",tfLabel:Et("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"ContractID","select"),onChange:(e,t)=>{kt(e,t,"ContractIDPK")},KeyBack:e=>{Gt("ContractID")},fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("156")},Tabledialog:()=>Kt("156","ContractID"),loading:te,clear:e=>{e&&Ft("ContractID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.LocalityID,"data-testid":X.LocalityID,value:X.LocalityName,Indirectdisable:!!ct,SPName:"MaterialIssueRegistry",FieldName:"LocalityID",tfLabel:Et("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"LocalityID","select"),onChange:(e,t)=>{kt(e,t,"LocalityIDPK")},KeyBack:e=>{Gt("LocalityID")},fieldorder:"1",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("12")},Tabledialog:()=>Kt("12","LocalityID"),loading:te,clear:e=>{e&&Ft("LocalityID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.ProStoreID,"data-testid":X.ProStoreID,value:X.ProStoreName,SPName:"MaterialIssueRegistry",FieldName:"ProStoreID",tfLabel:Et("ProStoreID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"ProStoreID","select"),onChange:(e,t)=>{kt(e,t,"ProStoreIDPK")},KeyBack:e=>{Gt("ProStoreID")},fieldorder:"2",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("385")},Tabledialog:()=>Kt("385","ProStoreID"),loading:te,clear:e=>{e&&Ft("ProStoreID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.MatWareHouseID,"data-testid":X.MatWareHouseID,value:X.WareHouseName,Indirectdisable:!!ct,SPName:"MaterialIssueRegistry",FieldName:"MatWareHouseID",tfLabel:Et("MatWareHouseID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"MatWareHouseID","select"),onChange:(e,t)=>{kt(e,t,"MatWareHouseIDPK")},KeyBack:e=>{Gt("MatWareHouseID")},fieldorder:"3",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("451")},Tabledialog:()=>Kt("451","MatWareHouseID"),loading:te,clear:e=>{e&&Ft("MatWareHouseID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.DepartmentID,"data-testid":X.DepartmentID,value:X.DepartmentName,SPName:"MaterialIssueRegistry",FieldName:"DepartmentID",tfLabel:Et("DepartmentID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"DepartmentID","select"),onChange:(e,t)=>{kt(e,t,"DepartmentIDPK")},KeyBack:e=>{Gt("DepartmentID")},fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("169")},Tabledialog:()=>Kt("169","DepartmentID"),loading:te,clear:e=>{e&&Ft("DepartmentID")}}))))),n().createElement(h.Z,null,n().createElement(P.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(I.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Delivery Details"))))),n().createElement(T.Z,{style:{padding:"5px 20px 15px"}},n().createElement(I.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.DivisionID,"data-testid":X.DivisionID,value:X.DivisionName,SPName:"MaterialIssueRegistry",FieldName:"DivisionID",tfLabel:Et("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"DivisionID","select"),onChange:(e,t)=>{kt(e,t,"DivisionIDPK")},KeyBack:e=>{Gt("DivisionID")},fieldorder:"1",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("35")},Tabledialog:()=>Kt("35","DivisionID"),loading:te,clear:e=>{e&&Ft("DivisionID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(m.Z,{json:B,"data-testid":X.MIPlaceofDelivary,SPName:"MaterialIssueRegistry",FieldName:"MIPlaceofDelivary",tfLabel:Et("MIPlaceofDelivary"),frmctrlid:"fld345_19034",fieldorder:"2",onChange:e=>{Lt(e,"MIPlaceofDelivary","text")},clear:e=>{e&&ee({type:"text",name:"MIPlaceofDelivary",value:""})},value:X.MIPlaceofDelivary})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.EmployeeID,"data-testid":X.EmployeeID,value:X.FirstName,SPName:"MaterialIssueRegistry",FieldName:"EmployeeID",tfLabel:Et("EmployeeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"EmployeeID","select"),onChange:(e,t)=>{kt(e,t,"EmployeeIDPK")},KeyBack:e=>{Gt("EmployeeID")},fieldorder:"3",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("197")},Tabledialog:()=>Kt("197","EmployeeID"),loading:te,clear:e=>{e&&Ft("EmployeeID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.EmployeeID1,"data-testid":X.EmployeeID1,value:X.FirstName1,SPName:"MaterialIssueRegistry",FieldName:"EmployeeID1",tfLabel:Et("EmployeeID1"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"EmployeeID1","select"),onChange:(e,t)=>{kt(e,t,"EmployeeID1PK")},KeyBack:e=>{Gt("EmployeeID1")},fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("197")},Tabledialog:()=>Kt("197","EmployeeID1"),loading:te,clear:e=>{e&&Ft("EmployeeID1")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(m.Z,{json:B,"data-testid":X.DriverName,SPName:"MaterialIssueRegistry",FieldName:"DriverName",tfLabel:Et("DriverName"),frmctrlid:"fld345_19039",fieldorder:"1",onChange:e=>{Lt(e,"DriverName","text")},clear:e=>{e&&ee({type:"text",name:"DriverName",value:""})},value:X.DriverName})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(m.Z,{json:B,"data-testid":X.VehicelName,SPName:"MaterialIssueRegistry",FieldName:"VehicelName",tfLabel:Et("VehicelName"),frmctrlid:"fld345_19040",fieldorder:"2",onChange:e=>{Lt(e,"VehicelName","text")},clear:e=>{e&&ee({type:"text",name:"VehicelName",value:""})},value:X.VehicelName})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(b.Z,{json:B,id:X.MatJobID,"data-testid":X.MatJobID,value:X.JobGOName,SPName:"MaterialIssueRegistry",FieldName:"MatJobID",tfLabel:Et("MatJobID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"MatJobID","select"),onChange:(e,t)=>{kt(e,t,"MatJobIDPK")},KeyBack:e=>{Gt("MatJobID")},fieldorder:"3",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("676")},Tabledialog:()=>Kt("676","MatJobID"),loading:te,clear:e=>{e&&Ft("MatJobID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(m.Z,{json:B,"data-testid":X.MIWoRegDesc,SPName:"MaterialIssueRegistry",FieldName:"MIWoRegDesc",tfLabel:Et("MIWoRegDesc"),frmctrlid:"fld345_19033",fieldorder:"4",onChange:e=>{Lt(e,"MIWoRegDesc","text")},clear:e=>{e&&ee({type:"text",name:"MIWoRegDesc",value:""})},value:X.MIWoRegDesc}))))),n().createElement(h.Z,null,n().createElement(P.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(I.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null,"Invisible details"))))),n().createElement(T.Z,{style:{padding:"5px 20px 15px"}},n().createElement(I.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.ContractKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"ContractKey",tfLabel:Et("ContractKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{ce&&At(1,"","ClearAll"),Ie(!0)},frmctrlid:"fld345_21404",frmctrlidName:"ContractKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{ce&&At(e,t,"ContractKey"),Lt(t,"ContractKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ie(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:X.ContractKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"ContractKey",value:""}),Ie(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.LocalityKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"LocalityKey",tfLabel:Et("LocalityKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{ye&&At(1,"","ClearAll"),Me(!0)},frmctrlid:"fld345_21405",frmctrlidName:"LocalityKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{ye&&At(e,t,"LocalityKey"),Lt(t,"LocalityKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Me(!0)},showList:ye,SideEntryView:!1,KeyBack:e=>{},value:X.LocalityKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"LocalityKey",value:""}),Me(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(m.Z,{json:B,"data-testid":X.RequestedThrough,SPName:"MaterialIssueRegistry",FieldName:"RequestedThrough",tfLabel:Et("RequestedThrough"),frmctrlid:"fld345_19030",fieldorder:"4",onChange:e=>{Lt(e,"RequestedThrough","text")},clear:e=>{e&&ee({type:"text",name:"RequestedThrough",value:""})},value:X.RequestedThrough})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MITransactionNo,json:B,SPName:"MaterialIssueRegistry",FieldName:"MITransactionNo",tfLabel:Et("MITransactionNo"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{De&&At(1,"","ClearAll"),ge(!0)},frmctrlid:"fld345_19031",frmctrlidName:"MITransactionNo",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{De&&At(e,t,"MITransactionNo"),Lt(t,"MITransactionNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ge(!0)},showList:De,SideEntryView:!1,KeyBack:e=>{},value:X.MITransactionNo,loading:te,clear:e=>{e&&(ee({type:"text",name:"MITransactionNo",value:""}),ge(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MIManagedBY,json:B,SPName:"MaterialIssueRegistry",FieldName:"MIManagedBY",tfLabel:Et("MIManagedBY"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Ce&&At(1,"","ClearAll"),Ne(!0)},frmctrlid:"fld345_19032",frmctrlidName:"MIManagedBY",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Ce&&At(e,t,"MIManagedBY"),Lt(t,"MIManagedBY","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ne(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:X.MIManagedBY,loading:te,clear:e=>{e&&(ee({type:"text",name:"MIManagedBY",value:""}),Ne(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MIStatus,json:B,SPName:"MaterialIssueRegistry",FieldName:"MIStatus",tfLabel:Et("MIStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Se&&At(1,"","ClearAll"),fe(!0)},frmctrlid:"fld345_19035",frmctrlidName:"MIStatus",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Se&&At(e,t,"MIStatus"),Lt(t,"MIStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:Se,SideEntryView:!1,KeyBack:e=>{},value:X.MIStatus,loading:te,clear:e=>{e&&(ee({type:"text",name:"MIStatus",value:""}),fe(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MatStatus,json:B,SPName:"MaterialIssueRegistry",FieldName:"MatStatus",tfLabel:Et("MatStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Ee&&At(1,"","ClearAll"),be(!0)},frmctrlid:"fld345_19036",frmctrlidName:"MatStatus",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Ee&&At(e,t,"MatStatus"),Lt(t,"MatStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||be(!0)},showList:Ee,SideEntryView:!1,KeyBack:e=>{},value:X.MatStatus,loading:te,clear:e=>{e&&(ee({type:"text",name:"MatStatus",value:""}),be(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MIBy,json:B,SPName:"MaterialIssueRegistry",FieldName:"MIBy",tfLabel:Et("MIBy"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{ve&&At(1,"","ClearAll"),he(!0)},frmctrlid:"fld345_19037",frmctrlidName:"MIBy",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{ve&&At(e,t,"MIBy"),Lt(t,"MIBy","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:ve,SideEntryView:!1,KeyBack:e=>{},value:X.MIBy,loading:te,clear:e=>{e&&(ee({type:"text",name:"MIBy",value:""}),he(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MIReceivedBy,json:B,SPName:"MaterialIssueRegistry",FieldName:"MIReceivedBy",tfLabel:Et("MIReceivedBy"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Te&&At(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld345_19038",frmctrlidName:"MIReceivedBy",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Te&&At(e,t,"MIReceivedBy"),Lt(t,"MIReceivedBy","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:Te,SideEntryView:!1,KeyBack:e=>{},value:X.MIReceivedBy,loading:te,clear:e=>{e&&(ee({type:"text",name:"MIReceivedBy",value:""}),Pe(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(M.Z,{value:X.MSDate,"data-testid":X.MSDate,disabled:!1,onChange:e=>{Lt(e,"MSDate","date")},onErr:e=>{Be(e)},label:Et("MSDate"),frmctrlid:"fld345_19041",frmctrlidName:"MSDate",fieldorder:"4"})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(M.Z,{value:X.MIReceivedDate,"data-testid":X.MIReceivedDate,disabled:!1,onChange:e=>{Lt(e,"MIReceivedDate","date")},onErr:e=>{we(e)},label:Et("MIReceivedDate"),frmctrlid:"fld345_19042",frmctrlidName:"MIReceivedDate",fieldorder:"4"})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(u.Z,{style:{color:"#337ab7"},"data-testid":X.IsMIContract,labelPlacement:"end",control:n().createElement(K.Z,{checked:"1"==X.IsMIContract,onChange:e=>{Lt(e.target.checked,"IsMIContract","boolean")},frmctrlid:"fld345_19043",frmctrlidname:"IsMIContract",fieldorder:"4",tfLabel:Et("IsMIContract")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:X.IsMIContract?"#21446F":"#999"}},Et("IsMIContract"))}))),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(u.Z,{style:{color:"#337ab7"},"data-testid":X.IsMIMaterial,labelPlacement:"end",control:n().createElement(K.Z,{checked:"1"==X.IsMIMaterial,onChange:e=>{Lt(e.target.checked,"IsMIMaterial","boolean")},frmctrlid:"fld345_19044",frmctrlidname:"IsMIMaterial",fieldorder:"4",tfLabel:Et("IsMIMaterial")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:X.IsMIMaterial?"#21446F":"#999"}},Et("IsMIMaterial"))}))),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(u.Z,{style:{color:"#337ab7"},"data-testid":X.IsMIInMaterial,labelPlacement:"end",control:n().createElement(K.Z,{checked:"1"==X.IsMIInMaterial,onChange:e=>{Lt(e.target.checked,"IsMIInMaterial","boolean")},frmctrlid:"fld345_19045",frmctrlidname:"IsMIInMaterial",fieldorder:"4",tfLabel:Et("IsMIInMaterial")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:X.IsMIInMaterial?"#21446F":"#999"}},Et("IsMIInMaterial"))}))),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.BudgetCostAccountGroupDetKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"BudgetCostAccountGroupDetKey",tfLabel:Et("BudgetCostAccountGroupDetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Ke&&At(1,"","ClearAll"),ke(!0)},frmctrlid:"fld345_19046",frmctrlidName:"BudgetCostAccountGroupDetKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Ke&&At(e,t,"BudgetCostAccountGroupDetKey"),Lt(t,"BudgetCostAccountGroupDetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ke(!0)},showList:Ke,SideEntryView:!1,KeyBack:e=>{},value:X.BudgetCostAccountGroupDetKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"BudgetCostAccountGroupDetKey",value:""}),ke(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MIYearEndKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"MIYearEndKey",tfLabel:Et("MIYearEndKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Ae&&At(1,"","ClearAll"),Le(!0)},frmctrlid:"fld345_19047",frmctrlidName:"MIYearEndKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Ae&&At(e,t,"MIYearEndKey"),Lt(t,"MIYearEndKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Le(!0)},showList:Ae,SideEntryView:!1,KeyBack:e=>{},value:X.MIYearEndKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"MIYearEndKey",value:""}),Le(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MIProStageKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"MIProStageKey",tfLabel:Et("MIProStageKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Fe&&At(1,"","ClearAll"),Ge(!0)},frmctrlid:"fld345_19048",frmctrlidName:"MIProStageKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Fe&&At(e,t,"MIProStageKey"),Lt(t,"MIProStageKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ge(!0)},showList:Fe,SideEntryView:!1,KeyBack:e=>{},value:X.MIProStageKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"MIProStageKey",value:""}),Ge(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MITypeKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"MITypeKey",tfLabel:Et("MITypeKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Ze&&At(1,"","ClearAll"),Oe(!0)},frmctrlid:"fld345_19049",frmctrlidName:"MITypeKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Ze&&At(e,t,"MITypeKey"),Lt(t,"MITypeKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Oe(!0)},showList:Ze,SideEntryView:!1,KeyBack:e=>{},value:X.MITypeKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"MITypeKey",value:""}),Oe(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.VendorMatRjctKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"VendorMatRjctKey",tfLabel:Et("VendorMatRjctKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{We&&At(1,"","ClearAll"),qe(!0)},frmctrlid:"fld345_19050",frmctrlidName:"VendorMatRjctKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{We&&At(e,t,"VendorMatRjctKey"),Lt(t,"VendorMatRjctKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||qe(!0)},showList:We,SideEntryView:!1,KeyBack:e=>{},value:X.VendorMatRjctKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"VendorMatRjctKey",value:""}),qe(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.FixonBusinessFlowKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"FixonBusinessFlowKey",tfLabel:Et("FixonBusinessFlowKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Qe&&At(1,"","ClearAll"),Ve(!0)},frmctrlid:"fld345_19051",frmctrlidName:"FixonBusinessFlowKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Qe&&At(e,t,"FixonBusinessFlowKey"),Lt(t,"FixonBusinessFlowKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ve(!0)},showList:Qe,SideEntryView:!1,KeyBack:e=>{},value:X.FixonBusinessFlowKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"FixonBusinessFlowKey",value:""}),Ve(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.ProBusinessFlowKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"ProBusinessFlowKey",tfLabel:Et("ProBusinessFlowKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{_e&&At(1,"","ClearAll"),He(!0)},frmctrlid:"fld345_19052",frmctrlidName:"ProBusinessFlowKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{_e&&At(e,t,"ProBusinessFlowKey"),Lt(t,"ProBusinessFlowKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||He(!0)},showList:_e,SideEntryView:!1,KeyBack:e=>{},value:X.ProBusinessFlowKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"ProBusinessFlowKey",value:""}),He(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(u.Z,{style:{color:"#337ab7"},"data-testid":X.IsMICancel,labelPlacement:"end",control:n().createElement(K.Z,{checked:"1"==X.IsMICancel,onChange:e=>{Lt(e.target.checked,"IsMICancel","boolean")},frmctrlid:"fld345_19053",frmctrlidname:"IsMICancel",fieldorder:"4",tfLabel:Et("IsMICancel")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:X.IsMICancel?"#21446F":"#999"}},Et("IsMICancel"))}))),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MICancelRemarks,json:B,SPName:"MaterialIssueRegistry",FieldName:"MICancelRemarks",tfLabel:Et("MICancelRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{ze&&At(1,"","ClearAll"),je(!0)},frmctrlid:"fld345_19054",frmctrlidName:"MICancelRemarks",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{ze&&At(e,t,"MICancelRemarks"),Lt(t,"MICancelRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||je(!0)},showList:ze,SideEntryView:!1,KeyBack:e=>{},value:X.MICancelRemarks,loading:te,clear:e=>{e&&(ee({type:"text",name:"MICancelRemarks",value:""}),je(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{"data-testid":X.MICancelByKey,json:B,SPName:"MaterialIssueRegistry",FieldName:"MICancelByKey",tfLabel:Et("MICancelByKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Zt(t),onClick:()=>{Je&&At(1,"","ClearAll"),Ye(!0)},frmctrlid:"fld345_19055",frmctrlidName:"MICancelByKey",fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Je&&At(e,t,"MICancelByKey"),Lt(t,"MICancelByKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ye(!0)},showList:Je,SideEntryView:!1,KeyBack:e=>{},value:X.MICancelByKey,loading:te,clear:e=>{e&&(ee({type:"text",name:"MICancelByKey",value:""}),Ye(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{json:B,id:X.MaterialRequestID,"data-testid":X.MaterialRequestID,value:X.MaterialRequestCode,SPName:"MaterialIssueRegistry",FieldName:"MaterialRequestID",tfLabel:Et("MaterialRequestID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"MaterialRequestID","select"),onChange:(e,t)=>{kt(e,t,"MaterialRequestIDPK")},KeyBack:e=>{Gt("MaterialRequestID")},fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("355")},Tabledialog:()=>Kt("355","MaterialRequestID"),loading:te,clear:e=>{e&&Ft("MaterialRequestID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(b.Z,{json:B,id:X.CustomerID,"data-testid":X.CustomerID,value:X.CustomerName,SPName:"MaterialIssueRegistry",FieldName:"CustomerID",tfLabel:Et("CustomerID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Lt(e,"CustomerID","select"),onChange:(e,t)=>{kt(e,t,"CustomerIDPK")},KeyBack:e=>{Gt("CustomerID")},fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{wt("164")},Tabledialog:()=>Kt("164","CustomerID"),loading:te,clear:e=>{e&&Ft("CustomerID")}})))))),n().createElement("div",{id:"MaterialIssueRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MaterialIssueRegistrySideBar").style.width="0",void j(!1))},"Ã—"),z&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},U))))))))})),W=O,q=e=>"string"==typeof e?e.trim():e;function Q(e){const t=e=>{if(e){let a=(t=e)?t.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(a)?(0,R.format)(new Date(a),"yyyy-MM-dd"):e}return null;var t},{url:a,PrimID:l,ParamType:n,state:r,active:i,token:o,DefaultPrimaryId:s,IndirectID:u}=e,m={data:[{p1:"SetDefaultMaterialIssueID"==n?"NORECORDS"!=s&&s?s:0:l,p2:q(r.MaterialMINo),p3:r.MaterialMSDate?t(r.MaterialMSDate):null,p4:q(r.RequestedThrough),p5:q(r.MITransactionNo),p6:q(r.MIManagedBY),p7:q(r.MIWoRegDesc),p8:q(r.MIPlaceofDelivary),p9:r.MIStatus?Number(r.MIStatus):0,p10:r.MatStatus?Number(r.MatStatus):0,p11:r.MIBy?Number(r.MIBy):0,p12:r.MIReceivedBy?Number(r.MIReceivedBy):0,p13:q(r.DriverName),p14:q(r.VehicelName),p15:r.MSDate?t(r.MSDate):null,p16:r.MIReceivedDate?t(r.MIReceivedDate):null,p17:r.IsMIContract,p18:r.IsMIMaterial,p19:r.IsMIInMaterial,p20:r.BudgetCostAccountGroupDetKey?Number(r.BudgetCostAccountGroupDetKey):0,p21:r.MIYearEndKey?Number(r.MIYearEndKey):0,p22:r.MIProStageKey?Number(r.MIProStageKey):0,p23:r.MITypeKey?Number(r.MITypeKey):0,p24:r.VendorMatRjctKey?Number(r.VendorMatRjctKey):0,p25:r.FixonBusinessFlowKey?Number(r.FixonBusinessFlowKey):0,p26:r.ProBusinessFlowKey?Number(r.ProBusinessFlowKey):0,p27:r.IsMICancel,p28:q(r.MICancelRemarks),p29:r.MICancelByKey?Number(r.MICancelByKey):0,p30:r.ContractKey?Number(r.ContractKey):0,p31:r.LocalityKey?Number(r.LocalityKey):0,p32:!1,p33:"SetDefaultMaterialIssueID"==n?"SetDefault":null,p34:r.MatProcessTypeID?r.MatProcessTypeID:0,p35:r.MaterialRequestID?r.MaterialRequestID:0,p36:r.DivisionID?r.DivisionID:0,p37:r.DepartmentID?r.DepartmentID:0,p38:r.ContractID?r.ContractID:0,p39:r.LocalityID?r.LocalityID:0,p40:r.CustomerID?r.CustomerID:0,p41:r.MatWareHouseID?r.MatWareHouseID:0,p42:r.ProStoreID?r.ProStoreID:0,p43:r.MatJobID?r.MatJobID:0,p44:r.EmployeeID?r.EmployeeID:0,p45:r.EmployeeID1?r.EmployeeID1:0,p46:i,p47:"SetDefaultMaterialIssueID"==n,p48:localStorage.getItem("userid"),p49:E()().format("YYYY-MM-DD hh:mm:ss"),p50:localStorage.getItem("userid"),p51:E()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,p.Z)(a,m,o).then((e=>e))}},85246:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(92950),n=a.n(l),r=(a(42258),a(40900)),i=(a(14439),a(27848),a(51673)),o=a(45237),s=(a(83032),a(44117),a(43334)),u=a(1589),m=a(88845);const d=(0,l.forwardRef)(((e,t)=>{(0,o.useSelector)((e=>e.form));const[a,d]=(0,l.useState)([]),[p,c]=(0,l.useState)([]),[I,y]=(0,l.useState)(!1),[M,D]=(0,l.useState)([]),[g,C]=(0,l.useState)([]),[N,S]=(0,l.useState)([]),[f,E]=(0,l.useState)([]),[b,v]=(0,l.useState)([]),[h,T]=(0,l.useState)({id:"",type:""}),[P,R]=(0,l.useState)({}),[B,x]=(0,l.useState)(1),{cstate:w,cdispatch:K}=(0,u.ContextApi)(),[k,A]=(0,l.useState)({}),L=(0,l.useRef)(null),[F,G]=(0,l.useState)(!1),[Z,O]=(0,l.useState)({}),[W,q]=(0,l.useState)({type:"MaterialIssueIDPK",params:{}}),[Q,V]=(0,l.useState)({current:1,pageSize:10}),[_,H]=(0,l.useState)(""),[z,j]=(0,l.useState)("viewonly"),[J,Y]=(0,l.useState)("");function U(e){O(e),document.getElementById("MaterialIssueRegistryPopUpTableScreen").style.width="0",document.getElementById("MaterialIssueRegistryPopUpTableScreen").style.padding="0",document.getElementById("MaterialIssueRegistry-ThemeSlide1").style.width="3.3%",document.getElementById("MaterialIssueRegistry-ThemeSlide1").style.background="none",document.getElementById("MaterialIssueRegistry-Floatcnt").style.width="0",document.getElementById("MaterialIssueRegistry-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}(0,l.useEffect)((()=>{e.onload&&$(W.params,"MaterialIssueIDPK"),y(!1)}),[e.onload]),(0,l.useEffect)((()=>{e.refresh&&$(W.params,"MaterialIssueIDPK")}),[]),(0,l.useEffect)((()=>{R(e.json),document.getElementById("MaterialIssueRegistryGridViewCard")&&(document.getElementById("MaterialIssueRegistryGridViewCard").style.width="100%")}),[e.json]),(0,l.useImperativeHandle)(t,(()=>({countRefresh:()=>{$(W.params,"MaterialIssueIDPK")}})));const $=(t,a,l)=>{l&&H(l),e.loading(!0),c([]);let n=r.v.Api+"FP345S11/",o={data:{p1:t&&t.MaterialIssueIDPK?t.MaterialIssueIDPK:null,p2:t&&t.MaterialMINo?t.MaterialMINo:null,p3:t&&t.MaterialMSDate?t.MaterialMSDate:null,p4:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p5:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p6:t&&t.RequestedThrough?t.RequestedThrough:null,p7:t&&t.MITransactionNo?t.MITransactionNo:null,p8:t&&t.MIManagedBY?t.MIManagedBY:null,p9:t&&t.MIWoRegDesc?t.MIWoRegDesc:null,p10:t&&t.MIPlaceofDelivary?t.MIPlaceofDelivary:null,p11:t&&t.MIStatus?t.MIStatus:null,p12:t&&t.MatStatus?t.MatStatus:null,p13:t&&t.MIBy?t.MIBy:null,p14:t&&t.MIReceivedBy?t.MIReceivedBy:null,p15:t&&t.DriverName?t.DriverName:null,p16:t&&t.VehicelName?t.VehicelName:null,p17:t&&t.MSDate?t.MSDate:null,p18:t&&t.MIDateType?t.MIDateType:null,p19:t&&t.MIDateBetween?t.MIDateBetween:null,p20:t&&t.MIReceivedDate?t.MIReceivedDate:null,p21:t&&t.MIReceivedDateType?t.MIReceivedDateType:null,p22:t&&t.MIReceivedDateBetween?t.MIReceivedDateBetween:null,p23:null,p24:null,p25:null,p26:t&&t.BudgetCostAccountGroupDetKey?t.BudgetCostAccountGroupDetKey:null,p27:t&&t.MIYearEndKey?t.MIYearEndKey:null,p28:t&&t.MIProStageKey?t.MIProStageKey:null,p29:t&&t.MITypeKey?t.MITypeKey:null,p30:t&&t.VendorMatRjctKey?t.VendorMatRjctKey:null,p31:t&&t.FixonBusinessFlowKey?t.FixonBusinessFlowKey:null,p32:t&&t.ProBusinessFlowKey?t.ProBusinessFlowKey:null,p33:null,p34:null,p35:t&&t.MICancelByKey?t.MICancelByKey:null,p36:t&&t.ContractKey?t.ContractKey:null,p37:t&&t.LocalityKey?t.LocalityKey:null,p38:null,p39:null,p40:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p41:t&&t.MaterialRequestID?t.MaterialRequestID:null,p42:t&&t.DivisionID?t.DivisionID:null,p43:t&&t.DepartmentID?t.DepartmentID:null,p44:t&&t.ContractID?t.ContractID:null,p45:t&&t.LocalityID?t.LocalityID:null,p46:t&&t.CustomerID?t.CustomerID:null,p47:t&&t.MatWareHouseID?t.MatWareHouseID:null,p48:t&&t.ProStoreID?t.ProStoreID:null,p49:t&&t.MatJobID?t.MatJobID:null,p50:t&&t.EmployeeID?t.EmployeeID:null,p51:t&&t.EmployeeID1?t.EmployeeID1:null,p52:e.Dialogview?"1":null,p53:null,p54:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p55:t&&t.CreatedTtm?t.CreatedTtm:null,p56:t&&t.CreatedTtmType?t.CreatedTtmType:null,p57:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p58:null,p59:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p60:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p61:t&&t.MatWoTypeID?t.MatWoTypeID:null,p62:t&&t.MatWoTypeCode?t.MatWoTypeCode:null,p63:t&&t.MatWoTypeName?t.MatWoTypeName:null,p64:t&&t.MatMaterialGroupID?t.MatMaterialGroupID:null,p65:t&&t.MatMaterialGroupCode?t.MatMaterialGroupCode:null,p66:t&&t.MatMaterialGroupName?t.MatMaterialGroupName:null,p67:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p68:t&&t.MatMainClassCode?t.MatMainClassCode:null,p69:t&&t.MatMainClassName?t.MatMainClassName:null,p70:t&&t.EmployeeCode?t.EmployeeCode:null,p71:t&&t.FirstName?t.FirstName:null,p72:t&&t.EmpContactNo1?t.EmpContactNo1:null,p73:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p74:t&&t.DivisionCode?t.DivisionCode:null,p75:t&&t.DivisionName?t.DivisionName:null,p76:t&&t.DepartmentCode?t.DepartmentCode:null,p77:t&&t.DepartmentName?t.DepartmentName:null,p78:t&&t.ContractCode?t.ContractCode:null,p79:t&&t.ContractName?t.ContractName:null,p80:t&&t.LocalityCode?t.LocalityCode:null,p81:t&&t.LocalityName?t.LocalityName:null,p82:t&&t.JobGOName?t.JobGOName:null,p83:t&&t.MatJobCode?t.MatJobCode:null,p84:t&&t.ProStoreCode?t.ProStoreCode:null,p85:t&&t.ProStoreName?t.ProStoreName:null,p86:t&&t.FinLedgerID?t.FinLedgerID:null,p87:t&&t.LedgerCode?t.LedgerCode:null,p88:t&&t.LedgerName?t.LedgerName:null,p89:t&&t.WareHouseCode?t.WareHouseCode:null,p90:t&&t.WareHouseName?t.WareHouseName:null,p91:t&&t.MaterialRequestCode?t.MaterialRequestCode:null,p92:t&&t.ContractGroupID?t.ContractGroupID:null,p93:t&&t.ContractGroupCode?t.ContractGroupCode:null,p94:t&&t.ContractGroupName?t.ContractGroupName:null,p95:t&&t.TaxID?t.TaxID:null,p96:t&&t.TaxCode?t.TaxCode:null,p97:t&&t.TaxName?t.TaxName:null,p98:t&&t.TaxValue?t.TaxValue:null,p99:t&&t.CustomerCode?t.CustomerCode:null,p100:t&&t.CustomerName?t.CustomerName:null,p101:t&&t.ContractTypeID?t.ContractTypeID:null,p102:t&&t.ContractTypCode?t.ContractTypCode:null,p103:t&&t.ContractTypeName?t.ContractTypeName:null,p104:t&&t.ContractCategID?t.ContractCategID:null,p105:t&&t.ContractCategCode?t.ContractCategCode:null,p106:t&&t.ContractCategName?t.ContractCategName:null,p107:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p108:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p109:t&&t.LocalityGroupID?t.LocalityGroupID:null,p110:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p111:t&&t.LocalityGroupName?t.LocalityGroupName:null,p112:t&&t.CityID?t.CityID:null,p113:t&&t.CityCode?t.CityCode:null,p114:t&&t.CityName?t.CityName:null,p115:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p116:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p117:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p118:t&&t.RegionID?t.RegionID:null,p119:t&&t.RegionCode?t.RegionCode:null,p120:t&&t.RegionName?t.RegionName:null,p121:t&&t.CountryID?t.CountryID:null,p122:t&&t.CountryCode?t.CountryCode:null,p123:t&&t.CountryName?t.CountryName:null,p124:t&&t.CustGroupID?t.CustGroupID:null,p125:t&&t.CustGroupCode?t.CustGroupCode:null,p126:t&&t.CustGroupName?t.CustGroupName:null,p127:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p128:t&&t.ClasificationCode?t.ClasificationCode:null,p129:t&&t.ClasificationName?t.ClasificationName:null,p130:t&&t.ShiftID?t.ShiftID:null,p131:t&&t.ShiftCode?t.ShiftCode:null,p132:t&&t.ShiftName?t.ShiftName:null,p133:t&&t.ClassificationID?t.ClassificationID:null,p134:t&&t.ClassificationCode?t.ClassificationCode:null,p135:t&&t.ClassificationName?t.ClassificationName:null,p136:t&&t.DesignationID?t.DesignationID:null,p137:t&&t.DesignationCode?t.DesignationCode:null,p138:t&&t.DesignationName?t.DesignationName:null,p139:t&&t.NationalityID?t.NationalityID:null,p140:t&&t.NationalityCode?t.NationalityCode:null,p141:t&&t.NationalityName?t.NationalityName:null,p142:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p143:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p144:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p145:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p146:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p147:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p148:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p149:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p150:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p151:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p152:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p153:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p154:t&&t.EmpGradeID?t.EmpGradeID:null,p155:t&&t.EmpGradeCode?t.EmpGradeCode:null,p156:t&&t.EmpGradeName?t.EmpGradeName:null,p157:t&&t.EmpGenderID?t.EmpGenderID:null,p158:t&&t.EmpGenderName?t.EmpGenderName:null,p159:t&&t.EmpTitleID?t.EmpTitleID:null,p160:t&&t.EmpTitleName?t.EmpTitleName:null,p161:1,p162:100,p163:a,p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}};(0,i.Z)(n,o,w.token[0]).then((t=>{if(t.Output.data){let l=t.Output.data;"MaterialIssueIDPK"==a?(d(l),y(!1),e.maindata(l)):(c(l),y(!0)),q({type:a,params:o.data}),e.loading(!1)}}))};return n().createElement("div",{id:"MaterialIssueRegistryGridViewCard"},n().createElement("div",{className:"GridViewChildCard"},n().createElement(m.Z,{name:_.DisplayName,count:_.Total,xs:e.xs,id:"MaterialIssueRegistryPopUpTableScreen",showSearch:e.showSearch,type:"Screen",chipdata:p,hideTitle:!0,showview:F,viewcomponent:F&&n().createElement(ViewComponent,{ExpandDetailValue:!0,l4viewonly:F,data:Z,editopen:U}),tablecomponent:n().createElement(s.MaterialIssueRegistryPopUpTable,{ref:L,CardName:_.DisplayName,tableID:_.TableID,GridView:J,ApiType:"FP345S11",ApiParamType:W,pagination:e=>{V(e)},IsSub:!1,viewtype:z,type:"screen",data:p,searchParams:{},editdata:(e,t)=>{U(e)}}),data:a,sendparams:A,getChildData:(e,t,a)=>{H({DisplayName:e.DisplayName,Total:e.Total,TableID:e.TableID}),Y(a),y(!0),setTimeout((()=>{L.current.searchData(P,e,t)}),500)}})))}))},1589:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>S,MaterialIssueRegistryContext:()=>N,default:()=>f});var l=a(92950),n=a.n(l),r=a(45237),i=a(43334),o=a(84455),s=a(22378),u=a(67698),m=a(55995),d=a(26537),p=(a(35131),a(45965)),c=a(73668),I=a(37274),y=a(9175),M=a.n(y),D=a(85246),g=a(91538),C=a(25108);const N=(0,l.createContext)();function S(){const e=n().useContext(N);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const f=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),y=(0,l.useRef)(),f=(0,l.useRef)(),E=(0,l.useRef)(),b=(0,l.useRef)(),v=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[h,T]=(0,l.useState)(0),[P,R]=n().useReducer(c.I,c.E),[B,x]=(0,l.useState)(""),[w,K]=(0,l.useState)(""),[k,A]=(0,l.useState)([]),L=(0,l.useRef)(),[F,G]=(0,l.useState)(!1);function Z(e){R({type:"IsExPView",payload:!0}),R({type:"IsCollapse",payload:!1}),document.getElementById("MaterialIssueRegistry-MainTable").style.margin="0",document.getElementById("divMaterialIssueRegistry-Entry").style.margin="0",document.getElementById("divMaterialIssueRegistry-Entry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainTable").style.width="100%",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainEntry").style.display="none",document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayGrid"),R({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttMaterialIssueRegistry")&&(document.getElementById("overlayimgAttMaterialIssueRegistry").style.width="0%",document.getElementById("overlayPreviewMaterialIssueRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialIssueRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),Z(),R({type:"IsDraft",payload:!1}),R({type:"ShowDetail",payload:!1}),R({type:"Add",payload:!0}),R({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&R({type:"editData",payload:[e.editData]})}),[e.editData]);const O=e=>{R({type:"IsCollapse",payload:!0}),document.getElementById("MaterialIssueRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMaterialIssueRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MaterialIssueRegistry-MainTable").style.width="0%",document.getElementById("MaterialIssueRegistry-MainTable").style.display="none",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainEntry").style.display="block",document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayGrid"),R({type:"ExpandDetailValue",payload:!0}),R({type:"PrimaryId",payload:""}),t.current.clear(),e&&b.current.AddClose()},W=t=>{P.IsCollapse?(document.getElementById("MaterialIssueRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("MaterialIssueRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divMaterialIssueRegistry-Entry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainEntry").style.display="block",document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialIssueRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialIssueRegistry").style.display="none"):(document.getElementById("overlayimgAttMaterialIssueRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialIssueRegistry").style.display="none",document.getElementById("divMaterialIssueRegistry-Entry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainTable").style.width="auto",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{v((e=>{(0,d.Z)(1).then((e=>{var t=new Array;t.push(e),R({type:"token",payload:t}),T(t.length),q(e)}))}))}),[]);const q=e=>{(0,p.Z)(e,345).then((e=>R({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(R({type:"ShowDetail",payload:!0}),R({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),n().createElement("div",null,n().createElement(N.Provider,{value:{cstate:P,cdispatch:R,ContextApi:S,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>G(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>Z(),viewtoggle:()=>{P.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>O(e),AttachExpand:t=>(y.current.AttachmentData(P.PrimaryId),void(P.ExpandTableValue?(document.getElementById("overlayimgAttMaterialIssueRegistry").style.width="28%",document.getElementById("divMaterialIssueRegistry-Entry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainTable").style.width="auto",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMaterialIssueRegistry").style.display="block"):(document.getElementById("MaterialIssueRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("MaterialIssueRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainEntry").style.display="block",document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialIssueRegistry").style.width="28%",document.getElementById("overlayimgAttMaterialIssueRegistry").style.display="block"))),RefreshTable:()=>{E.current.tableRefresh()},tableGridRefresh:()=>{E.current.gridViewRefresh()},floatRefresh:()=>L.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttMaterialIssueRegistry").style.display="none",attachmentSave:e=>{f.current.tempsave(e,w),K([])},detailview:(e,t)=>{E.current.viewrecord(t),R({type:"ShowDetail",payload:e}),R({type:"EditOpen",payload:!0}),P.ShowDetail&&a.current.viewtoggle()},clear:e=>{P.ShowDetail?(R({type:"ShowDetail",payload:!1}),R({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var n,r,i;n=e,i=l,R({type:"IsDraft",payload:r=t}),R({type:"EditOpen",payload:!1}),R({type:"EditIsDraft",payload:r}),O(),R({type:"editData",payload:[n]}),R({type:"screenType",payload:i})},AddOpen:(e,t)=>((e,t)=>{R({type:"ShowDetail",payload:!0}),R({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&b.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(R({type:"ShowDetail",payload:!1}),R({type:"ExpandTableValue",payload:!0}),E.current.tableRefresh(),document.getElementById("MaterialIssueRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMaterialIssueRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MaterialIssueRegistry-MainTable").style.width="100%",document.getElementById("MaterialIssueRegistry-MainTable").style.display="block",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="0%",document.getElementById("MaterialIssueRegistry-MainEntry").style.display="none",document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueRegistryTabDiv").style.width="100%",document.getElementById("MaterialIssueRegistryFilterDiv").style.display="none",void(document.getElementById("MaterialIssueRegistryFilterDiv").style.width="0%"))}},n().createElement("div",{id:"MaterialIssueRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"96%"}},!P.ExpandTableValue&&n().createElement("div",{id:"MaterialIssueRegistry-MainTable",className:"Maincontent"},0!==h?n().createElement(i.default,{ref:E}):null),n().createElement("div",{id:"MaterialIssueRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},P.ShowDetail?n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialIssueRegistry-Entry",style:{width:"100%",display:"flex"}},n().createElement(o.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:P.PrimaryId,ref:a}),n().createElement("div",{style:{width:"70%"}},n().createElement(g.ZP,{ref:b,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:P.editData,AddOpen:P.EditOpen,parentId:P.PrimaryId,IsDraft:P.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:P.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),n().createElement(m.Z,{ref:f,menurefID:345,fileId:"LogoImgMaterialIssueRegistry",imgloading:e=>x(e),valueIDPK:P.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewMaterialIssueRegistry",AccessRights:P.AccessRights,frmctrlid:"PvwIm_345_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{P.PrimaryId?y.current.AttachmentData(P.PrimaryId):y.current.tempImg(e),K(e)},clearTempData:P.Add})),n().createElement(u.Z,{ImgAttachment:e=>W(),menurefID:345,fileId:"AttImgMaterialIssueRegistry",imgid:"overlayimgAttMaterialIssueRegistry",valueIDPK:P.PrimaryId,PriviewData:(e,t,a,l)=>{f.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialIssueRegistry",ref:y,imgloading:B,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_345_L3_",timglist:e=>f.current.timglist(e)})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divMaterialIssueRegistry-Entry",style:{width:"100%"}},n().createElement(s.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>y.current.clrImgstate(e)}),n().createElement(g.ZP,{ref:b,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:P.editData,AddOpen:P.EditOpen,parentId:P.PrimaryId,IsDraft:P.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:P.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),n().createElement(m.Z,{ref:f,menurefID:345,fileId:"LogoImgMaterialIssueRegistry",imgloading:e=>x(e),valueIDPK:P.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewMaterialIssueRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{P.PrimaryId?y.current.AttachmentData(P.PrimaryId):y.current.tempImg(e),K(e)},clearTempData:P.Add})),n().createElement(u.Z,{ImgAttachment:e=>W(),menurefID:345,fileId:"AttImgMaterialIssueRegistry",imgid:"overlayimgAttMaterialIssueRegistry",valueIDPK:P.PrimaryId,PriviewData:(e,t,a,l)=>{f.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMaterialIssueRegistry",ref:y,imgloading:B,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_345_L3_",timglist:e=>f.current.timglist(e),clearTempData:P.Add}))),P.ExpandTableValue&&n().createElement("div",{id:"MaterialIssueRegistry-MainTable",className:"Maincontent"},0!==h?n().createElement(i.default,{ref:E}):null),n().createElement("div",null,n().createElement(I.Z,{refresh:()=>L.current.countRefresh(),ScreenClose:()=>E.current.gridViewRefresh(),id:"MaterialIssueRegistry-ThemeSlide1",reload:e=>{L.current.countRefresh()},idcnt:"MaterialIssueRegistry-Floatcnt",idbtn:"MaterialIssueRegistry-Floatbtn",maindata:k,openfloat:()=>setonload(!0),formid:"290_",sendFilterValue:e=>{C.log(e,"e"),setFilterData(e.SearchParams)},TableComp:e=>n().createElement(i.default.MaterialIssueRegistryPopUpTable,{IsSub:!1,viewtype:"editonly",ref:E,searchParams:{}}),TreeComp:t=>n().createElement(D.Z,{ref:L,onload:!0,maindata:e=>{A(e?e.Main:[])},json:{},xs:3,loading:t=>e.loading(t)})}))),F&&n().createElement(M(),{openDialog:F,closeDialog:e=>G(e),formID:345,PrimID:P.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},43334:(e,t,a)=>{a.r(t),a.d(t,{MaterialIssueRegistryPopUpTable:()=>V,default:()=>Q}),a(95866);var l=a(92950),n=a.n(l),r=a(45237),i=a(36939),o=a(61201),s=a(50743),u=a(59009),m=a(80366),d=a(51673),p=a(93106),c=a(54180),I=a(47516),y=a(39327),M=(a(14439),a(27848),a(85246),a(43031)),D=a(110),g=a(88995),C=a(5109),N=a(61657),S=a(868),f=a(40900),E=a(24038),b=a(51209),v=a(8981),h=a(3212),T=a(86893),P=a(53854),R=a(51649),B=a(37106),x=a(5434),w=a(93521),K=a(91538),k=a(71168),A=a.n(k),L=a(65107),F=a(79352),G=a(1589),Z=a(94986),O=a(15999),W=(a(11557),a(8687)),q=a(25108);window.clickFilter="";const Q=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),k=((0,l.useRef)(null),(0,l.useRef)(null)),[q]=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[Q]=(0,l.useState)("345"),[V,_]=(0,l.useState)(!1),[H,z]=(0,l.useState)(!1),[j,J]=(0,l.useState)(0),[Y,U]=(0,l.useState)(0),[$,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)({current:1,pageSize:100}),[ae,le]=(0,l.useState)(""),[ne,re]=(0,l.useState)([]),[ie,oe]=(0,l.useState)({val:"",column:""}),[se,ue]=(0,l.useState)([]),[me,de]=(0,l.useState)(!1),[pe,ce]=(0,l.useState)(""),[Ie,ye]=(0,l.useState)(""),[Me,De]=(0,l.useState)(!1),[ge,Ce]=(0,l.useState)(!1),[Ne,Se]=(0,l.useState)([]),[fe,Ee]=(0,l.useState)([]),[be,ve]=(0,l.useState)([]),[he,Te]=(0,l.useState)(!1),Pe=(0,l.useContext)(e.context?e.context:G.MaterialIssueRegistryContext),{cstate:Re,cdispatch:Be}=e.ContextApi?e.ContextApi:(0,G.ContextApi)(),[xe,we]=(0,l.useState)({children:[{name:"MaterialIssueRegistry",children:[]}]}),[Ke,ke]=(0,l.useState)(!1);let Ae={MaterialIssueIDPK:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",RequestedThrough:"",MITransactionNo:"",MIManagedBY:"",MIWoRegDesc:"",MIPlaceofDelivary:"",MIStatus:"",MatStatus:"",MIBy:"",MIReceivedBy:"",DriverName:"",VehicelName:"",MSDate:"",MIDateType:"",MIDateBetween:"",MIReceivedDate:"",MIReceivedDateType:"",MIReceivedDateBetween:"",IsMIContract:"",IsMIMaterial:"",IsMIInMaterial:"",BudgetCostAccountGroupDetKey:"",MIYearEndKey:"",MIProStageKey:"",MITypeKey:"",VendorMatRjctKey:"",FixonBusinessFlowKey:"",ProBusinessFlowKey:"",IsMICancel:"",MICancelRemarks:"",MICancelByKey:"",ContractKey:"",LocalityKey:"",IsDraft:"",Remarks:"",MatProcessTypeID:"",MaterialRequestID:"",DivisionID:"",DepartmentID:"",ContractID:"",LocalityID:"",CustomerID:"",MatWareHouseID:"",ProStoreID:"",MatJobID:"",EmployeeID:"",EmployeeID1:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeCode:"",MatProcessTypeName:"",MatWoTypeID:"",MatWoTypeCode:"",MatWoTypeName:"",MatMaterialGroupID:"",MatMaterialGroupCode:"",MatMaterialGroupName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionCode:"",DivisionName:"",DepartmentCode:"",DepartmentName:"",ContractCode:"",ContractName:"",LocalityCode:"",LocalityName:"",JobGOName:"",MatJobCode:"",ProStoreCode:"",ProStoreName:"",FinLedgerID:"",LedgerCode:"",LedgerName:"",WareHouseCode:"",WareHouseName:"",MaterialRequestCode:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CustGroupID:"",CustGroupCode:"",CustGroupName:"",BusinessClasificationID:"",ClasificationCode:"",ClasificationName:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,Fe]=(0,l.useState)(Ae),[Ge,Ze]=(0,l.useState)(Ae),[Oe,We]=(0,l.useState)(Ae),[qe,Qe]=(0,l.useState)(Ae),[Ve,_e]=(0,l.useState)("asc"),[He,ze]=(0,l.useState)(""),[je,Je]=(0,l.useState)(!1),[Ye,Ue]=(0,l.useState)(!0),[$e,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[nt,rt]=(0,l.useState)(0),[it,ot]=(0,l.useState)({MatProcessTypeName:"",MaterialMINo:"",MaterialMSDate:"",ContractName:"",LocalityName:"",ProStoreName:"",WareHouseName:"",DepartmentName:"",DivisionName:"",MIPlaceofDelivary:"",FirstName:"",FirstName1:"",DriverName:"",VehicelName:"",JobGOName:"",MIWoRegDesc:"",ContractKey:"",LocalityKey:"",RequestedThrough:"",MITransactionNo:"",MIManagedBY:"",MIStatus:"",MatStatus:"",MIBy:"",MIReceivedBy:"",MSDate:"",MIReceivedDate:"",IsMIContract:"",IsMIMaterial:"",IsMIInMaterial:"",BudgetCostAccountGroupDetKey:"",MIYearEndKey:"",MIProStageKey:"",MITypeKey:"",VendorMatRjctKey:"",FixonBusinessFlowKey:"",ProBusinessFlowKey:"",IsMICancel:"",MICancelRemarks:"",MICancelByKey:"",MaterialRequestCode:"",CustomerName:""}),[st,ut]=(0,l.useState)(!1),[mt,dt]=(0,l.useState)([]),[pt,ct]=(0,l.useState)(0),[It,yt]=(0,l.useState)(0),[Mt,Dt]=(0,l.useState)({current:1,pageSize:10}),[gt,Ct]=(0,l.useState)([]),[Nt,St]=(0,l.useState)([]),[ft,Et]=(0,l.useState)(!1),[bt]=(0,l.useState)(localStorage.getItem("Language")),[vt]=(0,l.useState)(localStorage.getItem("Language")),[ht,Tt]=A()("345"),[Pt,Rt]=(0,l.useState)({}),[Bt,xt]=(0,l.useState)({}),wt=[{columns:gt,data:ae}];let Kt=(0,v.Z)();const kt=e=>Kt?.[e]?Kt[e]:e,At=e=>Re.language?.[e]?Re.language[e]:e;(0,l.useEffect)((()=>{Ot(ht)}),[ht]),(0,l.useEffect)((()=>{Re.token.length>0&&(Re.IsDraft?Gt(ee,Ae,"DraftMaterialIssueID"):Gt(ee,Ae,"MaterialIssueID"))}),[]),(0,l.useEffect)((()=>{ge||he||Ke||!pe?ge?Ze(pe):he?We(pe):Ke&&Qe(pe):Re.IsDraft?Gt(ee,pe,"DraftMaterialIssueID"):Gt(ee,pe,"MaterialIssueID")}),[pe]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&z(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Zt(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Lt()},gridViewRefresh:()=>{Ot(ht)},viewrecord:e=>{se.map(((t,a)=>{t.MaterialIssueIDPK==e&&Be({type:"editData",payload:[se[a]]})}))}})));const Lt=()=>{Re.IsDraft?Gt(ee,Ae,"DraftMaterialIssueID"):Gt(ee,Ae,"MaterialIssueID")};function Ft(e){Pe.loading(!0);let t=f.v.Api+"FP345S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,a,Re.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,yt(t.Output.data[0].TotalCount)):(a=0,Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Pe.loading(!1)),10==e.pageSize?ct(Math.ceil(a)):20==e.pageSize?ct(Math.ceil(a/2)):50==e.pageSize?ct(Math.ceil(a/5)):100==e.pageSize&&ct(Math.ceil(a/10)),dt(t.Output.data),Pe.loading(!1)}}))}const Gt=(e,t,a,l,n,r)=>{Pe.loading(!0),"DraftPage"!==l&&Je(Re.IsDraft);let i=f.v.Api+"FP345S3/",o={data:{p1:n||(t&&t.MaterialIssueIDPK?t.MaterialIssueIDPK:null),p2:t&&t.MaterialMINo?t.MaterialMINo:null,p3:t&&t.MaterialMSDate?t.MaterialMSDate:null,p4:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p5:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p6:t&&t.RequestedThrough?t.RequestedThrough:null,p7:t&&t.MITransactionNo?t.MITransactionNo:null,p8:t&&t.MIManagedBY?t.MIManagedBY:null,p9:t&&t.MIWoRegDesc?t.MIWoRegDesc:null,p10:t&&t.MIPlaceofDelivary?t.MIPlaceofDelivary:null,p11:t&&t.MIStatus?t.MIStatus:null,p12:t&&t.MatStatus?t.MatStatus:null,p13:t&&t.MIBy?t.MIBy:null,p14:t&&t.MIReceivedBy?t.MIReceivedBy:null,p15:t&&t.DriverName?t.DriverName:null,p16:t&&t.VehicelName?t.VehicelName:null,p17:t&&t.MSDate?t.MSDate:null,p18:t&&t.MIDateType?t.MIDateType:null,p19:t&&t.MIDateBetween?t.MIDateBetween:null,p20:t&&t.MIReceivedDate?t.MIReceivedDate:null,p21:t&&t.MIReceivedDateType?t.MIReceivedDateType:null,p22:t&&t.MIReceivedDateBetween?t.MIReceivedDateBetween:null,p23:null,p24:null,p25:null,p26:t&&t.BudgetCostAccountGroupDetKey?t.BudgetCostAccountGroupDetKey:null,p27:t&&t.MIYearEndKey?t.MIYearEndKey:null,p28:t&&t.MIProStageKey?t.MIProStageKey:null,p29:t&&t.MITypeKey?t.MITypeKey:null,p30:t&&t.VendorMatRjctKey?t.VendorMatRjctKey:null,p31:t&&t.FixonBusinessFlowKey?t.FixonBusinessFlowKey:null,p32:t&&t.ProBusinessFlowKey?t.ProBusinessFlowKey:null,p33:null,p34:null,p35:t&&t.MICancelByKey?t.MICancelByKey:null,p36:t&&t.ContractKey?t.ContractKey:null,p37:t&&t.LocalityKey?t.LocalityKey:null,p38:"DraftMaterialIssueID"==a?"1":"0",p39:null,p40:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p41:t&&t.MaterialRequestID?t.MaterialRequestID:null,p42:t&&t.DivisionID?t.DivisionID:null,p43:t&&t.DepartmentID?t.DepartmentID:null,p44:t&&t.ContractID?t.ContractID:null,p45:t&&t.LocalityID?t.LocalityID:null,p46:t&&t.CustomerID?t.CustomerID:null,p47:t&&t.MatWareHouseID?t.MatWareHouseID:null,p48:t&&t.ProStoreID?t.ProStoreID:null,p49:t&&t.MatJobID?t.MatJobID:null,p50:t&&t.EmployeeID?t.EmployeeID:null,p51:t&&t.EmployeeID1?t.EmployeeID1:null,p52:t&&t.IsActive,p53:null,p54:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p55:t&&t.CreatedTtm?t.CreatedTtm:null,p56:t&&t.CreatedTtmType?t.CreatedTtmType:null,p57:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p58:null,p59:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p60:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p61:t&&t.MatWoTypeID?t.MatWoTypeID:null,p62:t&&t.MatWoTypeCode?t.MatWoTypeCode:null,p63:t&&t.MatWoTypeName?t.MatWoTypeName:null,p64:t&&t.MatMaterialGroupID?t.MatMaterialGroupID:null,p65:t&&t.MatMaterialGroupCode?t.MatMaterialGroupCode:null,p66:t&&t.MatMaterialGroupName?t.MatMaterialGroupName:null,p67:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p68:t&&t.MatMainClassCode?t.MatMainClassCode:null,p69:t&&t.MatMainClassName?t.MatMainClassName:null,p70:t&&t.EmployeeCode?t.EmployeeCode:null,p71:t&&t.FirstName?t.FirstName:null,p72:t&&t.EmpContactNo1?t.EmpContactNo1:null,p73:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p74:t&&t.DivisionCode?t.DivisionCode:null,p75:t&&t.DivisionName?t.DivisionName:null,p76:t&&t.DepartmentCode?t.DepartmentCode:null,p77:t&&t.DepartmentName?t.DepartmentName:null,p78:t&&t.ContractCode?t.ContractCode:null,p79:t&&t.ContractName?t.ContractName:null,p80:t&&t.LocalityCode?t.LocalityCode:null,p81:t&&t.LocalityName?t.LocalityName:null,p82:t&&t.JobGOName?t.JobGOName:null,p83:t&&t.MatJobCode?t.MatJobCode:null,p84:t&&t.ProStoreCode?t.ProStoreCode:null,p85:t&&t.ProStoreName?t.ProStoreName:null,p86:t&&t.FinLedgerID?t.FinLedgerID:null,p87:t&&t.LedgerCode?t.LedgerCode:null,p88:t&&t.LedgerName?t.LedgerName:null,p89:t&&t.WareHouseCode?t.WareHouseCode:null,p90:t&&t.WareHouseName?t.WareHouseName:null,p91:t&&t.MaterialRequestCode?t.MaterialRequestCode:null,p92:t&&t.ContractGroupID?t.ContractGroupID:null,p93:t&&t.ContractGroupCode?t.ContractGroupCode:null,p94:t&&t.ContractGroupName?t.ContractGroupName:null,p95:t&&t.TaxID?t.TaxID:null,p96:t&&t.TaxCode?t.TaxCode:null,p97:t&&t.TaxName?t.TaxName:null,p98:t&&t.TaxValue?t.TaxValue:null,p99:t&&t.CustomerCode?t.CustomerCode:null,p100:t&&t.CustomerName?t.CustomerName:null,p101:t&&t.ContractTypeID?t.ContractTypeID:null,p102:t&&t.ContractTypCode?t.ContractTypCode:null,p103:t&&t.ContractTypeName?t.ContractTypeName:null,p104:t&&t.ContractCategID?t.ContractCategID:null,p105:t&&t.ContractCategCode?t.ContractCategCode:null,p106:t&&t.ContractCategName?t.ContractCategName:null,p107:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p108:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p109:t&&t.LocalityGroupID?t.LocalityGroupID:null,p110:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p111:t&&t.LocalityGroupName?t.LocalityGroupName:null,p112:t&&t.CityID?t.CityID:null,p113:t&&t.CityCode?t.CityCode:null,p114:t&&t.CityName?t.CityName:null,p115:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p116:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p117:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p118:t&&t.RegionID?t.RegionID:null,p119:t&&t.RegionCode?t.RegionCode:null,p120:t&&t.RegionName?t.RegionName:null,p121:t&&t.CountryID?t.CountryID:null,p122:t&&t.CountryCode?t.CountryCode:null,p123:t&&t.CountryName?t.CountryName:null,p124:t&&t.CustGroupID?t.CustGroupID:null,p125:t&&t.CustGroupCode?t.CustGroupCode:null,p126:t&&t.CustGroupName?t.CustGroupName:null,p127:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p128:t&&t.ClasificationCode?t.ClasificationCode:null,p129:t&&t.ClasificationName?t.ClasificationName:null,p130:t&&t.ShiftID?t.ShiftID:null,p131:t&&t.ShiftCode?t.ShiftCode:null,p132:t&&t.ShiftName?t.ShiftName:null,p133:t&&t.ClassificationID?t.ClassificationID:null,p134:t&&t.ClassificationCode?t.ClassificationCode:null,p135:t&&t.ClassificationName?t.ClassificationName:null,p136:t&&t.DesignationID?t.DesignationID:null,p137:t&&t.DesignationCode?t.DesignationCode:null,p138:t&&t.DesignationName?t.DesignationName:null,p139:t&&t.NationalityID?t.NationalityID:null,p140:t&&t.NationalityCode?t.NationalityCode:null,p141:t&&t.NationalityName?t.NationalityName:null,p142:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p143:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p144:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p145:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p146:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p147:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p148:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p149:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p150:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p151:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p152:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p153:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p154:t&&t.EmpGradeID?t.EmpGradeID:null,p155:t&&t.EmpGradeCode?t.EmpGradeCode:null,p156:t&&t.EmpGradeName?t.EmpGradeName:null,p157:t&&t.EmpGenderID?t.EmpGenderID:null,p158:t&&t.EmpGenderName?t.EmpGenderName:null,p159:t&&t.EmpTitleID?t.EmpTitleID:null,p160:t&&t.EmpTitleName?t.EmpTitleName:null,p161:n?1:e.current,p162:e.pageSize,p163:a,p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}};(0,d.Z)(i,o,Re.token[0]).then((i=>{if(n)(0,W.m)(i,Be,l,r,Pe,"MaterialIssueIDPK");else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let t=0;i.Output.data.length>0?(t=parseFloat(i.Output.data[0].TotalCount,10)/10,U(i.Output.data[0].TotalCount),Be({type:"count",payload:i.Output.data[0].TotalCount}),X(i.Output.data[0].DraftCnt),"DraftPage"==l&&X(i.Output.data[0].TotalCount)):t=0,10==e.pageSize?J(Math.ceil(t)):20==e.pageSize?J(Math.ceil(t/2)):50==e.pageSize?J(Math.ceil(t/5)):100==e.pageSize&&J(Math.ceil(t/10)),Re.ExpandTableValue&&(Re.ExpandDetailValue?document.getElementById("MaterialIssueRegistry-MainTable").style.display="block":(document.getElementById("MaterialIssueRegistry-MainTable").style.width="100%",document.getElementById("MaterialIssueRegistry-MainEntry").style.width="100%",document.getElementById("MaterialIssueRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialIssueRegistry-MainDiv").classList.add("displayGrid"))),ue(i.Output.data),Pe.loading(!1),document.getElementById("divMaterialIssueRegistry-Entry").style.height="auto"}}else Pe.loading(!1),"DraftMaterialIssueID"===a?(Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),Je(!1)):(ue([]),te({current:1,pageSize:10}),J(0),U(0),Be({type:"count",payload:0}),Object.values(t).some((e=>e))&&Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Pe.alert({open:!0,color:"warning",message:[i.Output.status.message]}),Pe.loading(!1)}))};function Zt(e,t){Pe.loading(!0);const a=f.v.Api+"FP345S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:je?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,l,Re.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,U(e.Output.data[0].TotalCount),Be({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?J(Math.ceil(a)):20==t.pageSize?J(Math.ceil(a/2)):50==t.pageSize?J(Math.ceil(a/5)):100==t.pageSize&&J(Math.ceil(a/10)),ue(e.Output.data),Pe.loading(!1)}else ue([]),J(0),U(0),Be({type:"count",payload:0}),Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Pe.loading(!1);else Pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Pe.loading(!1)}))}function Ot(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),Be({type:"language",payload:Object.assign({},...n)}),ot(a.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),Ee(t),ve(a),Ct(l),St(a)}const Wt=(e,t,a)=>{Be({type:"IsDraft",payload:t}),Be({type:"EditOpen",payload:!1}),Be({type:"EditIsDraft",payload:t}),Pe.ExpandDetail(!1),a?Pe.AddOpen(e.MaterialIssueIDPK,t):Be({type:"editData",payload:[e]})},qt=()=>{me?(document.getElementById("MaterialIssueRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MaterialIssueRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MaterialIssueRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),ge?(document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?he?(document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialIssueRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MaterialIssueRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MaterialIssueRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MaterialIssueRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),ge?(document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?he?(document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialIssueRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),De(!1),window.clickFilter=!me};return n().createElement("div",null,n().createElement(i.Z,{expanded:Ye,onChange:()=>()=>{Ue($e)}},n().createElement(s.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},n().createElement("div",{className:"displayFlex"},Ke||ge||!je?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP",title:"10.0.0.44-10:48:15 AM-30-5[345]"},`${At("345")} (${Y})`)):n().createElement("div",{className:"ListHeader displayFlex"},n().createElement(S.ZP,{title:"List",placement:"top"},n().createElement("div",{id:"fld345L3TCList",onClick:()=>{$e||(Be({type:"Add",payload:!0}),Be({type:"Add",payload:!0})),Pe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Gt({current:1,pageSize:100},Ae,"MaterialIssueID"),Je(!1),Be({type:"IsDraft",payload:!1})}),500)):(Gt({current:1,pageSize:100},Ae,"MaterialIssueID"),Je(!1),Be({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},n().createElement(R.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},"Drafts(",Y,")")))),n().createElement("div",{style:{display:"flex"}},ge||he||Ke?null:n().createElement("div",{className:"searchbar",id:"fld345L3TCSearchBar"},n().createElement(E.Z,{className:"search_input",type:"text",id:"MaterialIssueRegistrygridsearch",placeholder:"Search",value:Ie,onChange:e=>{if(ye(e),"0"==e.length)return Gt(ee,Ae,je?"DraftMaterialIssueID":"MaterialIssueID",je&&"DraftPage"),!1;Zt(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},Ie?n().createElement("div",{id:"fld345L3TCCloseIcon",onClick:()=>{ye(""),Lt()}},n().createElement(m.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld345L3TCInputSearchIcon",onClick:()=>{document.getElementById("MaterialIssueRegistrygridsearch").focus()}},n().createElement(g.Z,{className:"InputSearchIcon"})))),n().createElement("div",{style:{marginLeft:"5px"}},Re.AccessRights.IsAdd&&n().createElement(h.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>Pe.ExpandDetail(!0)}))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"MaterialIssueRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},!je&&n().createElement("div",{frmctrlid:"fld345L3TCFilterDataIsDraft",id:"MaterialIssueRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>qt()},n().createElement(S.ZP,{title:kt("Filter Data"),placement:"top"},n().createElement(I.Ol$,{className:"tableFilterColumnIcon"})),n().createElement("span",{className:"iconinfo"},kt("Filter Data"))),H||ge||Ke||je?null:n().createElement(c.Z,{title:"Material Issue",formctrlidprint:"fld345L3TCExportPrint",formctrlidexport:"fld345L3TCExportTable",formctrlidrefresh:"fld345L3TCExportRefresh",data:ne,exportData:wt,Items:Nt,columnIndex:gt,TableVisibleItem:fe,userGridViewFormID:Q,TableTotalCount:Y,triggerApi:e=>{((e,t,l,n,r)=>{if(0===Y)return Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Pe.loading(!0);let i=f.v.Api+"FP345S3/",o={data:{p1:e&&e.MaterialIssueIDPK?e.MaterialIssueIDPK:null,p2:e&&e.MaterialMINo?e.MaterialMINo:null,p3:e&&e.MaterialMSDate?e.MaterialMSDate:null,p4:e&&e.MaterialMSDateType?e.MaterialMSDateType:null,p5:e&&e.MaterialMSDateBetween?e.MaterialMSDateBetween:null,p6:e&&e.RequestedThrough?e.RequestedThrough:null,p7:e&&e.MITransactionNo?e.MITransactionNo:null,p8:e&&e.MIManagedBY?e.MIManagedBY:null,p9:e&&e.MIWoRegDesc?e.MIWoRegDesc:null,p10:e&&e.MIPlaceofDelivary?e.MIPlaceofDelivary:null,p11:e&&e.MIStatus?e.MIStatus:null,p12:e&&e.MatStatus?e.MatStatus:null,p13:e&&e.MIBy?e.MIBy:null,p14:e&&e.MIReceivedBy?e.MIReceivedBy:null,p15:e&&e.DriverName?e.DriverName:null,p16:e&&e.VehicelName?e.VehicelName:null,p17:e&&e.MSDate?e.MSDate:null,p18:e&&e.MIDateType?e.MIDateType:null,p19:e&&e.MIDateBetween?e.MIDateBetween:null,p20:e&&e.MIReceivedDate?e.MIReceivedDate:null,p21:e&&e.MIReceivedDateType?e.MIReceivedDateType:null,p22:e&&e.MIReceivedDateBetween?e.MIReceivedDateBetween:null,p23:null,p24:null,p25:null,p26:e&&e.BudgetCostAccountGroupDetKey?e.BudgetCostAccountGroupDetKey:null,p27:e&&e.MIYearEndKey?e.MIYearEndKey:null,p28:e&&e.MIProStageKey?e.MIProStageKey:null,p29:e&&e.MITypeKey?e.MITypeKey:null,p30:e&&e.VendorMatRjctKey?e.VendorMatRjctKey:null,p31:e&&e.FixonBusinessFlowKey?e.FixonBusinessFlowKey:null,p32:e&&e.ProBusinessFlowKey?e.ProBusinessFlowKey:null,p33:null,p34:null,p35:e&&e.MICancelByKey?e.MICancelByKey:null,p36:e&&e.ContractKey?e.ContractKey:null,p37:e&&e.LocalityKey?e.LocalityKey:null,p38:je?"1":"0",p39:null,p40:e&&e.MatProcessTypeID?e.MatProcessTypeID:null,p41:e&&e.MaterialRequestID?e.MaterialRequestID:null,p42:e&&e.DivisionID?e.DivisionID:null,p43:e&&e.DepartmentID?e.DepartmentID:null,p44:e&&e.ContractID?e.ContractID:null,p45:e&&e.LocalityID?e.LocalityID:null,p46:e&&e.CustomerID?e.CustomerID:null,p47:e&&e.MatWareHouseID?e.MatWareHouseID:null,p48:e&&e.ProStoreID?e.ProStoreID:null,p49:e&&e.MatJobID?e.MatJobID:null,p50:e&&e.EmployeeID?e.EmployeeID:null,p51:e&&e.EmployeeID1?e.EmployeeID1:null,p52:e&&e.IsActive,p53:null,p54:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p55:e&&e.CreatedTtm?e.CreatedTtm:null,p56:e&&e.CreatedTtmType?e.CreatedTtmType:null,p57:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p58:null,p59:e&&e.MatProcessTypeCode?e.MatProcessTypeCode:null,p60:e&&e.MatProcessTypeName?e.MatProcessTypeName:null,p61:e&&e.MatWoTypeID?e.MatWoTypeID:null,p62:e&&e.MatWoTypeCode?e.MatWoTypeCode:null,p63:e&&e.MatWoTypeName?e.MatWoTypeName:null,p64:e&&e.MatMaterialGroupID?e.MatMaterialGroupID:null,p65:e&&e.MatMaterialGroupCode?e.MatMaterialGroupCode:null,p66:e&&e.MatMaterialGroupName?e.MatMaterialGroupName:null,p67:e&&e.MaterialMainClassID?e.MaterialMainClassID:null,p68:e&&e.MatMainClassCode?e.MatMainClassCode:null,p69:e&&e.MatMainClassName?e.MatMainClassName:null,p70:e&&e.EmployeeCode?e.EmployeeCode:null,p71:e&&e.FirstName?e.FirstName:null,p72:e&&e.EmpContactNo1?e.EmpContactNo1:null,p73:e&&e.EmpEmailOfficial?e.EmpEmailOfficial:null,p74:e&&e.DivisionCode?e.DivisionCode:null,p75:e&&e.DivisionName?e.DivisionName:null,p76:e&&e.DepartmentCode?e.DepartmentCode:null,p77:e&&e.DepartmentName?e.DepartmentName:null,p78:e&&e.ContractCode?e.ContractCode:null,p79:e&&e.ContractName?e.ContractName:null,p80:e&&e.LocalityCode?e.LocalityCode:null,p81:e&&e.LocalityName?e.LocalityName:null,p82:e&&e.JobGOName?e.JobGOName:null,p83:e&&e.MatJobCode?e.MatJobCode:null,p84:e&&e.ProStoreCode?e.ProStoreCode:null,p85:e&&e.ProStoreName?e.ProStoreName:null,p86:e&&e.FinLedgerID?e.FinLedgerID:null,p87:e&&e.LedgerCode?e.LedgerCode:null,p88:e&&e.LedgerName?e.LedgerName:null,p89:e&&e.WareHouseCode?e.WareHouseCode:null,p90:e&&e.WareHouseName?e.WareHouseName:null,p91:e&&e.MaterialRequestCode?e.MaterialRequestCode:null,p92:e&&e.ContractGroupID?e.ContractGroupID:null,p93:e&&e.ContractGroupCode?e.ContractGroupCode:null,p94:e&&e.ContractGroupName?e.ContractGroupName:null,p95:e&&e.TaxID?e.TaxID:null,p96:e&&e.TaxCode?e.TaxCode:null,p97:e&&e.TaxName?e.TaxName:null,p98:e&&e.TaxValue?e.TaxValue:null,p99:e&&e.CustomerCode?e.CustomerCode:null,p100:e&&e.CustomerName?e.CustomerName:null,p101:e&&e.ContractTypeID?e.ContractTypeID:null,p102:e&&e.ContractTypCode?e.ContractTypCode:null,p103:e&&e.ContractTypeName?e.ContractTypeName:null,p104:e&&e.ContractCategID?e.ContractCategID:null,p105:e&&e.ContractCategCode?e.ContractCategCode:null,p106:e&&e.ContractCategName?e.ContractCategName:null,p107:e&&e.ConPaymentTermsID?e.ConPaymentTermsID:null,p108:e&&e.ConPaymentTermsName?e.ConPaymentTermsName:null,p109:e&&e.LocalityGroupID?e.LocalityGroupID:null,p110:e&&e.LocalityGroupCode?e.LocalityGroupCode:null,p111:e&&e.LocalityGroupName?e.LocalityGroupName:null,p112:e&&e.CityID?e.CityID:null,p113:e&&e.CityCode?e.CityCode:null,p114:e&&e.CityName?e.CityName:null,p115:e&&e.AdminLocalityTypeID?e.AdminLocalityTypeID:null,p116:e&&e.AdminLocalityTypeCode?e.AdminLocalityTypeCode:null,p117:e&&e.AdminLocalityTypeName?e.AdminLocalityTypeName:null,p118:e&&e.RegionID?e.RegionID:null,p119:e&&e.RegionCode?e.RegionCode:null,p120:e&&e.RegionName?e.RegionName:null,p121:e&&e.CountryID?e.CountryID:null,p122:e&&e.CountryCode?e.CountryCode:null,p123:e&&e.CountryName?e.CountryName:null,p124:e&&e.CustGroupID?e.CustGroupID:null,p125:e&&e.CustGroupCode?e.CustGroupCode:null,p126:e&&e.CustGroupName?e.CustGroupName:null,p127:e&&e.BusinessClasificationID?e.BusinessClasificationID:null,p128:e&&e.ClasificationCode?e.ClasificationCode:null,p129:e&&e.ClasificationName?e.ClasificationName:null,p130:e&&e.ShiftID?e.ShiftID:null,p131:e&&e.ShiftCode?e.ShiftCode:null,p132:e&&e.ShiftName?e.ShiftName:null,p133:e&&e.ClassificationID?e.ClassificationID:null,p134:e&&e.ClassificationCode?e.ClassificationCode:null,p135:e&&e.ClassificationName?e.ClassificationName:null,p136:e&&e.DesignationID?e.DesignationID:null,p137:e&&e.DesignationCode?e.DesignationCode:null,p138:e&&e.DesignationName?e.DesignationName:null,p139:e&&e.NationalityID?e.NationalityID:null,p140:e&&e.NationalityCode?e.NationalityCode:null,p141:e&&e.NationalityName?e.NationalityName:null,p142:e&&e.EmpWorkNatureID?e.EmpWorkNatureID:null,p143:e&&e.NatureOfWorkCode?e.NatureOfWorkCode:null,p144:e&&e.NatureOfWorkName?e.NatureOfWorkName:null,p145:e&&e.EmployeeTypeID?e.EmployeeTypeID:null,p146:e&&e.EmployeeTypeCode?e.EmployeeTypeCode:null,p147:e&&e.EmployeeTypeName?e.EmployeeTypeName:null,p148:e&&e.EmploymentTypeID?e.EmploymentTypeID:null,p149:e&&e.EmploymentTypCode?e.EmploymentTypCode:null,p150:e&&e.EmploymentTypeName?e.EmploymentTypeName:null,p151:e&&e.EmployeeGroupID?e.EmployeeGroupID:null,p152:e&&e.EmployeeGroupCode?e.EmployeeGroupCode:null,p153:e&&e.EmployeeGroupName?e.EmployeeGroupName:null,p154:e&&e.EmpGradeID?e.EmpGradeID:null,p155:e&&e.EmpGradeCode?e.EmpGradeCode:null,p156:e&&e.EmpGradeName?e.EmpGradeName:null,p157:e&&e.EmpGenderID?e.EmpGenderID:null,p158:e&&e.EmpGenderName?e.EmpGenderName:null,p159:e&&e.EmpTitleID?e.EmpTitleID:null,p160:e&&e.EmpTitleName?e.EmpTitleName:null,p161:ee.current,p162:Y,p163:je?"DraftMaterialIssueID":"MaterialIssueID",p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}};Pe.loading(!1),Pe.alert({open:!0,color:"success",message:[`${At(345)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(i,o,Re.token[0],r).then((e=>{(0,w.PDF_Excel_Generate)(e,Pe,Nt,le,a,r)}))})(pe,ie.column,0,0,e)},Refresh:()=>{ye(""),k.current.clearItem(),te({current:1,pageSize:100}),Re.IsDraft?Gt({current:1,pageSize:100},Ae,"DraftMaterialIssueID"):Gt({current:1,pageSize:100},Ae,"MaterialIssueID")},disabledPrint:!Re.AccessRights.IsPrint,disabledExport:!Re.AccessRights.IsExport,ref:a}),ge||he||Ke||!$e?null:!je&&Re.AccessRights.IsAdd&&n().createElement("div",{id:"MaterialIssueRegistrycoldiv",className:"buttoncard",onClick:()=>{Me?(document.getElementById("MaterialIssueRegistryFilterDiv").style.width="0%",document.getElementById("MaterialIssueRegistryTabDiv").style.width="100%",document.getElementById("MaterialIssueRegistryFilterDiv").style.display="none",document.getElementById("MaterialIssueRegistrycoldiv").style.width="fit-content",document.getElementById("MaterialIssueRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("MaterialIssueRegistryFilterDiv").style.width="25%",document.getElementById("MaterialIssueRegistryTabDiv").style.width="75%",document.getElementById("MaterialIssueRegistryFilterDiv").style.display="block",document.getElementById("MaterialIssueRegistryfildiv").style.width="fit-content",document.getElementById("MaterialIssueRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialIssueRegistrycoldiv").style.width="fit-content",document.getElementById("MaterialIssueRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),de(!1)}},n().createElement(S.ZP,{title:"{t('Manage Columns')}",placement:"top"},n().createElement("span",null,n().createElement(y.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld345L3TCFilterDataIsAdd"}))),n().createElement("span",{className:"iconinfo"},kt("Manage Columns"))),!je&&V&&!ge&&!Ke&&!H&&$e&&n().createElement("div",{id:"fld345L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},n().createElement(S.ZP,{title:kt("Migration"),placement:"top"},n().createElement("span",null,n().createElement(F.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},kt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!H&&$e&&!Ke&&!ge&&!je&&n().createElement("div",null,n().createElement("div",{id:"MaterialIssueRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{st?ut(!1):(ut(!0),Ft({current:1,pageSize:100}))}},n().createElement("div",{id:"fld345L3TCTableScrollData"},n().createElement(S.ZP,{title:kt("Table Scroll Data"),placement:"top"},n().createElement(O.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},kt("Table Scroll Data")))),Re.AccessRights.IsAdd&&!Ke&&!ge&&!je&&n().createElement(u.Z,{color:"secondary",className:"badge",max:999,badgeContent:$,showZero:!0},n().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if($>0){rt(0),te({current:1,pageSize:100}),$e||(Be({type:"Add",payload:!0}),Be({type:"Add",payload:!0})),Pe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Gt({current:1,pageSize:100},Ae,"DraftMaterialIssueID"),Je(!0),Be({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ce(!1),Te(!1)}),500)):(Gt({current:1,pageSize:100},Ae,"DraftMaterialIssueID"),Je(!0),Be({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ce(!1),Te(!1)),document.getElementById("MaterialIssueRegistryFilterDiv").style.width="0%",document.getElementById("MaterialIssueRegistryTabDiv").style.width="100%",document.getElementById("MaterialIssueRegistryFilterDiv").style.display="none"}else Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},n().createElement(S.ZP,{title:kt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(B.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},kt("Drafts"))))),ge||he||Ke||je?null:n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ke||je?null:n().createElement("div",null,$e&&n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{id:"fld345L3TCListView",className:at?"buttonList":"buttonGrid",onClick:()=>{de(!0),lt(!0),Et(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(P.umT,null)),n().createElement("span",null,"List")),n().createElement("div",{id:"fld345L3TCGridView",className:at||ft?"buttonGrid":"buttonList",onClick:()=>{lt(!1),Et(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(T.aCJ,null)),n().createElement("span",null,"Card")),n().createElement("div",{className:ft?"buttonList":"buttonGrid",id:"fld345L3TCTileView",onClick:()=>{Et(!0),lt(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(x.f_H,null)),n().createElement("span",null,"Tile"))))))),n().createElement("div",{id:"MaterialIssueRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},n().createElement("div",{id:"MaterialIssueRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},me&&n().createElement(p.default,{CloseBtnClk:()=>qt(),searchData:e=>{ce(e||Bt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));Rt(t)},formID:Q,data:()=>{},visibleData:()=>{},token:Re.token[0],userGrid:ht,msg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]})}),Me&&!ge&&!he&&n().createElement(C.Z,{frmctrlid:"fld345L3TCTableColumnOrder",loading:e=>Pe.loading(e),AltMsg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]}),select:Me,userID:q,userGridViewFormID:Q,saved:(e,t)=>{e&&Ot(t),Tt(t)},Token:Re.token[0]})),n().createElement("div",{id:"MaterialIssueRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},at?n().createElement("div",null,ge&&n().createElement(ListComponent,{onLoad:ge,data:(e,t)=>{!function(e,t){Be({type:"editData",payload:[e]}),de(!1),document.getElementById("MaterialIssueRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("MaterialIssueRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("MaterialIssueRegistry-ShareView").classList.remove("ViewBtnAct"),Ce(!1),Te(!1),ke(!1);let a={MatProcessTypeID:"",MaterialMINo:"",MaterialMSDate:"",ContractID:"",LocalityID:"",ProStoreID:"",MatWareHouseID:"",DepartmentID:"",DivisionID:"",MIPlaceofDelivary:"",EmployeeID:"",EmployeeID1:"",DriverName:"",VehicelName:"",MatJobID:"",MIWoRegDesc:"",ContractKey:"",LocalityKey:"",RequestedThrough:"",MITransactionNo:"",MIManagedBY:"",MIStatus:"",MatStatus:"",MIBy:"",MIReceivedBy:"",MSDate:"",MIReceivedDate:"",IsMIContract:"",IsMIMaterial:"",IsMIInMaterial:"",BudgetCostAccountGroupDetKey:"",MIYearEndKey:"",MIProStageKey:"",MITypeKey:"",VendorMatRjctKey:"",FixonBusinessFlowKey:"",ProBusinessFlowKey:"",IsMICancel:"",MICancelRemarks:"",MICancelByKey:"",MaterialRequestID:"",CustomerID:""};Fe(a),Gt({current:1,pageSize:100},a,"MaterialIssueID")}(e)},json:Ge}),!ge&&!Ke&&n().createElement("div",null,st?n().createElement(Z.Z,{data:mt,expanded:()=>{},edit:(e,t,a)=>{Wt(e,t,a),Pe.ExpandTable(!1),Be({type:"EditIsDraft",payload:t}),Be({type:"EditOpen",payload:!1})}}):n().createElement(L.Z,{ref:k,frmctrlid:"tblcs_345_L3_",id:"MaterialIssueRegistry-MainTable",headerdata:fe,tablesearchparams:it,searchvalue:e=>{ot(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...Pt};xt(t),te({current:1,pageSize:10}),Gt({current:1,pageSize:10},t,je?"DraftMaterialIssueID":"MaterialIssueID",je&&"DraftPage")},bodydata:se,ondrag:(e,t)=>{Wt(t,je,!0)},bodyitem:be,visibleitem:fe,isdraft:je,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:Q,accessrights:Re.AccessRights,expanded:()=>{},edit:(e,t,a)=>{Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Gt(ee,null,t?"DraftMaterialIssueID":"MaterialIssueID",t&&"DraftPage",e[l],a)}))},viewtoggle:Pe.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return n().createElement(K.ZP,{loading:e=>Pe.loading(e),alertmsg:e=>Pe.alert(e),ConfirmAlert:e=>{Pe.ConfirmAlert(e)},data:Re.editData,AddOpen:Re.EditOpen,parentId:t.MaterialIssueIDPK,IsDraft:Re.EditIsDraft,tableview:e})}}))):n().createElement(b.Z,{frmctrlid:"fld345L3TCExpandedCardDual",data:se,id:"MaterialIssueRegistry",title:"Material Issue",cardTile:!!ft,visibleitem:fe,gridCountmdlg:$e?4:12,gridCountxssm:$e?6:12,expanded:()=>{},edit:Wt,viewtoggle:Pe.viewtoggle,onDoubleClick:(e,t)=>{H?Pe.select(e):("edit"==t?(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:je}),Be({type:"ShowDetail",payload:!1}),Pe.ExpandDetail(!0)):(Be({type:"editData",payload:[e]}),Be({type:"IsDraft",payload:je}),Be({type:"ShowDetail",payload:!0}),Pe.ExpandDetail(!0),Pe.viewtoggle()),$e&&(de(!1),De(!1)))}})))))),ge||he||Ke?null:$e?st?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(M.Z,{count:pt,color:"primary",page:Mt.current,onChange:(e,t)=>{Dt({current:t,pageSize:Mt.pageSize}),ct(t),Ft({current:t,pageSize:Mt.pageSize})}}),n().createElement("div",null,n().createElement(D.Z,{value:Mt.pageSize,frmctrlid:"fld345L3TCSelectPagination",onChange:e=>{Dt({current:1,pageSize:e.target.value}),Ft({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),$e&&n().createElement("p",{className:"per-page"},"/ per page Of (",It,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(M.Z,{count:j,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),je)Gt({current:t,pageSize:ee.pageSize},pe,"DraftMaterialIssueID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Ie.length>0?Zt(Ie,{current:t,pageSize:ee.pageSize}):Gt({current:t,pageSize:ee.pageSize},pe,"MaterialIssueID")}}}),n().createElement("div",null,n().createElement(D.Z,{value:ee.pageSize,frmctrlid:"fld345L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),je?Gt({current:1,pageSize:e.target.value},Le,"DraftMaterialIssueID","DraftPage"):Ie.length>0?Zt(Ie,{current:1,pageSize:e.target.value}):Gt({current:1,pageSize:e.target.value},Le,"MaterialIssueID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),$e&&n().createElement("p",{className:"per-page "},"/ per page Of (",Y,") ")):n().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},n().createElement(N.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(Y),page:nt,onPageChange:(e,t)=>{rt(t),Gt({current:t+1,pageSize:ee.pageSize},Ae,je?"DraftMaterialIssueID":"MaterialIssueID",je&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{rt(0)}})))})),V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),u=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[I,y]=A()(e.tableID),[g,C]=(0,l.useState)(!1),[N,S]=(0,l.useState)(0),[E,b]=(0,l.useState)(0),[h,T]=(0,l.useState)({current:1,pageSize:100}),[P,R]=(0,l.useState)(""),[B,x]=(0,l.useState)([]),[K,k]=(0,l.useState)({val:"",column:""}),[F,Z]=(0,l.useState)([]),[O,W]=(0,l.useState)(!1),[Q,V]=(0,l.useState)(""),[_,H]=(0,l.useState)([]),[z,j]=(0,l.useState)([]),[J,Y]=(0,l.useState)([]),U=(0,l.useContext)(G.MaterialIssueRegistryContext),{cstate:$,cdispatch:X}=(0,G.ContextApi)();let ee={MaterialIssueIDPK:"",MaterialMINo:"",MaterialMSDate:"",MaterialMSDateType:"",MaterialMSDateBetween:"",RequestedThrough:"",MITransactionNo:"",MIManagedBY:"",MIWoRegDesc:"",MIPlaceofDelivary:"",MIStatus:"",MatStatus:"",MIBy:"",MIReceivedBy:"",DriverName:"",VehicelName:"",MSDate:"",MIDateType:"",MIDateBetween:"",MIReceivedDate:"",MIReceivedDateType:"",MIReceivedDateBetween:"",IsMIContract:"",IsMIMaterial:"",IsMIInMaterial:"",BudgetCostAccountGroupDetKey:"",MIYearEndKey:"",MIProStageKey:"",MITypeKey:"",VendorMatRjctKey:"",FixonBusinessFlowKey:"",ProBusinessFlowKey:"",IsMICancel:"",MICancelRemarks:"",MICancelByKey:"",ContractKey:"",LocalityKey:"",IsDraft:"",Remarks:"",MatProcessTypeID:"",MaterialRequestID:"",DivisionID:"",DepartmentID:"",ContractID:"",LocalityID:"",CustomerID:"",MatWareHouseID:"",ProStoreID:"",MatJobID:"",EmployeeID:"",EmployeeID1:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeCode:"",MatProcessTypeName:"",MatWoTypeID:"",MatWoTypeCode:"",MatWoTypeName:"",MatMaterialGroupID:"",MatMaterialGroupCode:"",MatMaterialGroupName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",DivisionCode:"",DivisionName:"",DepartmentCode:"",DepartmentName:"",ContractCode:"",ContractName:"",LocalityCode:"",LocalityName:"",JobGOName:"",MatJobCode:"",ProStoreCode:"",ProStoreName:"",FinLedgerID:"",LedgerCode:"",LedgerName:"",WareHouseCode:"",WareHouseName:"",MaterialRequestCode:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",CustGroupID:"",CustGroupCode:"",CustGroupName:"",BusinessClasificationID:"",ClasificationCode:"",ClasificationName:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[te,ae]=(0,l.useState)(!1),[le,ne]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1),[oe,se]=(0,l.useState)(!0),[ue,me]=(0,l.useState)(0),[de,pe]=(0,l.useState)({MatProcessTypeName:"",MaterialMINo:"",MaterialMSDate:"",ContractName:"",LocalityName:"",ProStoreName:"",WareHouseName:"",DepartmentName:"",DivisionName:"",MIPlaceofDelivary:"",FirstName:"",FirstName1:"",DriverName:"",VehicelName:"",JobGOName:"",MIWoRegDesc:"",ContractKey:"",LocalityKey:"",RequestedThrough:"",MITransactionNo:"",MIManagedBY:"",MIStatus:"",MatStatus:"",MIBy:"",MIReceivedBy:"",MSDate:"",MIReceivedDate:"",IsMIContract:"",IsMIMaterial:"",IsMIInMaterial:"",BudgetCostAccountGroupDetKey:"",MIYearEndKey:"",MIProStageKey:"",MITypeKey:"",VendorMatRjctKey:"",FixonBusinessFlowKey:"",ProBusinessFlowKey:"",IsMICancel:"",MICancelRemarks:"",MICancelByKey:"",MaterialRequestCode:"",CustomerName:""}),[ce,Ie]=(0,l.useState)([]),[ye,Me]=(0,l.useState)([]),[De,ge]=(0,l.useState)([]),[Ce,Ne]=(0,l.useState)(!1),[Se,fe]=(0,l.useState)("");let Ee=(0,v.Z)();const be=[{columns:ce,data:P}];(0,l.useEffect)((()=>{e.GridView&&function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),X({type:"language",payload:Object.assign({},...n)}),pe(a.reduce(((e,t)=>(e[t]="",e)),{})),H(e),j(t),Y(a),Ie(l),Me(a)}(I)}),[I,e.GridView]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{ve()},viewrecord:e=>{F.map(((t,a)=>{t.MaterialIssueIDPK==e&&X({type:"editData",payload:[F[a]]})}))},DialogTableProps:e=>{C(e)},searchData:(t,a,l)=>{U.loading(!0),u.current&&u.current.clearItem(),fe(l),T({current:1,pageSize:10}),ee=e.ApiParamType.params,he({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&C(e.Dialogview)}),[e.cardview,e.Dialogview]);const ve=()=>{$.IsDraft?he(h,ee,"DraftMaterialIssueID"):he(h,ee,"MaterialIssueID")},he=async(t,a,l,n)=>{if($.token[0]){if(U.loading(!0),"DraftPage"!==n&&ae($.IsDraft),await fe((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],n=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=n[e];a=t}V(a);let r=f.v.Api+`${e.ApiType}/`,i={data:{p1:a&&a.MaterialIssueIDPK?a.MaterialIssueIDPK:null,p2:a&&a.MaterialMINo?a.MaterialMINo:null,p3:a&&a.MaterialMSDate?a.MaterialMSDate:null,p4:a&&a.MaterialMSDateType?a.MaterialMSDateType:null,p5:a&&a.MaterialMSDateBetween?a.MaterialMSDateBetween:null,p6:a&&a.RequestedThrough?a.RequestedThrough:null,p7:a&&a.MITransactionNo?a.MITransactionNo:null,p8:a&&a.MIManagedBY?a.MIManagedBY:null,p9:a&&a.MIWoRegDesc?a.MIWoRegDesc:null,p10:a&&a.MIPlaceofDelivary?a.MIPlaceofDelivary:null,p11:a&&a.MIStatus?a.MIStatus:null,p12:a&&a.MatStatus?a.MatStatus:null,p13:a&&a.MIBy?a.MIBy:null,p14:a&&a.MIReceivedBy?a.MIReceivedBy:null,p15:a&&a.DriverName?a.DriverName:null,p16:a&&a.VehicelName?a.VehicelName:null,p17:a&&a.MSDate?a.MSDate:null,p18:a&&a.MIDateType?a.MIDateType:null,p19:a&&a.MIDateBetween?a.MIDateBetween:null,p20:a&&a.MIReceivedDate?a.MIReceivedDate:null,p21:a&&a.MIReceivedDateType?a.MIReceivedDateType:null,p22:a&&a.MIReceivedDateBetween?a.MIReceivedDateBetween:null,p23:null,p24:null,p25:null,p26:a&&a.BudgetCostAccountGroupDetKey?a.BudgetCostAccountGroupDetKey:null,p27:a&&a.MIYearEndKey?a.MIYearEndKey:null,p28:a&&a.MIProStageKey?a.MIProStageKey:null,p29:a&&a.MITypeKey?a.MITypeKey:null,p30:a&&a.VendorMatRjctKey?a.VendorMatRjctKey:null,p31:a&&a.FixonBusinessFlowKey?a.FixonBusinessFlowKey:null,p32:a&&a.ProBusinessFlowKey?a.ProBusinessFlowKey:null,p33:null,p34:null,p35:a&&a.MICancelByKey?a.MICancelByKey:null,p36:a&&a.ContractKey?a.ContractKey:null,p37:a&&a.LocalityKey?a.LocalityKey:null,p38:"DraftMaterialIssueID"==l?"1":"0",p39:null,p40:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p41:a&&a.MaterialRequestID?a.MaterialRequestID:null,p42:a&&a.DivisionID?a.DivisionID:null,p43:a&&a.DepartmentID?a.DepartmentID:null,p44:a&&a.ContractID?a.ContractID:null,p45:a&&a.LocalityID?a.LocalityID:null,p46:a&&a.CustomerID?a.CustomerID:null,p47:a&&a.MatWareHouseID?a.MatWareHouseID:null,p48:a&&a.ProStoreID?a.ProStoreID:null,p49:a&&a.MatJobID?a.MatJobID:null,p50:a&&a.EmployeeID?a.EmployeeID:null,p51:a&&a.EmployeeID1?a.EmployeeID1:null,p52:a&&a.IsActive,p53:null,p54:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p55:a&&a.CreatedTtm?a.CreatedTtm:null,p56:a&&a.CreatedTtmType?a.CreatedTtmType:null,p57:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p58:null,p59:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p60:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p61:a&&a.MatWoTypeID?a.MatWoTypeID:null,p62:a&&a.MatWoTypeCode?a.MatWoTypeCode:null,p63:a&&a.MatWoTypeName?a.MatWoTypeName:null,p64:a&&a.MatMaterialGroupID?a.MatMaterialGroupID:null,p65:a&&a.MatMaterialGroupCode?a.MatMaterialGroupCode:null,p66:a&&a.MatMaterialGroupName?a.MatMaterialGroupName:null,p67:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p68:a&&a.MatMainClassCode?a.MatMainClassCode:null,p69:a&&a.MatMainClassName?a.MatMainClassName:null,p70:a&&a.EmployeeCode?a.EmployeeCode:null,p71:a&&a.FirstName?a.FirstName:null,p72:a&&a.EmpContactNo1?a.EmpContactNo1:null,p73:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p74:a&&a.DivisionCode?a.DivisionCode:null,p75:a&&a.DivisionName?a.DivisionName:null,p76:a&&a.DepartmentCode?a.DepartmentCode:null,p77:a&&a.DepartmentName?a.DepartmentName:null,p78:a&&a.ContractCode?a.ContractCode:null,p79:a&&a.ContractName?a.ContractName:null,p80:a&&a.LocalityCode?a.LocalityCode:null,p81:a&&a.LocalityName?a.LocalityName:null,p82:a&&a.JobGOName?a.JobGOName:null,p83:a&&a.MatJobCode?a.MatJobCode:null,p84:a&&a.ProStoreCode?a.ProStoreCode:null,p85:a&&a.ProStoreName?a.ProStoreName:null,p86:a&&a.FinLedgerID?a.FinLedgerID:null,p87:a&&a.LedgerCode?a.LedgerCode:null,p88:a&&a.LedgerName?a.LedgerName:null,p89:a&&a.WareHouseCode?a.WareHouseCode:null,p90:a&&a.WareHouseName?a.WareHouseName:null,p91:a&&a.MaterialRequestCode?a.MaterialRequestCode:null,p92:a&&a.ContractGroupID?a.ContractGroupID:null,p93:a&&a.ContractGroupCode?a.ContractGroupCode:null,p94:a&&a.ContractGroupName?a.ContractGroupName:null,p95:a&&a.TaxID?a.TaxID:null,p96:a&&a.TaxCode?a.TaxCode:null,p97:a&&a.TaxName?a.TaxName:null,p98:a&&a.TaxValue?a.TaxValue:null,p99:a&&a.CustomerCode?a.CustomerCode:null,p100:a&&a.CustomerName?a.CustomerName:null,p101:a&&a.ContractTypeID?a.ContractTypeID:null,p102:a&&a.ContractTypCode?a.ContractTypCode:null,p103:a&&a.ContractTypeName?a.ContractTypeName:null,p104:a&&a.ContractCategID?a.ContractCategID:null,p105:a&&a.ContractCategCode?a.ContractCategCode:null,p106:a&&a.ContractCategName?a.ContractCategName:null,p107:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p108:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p109:a&&a.LocalityGroupID?a.LocalityGroupID:null,p110:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p111:a&&a.LocalityGroupName?a.LocalityGroupName:null,p112:a&&a.CityID?a.CityID:null,p113:a&&a.CityCode?a.CityCode:null,p114:a&&a.CityName?a.CityName:null,p115:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p116:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p117:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p118:a&&a.RegionID?a.RegionID:null,p119:a&&a.RegionCode?a.RegionCode:null,p120:a&&a.RegionName?a.RegionName:null,p121:a&&a.CountryID?a.CountryID:null,p122:a&&a.CountryCode?a.CountryCode:null,p123:a&&a.CountryName?a.CountryName:null,p124:a&&a.CustGroupID?a.CustGroupID:null,p125:a&&a.CustGroupCode?a.CustGroupCode:null,p126:a&&a.CustGroupName?a.CustGroupName:null,p127:a&&a.BusinessClasificationID?a.BusinessClasificationID:null,p128:a&&a.ClasificationCode?a.ClasificationCode:null,p129:a&&a.ClasificationName?a.ClasificationName:null,p130:a&&a.ShiftID?a.ShiftID:null,p131:a&&a.ShiftCode?a.ShiftCode:null,p132:a&&a.ShiftName?a.ShiftName:null,p133:a&&a.ClassificationID?a.ClassificationID:null,p134:a&&a.ClassificationCode?a.ClassificationCode:null,p135:a&&a.ClassificationName?a.ClassificationName:null,p136:a&&a.DesignationID?a.DesignationID:null,p137:a&&a.DesignationCode?a.DesignationCode:null,p138:a&&a.DesignationName?a.DesignationName:null,p139:a&&a.NationalityID?a.NationalityID:null,p140:a&&a.NationalityCode?a.NationalityCode:null,p141:a&&a.NationalityName?a.NationalityName:null,p142:a&&a.EmpWorkNatureID?a.EmpWorkNatureID:null,p143:a&&a.NatureOfWorkCode?a.NatureOfWorkCode:null,p144:a&&a.NatureOfWorkName?a.NatureOfWorkName:null,p145:a&&a.EmployeeTypeID?a.EmployeeTypeID:null,p146:a&&a.EmployeeTypeCode?a.EmployeeTypeCode:null,p147:a&&a.EmployeeTypeName?a.EmployeeTypeName:null,p148:a&&a.EmploymentTypeID?a.EmploymentTypeID:null,p149:a&&a.EmploymentTypCode?a.EmploymentTypCode:null,p150:a&&a.EmploymentTypeName?a.EmploymentTypeName:null,p151:a&&a.EmployeeGroupID?a.EmployeeGroupID:null,p152:a&&a.EmployeeGroupCode?a.EmployeeGroupCode:null,p153:a&&a.EmployeeGroupName?a.EmployeeGroupName:null,p154:a&&a.EmpGradeID?a.EmpGradeID:null,p155:a&&a.EmpGradeCode?a.EmpGradeCode:null,p156:a&&a.EmpGradeName?a.EmpGradeName:null,p157:a&&a.EmpGenderID?a.EmpGenderID:null,p158:a&&a.EmpGenderName?a.EmpGenderName:null,p159:a&&a.EmpTitleID?a.EmpTitleID:null,p160:a&&a.EmpTitleName?a.EmpTitleName:null,p161:t.current,p162:t.pageSize,p163:l,p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}};(0,d.Z)(r,i,$.token[0]).then((e=>{if(U.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),X({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?S(Math.ceil(a)):20==t.pageSize?S(Math.ceil(a/2)):50==t.pageSize?S(Math.ceil(a/5)):100==t.pageSize&&S(Math.ceil(a/10)),Z(e.Output.data)}}else U.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Ee?.[a]?Ee[a]:a)]}),Z([]),S(0),b(0),X({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ie($.ExpandTableValue)}),[$.ExpandTableValue]),n().createElement("div",null,n().createElement(i.Z,{expanded:le,onChange:()=>()=>{ne(re)}},n().createElement(s.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",E,")")))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"MaterialIssueRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(c.Z,{formctrlidprint:"fld345L3TCExportPrint",formctrlidexport:"fld345L3TCExportTable",formctrlidrefresh:"fld345L3TCExportRefresh",title:"Material Issue",data:B,exportData:be,Items:ye,columnIndex:ce,triggerApi:t=>{((t,l,n)=>{if(0===E)return U.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;U.loading(!0);let r=f.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.MaterialIssueIDPK?t.MaterialIssueIDPK:null),p2:t&&t.MaterialMINo?t.MaterialMINo:null,p3:t&&t.MaterialMSDate?t.MaterialMSDate:null,p4:t&&t.MaterialMSDateType?t.MaterialMSDateType:null,p5:t&&t.MaterialMSDateBetween?t.MaterialMSDateBetween:null,p6:t&&t.RequestedThrough?t.RequestedThrough:null,p7:t&&t.MITransactionNo?t.MITransactionNo:null,p8:t&&t.MIManagedBY?t.MIManagedBY:null,p9:t&&t.MIWoRegDesc?t.MIWoRegDesc:null,p10:t&&t.MIPlaceofDelivary?t.MIPlaceofDelivary:null,p11:t&&t.MIStatus?t.MIStatus:null,p12:t&&t.MatStatus?t.MatStatus:null,p13:t&&t.MIBy?t.MIBy:null,p14:t&&t.MIReceivedBy?t.MIReceivedBy:null,p15:t&&t.DriverName?t.DriverName:null,p16:t&&t.VehicelName?t.VehicelName:null,p17:t&&t.MSDate?t.MSDate:null,p18:t&&t.MIDateType?t.MIDateType:null,p19:t&&t.MIDateBetween?t.MIDateBetween:null,p20:t&&t.MIReceivedDate?t.MIReceivedDate:null,p21:t&&t.MIReceivedDateType?t.MIReceivedDateType:null,p22:t&&t.MIReceivedDateBetween?t.MIReceivedDateBetween:null,p23:null,p24:null,p25:null,p26:t&&t.BudgetCostAccountGroupDetKey?t.BudgetCostAccountGroupDetKey:null,p27:t&&t.MIYearEndKey?t.MIYearEndKey:null,p28:t&&t.MIProStageKey?t.MIProStageKey:null,p29:t&&t.MITypeKey?t.MITypeKey:null,p30:t&&t.VendorMatRjctKey?t.VendorMatRjctKey:null,p31:t&&t.FixonBusinessFlowKey?t.FixonBusinessFlowKey:null,p32:t&&t.ProBusinessFlowKey?t.ProBusinessFlowKey:null,p33:null,p34:null,p35:t&&t.MICancelByKey?t.MICancelByKey:null,p36:t&&t.ContractKey?t.ContractKey:null,p37:t&&t.LocalityKey?t.LocalityKey:null,p38:te?"1":"0",p39:null,p40:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p41:t&&t.MaterialRequestID?t.MaterialRequestID:null,p42:t&&t.DivisionID?t.DivisionID:null,p43:t&&t.DepartmentID?t.DepartmentID:null,p44:t&&t.ContractID?t.ContractID:null,p45:t&&t.LocalityID?t.LocalityID:null,p46:t&&t.CustomerID?t.CustomerID:null,p47:t&&t.MatWareHouseID?t.MatWareHouseID:null,p48:t&&t.ProStoreID?t.ProStoreID:null,p49:t&&t.MatJobID?t.MatJobID:null,p50:t&&t.EmployeeID?t.EmployeeID:null,p51:t&&t.EmployeeID1?t.EmployeeID1:null,p52:t&&t.IsActive,p53:null,p54:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p55:t&&t.CreatedTtm?t.CreatedTtm:null,p56:t&&t.CreatedTtmType?t.CreatedTtmType:null,p57:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p58:null,p59:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p60:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p61:t&&t.MatWoTypeID?t.MatWoTypeID:null,p62:t&&t.MatWoTypeCode?t.MatWoTypeCode:null,p63:t&&t.MatWoTypeName?t.MatWoTypeName:null,p64:t&&t.MatMaterialGroupID?t.MatMaterialGroupID:null,p65:t&&t.MatMaterialGroupCode?t.MatMaterialGroupCode:null,p66:t&&t.MatMaterialGroupName?t.MatMaterialGroupName:null,p67:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p68:t&&t.MatMainClassCode?t.MatMainClassCode:null,p69:t&&t.MatMainClassName?t.MatMainClassName:null,p70:t&&t.EmployeeCode?t.EmployeeCode:null,p71:t&&t.FirstName?t.FirstName:null,p72:t&&t.EmpContactNo1?t.EmpContactNo1:null,p73:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p74:t&&t.DivisionCode?t.DivisionCode:null,p75:t&&t.DivisionName?t.DivisionName:null,p76:t&&t.DepartmentCode?t.DepartmentCode:null,p77:t&&t.DepartmentName?t.DepartmentName:null,p78:t&&t.ContractCode?t.ContractCode:null,p79:t&&t.ContractName?t.ContractName:null,p80:t&&t.LocalityCode?t.LocalityCode:null,p81:t&&t.LocalityName?t.LocalityName:null,p82:t&&t.JobGOName?t.JobGOName:null,p83:t&&t.MatJobCode?t.MatJobCode:null,p84:t&&t.ProStoreCode?t.ProStoreCode:null,p85:t&&t.ProStoreName?t.ProStoreName:null,p86:t&&t.FinLedgerID?t.FinLedgerID:null,p87:t&&t.LedgerCode?t.LedgerCode:null,p88:t&&t.LedgerName?t.LedgerName:null,p89:t&&t.WareHouseCode?t.WareHouseCode:null,p90:t&&t.WareHouseName?t.WareHouseName:null,p91:t&&t.MaterialRequestCode?t.MaterialRequestCode:null,p92:t&&t.ContractGroupID?t.ContractGroupID:null,p93:t&&t.ContractGroupCode?t.ContractGroupCode:null,p94:t&&t.ContractGroupName?t.ContractGroupName:null,p95:t&&t.TaxID?t.TaxID:null,p96:t&&t.TaxCode?t.TaxCode:null,p97:t&&t.TaxName?t.TaxName:null,p98:t&&t.TaxValue?t.TaxValue:null,p99:t&&t.CustomerCode?t.CustomerCode:null,p100:t&&t.CustomerName?t.CustomerName:null,p101:t&&t.ContractTypeID?t.ContractTypeID:null,p102:t&&t.ContractTypCode?t.ContractTypCode:null,p103:t&&t.ContractTypeName?t.ContractTypeName:null,p104:t&&t.ContractCategID?t.ContractCategID:null,p105:t&&t.ContractCategCode?t.ContractCategCode:null,p106:t&&t.ContractCategName?t.ContractCategName:null,p107:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p108:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p109:t&&t.LocalityGroupID?t.LocalityGroupID:null,p110:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p111:t&&t.LocalityGroupName?t.LocalityGroupName:null,p112:t&&t.CityID?t.CityID:null,p113:t&&t.CityCode?t.CityCode:null,p114:t&&t.CityName?t.CityName:null,p115:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p116:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p117:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p118:t&&t.RegionID?t.RegionID:null,p119:t&&t.RegionCode?t.RegionCode:null,p120:t&&t.RegionName?t.RegionName:null,p121:t&&t.CountryID?t.CountryID:null,p122:t&&t.CountryCode?t.CountryCode:null,p123:t&&t.CountryName?t.CountryName:null,p124:t&&t.CustGroupID?t.CustGroupID:null,p125:t&&t.CustGroupCode?t.CustGroupCode:null,p126:t&&t.CustGroupName?t.CustGroupName:null,p127:t&&t.BusinessClasificationID?t.BusinessClasificationID:null,p128:t&&t.ClasificationCode?t.ClasificationCode:null,p129:t&&t.ClasificationName?t.ClasificationName:null,p130:t&&t.ShiftID?t.ShiftID:null,p131:t&&t.ShiftCode?t.ShiftCode:null,p132:t&&t.ShiftName?t.ShiftName:null,p133:t&&t.ClassificationID?t.ClassificationID:null,p134:t&&t.ClassificationCode?t.ClassificationCode:null,p135:t&&t.ClassificationName?t.ClassificationName:null,p136:t&&t.DesignationID?t.DesignationID:null,p137:t&&t.DesignationCode?t.DesignationCode:null,p138:t&&t.DesignationName?t.DesignationName:null,p139:t&&t.NationalityID?t.NationalityID:null,p140:t&&t.NationalityCode?t.NationalityCode:null,p141:t&&t.NationalityName?t.NationalityName:null,p142:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p143:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p144:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p145:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p146:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p147:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p148:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p149:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p150:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p151:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p152:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p153:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p154:t&&t.EmpGradeID?t.EmpGradeID:null,p155:t&&t.EmpGradeCode?t.EmpGradeCode:null,p156:t&&t.EmpGradeName?t.EmpGradeName:null,p157:t&&t.EmpGenderID?t.EmpGenderID:null,p158:t&&t.EmpGenderName?t.EmpGenderName:null,p159:t&&t.EmpTitleID?t.EmpTitleID:null,p160:t&&t.EmpTitleName?t.EmpTitleName:null,p161:1,p162:E,p163:Se,p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}};var o;U.loading(!1),U.alert({open:!0,color:"success",message:[`${o="345",$.language?.[o]?$.language[o]:o} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,d.Z)(r,i,$.token[0],n).then((e=>{(0,w.PDF_Excel_Generate)(e,U,ye,R,a,n)}))})(Q,K.column,t)},TableVisibleItem:z,userGridViewFormID:"345",TableTotalCount:E,Refresh:()=>{he({current:1,pageSize:100},Q,Se),T({current:1,pageSize:100}),m.current&&m.current.clearItem(),u.current&&u.current.clearItem()},disabledPrint:!$.AccessRights.IsPrint,disabledExport:!$.AccessRights.IsExport,ref:a})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(M.Z,{count:N,siblingCount:0,color:"primary",page:h.current,onChange:(e,t)=>{if(T({current:t,pageSize:h.pageSize}),te)he({current:t,pageSize:h.pageSize},Q,"DraftMaterialIssueID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";he({current:t,pageSize:h.pageSize},Q,"MaterialIssueID")}}}),n().createElement("div",null,n().createElement(D.Z,{value:h.pageSize,onChange:e=>{T({current:1,pageSize:e.target.value}),he({current:1,pageSize:e.target.value},Q,"MaterialIssueID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),re&&n().createElement("p",{className:"per-page"},"/ per page Of (",E,")"))),n().createElement("div",{id:"MaterialIssueRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"MaterialIssueRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},n().createElement(L.Z,{frmctrlid:"tblcs_345_L3_",ref:u,id:"MaterialIssueRegistryTable",type:e.viewtype,headerdata:z,tablesearchparams:de,searchvalue:e=>{let t={...Q,...e};pe(e),V(t),T({current:1,pageSize:100}),he(h,t,Se)},bodydata:F,ondrag:(e,t)=>{X({type:"editData",payload:[t]}),X({type:"IsDraft",payload:te}),X({type:"ShowDetail",payload:!0})},bodyitem:J,visibleitem:z,isdraft:te,accessrights:$.AccessRights,expanded:()=>{},edit:(t,a,l)=>{g?U.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?(q.log("Hii if"),U.edit(t,!1,!0,Se)):U.edit(t,!1,!0,Se))},viewtoggle:U.viewtoggle,IsSub:e.IsSub})))))))}))},93106:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f}),a(95866),a(99058);var l=a(92950),n=a.n(l),r=a(80366),i=a(51673),o=a(282),s=a(868),u=a(78513),m=a(14439),d=a(27848),p=a(40900),c=a(64059),I=a(24038),y=a(8981),M=a(47516),D=a(86893),g=a(1589),C=a(33681),N=a(63163),S=a(25108);const f=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[f,E]=(0,l.useState)([]),[b,v]=(0,l.useState)({idpk:"",name:"",type:""}),[h,T]=(0,l.useState)(""),[P,R]=(0,l.useState)({}),[B,x]=(0,l.useState)(!0),[w,K]=(0,l.useState)(!1),{cstate:k,cdispatch:A}=e.ContextApi?e.ContextApi:(0,g.ContextApi)(),[L,F]=(0,l.useState)(1),[G,Z]=(0,l.useState)(0),[O,W]=(0,l.useState)(!1),[q,Q]=(0,l.useState)({}),[V,_]=(0,l.useState)([]),[H,z]=(0,l.useState)(!0);let j=localStorage.getItem("Language");const J={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Y=(0,y.Z)();const U=e=>Y[e]?Y[e]:e,$=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[J[j]];function X(){R({}),Q({}),e.searchData({}),K(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));_(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{X()}})));const ee=async(t,a,l,n)=>{W(!0);let r=a.IsForeign?a.FieldName+"PK":"MaterialIssueIDPK";try{let o="",s=[],u={};await v((e=>(o=e.name,e))),await R((e=>(s=e,e))),await Q((e=>(u=e,e)));const m=p.v.Api+"FP345S3/",d={data:{p1:a.IsForeign?await le():null,p2:"MaterialMINo"==o&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:"RequestedThrough"==o&&l.length>0?"%"+l+"%":null,p7:"MITransactionNo"==o&&l.length>0?"%"+l+"%":null,p8:"MIManagedBY"==o&&l.length>0?"%"+l+"%":null,p9:"MIWoRegDesc"==o&&l.length>0?"%"+l+"%":null,p10:"MIPlaceofDelivary"==o&&l.length>0?"%"+l+"%":null,p11:"MIStatus"==o&&l.length>0?"%"+l+"%":null,p12:"MatStatus"==o&&l.length>0?"%"+l+"%":null,p13:"MIBy"==o&&l.length>0?"%"+l+"%":null,p14:"MIReceivedBy"==o&&l.length>0?"%"+l+"%":null,p15:"DriverName"==o&&l.length>0?"%"+l+"%":null,p16:"VehicelName"==o&&l.length>0?"%"+l+"%":null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:"IsMIContract"==o&&l.length>0?"%"+l+"%":null,p24:"IsMIMaterial"==o&&l.length>0?"%"+l+"%":null,p25:"IsMIInMaterial"==o&&l.length>0?"%"+l+"%":null,p26:"BudgetCostAccountGroupDetKey"==o&&l.length>0?"%"+l+"%":null,p27:"MIYearEndKey"==o&&l.length>0?"%"+l+"%":null,p28:"MIProStageKey"==o&&l.length>0?"%"+l+"%":null,p29:"MITypeKey"==o&&l.length>0?"%"+l+"%":null,p30:"VendorMatRjctKey"==o&&l.length>0?"%"+l+"%":null,p31:"FixonBusinessFlowKey"==o&&l.length>0?"%"+l+"%":null,p32:"ProBusinessFlowKey"==o&&l.length>0?"%"+l+"%":null,p33:"IsMICancel"==o&&l.length>0?"%"+l+"%":null,p34:"MICancelRemarks"==o&&l.length>0?"%"+l+"%":null,p35:"MICancelByKey"==o&&l.length>0?"%"+l+"%":null,p36:"ContractKey"==o&&l.length>0?"%"+l+"%":null,p37:"LocalityKey"==o&&l.length>0?"%"+l+"%":null,p38:null,p39:null,p40:"MatProcessTypeName"!=o&&s.MatProcessTypeName?s.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p41:"MaterialRequestCode"!=o&&s.MaterialRequestCode?s.MaterialRequestCode.map((e=>e.MaterialRequestIDPK)).toString():null,p42:"DivisionName"!=o&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p43:"DepartmentName"!=o&&s.DepartmentName?s.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p44:"ContractName"!=o&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p45:"LocalityName"!=o&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p46:"CustomerName"!=o&&s.CustomerName?s.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p47:"WareHouseName"!=o&&s.WareHouseName?s.WareHouseName.map((e=>e.MatWareHouseIDPK)).toString():null,p48:"ProStoreName"!=o&&s.ProStoreName?s.ProStoreName.map((e=>e.ProStoreIDPK)).toString():null,p49:"JobGOName"!=o&&s.JobGOName?s.JobGOName.map((e=>e.MatJobIDPK)).toString():null,p50:"FirstName"!=o&&s.FirstName?s.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p51:"FirstName1"!=o&&s.FirstName1?s.FirstName1.map((e=>e.EmployeeID1PK)).toString():null,p52:e.Dialogview?"1":null,p53:null,p54:"p54"==o&&l.length>0?l:null,p55:null,p56:null,p57:null,p58:null,p59:"MatProcessTypeCode"==o&&l.length>0?"%"+l+"%":null,p60:"MatProcessTypeName"==o&&l.length>0?"%"+l+"%":null,p61:"MatWoTypeName"!=o&&s.MatWoTypeName?s.MatWoTypeName.map((e=>e.MatWoTypeIDPK)).toString():null,p62:"MatWoTypeCode"==o&&l.length>0?"%"+l+"%":null,p63:"MatWoTypeName"==o&&l.length>0?"%"+l+"%":null,p64:"MatMaterialGroupName"!=o&&s.MatMaterialGroupName?s.MatMaterialGroupName.map((e=>e.MatMaterialGroupIDPK)).toString():null,p65:"MatMaterialGroupCode"==o&&l.length>0?"%"+l+"%":null,p66:"MatMaterialGroupName"==o&&l.length>0?"%"+l+"%":null,p67:"MatMainClassName"!=o&&s.MatMainClassName?s.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p68:"MatMainClassCode"==o&&l.length>0?"%"+l+"%":null,p69:"MatMainClassName"==o&&l.length>0?"%"+l+"%":null,p70:"EmployeeCode"==o&&l.length>0?"%"+l+"%":null,p71:"FirstName"==o&&l.length>0?"%"+l+"%":null,p72:"EmpContactNo1"==o&&l.length>0?"%"+l+"%":null,p73:"EmpEmailOfficial"==o&&l.length>0?"%"+l+"%":null,p74:"DivisionCode"==o&&l.length>0?"%"+l+"%":null,p75:"DivisionName"==o&&l.length>0?"%"+l+"%":null,p76:"DepartmentCode"==o&&l.length>0?"%"+l+"%":null,p77:"DepartmentName"==o&&l.length>0?"%"+l+"%":null,p78:"ContractCode"==o&&l.length>0?"%"+l+"%":null,p79:"ContractName"==o&&l.length>0?"%"+l+"%":null,p80:"LocalityCode"==o&&l.length>0?"%"+l+"%":null,p81:"LocalityName"==o&&l.length>0?"%"+l+"%":null,p82:"JobGOName"==o&&l.length>0?"%"+l+"%":null,p83:"MatJobCode"==o&&l.length>0?"%"+l+"%":null,p84:"ProStoreCode"==o&&l.length>0?"%"+l+"%":null,p85:"ProStoreName"==o&&l.length>0?"%"+l+"%":null,p86:"LedgerName"!=o&&s.LedgerName?s.LedgerName.map((e=>e.FinLedgerIDPK)).toString():null,p87:"LedgerCode"==o&&l.length>0?"%"+l+"%":null,p88:"LedgerName"==o&&l.length>0?"%"+l+"%":null,p89:"WareHouseCode"==o&&l.length>0?"%"+l+"%":null,p90:"WareHouseName"==o&&l.length>0?"%"+l+"%":null,p91:"MaterialRequestCode"==o&&l.length>0?"%"+l+"%":null,p92:"ContractGroupName"!=o&&s.ContractGroupName?s.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p93:"ContractGroupCode"==o&&l.length>0?"%"+l+"%":null,p94:"ContractGroupName"==o&&l.length>0?"%"+l+"%":null,p95:"TaxName"!=o&&s.TaxName?s.TaxName.map((e=>e.TaxIDPK)).toString():null,p96:"TaxCode"==o&&l.length>0?"%"+l+"%":null,p97:"TaxName"==o&&l.length>0?"%"+l+"%":null,p98:"TaxValue"==o&&l.length>0?"%"+l+"%":null,p99:"CustomerCode"==o&&l.length>0?"%"+l+"%":null,p100:"CustomerName"==o&&l.length>0?"%"+l+"%":null,p101:"ContractTypeName"!=o&&s.ContractTypeName?s.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p102:"ContractTypCode"==o&&l.length>0?"%"+l+"%":null,p103:"ContractTypeName"==o&&l.length>0?"%"+l+"%":null,p104:"ContractCategName"!=o&&s.ContractCategName?s.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p105:"ContractCategCode"==o&&l.length>0?"%"+l+"%":null,p106:"ContractCategName"==o&&l.length>0?"%"+l+"%":null,p107:"ConPaymentTermsName"!=o&&s.ConPaymentTermsName?s.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p108:"ConPaymentTermsName"==o&&l.length>0?"%"+l+"%":null,p109:"LocalityGroupName"!=o&&s.LocalityGroupName?s.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p110:"LocalityGroupCode"==o&&l.length>0?"%"+l+"%":null,p111:"LocalityGroupName"==o&&l.length>0?"%"+l+"%":null,p112:"CityName"!=o&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p113:"CityCode"==o&&l.length>0?"%"+l+"%":null,p114:"CityName"==o&&l.length>0?"%"+l+"%":null,p115:"AdminLocalityTypeName"!=o&&s.AdminLocalityTypeName?s.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p116:"AdminLocalityTypeCode"==o&&l.length>0?"%"+l+"%":null,p117:"AdminLocalityTypeName"==o&&l.length>0?"%"+l+"%":null,p118:"RegionName"!=o&&s.RegionName?s.RegionName.map((e=>e.RegionIDPK)).toString():null,p119:"RegionCode"==o&&l.length>0?"%"+l+"%":null,p120:"RegionName"==o&&l.length>0?"%"+l+"%":null,p121:"CountryName"!=o&&s.CountryName?s.CountryName.map((e=>e.CountryIDPK)).toString():null,p122:"CountryCode"==o&&l.length>0?"%"+l+"%":null,p123:"CountryName"==o&&l.length>0?"%"+l+"%":null,p124:"CustGroupName"!=o&&s.CustGroupName?s.CustGroupName.map((e=>e.CustGroupIDPK)).toString():null,p125:"CustGroupCode"==o&&l.length>0?"%"+l+"%":null,p126:"CustGroupName"==o&&l.length>0?"%"+l+"%":null,p127:"ClasificationName"!=o&&s.ClasificationName?s.ClasificationName.map((e=>e.BusinessClasificationIDPK)).toString():null,p128:"ClasificationCode"==o&&l.length>0?"%"+l+"%":null,p129:"ClasificationName"==o&&l.length>0?"%"+l+"%":null,p130:"ShiftName"!=o&&s.ShiftName?s.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p131:"ShiftCode"==o&&l.length>0?"%"+l+"%":null,p132:"ShiftName"==o&&l.length>0?"%"+l+"%":null,p133:"ClassificationName"!=o&&s.ClassificationName?s.ClassificationName.map((e=>e.ClassificationIDPK)).toString():null,p134:"ClassificationCode"==o&&l.length>0?"%"+l+"%":null,p135:"ClassificationName"==o&&l.length>0?"%"+l+"%":null,p136:"DesignationName"!=o&&s.DesignationName?s.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p137:"DesignationCode"==o&&l.length>0?"%"+l+"%":null,p138:"DesignationName"==o&&l.length>0?"%"+l+"%":null,p139:"NationalityName"!=o&&s.NationalityName?s.NationalityName.map((e=>e.NationalityIDPK)).toString():null,p140:"NationalityCode"==o&&l.length>0?"%"+l+"%":null,p141:"NationalityName"==o&&l.length>0?"%"+l+"%":null,p142:"NatureOfWorkName"!=o&&s.NatureOfWorkName?s.NatureOfWorkName.map((e=>e.EmpWorkNatureIDPK)).toString():null,p143:"NatureOfWorkCode"==o&&l.length>0?"%"+l+"%":null,p144:"NatureOfWorkName"==o&&l.length>0?"%"+l+"%":null,p145:"EmployeeTypeName"!=o&&s.EmployeeTypeName?s.EmployeeTypeName.map((e=>e.EmployeeTypeIDPK)).toString():null,p146:"EmployeeTypeCode"==o&&l.length>0?"%"+l+"%":null,p147:"EmployeeTypeName"==o&&l.length>0?"%"+l+"%":null,p148:"EmploymentTypeName"!=o&&s.EmploymentTypeName?s.EmploymentTypeName.map((e=>e.EmploymentTypeIDPK)).toString():null,p149:"EmploymentTypCode"==o&&l.length>0?"%"+l+"%":null,p150:"EmploymentTypeName"==o&&l.length>0?"%"+l+"%":null,p151:"EmployeeGroupName"!=o&&s.EmployeeGroupName?s.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p152:"EmployeeGroupCode"==o&&l.length>0?"%"+l+"%":null,p153:"EmployeeGroupName"==o&&l.length>0?"%"+l+"%":null,p154:"EmpGradeName"!=o&&s.EmpGradeName?s.EmpGradeName.map((e=>e.EmpGradeIDPK)).toString():null,p155:"EmpGradeCode"==o&&l.length>0?"%"+l+"%":null,p156:"EmpGradeName"==o&&l.length>0?"%"+l+"%":null,p157:"EmpGenderName"!=o&&s.EmpGenderName?s.EmpGenderName.map((e=>e.EmpGenderIDPK)).toString():null,p158:"EmpGenderName"==o&&l.length>0?"%"+l+"%":null,p159:"EmpTitleName"!=o&&s.EmpTitleName?s.EmpTitleName.map((e=>e.EmpTitleIDPK)).toString():null,p160:"EmpTitleName"==o&&l.length>0?"%"+l+"%":null,p161:n||1,p162:10,p163:t,p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}};await(0,i.Z)(m,d,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===n){let e=ae(l,o),t=te(e,P[o],r);E(t),Z(t.length>0?t[0].TotalCount:P[o].length)}else{let e=[...f,...l],t=ae(e,o);Z(t.length<10?t.length:l[0].TotalCount),E(ae(t,o))}else h.length>0&&E([]),Z(f.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{W(!1)}},te=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ae=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function le(){let e={};await R((t=>(e=t,t)));let t=[...V],a=[];for(let l of t){let t=e[l]?.map((e=>e.MaterialIssueIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ne(t,a,l,n,r,i){let o={[n]:{From:t,Type:l,To:a}},s={};Q((e=>({...e,...o})));const u={...P};let m=[...V],d=[];for(let e of m){let t=u[e]?.map((e=>e.MaterialIssueIDPK)).toString();t&&d.push(t)}await Q((e=>(s=e,e)));let p={MaterialIssueIDPK:d?[...new Set(d)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,MaterialMSDate:s.MaterialMSDate?s.MaterialMSDate.From:"",MaterialMSDateType:s.MaterialMSDate?s.MaterialMSDate.Type:"",MaterialMSDateBetween:s.MaterialMSDate?s.MaterialMSDate.To:"",MSDate:s.MSDate?s.MSDate.From:"",MSDateType:s.MSDate?s.MSDate.Type:"",MSDateBetween:s.MSDate?s.MSDate.To:"",MIReceivedDate:s.MIReceivedDate?s.MIReceivedDate.From:"",MIReceivedDateType:s.MIReceivedDate?s.MIReceivedDate.Type:"",MIReceivedDateBetween:s.MIReceivedDate?s.MIReceivedDate.To:"",MatProcessTypeID:P.MatProcessTypeName?.map((e=>e.MatProcessTypeIDPK)).toString(),ContractID:P.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:P.LocalityName?.map((e=>e.LocalityIDPK)).toString(),ProStoreID:P.ProStoreName?.map((e=>e.ProStoreIDPK)).toString(),MatWareHouseID:P.WareHouseName?.map((e=>e.MatWareHouseIDPK)).toString(),DepartmentID:P.DepartmentName?.map((e=>e.DepartmentIDPK)).toString(),DivisionID:P.DivisionName?.map((e=>e.DivisionIDPK)).toString(),EmployeeID:P.FirstName?.map((e=>e.EmployeeIDPK)).toString(),EmployeeID1:P.FirstName1?.map((e=>e.EmployeeID1PK)).toString(),MatJobID:P.JobGOName?.map((e=>e.MatJobIDPK)).toString(),MaterialRequestID:P.MaterialRequestCode?.map((e=>e.MaterialRequestIDPK)).toString(),CustomerID:P.CustomerName?.map((e=>e.CustomerIDPK)).toString()};e.searchData(p)}function re(){return n().createElement(c.Z,{frmctrlid:"fld345L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{ne(e,t,a,b.name,l)},keyboardback:()=>{K(!1),v({idpk:"",name:"",type:""})},title:U(b.name),fieldname:b.name,save:e=>{alert(!0)}})}return n().createElement("div",null,w?"Created Ttm"===b.name||b.name.includes("Date")?n().createElement(re,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(m.Z,null,n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},$(b.idpk)," (",f.length,"/",G,")")),n().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(s.ZP,{title:U("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(r.Z,{id:"fld345L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{K(!1),v({idpk:"",name:"",type:""}),F(1)}}))),P[b.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(o.Z,{frmctrlid:"fld345L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await R((t=>(e=t,S.log("clear fewItems",e),t))),e[b.name]=[],ee(b.type,b.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},U("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},B?n().createElement(s.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{x(!1)}}))):n().createElement(s.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{x(!0)}})))),n().createElement("ul",null,P[b.name]&&P[b.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:B?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[b.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[b.name],onClick:()=>(async(e,t)=>{F(1);let a=P[b.name].filter((t=>t!=e)),l={};await R((e=>(l=e,e))),l[b.name]=a,R(l),E((t=>[e,...t]))})(e)},n().createElement(r.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(I.Z,{frmctrlid:"fld345L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:h,placeholder:U("Enter ")+" "+$(b.idpk),onChange:e=>{T(e),ee(b.type,b.name,e,1,le())}})),n().createElement("div",{id:"fld345L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await R((e=>(a=e,e)));let n=[...V],r=[];for(let e of n){let t=a[e]?.map((e=>e.MaterialIssueIDPK)).toString();t&&r.push(t)}await Q((e=>(l=e,e)));let i={MaterialIssueIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialMSDate:l.MaterialMSDate?l.MaterialMSDate.From:"",MaterialMSDateType:l.MaterialMSDate?l.MaterialMSDate.Type:"",MaterialMSDateBetween:l.MaterialMSDate?l.MaterialMSDate.To:"",MSDate:l.MSDate?l.MSDate.From:"",MSDateType:l.MSDate?l.MSDate.Type:"",MSDateBetween:l.MSDate?l.MSDate.To:"",MIReceivedDate:l.MIReceivedDate?l.MIReceivedDate.From:"",MIReceivedDateType:l.MIReceivedDate?l.MIReceivedDate.Type:"",MIReceivedDateBetween:l.MIReceivedDate?l.MIReceivedDate.To:"",MatProcessTypeID:P.MatProcessTypeName?.map((e=>e.MatProcessTypeIDPK)).toString(),ContractID:P.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:P.LocalityName?.map((e=>e.LocalityIDPK)).toString(),ProStoreID:P.ProStoreName?.map((e=>e.ProStoreIDPK)).toString(),MatWareHouseID:P.WareHouseName?.map((e=>e.MatWareHouseIDPK)).toString(),DepartmentID:P.DepartmentName?.map((e=>e.DepartmentIDPK)).toString(),DivisionID:P.DivisionName?.map((e=>e.DivisionIDPK)).toString(),EmployeeID:P.FirstName?.map((e=>e.EmployeeIDPK)).toString(),EmployeeID1:P.FirstName1?.map((e=>e.EmployeeID1PK)).toString(),MatJobID:P.JobGOName?.map((e=>e.MatJobIDPK)).toString(),MaterialRequestID:P.MaterialRequestCode?.map((e=>e.MaterialRequestIDPK)).toString(),CustomerID:P.CustomerName?.map((e=>e.CustomerIDPK)).toString()};e.searchData(i),K(!1)}},n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),O&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(C.Z,{color:"secondary"})),n().createElement("div",{id:"fld345L3TFCScrollYDefault",className:"height65 scrollYDefault"},f.length>0&&f.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[b.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await R((e=>(l=e,e)));let n=l[b.name];t[b.name]=n?[...a,...n]:a,l={...l,...t},R(l),E((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(u.Z,{className:"DotIcon"}),n().createElement("span",null,e[b.name])))),f.length+0<G&&f.length>0&&n().createElement("div",{id:"fld345L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{F(L+1),ee(b.type,b.name,"",L+1)}},n().createElement("p",null," more... ")),0===f.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:p.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(M.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{X()},id:"fld345L3TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},U("Clear")))),n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld345L3TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},U("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld345L3TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{K(!0),T(""),E([]),Z(0),v({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMaterialIssueID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterMaterialIssueID",e,"",1,le())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,$(e.AdminUserGridViewIDPK)," ",q[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",q[e.FieldName]?.From+" to "+q[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,$(e.AdminUserGridViewIDPK)),n().createElement(N.Z,{checked:"1"==H,onChange:t=>{z(t.target.checked),ne("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,$(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,P[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},P[a][0][a]),P[a].length>1&&n().createElement("span",{className:"RoundedDivName"},P[a][1][a]),P[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(P[a].length-2))))));var a}))))))}))},84455:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(92950),n=a.n(l),r=a(45237),i=(a(37148),a(3212)),o=a(29800),s=a(14439),u=a(27848),m=(a(10966),a(36939)),d=a(61201),p=a(50743),c=a(1589),I=(a(21392),a(51673)),y=a(40900),M=a(26537),D=(a(24038),a(22378)),g=(a(77366),a(97829),a(8981)),C=(a(63163),a(1695)),N=a(79117),S=a.n(N),f=a(99216),E=(a(35131),a(61956),a(51649)),b=a(61924),v=a.n(b);const h=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[N,b]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[h,T]=(0,l.useState)(!0),[P,R]=(0,l.useState)(e.showDetail),[B,x]=(0,l.useState)(""),[w,K]=n().useState(!1),[k,A]=n().useState(""),[L,F]=n().useState(!1),G=(0,l.useContext)(c.MaterialIssueRegistryContext),{cstate:Z,cdispatch:O}=(0,c.ContextApi)(),[W,q]=(0,l.useState)(!1),[Q,V]=(0,l.useState)(""),[_,H]=(0,l.useState)(""),[z,j]=(0,l.useState)(""),[J,Y]=(0,l.useState)(""),[U,$]=(0,l.useState)(""),[X,ee]=(0,l.useState)("");let te=(0,g.Z)();(0,l.useEffect)((()=>{Z.editData.length>0&&(b(Z.editData),K(!1),O({type:"PrimaryId",payload:Z.editData[0].MaterialIssueIDPK}))}),[Z.editData]),(0,l.useEffect)((()=>{Z.showTableview&&j(Z.showTableview)}),[Z.showTableview]),(0,l.useEffect)((()=>{T(Z.ExpandDetailValue)}),[Z.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{T(e),K(null)},viewtoggle:()=>{K(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=y.v.Api+"FP345S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:e.Dialogview?"1":null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:null,p114:null,p115:null,p116:null,p117:null,p118:null,p119:null,p120:null,p121:null,p122:null,p123:null,p124:null,p125:null,p126:null,p127:null,p128:null,p129:null,p130:null,p131:null,p132:null,p133:null,p134:null,p135:null,p136:null,p137:null,p138:null,p139:null,p140:null,p141:null,p142:null,p143:null,p144:null,p145:null,p146:null,p147:null,p148:null,p149:null,p150:null,p151:null,p152:null,p153:null,p154:null,p155:null,p156:null,p157:null,p158:null,p159:null,p160:null,p161:1,p162:10,p163:a?"DraftMaterialIssueID":"MaterialIssueID",p164:null,p165:null,p166:localStorage.getItem("UserGroupID"),p167:localStorage.getItem("userid")}};(0,M.Z)(0).then((e=>{(0,I.Z)(l,n,e).then((e=>{G.loading(!1),"200"==e.Output.status.code&&b(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===w&&a.current.clear()}})));const ae=e=>te?.[e]?te?.[e]:e,le=e=>Z.language?.[e]?Z.language[e]:e;function ne(e,t){}const re=e=>N[0].MatProcessTypeID&&0!=N[0].MatProcessTypeID?!N[0].MaterialMSDate||0==N[0].MaterialMSDate||J?(G.alert({open:!0,color:"warning",message:[ae("Please enter the Issue Date")]}),!1):N[0].ContractID&&0!=N[0].ContractID?N[0].LocalityID&&0!=N[0].LocalityID?N[0].ProStoreID&&0!=N[0].ProStoreID?N[0].MatWareHouseID&&0!=N[0].MatWareHouseID?N[0].EmployeeID&&0!=N[0].EmployeeID?N[0].EmployeeID1&&0!=N[0].EmployeeID1?void G.ConfirmAlert(n().createElement(v(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ae("Are you sure?"),onConfirm:()=>(()=>{G.loading(!0),G.ConfirmAlert(null),O({type:"IsDraft",payload:!1});let e={url:y.v.Api+"FP345S2/",PrimID:N[0].MaterialIssueIDPK,ParamType:"",state:N[0],active:1,token:Z.token[0],DefaultPrimaryId:"",IndirectID:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,n=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:n}),G.loading(!1)):(()=>{G.loading(!0);let e={url:y.v.Api+"FP345S1/",PrimID:N[0].MaterialIssueIDPK,ParamType:"",state:N[0],active:1,token:Z.token[0],DefaultPrimaryId:"",IndirectID:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(G.alert({open:!0,color:"success",message:[t.message]}),G.loading(!1),G.ShowTableDiv(),G.RefreshTable(),G.Approval(!0))}))})())}))})(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ae("Yes"),cancelBtnText:ae("Cancel"),showCancel:!0},Z.PrimaryId?ae("Do you want to Update?"):ae("Do you want to Save?"))):(G.alert({open:!0,color:"warning",message:[ae("Please select the ")+" "+le("EmployeeID1")]}),!1):(G.alert({open:!0,color:"warning",message:[ae("Please select the ")+" "+le("EmployeeID")]}),!1):(G.alert({open:!0,color:"warning",message:[ae("Please select the ")+" "+le("MatWareHouseID")]}),!1):(G.alert({open:!0,color:"warning",message:[ae("Please select the ")+" "+le("ProStoreID")]}),!1):(G.alert({open:!0,color:"warning",message:[ae("Please select the ")+" "+le("LocalityID")]}),!1):(G.alert({open:!0,color:"warning",message:[ae("Please select the ")+" "+le("ContractID")]}),!1):(G.alert({open:!0,color:"warning",message:[ae("Please select the ")+" "+le("MatProcessTypeID")]}),!1);return n().createElement("div",{className:"SubContent_1"},n().createElement(m.Z,{expanded:h,onChange:()=>()=>{e.expandTable&&T(!h)}},!w&&n().createElement(p.Z,null,n().createElement(s.Z,{container:!0},n().createElement(u.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("span",{style:{cursor:"pointer"}},n().createElement(E.u1R,{className:"backButtonList",onClick:()=>{G.ShowTableDiv(),G.RefreshTable()}})),n().createElement("p",{className:"DListP"},Z.IsDraft?"Draft ":"",le("345"))),n().createElement(S(),{id:345,cstate:Z,cdispatch:O,context:G,parentId:N[0]?.MaterialIssueIDPK,parentData:{},model:"IsView",sentToAppr:!0}))))),n().createElement(d.Z,{style:{display:"block"}},N.map(((e,t)=>n().createElement("div",{key:t},n().createElement(f.Z,{tableName:"MaterialIssueRegistry",tableID:345,parentID:e.MaterialIssueIDPK,fldid:"fld345L3VCContainer",OpenSlideComponent:ne,index:t,val:e,tf:le,t:ae,title:"10.0.0.44-10:48:15 AM-30-5[345]"}))))),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&Z.AccessRights.IsAdd&&n().createElement(i.Z,{className:"L1AddBtnCommon",onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:[]}),O({type:"PrimaryId",payload:Z.editData[0].MaterialIssueIDPK})},disabled:!1}),Z.IsDraft&&n().createElement(o.Z,{onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:N}),O({type:"PrimaryId",payload:Z.editData[0].MaterialIssueIDPK})},disabled:!1}),n().createElement(C.Z,{name:Z.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld345L3ECSaveBtnApprovalStatus",onClick:()=>{re()}}))))}))}}]);