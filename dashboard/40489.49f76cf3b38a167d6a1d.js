"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[40489],{40489:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(92950),s=a.n(n),l=a(71168),i=a.n(l),r=a(49375),o=a(14439),c=a(27848),d=a(40900),u=a(24522),m=a(25108);const g=[{name:"PPMGeneration",id:0,active:"btnactvtab",width:"25%"}],f=function(e){const{classes:t}=e,a=(0,n.useRef)(null),[l,f]=(0,n.useState)(""),[p,b]=(0,n.useState)(""),[h,M]=(0,n.useState)([]),[P,v]=(0,n.useState)([]),[E,y]=(0,n.useState)(0),[S,w]=(0,n.useState)([]),[G,C]=(0,n.useState)({}),[I,N]=(0,n.useState)(!0),[O,x]=(0,n.useState)(!1),[k,D]=(0,n.useState)(g),[T,_]=i()("780");function B(t){if("200"!=t.Output.status.code)return e.loading(!1),e.alertmsg({open:!0,color:"error",message:[t.Output.status.message]}),!1;{a.current.conflictStage(),e.loading(!0);const n={PPMGeneration:{setter:w}};Object.keys(t.Output.data).forEach((e=>{const a=t.Output.data[e],s=a.filter((e=>"1"===e.IsConflict));s.length>0&&F(0,s.length),w(a),e in n&&n[e].setter(a)})),e.loading(!1)}}const F=(e,t)=>{const a=g.filter((t=>t.id==e)),n={name:a[0].name,id:a[0].id,active:a[0].active,width:a[0].width,IsConflict:"1",count:t},s=[...newTabarr],l=s.findIndex((t=>t.id==e)),i=s[l];s.splice(l,1,{...i,...n}),newTabarr=s,D(s)};return s().createElement("div",null,s().createElement("div",{id:"PPMGenerationMig-MainDiv",className:"MainDivStyles displayFlex"},s().createElement("div",{id:"PPMGenerationMig-MainEntry",className:"Maincontent",style:{width:"100%"}},s().createElement(o.Z,null,s().createElement(c.Z,{sm:12},s().createElement(r.Z,{MigType:"PPMGenerationMigration",alertmsg:t=>e.alertmsg(t),conflictFinalData:{PPMGeneration:S},data:e=>B(e),reset:()=>(w([]),N(!0),x(!1),D(g),f(""),void b("")),filename:e=>f(e),fileData:e=>b(e),importSave:t=>function(t){if(!p)return e.alertmsg({open:!0,color:"error",message:["Kindly Upload file to Import"]}),!1;e.loading(!0);let a=new FileReader;a.readAsDataURL(p[0]),a.onload=()=>{let a=d.v.Api+"uploadExcel/",n=new FormData;n.append("uploadExcel",p[0]),fetch(a,{method:"POST",headers:{"x-userid":localStorage.getItem("userid"),"mig-type":"PPMGenerationMigration","mig-btn-type":t,FORM_ID:1},body:n}).then((e=>e.json())).then((a=>{"200"==a.Output.status.code?(B(a),e.loading(!1),e.alertmsg({open:!0,color:"Success",message:[a.Output.status.message]}),"process"!=t&&(f(""),b(""))):(e.loading(!1),e.alertmsg({open:!0,color:"error",message:[a.Output.status.message]}))})).catch((t=>{e.loading(!1),m.error(t)}))}}(t),NameFile:l,excelfile:d.v.excel+"PPMGeneration.xlsx",SheetCount:1,ref:a,importdisabled:k.filter((e=>"1"==e.IsConflict)).length>0}))),s().createElement("div",{className:"PPMGenerationMig-formtabs formtabs"},k.map(((e,t)=>s().createElement("button",{key:t,disabled:!1,style:{width:e.width,background:"1"==e.IsConflict?"#fad6a5":"#fff"},className:e.active+" secondaryMenuBtn ",onClick:()=>function(e){var t=g.length;for(let e=0;e<t;e++)document.getElementsByClassName("PPMGenerationMig-formtabs")[0].getElementsByTagName("button")[e].classList.remove("btnactvtab");document.getElementsByClassName("PPMGenerationMig-formtabs")[0].getElementsByTagName("button")[e].classList.add("btnactvtab"),y(e)}(e.id)},e.name,s().createElement("span",null," "),s().createElement("span",null,Number(e.count)>0?"("+e.count+")":""))))),0==E&&s().createElement(u.Z,{tableData:S,TableVisibleItem:h,TableBodyItem:P}))))}}}]);