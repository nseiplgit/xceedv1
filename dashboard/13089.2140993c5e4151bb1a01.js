"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[13089],{13089:(e,t,n)=>{n.d(t,{Z:()=>D});var a=n(92950),l=n.n(a),i=n(79895),r=n(82302),d=n(99613),o=n(88222),s=n(56847),c=n(83750),m=n(57394),u=n(77256),p=n(49174),h=n(99173),y=n(88995),b=n(39431),g=n(868),f=n(59067),E=n(20067),S=n(51115),x=n(25281),v=n(66037),Z=n(17812),w=n(80366),C=n(30553),k=n(13258),T=(n(10635),n(87429),n(52795)),I=n(25108);window.headercellid="";const N=(0,a.forwardRef)(((e,t)=>{const{order:n,orderBy:i,onRequestSort:r,headCells:d,isDraft:s,TableSearchParams:b}=e,[g,f]=(0,a.useState)({}),[E,S]=(0,a.useState)({}),x=["By","Contact","NROT","COT","SNA","VIA","Remarks","Date","UserName","Status","No","Total","Rate","Cnt","Time","Type","Code","Amount","Quantity","Unit","Is","TAT","Cost","Number"],[v,Z]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Object.keys(b).map((e=>{f({...g,[e]:!!b[e]})})),S(b)}),[b],e.height),(0,a.useImperativeHandle)(t,(()=>({clearValue:e=>{D(!0,e)}})));const I=(e,t,n)=>{f({...g,[t]:!g[t]}),setTimeout((function(){var e=document.getElementById(n+"headcell");e&&(e.focus(),document.getElementById(n+"headcell").onclick=function(e){e.stopPropagation()})}),1e3),e.stopPropagation()},N=(t,n)=>{window.headercellid=n,0===t.length&&e.value({...E,[n]:""}),S({...E,[n]:t})},D=(t,n)=>{t&&(N("",window.headercellid),I(n,window.headercellid),e.value({...E,[window.headercellid]:""},"clear"))};return l().createElement(T.Z,{onClickAway:()=>{f({})}},l().createElement(c.Z,null,l().createElement(m.Z,null,"none"==e.action?null:!0===e.isexpanded&&!e.IsSub&&l().createElement(o.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:"80px"}},l().createElement("span",{className:"trAction"},"Action")),e.IsDrag&&l().createElement(o.Z,{className:"StyledTableCellHeadStyles tbdrg"},l().createElement(C.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:l().createElement(k.Z,{style:{padding:"6px"},icon:l().createElement(w.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:l().createElement(w.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:v,onChange:t=>{e.RemoveAll()}}),label:""})),d.map((t=>{return l().createElement(o.Z,{className:"StyledTableCellHeadStyles "+(s?"draftColor":"listColor"),key:t.id,sortDirection:i===t.id&&n,style:{minWidth:x.some((e=>t.id.toLowerCase().includes(e.toLowerCase())))?g[t.id]?"155px":"185px":e.colwid?e.colwid:"180px",textAlign:"Is"==t.id.slice(0,2)?"center":"left"}},g[t.id]?t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt")?l().createElement(p.Z,{value:E[t.id],label:t.name,onChange:n=>{N(n,t.id),e.value({...E,[t.id]:n,[t.id+"Type"]:"Date"})}}):l().createElement(h.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{N(e,t.id,t.type)},disabled:!1,value:-1===E[t.id]?.indexOf("%")?E[t.id]:E[t.id]?.replace(/[%]/g,""),clear:(n,a)=>{n&&(N("",t.id),I(a,t.id),e.value({...E,[t.id]:""}))},mandatory:!1,keyPress:!0,onKeyPress:n=>{e.value({...E,[t.id]:"Number"==t.type?n:"%"+n+"%"})}}):E[t.id]?"Date"==t.type?l().createElement(p.Z,{value:E[t.id],Label:t.name,onChange:n=>{N(n,t.id),e.value({...E,[t.id]:n,[t.id+"Type"]:"Date"})}}):l().createElement(h.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{N(e,t.id,t.type)},disabled:!1,value:-1===E[t.id]?.indexOf("%")?E[t.id]:E[t.id]?.replace(/[%]/g,""),clear:(n,a)=>((t,n,a)=>{t&&(N("",a.id),I(n,a.id),e.value({...E,[a.id]:""}))})(n,a,t),isDraft:s,mandatory:!1,keyPress:!0,onKeyPress:n=>{e.value({...E,[t.id]:"Number"==t.type?n:"%"+n+"%"})}}):l().createElement(u.Z,{"filter-title":"Sort",active:i===t.id,direction:i===t.id?n:"asc",onClick:(a=t.id,e=>{r(e,a)})},l().createElement("p",{style:{width:"max-content"}},t.name?t.name.replace(/([A-Z])\s(?=[A-Z]\b)/g,"$1"):""),i===t.id?l().createElement("span",{className:"visuallyHidden"},"desc"===n?"sorted descending":"sorted ascending"):null,!g[t.id]&&"Is"!==t.id.substring(0,2)&&!E[t.id]&&(!s&&(t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt"))?null:!e.searchdisabled&&!s&&l().createElement(y.Z,{className:"tableHeadersearch",onClick:e=>I(e,t.id,t.name)}))));var a})))))})),D=(0,a.forwardRef)(((e,t)=>{const n=(0,a.useRef)(null),[c,u]=(0,a.useState)("asc"),[p,h]=(0,a.useState)(""),[y,T]=l().useState(""),[D,A]=(0,a.useState)(!1),[B,R]=(0,a.useState)({}),[z,O]=(0,a.useState)({}),[P,H]=(0,a.useState)(!1),[V,F]=(0,a.useState)([]),[L,_]=(0,a.useState)({x:0,y:0}),[W,$]=(0,a.useState)(!1),[q,K]=(0,a.useState)(null);function U(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function j(e,t){if(t.toLowerCase().indexOf("password")>-1){var n="";for(let t=0;t<e.length;t++)n+="*";return n}return e}return(0,a.useEffect)((()=>()=>{window.open="",A(!1)}),[]),(0,a.useImperativeHandle)(t,(()=>({clearItem:e=>{n.current.clearValue(e)},open:()=>{I.log("of open"),window.open="",A(!1)}}))),l().createElement(s.Z,{component:i.Z,className:"tablecontainer2 scrollY",style:{height:e.height?e.height:e.IsSub?"auto":"60vh",marginTop:"5px"},onDrop:function(t){t.preventDefault();var n=t.dataTransfer.getData("ppmStaff");e.OnDrop(JSON.parse(n))},onDragOver:function(e){e.preventDefault()}},l().createElement(r.Z,{stickyHeader:!0,id:"Header"+e.id},l().createElement(N,{order:c,orderBy:p,onRequestSort:(e,t)=>{u(p===t&&"asc"===c?"desc":"asc"),h(t)},headCells:e.headerdata,isDraft:e.isdraft,value:e.searchvalue,action:e.action,TableSearchParams:e.tablesearchparams,isexpanded:e.isexpanded,ref:n,colwid:e.colwid,minWidth:e.minWidth,IsDrag:e.IsDrag,RemoveAll:e.RemoveAll,searchdisabled:e.searchdisabled}),l().createElement(d.Z,null,function(e,t){const n=e.map(((e,t)=>[e,t]));return n.sort(((e,n)=>{const a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((e=>e[0]))}(e.bodydata,function(e,t){return"desc"===e?(e,n)=>U(e,n,t):(e,n)=>-U(e,n,t)}(c,p)).map(((t,n)=>l().createElement(l().Fragment,null,l().createElement(m.Z,{key:n,style:{background:t.IsConflict?"#fad6a5":""},onDoubleClick:a=>{if(I.log("onDoubleClick"),e.IsSub&&!e.EditSub)return e.onDoubleClick&&e.edit(t,e.isdraft,!0),!1;"none"!=e.edit&&e.edit(t,e.isdraft,!0),e.expanded(!0),(e=>{var t=document.querySelectorAll(".MuiTableRow-root");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";setTimeout((function(){document.getElementById(e)&&(document.getElementById(e).style.background="#e3e4e9")}),500)})(e.id+n),!0===e.isexpanded&&document.getElementById(e.id)},id:e.id+n},e.IsDrag&&l().createElement(o.Z,{className:"StyledTableCellBodyStyles tbdrg"},l().createElement(C.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:l().createElement(k.Z,{style:{padding:"6px"},icon:l().createElement(w.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:l().createElement(w.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:!0,onChange:n=>{e.DraglistRw(t)}}),label:""})),"none"==e.action?null:!0===e.isexpanded&&l().createElement(o.Z,{className:"StyledTableCellBodyStyles",style:{display:"flex"}},e.IsView&&e.tableExp&&l().createElement(Z.Z,{"aria-label":"expand row",size:"small",onClick:()=>{var e;y===(e=n)?(T(""),A(!1)):(T(e),A(!0))}},y===n?l().createElement(x.Z,null):l().createElement(S.Z,null)),e.accessrights.IsView&&e.viewOnly&&l().createElement(g.ZP,{title:"View",placement:"top"},l().createElement(E.Z,{className:"Viewtablecls",onClick:()=>{e.edit(t,e.isdraft,!0),e.expanded(!0),e.viewtoggle()}})),e.accessrights.IsEdit&&e.editOnly&&l().createElement(g.ZP,{title:"Edit",placement:"top"},l().createElement(f.Z,{className:"Edittablecls",onClick:()=>{e.edit(t,e.isdraft,!1),e.expanded(!0)}}))),e.bodyitem.map(((n,a)=>{let i=e.visibleitem.filter((e=>e.id==n));return"Is"==n.slice(0,2)?l().createElement(o.Z,{className:"StyledTableCellBodyStyles",key:a,style:{textAlign:"center"}},l().createElement(b.Z,{checked:"1"==t[n],disabled:!0})):"FilePath"==n?l().createElement(o.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[n]:""}`,key:a},l().createElement("img",{src:t[n],alt:t[n],width:"90",height:"80"})):i.length>0?l().createElement(o.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[n]:""}`,key:a,style:{textAlign:"numeric"==i[0].type||"smallint"==i[0].type||"int"==i[0].type?"right":"left"}},j(t[n],n)):l().createElement(o.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[n]:""}`,key:a},j(t[n],n))}))),l().createElement(m.Z,{key:"view"+n},l().createElement(o.Z,{style:{paddingBottom:0,paddingTop:0,paddingLeft:0,borderLeft:"20px solid #ccc"},key:"cell"+n,colSpan:8},l().createElement(v.Z,{in:y===n,timeout:"auto",unmountOnExit:!0},e.IsView&&e.ViewComp(D,t))))))))))}))},30662:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(23645),l=n.n(a)()((function(e){return e[1]}));l.push([e.id,".loadingRoot{\n    width:100%;\n    height:100%;\n    z-index:99;\n    position:fixed;\n    background:#fff;\n    opacity:0.7;\n}\n\n.tablecontainer {\n    max-height: 62vh !important;\n    height: auto;\n    min-height: 10vh !important;\n    box-shadow: none;\n    border: 1px solid #e3e4e9;\n}\n.tablecontainer1 {\n    max-height: 62vh !important;\n    height: auto;\n    min-height: 10vh !important;\n    box-shadow: none;\n    border: 1px solid #e3e4e9;\n}\n.tablecontainer2 {\n    max-height: 60vh !important;\n    height: auto;\n    min-height: 10vh !important;\n    box-shadow: none;\n    border: 1px solid #e3e4e9;\n}\n\n.visuallyHidden{\n    border: 0;\n    clip: rect(0 0 0 0);\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    top: 20px;\n    width: 1px;\n    color: #fff;\n}\n.draftColor {\n    backgroundColor: #fff !important;\n}\n.listColor{\n    backgroundColor: #fff !important;\n}\n.SublistColor{\n    /* background-color: var(--tabBlue) !important; */\n    background-color: #F4C430 !important;\n}\n@media screen and (max-height: 800px) {\n    .tablecontainer {\n        max-height: 60vh !important;\n    }\n    .tablecontainer2{\n        max-height: 55vh !important;\n    }\n}\n@media screen and (max-height: 700px) {\n    .tablecontainer2{\n        max-height: 49vh !important;\n    }\n}\n",""]);const i=l},87429:(e,t,n)=>{var a=n(93379),l=n.n(a),i=n(7795),r=n.n(i),d=n(90569),o=n.n(d),s=n(3565),c=n.n(s),m=n(19216),u=n.n(m),p=n(44589),h=n.n(p),y=n(30662),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=o().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u(),l()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals}}]);