/*! For license information please see 9994.bdbb1729d44e18d5f3df.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[9994,7164,6408],{45332:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(22122),r=a(81253),n=a(85061),s=a(92950),i=a(86010),o=a(26956),d=a(52543),c=a(83711),p=function(e,t){var a,l,r,s;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,n.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,n.Z)(t.imgFullHeight.split(" ")))):((r=e.classList).remove.apply(r,(0,n.Z)(t.imgFullHeight.split(" "))),(s=e.classList).add.apply(s,(0,n.Z)(t.imgFullWidth.split(" ")))))},u=s.forwardRef((function(e,t){var a=e.children,n=e.classes,d=e.className,u=(e.cols,e.component),m=void 0===u?"li":u,g=(e.rows,(0,r.Z)(e,["children","classes","className","cols","component","rows"])),y=s.useRef(null);return s.useEffect((function(){!function(e,t){e&&(e.complete?p(e,t):e.addEventListener("load",(function(){p(e,t)})))}(y.current,n)})),s.useEffect((function(){var e=(0,o.Z)((function(){p(y.current,n)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[n]),s.createElement(m,(0,l.Z)({className:(0,i.default)(n.root,d),ref:t},g),s.createElement("div",{className:n.tile},s.Children.map(a,(function(e){return s.isValidElement(e)?"img"===e.type||(0,c.Z)(e,["Image"])?s.cloneElement(e,{ref:y}):e:null}))))}));const m=(0,d.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(u)},69685:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(22122),r=a(81253),n=a(92950),s=(a(59864),a(86010)),i=a(52543),o=n.forwardRef((function(e,t){var a=e.cellHeight,i=e.children,o=e.classes,d=e.className,c=e.cols,p=void 0===c?2:c,u=e.component,m=void 0===u?"ul":u,g=e.gap,y=void 0===g?4:g,S=e.rowHeight,D=void 0===S?180:S,I=e.spacing,E=e.style,P=(0,r.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),f=I||y,v=a||D;return n.createElement(m,(0,l.Z)({className:(0,s.default)(o.root,d),ref:t,style:(0,l.Z)({margin:-f/2},E)},P),n.Children.map(i,(function(e){if(!n.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return n.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/p*t,"%"),height:"auto"===v?"auto":v*a+f,padding:f/2},e.props.style)})})))}));const d=(0,i.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(o)},83173:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),s=(0,l(a(2108)).default)(n.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=s},92448:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),s=(0,l(a(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=s},93657:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),s=(0,l(a(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=s},53375:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),s=(0,l(a(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=s},85984:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),s=(0,l(a(2108)).default)(n.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=s},92381:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(40900),r=a(26537),n=a(61956),s=a(35131),i=a.n(s),o=a(25108);function d(e,t,a,s){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":r.Z.TokenIDPK,"x-tokenname":r.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return o.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:s,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:i()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:i()().format("YYYY-MM-DD hh:mm:ss")}]};(0,r.Z)(0).then((t=>{(0,n.Z)(e,d,t).then((e=>{200==e[0].status.code?o.log(e,"RES"):o.log("Error")}))}))}}},8687:(e,t,a)=>{function l(e,t,a,l,r,n){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let s=e.Output.data[0];t({type:"IsDraft",payload:a}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:a}),r.ExpandDetail(!1),l?r.AddOpen(s[n],a):t({type:"editData",payload:[s]}),r.loading(!1)}}else r.loading(!1),r.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){r.loading(!1),r.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{m:()=>l})},67225:(e,t,a)=>{a.d(t,{hm:()=>ze,kN:()=>Me,ZP:()=>Ke});var l=a(92950),r=a.n(l),n=(a(95866),a(45237)),s=a(36939),i=a(61201),o=a(59009),d=a(51673),c=(a(99058),a(80366)),p=a(282),u=a(868),m=a(78513),g=a(14439),y=a(27848),S=a(40900),D=a(64059),I=a(24038),E=a(8981),P=a(47516),f=a(86893),v=a(33681),h=a(63163),O=a(35131),C=a.n(O),G=a(61956),A=a(93657),w=a(53375),b=a(52663),N=a(66083),T=a(29525),x=a(66856),F=a(39803),R=a(99940),B=a(17149),k=a(62810),Z=a(30553),L=a(92381),z=a(25108);const M=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,s]=(0,l.useState)([]),[i,o]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,C]=(0,l.useState)(""),[G,M]=(0,l.useState)({}),[K,V]=(0,l.useState)(!0),[U,_]=(0,l.useState)(!1),{cstate:H,cdispatch:Y}=e.ContextApi?e.ContextApi:Me(),[j,$]=(0,l.useState)(1),[W,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,re]=(0,l.useState)(!0),[ne,se]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(""),[de,ce]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[me,ge]=(0,l.useState)(!1),[ye,Se]=(0,l.useState)(""),De=(0,l.useRef)(null),[Ie,Ee]=(0,l.useState)({});let Pe=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,E.Z)();const he=e=>ve[e]?ve[e]:e,Oe=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Pe]];function Ce(){M({}),ee({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ee(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ce()}})));const Ge=async(t,a,l,r)=>{Q(!0);try{De.current&&De.current.abort();const i=new AbortController;De.current=i;let c="",p=[],u={};await o((e=>(c=e.name,e))),await M((e=>(p=e,e))),await ee((e=>(u=e,e)));const m=S.v.Api+"FP67S3/",g={data:{p1:"SOPGroupDetailIDPK"==a?null:await Te(),p2:"SOPGroupDetailCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:e.parentId?e.parentId:"0",p6:"SOPName"!=c&&p.SOPName?p.SOPName.map((e=>e.SOPIDPK)).toString():null,p7:e.Dialogview?"1":null,p8:null,p9:"p9"==c&&l.length>0?l:null,p10:null,p11:null,p12:null,p13:null,p14:"UserCode"==c&&l.length>0?"%"+l+"%":null,p15:"UserName"==c&&l.length>0?"%"+l+"%":null,p16:"GroupName"==c&&l.length>0?"%"+l+"%":null,p17:"SOPGroupCode"==c&&l.length>0?"%"+l+"%":null,p18:"SOPCode"==c&&l.length>0?"%"+l+"%":null,p19:"SOPName"==c&&l.length>0?"%"+l+"%":null,p20:"FirstName"!=c&&p.FirstName?p.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p21:"EmployeeCode"==c&&l.length>0?"%"+l+"%":null,p22:"FirstName"==c&&l.length>0?"%"+l+"%":null,p23:r||1,p24:10,p25:t,p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}},y=await(0,d.Z)(m,g,e.token,"",i.signal);if(!y)return!1;const D=y.Output.status.code,I=y.Output.data;if("200"===D)if(I.length>0)if(1===r){let e=we(I,c),t=Ae(e,G[c],a);s(t),J(t.length>0?t[0].TotalCount:G[c].length)}else{let e=[...n,...I],t=we(e,c);J(t.length<10?t.length:I[0].TotalCount),s(we(t,c))}else O.length>0&&s([]),J(n.length);else e.alertmsg("error",[y.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Ae=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),we=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function be(e){let t=e+"PK",a=Ie[e];if(a){const e=a.flatMap((e=>G[e]?G[e].map((e=>e[t])):[]));return e.toString()}return""}const Ne=async t=>{let a="",l={};await M((e=>(a=e,e)));let r=[...te],n=[];for(let e of r){let t=a[e]?.map((e=>e.SOPGroupDetailIDPK)).toString();t&&n.push(t)}await ee((e=>(l=e,e)));let s={SOPGroupDetailIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",SOPID:be("SOPID"),SOPGroupID:be("SOPGroupID")};"saveFav"==t?Re("save",s):(e.searchData(s),_(!1))};async function Te(){let e={};await M((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.SOPGroupDetailIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function xe(t,a,l,r,n,s){let i={[r]:{From:t,Type:l,To:a}},o={};ee((e=>({...e,...i})));const d={...G};let c=[...te],p=[];for(let e of c){let t=d[e]?.map((e=>e.SOPGroupDetailIDPK)).toString();t&&p.push(t)}await ee((e=>(o=e,e)));let u={SOPGroupDetailIDPK:p?[...new Set(p)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,SOPID:G.SOPName?.map((e=>e.SOPIDPK)).toString(),SOPGroupID:G.GroupName?.map((e=>e.SOPGroupIDPK)).toString()};e.searchData(u)}function Fe(){return r().createElement(D.Z,{frmctrlid:"fld67L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{xe(e,t,a,i.name,l)},keyboardback:()=>{_(!1),o({idpk:"",name:"",type:"",fieldidpk:""})},title:he(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Re=(t,a)=>{(0,L.Z)(t,e.formID,a,ie).then((e=>{const t=e.Output.data;Se(t)}))};return r().createElement("div",null,r().createElement(b.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},r().createElement(N.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),r().createElement(T.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(F.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>oe(e.target.value),fullWidth:!0})),r().createElement(Z.Z,{style:{color:"#337ab7"},control:r().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Quick"}),r().createElement(Z.Z,{style:{color:"#337ab7"},control:r().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),r().createElement(x.Z,null,r().createElement(p.Z,{onClick:()=>{Ne("saveFav"),ce(!1)},color:"primary"},"Save"))),U?"Created Ttm"===i.name||i.name.includes("Date")?r().createElement(Fe,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(g.Z,null,r().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Oe(i.idpk)," (",n.length,"/",W,")")),r().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(u.ZP,{title:he("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(c.Z,{id:"fld67L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),o({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),G[i.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(p.Z,{frmctrlid:"fld67L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await M((t=>(e=t,z.log("clear fewItems",e),t))),e[i.name]=[],Ge(i.type,i.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},K?r().createElement(u.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(f.D7o,{className:"FilterMaximizeIcon",onClick:()=>{V(!1)}}))):r().createElement(u.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(f.dOw,{className:"FilterMaximizeIcon",onClick:()=>{V(!0)}})))),r().createElement("ul",null,G[i.name]&&G[i.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[i.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{$(1);let a=G[i.name].filter((t=>t!=e)),l={};await M((e=>(l=e,e))),l[i.name]=a,M(l),s((t=>[e,...t]))})(e)},r().createElement(c.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(I.Z,{frmctrlid:"fld67L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:he("Enter ")+" "+Oe(i.idpk),onChange:e=>{C(e),Ge(i.type,i.fieldidpk,e,1,Te())}})),r().createElement("div",{id:"fld67L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ne},r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(p.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(v.Z,{color:"secondary"})),r().createElement("div",{id:"fld67L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await M((e=>(l=e,e)));let r=l[i.name];t[i.name]=r?[...a,...r]:a,l={...l,...t},M(l),s((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(m.Z,{className:"DotIcon"}),r().createElement("span",null,e[i.name])))),n.length+0<W&&n.length>0&&r().createElement("div",{id:"fld67L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(j+1),Ge(i.type,i.fieldidpk,"",j+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:S.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(P.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",ie.length>0&&`(${ie})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(u.ZP,{title:"Favorite List",placement:"top"},ne?r().createElement(c.Z,{className:"favlisticon",onClick:()=>{se(!1),Se(""),Ce()}}):r().createElement(A.Z,{className:"favlisticon",onClick:()=>{se(!0),Re("select"),Ce()}})),Object.keys(G).length>0&&r().createElement(u.ZP,{title:"Save Favorites",placement:"top"},r().createElement(w.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(p.Z,{className:"ColumnApplyButton",onClick:()=>{Ce()},id:"fld67L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(p.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld67L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld67L1TFCFilItems",className:"FilterItems"},!ye&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),C(""),s([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"SOPGroupDetailIDPK";o({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterSOPGroupDetailID",fieldidpk:t}),Ge(e.IsForeign?"Filter"+e.FieldName:"FilterSOPGroupDetailID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Oe(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Oe(e.AdminUserGridViewIDPK)),r().createElement(h.Z,{checked:"1"==le,onChange:t=>{re(t.target.checked),xe("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Oe(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,G[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},G[a][0][a]),G[a].length>1&&r().createElement("span",{className:"RoundedDivName"},G[a][1][a]),G[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(G[a].length-2))))));var a})),ye&&ye.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ge("FilterSOPGroupDetailID",a),Ne("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));var K=a(54180),V=a(43031),U=a(85639),_=a(110),H=a(5109),Y=a(88995),j=a(50743),$=a(61657),W=a(51209),J=a(53854),q=a(51649),Q=a(37106),X=a(5434),ee=a(83817),te=a(39327),ae=a(3212),le=a(93521),re=(a(79117),a(71168)),ne=a.n(re),se=a(65107),ie=a(94986),oe=a(15999);a(11557),window.clickFilter="";const de=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),p=(0,l.useRef)(null),[m]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g]=(0,l.useState)("67"),[y,D]=(0,l.useState)(!1),[v,h]=(0,l.useState)(!1),[O,C]=(0,l.useState)(0),[G,A]=(0,l.useState)(0),[w,b]=(0,l.useState)(0),[N,T]=(0,l.useState)(0),[x,F]=(0,l.useState)({current:1,pageSize:100}),[R,B]=(0,l.useState)(""),[k,Z]=(0,l.useState)([]),[L,z]=(0,l.useState)({val:"",column:""}),[re,de]=(0,l.useState)([]),[ce,pe]=(0,l.useState)(!1),[ue,me]=(0,l.useState)(""),[ge,ye]=(0,l.useState)(""),[Se,De]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)([]),[Pe,fe]=(0,l.useState)([]),[ve,he]=(0,l.useState)([]),[Oe,Ce]=(0,l.useState)({children:[{name:"AssSOPGroupDetails",children:[]}]}),[Ge,Ae]=(0,l.useState)(!1),we=(0,l.useContext)(e.context?e.context:ze),{cstate:be,cdispatch:Ne}=e.ContextApi?e.ContextApi:Me();let Te={SOPGroupDetailIDPK:"",SOPGroupDetailCode:"",IsDraft:"",Remarks:"",SOPGroupID:"",SOPID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",UserCode:"",UserName:"",GroupName:"",SOPGroupCode:"",SOPCode:"",SOPName:"",EmployeeID:"",EmployeeCode:"",FirstName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[xe,Fe]=(0,l.useState)(Te),[Re,Be]=(0,l.useState)(Te),[ke,Ze]=(0,l.useState)(!1),[Le,Ke]=(0,l.useState)(!0),[Ve,Ue]=(0,l.useState)(!1),[_e,He]=(0,l.useState)(!0),[Ye,je]=(0,l.useState)({SOPName:"",SOPGroupDetailCode:"",GroupName:""}),[$e,We]=(0,l.useState)(!1),[Je,qe]=(0,l.useState)([]),[Qe,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[rt,nt]=(0,l.useState)([]),[st,it]=(0,l.useState)([]),[ot,dt]=(0,l.useState)(!1),[ct,pt]=(0,l.useState)(!1),[ut,mt]=(0,l.useState)(!1),[gt,yt]=(0,l.useState)(""),[St,Dt]=ne()("67"),[It,Et]=(0,l.useState)({}),Pt=[{columns:rt,data:R}];let ft=(0,E.Z)();const vt=e=>ft[e]?ft[e]:e,ht=e=>be.language?.[e]?be.language[e]:e;(0,l.useEffect)((()=>{Nt(St)}),[St]),(0,l.useEffect)((()=>{be.token.length>0&&(e.parentId?wt(x,Te,"SOPGroupDetailID"):de([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ge&&e.parentId?wt(x,ue,"SOPGroupDetailID"):Ge&&Be(ue)}),[ue]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Ot(e)},tableRefresh:()=>{wt(x,Te,"SOPGroupDetailID")},DialogTableProps:e=>{h(e)},HideEntryFields:e=>{mt(!0===e)}})));const Ot=e=>{""==e?wt(x,Te,ke?"DraftSOPGroupDetailID":"SOPGroupDetailID",ke&&"DraftPage"):bt(e,{current:1,pageSize:100}),ye(e)};function Ct(t){we.loading(!0);let a=S.v.Api+"FP67S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,l,be.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),qe(e.Output.data),we.loading(!1)}}))}function Gt(e,t){Ne({type:"editData",payload:[t]}),Ne({type:"IsDraft",payload:ke}),Ne({type:"ShowDetail",payload:!0}),we.Expanded(!0),Ve&&De(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&He(e.cardview),e.Dialogview&&(h(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const At=()=>{we.EditClose(!0),ce?(document.getElementById("AssSOPGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AssSOPGroupDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AssSOPGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",pe(!1),_e?(v||(document.getElementById("AssSOPGroupDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("AssSOPGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSOPGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AssSOPGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AssSOPGroupDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AssSOPGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",pe(!0),document.getElementById("AssSOPGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),De(!1),window.clickFilter=!ce},wt=(t,a,l,r,n,s)=>{we.loading(!0),"DraftPage"!==r&&Ze(be.IsDraft);let i=S.v.Api+"FP67S3/",o={data:{p1:n||(a&&a.SOPGroupDetailIDPK?a.SOPGroupDetailIDPK:null),p2:a&&a.SOPGroupDetailCode?a.SOPGroupDetailCode:null,p3:"DraftSOPGroupDetailID"==l?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:a&&a.SOPID?a.SOPID:null,p7:a&&a.IsActive,p8:null,p9:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p10:a&&a.CreatedTtm?a.CreatedTtm:null,p11:a&&a.CreatedTtmType?a.CreatedTtmType:null,p12:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p13:null,p14:a&&a.UserCode?a.UserCode:null,p15:a&&a.UserName?a.UserName:null,p16:a&&a.GroupName?a.GroupName:null,p17:a&&a.SOPGroupCode?a.SOPGroupCode:null,p18:a&&a.SOPCode?a.SOPCode:null,p19:a&&a.SOPName?a.SOPName:null,p20:a&&a.EmployeeID?a.EmployeeID:null,p21:a&&a.EmployeeCode?a.EmployeeCode:null,p22:a&&a.FirstName?a.FirstName:null,p23:n?1:t.current,p24:t.pageSize,p25:l,p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}};(0,d.Z)(i,o,be.token[0]).then((i=>{if(n)(0,ee.a)(i,Ne,r,s,we);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,b(i.Output.data[0].TotalCount),T(i.Output.data[0].DraftCnt),Ne({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==r&&T(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?A(Math.ceil(e)):20==t.pageSize?A(Math.ceil(e/2)):50==t.pageSize?A(Math.ceil(e/5)):100==t.pageSize&&A(Math.ceil(e/10)),de(i.Output.data),we.loading(!1)}e.Dialogview||(document.getElementById("divAssSOPGroupDetails-Entry").style.height="auto",document.getElementById("divAssSOPGroupDetails-Entry").style.display="block")}else we.loading(!1),"DraftSOPGroupDetailID"===l?(we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),Ze(!1)):(de([]),F({current:1,pageSize:10}),A(0),b(0),Ne({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&we.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else we.alert({open:!0,color:"warning",message:[i.Output.status.message]}),we.loading(!1)}))};function bt(t,a){we.loading(!0);const l=S.v.Api+"FP67S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:ke?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,r,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),Ne({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?A(Math.ceil(t)):20==a.pageSize?A(Math.ceil(t/2)):50==a.pageSize?A(Math.ceil(t/5)):100==a.pageSize&&A(Math.ceil(t/10)),de(e.Output.data),we.loading(!1)}else de([]),A(0),b(0),Ne({type:"count",payload:"0"}),we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1);else we.alert({open:!0,color:"warning",message:[e.Output.status.message]}),we.loading(!1)}))}function Nt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Ne({type:"language",payload:Object.assign({},...r)}),je(a.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),fe(t),he(a),nt(l),it(a)}const Tt=()=>Ge?null:r().createElement("div",null,$e?r().createElement(ie.Z,{data:Je,expanded:e=>!v&&we.Expanded(e),edit:(e,t,a)=>{v?we.select(e):(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:t}),Ne({type:"ShowDetail",payload:a}))}}):r().createElement(se.Z,{ref:p,frmctrlid:"tblcs_67_L1_",id:"AssSOPGroupDetailsTable",headerdata:Pe,tablesearchparams:Ye,searchvalue:e=>{je(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Et(t),F({current:1,pageSize:10}),wt({current:1,pageSize:10},t,ke?"DraftSOPGroupDetailID":"SOPGroupDetailID",ke&&"DraftPage")},bodydata:re,ondrag:Gt,bodyitem:ve,visibleitem:Pe,isdraft:ke,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:g,showMore:!1,accessrights:be.AccessRights,expanded:e=>!v&&we.Expanded(e),edit:(e,t,a)=>{v?we.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&wt(x,null,t?"DraftSOPGroupDetailID":"SOPGroupDetailID",t&&"DraftPage",e[l],a)})),we.hideAddBtn(!0))},viewtoggle:we.viewtoggle,isexpanded:!v||Ve,tf:ht,action:v?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ue(be.ExpandTableValue)}),[be.ExpandTableValue]),r().createElement("div",null,!ut&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld67L1ECSearchBar",className:"searchbar1"},r().createElement(I.Z,{frmctrlid:"fld67L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:vt("Search"),value:ge,onChange:e=>{ye(e),we.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ge?r().createElement("div",{id:"fld67L1TCCloseIconCommonSearch",onClick:()=>{ye(""),we.searchItem("")}},r().createElement(c.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld67L1TCInputSearchIcon"},r().createElement(Y.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("AssSOPGroupDetailsgridsearch").focus()}})))),r().createElement("div",null,be.AccessRights.IsAdd?r().createElement(ae.Z,{className:"SaveBtnCommon",frmctrlid:"fld67L1TCAddBtnIsAdd",onClick:()=>{we.hideAddBtn(!0),Ne({type:"editData",payload:[]}),Ne({type:"ShowDetail",payload:!1}),Ne({type:"Add",payload:!0})}}):"")),r().createElement(s.Z,{expanded:Le,onChange:()=>()=>{Ke(Ve)}},e.Dialogview&&r().createElement(j.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[67]"},`${ht("67")} (${w})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld67L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(I.Z,{frmctrlid:"fld67L1TCInputSearch",className:"search_input",type:"text",placeholder:vt("Search"),value:ge,onChange:e=>{Ot(e)}}),r().createElement("div",{className:"search_icon"},ge?r().createElement("div",{id:"fld67L1TCInputCloseIcon",onClick:()=>{Ot("")}},r().createElement(c.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld67L1TCInputSearchIcon"},r().createElement(Y.Z,{className:"InputSearchIcon"}))))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"AssSOPGroupDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!ke&&r().createElement("div",{frmctrlid:"fld67L1TCFilterDataIsDraft",id:"AssSOPGroupDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{At()}},r().createElement(u.ZP,{title:vt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(P.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},vt("Filter Data"))),!v&&!ke&&!Ge&&r().createElement(K.Z,{formctrlidprint:"fld67L1TCExportPrint",formctrlidexport:"fld67L1TCExportTable",formctrlidrefresh:"fld67L1TCExportRefresh",title:ht("67"),data:k,exportData:Pt,Items:st,columnIndex:rt,TableVisibleItem:Pe,userGridViewFormID:g,TableTotalCount:w,triggerApi:t=>{((t,l,r,n,s)=>{if(0===w)return we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;we.loading(!0);let i=S.v.Api+"FP67S3/",o={data:{p1:t&&t.SOPGroupDetailIDPK?t.SOPGroupDetailIDPK:null,p2:t&&t.SOPGroupDetailCode?t.SOPGroupDetailCode:null,p3:ke?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:t&&t.SOPID?t.SOPID:null,p7:t&&t.IsActive,p8:null,p9:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p10:t&&t.CreatedTtm?t.CreatedTtm:null,p11:t&&t.CreatedTtmType?t.CreatedTtmType:null,p12:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p13:null,p14:t&&t.UserCode?t.UserCode:null,p15:t&&t.UserName?t.UserName:null,p16:t&&t.GroupName?t.GroupName:null,p17:t&&t.SOPGroupCode?t.SOPGroupCode:null,p18:t&&t.SOPCode?t.SOPCode:null,p19:t&&t.SOPName?t.SOPName:null,p20:t&&t.EmployeeID?t.EmployeeID:null,p21:t&&t.EmployeeCode?t.EmployeeCode:null,p22:t&&t.FirstName?t.FirstName:null,p23:x.current,p24:w,p25:ke?"DraftSOPGroupDetailID":"SOPGroupDetailID",p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}};we.loading(!1),we.alert({open:!0,color:"success",message:[`${ht(67)} - ${s.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(i,o,be.token[0],s).then((e=>{(0,le.PDF_Excel_Generate)(e,we,st,B,a,s)}))})(ue,L.column,0,0,t)},Refresh:()=>{ye(""),F({current:1,pageSize:100}),p.current.clearItem(),be.IsDraft?wt({current:1,pageSize:100},Te,"DraftSOPGroupDetailID"):wt({current:1,pageSize:100},Te,"SOPGroupDetailID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!ke&&!Ge&&!v&&r().createElement("div",{className:"buttoncard",onClick:()=>pt(!ct)},r().createElement("span",null,ct?r().createElement(u.ZP,{disableFocusListener:!0,title:vt("Less"),placement:"top"},r().createElement("span",{id:"fld67L1TCLess"},r().createElement(J.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(u.ZP,{disableFocusListener:!0,title:vt("More"),placement:"top"},r().createElement("span",{id:"fld67L1TCMore"},r().createElement(J.ilJ,{className:"tableFilterColumnIcon"}))))),ct?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ge||!Ve?null:v||!be.AccessRights.IsAdd||ke?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld67L1TCFilterDataIsAdd",id:"AssSOPGroupDetailscoldiv",className:"buttoncard",onClick:()=>{we.EditClose(!0),Se?(document.getElementById("AssSOPGroupDetailsFilterDiv").style.width="0%",document.getElementById("AssSOPGroupDetailsTabDiv").style.width="100%",document.getElementById("AssSOPGroupDetailsFilterDiv").style.display="none",document.getElementById("AssSOPGroupDetailscoldiv").style.width="fit-content",document.getElementById("AssSOPGroupDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("AssSOPGroupDetailsFilterDiv").style.width="25%",document.getElementById("AssSOPGroupDetailsTabDiv").style.width="75%",document.getElementById("AssSOPGroupDetailsFilterDiv").style.display="block",document.getElementById("AssSOPGroupDetailsfildiv").style.width="fit-content",document.getElementById("AssSOPGroupDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSOPGroupDetailscoldiv").style.width="fit-content",document.getElementById("AssSOPGroupDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),pe(!1)}},r().createElement(u.ZP,{title:vt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},vt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!v&&Ve&&!Ge&&!ke&&r().createElement("div",null,r().createElement("div",{id:"AssSOPGroupDetailscoldiv",className:"buttoncard",onClick:()=>{$e?We(!1):(We(!0),Ct({current:1,pageSize:100}))}},r().createElement(u.ZP,{title:vt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld67L1TCTableScrollData"},r().createElement(oe.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},vt("Table Scroll Data")))),!Ge&&ke?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{we.hideAddBtn(!1),we.ExpandEntry(),wt({current:1,pageSize:100},Te,"SOPGroupDetailID"),Ze(!1),ye(""),Ne({type:"IsDraft",payload:!1}),F({current:1,pageSize:10})}},r().createElement(u.ZP,{title:vt("List"),placement:"top"},r().createElement("div",{id:"fld67L1TCList"},r().createElement(q.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},vt("Drafts")," ",w)):!v&&!Ge&&be.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(o.Z,{color:"secondary",className:"badge",max:999,badgeContent:N,showZero:!0},r().createElement("div",{id:"fld67L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{N>0?(F({current:1,pageSize:100}),C(0),we.clear(),ye(""),Ne({type:"Add",payload:!1}),wt({current:1,pageSize:10},Te,"DraftSOPGroupDetailID"),Ze(!0),Ne({type:"IsDraft",payload:!0}),De(!1),He(!0),document.getElementById("AssSOPGroupDetailsFilterDiv").style.width="0%",document.getElementById("AssSOPGroupDetailsTabDiv").style.width="100%",document.getElementById("AssSOPGroupDetailsFilterDiv").style.display="none",F({current:1,pageSize:100}),Ae(!1)):we.alert({open:!0,color:"warning",message:[vt("There is no Record Found")]})}},r().createElement(u.ZP,{title:vt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(Q.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},vt("Drafts"))))))):""),!ke&&!v&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ge||ke?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld67L1TCListView",onClick:()=>{He(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(J.umT,null)),r().createElement("span",null,vt("List"))),r().createElement("div",{className:_e||ot?"buttonGrid":"buttonList",id:"fld67L1TCCardView",onClick:()=>{He(!1),dt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(f.aCJ,null)),r().createElement("span",null,vt("Card"))),r().createElement("div",{className:ot?"buttonList":"buttonGrid",id:"fld67L1TCTileView",onClick:()=>{dt(!0),He(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(X.f_H,null)),r().createElement("span",null,vt("Tile"))))))),Ge?null:$e?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement($.Z,{style:{color:"#777"},id:"fld67L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:O,onPageChange:(e,t)=>{C(t),Ct({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(V.Z,{count:Qe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),Ct({current:t,pageSize:at.pageSize})}}),r().createElement("div",null,r().createElement(_.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld67L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),Ct({current:1,pageSize:e.target.value})}},r().createElement(U.Z,{value:10},"10"),r().createElement(U.Z,{value:20},"20"),r().createElement(U.Z,{value:50},"50"),r().createElement(U.Z,{value:100},"100"))),Ve&&r().createElement("p",{className:"per-page"},"/ ",vt("RowperpageOf")," (",et,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement($.Z,{style:{color:"#777"},id:"fld67L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(w),page:O,onPageChange:(e,t)=>{C(t),wt({current:t+1,pageSize:x.pageSize},Te,ke?"DraftSOPGroupDetailID":"SOPGroupDetailID",ke&&"DraftPage"),F({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(V.Z,{count:G,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(F({current:t,pageSize:x.pageSize}),ke)wt({current:t,pageSize:x.pageSize},xe,"DraftSOPGroupDetailID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ge.length>0?bt(ge,{current:t,pageSize:x.pageSize}):wt({current:t,pageSize:x.pageSize},xe,"SOPGroupDetailID")}}}),r().createElement("div",null,r().createElement(_.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld67L1TCSelectPaging",onChange:e=>{F({current:1,pageSize:e.target.value}),ke?wt({current:1,pageSize:e.target.value},xe,"DraftSOPGroupDetailID","DraftPage"):ge.length>0?bt(ge,{current:1,pageSize:e.target.value}):wt({current:1,pageSize:e.target.value},xe,"SOPGroupDetailID")}},r().createElement(U.Z,{value:10},"10"),r().createElement(U.Z,{value:20},"20"),r().createElement(U.Z,{value:50},"50"),r().createElement(U.Z,{value:100},"100"))),Ve&&r().createElement("p",{className:"per-page"},"/ ",vt("RowperpageOf")," (",w,") "))),r().createElement("div",{id:"AssSOPGroupDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"AssSOPGroupDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&r().createElement(M,{parentId:e.parentId,searchData:e=>{me(e||It),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:g,data:()=>{},visibleData:()=>{},token:be.token[0],CloseBtnClk:()=>At(),userGrid:St,msg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Se&&r().createElement(H.Z,{Refresh:e=>{wt({current:1,pageSize:100},Te,"SOPGroupDetailID")},frmctrlid:"fld67L1TCTableColumnOrder",loading:e=>we.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),select:Se,userID:m,userGridViewFormID:g,saved:(e,t)=>{e&&Nt(t),Dt(t),Ne({type:"showTableview",payload:t})},Token:be.token[0]})),r().createElement("div",{id:"AssSOPGroupDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?r().createElement(Tt,null):r().createElement(W.Z,{frmctrlid:"fld67L1TCExpandedCardDual",data:re,id:"AssSOPGroupDetails",title:"SOPGroupDetailCode",cardTile:!!ot,visibleitem:Pe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{v?we.select(e):("edit"==t?(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:ke}),Ne({type:"ShowDetail",payload:!1}),we.Expanded(!0)):(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:ke}),Ne({type:"ShowDetail",payload:!0}),we.Expanded(!0),we.viewtoggle()),ce?pe(!0):Se?De(!0):(De(!1),De(!1))),we.hideAddBtn(!0)}})))))))}));var ce=a(37148),pe=a(29800),ue=(a(10966),a(21392),a(26537)),me=(a(44528),a(99090)),ge=a(1695),ye=a(61924),Se=a.n(ye),De=(a(40826),a(55490)),Ie=a(92371);const Ee={EnterKeyValues:{AssSOPGroupDetails:["SOPName","SOPGroupDetailCode","GroupName"]},Label:{AssSOPGroupDetails:{SOPID:["SOPCode","SOPName"],SOPGroupDetailCode:["SOPGroupDetailCode","SOPGroupID","SOPID","SOPName"],SOPGroupID:["SOPGroupDetailCode","SOPGroupID","SOPID","SOPName"]}},LabelHeader:{AssSOPGroupDetails:{SOPID:["SOP Code","SOP Name"],SOPGroupDetailCode:["SOP Group Code","GroupName","SOP","SOPName"],SOPGroupID:["SOPGroupDetailCode","SOPGroupID","SOPID","SOPName"]}},Property:{AssSOPGroupDetails:{SOPID:{id:"fld67_1275",clearID:"AssSOPGroupDetailsSOPNameClear",type:"select",labelID:"SOPIDPK",labelname:"SOP",fielddisplayname:"SOPName",foreignName:[],createEasy:!0,advanceSearch:!0,disabled:!1,mandatory:!0},SOPGroupDetailCode:{id:"fld67_1271",labelID:"SOPGroupDetailCode",maxLength:"50",labelname:"SOP Group Code",frmctrlid:"fld67_1271",frmctrlidname:"SOPGroupDetailCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SOPGroupID:{id:"fld67_1274",clearID:"AssSOPGroupDetailsGroupNameClear",type:"select",labelID:"SOPGroupIDPK",labelname:"GroupName",fielddisplayname:"GroupName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{AssSOPGroupDetails:{SOPID:["SOPCode","SOPName"],SOPGroupID:["SOPGroupCode","GroupName","IsActive","CreatedTtm","UpdatedTtm","IsDraft"]}}};var Pe=a(99263),fe=a(99323),ve=a(6562),he=a(45155),Oe=a(79352),Ce=(a(49174),a(38773),a(19089),a(16233)),Ge=a.n(Ce),Ae=(a(82729),a(75355),a(11107),a(74095));const we={SOPGroupDetailIDPK:"",SOPGroupDetailCode:"",IsDraft:!1,Remarks:"",SOPGroupID:null,SOPID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",UserCode:"",UserName:"",GroupName:"",SOPGroupCode:"",SOPCode:"",SOPName:"",EmployeeID:null,EmployeeCode:"",FirstName:"",Type:"SOPGroupDetailID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},be=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[o,c]=(0,l.useState)(!1),[p,u]=((0,l.useRef)(),(0,l.useState)(!0)),[m,D]=(0,l.useState)(!1),[I,P]=(0,l.useState)(!1),[f,v]=(0,l.useState)(""),[O,A]=(0,l.useState)(!1),[w,b]=(0,l.useState)([]),[N,T]=(0,l.useState)(null),[x,F]=(0,l.useReducer)(Ie.Z,we),[R,B]=(0,l.useState)(!1),[k,L]=(0,l.useState)([]),[z,M]=(0,l.useState)(!1),K=(0,l.useContext)(e.context?e.context:ze),{cstate:V,cdispatch:U}=e.ContextApi?e.ContextApi:Me(),[_,H]=(0,l.useState)(0),[Y,$]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,q]=Ge()("67"),[Q,X]=(0,l.useState)([]),ee=(0,l.useRef)(null),[te,ae]=(0,l.useState)(!1),[le,re]=(0,l.useState)(!0),[ne,se]=(0,l.useState)(!1);let ie=(0,E.Z)();const[oe,de]=(0,l.useState)({}),pe=e=>ie[e]?ie[e]:e,ye=t=>V.language?.[t]?V.language[t]:e.createEasy?oe?.[t]:t;(0,l.useEffect)((()=>{V.PrimaryId&&H(Number(V.PrimaryId))}),[V.PrimaryId]),(0,l.useEffect)((()=>{be()}),[]),(0,l.useEffect)((()=>{be()}),[e.parentId]),(0,l.useEffect)((()=>{V.editData.length>0?(ae(!1),Ce(V.editData[0],""),D(!0)):V.Add&&(be(),ae(!1),D(!0))}),[V.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),de(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{be()},CreateEasyProps:(e=!0,t)=>{q(!0),t?(Ve(t),D(e)):(be(),D(e))},AddOpen:e=>{be(),D(!0)}})));const Ce=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),P(t.IsDraft),"SetDefaultSOPGroupDetailID"==a?$(t.SOPGroupDetailIDPK):(H(e.primid?Number(e.primid):t.SOPGroupDetailIDPK?t.SOPGroupDetailIDPK:0),U({type:"PrimaryId",payload:t.SOPGroupDetailIDPK})),F({type:"number",name:"SOPID",number:t.SOPID?Number(t.SOPID):0}),F({type:"text",name:"SOPName",value:t.SOPName}),F({type:"text",name:"SOPGroupDetailCode",value:t.SOPGroupDetailCode?t.SOPGroupDetailCode:""}),F({type:"number",name:"SOPGroupID",number:t.SOPGroupID?Number(t.SOPGroupID):0}),F({type:"text",name:"GroupName",value:t.GroupName}),t.IsDraft?u(!0):u(!("1"!=t.IsActive&&!t.IsActive))},be=()=>{b([]),$(""),U({type:"PrimaryId",payload:""}),F({type:"text",name:"SOPID",value:null}),F({type:"text",name:"SOPName",value:""}),document.getElementById("AssSOPGroupDetailsSOPNameClear")&&document.getElementById("AssSOPGroupDetailsSOPNameClear").click(),document.getElementById("AssSOPGroupDetailsSOPIDClear")&&document.getElementById("AssSOPGroupDetailsSOPIDClear").click(),X([]),F({type:"text",name:"SOPGroupDetailCode",value:""}),F({type:"text",name:"SOPGroupID",value:null}),F({type:"text",name:"GroupName",value:""}),document.getElementById("AssSOPGroupDetailsGroupNameClear")&&document.getElementById("AssSOPGroupDetailsGroupNameClear").click(),H(0),u(!0),v(""),re(!0)},Ne=t=>{re(!0),K.loading(!0),K.ConfirmAlert(null),U({type:"IsDraft",payload:!1});const a=`${S.v.Api}${_?"FP67S1/":"FP67S19/"}`,l={data:[{p1:"SetDefaultSOPGroupDetailID"==t?"NORECORDS"!=Y&&Y?Y:0:_,p2:Ue(x.SOPGroupDetailCode),p3:!1,p4:"SetDefaultSOPGroupDetailID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):x.SOPGroupID?x.SOPGroupID:0,p6:_?x.SOPID:0==Q.length?0:Q.map((e=>e.SOPIDPK)).toString(),p7:p,p8:"SetDefaultSOPGroupDetailID"==t,p9:localStorage.getItem("userid"),p10:C()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:C()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((r=>{(0,G.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?("SetDefaultSOPGroupDetailID"==t?K.alert({open:!0,color:"success",message:[pe("Default Record Configured")]}):K.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttAssSOPGroupDetails"),K.loading(!1),U({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(K.RefreshTable(),K.attachmentSave(a[0].Data.IDPK)),be(),V.AccessRights.IsApproval&&K.Approval(!0),document.getElementById("overlayimgAttAssSOPGroupDetails")&&(document.getElementById("overlayimgAttAssSOPGroupDetails").style.width="0%",document.getElementById("overlayimgAttAssSOPGroupDetails").style.display="none",document.getElementById("divAssSOPGroupDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("AssSOPGroupDetails-MainTable").style.display="block")):(K.alert({open:!0,color:"warning",message:[l.message]}),K.loading(!1)),D(!0)}))}))},Te=t=>{K.loading(!0),K.ConfirmAlert(null);const a=S.v.Api+"FP67S2/",l={data:[{p1:"SetDefaultSOPGroupDetailID"==t?"NORECORDS"!=Y&&Y?Y:0:_,p2:Ue(x.SOPGroupDetailCode),p3:!1,p4:"SetDefaultSOPGroupDetailID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):x.SOPGroupID?x.SOPGroupID:0,p6:_?x.SOPID:0==Q.length?0:Q.map((e=>e.SOPIDPK)).toString(),p7:p,p8:"SetDefaultSOPGroupDetailID"==t,p9:localStorage.getItem("userid"),p10:C()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:C()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((e=>{(0,d.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,r=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(K.alert({open:!0,color:"warning",message:r}),K.loading(!1)):Ne()):(K.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),K.loading(!1))}))}))};function xe(t,a,l,r){if(!(V.count>0))return K.alert({open:!0,color:"warning",message:[pe("Please save atleast one record")]}),!1;if(!((()=>{const e={...x};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return K.alert({open:!0,color:"warning",message:[pe("Please enter the primary fields")]}),!1;{re(!0),K.loading(!0),K.ConfirmAlert(null),U({type:"IsDraft",payload:!1});const a=S.v.Api+"FP67S1/",l={data:[{p1:"SetDefaultSOPGroupDetailID"==r?"NORECORDS"!=Y&&Y?Y:0:_,p2:Ue(x.SOPGroupDetailCode),p3:!0,p4:"SetDefaultSOPGroupDetailID"==r?"SetDefault":null,p5:e.parentId?Number(e.parentId):x.SOPGroupID?x.SOPGroupID:0,p6:_?x.SOPID:0==Q.length?0:Q.map((e=>e.SOPIDPK)).toString(),p7:!1,p8:"SetDefaultSOPGroupDetailID"==r,p9:localStorage.getItem("userid"),p10:C()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:C()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((r=>{(0,G.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?K.alert({open:!0,color:"warning",message:[pe("Deleted Successfully")]}):K.alert({open:!0,color:"success",message:[pe("Saved to Draft")]}),K.loading(!1),K.attachmentSave(a[0].Data.IDPK),be(),K.RefreshTable(),e.clrImgstate(!0)):(K.alert({open:!0,color:"warning",message:[l.message]}),K.loading(!1))}))}))}}function Fe(e){return(0,Pe.CreateEasy)(e,V,U,K,W),!1}function Re(e,a){return(0,fe.AdvanceSearch)(e,a,ze,Me(),Ze,t),!1}const Be=(t,a,l,r,n,s)=>{const i=S.v.Api+"FP67S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:e.parentId?Number(e.parentId):0,p6:"0"==x.SOPID?null:x.SOPID?x.SOPID:Q.map((e=>e.SOPIDPK)).toString(),p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:a?"%"+a+"%":null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:"0"==x.EmployeeID?null:x.EmployeeID,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:t,p24:s||10,p25:l,p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}},c=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});B(!0);const p={data:c};(0,d.Z)(i,"ClearAll"==l?p:o,"PKDrag"==r?n:V.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?e>0?(L(r),s&&"SOPIDPK"==l&&(ee.current.checkedAll(r),K.loading(!1))):L([]):L(k.concat(r)),"SetDefaultSOPGroupDetailID"==l&&(e>0?Ce(r[0],"SetDefaultSOPGroupDetailID"):$("NORECORDS")),B(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},ke=(t,l,r)=>{const n=S.v.Api+"FP67S3/",s={data:{p1:null,p2:"SOPGroupDetailCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:a.AssSOPGroupRegistrySOPGroupID?a.AssSOPGroupRegistrySOPGroupID:"0",p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:t,p24:10,p25:"SOPGroupDetailID",p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}},i={data:Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{})};B(!0),(0,d.Z)(n,"ClearAll"==r?i:s,V.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("SOPGroupDetailCode"==r&&re(e>0),L(l)):("SOPGroupDetailCode"==r&&re(!0),L(k.concat(l))),B(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},Ze=(0,l.useCallback)((async(e,t,a)=>{"text"==a?F({type:a,name:t,value:e}):"number"==a?F({type:a,name:t,number:Number(e)}):"boolean"==a?F({type:a,name:t,boolean:e}):"date"==a?F({type:"text",name:t,value:e}):"select"==a&&"SOPID"==t&&(F({type:"text",name:"SOPID",value:e.SOPIDPK?e.SOPIDPK:null}),F({type:"text",name:"SOPName",value:e.SOPName?e.SOPName:null}))}),[x]);function Le(e){if("SOPID"==e){if(!x.SOPID)return!1;F({type:"text",name:"SOPID",value:null}),F({type:"text",name:"SOPName",value:""}),document.getElementById("AssSOPGroupDetailsSOPIDClear")&&document.getElementById("AssSOPGroupDetailsSOPIDClear").click(),X([]),document.getElementById("AssSOPGroupDetailsSOPNameClear")&&document.getElementById("AssSOPGroupDetailsSOPNameClear").click()}else if("SOPGroupID"==e&&!x.SOPGroupID)return!1}function Ke(e){if("SOPID"==e){if(!x.SOPID)return!1;F({type:"text",name:"SOPID",value:null})}else if("SOPGroupID"==e&&!x.SOPGroupID)return!1}function Ve(e){K.ConfirmAlert(null),P(e.IsDraft),H(Number(e.SOPGroupDetailIDPK)?Number(e.SOPGroupDetailIDPK):0),F({type:"number",name:"SOPID",number:e.SOPID?Number(e.SOPID):0}),F({type:"text",name:"SOPName",value:e.SOPName?e.SOPName:""}),F({type:"text",name:"SOPGroupDetailCode",value:e.SOPGroupDetailCode?e.SOPGroupDetailCode:""}),F({type:"number",name:"SOPGroupID",number:e.SOPGroupID?Number(e.SOPGroupID):0}),F({type:"text",name:"GroupName",value:e.GroupName?e.GroupName:""})}const Ue=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(s.Z,{expanded:m,onChange:e=>{}},r().createElement(j.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},m&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[67]"}," ",pe("Add "),ye("67")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},V.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(ve.Z,{row:!0},r().createElement(Z.Z,{labelPlacement:"bottom",id:"fld67L1ECEntryCheckbox",control:r().createElement(h.Z,{checked:"1"==p,onChange:e=>u(e.target.checked)}),label:pe(1==p?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{K.AttachExpand(!0)},id:"fld67L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(he.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,pe("Attach")))),!_&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{be()},id:"fld67L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(he.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,pe("Reset")))),"1"===I&&_&&r().createElement(me.Z,{frmctrlid:"fld67L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{xe("draftdel")}}),_&&"1"!==I||e.createEasy?null:V.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{xe()},frmctrlid:"fld67L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Oe.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,pe("Draft")))),V.AccessRights.IsAdd||V.AccessRights.IsEdit?r().createElement(ge.Z,{frmctrlid:"fld67L1ECSaveBtnIsAdd",name:pe(_?"Update":"Save"),disabled:!1,onClick:()=>{!_&&0==Q.length||_&&(!x.SOPID||0==x.SOPID)?K.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+ye("SOPID")]}):e.parentId&&0!=e.parentId?_?K.ConfirmAlert(r().createElement(Se(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:pe("Are you sure?"),onConfirm:()=>Te(),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("Cancel"),showCancel:!0},pe(_?"Do you want to Update?":"Do you want to Save?"))):Ne():K.alert({open:!0,color:"warning",message:[pe("Please select the ")+" "+ye("SOPGroupID")]})}}):null,!e.createEasy&&r().createElement(ce.Z,{frmctrlid:"fld67L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{be(),D(!1),K.EditClose(!0),K.hideAddBtn(!1),U({type:"Add",payload:!1})}}))))),r().createElement(i.Z,null,r().createElement("div",{id:"AssSOPGroupDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"AssSOPGroupDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"AssSOPGroupDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(g.Z,{spacing:2},_?null:r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(Ae.Z,{json:Ee,id:x.SOPID,"data-testid":x.SOPID,value:x.SOPName,SPName:"AssSOPGroupDetails",FieldName:"SOPID",tfLabel:ye("SOPID"),ref:ee,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return X(a=t),void a.length;var a},onChange:(e,t)=>{Be(e,t,"SOPIDPK")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{K.loading(!0),Be("1",t||"","SOPIDPK","","",e)},openSlide:()=>{Fe("69")},Tabledialog:()=>Re("69","SOPID"),loading:R,clear:e=>{e&&Le("SOPID")}})),_?r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(De.Z,{json:Ee,id:x.SOPID,"data-testid":x.SOPID,value:x.SOPName,SPName:"AssSOPGroupDetails",FieldName:"SOPID",tfLabel:ye("SOPID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Ze(e,"SOPID","select"),onChange:(e,t)=>{Be(e,t,"SOPIDPK")},KeyBack:e=>{Ke("SOPID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{Fe("69")},Tabledialog:()=>Re("69","SOPID"),loading:R,SideEntryView:!1,clear:e=>{e&&Le("SOPID")}})):null,r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":x.SOPGroupDetailCode,json:Ee,SPName:"AssSOPGroupDetails",FieldName:"SOPGroupDetailCode",tfLabel:ye("SOPGroupDetailCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{K.ConfirmAlert(r().createElement(Se(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ve(e),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pe("Yes"),cancelBtnText:pe("No"),showCancel:!0},pe("Do you want to update this record?")))})(t),onClick:()=>{le&&ke(1,"","ClearAll"),re(!0)},frmctrlid:"fld67_1271",frmctrlidName:"SOPGroupDetailCode",fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,t)=>{le&&ke(e,t,"SOPGroupDetailCode"),Ze(t,"SOPGroupDetailCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:x.SOPGroupDetailCode,loading:R,clear:e=>{e&&(F({type:"text",name:"SOPGroupDetailCode",value:""}),re(!0))}})),r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{json:Ee,id:x.SOPGroupID,"data-testid":x.SOPGroupID,value:x.GroupName,SPName:"AssSOPGroupDetails",FieldName:"SOPGroupID",tfLabel:ye("SOPGroupID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ze(e,"SOPGroupID","select"),onChange:(e,t)=>{Be(e,t,"SOPGroupIDPK")},KeyBack:e=>{Ke("SOPGroupID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{Fe("68")},Tabledialog:()=>Re("68","SOPGroupID"),loading:R,clear:e=>{e&&Le("SOPGroupID")}})))),r().createElement("div",{id:"AssSOPGroupDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AssSOPGroupDetailsSideBar").style.width="0",void A(!1))},""),O&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},N))))))))}));a(77366),a(97829);var Ne=a(65197),Te=a(15987),xe=a.n(Te),Fe=a(35789);const Re=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),o=((0,n.useSelector)((e=>e.form)),(0,l.useRef)()),[c,p]=(0,l.useState)([]),[u,m]=(0,l.useState)(!0),[g,y]=(0,l.useState)(e.showDetail),[D,I]=(0,l.useState)(""),[P,f]=r().useState(!1),[v,h]=r().useState(""),[O,C]=r().useState(!1),G=(0,l.useContext)(ze),{cstate:A,cdispatch:w}=Me(),[b,N]=(0,l.useState)(!1),[T,x]=(0,l.useState)(""),[F,R]=(0,l.useState)(""),[B,k]=(0,l.useState)("");let Z=(0,E.Z)();(0,l.useEffect)((()=>{A.editData.length>0&&(p(A.editData),f(!1),w({type:"PrimaryId",payload:A.editData[0].SOPGroupDetailIDPK}))}),[A.editData]),(0,l.useEffect)((()=>{A.showTableview&&k(A.showTableview)}),[A.showTableview]),(0,l.useEffect)((()=>{m(A.ExpandDetailValue)}),[A.ExpandDetailValue]),(0,l.useEffect)((()=>{m(A.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{m(e),f(null)},viewtoggle:()=>{f(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP67S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:1,p24:10,p25:A.IsDraft?"DraftSOPGroupDetailID":"SOPGroupDetailID",p26:null,p27:null,p28:localStorage.getItem("UserGroupID"),p29:localStorage.getItem("userid")}};(0,ue.Z)(0).then((e=>{(0,d.Z)(l,r,e).then((e=>{G.loading(!1),"200"==e.Output.status.code&&p(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===P&&a.current.clear()}})));const L=e=>Z?.[e]?Z?.[e]:e,z=e=>A.language?.[e]?A.language[e]:e;function M(e,t){"SOPIDPK"===e&&(G.openNav(),setTimeout((function(){o.current.viewlistProps(t)}),1e3),G.SlideComponentType(r().createElement("div",{id:"divAssSOPRegistry-View",style:{width:"100%"}},r().createElement(Fe.AssSOPRegistryContext.Provider,{value:{cstate:A,cdispatch:w,loading:e=>G.loading(e),alert:e=>G.alert(e),openNav:()=>G.openNav(),SlideComponentType:e=>G.SlideComponentType(e)}},r().createElement(xe(),{viewonly:!0,ref:o})))))}const K=(e,t)=>(a,l)=>{h(O?Object.assign(...c.filter((e=>e.SOPGroupDetailIDPK==t)).map((e=>e))):A.editData),f(!l&&e)};return r().createElement("div",null,r().createElement(s.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&m(!u)}},!P&&r().createElement(j.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},A.IsDraft?L("Draft"):"",z("AssSOPGroupDetails"),e.viewonly?" ":"("+A.count+")")):"",u?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&A.AccessRights.IsAdd?r().createElement(ae.Z,{name:L("Add"),frmctrlid:"fld67L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{G.hideAddBtn(!0),w({type:"editData",payload:[]}),w({type:"ShowDetail",payload:!1}),w({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&A.AccessRights.IsEdit?r().createElement(pe.Z,{frmctrlid:"fld67L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):A.IsDraft&&A.AccessRights.IsAdd&&r().createElement(pe.Z,{frmctrlid:"fld67L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&r().createElement(ce.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld67L1VCCloseBtn",onClick:()=>{m(!1),G.hideAddBtn(!1),O&&(w({type:"editData",payload:[]}),p([]))}})):"")),r().createElement(i.Z,{style:{display:"block"}},c.map(((t,l)=>r().createElement("div",{key:l},P==="panel"+l?r().createElement(be,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(Ne.Z,{tableName:"AssSOPGroupDetails",tableID:67,parentID:t.SOPGroupDetailIDPK,fldid:"fld67L1VCContainer",OpenSlideComponent:M,index:l,refresh:B,val:t,tf:z,t:L,title:"10.0.0.59-3:08:17 PM-18-7[67]"}))))))))}));var Be=a(67698),ke=a(55995),Ze=a(45965),Le=a(41722);a(9175);const ze=(0,l.createContext)(),Me=()=>{const e=(0,l.useContext)(ze);if(void 0===e)throw new Error("useCont must be used within  AssSOPGroupDetailsContext Provider");return e},Ke=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),s=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),[c,p]=(0,l.useState)(!0),[u,m]=(0,l.useState)(),g=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[y,S]=(0,l.useState)(0),[D,I]=(0,l.useReducer)(Le.D,Le.E),[E,P]=(0,l.useState)(""),[f,v]=(0,l.useState)([]),[h,O]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||s.current.clear(),document.getElementById("divAssSOPGroupDetails-Entry").style.width="100%",document.getElementById("AssSOPGroupDetails-MainTable").style.width="100%",document.getElementById("AssSOPGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{p(!0),document.getElementById("divAssSOPGroupDetails-Entry").style.width="100%",document.getElementById("AssSOPGroupDetails-MainTable").style.width="100%",document.getElementById("AssSOPGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),s.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const C=e=>{v([]),document.getElementById("divAssSOPGroupDetails-Entry").style.width="100%",document.getElementById("AssSOPGroupDetailsEntryTable").style.width="100%",document.getElementById("AssSOPGroupDetails-MainEntry").style.width="100%",document.getElementById("AssSOPGroupDetails-MainEntry").style.display="block",document.getElementById("AssSOPGroupDetails-MainDiv").classList.add("displayFlex"),document.getElementById("AssSOPGroupDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssSOPGroupDetails").style.width="0%",document.getElementById("overlayimgAttAssSOPGroupDetails").style.display="none"};(0,l.useEffect)((()=>{g((e=>{(0,ue.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),S(t.length),G(e)}))}))}),[]);const G=e=>{(0,Ze.Z)(e,68).then((e=>I({type:"AccessRights",payload:e})))};return r().createElement("div",{style:{width:"100%"}},r().createElement(ze.Provider,{value:{cstate:D,cdispatch:I,ContextApi:Me,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,f),v([])},EditClose:e=>C(),AttachExpand:e=>(o.current.AttachmentData(D.PrimaryId),void(c&&(document.getElementById("overlayPreviewAssSOPGroupDetails").style.width="50%",document.getElementById("divAssSOPGroupDetails-Entry").style.width="100%",document.getElementById("AssSOPGroupDetails-MainTable").style.width="100%",document.getElementById("AssSOPGroupDetails-MainEntry").style.width="100%",document.getElementById("AssSOPGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAssSOPGroupDetails").style.display="block",document.getElementById("overlayimgAttAssSOPGroupDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):s.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):s.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),o.current.clrImgstate(!0)}}},r().createElement("div",{id:"AssSOPGroupDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"AssSOPGroupDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"AssSOPGroupDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSOPGroupDetails-Entry",style:{width:"100%"}},0!==y?r().createElement(Re,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(ke.Z,{ref:d,menurefID:67,fileId:"LogoImgAssSOPGroupDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewAssSOPGroupDetails",frmctrlid:"PvwIm_67_L1_",tempImg:e=>{D.PrimaryId?o.current.AttachmentData(D.PrimaryId):o.current.tempImg(e),v(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSOPGroupDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(be,{ref:s,clrImgstate:e=>o.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(ke.Z,{ref:d,menurefID:67,fileId:"LogoImgAssSOPGroupDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewAssSOPGroupDetails",frmctrlid:"PvwIm_67_L1_",tempImg:e=>{D.PrimaryId?o.current.AttachmentData(D.PrimaryId):o.current.tempImg(e),v(e)},clearTempData:D.Add})),r().createElement("div",{id:"AssSOPGroupDetails-MainTable"},0!==y?r().createElement(de,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Be.Z,{ImgAttachment:e=>C(),menurefID:67,fileId:"AttImgAssSOPGroupDetails",imgid:"overlayimgAttAssSOPGroupDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAssSOPGroupDetails",ref:o,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_67_L1_",timglist:e=>{d.current.timglist(e),v(e)},clearTempData:D.Add}))),r().createElement("div",{id:"AssSOPGroupDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},28682:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R,saveComponent:()=>k,trimFunc:()=>B});var l=a(92950),r=a.n(l),n=a(45237),s=a(36939),i=a(61201),o=a(50743),d=(a(3212),a(10966),a(30553)),c=(a(99090),a(44528),a(37148)),p=a(61956),u=a(51673),m=(a(96071),a(14439)),g=a(27848),y=(a(49174),a(38773),a(19089),a(1695)),S=(a(13235),a(61924)),D=a.n(S),I=a(26537),E=a(40900),P=a(35131),f=a.n(P),v=a(55490),h=(a(2493),a(92371));a(82729),a(75355),a(11107),a(40826);const O={EnterKeyValues:{AssSOPGroupRegistry:["SOPGroupCode","GroupName"]},Label:{AssSOPGroupRegistry:{SOPGroupCode:["SOPGroupCode","GroupName"],GroupName:["SOPGroupCode","GroupName"]}},LabelHeader:{AssSOPGroupRegistry:{SOPGroupCode:["SOP Group Code","SOP Group Name"],GroupName:["SOP Group Code","SOP Group Name"]}},Property:{AssSOPGroupRegistry:{SOPGroupCode:{id:"fld68_1283",labelID:"SOPGroupCode",maxLength:"20",labelname:"SOP Group Code",frmctrlid:"fld68_1283",frmctrlidname:"SOPGroupCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},GroupName:{id:"fld68_1284",labelID:"GroupName",maxLength:"50",labelname:"SOP Group Name",frmctrlid:"fld68_1284",frmctrlidname:"GroupName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{AssSOPGroupRegistry:{}}};a(42258),a(97829),a(79117);var C=a(60973),G=a(8981),A=a(63163),w=a(45155),b=a(51649),N=a(16233),T=a.n(N);const x={SOPGroupIDPK:"",SOPGroupCode:"",GroupName:"",IsDraft:!1,Remarks:"",IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",Type:"SOPGroupID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},F=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,S]=(0,l.useState)(!1),[P,N]=(0,l.useState)(!0),[F,R]=(0,l.useState)(!1),[B,Z]=(0,l.useState)(!1),[L,z]=(0,l.useState)(!1),[M,K]=(0,l.useState)(!1),[V,U]=(0,l.useState)([]),[_,H]=(0,l.useState)(null),[Y,j]=(0,l.useReducer)(h.Z,x),[$,W]=(0,l.useState)(!1),[J,q]=(0,l.useState)([]),[Q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)(""),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!0),se=(0,l.useContext)(C.AssSOPGroupRegistryContext),{cstate:ie,cdispatch:oe}=(0,C.ContextApi)(),[de]=(0,l.useState)(localStorage.getItem("Language")),[ce]=(0,l.useState)(localStorage.getItem("Language")),[pe,ue]=(0,l.useState)([]),[me,ge]=(0,l.useState)(null),[ye,Se]=(0,l.useState)(!1),[De,Ie]=(0,l.useState)(""),[Ee,Pe]=((0,l.useRef)(null),T()("68")),[fe,ve]=(0,l.useState)(!1);let he=(0,G.Z)();const[Oe,Ce]=(0,l.useState)({}),Ge=e=>he?.[e]?he[e]:e,Ae=t=>ie.language?.[t]?ie.language[t]:e.createEasy?Oe?.[t]:t;(0,l.useEffect)((()=>{ie.PrimaryId&&X(Number(ie.PrimaryId))}),[ie.PrimaryId]),(0,l.useEffect)((()=>{ie.editData.length<0&&(0,I.Z)(1).then((e=>{Re(1,null,"SetDefaultSOPGroupID",e)}))}),[]),(0,l.useEffect)((()=>{ie.editData.length>0?(we(ie.editData[0],""),Z(!0)):ie.Add&&(X(0),Z(!0))}),[ie.editData,ie.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ce(Object.assign({},...t))}(Ee)}),[Ee]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){Z(!0),R(!1)},CreateEasyProps:(e=!0,t)=>{Pe(!0),t?(Le(t),Z(e)):(be(),Z(e))},clear:()=>{be()}})));const we=(t,a,l)=>{let r=t;Object.keys(r).forEach((function(e){0==r[e]&&(r[e]=null)})),z(r.IsDraft),oe({type:"EditIsDraft",payload:"1"==r.IsDraft}),"SetDefaultSOPGroupID"==a?te(r.SOPGroupIDPK):(X(e.primid?Number(e.primid):r.SOPGroupIDPK?r.SOPGroupIDPK:0),oe({type:"PrimaryId",payload:r.SOPGroupIDPK})),j({type:"text",name:"SOPGroupCode",value:r.SOPGroupCode?r.SOPGroupCode:""}),j({type:"text",name:"GroupName",value:r.GroupName?r.GroupName:""}),r.IsDraft?N(!0):N(!("1"!=r.IsActive&&!r.IsActive))},be=()=>{U([]),X(0),te(""),le(!0),ne(!0),oe({type:"PrimaryId",payload:""}),j({type:"text",name:"SOPGroupCode",value:""}),j({type:"text",name:"GroupName",value:""}),N(!0)},Ne=()=>{const e={...Y};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Te=()=>{se.ConfirmAlert(r().createElement(D(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ge("Are you sure?"),onConfirm:()=>xe(),onCancel:()=>se.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ge("Yes"),cancelBtnText:Ge("Cancel"),showCancel:!0},ie.PrimaryId?Ge("Do you want to Update?"):Ge("Do you want to Save?")))},xe=(e,t)=>{se.loading(!0),se.ConfirmAlert(null),oe({type:"IsDraft",payload:!1}),k({url:E.v.Api+"FP68S2/",PrimID:Q,ParamType:e,state:Y,active:P,token:ie.token[0],DefaultPrimaryId:ee}).then((t=>{const a=t[0].status;let l=t[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(se.alert({open:!0,color:"warning",message:n}),se.loading(!1)):Fe(e)):(se.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),se.loading(!1))}))},Fe=(t,a)=>{le(!0),ne(!0),se.loading(!0),se.ConfirmAlert(null),k({url:E.v.Api+"FP68S1/",PrimID:Q,ParamType:t,state:Y,active:P,token:ie.token[0],DefaultPrimaryId:ee}).then((a=>{const l=a[0].status;200==l.code?(oe({type:"PrimaryId",payload:a[0].Data.IDPK}),se.AddOpen(a[0].Data.IDPK),"SetDefaultSOPGroupID"==t?se.alert({open:!0,color:"success",message:["Default Record Configured"]}):se.alert({open:!0,color:"success",message:[l.message]}),se.attachmentSave(a[0].Data.IDPK),se.loading(!1),ie.AccessRights.IsApproval&&se.Approval(!0),e.createEasy,oe({type:"EditOpen",payload:!1}),oe({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttAssSOPGroupRegistry")&&(document.getElementById("overlayimgAttAssSOPGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSOPGroupRegistry").style.display="none",document.getElementById("divAssSOPGroupRegistry-Entry").style.width="100%"),document.getElementById("AssSOPGroupRegistry-MainTable").style.display="none"):(se.alert({open:!0,color:"warning",message:[l.message]}),se.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultSOPGroupID"==t&&(Z(!0),Re(1,null,"SetDefaultSOPGroupID",ie.token[0]))}))};(0,l.useEffect)((()=>{Z(ie.ExpandDetailValue)}),[ie.ExpandDetailValue]);const Re=(t,a,l,r,n,s)=>{const i=E.v.Api+"FP68S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:1,p14:10,p15:l,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}},d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:t,p14:10,p15:l,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};return W(!0),(0,u.Z)(i,"ClearAll"==l?o:d,"SetDefaultSOPGroupID"==l&&r?r:ie.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return r?r[0]:{};q(1==t?e>0?r:[]:J.concat(r)),"SetDefaultSOPGroupID"==l&&(e>0?we(r[0],"SetDefaultSOPGroupID"):te("NORECORDS")),W(!1)}else se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Be=(t,a,l)=>{const r=E.v.Api+"FP68S3/",n={data:{p1:null,p2:"SOPGroupCode"==l&&a?"%"+a+"%":null,p3:"GroupName"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:t,p14:10,p15:"SOPGroupID",p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}},s={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};W(!0),(0,u.Z)(r,"ClearAll"==l?s:n,ie.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?("SOPGroupCode"==l&&le(e>0),"GroupName"==l&&ne(e>0),q(r)):("SOPGroupCode"==l&&le(!0),"GroupName"==l&&ne(!0),q(J.concat(r))),W(!1)}else se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},ke=(0,l.useCallback)((async(e,t,a)=>{"text"==a?j({type:a,name:t,value:e}):"number"==a?j({type:a,name:t,number:Number(e)}):"boolean"==a?j({type:a,name:t,boolean:e}):"date"==a&&j({type:"text",name:t,value:e})}),[Y]),Ze=e=>{se.ConfirmAlert(r().createElement(D(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Le(e),onCancel:()=>se.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ge("Yes"),cancelBtnText:Ge("No"),showCancel:!0},Ge("Do you want to update this record?")))};function Le(t){se.ConfirmAlert(null),z(t.IsDraft),e.createEasy||(oe({type:"editData",payload:[t]}),oe({type:"PrimaryId",payload:t.SOPGroupIDPK})),X(Number(t.SOPGroupIDPK)?Number(t.SOPGroupIDPK):0),j({type:"text",name:"SOPGroupCode",value:t.SOPGroupCode?t.SOPGroupCode:""}),j({type:"text",name:"GroupName",value:t.GroupName?t.GroupName:""})}const ze=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(s.Z,{expanded:B,onChange:e=>{}},r().createElement(o.Z,null,r().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&r().createElement("span",{style:{cursor:"pointer"}},r().createElement(b.u1R,{className:"backButtonList",onClick:()=>{se.ShowTableDiv(),setIndirectRecord(!1)}})),r().createElement("p",{id:"fld68L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[68]",onClick:()=>ie.ExpandTableValue&&Z(!B)},Q?"Edit ":"New ",Ae("68")," (",ie.count,")")),B&&r().createElement("div",{className:"displayFlex EntryHeaderBtn"},ie.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(d.Z,{labelPlacement:"bottom",frmctrlid:"fld68L3ECEntryCheckbox",control:r().createElement(A.Z,{checked:"1"==P,onChange:e=>N(e.target.checked)}),label:Ge(1==P?"Active":"In Active")}))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{se.AttachExpand(!0)},id:"fld68L3ECAttachment",disableRipple:!0,disabled:!Q},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",null,r().createElement(w.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Attach"))),!e.createEasy&&(!Q||!ie.editData.length>0)&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{be()},id:"fld68L3ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(w.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Reset"))),ie.AccessRights.IsAdd&&r().createElement(y.Z,{name:Q?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return t=Q?"update":"next",ze(Y.SOPGroupCode)?ze(Y.GroupName)?void("next"==t?function(t,a,l,r){if(Ne().length>0){le(!0),ne(!0),se.loading(!0),se.ConfirmAlert(null),oe({type:"IsDraft",payload:!1});const t=E.v.Api+"FP68S1/",a={data:[{p1:Q,p2:ze(Y.SOPGroupCode),p3:ze(Y.GroupName),p4:!0,p5:null,p6:!1,p7:!1,p8:localStorage.getItem("userid"),p9:f()().format("YYYY-MM-DD hh:mm:ss"),p10:localStorage.getItem("userid"),p11:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,p.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(se.alert({open:!0,color:"success",message:["Saved to Draft"]}),oe({type:"EditIsDraft",payload:!0}),se.attachmentSave(t[0].Data.IDPK),se.loading(!1),be(),e.clrImgstate(!0),se.AddOpen(t[0].Data.IDPK,"1")):(se.alert({open:!0,color:"warning",message:[a.message]}),se.loading(!1))}))}))}else se.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Te(t)):(se.alert({open:!0,color:"warning",message:[Ge("Please enter the")+""+Ae("GroupName")]}),!1):(se.alert({open:!0,color:"warning",message:[Ge("Please enter the")+""+Ae("SOPGroupCode")]}),!1);var t}}),Q?r().createElement(c.Z,{disabled:!1,frmctrlid:"fld68L3ECCloseBtn",onClick:()=>{se.detailview(!0,Q)}}):null))),r().createElement(i.Z,null,ie.AccessRights.IsAdd?null:ie.AccessRights.IsEdit?!ie.PrimaryId&&r().createElement("div",{className:"divdisable"}):r().createElement("div",{className:"divdisable"}),r().createElement("div",{id:"AssSOPGroupRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"AssSOPGroupRegistry-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"AssSOPGroupRegistry-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(m.Z,{spacing:2},r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(v.Z,{"data-testid":Y.SOPGroupCode,json:O,SPName:"AssSOPGroupRegistry",FieldName:"SOPGroupCode",tfLabel:Ae("SOPGroupCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ze(t),onClick:()=>{ae&&Be(1,"","ClearAll"),le(!0)},frmctrlid:"fld68_1283",frmctrlidName:"SOPGroupCode",fieldorder:"1",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{ae&&Be(e,t,"SOPGroupCode"),ke(t,"SOPGroupCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:Y.SOPGroupCode,loading:$,clear:e=>{e&&(j({type:"text",name:"SOPGroupCode",value:""}),le(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(v.Z,{"data-testid":Y.GroupName,json:O,SPName:"AssSOPGroupRegistry",FieldName:"GroupName",tfLabel:Ae("GroupName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ze(t),onClick:()=>{re&&Be(1,"","ClearAll"),ne(!0)},frmctrlid:"fld68_1284",frmctrlidName:"GroupName",fieldorder:"2",data:J,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:J.length>0?J[0].TotalCount:0,onChange:(e,t)=>{re&&Be(e,t,"GroupName"),ke(t,"GroupName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:Y.GroupName,loading:$,clear:e=>{e&&(j({type:"text",name:"GroupName",value:""}),ne(!0))}})))),r().createElement("div",{id:"AssSOPGroupRegistrySideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AssSOPGroupRegistrySideBar").style.width="0",void K(!1))},""),M&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},_))))))))})),R=F,B=e=>"string"==typeof e?e.trim():e;function k(e){const{url:t,PrimID:a,ParamType:l,state:r,active:n,token:s,DefaultPrimaryId:i}=e,o={data:[{p1:"SetDefaultSOPGroupID"==l?"NORECORDS"!=i&&i?i:0:a,p2:B(r.SOPGroupCode),p3:B(r.GroupName),p4:!1,p5:"SetDefaultSOPGroupID"==l?"SetDefault":null,p6:n,p7:"SetDefaultSOPGroupID"==l,p8:localStorage.getItem("userid"),p9:f()().format("YYYY-MM-DD hh:mm:ss"),p10:localStorage.getItem("userid"),p11:f()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,p.Z)(t,o,s).then((e=>e))}},60973:(e,t,a)=>{a.r(t),a.d(t,{AssSOPGroupRegistryContext:()=>D,ContextApi:()=>I,default:()=>E});var l=a(92950),r=a.n(l),n=a(45237),s=a(87044),i=a(14538),o=a(28682),d=a(67698),c=a(55995),p=a(26537),u=(a(35131),a(45965)),m=a(73668),g=(a(37274),a(9175)),y=a.n(g),S=a(67225);const D=(0,l.createContext)();function I(){const e=r().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const E=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),g=(0,l.useRef)(),E=(0,l.useRef)(),P=(0,l.useRef)(),f=(0,l.useRef)(),v=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[h,O]=(0,l.useState)(0),[C,G]=r().useReducer(m.I,m.E),[A,w]=(0,l.useState)(""),[b,N]=(0,l.useState)(""),[T,x]=(0,l.useState)([]),F=(0,l.useRef)(),[R,B]=(0,l.useState)(!1);function k(e){G({type:"IsExPView",payload:!0}),G({type:"IsCollapse",payload:!1}),document.getElementById("AssSOPGroupRegistry-MainTable").style.margin="0",document.getElementById("divAssSOPGroupRegistry-Entry").style.margin="0",document.getElementById("divAssSOPGroupRegistry-Entry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainTable").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.display="none",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayGrid"),G({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttAssSOPGroupRegistry")&&(document.getElementById("overlayimgAttAssSOPGroupRegistry").style.width="0%",document.getElementById("overlayPreviewAssSOPGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSOPGroupRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),k(),G({type:"IsDraft",payload:!1}),G({type:"ShowDetail",payload:!1}),G({type:"Add",payload:!0}),G({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&G({type:"editData",payload:[e.editData]})}),[e.editData]);const Z=e=>{G({type:"IsCollapse",payload:!0}),document.getElementById("AssSOPGroupRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divAssSOPGroupRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AssSOPGroupRegistry-MainTable").style.width="0%",document.getElementById("AssSOPGroupRegistry-MainTable").style.display="none",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.display="block",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayGrid"),G({type:"ExpandDetailValue",payload:!0}),G({type:"PrimaryId",payload:""}),t.current.clear(),e&&f.current.AddClose()},L=t=>{C.IsCollapse?(document.getElementById("AssSOPGroupRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divAssSOPGroupRegistry-Entry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.display="block",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssSOPGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSOPGroupRegistry").style.display="none"):(document.getElementById("overlayimgAttAssSOPGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSOPGroupRegistry").style.display="none",document.getElementById("divAssSOPGroupRegistry-Entry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainTable").style.width="auto",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{v((e=>{(0,p.Z)(1).then((e=>{var t=new Array;t.push(e),G({type:"token",payload:t}),O(t.length),z(e)}))}))}),[]);const z=e=>{(0,u.Z)(e,68).then((e=>G({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(G({type:"ShowDetail",payload:!0}),G({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),r().createElement("div",null,r().createElement(D.Provider,{value:{cstate:C,cdispatch:G,ContextApi:I,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>B(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>k(),viewtoggle:()=>{C.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>Z(e),AttachExpand:t=>(g.current.AttachmentData(C.PrimaryId),void(C.ExpandTableValue?(document.getElementById("overlayimgAttAssSOPGroupRegistry").style.width="28%",document.getElementById("divAssSOPGroupRegistry-Entry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainTable").style.width="auto",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAssSOPGroupRegistry").style.display="block"):(document.getElementById("AssSOPGroupRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.display="block",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssSOPGroupRegistry").style.width="28%",document.getElementById("overlayimgAttAssSOPGroupRegistry").style.display="block"))),RefreshTable:()=>{P.current.tableRefresh()},floatRefresh:()=>F.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttAssSOPGroupRegistry").style.display="none",attachmentSave:e=>{E.current.tempsave(e,b),N([])},detailview:(e,t)=>{P.current.viewrecord(t),G({type:"ShowDetail",payload:e}),G({type:"EditOpen",payload:!0}),C.ShowDetail&&a.current.viewtoggle()},clear:e=>{C.ShowDetail?(G({type:"ShowDetail",payload:!1}),G({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var r,n,s;r=e,s=l,G({type:"IsDraft",payload:n=t}),G({type:"EditOpen",payload:!1}),G({type:"EditIsDraft",payload:n}),Z(),G({type:"editData",payload:[r]}),G({type:"screenType",payload:s})},AddOpen:(e,t)=>((e,t)=>{G({type:"ShowDetail",payload:!0}),G({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&f.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(G({type:"ShowDetail",payload:!1}),G({type:"ExpandTableValue",payload:!0}),P.current.tableRefresh(),document.getElementById("AssSOPGroupRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divAssSOPGroupRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AssSOPGroupRegistry-MainTable").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainTable").style.display="block",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="0%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.display="none",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupRegistryTabDiv").style.width="100%",document.getElementById("AssSOPGroupRegistryFilterDiv").style.display="none",void(document.getElementById("AssSOPGroupRegistryFilterDiv").style.width="0%"))}},r().createElement("div",{id:"AssSOPGroupRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!C.ExpandTableValue&&r().createElement("div",{id:"AssSOPGroupRegistry-MainTable",className:"Maincontent"},0!==h?r().createElement(s.default,{ref:P}):null),r().createElement("div",{id:"AssSOPGroupRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},C.ShowDetail?r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSOPGroupRegistry-Entry",style:{width:"100%",display:"flex"}},r().createElement(i.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:C.PrimaryId,ref:a}),r().createElement("div",{style:{width:"70%"}},r().createElement(S.ZP,{ref:f,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:C.editData,AddOpen:C.EditOpen,parentId:C.PrimaryId,IsDraft:C.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:C.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),r().createElement(c.Z,{ref:E,menurefID:68,fileId:"LogoImgAssSOPGroupRegistry",imgloading:e=>w(e),valueIDPK:C.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewAssSOPGroupRegistry",AccessRights:C.AccessRights,frmctrlid:"PvwIm_68_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{C.PrimaryId?g.current.AttachmentData(C.PrimaryId):g.current.tempImg(e),N(e)},clearTempData:C.Add})),r().createElement(d.Z,{ImgAttachment:e=>L(),menurefID:68,fileId:"AttImgAssSOPGroupRegistry",imgid:"overlayimgAttAssSOPGroupRegistry",valueIDPK:C.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAssSOPGroupRegistry",ref:g,imgloading:A,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_68_L3_",timglist:e=>E.current.timglist(e)})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSOPGroupRegistry-Entry",style:{width:"100%"}},r().createElement(o.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>g.current.clrImgstate(e)}),r().createElement(S.ZP,{ref:f,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:C.editData,AddOpen:C.EditOpen,parentId:C.PrimaryId,IsDraft:C.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:C.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),r().createElement(c.Z,{ref:E,menurefID:68,fileId:"LogoImgAssSOPGroupRegistry",imgloading:e=>w(e),valueIDPK:C.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewAssSOPGroupRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{C.PrimaryId?g.current.AttachmentData(C.PrimaryId):g.current.tempImg(e),N(e)},clearTempData:C.Add})),r().createElement(d.Z,{ImgAttachment:e=>L(),menurefID:68,fileId:"AttImgAssSOPGroupRegistry",imgid:"overlayimgAttAssSOPGroupRegistry",valueIDPK:C.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAssSOPGroupRegistry",ref:g,imgloading:A,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_68_L3_",timglist:e=>E.current.timglist(e),clearTempData:C.Add}))),C.ExpandTableValue&&r().createElement("div",{id:"AssSOPGroupRegistry-MainTable",className:"Maincontent"},0!==h?r().createElement(s.default,{ref:P}):null)),R&&r().createElement(y(),{openDialog:R,closeDialog:e=>B(e),formID:68,PrimID:C.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},87044:(e,t,a)=>{a.r(t),a.d(t,{AssSOPGroupRegistryPopUpTable:()=>U,default:()=>V}),a(95866);var l=a(92950),r=a.n(l),n=a(45237),s=a(36939),i=a(61201),o=a(50743),d=a(59009),c=a(80366),p=a(51673),u=a(35802),m=a(54180),g=a(47516),y=a(39327),S=(a(14439),a(27848),a(42258),a(40900)),D=(a(83032),a(44117),a(60973)),I=a(43031),E=a(110),P=a(88995),f=a(5109),v=a(61657),h=a(868),O=a(24038),C=a(51209),G=a(8981),A=a(3212),w=a(86893),b=a(53854),N=a(51649),T=a(37106),x=a(5434),F=a(93521),R=a(8687),B=(a(79117),a(67225)),k=a(71168),Z=a.n(k),L=a(65107),z=a(79352),M=a(94986),K=a(15999);a(11557),window.clickFilter="";const V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),k=((0,l.useRef)(null),(0,l.useRef)(null)),[V]=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[U]=(0,l.useState)("68"),[_,H]=(0,l.useState)(!1),[Y,j]=(0,l.useState)(!1),[$,W]=(0,l.useState)(0),[J,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)({current:1,pageSize:100}),[ae,le]=(0,l.useState)(""),[re,ne]=(0,l.useState)([]),[se,ie]=(0,l.useState)({val:"",column:""}),[oe,de]=(0,l.useState)([]),[ce,pe]=(0,l.useState)(!1),[ue,me]=(0,l.useState)(""),[ge,ye]=(0,l.useState)(""),[Se,De]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)(!1),[Pe,fe]=(0,l.useState)([]),[ve,he]=(0,l.useState)([]),[Oe,Ce]=(0,l.useState)([]),[Ge,Ae]=(0,l.useState)(!1),we=(0,l.useContext)(e.context?e.context:D.AssSOPGroupRegistryContext),{cstate:be,cdispatch:Ne}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Te,xe]=(0,l.useState)({children:[{name:"AssSOPGroupRegistry",children:[]}]}),[Fe,Re]=(0,l.useState)(!1);let Be={SOPGroupIDPK:"",SOPGroupCode:"",GroupName:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ke,Ze]=(0,l.useState)(Be),[Le,ze]=(0,l.useState)(Be),[Me,Ke]=(0,l.useState)(Be),[Ve,Ue]=(0,l.useState)(Be),[_e,He]=(0,l.useState)("asc"),[Ye,je]=(0,l.useState)(""),[$e,We]=(0,l.useState)(!1),[Je,qe]=(0,l.useState)(!0),[Qe,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[rt,nt]=(0,l.useState)(0),[st,it]=(0,l.useState)({SOPGroupCode:"",GroupName:""}),[ot,dt]=(0,l.useState)(!1),[ct,pt]=(0,l.useState)([]),[ut,mt]=(0,l.useState)(0),[gt,yt]=(0,l.useState)(0),[St,Dt]=(0,l.useState)({current:1,pageSize:10}),[It,Et]=(0,l.useState)([]),[Pt,ft]=(0,l.useState)([]),[vt,ht]=(0,l.useState)(!1),[Ot]=(0,l.useState)(localStorage.getItem("Language")),[Ct]=(0,l.useState)(localStorage.getItem("Language")),[Gt,At]=Z()("68"),[wt,bt]=(0,l.useState)({}),[Nt,Tt]=(0,l.useState)({}),xt=[{columns:It,data:ae}];let Ft=(0,G.Z)();const Rt=e=>Ft?.[e]?Ft[e]:e,Bt=e=>be.language?.[e]?be.language[e]:e;(0,l.useEffect)((()=>{Mt(Gt)}),[Gt]),(0,l.useEffect)((()=>{be.token.length>0&&(be.IsDraft?Lt(ee,Be,"DraftSOPGroupID"):Lt(ee,Be,"SOPGroupID"))}),[]),(0,l.useEffect)((()=>{Ie||Ge||Fe||!ue?Ie?ze(ue):Ge?Ke(ue):Fe&&Ue(ue):be.IsDraft?Lt(ee,ue,"DraftSOPGroupID"):Lt(ee,ue,"SOPGroupID")}),[ue]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&j(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&zt(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{kt()},viewrecord:e=>{oe.map(((t,a)=>{t.SOPGroupIDPK==e&&Ne({type:"editData",payload:[oe[a]]})}))}})));const kt=()=>{be.IsDraft?Lt(ee,Be,"DraftSOPGroupID"):Lt(ee,Be,"SOPGroupID")};function Zt(e){we.loading(!0);let t=S.v.Api+"FP68S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(t,a,be.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,yt(t.Output.data[0].TotalCount)):(a=0,we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1)),10==e.pageSize?mt(Math.ceil(a)):20==e.pageSize?mt(Math.ceil(a/2)):50==e.pageSize?mt(Math.ceil(a/5)):100==e.pageSize&&mt(Math.ceil(a/10)),pt(t.Output.data),we.loading(!1)}}))}const Lt=(e,t,a,l,r,n)=>{we.loading(!0),"DraftPage"!==l&&We(be.IsDraft);let s=S.v.Api+"FP68S3/",i={data:{p1:r||(t&&t.SOPGroupIDPK?t.SOPGroupIDPK:null),p2:t&&t.SOPGroupCode?t.SOPGroupCode:null,p3:t&&t.GroupName?t.GroupName:null,p4:"DraftSOPGroupID"==a?"1":"0",p5:null,p6:t&&t.IsActive,p7:null,p8:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p9:t&&t.CreatedTtm?t.CreatedTtm:null,p10:t&&t.CreatedTtmType?t.CreatedTtmType:null,p11:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p12:null,p13:r?1:e.current,p14:e.pageSize,p15:a,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};(0,p.Z)(s,i,be.token[0]).then((s=>{if(r)(0,R.m)(s,Ne,l,n,we,"SOPGroupIDPK");else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let t=0;s.Output.data.length>0?(t=parseFloat(s.Output.data[0].TotalCount,10)/10,q(s.Output.data[0].TotalCount),Ne({type:"count",payload:s.Output.data[0].TotalCount}),X(s.Output.data[0].DraftCnt),"DraftPage"==l&&X(s.Output.data[0].TotalCount)):t=0,10==e.pageSize?W(Math.ceil(t)):20==e.pageSize?W(Math.ceil(t/2)):50==e.pageSize?W(Math.ceil(t/5)):100==e.pageSize&&W(Math.ceil(t/10)),be.ExpandTableValue&&(be.ExpandDetailValue?document.getElementById("AssSOPGroupRegistry-MainTable").style.display="block":(document.getElementById("AssSOPGroupRegistry-MainTable").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSOPGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSOPGroupRegistry-MainDiv").classList.add("displayGrid"))),de(s.Output.data),we.loading(!1),document.getElementById("divAssSOPGroupRegistry-Entry").style.height="auto"}}else we.loading(!1),"DraftSOPGroupID"===a?(we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),We(!1)):(de([]),te({current:1,pageSize:10}),W(0),q(0),Ne({type:"count",payload:0}),Object.values(t).some((e=>e))&&we.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else we.alert({open:!0,color:"warning",message:[s.Output.status.message]}),we.loading(!1)}))};function zt(e,t){we.loading(!0);const a=S.v.Api+"FP68S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:$e?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,q(e.Output.data[0].TotalCount),Ne({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?W(Math.ceil(a)):20==t.pageSize?W(Math.ceil(a/2)):50==t.pageSize?W(Math.ceil(a/5)):100==t.pageSize&&W(Math.ceil(a/10)),de(e.Output.data),we.loading(!1)}else de([]),W(0),q(0),Ne({type:"count",payload:0}),we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1);else we.alert({open:!0,color:"warning",message:[e.Output.status.message]}),we.loading(!1)}))}function Mt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Ne({type:"language",payload:Object.assign({},...r)}),it(a.reduce(((e,t)=>(e[t]="",e)),{})),fe(e),he(t),Ce(a),Et(l),ft(a)}const Kt=(e,t,a)=>{Ne({type:"IsDraft",payload:t}),Ne({type:"EditOpen",payload:!1}),Ne({type:"EditIsDraft",payload:t}),we.ExpandDetail(!1),a?we.AddOpen(e.SOPGroupIDPK,t):Ne({type:"editData",payload:[e]})},Vt=()=>{ce?(document.getElementById("AssSOPGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AssSOPGroupRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AssSOPGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",pe(!1),Ie?(document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ge?(document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSOPGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AssSOPGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AssSOPGroupRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AssSOPGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",pe(!0),Ie?(document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ge?(document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSOPGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),De(!1),window.clickFilter=!ce};return r().createElement("div",null,r().createElement(s.Z,{expanded:Je,onChange:()=>()=>{qe(Qe)}},r().createElement(o.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},r().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},r().createElement("div",{className:"displayFlex"},Fe||Ie||!$e?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[68]"},`${Bt("68")} (${J})`)):r().createElement("div",{className:"ListHeader displayFlex"},r().createElement(h.ZP,{title:"List",placement:"top"},r().createElement("div",{id:"fld68L3TCList",onClick:()=>{Qe||(Ne({type:"Add",payload:!0}),Ne({type:"Add",payload:!0})),we.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Lt({current:1,pageSize:100},Be,"SOPGroupID"),We(!1),Ne({type:"IsDraft",payload:!1})}),500)):(Lt({current:1,pageSize:100},Be,"SOPGroupID"),We(!1),Ne({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},r().createElement(N.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},"Drafts(",J,")")))),r().createElement("div",{style:{display:"flex"}},Ie||Ge||Fe?null:r().createElement("div",{className:"searchbar",id:"fld68L3TCSearchBar"},r().createElement(O.Z,{className:"search_input",type:"text",id:"AssSOPGroupRegistrygridsearch",placeholder:"Search",value:ge,onChange:e=>{if(ye(e),"0"==e.length)return Lt(ee,Be,$e?"DraftSOPGroupID":"SOPGroupID",$e&&"DraftPage"),!1;zt(e,{current:1,pageSize:100})}}),r().createElement("div",{className:"search_icon"},ge?r().createElement("div",{id:"fld68L3TCCloseIcon",onClick:()=>{ye(""),kt()}},r().createElement(c.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld68L3TCInputSearchIcon",onClick:()=>{document.getElementById("AssSOPGroupRegistrygridsearch").focus()}},r().createElement(P.Z,{className:"InputSearchIcon"})))),r().createElement("div",{style:{marginLeft:"5px"}},be.AccessRights.IsAdd&&r().createElement(A.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>{we.ExpandDetail(!0),we.Approval(!1)}}))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"AssSOPGroupRegistry-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},!$e&&r().createElement("div",{frmctrlid:"fld68L3TCFilterDataIsDraft",id:"AssSOPGroupRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Vt()},r().createElement(h.ZP,{title:Rt("Filter Data"),placement:"top"},r().createElement(g.Ol$,{className:"tableFilterColumnIcon"})),r().createElement("span",{className:"iconinfo"},Rt("Filter Data"))),Y||Ie||Fe||$e?null:r().createElement(m.Z,{title:"68",formctrlidprint:"fld68L3TCExportPrint",formctrlidexport:"fld68L3TCExportTable",formctrlidrefresh:"fld68L3TCExportRefresh",data:re,exportData:xt,Items:Pt,columnIndex:It,TableVisibleItem:ve,userGridViewFormID:U,TableTotalCount:J,triggerApi:e=>{((e,t,l,r,n)=>{if(0===J)return we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;we.loading(!0);let s=S.v.Api+"FP68S3/",i={data:{p1:e&&e.SOPGroupIDPK?e.SOPGroupIDPK:null,p2:e&&e.SOPGroupCode?e.SOPGroupCode:null,p3:e&&e.GroupName?e.GroupName:null,p4:$e?"1":"0",p5:null,p6:e&&e.IsActive,p7:null,p8:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p9:e&&e.CreatedTtm?e.CreatedTtm:null,p10:e&&e.CreatedTtmType?e.CreatedTtmType:null,p11:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p12:null,p13:ee.current,p14:J,p15:$e?"DraftSOPGroupID":"SOPGroupID",p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};we.loading(!1),we.alert({open:!0,color:"success",message:[`${Bt(68)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(s,i,be.token[0],n).then((e=>{(0,F.PDF_Excel_Generate)(e,we,Pt,le,a,n)}))})(ue,se.column,0,0,e)},Refresh:()=>{ye(""),k.current.clearItem(),te({current:1,pageSize:100}),be.IsDraft?Lt({current:1,pageSize:100},Be,"DraftSOPGroupID"):Lt({current:1,pageSize:100},Be,"SOPGroupID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:a}),Ie||Ge||Fe||!Qe?null:!$e&&be.AccessRights.IsAdd&&r().createElement("div",{id:"AssSOPGroupRegistrycoldiv",className:"buttoncard",onClick:()=>{Se?(document.getElementById("AssSOPGroupRegistryFilterDiv").style.width="0%",document.getElementById("AssSOPGroupRegistryTabDiv").style.width="100%",document.getElementById("AssSOPGroupRegistryFilterDiv").style.display="none",document.getElementById("AssSOPGroupRegistrycoldiv").style.width="fit-content",document.getElementById("AssSOPGroupRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("AssSOPGroupRegistryFilterDiv").style.width="25%",document.getElementById("AssSOPGroupRegistryTabDiv").style.width="75%",document.getElementById("AssSOPGroupRegistryFilterDiv").style.display="block",document.getElementById("AssSOPGroupRegistryfildiv").style.width="fit-content",document.getElementById("AssSOPGroupRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSOPGroupRegistrycoldiv").style.width="fit-content",document.getElementById("AssSOPGroupRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),pe(!1)}},r().createElement(h.ZP,{title:"{t('Manage Columns')}",placement:"top"},r().createElement("span",null,r().createElement(y.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld68L3TCFilterDataIsAdd"}))),r().createElement("span",{className:"iconinfo"},Rt("Manage Columns"))),!$e&&_&&!Ie&&!Fe&&!Y&&Qe&&r().createElement("div",{id:"fld68L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(h.ZP,{title:Rt("Migration"),placement:"top"},r().createElement("span",null,r().createElement(z.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Rt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!Y&&Qe&&!Fe&&!Ie&&!$e&&r().createElement("div",null,r().createElement("div",{id:"AssSOPGroupRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ot?dt(!1):(dt(!0),Zt({current:1,pageSize:100}))}},r().createElement("div",{id:"fld68L3TCTableScrollData"},r().createElement(h.ZP,{title:Rt("Table Scroll Data"),placement:"top"},r().createElement(K.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Rt("Table Scroll Data")))),be.AccessRights.IsAdd&&!Fe&&!Ie&&!$e&&r().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},r().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(Q>0){nt(0),te({current:1,pageSize:100}),Qe||(Ne({type:"Add",payload:!0}),Ne({type:"Add",payload:!0})),we.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Lt({current:1,pageSize:100},Be,"DraftSOPGroupID"),We(!0),Ne({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ee(!1),Ae(!1)}),500)):(Lt({current:1,pageSize:100},Be,"DraftSOPGroupID"),We(!0),Ne({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ee(!1),Ae(!1)),document.getElementById("AssSOPGroupRegistryFilterDiv").style.width="0%",document.getElementById("AssSOPGroupRegistryTabDiv").style.width="100%",document.getElementById("AssSOPGroupRegistryFilterDiv").style.display="none"}else we.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},r().createElement(h.ZP,{title:Rt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(T.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Rt("Drafts"))))),Ie||Ge||Fe||$e?null:r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Fe||$e?null:r().createElement("div",null,Qe&&r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{id:"fld68L3TCListView",className:at?"buttonList":"buttonGrid",onClick:()=>{pe(!0),lt(!0),ht(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(b.umT,null)),r().createElement("span",null,"List")),r().createElement("div",{id:"fld68L3TCGridView",className:at||vt?"buttonGrid":"buttonList",onClick:()=>{lt(!1),ht(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.aCJ,null)),r().createElement("span",null,"Card")),r().createElement("div",{className:vt?"buttonList":"buttonGrid",id:"fld68L3TCTileView",onClick:()=>{ht(!0),lt(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(x.f_H,null)),r().createElement("span",null,"Tile"))))))),r().createElement("div",{id:"AssSOPGroupRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},r().createElement("div",{id:"AssSOPGroupRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&r().createElement(u.default,{CloseBtnClk:()=>Vt(),searchData:e=>{me(e||wt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));Tt(t)},formID:U,data:()=>{},visibleData:()=>{},token:be.token[0],userGrid:Gt,msg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{kt()}}),Se&&!Ie&&!Ge&&r().createElement(f.Z,{frmctrlid:"fld68L3TCTableColumnOrder",loading:e=>we.loading(e),AltMsg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),select:Se,userID:V,userGridViewFormID:U,saved:(e,t)=>{e&&Mt(t),At(t)},Token:be.token[0]})),r().createElement("div",{id:"AssSOPGroupRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},at?r().createElement("div",null,Ie&&r().createElement(ListComponent,{onLoad:Ie,data:(e,t)=>{!function(e,t){Ne({type:"editData",payload:[e]}),pe(!1),document.getElementById("AssSOPGroupRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("AssSOPGroupRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("AssSOPGroupRegistry-ShareView").classList.remove("ViewBtnAct"),Ee(!1),Ae(!1),Re(!1);let a={SOPGroupCode:"",GroupName:""};Ze(a),Lt({current:1,pageSize:100},a,"SOPGroupID")}(e)},json:Le}),!Ie&&!Fe&&r().createElement("div",null,ot?r().createElement(M.Z,{data:ct,expanded:()=>{},edit:(e,t,a)=>{Kt(e,t,a),we.ExpandTable(!1),Ne({type:"EditIsDraft",payload:t}),Ne({type:"EditOpen",payload:!1})}}):r().createElement(L.Z,{ref:k,frmctrlid:"tblcs_68_L3_",id:"AssSOPGroupRegistry-MainTable",headerdata:ve,tablesearchparams:st,searchvalue:e=>{it(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...Nt};bt(t),te({current:1,pageSize:10}),Lt({current:1,pageSize:10},t,$e?"DraftSOPGroupID":"SOPGroupID",$e&&"DraftPage")},bodydata:oe,ondrag:(e,t)=>{Kt(t,$e,!0)},bodyitem:Oe,visibleitem:ve,isdraft:$e,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:U,accessrights:be.AccessRights,expanded:()=>{},edit:(e,t,a)=>{Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Lt(ee,null,t?"DraftSOPGroupID":"SOPGroupID",t&&"DraftPage",e[l],a)}))},viewtoggle:we.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return r().createElement(B.ZP,{loading:e=>we.loading(e),alertmsg:e=>we.alert(e),ConfirmAlert:e=>{we.ConfirmAlert(e)},data:be.editData,AddOpen:be.EditOpen,parentId:t.SOPGroupIDPK,IsDraft:be.EditIsDraft,tableview:e})}}))):r().createElement(C.Z,{frmctrlid:"fld68L3TCExpandedCardDual",data:oe,id:"AssSOPGroupRegistry",title:"Asset SOP Group",cardTile:!!vt,visibleitem:ve,gridCountmdlg:Qe?4:12,gridCountxssm:Qe?6:12,expanded:()=>{},edit:Kt,viewtoggle:we.viewtoggle,onDoubleClick:(e,t)=>{Y?we.select(e):("edit"==t?(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:$e}),Ne({type:"ShowDetail",payload:!1}),we.ExpandDetail(!0)):(Ne({type:"editData",payload:[e]}),Ne({type:"IsDraft",payload:$e}),Ne({type:"ShowDetail",payload:!0}),we.ExpandDetail(!0),we.viewtoggle()),Qe&&(pe(!1),De(!1)))}})))))),Ie||Ge||Fe?null:Qe?ot?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:ut,color:"primary",page:St.current,onChange:(e,t)=>{Dt({current:t,pageSize:St.pageSize}),mt(t),Zt({current:t,pageSize:St.pageSize})}}),r().createElement("div",null,r().createElement(E.Z,{value:St.pageSize,frmctrlid:"fld68L3TCSelectPagination",onChange:e=>{Dt({current:1,pageSize:e.target.value}),Zt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page"},"/ per page Of (",gt,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:$,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),$e)Lt({current:t,pageSize:ee.pageSize},ue,"DraftSOPGroupID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ge.length>0?zt(ge,{current:t,pageSize:ee.pageSize}):Lt({current:t,pageSize:ee.pageSize},ue,"SOPGroupID")}}}),r().createElement("div",null,r().createElement(E.Z,{value:ee.pageSize,frmctrlid:"fld68L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),$e?Lt({current:1,pageSize:e.target.value},ke,"DraftSOPGroupID","DraftPage"):ge.length>0?zt(ge,{current:1,pageSize:e.target.value}):Lt({current:1,pageSize:e.target.value},ke,"SOPGroupID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page "},"/ per page Of (",J,") ")):r().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},r().createElement(v.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(J),page:rt,onPageChange:(e,t)=>{nt(t),Lt({current:t+1,pageSize:ee.pageSize},Be,$e?"DraftSOPGroupID":"SOPGroupID",$e&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{nt(0)}})))})),U=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),c=(0,l.useRef)(null),[u]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g,y]=Z()("68"),[P,f]=(0,l.useState)(!1),[v,h]=(0,l.useState)(0),[O,C]=(0,l.useState)(0),[A,w]=(0,l.useState)({current:1,pageSize:100}),[b,N]=(0,l.useState)(""),[T,x]=(0,l.useState)([]),[R,B]=(0,l.useState)({val:"",column:""}),[k,z]=(0,l.useState)([]),[M,K]=(0,l.useState)(!1),[V,U]=(0,l.useState)(""),[_,H]=(0,l.useState)([]),[Y,j]=(0,l.useState)([]),[$,W]=(0,l.useState)([]),J=(0,l.useContext)(D.AssSOPGroupRegistryContext),{cstate:q,cdispatch:Q}=(0,D.ContextApi)();let X={SOPGroupIDPK:"",SOPGroupCode:"",GroupName:"",IsDraft:"",Remarks:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!1),[se,ie]=(0,l.useState)(!0),[oe,de]=(0,l.useState)(0),[ce,pe]=(0,l.useState)({SOPGroupCode:"",GroupName:""}),[ue,me]=(0,l.useState)([]),[ge,ye]=(0,l.useState)([]),[Se,De]=(0,l.useState)([]),[Ie,Ee]=(0,l.useState)(!1),[Pe,fe]=(0,l.useState)("");let ve=(0,G.Z)();const he=[{columns:ue,data:b}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...r)}),pe(a.reduce(((e,t)=>(e[t]="",e)),{})),H(e),j(t),W(a),me(l),ye(a)}(g)}),[g]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Oe()},viewrecord:e=>{k.map(((t,a)=>{t.SOPGroupIDPK==e&&Q({type:"editData",payload:[k[a]]})}))},DialogTableProps:e=>{f(e)},searchData:(t,a,l)=>{J.loading(!0),d.current&&d.current.clearItem(),fe(l),w({current:1,pageSize:10}),X=e.ApiParamType.params,Ce({current:1,pageSize:100},a,l),c.current&&c.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&ie(e.cardview),e.Dialogview&&f(e.Dialogview)}),[e.cardview,e.Dialogview]);const Oe=()=>{q.IsDraft?Ce(A,X,"DraftSOPGroupID"):Ce(A,X,"SOPGroupID")},Ce=async(t,a,l,r)=>{if(q.token[0]){if(J.loading(!0),"DraftPage"!==r&&te(q.IsDraft),await fe((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}U(a);let n=S.v.Api+`${e.ApiType}/`,s={data:{p1:a&&a.SOPGroupIDPK?a.SOPGroupIDPK:null,p2:a&&a.SOPGroupCode?a.SOPGroupCode:null,p3:a&&a.GroupName?a.GroupName:null,p4:"DraftSOPGroupID"==l?"1":"0",p5:null,p6:a&&a.IsActive,p7:null,p8:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p9:a&&a.CreatedTtm?a.CreatedTtm:null,p10:a&&a.CreatedTtmType?a.CreatedTtmType:null,p11:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p12:null,p13:t.current,p14:t.pageSize,p15:l,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};(0,p.Z)(n,s,q.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,C(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?h(Math.ceil(a)):20==t.pageSize?h(Math.ceil(a/2)):50==t.pageSize?h(Math.ceil(a/5)):100==t.pageSize&&h(Math.ceil(a/10)),z(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(a="There is no Record Found",ve?.[a]?ve[a]:a)]}),z([]),h(0),C(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ne(q.ExpandTableValue)}),[q.ExpandTableValue]),r().createElement("div",null,r().createElement(s.Z,{expanded:ae,onChange:()=>()=>{le(re)}},r().createElement(o.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",O,")")))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"AssSOPGroupRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(m.Z,{formctrlidprint:"fld68L3TCExportPrint",formctrlidexport:"fld68L3TCExportTable",formctrlidrefresh:"fld68L3TCExportRefresh",title:"68",data:T,exportData:he,Items:ge,columnIndex:ue,triggerApi:t=>{((t,l,r)=>{if(0===O)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let n=S.v.Api+`${e.ApiType}/`,s={data:{p1:t||(t&&t.SOPGroupIDPK?t.SOPGroupIDPK:null),p2:t&&t.SOPGroupCode?t.SOPGroupCode:null,p3:t&&t.GroupName?t.GroupName:null,p4:ee?"1":"0",p5:null,p6:t&&t.IsActive,p7:null,p8:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p9:t&&t.CreatedTtm?t.CreatedTtm:null,p10:t&&t.CreatedTtmType?t.CreatedTtmType:null,p11:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p12:null,p13:1,p14:O,p15:Pe,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};var i;J.loading(!1),J.alert({open:!0,color:"success",message:[`${i="68",q.language?.[i]?q.language[i]:i} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,p.Z)(n,s,q.token[0],r).then((e=>{(0,F.PDF_Excel_Generate)(e,J,ge,N,a,r)}))})(V,R.column,t)},TableVisibleItem:Y,userGridViewFormID:"68",TableTotalCount:O,Refresh:()=>{Ce({current:1,pageSize:100},V,Pe),w({current:1,pageSize:100}),c.current&&c.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:v,siblingCount:0,color:"primary",page:A.current,onChange:(e,t)=>{if(w({current:t,pageSize:A.pageSize}),ee)Ce({current:t,pageSize:A.pageSize},V,"DraftSOPGroupID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Ce({current:t,pageSize:A.pageSize},V,"SOPGroupID")}}}),r().createElement("div",null,r().createElement(E.Z,{value:A.pageSize,onChange:e=>{w({current:1,pageSize:e.target.value}),Ce({current:1,pageSize:e.target.value},V,"SOPGroupID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),re&&r().createElement("p",{className:"per-page"},"/ per page Of (",O,")"))),r().createElement("div",{id:"AssSOPGroupRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"AssSOPGroupRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:c,type:e.viewtype,id:"AssSOPGroupRegistry",headerdata:Y,tablesearchparams:ce,searchvalue:e=>{pe(e),w({current:1,pageSize:100}),Ce({current:1,pageSize:100},e,ee?"DraftSOPGroupID":"SOPGroupID",ee&&"DraftPage")},bodydata:k,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:Y,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{P?J.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?J.edit(t,a,l):J.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{z(e)},color:!0,isexpanded:!1}):r().createElement(L.Z,{frmctrlid:"tblcs_68_L3_",ref:d,id:"AssSOPGroupRegistryTable",type:e.viewtype,headerdata:Y,tablesearchparams:ce,searchvalue:e=>{let t={...V,...e};pe(e),U(t),w({current:1,pageSize:100}),Ce(A,t,Pe)},bodydata:k,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:Y,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{P?J.select(t):(e.editdata(t,"view"),J.edit(t,a,1!=t.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},35802:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R}),a(95866),a(99058);var l=a(92950),r=a.n(l),n=a(80366),s=a(51673),i=a(282),o=a(868),d=a(78513),c=a(14439),p=a(27848),u=a(40900),m=a(64059),g=a(24038),y=a(8981),S=a(47516),D=a(86893),I=a(60973),E=a(33681),P=a(63163),f=(a(35131),a(61956),a(93657)),v=a(53375),h=a(52663),O=a(66083),C=a(29525),G=a(66856),A=a(39803),w=a(99940),b=a(17149),N=a(62810),T=a(30553),x=a(92381),F=a(25108);const R=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[R,B]=(0,l.useState)([]),[k,Z]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[L,z]=(0,l.useState)(""),[M,K]=(0,l.useState)({}),[V,U]=(0,l.useState)(!0),[_,H]=(0,l.useState)(!1),{cstate:Y,cdispatch:j}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[$,W]=(0,l.useState)(1),[J,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[re,ne]=(0,l.useState)(!0),[se,ie]=(0,l.useState)(!1),[oe,de]=(0,l.useState)(""),[ce,pe]=(0,l.useState)(!1),[ue,me]=(0,l.useState)(!1),[ge,ye]=(0,l.useState)(!1),[Se,De]=(0,l.useState)(""),Ie=(0,l.useRef)(null),[Ee,Pe]=(0,l.useState)({});let fe=localStorage.getItem("Language");const ve={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let he=(0,y.Z)();const Oe=e=>he[e]?he[e]:e,Ce=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[ve[fe]];function Ge(){K({}),te({}),e.searchData({}),H(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Pe(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Ie.current&&Ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ge()}})));const Ae=async(t,a,l,r)=>{X(!0);try{Ie.current&&Ie.current.abort();const n=new AbortController;Ie.current=n;let i="",o=[],d={};await Z((e=>(i=e.name,e))),await K((e=>(o=e,e))),await te((e=>(d=e,e)));const c=u.v.Api+"FP68S3/",p={data:{p1:"SOPGroupIDPK"==a?null:await Te(),p2:"SOPGroupCode"==i&&l.length>0?"%"+l+"%":null,p3:"GroupName"==i&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:"p8"==i&&l.length>0?l:null,p9:null,p10:null,p11:null,p12:null,p13:r||1,p14:10,p15:t,p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}},m=await(0,s.Z)(c,p,e.token,"",n.signal);if(!m)return!1;const g=m.Output.status.code,y=m.Output.data;if("200"===g)if(y.length>0)if(1===r){let e=be(y,i),t=we(e,M[i],a);B(t),q(t.length>0?t[0].TotalCount:M[i].length)}else{let e=[...R,...y],t=be(e,i);q(t.length<10?t.length:y[0].TotalCount),B(be(t,i))}else L.length>0&&B([]),q(R.length);else e.alertmsg("error",[m.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},we=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),be=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a)),Ne=async t=>{let a="",l={};await K((e=>(a=e,e)));let r=[...ae],n=[];for(let e of r){let t=a[e]?.map((e=>e.SOPGroupIDPK)).toString();t&&n.push(t)}await te((e=>(l=e,e)));let s={SOPGroupIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:""};"saveFav"==t?Re("save",s):(e.searchData(s),H(!1))};async function Te(){let e={};await K((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.SOPGroupIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function xe(t,a,l,r,n,s){let i={[r]:{From:t,Type:l,To:a}},o={};te((e=>({...e,...i})));const d={...M};let c=[...ae],p=[];for(let e of c){let t=d[e]?.map((e=>e.SOPGroupIDPK)).toString();t&&p.push(t)}await te((e=>(o=e,e)));let u={SOPGroupIDPK:p?[...new Set(p)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null};e.searchData(u)}function Fe(){return r().createElement(m.Z,{frmctrlid:"fld68L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{xe(e,t,a,k.name,l)},keyboardback:()=>{H(!1),Z({idpk:"",name:"",type:"",fieldidpk:""})},title:Oe(k.name),fieldname:k.name,save:e=>{alert(!0)}})}const Re=(t,a)=>{(0,x.Z)(t,e.formID,a,oe).then((e=>{const t=e.Output.data;De(t)}))};return r().createElement("div",null,r().createElement(h.Z,{onClose:()=>pe(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},r().createElement(O.Z,{id:"customized-dialog-title",onClose:()=>pe(!1)},"Add Favorite"),r().createElement(C.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(A.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>de(e.target.value),fullWidth:!0})),r().createElement(T.Z,{style:{color:"#337ab7"},control:r().createElement(w.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(N.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>me(e.target.checked)}),label:"Quick"}),r().createElement(T.Z,{style:{color:"#337ab7"},control:r().createElement(w.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(N.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ge,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),r().createElement(G.Z,null,r().createElement(i.Z,{onClick:()=>{Ne("saveFav"),pe(!1)},color:"primary"},"Save"))),_?"Created Ttm"===k.name||k.name.includes("Date")?r().createElement(Fe,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(c.Z,null,r().createElement(p.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Ce(k.idpk)," (",R.length,"/",J,")")),r().createElement(p.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(o.ZP,{title:Oe("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(n.Z,{id:"fld68L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),Z({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),M[k.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(i.Z,{frmctrlid:"fld68L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,F.log("clear fewItems",e),t))),e[k.name]=[],Ae(k.type,k.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},Oe("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},V?r().createElement(o.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{U(!1)}}))):r().createElement(o.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{U(!0)}})))),r().createElement("ul",null,M[k.name]&&M[k.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:V?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[k.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[k.name],onClick:()=>(async(e,t)=>{W(1);let a=M[k.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[k.name]=a,K(l),B((t=>[e,...t]))})(e)},r().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(g.Z,{frmctrlid:"fld68L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:L,placeholder:Oe("Enter ")+" "+Ce(k.idpk),onChange:e=>{z(e),Ae(k.type,k.fieldidpk,e,1,Te())}})),r().createElement("div",{id:"fld68L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ne},r().createElement(o.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(E.Z,{color:"secondary"})),r().createElement("div",{id:"fld68L3TFCScrollYDefault",className:"height65 scrollYDefault"},R.length>0&&R.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[k.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let r=l[k.name];t[k.name]=r?[...a,...r]:a,l={...l,...t},K(l),B((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(d.Z,{className:"DotIcon"}),r().createElement("span",null,e[k.name])))),R.length+0<J&&R.length>0&&r().createElement("div",{id:"fld68L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W($+1),Ae(k.type,k.fieldidpk,"",$+1)}},r().createElement("p",null," more... ")),0===R.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(S.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",Oe("Filter")," ",oe.length>0&&`(${oe})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(o.ZP,{title:"Favorite List",placement:"top"},se?r().createElement(n.Z,{className:"favlisticon",onClick:()=>{ie(!1),De(""),Ge()}}):r().createElement(f.Z,{className:"favlisticon",onClick:()=>{ie(!0),Re("select"),Ge()}})),Object.keys(M).length>0&&r().createElement(o.ZP,{title:"Save Favorites",placement:"top"},r().createElement(v.Z,{className:"favlisticon",onClick:()=>{pe(!0)}})),r().createElement(o.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnApplyButton",onClick:()=>{Ge()},id:"fld68L3TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},Oe("Clear")))),r().createElement(o.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld68L3TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},Oe("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld68L3TFCFilItems",className:"FilterItems"},!Se&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),z(""),B([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"SOPGroupIDPK";Z({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterSOPGroupID",fieldidpk:t}),Ae(e.IsForeign?"Filter"+e.FieldName:"FilterSOPGroupID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Ce(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Ce(e.AdminUserGridViewIDPK)),r().createElement(P.Z,{checked:"1"==re,onChange:t=>{ne(t.target.checked),xe("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Ce(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,M[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},M[a][0][a]),M[a].length>1&&r().createElement("span",{className:"RoundedDivName"},M[a][1][a]),M[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(M[a].length-2))))));var a})),Se&&Se.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ae("FilterSOPGroupID",a),Ne("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}))},14538:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O});var l=a(92950),r=a.n(l),n=a(45237),s=(a(37148),a(3212)),i=a(29800),o=a(14439),d=a(27848),c=(a(10966),a(36939)),p=a(61201),u=a(50743),m=a(60973),g=(a(21392),a(51673)),y=a(40900),S=a(26537),D=(a(24038),a(28682)),I=(a(77366),a(97829),a(8981)),E=(a(63163),a(1695)),P=(a(79117),a(99216)),f=(a(35131),a(61956),a(51649)),v=a(61924),h=a.n(v);const O=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[v,O]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[C,G]=(0,l.useState)(!0),[A,w]=(0,l.useState)(e.showDetail),[b,N]=(0,l.useState)(""),[T,x]=r().useState(!1),[F,R]=r().useState(""),[B,k]=r().useState(!1),Z=(0,l.useContext)(m.AssSOPGroupRegistryContext),{cstate:L,cdispatch:z}=(0,m.ContextApi)(),[M,K]=(0,l.useState)(!1),[V,U]=(0,l.useState)(""),[_,H]=(0,l.useState)(""),[Y,j]=(0,l.useState)("");let $=(0,I.Z)();(0,l.useEffect)((()=>{L.editData.length>0&&(O(L.editData),x(!1),z({type:"PrimaryId",payload:L.editData[0].SOPGroupIDPK}))}),[L.editData]),(0,l.useEffect)((()=>{L.showTableview&&j(L.showTableview)}),[L.showTableview]),(0,l.useEffect)((()=>{G(L.ExpandDetailValue)}),[L.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{G(e),x(null)},viewtoggle:()=>{x(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=y.v.Api+"FP68S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:e.Dialogview?"1":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:1,p14:10,p15:a?"DraftSOPGroupID":"SOPGroupID",p16:null,p17:null,p18:localStorage.getItem("UserGroupID"),p19:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,g.Z)(l,r,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&O(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===T&&a.current.clear()}})));const W=e=>$?.[e]?$?.[e]:e,J=e=>L.language?.[e]?L.language[e]:e;function q(e,t){}const Q=e=>(0,D.trimFunc)(v[0].SOPGroupCode)?(0,D.trimFunc)(v[0].GroupName)?void Z.ConfirmAlert(r().createElement(h(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:W("Are you sure?"),onConfirm:()=>(()=>{Z.loading(!0),Z.ConfirmAlert(null),z({type:"IsDraft",payload:!1});let e={url:y.v.Api+"FP68S2/",PrimID:v[0].SOPGroupIDPK,ParamType:"",state:v[0],active:1,token:L.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,r=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:r}),Z.loading(!1)):(()=>{Z.loading(!0);let e={url:y.v.Api+"FP68S1/",PrimID:v[0].SOPGroupIDPK,ParamType:"",state:v[0],active:1,token:L.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(Z.alert({open:!0,color:"success",message:[t.message]}),Z.loading(!1),Z.ShowTableDiv(),Z.RefreshTable(),Z.Approval(!0))}))})())}))})(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:W("Yes"),cancelBtnText:W("Cancel"),showCancel:!0},L.PrimaryId?W("Do you want to Update?"):W("Do you want to Save?"))):(Z.alert({open:!0,color:"warning",message:[W("Please enter the")+""+J("GroupName")]}),!1):(Z.alert({open:!0,color:"warning",message:[W("Please enter the")+""+J("SOPGroupCode")]}),!1);return r().createElement("div",{className:"SubContent_1"},r().createElement(c.Z,{expanded:C,onChange:()=>()=>{e.expandTable&&G(!C)}},!T&&r().createElement(u.Z,null,r().createElement(o.Z,{container:!0},r().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement(f.u1R,{className:"backButtonList",onClick:()=>{Z.ShowTableDiv(),Z.RefreshTable()}})),r().createElement("p",{className:"DListP"},L.IsDraft?"Draft ":"",J("68"))))))),r().createElement(p.Z,{style:{display:"block"}},v.map(((e,t)=>r().createElement("div",{key:t},r().createElement(P.Z,{tableName:"AssSOPGroupRegistry",tableID:68,parentID:e.SOPGroupIDPK,fldid:"fld68L3VCContainer",OpenSlideComponent:q,index:t,val:e,tf:J,t:W,title:"10.0.0.59-3:08:17 PM-18-7[68]"}))))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&L.AccessRights.IsAdd&&r().createElement(s.Z,{className:"L1AddBtnCommon",onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:[]}),z({type:"PrimaryId",payload:L.editData[0].SOPGroupIDPK})},disabled:!1}),L.IsDraft&&r().createElement(i.Z,{onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:v}),z({type:"PrimaryId",payload:L.editData[0].SOPGroupIDPK})},disabled:!1}),r().createElement(E.Z,{name:L.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld68L3ECSaveBtnApprovalStatus",onClick:()=>{Q()}}))))}))}}]);