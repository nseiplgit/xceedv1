/*! For license information please see 3098.76b99fb6bc57570dbd80.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[3098,7164,6408],{45332:(e,t,a)=>{a.d(t,{Z:()=>m});var l=a(22122),r=a(81253),s=a(85061),n=a(92950),i=a(86010),o=a(79437),p=a(52543),d=a(83711),u=function(e,t){var a,l,r,n;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,s.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,s.Z)(t.imgFullHeight.split(" ")))):((r=e.classList).remove.apply(r,(0,s.Z)(t.imgFullHeight.split(" "))),(n=e.classList).add.apply(n,(0,s.Z)(t.imgFullWidth.split(" ")))))},c=n.forwardRef((function(e,t){var a=e.children,s=e.classes,p=e.className,c=(e.cols,e.component),m=void 0===c?"li":c,g=(e.rows,(0,r.Z)(e,["children","classes","className","cols","component","rows"])),y=n.useRef(null);return n.useEffect((function(){!function(e,t){e&&(e.complete?u(e,t):e.addEventListener("load",(function(){u(e,t)})))}(y.current,s)})),n.useEffect((function(){var e=(0,o.Z)((function(){u(y.current,s)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[s]),n.createElement(m,(0,l.Z)({className:(0,i.default)(s.root,p),ref:t},g),n.createElement("div",{className:s.tile},n.Children.map(a,(function(e){return n.isValidElement(e)?"img"===e.type||(0,d.Z)(e,["Image"])?n.cloneElement(e,{ref:y}):e:null}))))}));const m=(0,p.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(c)},69685:(e,t,a)=>{a.d(t,{Z:()=>p});var l=a(22122),r=a(81253),s=a(92950),n=(a(59864),a(86010)),i=a(52543),o=s.forwardRef((function(e,t){var a=e.cellHeight,i=e.children,o=e.classes,p=e.className,d=e.cols,u=void 0===d?2:d,c=e.component,m=void 0===c?"ul":c,g=e.gap,y=void 0===g?4:g,D=e.rowHeight,S=void 0===D?180:D,I=e.spacing,E=e.style,f=(0,r.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),v=I||y,P=a||S;return s.createElement(m,(0,l.Z)({className:(0,n.default)(o.root,p),ref:t,style:(0,l.Z)({margin:-v/2},E)},f),s.Children.map(i,(function(e){if(!s.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return s.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/u*t,"%"),height:"auto"===P?"auto":P*a+v,padding:v/2},e.props.style)})})))}));const p=(0,i.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(o)},83173:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var s=r(a(92950)),n=(0,l(a(2108)).default)(s.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=n},92448:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var s=r(a(92950)),n=(0,l(a(2108)).default)(s.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=n},93657:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var s=r(a(92950)),n=(0,l(a(2108)).default)(s.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=n},53375:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var s=r(a(92950)),n=(0,l(a(2108)).default)(s.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=n},85984:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var s=r(a(92950)),n=(0,l(a(2108)).default)(s.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=n},92381:(e,t,a)=>{a.d(t,{Z:()=>p});var l=a(40900),r=a(26537),s=a(61956),n=a(35131),i=a.n(n),o=a(25108);function p(e,t,a,n){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":r.Z.TokenIDPK,"x-tokenname":r.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return o.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",p={data:[{p1:0,p2:null,p3:n,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:i()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:i()().format("YYYY-MM-DD hh:mm:ss")}]};(0,r.Z)(0).then((t=>{(0,s.Z)(e,p,t).then((e=>{200==e[0].status.code?o.log(e,"RES"):o.log("Error")}))}))}}},8687:(e,t,a)=>{function l(e,t,a,l,r,s){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let n=e.Output.data[0];t({type:"IsDraft",payload:a}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:a}),r.ExpandDetail(!1),l?r.AddOpen(n[s],a):t({type:"editData",payload:[n]}),r.loading(!1)}}else r.loading(!1),r.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){r.loading(!1),r.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{m:()=>l})},57729:(e,t,a)=>{a.d(t,{Bn:()=>Re,kN:()=>ke,ZP:()=>Be});var l=a(92950),r=a.n(l),s=(a(95866),a(45237)),n=a(36939),i=a(61201),o=a(59009),p=a(51673),d=(a(99058),a(80366)),u=a(282),c=a(868),m=a(78513),g=a(14439),y=a(27848),D=a(40900),S=a(64059),I=a(24038),E=a(8981),f=a(47516),v=a(86893),P=a(33681),C=a(63163),h=a(35131),A=a.n(h),G=a(61956),N=a(93657),M=a(53375),b=a(52663),w=a(66083),T=a(29525),x=a(66856),F=a(39803),R=a(99940),k=a(17149),B=a(62810),Z=a(30553),L=a(92381),O=a(25108);const z=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[s,n]=(0,l.useState)([]),[i,o]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[h,A]=(0,l.useState)(""),[G,z]=(0,l.useState)({}),[K,U]=(0,l.useState)(!0),[V,_]=(0,l.useState)(!1),{cstate:H,cdispatch:Q}=e.ContextApi?e.ContextApi:ke(),[Y,j]=(0,l.useState)(1),[W,$]=(0,l.useState)(0),[J,q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,re]=(0,l.useState)(!0),[se,ne]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(""),[pe,de]=(0,l.useState)(!1),[ue,ce]=(0,l.useState)(!1),[me,ge]=(0,l.useState)(!1),[ye,De]=(0,l.useState)(""),Se=(0,l.useRef)(null),[Ie,Ee]=(0,l.useState)({});let fe=localStorage.getItem("Language");const ve={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Pe=(0,E.Z)();const Ce=e=>Pe[e]?Pe[e]:e,he=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[ve[fe]];function Ae(){z({}),ee({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ee(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{Se.current&&Se.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ae()}})));const Ge=async(t,a,l,r)=>{q(!0);try{Se.current&&Se.current.abort();const i=new AbortController;Se.current=i;let d="",u=[],c={};await o((e=>(d=e.name,e))),await z((e=>(u=e,e))),await ee((e=>(c=e,e)));const m=D.v.Api+"FP232S3/",g={data:{p1:"SparePartsGroupDetailsIDPK"==a?null:await Te(),p2:"SparePartsGroupDetailsCode"==d&&l.length>0?"%"+l+"%":null,p3:"IsEnable"==d&&l.length>0?"%"+l+"%":null,p4:"Qty"==d&&l.length>0?"%"+l+"%":null,p5:"SplitQty"==d&&l.length>0?"%"+l+"%":null,p6:null,p7:null,p8:e.parentId?e.parentId:"0",p9:"MaterialName"!=d&&u.MaterialName?u.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p10:e.Dialogview?"1":null,p11:null,p12:"p12"==d&&l.length>0?l:null,p13:null,p14:null,p15:null,p16:null,p17:"DisciplineName"!=d&&u.DisciplineName?u.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p18:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p19:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p20:"AssSparePartsGroupCode"==d&&l.length>0?"%"+l+"%":null,p21:"SparePartGroupName"==d&&l.length>0?"%"+l+"%":null,p22:"MatProcessTypeName"!=d&&u.MatProcessTypeName?u.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p23:"MatProcessTypeCode"==d&&l.length>0?"%"+l+"%":null,p24:"MatProcessTypeName"==d&&l.length>0?"%"+l+"%":null,p25:"MaterialTypeName"!=d&&u.MaterialTypeName?u.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p26:"MaterialTypeCode"==d&&l.length>0?"%"+l+"%":null,p27:"MaterialTypeName"==d&&l.length>0?"%"+l+"%":null,p28:"MatMainClassName"!=d&&u.MatMainClassName?u.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p29:"MatMainClassCode"==d&&l.length>0?"%"+l+"%":null,p30:"MatMainClassName"==d&&l.length>0?"%"+l+"%":null,p31:"MatSubClassName"!=d&&u.MatSubClassName?u.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p32:"MatSubClassCode"==d&&l.length>0?"%"+l+"%":null,p33:"MatSubClassName"==d&&l.length>0?"%"+l+"%":null,p34:"MatMakeName"!=d&&u.MatMakeName?u.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p35:"MatMakeCode"==d&&l.length>0?"%"+l+"%":null,p36:"MatMakeName"==d&&l.length>0?"%"+l+"%":null,p37:"MatModelName"!=d&&u.MatModelName?u.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p38:"MatModelCode"==d&&l.length>0?"%"+l+"%":null,p39:"MatModelName"==d&&l.length>0?"%"+l+"%":null,p40:"UOMName"!=d&&u.UOMName?u.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p41:"MATUOMCode"==d&&l.length>0?"%"+l+"%":null,p42:"UOMName"==d&&l.length>0?"%"+l+"%":null,p43:"GradeName"!=d&&u.GradeName?u.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p44:"GradeName"==d&&l.length>0?"%"+l+"%":null,p45:"MatGradeCode"==d&&l.length>0?"%"+l+"%":null,p46:"MaterialColorName"!=d&&u.MaterialColorName?u.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p47:"MaterialColorName"==d&&l.length>0?"%"+l+"%":null,p48:"MatMaterialColorCode"==d&&l.length>0?"%"+l+"%":null,p49:"RawMaterialName"!=d&&u.RawMaterialName?u.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p50:"MadeRawMaterialCode"==d&&l.length>0?"%"+l+"%":null,p51:"RawMaterialName"==d&&l.length>0?"%"+l+"%":null,p52:"MaterialSizeName"!=d&&u.MaterialSizeName?u.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p53:"MaterialSizeName"==d&&l.length>0?"%"+l+"%":null,p54:"MatMaterialSizeCode"==d&&l.length>0?"%"+l+"%":null,p55:"MaterialCode"==d&&l.length>0?"%"+l+"%":null,p56:"MaterialName"==d&&l.length>0?"%"+l+"%":null,p57:r||1,p58:10,p59:t,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},y=await(0,p.Z)(m,g,e.token,"",i.signal);if(!y)return!1;const S=y.Output.status.code,I=y.Output.data;if("200"===S)if(I.length>0)if(1===r){let e=Me(I,d),t=Ne(e,G[d],a);n(t),$(t.length>0?t[0].TotalCount:G[d].length)}else{let e=[...s,...I],t=Me(e,d);$(t.length<10?t.length:I[0].TotalCount),n(Me(t,d))}else h.length>0&&n([]),$(s.length);else e.alertmsg("error",[y.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{q(!1)}},Ne=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Me=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function be(e){let t=e+"PK",a=Ie[e];if(a){const e=a.flatMap((e=>G[e]?G[e].map((e=>e[t])):[]));return e.toString()}return""}const we=async t=>{let a="",l={};await z((e=>(a=e,e)));let r=[...te],s=[];for(let e of r){let t=a[e]?.map((e=>e.SparePartsGroupDetailsIDPK)).toString();t&&s.push(t)}await ee((e=>(l=e,e)));let n={SparePartsGroupDetailsIDPK:s?[...new Set(s)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:be("MaterialID"),AssSparePartsGroupID:be("AssSparePartsGroupID")};"saveFav"==t?Re("save",n):(e.searchData(n),_(!1))};async function Te(){let e={};await z((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.SparePartsGroupDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function xe(t,a,l,r,s,n){let i={[r]:{From:t,Type:l,To:a}},o={};ee((e=>({...e,...i})));const p={...G};let d=[...te],u=[];for(let e of d){let t=p[e]?.map((e=>e.SparePartsGroupDetailsIDPK)).toString();t&&u.push(t)}await ee((e=>(o=e,e)));let c={SparePartsGroupDetailsIDPK:u?[...new Set(u)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?s:null,MaterialID:G.MaterialName?.map((e=>e.MaterialIDPK)).toString(),AssSparePartsGroupID:G.SparePartGroupName?.map((e=>e.AssSparePartsGroupIDPK)).toString()};e.searchData(c)}function Fe(){return r().createElement(S.Z,{frmctrlid:"fld232L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{xe(e,t,a,i.name,l)},keyboardback:()=>{_(!1),o({idpk:"",name:"",type:"",fieldidpk:""})},title:Ce(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Re=(t,a)=>{(0,L.Z)(t,e.formID,a,ie).then((e=>{const t=e.Output.data;De(t)}))};return r().createElement("div",null,r().createElement(b.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:pe},r().createElement(w.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),r().createElement(T.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(F.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>oe(e.target.value),fullWidth:!0})),r().createElement(Z.Z,{style:{color:"#337ab7"},control:r().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>ce(e.target.checked)}),label:"Quick"}),r().createElement(Z.Z,{style:{color:"#337ab7"},control:r().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),r().createElement(x.Z,null,r().createElement(u.Z,{onClick:()=>{we("saveFav"),de(!1)},color:"primary"},"Save"))),V?"Created Ttm"===i.name||i.name.includes("Date")?r().createElement(Fe,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(g.Z,null,r().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},he(i.idpk)," (",s.length,"/",W,")")),r().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(c.ZP,{title:Ce("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(d.Z,{id:"fld232L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),o({idpk:"",name:"",type:"",fieldidpk:!1}),j(1)}}))),G[i.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(u.Z,{frmctrlid:"fld232L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await z((t=>(e=t,O.log("clear fewItems",e),t))),e[i.name]=[],Ge(i.type,i.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},Ce("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},K?r().createElement(c.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(v.D7o,{className:"FilterMaximizeIcon",onClick:()=>{U(!1)}}))):r().createElement(c.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(v.dOw,{className:"FilterMaximizeIcon",onClick:()=>{U(!0)}})))),r().createElement("ul",null,G[i.name]&&G[i.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[i.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{j(1);let a=G[i.name].filter((t=>t!=e)),l={};await z((e=>(l=e,e))),l[i.name]=a,z(l),n((t=>[e,...t]))})(e)},r().createElement(d.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(I.Z,{frmctrlid:"fld232L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:h,placeholder:Ce("Enter ")+" "+he(i.idpk),onChange:e=>{A(e),Ge(i.type,i.fieldidpk,e,1,Te())}})),r().createElement("div",{id:"fld232L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:we},r().createElement(c.ZP,{title:"",placement:"top"},r().createElement(u.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(P.Z,{color:"secondary"})),r().createElement("div",{id:"fld232L1TFCScrollYDefault",className:"height65 scrollYDefault"},s.length>0&&s.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await z((e=>(l=e,e)));let r=l[i.name];t[i.name]=r?[...a,...r]:a,l={...l,...t},z(l),n((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(m.Z,{className:"DotIcon"}),r().createElement("span",null,e[i.name])))),s.length+0<W&&s.length>0&&r().createElement("div",{id:"fld232L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{j(Y+1),Ge(i.type,i.fieldidpk,"",Y+1)}},r().createElement("p",null," more... ")),0===s.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:D.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(f.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",Ce("Filter")," ",ie.length>0&&`(${ie})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(c.ZP,{title:"Favorite List",placement:"top"},se?r().createElement(d.Z,{className:"favlisticon",onClick:()=>{ne(!1),De(""),Ae()}}):r().createElement(N.Z,{className:"favlisticon",onClick:()=>{ne(!0),Re("select"),Ae()}})),Object.keys(G).length>0&&r().createElement(c.ZP,{title:"Save Favorites",placement:"top"},r().createElement(M.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),r().createElement(c.ZP,{title:"",placement:"top"},r().createElement(u.Z,{className:"ColumnApplyButton",onClick:()=>{Ae()},id:"fld232L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},Ce("Clear")))),r().createElement(c.ZP,{title:"",placement:"top"},r().createElement(u.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld232L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},Ce("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld232L1TFCFilItems",className:"FilterItems"},!ye&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),A(""),n([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"SparePartsGroupDetailsIDPK";o({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterSparePartsGroupDetailsID",fieldidpk:t}),Ge(e.IsForeign?"Filter"+e.FieldName:"FilterSparePartsGroupDetailsID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,he(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),r().createElement(C.Z,{checked:"1"==le,onChange:t=>{re(t.target.checked),xe("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,G[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},G[a][0][a]),G[a].length>1&&r().createElement("span",{className:"RoundedDivName"},G[a][1][a]),G[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(G[a].length-2))))));var a})),ye&&ye.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ge("FilterSparePartsGroupDetailsID",a),we("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));var K=a(54180),U=a(43031),V=a(85639),_=a(110),H=a(5109),Q=a(88995),Y=a(50743),j=a(61657),W=a(51209),$=a(53854),J=a(51649),q=a(37106),X=a(5434),ee=a(83817),te=a(39327),ae=a(3212),le=a(93521),re=(a(79117),a(71168)),se=a.n(re),ne=a(65107),ie=a(94986),oe=a(15999);a(11557),window.clickFilter="";const pe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),u=(0,l.useRef)(null),[m]=((0,l.useRef)(null),(0,s.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g]=(0,l.useState)("232"),[y,S]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),[h,A]=(0,l.useState)(0),[G,N]=(0,l.useState)(0),[M,b]=(0,l.useState)(0),[w,T]=(0,l.useState)(0),[x,F]=(0,l.useState)({current:1,pageSize:100}),[R,k]=(0,l.useState)(""),[B,Z]=(0,l.useState)([]),[L,O]=(0,l.useState)({val:"",column:""}),[re,pe]=(0,l.useState)([]),[de,ue]=(0,l.useState)(!1),[ce,me]=(0,l.useState)(""),[ge,ye]=(0,l.useState)(""),[De,Se]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)([]),[fe,ve]=(0,l.useState)([]),[Pe,Ce]=(0,l.useState)([]),[he,Ae]=(0,l.useState)({children:[{name:"AssSparePartsGroupDetails",children:[]}]}),[Ge,Ne]=(0,l.useState)(!1),Me=(0,l.useContext)(e.context?e.context:Re),{cstate:be,cdispatch:we}=e.ContextApi?e.ContextApi:ke();let Te={SparePartsGroupDetailsIDPK:"",SparePartsGroupDetailsCode:"",IsEnable:"",Qty:"",SplitQty:"",IsDraft:"",Remarks:"",AssSparePartsGroupID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",AssSparePartsGroupCode:"",SparePartGroupName:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[xe,Fe]=(0,l.useState)(Te),[Be,Ze]=(0,l.useState)(Te),[Le,Oe]=(0,l.useState)(!1),[ze,Ke]=(0,l.useState)(!0),[Ue,Ve]=(0,l.useState)(!1),[_e,He]=(0,l.useState)(!0),[Qe,Ye]=(0,l.useState)({MaterialName:"",Qty:"",SplitQty:"",SparePartsGroupDetailsCode:"",IsEnable:"",SparePartGroupName:""}),[je,We]=(0,l.useState)(!1),[$e,Je]=(0,l.useState)([]),[qe,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[rt,st]=(0,l.useState)([]),[nt,it]=(0,l.useState)([]),[ot,pt]=(0,l.useState)(!1),[dt,ut]=(0,l.useState)(!1),[ct,mt]=(0,l.useState)(!1),[gt,yt]=(0,l.useState)(""),[Dt,St]=se()("232"),[It,Et]=(0,l.useState)({}),ft=[{columns:rt,data:R}];let vt=(0,E.Z)();const Pt=e=>vt[e]?vt[e]:e,Ct=e=>be.language?.[e]?be.language[e]:e;(0,l.useEffect)((()=>{wt(Dt)}),[Dt]),(0,l.useEffect)((()=>{be.token.length>0&&(e.parentId?Mt(x,Te,"SparePartsGroupDetailsID"):pe([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ge&&e.parentId?Mt(x,ce,"SparePartsGroupDetailsID"):Ge&&Ze(ce)}),[ce]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ht(e)},tableRefresh:()=>{Mt(x,Te,"SparePartsGroupDetailsID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{mt(!0===e)}})));const ht=e=>{""==e?Mt(x,Te,Le?"DraftSparePartsGroupDetailsID":"SparePartsGroupDetailsID",Le&&"DraftPage"):bt(e,{current:1,pageSize:100}),ye(e)};function At(t){Me.loading(!0);let a=D.v.Api+"FP232S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,be.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),Je(e.Output.data),Me.loading(!1)}}))}function Gt(e,t){we({type:"editData",payload:[t]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!0}),Me.Expanded(!0),Ue&&Se(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&He(e.cardview),e.Dialogview&&(C(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:x.current,pageSize:x.pageSize})}),[e.searchsafaritext]);const Nt=()=>{Me.EditClose(!0),de?(document.getElementById("AssSparePartsGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AssSparePartsGroupDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AssSparePartsGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ue(!1),_e?(P||(document.getElementById("AssSparePartsGroupDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("AssSparePartsGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSparePartsGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AssSparePartsGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AssSparePartsGroupDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AssSparePartsGroupDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ue(!0),document.getElementById("AssSparePartsGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Se(!1),window.clickFilter=!de},Mt=(t,a,l,r,s,n)=>{Me.loading(!0),"DraftPage"!==r&&Oe(be.IsDraft);let i=D.v.Api+"FP232S3/",o={data:{p1:s||(a&&a.SparePartsGroupDetailsIDPK?a.SparePartsGroupDetailsIDPK:null),p2:a&&a.SparePartsGroupDetailsCode?a.SparePartsGroupDetailsCode:null,p3:null,p4:a&&a.Qty?a.Qty:null,p5:a&&a.SplitQty?a.SplitQty:null,p6:"DraftSparePartsGroupDetailsID"==l?"1":"0",p7:null,p8:e.parentId?Number(e.parentId):0,p9:a&&a.MaterialID?a.MaterialID:null,p10:a&&a.IsActive,p11:null,p12:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p13:a&&a.CreatedTtm?a.CreatedTtm:null,p14:a&&a.CreatedTtmType?a.CreatedTtmType:null,p15:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p16:null,p17:a&&a.DisciplineID?a.DisciplineID:null,p18:a&&a.DisciplineCode?a.DisciplineCode:null,p19:a&&a.DisciplineName?a.DisciplineName:null,p20:a&&a.AssSparePartsGroupCode?a.AssSparePartsGroupCode:null,p21:a&&a.SparePartGroupName?a.SparePartGroupName:null,p22:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p23:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p24:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p25:a&&a.MaterialTypeID?a.MaterialTypeID:null,p26:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p27:a&&a.MaterialTypeName?a.MaterialTypeName:null,p28:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p29:a&&a.MatMainClassCode?a.MatMainClassCode:null,p30:a&&a.MatMainClassName?a.MatMainClassName:null,p31:a&&a.MatSubClassID?a.MatSubClassID:null,p32:a&&a.MatSubClassCode?a.MatSubClassCode:null,p33:a&&a.MatSubClassName?a.MatSubClassName:null,p34:a&&a.MaterialMakeID?a.MaterialMakeID:null,p35:a&&a.MatMakeCode?a.MatMakeCode:null,p36:a&&a.MatMakeName?a.MatMakeName:null,p37:a&&a.MaterialModelID?a.MaterialModelID:null,p38:a&&a.MatModelCode?a.MatModelCode:null,p39:a&&a.MatModelName?a.MatModelName:null,p40:a&&a.MATUOMID?a.MATUOMID:null,p41:a&&a.MATUOMCode?a.MATUOMCode:null,p42:a&&a.UOMName?a.UOMName:null,p43:a&&a.MatGradeID?a.MatGradeID:null,p44:a&&a.GradeName?a.GradeName:null,p45:a&&a.MatGradeCode?a.MatGradeCode:null,p46:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p47:a&&a.MaterialColorName?a.MaterialColorName:null,p48:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p49:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p50:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p51:a&&a.RawMaterialName?a.RawMaterialName:null,p52:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p53:a&&a.MaterialSizeName?a.MaterialSizeName:null,p54:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p55:a&&a.MaterialCode?a.MaterialCode:null,p56:a&&a.MaterialName?a.MaterialName:null,p57:s?1:t.current,p58:t.pageSize,p59:l,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};(0,p.Z)(i,o,be.token[0]).then((i=>{if(s)(0,ee.a)(i,we,r,n,Me);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,b(i.Output.data[0].TotalCount),T(i.Output.data[0].DraftCnt),we({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==r&&T(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?N(Math.ceil(e)):20==t.pageSize?N(Math.ceil(e/2)):50==t.pageSize?N(Math.ceil(e/5)):100==t.pageSize&&N(Math.ceil(e/10)),pe(i.Output.data),Me.loading(!1)}e.Dialogview||(document.getElementById("divAssSparePartsGroupDetails-Entry").style.height="auto",document.getElementById("divAssSparePartsGroupDetails-Entry").style.display="block")}else Me.loading(!1),"DraftSparePartsGroupDetailsID"===l?(Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Se(!0),Oe(!1)):(pe([]),F({current:1,pageSize:10}),N(0),b(0),we({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Me.alert({open:!0,color:"warning",message:[i.Output.status.message]}),Me.loading(!1)}))};function bt(t,a){Me.loading(!0);const l=D.v.Api+"FP232S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Le?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,r,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,b(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?N(Math.ceil(t)):20==a.pageSize?N(Math.ceil(t/2)):50==a.pageSize?N(Math.ceil(t/5)):100==a.pageSize&&N(Math.ceil(t/10)),pe(e.Output.data),Me.loading(!1)}else pe([]),N(0),b(0),we({type:"count",payload:"0"}),Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me.loading(!1);else Me.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Me.loading(!1)}))}function wt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let s=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),we({type:"language",payload:Object.assign({},...r)}),Ye(a.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),ve(t),Ce(a),st(l),it(a)}const Tt=()=>Ge?null:r().createElement("div",null,je?r().createElement(ie.Z,{data:$e,expanded:e=>!P&&Me.Expanded(e),edit:(e,t,a)=>{P?Me.select(e):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"ShowDetail",payload:a}))}}):r().createElement(ne.Z,{ref:u,frmctrlid:"tblcs_232_L1_",id:"AssSparePartsGroupDetailsTable",headerdata:fe,tablesearchparams:Qe,searchvalue:e=>{Ye(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Et(t),F({current:1,pageSize:10}),Mt({current:1,pageSize:10},t,Le?"DraftSparePartsGroupDetailsID":"SparePartsGroupDetailsID",Le&&"DraftPage")},bodydata:re,ondrag:Gt,bodyitem:Pe,visibleitem:fe,isdraft:Le,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:g,showMore:!1,accessrights:be.AccessRights,expanded:e=>!P&&Me.Expanded(e),edit:(e,t,a)=>{P?Me.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Mt(x,null,t?"DraftSparePartsGroupDetailsID":"SparePartsGroupDetailsID",t&&"DraftPage",e[l],a)})),Me.hideAddBtn(!0))},viewtoggle:Me.viewtoggle,isexpanded:!P||Ue,tf:Ct,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ve(be.ExpandTableValue)}),[be.ExpandTableValue]),r().createElement("div",null,!ct&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld232L1ECSearchBar",className:"searchbar1"},r().createElement(I.Z,{frmctrlid:"fld232L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Pt("Search"),value:ge,onChange:e=>{ye(e),Me.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ge?r().createElement("div",{id:"fld232L1TCCloseIconCommonSearch",onClick:()=>{ye(""),Me.searchItem("")}},r().createElement(d.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld232L1TCInputSearchIcon"},r().createElement(Q.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("AssSparePartsGroupDetailsgridsearch").focus()}})))),r().createElement("div",null,be.AccessRights.IsAdd?r().createElement(ae.Z,{className:"SaveBtnCommon",frmctrlid:"fld232L1TCAddBtnIsAdd",onClick:()=>{Me.hideAddBtn(!0),we({type:"editData",payload:[]}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0})}}):"")),r().createElement(n.Z,{expanded:ze,onChange:()=>()=>{Ke(Ue)}},e.Dialogview&&r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[232]"},`${Ct("232")} (${M})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld232L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(I.Z,{frmctrlid:"fld232L1TCInputSearch",className:"search_input",type:"text",placeholder:Pt("Search"),value:ge,onChange:e=>{ht(e)}}),r().createElement("div",{className:"search_icon"},ge?r().createElement("div",{id:"fld232L1TCInputCloseIcon",onClick:()=>{ht("")}},r().createElement(d.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld232L1TCInputSearchIcon"},r().createElement(Q.Z,{className:"InputSearchIcon"}))))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"AssSparePartsGroupDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&r().createElement("div",{frmctrlid:"fld232L1TCFilterDataIsDraft",id:"AssSparePartsGroupDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Nt()}},r().createElement(c.ZP,{title:Pt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(f.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Pt("Filter Data"))),!P&&!Le&&!Ge&&r().createElement(K.Z,{formctrlidprint:"fld232L1TCExportPrint",formctrlidexport:"fld232L1TCExportTable",formctrlidrefresh:"fld232L1TCExportRefresh",title:Ct("232"),data:B,exportData:ft,Items:nt,columnIndex:rt,TableVisibleItem:fe,userGridViewFormID:g,TableTotalCount:M,triggerApi:t=>{((t,l,r,s,n)=>{if(0===M)return Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Me.loading(!0);let i=D.v.Api+"FP232S3/",o={data:{p1:t&&t.SparePartsGroupDetailsIDPK?t.SparePartsGroupDetailsIDPK:null,p2:t&&t.SparePartsGroupDetailsCode?t.SparePartsGroupDetailsCode:null,p3:null,p4:t&&t.Qty?t.Qty:null,p5:t&&t.SplitQty?t.SplitQty:null,p6:Le?"1":"0",p7:null,p8:e.parentId?Number(e.parentId):0,p9:t&&t.MaterialID?t.MaterialID:null,p10:t&&t.IsActive,p11:null,p12:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p13:t&&t.CreatedTtm?t.CreatedTtm:null,p14:t&&t.CreatedTtmType?t.CreatedTtmType:null,p15:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p16:null,p17:t&&t.DisciplineID?t.DisciplineID:null,p18:t&&t.DisciplineCode?t.DisciplineCode:null,p19:t&&t.DisciplineName?t.DisciplineName:null,p20:t&&t.AssSparePartsGroupCode?t.AssSparePartsGroupCode:null,p21:t&&t.SparePartGroupName?t.SparePartGroupName:null,p22:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p23:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p24:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p25:t&&t.MaterialTypeID?t.MaterialTypeID:null,p26:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p27:t&&t.MaterialTypeName?t.MaterialTypeName:null,p28:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p29:t&&t.MatMainClassCode?t.MatMainClassCode:null,p30:t&&t.MatMainClassName?t.MatMainClassName:null,p31:t&&t.MatSubClassID?t.MatSubClassID:null,p32:t&&t.MatSubClassCode?t.MatSubClassCode:null,p33:t&&t.MatSubClassName?t.MatSubClassName:null,p34:t&&t.MaterialMakeID?t.MaterialMakeID:null,p35:t&&t.MatMakeCode?t.MatMakeCode:null,p36:t&&t.MatMakeName?t.MatMakeName:null,p37:t&&t.MaterialModelID?t.MaterialModelID:null,p38:t&&t.MatModelCode?t.MatModelCode:null,p39:t&&t.MatModelName?t.MatModelName:null,p40:t&&t.MATUOMID?t.MATUOMID:null,p41:t&&t.MATUOMCode?t.MATUOMCode:null,p42:t&&t.UOMName?t.UOMName:null,p43:t&&t.MatGradeID?t.MatGradeID:null,p44:t&&t.GradeName?t.GradeName:null,p45:t&&t.MatGradeCode?t.MatGradeCode:null,p46:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p47:t&&t.MaterialColorName?t.MaterialColorName:null,p48:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p49:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p50:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p51:t&&t.RawMaterialName?t.RawMaterialName:null,p52:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p53:t&&t.MaterialSizeName?t.MaterialSizeName:null,p54:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p55:t&&t.MaterialCode?t.MaterialCode:null,p56:t&&t.MaterialName?t.MaterialName:null,p57:x.current,p58:M,p59:Le?"DraftSparePartsGroupDetailsID":"SparePartsGroupDetailsID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};Me.loading(!1),Me.alert({open:!0,color:"success",message:[`${Ct(232)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(i,o,be.token[0],n).then((e=>{(0,le.PDF_Excel_Generate)(e,Me,nt,k,a,n)}))})(ce,L.column,0,0,t)},Refresh:()=>{ye(""),F({current:1,pageSize:100}),u.current.clearItem(),be.IsDraft?Mt({current:1,pageSize:100},Te,"DraftSparePartsGroupDetailsID"):Mt({current:1,pageSize:100},Te,"SparePartsGroupDetailsID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Le&&!Ge&&!P&&r().createElement("div",{className:"buttoncard",onClick:()=>ut(!dt)},r().createElement("span",null,dt?r().createElement(c.ZP,{disableFocusListener:!0,title:Pt("Less"),placement:"top"},r().createElement("span",{id:"fld232L1TCLess"},r().createElement($.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(c.ZP,{disableFocusListener:!0,title:Pt("More"),placement:"top"},r().createElement("span",{id:"fld232L1TCMore"},r().createElement($.ilJ,{className:"tableFilterColumnIcon"}))))),dt?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ge||!Ue?null:P||!be.AccessRights.IsAdd||Le?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld232L1TCFilterDataIsAdd",id:"AssSparePartsGroupDetailscoldiv",className:"buttoncard",onClick:()=>{Me.EditClose(!0),De?(document.getElementById("AssSparePartsGroupDetailsFilterDiv").style.width="0%",document.getElementById("AssSparePartsGroupDetailsTabDiv").style.width="100%",document.getElementById("AssSparePartsGroupDetailsFilterDiv").style.display="none",document.getElementById("AssSparePartsGroupDetailscoldiv").style.width="fit-content",document.getElementById("AssSparePartsGroupDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Se(!1)):(document.getElementById("AssSparePartsGroupDetailsFilterDiv").style.width="25%",document.getElementById("AssSparePartsGroupDetailsTabDiv").style.width="75%",document.getElementById("AssSparePartsGroupDetailsFilterDiv").style.display="block",document.getElementById("AssSparePartsGroupDetailsfildiv").style.width="fit-content",document.getElementById("AssSparePartsGroupDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSparePartsGroupDetailscoldiv").style.width="fit-content",document.getElementById("AssSparePartsGroupDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Se(!0)),ue(!1)}},r().createElement(c.ZP,{title:Pt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Pt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&Ue&&!Ge&&!Le&&r().createElement("div",null,r().createElement("div",{id:"AssSparePartsGroupDetailscoldiv",className:"buttoncard",onClick:()=>{je?We(!1):(We(!0),At({current:1,pageSize:100}))}},r().createElement(c.ZP,{title:Pt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld232L1TCTableScrollData"},r().createElement(oe.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Pt("Table Scroll Data")))),!Ge&&Le?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Me.hideAddBtn(!1),Me.ExpandEntry(),Mt({current:1,pageSize:100},Te,"SparePartsGroupDetailsID"),Oe(!1),ye(""),we({type:"IsDraft",payload:!1}),F({current:1,pageSize:10})}},r().createElement(c.ZP,{title:Pt("List"),placement:"top"},r().createElement("div",{id:"fld232L1TCList"},r().createElement(J.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Pt("Drafts")," ",M)):!P&&!Ge&&be.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(o.Z,{color:"secondary",className:"badge",max:999,badgeContent:w,showZero:!0},r().createElement("div",{id:"fld232L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{w>0?(F({current:1,pageSize:100}),A(0),Me.clear(),ye(""),we({type:"Add",payload:!1}),Mt({current:1,pageSize:10},Te,"DraftSparePartsGroupDetailsID"),Oe(!0),we({type:"IsDraft",payload:!0}),Se(!1),He(!0),document.getElementById("AssSparePartsGroupDetailsFilterDiv").style.width="0%",document.getElementById("AssSparePartsGroupDetailsTabDiv").style.width="100%",document.getElementById("AssSparePartsGroupDetailsFilterDiv").style.display="none",F({current:1,pageSize:100}),Ne(!1)):Me.alert({open:!0,color:"warning",message:[Pt("There is no Record Found")]})}},r().createElement(c.ZP,{title:Pt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(q.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Pt("Drafts"))))))):""),!Le&&!P&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ge||Le?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld232L1TCListView",onClick:()=>{He(!0),pt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement($.umT,null)),r().createElement("span",null,Pt("List"))),r().createElement("div",{className:_e||ot?"buttonGrid":"buttonList",id:"fld232L1TCCardView",onClick:()=>{He(!1),pt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(v.aCJ,null)),r().createElement("span",null,Pt("Card"))),r().createElement("div",{className:ot?"buttonList":"buttonGrid",id:"fld232L1TCTileView",onClick:()=>{pt(!0),He(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(X.f_H,null)),r().createElement("span",null,Pt("Tile"))))))),Ge?null:je?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(j.Z,{style:{color:"#777"},id:"fld232L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:h,onPageChange:(e,t)=>{A(t),At({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(U.Z,{count:qe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),At({current:t,pageSize:at.pageSize})}}),r().createElement("div",null,r().createElement(_.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld232L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),At({current:1,pageSize:e.target.value})}},r().createElement(V.Z,{value:10},"10"),r().createElement(V.Z,{value:20},"20"),r().createElement(V.Z,{value:50},"50"),r().createElement(V.Z,{value:100},"100"))),Ue&&r().createElement("p",{className:"per-page"},"/ ",Pt("RowperpageOf")," (",et,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(j.Z,{style:{color:"#777"},id:"fld232L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(M),page:h,onPageChange:(e,t)=>{A(t),Mt({current:t+1,pageSize:x.pageSize},Te,Le?"DraftSparePartsGroupDetailsID":"SparePartsGroupDetailsID",Le&&"DraftPage"),F({current:t+1,pageSize:x.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(U.Z,{count:G,siblingCount:0,color:"primary",page:x.current,onChange:(e,t)=>{if(F({current:t,pageSize:x.pageSize}),Le)Mt({current:t,pageSize:x.pageSize},xe,"DraftSparePartsGroupDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ge.length>0?bt(ge,{current:t,pageSize:x.pageSize}):Mt({current:t,pageSize:x.pageSize},xe,"SparePartsGroupDetailsID")}}}),r().createElement("div",null,r().createElement(_.Z,{className:"BootstrapInputStyle",value:x.pageSize,id:"fld232L1TCSelectPaging",onChange:e=>{F({current:1,pageSize:e.target.value}),Le?Mt({current:1,pageSize:e.target.value},xe,"DraftSparePartsGroupDetailsID","DraftPage"):ge.length>0?bt(ge,{current:1,pageSize:e.target.value}):Mt({current:1,pageSize:e.target.value},xe,"SparePartsGroupDetailsID")}},r().createElement(V.Z,{value:10},"10"),r().createElement(V.Z,{value:20},"20"),r().createElement(V.Z,{value:50},"50"),r().createElement(V.Z,{value:100},"100"))),Ue&&r().createElement("p",{className:"per-page"},"/ ",Pt("RowperpageOf")," (",M,") "))),r().createElement("div",{id:"AssSparePartsGroupDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"AssSparePartsGroupDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&r().createElement(z,{parentId:e.parentId,searchData:e=>{me(e||It),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:g,data:()=>{},visibleData:()=>{},token:be.token[0],CloseBtnClk:()=>Nt(),userGrid:Dt,msg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),De&&r().createElement(H.Z,{Refresh:e=>{Mt({current:1,pageSize:100},Te,"SparePartsGroupDetailsID")},frmctrlid:"fld232L1TCTableColumnOrder",loading:e=>Me.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),select:De,userID:m,userGridViewFormID:g,saved:(e,t)=>{e&&wt(t),St(t),we({type:"showTableview",payload:t})},Token:be.token[0]})),r().createElement("div",{id:"AssSparePartsGroupDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?r().createElement(Tt,null):r().createElement(W.Z,{frmctrlid:"fld232L1TCExpandedCardDual",data:re,id:"AssSparePartsGroupDetails",title:"SparePartsGroupDetailsCode",cardTile:!!ot,visibleitem:fe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?Me.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!1}),Me.Expanded(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Le}),we({type:"ShowDetail",payload:!0}),Me.Expanded(!0),Me.viewtoggle()),de?ue(!0):De?Se(!0):(Se(!1),Se(!1))),Me.hideAddBtn(!0)}})))))))}));var de=a(37148),ue=a(29800),ce=(a(10966),a(21392),a(26537)),me=a(44528),ge=a(99090),ye=a(1695),De=a(61924),Se=a.n(De),Ie=(a(40826),a(55490)),Ee=a(92371);const fe={EnterKeyValues:{AssSparePartsGroupDetails:["MaterialName","Qty","SplitQty","SparePartsGroupDetailsCode","IsEnable","SparePartGroupName"]},Label:{AssSparePartsGroupDetails:{MaterialID:["MaterialCode","MaterialName"],Qty:["SparePartsGroupDetailsCode"],SplitQty:["SparePartsGroupDetailsCode"],SparePartsGroupDetailsCode:["SparePartsGroupDetailsCode"],IsEnable:["SparePartsGroupDetailsCode"],AssSparePartsGroupID:["SparePartsGroupDetailsCode"]}},LabelHeader:{AssSparePartsGroupDetails:{MaterialID:["Material Code","Material Name"],Qty:["Spare Parts Group Details Code"],SplitQty:["Spare Parts Group Details Code"],SparePartsGroupDetailsCode:["Spare Parts Group Details Code"],IsEnable:["Spare Parts Group Details Code"],AssSparePartsGroupID:["SparePartsGroupDetailsCode"]}},Property:{AssSparePartsGroupDetails:{MaterialID:{id:"fld232_4424",clearID:"AssSparePartsGroupDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material Name",fielddisplayname:"MaterialName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},Qty:{id:"fld232_4420",labelID:"Qty",maxLength:"10",labelname:"Quantity",frmctrlid:"fld232_4420",frmctrlidname:"Qty",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},SplitQty:{id:"fld232_4421",labelID:"SplitQty",maxLength:"10",labelname:"Split Quantity",frmctrlid:"fld232_4421",frmctrlidname:"SplitQty",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},SparePartsGroupDetailsCode:{id:"fld232_4418",labelID:"SparePartsGroupDetailsCode",maxLength:"50",labelname:"Spare Parts Group Details Code",frmctrlid:"fld232_4418",frmctrlidname:"SparePartsGroupDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsEnable:{id:"fld232_4419",labelID:"IsEnable",maxLength:"",labelname:"IsEnable",frmctrlid:"fld232_4419",frmctrlidname:"IsEnable",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},AssSparePartsGroupID:{id:"fld232_4423",clearID:"AssSparePartsGroupDetailsSparePartGroupNameClear",type:"select",labelID:"AssSparePartsGroupIDPK",labelname:"SparePartGroupName",fielddisplayname:"SparePartGroupName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{AssSparePartsGroupDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],AssSparePartsGroupID:["AssSparePartsGroupCode","SparePartGroupName","DisciplineName","CreatedTtm","IsActive"]}}};var ve=a(6562),Pe=a(45155),Ce=a(79352),he=(a(49174),a(38773),a(19089),a(16233)),Ae=a.n(he);a(82729),a(75355),a(11107);const Ge={SparePartsGroupDetailsIDPK:"",SparePartsGroupDetailsCode:"",IsEnable:!1,Qty:"",SplitQty:"",IsDraft:!1,Remarks:"",AssSparePartsGroupID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",AssSparePartsGroupCode:"",SparePartGroupName:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"SparePartsGroupDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ne=(0,l.forwardRef)(((e,t)=>{const a=(0,s.useSelector)((e=>e.form)),[o,d]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!0),[m,S]=(0,l.useState)(!1),[I,f]=(0,l.useState)(!1),[v,P]=(0,l.useState)(""),[h,N]=(0,l.useState)(!1),[M,b]=(0,l.useState)([]),[w,T]=(0,l.useState)(null),[x,F]=(0,l.useReducer)(Ee.Z,Ge),[R,k]=(0,l.useState)(!1),[B,L]=(0,l.useState)([]),[O,z]=(0,l.useState)(!1),K=(0,l.useContext)(e.context?e.context:Re),{cstate:U,cdispatch:V}=e.ContextApi?e.ContextApi:ke(),[_,H]=(0,l.useState)(0),[Q,j]=(0,l.useState)(""),W=(0,l.useRef)(null),[$,J]=Ae()("232"),[q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(!0),[ae,le]=(0,l.useState)(!1);let re=(0,E.Z)();const[se,ne]=(0,l.useState)({}),ie=e=>re[e]?re[e]:e,oe=t=>U.language?.[t]?U.language[t]:e.createEasy?se?.[t]:t;(0,l.useEffect)((()=>{U.PrimaryId&&H(Number(U.PrimaryId))}),[U.PrimaryId]),(0,l.useEffect)((()=>{ue()}),[]),(0,l.useEffect)((()=>{ue()}),[e.parentId]),(0,l.useEffect)((()=>{U.editData.length>0?(X(!1),pe(U.editData[0],""),S(!0)):U.Add&&(ue(),X(!1),S(!0))}),[U.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ne(Object.assign({},...t))}($)}),[$]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ue()},CreateEasyProps:(e=!0,t)=>{J(!0),t?(Fe(t),S(e)):(ue(),S(e))},AddOpen:e=>{ue(),S(!0)}})));const pe=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),f(t.IsDraft),"SetDefaultSparePartsGroupDetailsID"==a?j(t.SparePartsGroupDetailsIDPK):(H(e.primid?Number(e.primid):t.SparePartsGroupDetailsIDPK?t.SparePartsGroupDetailsIDPK:0),V({type:"PrimaryId",payload:t.SparePartsGroupDetailsIDPK})),F({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),F({type:"text",name:"MaterialName",value:t.MaterialName}),F({type:"number",name:"Qty",number:Number(t.Qty)}),F({type:"number",name:"SplitQty",number:Number(t.SplitQty)}),F({type:"text",name:"SparePartsGroupDetailsCode",value:t.SparePartsGroupDetailsCode?t.SparePartsGroupDetailsCode:""}),F({type:"boolean",name:"IsEnable",boolean:!!t.IsEnable&&t.IsEnable}),F({type:"number",name:"AssSparePartsGroupID",number:t.AssSparePartsGroupID?Number(t.AssSparePartsGroupID):0}),F({type:"text",name:"SparePartGroupName",value:t.SparePartGroupName}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},ue=()=>{b([]),H(0),j(""),e.createEasy||K.resetImg(),V({type:"PrimaryId",payload:""}),F({type:"text",name:"MaterialID",value:null}),F({type:"text",name:"MaterialName",value:""}),document.getElementById("AssSparePartsGroupDetailsMaterialNameClear")&&document.getElementById("AssSparePartsGroupDetailsMaterialNameClear").click(),F({type:"number",name:"Qty",number:0}),F({type:"number",name:"SplitQty",number:0}),F({type:"text",name:"SparePartsGroupDetailsCode",value:""}),F({type:"boolean",name:"IsEnable",boolean:!1}),F({type:"text",name:"AssSparePartsGroupID",value:null}),F({type:"text",name:"SparePartGroupName",value:""}),document.getElementById("AssSparePartsGroupDetailsSparePartGroupNameClear")&&document.getElementById("AssSparePartsGroupDetailsSparePartGroupNameClear").click(),c(!0),P(""),te(!0)};function De(t,a,l,r){if(!(U.count>0))return K.alert({open:!0,color:"warning",message:[ie("Please save atleast one record")]}),!1;if(!((()=>{const e={...x};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return K.alert({open:!0,color:"warning",message:[ie("Please enter the primary fields")]}),!1;{te(!0),K.loading(!0),K.ConfirmAlert(null),V({type:"IsDraft",payload:!1});const a=D.v.Api+"FP232S1/",l={data:[{p1:"SetDefaultSparePartsGroupDetailsID"==r?"NORECORDS"!=Q&&Q?Q:0:_,p2:Be(x.SparePartsGroupDetailsCode),p3:x.IsEnable,p4:x.Qty?Number(x.Qty):0,p5:x.SplitQty?Number(x.SplitQty):0,p6:!0,p7:"SetDefaultSparePartsGroupDetailsID"==r?"SetDefault":null,p8:e.parentId?Number(e.parentId):x.AssSparePartsGroupID?x.AssSparePartsGroupID:0,p9:x.MaterialID?x.MaterialID:0,p10:!1,p11:"SetDefaultSparePartsGroupDetailsID"==r,p12:localStorage.getItem("userid"),p13:A()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:A()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((r=>{(0,G.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?K.alert({open:!0,color:"warning",message:[ie("Deleted Successfully")]}):K.alert({open:!0,color:"success",message:[ie("Saved to Draft")]}),K.loading(!1),K.attachmentSave(a[0].Data.IDPK),ue(),K.RefreshTable(),e.clrImgstate(!0)):(K.alert({open:!0,color:"warning",message:[l.message]}),K.loading(!1))}))}))}}function he(e){return CreateEasy(e,U,V,K,W),!1}function Ne(e,a){return AdvanceSearch(e,a,Re,ke(),we,t),!1}const Me=(t,a,l,r,s,n)=>{const i=D.v.Api+"FP232S3/",o={data:{p1:null,p2:null,p3:1==x.IsEnable,p4:a?"%"+a+"%":null,p5:a?"%"+a+"%":null,p6:null,p7:null,p8:e.parentId?Number(e.parentId):0,p9:"0"==x.MaterialID?null:x.MaterialID,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:"0"==x.DisciplineID?null:x.DisciplineID,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:"0"==x.MatProcessTypeID?null:x.MatProcessTypeID,p23:a?"%"+a+"%":null,p24:a?"%"+a+"%":null,p25:"0"==x.MaterialTypeID?null:x.MaterialTypeID,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:"0"==x.MaterialMainClassID?null:x.MaterialMainClassID,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:"0"==x.MatSubClassID?null:x.MatSubClassID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==x.MaterialMakeID?null:x.MaterialMakeID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==x.MaterialModelID?null:x.MaterialModelID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:"0"==x.MATUOMID?null:x.MATUOMID,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==x.MatGradeID?null:x.MatGradeID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==x.MatMaterialColorID?null:x.MatMaterialColorID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==x.MadeRawMaterialID?null:x.MadeRawMaterialID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==x.MatMaterialSizeID?null:x.MatMaterialSizeID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:t,p58:10,p59:l,p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},d=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});k(!0);const u={data:d};return(0,p.Z)(i,"ClearAll"==l?u:o,"SetDefaultSparePartsGroupDetailsID"==l&&r?r:U.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(s)return 1==r.length?r[0]:{};L(1==t?e>0?r:[]:B.concat(r)),"SetDefaultSparePartsGroupDetailsID"==l&&(e>0?pe(r[0],"SetDefaultSparePartsGroupDetailsID"):j("NORECORDS")),k(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},be=(t,l,r)=>{const s=D.v.Api+"FP232S3/",n={data:{p1:null,p2:"SparePartsGroupDetailsCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:a.AssSparePartsGroupRegistryAssSparePartsGroupID?a.AssSparePartsGroupRegistryAssSparePartsGroupID:"0",p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:t,p58:10,p59:"SparePartsGroupDetailsID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};k(!0),(0,p.Z)(s,"ClearAll"==r?i:n,U.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("SparePartsGroupDetailsCode"==r&&te(e>0),L(l)):("SparePartsGroupDetailsCode"==r&&te(!0),L(B.concat(l))),k(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},we=(0,l.useCallback)((async(e,t,a)=>{"text"==a?F({type:a,name:t,value:e}):"number"==a?F({type:a,name:t,number:Number(e)}):"boolean"==a?F({type:a,name:t,boolean:e}):"date"==a?F({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(F({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),F({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}))}),[x]);function Te(e){if("MaterialID"==e){if(!x.MaterialID)return!1;F({type:"text",name:"MaterialID",value:null}),F({type:"text",name:"MaterialName",value:""}),document.getElementById("AssSparePartsGroupDetailsMaterialNameClear")&&document.getElementById("AssSparePartsGroupDetailsMaterialNameClear").click()}else if("AssSparePartsGroupID"==e&&!x.AssSparePartsGroupID)return!1}function xe(e){if("MaterialID"==e){if(!x.MaterialID)return!1;F({type:"text",name:"MaterialID",value:null})}else if("AssSparePartsGroupID"==e&&!x.AssSparePartsGroupID)return!1}function Fe(e){K.ConfirmAlert(null),f(e.IsDraft),H(Number(e.SparePartsGroupDetailsIDPK)?Number(e.SparePartsGroupDetailsIDPK):0),F({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),F({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),F({type:"number",name:"Qty",number:e.Qty?Number(e.Qty):0}),F({type:"number",name:"SplitQty",number:e.SplitQty?Number(e.SplitQty):0}),F({type:"text",name:"SparePartsGroupDetailsCode",value:e.SparePartsGroupDetailsCode?e.SparePartsGroupDetailsCode:""}),F({type:"boolean",name:"IsEnable",boolean:!!e.IsEnable&&e.IsEnable}),F({type:"number",name:"AssSparePartsGroupID",number:e.AssSparePartsGroupID?Number(e.AssSparePartsGroupID):0}),F({type:"text",name:"SparePartGroupName",value:e.SparePartGroupName?e.SparePartGroupName:""})}const Be=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(n.Z,{expanded:m,onChange:e=>{}},r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},m&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[232]"}," ",ie("Add "),oe("232")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},U.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(ve.Z,{row:!0},r().createElement(Z.Z,{labelPlacement:"bottom",id:"fld232L1ECEntryCheckbox",control:r().createElement(C.Z,{checked:"1"==u,onChange:e=>c(e.target.checked)}),label:ie(1==u?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{K.AttachExpand(!0)},id:"fld232L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(Pe.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ie("Attach")))),!_&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ue()},id:"fld232L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Pe.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ie("Reset")))),"1"===I&&_&&r().createElement(ge.Z,{frmctrlid:"fld232L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{De("draftdel")}}),_&&"1"!==I||e.createEasy?null:U.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{De()},frmctrlid:"fld232L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(Ce.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ie("Draft")))),U.AccessRights.IsAdd||U.AccessRights.IsEdit?r().createElement(ye.Z,{frmctrlid:"fld232L1ECSaveBtnIsAdd",name:ie(_?"Update":"Save"),disabled:!1,onClick:()=>{x.MaterialID&&0!=x.MaterialID?Be(x.Qty)?Be(x.SplitQty)?e.parentId&&0!=e.parentId?(t=>{K.loading(!0),K.ConfirmAlert(null);const a=D.v.Api+"FP232S2/",l={data:[{p1:"SetDefaultSparePartsGroupDetailsID"==t?"NORECORDS"!=Q&&Q?Q:0:_,p2:Be(x.SparePartsGroupDetailsCode),p3:x.IsEnable,p4:x.Qty?Number(x.Qty):0,p5:x.SplitQty?Number(x.SplitQty):0,p6:!1,p7:"SetDefaultSparePartsGroupDetailsID"==t?"SetDefault":null,p8:e.parentId?Number(e.parentId):x.AssSparePartsGroupID?x.AssSparePartsGroupID:0,p9:x.MaterialID?x.MaterialID:0,p10:u,p11:"SetDefaultSparePartsGroupDetailsID"==t,p12:localStorage.getItem("userid"),p13:A()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:A()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,s=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(K.alert({open:!0,color:"warning",message:s}),K.loading(!1)):(t=>{te(!0),K.loading(!0),K.ConfirmAlert(null),V({type:"IsDraft",payload:!1});const a=D.v.Api+"FP232S1/",l={data:[{p1:_,p2:Be(x.SparePartsGroupDetailsCode),p3:x.IsEnable,p4:x.Qty?Number(x.Qty):0,p5:x.SplitQty?Number(x.SplitQty):0,p6:!1,p7:null,p8:e.parentId?Number(e.parentId):x.AssSparePartsGroupID?x.AssSparePartsGroupID:0,p9:x.MaterialID?x.MaterialID:0,p10:u,p11:!1,p12:localStorage.getItem("userid"),p13:A()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:A()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((t=>{(0,G.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(K.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttAssSparePartsGroupDetails"),K.loading(!1),V({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(K.RefreshTable(),K.attachmentSave(t[0].Data.IDPK)),ue(),U.AccessRights.IsApproval&&K.Approval(!0),document.getElementById("overlayimgAttAssSparePartsGroupDetails")&&(document.getElementById("overlayimgAttAssSparePartsGroupDetails").style.width="0%",document.getElementById("overlayimgAttAssSparePartsGroupDetails").style.display="none",document.getElementById("divAssSparePartsGroupDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("AssSparePartsGroupDetails-MainTable").style.display="block")):(K.alert({open:!0,color:"warning",message:[a.message]}),K.loading(!1)),S(!0)}))}))})()):(K.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),K.loading(!1))}))}))})(undefined):K.alert({open:!0,color:"warning",message:[ie("Please select the ")+" "+oe("AssSparePartsGroupID")]}):K.alert({open:!0,color:"warning",message:[ie("Please enter the")+""+oe("SplitQty")]}):K.alert({open:!0,color:"warning",message:[ie("Please enter the")+""+oe("Qty")]}):K.alert({open:!0,color:"warning",message:[ie("Please select the ")+" "+oe("MaterialID")]})}}):null,!e.createEasy&&r().createElement(de.Z,{frmctrlid:"fld232L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ue(),S(!1),K.EditClose(!0),K.hideAddBtn(!1),V({type:"Add",payload:!1})}}))))),r().createElement(i.Z,null,r().createElement("div",{id:"AssSparePartsGroupDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"AssSparePartsGroupDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"AssSparePartsGroupDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(g.Z,{spacing:2},r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(Ie.Z,{json:fe,id:x.MaterialID,"data-testid":x.MaterialID,value:x.MaterialName,SPName:"AssSparePartsGroupDetails",FieldName:"MaterialID",tfLabel:oe("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"MaterialID","select"),onChange:(e,t)=>{Me(e,t,"MaterialIDPK")},KeyBack:e=>{xe("MaterialID")},fieldorder:"1",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,openSlide:()=>{he("354")},Tabledialog:()=>Ne("354","MaterialID"),loading:R,clear:e=>{e&&Te("MaterialID")}})),r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(me.Z,{json:fe,"data-testid":x.Qty,SPName:"AssSparePartsGroupDetails",FieldName:"Qty",tfLabel:oe("Qty"),frmctrlid:"fld232_4420",fieldorder:"2",onChange:e=>{we(e,"Qty","number")},clear:e=>{e&&F({type:"number",name:"Qty",number:0})},value:x.Qty})),r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(me.Z,{json:fe,"data-testid":x.SplitQty,SPName:"AssSparePartsGroupDetails",FieldName:"SplitQty",tfLabel:oe("SplitQty"),frmctrlid:"fld232_4421",fieldorder:"3",onChange:e=>{we(e,"SplitQty","number")},clear:e=>{e&&F({type:"number",name:"SplitQty",number:0})},value:x.SplitQty})),r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(Ie.Z,{"data-testid":x.SparePartsGroupDetailsCode,json:fe,SPName:"AssSparePartsGroupDetails",FieldName:"SparePartsGroupDetailsCode",tfLabel:oe("SparePartsGroupDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{K.ConfirmAlert(r().createElement(Se(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Fe(e),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ie("Yes"),cancelBtnText:ie("No"),showCancel:!0},ie("Do you want to update this record?")))})(t),onClick:()=>{ee&&be(1,"","ClearAll"),te(!0)},frmctrlid:"fld232_4418",frmctrlidName:"SparePartsGroupDetailsCode",fieldorder:"3",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,onChange:(e,t)=>{ee&&be(e,t,"SparePartsGroupDetailsCode"),we(t,"SparePartsGroupDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:x.SparePartsGroupDetailsCode,loading:R,clear:e=>{e&&(F({type:"text",name:"SparePartsGroupDetailsCode",value:""}),te(!0))}})),r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(Z.Z,{style:{color:"#337ab7"},"data-testid":x.IsEnable,labelPlacement:"end",control:r().createElement(C.Z,{checked:"1"==x.IsEnable,onChange:e=>{we(e.target.checked,"IsEnable","boolean")},frmctrlid:"fld232_4419",frmctrlidname:"IsEnable",fieldorder:"3",tfLabel:oe("IsEnable")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.IsEnable?"#21446F":"#999"}},oe("IsEnable"))}))),r().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(Ie.Z,{json:fe,id:x.AssSparePartsGroupID,"data-testid":x.AssSparePartsGroupID,value:x.SparePartGroupName,SPName:"AssSparePartsGroupDetails",FieldName:"AssSparePartsGroupID",tfLabel:oe("AssSparePartsGroupID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>we(e,"AssSparePartsGroupID","select"),onChange:(e,t)=>{Me(e,t,"AssSparePartsGroupIDPK")},KeyBack:e=>{xe("AssSparePartsGroupID")},fieldorder:"3",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,openSlide:()=>{he("233")},Tabledialog:()=>Ne("233","AssSparePartsGroupID"),loading:R,clear:e=>{e&&Te("AssSparePartsGroupID")}})))),r().createElement("div",{id:"AssSparePartsGroupDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AssSparePartsGroupDetailsSideBar").style.width="0",void N(!1))},"×"),h&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))}));a(77366),a(97829);var Me=a(65197);const be=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[o,d]=((0,s.useSelector)((e=>e.form)),(0,l.useState)([])),[u,c]=(0,l.useState)(!0),[m,g]=(0,l.useState)(e.showDetail),[y,S]=(0,l.useState)(""),[I,f]=r().useState(!1),[v,P]=r().useState(""),[C,h]=r().useState(!1),A=(0,l.useContext)(Re),{cstate:G,cdispatch:N}=ke(),[M,b]=(0,l.useState)(!1),[w,T]=(0,l.useState)(""),[x,F]=(0,l.useState)(""),[R,k]=(0,l.useState)("");let B=(0,E.Z)();(0,l.useEffect)((()=>{G.editData.length>0&&(d(G.editData),f(!1),N({type:"PrimaryId",payload:G.editData[0].SparePartsGroupDetailsIDPK}))}),[G.editData]),(0,l.useEffect)((()=>{G.showTableview&&k(G.showTableview)}),[G.showTableview]),(0,l.useEffect)((()=>{c(G.ExpandDetailValue)}),[G.ExpandDetailValue]),(0,l.useEffect)((()=>{c(G.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),f(null)},viewtoggle:()=>{f(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=D.v.Api+"FP232S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:1,p58:10,p59:G.IsDraft?"DraftSparePartsGroupDetailsID":"SparePartsGroupDetailsID",p60:null,p61:null,p62:localStorage.getItem("UserGroupID"),p63:localStorage.getItem("userid")}};(0,ce.Z)(0).then((e=>{(0,p.Z)(l,r,e).then((e=>{A.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const Z=e=>B?.[e]?B?.[e]:e,L=e=>G.language?.[e]?G.language[e]:e;function O(e,t){}const z=(e,t)=>(a,l)=>{P(C?Object.assign(...o.filter((e=>e.SparePartsGroupDetailsIDPK==t)).map((e=>e))):G.editData),f(!l&&e)};return r().createElement("div",null,r().createElement(n.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&c(!u)}},!I&&r().createElement(Y.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},G.IsDraft?Z("Draft"):"",L("AssSparePartsGroupDetails"),e.viewonly?" ":"("+G.count+")")):"",u?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&G.AccessRights.IsAdd?r().createElement(ae.Z,{name:Z("Add"),frmctrlid:"fld232L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{A.hideAddBtn(!0),N({type:"editData",payload:[]}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&G.AccessRights.IsEdit?r().createElement(ue.Z,{frmctrlid:"fld232L1VCEditBtn",onClick:z("panel0",""),disabled:!1}):G.IsDraft&&G.AccessRights.IsAdd&&r().createElement(ue.Z,{frmctrlid:"fld232L1VCEditBtnIsAdd",onClick:()=>{z("panel","")},disabled:!1}),!e.viewonly&&r().createElement(de.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld232L1VCCloseBtn",onClick:()=>{c(!1),A.hideAddBtn(!1),C&&(N({type:"editData",payload:[]}),d([]))}})):"")),r().createElement(i.Z,{style:{display:"block"}},o.map(((t,l)=>r().createElement("div",{key:l},I==="panel"+l?r().createElement(Ne,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(Me.Z,{tableName:"AssSparePartsGroupDetails",tableID:232,parentID:t.SparePartsGroupDetailsIDPK,fldid:"fld232L1VCContainer",OpenSlideComponent:O,index:l,refresh:R,val:t,tf:L,t:Z,title:"10.0.0.59-3:08:17 PM-18-7[232]"}))))))))}));var we=a(67698),Te=a(55995),xe=a(45965),Fe=a(41722);a(9175);const Re=(0,l.createContext)(),ke=()=>{const e=(0,l.useContext)(Re);if(void 0===e)throw new Error("useCont must be used within  AssSparePartsGroupDetailsContext Provider");return e},Be=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),n=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),p=(0,l.useRef)(),[d,u]=(0,l.useState)(!0),[c,m]=(0,l.useState)(),g=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[y,D]=(0,l.useState)(0),[S,I]=(0,l.useReducer)(Fe.D,Fe.E),[E,f]=(0,l.useState)(""),[v,P]=(0,l.useState)([]),[C,h]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||n.current.clear(),document.getElementById("divAssSparePartsGroupDetails-Entry").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainTable").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{u(!0),document.getElementById("divAssSparePartsGroupDetails-Entry").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainTable").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(I({type:"editData",payload:[e.editData]}),I({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{I(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),n.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const A=e=>{P([]),document.getElementById("divAssSparePartsGroupDetails-Entry").style.width="100%",document.getElementById("AssSparePartsGroupDetailsEntryTable").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainEntry").style.display="block",document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.add("displayFlex"),document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssSparePartsGroupDetails").style.width="0%",document.getElementById("overlayimgAttAssSparePartsGroupDetails").style.display="none"};(0,l.useEffect)((()=>{g((e=>{(0,ce.Z)(1).then((e=>{var t=new Array;t.push(e),I({type:"token",payload:t}),D(t.length),G(e)}))}))}),[]);const G=e=>{(0,xe.Z)(e,233).then((e=>I({type:"AccessRights",payload:e})))};return r().createElement("div",{style:{width:"100%"}},r().createElement(Re.Provider,{value:{cstate:S,cdispatch:I,ContextApi:ke,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{p.current.tempsave(e,v),P([])},EditClose:e=>A(),AttachExpand:e=>(o.current.AttachmentData(S.PrimaryId),void(d&&(document.getElementById("overlayPreviewAssSparePartsGroupDetails").style.width="50%",document.getElementById("divAssSparePartsGroupDetails-Entry").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainTable").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAssSparePartsGroupDetails").style.display="block",document.getElementById("overlayimgAttAssSparePartsGroupDetails").style.width="25%"))),Expanded:e=>{S.ShowDetail&&i.current.tableClick(e),I({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{S.ShowDetail&&i.current.viewtoggle()},clear:e=>{I({type:"ShowDetail",payload:!1}),I({type:"editData",payload:[]}),S.ShowDetail?i.current.clear(e):n.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{S.ShowDetail?i.current.tableClick(!1):n.current.CreateEasyProps(!1)},resetImg:()=>{p.current.tempClear(),o.current.clrImgstate(!0)}}},r().createElement("div",{id:"AssSparePartsGroupDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"AssSparePartsGroupDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"AssSparePartsGroupDetailsEntryTable",style:{width:"100%"}},S.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSparePartsGroupDetails-Entry",style:{width:"100%"}},0!==y?r().createElement(be,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Te.Z,{ref:p,menurefID:232,fileId:"LogoImgAssSparePartsGroupDetails",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewAssSparePartsGroupDetails",frmctrlid:"PvwIm_232_L1_",tempImg:e=>{S.PrimaryId?o.current.AttachmentData(S.PrimaryId):o.current.tempImg(e),P(e)},clearTempData:S.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSparePartsGroupDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Ne,{ref:n,clrImgstate:e=>o.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Te.Z,{ref:p,menurefID:232,fileId:"LogoImgAssSparePartsGroupDetails",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>o.current.AttachmentData(e),previd:"overlayPreviewAssSparePartsGroupDetails",frmctrlid:"PvwIm_232_L1_",tempImg:e=>{S.PrimaryId?o.current.AttachmentData(S.PrimaryId):o.current.tempImg(e),P(e)},clearTempData:S.Add})),r().createElement("div",{id:"AssSparePartsGroupDetails-MainTable"},0!==y?r().createElement(pe,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(we.Z,{ImgAttachment:e=>A(),menurefID:232,fileId:"AttImgAssSparePartsGroupDetails",imgid:"overlayimgAttAssSparePartsGroupDetails",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{p.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAssSparePartsGroupDetails",ref:o,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_232_L1_",timglist:e=>{p.current.timglist(e),P(e)},clearTempData:S.Add}))),r().createElement("div",{id:"AssSparePartsGroupDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},70656:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B,saveComponent:()=>L,trimFunc:()=>Z});var l=a(92950),r=a.n(l),s=a(45237),n=a(36939),i=a(61201),o=a(50743),p=(a(3212),a(10966),a(30553)),d=(a(99090),a(44528),a(37148)),u=a(61956),c=a(51673),m=(a(96071),a(14439)),g=a(27848),y=(a(49174),a(38773),a(19089),a(1695)),D=(a(13235),a(61924)),S=a.n(D),I=a(26537),E=a(40900),f=a(35131),v=a.n(f),P=a(55490),C=(a(2493),a(92371));a(82729),a(75355),a(11107),a(40826);const h={EnterKeyValues:{AssSparePartsGroupRegistry:[,"AssSparePartsGroupCode","SparePartGroupName","DisciplineName"]},Label:{AssSparePartsGroupRegistry:{AssSparePartsGroupCode:["AssSparePartsGroupCode","SparePartGroupName"],SparePartGroupName:["AssSparePartsGroupCode","SparePartGroupName"],DisciplineID:["DisciplineCode","DisciplineName"]}},LabelHeader:{AssSparePartsGroupRegistry:{AssSparePartsGroupCode:["SpareParts Group Code","SparePart Group Name"],SparePartGroupName:["SpareParts Group Code","SparePart Group Name"],DisciplineID:["Discipline Code","Discipline Name"]}},Property:{AssSparePartsGroupRegistry:{AssSparePartsGroupCode:{id:"fld233_4430",labelID:"AssSparePartsGroupCode",maxLength:"20",labelname:"SpareParts Group Code",frmctrlid:"fld233_4430",frmctrlidname:"AssSparePartsGroupCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},SparePartGroupName:{id:"fld233_4431",labelID:"SparePartGroupName",maxLength:"50",labelname:"SparePart Group Name",frmctrlid:"fld233_4431",frmctrlidname:"SparePartGroupName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},DisciplineID:{id:"fld233_4433",clearID:"AssSparePartsGroupRegistryDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",foreignName:[],createEasy:!0,advanceSearch:!0,disabled:!1,mandatory:!0}}},SubForms:{},POPLabel:{AssSparePartsGroupRegistry:{DisciplineID:["DisciplineCode","DisciplineName","DivisionName"]}}};a(42258),a(97829);var A=a(99263),G=(a(79117),a(64594)),N=a(99323),M=a(8981),b=a(63163),w=a(45155),T=a(51649),x=a(16233),F=a.n(x);const R={AssSparePartsGroupIDPK:"",AssSparePartsGroupCode:"",SparePartGroupName:"",IsDefault:!1,IsDraft:!1,Remarks:"",DisciplineID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",Type:"AssSparePartsGroupID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},k=(0,l.forwardRef)(((e,t)=>{(0,s.useSelector)((e=>e.form));const[a,D]=(0,l.useState)(!1),[f,x]=((0,l.useRef)(),(0,l.useState)(!0)),[k,B]=(0,l.useState)(!1),[Z,O]=(0,l.useState)(!1),[z,K]=(0,l.useState)(!1),[U,V]=(0,l.useState)(!1),[_,H]=(0,l.useState)([]),[Q,Y]=(0,l.useState)(null),[j,W]=(0,l.useReducer)(C.Z,R),[$,J]=(0,l.useState)(!1),[q,X]=(0,l.useState)([]),[ee,te]=(0,l.useState)(0),[ae,le]=(0,l.useState)(""),[re,se]=(0,l.useState)(!0),[ne,ie]=(0,l.useState)(!0),oe=(0,l.useContext)(G.AssSparePartsGroupRegistryContext),{cstate:pe,cdispatch:de}=(0,G.ContextApi)(),[ue]=(0,l.useState)(localStorage.getItem("Language")),[ce]=(0,l.useState)(localStorage.getItem("Language")),[me,ge]=(0,l.useState)([]),[ye,De]=(0,l.useState)(null),[Se,Ie]=(0,l.useState)(!1),[Ee,fe]=(0,l.useState)(""),ve=(0,l.useRef)(null),[Pe,Ce]=F()("233"),[he,Ae]=(0,l.useState)(!1);let Ge=(0,M.Z)();const[Ne,Me]=(0,l.useState)({}),be=e=>Ge?.[e]?Ge[e]:e,we=t=>pe.language?.[t]?pe.language[t]:e.createEasy?Ne?.[t]:t;(0,l.useEffect)((()=>{pe.PrimaryId&&te(Number(pe.PrimaryId))}),[pe.PrimaryId]),(0,l.useEffect)((()=>{pe.editData.length<0&&(0,I.Z)(1).then((e=>{Ze(1,null,"SetDefaultAssSparePartsGroupID",e)}))}),[]),(0,l.useEffect)((()=>{pe.editData.length>0?(Te(pe.editData[0],""),O(!0)):pe.Add&&(te(0),O(!0))}),[pe.editData,pe.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Me(Object.assign({},...t))}(Pe)}),[Pe]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){O(!0),B(!1)},CreateEasyProps:(e=!0,t)=>{Ce(!0),t?(Ke(t),O(e)):(xe(),O(e))},clear:()=>{xe()}})));const Te=(t,a,l)=>{let r=t;Object.keys(r).forEach((function(e){0==r[e]&&(r[e]=null)})),K(r.IsDraft),de({type:"EditIsDraft",payload:"1"==r.IsDraft}),W({type:"boolean",name:"IsDefault",boolean:r.IsDefault}),"SetDefaultAssSparePartsGroupID"==a?le(r.AssSparePartsGroupIDPK):(te(e.primid?Number(e.primid):r.AssSparePartsGroupIDPK?r.AssSparePartsGroupIDPK:0),de({type:"PrimaryId",payload:r.AssSparePartsGroupIDPK})),W({type:"text",name:"AssSparePartsGroupCode",value:r.AssSparePartsGroupCode?r.AssSparePartsGroupCode:""}),W({type:"text",name:"SparePartGroupName",value:r.SparePartGroupName?r.SparePartGroupName:""}),W({type:"number",name:"DisciplineID",number:r.DisciplineID?Number(r.DisciplineID):0}),W({type:"text",name:"DisciplineName",value:r.DisciplineName}),r.IsDraft?x(!0):x(!("1"!=r.IsActive&&!r.IsActive))},xe=()=>{H([]),te(0),le(""),se(!0),ie(!0),W({type:"boolean",name:"IsDefault",boolean:!1}),de({type:"PrimaryId",payload:""}),W({type:"text",name:"AssSparePartsGroupCode",value:""}),W({type:"text",name:"SparePartGroupName",value:""}),W({type:"text",name:"DisciplineID",value:null}),W({type:"text",name:"DisciplineName",value:""}),document.getElementById("AssSparePartsGroupRegistryDisciplineNameClear")&&document.getElementById("AssSparePartsGroupRegistryDisciplineNameClear").click(),x(!0)},Fe=()=>{const e={...j};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Re=()=>{oe.ConfirmAlert(r().createElement(S(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:be("Are you sure?"),onConfirm:()=>ke(),onCancel:()=>oe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("Cancel"),showCancel:!0},pe.PrimaryId?be("Do you want to Update?"):be("Do you want to Save?")))},ke=(e,t)=>{oe.loading(!0),oe.ConfirmAlert(null),de({type:"IsDraft",payload:!1}),L({url:E.v.Api+"FP233S2/",PrimID:ee,ParamType:e,state:j,active:f,token:pe.token[0],DefaultPrimaryId:ae}).then((t=>{const a=t[0].status;let l=t[0].Data,r=new Array,s=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(oe.alert({open:!0,color:"warning",message:s}),oe.loading(!1)):Be(e)):(oe.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),oe.loading(!1))}))},Be=(t,a)=>{se(!0),ie(!0),oe.loading(!0),oe.ConfirmAlert(null),L({url:E.v.Api+"FP233S1/",PrimID:ee,ParamType:t,state:j,active:f,token:pe.token[0],DefaultPrimaryId:ae}).then((a=>{const l=a[0].status;200==l.code?(de({type:"PrimaryId",payload:a[0].Data.IDPK}),oe.AddOpen(a[0].Data.IDPK),"SetDefaultAssSparePartsGroupID"==t?oe.alert({open:!0,color:"success",message:["Default Record Configured"]}):oe.alert({open:!0,color:"success",message:[l.message]}),oe.attachmentSave(a[0].Data.IDPK),oe.loading(!1),pe.AccessRights.IsApproval&&oe.Approval(!0),e.createEasy,de({type:"EditOpen",payload:!1}),de({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttAssSparePartsGroupRegistry")&&(document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.display="none",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.width="100%"),document.getElementById("AssSparePartsGroupRegistry-MainTable").style.display="none"):(oe.alert({open:!0,color:"warning",message:[l.message]}),oe.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultAssSparePartsGroupID"==t&&(O(!0),Ze(1,null,"SetDefaultAssSparePartsGroupID",pe.token[0]))}))};(0,l.useEffect)((()=>{O(pe.ExpandDetailValue)}),[pe.ExpandDetailValue]);const Ze=(t,a,l,r,s,n)=>{const i=E.v.Api+"FP233S3/",o={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:"0"==j.DisciplineID?null:j.DisciplineID,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:"0"==j.DivisionID?null:j.DivisionID,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:t,p21:10,p22:l,p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}},p=Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});J(!0);const d={data:p};return(0,c.Z)(i,"ClearAll"==l?d:o,"SetDefaultAssSparePartsGroupID"==l&&r?r:pe.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(s)return 1==r.length?r[0]:{};X(1==t?e>0?r:[]:q.concat(r)),"SetDefaultAssSparePartsGroupID"==l&&(e>0?Te(r[0],"SetDefaultAssSparePartsGroupID"):le("NORECORDS")),J(!1)}else oe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),J(!1)}))},Le=(t,a,l)=>{const r=E.v.Api+"FP233S3/",s={data:{p1:null,p2:"AssSparePartsGroupCode"==l&&a?"%"+a+"%":null,p3:"SparePartGroupName"==l&&a?"%"+a+"%":null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:t,p21:10,p22:"AssSparePartsGroupID",p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}},n={data:Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{})};J(!0),(0,c.Z)(r,"ClearAll"==l?n:s,pe.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?("AssSparePartsGroupCode"==l&&se(e>0),"SparePartGroupName"==l&&ie(e>0),X(r)):("AssSparePartsGroupCode"==l&&se(!0),"SparePartGroupName"==l&&ie(!0),X(q.concat(r))),J(!1)}else oe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),J(!1)}))},Oe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?W({type:a,name:t,value:e}):"number"==a?W({type:a,name:t,number:Number(e)}):"boolean"==a?W({type:a,name:t,boolean:e}):"date"==a?W({type:"text",name:t,value:e}):"select"==a&&"DisciplineID"==t&&(W({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),W({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null}))}),[j]),ze=e=>{oe.ConfirmAlert(r().createElement(S(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ke(e),onCancel:()=>oe.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("No"),showCancel:!0},be("Do you want to update this record?")))};function Ke(t){oe.ConfirmAlert(null),K(t.IsDraft),e.createEasy||(de({type:"editData",payload:[t]}),de({type:"PrimaryId",payload:t.AssSparePartsGroupIDPK})),te(Number(t.AssSparePartsGroupIDPK)?Number(t.AssSparePartsGroupIDPK):0),W({type:"text",name:"AssSparePartsGroupCode",value:t.AssSparePartsGroupCode?t.AssSparePartsGroupCode:""}),W({type:"text",name:"SparePartGroupName",value:t.SparePartGroupName?t.SparePartGroupName:""}),W({type:"number",name:"DisciplineID",number:t.DisciplineID?Number(t.DisciplineID):0}),W({type:"text",name:"DisciplineName",value:t.DisciplineName?t.DisciplineName:""})}const Ue=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(n.Z,{expanded:Z,onChange:e=>{}},r().createElement(o.Z,null,r().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&r().createElement("span",{style:{cursor:"pointer"}},r().createElement(T.u1R,{className:"backButtonList",onClick:()=>{oe.ShowTableDiv(),setIndirectRecord(!1)}})),r().createElement("p",{id:"fld233L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[233]",onClick:()=>pe.ExpandTableValue&&O(!Z)},ee?"Edit ":"New ",we("233")," (",pe.count,")")),Z&&r().createElement("div",{className:"displayFlex EntryHeaderBtn"},pe.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(p.Z,{labelPlacement:"bottom",frmctrlid:"fld233L3ECEntryCheckbox",control:r().createElement(b.Z,{checked:"1"==f,onChange:e=>x(e.target.checked)}),label:be(1==f?"Active":"In Active")}))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{oe.AttachExpand(!0)},id:"fld233L3ECAttachment",disableRipple:!0,disabled:!ee},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",null,r().createElement(w.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Attach"))),!e.createEasy&&(!ee||!pe.editData.length>0)&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{xe()},id:"fld233L3ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(w.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Reset"))),pe.AccessRights.IsAdd&&r().createElement(y.Z,{name:ee?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return t=ee?"update":"next",Ue(j.AssSparePartsGroupCode)?Ue(j.SparePartGroupName)?j.DisciplineID&&0!=j.DisciplineID?void("next"==t?function(t,a,l,r){if(Fe().length>0){se(!0),ie(!0),oe.loading(!0),oe.ConfirmAlert(null),de({type:"IsDraft",payload:!1});const t=E.v.Api+"FP233S1/",a={data:[{p1:ee,p2:Ue(j.AssSparePartsGroupCode),p3:Ue(j.SparePartGroupName),p4:j.IsDefault,p5:!0,p6:null,p7:j.DisciplineID?j.DisciplineID:0,p8:!1,p9:!1,p10:localStorage.getItem("userid"),p11:v()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:v()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,u.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(oe.alert({open:!0,color:"success",message:["Saved to Draft"]}),de({type:"EditIsDraft",payload:!0}),oe.attachmentSave(t[0].Data.IDPK),oe.loading(!1),xe(),e.clrImgstate(!0),oe.AddOpen(t[0].Data.IDPK,"1")):(oe.alert({open:!0,color:"warning",message:[a.message]}),oe.loading(!1))}))}))}else oe.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Re(t)):(oe.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+we("DisciplineID")]}),!1):(oe.alert({open:!0,color:"warning",message:[be("Please enter the")+""+we("SparePartGroupName")]}),!1):(oe.alert({open:!0,color:"warning",message:[be("Please enter the")+""+we("AssSparePartsGroupCode")]}),!1);var t}}),ee?r().createElement(d.Z,{disabled:!1,frmctrlid:"fld233L3ECCloseBtn",onClick:()=>{oe.detailview(!0,ee)}}):null))),r().createElement(i.Z,null,pe.AccessRights.IsAdd?null:pe.AccessRights.IsEdit?!pe.PrimaryId&&r().createElement("div",{className:"divdisable"}):r().createElement("div",{className:"divdisable"}),r().createElement("div",{id:"AssSparePartsGroupRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"AssSparePartsGroupRegistry-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"AssSparePartsGroupRegistry-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(m.Z,{spacing:2},r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(P.Z,{"data-testid":j.AssSparePartsGroupCode,json:h,SPName:"AssSparePartsGroupRegistry",FieldName:"AssSparePartsGroupCode",tfLabel:we("AssSparePartsGroupCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ze(t),onClick:()=>{re&&Le(1,"","ClearAll"),se(!0)},frmctrlid:"fld233_4430",frmctrlidName:"AssSparePartsGroupCode",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{re&&Le(e,t,"AssSparePartsGroupCode"),Oe(t,"AssSparePartsGroupCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:j.AssSparePartsGroupCode,loading:$,clear:e=>{e&&(W({type:"text",name:"AssSparePartsGroupCode",value:""}),se(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(P.Z,{"data-testid":j.SparePartGroupName,json:h,SPName:"AssSparePartsGroupRegistry",FieldName:"SparePartGroupName",tfLabel:we("SparePartGroupName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&ze(t),onClick:()=>{ne&&Le(1,"","ClearAll"),ie(!0)},frmctrlid:"fld233_4431",frmctrlidName:"SparePartGroupName",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ne&&Le(e,t,"SparePartGroupName"),Oe(t,"SparePartGroupName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:ne,SideEntryView:!1,KeyBack:e=>{},value:j.SparePartGroupName,loading:$,clear:e=>{e&&(W({type:"text",name:"SparePartGroupName",value:""}),ie(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(P.Z,{json:h,id:j.DisciplineID,"data-testid":j.DisciplineID,value:j.DisciplineName,SPName:"AssSparePartsGroupRegistry",FieldName:"DisciplineID",tfLabel:we("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Oe(e,"DisciplineID","select"),onChange:(e,t)=>{Ze(e,t,"DisciplineIDPK")},KeyBack:e=>{!function(e){if(!j.DisciplineID)return!1;W({type:"text",name:"DisciplineID",value:null})}()},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{(0,A.CreateEasy)("34",pe,de,oe,ve)},Tabledialog:()=>("34","DisciplineID",(0,N.AdvanceSearch)("34","DisciplineID",G.AssSparePartsGroupRegistryContext,(0,G.ContextApi)(),Oe,t),!1),loading:$,clear:e=>{e&&function(e){if(!j.DisciplineID)return!1;W({type:"text",name:"DisciplineID",value:null}),W({type:"text",name:"DisciplineName",value:""}),document.getElementById("AssSparePartsGroupRegistryDisciplineNameClear")&&document.getElementById("AssSparePartsGroupRegistryDisciplineNameClear").click()}()}})))),r().createElement("div",{id:"AssSparePartsGroupRegistrySideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AssSparePartsGroupRegistrySideBar").style.width="0",void V(!1))},"×"),U&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},Q))))))))})),B=k,Z=e=>"string"==typeof e?e.trim():e;function L(e){const{url:t,PrimID:a,ParamType:l,state:r,active:s,token:n,DefaultPrimaryId:i}=e,o={data:[{p1:"SetDefaultAssSparePartsGroupID"==l?"NORECORDS"!=i&&i?i:0:a,p2:Z(r.AssSparePartsGroupCode),p3:Z(r.SparePartGroupName),p4:r.IsDefault,p5:!1,p6:"SetDefaultAssSparePartsGroupID"==l?"SetDefault":null,p7:r.DisciplineID?r.DisciplineID:0,p8:s,p9:"SetDefaultAssSparePartsGroupID"==l,p10:localStorage.getItem("userid"),p11:v()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:v()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,u.Z)(t,o,n).then((e=>e))}},64594:(e,t,a)=>{a.r(t),a.d(t,{AssSparePartsGroupRegistryContext:()=>S,ContextApi:()=>I,default:()=>E});var l=a(92950),r=a.n(l),s=a(45237),n=a(80174),i=a(22006),o=a(70656),p=a(67698),d=a(55995),u=a(26537),c=(a(35131),a(45965)),m=a(73668),g=(a(37274),a(9175)),y=a.n(g),D=a(57729);const S=(0,l.createContext)();function I(){const e=r().useContext(S);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const E=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),g=(0,l.useRef)(),E=(0,l.useRef)(),f=(0,l.useRef)(),v=(0,l.useRef)(),P=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[C,h]=(0,l.useState)(0),[A,G]=r().useReducer(m.I,m.E),[N,M]=(0,l.useState)(""),[b,w]=(0,l.useState)(""),[T,x]=(0,l.useState)([]),F=(0,l.useRef)(),[R,k]=(0,l.useState)(!1);function B(e){G({type:"IsExPView",payload:!0}),G({type:"IsCollapse",payload:!1}),document.getElementById("AssSparePartsGroupRegistry-MainTable").style.margin="0",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.margin="0",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainTable").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.display="none",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayGrid"),G({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttAssSparePartsGroupRegistry")&&(document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.width="0%",document.getElementById("overlayPreviewAssSparePartsGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),B(),G({type:"IsDraft",payload:!1}),G({type:"ShowDetail",payload:!1}),G({type:"Add",payload:!0}),G({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&G({type:"editData",payload:[e.editData]})}),[e.editData]);const Z=e=>{G({type:"IsCollapse",payload:!0}),document.getElementById("AssSparePartsGroupRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AssSparePartsGroupRegistry-MainTable").style.width="0%",document.getElementById("AssSparePartsGroupRegistry-MainTable").style.display="none",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.display="block",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayGrid"),G({type:"ExpandDetailValue",payload:!0}),G({type:"PrimaryId",payload:""}),t.current.clear(),e&&v.current.AddClose()},L=t=>{A.IsCollapse?(document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.display="block",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.display="none"):(document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.width="0%",document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.display="none",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainTable").style.width="auto",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{P((e=>{(0,u.Z)(1).then((e=>{var t=new Array;t.push(e),G({type:"token",payload:t}),h(t.length),O(e)}))}))}),[]);const O=e=>{(0,c.Z)(e,233).then((e=>G({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(G({type:"ShowDetail",payload:!0}),G({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),r().createElement("div",null,r().createElement(S.Provider,{value:{cstate:A,cdispatch:G,ContextApi:I,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>k(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>B(),viewtoggle:()=>{A.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>Z(e),AttachExpand:t=>(g.current.AttachmentData(A.PrimaryId),void(A.ExpandTableValue?(document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.width="28%",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainTable").style.width="auto",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.display="block"):(document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.display="block",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.width="28%",document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.display="block"))),RefreshTable:()=>{f.current.tableRefresh()},floatRefresh:()=>F.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttAssSparePartsGroupRegistry").style.display="none",attachmentSave:e=>{E.current.tempsave(e,b),w([])},detailview:(e,t)=>{f.current.viewrecord(t),G({type:"ShowDetail",payload:e}),G({type:"EditOpen",payload:!0}),A.ShowDetail&&a.current.viewtoggle()},clear:e=>{A.ShowDetail?(G({type:"ShowDetail",payload:!1}),G({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var r,s,n;r=e,n=l,G({type:"IsDraft",payload:s=t}),G({type:"EditOpen",payload:!1}),G({type:"EditIsDraft",payload:s}),Z(),G({type:"editData",payload:[r]}),G({type:"screenType",payload:n})},AddOpen:(e,t)=>((e,t)=>{G({type:"ShowDetail",payload:!0}),G({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&v.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(G({type:"ShowDetail",payload:!1}),G({type:"ExpandTableValue",payload:!0}),f.current.tableRefresh(),document.getElementById("AssSparePartsGroupRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divAssSparePartsGroupRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("AssSparePartsGroupRegistry-MainTable").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainTable").style.display="block",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="0%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.display="none",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupRegistryTabDiv").style.width="100%",document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.display="none",void(document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.width="0%"))}},r().createElement("div",{id:"AssSparePartsGroupRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!A.ExpandTableValue&&r().createElement("div",{id:"AssSparePartsGroupRegistry-MainTable",className:"Maincontent"},0!==C?r().createElement(n.default,{ref:f}):null),r().createElement("div",{id:"AssSparePartsGroupRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},A.ShowDetail?r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSparePartsGroupRegistry-Entry",style:{width:"100%",display:"flex"}},r().createElement(i.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:A.PrimaryId,ref:a}),r().createElement("div",{style:{width:"70%"}},r().createElement(D.ZP,{ref:v,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:A.editData,AddOpen:A.EditOpen,parentId:A.PrimaryId,IsDraft:A.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:A.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),r().createElement(d.Z,{ref:E,menurefID:233,fileId:"LogoImgAssSparePartsGroupRegistry",imgloading:e=>M(e),valueIDPK:A.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewAssSparePartsGroupRegistry",AccessRights:A.AccessRights,frmctrlid:"PvwIm_233_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{A.PrimaryId?g.current.AttachmentData(A.PrimaryId):g.current.tempImg(e),w(e)},clearTempData:A.Add})),r().createElement(p.Z,{ImgAttachment:e=>L(),menurefID:233,fileId:"AttImgAssSparePartsGroupRegistry",imgid:"overlayimgAttAssSparePartsGroupRegistry",valueIDPK:A.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAssSparePartsGroupRegistry",ref:g,imgloading:N,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_233_L3_",timglist:e=>E.current.timglist(e)})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divAssSparePartsGroupRegistry-Entry",style:{width:"100%"}},r().createElement(o.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>g.current.clrImgstate(e)}),r().createElement(D.ZP,{ref:v,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:A.editData,AddOpen:A.EditOpen,parentId:A.PrimaryId,IsDraft:A.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:A.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),r().createElement(d.Z,{ref:E,menurefID:233,fileId:"LogoImgAssSparePartsGroupRegistry",imgloading:e=>M(e),valueIDPK:A.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewAssSparePartsGroupRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{A.PrimaryId?g.current.AttachmentData(A.PrimaryId):g.current.tempImg(e),w(e)},clearTempData:A.Add})),r().createElement(p.Z,{ImgAttachment:e=>L(),menurefID:233,fileId:"AttImgAssSparePartsGroupRegistry",imgid:"overlayimgAttAssSparePartsGroupRegistry",valueIDPK:A.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewAssSparePartsGroupRegistry",ref:g,imgloading:N,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_233_L3_",timglist:e=>E.current.timglist(e),clearTempData:A.Add}))),A.ExpandTableValue&&r().createElement("div",{id:"AssSparePartsGroupRegistry-MainTable",className:"Maincontent"},0!==C?r().createElement(n.default,{ref:f}):null)),R&&r().createElement(y(),{openDialog:R,closeDialog:e=>k(e),formID:233,PrimID:A.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},80174:(e,t,a)=>{a.r(t),a.d(t,{AssSparePartsGroupRegistryPopUpTable:()=>V,default:()=>U}),a(95866);var l=a(92950),r=a.n(l),s=a(45237),n=a(36939),i=a(61201),o=a(50743),p=a(59009),d=a(80366),u=a(51673),c=a(96964),m=a(54180),g=a(47516),y=a(39327),D=(a(14439),a(27848),a(42258),a(40900)),S=(a(83032),a(44117),a(64594)),I=a(43031),E=a(110),f=a(88995),v=a(5109),P=a(61657),C=a(868),h=a(24038),A=a(51209),G=a(8981),N=a(3212),M=a(86893),b=a(53854),w=a(51649),T=a(37106),x=a(5434),F=a(93521),R=a(8687),k=(a(79117),a(57729)),B=a(71168),Z=a.n(B),L=a(65107),O=a(79352),z=a(94986),K=a(15999);a(11557),window.clickFilter="";const U=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),B=((0,l.useRef)(null),(0,l.useRef)(null)),[U]=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[V]=(0,l.useState)("233"),[_,H]=(0,l.useState)(!1),[Q,Y]=(0,l.useState)(!1),[j,W]=(0,l.useState)(0),[$,J]=(0,l.useState)(0),[q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)({current:1,pageSize:100}),[ae,le]=(0,l.useState)(""),[re,se]=(0,l.useState)([]),[ne,ie]=(0,l.useState)({val:"",column:""}),[oe,pe]=(0,l.useState)([]),[de,ue]=(0,l.useState)(!1),[ce,me]=(0,l.useState)(""),[ge,ye]=(0,l.useState)(""),[De,Se]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)(!1),[fe,ve]=(0,l.useState)([]),[Pe,Ce]=(0,l.useState)([]),[he,Ae]=(0,l.useState)([]),[Ge,Ne]=(0,l.useState)(!1),Me=(0,l.useContext)(e.context?e.context:S.AssSparePartsGroupRegistryContext),{cstate:be,cdispatch:we}=e.ContextApi?e.ContextApi:(0,S.ContextApi)(),[Te,xe]=(0,l.useState)({children:[{name:"AssSparePartsGroupRegistry",children:[]}]}),[Fe,Re]=(0,l.useState)(!1);let ke={AssSparePartsGroupIDPK:"",AssSparePartsGroupCode:"",SparePartGroupName:"",IsDefault:"",IsDraft:"",Remarks:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Be,Ze]=(0,l.useState)(ke),[Le,Oe]=(0,l.useState)(ke),[ze,Ke]=(0,l.useState)(ke),[Ue,Ve]=(0,l.useState)(ke),[_e,He]=(0,l.useState)("asc"),[Qe,Ye]=(0,l.useState)(""),[je,We]=(0,l.useState)(!1),[$e,Je]=(0,l.useState)(!0),[qe,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[rt,st]=(0,l.useState)(0),[nt,it]=(0,l.useState)({AssSparePartsGroupCode:"",SparePartGroupName:"",DisciplineName:""}),[ot,pt]=(0,l.useState)(!1),[dt,ut]=(0,l.useState)([]),[ct,mt]=(0,l.useState)(0),[gt,yt]=(0,l.useState)(0),[Dt,St]=(0,l.useState)({current:1,pageSize:10}),[It,Et]=(0,l.useState)([]),[ft,vt]=(0,l.useState)([]),[Pt,Ct]=(0,l.useState)(!1),[ht]=(0,l.useState)(localStorage.getItem("Language")),[At]=(0,l.useState)(localStorage.getItem("Language")),[Gt,Nt]=Z()("233"),[Mt,bt]=(0,l.useState)({}),[wt,Tt]=(0,l.useState)({}),xt=[{columns:It,data:ae}];let Ft=(0,G.Z)();const Rt=e=>Ft?.[e]?Ft[e]:e,kt=e=>be.language?.[e]?be.language[e]:e;(0,l.useEffect)((()=>{zt(Gt)}),[Gt]),(0,l.useEffect)((()=>{be.token.length>0&&(be.IsDraft?Lt(ee,ke,"DraftAssSparePartsGroupID"):Lt(ee,ke,"AssSparePartsGroupID"))}),[]),(0,l.useEffect)((()=>{Ie||Ge||Fe||!ce?Ie?Oe(ce):Ge?Ke(ce):Fe&&Ve(ce):be.IsDraft?Lt(ee,ce,"DraftAssSparePartsGroupID"):Lt(ee,ce,"AssSparePartsGroupID")}),[ce]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&Y(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ot(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Bt()},viewrecord:e=>{oe.map(((t,a)=>{t.AssSparePartsGroupIDPK==e&&we({type:"editData",payload:[oe[a]]})}))}})));const Bt=()=>{be.IsDraft?Lt(ee,ke,"DraftAssSparePartsGroupID"):Lt(ee,ke,"AssSparePartsGroupID")};function Zt(e){Me.loading(!0);let t=D.v.Api+"FP233S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(t,a,be.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,yt(t.Output.data[0].TotalCount)):(a=0,Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me.loading(!1)),10==e.pageSize?mt(Math.ceil(a)):20==e.pageSize?mt(Math.ceil(a/2)):50==e.pageSize?mt(Math.ceil(a/5)):100==e.pageSize&&mt(Math.ceil(a/10)),ut(t.Output.data),Me.loading(!1)}}))}const Lt=(e,t,a,l,r,s)=>{Me.loading(!0),"DraftPage"!==l&&We(be.IsDraft);let n=D.v.Api+"FP233S3/",i={data:{p1:r||(t&&t.AssSparePartsGroupIDPK?t.AssSparePartsGroupIDPK:null),p2:t&&t.AssSparePartsGroupCode?t.AssSparePartsGroupCode:null,p3:t&&t.SparePartGroupName?t.SparePartGroupName:null,p4:null,p5:"DraftAssSparePartsGroupID"==a?"1":"0",p6:null,p7:t&&t.DisciplineID?t.DisciplineID:null,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.DivisionID?t.DivisionID:null,p16:t&&t.DivisionCode?t.DivisionCode:null,p17:t&&t.DivisionName?t.DivisionName:null,p18:t&&t.DisciplineCode?t.DisciplineCode:null,p19:t&&t.DisciplineName?t.DisciplineName:null,p20:r?1:e.current,p21:e.pageSize,p22:a,p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}};(0,u.Z)(n,i,be.token[0]).then((n=>{if(r)(0,R.m)(n,we,l,s,Me,"AssSparePartsGroupIDPK");else if("200"==n.Output.status.code)if(n.Output.data.length>0){if(n.Output.data){let t=0;n.Output.data.length>0?(t=parseFloat(n.Output.data[0].TotalCount,10)/10,J(n.Output.data[0].TotalCount),we({type:"count",payload:n.Output.data[0].TotalCount}),X(n.Output.data[0].DraftCnt),"DraftPage"==l&&X(n.Output.data[0].TotalCount)):t=0,10==e.pageSize?W(Math.ceil(t)):20==e.pageSize?W(Math.ceil(t/2)):50==e.pageSize?W(Math.ceil(t/5)):100==e.pageSize&&W(Math.ceil(t/10)),be.ExpandTableValue&&(be.ExpandDetailValue?document.getElementById("AssSparePartsGroupRegistry-MainTable").style.display="block":(document.getElementById("AssSparePartsGroupRegistry-MainTable").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainEntry").style.width="100%",document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssSparePartsGroupRegistry-MainDiv").classList.add("displayGrid"))),pe(n.Output.data),Me.loading(!1),document.getElementById("divAssSparePartsGroupRegistry-Entry").style.height="auto"}}else Me.loading(!1),"DraftAssSparePartsGroupID"===a?(Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Se(!0),We(!1)):(pe([]),te({current:1,pageSize:10}),W(0),J(0),we({type:"count",payload:0}),Object.values(t).some((e=>e))&&Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Me.alert({open:!0,color:"warning",message:[n.Output.status.message]}),Me.loading(!1)}))};function Ot(e,t){Me.loading(!0);const a=D.v.Api+"FP233S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:je?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(a,l,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?W(Math.ceil(a)):20==t.pageSize?W(Math.ceil(a/2)):50==t.pageSize?W(Math.ceil(a/5)):100==t.pageSize&&W(Math.ceil(a/10)),pe(e.Output.data),Me.loading(!1)}else pe([]),W(0),J(0),we({type:"count",payload:0}),Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Me.loading(!1);else Me.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Me.loading(!1)}))}function zt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let s=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),we({type:"language",payload:Object.assign({},...r)}),it(a.reduce(((e,t)=>(e[t]="",e)),{})),ve(e),Ce(t),Ae(a),Et(l),vt(a)}const Kt=(e,t,a)=>{we({type:"IsDraft",payload:t}),we({type:"EditOpen",payload:!1}),we({type:"EditIsDraft",payload:t}),Me.ExpandDetail(!1),a?Me.AddOpen(e.AssSparePartsGroupIDPK,t):we({type:"editData",payload:[e]})},Ut=()=>{de?(document.getElementById("AssSparePartsGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AssSparePartsGroupRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AssSparePartsGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ue(!1),Ie?(document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ge?(document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSparePartsGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AssSparePartsGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AssSparePartsGroupRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AssSparePartsGroupRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ue(!0),Ie?(document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ge?(document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSparePartsGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),Se(!1),window.clickFilter=!de};return r().createElement("div",null,r().createElement(n.Z,{expanded:$e,onChange:()=>()=>{Je(qe)}},r().createElement(o.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},r().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},r().createElement("div",{className:"displayFlex"},Fe||Ie||!je?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[233]"},`${kt("233")} (${$})`)):r().createElement("div",{className:"ListHeader displayFlex"},r().createElement(C.ZP,{title:"List",placement:"top"},r().createElement("div",{id:"fld233L3TCList",onClick:()=>{qe||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),Me.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Lt({current:1,pageSize:100},ke,"AssSparePartsGroupID"),We(!1),we({type:"IsDraft",payload:!1})}),500)):(Lt({current:1,pageSize:100},ke,"AssSparePartsGroupID"),We(!1),we({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},r().createElement(w.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},"Drafts(",$,")")))),r().createElement("div",{style:{display:"flex"}},Ie||Ge||Fe?null:r().createElement("div",{className:"searchbar",id:"fld233L3TCSearchBar"},r().createElement(h.Z,{className:"search_input",type:"text",id:"AssSparePartsGroupRegistrygridsearch",placeholder:"Search",value:ge,onChange:e=>{if(ye(e),"0"==e.length)return Lt(ee,ke,je?"DraftAssSparePartsGroupID":"AssSparePartsGroupID",je&&"DraftPage"),!1;Ot(e,{current:1,pageSize:100})}}),r().createElement("div",{className:"search_icon"},ge?r().createElement("div",{id:"fld233L3TCCloseIcon",onClick:()=>{ye(""),Bt()}},r().createElement(d.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld233L3TCInputSearchIcon",onClick:()=>{document.getElementById("AssSparePartsGroupRegistrygridsearch").focus()}},r().createElement(f.Z,{className:"InputSearchIcon"})))),r().createElement("div",{style:{marginLeft:"5px"}},be.AccessRights.IsAdd&&r().createElement(N.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>{Me.ExpandDetail(!0),Me.Approval(!1)}}))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"AssSparePartsGroupRegistry-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},!je&&r().createElement("div",{frmctrlid:"fld233L3TCFilterDataIsDraft",id:"AssSparePartsGroupRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Ut()},r().createElement(C.ZP,{title:Rt("Filter Data"),placement:"top"},r().createElement(g.Ol$,{className:"tableFilterColumnIcon"})),r().createElement("span",{className:"iconinfo"},Rt("Filter Data"))),Q||Ie||Fe||je?null:r().createElement(m.Z,{title:"233",formctrlidprint:"fld233L3TCExportPrint",formctrlidexport:"fld233L3TCExportTable",formctrlidrefresh:"fld233L3TCExportRefresh",data:re,exportData:xt,Items:ft,columnIndex:It,TableVisibleItem:Pe,userGridViewFormID:V,TableTotalCount:$,triggerApi:e=>{((e,t,l,r,s)=>{if(0===$)return Me.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Me.loading(!0);let n=D.v.Api+"FP233S3/",i={data:{p1:e&&e.AssSparePartsGroupIDPK?e.AssSparePartsGroupIDPK:null,p2:e&&e.AssSparePartsGroupCode?e.AssSparePartsGroupCode:null,p3:e&&e.SparePartGroupName?e.SparePartGroupName:null,p4:null,p5:je?"1":"0",p6:null,p7:e&&e.DisciplineID?e.DisciplineID:null,p8:e&&e.IsActive,p9:null,p10:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p11:e&&e.CreatedTtm?e.CreatedTtm:null,p12:e&&e.CreatedTtmType?e.CreatedTtmType:null,p13:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p14:null,p15:e&&e.DivisionID?e.DivisionID:null,p16:e&&e.DivisionCode?e.DivisionCode:null,p17:e&&e.DivisionName?e.DivisionName:null,p18:e&&e.DisciplineCode?e.DisciplineCode:null,p19:e&&e.DisciplineName?e.DisciplineName:null,p20:ee.current,p21:$,p22:je?"DraftAssSparePartsGroupID":"AssSparePartsGroupID",p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}};Me.loading(!1),Me.alert({open:!0,color:"success",message:[`${kt(233)} - ${s.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,u.Z)(n,i,be.token[0],s).then((e=>{(0,F.PDF_Excel_Generate)(e,Me,ft,le,a,s)}))})(ce,ne.column,0,0,e)},Refresh:()=>{ye(""),B.current.clearItem(),te({current:1,pageSize:100}),be.IsDraft?Lt({current:1,pageSize:100},ke,"DraftAssSparePartsGroupID"):Lt({current:1,pageSize:100},ke,"AssSparePartsGroupID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:a}),Ie||Ge||Fe||!qe?null:!je&&be.AccessRights.IsAdd&&r().createElement("div",{id:"AssSparePartsGroupRegistrycoldiv",className:"buttoncard",onClick:()=>{De?(document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.width="0%",document.getElementById("AssSparePartsGroupRegistryTabDiv").style.width="100%",document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.display="none",document.getElementById("AssSparePartsGroupRegistrycoldiv").style.width="fit-content",document.getElementById("AssSparePartsGroupRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Se(!1)):(document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.width="25%",document.getElementById("AssSparePartsGroupRegistryTabDiv").style.width="75%",document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.display="block",document.getElementById("AssSparePartsGroupRegistryfildiv").style.width="fit-content",document.getElementById("AssSparePartsGroupRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssSparePartsGroupRegistrycoldiv").style.width="fit-content",document.getElementById("AssSparePartsGroupRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Se(!0)),ue(!1)}},r().createElement(C.ZP,{title:"{t('Manage Columns')}",placement:"top"},r().createElement("span",null,r().createElement(y.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld233L3TCFilterDataIsAdd"}))),r().createElement("span",{className:"iconinfo"},Rt("Manage Columns"))),!je&&_&&!Ie&&!Fe&&!Q&&qe&&r().createElement("div",{id:"fld233L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(C.ZP,{title:Rt("Migration"),placement:"top"},r().createElement("span",null,r().createElement(O.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Rt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!Q&&qe&&!Fe&&!Ie&&!je&&r().createElement("div",null,r().createElement("div",{id:"AssSparePartsGroupRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ot?pt(!1):(pt(!0),Zt({current:1,pageSize:100}))}},r().createElement("div",{id:"fld233L3TCTableScrollData"},r().createElement(C.ZP,{title:Rt("Table Scroll Data"),placement:"top"},r().createElement(K.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Rt("Table Scroll Data")))),be.AccessRights.IsAdd&&!Fe&&!Ie&&!je&&r().createElement(p.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},r().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){st(0),te({current:1,pageSize:100}),qe||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),Me.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Lt({current:1,pageSize:100},ke,"DraftAssSparePartsGroupID"),We(!0),we({type:"IsDraft",payload:!0}),Se(!1),lt(!0),Ee(!1),Ne(!1)}),500)):(Lt({current:1,pageSize:100},ke,"DraftAssSparePartsGroupID"),We(!0),we({type:"IsDraft",payload:!0}),Se(!1),lt(!0),Ee(!1),Ne(!1)),document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.width="0%",document.getElementById("AssSparePartsGroupRegistryTabDiv").style.width="100%",document.getElementById("AssSparePartsGroupRegistryFilterDiv").style.display="none"}else Me.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},r().createElement(C.ZP,{title:Rt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(T.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Rt("Drafts"))))),Ie||Ge||Fe||je?null:r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Fe||je?null:r().createElement("div",null,qe&&r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{id:"fld233L3TCListView",className:at?"buttonList":"buttonGrid",onClick:()=>{ue(!0),lt(!0),Ct(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(b.umT,null)),r().createElement("span",null,"List")),r().createElement("div",{id:"fld233L3TCGridView",className:at||Pt?"buttonGrid":"buttonList",onClick:()=>{lt(!1),Ct(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(M.aCJ,null)),r().createElement("span",null,"Card")),r().createElement("div",{className:Pt?"buttonList":"buttonGrid",id:"fld233L3TCTileView",onClick:()=>{Ct(!0),lt(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(x.f_H,null)),r().createElement("span",null,"Tile"))))))),r().createElement("div",{id:"AssSparePartsGroupRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},r().createElement("div",{id:"AssSparePartsGroupRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&r().createElement(c.default,{CloseBtnClk:()=>Ut(),searchData:e=>{me(e||Mt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));Tt(t)},formID:V,data:()=>{},visibleData:()=>{},token:be.token[0],userGrid:Gt,msg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Bt()}}),De&&!Ie&&!Ge&&r().createElement(v.Z,{frmctrlid:"fld233L3TCTableColumnOrder",loading:e=>Me.loading(e),AltMsg:(e,t)=>Me.alert({open:!0,color:t,message:[e]}),select:De,userID:U,userGridViewFormID:V,saved:(e,t)=>{e&&zt(t),Nt(t)},Token:be.token[0]})),r().createElement("div",{id:"AssSparePartsGroupRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},at?r().createElement("div",null,Ie&&r().createElement(ListComponent,{onLoad:Ie,data:(e,t)=>{!function(e,t){we({type:"editData",payload:[e]}),ue(!1),document.getElementById("AssSparePartsGroupRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("AssSparePartsGroupRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("AssSparePartsGroupRegistry-ShareView").classList.remove("ViewBtnAct"),Ee(!1),Ne(!1),Re(!1);let a={AssSparePartsGroupCode:"",SparePartGroupName:"",DisciplineID:""};Ze(a),Lt({current:1,pageSize:100},a,"AssSparePartsGroupID")}(e)},json:Le}),!Ie&&!Fe&&r().createElement("div",null,ot?r().createElement(z.Z,{data:dt,expanded:()=>{},edit:(e,t,a)=>{Kt(e,t,a),Me.ExpandTable(!1),we({type:"EditIsDraft",payload:t}),we({type:"EditOpen",payload:!1})}}):r().createElement(L.Z,{ref:B,frmctrlid:"tblcs_233_L3_",id:"AssSparePartsGroupRegistry-MainTable",headerdata:Pe,tablesearchparams:nt,searchvalue:e=>{it(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...wt};bt(t),te({current:1,pageSize:10}),Lt({current:1,pageSize:10},t,je?"DraftAssSparePartsGroupID":"AssSparePartsGroupID",je&&"DraftPage")},bodydata:oe,ondrag:(e,t)=>{Kt(t,je,!0)},bodyitem:he,visibleitem:Pe,isdraft:je,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:V,accessrights:be.AccessRights,expanded:()=>{},edit:(e,t,a)=>{Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Lt(ee,null,t?"DraftAssSparePartsGroupID":"AssSparePartsGroupID",t&&"DraftPage",e[l],a)}))},viewtoggle:Me.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return r().createElement(k.ZP,{loading:e=>Me.loading(e),alertmsg:e=>Me.alert(e),ConfirmAlert:e=>{Me.ConfirmAlert(e)},data:be.editData,AddOpen:be.EditOpen,parentId:t.AssSparePartsGroupIDPK,IsDraft:be.EditIsDraft,tableview:e})}}))):r().createElement(A.Z,{frmctrlid:"fld233L3TCExpandedCardDual",data:oe,id:"AssSparePartsGroupRegistry",title:"Spare Parts Group",cardTile:!!Pt,visibleitem:Pe,gridCountmdlg:qe?4:12,gridCountxssm:qe?6:12,expanded:()=>{},edit:Kt,viewtoggle:Me.viewtoggle,onDoubleClick:(e,t)=>{Q?Me.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:je}),we({type:"ShowDetail",payload:!1}),Me.ExpandDetail(!0)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:je}),we({type:"ShowDetail",payload:!0}),Me.ExpandDetail(!0),Me.viewtoggle()),qe&&(ue(!1),Se(!1)))}})))))),Ie||Ge||Fe?null:qe?ot?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:ct,color:"primary",page:Dt.current,onChange:(e,t)=>{St({current:t,pageSize:Dt.pageSize}),mt(t),Zt({current:t,pageSize:Dt.pageSize})}}),r().createElement("div",null,r().createElement(E.Z,{value:Dt.pageSize,frmctrlid:"fld233L3TCSelectPagination",onChange:e=>{St({current:1,pageSize:e.target.value}),Zt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),qe&&r().createElement("p",{className:"per-page"},"/ per page Of (",gt,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:j,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),je)Lt({current:t,pageSize:ee.pageSize},ce,"DraftAssSparePartsGroupID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ge.length>0?Ot(ge,{current:t,pageSize:ee.pageSize}):Lt({current:t,pageSize:ee.pageSize},ce,"AssSparePartsGroupID")}}}),r().createElement("div",null,r().createElement(E.Z,{value:ee.pageSize,frmctrlid:"fld233L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),je?Lt({current:1,pageSize:e.target.value},Be,"DraftAssSparePartsGroupID","DraftPage"):ge.length>0?Ot(ge,{current:1,pageSize:e.target.value}):Lt({current:1,pageSize:e.target.value},Be,"AssSparePartsGroupID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),qe&&r().createElement("p",{className:"per-page "},"/ per page Of (",$,") ")):r().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},r().createElement(P.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number($),page:rt,onPageChange:(e,t)=>{st(t),Lt({current:t+1,pageSize:ee.pageSize},ke,je?"DraftAssSparePartsGroupID":"AssSparePartsGroupID",je&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{st(0)}})))})),V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),p=(0,l.useRef)(null),d=(0,l.useRef)(null),[c]=((0,s.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g,y]=Z()("233"),[f,v]=(0,l.useState)(!1),[P,C]=(0,l.useState)(0),[h,A]=(0,l.useState)(0),[N,M]=(0,l.useState)({current:1,pageSize:100}),[b,w]=(0,l.useState)(""),[T,x]=(0,l.useState)([]),[R,k]=(0,l.useState)({val:"",column:""}),[B,O]=(0,l.useState)([]),[z,K]=(0,l.useState)(!1),[U,V]=(0,l.useState)(""),[_,H]=(0,l.useState)([]),[Q,Y]=(0,l.useState)([]),[j,W]=(0,l.useState)([]),$=(0,l.useContext)(S.AssSparePartsGroupRegistryContext),{cstate:J,cdispatch:q}=(0,S.ContextApi)();let X={AssSparePartsGroupIDPK:"",AssSparePartsGroupCode:"",SparePartGroupName:"",IsDefault:"",IsDraft:"",Remarks:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,se]=(0,l.useState)(!1),[ne,ie]=(0,l.useState)(!0),[oe,pe]=(0,l.useState)(0),[de,ue]=(0,l.useState)({AssSparePartsGroupCode:"",SparePartGroupName:"",DisciplineName:""}),[ce,me]=(0,l.useState)([]),[ge,ye]=(0,l.useState)([]),[De,Se]=(0,l.useState)([]),[Ie,Ee]=(0,l.useState)(!1),[fe,ve]=(0,l.useState)("");let Pe=(0,G.Z)();const Ce=[{columns:ce,data:b}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let s=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),q({type:"language",payload:Object.assign({},...r)}),ue(a.reduce(((e,t)=>(e[t]="",e)),{})),H(e),Y(t),W(a),me(l),ye(a)}(g)}),[g]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{he()},viewrecord:e=>{B.map(((t,a)=>{t.AssSparePartsGroupIDPK==e&&q({type:"editData",payload:[B[a]]})}))},DialogTableProps:e=>{v(e)},searchData:(t,a,l)=>{$.loading(!0),p.current&&p.current.clearItem(),ve(l),M({current:1,pageSize:10}),X=e.ApiParamType.params,Ae({current:1,pageSize:100},a,l),d.current&&d.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&ie(e.cardview),e.Dialogview&&v(e.Dialogview)}),[e.cardview,e.Dialogview]);const he=()=>{J.IsDraft?Ae(N,X,"DraftAssSparePartsGroupID"):Ae(N,X,"AssSparePartsGroupID")},Ae=async(t,a,l,r)=>{if(J.token[0]){if($.loading(!0),"DraftPage"!==r&&te(J.IsDraft),await ve((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}V(a);let s=D.v.Api+`${e.ApiType}/`,n={data:{p1:a&&a.AssSparePartsGroupIDPK?a.AssSparePartsGroupIDPK:null,p2:a&&a.AssSparePartsGroupCode?a.AssSparePartsGroupCode:null,p3:a&&a.SparePartGroupName?a.SparePartGroupName:null,p4:null,p5:"DraftAssSparePartsGroupID"==l?"1":"0",p6:null,p7:a&&a.DisciplineID?a.DisciplineID:null,p8:a&&a.IsActive,p9:null,p10:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p11:a&&a.CreatedTtm?a.CreatedTtm:null,p12:a&&a.CreatedTtmType?a.CreatedTtmType:null,p13:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p14:null,p15:a&&a.DivisionID?a.DivisionID:null,p16:a&&a.DivisionCode?a.DivisionCode:null,p17:a&&a.DivisionName?a.DivisionName:null,p18:a&&a.DisciplineCode?a.DisciplineCode:null,p19:a&&a.DisciplineName?a.DisciplineName:null,p20:t.current,p21:t.pageSize,p22:l,p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}};(0,u.Z)(s,n,J.token[0]).then((e=>{if($.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,A(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?C(Math.ceil(a)):20==t.pageSize?C(Math.ceil(a/2)):50==t.pageSize?C(Math.ceil(a/5)):100==t.pageSize&&C(Math.ceil(a/10)),O(e.Output.data)}}else $.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Pe?.[a]?Pe[a]:a)]}),O([]),C(0),A(0),q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{se(J.ExpandTableValue)}),[J.ExpandTableValue]),r().createElement("div",null,r().createElement(n.Z,{expanded:ae,onChange:()=>()=>{le(re)}},r().createElement(o.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",h,")")))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"AssSparePartsGroupRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(m.Z,{formctrlidprint:"fld233L3TCExportPrint",formctrlidexport:"fld233L3TCExportTable",formctrlidrefresh:"fld233L3TCExportRefresh",title:"233",data:T,exportData:Ce,Items:ge,columnIndex:ce,triggerApi:t=>{((t,l,r)=>{if(0===h)return $.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;$.loading(!0);let s=D.v.Api+`${e.ApiType}/`,n={data:{p1:t||(t&&t.AssSparePartsGroupIDPK?t.AssSparePartsGroupIDPK:null),p2:t&&t.AssSparePartsGroupCode?t.AssSparePartsGroupCode:null,p3:t&&t.SparePartGroupName?t.SparePartGroupName:null,p4:null,p5:ee?"1":"0",p6:null,p7:t&&t.DisciplineID?t.DisciplineID:null,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.DivisionID?t.DivisionID:null,p16:t&&t.DivisionCode?t.DivisionCode:null,p17:t&&t.DivisionName?t.DivisionName:null,p18:t&&t.DisciplineCode?t.DisciplineCode:null,p19:t&&t.DisciplineName?t.DisciplineName:null,p20:1,p21:h,p22:fe,p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}};var i;$.loading(!1),$.alert({open:!0,color:"success",message:[`${i="233",J.language?.[i]?J.language[i]:i} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,u.Z)(s,n,J.token[0],r).then((e=>{(0,F.PDF_Excel_Generate)(e,$,ge,w,a,r)}))})(U,R.column,t)},TableVisibleItem:Q,userGridViewFormID:"233",TableTotalCount:h,Refresh:()=>{Ae({current:1,pageSize:100},U,fe),M({current:1,pageSize:100}),d.current&&d.current.clearItem(),p.current&&p.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(I.Z,{count:P,siblingCount:0,color:"primary",page:N.current,onChange:(e,t)=>{if(M({current:t,pageSize:N.pageSize}),ee)Ae({current:t,pageSize:N.pageSize},U,"DraftAssSparePartsGroupID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Ae({current:t,pageSize:N.pageSize},U,"AssSparePartsGroupID")}}}),r().createElement("div",null,r().createElement(E.Z,{value:N.pageSize,onChange:e=>{M({current:1,pageSize:e.target.value}),Ae({current:1,pageSize:e.target.value},U,"AssSparePartsGroupID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),re&&r().createElement("p",{className:"per-page"},"/ per page Of (",h,")"))),r().createElement("div",{id:"AssSparePartsGroupRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"AssSparePartsGroupRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:d,type:e.viewtype,id:"AssSparePartsGroupRegistry",headerdata:Q,tablesearchparams:de,searchvalue:e=>{ue(e),M({current:1,pageSize:100}),Ae({current:1,pageSize:100},e,ee?"DraftAssSparePartsGroupID":"AssSparePartsGroupID",ee&&"DraftPage")},bodydata:B,ondrag:(e,t)=>{q({type:"editData",payload:[t]}),q({type:"IsDraft",payload:ee}),q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:Q,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{f?$.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?$.edit(t,a,l):$.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{O(e)},color:!0,isexpanded:!1}):r().createElement(L.Z,{frmctrlid:"tblcs_233_L3_",ref:p,id:"AssSparePartsGroupRegistryTable",type:e.viewtype,headerdata:Q,tablesearchparams:de,searchvalue:e=>{let t={...U,...e};ue(e),V(t),M({current:1,pageSize:100}),Ae(N,t,fe)},bodydata:B,ondrag:(e,t)=>{q({type:"editData",payload:[t]}),q({type:"IsDraft",payload:ee}),q({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:Q,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,a,l)=>{f?$.select(t):(e.editdata(t,"view"),$.edit(t,a,1!=t.Entry))},viewtoggle:$.viewtoggle,IsSub:e.IsSub})))))))}))},96964:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R}),a(95866),a(99058);var l=a(92950),r=a.n(l),s=a(80366),n=a(51673),i=a(282),o=a(868),p=a(78513),d=a(14439),u=a(27848),c=a(40900),m=a(64059),g=a(24038),y=a(8981),D=a(47516),S=a(86893),I=a(64594),E=a(33681),f=a(63163),v=(a(35131),a(61956),a(93657)),P=a(53375),C=a(52663),h=a(66083),A=a(29525),G=a(66856),N=a(39803),M=a(99940),b=a(17149),w=a(62810),T=a(30553),x=a(92381),F=a(25108);const R=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[R,k]=(0,l.useState)([]),[B,Z]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[L,O]=(0,l.useState)(""),[z,K]=(0,l.useState)({}),[U,V]=(0,l.useState)(!0),[_,H]=(0,l.useState)(!1),{cstate:Q,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[j,W]=(0,l.useState)(1),[$,J]=(0,l.useState)(0),[q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[re,se]=(0,l.useState)(!0),[ne,ie]=(0,l.useState)(!1),[oe,pe]=(0,l.useState)(""),[de,ue]=(0,l.useState)(!1),[ce,me]=(0,l.useState)(!1),[ge,ye]=(0,l.useState)(!1),[De,Se]=(0,l.useState)(""),Ie=(0,l.useRef)(null),[Ee,fe]=(0,l.useState)({});let ve=localStorage.getItem("Language");const Pe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ce=(0,y.Z)();const he=e=>Ce[e]?Ce[e]:e,Ae=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Pe[ve]];function Ge(){K({}),te({}),e.searchData({}),H(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});fe(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Ie.current&&Ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ge()}})));const Ne=async(t,a,l,r)=>{X(!0);try{Ie.current&&Ie.current.abort();const s=new AbortController;Ie.current=s;let i="",o=[],p={};await Z((e=>(i=e.name,e))),await K((e=>(o=e,e))),await te((e=>(p=e,e)));const d=c.v.Api+"FP233S3/",u={data:{p1:"AssSparePartsGroupIDPK"==a?null:await xe(),p2:"AssSparePartsGroupCode"==i&&l.length>0?"%"+l+"%":null,p3:"SparePartGroupName"==i&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:null,p7:"DisciplineName"!=i&&o.DisciplineName?o.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p8:e.Dialogview?"1":null,p9:null,p10:"p10"==i&&l.length>0?l:null,p11:null,p12:null,p13:null,p14:null,p15:"DivisionName"!=i&&o.DivisionName?o.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p16:"DivisionCode"==i&&l.length>0?"%"+l+"%":null,p17:"DivisionName"==i&&l.length>0?"%"+l+"%":null,p18:"DisciplineCode"==i&&l.length>0?"%"+l+"%":null,p19:"DisciplineName"==i&&l.length>0?"%"+l+"%":null,p20:r||1,p21:10,p22:t,p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}},m=await(0,n.Z)(d,u,e.token,"",s.signal);if(!m)return!1;const g=m.Output.status.code,y=m.Output.data;if("200"===g)if(y.length>0)if(1===r){let e=be(y,i),t=Me(e,z[i],a);k(t),J(t.length>0?t[0].TotalCount:z[i].length)}else{let e=[...R,...y],t=be(e,i);J(t.length<10?t.length:y[0].TotalCount),k(be(t,i))}else L.length>0&&k([]),J(R.length);else e.alertmsg("error",[m.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Me=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),be=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=Ee[e];if(a){const e=a.flatMap((e=>z[e]?z[e].map((e=>e[t])):[]));return e.toString()}return""}const Te=async t=>{let a="",l={};await K((e=>(a=e,e)));let r=[...ae],s=[];for(let e of r){let t=a[e]?.map((e=>e.AssSparePartsGroupIDPK)).toString();t&&s.push(t)}await te((e=>(l=e,e)));let n={AssSparePartsGroupIDPK:s?[...new Set(s)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",DisciplineID:we("DisciplineID")};"saveFav"==t?ke("save",n):(e.searchData(n),H(!1))};async function xe(){let e={};await K((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.AssSparePartsGroupIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Fe(t,a,l,r,s,n){let i={[r]:{From:t,Type:l,To:a}},o={};te((e=>({...e,...i})));const p={...z};let d=[...ae],u=[];for(let e of d){let t=p[e]?.map((e=>e.AssSparePartsGroupIDPK)).toString();t&&u.push(t)}await te((e=>(o=e,e)));let c={AssSparePartsGroupIDPK:u?[...new Set(u)].toString():"",CreatedTtm:o.CreatedTtm?o.CreatedTtm.From:"",CreatedTtmType:o.CreatedTtm?o.CreatedTtm.Type:"",CreatedTtmBetween:o.CreatedTtm?o.CreatedTtm.To:"",IsActive:"IsActive"==l?s:null,DisciplineID:z.DisciplineName?.map((e=>e.DisciplineIDPK)).toString()};e.searchData(c)}function Re(){return r().createElement(m.Z,{frmctrlid:"fld233L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Fe(e,t,a,B.name,l)},keyboardback:()=>{H(!1),Z({idpk:"",name:"",type:"",fieldidpk:""})},title:he(B.name),fieldname:B.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,x.Z)(t,e.formID,a,oe).then((e=>{const t=e.Output.data;Se(t)}))};return r().createElement("div",null,r().createElement(C.Z,{onClose:()=>ue(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},r().createElement(h.Z,{id:"customized-dialog-title",onClose:()=>ue(!1)},"Add Favorite"),r().createElement(A.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(N.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>pe(e.target.value),fullWidth:!0})),r().createElement(T.Z,{style:{color:"#337ab7"},control:r().createElement(M.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>me(e.target.checked)}),label:"Quick"}),r().createElement(T.Z,{style:{color:"#337ab7"},control:r().createElement(M.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ge,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),r().createElement(G.Z,null,r().createElement(i.Z,{onClick:()=>{Te("saveFav"),ue(!1)},color:"primary"},"Save"))),_?"Created Ttm"===B.name||B.name.includes("Date")?r().createElement(Re,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(d.Z,null,r().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Ae(B.idpk)," (",R.length,"/",$,")")),r().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(o.ZP,{title:he("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(s.Z,{id:"fld233L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),Z({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),z[B.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(i.Z,{frmctrlid:"fld233L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,F.log("clear fewItems",e),t))),e[B.name]=[],Ne(B.type,B.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},U?r().createElement(o.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(S.D7o,{className:"FilterMaximizeIcon",onClick:()=>{V(!1)}}))):r().createElement(o.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(S.dOw,{className:"FilterMaximizeIcon",onClick:()=>{V(!0)}})))),r().createElement("ul",null,z[B.name]&&z[B.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:U?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[B.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[B.name],onClick:()=>(async(e,t)=>{W(1);let a=z[B.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[B.name]=a,K(l),k((t=>[e,...t]))})(e)},r().createElement(s.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(g.Z,{frmctrlid:"fld233L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:L,placeholder:he("Enter ")+" "+Ae(B.idpk),onChange:e=>{O(e),Ne(B.type,B.fieldidpk,e,1,xe())}})),r().createElement("div",{id:"fld233L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:Te},r().createElement(o.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(E.Z,{color:"secondary"})),r().createElement("div",{id:"fld233L3TFCScrollYDefault",className:"height65 scrollYDefault"},R.length>0&&R.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[B.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let r=l[B.name];t[B.name]=r?[...a,...r]:a,l={...l,...t},K(l),k((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(p.Z,{className:"DotIcon"}),r().createElement("span",null,e[B.name])))),R.length+0<$&&R.length>0&&r().createElement("div",{id:"fld233L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(j+1),Ne(B.type,B.fieldidpk,"",j+1)}},r().createElement("p",null," more... ")),0===R.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:c.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(D.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",oe.length>0&&`(${oe})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(o.ZP,{title:"Favorite List",placement:"top"},ne?r().createElement(s.Z,{className:"favlisticon",onClick:()=>{ie(!1),Se(""),Ge()}}):r().createElement(v.Z,{className:"favlisticon",onClick:()=>{ie(!0),ke("select"),Ge()}})),Object.keys(z).length>0&&r().createElement(o.ZP,{title:"Save Favorites",placement:"top"},r().createElement(P.Z,{className:"favlisticon",onClick:()=>{ue(!0)}})),r().createElement(o.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnApplyButton",onClick:()=>{Ge()},id:"fld233L3TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),r().createElement(o.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld233L3TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld233L3TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),O(""),k([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"AssSparePartsGroupIDPK";Z({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterAssSparePartsGroupID",fieldidpk:t}),Ne(e.IsForeign?"Filter"+e.FieldName:"FilterAssSparePartsGroupID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Ae(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Ae(e.AdminUserGridViewIDPK)),r().createElement(f.Z,{checked:"1"==re,onChange:t=>{se(t.target.checked),Fe("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Ae(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,z[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},z[a][0][a]),z[a].length>1&&r().createElement("span",{className:"RoundedDivName"},z[a][1][a]),z[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(z[a].length-2))))));var a})),De&&De.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ne("FilterAssSparePartsGroupID",a),Te("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}))},22006:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l=a(92950),r=a.n(l),s=a(45237),n=(a(37148),a(3212)),i=a(29800),o=a(14439),p=a(27848),d=(a(10966),a(36939)),u=a(61201),c=a(50743),m=a(64594),g=(a(21392),a(51673)),y=a(40900),D=a(26537),S=(a(24038),a(70656)),I=(a(77366),a(97829),a(8981)),E=(a(63163),a(1695)),f=(a(79117),a(99216)),v=(a(35131),a(61956),a(51649)),P=a(61924),C=a.n(P),h=a(75714),A=a.n(h),G=a(72696);const N=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),P=((0,s.useSelector)((e=>e.form)),(0,l.useRef)()),[h,N]=(0,l.useState)([]),[M,b]=(0,l.useState)(!0),[w,T]=(0,l.useState)(e.showDetail),[x,F]=(0,l.useState)(""),[R,k]=r().useState(!1),[B,Z]=r().useState(""),[L,O]=r().useState(!1),z=(0,l.useContext)(m.AssSparePartsGroupRegistryContext),{cstate:K,cdispatch:U}=(0,m.ContextApi)(),[V,_]=(0,l.useState)(!1),[H,Q]=(0,l.useState)(""),[Y,j]=(0,l.useState)(""),[W,$]=(0,l.useState)("");let J=(0,I.Z)();(0,l.useEffect)((()=>{K.editData.length>0&&(N(K.editData),k(!1),U({type:"PrimaryId",payload:K.editData[0].AssSparePartsGroupIDPK}))}),[K.editData]),(0,l.useEffect)((()=>{K.showTableview&&$(K.showTableview)}),[K.showTableview]),(0,l.useEffect)((()=>{b(K.ExpandDetailValue)}),[K.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{b(e),k(null)},viewtoggle:()=>{k(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=y.v.Api+"FP233S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:1,p21:10,p22:a?"DraftAssSparePartsGroupID":"AssSparePartsGroupID",p23:null,p24:null,p25:localStorage.getItem("UserGroupID"),p26:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,g.Z)(l,r,e).then((e=>{z.loading(!1),"200"==e.Output.status.code&&N(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===R&&a.current.clear()}})));const q=e=>J?.[e]?J?.[e]:e,X=e=>K.language?.[e]?K.language[e]:e;function ee(e,t){"DisciplineIDPK"===e&&(z.openNav(),setTimeout((function(){P.current.viewlistProps(t)}),1e3),z.SlideComponentType(r().createElement("div",{id:"divAssDisciplineRegistry-View",style:{width:"100%"}},r().createElement(G.AssDisciplineRegistryContext.Provider,{value:{cstate:K,cdispatch:U,loading:e=>z.loading(e),alert:e=>z.alert(e),openNav:()=>z.openNav(),SlideComponentType:e=>z.SlideComponentType(e)}},r().createElement(A(),{viewonly:!0,ref:P})))))}const te=e=>(0,S.trimFunc)(h[0].AssSparePartsGroupCode)?(0,S.trimFunc)(h[0].SparePartGroupName)?h[0].DisciplineID&&0!=h[0].DisciplineID?void z.ConfirmAlert(r().createElement(C(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:q("Are you sure?"),onConfirm:()=>(()=>{z.loading(!0),z.ConfirmAlert(null),U({type:"IsDraft",payload:!1});let e={url:y.v.Api+"FP233S2/",PrimID:h[0].AssSparePartsGroupIDPK,ParamType:"",state:h[0],active:1,token:K.token[0],DefaultPrimaryId:""};(0,S.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,r=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:r}),z.loading(!1)):(()=>{z.loading(!0);let e={url:y.v.Api+"FP233S1/",PrimID:h[0].AssSparePartsGroupIDPK,ParamType:"",state:h[0],active:1,token:K.token[0],DefaultPrimaryId:""};(0,S.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(z.alert({open:!0,color:"success",message:[t.message]}),z.loading(!1),z.ShowTableDiv(),z.RefreshTable(),z.Approval(!0))}))})())}))})(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:q("Yes"),cancelBtnText:q("Cancel"),showCancel:!0},K.PrimaryId?q("Do you want to Update?"):q("Do you want to Save?"))):(z.alert({open:!0,color:"warning",message:[q("Please select the ")+" "+X("DisciplineID")]}),!1):(z.alert({open:!0,color:"warning",message:[q("Please enter the")+""+X("SparePartGroupName")]}),!1):(z.alert({open:!0,color:"warning",message:[q("Please enter the")+""+X("AssSparePartsGroupCode")]}),!1);return r().createElement("div",{className:"SubContent_1"},r().createElement(d.Z,{expanded:M,onChange:()=>()=>{e.expandTable&&b(!M)}},!R&&r().createElement(c.Z,null,r().createElement(o.Z,{container:!0},r().createElement(p.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement(v.u1R,{className:"backButtonList",onClick:()=>{z.ShowTableDiv(),z.RefreshTable()}})),r().createElement("p",{className:"DListP"},K.IsDraft?"Draft ":"",X("233"))))))),r().createElement(u.Z,{style:{display:"block"}},h.map(((e,t)=>r().createElement("div",{key:t},r().createElement(f.Z,{tableName:"AssSparePartsGroupRegistry",tableID:233,parentID:e.AssSparePartsGroupIDPK,fldid:"fld233L3VCContainer",OpenSlideComponent:ee,index:t,val:e,tf:X,t:q,title:"10.0.0.59-3:08:17 PM-18-7[233]"}))))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&K.AccessRights.IsAdd&&r().createElement(n.Z,{className:"L1AddBtnCommon",onClick:()=>{U({type:"ShowDetail",payload:!1}),U({type:"Add",payload:!0}),U({type:"editData",payload:[]}),U({type:"PrimaryId",payload:K.editData[0].AssSparePartsGroupIDPK})},disabled:!1}),K.IsDraft&&r().createElement(i.Z,{onClick:()=>{U({type:"ShowDetail",payload:!1}),U({type:"Add",payload:!0}),U({type:"editData",payload:h}),U({type:"PrimaryId",payload:K.editData[0].AssSparePartsGroupIDPK})},disabled:!1}),r().createElement(E.Z,{name:K.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld233L3ECSaveBtnApprovalStatus",onClick:()=>{te()}}))))}))}}]);