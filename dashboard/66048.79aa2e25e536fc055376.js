"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[66048],{66048:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(92950),s=a.n(n),i=a(71168),l=a.n(i),o=a(49375),c=a(14439),r=a(27848),u=a(40900),d=a(24522),m=a(25108);const g=[{name:"Checkpoint",id:0,active:"btnactvtab",width:"25%",IsConflict:"0",count:0}],p=function(e){const{classes:t}=e,a=(0,n.useRef)(null),[i,p]=(0,n.useState)(""),[f,h]=(0,n.useState)(""),[b,C]=(0,n.useState)([]),[v,k]=(0,n.useState)([]),[E,y]=(0,n.useState)(0),[S,M]=(0,n.useState)([]),[I,w]=(0,n.useState)({}),[N,O]=(0,n.useState)(g);var x=[...g];const[D,_]=(0,n.useState)(!0),[B,F]=(0,n.useState)(!1),[T,R]=l()("666");function Z(t){if("200"!=t.Output.status.code)return e.loading(!1),e.alertmsg({open:!0,color:"error",message:[t.Output.status.message]}),!1;{a.current.conflictStage(),e.loading(!0);const n={Checkpoint:{setter:M},CheckPointMigration:{setter:M}};Object.keys(t.Output.data).forEach((e=>{const a=t.Output.data[e],s=a.filter((e=>"1"===e.IsConflict));s.length>0&&L(0,s.length),e in n&&n[e].setter(a)})),e.loading(!1)}}(0,n.useEffect)((()=>{}),[]);const L=(e,t)=>{const a=g.filter((t=>t.id==e)),n={name:a[0].name,id:a[0].id,active:a[0].active,width:a[0].width,IsConflict:"1",count:t},s=[...x],i=s.findIndex((t=>t.id==e)),l=s[i];s.splice(i,1,{...l,...n}),x=s,O(s)};return s().createElement("div",null,s().createElement("div",{id:"CheckpointMig-MainDiv",className:"MainDivStyles displayFlex"},s().createElement("div",{id:"CheckpointMig-MainEntry",className:"Maincontent",style:{width:"100%"}},s().createElement(c.Z,null,s().createElement(r.Z,{sm:12},s().createElement(o.Z,{MigType:"CheckpointMigration",alertmsg:t=>e.alertmsg(t),conflictFinalData:{Checkpoint:S},data:e=>Z(e),reset:()=>(M([]),O(g),p(""),void h("")),filename:e=>p(e),fileData:e=>h(e),importSave:t=>function(t){if(!f)return e.alertmsg({open:!0,color:"error",message:["Kindly Upload file to Import"]}),!1;e.loading(!0);let a=new FileReader;a.readAsDataURL(f[0]),a.onload=()=>{let a=u.v.Api+"uploadExcel/",n=new FormData;n.append("uploadExcel",f[0]),fetch(a,{method:"POST",headers:{"x-userid":localStorage.getItem("userid"),"mig-type":"CheckpointMigration","mig-btn-type":t,FORM_ID:1},body:n}).then((e=>e.json())).then((a=>{"200"==a.Output.status.code?(Z(a),e.loading(!1),e.alertmsg({open:!0,color:"Success",message:[a.Output.status.message]}),"process"!=t&&(p(""),h(""))):(e.loading(!1),e.alertmsg({open:!0,color:"error",message:[a.Output.status.message]}))})).catch((t=>{e.loading(!1),m.error(t)}))}}(t),NameFile:i,excelfile:u.v.excel+"CheckpointMigration.xlsx",SheetCount:11,ref:a,importdisabled:N.filter((e=>"1"==e.IsConflict)).length>0}))),s().createElement("div",{className:"CheckpointMig-formtabs formtabs"},N.map(((e,t)=>s().createElement("button",{key:t,disabled:!1,style:{width:e.width,background:"1"==e.IsConflict?"#fad6a5":"#fff"},className:e.active+" secondaryMenuBtn ",onClick:()=>function(e){var t=N.length;for(let e=0;e<t;e++)document.getElementsByClassName("CheckpointMig-formtabs")[0].getElementsByTagName("button")[e].classList.remove("btnactvtab");document.getElementsByClassName("CheckpointMig-formtabs")[0].getElementsByTagName("button")[e].classList.add("btnactvtab"),y(e)}(e.id)},e.name,s().createElement("span",null," "),s().createElement("span",null,Number(e.count)>0?"("+e.count+")":""))))),0==E&&s().createElement(d.Z,{tableData:S,TableVisibleItem:b,TableBodyItem:v}))))}}}]);