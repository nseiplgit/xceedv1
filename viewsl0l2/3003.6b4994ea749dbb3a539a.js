"use strict";(self.webpackChunk_shared_routing_viewsl0l2=self.webpackChunk_shared_routing_viewsl0l2||[]).push([[3003],{8843:(e,a,t)=>{var l=t(95318),r=t(20862);a.Z=void 0;var n=r(t(92950)),i=(0,l(t(2108)).default)(n.createElement("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}),"DescriptionOutlined");a.Z=i},41722:(e,a,t)=>{t.d(a,{D:()=>r,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{}};function r(e,a){switch(a.type){case"count":return{...e,count:a.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:a.payload};case"EditIsDraft":return{...e,EditIsDraft:a.payload};case"IsDraft":return{...e,IsDraft:a.payload};case"EditOpen":return{...e,EditOpen:a.payload};case"loading":return{...e,loading:a.payload};case"AccessRights":return{...e,AccessRights:a.payload};case"createEasy":return{...e,createEasy:a.payload};case"ConfirmAlert":return{...e,ConfirmAlert:a.payload};case"editData":return{...e,editData:a.payload};case"ShowDetail":return{...e,ShowDetail:a.payload};case"Add":return{...e,Add:a.payload};case"viewonly":return{...e,viewonly:a.payload};case"showDetail":return{...e,showDetail:a.payload};case"ExpandTableValue":return{...e,ExpandTableValue:a.payload};case"id":return{...e,id:a.payload};case"PrimaryId":return{...e,PrimaryId:a.payload};case"token":return{...e,token:a.payload};case"showData":return{...e,showData:a.payload};case"showTableview":return{...e,showTableview:a.payload};case"language":return{...e,language:a.payload};default:throw new Error(`Unhandled action type: ${a.type}`)}}},72199:(e,a,t)=>{t.r(a),t.d(a,{default:()=>F});var l=t(92950),r=t.n(l),n=t(45237),i=t(36939),o=t(61201),s=t(50743),d=(t(3212),t(30553)),u=t(61956),M=t(44528),m=t(51673),c=t(37148),p=t(99090),g=t(35131),y=t.n(g),I=t(14439),C=t(27848),D=t(1695),S=t(61924),v=t.n(S),N=t(26537),E=t(40900),f=(t(40826),t(11377)),x=(t(24038),t(92371));const h={EnterKeyValues:{MaterialMinMaxRegistry:["MaterialName","ProStoreName","WareHouseName","StockMinLevel","StockMaxLevel","StockReOrderLevel","MatMinMaxCode"]},Label:{MaterialMinMaxRegistry:{MaterialID:["MaterialCode","MaterialName"],ProStoreID:["ProStoreCode","ProStoreName","WareHouseName"],MatWareHouseID:["MatMinMaxCode"],StockMinLevel:["MatMinMaxCode"],StockMaxLevel:["MatMinMaxCode"],StockReOrderLevel:["MatMinMaxCode"],MatMinMaxCode:["MatMinMaxCode"]}},LabelHeader:{MaterialMinMaxRegistry:{MaterialID:["Material Code","Material Name"],ProStoreID:["Store Code","Store Name","Ware House Name"],MatWareHouseID:["MatMinMaxCode"],StockMinLevel:["MatMinMaxCode"],StockMaxLevel:["MatMinMaxCode"],StockReOrderLevel:["MatMinMaxCode"],MatMinMaxCode:["MatMinMaxCode"]}},Property:{MaterialMinMaxRegistry:{MaterialID:{id:"fld351_25899",clearID:"MaterialMinMaxRegistryMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",fieldOrder:"1",frmctrlid:"fld351_25899",frmctrlidname:"MaterialID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},ProStoreID:{id:"fld351_25901",clearID:"MaterialMinMaxRegistryProStoreNameClear",type:"select",labelID:"ProStoreIDPK",labelname:"Store",fielddisplayname:"ProStoreName",fieldOrder:"2",frmctrlid:"fld351_25901",frmctrlidname:"ProStoreID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},MatWareHouseID:{id:"fld351_25900",clearID:"MaterialMinMaxRegistryWareHouseNameClear",type:"select",labelID:"MatWareHouseIDPK",labelname:"WareHouse",fielddisplayname:"WareHouseName",fieldOrder:"3",frmctrlid:"fld351_25900",frmctrlidname:"MatWareHouseID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!0,mandatory:!1},StockMinLevel:{id:"fld351_25902",labelID:"StockMinLevel",maxLength:"10",labelname:"Minimum Level",frmctrlid:"fld351_25902",frmctrlidname:"StockMinLevel",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},StockMaxLevel:{id:"fld351_25897",labelID:"StockMaxLevel",maxLength:"10",labelname:"Maximum Level",frmctrlid:"fld351_25897",frmctrlidname:"StockMaxLevel",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},StockReOrderLevel:{id:"fld351_25898",labelID:"StockReOrderLevel",maxLength:"10",labelname:"Re-Order Level",frmctrlid:"fld351_25898",frmctrlidname:"StockReOrderLevel",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},MatMinMaxCode:{id:"fld351_25912",labelID:"MatMinMaxCode",maxLength:"50",labelname:"MatMinMaxCode",frmctrlid:"fld351_25912",frmctrlidname:"MatMinMaxCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{MaterialMinMaxRegistry:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],ProStoreID:["ProStoreCode","ProStoreName","MatProStoreAddress1","MatProStoreAddress2","POBoxNo","Pincode","CityName"],MatWareHouseID:["WareHouseCode","WareHouseName","WHAddress1","WHAddress2","POBoxNo","Pincode","CityName","IsActive","CreatedTtm","UpdatedTtm"]}}};var b=t(33003),T=(t(79117),t(8981)),P=t(6562),R=t(63163),w=t(45155),k=t(79352),L=(t(49174),t(38773),t(19089),t(16233)),A=t.n(L);t(82729),t(75355),t(11107);const O={MatMinMaxIDPK:"",MatMinMaxCode:"",StockMinLevel:"",StockMaxLevel:"",StockReOrderLevel:"",IsDefault:!1,IsDraft:!1,Remarks:"",MaterialID:null,MatWareHouseID:null,ProStoreID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",Type:"MatMinMaxID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},F=(0,l.forwardRef)(((e,a)=>{(0,n.useSelector)((e=>e.form));const[t,g]=(0,l.useState)(!1),[S,L]=(0,l.useState)(!0),[F,B]=(0,l.useState)(!1),[z,H]=(0,l.useState)(!1),[Z,W]=(0,l.useState)(""),[U,G]=(0,l.useState)(!1),[K,V]=(0,l.useState)([]),[_,Y]=(0,l.useState)(null),[j,$]=(0,l.useReducer)(x.Z,O),[J,X]=(0,l.useState)(!1),[q,Q]=(0,l.useState)([]),[ee,ae]=(0,l.useState)(!1),te=(0,l.useContext)(e.context?e.context:b.MaterialMinMaxRegistryContext),{cstate:le,cdispatch:re}=e.ContextApi?e.ContextApi:(0,b.ContextApi)(),[ne,ie]=(0,l.useState)(0),[oe,se]=(0,l.useState)(""),de=(0,l.useRef)(null),[ue,Me]=A()("351"),[me,ce]=(0,l.useState)(!0),[pe,ge]=(0,l.useState)(!1);let ye=(0,T.Z)();const[Ie,Ce]=(0,l.useState)({}),De=e=>ye[e]?ye[e]:e,Se=a=>le.language?.[a]?le.language[a]:e.createEasy?Ie?.[a]:a;(0,l.useEffect)((()=>{Ne(),le.editData.length<0&&(0,N.Z)(1).then((e=>{be(1,null,"SetDefaultMatMinMaxID",e)}))}),[]),(0,l.useEffect)((()=>{le.editData.length>0?(ve(le.editData[0],""),B(!0)):le.Add&&(Ne(),be(1,null,"SetDefaultMatMinMaxID",le.token[0]),B(!0))}),[le.editData]),(0,l.useEffect)((()=>{!function(e){let a=[];e&&e.map((e=>{let t=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[t]]})})),Ce(Object.assign({},...a))}(ue)}),[ue]),(0,l.useImperativeHandle)(a,(()=>({clear:()=>{Ne()},CreateEasyProps:(e=!0,a)=>{Me(!0),a?(ke(a),B(e)):(Ne(),B(e))}})));const ve=(a,t)=>{H(a.IsDraft),"SetDefaultMatMinMaxID"==t?se(a.MatMinMaxIDPK):(ie(e.primid?Number(e.primid):a.MatMinMaxIDPK),re({type:"PrimaryId",payload:a.MatMinMaxIDPK})),$({type:"number",name:"MaterialID",number:a.MaterialID?Number(a.MaterialID):0}),$({type:"text",name:"MaterialName",value:a.MaterialName}),$({type:"number",name:"ProStoreID",number:a.ProStoreID?Number(a.ProStoreID):0}),$({type:"text",name:"ProStoreName",value:a.ProStoreName}),$({type:"number",name:"MatWareHouseID",number:a.MatWareHouseID?Number(a.MatWareHouseID):0}),$({type:"text",name:"WareHouseName",value:a.WareHouseName}),$({type:"number",name:"StockMinLevel",number:a.StockMinLevel}),$({type:"number",name:"StockMaxLevel",number:a.StockMaxLevel}),$({type:"number",name:"StockReOrderLevel",number:a.StockReOrderLevel}),$({type:"boolean",name:"IsDefault",boolean:a.IsDefault}),$({type:"text",name:"MatMinMaxCode",value:a.MatMinMaxCode?a.MatMinMaxCode:""}),a.IsDraft?L(!0):L(!("1"!=a.IsActive&&!a.IsActive))},Ne=()=>{V([]),ie(0),se(""),e.createEasy||te.resetImg(),re({type:"PrimaryId",payload:""}),$({type:"text",name:"MaterialID",value:null}),$({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialMinMaxRegistryMaterialNameClear")&&document.getElementById("MaterialMinMaxRegistryMaterialNameClear").click(),$({type:"text",name:"ProStoreID",value:null}),$({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialMinMaxRegistryProStoreNameClear")&&document.getElementById("MaterialMinMaxRegistryProStoreNameClear").click(),$({type:"text",name:"MatWareHouseID",value:null}),$({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialMinMaxRegistryWareHouseNameClear")&&document.getElementById("MaterialMinMaxRegistryWareHouseNameClear").click(),$({type:"number",name:"StockMinLevel",number:0}),$({type:"number",name:"StockMaxLevel",number:0}),$({type:"number",name:"StockReOrderLevel",number:0}),$({type:"boolean",name:"IsDefault",boolean:!1}),$({type:"text",name:"MatMinMaxCode",value:""}),L(!0),W(""),ce(!0)},Ee=a=>{te.loading(!0),te.ConfirmAlert(null);const t=E.v.Api+"FP351S2/",l={data:[{p1:"SetDefaultMatMinMaxID"==a?"NORECORDS"!=oe&&oe?oe:0:ne,p2:Le(j.MatMinMaxCode),p3:j.StockMinLevel?Number(j.StockMinLevel):0,p4:j.StockMaxLevel?Number(j.StockMaxLevel):0,p5:j.StockReOrderLevel?Number(j.StockReOrderLevel):0,p6:j.IsDefault,p7:!1,p8:"SetDefaultMatMinMaxID"==a?"SetDefault":null,p9:j.MaterialID?j.MaterialID:0,p10:j.MatWareHouseID?j.MatWareHouseID:0,p11:j.ProStoreID?j.ProStoreID:0,p12:S,p13:"SetDefaultMatMinMaxID"==a,p14:localStorage.getItem("userid"),p15:y()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,N.Z)(0).then((a=>{(0,m.Z)(t,l,a).then((a=>{const t=a.Output[0].status;let l=a.Output[0].Data,r=new Array,n=new Array;"200"===t.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(te.alert({open:!0,color:"warning",message:n}),te.loading(!1)):(a=>{ce(!0),te.loading(!0),te.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const t=E.v.Api+"FP351S1/",l={data:[{p1:ne,p2:Le(j.MatMinMaxCode),p3:j.StockMinLevel?Number(j.StockMinLevel):0,p4:j.StockMaxLevel?Number(j.StockMaxLevel):0,p5:j.StockReOrderLevel?Number(j.StockReOrderLevel):0,p6:j.IsDefault,p7:!1,p8:null,p9:j.MaterialID?j.MaterialID:0,p10:j.MatWareHouseID?j.MatWareHouseID:0,p11:j.ProStoreID?j.ProStoreID:0,p12:S,p13:!1,p14:localStorage.getItem("userid"),p15:y()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,N.Z)(0).then((a=>{(0,u.Z)(t,l,a).then((a=>{const t=a[0].status;200==t.code?(te.alert({open:!0,color:"success",message:[t.message]}),document.getElementById("overlayimgAttMaterialMinMaxRegistry"),te.loading(!1),e.createEasy||(te.RefreshTable(),te.attachmentSave(a[0].Data.IDPK),e.clrImgstate(!0)),Ne(),le.AccessRights.IsApproval&&te.Approval(!0),document.getElementById("overlayimgAttMaterialMinMaxRegistry")&&(document.getElementById("overlayimgAttMaterialMinMaxRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialMinMaxRegistry").style.display="none",document.getElementById("divMaterialMinMaxRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("MaterialMinMaxRegistry-MainTable").style.display="block")):(te.alert({open:!0,color:"warning",message:[t.message]}),te.loading(!1)),B(!0),be(1,null,"SetDefaultMatMinMaxID",le.token[0])}))}))})()):(te.alert({open:!0,color:"warning",message:[a.Output[0].status.message]}),te.loading(!1))}))}))};function fe(a,t,l,r){if(!(le.count>0))return te.alert({open:!0,color:"warning",message:[De("Please save atleast one record")]}),!1;if(!((()=>{const e={...j};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((a=>{delete e[a]})),Object.keys(e).filter((a=>e[a]))})().length>0))return te.alert({open:!0,color:"warning",message:[De("Please enter the primary fields")]}),!1;{ce(!0),te.loading(!0),te.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const t=E.v.Api+"FP351S1/",l={data:[{p1:"SetDefaultMatMinMaxID"==r?"NORECORDS"!=oe&&oe?oe:0:ne,p2:Le(j.MatMinMaxCode),p3:j.StockMinLevel?Number(j.StockMinLevel):0,p4:j.StockMaxLevel?Number(j.StockMaxLevel):0,p5:j.StockReOrderLevel?Number(j.StockReOrderLevel):0,p6:j.IsDefault,p7:!0,p8:"SetDefaultMatMinMaxID"==r?"SetDefault":null,p9:j.MaterialID?j.MaterialID:0,p10:j.MatWareHouseID?j.MatWareHouseID:0,p11:j.ProStoreID?j.ProStoreID:0,p12:!1,p13:"SetDefaultMatMinMaxID"==r,p14:localStorage.getItem("userid"),p15:y()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:y()().format("YYYY-MM-DD hh:mm:ss")}]};(0,N.Z)(0).then((r=>{(0,u.Z)(t,l,r).then((t=>{const l=t[0].status;200==l.code?(a?te.alert({open:!0,color:"warning",message:[De("Deleted Successfully")]}):te.alert({open:!0,color:"success",message:[De("Saved to Draft")]}),te.loading(!1),te.attachmentSave(t[0].Data.IDPK),Ne(),te.RefreshTable(),e.clrImgstate(!0)):(te.alert({open:!0,color:"warning",message:[l.message]}),te.loading(!1))}))}))}}function xe(e){return CreateEasy(e,le,re,te,de),!1}function he(e,t){return AdvanceSearch(e,t,b.MaterialMinMaxRegistryContext,(0,b.ContextApi)(),Pe,a),!1}const be=(a,t,l,r,n,i)=>{const o=E.v.Api+"FP351S3/",s={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"0"==j.MaterialID?null:j.MaterialID,p10:"0"==j.MatWareHouseID?null:j.MatWareHouseID,p11:"0"==j.ProStoreID?null:j.ProStoreID,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:"0"==j.MatProcessTypeID?null:j.MatProcessTypeID,p20:t?"%"+t+"%":null,p21:t?"%"+t+"%":null,p22:"0"==j.MaterialTypeID?null:j.MaterialTypeID,p23:t?"%"+t+"%":null,p24:t?"%"+t+"%":null,p25:"0"==j.MaterialMainClassID?null:j.MaterialMainClassID,p26:t?"%"+t+"%":null,p27:t?"%"+t+"%":null,p28:"0"==j.MatSubClassID?null:j.MatSubClassID,p29:t?"%"+t+"%":null,p30:t?"%"+t+"%":null,p31:"0"==j.MaterialMakeID?null:j.MaterialMakeID,p32:t?"%"+t+"%":null,p33:t?"%"+t+"%":null,p34:"0"==j.MaterialModelID?null:j.MaterialModelID,p35:t?"%"+t+"%":null,p36:t?"%"+t+"%":null,p37:"0"==j.MATUOMID?null:j.MATUOMID,p38:t?"%"+t+"%":null,p39:t?"%"+t+"%":null,p40:"0"==j.MatGradeID?null:j.MatGradeID,p41:t?"%"+t+"%":null,p42:t?"%"+t+"%":null,p43:"0"==j.MatMaterialColorID?null:j.MatMaterialColorID,p44:t?"%"+t+"%":null,p45:t?"%"+t+"%":null,p46:"0"==j.MadeRawMaterialID?null:j.MadeRawMaterialID,p47:t?"%"+t+"%":null,p48:t?"%"+t+"%":null,p49:"0"==j.MatMaterialSizeID?null:j.MatMaterialSizeID,p50:t?"%"+t+"%":null,p51:t?"%"+t+"%":null,p52:t?"%"+t+"%":null,p53:t?"%"+t+"%":null,p54:"0"==j.CityID?null:j.CityID,p55:t?"%"+t+"%":null,p56:t?"%"+t+"%":null,p57:"0"==j.RegionID?null:j.RegionID,p58:t?"%"+t+"%":null,p59:t?"%"+t+"%":null,p60:"0"==j.CountryID?null:j.CountryID,p61:t?"%"+t+"%":null,p62:t?"%"+t+"%":null,p63:t?"%"+t+"%":null,p64:t?"%"+t+"%":null,p65:t?"%"+t+"%":null,p66:t?"%"+t+"%":null,p67:a,p68:10,p69:l,p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}},d=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,a,t)=>(e[a]=t>Object.keys(s.data).length-8?s.data[a]:null,e)),{});X(!0);const u={data:d};return(0,m.Z)(o,"ClearAll"==l?u:s,"SetDefaultMatMinMaxID"==l&&r?r:le.token[0]).then((e=>{const t=e.Output.status.code,r=e.Output.data;if("200"==t){const e=r.length;if(n)return 1==r.length?r[0]:{};Q(1==a?e>0?r:[]:q.concat(r)),"SetDefaultMatMinMaxID"==l&&(e>0?ve(r[0],"SetDefaultMatMinMaxID"):se("NORECORDS")),X(!1)}else te.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Te=(a,t,l)=>{const r=E.v.Api+"FP351S3/",n={data:{p1:null,p2:"MatMinMaxCode"==l&&t?"%"+t+"%":null,p3:"StockMinLevel"==l&&t?"%"+t+"%":null,p4:"StockMaxLevel"==l&&t?"%"+t+"%":null,p5:"StockReOrderLevel"==l&&t?"%"+t+"%":null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:a,p68:10,p69:"MatMinMaxID",p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,a,t)=>(e[a]=t>Object.keys(n.data).length-8?n.data[a]:null,e)),{})};X(!0),(0,m.Z)(r,"ClearAll"==l?i:n,le.token[0]).then((e=>{const t=e.Output.status.code,r=e.Output.data;if("200"==t){const e=r.length;1==a?("MatMinMaxCode"==l&&ce(e>0),Q(r)):("MatMinMaxCode"==l&&ce(!0),Q(q.concat(r))),X(!1)}else te.alert({open:!0,color:"warning",message:[e.Output.status.message]}),X(!1)}))},Pe=(0,l.useCallback)((async(e,a,t)=>{"text"==t?$({type:t,name:a,value:e}):"number"==t?$({type:t,name:a,number:Number(e)}):"boolean"==t?$({type:t,name:a,boolean:e}):"date"==t?$({type:"text",name:a,value:e}):"select"==t&&("MaterialID"==a?($({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),$({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null})):"ProStoreID"==a&&($({type:"text",name:"ProStoreID",value:e.ProStoreIDPK?e.ProStoreIDPK:null}),$({type:"text",name:"ProStoreName",value:e.ProStoreName?e.ProStoreName:null}),$({type:"text",name:"MatWareHouseID",value:e.MatWareHouseID?e.MatWareHouseID:null}),$({type:"text",name:"WareHouseName",value:e.WareHouseName?e.WareHouseName:null})))}),[j]);function Re(e){"MaterialID"==e?($({type:"text",name:"MaterialID",value:null}),$({type:"text",name:"MaterialName",value:""}),document.getElementById("MaterialMinMaxRegistryMaterialNameClear")&&document.getElementById("MaterialMinMaxRegistryMaterialNameClear").click()):"ProStoreID"==e&&($({type:"text",name:"ProStoreID",value:null}),$({type:"text",name:"ProStoreName",value:""}),document.getElementById("MaterialMinMaxRegistryProStoreNameClear")&&document.getElementById("MaterialMinMaxRegistryProStoreNameClear").click(),$({type:"text",name:"MatWareHouseID",value:null}),$({type:"text",name:"WareHouseName",value:""}),document.getElementById("MaterialMinMaxRegistryWareHouseNameClear")&&document.getElementById("MaterialMinMaxRegistryWareHouseNameClear").click())}function we(e){"MaterialID"==e?$({type:"text",name:"MaterialID",value:null}):"ProStoreID"==e&&($({type:"text",name:"ProStoreID",value:null}),$({type:"text",name:"MatWareHouseID",value:null}))}function ke(e){te.ConfirmAlert(null),H(e.IsDraft),ie(Number(e.MatMinMaxIDPK)?Number(e.MatMinMaxIDPK):0),$({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),$({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),$({type:"number",name:"ProStoreID",number:e.ProStoreID?Number(e.ProStoreID):0}),$({type:"text",name:"ProStoreName",value:e.ProStoreName?e.ProStoreName:""}),$({type:"number",name:"MatWareHouseID",number:e.MatWareHouseID?Number(e.MatWareHouseID):0}),$({type:"text",name:"WareHouseName",value:e.WareHouseName?e.WareHouseName:""}),$({type:"number",name:"StockMinLevel",number:e.StockMinLevel?Number(e.StockMinLevel):0}),$({type:"number",name:"StockMaxLevel",number:e.StockMaxLevel?Number(e.StockMaxLevel):0}),$({type:"number",name:"StockReOrderLevel",number:e.StockReOrderLevel?Number(e.StockReOrderLevel):0}),$({type:"text",name:"MatMinMaxCode",value:e.MatMinMaxCode?e.MatMinMaxCode:""})}const Le=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(i.Z,{expanded:F,onChange:e=>{}},r().createElement(s.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},F&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.30-11:17:27-5-5[351]"}," ",De("Add "),Se("351")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},le.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(P.Z,{row:!0},r().createElement(d.Z,{labelPlacement:"bottom",id:"fld351L2ECEntryCheckbox",control:r().createElement(R.Z,{checked:"1"==S,onChange:e=>L(e.target.checked)}),label:De(1==S?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{te.AttachExpand(!0)},id:"fld351L2ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(w.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,De("Attach")))),!ne&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ne()},id:"fld351L2ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(w.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,De("Reset")))),"1"===z&&ne&&r().createElement(p.Z,{frmctrlid:"fld351L2ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{fe("draftdel")}}),ne&&"1"!==z||e.createEasy?null:le.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{fe()},frmctrlid:"fld351L2ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(k.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,De("Draft")))),le.AccessRights.IsAdd||le.AccessRights.IsEdit?r().createElement(D.Z,{frmctrlid:"fld351L2ECSaveBtnIsAdd",name:De(ne?"Update":"Save"),disabled:!1,onClick:()=>{j.MaterialID&&0!=j.MaterialID?j.ProStoreID&&0!=j.ProStoreID?Le(j.StockMinLevel)?Le(j.StockMaxLevel)?Le(j.StockReOrderLevel)?te.ConfirmAlert(r().createElement(v(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:De("Are you sure?"),onConfirm:()=>Ee(),onCancel:()=>te.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:De("Yes"),cancelBtnText:De("Cancel"),showCancel:!0},De(ne?"Do you want to Update?":"Do you want to Save?"))):te.alert({open:!0,color:"warning",message:[De("Please enter the")+""+Se("StockReOrderLevel")]}):te.alert({open:!0,color:"warning",message:[De("Please enter the")+""+Se("StockMaxLevel")]}):te.alert({open:!0,color:"warning",message:[De("Please enter the")+""+Se("StockMinLevel")]}):te.alert({open:!0,color:"warning",message:[De("Please select the ")+" "+Se("ProStoreID")]}):te.alert({open:!0,color:"warning",message:[De("Please select the ")+" "+Se("MaterialID")]})}}):null,!e.createEasy&&r().createElement(c.Z,{frmctrlid:"fld351L2ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ne(),B(!1),te.EditClose(!0),te.hideAddBtn(!1),re({type:"Add",payload:!1})}}))))),r().createElement(o.Z,null,r().createElement("div",{id:"MaterialMinMaxRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"MaterialMinMaxRegistry-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"MaterialMinMaxRegistry-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(I.Z,{spacing:2},r().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(f.Z,{json:h,id:j.MaterialID,"data-testid":j.MaterialID,value:j.MaterialName,SPName:"MaterialMinMaxRegistry",FieldName:"MaterialID",tfLabel:Se("MaterialID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>Pe(e,"MaterialID","select"),onChange:(e,a)=>{be(e,a,"MaterialIDPK")},KeyBack:e=>{we("MaterialID")},fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{xe("354")},Tabledialog:()=>he("354","MaterialID"),loading:J,clear:e=>{e&&Re("MaterialID")}})),r().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(f.Z,{json:h,id:j.ProStoreID,"data-testid":j.ProStoreID,value:j.ProStoreName,SPName:"MaterialMinMaxRegistry",FieldName:"ProStoreID",tfLabel:Se("ProStoreID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>Pe(e,"ProStoreID","select"),onChange:(e,a)=>{be(e,a,"ProStoreIDPK")},KeyBack:e=>{we("ProStoreID")},fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{xe("385")},Tabledialog:()=>he("385","ProStoreID"),loading:J,clear:e=>{e&&Re("ProStoreID")}})),r().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(f.Z,{json:h,id:j.MatWareHouseID,"data-testid":j.MatWareHouseID,value:j.WareHouseName,SPName:"MaterialMinMaxRegistry",FieldName:"MatWareHouseID",tfLabel:Se("MatWareHouseID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>Pe(e,"MatWareHouseID","select"),onChange:(e,a)=>{be(e,a,"MatWareHouseIDPK")},KeyBack:e=>{we("MatWareHouseID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{xe("451")},Tabledialog:()=>he("451","MatWareHouseID"),loading:J,clear:e=>{e&&Re("MatWareHouseID")}})),r().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(M.Z,{json:h,"data-testid":j.StockMinLevel,SPName:"MaterialMinMaxRegistry",FieldName:"StockMinLevel",tfLabel:Se("StockMinLevel"),frmctrlid:"fld351_25902",fieldorder:"4",onChange:e=>{Pe(e,"StockMinLevel","number")},clear:e=>{e&&$({type:"number",name:"StockMinLevel",number:0})},value:j.StockMinLevel})),r().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(M.Z,{json:h,"data-testid":j.StockMaxLevel,SPName:"MaterialMinMaxRegistry",FieldName:"StockMaxLevel",tfLabel:Se("StockMaxLevel"),frmctrlid:"fld351_25897",fieldorder:"1",onChange:e=>{Pe(e,"StockMaxLevel","number")},clear:e=>{e&&$({type:"number",name:"StockMaxLevel",number:0})},value:j.StockMaxLevel})),r().createElement(C.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(M.Z,{json:h,"data-testid":j.StockReOrderLevel,SPName:"MaterialMinMaxRegistry",FieldName:"StockReOrderLevel",tfLabel:Se("StockReOrderLevel"),frmctrlid:"fld351_25898",fieldorder:"2",onChange:e=>{Pe(e,"StockReOrderLevel","number")},clear:e=>{e&&$({type:"number",name:"StockReOrderLevel",number:0})},value:j.StockReOrderLevel})),r().createElement(C.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(f.Z,{"data-testid":j.MatMinMaxCode,json:h,SPName:"MaterialMinMaxRegistry",FieldName:"MatMinMaxCode",tfLabel:Se("MatMinMaxCode"),EnterSave:a=>{a&&e.submitConfirmation(a)},onSelect:a=>!e.createEasy&&(e=>{te.ConfirmAlert(r().createElement(v(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ke(e),onCancel:()=>te.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:De("Yes"),cancelBtnText:De("No"),showCancel:!0},De("Do you want to update this record?")))})(a),onClick:()=>{me&&Te(1,"","ClearAll"),ce(!0)},frmctrlid:"fld351_25912",frmctrlidName:"MatMinMaxCode",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,a)=>{me&&Te(e,a,"MatMinMaxCode"),Pe(a,"MatMinMaxCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:j.MatMinMaxCode,loading:J,clear:e=>{e&&($({type:"text",name:"MatMinMaxCode",value:""}),ce(!0))}})))),r().createElement("div",{id:"MaterialMinMaxRegistrySideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MaterialMinMaxRegistrySideBar").style.width="0",void G(!1))},"×"),U&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},_))))))))}))},33003:(e,a,t)=>{t.r(a),t.d(a,{ContextApi:()=>g,MaterialMinMaxRegistryContext:()=>p,UserGridViewData:()=>y,default:()=>I});var l=t(92950),r=t.n(l),n=t(95843),i=t(5805),o=t(72199),s=t(67698),d=t(55995),u=t(26537),M=t(45237),m=t(45965),c=t(41722);t(51673),t(40900),t(9175);const p=(0,l.createContext)(),g=()=>{const e=(0,l.useContext)(p);if(void 0===e)throw new Error("useCont must be used within  MaterialMinMaxRegistryContext Provider");return e},y=[],I=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(),y=(0,l.useRef)(),I=(0,l.useRef)(),C=(0,l.useRef)(),D=(0,l.useRef)(),[S,v]=(0,l.useState)(!0),[N,E]=(0,l.useState)(),f=((0,M.useSelector)((e=>e.form)),(0,M.useDispatch)()),[x,h]=(0,l.useState)(0),[b,T]=(0,l.useReducer)(c.D,c.E),[P,R]=(0,l.useState)(""),[w,k]=(0,l.useState)([]),[L,A]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||y.current.clear(),document.getElementById("divMaterialMinMaxRegistry-Entry").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainTable").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{v(!0),document.getElementById("divMaterialMinMaxRegistry-Entry").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainTable").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(T({type:"editData",payload:[e.editData]}),T({type:"ShowDetail",payload:!0}))}),[e.editData]);const O=e=>{document.getElementById("divMaterialMinMaxRegistry-Entry").style.width="100%",document.getElementById("MaterialMinMaxRegistryEntryTable").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainEntry").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainEntry").style.display="block",document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMaterialMinMaxRegistry").style.width="0%",document.getElementById("overlayimgAttMaterialMinMaxRegistry").style.display="none"};(0,l.useEffect)((()=>{f((e=>{(0,u.Z)(1).then((e=>{var a=new Array;a.push(e),T({type:"token",payload:a}),h(a.length),F(e)}))}))}),[]);const F=e=>{(0,m.Z)(e,351).then((e=>T({type:"AccessRights",payload:e})))};return r().createElement("div",{style:{width:"100%"}},r().createElement(p.Provider,{value:{cstate:b,cdispatch:T,ContextApi:g,loading:a=>e.loading(a),alert:a=>e.alertmsg(a),ShareTab:(a,t)=>e.TabShare(a,t),ConfirmAlert:a=>e.ConfirmAlert(a),SlideComponentType:a=>e.SlideComponentType(a),openNav:a=>e.openNav(a),RefreshTable:()=>{t.current.tableRefresh()},searchItem:e=>{0!==x&&t.current.searchItem(e)},openDialog:a=>e.openDialog(a),DialogComponentType:a=>e.DialogComponentType(a),attachmentSave:e=>{D.current.tempsave(e,w),k([])},EditClose:e=>O(),AttachExpand:e=>(C.current.AttachmentData(b.PrimaryId),void(S&&(document.getElementById("overlayimgAttMaterialMinMaxRegistry").style.width="25%",document.getElementById("overlayPreviewMaterialMinMaxRegistry").style.width="50%",document.getElementById("divMaterialMinMaxRegistry-Entry").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainTable").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainEntry").style.width="100%",document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MaterialMinMaxRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMaterialMinMaxRegistry").style.display="block",document.getElementById("overlayimgAttMaterialMinMaxRegistry").style.width="25%"))),Expanded:e=>{b.ShowDetail&&I.current.tableClick(e),T({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{b.ShowDetail&&I.current.viewtoggle()},clear:e=>{T({type:"ShowDetail",payload:!1}),T({type:"editData",payload:[]}),b.ShowDetail?I.current.clear(e):y.current.clear(e)},hideAddBtn:e=>{t.current.HideEntryFields(e)},ExpandEntry:()=>{b.ShowDetail?I.current.tableClick(!1):y.current.CreateEasyProps(!1)},resetImg:()=>{D.current.tempClear(),C.current.clrImgstate(!0)}}},r().createElement("div",{id:"MaterialMinMaxRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"MaterialMinMaxRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"MaterialMinMaxRegistryEntryTable",style:{width:"100%"}},b.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMaterialMinMaxRegistry-Entry",style:{width:"100%"}},0!==x?r().createElement(i.default,{ref:I}):null)),r().createElement(d.Z,{ref:D,menurefID:351,fileId:"LogoImgMaterialMinMaxRegistry",imgloading:a=>{a||b.PrimaryId?e.loading(a):t.current.tableRefresh()},valueIDPK:b.PrimaryId,AttachmentVal:e=>C.current.AttachmentData(e),previd:"overlayPreviewMaterialMinMaxRegistry",frmctrlid:"PvwIm_351_L2_",tempImg:e=>{b.PrimaryId?C.current.AttachmentData(b.PrimaryId):C.current.tempImg(e),k(e)},clearTempData:b.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMaterialMinMaxRegistry-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(o.default,{ref:y,clrImgstate:e=>C.current.clrImgstate(e),triggerAttSelect:e=>C.current.triggerAttSelect(e)}))),r().createElement(d.Z,{ref:D,menurefID:351,fileId:"LogoImgMaterialMinMaxRegistry",imgloading:a=>{a||b.PrimaryId?e.loading(a):t.current.tableRefresh()},valueIDPK:b.PrimaryId,AttachmentVal:e=>C.current.AttachmentData(e),previd:"overlayPreviewMaterialMinMaxRegistry",frmctrlid:"PvwIm_351_L2_",tempImg:e=>{b.PrimaryId?C.current.AttachmentData(b.PrimaryId):C.current.tempImg(e),k(e)},clearTempData:b.Add})),r().createElement("div",{id:"MaterialMinMaxRegistry-MainTable"},0!==x?r().createElement(n.default,{ref:t}):null)),r().createElement(s.Z,{ImgAttachment:e=>O(),menurefID:351,fileId:"AttImgMaterialMinMaxRegistry",imgid:"overlayimgAttMaterialMinMaxRegistry",valueIDPK:b.PrimaryId,PriviewData:(e,a,t,l)=>{D.current.PriviewItem(e,a,t,l)},previd:"overlayPreviewMaterialMinMaxRegistry",ref:C,imgloading:N,ConfirmAlert:a=>{e.ConfirmAlert(a)},frmctrlid:"Imgatt_351_L2_",timglist:e=>D.current.timglist(e),clearTempData:b.Add}))),r().createElement("div",{id:"MaterialMinMaxRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},95843:(e,a,t)=>{t.r(a),t.d(a,{MaterialMinMaxRegistryPopUpTable:()=>_,default:()=>V}),t(95866);var l=t(92950),r=t.n(l),n=t(45237),i=t(36939),o=t(61201),s=t(59009),d=t(51673),u=t(19732),M=t(54180),m=t(43031),c=t(110),p=t(5109),g=t(868),y=t(40900),I=t(88995),C=t(50743),D=t(80366),S=t(24038),v=t(61657),N=t(51209),E=t(86893),f=t(53854),x=t(51649),h=t(37106),b=t(5434),T=t(83817),P=t(47516),R=t(39327),w=t(3212),k=t(93521),L=t(80471),A=t(38396),O=t(8843),F=t(71168),B=t.n(F),z=t(65107),H=t(33003),Z=t(94986),W=t(15999),U=t(8981),G=(t(11557),t(42258)),K=t(25108);window.clickFilter="";const V=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(null),F=(0,l.useRef)(null),[V]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[_]=(0,l.useState)("351"),[Y,j]=(0,l.useState)(!1),[$,J]=(0,l.useState)(!1),[X,q]=(0,l.useState)(0),[Q,ee]=(0,l.useState)(0),[ae,te]=(0,l.useState)(0),[le,re]=(0,l.useState)(0),[ne,ie]=(0,l.useState)({current:1,pageSize:100}),[oe,se]=(0,l.useState)(""),[de,ue]=(0,l.useState)([]),[Me,me]=(0,l.useState)({val:"",column:""}),[ce,pe]=(0,l.useState)([]),[ge,ye]=(0,l.useState)(!1),[Ie,Ce]=(0,l.useState)(""),[De,Se]=(0,l.useState)(""),[ve,Ne]=(0,l.useState)(!1),[Ee,fe]=(0,l.useState)([]),[xe,he]=(0,l.useState)([]),[be,Te]=(0,l.useState)([]),[Pe,Re]=(0,l.useState)({children:[{name:"MaterialMinMaxRegistry",children:[]}]}),[we,ke]=(0,l.useState)(!1),Le=(0,l.useContext)(e.context?e.context:H.MaterialMinMaxRegistryContext),{cstate:Ae,cdispatch:Oe}=e.ContextApi?e.ContextApi:(0,H.ContextApi)();let Fe={MatMinMaxIDPK:"",MatMinMaxCode:"",StockMinLevel:"",StockMaxLevel:"",StockReOrderLevel:"",IsDefault:"",IsDraft:"",Remarks:"",MaterialID:"",MatWareHouseID:"",ProStoreID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Be,ze]=(0,l.useState)(Fe),[He,Ze]=(0,l.useState)(Fe),[We,Ue]=(0,l.useState)(!1),[Ge,Ke]=(0,l.useState)(!0),[Ve,_e]=(0,l.useState)(!1),[Ye,je]=(0,l.useState)(!0),[$e,Je]=(0,l.useState)({MaterialName:"",ProStoreName:"",WareHouseName:"",StockMinLevel:"",StockMaxLevel:"",StockReOrderLevel:"",MatMinMaxCode:""}),[Xe,qe]=(0,l.useState)(!1),[Qe,ea]=(0,l.useState)([]),[aa,ta]=(0,l.useState)(0),[la,ra]=(0,l.useState)(0),[na,ia]=(0,l.useState)({current:1,pageSize:10}),[oa,sa]=(0,l.useState)([]),[da,ua]=(0,l.useState)([]),[Ma,ma]=(0,l.useState)(!1),[ca,pa]=(0,l.useState)(!1),[ga,ya]=(0,l.useState)(!1),[Ia,Ca]=(0,l.useState)(""),[Da,Sa]=B()("351"),[va,Na]=(0,l.useState)({}),[Ea,fa]=(0,l.useState)({}),[xa,ha]=(0,l.useState)({}),[ba,Ta]=(0,l.useState)(null),[Pa,Ra]=(0,l.useState)(!1),[wa,ka]=(0,l.useState)(""),[La,Aa]=(0,l.useState)(!1),Oa=[{columns:oa,data:oe}];let Fa=(0,U.Z)();const Ba=e=>Fa[e]?Fa[e]:e,za=e=>Ae.language?.[e]?Ae.language[e]:e;(0,l.useEffect)((()=>{Va(Da)}),[Da]),(0,l.useEffect)((()=>{Ae.token.length>0&&Ga(ne,Fe,"MatMinMaxID")}),[]),(0,l.useEffect)((()=>{!we&&Ie?(ze(Ie),Ga(ne,Ie,wa||"MatMinMaxID")):we&&Ze(Ie)}),[Ie]),(0,l.useImperativeHandle)(a,(()=>({searchItem:e=>{Ha(e)},tableRefresh:()=>{Ga(ne,Fe,"MatMinMaxID")},DialogTableProps:e=>{J(e)},HideEntryFields:e=>{ya(e)}})));const Ha=e=>{""==e?Ga(ne,Fe,We?"DraftMatMinMaxID":"MatMinMaxID",We&&"DraftPage"):Ka(e,{current:1,pageSize:100}),Se(e)};function Za(e){Le.loading(!0);let a=y.v.Api+"FP351S7/",t={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,t,Ae.token[0]).then((a=>{if(200==a.Output.status.code){let t=0;a.Output.data.length>0?(t=parseFloat(a.Output.data[0].TotalCount,10)/10,ra(a.Output.data[0].TotalCount)):t=0,10==e.pageSize?ta(Math.ceil(t)):20==e.pageSize?ta(Math.ceil(t/2)):50==e.pageSize?ta(Math.ceil(t/5)):100==e.pageSize&&ta(Math.ceil(t/10)),ea(a.Output.data),Le.loading(!1)}}))}function Wa(e,a){Oe({type:"editData",payload:[a]}),Oe({type:"IsDraft",payload:We}),Oe({type:"ShowDetail",payload:!0}),Le.Expanded(!0),Ve&&Ne(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&je(e.cardview),e.Dialogview&&(J(e.Dialogview),ya(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ka(e.searchsafaritext,{current:ne.current,pageSize:ne.pageSize})}),[e.searchsafaritext]);const Ua=()=>{Le.EditClose(!0),ge?(document.getElementById("MaterialMinMaxRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MaterialMinMaxRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MaterialMinMaxRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ye(!1),Ye?($||(document.getElementById("MaterialMinMaxRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialMinMaxRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MaterialMinMaxRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialMinMaxRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MaterialMinMaxRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialMinMaxRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MaterialMinMaxRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MaterialMinMaxRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MaterialMinMaxRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ye(!0),document.getElementById("MaterialMinMaxRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MaterialMinMaxRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ne(!1),window.clickFilter=!ge},Ga=(a,t,l,r,n,i)=>{Le.loading(!0),"DraftPage"!==r&&Ue(Ae.IsDraft);let o=y.v.Api+"FP351S3/",s={data:{p1:n||(t&&t.MatMinMaxIDPK?t.MatMinMaxIDPK:null),p2:t&&t.MatMinMaxCode?t.MatMinMaxCode:null,p3:t&&t.StockMinLevel?t.StockMinLevel:null,p4:t&&t.StockMaxLevel?t.StockMaxLevel:null,p5:t&&t.StockReOrderLevel?t.StockReOrderLevel:null,p6:null,p7:"DraftMatMinMaxID"==l?"1":"0",p8:null,p9:t&&t.MaterialID?t.MaterialID:null,p10:t&&t.MatWareHouseID?t.MatWareHouseID:null,p11:t&&t.ProStoreID?t.ProStoreID:null,p12:t&&t.IsActive,p13:null,p14:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p15:t&&t.CreatedTtm?t.CreatedTtm:null,p16:t&&t.CreatedTtmType?t.CreatedTtmType:null,p17:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p18:null,p19:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p20:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p21:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p22:t&&t.MaterialTypeID?t.MaterialTypeID:null,p23:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p24:t&&t.MaterialTypeName?t.MaterialTypeName:null,p25:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p26:t&&t.MatMainClassCode?t.MatMainClassCode:null,p27:t&&t.MatMainClassName?t.MatMainClassName:null,p28:t&&t.MatSubClassID?t.MatSubClassID:null,p29:t&&t.MatSubClassCode?t.MatSubClassCode:null,p30:t&&t.MatSubClassName?t.MatSubClassName:null,p31:t&&t.MaterialMakeID?t.MaterialMakeID:null,p32:t&&t.MatMakeCode?t.MatMakeCode:null,p33:t&&t.MatMakeName?t.MatMakeName:null,p34:t&&t.MaterialModelID?t.MaterialModelID:null,p35:t&&t.MatModelCode?t.MatModelCode:null,p36:t&&t.MatModelName?t.MatModelName:null,p37:t&&t.MATUOMID?t.MATUOMID:null,p38:t&&t.MATUOMCode?t.MATUOMCode:null,p39:t&&t.UOMName?t.UOMName:null,p40:t&&t.MatGradeID?t.MatGradeID:null,p41:t&&t.GradeName?t.GradeName:null,p42:t&&t.MatGradeCode?t.MatGradeCode:null,p43:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p44:t&&t.MaterialColorName?t.MaterialColorName:null,p45:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p46:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p47:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p48:t&&t.RawMaterialName?t.RawMaterialName:null,p49:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p50:t&&t.MaterialSizeName?t.MaterialSizeName:null,p51:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p52:t&&t.MaterialCode?t.MaterialCode:null,p53:t&&t.MaterialName?t.MaterialName:null,p54:t&&t.CityID?t.CityID:null,p55:t&&t.CityCode?t.CityCode:null,p56:t&&t.CityName?t.CityName:null,p57:t&&t.RegionID?t.RegionID:null,p58:t&&t.RegionCode?t.RegionCode:null,p59:t&&t.RegionName?t.RegionName:null,p60:t&&t.CountryID?t.CountryID:null,p61:t&&t.CountryCode?t.CountryCode:null,p62:t&&t.CountryName?t.CountryName:null,p63:t&&t.WareHouseCode?t.WareHouseCode:null,p64:t&&t.WareHouseName?t.WareHouseName:null,p65:t&&t.ProStoreCode?t.ProStoreCode:null,p66:t&&t.ProStoreName?t.ProStoreName:null,p67:n?1:a.current,p68:a.pageSize,p69:l,p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}};(0,d.Z)(o,s,Ae.token[0]).then((o=>{if(n)(0,T.a)(o,Oe,r,i,Le);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){K.log(o.Output.data,"data***");let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,te(o.Output.data[0].TotalCount),re(o.Output.data[0].DraftCnt),Oe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&re(o.Output.data[0].TotalCount)):e=0,10==a.pageSize?ee(Math.ceil(e)):20==a.pageSize?ee(Math.ceil(e/2)):50==a.pageSize?ee(Math.ceil(e/5)):100==a.pageSize&&ee(Math.ceil(e/10)),pe(o.Output.data),Le.loading(!1)}e.Dialogview||(document.getElementById("divMaterialMinMaxRegistry-Entry").style.height="auto",document.getElementById("divMaterialMinMaxRegistry-Entry").style.display="block")}else Le.loading(!1),"DraftMatMinMaxID"===l?(Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne(!0),Ue(!1)):(pe([]),ie({current:1,pageSize:10}),ee(0),te(0),Oe({type:"count",payload:"0"}),Oe({type:"ExpandDetailValue",payload:!0}),Object.values(t).some((e=>e))&&Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Le.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Le.loading(!1)}))};function Ka(e,a){Le.loading(!0);const t=y.v.Api+"FP351S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:We?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,l,Ae.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,te(e.Output.data[0].TotalCount),Oe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?ee(Math.ceil(t)):20==a.pageSize?ee(Math.ceil(t/2)):50==a.pageSize?ee(Math.ceil(t/5)):100==a.pageSize&&ee(Math.ceil(t/10)),pe(e.Output.data),Le.loading(!1)}else pe([]),ee(0),te(0),Oe({type:"count",payload:"0"}),Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Le.loading(!1);else Le.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Le.loading(!1)}))}function Va(e){let a=[],t=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(t.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Oe({type:"language",payload:Object.assign({},...r)}),Je(t.reduce(((e,a)=>(e[a]="",e)),{})),fe(e),he(a),Te(t),sa(l),ua(t)}const _a=()=>we?null:r().createElement("div",null,Xe?r().createElement(Z.Z,{data:Qe,expanded:e=>!$&&Le.Expanded(e),edit:(e,a,t)=>{$?Le.select(e):(Oe({type:"editData",payload:[e]}),Oe({type:"IsDraft",payload:a}),Oe({type:"ShowDetail",payload:t}))}}):r().createElement(z.Z,{ref:F,frmctrlid:"tblcs_351_L2_",id:"MaterialMinMaxRegistryTable",headerdata:xe,tablesearchparams:$e,searchvalue:e=>{Je(e),Ce(e);let a={...Object.fromEntries(Object.entries(e).filter((([e,a])=>""!==a))),...va};ha(a),ie({current:1,pageSize:10}),Ga({current:1,pageSize:10},a,We?"DraftMatMinMaxID":"MatMinMaxID",We&&"DraftPage")},bodydata:ce,ondrag:Wa,bodyitem:be,visibleitem:xe,isdraft:We,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:_,showMore:!1,accessrights:Ae.AccessRights,expanded:e=>!$&&Le.Expanded(e),edit:(e,a,t)=>{$?Le.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Ga(ne,null,a?"DraftMatMinMaxID":"MatMinMaxID",a&&"DraftPage",e[l],t)})),Le.hideAddBtn(!0))},viewtoggle:Le.viewtoggle,isexpanded:!$||Ve,tf:za,action:$?"none":"",ViewComp:(e,a)=>{}}));return(0,l.useEffect)((()=>{_e(Ae.ExpandTableValue)}),[Ae.ExpandTableValue]),r().createElement("div",null,!ga&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld351L2ECSearchBar",className:"searchbar1"},r().createElement(S.Z,{frmctrlid:"fld351L2TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Ba("Search"),value:De,onChange:e=>{Se(e),Le.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},De?r().createElement("div",{id:"fld351L2TCCloseIconCommonSearch",onClick:()=>{Se(""),Le.searchItem("")}},r().createElement(D.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld351L2TCInputSearchIcon"},r().createElement(I.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MaterialMinMaxRegistrygridsearch").focus()}})))),r().createElement("div",null,Ae.AccessRights.IsAdd?r().createElement(w.Z,{className:"SaveBtnCommon",frmctrlid:"fld351L2TCAddBtnIsAdd",onClick:()=>{Le.hideAddBtn(!0),Oe({type:"editData",payload:[]}),Oe({type:"ShowDetail",payload:!1}),Oe({type:"Add",payload:!0})}}):"",r().createElement(g.ZP,{placement:"top",title:"More"},r().createElement(L.Tkb,{style:{margin:"5px 10px",fontSize:"18px"},onClick:e=>{ba||(e.preventDefault(),Ta({top:e.pageY,left:e.pageX-20}))}})),r().createElement(A.Z,{open:!!ba,onClose:()=>Ta(null),anchorReference:"anchorPosition",anchorPosition:ba},r().createElement("div",{className:"menuStyles",style:{width:"100%"},onClick:()=>{je(!1),ke(!1),ma(!1),Ra(!0),Ta(null),Ua(),ka("MINLEVELNOTIFICATION"),Ga(ne,Fe,"MINLEVELNOTIFICATION")}},r().createElement("span",null,r().createElement(O.Z,{style:{fontSize:"20px"}})),r().createElement("span",{style:{paddingLeft:"10px"}},"Min-Level"),r().createElement("h1",{className:"anchorDesc"},"Min-Level Work Oder can be Viewed")),r().createElement("div",{className:"menuStyles",style:{width:"100%"},onClick:()=>{je(!1),ke(!1),ma(!1),Ra(!0),Ta(null),Ua(),ka("MAXLEVELNOTIFICATION"),Ga(ne,Fe,"MAXLEVELNOTIFICATION")}},r().createElement("span",null,r().createElement(O.Z,{style:{fontSize:"20px"}})),r().createElement("span",{style:{paddingLeft:"10px"}},"Max-Level"),r().createElement("h1",{className:"anchorDesc"},"Max-Level Work Oder can be Viewed")),r().createElement("div",{className:"menuStyles",style:{width:"100%"},onClick:()=>{je(!1),ke(!1),ma(!1),Ra(!0),Ta(null),Ua(),ka("REORDERLEVELNOTIFICATION"),Ga(ne,Fe,"REORDERLEVELNOTIFICATION")}},r().createElement("span",null,r().createElement(O.Z,{style:{fontSize:"20px"}})),r().createElement("span",{style:{paddingLeft:"10px"}},"Reorder-Level"),r().createElement("h1",{className:"anchorDesc"},"Reorder-Level Work Oder can be Viewed"))))),r().createElement(i.Z,{expanded:Ge,onChange:()=>()=>{Ke(Ve)}},e.Dialogview&&r().createElement(C.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.30-11:17:27-5-5[351]"},`${za("351")} (${ae})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld351L2TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(S.Z,{frmctrlid:"fld351L2TCInputSearch",className:"search_input",type:"text",placeholder:Ba("Search"),value:De,onChange:e=>{Ha(e)}}),r().createElement("div",{className:"search_icon"},De?r().createElement("div",{id:"fld351L2TCInputCloseIcon",onClick:()=>{Ha("")}},r().createElement(D.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld351L2TCInputSearchIcon"},r().createElement(I.Z,{className:"InputSearchIcon"}))))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"MaterialMinMaxRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!We&&r().createElement("div",{frmctrlid:"fld351L2TCFilterDataIsDraft",id:"MaterialMinMaxRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Ua()}},r().createElement(g.ZP,{title:Ba("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(P.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ba("Filter Data"))),!$&&!We&&!we&&r().createElement(M.Z,{formctrlidprint:"fld351L2TCExportPrint",formctrlidexport:"fld351L2TCExportTable",formctrlidrefresh:"fld351L2TCExportRefresh",title:za("MaterialMinMaxRegistry"),data:de,exportData:Oa,Items:da,columnIndex:oa,TableVisibleItem:xe,userGridViewFormID:_,TableTotalCount:ae,triggerApi:e=>{((e,a,l,r,n)=>{if(0===ae)return Le.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Le.loading(!0);let i=y.v.Api+"FP351S3/",o={data:{p1:e&&e.MatMinMaxIDPK?e.MatMinMaxIDPK:null,p2:e&&e.MatMinMaxCode?e.MatMinMaxCode:null,p3:e&&e.StockMinLevel?e.StockMinLevel:null,p4:e&&e.StockMaxLevel?e.StockMaxLevel:null,p5:e&&e.StockReOrderLevel?e.StockReOrderLevel:null,p6:null,p7:We?"1":"0",p8:null,p9:e&&e.MaterialID?e.MaterialID:null,p10:e&&e.MatWareHouseID?e.MatWareHouseID:null,p11:e&&e.ProStoreID?e.ProStoreID:null,p12:e&&e.IsActive,p13:null,p14:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p15:e&&e.CreatedTtm?e.CreatedTtm:null,p16:e&&e.CreatedTtmType?e.CreatedTtmType:null,p17:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p18:null,p19:e&&e.MatProcessTypeID?e.MatProcessTypeID:null,p20:e&&e.MatProcessTypeCode?e.MatProcessTypeCode:null,p21:e&&e.MatProcessTypeName?e.MatProcessTypeName:null,p22:e&&e.MaterialTypeID?e.MaterialTypeID:null,p23:e&&e.MaterialTypeCode?e.MaterialTypeCode:null,p24:e&&e.MaterialTypeName?e.MaterialTypeName:null,p25:e&&e.MaterialMainClassID?e.MaterialMainClassID:null,p26:e&&e.MatMainClassCode?e.MatMainClassCode:null,p27:e&&e.MatMainClassName?e.MatMainClassName:null,p28:e&&e.MatSubClassID?e.MatSubClassID:null,p29:e&&e.MatSubClassCode?e.MatSubClassCode:null,p30:e&&e.MatSubClassName?e.MatSubClassName:null,p31:e&&e.MaterialMakeID?e.MaterialMakeID:null,p32:e&&e.MatMakeCode?e.MatMakeCode:null,p33:e&&e.MatMakeName?e.MatMakeName:null,p34:e&&e.MaterialModelID?e.MaterialModelID:null,p35:e&&e.MatModelCode?e.MatModelCode:null,p36:e&&e.MatModelName?e.MatModelName:null,p37:e&&e.MATUOMID?e.MATUOMID:null,p38:e&&e.MATUOMCode?e.MATUOMCode:null,p39:e&&e.UOMName?e.UOMName:null,p40:e&&e.MatGradeID?e.MatGradeID:null,p41:e&&e.GradeName?e.GradeName:null,p42:e&&e.MatGradeCode?e.MatGradeCode:null,p43:e&&e.MatMaterialColorID?e.MatMaterialColorID:null,p44:e&&e.MaterialColorName?e.MaterialColorName:null,p45:e&&e.MatMaterialColorCode?e.MatMaterialColorCode:null,p46:e&&e.MadeRawMaterialID?e.MadeRawMaterialID:null,p47:e&&e.MadeRawMaterialCode?e.MadeRawMaterialCode:null,p48:e&&e.RawMaterialName?e.RawMaterialName:null,p49:e&&e.MatMaterialSizeID?e.MatMaterialSizeID:null,p50:e&&e.MaterialSizeName?e.MaterialSizeName:null,p51:e&&e.MatMaterialSizeCode?e.MatMaterialSizeCode:null,p52:e&&e.MaterialCode?e.MaterialCode:null,p53:e&&e.MaterialName?e.MaterialName:null,p54:e&&e.CityID?e.CityID:null,p55:e&&e.CityCode?e.CityCode:null,p56:e&&e.CityName?e.CityName:null,p57:e&&e.RegionID?e.RegionID:null,p58:e&&e.RegionCode?e.RegionCode:null,p59:e&&e.RegionName?e.RegionName:null,p60:e&&e.CountryID?e.CountryID:null,p61:e&&e.CountryCode?e.CountryCode:null,p62:e&&e.CountryName?e.CountryName:null,p63:e&&e.WareHouseCode?e.WareHouseCode:null,p64:e&&e.WareHouseName?e.WareHouseName:null,p65:e&&e.ProStoreCode?e.ProStoreCode:null,p66:e&&e.ProStoreName?e.ProStoreName:null,p67:ne.current,p68:ae,p69:We?"DraftMatMinMaxID":"MatMinMaxID",p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}};Le.loading(!1),Le.alert({open:!0,color:"success",message:[`${za(351)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(i,o,Ae.token[0],n).then((e=>{(0,k.PDF_Excel_Generate)(e,Le,da,se,t,n)}))})(Ie,Me.column,0,0,e)},Refresh:()=>{Se(""),ie({current:1,pageSize:100}),F.current.clearItem(),!Ae.ShowDetail&&Le.clear(),Ae.IsDraft?Ga({current:1,pageSize:100},Fe,"DraftMatMinMaxID"):Ga({current:1,pageSize:100},Fe,"MatMinMaxID")},disabledPrint:!Ae.AccessRights.IsPrint,disabledExport:!Ae.AccessRights.IsExport,ref:t,iconinfo:"iconinfo"}),!We&&!we&&!$&&r().createElement("div",{className:"buttoncard",onClick:()=>pa(!ca)},r().createElement("span",null,ca?r().createElement(g.ZP,{disableFocusListener:!0,title:Ba("Less"),placement:"top"},r().createElement("span",{id:"fld351L2TCLess"},r().createElement(f.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(g.ZP,{disableFocusListener:!0,title:Ba("More"),placement:"top"},r().createElement("span",{id:"fld351L2TCMore"},r().createElement(f.ilJ,{className:"tableFilterColumnIcon"}))))),ca?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},we||!Ve?null:$||!Ae.AccessRights.IsAdd||We?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld351L2TCFilterDataIsAdd",id:"MaterialMinMaxRegistrycoldiv",className:"buttoncard",onClick:()=>{Le.EditClose(!0),ve?(document.getElementById("MaterialMinMaxRegistryFilterDiv").style.width="0%",document.getElementById("MaterialMinMaxRegistryTabDiv").style.width="100%",document.getElementById("MaterialMinMaxRegistryFilterDiv").style.display="none",document.getElementById("MaterialMinMaxRegistrycoldiv").style.width="fit-content",document.getElementById("MaterialMinMaxRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ne(!1)):(document.getElementById("MaterialMinMaxRegistryFilterDiv").style.width="25%",document.getElementById("MaterialMinMaxRegistryTabDiv").style.width="75%",document.getElementById("MaterialMinMaxRegistryFilterDiv").style.display="block",document.getElementById("MaterialMinMaxRegistryfildiv").style.width="fit-content",document.getElementById("MaterialMinMaxRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MaterialMinMaxRegistrycoldiv").style.width="fit-content",document.getElementById("MaterialMinMaxRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ne(!0)),ye(!1)}},r().createElement(g.ZP,{title:Ba("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(R.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ba("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!$&&Ve&&!we&&!We&&r().createElement("div",null,r().createElement("div",{id:"MaterialMinMaxRegistrycoldiv",className:"buttoncard",onClick:()=>{Xe?qe(!1):(qe(!0),Za({current:1,pageSize:100}))}},r().createElement(g.ZP,{title:Ba("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld351L2TCTableScrollData"},r().createElement(W.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ba("Table Scroll Data")))),!we&&We?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Le.hideAddBtn(!1),Le.ExpandEntry(),Ga({current:1,pageSize:100},Fe,"MatMinMaxID"),Ue(!1),Se(""),Oe({type:"IsDraft",payload:!1}),ie({current:1,pageSize:10})}},r().createElement(g.ZP,{title:Ba("List"),placement:"top"},r().createElement("div",{id:"fld351L2TCList"},r().createElement(x.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Ba("Drafts")," ",ae)):!$&&!we&&Ae.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:le,showZero:!0},r().createElement("div",{id:"fld351L2TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{le>0?(ie({current:1,pageSize:100}),q(0),Le.clear(),Se(""),Oe({type:"Add",payload:!1}),Ga({current:1,pageSize:10},Fe,"DraftMatMinMaxID"),Ue(!0),Oe({type:"IsDraft",payload:!0}),Ne(!1),je(!0),document.getElementById("MaterialMinMaxRegistryFilterDiv").style.width="0%",document.getElementById("MaterialMinMaxRegistryTabDiv").style.width="100%",document.getElementById("MaterialMinMaxRegistryFilterDiv").style.display="none",ie({current:1,pageSize:100}),ke(!1)):Le.alert({open:!0,color:"warning",message:[Ba("There is no Record Found")]})}},r().createElement(g.ZP,{title:Ba("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(h.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ba("Drafts"))))))):""),!We&&!$&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},we||We?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ye?"buttonList":"buttonGrid",id:"fld351L2TCListView",onClick:()=>{je(!0),ma(!1),Ra(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(f.umT,null)),r().createElement("span",null,Ba("List"))),r().createElement("div",{className:Ye||Ma?"buttonGrid":"buttonList",id:"fld351L2TCCardView",onClick:()=>{je(!1),ma(!1),Ra(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(E.aCJ,null)),r().createElement("span",null,Ba("Card"))),r().createElement("div",{className:Ma?"buttonList":"buttonGrid",id:"fld351L2TCTileView",onClick:()=>{ma(!0),je(!1),Ra(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(b.f_H,null)),r().createElement("span",null,Ba("Tile"))))))),we?null:Xe?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(v.Z,{style:{color:"#777"},id:"fld351L2TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(la),page:X,onPageChange:(e,a)=>{q(a),Za({current:a+1,pageSize:na.pageSize}),ia({current:a+1,pageSize:na.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(m.Z,{count:aa,color:"primary",page:na.current,onChange:(e,a)=>{ia({current:a,pageSize:na.pageSize}),ta(a),Za({current:a,pageSize:na.pageSize})}}),r().createElement("div",null,r().createElement(c.Z,{className:"BootstrapInputStyle",value:na.pageSize,frmctrlid:"fld351L2TCSelectPagination",onChange:e=>{ia({current:1,pageSize:e.target.value}),Za({current:1,pageSize:e.target.value})}},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Ve&&r().createElement("p",{className:"per-page"},"/ ",Ba("RowperpageOf")," (",la,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(v.Z,{style:{color:"#777"},id:"fld351L2TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(ae),page:X,onPageChange:(e,a)=>{q(a),Ga({current:a+1,pageSize:ne.pageSize},Fe,We?"DraftMatMinMaxID":"MatMinMaxID",We&&"DraftPage"),ie({current:a+1,pageSize:ne.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(m.Z,{count:Q,siblingCount:0,color:"primary",page:ne.current,onChange:(e,a)=>{if(ie({current:a,pageSize:ne.pageSize}),We)Ga({current:a,pageSize:ne.pageSize},Be,"DraftMatMinMaxID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";De.length>0?Ka(De,{current:a,pageSize:ne.pageSize}):Ga({current:a,pageSize:ne.pageSize},Be,"MatMinMaxID")}}}),r().createElement("div",null,r().createElement(c.Z,{className:"BootstrapInputStyle",value:ne.pageSize,id:"fld351L2TCSelectPaging",onChange:e=>{ie({current:1,pageSize:e.target.value}),We?Ga({current:1,pageSize:e.target.value},Be,"DraftMatMinMaxID","DraftPage"):De.length>0?Ka(De,{current:1,pageSize:e.target.value}):Ga({current:1,pageSize:e.target.value},Be,"MatMinMaxID")}},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Ve&&r().createElement("p",{className:"per-page"},"/ ",Ba("RowperpageOf")," (",ae,") "))),r().createElement("div",{id:"MaterialMinMaxRegistry-TableBody",style:{height:e.tableview?"auto":"66vh",overflow:"auto",display:"flex"}},r().createElement("div",{id:"MaterialMinMaxRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ge&&r().createElement(u.default,{parentId:e.parentId,searchData:e=>{fa(e),Ce(e||xa);const a=Object.fromEntries(Object.entries(e).filter((([e,a])=>""!==a)));Na(a)},anchorclearFilter:e=>e&&ka(""),formID:_,data:()=>{},visibleData:()=>{},token:Ae.token[0],CloseBtnClk:()=>Ua(),userGrid:Da,msg:(e,a)=>Le.alert({open:!0,color:a,message:[e]})}),ve&&r().createElement(p.Z,{Refresh:e=>{Ga({current:1,pageSize:100},Fe,"MatMinMaxID")},frmctrlid:"fld351L2TCTableColumnOrder",loading:e=>Le.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,a)=>Le.alert({open:!0,color:a,message:[e]}),select:ve,userID:V,userGridViewFormID:_,saved:(e,a)=>{e&&Va(a),Sa(a),Oe({type:"showTableview",payload:a})},Token:Ae.token[0]})),r().createElement("div",{id:"MaterialMinMaxRegistryTabDiv"+(e.Dialogview?"dialog":"")},Pa?r().createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"end",padding:"8px"}},r().createElement(G.Z,{dynamic:!0,tableData:Ea?ce:"",TableVisibleItem:xe,TableBodyItem:be,Refresh:()=>Ga({current:1,pageSize:10},mergeArray,"MatMinMaxID"),onPageChange:e=>{K.log(e),Ga({current:e,pageSize:10},mergeArray,"MatMinMaxID")},searchvalue:e=>{K.log("search ",e),Ga({current:1,pageSize:10},e,"MatMinMaxID")},PrintPdf:e=>Ga({current:1,pageSize:10},"","MatMinMaxID","",e)})):"",Ye?r().createElement(_a,null):!Pa&&r().createElement(N.Z,{frmctrlid:"fld351L2TCExpandedCardDual",data:ce,id:"MaterialMinMaxRegistry",title:"MatMinMaxCode",cardTile:!!Ma,visibleitem:xe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,a)=>{$?Le.select(e):("edit"==a?(Oe({type:"editData",payload:[e]}),Oe({type:"IsDraft",payload:We}),Oe({type:"ShowDetail",payload:!1}),Le.Expanded(!0)):(Oe({type:"editData",payload:[e]}),Oe({type:"IsDraft",payload:We}),Oe({type:"ShowDetail",payload:!0}),Le.Expanded(!0),Le.viewtoggle()),ge?ye(!0):ve?Ne(!0):(Ne(!1),Ne(!1))),Le.hideAddBtn(!0)}})))))))})),_=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(null),s=(0,l.useRef)(null),u=(0,l.useRef)(null),[p]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g,I]=B()("351"),[D,S]=(0,l.useState)(!1),[v,N]=(0,l.useState)(0),[E,f]=(0,l.useState)(0),[x,h]=(0,l.useState)({current:1,pageSize:100}),[b,T]=(0,l.useState)(""),[P,R]=(0,l.useState)([]),[w,L]=(0,l.useState)({val:"",column:""}),[A,O]=(0,l.useState)([]),[F,z]=(0,l.useState)(!1),[Z,W]=(0,l.useState)(""),[V,_]=(0,l.useState)([]),[Y,j]=(0,l.useState)([]),[$,J]=(0,l.useState)([]),X=(0,l.useContext)(H.MaterialMinMaxRegistryContext),{cstate:q,cdispatch:Q}=(0,H.ContextApi)();let ee={MatMinMaxIDPK:"",MatMinMaxCode:"",StockMinLevel:"",StockMaxLevel:"",StockReOrderLevel:"",IsDefault:"",IsDraft:"",Remarks:"",MaterialID:"",MatWareHouseID:"",ProStoreID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",WareHouseCode:"",WareHouseName:"",ProStoreCode:"",ProStoreName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ae,te]=(0,l.useState)(!1),[le,re]=(0,l.useState)(!0),[ne,ie]=(0,l.useState)(!1),[oe,se]=(0,l.useState)(!0),[de,ue]=(0,l.useState)(0),[Me,me]=(0,l.useState)({MaterialName:"",ProStoreName:"",WareHouseName:"",StockMinLevel:"",StockMaxLevel:"",StockReOrderLevel:"",MatMinMaxCode:""}),[ce,pe]=(0,l.useState)([]),[ge,ye]=(0,l.useState)([]),[Ie,Ce]=(0,l.useState)([]),[De,Se]=(0,l.useState)(!1),[ve,Ne]=(0,l.useState)("");let Ee=(0,U.Z)();const fe=[{columns:ce,data:b}];(0,l.useEffect)((()=>{!function(e){let a=[],t=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(t.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...r)}),me(t.reduce(((e,a)=>(e[a]="",e)),{})),_(e),j(a),J(t),pe(l),ye(t),K.log("setTableVisibleData",a),K.log("setTableBodyItem",t)}(g)}),[g]),(0,l.useImperativeHandle)(a,(()=>({tableRefresh:()=>{xe()},viewrecord:e=>{A.map(((a,t)=>{a.MatMinMaxIDPK==e&&Q({type:"editData",payload:[A[t]]})}))},DialogTableProps:e=>{S(e)},searchData:(a,t,l)=>{X.loading(!0),s.current&&s.current.clearItem(),Ne(l),h({current:1,pageSize:10}),ee=e.ApiParamType.params,he({current:1,pageSize:100},t,l),u.current&&u.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&S(e.Dialogview)}),[e.cardview,e.Dialogview]);const xe=()=>{q.IsDraft?he(x,ee,"DraftMatMinMaxID"):he(x,ee,"MatMinMaxID")},he=async(a,t,l,r)=>{if(q.token[0]){if(X.loading(!0),"DraftPage"!==r&&te(q.IsDraft),await Ne((e=>(l=e,e))),t&&Object.keys(t).length>0){let e=Object.keys(t),a={},l=[],r=Object.values(t);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)a[l[e]]=r[e];t=a}W(t);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:t&&t.MatMinMaxIDPK?t.MatMinMaxIDPK:null,p2:t&&t.MatMinMaxCode?t.MatMinMaxCode:null,p3:t&&t.StockMinLevel?t.StockMinLevel:null,p4:t&&t.StockMaxLevel?t.StockMaxLevel:null,p5:t&&t.StockReOrderLevel?t.StockReOrderLevel:null,p6:null,p7:"DraftMatMinMaxID"==l?"1":"0",p8:null,p9:t&&t.MaterialID?t.MaterialID:null,p10:t&&t.MatWareHouseID?t.MatWareHouseID:null,p11:t&&t.ProStoreID?t.ProStoreID:null,p12:t&&t.IsActive,p13:null,p14:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p15:t&&t.CreatedTtm?t.CreatedTtm:null,p16:t&&t.CreatedTtmType?t.CreatedTtmType:null,p17:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p18:null,p19:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p20:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p21:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p22:t&&t.MaterialTypeID?t.MaterialTypeID:null,p23:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p24:t&&t.MaterialTypeName?t.MaterialTypeName:null,p25:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p26:t&&t.MatMainClassCode?t.MatMainClassCode:null,p27:t&&t.MatMainClassName?t.MatMainClassName:null,p28:t&&t.MatSubClassID?t.MatSubClassID:null,p29:t&&t.MatSubClassCode?t.MatSubClassCode:null,p30:t&&t.MatSubClassName?t.MatSubClassName:null,p31:t&&t.MaterialMakeID?t.MaterialMakeID:null,p32:t&&t.MatMakeCode?t.MatMakeCode:null,p33:t&&t.MatMakeName?t.MatMakeName:null,p34:t&&t.MaterialModelID?t.MaterialModelID:null,p35:t&&t.MatModelCode?t.MatModelCode:null,p36:t&&t.MatModelName?t.MatModelName:null,p37:t&&t.MATUOMID?t.MATUOMID:null,p38:t&&t.MATUOMCode?t.MATUOMCode:null,p39:t&&t.UOMName?t.UOMName:null,p40:t&&t.MatGradeID?t.MatGradeID:null,p41:t&&t.GradeName?t.GradeName:null,p42:t&&t.MatGradeCode?t.MatGradeCode:null,p43:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p44:t&&t.MaterialColorName?t.MaterialColorName:null,p45:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p46:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p47:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p48:t&&t.RawMaterialName?t.RawMaterialName:null,p49:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p50:t&&t.MaterialSizeName?t.MaterialSizeName:null,p51:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p52:t&&t.MaterialCode?t.MaterialCode:null,p53:t&&t.MaterialName?t.MaterialName:null,p54:t&&t.CityID?t.CityID:null,p55:t&&t.CityCode?t.CityCode:null,p56:t&&t.CityName?t.CityName:null,p57:t&&t.RegionID?t.RegionID:null,p58:t&&t.RegionCode?t.RegionCode:null,p59:t&&t.RegionName?t.RegionName:null,p60:t&&t.CountryID?t.CountryID:null,p61:t&&t.CountryCode?t.CountryCode:null,p62:t&&t.CountryName?t.CountryName:null,p63:t&&t.WareHouseCode?t.WareHouseCode:null,p64:t&&t.WareHouseName?t.WareHouseName:null,p65:t&&t.ProStoreCode?t.ProStoreCode:null,p66:t&&t.ProStoreName?t.ProStoreName:null,p67:a.current,p68:a.pageSize,p69:l,p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}};(0,d.Z)(n,i,q.token[0]).then((e=>{if(X.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,f(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?N(Math.ceil(t)):20==a.pageSize?N(Math.ceil(t/2)):50==a.pageSize?N(Math.ceil(t/5)):100==a.pageSize&&N(Math.ceil(t/10)),O(e.Output.data)}}else X.alert({open:!0,color:"warning",message:[(t="There is no Record Found",Ee?.[t]?Ee[t]:t)]}),O([]),N(0),f(0),Q({type:"count",payload:0});var t}))}};return(0,l.useEffect)((()=>{ie(q.ExpandTableValue)}),[q.ExpandTableValue]),r().createElement("div",null,r().createElement(i.Z,{expanded:le,onChange:()=>()=>{re(ne)}},r().createElement(C.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",E,")")))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"MaterialMinMaxRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(M.Z,{formctrlidprint:"fld351L2TCExportPrint",formctrlidexport:"fld351L2TCExportTable",formctrlidrefresh:"fld351L2TCExportRefresh",title:"Assign Min Max Store",data:P,exportData:fe,Items:ge,columnIndex:ce,triggerApi:a=>{((a,l,r)=>{if(0===E)return X.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;X.loading(!0);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:a||(a&&a.MatMinMaxIDPK?a.MatMinMaxIDPK:null),p2:a&&a.MatMinMaxCode?a.MatMinMaxCode:null,p3:a&&a.StockMinLevel?a.StockMinLevel:null,p4:a&&a.StockMaxLevel?a.StockMaxLevel:null,p5:a&&a.StockReOrderLevel?a.StockReOrderLevel:null,p6:null,p7:ae?"1":"0",p8:null,p9:a&&a.MaterialID?a.MaterialID:null,p10:a&&a.MatWareHouseID?a.MatWareHouseID:null,p11:a&&a.ProStoreID?a.ProStoreID:null,p12:a&&a.IsActive,p13:null,p14:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p15:a&&a.CreatedTtm?a.CreatedTtm:null,p16:a&&a.CreatedTtmType?a.CreatedTtmType:null,p17:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p18:null,p19:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p20:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p21:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p22:a&&a.MaterialTypeID?a.MaterialTypeID:null,p23:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p24:a&&a.MaterialTypeName?a.MaterialTypeName:null,p25:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p26:a&&a.MatMainClassCode?a.MatMainClassCode:null,p27:a&&a.MatMainClassName?a.MatMainClassName:null,p28:a&&a.MatSubClassID?a.MatSubClassID:null,p29:a&&a.MatSubClassCode?a.MatSubClassCode:null,p30:a&&a.MatSubClassName?a.MatSubClassName:null,p31:a&&a.MaterialMakeID?a.MaterialMakeID:null,p32:a&&a.MatMakeCode?a.MatMakeCode:null,p33:a&&a.MatMakeName?a.MatMakeName:null,p34:a&&a.MaterialModelID?a.MaterialModelID:null,p35:a&&a.MatModelCode?a.MatModelCode:null,p36:a&&a.MatModelName?a.MatModelName:null,p37:a&&a.MATUOMID?a.MATUOMID:null,p38:a&&a.MATUOMCode?a.MATUOMCode:null,p39:a&&a.UOMName?a.UOMName:null,p40:a&&a.MatGradeID?a.MatGradeID:null,p41:a&&a.GradeName?a.GradeName:null,p42:a&&a.MatGradeCode?a.MatGradeCode:null,p43:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p44:a&&a.MaterialColorName?a.MaterialColorName:null,p45:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p46:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p47:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p48:a&&a.RawMaterialName?a.RawMaterialName:null,p49:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p50:a&&a.MaterialSizeName?a.MaterialSizeName:null,p51:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p52:a&&a.MaterialCode?a.MaterialCode:null,p53:a&&a.MaterialName?a.MaterialName:null,p54:a&&a.CityID?a.CityID:null,p55:a&&a.CityCode?a.CityCode:null,p56:a&&a.CityName?a.CityName:null,p57:a&&a.RegionID?a.RegionID:null,p58:a&&a.RegionCode?a.RegionCode:null,p59:a&&a.RegionName?a.RegionName:null,p60:a&&a.CountryID?a.CountryID:null,p61:a&&a.CountryCode?a.CountryCode:null,p62:a&&a.CountryName?a.CountryName:null,p63:a&&a.WareHouseCode?a.WareHouseCode:null,p64:a&&a.WareHouseName?a.WareHouseName:null,p65:a&&a.ProStoreCode?a.ProStoreCode:null,p66:a&&a.ProStoreName?a.ProStoreName:null,p67:1,p68:E,p69:ve,p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}};var o;X.loading(!1),X.alert({open:!0,color:"success",message:[`${o="351",q.language?.[o]?q.language[o]:o} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,d.Z)(n,i,q.token[0],r).then((e=>{(0,k.PDF_Excel_Generate)(e,X,ge,T,t,r)}))})(Z,w.column,a)},TableVisibleItem:Y,userGridViewFormID:"351",TableTotalCount:E,Refresh:()=>{he({current:1,pageSize:100},Z,ve),h({current:1,pageSize:100}),u.current&&u.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:t})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(m.Z,{count:v,siblingCount:0,color:"primary",page:x.current,onChange:(e,a)=>{if(h({current:a,pageSize:x.pageSize}),ae)he({current:a,pageSize:x.pageSize},Z,"DraftMatMinMaxID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";he({current:a,pageSize:x.pageSize},Z,"MatMinMaxID")}}}),r().createElement("div",null,r().createElement(c.Z,{value:x.pageSize,onChange:e=>{h({current:1,pageSize:e.target.value}),he({current:1,pageSize:e.target.value},Z,"MatMinMaxID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),ne&&r().createElement("p",{className:"per-page"},"/ per page Of (",E,")"))),r().createElement("div",{id:"MaterialMinMaxRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"MaterialMinMaxRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:u,type:e.viewtype,id:"MaterialMinMaxRegistry",headerdata:Y,tablesearchparams:Me,searchvalue:e=>{me(e),h({current:1,pageSize:100}),he({current:1,pageSize:100},e,ae?"DraftMatMinMaxID":"MatMinMaxID",ae&&"DraftPage")},bodydata:A,ondrag:(e,a)=>{Q({type:"editData",payload:[a]}),Q({type:"IsDraft",payload:ae}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:Y,isdraft:ae,accessrights:q.AccessRights,expanded:()=>{},edit:(a,t,l)=>{D?X.select(a):(e.editdata(a,"view"),"viewonly"==e.viewtype?X.edit(a,t,l):X.edit(a,t,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{O(e)},color:!0,isexpanded:!1}):r().createElement(G.Z,{dynamic:!0,tableData:A,TableVisibleItem:Y,TableBodyItem:$,Refresh:()=>he({current:1,pageSize:10},mergeArray,"MatMinMaxID"),onPageChange:e=>{K.log(e),he({current:e,pageSize:10},mergeArray,"MatMinMaxID")},searchvalue:e=>{K.log("search ",e),he({current:1,pageSize:10},e,"MatMinMaxID")},PrintPdf:e=>he({current:1,pageSize:10},"","MatMinMaxID","",e)})))))))}))},19732:(e,a,t)=>{t.r(a),t.d(a,{default:()=>N}),t(95866),t(99058);var l=t(92950),r=t.n(l),n=t(80366),i=t(51673),o=t(282),s=t(868),d=t(78513),u=t(14439),M=t(27848),m=t(40900),c=t(64059),p=t(24038),g=t(8981),y=t(47516),I=t(86893),C=t(33003),D=t(33681),S=t(63163),v=t(25108);const N=(0,l.forwardRef)(((e,a)=>{const[t]=(0,l.useState)(localStorage.getItem("userid")),[N,E]=(0,l.useState)([]),[f,x]=(0,l.useState)({idpk:"",name:"",type:""}),[h,b]=(0,l.useState)(""),[T,P]=(0,l.useState)({}),[R,w]=(0,l.useState)(!0),[k,L]=(0,l.useState)(!1),{cstate:A,cdispatch:O}=e.ContextApi?e.ContextApi:(0,C.ContextApi)(),[F,B]=(0,l.useState)(1),[z,H]=(0,l.useState)(0),[Z,W]=(0,l.useState)(!1),[U,G]=(0,l.useState)({}),[K,V]=(0,l.useState)([]),[_,Y]=(0,l.useState)(!0);let j=localStorage.getItem("Language");const $={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let J=(0,g.Z)();const X=e=>J[e]?J[e]:e,q=a=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==a))?.[$[j]];function Q(){P({}),G({}),e.searchData({}),e.anchorclearFilter(!0),L(!1)}(0,l.useEffect)((()=>{let a=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));V(a)}),[]),(0,l.useImperativeHandle)(a,(()=>({clear:()=>{Q()}})));const ee=async(a,t,l,r)=>{W(!0);let n=t.IsForeign?t.FieldName+"PK":"MatMinMaxIDPK";try{let o="",s=[],d={};await x((e=>(o=e.name,e))),await P((e=>(s=e,e))),await G((e=>(d=e,e)));const u=m.v.Api+"FP351S3/",M={data:{p1:t.IsForeign?await le():null,p2:"MatMinMaxCode"==o&&l.length>0?"%"+l+"%":null,p3:"StockMinLevel"==o&&l.length>0?"%"+l+"%":null,p4:"StockMaxLevel"==o&&l.length>0?"%"+l+"%":null,p5:"StockReOrderLevel"==o&&l.length>0?"%"+l+"%":null,p6:null,p7:null,p8:null,p9:"MaterialName"!=o&&s.MaterialName?s.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p10:"WareHouseName"!=o&&s.WareHouseName?s.WareHouseName.map((e=>e.MatWareHouseIDPK)).toString():null,p11:"ProStoreName"!=o&&s.ProStoreName?s.ProStoreName.map((e=>e.ProStoreIDPK)).toString():null,p12:e.Dialogview?"1":null,p13:null,p14:"p14"==o&&l.length>0?l:null,p15:null,p16:null,p17:null,p18:null,p19:"MatProcessTypeName"!=o&&s.MatProcessTypeName?s.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p20:"MatProcessTypeCode"==o&&l.length>0?"%"+l+"%":null,p21:"MatProcessTypeName"==o&&l.length>0?"%"+l+"%":null,p22:"MaterialTypeName"!=o&&s.MaterialTypeName?s.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p23:"MaterialTypeCode"==o&&l.length>0?"%"+l+"%":null,p24:"MaterialTypeName"==o&&l.length>0?"%"+l+"%":null,p25:"MatMainClassName"!=o&&s.MatMainClassName?s.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p26:"MatMainClassCode"==o&&l.length>0?"%"+l+"%":null,p27:"MatMainClassName"==o&&l.length>0?"%"+l+"%":null,p28:"MatSubClassName"!=o&&s.MatSubClassName?s.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p29:"MatSubClassCode"==o&&l.length>0?"%"+l+"%":null,p30:"MatSubClassName"==o&&l.length>0?"%"+l+"%":null,p31:"MatMakeName"!=o&&s.MatMakeName?s.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p32:"MatMakeCode"==o&&l.length>0?"%"+l+"%":null,p33:"MatMakeName"==o&&l.length>0?"%"+l+"%":null,p34:"MatModelName"!=o&&s.MatModelName?s.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p35:"MatModelCode"==o&&l.length>0?"%"+l+"%":null,p36:"MatModelName"==o&&l.length>0?"%"+l+"%":null,p37:"UOMName"!=o&&s.UOMName?s.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p38:"MATUOMCode"==o&&l.length>0?"%"+l+"%":null,p39:"UOMName"==o&&l.length>0?"%"+l+"%":null,p40:"GradeName"!=o&&s.GradeName?s.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p41:"GradeName"==o&&l.length>0?"%"+l+"%":null,p42:"MatGradeCode"==o&&l.length>0?"%"+l+"%":null,p43:"MaterialColorName"!=o&&s.MaterialColorName?s.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p44:"MaterialColorName"==o&&l.length>0?"%"+l+"%":null,p45:"MatMaterialColorCode"==o&&l.length>0?"%"+l+"%":null,p46:"RawMaterialName"!=o&&s.RawMaterialName?s.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p47:"MadeRawMaterialCode"==o&&l.length>0?"%"+l+"%":null,p48:"RawMaterialName"==o&&l.length>0?"%"+l+"%":null,p49:"MaterialSizeName"!=o&&s.MaterialSizeName?s.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p50:"MaterialSizeName"==o&&l.length>0?"%"+l+"%":null,p51:"MatMaterialSizeCode"==o&&l.length>0?"%"+l+"%":null,p52:"MaterialCode"==o&&l.length>0?"%"+l+"%":null,p53:"MaterialName"==o&&l.length>0?"%"+l+"%":null,p54:"CityName"!=o&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p55:"CityCode"==o&&l.length>0?"%"+l+"%":null,p56:"CityName"==o&&l.length>0?"%"+l+"%":null,p57:"RegionName"!=o&&s.RegionName?s.RegionName.map((e=>e.RegionIDPK)).toString():null,p58:"RegionCode"==o&&l.length>0?"%"+l+"%":null,p59:"RegionName"==o&&l.length>0?"%"+l+"%":null,p60:"CountryName"!=o&&s.CountryName?s.CountryName.map((e=>e.CountryIDPK)).toString():null,p61:"CountryCode"==o&&l.length>0?"%"+l+"%":null,p62:"CountryName"==o&&l.length>0?"%"+l+"%":null,p63:"WareHouseCode"==o&&l.length>0?"%"+l+"%":null,p64:"WareHouseName"==o&&l.length>0?"%"+l+"%":null,p65:"ProStoreCode"==o&&l.length>0?"%"+l+"%":null,p66:"ProStoreName"==o&&l.length>0?"%"+l+"%":null,p67:r||1,p68:10,p69:a,p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}};await(0,i.Z)(u,M,e.token).then((a=>{const t=a.Output.status.code,l=a.Output.data;if("200"===t)if(l.length>0)if(1===r){let e=te(l,o),a=ae(e,T[o],n);E(a),H(a.length>0?a[0].TotalCount:T[o].length)}else{let e=[...N,...l],a=te(e,o);H(a.length<10?a.length:l[0].TotalCount),E(te(a,o))}else h.length>0&&E([]),H(N.length);else e.alertmsg("error",[a.Output.status.message])}))}catch(a){e.alertmsg("warning",[a])}finally{W(!1)}},ae=(e=[],a=[],t)=>e.filter((e=>!a.find((a=>e[t]===a[t])))),te=(e,a)=>e.filter(((e,t,l)=>l.findIndex((t=>t[a]===e[a]))===t));async function le(){let e={};await P((a=>(e=a,a)));let a=[...K],t=[];for(let l of a){let a=e[l]?.map((e=>e.MatMinMaxIDPK)).toString();a&&t.push(a)}return t?[...new Set(t)].toString():""}async function re(a,t,l,r,n,i){let o={[r]:{From:a,Type:l,To:t}},s={};G((e=>({...e,...o})));const d={...T};let u=[...K],M=[];for(let e of u){let a=d[e]?.map((e=>e.MatMinMaxIDPK)).toString();a&&M.push(a)}await G((e=>(s=e,e)));let m={MatMinMaxIDPK:M?[...new Set(M)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,MaterialID:T.MaterialName?.map((e=>e.MaterialIDPK)).toString(),ProStoreID:T.ProStoreName?.map((e=>e.ProStoreIDPK)).toString(),MatWareHouseID:T.WareHouseName?.map((e=>e.MatWareHouseIDPK)).toString()};e.searchData(m)}function ne(){return r().createElement(c.Z,{frmctrlid:"fld351L2TCDateCompCreatedTtm",SendDateVal:(e,a,t,l,r)=>{re(e,a,t,f.name,l)},keyboardback:()=>{L(!1),x({idpk:"",name:"",type:""})},title:X(f.name),fieldname:f.name,save:e=>{alert(!0)}})}return r().createElement("div",null,k?"Created Ttm"===f.name||f.name.includes("Date")?r().createElement(ne,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(u.Z,null,r().createElement(M.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},q(f.idpk)," (",N.length,"/",z,")")),r().createElement(M.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(s.ZP,{title:X("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(n.Z,{id:"fld351L2TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{L(!1),x({idpk:"",name:"",type:""}),B(1)}}))),T[f.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(o.Z,{frmctrlid:"fld351L2TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await P((a=>(e=a,v.log("clear fewItems",e),a))),e[f.name]=[],ee(f.type,f.name,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},X("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},R?r().createElement(s.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(I.D7o,{className:"FilterMaximizeIcon",onClick:()=>{w(!1)}}))):r().createElement(s.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(I.dOw,{className:"FilterMaximizeIcon",onClick:()=>{w(!0)}})))),r().createElement("ul",null,T[f.name]&&T[f.name].map(((e,a)=>r().createElement("div",{key:a,tabIndex:"-1",className:R?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[f.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[f.name],onClick:()=>(async(e,a)=>{B(1);let t=T[f.name].filter((a=>a!=e)),l={};await P((e=>(l=e,e))),l[f.name]=t,P(l),E((a=>[e,...a]))})(e)},r().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(p.Z,{frmctrlid:"fld351L2TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:h,placeholder:X("Enter ")+" "+q(f.idpk),onChange:e=>{b(e),ee(f.type,f.name,e,1,le())}})),r().createElement("div",{id:"fld351L2TFCFilterGoForward",className:"FilterSearchBtn",onClick:async a=>{let t="",l={};await P((e=>(t=e,e)));let r=[...K],n=[];for(let e of r){let a=t[e]?.map((e=>e.MatMinMaxIDPK)).toString();a&&n.push(a)}await G((e=>(l=e,e)));let i={MatMinMaxIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:T.MaterialName?.map((e=>e.MaterialIDPK)).toString(),ProStoreID:T.ProStoreName?.map((e=>e.ProStoreIDPK)).toString(),MatWareHouseID:T.WareHouseName?.map((e=>e.MatWareHouseIDPK)).toString()};e.searchData(i),L(!1)}},r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Z&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(D.Z,{color:"secondary"})),r().createElement("div",{id:"fld351L2TFCScrollYDefault",className:"height65 scrollYDefault"},N.length>0&&N.map(((e,a)=>r().createElement("div",{id:"filda_3_L2_"+e[f.name],key:a,className:"FilterItemDiv",onClick:()=>{(async e=>{let a={},t=[];t.push(e);let l={};await P((e=>(l=e,e)));let r=l[f.name];a[f.name]=r?[...t,...r]:t,l={...l,...a},P(l),E((a=>a.filter((a=>a!=e))))})(e)}},r().createElement(d.Z,{className:"DotIcon"}),r().createElement("span",null,e[f.name])))),N.length+0<z&&N.length>0&&r().createElement("div",{id:"fld351L2TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{B(F+1),ee(f.type,f.name,"",F+1)}},r().createElement("p",null," more... ")),0===N.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:m.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(y.Ol$,{className:"columnHeaderIcon"})),r().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{Q()},id:"fld351L2TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},X("Clear")))),r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld351L2TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},X("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld351L2TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,a)=>e.Remarks-a.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,a)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{L(!0),b(""),E([]),H(0),x({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMatMinMaxID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterMatMinMaxID",e,"",1,le())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,q(e.AdminUserGridViewIDPK)," ",U[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",U[e.FieldName]?.From+" to "+U[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,q(e.AdminUserGridViewIDPK)),r().createElement(S.Z,{checked:"1"==_,onChange:a=>{Y(a.target.checked),re("","",e.FieldName,"",a.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,q(e.AdminUserGridViewIDPK)),(t=e.FieldDisplay,T[t]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},T[t][0][t]),T[t].length>1&&r().createElement("span",{className:"RoundedDivName"},T[t][1][t]),T[t].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(T[t].length-2))))));var t}))))))}))},5805:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var l=t(92950),r=t.n(l),n=t(45237),i=t(37148),o=t(3212),s=t(29800),d=(t(14439),t(27848),t(10966),t(36939)),u=t(61201),M=t(50743),m=t(33003),c=(t(21392),t(51673)),p=t(40900),g=t(26537),y=(t(24038),t(72199)),I=(t(77366),t(97829),t(8981)),C=(t(63163),t(1695),t(79117),t(65197));const D=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(),[D,S]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[v,N]=(0,l.useState)(!0),[E,f]=(0,l.useState)(e.showDetail),[x,h]=(0,l.useState)(""),[b,T]=r().useState(!1),[P,R]=r().useState(""),[w,k]=r().useState(!1),L=(0,l.useContext)(m.MaterialMinMaxRegistryContext),{cstate:A,cdispatch:O}=(0,m.ContextApi)(),[F,B]=(0,l.useState)(!1),[z,H]=(0,l.useState)(""),[Z,W]=(0,l.useState)(""),[U,G]=(0,l.useState)("");let K=(0,I.Z)();(0,l.useEffect)((()=>{A.editData.length>0&&(S(A.editData),T(!1),O({type:"PrimaryId",payload:A.editData[0].MatMinMaxIDPK}))}),[A.editData]),(0,l.useEffect)((()=>{A.showTableview&&G(A.showTableview)}),[A.showTableview]),(0,l.useEffect)((()=>{N(A.ExpandDetailValue)}),[A.ExpandDetailValue]),(0,l.useImperativeHandle)(a,(()=>({tableClick:e=>{N(e),T(null)},viewtoggle:()=>{T(!1)},viewlistProps:(a,t)=>{!function(a,t=!1){let l=p.v.Api+"FP351S3/",r={data:{p1:a,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:1,p68:10,p69:A.IsDraft?"DraftMatMinMaxID":"MatMinMaxID",p70:null,p71:null,p72:localStorage.getItem("UserGroupID"),p73:localStorage.getItem("userid")}};(0,g.Z)(0).then((e=>{(0,c.Z)(l,r,e).then((e=>{L.loading(!1),"200"==e.Output.status.code&&S(e.Output.data)}))}))}(a,t)},clear:()=>{"panel0"===b&&t.current.clear()}})));const V=e=>K?.[e]?K?.[e]:e,_=e=>A.language?.[e]?A.language[e]:e;function Y(e,a){}const j=(e,a)=>(t,l)=>{R(w?Object.assign(...D.filter((e=>e.MatMinMaxIDPK==a)).map((e=>e))):A.editData),T(!l&&e)};return r().createElement("div",null,r().createElement(d.Z,{expanded:v,onChange:()=>()=>{e.expandTable&&N(!v)}},!b&&r().createElement(M.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},v?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},A.IsDraft?V("Draft"):"",_("MaterialMinMaxRegistry"),e.viewonly?" ":"("+A.count+")")):"",v?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&A.AccessRights.IsAdd?r().createElement(o.Z,{name:V("Add"),frmctrlid:"fld351L2VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{L.hideAddBtn(!0),O({type:"editData",payload:[]}),O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&A.AccessRights.IsEdit?r().createElement(s.Z,{frmctrlid:"fld351L2VCEditBtn",onClick:j("panel0",""),disabled:!1}):A.IsDraft&&A.AccessRights.IsAdd&&r().createElement(s.Z,{frmctrlid:"fld351L2VCEditBtnIsAdd",onClick:()=>{j("panel","")},disabled:!1}),!e.viewonly&&r().createElement(i.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld351L2VCCloseBtn",onClick:()=>{N(!1),L.hideAddBtn(!1),w&&(O({type:"editData",payload:[]}),S([]))}})):"")),r().createElement(u.Z,{style:{display:"block"}},D.map(((e,a)=>r().createElement("div",{key:a},b==="panel"+a?r().createElement(y.default,{ref:t}):r().createElement(r().Fragment,null,r().createElement(C.Z,{tableName:"MaterialMinMaxRegistry",tableID:351,parentID:e.MatMinMaxIDPK,fldid:"fld351L2VCContainer",OpenSlideComponent:Y,index:a,refresh:U,val:e,tf:_,t:V,title:"10.0.0.30-11:17:27-5-5[351]"}))))))))}))}}]);