/*! For license information please see 2049.5ae300de17a8cfe0de5d.js.LICENSE.txt */
(self.webpackChunk_shared_routing_viewsl0l2=self.webpackChunk_shared_routing_viewsl0l2||[]).push([[2049,9861],{93657:(e,t,l)=>{"use strict";var a=l(95318),i=l(20862);t.Z=void 0;var n=i(l(92950)),d=(0,a(l(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=d},53624:(e,t,l)=>{"use strict";var a=l(95318),i=l(20862);t.Z=void 0;var n=i(l(92950)),d=(0,a(l(2108)).default)(n.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Room");t.Z=d},53375:(e,t,l)=>{"use strict";var a=l(95318),i=l(20862);t.Z=void 0;var n=i(l(92950)),d=(0,a(l(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=d},90482:(e,t,l)=>{"use strict";var a=l(95318),i=l(20862);t.Z=void 0;var n=i(l(92950)),d=(0,a(l(2108)).default)(n.createElement("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}),"SwapVert");t.Z=d},41722:(e,t,l)=>{"use strict";l.d(t,{D:()=>i,E:()=>a});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{}};function i(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o});var a=l(40900),i=l(26537),n=l(61956),d=l(35131),s=l.n(d),r=l(25108);function o(e,t,l,d){if("select"==e){const e=a.v.Api+"FP1454S3/",l={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":i.Z.TokenIDPK,"x-tokenname":i.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(l)}).then((e=>{if(e.ok)return r.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=a.v.Api+"FP1454S1/",o={data:[{p1:0,p2:null,p3:d,p4:JSON.stringify(l),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:s()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:s()().format("YYYY-MM-DD hh:mm:ss")}]};(0,i.Z)(0).then((t=>{(0,n.Z)(e,o,t).then((e=>{200==e[0].status.code?r.log(e,"RES"):r.log("Error")}))}))}}},45441:(e,t,l)=>{"use strict";l.d(t,{Z:()=>N});var a=l(92950),i=l.n(a),n=l(7869),d=l.n(n),s=l(14439),r=l(27848),o=l(282),u=l(90482),c=l(868),m=l(8981);function g(e){let t=(0,m.Z)();return i().createElement(c.ZP,{placement:"top",title:e.name},i().createElement(o.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,onClick:e.onClick,frmctrlid:e.frmctrlid,startIcon:i().createElement(u.Z,{className:"PrintBtnIcon"})},t[e.name]))}function p(e){let t=(0,m.Z)();const l=e=>t?.[e]?t[e]:e;return i().createElement(c.ZP,{placement:"top",title:e.name?e.name:l("Import")},i().createElement(o.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,frmctrlid:e.frmctrlid,onClick:e.onClick,startIcon:i().createElement(u.Z,{className:"PrintBtnIcon"})},e.name?e.name:l("Import")))}l(96622);var y=l(80366),B=l(39803),I=l(13089),f=l(61657),C=l(25108);const E=function(e){const[t,l]=(0,a.useState)([]),[n,d]=(0,a.useState)(e.TableVisibleItem),[s,r]=(0,a.useState)(e.TableBodyItem);return(0,a.useEffect)((()=>{if(e.tableData.length>0){let t=[],a=[];Object.keys(e.tableData[0]).map((e=>{e.startsWith("Is")||(t.push({id:e,name:e.trim(),type:"varchar"}),a.push(e.trim()))})),d(t),r(a),l(e.tableData)}else l([])}),[e.tableData]),i().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",position:"relative",height:"61vh"}},e.tableData.length>0&&i().createElement("div",{className:"tableTopPagination displayFlex floatOrder",style:{float:"right"}},i().createElement(f.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:e.tableData.length,page:0,rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})),i().createElement(I.Z,{id:"ExcelMigrationTable",headerdata:n,tablesearchparams:"",searchvalue:e=>{setTableSearchParams(e)},bodydata:t,ondrag:(e,t)=>C.log(e,t),bodyitem:s,visibleitem:n,IsDraft:!1,IsView:!1,IsSub:"",tableExp:!1,accessrights:{},expanded:e=>{},edit:(e,t,l)=>{C.log(e,t,l)},viewtoggle:()=>{},isexpanded:!1,ViewComp:(e,t)=>{}}))};var D=l(55546),h=l.n(D),v=(l(40900),l(11557),l(51673),l(25108));h().ExcelFile,h().ExcelFile.ExcelSheet;const N=(0,a.forwardRef)(((e,t)=>{const{classes:l}=e,n=(0,a.useRef)(null),o=(0,a.useRef)(null),[u,c]=(0,a.useState)({}),[m,I]=(0,a.useState)([]),[f,C]=(0,a.useState)([]),[D,h]=(0,a.useState)(""),[N,A]=(0,a.useState)(!0),[S,b]=(0,a.useState)(!0);(0,a.useImperativeHandle)(t,(()=>({getRefresh:e=>I(e)})));const L=()=>{I([]),h(""),e.clear(),A(!0),b(!0)};async function T(t,l){e.loading(!0),e.importSave(t,l)}return e.TableBodyItem,v.log("exportData",e.exportData),i().createElement(s.Z,null,i().createElement(r.Z,{sm:12},i().createElement(s.Z,null,i().createElement(r.Z,{sm:2},i().createElement(g,{name:"download",id:e.frmctrlid+"_download",disabled:!1,onClick:e=>{o.current.click()}})),i().createElement(r.Z,{sm:2},i().createElement("input",{type:"file",className:"form-control",id:"myInput",ref:n,style:{display:"none"},onChange:t=>{(t=>{const l=t.target.files;h(t.target.files[0].name);var a=t.target.files[0].name.split(/\.(?=[^\.]+$)/);if(v.log("filename",l),"xls"!=a[1]&&"xlsx"!=a[1]&&"ods"!=a[1])return e.alert({open:!0,color:"error",message:["You can only upload Excel file!"]}),!1;{l&&l[0]&&h(l[0].name);const t=new FileReader,a=!!t.readAsBinaryString;t.onload=t=>{const l=t.target.result,i=d().read(l,{type:a?"binary":"array",bookVBA:!0});if(e.SheetCount>1){var n=i.SheetNames.slice(0,e.SheetCount);let t=[];n.map(((e,l)=>{const a=i.SheetNames[l],n=i.Sheets[a];let s=d().utils.sheet_to_json(n);t.push(s)})),e.data(t)}else{const t=i.SheetNames[0],l=i.Sheets[t],a=d().utils.sheet_to_json(l);let n=function(e,t){let l=[];for(let a=0;a<e.length;a++){let i=e[a],n={};for(let e=0;e<t.length;e++){let l=t[e];n["p"+(e+1)]=i[l]||""}l.push(n)}return l}(a,function(e){const t=[],l=d().utils.decode_range(e["!ref"]);for(let a=l.s.c;a<=l.e.c;++a){const i=e[d().utils.encode_cell({r:l.s.r,c:a})];i&&i.t&&t.push(i.v)}return t}(l));I(n),C((e=>{let t=[],l=d().utils.decode_range(e).e.c+1;for(var a=0;a<l;++a)t[a]={name:d().utils.encode_col(a),key:a};return t})(l["!ref"])),e.data(a,null,2),A(!1)}},a?t.readAsBinaryString(l[0]):t.readAsArrayBuffer(l[0])}})(t)},onClick:e=>{e.target.value=null}}),i().createElement(g,{name:"Browse",id:e.frmctrlid+"_browse2",disabled:!1,onClick:e=>{n.current.click()}})),i().createElement(r.Z,{sm:4},i().createElement(B.Z,{value:D,disabled:!0,multiline:!0,rowsMax:"2",fullWidth:!0,InputProps:{classes:l,endAdornment:D?i().createElement(y.Z,{style:{width:"18px",color:"#777"},onClick:e=>{L()}}):null}})),i().createElement(r.Z,{sm:2},i().createElement(p,{name:"Process",disabled:!!N,id:e.frmctrlid+"_Process",onClick:e=>{T(m,{type:"Process",uid:localStorage.getItem("userid")}),b(!1),A(!0)}})),i().createElement(r.Z,{sm:2},i().createElement(p,{name:"Import",disabled:!!S,id:e.frmctrlid+"_import",onClick:e=>{T(m,{type:"Import",uid:localStorage.getItem("userid")}),L()}})),i().createElement(r.Z,{sm:12},i().createElement(E,{tableData:m,TableVisibleItem:e.TableVisibleItem,TableBodyItem:e.TableBodyItem})))),i().createElement("a",{ref:o,style:{display:"none"},href:e.excelfile,download:e.filename},"Click to download"))}))},31720:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Q});var a=l(92950),i=l.n(a),n=l(45237),d=l(36939),s=l(61201),r=l(50743),o=(l(3212),l(30553)),u=l(61956),c=l(44528),m=l(51673),g=l(37148),p=l(99090),y=l(35131),B=l.n(y),I=l(14439),f=l(27848),C=l(1695),E=l(61924),D=l.n(E),h=l(26537),v=l(40900),N=(l(40826),l(11377)),A=(l(24038),l(92371));const S={EnterKeyValues:{AssBuildingRegistry:["BuildingCode","BuildingName","BuildingNo","LocalityName","BuildingArea","FieldRadius","BuildingLatitude","BulidingLongitude","IsNonContract","AssBuildingTypeName"]},Label:{AssBuildingRegistry:{BuildingCode:["BuildingCode","BuildingName","BuildingNo","LocalityName"],BuildingName:["BuildingCode","BuildingName","BuildingNo","LocalityName"],BuildingNo:["BuildingCode","BuildingName","LocalityCode","LocalityName"],LocalityID:["LocalityCode","LocalityName","LocalityGroupName"],BuildingArea:["BuildingCode","BuildingName","LocalityCode","LocalityName"],FieldRadius:["BuildingCode","BuildingName","LocalityCode","LocalityName"],BuildingLatitude:["BuildingCode","BuildingName","LocalityCode","LocalityName"],BulidingLongitude:["BuildingCode","BuildingName","LocalityCode","LocalityName"],IsNonContract:["BuildingCode","BuildingName","LocalityCode","LocalityName"],AssBuildingTypeID:["AssBuildingTypeCode","AssBuildingTypeName"]}},LabelHeader:{AssBuildingRegistry:{BuildingCode:["Building Code","Building Name","Building No","LocalityName"],BuildingName:["Building Code","Building Name","Building No","LocalityName"],BuildingNo:["Building Code","Building Name","LocalityCode","LocalityName"],LocalityID:["Location Code","Location Name","LocalityGroupName"],BuildingArea:["Building Code","Building Name","LocalityCode","LocalityName"],FieldRadius:["Building Code","Building Name","LocalityCode","LocalityName"],BuildingLatitude:["Building Code","Building Name","LocalityCode","LocalityName"],BulidingLongitude:["Building Code","Building Name","LocalityCode","LocalityName"],IsNonContract:["Building Code","Building Name","LocalityCode","LocalityName"],AssBuildingTypeID:["Code","Building Category "]}},Property:{AssBuildingRegistry:{BuildingCode:{id:"fld30_485",labelID:"BuildingCode",maxLength:"20",labelname:"Building Code",frmctrlid:"fld30_485",frmctrlidname:"BuildingCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BuildingName:{id:"fld30_486",labelID:"BuildingName",maxLength:"50",labelname:"Building Name",frmctrlid:"fld30_486",frmctrlidname:"BuildingName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BuildingNo:{id:"fld30_487",labelID:"BuildingNo",maxLength:"20",labelname:"Building No",frmctrlid:"fld30_487",frmctrlidname:"BuildingNo",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},LocalityID:{id:"fld30_500",clearID:"AssBuildingRegistryLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location",fielddisplayname:"LocalityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},BuildingArea:{id:"fld30_494",labelID:"BuildingArea",maxLength:"25",labelname:"Area In Square Feet",frmctrlid:"fld30_494",frmctrlidname:"BuildingArea",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FieldRadius:{id:"fld30_498",labelID:"FieldRadius",maxLength:"",labelname:"FieldRadius",frmctrlid:"fld30_498",frmctrlidname:"FieldRadius",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BuildingLatitude:{id:"fld30_495",labelID:"BuildingLatitude",maxLength:"25",labelname:"Latitude",frmctrlid:"fld30_495",frmctrlidname:"BuildingLatitude",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},BulidingLongitude:{id:"fld30_496",labelID:"BulidingLongitude",maxLength:"25",labelname:"Longitude",frmctrlid:"fld30_496",frmctrlidname:"BulidingLongitude",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},IsNonContract:{id:"fld30_490",labelID:"IsNonContract",maxLength:"",labelname:"IsNonContract",frmctrlid:"fld30_490",frmctrlidname:"IsNonContract",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},AssBuildingTypeID:{id:"fld30_30380",clearID:"AssBuildingRegistryAssBuildingTypeNameClear",type:"select",labelID:"AssBuildingTypeIDPK",labelname:"Building Tier",fielddisplayname:"AssBuildingTypeName",foreignName:[],createEasy:!0,advanceSearch:!0,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{AssBuildingRegistry:{LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],AssBuildingTypeID:["AssBuildingTypeCode","AssBuildingTypeName","AssBuildingCatDescription"]}}};var b=l(75450),L=l(99263),T=l(99323),w=(l(79117),l(8981)),x=l(6562),R=l(63163),F=l(45155),P=l(79352),k=(l(49174),l(38773),l(19089),l(16233)),Z=l.n(k),z=(l(82729),l(75355),l(11107),l(94468)),O=l(74221),M=l.n(O),G=l(25108);M().setApiKey(v.v.GoogleMapsAPI);const _=e=>{(0,a.useRef)(null);const[t,l]=(0,a.useState)({lat:11.007862989206444,lng:76.95350267019272}),[n,d]=(0,a.useState)(""),[s,r]=(0,a.useState)(null),o=(0,a.useRef)(null);return i().createElement("div",null,i().createElement(z.LoadScript,{id:"script-loader",googleMapsApiKey:"AIzaSyD3_Hu06k3bR2DJijbLHpcx2HGrD_uiB0E&libraries=places"},i().createElement(z.GoogleMap,{id:"example-map",mapContainerStyle:{height:"83vh",width:"100%"},draggable:!0,zoom:13,center:t.lat?t:{lat:11.007862989206444,lng:76.95350267019272}},i().createElement(z.Autocomplete,{onLoad:e=>{r(e)},onPlaceChanged:function(){if(null!==s){d(s.getPlace().formatted_address);let t=s.getPlace().geometry.location.lat(),a=s.getPlace().geometry.location.lng();l({lat:t,lng:a}),e.sendData(s.getPlace().geometry.location.lat(),s.getPlace().geometry.location.lng())}else G.log("Autocomplete is not loaded yet!")}},i().createElement("input",{type:"text",placeholder:"Search your location",style:{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"50%",marginLeft:"-120px"}})),i().createElement(z.Marker,{position:t,ref:()=>o,onDragEnd:t=>(t=>{const a=t.latLng.lat(),i=t.latLng.lng();l({lat:a,lng:i}),M().fromLatLng(a,i).then((t=>{const l=t.results[0].formatted_address;d(l||""),e.sendData(a,i)}),(e=>{G.error(e)}))})(t),draggable:!0}),t?i().createElement(z.InfoWindow,{position:t,onClose:()=>{}},i().createElement("div",{className:"infowindow"},i().createElement("p",null,n))):null)))};var K=l(99173),V=l(52663),U=l(25108);const H=e=>{const[t,l]=(0,a.useState)({lat:"",long:""}),[n,d]=(0,a.useState)(!1),[s,r]=(0,a.useState)(""),[o,u]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[y,B]=(0,a.useState)({lat:40.756795,lng:-73.954298});return(0,a.useEffect)((()=>{e.openmap&&d(!0)}),[e.openmap]),i().createElement(V.Z,{fullWidth:!0,maxWidth:"lg",open:n,onClose:()=>{d(!1),e.closeMap(!1)},"aria-labelledby":"max-width-dialog-title"},i().createElement("div",{className:"popmapDiv"},i().createElement(I.Z,{style:{padding:"1% 0 1% 1%"}},i().createElement(f.Z,{xs:9,md:9,lg:9,sm:9},i().createElement(_,{sendData:(e,t)=>{U.log("lat,lng",e,t),r(e),u(t)},lat:t.lat,lng:t.long})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3,style:{padding:"1%"}},i().createElement(I.Z,null,i().createElement(f.Z,{xs:12,md:12,lg:12,sm:12},i().createElement(K.Z,{marginTop:"1%",labelname:"Latitude",onChange:e=>{r(e)},clear:e=>{e&&r(e)},value:s})),i().createElement(f.Z,{xs:12,md:12,lg:12,sm:12,style:{padding:"1% 0"}},i().createElement(K.Z,{marginTop:"1%",labelname:"Longitude",onChange:e=>{u(e)},clear:e=>{e&&u(e)},value:o})),i().createElement(f.Z,{xs:12,md:12,lg:12,sm:12,style:{padding:"1% 0"}},i().createElement(K.Z,{marginTop:"1%",labelname:"Radius",onChange:e=>{m(e)},clear:e=>{e&&m(e)},value:c})),i().createElement(f.Z,{xs:12,md:12,lg:12,sm:12,style:{padding:"1% 0"}}),i().createElement(f.Z,{xs:12,md:12,lg:12,sm:12,style:{padding:"1% 0"}},i().createElement(C.Z,{name:"Set",disabled:!1,formctrlid:"entsave30",onClick:()=>(d(!1),e.setvalues(s,o,c),r(""),u(""),void m(""))})))))))};var j=l(282),Y=l(53624),$=l(868),W=l(15940);function J(e){const{t}=(0,W.useTranslation)();return i().createElement($.ZP,{placement:"top",title:e.title?e.title:""},i().createElement(j.Z,{className:e.className+" MapBtnCommon boxShadowNone",disabled:e.disabled,onClick:e.onClick,startIcon:i().createElement(Y.Z,{className:"SubmitBtnIcon"})},t(e.name)))}const q={BuildingIDPK:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",FieldRadius:"",BuildingArea:"",IsNonContract:!1,IsDraft:!1,IsDefault:!1,Remarks:"",LocalityID:null,AssBuildingTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",Type:"BuildingID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Q=(0,a.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[l,y]=(0,a.useState)(!1),[E,k]=((0,a.useRef)(),(0,a.useState)(!0)),[z,O]=(0,a.useState)(!1),[M,G]=(0,a.useState)(!1),[_,K]=(0,a.useState)(""),[V,U]=(0,a.useState)(!1),[j,Y]=(0,a.useState)([]),[$,W]=(0,a.useState)(null),[Q,X]=(0,a.useReducer)(A.Z,q),[ee,te]=(0,a.useState)(!1),[le,ae]=(0,a.useState)([]),[ie,ne]=(0,a.useState)(!1),de=(0,a.useContext)(e.context?e.context:b.AssBuildingRegistryContext),{cstate:se,cdispatch:re}=e.ContextApi?e.ContextApi:(0,b.ContextApi)(),[oe,ue]=(0,a.useState)(0),[ce,me]=(0,a.useState)(""),ge=(0,a.useRef)(null),[pe,ye]=Z()("30"),[Be,Ie]=(0,a.useState)(!0),[fe,Ce]=(0,a.useState)(!0),[Ee,De]=(0,a.useState)(!0),[he,ve]=(0,a.useState)(!1);let Ne=(0,w.Z)();const[Ae,Se]=(0,a.useState)({}),be=e=>Ne[e]?Ne[e]:e,Le=t=>se.language?.[t]?se.language[t]:e.createEasy?Ae?.[t]:t;(0,a.useEffect)((()=>{we(),se.editData.length<0&&(0,h.Z)(1).then((e=>{ke(1,null,"SetDefaultBuildingID",e)}))}),[]),(0,a.useEffect)((()=>{se.editData.length>0?(Te(se.editData[0],""),O(!0)):se.Add&&(we(),ke(1,null,"SetDefaultBuildingID",se.token[0]),O(!0))}),[se.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),Se(Object.assign({},...t))}(pe)}),[pe]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{we()},CreateEasyProps:(e=!0,t)=>{ye(!0),t?(_e(t),O(e)):(we(),O(e))}})));const Te=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),G(t.IsDraft),"SetDefaultBuildingID"==l?me(t.BuildingIDPK):(ue(e.primid?Number(e.primid):t.BuildingIDPK?t.BuildingIDPK:0),re({type:"PrimaryId",payload:t.BuildingIDPK})),X({type:"text",name:"BuildingCode",value:t.BuildingCode?t.BuildingCode:""}),X({type:"text",name:"BuildingName",value:t.BuildingName?t.BuildingName:""}),X({type:"text",name:"BuildingNo",value:t.BuildingNo?t.BuildingNo:""}),X({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),X({type:"text",name:"LocalityName",value:t.LocalityName}),X({type:"number",name:"BuildingArea",number:Number(t.BuildingArea)}),X({type:"number",name:"FieldRadius",number:Number(t.FieldRadius)}),X({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),X({type:"text",name:"BuildingLatitude",value:t.BuildingLatitude?t.BuildingLatitude:""}),X({type:"text",name:"BulidingLongitude",value:t.BulidingLongitude?t.BulidingLongitude:""}),X({type:"boolean",name:"IsNonContract",boolean:!!t.IsNonContract&&t.IsNonContract}),X({type:"number",name:"AssBuildingTypeID",number:t.AssBuildingTypeID?Number(t.AssBuildingTypeID):0}),X({type:"text",name:"AssBuildingTypeName",value:t.AssBuildingTypeName}),t.IsDraft?k(!0):k(!("1"!=t.IsActive&&!t.IsActive))},we=()=>{Y([]),ue(0),me(""),e.createEasy||de.resetImg(),re({type:"PrimaryId",payload:""}),X({type:"text",name:"BuildingCode",value:""}),X({type:"text",name:"BuildingName",value:""}),X({type:"text",name:"BuildingNo",value:""}),X({type:"text",name:"LocalityID",value:null}),X({type:"text",name:"LocalityName",value:""}),document.getElementById("AssBuildingRegistryLocalityNameClear")&&document.getElementById("AssBuildingRegistryLocalityNameClear").click(),X({type:"number",name:"BuildingArea",number:0}),X({type:"number",name:"FieldRadius",number:0}),X({type:"boolean",name:"IsDefault",boolean:!1}),X({type:"text",name:"BuildingLatitude",value:""}),X({type:"text",name:"BulidingLongitude",value:""}),X({type:"boolean",name:"IsNonContract",boolean:!1}),X({type:"text",name:"AssBuildingTypeID",value:null}),X({type:"text",name:"AssBuildingTypeName",value:""}),document.getElementById("AssBuildingRegistryAssBuildingTypeNameClear")&&document.getElementById("AssBuildingRegistryAssBuildingTypeNameClear").click(),k(!0),K(""),Ie(!0),Ce(!0),De(!0)},xe=t=>{de.loading(!0),de.ConfirmAlert(null);const l=v.v.Api+"FP30S2/",a={data:[{p1:"SetDefaultBuildingID"==t?"NORECORDS"!=ce&&ce?ce:0:oe,p2:Ke(Q.BuildingCode),p3:Ke(Q.BuildingName),p4:Ke(Q.BuildingNo),p5:Ke(Q.BuildingLatitude),p6:Ke(Q.BulidingLongitude),p7:Q.FieldRadius?Number(Q.FieldRadius):0,p8:Q.BuildingArea?Number(Q.BuildingArea):0,p9:Q.IsNonContract,p10:!1,p11:Q.IsDefault,p12:"SetDefaultBuildingID"==t?"SetDefault":null,p13:Q.LocalityID?Q.LocalityID:0,p14:Q.AssBuildingTypeID?Q.AssBuildingTypeID:0,p15:E,p16:"SetDefaultBuildingID"==t,p17:localStorage.getItem("userid"),p18:B()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:B()().format("YYYY-MM-DD hh:mm:ss")}]};(0,h.Z)(0).then((t=>{(0,m.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,i=new Array,n=new Array;"200"===l.code?(a.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(de.alert({open:!0,color:"warning",message:n}),de.loading(!1)):(t=>{Ie(!0),Ce(!0),De(!0),de.loading(!0),de.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const l=v.v.Api+"FP30S1/",a={data:[{p1:oe,p2:Ke(Q.BuildingCode),p3:Ke(Q.BuildingName),p4:Ke(Q.BuildingNo),p5:Ke(Q.BuildingLatitude),p6:Ke(Q.BulidingLongitude),p7:Q.FieldRadius?Number(Q.FieldRadius):0,p8:Q.BuildingArea?Number(Q.BuildingArea):0,p9:Q.IsNonContract,p10:!1,p11:Q.IsDefault,p12:null,p13:Q.LocalityID?Q.LocalityID:0,p14:Q.AssBuildingTypeID?Q.AssBuildingTypeID:0,p15:E,p16:!1,p17:localStorage.getItem("userid"),p18:B()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:B()().format("YYYY-MM-DD hh:mm:ss")}]};(0,h.Z)(0).then((t=>{(0,u.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(de.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttAssBuildingRegistry"),de.loading(!1),e.createEasy||se.ShowDetail||(de.RefreshTable(),de.attachmentSave(t[0].Data.IDPK),e.clrImgstate(!0)),we(),se.AccessRights.IsApproval&&de.Approval(!0),document.getElementById("overlayimgAttAssBuildingRegistry")&&(document.getElementById("overlayimgAttAssBuildingRegistry").style.width="0%",document.getElementById("overlayimgAttAssBuildingRegistry").style.display="none",document.getElementById("divAssBuildingRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("AssBuildingRegistry-MainTable").style.display="block")):(de.alert({open:!0,color:"warning",message:[l.message]}),de.loading(!1)),O(!0),ke(1,null,"SetDefaultBuildingID",se.token[0])}))}))})()):(de.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),de.loading(!1))}))}))};function Re(t,l,a,i){if(!(se.count>0))return de.alert({open:!0,color:"warning",message:[be("Please save atleast one record")]}),!1;if(!((()=>{const e={...Q};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return de.alert({open:!0,color:"warning",message:[be("Please enter the primary fields")]}),!1;{Ie(!0),Ce(!0),De(!0),de.loading(!0),de.ConfirmAlert(null),re({type:"IsDraft",payload:!1});const l=v.v.Api+"FP30S1/",a={data:[{p1:"SetDefaultBuildingID"==i?"NORECORDS"!=ce&&ce?ce:0:oe,p2:Ke(Q.BuildingCode),p3:Ke(Q.BuildingName),p4:Ke(Q.BuildingNo),p5:Ke(Q.BuildingLatitude),p6:Ke(Q.BulidingLongitude),p7:Q.FieldRadius?Number(Q.FieldRadius):0,p8:Q.BuildingArea?Number(Q.BuildingArea):0,p9:Q.IsNonContract,p10:!0,p11:Q.IsDefault,p12:"SetDefaultBuildingID"==i?"SetDefault":null,p13:Q.LocalityID?Q.LocalityID:0,p14:Q.AssBuildingTypeID?Q.AssBuildingTypeID:0,p15:!1,p16:"SetDefaultBuildingID"==i,p17:localStorage.getItem("userid"),p18:B()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:B()().format("YYYY-MM-DD hh:mm:ss")}]};(0,h.Z)(0).then((i=>{(0,u.Z)(l,a,i).then((l=>{const a=l[0].status;200==a.code?(t?de.alert({open:!0,color:"warning",message:[be("Deleted Successfully")]}):de.alert({open:!0,color:"success",message:[be("Saved to Draft")]}),de.loading(!1),de.attachmentSave(l[0].Data.IDPK),we(),de.RefreshTable(),e.clrImgstate(!0)):(de.alert({open:!0,color:"warning",message:[a.message]}),de.loading(!1))}))}))}}function Fe(e){return(0,L.CreateEasy)(e,se,re,de,ge),!1}function Pe(e,l){return(0,T.AdvanceSearch)(e,l,b.AssBuildingRegistryContext,(0,b.ContextApi)(),ze,t),!1}const ke=(t,l,a,i,n,d)=>{const s=v.v.Api+"FP30S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:1==Q.IsNonContract,p10:null,p11:null,p12:null,p13:"0"==Q.LocalityID?null:Q.LocalityID,p14:"0"==Q.AssBuildingTypeID?null:Q.AssBuildingTypeID,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:"0"==Q.LocalityGroupID?null:Q.LocalityGroupID,p23:l?"%"+l+"%":null,p24:l?"%"+l+"%":null,p25:"0"==Q.CityID?null:Q.CityID,p26:l?"%"+l+"%":null,p27:l?"%"+l+"%":null,p28:"0"==Q.AdminLocalityTypeID?null:Q.AdminLocalityTypeID,p29:l?"%"+l+"%":null,p30:l?"%"+l+"%":null,p31:l?"%"+l+"%":null,p32:l?"%"+l+"%":null,p33:l?"%"+l+"%":null,p34:l?"%"+l+"%":null,p35:t,p36:10,p37:a,p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}},o=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});te(!0);const u={data:o};return(0,m.Z)(s,"ClearAll"==a?u:r,"SetDefaultBuildingID"==a&&i?i:se.token[0]).then((e=>{const l=e.Output.status.code,i=e.Output.data;if("200"==l){const e=i.length;if(n)return 1==i.length?i[0]:{};ae(1==t?e>0?i:[]:le.concat(i)),"SetDefaultBuildingID"==a&&(e>0?Te(i[0],"SetDefaultBuildingID"):me("NORECORDS")),te(!1)}else de.alert({open:!0,color:"warning",message:[e.Output.status.message]}),te(!1)}))},Ze=(t,l,a)=>{const i=v.v.Api+"FP30S3/",n={data:{p1:null,p2:"BuildingCode"==a&&l?"%"+l+"%":null,p3:"BuildingName"==a&&l?"%"+l+"%":null,p4:"BuildingNo"==a&&l?"%"+l+"%":null,p5:"BuildingLatitude"==a&&l?"%"+l+"%":null,p6:"BulidingLongitude"==a&&l?"%"+l+"%":null,p7:"FieldRadius"==a&&l?"%"+l+"%":null,p8:"BuildingArea"==a&&l?"%"+l+"%":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:t,p36:10,p37:"BuildingID",p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}},d={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};te(!0),(0,m.Z)(i,"ClearAll"==a?d:n,se.token[0]).then((e=>{const l=e.Output.status.code,i=e.Output.data;if("200"==l){const e=i.length;1==t?("BuildingCode"==a&&Ie(e>0),"BuildingName"==a&&Ce(e>0),"FieldRadius"==a&&De(e>0),ae(i)):("BuildingCode"==a&&Ie(!0),"BuildingName"==a&&Ce(!0),"FieldRadius"==a&&De(!0),ae(le.concat(i))),te(!1)}else de.alert({open:!0,color:"warning",message:[e.Output.status.message]}),te(!1)}))},ze=(0,a.useCallback)((async(e,t,l)=>{"text"==l?X({type:l,name:t,value:e}):"number"==l?X({type:l,name:t,number:Number(e)}):"boolean"==l?X({type:l,name:t,boolean:e}):"date"==l?X({type:"text",name:t,value:e}):"select"==l&&("LocalityID"==t?(X({type:"text",name:"LocalityID",value:e.LocalityIDPK?e.LocalityIDPK:null}),X({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:null})):"AssBuildingTypeID"==t&&(X({type:"text",name:"AssBuildingTypeID",value:e.AssBuildingTypeIDPK?e.AssBuildingTypeIDPK:null}),X({type:"text",name:"AssBuildingTypeName",value:e.AssBuildingTypeName?e.AssBuildingTypeName:null})))}),[Q]);function Oe(e){if("LocalityID"==e){if(!Q.LocalityID)return!1;X({type:"text",name:"LocalityID",value:null}),X({type:"text",name:"LocalityName",value:""}),document.getElementById("AssBuildingRegistryLocalityNameClear")&&document.getElementById("AssBuildingRegistryLocalityNameClear").click()}else if("AssBuildingTypeID"==e){if(!Q.AssBuildingTypeID)return!1;X({type:"text",name:"AssBuildingTypeID",value:null}),X({type:"text",name:"AssBuildingTypeName",value:""}),document.getElementById("AssBuildingRegistryAssBuildingTypeNameClear")&&document.getElementById("AssBuildingRegistryAssBuildingTypeNameClear").click()}}function Me(e){if("LocalityID"==e){if(!Q.LocalityID)return!1;X({type:"text",name:"LocalityID",value:null})}else if("AssBuildingTypeID"==e){if(!Q.AssBuildingTypeID)return!1;X({type:"text",name:"AssBuildingTypeID",value:null})}}const Ge=e=>{de.ConfirmAlert(i().createElement(D(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>_e(e),onCancel:()=>de.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("No"),showCancel:!0},be("Do you want to update this record?")))};function _e(e){de.ConfirmAlert(null),G(e.IsDraft),ue(Number(e.BuildingIDPK)?Number(e.BuildingIDPK):0),X({type:"text",name:"BuildingCode",value:e.BuildingCode?e.BuildingCode:""}),X({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),X({type:"number",name:"BuildingNo",number:e.BuildingNo?Number(e.BuildingNo):0}),X({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),X({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),X({type:"number",name:"BuildingArea",number:e.BuildingArea?Number(e.BuildingArea):0}),X({type:"number",name:"FieldRadius",number:e.FieldRadius?Number(e.FieldRadius):0}),X({type:"number",name:"BuildingLatitude",number:e.BuildingLatitude?Number(e.BuildingLatitude):0}),X({type:"number",name:"BulidingLongitude",number:e.BulidingLongitude?Number(e.BulidingLongitude):0}),X({type:"boolean",name:"IsNonContract",boolean:!!e.IsNonContract&&e.IsNonContract}),X({type:"number",name:"AssBuildingTypeID",number:e.AssBuildingTypeID?Number(e.AssBuildingTypeID):0}),X({type:"text",name:"AssBuildingTypeName",value:e.AssBuildingTypeName?e.AssBuildingTypeName:""})}const Ke=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(d.Z,{expanded:z,onChange:e=>{}},i().createElement(r.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},z&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[30]"}," ",be("Add "),Le("30")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},se.AccessRights.IsAdd&&i().createElement(J,{name:"Map view",disabled:!1,frmctrlid:"fld30L2ECMapView",onClick:()=>{ne(!0)}}),se.AccessRights.IsDelete&&i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(x.Z,{row:!0},i().createElement(o.Z,{labelPlacement:"bottom",id:"fld30L2ECEntryCheckbox",control:i().createElement(R.Z,{checked:"1"==E,onChange:e=>k(e.target.checked)}),label:be(1==E?"Active":"In Active")})))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{de.AttachExpand(!0)},id:"fld30L2ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(F.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,be("Attach")))),!oe&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{we()},id:"fld30L2ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(F.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,be("Reset")))),"1"===M&&oe&&i().createElement(p.Z,{frmctrlid:"fld30L2ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Re("draftdel")}}),oe&&"1"!==M||e.createEasy?null:se.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{Re()},frmctrlid:"fld30L2ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(P.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,be("Draft")))),se.AccessRights.IsAdd||se.AccessRights.IsEdit?i().createElement(C.Z,{frmctrlid:"fld30L2ECSaveBtnIsAdd",name:be(oe?"Update":"Save"),disabled:!1,onClick:()=>{Ke(Q.BuildingCode)?Ke(Q.BuildingName)?Q.LocalityID&&0!=Q.LocalityID?de.ConfirmAlert(i().createElement(D(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:be("Are you sure?"),onConfirm:()=>xe(),onCancel:()=>de.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("Cancel"),showCancel:!0},be(oe?"Do you want to Update?":"Do you want to Save?"))):de.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+Le("LocalityID")]}):de.alert({open:!0,color:"warning",message:[be("Please enter the")+""+Le("BuildingName")]}):de.alert({open:!0,color:"warning",message:[be("Please enter the")+""+Le("BuildingCode")]})}}):null,!e.createEasy&&i().createElement(g.Z,{frmctrlid:"fld30L2ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{we(),O(!1),de.EditClose(!0),de.hideAddBtn(!1),re({type:"Add",payload:!1})}}))))),i().createElement(s.Z,null,i().createElement("div",{id:"AssBuildingRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"AssBuildingRegistry-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"AssBuildingRegistry-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(I.Z,{spacing:2},i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(N.Z,{"data-testid":Q.BuildingCode,json:S,SPName:"AssBuildingRegistry",FieldName:"BuildingCode",tfLabel:Le("BuildingCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{Be&&Ze(1,"","ClearAll"),Ie(!0)},frmctrlid:"fld30_485",frmctrlidName:"BuildingCode",fieldorder:"1",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Be&&Ze(e,t,"BuildingCode"),ze(t,"BuildingCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ie(!0)},showList:Be,SideEntryView:!1,KeyBack:e=>{},value:Q.BuildingCode,loading:ee,clear:e=>{e&&(X({type:"text",name:"BuildingCode",value:""}),Ie(!0))}})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(N.Z,{"data-testid":Q.BuildingName,json:S,SPName:"AssBuildingRegistry",FieldName:"BuildingName",tfLabel:Le("BuildingName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{fe&&Ze(1,"","ClearAll"),Ce(!0)},frmctrlid:"fld30_486",frmctrlidName:"BuildingName",fieldorder:"2",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{fe&&Ze(e,t,"BuildingName"),ze(t,"BuildingName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ce(!0)},showList:fe,SideEntryView:!1,KeyBack:e=>{},value:Q.BuildingName,loading:ee,clear:e=>{e&&(X({type:"text",name:"BuildingName",value:""}),Ce(!0))}})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(c.Z,{json:S,"data-testid":Q.BuildingNo,SPName:"AssBuildingRegistry",FieldName:"BuildingNo",tfLabel:Le("BuildingNo"),frmctrlid:"fld30_487",fieldorder:"3",onChange:e=>{ze(e,"BuildingNo","number")},clear:e=>{e&&X({type:"number",name:"BuildingNo",number:0})},value:Q.BuildingNo})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(N.Z,{json:S,id:Q.LocalityID,"data-testid":Q.LocalityID,value:Q.LocalityName,disabled:!(!oe||M),SPName:"AssBuildingRegistry",FieldName:"LocalityID",tfLabel:Le("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ze(e,"LocalityID","select"),onChange:(e,t)=>{ke(e,t,"LocalityIDPK")},KeyBack:e=>{Me("LocalityID")},fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{Fe("12")},Tabledialog:()=>Pe("12","LocalityID"),loading:ee,clear:e=>{e&&Oe("LocalityID")}})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(c.Z,{json:S,"data-testid":Q.BuildingArea,SPName:"AssBuildingRegistry",FieldName:"BuildingArea",tfLabel:Le("BuildingArea"),frmctrlid:"fld30_494",fieldorder:"1",onChange:e=>{ze(e,"BuildingArea","number")},clear:e=>{e&&X({type:"number",name:"BuildingArea",number:0})},value:Q.BuildingArea})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(N.Z,{"data-testid":Q.FieldRadius,json:S,SPName:"AssBuildingRegistry",FieldName:"FieldRadius",tfLabel:Le("FieldRadius"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{Ee&&Ze(1,"","ClearAll"),De(!0)},frmctrlid:"fld30_498",frmctrlidName:"FieldRadius",fieldorder:"1",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,onChange:(e,t)=>{Ee&&Ze(e,t,"FieldRadius"),ze(t,"FieldRadius","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||De(!0)},showList:Ee,SideEntryView:!1,KeyBack:e=>{},value:Q.FieldRadius,loading:ee,clear:e=>{e&&(X({type:"text",name:"FieldRadius",value:""}),De(!0))}})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(c.Z,{json:S,"data-testid":Q.BuildingLatitude,SPName:"AssBuildingRegistry",FieldName:"BuildingLatitude",tfLabel:Le("BuildingLatitude"),frmctrlid:"fld30_495",fieldorder:"2",onChange:e=>{ze(e,"BuildingLatitude","number")},clear:e=>{e&&X({type:"number",name:"BuildingLatitude",number:0})},value:Q.BuildingLatitude})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(c.Z,{json:S,"data-testid":Q.BulidingLongitude,SPName:"AssBuildingRegistry",FieldName:"BulidingLongitude",tfLabel:Le("BulidingLongitude"),frmctrlid:"fld30_496",fieldorder:"3",onChange:e=>{ze(e,"BulidingLongitude","number")},clear:e=>{e&&X({type:"number",name:"BulidingLongitude",number:0})},value:Q.BulidingLongitude})),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement("div",{className:"EntryView-Checkbox"},i().createElement(o.Z,{style:{color:"#337ab7"},"data-testid":Q.IsNonContract,labelPlacement:"end",control:i().createElement(R.Z,{checked:"1"==Q.IsNonContract,onChange:e=>{ze(e.target.checked,"IsNonContract","boolean")},frmctrlid:"fld30_490",frmctrlidname:"IsNonContract",fieldorder:"3",tfLabel:Le("IsNonContract")}),label:i().createElement("p",{className:"ToggleSwitchLabel",style:{color:Q.IsNonContract?"#21446F":"#999"}},Le("IsNonContract"))}))),i().createElement(f.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(N.Z,{json:S,id:Q.AssBuildingTypeID,"data-testid":Q.AssBuildingTypeID,value:Q.AssBuildingTypeName,SPName:"AssBuildingRegistry",FieldName:"AssBuildingTypeID",tfLabel:Le("AssBuildingTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ze(e,"AssBuildingTypeID","select"),onChange:(e,t)=>{ke(e,t,"AssBuildingTypeIDPK")},KeyBack:e=>{Me("AssBuildingTypeID")},fieldorder:"4",data:le,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:le.length>0?le[0].TotalCount:0,openSlide:()=>{Fe("956")},Tabledialog:()=>Pe("956","AssBuildingTypeID"),loading:ee,clear:e=>{e&&Oe("AssBuildingTypeID")}})))),i().createElement("div",{id:"AssBuildingRegistrySideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("AssBuildingRegistrySideBar").style.width="0",void U(!1))},"×"),V&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},$))))))),ie&&i().createElement(H,{openmap:ie,setvalues:(e,t,l)=>{X({type:"number",name:"BuildingLatitude",number:Number(e)}),X({type:"number",name:"BulidingLongitude",number:Number(t)}),ne(!1)},closeMap:()=>ne(!1)}))}))},75450:(e,t,l)=>{"use strict";l.r(t),l.d(t,{AssBuildingRegistryContext:()=>p,ContextApi:()=>y,UserGridViewData:()=>B,default:()=>I});var a=l(92950),i=l.n(a),n=l(82152),d=l(75819),s=l(31720),r=l(67698),o=l(55995),u=l(26537),c=l(45237),m=l(45965),g=l(41722);l(51673),l(40900),l(9175);const p=(0,a.createContext)(),y=()=>{const e=(0,a.useContext)(p);if(void 0===e)throw new Error("useCont must be used within  AssBuildingRegistryContext Provider");return e},B=[],I=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),B=(0,a.useRef)(),I=(0,a.useRef)(),f=(0,a.useRef)(),C=(0,a.useRef)(),[E,D]=(0,a.useState)(!0),[h,v]=(0,a.useState)(),N=((0,c.useSelector)((e=>e.form)),(0,c.useDispatch)()),[A,S]=(0,a.useState)(0),[b,L]=(0,a.useReducer)(g.D,g.E),[T,w]=(0,a.useState)(""),[x,R]=(0,a.useState)([]),[F,P]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||B.current.clear(),document.getElementById("divAssBuildingRegistry-Entry").style.width="100%",document.getElementById("AssBuildingRegistry-MainTable").style.width="100%",document.getElementById("AssBuildingRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssBuildingRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{D(!0),document.getElementById("divAssBuildingRegistry-Entry").style.width="100%",document.getElementById("AssBuildingRegistry-MainTable").style.width="100%",document.getElementById("AssBuildingRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssBuildingRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(L({type:"editData",payload:[e.editData]}),L({type:"ShowDetail",payload:!0}))}),[e.editData]);const k=e=>{R([]),document.getElementById("divAssBuildingRegistry-Entry").style.width="100%",document.getElementById("AssBuildingRegistryEntryTable").style.width="100%",document.getElementById("AssBuildingRegistry-MainEntry").style.width="100%",document.getElementById("AssBuildingRegistry-MainEntry").style.display="block",document.getElementById("AssBuildingRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("AssBuildingRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttAssBuildingRegistry").style.width="0%",document.getElementById("overlayimgAttAssBuildingRegistry").style.display="none"};(0,a.useEffect)((()=>{N((e=>{(0,u.Z)(1).then((e=>{var t=new Array;t.push(e),L({type:"token",payload:t}),S(t.length),Z(e)}))}))}),[]);const Z=e=>{(0,m.Z)(e,30).then((e=>L({type:"AccessRights",payload:e})))};return i().createElement("div",{style:{width:"100%"}},i().createElement(p.Provider,{value:{cstate:b,cdispatch:L,ContextApi:y,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh()},searchItem:e=>{0!==A&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{C.current.tempsave(e,x),R([])},EditClose:e=>k(),AttachExpand:e=>(f.current.AttachmentData(b.PrimaryId),void(E&&(document.getElementById("overlayimgAttAssBuildingRegistry").style.width="25%",document.getElementById("overlayPreviewAssBuildingRegistry").style.width="50%",document.getElementById("divAssBuildingRegistry-Entry").style.width="100%",document.getElementById("AssBuildingRegistry-MainTable").style.width="100%",document.getElementById("AssBuildingRegistry-MainEntry").style.width="100%",document.getElementById("AssBuildingRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("AssBuildingRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttAssBuildingRegistry").style.display="block",document.getElementById("overlayimgAttAssBuildingRegistry").style.width="25%"))),Expanded:e=>{b.ShowDetail&&I.current.tableClick(e),L({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{b.ShowDetail&&I.current.viewtoggle()},clear:e=>{L({type:"ShowDetail",payload:!1}),L({type:"editData",payload:[]}),b.ShowDetail?I.current.clear(e):B.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{b.ShowDetail?I.current.tableClick(!1):B.current.CreateEasyProps(!1)},resetImg:()=>{C.current.tempClear(),f.current.clrImgstate(!0)}}},i().createElement("div",{id:"AssBuildingRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},i().createElement("div",{id:"AssBuildingRegistry-MainEntry",className:"Maincontent",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"AssBuildingRegistryEntryTable",style:{width:"100%"}},b.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divAssBuildingRegistry-Entry",style:{width:"100%"}},0!==A?i().createElement(d.default,{ref:I}):null)),i().createElement(o.Z,{ref:C,menurefID:30,fileId:"LogoImgAssBuildingRegistry",imgloading:t=>{t||b.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:b.PrimaryId,AttachmentVal:e=>f.current.AttachmentData(e),previd:"overlayPreviewAssBuildingRegistry",frmctrlid:"PvwIm_30_L2_",tempImg:e=>{b.PrimaryId?f.current.AttachmentData(b.PrimaryId):f.current.tempImg(e),R(e)},clearTempData:b.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divAssBuildingRegistry-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(s.default,{ref:B,clrImgstate:e=>f.current.clrImgstate(e)}))),i().createElement(o.Z,{ref:C,menurefID:30,fileId:"LogoImgAssBuildingRegistry",imgloading:t=>{t||b.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:b.PrimaryId,AttachmentVal:e=>f.current.AttachmentData(e),previd:"overlayPreviewAssBuildingRegistry",frmctrlid:"PvwIm_30_L2_",tempImg:e=>{b.PrimaryId?f.current.AttachmentData(b.PrimaryId):f.current.tempImg(e),R(e)},clearTempData:b.Add})),i().createElement("div",{id:"AssBuildingRegistry-MainTable"},0!==A?i().createElement(n.default,{ref:l}):null)),i().createElement(r.Z,{ImgAttachment:e=>k(),menurefID:30,fileId:"AttImgAssBuildingRegistry",imgid:"overlayimgAttAssBuildingRegistry",valueIDPK:b.PrimaryId,PriviewData:(e,t,l,a)=>{C.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewAssBuildingRegistry",ref:f,imgloading:h,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_30_L2_",timglist:e=>{C.current.timglist(e),R(e)},clearTempData:b.Add}))),i().createElement("div",{id:"AssBuildingRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},82152:(e,t,l)=>{"use strict";l.r(t),l.d(t,{AssBuildingRegistryPopUpTable:()=>j,default:()=>H}),l(95866);var a=l(92950),i=l.n(a),n=l(45237),d=l(36939),s=l(61201),r=l(59009),o=l(51673),u=l(17911),c=l(54180),m=l(43031),g=l(110),p=l(85639),y=l(5109),B=l(868),I=l(40900),f=l(88995),C=l(50743),E=l(80366),D=l(24038),h=l(61657),v=l(51209),N=l(86893),A=l(53854),S=l(51649),b=l(37106),L=l(5434),T=l(83817),w=l(47516),x=l(39327),R=l(79352),F=l(3212),P=l(93521),k=(l(79117),l(26537),l(61956),l(35131),l(45441)),Z=l(71168),z=l.n(Z),O=l(65107),M=l(75450),G=l(94986),_=l(15999),K=l(8981),V=l(11557),U=l(25108);window.clickFilter="";const H=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),Z=(0,a.useRef)(null),H=(0,a.useRef)(null),[j]=((0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[Y]=(0,a.useState)("30"),[$,W]=(0,a.useState)(!0),[J,q]=(0,a.useState)(!1),[Q,X]=(0,a.useState)(0),[ee,te]=(0,a.useState)(0),[le,ae]=(0,a.useState)(0),[ie,ne]=(0,a.useState)(0),[de,se]=(0,a.useState)({current:1,pageSize:100}),[re,oe]=(0,a.useState)(""),[ue,ce]=(0,a.useState)([]),[me,ge]=(0,a.useState)({val:"",column:""}),[pe,ye]=(0,a.useState)([]),[Be,Ie]=(0,a.useState)(!1),[fe,Ce]=(0,a.useState)(""),[Ee,De]=(0,a.useState)(""),[he,ve]=(0,a.useState)(!1),[Ne,Ae]=(0,a.useState)([]),[Se,be]=(0,a.useState)([]),[Le,Te]=(0,a.useState)([]),[we,xe]=(0,a.useState)({children:[{name:"AssBuildingRegistry",children:[]}]}),[Re,Fe]=(0,a.useState)(!1),Pe=(0,a.useContext)(e.context?e.context:M.AssBuildingRegistryContext),{cstate:ke,cdispatch:Ze}=e.ContextApi?e.ContextApi:(0,M.ContextApi)();let ze={BuildingIDPK:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",FieldRadius:"",BuildingArea:"",IsNonContract:"",IsDraft:"",IsDefault:"",Remarks:"",LocalityID:"",AssBuildingTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Oe,Me]=(0,a.useState)(ze),[Ge,_e]=(0,a.useState)(ze),[Ke,Ve]=(0,a.useState)(!1),[Ue,He]=(0,a.useState)(!0),[je,Ye]=(0,a.useState)(!1),[$e,We]=(0,a.useState)(!0),[Je,qe]=(0,a.useState)({BuildingCode:"",BuildingName:"",BuildingNo:"",LocalityName:"",BuildingArea:"",FieldRadius:"",BuildingLatitude:"",BulidingLongitude:"",IsNonContract:"",AssBuildingTypeName:""}),[Qe,Xe]=(0,a.useState)(!1),[et,tt]=(0,a.useState)([]),[lt,at]=(0,a.useState)(0),[it,nt]=(0,a.useState)(0),[dt,st]=(0,a.useState)({current:1,pageSize:10}),[rt,ot]=(0,a.useState)([]),[ut,ct]=(0,a.useState)([]),[mt,gt]=(0,a.useState)(!1),[pt,yt]=(0,a.useState)(!1),[Bt,It]=(0,a.useState)(!1),[ft,Ct]=(0,a.useState)(""),[Et,Dt]=z()("30"),[ht,vt]=(0,a.useState)({}),[Nt]=(0,a.useState)("766"),[At,St]=(0,a.useState)([]),[bt,Lt]=(0,a.useState)([]),Tt=[{columns:rt,data:re}];let wt=(0,K.Z)();const xt=e=>wt[e]?wt[e]:e,Rt=e=>ke.language?.[e]?ke.language[e]:e;(0,a.useEffect)((()=>{Mt(Et),function(e){const t=e.filter((e=>e.FormID==Nt));let l=[],a=[];t.map((e=>{"1"==e.IsVisible&&(l.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),a.push(e.FieldName))})),St(l),Lt(a)}(Et)}),[Et]),(0,a.useEffect)((()=>{ke.token.length>0&&zt(de,ze,"BuildingID")}),[]),(0,a.useEffect)((()=>{!Re&&fe?(Me(fe),zt(de,fe,"BuildingID")):Re&&_e(fe)}),[fe]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{Ft(e)},tableRefresh:()=>{zt(de,ze,"BuildingID")},DialogTableProps:e=>{q(e)},HideEntryFields:e=>{It(e)}})));const Ft=e=>{""==e?zt(de,ze,Ke?"DraftBuildingID":"BuildingID",Ke&&"DraftPage"):Ot(e,{current:1,pageSize:100}),De(e)};function Pt(e){Pe.loading(!0);let t=I.v.Api+"FP30S7/",l={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(t,l,ke.token[0]).then((t=>{if(200==t.Output.status.code){let l=0;t.Output.data.length>0?(l=parseFloat(t.Output.data[0].TotalCount,10)/10,nt(t.Output.data[0].TotalCount)):l=0,10==e.pageSize?at(Math.ceil(l)):20==e.pageSize?at(Math.ceil(l/2)):50==e.pageSize?at(Math.ceil(l/5)):100==e.pageSize&&at(Math.ceil(l/10)),tt(t.Output.data),Pe.loading(!1)}}))}function kt(e,t){Ze({type:"editData",payload:[t]}),Ze({type:"IsDraft",payload:Ke}),Ze({type:"ShowDetail",payload:!0}),Pe.Expanded(!0),je&&ve(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&We(e.cardview),e.Dialogview&&(q(e.Dialogview),It(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&Ot(e.searchsafaritext,{current:de.current,pageSize:de.pageSize})}),[e.searchsafaritext]);const Zt=()=>{Pe.EditClose(!0),Be?(document.getElementById("AssBuildingRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("AssBuildingRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("AssBuildingRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",Ie(!1),$e?(J||(document.getElementById("AssBuildingRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssBuildingRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("AssBuildingRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssBuildingRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("AssBuildingRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssBuildingRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("AssBuildingRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("AssBuildingRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("AssBuildingRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",Ie(!0),document.getElementById("AssBuildingRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("AssBuildingRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ve(!1),window.clickFilter=!Be},zt=(t,l,a,i,n,d)=>{Pe.loading(!0),"DraftPage"!==i&&Ve(ke.IsDraft);let s=I.v.Api+"FP30S3/",r={data:{p1:n||(l&&l.BuildingIDPK?l.BuildingIDPK:null),p2:l&&l.BuildingCode?l.BuildingCode:null,p3:l&&l.BuildingName?l.BuildingName:null,p4:l&&l.BuildingNo?l.BuildingNo:null,p5:l&&l.BuildingLatitude?l.BuildingLatitude:null,p6:l&&l.BulidingLongitude?l.BulidingLongitude:null,p7:l&&l.FieldRadius?l.FieldRadius:null,p8:l&&l.BuildingArea?l.BuildingArea:null,p9:null,p10:"DraftBuildingID"==a?"1":"0",p11:null,p12:null,p13:l&&l.LocalityID?l.LocalityID:null,p14:l&&l.AssBuildingTypeID?l.AssBuildingTypeID:null,p15:l&&l.IsActive,p16:null,p17:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p18:l&&l.CreatedTtm?l.CreatedTtm:null,p19:l&&l.CreatedTtmType?l.CreatedTtmType:null,p20:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p21:null,p22:l&&l.LocalityGroupID?l.LocalityGroupID:null,p23:l&&l.LocalityGroupCode?l.LocalityGroupCode:null,p24:l&&l.LocalityGroupName?l.LocalityGroupName:null,p25:l&&l.CityID?l.CityID:null,p26:l&&l.CityCode?l.CityCode:null,p27:l&&l.CityName?l.CityName:null,p28:l&&l.AdminLocalityTypeID?l.AdminLocalityTypeID:null,p29:l&&l.AdminLocalityTypeCode?l.AdminLocalityTypeCode:null,p30:l&&l.AdminLocalityTypeName?l.AdminLocalityTypeName:null,p31:l&&l.LocalityCode?l.LocalityCode:null,p32:l&&l.LocalityName?l.LocalityName:null,p33:l&&l.AssBuildingTypeCode?l.AssBuildingTypeCode:null,p34:l&&l.AssBuildingTypeName?l.AssBuildingTypeName:null,p35:n?1:t.current,p36:t.pageSize,p37:a,p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}};(0,o.Z)(s,r,ke.token[0]).then((s=>{if(n)(0,T.a)(s,Ze,i,d,Pe);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,ae(s.Output.data[0].TotalCount),ne(s.Output.data[0].DraftCnt),Ze({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==i&&ne(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?te(Math.ceil(e)):20==t.pageSize?te(Math.ceil(e/2)):50==t.pageSize?te(Math.ceil(e/5)):100==t.pageSize&&te(Math.ceil(e/10)),ye(s.Output.data),Pe.loading(!1)}e.Dialogview||(document.getElementById("divAssBuildingRegistry-Entry").style.height="auto",document.getElementById("divAssBuildingRegistry-Entry").style.display="block")}else Pe.loading(!1),"DraftBuildingID"===a?(Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ve(!0),Ve(!1)):(ye([]),se({current:1,pageSize:10}),te(0),ae(0),Ze({type:"count",payload:"0"}),Ze({type:"ExpandDetailValue",payload:!0}),Object.values(l).some((e=>e))&&Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Pe.alert({open:!0,color:"warning",message:[s.Output.status.message]}),Pe.loading(!1)}))};function Ot(e,t){Pe.loading(!0);const l=I.v.Api+"FP30S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:Ke?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,o.Z)(l,a,ke.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,ae(e.Output.data[0].TotalCount),Ze({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?te(Math.ceil(l)):20==t.pageSize?te(Math.ceil(l/2)):50==t.pageSize?te(Math.ceil(l/5)):100==t.pageSize&&te(Math.ceil(l/10)),ye(e.Output.data),Pe.loading(!1)}else ye([]),te(0),ae(0),Ze({type:"count",payload:"0"}),Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Pe.loading(!1);else Pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Pe.loading(!1)}))}function Mt(e){let t=[],l=[],a=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Ze({type:"language",payload:Object.assign({},...i)}),qe(l.reduce(((e,t)=>(e[t]="",e)),{})),Ae(e),be(t),Te(l),ot(a),ct(l)}const Gt=()=>Re?null:i().createElement("div",null,Qe?i().createElement(G.Z,{data:et,expanded:e=>!J&&Pe.Expanded(e),edit:(e,t,l)=>{J?Pe.select(e):(Ze({type:"editData",payload:[e]}),Ze({type:"IsDraft",payload:t}),Ze({type:"ShowDetail",payload:l}))}}):i().createElement(O.Z,{ref:Z,frmctrlid:"tblcs_30_L2_",id:"AssBuildingRegistryTable",headerdata:Se,tablesearchparams:Je,searchvalue:e=>{qe(e),Ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};vt(t),se({current:1,pageSize:10}),zt({current:1,pageSize:10},t,Ke?"DraftBuildingID":"BuildingID",Ke&&"DraftPage")},bodydata:pe,ondrag:kt,bodyitem:Le,visibleitem:Se,isdraft:Ke,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:Y,showMore:!1,accessrights:ke.AccessRights,expanded:e=>!J&&Pe.Expanded(e),edit:(e,t,l)=>{J?Pe.select(e):(Object.keys(e).map(((a,i)=>{a.includes("IDPK")&&zt(de,null,t?"DraftBuildingID":"BuildingID",t&&"DraftPage",e[a],l)})),Pe.hideAddBtn(!0))},viewtoggle:Pe.viewtoggle,isexpanded:!J||je,tf:Rt,action:J?"none":"",ViewComp:(e,t)=>{}}));(0,a.useEffect)((()=>{Ye(ke.ExpandTableValue)}),[ke.ExpandTableValue]);return i().createElement("div",null,!Bt&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld30L2ECSearchBar",className:"searchbar1"},i().createElement(D.Z,{frmctrlid:"fld30L2TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:xt("Search"),value:Ee,onChange:e=>{De(e),Pe.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},Ee?i().createElement("div",{id:"fld30L2TCCloseIconCommonSearch",onClick:()=>{De(""),Pe.searchItem("")}},i().createElement(E.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld30L2TCInputSearchIcon"},i().createElement(f.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("AssBuildingRegistrygridsearch").focus()}})))),i().createElement("div",null,ke.AccessRights.IsAdd?i().createElement(F.Z,{className:"SaveBtnCommon",frmctrlid:"fld30L2TCAddBtnIsAdd",onClick:()=>{Pe.hideAddBtn(!0),Ze({type:"editData",payload:[]}),Ze({type:"ShowDetail",payload:!1}),Ze({type:"Add",payload:!0})}}):"")),i().createElement(d.Z,{expanded:Ue,onChange:()=>()=>{He(je)}},e.Dialogview&&i().createElement(C.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[30]"},`${Rt("30")} (${le})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld30L2TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(D.Z,{frmctrlid:"fld30L2TCInputSearch",className:"search_input",type:"text",placeholder:xt("Search"),value:Ee,onChange:e=>{Ft(e)}}),i().createElement("div",{className:"search_icon"},Ee?i().createElement("div",{id:"fld30L2TCInputCloseIcon",onClick:()=>{Ft("")}},i().createElement(E.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld30L2TCInputSearchIcon"},i().createElement(f.Z,{className:"InputSearchIcon"}))))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"AssBuildingRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Ke&&i().createElement("div",{frmctrlid:"fld30L2TCFilterDataIsDraft",id:"AssBuildingRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Zt()}},i().createElement(B.ZP,{title:xt("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(w.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},xt("Filter Data"))),!J&&!Ke&&!Re&&i().createElement(c.Z,{formctrlidprint:"fld30L2TCExportPrint",formctrlidexport:"fld30L2TCExportTable",formctrlidrefresh:"fld30L2TCExportRefresh",title:Rt("30"),data:ue,exportData:Tt,Items:ut,columnIndex:rt,TableVisibleItem:Se,userGridViewFormID:Y,TableTotalCount:le,triggerApi:e=>{((e,t,a,i,n)=>{if(0===le)return Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Pe.loading(!0);let d=I.v.Api+"FP30S3/",s={data:{p1:e&&e.BuildingIDPK?e.BuildingIDPK:null,p2:e&&e.BuildingCode?e.BuildingCode:null,p3:e&&e.BuildingName?e.BuildingName:null,p4:e&&e.BuildingNo?e.BuildingNo:null,p5:e&&e.BuildingLatitude?e.BuildingLatitude:null,p6:e&&e.BulidingLongitude?e.BulidingLongitude:null,p7:e&&e.FieldRadius?e.FieldRadius:null,p8:e&&e.BuildingArea?e.BuildingArea:null,p9:null,p10:Ke?"1":"0",p11:null,p12:null,p13:e&&e.LocalityID?e.LocalityID:null,p14:e&&e.AssBuildingTypeID?e.AssBuildingTypeID:null,p15:e&&e.IsActive,p16:null,p17:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p18:e&&e.CreatedTtm?e.CreatedTtm:null,p19:e&&e.CreatedTtmType?e.CreatedTtmType:null,p20:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p21:null,p22:e&&e.LocalityGroupID?e.LocalityGroupID:null,p23:e&&e.LocalityGroupCode?e.LocalityGroupCode:null,p24:e&&e.LocalityGroupName?e.LocalityGroupName:null,p25:e&&e.CityID?e.CityID:null,p26:e&&e.CityCode?e.CityCode:null,p27:e&&e.CityName?e.CityName:null,p28:e&&e.AdminLocalityTypeID?e.AdminLocalityTypeID:null,p29:e&&e.AdminLocalityTypeCode?e.AdminLocalityTypeCode:null,p30:e&&e.AdminLocalityTypeName?e.AdminLocalityTypeName:null,p31:e&&e.LocalityCode?e.LocalityCode:null,p32:e&&e.LocalityName?e.LocalityName:null,p33:e&&e.AssBuildingTypeCode?e.AssBuildingTypeCode:null,p34:e&&e.AssBuildingTypeName?e.AssBuildingTypeName:null,p35:de.current,p36:le,p37:Ke?"DraftBuildingID":"BuildingID",p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}};Pe.loading(!1),Pe.alert({open:!0,color:"success",message:[`${Rt(30)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,o.Z)(d,s,ke.token[0],n).then((e=>{(0,P.PDF_Excel_Generate)(e,Pe,ut,oe,l,n)}))})(fe,me.column,0,0,e)},Refresh:()=>{De(""),se({current:1,pageSize:100}),Z.current.clearItem(),ke.IsDraft?zt({current:1,pageSize:100},ze,"DraftBuildingID"):zt({current:1,pageSize:100},ze,"BuildingID")},disabledPrint:!ke.AccessRights.IsPrint,disabledExport:!ke.AccessRights.IsExport,ref:l,iconinfo:"iconinfo"}),!Ke&&!Re&&!J&&i().createElement("div",{className:"buttoncard",onClick:()=>yt(!pt)},i().createElement("span",null,pt?i().createElement(B.ZP,{disableFocusListener:!0,title:xt("Less"),placement:"top"},i().createElement("span",{id:"fld30L2TCLess"},i().createElement(A.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(B.ZP,{disableFocusListener:!0,title:xt("More"),placement:"top"},i().createElement("span",{id:"fld30L2TCMore"},i().createElement(A.ilJ,{className:"tableFilterColumnIcon"}))))),pt?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},Re||!je?null:J||!ke.AccessRights.IsAdd||Ke?"":i().createElement("div",null,i().createElement("div",{frmctrlid:"fld30L2TCFilterDataIsAdd",id:"AssBuildingRegistrycoldiv",className:"buttoncard",onClick:()=>{Pe.EditClose(!0),he?(document.getElementById("AssBuildingRegistryFilterDiv").style.width="0%",document.getElementById("AssBuildingRegistryTabDiv").style.width="100%",document.getElementById("AssBuildingRegistryFilterDiv").style.display="none",document.getElementById("AssBuildingRegistrycoldiv").style.width="fit-content",document.getElementById("AssBuildingRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!1)):(document.getElementById("AssBuildingRegistryFilterDiv").style.width="25%",document.getElementById("AssBuildingRegistryTabDiv").style.width="75%",document.getElementById("AssBuildingRegistryFilterDiv").style.display="block",document.getElementById("AssBuildingRegistryfildiv").style.width="fit-content",document.getElementById("AssBuildingRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("AssBuildingRegistrycoldiv").style.width="fit-content",document.getElementById("AssBuildingRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!0)),Ie(!1)}},i().createElement(B.ZP,{title:xt("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(x.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},xt("Manage Columns")))),!Ke&&$&&!Re&&!J&&i().createElement("div",{className:"buttoncard",onClick:()=>(setTimeout((()=>H.current.getRefresh([])),2e3),Pe.openNav(),void Pe.SlideComponentType(i().createElement(k.Z,{ref:H,alert:e=>Pe.alert(e),loading:e=>Pe.loading(e),Api:"FP30S8/",data:e=>U.log(e),SheetCount:1,frmctrlid:"fld30L2TCExpMig",importSave:(e,t)=>(async(e,t)=>{if(e.length>0){Pe.loading(!0);const l=I.v.Api+"FP30S8/";await(0,V.ProcessDataSyncSave)(l,e,t,Pe,H)}})(e,t),TableVisibleItem:At,TableBodyItem:bt,clear:e=>H.current.getRefresh([]),excelfile:I.v.excel+"AssBuildingRegistry.xlsx",filename:"AssBuildingRegistry.xlsx"}))),id:"fld30L2TCExpMigSlide"},i().createElement(B.ZP,{title:xt("Migration"),placement:"top"},i().createElement("span",null,i().createElement(R.ncH,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},xt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!J&&je&&!Re&&!Ke&&i().createElement("div",null,i().createElement("div",{id:"AssBuildingRegistrycoldiv",className:"buttoncard",onClick:()=>{Qe?Xe(!1):(Xe(!0),Pt({current:1,pageSize:100}))}},i().createElement(B.ZP,{title:xt("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld30L2TCTableScrollData"},i().createElement(_.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},xt("Table Scroll Data")))),!Re&&Ke?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Pe.hideAddBtn(!1),Pe.ExpandEntry(),zt({current:1,pageSize:100},ze,"BuildingID"),Ve(!1),De(""),Ze({type:"IsDraft",payload:!1}),se({current:1,pageSize:10})}},i().createElement(B.ZP,{title:xt("List"),placement:"top"},i().createElement("div",{id:"fld30L2TCList"},i().createElement(S.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},xt("Drafts")," ",le)):!J&&!Re&&ke.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(r.Z,{color:"secondary",className:"badge",max:999,badgeContent:ie,showZero:!0},i().createElement("div",{id:"fld30L2TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{ie>0?(se({current:1,pageSize:100}),X(0),Pe.clear(),De(""),Ze({type:"Add",payload:!1}),zt({current:1,pageSize:10},ze,"DraftBuildingID"),Ve(!0),Ze({type:"IsDraft",payload:!0}),ve(!1),We(!0),document.getElementById("AssBuildingRegistryFilterDiv").style.width="0%",document.getElementById("AssBuildingRegistryTabDiv").style.width="100%",document.getElementById("AssBuildingRegistryFilterDiv").style.display="none",se({current:1,pageSize:100}),Fe(!1)):Pe.alert({open:!0,color:"warning",message:[xt("There is no Record Found")]})}},i().createElement(B.ZP,{title:xt("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(b.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},xt("Drafts"))))))):""),!Ke&&!J&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Re||Ke?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:$e?"buttonList":"buttonGrid",id:"fld30L2TCListView",onClick:()=>{We(!0),gt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(A.umT,null)),i().createElement("span",null,xt("List"))),i().createElement("div",{className:$e||mt?"buttonGrid":"buttonList",id:"fld30L2TCCardView",onClick:()=>{We(!1),gt(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(N.aCJ,null)),i().createElement("span",null,xt("Card"))),i().createElement("div",{className:mt?"buttonList":"buttonGrid",id:"fld30L2TCTileView",onClick:()=>{gt(!0),We(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(L.f_H,null)),i().createElement("span",null,xt("Tile"))))))),Re?null:Qe?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(h.Z,{style:{color:"#777"},id:"fld30L2TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(it),page:Q,onPageChange:(e,t)=>{X(t),Pt({current:t+1,pageSize:dt.pageSize}),st({current:t+1,pageSize:dt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(m.Z,{count:lt,color:"primary",page:dt.current,onChange:(e,t)=>{st({current:t,pageSize:dt.pageSize}),at(t),Pt({current:t,pageSize:dt.pageSize})}}),i().createElement("div",null,i().createElement(g.Z,{className:"BootstrapInputStyle",value:dt.pageSize,frmctrlid:"fld30L2TCSelectPagination",onChange:e=>{st({current:1,pageSize:e.target.value}),Pt({current:1,pageSize:e.target.value})}},i().createElement(p.Z,{value:10},"10"),i().createElement(p.Z,{value:20},"20"),i().createElement(p.Z,{value:50},"50"),i().createElement(p.Z,{value:100},"100"))),je&&i().createElement("p",{className:"per-page"},"/ ",xt("RowperpageOf")," (",it,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(h.Z,{style:{color:"#777"},id:"fld30L2TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(le),page:Q,onPageChange:(e,t)=>{X(t),zt({current:t+1,pageSize:de.pageSize},ze,Ke?"DraftBuildingID":"BuildingID",Ke&&"DraftPage"),se({current:t+1,pageSize:de.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(m.Z,{count:ee,siblingCount:0,color:"primary",page:de.current,onChange:(e,t)=>{if(se({current:t,pageSize:de.pageSize}),Ke)zt({current:t,pageSize:de.pageSize},Oe,"DraftBuildingID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";Ee.length>0?Ot(Ee,{current:t,pageSize:de.pageSize}):zt({current:t,pageSize:de.pageSize},Oe,"BuildingID")}}}),i().createElement("div",null,i().createElement(g.Z,{className:"BootstrapInputStyle",value:de.pageSize,id:"fld30L2TCSelectPaging",onChange:e=>{se({current:1,pageSize:e.target.value}),Ke?zt({current:1,pageSize:e.target.value},Oe,"DraftBuildingID","DraftPage"):Ee.length>0?Ot(Ee,{current:1,pageSize:e.target.value}):zt({current:1,pageSize:e.target.value},Oe,"BuildingID")}},i().createElement(p.Z,{value:10},"10"),i().createElement(p.Z,{value:20},"20"),i().createElement(p.Z,{value:50},"50"),i().createElement(p.Z,{value:100},"100"))),je&&i().createElement("p",{className:"per-page"},"/ ",xt("RowperpageOf")," (",le,") "))),i().createElement("div",{id:"AssBuildingRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"AssBuildingRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},Be&&i().createElement(u.default,{parentId:e.parentId,searchData:e=>{Ce(e||ht),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:Y,data:()=>{},visibleData:()=>{},token:ke.token[0],CloseBtnClk:()=>Zt(),userGrid:Et,msg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),he&&i().createElement(y.Z,{Refresh:e=>{zt({current:1,pageSize:100},ze,"BuildingID")},frmctrlid:"fld30L2TCTableColumnOrder",loading:e=>Pe.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]}),select:he,userID:j,userGridViewFormID:Y,saved:(e,t)=>{e&&Mt(t),Dt(t),Ze({type:"showTableview",payload:t})},Token:ke.token[0]})),i().createElement("div",{id:"AssBuildingRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},$e?i().createElement(Gt,null):i().createElement(v.Z,{frmctrlid:"fld30L2TCExpandedCardDual",data:pe,id:"AssBuildingRegistry",title:"BuildingName",cardTile:!!mt,visibleitem:Se,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{J?Pe.select(e):("edit"==t?(Ze({type:"editData",payload:[e]}),Ze({type:"IsDraft",payload:Ke}),Ze({type:"ShowDetail",payload:!1}),Pe.Expanded(!0)):(Ze({type:"editData",payload:[e]}),Ze({type:"IsDraft",payload:Ke}),Ze({type:"ShowDetail",payload:!0}),Pe.Expanded(!0),Pe.viewtoggle()),Be?Ie(!0):he?ve(!0):(ve(!1),ve(!1))),Pe.hideAddBtn(!0)}})))))))})),j=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),r=(0,a.useRef)(null),u=(0,a.useRef)(null),[p]=((0,n.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[y,B]=z()("30"),[f,E]=(0,a.useState)(!1),[D,h]=(0,a.useState)(0),[v,N]=(0,a.useState)(0),[A,S]=(0,a.useState)({current:1,pageSize:100}),[b,L]=(0,a.useState)(""),[T,w]=(0,a.useState)([]),[x,R]=(0,a.useState)({val:"",column:""}),[F,k]=(0,a.useState)([]),[Z,G]=(0,a.useState)(!1),[_,V]=(0,a.useState)(""),[U,H]=(0,a.useState)([]),[j,Y]=(0,a.useState)([]),[$,W]=(0,a.useState)([]),J=(0,a.useContext)(M.AssBuildingRegistryContext),{cstate:q,cdispatch:Q}=(0,M.ContextApi)();let X={BuildingIDPK:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",FieldRadius:"",BuildingArea:"",IsNonContract:"",IsDraft:"",IsDefault:"",Remarks:"",LocalityID:"",AssBuildingTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",AssBuildingTypeCode:"",AssBuildingTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,a.useState)(!1),[le,ae]=(0,a.useState)(!0),[ie,ne]=(0,a.useState)(!1),[de,se]=(0,a.useState)(!0),[re,oe]=(0,a.useState)(0),[ue,ce]=(0,a.useState)({BuildingCode:"",BuildingName:"",BuildingNo:"",LocalityName:"",BuildingArea:"",FieldRadius:"",BuildingLatitude:"",BulidingLongitude:"",IsNonContract:"",AssBuildingTypeName:""}),[me,ge]=(0,a.useState)([]),[pe,ye]=(0,a.useState)([]),[Be,Ie]=(0,a.useState)([]),[fe,Ce]=(0,a.useState)(!1),[Ee,De]=(0,a.useState)("");let he=(0,K.Z)();const ve=[{columns:me,data:b}];(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...i)}),ce(l.reduce(((e,t)=>(e[t]="",e)),{})),H(e),Y(t),W(l),ge(a),ye(l)}(y)}),[y]),(0,a.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ne()},viewrecord:e=>{F.map(((t,l)=>{t.BuildingIDPK==e&&Q({type:"editData",payload:[F[l]]})}))},DialogTableProps:e=>{E(e)},searchData:(t,l,a)=>{J.loading(!0),r.current&&r.current.clearItem(),De(a),S({current:1,pageSize:10}),X=e.ApiParamType.params,Ae({current:1,pageSize:100},l,a),u.current&&u.current.clearItem()}}))),(0,a.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&E(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ne=()=>{q.IsDraft?Ae(A,X,"DraftBuildingID"):Ae(A,X,"BuildingID")},Ae=async(t,l,a,i)=>{if(q.token[0]){if(J.loading(!0),"DraftPage"!==i&&te(q.IsDraft),await De((e=>(a=e,e))),l&&Object.keys(l).length>0){let e=Object.keys(l),t={},a=[],i=Object.values(l);e.map((e=>{a.push(e.split("_")[0])}));for(let e=0;e<a.length;e++)t[a[e]]=i[e];l=t}V(l);let n=I.v.Api+`${e.ApiType}/`,d={data:{p1:l&&l.BuildingIDPK?l.BuildingIDPK:null,p2:l&&l.BuildingCode?l.BuildingCode:null,p3:l&&l.BuildingName?l.BuildingName:null,p4:l&&l.BuildingNo?l.BuildingNo:null,p5:l&&l.BuildingLatitude?l.BuildingLatitude:null,p6:l&&l.BulidingLongitude?l.BulidingLongitude:null,p7:l&&l.FieldRadius?l.FieldRadius:null,p8:l&&l.BuildingArea?l.BuildingArea:null,p9:null,p10:"DraftBuildingID"==a?"1":"0",p11:null,p12:null,p13:l&&l.LocalityID?l.LocalityID:null,p14:l&&l.AssBuildingTypeID?l.AssBuildingTypeID:null,p15:l&&l.IsActive,p16:null,p17:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p18:l&&l.CreatedTtm?l.CreatedTtm:null,p19:l&&l.CreatedTtmType?l.CreatedTtmType:null,p20:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p21:null,p22:l&&l.LocalityGroupID?l.LocalityGroupID:null,p23:l&&l.LocalityGroupCode?l.LocalityGroupCode:null,p24:l&&l.LocalityGroupName?l.LocalityGroupName:null,p25:l&&l.CityID?l.CityID:null,p26:l&&l.CityCode?l.CityCode:null,p27:l&&l.CityName?l.CityName:null,p28:l&&l.AdminLocalityTypeID?l.AdminLocalityTypeID:null,p29:l&&l.AdminLocalityTypeCode?l.AdminLocalityTypeCode:null,p30:l&&l.AdminLocalityTypeName?l.AdminLocalityTypeName:null,p31:l&&l.LocalityCode?l.LocalityCode:null,p32:l&&l.LocalityName?l.LocalityName:null,p33:l&&l.AssBuildingTypeCode?l.AssBuildingTypeCode:null,p34:l&&l.AssBuildingTypeName?l.AssBuildingTypeName:null,p35:t.current,p36:t.pageSize,p37:a,p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}};(0,o.Z)(n,d,q.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,N(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?h(Math.ceil(l)):20==t.pageSize?h(Math.ceil(l/2)):50==t.pageSize?h(Math.ceil(l/5)):100==t.pageSize&&h(Math.ceil(l/10)),k(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(l="There is no Record Found",he?.[l]?he[l]:l)]}),k([]),h(0),N(0),Q({type:"count",payload:0});var l}))}};return(0,a.useEffect)((()=>{ne(q.ExpandTableValue)}),[q.ExpandTableValue]),i().createElement("div",null,i().createElement(d.Z,{expanded:le,onChange:()=>()=>{ae(ie)}},i().createElement(C.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},i().createElement("div",{style:{width:"60%"}},i().createElement("div",{className:"displayFlex"},i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("p",{className:"ListP"}," ",e.CardName," (",v,")")))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"AssBuildingRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},i().createElement(c.Z,{formctrlidprint:"fld30L2TCExportPrint",formctrlidexport:"fld30L2TCExportTable",formctrlidrefresh:"fld30L2TCExportRefresh",title:"30",data:T,exportData:ve,Items:pe,columnIndex:me,triggerApi:t=>{((t,a,i)=>{if(0===v)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let n=I.v.Api+`${e.ApiType}/`,d={data:{p1:t||(t&&t.BuildingIDPK?t.BuildingIDPK:null),p2:t&&t.BuildingCode?t.BuildingCode:null,p3:t&&t.BuildingName?t.BuildingName:null,p4:t&&t.BuildingNo?t.BuildingNo:null,p5:t&&t.BuildingLatitude?t.BuildingLatitude:null,p6:t&&t.BulidingLongitude?t.BulidingLongitude:null,p7:t&&t.FieldRadius?t.FieldRadius:null,p8:t&&t.BuildingArea?t.BuildingArea:null,p9:null,p10:ee?"1":"0",p11:null,p12:null,p13:t&&t.LocalityID?t.LocalityID:null,p14:t&&t.AssBuildingTypeID?t.AssBuildingTypeID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.LocalityGroupID?t.LocalityGroupID:null,p23:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p24:t&&t.LocalityGroupName?t.LocalityGroupName:null,p25:t&&t.CityID?t.CityID:null,p26:t&&t.CityCode?t.CityCode:null,p27:t&&t.CityName?t.CityName:null,p28:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p29:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p30:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p31:t&&t.LocalityCode?t.LocalityCode:null,p32:t&&t.LocalityName?t.LocalityName:null,p33:t&&t.AssBuildingTypeCode?t.AssBuildingTypeCode:null,p34:t&&t.AssBuildingTypeName?t.AssBuildingTypeName:null,p35:1,p36:v,p37:Ee,p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}};var s;J.loading(!1),J.alert({open:!0,color:"success",message:[`${s="30",q.language?.[s]?q.language[s]:s} - ${i.alertName}, Once you have downloaded the file, you will be notified`]}),(0,o.Z)(n,d,q.token[0],i).then((e=>{(0,P.PDF_Excel_Generate)(e,J,pe,L,l,i)}))})(_,x.column,t)},TableVisibleItem:j,userGridViewFormID:"30",TableTotalCount:v,Refresh:()=>{Ae({current:1,pageSize:100},_,Ee),S({current:1,pageSize:100}),u.current&&u.current.clearItem(),r.current&&r.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:l})),i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(m.Z,{count:D,siblingCount:0,color:"primary",page:A.current,onChange:(e,t)=>{if(S({current:t,pageSize:A.pageSize}),ee)Ae({current:t,pageSize:A.pageSize},_,"DraftBuildingID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";Ae({current:t,pageSize:A.pageSize},_,"BuildingID")}}}),i().createElement("div",null,i().createElement(g.Z,{value:A.pageSize,onChange:e=>{S({current:1,pageSize:e.target.value}),Ae({current:1,pageSize:e.target.value},_,"BuildingID")},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),ie&&i().createElement("p",{className:"per-page"},"/ per page Of (",v,")"))),i().createElement("div",{id:"AssBuildingRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},i().createElement("div",{id:"AssBuildingRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?i().createElement(MUITableMulti,{ref:u,type:e.viewtype,id:"AssBuildingRegistry",headerdata:j,tablesearchparams:ue,searchvalue:e=>{ce(e),S({current:1,pageSize:100}),Ae({current:1,pageSize:100},e,ee?"DraftBuildingID":"BuildingID",ee&&"DraftPage")},bodydata:F,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:j,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,l,a)=>{f?J.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?J.edit(t,l,a):J.edit(t,l,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{k(e)},color:!0,isexpanded:!1}):i().createElement(O.Z,{frmctrlid:"tblcs_30_L2_",ref:r,id:"AssBuildingRegistryTable",type:e.viewtype,headerdata:j,tablesearchparams:ue,searchvalue:e=>{let t={..._,...e};ce(e),V(t),S({current:1,pageSize:100}),Ae(A,t,Ee)},bodydata:F,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:j,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,l,a)=>{f?J.select(t):(e.editdata(t,"view"),J.edit(t,l,1!=t.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},17911:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>P}),l(95866),l(99058);var a=l(92950),i=l.n(a),n=l(80366),d=l(51673),s=l(282),r=l(868),o=l(78513),u=l(14439),c=l(27848),m=l(40900),g=l(64059),p=l(24038),y=l(8981),B=l(47516),I=l(86893),f=l(75450),C=l(33681),E=l(63163),D=(l(35131),l(61956),l(93657)),h=l(53375),v=l(52663),N=l(66083),A=l(29525),S=l(66856),b=l(39803),L=l(99940),T=l(17149),w=l(62810),x=l(30553),R=l(92381),F=l(25108);const P=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[P,k]=(0,a.useState)([]),[Z,z]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,M]=(0,a.useState)(""),[G,_]=(0,a.useState)({}),[K,V]=(0,a.useState)(!0),[U,H]=(0,a.useState)(!1),{cstate:j,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,f.ContextApi)(),[$,W]=(0,a.useState)(1),[J,q]=(0,a.useState)(0),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({}),[le,ae]=(0,a.useState)([]),[ie,ne]=(0,a.useState)(!0),[de,se]=(0,a.useState)(!1),[re,oe]=(0,a.useState)(""),[ue,ce]=(0,a.useState)(!1),[me,ge]=(0,a.useState)(!1),[pe,ye]=(0,a.useState)(!1),[Be,Ie]=(0,a.useState)(""),fe=(0,a.useRef)(null),[Ce,Ee]=(0,a.useState)({});let De=localStorage.getItem("Language");const he={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,y.Z)();const Ne=e=>ve[e]?ve[e]:e,Ae=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[he[De]];function Se(){_({}),te({}),e.searchData({}),H(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});Ee(l),ae(t)}),[]),(0,a.useEffect)((()=>()=>{fe.current&&fe.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const be=async(t,l,a,i)=>{X(!0);try{fe.current&&fe.current.abort();const n=new AbortController;fe.current=n;let s="",r=[],o={};await z((e=>(s=e.name,e))),await _((e=>(r=e,e))),await te((e=>(o=e,e)));const u=m.v.Api+"FP30S3/",c={data:{p1:"BuildingIDPK"==l?null:await Re(),p2:"BuildingCode"==s&&a.length>0?"%"+a+"%":null,p3:"BuildingName"==s&&a.length>0?"%"+a+"%":null,p4:"BuildingNo"==s&&a.length>0?"%"+a+"%":null,p5:"BuildingLatitude"==s&&a.length>0?"%"+a+"%":null,p6:"BulidingLongitude"==s&&a.length>0?"%"+a+"%":null,p7:"FieldRadius"==s&&a.length>0?"%"+a+"%":null,p8:"BuildingArea"==s&&a.length>0?"%"+a+"%":null,p9:"IsNonContract"==s&&a.length>0?"%"+a+"%":null,p10:null,p11:null,p12:null,p13:"LocalityName"!=s&&r.LocalityName?r.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p14:"AssBuildingTypeName"!=s&&r.AssBuildingTypeName?r.AssBuildingTypeName.map((e=>e.AssBuildingTypeIDPK)).toString():null,p15:e.Dialogview?"1":null,p16:null,p17:"p17"==s&&a.length>0?a:null,p18:null,p19:null,p20:null,p21:null,p22:"LocalityGroupName"!=s&&r.LocalityGroupName?r.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p23:"LocalityGroupCode"==s&&a.length>0?"%"+a+"%":null,p24:"LocalityGroupName"==s&&a.length>0?"%"+a+"%":null,p25:"CityName"!=s&&r.CityName?r.CityName.map((e=>e.CityIDPK)).toString():null,p26:"CityCode"==s&&a.length>0?"%"+a+"%":null,p27:"CityName"==s&&a.length>0?"%"+a+"%":null,p28:"AdminLocalityTypeName"!=s&&r.AdminLocalityTypeName?r.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p29:"AdminLocalityTypeCode"==s&&a.length>0?"%"+a+"%":null,p30:"AdminLocalityTypeName"==s&&a.length>0?"%"+a+"%":null,p31:"LocalityCode"==s&&a.length>0?"%"+a+"%":null,p32:"LocalityName"==s&&a.length>0?"%"+a+"%":null,p33:"AssBuildingTypeCode"==s&&a.length>0?"%"+a+"%":null,p34:"AssBuildingTypeName"==s&&a.length>0?"%"+a+"%":null,p35:i||1,p36:10,p37:t,p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}},g=await(0,d.Z)(u,c,e.token,"",n.signal);if(!g)return!1;const p=g.Output.status.code,y=g.Output.data;if("200"===p)if(y.length>0)if(1===i){let e=Te(y,s),t=Le(e,G[s],l);k(t),q(t.length>0?t[0].TotalCount:G[s].length)}else{let e=[...P,...y],t=Te(e,s);q(t.length<10?t.length:y[0].TotalCount),k(Te(t,s))}else O.length>0&&k([]),q(P.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Le=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),Te=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function we(e){let t=e+"PK",l=Ce[e];if(l){const e=l.flatMap((e=>G[e]?G[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let l="",a={};await _((e=>(l=e,e)));let i=[...le],n=[];for(let e of i){let t=l[e]?.map((e=>e.BuildingIDPK)).toString();t&&n.push(t)}await te((e=>(a=e,e)));let d={BuildingIDPK:n?[...new Set(n)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",LocalityID:we("LocalityID"),AssBuildingTypeID:we("AssBuildingTypeID")};"saveFav"==t?ke("save",d):(e.searchData(d),H(!1))};async function Re(){let e={};await _((t=>(e=t,t)));let t=[...le],l=[];for(let a of t){let t=e[a]?.map((e=>e.BuildingIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Fe(t,l,a,i,n,d){let s={[i]:{From:t,Type:a,To:l}},r={};te((e=>({...e,...s})));const o={...G};let u=[...le],c=[];for(let e of u){let t=o[e]?.map((e=>e.BuildingIDPK)).toString();t&&c.push(t)}await te((e=>(r=e,e)));let m={BuildingIDPK:c?[...new Set(c)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?n:null,LocalityID:G.LocalityName?.map((e=>e.LocalityIDPK)).toString(),AssBuildingTypeID:G.AssBuildingTypeName?.map((e=>e.AssBuildingTypeIDPK)).toString()};e.searchData(m)}function Pe(){return i().createElement(g.Z,{frmctrlid:"fld30L2TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,i)=>{Fe(e,t,l,Z.name,a)},keyboardback:()=>{H(!1),z({idpk:"",name:"",type:"",fieldidpk:""})},title:Ne(Z.name),fieldname:Z.name,save:e=>{alert(!0)}})}const ke=(t,l)=>{(0,R.Z)(t,e.formID,l,re).then((e=>{const t=e.Output.data;Ie(t)}))};return i().createElement("div",null,i().createElement(v.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ue},i().createElement(N.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),i().createElement(A.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(b.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>oe(e.target.value),fullWidth:!0})),i().createElement(x.Z,{style:{color:"#337ab7"},control:i().createElement(L.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ge(e.target.checked)}),label:"Quick"}),i().createElement(x.Z,{style:{color:"#337ab7"},control:i().createElement(L.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),i().createElement(S.Z,null,i().createElement(s.Z,{onClick:()=>{xe("saveFav"),ce(!1)},color:"primary"},"Save"))),U?"Created Ttm"===Z.name||Z.name.includes("Date")?i().createElement(Pe,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(u.Z,null,i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},Ae(Z.idpk)," (",P.length,"/",J,")")),i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(r.ZP,{title:Ne("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(n.Z,{id:"fld30L2TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),z({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),G[Z.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(s.Z,{frmctrlid:"fld30L2TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await _((t=>(e=t,F.log("clear fewItems",e),t))),e[Z.name]=[],be(Z.type,Z.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},K?i().createElement(r.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(I.D7o,{className:"FilterMaximizeIcon",onClick:()=>{V(!1)}}))):i().createElement(r.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(I.dOw,{className:"FilterMaximizeIcon",onClick:()=>{V(!0)}})))),i().createElement("ul",null,G[Z.name]&&G[Z.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[Z.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[Z.name],onClick:()=>(async(e,t)=>{W(1);let l=G[Z.name].filter((t=>t!=e)),a={};await _((e=>(a=e,e))),a[Z.name]=l,_(a),k((t=>[e,...t]))})(e)},i().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(p.Z,{frmctrlid:"fld30L2TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:Ne("Enter ")+" "+Ae(Z.idpk),onChange:e=>{M(e),be(Z.type,Z.fieldidpk,e,1,Re())}})),i().createElement("div",{id:"fld30L2TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(C.Z,{color:"secondary"})),i().createElement("div",{id:"fld30L2TFCScrollYDefault",className:"height65 scrollYDefault"},P.length>0&&P.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[Z.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await _((e=>(a=e,e)));let i=a[Z.name];t[Z.name]=i?[...l,...i]:l,a={...a,...t},_(a),k((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(o.Z,{className:"DotIcon"}),i().createElement("span",null,e[Z.name])))),P.length+0<J&&P.length>0&&i().createElement("div",{id:"fld30L2TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W($+1),be(Z.type,Z.fieldidpk,"",$+1)}},i().createElement("p",null," more... ")),0===P.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:m.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(B.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",Ne("Filter")," ",re.length>0&&`(${re})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(r.ZP,{title:"Favorite List",placement:"top"},de?i().createElement(n.Z,{className:"favlisticon",onClick:()=>{se(!1),Ie(""),Se()}}):i().createElement(D.Z,{className:"favlisticon",onClick:()=>{se(!0),ke("select"),Se()}})),Object.keys(G).length>0&&i().createElement(r.ZP,{title:"Save Favorites",placement:"top"},i().createElement(h.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld30L2TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},Ne("Clear")))),i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld30L2TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},Ne("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld30L2TFCFilItems",className:"FilterItems"},!Be&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),M(""),k([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"BuildingIDPK";z({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBuildingID",fieldidpk:t}),be(e.IsForeign?"Filter"+e.FieldName:"FilterBuildingID",t,"",1,Re())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,Ae(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,Ae(e.AdminUserGridViewIDPK)),i().createElement(E.Z,{checked:"1"==ie,onChange:t=>{ne(t.target.checked),Fe("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,Ae(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,G[l]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},G[l][0][l]),G[l].length>1&&i().createElement("span",{className:"RoundedDivName"},G[l][1][l]),G[l].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(G[l].length-2))))));var l})),Be&&Be.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{be("FilterBuildingID",l),xe("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}))},75819:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>h});var a=l(92950),i=l.n(a),n=l(45237),d=l(37148),s=l(3212),r=l(29800),o=(l(14439),l(27848),l(10966),l(36939)),u=l(61201),c=l(50743),m=l(75450),g=(l(21392),l(51673)),p=l(40900),y=l(26537),B=(l(24038),l(31720)),I=(l(77366),l(97829),l(8981)),f=(l(63163),l(1695),l(79117),l(65197)),C=l(30790),E=l.n(C),D=l(65466);const h=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),C=((0,n.useSelector)((e=>e.form)),(0,a.useRef)()),[h,v]=(0,a.useState)([]),[N,A]=(0,a.useState)(!0),[S,b]=(0,a.useState)(e.showDetail),[L,T]=(0,a.useState)(""),[w,x]=i().useState(!1),[R,F]=i().useState(""),[P,k]=i().useState(!1),Z=(0,a.useContext)(m.AssBuildingRegistryContext),{cstate:z,cdispatch:O}=(0,m.ContextApi)(),[M,G]=(0,a.useState)(!1),[_,K]=(0,a.useState)(""),[V,U]=(0,a.useState)(""),[H,j]=(0,a.useState)("");let Y=(0,I.Z)();(0,a.useEffect)((()=>{z.editData.length>0&&(v(z.editData),x(!1),O({type:"PrimaryId",payload:z.editData[0].BuildingIDPK}))}),[z.editData]),(0,a.useEffect)((()=>{z.showTableview&&j(z.showTableview)}),[z.showTableview]),(0,a.useEffect)((()=>{A(z.ExpandDetailValue)}),[z.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{A(e),x(null)},viewtoggle:()=>{x(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=p.v.Api+"FP30S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:1,p36:10,p37:z.IsDraft?"DraftBuildingID":"BuildingID",p38:null,p39:null,p40:localStorage.getItem("UserGroupID"),p41:localStorage.getItem("userid")}};(0,y.Z)(0).then((e=>{(0,g.Z)(a,i,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&v(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===w&&l.current.clear()}})));const $=e=>Y?.[e]?Y?.[e]:e,W=e=>z.language?.[e]?z.language[e]:e;function J(e,t){"AssBuildingTypeIDPK"===e&&(Z.openNav(),setTimeout((function(){C.current.viewlistProps(t)}),1e3),Z.SlideComponentType(i().createElement("div",{id:"divAssBuildingTypeRegistry-View",style:{width:"100%"}},i().createElement(D.AssBuildingTypeRegistryContext.Provider,{value:{cstate:z,cdispatch:O,loading:e=>Z.loading(e),alert:e=>Z.alert(e),openNav:()=>Z.openNav(),SlideComponentType:e=>Z.SlideComponentType(e)}},i().createElement(E(),{viewonly:!0,ref:C})))))}const q=(e,t)=>(l,a)=>{F(P?Object.assign(...h.filter((e=>e.BuildingIDPK==t)).map((e=>e))):z.editData),x(!a&&e)};return i().createElement("div",null,i().createElement(o.Z,{expanded:N,onChange:()=>()=>{e.expandTable&&A(!N)}},!w&&i().createElement(c.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},N?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},z.IsDraft?$("Draft"):"",W("AssBuildingRegistry"),e.viewonly?" ":"("+z.count+")")):"",N?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&z.AccessRights.IsAdd?i().createElement(s.Z,{name:$("Add"),frmctrlid:"fld30L2VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{Z.hideAddBtn(!0),O({type:"editData",payload:[]}),O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&z.AccessRights.IsEdit?i().createElement(r.Z,{frmctrlid:"fld30L2VCEditBtn",onClick:q("panel0",""),disabled:!1}):z.IsDraft&&z.AccessRights.IsAdd&&i().createElement(r.Z,{frmctrlid:"fld30L2VCEditBtnIsAdd",onClick:()=>{q("panel","")},disabled:!1}),!e.viewonly&&i().createElement(d.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld30L2VCCloseBtn",onClick:()=>{A(!1),Z.hideAddBtn(!1),P&&(O({type:"editData",payload:[]}),v([]))}})):"")),i().createElement(u.Z,{style:{display:"block"}},h.map(((e,t)=>i().createElement("div",{key:t},w==="panel"+t?i().createElement(B.default,{ref:l}):i().createElement(i().Fragment,null,i().createElement(f.Z,{tableName:"AssBuildingRegistry",tableID:30,parentID:e.BuildingIDPK,fldid:"fld30L2VCContainer",OpenSlideComponent:J,index:t,refresh:H,val:e,tf:W,t:$,title:"10.0.0.59-3:08:17 PM-18-7[30]"}))))))))}))},80950:()=>{},46601:()=>{},89214:()=>{},96419:()=>{},56353:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},69386:()=>{},31616:()=>{},56619:()=>{},77108:()=>{},69862:()=>{},40964:()=>{},72095:()=>{}}]);