/*! For license information please see 6130.98e4acb2c50392cb9b65.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[6130,7805],{92448:(e,t,a)=>{var l=a(95318),n=a(20862);t.Z=void 0;var r=n(a(92950)),i=(0,l(a(2108)).default)(r.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},41722:(e,t,a)=>{a.d(t,{D:()=>n,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function n(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},73668:(e,t,a)=>{a.d(t,{E:()=>n,I:()=>r});var l=a(25108);const n={IsDraft:!1,ShowDetail:!1,ExpandTableValue:!1,AssSpotRegistrySpotID:"",Add:!1,editData:[],screenType:[],PrimaryData:[],ShowView:!1,Showtable:!0,count:0,ExpandDetailValue:!0,expandDetail:"mainpanel",IsCollapse:!0,IsExPView:"",AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,viewonly:!1,EditOpen:!1,EditIsDraft:!0,PrimaryId:"",token:[],MRApprStatKey:"",showTableview:[],language:{}};function r(e,t){switch(t.type){case"IsDraft":return{...e,IsDraft:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"ShowView":return{...e,ShowView:t.payload};case"Showtable":return{...e,Showtable:t.payload};case"PrimaryData":return l.timeLog(t.payload,"actttt"),{...e,PrimaryData:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"AssSpotRegistrySpotID":return{...e,AssSpotRegistrySpotID:t.payload};case"Add":return{...e,Add:t.payload};case"editData":return{...e,editData:t.payload};case"screenType":return{...e,screenType:t.payload};case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"expandDetail":return{...e,expandDetail:t.payload};case"IsCollapse":return{...e,IsCollapse:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"IsExPView":return{...e,IsExPView:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"MRApprStatKey":return{...e,MRApprStatKey:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},83817:(e,t,a)=>{function l(e,t,a,l,n){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:a}),t({type:"ShowDetail",payload:l}),n.loading(!1)):(n.loading(!1),n.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){n.loading(!1),n.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{a:()=>l})},65197:(e,t,a)=>{a.d(t,{Z:()=>f});var l=a(92950),n=a.n(l),r=a(14439),i=a(27848),o=a(63163),u=a(6562),c=a(30553),d=a(83173),s=a(21392),m=a(69685),p=a(45332),g=a(26537),y=a(77366),h=a(71168),D=a.n(h),F=a(99940),E=a(55918),I=a.n(E);function f(e){const[t,a]=(0,l.useState)([]),[d,s]=(0,l.useState)([]),[m,p]=D()(e.tableID);(0,l.useEffect)((()=>{y(m)}),[m,e.val]),(0,l.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&y(e.refresh)}),[e.refresh]);const g=t=>e.t(t);function y(t){const l=t.filter((t=>t.FormID==e.tableID));let n=[],r=[];l.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?r.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):n.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),s(h(r,"id")),a(h(n,"id"))}function h(e,t){const a=e.map((e=>e[t])),l=e.filter((({value:e},t)=>!a.includes(e,t+1)));return l}return n().createElement(n().Fragment,null,n().createElement("div",{index:e.index,className:"padding paddingLeft width100"},n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},n().createElement("div",{className:"ViewHeadingTitle"},n().createElement("p",null,(E=e.tableName,e.tf(E)+" "+g("view")))),n().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},d.map(((t,a)=>n().createElement(n().Fragment,null,n().createElement(F.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},n().createElement("div",{key:a,className:"GridAlignSwitch"},n().createElement(u.Z,null,n().createElement(c.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:n().createElement(o.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),n().createElement(r.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement(r.Z,{container:!0},t.map(((t,a)=>n().createElement(n().Fragment,null,t.ForeignTag?n().createElement(n().Fragment,null,n().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:g(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var a,l;a=t.IDPK,l=e.val[t.ValID],e.OpenSlideComponent(a,l)},title:e.val[t.id]},e.val[t.id])))):n().createElement(n().Fragment,null,n().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?I()(e.val[t.id]):e.val[t.id]))))))))))),n().createElement(i.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewFileImgCont"},n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingTitle1"},n().createElement("p",{className:"ViewHeadpTagHD"},g("Attachments")))),n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingAttachmentL4"},n().createElement(v,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var E}const v=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&r()}),[e.id]);const r=()=>{(0,g.Z)(0).then((t=>{(0,y.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return n().createElement("div",null,n().createElement(m.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return n().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{src:e.ImgPath,alt:e.ImageName}):n().createElement(d.Z,{className:"previewFile"}),t.length>1&&n().createElement("div",{className:"Imgbgmstyle"},n().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),n().createElement(s.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},46773:(e,t,a)=>{a.d(t,{kN:()=>Be,EE:()=>Re,ZP:()=>Pe});var l=a(92950),n=a.n(l),r=(a(95866),a(45237)),i=a(36939),o=a(61201),u=a(59009),c=a(51673),d=(a(99058),a(80366)),s=a(282),m=a(868),p=a(78513),g=a(14439),y=a(27848),h=a(40900),D=a(64059),F=a(24038),E=a(8981),I=a(47516),f=a(86893),v=a(33681),V=a(63163),C=a(25108);const J=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[r,i]=(0,l.useState)([]),[o,u]=(0,l.useState)({idpk:"",name:"",type:""}),[J,S]=(0,l.useState)(""),[w,N]=(0,l.useState)({}),[b,T]=(0,l.useState)(!0),[x,L]=(0,l.useState)(!1),{cstate:A,cdispatch:R}=e.ContextApi?e.ContextApi:Be(),[B,P]=(0,l.useState)(1),[k,Z]=(0,l.useState)(0),[O,M]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[K,_]=(0,l.useState)([]),[U,H]=(0,l.useState)(!0);let j=localStorage.getItem("Language");const Y={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let $=(0,E.Z)();const W=e=>$[e]?$[e]:e,q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Y[j]];function Q(){N({}),z({}),e.searchData({}),L(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));_(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Q()}})));const X=async(t,a,l,n)=>{M(!0);let o=a.IsForeign?a.FieldName+"PK":"FinJurnalVoucherDetIDPK";try{let d="",s=[],m={};await u((e=>(d=e.name,e))),await N((e=>(s=e,e))),await z((e=>(m=e,e)));const p=h.v.Api+"FP1522S3/",g={data:{p1:a.IsForeign?await ae():null,p2:"FinJurnalVoucherDetCode"==d&&l.length>0?"%"+l+"%":null,p3:"FinJurVouchDetAmount"==d&&l.length>0?"%"+l+"%":null,p4:"FinJurVouchDetNarration"==d&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:e.parentId?e.parentId:"0",p8:"LedgerName"!=d&&s.LedgerName?s.LedgerName.map((e=>e.FinLedgerIDPK)).toString():null,p9:e.Dialogview?"1":null,p10:null,p11:"p11"==d&&l.length>0?l:null,p12:null,p13:null,p14:null,p15:null,p16:"GroupName"!=d&&s.GroupName?s.GroupName.map((e=>e.FinGroupIDPK)).toString():null,p17:"Description"==d&&l.length>0?"%"+l+"%":null,p18:"GroupCode"==d&&l.length>0?"%"+l+"%":null,p19:"GroupName"==d&&l.length>0?"%"+l+"%":null,p20:"LedgerCode"==d&&l.length>0?"%"+l+"%":null,p21:"LedgerName"==d&&l.length>0?"%"+l+"%":null,p22:n||1,p23:10,p24:t,p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};await(0,c.Z)(p,g,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===n){let e=te(l,d),t=ee(e,w[d],o);i(t),Z(t.length>0?t[0].TotalCount:w[d].length)}else{let e=[...r,...l],t=te(e,d);Z(t.length<10?t.length:l[0].TotalCount),i(te(t,d))}else J.length>0&&i([]),Z(r.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{M(!1)}},ee=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function ae(){let e={};await N((t=>(e=t,t)));let t=[...K],a=[];for(let l of t){let t=e[l]?.map((e=>e.FinJurnalVoucherDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function le(t,a,l,n,r,i){let o={[n]:{From:t,Type:l,To:a}},u={};z((e=>({...e,...o})));const c={...w};let d=[...K],s=[];for(let e of d){let t=c[e]?.map((e=>e.FinJurnalVoucherDetIDPK)).toString();t&&s.push(t)}await z((e=>(u=e,e)));let m={FinJurnalVoucherDetIDPK:s?[...new Set(s)].toString():"",CreatedTtm:u.CreatedTtm?u.CreatedTtm.From:"",CreatedTtmType:u.CreatedTtm?u.CreatedTtm.Type:"",CreatedTtmBetween:u.CreatedTtm?u.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,FinJurnalVoucherID:w.FinJurnalVoucherCode?.map((e=>e.FinJurnalVoucherIDPK)).toString(),FinLedgerID:w.LedgerName?.map((e=>e.FinLedgerIDPK)).toString()};e.searchData(m)}function ne(){return n().createElement(D.Z,{frmctrlid:"fld1522L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{le(e,t,a,o.name,l)},keyboardback:()=>{L(!1),u({idpk:"",name:"",type:""})},title:W(o.name),fieldname:o.name,save:e=>{alert(!0)}})}return n().createElement("div",null,x?"Created Ttm"===o.name||o.name.includes("Date")?n().createElement(ne,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(g.Z,null,n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},q(o.idpk)," (",r.length,"/",k,")")),n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(m.ZP,{title:W("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(d.Z,{id:"fld1522L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{L(!1),u({idpk:"",name:"",type:""}),P(1)}}))),w[o.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(s.Z,{frmctrlid:"fld1522L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await N((t=>(e=t,C.log("clear fewItems",e),t))),e[o.name]=[],X(o.type,o.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},b?n().createElement(m.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(f.D7o,{className:"FilterMaximizeIcon",onClick:()=>{T(!1)}}))):n().createElement(m.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(f.dOw,{className:"FilterMaximizeIcon",onClick:()=>{T(!0)}})))),n().createElement("ul",null,w[o.name]&&w[o.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:b?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[o.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{P(1);let a=w[o.name].filter((t=>t!=e)),l={};await N((e=>(l=e,e))),l[o.name]=a,N(l),i((t=>[e,...t]))})(e)},n().createElement(d.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(F.Z,{frmctrlid:"fld1522L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:J,placeholder:W("Enter ")+" "+q(o.idpk),onChange:e=>{S(e),X(o.type,o.name,e,1,ae())}})),n().createElement("div",{id:"fld1522L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await N((e=>(a=e,e)));let n=[...K],r=[];for(let e of n){let t=a[e]?.map((e=>e.FinJurnalVoucherDetIDPK)).toString();t&&r.push(t)}await z((e=>(l=e,e)));let i={FinJurnalVoucherDetIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",FinJurnalVoucherID:w.FinJurnalVoucherCode?.map((e=>e.FinJurnalVoucherIDPK)).toString(),FinLedgerID:w.LedgerName?.map((e=>e.FinLedgerIDPK)).toString()};e.searchData(i),L(!1)}},n().createElement(m.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),O&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(v.Z,{color:"secondary"})),n().createElement("div",{id:"fld1522L1TFCScrollYDefault",className:"height65 scrollYDefault"},r.length>0&&r.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await N((e=>(l=e,e)));let n=l[o.name];t[o.name]=n?[...a,...n]:a,l={...l,...t},N(l),i((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(p.Z,{className:"DotIcon"}),n().createElement("span",null,e[o.name])))),r.length+0<k&&r.length>0&&n().createElement("div",{id:"fld1522L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{P(B+1),X(o.type,o.name,"",B+1)}},n().createElement("p",null," more... ")),0===r.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:h.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(I.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(m.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{Q()},id:"fld1522L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear")))),n().createElement(m.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1522L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},W("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1522L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{L(!0),S(""),i([]),Z(0),u({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterFinJurnalVoucherDetID"}),X(e.IsForeign?"Filter"+e.FieldName:"FilterFinJurnalVoucherDetID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,q(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,q(e.AdminUserGridViewIDPK)),n().createElement(V.Z,{checked:"1"==U,onChange:t=>{H(t.target.checked),le("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,q(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,w[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},w[a][0][a]),w[a].length>1&&n().createElement("span",{className:"RoundedDivName"},w[a][1][a]),w[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(w[a].length-2))))));var a}))))))}));var S=a(54180),w=a(43031),N=a(85639),b=a(110),T=a(5109),x=a(88995),L=a(50743),A=a(61657),R=a(51209),B=a(53854),P=a(51649),k=a(37106),Z=a(5434),O=a(83817),M=a(39327),G=a(3212),z=a(93521),K=a(71168),_=a.n(K),U=a(65107),H=a(94986),j=a(15999);a(11557),window.clickFilter="";const Y=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),s=(0,l.useRef)(null),[p]=((0,l.useRef)(null),(0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g]=(0,l.useState)("1522"),[y,D]=(0,l.useState)(!1),[v,V]=(0,l.useState)(!1),[C,K]=(0,l.useState)(0),[Y,$]=(0,l.useState)(0),[W,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)({current:1,pageSize:100}),[ae,le]=(0,l.useState)(""),[ne,re]=(0,l.useState)([]),[ie,oe]=(0,l.useState)({val:"",column:""}),[ue,ce]=(0,l.useState)([]),[de,se]=(0,l.useState)(!1),[me,pe]=(0,l.useState)(""),[ge,ye]=(0,l.useState)(""),[he,De]=(0,l.useState)(!1),[Fe,Ee]=(0,l.useState)([]),[Ie,fe]=(0,l.useState)([]),[ve,Ve]=(0,l.useState)([]),[Ce,Je]=(0,l.useState)({children:[{name:"FinJurnalVoucherDetails",children:[]}]}),[Se,we]=(0,l.useState)(!1),Ne=(0,l.useContext)(e.context?e.context:Re),{cstate:be,cdispatch:Te}=e.ContextApi?e.ContextApi:Be();let xe={FinJurnalVoucherDetIDPK:"",FinJurnalVoucherDetCode:"",FinJurVouchDetAmount:"",FinJurVouchDetNarration:"",IsDraft:"",Remarks:"",FinJurnalVoucherID:"",FinLedgerID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FinGroupID:"",Description:"",GroupCode:"",GroupName:"",LedgerCode:"",LedgerName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Le,Ae]=(0,l.useState)(xe),[Pe,ke]=(0,l.useState)(xe),[Ze,Oe]=(0,l.useState)(!1),[Me,Ge]=(0,l.useState)(!0),[ze,Ke]=(0,l.useState)(!1),[_e,Ue]=(0,l.useState)(!0),[He,je]=(0,l.useState)({FinJurnalVoucherDetCode:"",FinJurnalVoucherCode:"",LedgerName:"",FinJurVouchDetAmount:"",FinJurVouchDetNarration:""}),[Ye,$e]=(0,l.useState)(!1),[We,qe]=(0,l.useState)([]),[Qe,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[nt,rt]=(0,l.useState)([]),[it,ot]=(0,l.useState)([]),[ut,ct]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,pt]=(0,l.useState)(!1),[gt,yt]=(0,l.useState)(""),[ht,Dt]=_()("1522"),[Ft,Et]=(0,l.useState)({}),It=[{columns:nt,data:ae}];let ft=(0,E.Z)();const vt=e=>ft[e]?ft[e]:e,Vt=e=>be.language?.[e]?be.language[e]:e;(0,l.useEffect)((()=>{Tt(ht)}),[ht]),(0,l.useEffect)((()=>{be.token.length>0&&(e.parentId?Nt(ee,xe,"FinJurnalVoucherDetID"):ce([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Se&&e.parentId?Nt(ee,me,"FinJurnalVoucherDetID"):Se&&ke(me)}),[me]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Ct(e)},tableRefresh:()=>{Nt(ee,xe,"FinJurnalVoucherDetID")},DialogTableProps:e=>{V(e)},HideEntryFields:e=>{pt(!0===e)}})));const Ct=e=>{""==e?Nt(ee,xe,Ze?"DraftFinJurnalVoucherDetID":"FinJurnalVoucherDetID",Ze&&"DraftPage"):bt(e,{current:1,pageSize:100}),ye(e)};function Jt(t){Ne.loading(!0);let a=h.v.Api+"FP1522S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,be.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),qe(e.Output.data),Ne.loading(!1)}}))}function St(e,t){Te({type:"editData",payload:[t]}),Te({type:"IsDraft",payload:Ze}),Te({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),ze&&De(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(V(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&bt(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]);const wt=()=>{Ne.EditClose(!0),de?(document.getElementById("FinJurnalVoucherDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("FinJurnalVoucherDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("FinJurnalVoucherDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",se(!1),_e?(v||(document.getElementById("FinJurnalVoucherDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("FinJurnalVoucherDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("FinJurnalVoucherDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("FinJurnalVoucherDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("FinJurnalVoucherDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("FinJurnalVoucherDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",se(!0),document.getElementById("FinJurnalVoucherDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),De(!1),window.clickFilter=!de},Nt=(t,a,l,n,r,i)=>{Ne.loading(!0),"DraftPage"!==n&&Oe(be.IsDraft);let o=h.v.Api+"FP1522S3/",u={data:{p1:r||(a&&a.FinJurnalVoucherDetIDPK?a.FinJurnalVoucherDetIDPK:null),p2:a&&a.FinJurnalVoucherDetCode?a.FinJurnalVoucherDetCode:null,p3:a&&a.FinJurVouchDetAmount?a.FinJurVouchDetAmount:null,p4:a&&a.FinJurVouchDetNarration?a.FinJurVouchDetNarration:null,p5:"DraftFinJurnalVoucherDetID"==l?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:a&&a.FinLedgerID?a.FinLedgerID:null,p9:a&&a.IsActive,p10:null,p11:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p12:a&&a.CreatedTtm?a.CreatedTtm:null,p13:a&&a.CreatedTtmType?a.CreatedTtmType:null,p14:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p15:null,p16:a&&a.FinGroupID?a.FinGroupID:null,p17:a&&a.Description?a.Description:null,p18:a&&a.GroupCode?a.GroupCode:null,p19:a&&a.GroupName?a.GroupName:null,p20:a&&a.LedgerCode?a.LedgerCode:null,p21:a&&a.LedgerName?a.LedgerName:null,p22:r?1:t.current,p23:t.pageSize,p24:l,p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};(0,c.Z)(o,u,be.token[0]).then((o=>{if(r)(0,O.a)(o,Te,n,i,Ne);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,q(o.Output.data[0].TotalCount),X(o.Output.data[0].DraftCnt),Te({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&X(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?$(Math.ceil(e)):20==t.pageSize?$(Math.ceil(e/2)):50==t.pageSize?$(Math.ceil(e/5)):100==t.pageSize&&$(Math.ceil(e/10)),ce(o.Output.data),Ne.loading(!1)}e.Dialogview||(document.getElementById("divFinJurnalVoucherDetails-Entry").style.height="auto",document.getElementById("divFinJurnalVoucherDetails-Entry").style.display="block")}else Ne.loading(!1),"DraftFinJurnalVoucherDetID"===l?(Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),Oe(!1)):(ce([]),te({current:1,pageSize:10}),$(0),q(0),Te({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ne.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ne.loading(!1)}))};function bt(t,a){if(!e.parentId)return!1;Ne.loading(!0);const l=h.v.Api+"FP1522S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,n,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,q(e.Output.data[0].TotalCount),Te({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?$(Math.ceil(t)):20==a.pageSize?$(Math.ceil(t/2)):50==a.pageSize?$(Math.ceil(t/5)):100==a.pageSize&&$(Math.ceil(t/10)),ce(e.Output.data),Ne.loading(!1)}else ce([]),$(0),q(0),Te({type:"count",payload:"0"}),Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne.loading(!1);else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ne.loading(!1)}))}function Tt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),Te({type:"language",payload:Object.assign({},...n)}),je(a.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),fe(t),Ve(a),rt(l),ot(a)}const xt=()=>Se?null:n().createElement("div",null,Ye?n().createElement(H.Z,{data:We,expanded:e=>!v&&Ne.Expanded(e),edit:(e,t,a)=>{v?Ne.select(e):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:t}),Te({type:"ShowDetail",payload:a}))}}):n().createElement(U.Z,{ref:s,frmctrlid:"tblcs_1522_L1_",id:"FinJurnalVoucherDetailsTable",headerdata:Ie,tablesearchparams:He,searchvalue:e=>{je(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Et(t),te({current:1,pageSize:10}),Nt({current:1,pageSize:10},t,Ze?"DraftFinJurnalVoucherDetID":"FinJurnalVoucherDetID",Ze&&"DraftPage")},bodydata:ue,ondrag:St,bodyitem:ve,visibleitem:Ie,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:g,showMore:!1,accessrights:be.AccessRights,expanded:e=>!v&&Ne.Expanded(e),edit:(e,t,a)=>{v?Ne.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&Nt(ee,null,t?"DraftFinJurnalVoucherDetID":"FinJurnalVoucherDetID",t&&"DraftPage",e[l],a)})),Ne.hideAddBtn(!0))},viewtoggle:Ne.viewtoggle,isexpanded:!v||ze,tf:Vt,action:v?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(be.ExpandTableValue)}),[be.ExpandTableValue]),n().createElement("div",null,!mt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld1522L1ECSearchBar",className:"searchbar1"},n().createElement(F.Z,{frmctrlid:"fld1522L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:vt("Search"),value:ge,onChange:e=>{ye(e),Ne.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ge?n().createElement("div",{id:"fld1522L1TCCloseIconCommonSearch",onClick:()=>{ye(""),Ne.searchItem("")}},n().createElement(d.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1522L1TCInputSearchIcon"},n().createElement(x.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("FinJurnalVoucherDetailsgridsearch").focus()}})))),n().createElement("div",null,be.AccessRights.IsAdd?n().createElement(G.Z,{className:"SaveBtnCommon",frmctrlid:"fld1522L1TCAddBtnIsAdd",onClick:()=>{Ne.hideAddBtn(!0),Te({type:"editData",payload:[]}),Te({type:"ShowDetail",payload:!1}),Te({type:"Add",payload:!0})},disabled:!e.parentId}):"")),n().createElement(i.Z,{expanded:Me,onChange:()=>()=>{Ge(ze)}},e.Dialogview&&n().createElement(L.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.50-11:46:33 AM-10-6[1522]"},`${Vt("1522")} (${W})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld1522L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(F.Z,{frmctrlid:"fld1522L1TCInputSearch",className:"search_input",type:"text",placeholder:vt("Search"),value:ge,onChange:e=>{Ct(e)}}),n().createElement("div",{className:"search_icon"},ge?n().createElement("div",{id:"fld1522L1TCInputCloseIcon",onClick:()=>{Ct("")}},n().createElement(d.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1522L1TCInputSearchIcon"},n().createElement(x.Z,{className:"InputSearchIcon"}))))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"FinJurnalVoucherDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&n().createElement("div",{frmctrlid:"fld1522L1TCFilterDataIsDraft",id:"FinJurnalVoucherDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{wt()}},n().createElement(m.ZP,{title:vt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},vt("Filter Data"))),!v&&!Ze&&!Se&&n().createElement(S.Z,{formctrlidprint:"fld1522L1TCExportPrint",formctrlidexport:"fld1522L1TCExportTable",formctrlidrefresh:"fld1522L1TCExportRefresh",title:Vt("1522"),data:ne,exportData:It,Items:it,columnIndex:nt,TableVisibleItem:Ie,userGridViewFormID:g,TableTotalCount:W,triggerApi:t=>{((t,l,n,r,i)=>{if(0===W)return Ne.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ne.loading(!0);let o=h.v.Api+"FP1522S3/",u={data:{p1:t&&t.FinJurnalVoucherDetIDPK?t.FinJurnalVoucherDetIDPK:null,p2:t&&t.FinJurnalVoucherDetCode?t.FinJurnalVoucherDetCode:null,p3:t&&t.FinJurVouchDetAmount?t.FinJurVouchDetAmount:null,p4:t&&t.FinJurVouchDetNarration?t.FinJurVouchDetNarration:null,p5:Ze?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:t&&t.FinLedgerID?t.FinLedgerID:null,p9:t&&t.IsActive,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:t&&t.FinGroupID?t.FinGroupID:null,p17:t&&t.Description?t.Description:null,p18:t&&t.GroupCode?t.GroupCode:null,p19:t&&t.GroupName?t.GroupName:null,p20:t&&t.LedgerCode?t.LedgerCode:null,p21:t&&t.LedgerName?t.LedgerName:null,p22:ee.current,p23:W,p24:Ze?"DraftFinJurnalVoucherDetID":"FinJurnalVoucherDetID",p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};Ne.loading(!1),Ne.alert({open:!0,color:"success",message:[`${Vt(1522)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(o,u,be.token[0],i).then((e=>{(0,z.PDF_Excel_Generate)(e,Ne,it,le,a,i)}))})(me,ie.column,0,0,t)},Refresh:()=>{ye(""),te({current:1,pageSize:100}),s.current.clearItem(),be.IsDraft?Nt({current:1,pageSize:100},xe,"DraftFinJurnalVoucherDetID"):Nt({current:1,pageSize:100},xe,"FinJurnalVoucherDetID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ze&&!Se&&!v&&n().createElement("div",{className:"buttoncard",onClick:()=>st(!dt)},n().createElement("span",null,dt?n().createElement(m.ZP,{disableFocusListener:!0,title:vt("Less"),placement:"top"},n().createElement("span",{id:"fld1522L1TCLess"},n().createElement(B.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(m.ZP,{disableFocusListener:!0,title:vt("More"),placement:"top"},n().createElement("span",{id:"fld1522L1TCMore"},n().createElement(B.ilJ,{className:"tableFilterColumnIcon"}))))),dt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Se||!ze?null:v||!be.AccessRights.IsAdd||Ze?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld1522L1TCFilterDataIsAdd",id:"FinJurnalVoucherDetailscoldiv",className:"buttoncard",onClick:()=>{Ne.EditClose(!0),he?(document.getElementById("FinJurnalVoucherDetailsFilterDiv").style.width="0%",document.getElementById("FinJurnalVoucherDetailsTabDiv").style.width="100%",document.getElementById("FinJurnalVoucherDetailsFilterDiv").style.display="none",document.getElementById("FinJurnalVoucherDetailscoldiv").style.width="fit-content",document.getElementById("FinJurnalVoucherDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("FinJurnalVoucherDetailsFilterDiv").style.width="25%",document.getElementById("FinJurnalVoucherDetailsTabDiv").style.width="75%",document.getElementById("FinJurnalVoucherDetailsFilterDiv").style.display="block",document.getElementById("FinJurnalVoucherDetailsfildiv").style.width="fit-content",document.getElementById("FinJurnalVoucherDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("FinJurnalVoucherDetailscoldiv").style.width="fit-content",document.getElementById("FinJurnalVoucherDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),se(!1)}},n().createElement(m.ZP,{title:vt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(M.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},vt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!v&&ze&&!Se&&!Ze&&n().createElement("div",null,n().createElement("div",{id:"FinJurnalVoucherDetailscoldiv",className:"buttoncard",onClick:()=>{Ye?$e(!1):($e(!0),Jt({current:1,pageSize:100}))}},n().createElement(m.ZP,{title:vt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld1522L1TCTableScrollData"},n().createElement(j.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},vt("Table Scroll Data")))),!Se&&Ze?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ne.hideAddBtn(!1),Ne.ExpandEntry(),Nt({current:1,pageSize:100},xe,"FinJurnalVoucherDetID"),Oe(!1),ye(""),Te({type:"IsDraft",payload:!1}),te({current:1,pageSize:10})}},n().createElement(m.ZP,{title:vt("List"),placement:"top"},n().createElement("div",{id:"fld1522L1TCList"},n().createElement(P.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},vt("Drafts")," ",W)):!v&&!Se&&be.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(u.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},n().createElement("div",{id:"fld1522L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{Q>0?(te({current:1,pageSize:100}),K(0),Ne.clear(),ye(""),Te({type:"Add",payload:!1}),Nt({current:1,pageSize:10},xe,"DraftFinJurnalVoucherDetID"),Oe(!0),Te({type:"IsDraft",payload:!0}),De(!1),Ue(!0),document.getElementById("FinJurnalVoucherDetailsFilterDiv").style.width="0%",document.getElementById("FinJurnalVoucherDetailsTabDiv").style.width="100%",document.getElementById("FinJurnalVoucherDetailsFilterDiv").style.display="none",te({current:1,pageSize:100}),we(!1)):Ne.alert({open:!0,color:"warning",message:[vt("There is no Record Found")]})}},n().createElement(m.ZP,{title:vt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(k.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},vt("Drafts"))))))):""),!Ze&&!v&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Se||Ze?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld1522L1TCListView",onClick:()=>{Ue(!0),ct(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(B.umT,null)),n().createElement("span",null,vt("List"))),n().createElement("div",{className:_e||ut?"buttonGrid":"buttonList",id:"fld1522L1TCCardView",onClick:()=>{Ue(!1),ct(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(f.aCJ,null)),n().createElement("span",null,vt("Card"))),n().createElement("div",{className:ut?"buttonList":"buttonGrid",id:"fld1522L1TCTileView",onClick:()=>{ct(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(Z.f_H,null)),n().createElement("span",null,vt("Tile"))))))),Se?null:Ye?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(A.Z,{style:{color:"#777"},id:"fld1522L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:C,onPageChange:(e,t)=>{K(t),Jt({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(w.Z,{count:Qe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),Jt({current:t,pageSize:at.pageSize})}}),n().createElement("div",null,n().createElement(b.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld1522L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),Jt({current:1,pageSize:e.target.value})}},n().createElement(N.Z,{value:10},"10"),n().createElement(N.Z,{value:20},"20"),n().createElement(N.Z,{value:50},"50"),n().createElement(N.Z,{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",vt("RowperpageOf")," (",et,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(A.Z,{style:{color:"#777"},id:"fld1522L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(W),page:C,onPageChange:(e,t)=>{K(t),Nt({current:t+1,pageSize:ee.pageSize},xe,Ze?"DraftFinJurnalVoucherDetID":"FinJurnalVoucherDetID",Ze&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(w.Z,{count:Y,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),Ze)Nt({current:t,pageSize:ee.pageSize},Le,"DraftFinJurnalVoucherDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ge.length>0?bt(ge,{current:t,pageSize:ee.pageSize}):Nt({current:t,pageSize:ee.pageSize},Le,"FinJurnalVoucherDetID")}}}),n().createElement("div",null,n().createElement(b.Z,{className:"BootstrapInputStyle",value:ee.pageSize,id:"fld1522L1TCSelectPaging",onChange:e=>{te({current:1,pageSize:e.target.value}),Ze?Nt({current:1,pageSize:e.target.value},Le,"DraftFinJurnalVoucherDetID","DraftPage"):ge.length>0?bt(ge,{current:1,pageSize:e.target.value}):Nt({current:1,pageSize:e.target.value},Le,"FinJurnalVoucherDetID")}},n().createElement(N.Z,{value:10},"10"),n().createElement(N.Z,{value:20},"20"),n().createElement(N.Z,{value:50},"50"),n().createElement(N.Z,{value:100},"100"))),ze&&n().createElement("p",{className:"per-page"},"/ ",vt("RowperpageOf")," (",W,") "))),n().createElement("div",{id:"FinJurnalVoucherDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"FinJurnalVoucherDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&n().createElement(J,{parentId:e.parentId,searchData:e=>{pe(e||Ft),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:g,data:()=>{},visibleData:()=>{},token:be.token[0],CloseBtnClk:()=>wt(),userGrid:ht,msg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]})}),he&&n().createElement(T.Z,{Refresh:e=>{Nt({current:1,pageSize:100},xe,"FinJurnalVoucherDetID")},frmctrlid:"fld1522L1TCTableColumnOrder",loading:e=>Ne.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ne.alert({open:!0,color:t,message:[e]}),select:he,userID:p,userGridViewFormID:g,saved:(e,t)=>{e&&Tt(t),Dt(t),Te({type:"showTableview",payload:t})},Token:be.token[0]})),n().createElement("div",{id:"FinJurnalVoucherDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?n().createElement(xt,null):n().createElement(R.Z,{frmctrlid:"fld1522L1TCExpandedCardDual",data:ue,id:"FinJurnalVoucherDetails",title:"FinJurnalVoucherDetCode",cardTile:!!ut,visibleitem:Ie,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{v?Ne.select(e):("edit"==t?(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Ze}),Te({type:"ShowDetail",payload:!1}),Ne.Expanded(!0)):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Ze}),Te({type:"ShowDetail",payload:!0}),Ne.Expanded(!0),Ne.viewtoggle()),de?se(!0):he?De(!0):(De(!1),De(!1))),Ne.hideAddBtn(!0)}})))))))}));var $=a(37148),W=a(29800),q=(a(10966),a(21392),a(26537)),Q=a(30553),X=a(61956),ee=a(44528),te=a(99090),ae=a(35131),le=a.n(ae),ne=a(1695),re=a(61924),ie=a.n(re),oe=(a(40826),a(55490)),ue=a(92371);const ce={EnterKeyValues:{FinJurnalVoucherDetails:["FinJurnalVoucherDetCode","FinJurnalVoucherCode","LedgerName","FinJurVouchDetAmount","FinJurVouchDetNarration"]},Label:{FinJurnalVoucherDetails:{FinJurnalVoucherDetCode:["FinJurnalVoucherDetCode"],FinJurnalVoucherID:["FinJurnalVoucherDetCode"],FinLedgerID:["LedgerCode","LedgerName"],FinJurVouchDetAmount:["FinJurnalVoucherDetCode"],FinJurVouchDetNarration:["FinJurnalVoucherDetCode"]}},LabelHeader:{FinJurnalVoucherDetails:{FinJurnalVoucherDetCode:["FinJurnalVoucherDetCode"],FinJurnalVoucherID:["FinJurnalVoucherDetCode"],FinLedgerID:["Ledger Code","Ledger Name"],FinJurVouchDetAmount:["FinJurnalVoucherDetCode"],FinJurVouchDetNarration:["FinJurnalVoucherDetCode"]}},Property:{FinJurnalVoucherDetails:{FinJurnalVoucherDetCode:{id:"fld1522_39739",labelID:"FinJurnalVoucherDetCode",maxLength:"50",labelname:"",frmctrlid:"fld1522_39739",frmctrlidname:"FinJurnalVoucherDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FinJurnalVoucherID:{id:"fld1522_39744",clearID:"FinJurnalVoucherDetailsFinJurnalVoucherCodeClear",type:"select",labelID:"FinJurnalVoucherIDPK",labelname:"",fielddisplayname:"FinJurnalVoucherCode",fieldOrder:"0",frmctrlid:"fld1522_39744",frmctrlidname:"FinJurnalVoucherID",foreignName:[],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!1},FinLedgerID:{id:"fld1522_39745",clearID:"FinJurnalVoucherDetailsLedgerNameClear",type:"select",labelID:"FinLedgerIDPK",labelname:"Debit Ledger",fielddisplayname:"LedgerName",fieldOrder:"1",frmctrlid:"fld1522_39745",frmctrlidname:"FinLedgerID",foreignName:[],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!0},FinJurVouchDetAmount:{id:"fld1522_39740",labelID:"FinJurVouchDetAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld1522_39740",frmctrlidname:"FinJurVouchDetAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FinJurVouchDetNarration:{id:"fld1522_39741",labelID:"FinJurVouchDetNarration",maxLength:"200",labelname:"Narration",frmctrlid:"fld1522_39741",frmctrlidname:"FinJurVouchDetNarration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{FinJurnalVoucherDetails:{FinJurnalVoucherID:["FinJurnalVoucherCode","FinJurnalVoucherDate","FinJurVouchNarration","FinJurVouchAmount"],FinLedgerID:["LedgerCode","LedgerName","OpeningBalance","FinGroupID"]}}};var de=a(99263),se=a(99323),me=a(6562),pe=a(45155),ge=a(79352),ye=(a(49174),a(38773),a(19089),a(16233)),he=a.n(ye),De=a(82729),Fe=a(75355),Ee=a(11107);const Ie={FinJurnalVoucherDetIDPK:"",FinJurnalVoucherDetCode:"",FinJurVouchDetAmount:"",FinJurVouchDetNarration:"",IsDraft:!1,Remarks:"",FinJurnalVoucherID:null,FinLedgerID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FinGroupID:null,Description:"",GroupCode:"",GroupName:"",LedgerCode:"",LedgerName:"",Type:"FinJurnalVoucherDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},fe=(0,l.forwardRef)(((e,t)=>{const a=(0,r.useSelector)((e=>e.form)),[u,d]=(0,l.useState)(!1),[s,m]=((0,l.useRef)(),(0,l.useRef)(),(0,l.useState)(!0)),[p,D]=(0,l.useState)(!1),[F,I]=(0,l.useState)(!1),[f,v]=(0,l.useState)(""),[C,J]=(0,l.useState)(!1),[S,w]=(0,l.useState)([]),[N,b]=(0,l.useState)(null),[T,x]=(0,l.useReducer)(ue.Z,Ie),[A,R]=(0,l.useState)(!1),[B,P]=(0,l.useState)([]),[k,Z]=(0,l.useState)(!1),O=(0,l.useContext)(e.context?e.context:Re),{cstate:M,cdispatch:G}=e.ContextApi?e.ContextApi:Be(),[z,K]=(0,l.useState)(0),[_,U]=(0,l.useState)(""),H=(0,l.useRef)(null),[j,Y]=he()("1522"),[W,ae]=(0,l.useState)(!0),[re,ye]=(0,l.useState)(!1);let fe=(0,E.Z)();const[ve,Ve]=(0,l.useState)({}),Ce=e=>fe[e]?fe[e]:e,Je=t=>M.language?.[t]?M.language[t]:e.createEasy?ve?.[t]:t;(0,l.useEffect)((()=>{M.PrimaryId&&K(Number(M.PrimaryId))}),[M.PrimaryId]),(0,l.useEffect)((()=>{we()}),[]),(0,l.useEffect)((()=>{we()}),[e.parentId]),(0,l.useEffect)((()=>{M.editData.length>0?(Se(M.editData[0],""),D(!0)):M.Add&&(we(),D(!0))}),[M.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ve(Object.assign({},...t))}(j)}),[j]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{we()},CreateEasyProps:(e=!0,t)=>{Y(!0),t?(Oe(t),D(e)):(we(),D(e))},AddOpen:e=>{we(),D(!0)}})));const Se=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultFinJurnalVoucherDetID"==a?U(t.FinJurnalVoucherDetIDPK):(K(e.primid?Number(e.primid):t.FinJurnalVoucherDetIDPK?t.FinJurnalVoucherDetIDPK:0),G({type:"PrimaryId",payload:t.FinJurnalVoucherDetIDPK})),x({type:"text",name:"FinJurnalVoucherDetCode",value:t.FinJurnalVoucherDetCode?t.FinJurnalVoucherDetCode:""}),x({type:"number",name:"FinJurnalVoucherID",number:t.FinJurnalVoucherID?Number(t.FinJurnalVoucherID):0}),x({type:"text",name:"FinJurnalVoucherCode",value:t.FinJurnalVoucherCode}),x({type:"number",name:"FinLedgerID",number:t.FinLedgerID?Number(t.FinLedgerID):0}),x({type:"text",name:"LedgerName",value:t.LedgerName}),x({type:"number",name:"FinJurVouchDetAmount",number:Number(t.FinJurVouchDetAmount)}),x({type:"text",name:"FinJurVouchDetNarration",value:t.FinJurVouchDetNarration?t.FinJurVouchDetNarration:""}),t.IsDraft?m(!0):m(!("1"!=t.IsActive&&!t.IsActive))},we=()=>{w([]),K(0),U(""),e.createEasy||O.resetImg(),G({type:"PrimaryId",payload:""}),x({type:"text",name:"FinJurnalVoucherDetCode",value:""}),x({type:"text",name:"FinJurnalVoucherID",value:null}),x({type:"text",name:"FinJurnalVoucherCode",value:""}),document.getElementById("FinJurnalVoucherDetailsFinJurnalVoucherCodeClear")&&document.getElementById("FinJurnalVoucherDetailsFinJurnalVoucherCodeClear").click(),x({type:"text",name:"FinLedgerID",value:null}),x({type:"text",name:"LedgerName",value:""}),document.getElementById("FinJurnalVoucherDetailsLedgerNameClear")&&document.getElementById("FinJurnalVoucherDetailsLedgerNameClear").click(),x({type:"number",name:"FinJurVouchDetAmount",number:0}),x({type:"text",name:"FinJurVouchDetNarration",value:""}),m(!0),v(""),ae(!0)},Ne=t=>{O.loading(!0),O.ConfirmAlert(null);const a=h.v.Api+"FP1522S2/",l={data:[{p1:"SetDefaultFinJurnalVoucherDetID"==t?"NORECORDS"!=_&&_?_:0:z,p2:Me(T.FinJurnalVoucherDetCode),p3:T.FinJurVouchDetAmount?Number(T.FinJurVouchDetAmount):0,p4:Me(T.FinJurVouchDetNarration),p5:!1,p6:"SetDefaultFinJurnalVoucherDetID"==t?"SetDefault":null,p7:e.parentId?Number(e.parentId):T.FinJurnalVoucherID?T.FinJurnalVoucherID:0,p8:T.FinLedgerID?T.FinLedgerID:0,p9:s,p10:"SetDefaultFinJurnalVoucherDetID"==t,p11:localStorage.getItem("userid"),p12:le()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:le()().format("YYYY-MM-DD hh:mm:ss")}]};(0,q.Z)(0).then((t=>{(0,c.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(O.alert({open:!0,color:"warning",message:r}),O.loading(!1)):(t=>{ae(!0),O.loading(!0),O.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const a=h.v.Api+"FP1522S1/",l={data:[{p1:z,p2:Me(T.FinJurnalVoucherDetCode),p3:T.FinJurVouchDetAmount?Number(T.FinJurVouchDetAmount):0,p4:Me(T.FinJurVouchDetNarration),p5:!1,p6:null,p7:e.parentId?Number(e.parentId):T.FinJurnalVoucherID?T.FinJurnalVoucherID:0,p8:T.FinLedgerID?T.FinLedgerID:0,p9:s,p10:!1,p11:localStorage.getItem("userid"),p12:le()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:le()().format("YYYY-MM-DD hh:mm:ss")}]};(0,q.Z)(0).then((t=>{(0,X.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(O.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttFinJurnalVoucherDetails"),O.loading(!1),G({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(O.RefreshTable(),O.attachmentSave(t[0].Data.IDPK)),we(),M.AccessRights.IsApproval&&O.Approval(!0),document.getElementById("overlayimgAttFinJurnalVoucherDetails")&&(document.getElementById("overlayimgAttFinJurnalVoucherDetails").style.width="0%",document.getElementById("overlayimgAttFinJurnalVoucherDetails").style.display="none",document.getElementById("divFinJurnalVoucherDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("FinJurnalVoucherDetails-MainTable").style.display="block")):(O.alert({open:!0,color:"warning",message:[a.message]}),O.loading(!1)),D(!0)}))}))})()):(O.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),O.loading(!1))}))}))};function be(t,a,l,n){if(!(M.count>0))return O.alert({open:!0,color:"warning",message:[Ce("Please save atleast one record")]}),!1;if(!((()=>{const e={...T};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return O.alert({open:!0,color:"warning",message:[Ce("Please enter the primary fields")]}),!1;{ae(!0),O.loading(!0),O.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const a=h.v.Api+"FP1522S1/",l={data:[{p1:"SetDefaultFinJurnalVoucherDetID"==n?"NORECORDS"!=_&&_?_:0:z,p2:Me(T.FinJurnalVoucherDetCode),p3:T.FinJurVouchDetAmount?Number(T.FinJurVouchDetAmount):0,p4:Me(T.FinJurVouchDetNarration),p5:!0,p6:"SetDefaultFinJurnalVoucherDetID"==n?"SetDefault":null,p7:e.parentId?Number(e.parentId):T.FinJurnalVoucherID?T.FinJurnalVoucherID:0,p8:T.FinLedgerID?T.FinLedgerID:0,p9:!1,p10:"SetDefaultFinJurnalVoucherDetID"==n,p11:localStorage.getItem("userid"),p12:le()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:le()().format("YYYY-MM-DD hh:mm:ss")}]};(0,q.Z)(0).then((n=>{(0,X.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?O.alert({open:!0,color:"warning",message:[Ce("Deleted Successfully")]}):O.alert({open:!0,color:"success",message:[Ce("Saved to Draft")]}),O.loading(!1),O.attachmentSave(a[0].Data.IDPK),we(),O.RefreshTable(),e.clrImgstate(!0)):(O.alert({open:!0,color:"warning",message:[l.message]}),O.loading(!1))}))}))}}function Te(e){return(0,de.CreateEasy)(e,M,G,O,H),!1}function xe(e,a){return(0,se.AdvanceSearch)(e,a,Re,Be(),Pe,t),!1}const Le=(t,a,l,n,r,i)=>{const o=h.v.Api+"FP1522S3/",u={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.parentId?Number(e.parentId):0,p8:"0"==T.FinLedgerID?null:T.FinLedgerID,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:"0"==T.FinGroupID?null:T.FinGroupID,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:t,p23:10,p24:l,p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}},d=Object.keys(u.data).slice(0,Object.keys(u.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(u.data).length-8?u.data[t]:null,e)),{});R(!0);const s={data:d};return(0,c.Z)(o,"ClearAll"==l?s:u,"SetDefaultFinJurnalVoucherDetID"==l&&n?n:M.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return 1==n.length?n[0]:{};P(1==t?e>0?n:[]:B.concat(n)),"SetDefaultFinJurnalVoucherDetID"==l&&(e>0?Se(n[0],"SetDefaultFinJurnalVoucherDetID"):U("NORECORDS")),R(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),R(!1)}))},Ae=(t,l,n)=>{const r=h.v.Api+"FP1522S3/",i={data:{p1:null,p2:"FinJurnalVoucherDetCode"==n&&l?"%"+l+"%":null,p3:"FinJurVouchDetAmount"==n&&l?"%"+l+"%":null,p4:"FinJurVouchDetNarration"==n&&l?"%"+l+"%":null,p5:null,p6:null,p7:a.FinJurnalVoucherRegistryFinJurnalVoucherID?a.FinJurnalVoucherRegistryFinJurnalVoucherID:"0",p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:t,p23:10,p24:"FinJurnalVoucherDetID",p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};R(!0),(0,c.Z)(r,"ClearAll"==n?o:i,M.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("FinJurnalVoucherDetCode"==n&&ae(e>0),P(l)):("FinJurnalVoucherDetCode"==n&&ae(!0),P(B.concat(l))),R(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),R(!1)}))},Pe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a?x({type:"text",name:t,value:e}):"select"==a&&("FinJurnalVoucherID"==t||"FinLedgerID"==t&&(x({type:"text",name:"FinLedgerID",value:e.FinLedgerIDPK?e.FinLedgerIDPK:null}),x({type:"text",name:"LedgerName",value:e.LedgerName?e.LedgerName:null})))}),[T]);function ke(e){if("FinJurnalVoucherID"==e){if(!T.FinJurnalVoucherID)return!1}else if("FinLedgerID"==e){if(!T.FinLedgerID)return!1;x({type:"text",name:"FinLedgerID",value:null}),x({type:"text",name:"LedgerName",value:""}),document.getElementById("FinJurnalVoucherDetailsLedgerNameClear")&&document.getElementById("FinJurnalVoucherDetailsLedgerNameClear").click()}}function Ze(e){if("FinJurnalVoucherID"==e){if(!T.FinJurnalVoucherID)return!1}else if("FinLedgerID"==e){if(!T.FinLedgerID)return!1;x({type:"text",name:"FinLedgerID",value:null})}}function Oe(e){O.ConfirmAlert(null),I(e.IsDraft),K(Number(e.FinJurnalVoucherDetIDPK)?Number(e.FinJurnalVoucherDetIDPK):0),x({type:"text",name:"FinJurnalVoucherDetCode",value:e.FinJurnalVoucherDetCode?e.FinJurnalVoucherDetCode:""}),x({type:"number",name:"FinJurnalVoucherID",number:e.FinJurnalVoucherID?Number(e.FinJurnalVoucherID):0}),x({type:"text",name:"FinJurnalVoucherCode",value:e.FinJurnalVoucherCode?e.FinJurnalVoucherCode:""}),x({type:"number",name:"FinLedgerID",number:e.FinLedgerID?Number(e.FinLedgerID):0}),x({type:"text",name:"LedgerName",value:e.LedgerName?e.LedgerName:""}),x({type:"number",name:"FinJurVouchDetAmount",number:e.FinJurVouchDetAmount?Number(e.FinJurVouchDetAmount):0}),x({type:"text",name:"FinJurVouchDetNarration",value:e.FinJurVouchDetNarration?e.FinJurVouchDetNarration:""})}const Me=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:p,onChange:e=>{}},n().createElement(L.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},p&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.50-11:46:33 AM-10-6[1522]"}," ",Ce("Add "),Je("1522")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},M.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(me.Z,{row:!0},n().createElement(Q.Z,{labelPlacement:"bottom",id:"fld1522L1ECEntryCheckbox",control:n().createElement(V.Z,{checked:"1"==s,onChange:e=>m(e.target.checked)}),label:Ce(1==s?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{O.AttachExpand(!0)},id:"fld1522L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(pe.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ce("Attach")))),!z&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{we()},id:"fld1522L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(pe.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ce("Reset")))),"1"===F&&z&&n().createElement(te.Z,{frmctrlid:"fld1522L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{be("draftdel")}}),z&&"1"!==F||e.createEasy?null:M.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{be()},frmctrlid:"fld1522L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ge.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Ce("Draft")))),M.AccessRights.IsAdd||M.AccessRights.IsEdit?n().createElement(ne.Z,{frmctrlid:"fld1522L1ECSaveBtnIsAdd",name:Ce(z?"Update":"Save"),disabled:!1,onClick:()=>{e.parentId&&0!=e.parentId?T.FinLedgerID&&0!=T.FinLedgerID?O.ConfirmAlert(n().createElement(ie(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ce("Are you sure?"),onConfirm:()=>Ne(),onCancel:()=>O.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ce("Yes"),cancelBtnText:Ce("Cancel"),showCancel:!0},Ce(z?"Do you want to Update?":"Do you want to Save?"))):O.alert({open:!0,color:"warning",message:[Ce("Please select the ")+" "+Je("FinLedgerID")]}):O.alert({open:!0,color:"warning",message:[Ce("Please select the ")+" "+Je("FinJurnalVoucherID")]})}}):null,!e.createEasy&&n().createElement($.Z,{frmctrlid:"fld1522L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{we(),D(!1),O.EditClose(!0),O.hideAddBtn(!1),G({type:"Add",payload:!1})}}))))),n().createElement(o.Z,null,n().createElement("div",{id:"FinJurnalVoucherDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"FinJurnalVoucherDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"FinJurnalVoucherDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(De.Z,null,n().createElement(Ee.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(g.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Fe.Z,{style:{padding:"5px 20px 15px"}},n().createElement(g.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(oe.Z,{"data-testid":T.FinJurnalVoucherDetCode,json:ce,SPName:"FinJurnalVoucherDetails",FieldName:"FinJurnalVoucherDetCode",tfLabel:Je("FinJurnalVoucherDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{O.ConfirmAlert(n().createElement(ie(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Oe(e),onCancel:()=>O.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ce("Yes"),cancelBtnText:Ce("No"),showCancel:!0},Ce("Do you want to update this record?")))})(t),onClick:()=>{W&&Ae(1,"","ClearAll"),ae(!0)},frmctrlid:"fld1522_39739",frmctrlidName:"FinJurnalVoucherDetCode",fieldorder:"0",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,onChange:(e,t)=>{W&&Ae(e,t,"FinJurnalVoucherDetCode"),Pe(t,"FinJurnalVoucherDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ae(!0)},showList:W,SideEntryView:!1,KeyBack:e=>{},value:T.FinJurnalVoucherDetCode,loading:A,clear:e=>{e&&(x({type:"text",name:"FinJurnalVoucherDetCode",value:""}),ae(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(oe.Z,{json:ce,id:T.FinJurnalVoucherID,"data-testid":T.FinJurnalVoucherID,value:T.FinJurnalVoucherCode,SPName:"FinJurnalVoucherDetails",FieldName:"FinJurnalVoucherID",tfLabel:Je("FinJurnalVoucherID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Pe(e,"FinJurnalVoucherID","select"),onChange:(e,t)=>{Le(e,t,"FinJurnalVoucherIDPK")},KeyBack:e=>{Ze("FinJurnalVoucherID")},fieldorder:"0",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,openSlide:()=>{Te("1523")},Tabledialog:()=>xe("1523","FinJurnalVoucherID"),loading:A,clear:e=>{e&&ke("FinJurnalVoucherID")}}))))),n().createElement(De.Z,null,n().createElement(Ee.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(g.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(Fe.Z,{style:{padding:"5px 20px 15px"}},n().createElement(g.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(oe.Z,{json:ce,id:T.FinLedgerID,"data-testid":T.FinLedgerID,value:T.LedgerName,SPName:"FinJurnalVoucherDetails",FieldName:"FinLedgerID",tfLabel:Je("FinLedgerID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Pe(e,"FinLedgerID","select"),onChange:(e,t)=>{Le(e,t,"FinLedgerIDPK")},KeyBack:e=>{Ze("FinLedgerID")},fieldorder:"1",data:B,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:B.length>0?B[0].TotalCount:0,openSlide:()=>{Te("673")},Tabledialog:()=>xe("673","FinLedgerID"),loading:A,clear:e=>{e&&ke("FinLedgerID")}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ee.Z,{json:ce,"data-testid":T.FinJurVouchDetAmount,SPName:"FinJurnalVoucherDetails",FieldName:"FinJurVouchDetAmount",tfLabel:Je("FinJurVouchDetAmount"),frmctrlid:"fld1522_39740",fieldorder:"2",onChange:e=>{Pe(e,"FinJurVouchDetAmount","number")},clear:e=>{e&&x({type:"number",name:"FinJurVouchDetAmount",number:0})},Iscurr:!0,value:T.FinJurVouchDetAmount})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(ee.Z,{json:ce,"data-testid":T.FinJurVouchDetNarration,SPName:"FinJurnalVoucherDetails",FieldName:"FinJurVouchDetNarration",tfLabel:Je("FinJurVouchDetNarration"),frmctrlid:"fld1522_39741",fieldorder:"3",onChange:e=>{Pe(e,"FinJurVouchDetNarration","text")},clear:e=>{e&&x({type:"text",name:"FinJurVouchDetNarration",value:""})},value:T.FinJurVouchDetNarration})))))),n().createElement("div",{id:"FinJurnalVoucherDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("FinJurnalVoucherDetailsSideBar").style.width="0",void J(!1))},""),C&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},N))))))))}));a(77366),a(97829);var ve=a(65197),Ve=a(18467),Ce=a.n(Ve),Je=a(34198),Se=a.n(Je),we=a(27090),Ne=a(19285);const be=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),u=((0,r.useSelector)((e=>e.form)),(0,l.useRef)()),d=(0,l.useRef)(),[s,m]=(0,l.useState)([]),[p,g]=(0,l.useState)(!0),[y,D]=(0,l.useState)(e.showDetail),[F,I]=(0,l.useState)(""),[f,v]=n().useState(!1),[V,C]=n().useState(""),[J,S]=n().useState(!1),w=(0,l.useContext)(Re),{cstate:N,cdispatch:b}=Be(),[T,x]=(0,l.useState)(!1),[A,R]=(0,l.useState)(""),[B,P]=(0,l.useState)(""),[k,Z]=(0,l.useState)("");let O=(0,E.Z)();(0,l.useEffect)((()=>{N.editData.length>0&&(m(N.editData),v(!1),b({type:"PrimaryId",payload:N.editData[0].FinJurnalVoucherDetIDPK}))}),[N.editData]),(0,l.useEffect)((()=>{N.showTableview&&Z(N.showTableview)}),[N.showTableview]),(0,l.useEffect)((()=>{g(N.ExpandDetailValue)}),[N.ExpandDetailValue]),(0,l.useEffect)((()=>{g(N.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{g(e),v(null)},viewtoggle:()=>{v(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=h.v.Api+"FP1522S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:1,p23:10,p24:N.IsDraft?"DraftFinJurnalVoucherDetID":"FinJurnalVoucherDetID",p25:null,p26:null,p27:localStorage.getItem("UserGroupID"),p28:localStorage.getItem("userid")}};(0,q.Z)(0).then((e=>{(0,c.Z)(l,n,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===f&&a.current.clear()}})));const M=e=>O?.[e]?O?.[e]:e,z=e=>N.language?.[e]?N.language[e]:e;function K(e,t){"FinJurnalVoucherIDPK"===e?(w.openNav(),setTimeout((function(){u.current.viewlistProps(t)}),1e3),w.SlideComponentType(n().createElement("div",{id:"divFinJurnalVoucherRegistry-View",style:{width:"100%"}},n().createElement(we.FinJurnalVoucherRegistryContext.Provider,{value:{cstate:N,cdispatch:b,loading:e=>w.loading(e),alert:e=>w.alert(e),openNav:()=>w.openNav(),SlideComponentType:e=>w.SlideComponentType(e)}},n().createElement(Ce(),{viewonly:!0,ref:u}))))):"FinLedgerIDPK"===e&&(w.openNav(),setTimeout((function(){d.current.viewlistProps(t)}),1e3),w.SlideComponentType(n().createElement("div",{id:"divFinLedgerRegistry-View",style:{width:"100%"}},n().createElement(Ne.FinLedgerRegistryContext.Provider,{value:{cstate:N,cdispatch:b,loading:e=>w.loading(e),alert:e=>w.alert(e),openNav:()=>w.openNav(),SlideComponentType:e=>w.SlideComponentType(e)}},n().createElement(Se(),{viewonly:!0,ref:d})))))}const _=(e,t)=>(a,l)=>{C(J?Object.assign(...s.filter((e=>e.FinJurnalVoucherDetIDPK==t)).map((e=>e))):N.editData),v(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:p,onChange:()=>()=>{e.expandTable&&g(!p)}},!f&&n().createElement(L.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},p?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},N.IsDraft?M("Draft"):"",z("FinJurnalVoucherDetails"),e.viewonly?" ":"("+N.count+")")):"",p?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&N.AccessRights.IsAdd?n().createElement(G.Z,{name:M("Add"),frmctrlid:"fld1522L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{w.hideAddBtn(!0),b({type:"editData",payload:[]}),b({type:"ShowDetail",payload:!1}),b({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&N.AccessRights.IsEdit?n().createElement(W.Z,{frmctrlid:"fld1522L1VCEditBtn",onClick:_("panel0",""),disabled:!1}):N.IsDraft&&N.AccessRights.IsAdd&&n().createElement(W.Z,{frmctrlid:"fld1522L1VCEditBtnIsAdd",onClick:()=>{_("panel","")},disabled:!1}),!e.viewonly&&n().createElement($.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1522L1VCCloseBtn",onClick:()=>{g(!1),w.hideAddBtn(!1),J&&(b({type:"editData",payload:[]}),m([]))}})):"")),n().createElement(o.Z,{style:{display:"block"}},s.map(((t,l)=>n().createElement("div",{key:l},f==="panel"+l?n().createElement(fe,{ref:a,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(ve.Z,{tableName:"FinJurnalVoucherDetails",tableID:1522,parentID:t.FinJurnalVoucherDetIDPK,fldid:"fld1522L1VCContainer",OpenSlideComponent:K,index:l,refresh:k,val:t,tf:z,t:M,title:"10.0.0.50-11:46:33 AM-10-6[1522]"}))))))))}));var Te=a(67698),xe=a(55995),Le=a(45965),Ae=a(41722);a(9175);const Re=(0,l.createContext)(),Be=()=>{const e=(0,l.useContext)(Re);if(void 0===e)throw new Error("useCont must be used within  FinJurnalVoucherDetailsContext Provider");return e},Pe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),u=(0,l.useRef)(),c=(0,l.useRef)(),[d,s]=(0,l.useState)(!0),[m,p]=(0,l.useState)(),g=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[y,h]=(0,l.useState)(0),[D,F]=(0,l.useReducer)(Ae.D,Ae.E),[E,I]=(0,l.useState)(""),[f,v]=(0,l.useState)([]),[V,C]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divFinJurnalVoucherDetails-Entry").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{s(!0),document.getElementById("divFinJurnalVoucherDetails-Entry").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(F({type:"editData",payload:[e.editData]}),F({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{F(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const J=e=>{v([]),document.getElementById("divFinJurnalVoucherDetails-Entry").style.width="100%",document.getElementById("FinJurnalVoucherDetailsEntryTable").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.add("displayFlex"),document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttFinJurnalVoucherDetails").style.width="0%",document.getElementById("overlayimgAttFinJurnalVoucherDetails").style.display="none"};(0,l.useEffect)((()=>{g((e=>{(0,q.Z)(1).then((e=>{var t=new Array;t.push(e),F({type:"token",payload:t}),h(t.length),S(e)}))}))}),[]);const S=e=>{(0,Le.Z)(e,1523).then((e=>F({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(Re.Provider,{value:{cstate:D,cdispatch:F,ContextApi:Be,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==y&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{c.current.tempsave(e,f),v([])},EditClose:e=>J(),AttachExpand:e=>(u.current.AttachmentData(D.PrimaryId),void(d&&(document.getElementById("overlayPreviewFinJurnalVoucherDetails").style.width="50%",document.getElementById("divFinJurnalVoucherDetails-Entry").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttFinJurnalVoucherDetails").style.display="block",document.getElementById("overlayimgAttFinJurnalVoucherDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&o.current.tableClick(e),F({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&o.current.viewtoggle()},clear:e=>{F({type:"ShowDetail",payload:!1}),F({type:"editData",payload:[]}),D.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{c.current.tempClear(),u.current.clrImgstate(!0)}}},n().createElement("div",{id:"FinJurnalVoucherDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"FinJurnalVoucherDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"FinJurnalVoucherDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divFinJurnalVoucherDetails-Entry",style:{width:"100%"}},0!==y?n().createElement(be,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(xe.Z,{ref:c,menurefID:1522,fileId:"LogoImgFinJurnalVoucherDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewFinJurnalVoucherDetails",frmctrlid:"PvwIm_1522_L1_",tempImg:e=>{D.PrimaryId?u.current.AttachmentData(D.PrimaryId):u.current.tempImg(e),v(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divFinJurnalVoucherDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(fe,{ref:i,clrImgstate:e=>u.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(xe.Z,{ref:c,menurefID:1522,fileId:"LogoImgFinJurnalVoucherDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>u.current.AttachmentData(e),previd:"overlayPreviewFinJurnalVoucherDetails",frmctrlid:"PvwIm_1522_L1_",tempImg:e=>{D.PrimaryId?u.current.AttachmentData(D.PrimaryId):u.current.tempImg(e),v(e)},clearTempData:D.Add})),n().createElement("div",{id:"FinJurnalVoucherDetails-MainTable"},0!==y?n().createElement(Y,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Te.Z,{ImgAttachment:e=>J(),menurefID:1522,fileId:"AttImgFinJurnalVoucherDetails",imgid:"overlayimgAttFinJurnalVoucherDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{c.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewFinJurnalVoucherDetails",ref:u,imgloading:m,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1522_L1_",timglist:e=>{c.current.timglist(e),v(e)},clearTempData:D.Add}))),n().createElement("div",{id:"FinJurnalVoucherDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},11701:(e,t,a)=>{a.r(t),a.d(t,{default:()=>K});var l=a(92950),n=a.n(l),r=a(45237),i=a(36939),o=a(61201),u=a(50743),c=(a(10966),a(30553)),d=(a(99090),a(44528)),s=a(37148),m=a(61956),p=a(51673),g=(a(96071),a(14439)),y=a(27848),h=a(49174),D=(a(38773),a(19089),a(1695)),F=(a(13235),a(61924)),E=a.n(F),I=a(26537),f=a(40900),v=a(35131),V=a.n(v),C=a(55490),J=(a(2493),a(92371)),S=a(82729),w=a(75355),N=a(11107),b=a(40826);const T={EnterKeyValues:{FinJurnalVoucherRegistry:["FinJurVouchNarration","FinJurnalVoucherCode","FinJurnalVoucherDate","LedgerName","FinJurVouchAmount"]},Label:{FinJurnalVoucherRegistry:{FinJurVouchNarration:["FinJurnalVoucherCode"],FinJurnalVoucherCode:["FinJurnalVoucherCode"],FinJurnalVoucherDate:["FinJurnalVoucherCode"],FinLedgerID:["LedgerCode","LedgerName"],FinJurVouchAmount:["FinJurnalVoucherCode"]}},LabelHeader:{FinJurnalVoucherRegistry:{FinJurVouchNarration:["Journal Voucher No"],FinJurnalVoucherCode:["Journal Voucher No"],FinJurnalVoucherDate:["Journal Voucher No"],FinLedgerID:["Ledger Code","Ledger Name"],FinJurVouchAmount:["Journal Voucher No"]}},Property:{FinJurnalVoucherRegistry:{FinJurVouchNarration:{id:"fld1523_39756",labelID:"FinJurVouchNarration",maxLength:"-1",labelname:"",frmctrlid:"fld1523_39756",frmctrlidname:"FinJurVouchNarration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FinJurnalVoucherCode:{id:"fld1523_39753",labelID:"FinJurnalVoucherCode",maxLength:"50",labelname:"Journal Voucher No",frmctrlid:"fld1523_39753",frmctrlidname:"FinJurnalVoucherCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},FinJurnalVoucherDate:{id:"fld1523_39754",labelID:"FinJurnalVoucherDate",maxLength:"",labelname:"Journal Voucher Date",frmctrlid:"fld1523_39754",frmctrlidname:"FinJurnalVoucherDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FinLedgerID:{id:"fld1523_39759",clearID:"FinJurnalVoucherRegistryLedgerNameClear",type:"select",labelID:"FinLedgerIDPK",labelname:"Credit Ledger",fielddisplayname:"LedgerName",fieldOrder:"3",frmctrlid:"fld1523_39759",frmctrlidname:"FinLedgerID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FinJurVouchAmount:{id:"fld1523_39755",labelID:"FinJurVouchAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld1523_39755",frmctrlidname:"FinJurVouchAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{FinJurnalVoucherRegistry:{FinLedgerID:["LedgerCode","LedgerName","OpeningBalance","FinGroupID"]}}};var x=a(24448),L=a(8981),A=a(63163),R=a(80471),B=a(47516),P=a(45155),k=a(79352),Z=a(63750),O=a(51649),M=a(16233),G=a.n(M);const z={FinJurnalVoucherIDPK:"",FinJurnalVoucherCode:"",FinJurnalVoucherDate:"",FinJurnalVoucherDateType:"",FinJurnalVoucherDateBetween:"",FinJurVouchAmount:"",FinJurVouchNarration:"",IsDraft:!1,Remarks:"",FinLedgerID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FinGroupID:null,Description:"",GroupCode:"",GroupName:"",LedgerCode:"",LedgerName:"",Type:"FinJurnalVoucherID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},K=(0,l.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const[a,F]=(0,l.useState)(!1),[v,M]=(0,l.useState)(!0),[K,_]=(0,l.useState)(!1),[U,H]=(0,l.useState)(!1),[j,Y]=(0,l.useState)(!1),[$,W]=(0,l.useState)(!1),[q,Q]=(0,l.useState)([]),[X,ee]=(0,l.useState)(null),[te,ae]=(0,l.useReducer)(J.Z,z),[le,ne]=(0,l.useState)(!1),[re,ie]=(0,l.useState)([]),[oe,ue]=(0,l.useState)(0),[ce,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(!0),[pe,ge]=(0,l.useState)(""),ye=(0,l.useContext)(x.FinJurnalVoucherRegistryContext),{cstate:he,cdispatch:De}=(0,x.ContextApi)(),[Fe]=(0,l.useState)(localStorage.getItem("Language")),[Ee]=(0,l.useState)(localStorage.getItem("Language")),Ie=(0,l.useRef)(null),[fe,ve]=G()("1523"),[Ve,Ce]=(0,l.useState)(!1);let Je=(0,L.Z)();const[Se,we]=(0,l.useState)({}),Ne=e=>Je?.[e]?Je[e]:e,be=t=>he.language?.[t]?he.language[t]:e.createEasy?Se?.[t]:t;(0,l.useEffect)((()=>{he.PrimaryId&&ue(Number(he.PrimaryId))}),[he.PrimaryId]),(0,l.useEffect)((()=>{he.editData.length<0&&(0,I.Z)(1).then((e=>{Ze(1,null,"SetDefaultFinJurnalVoucherID",e)}))}),[]),(0,l.useEffect)((()=>{he.editData.length>0?(Le(he.editData[0],""),H(!0)):he.Add&&(Ae(),H(!0))}),[he.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),we(Object.assign({},...t))}(fe)}),[fe]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){H(!0),_(!1)},CreateEasyProps:(e=!0,t)=>{ve(!0),t?(Ge(t),H(e)):(Ae(),H(e))}})));const Te=e=>e?e.split("-").reverse().join("-"):null,xe=e=>{if(e){let t=Te(e);return"Invalid Date"!=new Date(t)?(0,b.format)(new Date(t),"yyyy-MM-dd"):e}return null},Le=(t,a,l)=>{let n=t;Object.keys(n).forEach((function(e){0==n[e]&&(n[e]=null)})),Y(n.IsDraft),De({type:"EditIsDraft",payload:"1"==n.IsDraft}),"SetDefaultFinJurnalVoucherID"==a?de(n.FinJurnalVoucherIDPK):(ue(e.primid?Number(e.primid):n.FinJurnalVoucherIDPK?n.FinJurnalVoucherIDPK:0),De({type:"PrimaryId",payload:n.FinJurnalVoucherIDPK})),ae({type:"text",name:"FinJurVouchNarration",value:n.FinJurVouchNarration?n.FinJurVouchNarration:""}),ae({type:"text",name:"FinJurnalVoucherCode",value:n.FinJurnalVoucherCode?n.FinJurnalVoucherCode:""}),ae({type:"text",name:"FinJurnalVoucherDate",value:n.FinJurnalVoucherDate?Te(n.FinJurnalVoucherDate):null}),ae({type:"number",name:"FinLedgerID",number:n.FinLedgerID?Number(n.FinLedgerID):0}),ae({type:"text",name:"LedgerName",value:n.LedgerName}),ae({type:"number",name:"FinJurVouchAmount",number:Number(n.FinJurVouchAmount)}),n.IsDraft?M(!0):M(!("1"!=n.IsActive&&!n.IsActive))},Ae=()=>{Q([]),ue(0),de(""),me(!0),De({type:"PrimaryId",payload:""}),ae({type:"text",name:"FinJurVouchNarration",value:""}),ae({type:"text",name:"FinJurnalVoucherCode",value:""}),ae({type:"text",name:"FinJurnalVoucherDate",value:""}),ae({type:"text",name:"FinLedgerID",value:null}),ae({type:"text",name:"LedgerName",value:""}),document.getElementById("FinJurnalVoucherRegistryLedgerNameClear")&&document.getElementById("FinJurnalVoucherRegistryLedgerNameClear").click(),ae({type:"number",name:"FinJurVouchAmount",number:0}),M(!0)},Re=e=>ze(te.FinJurnalVoucherCode)?te.FinLedgerID&&0!=te.FinLedgerID?void Be(e):(ye.alert({open:!0,color:"warning",message:[Ne("Please select the ")+" "+be("FinLedgerID")]}),!1):(ye.alert({open:!0,color:"warning",message:[Ne("Please enter the")+""+be("FinJurnalVoucherCode")]}),!1),Be=()=>{ye.ConfirmAlert(n().createElement(E(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ne("Are you sure?"),onConfirm:()=>Pe("",!1),onCancel:()=>ye.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("Cancel"),showCancel:!0},he.PrimarId?Ne("Do you want to Update?"):Ne("Do you want to Save?")))},Pe=(e,t)=>{ye.loading(!0),ye.ConfirmAlert(null),De({type:"IsDraft",payload:!1});const a=f.v.Api+"FP1523S2/",l={data:[{p1:"SetDefaultFinJurnalVoucherID"==e?"NORECORDS"!=ce&&ce?ce:0:oe,p2:ze(te.FinJurnalVoucherCode),p3:te.FinJurnalVoucherDate?xe(te.FinJurnalVoucherDate):null,p4:te.FinJurVouchAmount?Number(te.FinJurVouchAmount):0,p5:ze(te.FinJurVouchNarration),p6:t,p7:"SetDefaultFinJurnalVoucherID"==e?"SetDefault":null,p8:te.FinLedgerID?te.FinLedgerID:0,p9:v,p10:"SetDefaultFinJurnalVoucherID"==e,p11:localStorage.getItem("userid"),p12:V()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,n=new Array,r=new Array;"200"===a.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(ye.alert({open:!0,color:"warning",message:r}),ye.loading(!1)):ke(e,!1)):(ye.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ye.loading(!1))}))}))},ke=(t,a)=>{me(!0),ye.loading(!0),ye.ConfirmAlert(null);const l=f.v.Api+"FP1523S1/",n={data:[{p1:"SetDefaultFinJurnalVoucherID"==t?"NORECORDS"!=ce&&ce?ce:0:oe,p2:ze(te.FinJurnalVoucherCode),p3:te.FinJurnalVoucherDate?xe(te.FinJurnalVoucherDate):null,p4:te.FinJurVouchAmount?Number(te.FinJurVouchAmount):0,p5:ze(te.FinJurVouchNarration),p6:a,p7:"SetDefaultFinJurnalVoucherID"==t?"SetDefault":null,p8:te.FinLedgerID?te.FinLedgerID:0,p9:v,p10:"SetDefaultFinJurnalVoucherID"==t,p11:localStorage.getItem("userid"),p12:V()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((a=>{(0,m.Z)(l,n,a).then((a=>{const l=a[0].status;200==l.code?(ye.loading(!1),he.AccessRights.IsApproval&&ye.Approval(!0),"SetDefaultFinJurnalVoucherID"==t?(ye.alert({open:!0,color:"success",message:["Default Record Configured"]}),Ze(1,null,"SetDefaultFinJurnalVoucherID",he.token[0])):(ye.alert({open:!0,color:"success",message:[l.message]}),e.createEasy?Ae():(De({type:"PrimaryId",payload:a[0].Data.IDPK}),ye.RefreshTable(),ye.attachmentSave(a[0].Data.IDPK),document.getElementById("FinJurnalVoucherRegistry-MainTable").style.display="block",e.clrImgstate(!0)),De({type:"EditOpen",payload:!1}),De({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttFinJurnalVoucherRegistry")&&(document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.width="0%",document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.display="none",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.width="100%"))):(ye.alert({open:!0,color:"warning",message:[l.message]}),ye.loading(!1))}))}))};(0,l.useEffect)((()=>{H(he.ExpandDetailValue)}),[he.ExpandDetailValue]);const Ze=(t,a,l,n,r,i)=>{const o=f.v.Api+"FP1523S3/",u={data:{p1:null,p2:null,p3:te.FinJurnalVoucherDate?te.FinJurnalVoucherDate:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:"0"==te.FinLedgerID?null:te.FinLedgerID,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:"0"==te.FinGroupID?null:te.FinGroupID,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:t,p25:10,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},c=Object.keys(u.data).slice(0,Object.keys(u.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(u.data).length-8?u.data[t]:null,e)),{});ne(!0);const d={data:c};return(0,p.Z)(o,"ClearAll"==l?d:u,"SetDefaultFinJurnalVoucherID"==l&&n?n:he.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;if(r)return 1==n.length?n[0]:{};ie(1==t?e>0?n:[]:re.concat(n)),"SetDefaultFinJurnalVoucherID"==l&&(e>0?Le(n[0],"SetDefaultFinJurnalVoucherID"):de("NORECORDS")),ne(!1)}else ye.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ne(!1)}))},Oe=(t,a,l)=>{const n=f.v.Api+"FP1523S3/",r={data:{p1:null,p2:"FinJurnalVoucherCode"==l&&a?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:"FinJurVouchAmount"==l&&a?"%"+a+"%":null,p7:"FinJurVouchNarration"==l&&a?"%"+a+"%":null,p8:null,p9:null,p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:t,p25:10,p26:"FinJurnalVoucherID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};ne(!0),(0,p.Z)(n,"ClearAll"==l?i:r,he.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("FinJurVouchNarration"==l&&me(e>0),ie(n)):("FinJurVouchNarration"==l&&me(!0),ie(re.concat(n))),ne(!1)}else ye.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ne(!1)}))},Me=(0,l.useCallback)((async(e,t,a)=>{"text"==a?ae({type:a,name:t,value:e}):"number"==a?ae({type:a,name:t,number:Number(e)}):"boolean"==a?ae({type:a,name:t,boolean:e}):"date"==a?ae({type:"text",name:t,value:e}):"select"==a&&"FinLedgerID"==t&&(ae({type:"text",name:"FinLedgerID",value:e.FinLedgerIDPK?e.FinLedgerIDPK:null}),ae({type:"text",name:"LedgerName",value:e.LedgerName?e.LedgerName:null}))}),[te]);function Ge(t){ye.ConfirmAlert(null),Y(t.IsDraft),e.createEasy||(De({type:"editData",payload:[t]}),De({type:"PrimaryId",payload:t.FinJurnalVoucherIDPK})),ue(Number(t.FinJurnalVoucherIDPK)?Number(t.FinJurnalVoucherIDPK):0),ae({type:"text",name:"FinJurVouchNarration",value:t.FinJurVouchNarration?t.FinJurVouchNarration:""}),ae({type:"text",name:"FinJurnalVoucherCode",value:t.FinJurnalVoucherCode?t.FinJurnalVoucherCode:""}),ae({type:"text",name:"FinJurnalVoucherDate",value:t.FinJurnalVoucherDate?Te(t.FinJurnalVoucherDate):null}),ae({type:"number",name:"FinLedgerID",number:t.FinLedgerID?Number(t.FinLedgerID):0}),ae({type:"text",name:"LedgerName",value:t.LedgerName?t.LedgerName:""}),ae({type:"number",name:"FinJurVouchAmount",number:t.FinJurVouchAmount?Number(t.FinJurVouchAmount):0})}const ze=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:U,onChange:e=>{}},n().createElement(u.Z,null,n().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&n().createElement("span",{style:{cursor:"pointer"}},n().createElement(O.u1R,{className:"backButtonList",onClick:()=>ye.ExpandTable(!0)})),n().createElement("p",{id:"fld1523L3ECListP",className:"ListP",title:"10.0.0.50-10:02:34 AM-10-6[1523]",onClick:()=>he.ExpandTableValue&&H(!U)},oe?"Edit ":"New ",be("1523")," (",he.count,")"),e.createEasy||he.IsCollapse?!e.createEasy&&n().createElement("span",{className:"tooltitle",style:{float:"right"}},n().createElement("div",{id:"fld1523L3ECFullscreen",onClick:()=>{_(!he.IsExPView),ye.ExpandDetail(!he.IsExPView),H(!0)}},n().createElement(B.$4j,{className:"FullSizeIcon1"})),n().createElement("span",{className:"tooltiptext tooltip-top"},"Expand Grid View")):n().createElement("span",{className:"tooltitle",style:{float:"right"}},n().createElement("div",{id:"fld1523L3ECFullScreenExit",onClick:()=>{_(!0),ye.ExpandDetail(!1),H(!0)}},n().createElement(R.qNy,{className:"FullSizeIcon2"})),n().createElement("span",{className:"tooltiptext tooltip-top"},"Collapse Grid View"))),U&&n().createElement("div",{className:"displayFlex EntryHeaderBtn"},he.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(c.Z,{labelPlacement:"bottom",frmctrlid:"fld1523L3ECEntryCheckbox",control:n().createElement(A.Z,{checked:"1"==v,onChange:e=>M(e.target.checked)}),label:Ne(1==v?"Active":"In Active")}))),e.createEasy||oe||!he.AccessRights.IsAdd||!ce&&"NORECORDS"!=ce?!e.createEasy&&!oe&&n().createElement("div",{className:"GridAlignDefault",onClick:()=>{Ze(1,null,"SetDefaultFinJurnalVoucherID",he.token[0])},id:"fld1523L3ECSetDefaultBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Z.j39,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Get Default"))):n().createElement("div",{className:"GridAlignDefault",onClick:()=>{ke("SetDefaultFinJurnalVoucherID")},id:"fld1523L3ECSetDefaultBtnIsAdd"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Z.j39,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Set Default"))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{ye.AttachExpand(!0)},id:"fld1523L3ECAttachment",disableRipple:!0,disabled:!oe},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",null,n().createElement(P.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Attach"))),(e.createEasy||!oe)&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ae()},id:"fld1523L3ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(P.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Reset"))),!e.createEasy&&!oe||"1"===j?he.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,a,l,n,r){if(!(he.count>0))return ye.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...te};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){me(!0),ye.loading(!0),ye.ConfirmAlert(null),De({type:"IsDraft",payload:!1});const a=f.v.Api+"FP1523S1/",l={data:[{p1:"SetDefaultFinJurnalVoucherID"==n?"NORECORDS"!=ce&&ce?ce:0:oe,p2:ze(te.FinJurnalVoucherCode),p3:te.FinJurnalVoucherDate?xe(te.FinJurnalVoucherDate):null,p4:te.FinJurVouchAmount?Number(te.FinJurVouchAmount):0,p5:ze(te.FinJurVouchNarration),p6:r,p7:"SetDefaultFinJurnalVoucherID"==n?"SetDefault":null,p8:te.FinLedgerID?te.FinLedgerID:0,p9:!1,p10:"SetDefaultFinJurnalVoucherID"==n,p11:localStorage.getItem("userid"),p12:V()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:V()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((n=>{(0,m.Z)(a,l,n).then((a=>{const l=a[0].status;200==l.code?(t?ye.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):ye.alert({open:!0,color:"success",message:["Saved to Draft"]}),ye.loading(!1),ye.attachmentSave(a[0].Data.IDPK),Ae(),ye.RefreshTable(),e.clrImgstate(!0)):(ye.alert({open:!0,color:"warning",message:[l.message]}),ye.loading(!1))}))}))}else ye.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}("",0,0,"",!0)},frmctrlid:"fld12L3ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(k.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Draft"))):null,he.AccessRights.IsAdd?n().createElement(D.Z,{name:oe?"Update":"Save",disabled:!1,frmctrlid:"fld1523L3ECSaveBtnIsAdd",onClick:()=>{Re()}}):he.AccessRights.IsEdit&&oe&&n().createElement(D.Z,{name:oe?"Update":"Save",disabled:!1,frmctrlid:"fld1523L3ECSaveBtn",onClick:()=>{Re()}}),!e.createEasy&&oe?n().createElement(s.Z,{className:"L1AddBtnCommon",disabled:!1,frmctrlid:"fld1523L3ECCloseBtn",onClick:()=>{ye.detailview(!0,oe)}}):null))),n().createElement(o.Z,null,he.AccessRights.IsAdd?null:he.AccessRights.IsEdit?!he.PrimaryId&&n().createElement("div",{className:"divdisable"}):n().createElement("div",{className:"divdisable"}),n().createElement("div",{id:"FinJurnalVoucherRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"FinJurnalVoucherRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"FinJurnalVoucherRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(S.Z,null,n().createElement(N.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(g.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(w.Z,{style:{padding:"5px 20px 15px"}},n().createElement(g.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(C.Z,{"data-testid":te.FinJurVouchNarration,json:T,SPName:"FinJurnalVoucherRegistry",FieldName:"FinJurVouchNarration",tfLabel:be("FinJurVouchNarration"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{ye.ConfirmAlert(n().createElement(E(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ge(e),onCancel:()=>ye.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ne("Yes"),cancelBtnText:Ne("No"),showCancel:!0},Ne("Do you want to update this record?")))})(t),onClick:()=>{se&&Oe(1,"","ClearAll"),me(!0)},frmctrlid:"fld1523_39756",frmctrlidName:"FinJurVouchNarration",fieldorder:"0",data:re,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:re.length>0?re[0].TotalCount:0,onChange:(e,t)=>{se&&Oe(e,t,"FinJurVouchNarration"),Me(t,"FinJurVouchNarration","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:te.FinJurVouchNarration,loading:le,clear:e=>{e&&(ae({type:"text",name:"FinJurVouchNarration",value:""}),me(!0))}}))))),n().createElement(S.Z,null,n().createElement(N.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(g.Z,null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(w.Z,{style:{padding:"5px 20px 15px"}},n().createElement(g.Z,{spacing:2},n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(d.Z,{json:T,"data-testid":te.FinJurnalVoucherCode,SPName:"FinJurnalVoucherRegistry",FieldName:"FinJurnalVoucherCode",tfLabel:be("FinJurnalVoucherCode"),frmctrlid:"fld1523_39753",fieldorder:"1",onChange:e=>{Me(e,"FinJurnalVoucherCode","text")},clear:e=>{e&&ae({type:"text",name:"FinJurnalVoucherCode",value:""})},value:te.FinJurnalVoucherCode})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(h.Z,{value:te.FinJurnalVoucherDate,"data-testid":te.FinJurnalVoucherDate,disabled:!1,onChange:e=>{Me(e,"FinJurnalVoucherDate","date")},onErr:e=>{ge(e)},label:be("FinJurnalVoucherDate"),frmctrlid:"fld1523_39754",frmctrlidName:"FinJurnalVoucherDate",fieldorder:"2"})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(C.Z,{json:T,id:te.FinLedgerID,"data-testid":te.FinLedgerID,value:te.LedgerName,SPName:"FinJurnalVoucherRegistry",FieldName:"FinLedgerID",tfLabel:be("FinLedgerID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Me(e,"FinLedgerID","select"),onChange:(e,t)=>{Ze(e,t,"FinLedgerIDPK")},KeyBack:e=>{!function(e){if(!te.FinLedgerID)return!1;ae({type:"text",name:"FinLedgerID",value:null})}()},fieldorder:"3",data:re,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:re.length>0?re[0].TotalCount:0,openSlide:()=>{CreateEasy("673",he,De,ye,Ie)},Tabledialog:()=>(AdvanceSearch("673","FinLedgerID",x.FinJurnalVoucherRegistryContext,(0,x.ContextApi)(),Me,t),!1),loading:le,clear:e=>{e&&function(e){if(!te.FinLedgerID)return!1;ae({type:"text",name:"FinLedgerID",value:null}),ae({type:"text",name:"LedgerName",value:""}),document.getElementById("FinJurnalVoucherRegistryLedgerNameClear")&&document.getElementById("FinJurnalVoucherRegistryLedgerNameClear").click()}()}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(d.Z,{json:T,"data-testid":te.FinJurVouchAmount,SPName:"FinJurnalVoucherRegistry",FieldName:"FinJurVouchAmount",tfLabel:be("FinJurVouchAmount"),frmctrlid:"fld1523_39755",fieldorder:"4",onChange:e=>{Me(e,"FinJurVouchAmount","number")},clear:e=>{e&&ae({type:"number",name:"FinJurVouchAmount",number:0})},Iscurr:!0,value:te.FinJurVouchAmount})))))),n().createElement("div",{id:"FinJurnalVoucherRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("FinJurnalVoucherRegistrySideBar").style.width="0",void W(!1))},""),$&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},X))))))))}))},24448:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>F,FinJurnalVoucherRegistryContext:()=>D,default:()=>E});var l=a(92950),n=a.n(l),r=a(45237),i=a(58227),o=a(83557),u=a(11701),c=a(67698),d=a(55995),s=a(26537),m=(a(35131),a(45965)),p=a(73668),g=(a(37274),a(9175)),y=a.n(g),h=a(46773);const D=(0,l.createContext)();function F(){const e=n().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const E=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),g=(0,l.useRef)(),E=(0,l.useRef)(),I=(0,l.useRef)(),f=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[v,V]=(0,l.useState)([]),[C,J]=(0,l.useState)(0),[S,w]=n().useReducer(p.I,p.E),[N,b]=(0,l.useState)(!1),[T,x]=(0,l.useState)(!1),[L,A]=(0,l.useState)(!1),[R,B]=(0,l.useState)(!1),[P,k]=(0,l.useState)(!0),[Z,O]=(0,l.useState)(!0),[M,G]=(0,l.useState)(!1),[z,K]=(0,l.useState)(!1),[_,U]=(0,l.useState)(),[H,j]=(0,l.useState)(0),[Y,$]=(0,l.useState)(!0),[W,q]=(0,l.useState)(!0),[Q,X]=(0,l.useState)([]),ee=(0,l.useRef)(),[te,ae]=(0,l.useState)({}),[le,ne]=(0,l.useState)([]),[re,ie]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="35%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="65%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(w({type:"editData",payload:[e.editData]}),w({type:"ShowDetail",payload:!0}))}),[e.editData]);const oe=e=>{S.IsCollapse?(document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="50%",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.width="0%",document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.display="none"):(document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.width="0%",document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.display="none",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{f((e=>{(0,s.Z)(1).then((e=>{var t=new Array;t.push(e),w({type:"token",payload:t}),J(t.length),ue(e)}))}))}),[]);const ue=e=>{(0,m.Z)(e,1523).then((e=>w({type:"AccessRights",payload:e})))};return n().createElement("div",null,n().createElement(D.Provider,{value:{cstate:S,cdispatch:w,ContextApi:F,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>{return w({type:"ExpandTableValue",payload:t=e}),void(t?(w({type:"IsExPView",payload:!0}),w({type:"IsCollapse",payload:!1}),document.getElementById("FinJurnalVoucherRegistry-MainTable").style.display="block",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.margin="0",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.margin="0",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="none",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayGrid"),w({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttFinJurnalVoucherRegistry")&&(document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.width="0%",document.getElementById("overlayPreviewFinJurnalVoucherRegistry").style.width="0%",document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.display="none")):(w({type:"IsExPView",payload:!1}),w({type:"IsCollapse",payload:!0}),document.getElementById("divFinJurnalVoucherRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="35%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="65%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayGrid"),w({type:"ExpandDetailValue",payload:!0})));var t},viewtoggle:()=>{S.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>{var t;(t=e)?(S.IsExPView?(w({type:"ExpandTableValue",payload:!t}),w({type:"IsExPView",payload:!0}),w({type:"IsCollapse",payload:!0}),document.getElementById("divFinJurnalVoucherRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="35%",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.display="none",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="65%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayGrid")):(w({type:"ExpandTableValue",payload:t}),w({type:"IsExPView",payload:!1}),w({type:"IsCollapse",payload:!1}),document.getElementById("divFinJurnalVoucherRegistry-Entry").style.margin="0",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.margin="0",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayGrid")),w({type:"ExpandDetailValue",payload:!0})):(S.IsExPView&&w({type:"IsExPView",payload:!1}),w({type:"ExpandTableValue",payload:t}),w({type:"IsCollapse",payload:!0}),w({type:"ExpandDetailValue",payload:!0}),document.getElementById("divFinJurnalVoucherRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="35%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="65%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayGrid"))},AttachExpand:e=>(g.current.AttachmentData(S.PrimaryId),void(S.ExpandTableValue?(document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.width="41%",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.display="block"):(document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="40%",document.getElementById("divFinJurnalVoucherRegistry-Entry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.width="41%",document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.display="block"))),RefreshTable:()=>I.current.tableRefresh(),floatRefresh:()=>ee.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttFinJurnalVoucherRegistry").style.display="none",attachmentSave:e=>{E.current.tempsave(e,le),ne([])},detailview:(e,t)=>{I.current.viewrecord(t),w({type:"ShowDetail",payload:e}),w({type:"EditOpen",payload:!0}),S.ShowDetail&&a.current.viewtoggle()},clear:e=>{S.ShowDetail&&(w({type:"ShowDetail",payload:!1}),w({type:"editData",payload:[]}))},edit:e=>{t.current.ScreenValue(e)},ShowTableDiv:()=>w({type:"ShowDetail",payload:!1})}},n().createElement("div",{id:"FinJurnalVoucherRegistry-MainDiv",className:"MainDivStyles displayFlex"},!S.ExpandTableValue&&n().createElement("div",{id:"FinJurnalVoucherRegistry-MainTable",className:"Maincontent"},0!==C?n().createElement(i.default,{ref:I}):null),n().createElement("div",{id:"FinJurnalVoucherRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"87vh",borderLeft:"1px solid rgb(226, 231, 235)"}},S.ShowDetail?n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divFinJurnalVoucherRegistry-Entry",style:{width:"100%"}},n().createElement(o.default,{ref:a}),n().createElement(h.ZP,{loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:S.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),n().createElement(d.Z,{ref:E,menurefID:1523,fileId:"LogoImgFinJurnalVoucherRegistry",imgloading:e=>U(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewFinJurnalVoucherRegistry",AccessRights:S.AccessRights,frmctrlid:"PvwIm_1523_L3_",tempImg:e=>{S.PrimaryId?g.current.AttachmentData(S.PrimaryId):g.current.tempImg(e),ne(e)},clearTempData:S.Add})),n().createElement(c.Z,{ImgAttachment:e=>oe(),menurefID:1523,fileId:"AttImgFinJurnalVoucherRegistry",imgid:"overlayimgAttFinJurnalVoucherRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewFinJurnalVoucherRegistry",ref:g,imgloading:_,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1523_L3_",timglist:e=>E.current.timglist(e),clearTempData:S.Add})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divFinJurnalVoucherRegistry-Entry",style:{width:"100%"}},n().createElement(u.default,{ref:t,clrImgstate:e=>g.current.clrImgstate(e)}),n().createElement(h.ZP,{loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:S.editData,AddOpen:S.EditOpen,parentId:S.PrimaryId,IsDraft:S.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:S.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),n().createElement(d.Z,{ref:E,menurefID:1523,fileId:"LogoImgFinJurnalVoucherRegistry",imgloading:e=>U(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>g.current.AttachmentData(e),previd:"overlayPreviewFinJurnalVoucherRegistry",frmctrlid:"PvwIm_1523_L3_",tempImg:e=>{S.PrimaryId?g.current.AttachmentData(S.PrimaryId):g.current.tempImg(e),ne(e)},clearTempData:S.Add})),n().createElement(c.Z,{ImgAttachment:e=>oe(),menurefID:1523,fileId:"AttImgFinJurnalVoucherRegistry",imgid:"overlayimgAttFinJurnalVoucherRegistry",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{E.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewFinJurnalVoucherRegistry",ref:g,imgloading:_,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1523_L3_",timglist:e=>E.current.timglist(e),clearTempData:S.Add}))),S.ExpandTableValue&&n().createElement("div",{id:"FinJurnalVoucherRegistry-MainTable",className:"Maincontent"},0!==C?n().createElement(i.default,{ref:I}):null),n().createElement("div",{id:"FinJurnalVoucherRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}})),re&&n().createElement(y(),{openDialog:re,closeDialog:e=>ie(e),formID:1523,PrimID:S.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},58227:(e,t,a)=>{a.r(t),a.d(t,{FinJurnalVoucherRegistryPopUpTable:()=>z,default:()=>G}),a(95866);var l=a(92950),n=a.n(l),r=a(45237),i=a(36939),o=a(61201),u=a(50743),c=a(59009),d=a(80366),s=a(51673),m=a(93294),p=a(54180),g=a(47516),y=a(39327),h=(a(14439),a(27848),a(42258),a(40900)),D=(a(83032),a(44117),a(24448)),F=a(43031),E=a(110),I=a(88995),f=a(5109),v=a(61657),V=a(868),C=a(24038),J=a(51209),S=a(8981),w=a(80471),N=a(86893),b=a(53854),T=a(37106),x=a(5434),L=a(51649),A=a(93521),R=a(46773),B=a(71168),P=a.n(B),k=a(65107),Z=a(79352),O=a(94986),M=a(15999);a(11557),window.clickFilter="";const G=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),B=((0,l.useRef)(null),(0,l.useRef)(null)),[G]=((0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[z]=(0,l.useState)("1523"),[K,_]=(0,l.useState)(!1),[U,H]=(0,l.useState)(!1),[j,Y]=(0,l.useState)(0),[$,W]=(0,l.useState)(0),[q,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,ne]=(0,l.useState)([]),[re,ie]=(0,l.useState)({val:"",column:""}),[oe,ue]=(0,l.useState)([]),[ce,de]=(0,l.useState)(!1),[se,me]=(0,l.useState)(""),[pe,ge]=(0,l.useState)(""),[ye,he]=(0,l.useState)(!1),[De,Fe]=(0,l.useState)(!1),[Ee,Ie]=(0,l.useState)([]),[fe,ve]=(0,l.useState)([]),[Ve,Ce]=(0,l.useState)([]),[Je,Se]=(0,l.useState)(!1),we=(0,l.useContext)(e.context?e.context:D.FinJurnalVoucherRegistryContext),{cstate:Ne,cdispatch:be}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Te,xe]=(0,l.useState)({children:[{name:"FinJurnalVoucherRegistry",children:[]}]}),[Le,Ae]=(0,l.useState)(!1);let Re={FinJurnalVoucherIDPK:"",FinJurnalVoucherCode:"",FinJurnalVoucherDate:"",FinJurnalVoucherDateType:"",FinJurnalVoucherDateBetween:"",FinJurVouchAmount:"",FinJurVouchNarration:"",IsDraft:"",Remarks:"",FinLedgerID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FinGroupID:"",Description:"",GroupCode:"",GroupName:"",LedgerCode:"",LedgerName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Be,Pe]=(0,l.useState)(Re),[ke,Ze]=(0,l.useState)(Re),[Oe,Me]=(0,l.useState)(Re),[Ge,ze]=(0,l.useState)(Re),[Ke,_e]=(0,l.useState)("asc"),[Ue,He]=(0,l.useState)(""),[je,Ye]=(0,l.useState)(!1),[$e,We]=(0,l.useState)(!0),[qe,Qe]=(0,l.useState)(!1),[Xe,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)(0),[lt,nt]=(0,l.useState)({FinJurVouchNarration:"",FinJurnalVoucherCode:"",FinJurnalVoucherDate:"",LedgerName:"",FinJurVouchAmount:""}),[rt,it]=(0,l.useState)(!1),[ot,ut]=(0,l.useState)([]),[ct,dt]=(0,l.useState)(0),[st,mt]=(0,l.useState)(0),[pt,gt]=(0,l.useState)({current:1,pageSize:10}),[yt,ht]=(0,l.useState)([]),[Dt,Ft]=(0,l.useState)([]),[Et,It]=(0,l.useState)(!1),[ft]=(0,l.useState)(localStorage.getItem("Language")),[vt]=(0,l.useState)(localStorage.getItem("Language")),[Vt,Ct]=(0,l.useState)(!1),[Jt,St]=P()("1523"),[wt,Nt]=(0,l.useState)({}),bt=[{columns:yt,data:te}];let Tt=(0,S.Z)();const xt=e=>Tt?.[e]?Tt[e]:e,Lt=e=>Ne.language?.[e]?Ne.language[e]:e;(0,l.useEffect)((()=>{kt(Jt)}),[Jt]),(0,l.useEffect)((()=>{Ne.token.length>0&&(Ne.IsDraft?Bt(X,Re,"DraftFinJurnalVoucherID"):Bt(X,Re,"FinJurnalVoucherID"))}),[]),(0,l.useEffect)((()=>{De||Je||Le||!se?De?Ze(se):Je?Me(se):Le&&ze(se):Ne.IsDraft?Bt(X,se,"DraftFinJurnalVoucherID"):Bt(X,se,"FinJurnalVoucherID")}),[se]),(0,l.useEffect)((()=>{!1===e.cardview&&et(e.cardview),e.Dialogview&&H(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Pt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{At()},viewrecord:e=>{oe.map(((t,a)=>{t.FinJurnalVoucherIDPK==e&&be({type:"editData",payload:[oe[a]]})}))}})));const At=()=>{Ne.IsDraft?Bt(X,Re,"DraftFinJurnalVoucherID"):Bt(X,Re,"FinJurnalVoucherID")};function Rt(e){we.loading(!0);let t=h.v.Api+"FP1523S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(t,a,Ne.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,mt(t.Output.data[0].TotalCount)):a=0,10==e.pageSize?dt(Math.ceil(a)):20==e.pageSize?dt(Math.ceil(a/2)):50==e.pageSize?dt(Math.ceil(a/5)):100==e.pageSize&&dt(Math.ceil(a/10)),ut(t.Output.data),we.loading(!1)}}))}const Bt=(t,a,l,n,r,i)=>{we.loading(!0),"DraftPage"!==n&&Ye(Ne.IsDraft);let o=h.v.Api+"FP1523S3/",u={data:{p1:r||(a&&a.FinJurnalVoucherIDPK?a.FinJurnalVoucherIDPK:null),p2:a&&a.FinJurnalVoucherCode?a.FinJurnalVoucherCode:null,p3:a&&a.FinJurnalVoucherDate?a.FinJurnalVoucherDate:null,p4:a&&a.FinJurnalVoucherDateType?a.FinJurnalVoucherDateType:null,p5:a&&a.FinJurnalVoucherDateBetween?a.FinJurnalVoucherDateBetween:null,p6:a&&a.FinJurVouchAmount?a.FinJurVouchAmount:null,p7:a&&a.FinJurVouchNarration?a.FinJurVouchNarration:null,p8:"DraftFinJurnalVoucherID"==l?"1":"0",p9:null,p10:a&&a.FinLedgerID?a.FinLedgerID:null,p11:a&&a.IsActive,p12:null,p13:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p14:a&&a.CreatedTtm?a.CreatedTtm:null,p15:a&&a.CreatedTtmType?a.CreatedTtmType:null,p16:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p17:null,p18:a&&a.FinGroupID?a.FinGroupID:null,p19:a&&a.Description?a.Description:null,p20:a&&a.GroupCode?a.GroupCode:null,p21:a&&a.GroupName?a.GroupName:null,p22:a&&a.LedgerCode?a.LedgerCode:null,p23:a&&a.LedgerName?a.LedgerName:null,p24:r?1:t.current,p25:t.pageSize,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,s.Z)(o,u,Ne.token[0]).then((r=>{if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let a=0;r.Output.data.length>0?(a=parseFloat(r.Output.data[0].TotalCount,10)/10,W(r.Output.data[0].TotalCount),be({type:"count",payload:r.Output.data[0].TotalCount}),Q(r.Output.data[0].DraftCnt),"DraftPage"==n&&Q(r.Output.data[0].TotalCount)):a=0,10==t.pageSize?Y(Math.ceil(a)):20==t.pageSize?Y(Math.ceil(a/2)):50==t.pageSize?Y(Math.ceil(a/5)):100==t.pageSize&&Y(Math.ceil(a/10)),e.Dialogview||(Ne.ExpandTableValue?Ne.ExpandDetailValue?document.getElementById("FinJurnalVoucherRegistry-MainTable").style.display="none":(document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%",document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("FinJurnalVoucherRegistry-MainDiv").classList.add("displayGrid")):(document.getElementById("FinJurnalVoucherRegistry-MainTable").style.width="50%",document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.width="100%"),document.getElementById("divFinJurnalVoucherRegistry-Entry").style.height="auto"),ue(r.Output.data),we.loading(!1)}}else we.loading(!1),"DraftFinJurnalVoucherID"===l?(we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he(!0),Ye(!1)):(ue([]),ee({current:1,pageSize:10}),Y(0),W(0),be({type:"count",payload:0}),Object.values(a).some((e=>e))&&we.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else we.alert({open:!0,color:"warning",message:[r.Output.status.message]}),we.loading(!1)}))};function Pt(e,t){we.loading(!0);const a=h.v.Api+"FP1523S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:je?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(a,l,Ne.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,W(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?Y(Math.ceil(a)):20==t.pageSize?Y(Math.ceil(a/2)):50==t.pageSize?Y(Math.ceil(a/5)):100==t.pageSize&&Y(Math.ceil(a/10)),ue(e.Output.data),we.loading(!1)}else ue([]),Y(0),W(0),be({type:"count",payload:0}),we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1);else we.alert({open:!0,color:"warning",message:[e.Output.status.message]}),we.loading(!1)}))}function kt(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),be({type:"language",payload:Object.assign({},...n)}),nt(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),ve(t),Ce(a),ht(l),Ft(a)}(0,l.useEffect)((()=>{Qe(Ne.ExpandTableValue)}),[Ne.ExpandTableValue]);const Zt=(e,t,a)=>{be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"EditOpen",payload:!1}),be({type:"EditIsDraft",payload:t}),be({type:"ExpandDetailValue",payload:!0}),be({type:"ShowDetail",payload:a}),document.getElementById("FinJurnalVoucherRegistry-MainEntry").style.display="block",document.getElementById("FinJurnalVoucherRegistry-MainTable").style.display="none"},Ot=()=>{ce?(document.getElementById("FinJurnalVoucherRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("FinJurnalVoucherRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("FinJurnalVoucherRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",de(!1),De?(document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Xe?Je?(document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("FinJurnalVoucherRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("FinJurnalVoucherRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("FinJurnalVoucherRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("FinJurnalVoucherRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",de(!0),De?(document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Xe?Je?(document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("FinJurnalVoucherRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),he(!1),window.clickFilter=!ce};return n().createElement("div",null,n().createElement(i.Z,{expanded:$e,onChange:()=>()=>{We(qe)}},n().createElement(u.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},Le||De||!je?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{id:"fld1523L3TCListP",className:"ListP",title:"10.0.0.50-10:02:34 AM-10-6[1523]"},`${Lt("1523")} (${$})`),n().createElement("div",null,!e.Dialogview&&qe?n().createElement(V.ZP,{title:"Collpase Grid View",placement:"top"},n().createElement("div",{id:"fld1523L3TCFullscreenExitIcon",onClick:()=>(Qe(!1),we.ExpandTable(!1),be({type:"IsDraft",payload:!1}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0}),be({type:"editData",payload:[]}),void dispatch({type:"FinJurnalVoucherRegistryFinJurnalVoucherID",FinJurnalVoucherRegistryFinJurnalVoucherID:""}))},n().createElement(w.qNy,{className:"FullSizeIcon2"}))):!e.Dialogview&&n().createElement(V.ZP,{title:"Expand Grid View",placement:"top"},n().createElement("div",{id:"fld1523L3TCTCFullscreenIcon",onClick:()=>(Qe(!0),we.ExpandTable(!0),be({type:"IsDraft",payload:!1}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0}),be({type:"editData",payload:[]}),void dispatch({type:"FinJurnalVoucherRegistryFinJurnalVoucherID",FinJurnalVoucherRegistryFinJurnalVoucherID:""}))},n().createElement(g.$4j,{className:"FullSizeIcon1"}))))):n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("div",{id:"fld1523L3TCList",onClick:()=>{qe||(be({type:"Add",payload:!0}),be({type:"Add",payload:!0})),we.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Bt({current:1,pageSize:100},Re,"FinJurnalVoucherID"),Ye(!1),be({type:"IsDraft",payload:!1})}),500)):(Bt({current:1,pageSize:100},Re,"FinJurnalVoucherID"),Ye(!1),be({type:"IsDraft",payload:!1})),ee({current:1,pageSize:100})}},n().createElement(V.ZP,{title:"List",placement:"top"},n().createElement("div",null,n().createElement(L.u1R,{className:"backButtonList"})))),n().createElement("p",{className:"DraftP"},"Drafts(",$,")")))),n().createElement("div",{style:{width:"40%"}},De||Je||Le?null:n().createElement("div",{className:"searchbar",id:"fld1523L3TCSearchBar"},n().createElement(C.Z,{className:"search_input",type:"text",id:"FinJurnalVoucherRegistrygridsearch",placeholder:"Search",value:pe,onChange:e=>{if(ge(e),"0"==e.length)return Bt(X,Re,je?"DraftFinJurnalVoucherID":"FinJurnalVoucherID",je&&"DraftPage"),!1;Pt(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},pe?n().createElement("div",{id:"fld1523L3TCCloseIcon",onClick:()=>{ge(""),At()}},n().createElement(d.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1523L3TCInputSearchIcon",onClick:()=>{document.getElementById("FinJurnalVoucherRegistrygridsearch").focus()}},n().createElement(I.Z,{className:"InputSearchIcon"}))))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"FinJurnalVoucherRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},qe?n().createElement("div",null,!je&&n().createElement("div",{frmctrlid:"fld1523L3TCFilterDataIsDraft",id:"FinJurnalVoucherRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Ot()},n().createElement(V.ZP,{title:xt("Filter Data"),placement:"top"},n().createElement("div",null,n().createElement(g.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},xt("Filter Data")))):null,e.Dialogview||De||Le||je?null:n().createElement(p.Z,{title:"Journal Voucher",formctrlidprint:"fld1523L3TCExportPrint",formctrlidexport:"fld1523L3TCExportTable",formctrlidrefresh:"fld1523L3TCExportRefresh",data:le,exportData:bt,Items:Dt,columnIndex:yt,TableVisibleItem:fe,userGridViewFormID:z,TableTotalCount:$,triggerApi:e=>{((e,t,l,n,r)=>{if(0===$)return we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;we.loading(!0);let i=h.v.Api+"FP1523S3/",o={data:{p1:e&&e.FinJurnalVoucherIDPK?e.FinJurnalVoucherIDPK:null,p2:e&&e.FinJurnalVoucherCode?e.FinJurnalVoucherCode:null,p3:e&&e.FinJurnalVoucherDate?e.FinJurnalVoucherDate:null,p4:e&&e.FinJurnalVoucherDateType?e.FinJurnalVoucherDateType:null,p5:e&&e.FinJurnalVoucherDateBetween?e.FinJurnalVoucherDateBetween:null,p6:e&&e.FinJurVouchAmount?e.FinJurVouchAmount:null,p7:e&&e.FinJurVouchNarration?e.FinJurVouchNarration:null,p8:je?"1":"0",p9:null,p10:e&&e.FinLedgerID?e.FinLedgerID:null,p11:e&&e.IsActive,p12:null,p13:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p14:e&&e.CreatedTtm?e.CreatedTtm:null,p15:e&&e.CreatedTtmType?e.CreatedTtmType:null,p16:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p17:null,p18:e&&e.FinGroupID?e.FinGroupID:null,p19:e&&e.Description?e.Description:null,p20:e&&e.GroupCode?e.GroupCode:null,p21:e&&e.GroupName?e.GroupName:null,p22:e&&e.LedgerCode?e.LedgerCode:null,p23:e&&e.LedgerName?e.LedgerName:null,p24:X.current,p25:$,p26:je?"DraftFinJurnalVoucherID":"FinJurnalVoucherID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};we.loading(!1),we.alert({open:!0,color:"success",message:[`${Lt(1523)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,s.Z)(i,o,Ne.token[0],r).then((e=>{(0,A.PDF_Excel_Generate)(e,we,Dt,ae,a,r)}))})(se,re.column,0,0,e)},Refresh:()=>{ge(""),B.current&&B.current.clearItem(),ee({current:1,pageSize:100}),Ne.IsDraft?Bt({current:1,pageSize:100},Re,"DraftFinJurnalVoucherID"):Bt({current:1,pageSize:100},Re,"FinJurnalVoucherID")},disabledPrint:!Ne.AccessRights.IsPrint,disabledExport:!Ne.AccessRights.IsExport,ref:a,iconinfo:qe?"iconinfo":"displayNone"}),!e.Dialogview&&qe?n().createElement("div",{id:"fld4L3TCMore",className:"buttoncard",onClick:()=>Ct(!Vt)},n().createElement("span",null,Vt?n().createElement(V.ZP,{title:"Less",placement:"top"},n().createElement("span",{id:"fld1523L3TCLess"},n().createElement(b.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(V.ZP,{title:"More",placement:"top"},n().createElement("span",{id:"fld1523L3TCMore"},n().createElement(b.ilJ,{className:"tableFilterColumnIcon"}))))):!e.Dialogview&&n().createElement(c.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},n().createElement("div",{id:"fld1523L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){qe||(be({type:"Add",payload:!0}),be({type:"Add",payload:!0})),we.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Bt({current:1,pageSize:100},Re,"DraftFinJurnalVoucherID"),Ye(!0),be({type:"IsDraft",payload:!0}),he(!1),et(!0),Fe(!1),Se(!1)}),500)):(at(0),Bt({current:1,pageSize:100},Re,"DraftFinJurnalVoucherID"),Ye(!0),be({type:"IsDraft",payload:!0}),he(!1),et(!0),Fe(!1),Se(!1)),document.getElementById("FinJurnalVoucherRegistryFilterDiv").style.width="0%",document.getElementById("FinJurnalVoucherRegistryTabDiv").style.width="100%",document.getElementById("FinJurnalVoucherRegistryFilterDiv").style.display="none"}else we.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},q>0&&n().createElement(V.ZP,{title:"Drafts",placement:"top"},n().createElement("div",null,n().createElement(T.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:qe?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))),Vt?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},De||Je||Le||!qe?null:!je&&Ne.AccessRights.IsAdd&&n().createElement("div",null,n().createElement("div",{id:"FinJurnalVoucherRegistrycoldiv",frmctrlid:"fld1523L3TCFilterDataIsAdd",className:"buttoncard",onClick:()=>{ye?(document.getElementById("FinJurnalVoucherRegistryFilterDiv").style.width="0%",document.getElementById("FinJurnalVoucherRegistryTabDiv").style.width="100%",document.getElementById("FinJurnalVoucherRegistryFilterDiv").style.display="none",document.getElementById("FinJurnalVoucherRegistrycoldiv").style.width="fit-content",document.getElementById("FinJurnalVoucherRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",he(!1)):(document.getElementById("FinJurnalVoucherRegistryFilterDiv").style.width="25%",document.getElementById("FinJurnalVoucherRegistryTabDiv").style.width="75%",document.getElementById("FinJurnalVoucherRegistryFilterDiv").style.display="block",document.getElementById("FinJurnalVoucherRegistryfildiv").style.width="fit-content",document.getElementById("FinJurnalVoucherRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("FinJurnalVoucherRegistrycoldiv").style.width="fit-content",document.getElementById("FinJurnalVoucherRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",he(!0)),de(!1)}},n().createElement(V.ZP,{title:"Manage Columns",placement:"top"},n().createElement("div",null,n().createElement(y.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},xt("Manage Columns")))),!je&&K&&!De&&!Le&&!U&&qe&&n().createElement("div",{id:"fld1523L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},n().createElement(V.ZP,{title:xt("Migration"),placement:"top"},n().createElement("div",null,n().createElement(Z.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},xt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!U&&qe&&!Le&&!De&&n().createElement("div",{id:"FinJurnalVoucherRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{rt?it(!1):(it(!0),Rt({current:1,pageSize:100}))}},n().createElement(V.ZP,{title:xt("Table Scroll Data"),placement:"top"},n().createElement("div",{id:"fld1523L3TCTableScrollData"},n().createElement(M.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},xt("Table Scroll Data"))),Ne.AccessRights.IsAdd&&!Le&&!De&&!je&&n().createElement(c.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},n().createElement("div",{id:"fld12L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){qe||(be({type:"Add",payload:!0}),be({type:"Add",payload:!0})),we.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Bt({current:1,pageSize:100},Re,"DraftFinJurnalVoucherID"),Ye(!0),be({type:"IsDraft",payload:!0}),he(!1),et(!0),Fe(!1),Se(!1)}),500)):(Bt({current:1,pageSize:100},Re,"DraftFinJurnalVoucherID"),Ye(!0),be({type:"IsDraft",payload:!0}),he(!1),et(!0),Fe(!1),Se(!1)),document.getElementById("AdminLocalityRegistryFilterDiv").style.width="0%",document.getElementById("AdminLocalityRegistryTabDiv").style.width="100%",document.getElementById("AdminLocalityRegistryFilterDiv").style.display="none"}else we.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},n().createElement(V.ZP,{title:"Drafts",placement:"top"},n().createElement("div",null,n().createElement(T.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:qe?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))))):""),De||Je||Le||je?null:n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Le||je?null:n().createElement("div",null,qe&&n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{id:"fld1523L3TCListView",className:Xe?"buttonList":"buttonGrid",onClick:()=>{et(!0),It(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(b.umT,null)),n().createElement("span",null,"List")),n().createElement("div",{id:"fld1523L3TCGridView",className:Xe||Et?"buttonGrid":"buttonList",onClick:()=>{et(!1),It(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(N.aCJ,null)),n().createElement("span",null,"Card")),n().createElement("div",{className:Et?"buttonList":"buttonGrid",id:"fld1523L3TCTileView",onClick:()=>{It(!0),et(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(x.f_H,null)),n().createElement("span",null,"Tile")))))),De||Je||Le?null:qe?rt?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(F.Z,{count:ct,color:"primary",page:pt.current,onChange:(e,t)=>{gt({current:t,pageSize:pt.pageSize}),dt(t),Rt({current:t,pageSize:pt.pageSize})}}),n().createElement("div",null,n().createElement(E.Z,{value:pt.pageSize,frmctrlid:"fld1523L3TCSelectPagination",onChange:e=>{gt({current:1,pageSize:e.target.value}),Rt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),qe&&n().createElement("p",{className:"per-page"},"/ per page Of (",st,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(F.Z,{count:j,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),je)Bt({current:t,pageSize:X.pageSize},se,"DraftFinJurnalVoucherID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";pe.length>0?Pt(pe,{current:t,pageSize:X.pageSize}):Bt({current:t,pageSize:X.pageSize},se,"FinJurnalVoucherID")}}}),n().createElement("div",null,n().createElement(E.Z,{value:X.pageSize,frmctrlid:"fld1523L3TCSelectPagination",onChange:e=>{ee({current:1,pageSize:e.target.value}),je?Bt({current:1,pageSize:e.target.value},Be,"DraftFinJurnalVoucherID","DraftPage"):pe.length>0?Pt(pe,{current:1,pageSize:e.target.value}):Bt({current:1,pageSize:e.target.value},Be,"FinJurnalVoucherID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),qe&&n().createElement("p",{className:"per-page "},"/ per page Of (",$,") ")):n().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},n().createElement(v.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number($),page:tt,onPageChange:(e,t)=>{at(t),Bt({current:t+1,pageSize:X.pageSize},Re,je?"DraftFinJurnalVoucherID":"FinJurnalVoucherID",je&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{at(0)}}))),n().createElement("div",{id:"FinJurnalVoucherRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},n().createElement("div",{id:"FinJurnalVoucherRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&n().createElement(m.default,{CloseBtnClk:()=>Ot(),searchData:e=>{me(e||wt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));setFilteredObj(t)},formID:z,data:()=>{},visibleData:()=>{},token:Ne.token[0],userGrid:Jt,msg:(e,t)=>we.alert({open:!0,color:t,message:[e]})}),ye&&!De&&!Je&&n().createElement(f.Z,{frmctrlid:"fld1523L3TCTableColumnOrder",loading:e=>we.loading(e),AltMsg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),select:ye,userID:G,userGridViewFormID:z,saved:(e,t)=>{e&&kt(t),St(t)},Token:Ne.token[0]})),n().createElement("div",{id:"FinJurnalVoucherRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},Xe&&qe?n().createElement("div",null,De&&n().createElement(ListComponent,{onLoad:De,data:(e,t)=>{!function(e,t){be({type:"editData",payload:[e]}),de(!1),document.getElementById("FinJurnalVoucherRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("FinJurnalVoucherRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("FinJurnalVoucherRegistry-ShareView").classList.remove("ViewBtnAct"),Fe(!1),Se(!1),Ae(!1);let a={FinJurVouchNarration:"",FinJurnalVoucherCode:"",FinJurnalVoucherDate:"",FinLedgerID:"",FinJurVouchAmount:""};Pe(a),Bt({current:1,pageSize:100},a,"FinJurnalVoucherID")}(e)},json:ke}),!De&&!Le&&n().createElement("div",null,rt?n().createElement(O.Z,{data:ot,expanded:()=>{},edit:(e,t,a)=>{Zt(e,t,a),we.ExpandTable(!1),be({type:"EditIsDraft",payload:t}),be({type:"EditOpen",payload:!1})}}):n().createElement(k.Z,{ref:B,frmctrlid:"tblcs_1523_L3_",id:"FinJurnalVoucherRegistry-MainTable",headerdata:qe?fe:fe.slice(0,3),tablesearchparams:lt,searchvalue:e=>{nt(e),me(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Nt(t),ee({current:1,pageSize:10}),Bt({current:1,pageSize:10},t,je?"DraftFinJurnalVoucherID":"FinJurnalVoucherID",je&&"DraftPage")},bodydata:oe,ondrag:(e,t)=>{Zt(t,je,!0)},bodyitem:qe?Ve:Ve.slice(0,3),visibleitem:qe?fe:fe.slice(0,3),isdraft:je,IsView:!0,tableExp:qe,tableID:z,accessrights:Ne.AccessRights,expanded:()=>{},edit:(t,a,l)=>{e.Dialogview?we.select(t):Zt(t,a,l)},viewtoggle:we.viewtoggle,isexpanded:!U||qe,action:e.Dialogview?"none":"",ViewComp:(e,t)=>{if(e)return n().createElement(R.ZP,{loading:e=>we.loading(e),alertmsg:e=>we.alert(e),ConfirmAlert:e=>{we.ConfirmAlert(e)},data:Ne.editData,AddOpen:Ne.EditOpen,parentId:t.FinJurnalVoucherIDPK,IsDraft:Ne.EditIsDraft,tableview:e})}}))):n().createElement(J.Z,{frmctrlid:"fld1523L3TCExpandedCardDual",data:oe,id:"FinJurnalVoucherRegistry",title:"FinJurnalVoucherCode",cardTile:!!Et,visibleitem:fe,gridCountmdlg:qe?4:12,gridCountxssm:qe?6:12,onDoubleClick:(e,t)=>{U?we.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:je}),be({type:"ShowDetail",payload:!1}),we.ExpandTable(!1)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:je}),be({type:"ShowDetail",payload:!0}),we.ExpandTable(!1),we.viewtoggle()),qe&&(de(!1),he(!1)))}})))))))})),z=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),c=(0,l.useRef)(null),d=(0,l.useRef)(null),[m]=((0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[g,y]=P()("1523"),[I,f]=(0,l.useState)(!1),[v,V]=(0,l.useState)(0),[C,J]=(0,l.useState)(0),[w,N]=(0,l.useState)({current:1,pageSize:100}),[b,T]=(0,l.useState)(""),[x,L]=(0,l.useState)([]),[R,B]=(0,l.useState)({val:"",column:""}),[Z,O]=(0,l.useState)([]),[M,G]=(0,l.useState)(!1),[z,K]=(0,l.useState)(""),[_,U]=(0,l.useState)([]),[H,j]=(0,l.useState)([]),[Y,$]=(0,l.useState)([]),W=(0,l.useContext)(D.FinJurnalVoucherRegistryContext),{cstate:q,cdispatch:Q}=(0,D.ContextApi)();let X={FinJurnalVoucherIDPK:"",FinJurnalVoucherCode:"",FinJurnalVoucherDate:"",FinJurnalVoucherDateType:"",FinJurnalVoucherDateBetween:"",FinJurVouchAmount:"",FinJurVouchNarration:"",IsDraft:"",Remarks:"",FinLedgerID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FinGroupID:"",Description:"",GroupCode:"",GroupName:"",LedgerCode:"",LedgerName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ne,re]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(!0),[ue,ce]=(0,l.useState)(0),[de,se]=(0,l.useState)({FinJurVouchNarration:"",FinJurnalVoucherCode:"",FinJurnalVoucherDate:"",LedgerName:"",FinJurVouchAmount:""}),[me,pe]=(0,l.useState)([]),[ge,ye]=(0,l.useState)([]),[he,De]=(0,l.useState)([]),[Fe,Ee]=(0,l.useState)(!1),[Ie,fe]=(0,l.useState)("");let ve=(0,S.Z)();const Ve=[{columns:me,data:b}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),Q({type:"language",payload:Object.assign({},...n)}),se(a.reduce(((e,t)=>(e[t]="",e)),{})),U(e),j(t),$(a),pe(l),ye(a)}(g)}),[g]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ce()},viewrecord:e=>{Z.map(((t,a)=>{t.FinJurnalVoucherIDPK==e&&Q({type:"editData",payload:[Z[a]]})}))},DialogTableProps:e=>{f(e)},searchData:(t,a,l)=>{W.loading(!0),c.current&&c.current.clearItem(),fe(l),N({current:1,pageSize:10}),X=e.ApiParamType.params,Je({current:1,pageSize:100},a,l),d.current&&d.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&f(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ce=()=>{q.IsDraft?Je(w,X,"DraftFinJurnalVoucherID"):Je(w,X,"FinJurnalVoucherID")},Je=async(t,a,l,n)=>{if(q.token[0]){if(W.loading(!0),"DraftPage"!==n&&te(q.IsDraft),await fe((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],n=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=n[e];a=t}K(a);let r=h.v.Api+`${e.ApiType}/`,i={data:{p1:a&&a.FinJurnalVoucherIDPK?a.FinJurnalVoucherIDPK:null,p2:a&&a.FinJurnalVoucherCode?a.FinJurnalVoucherCode:null,p3:a&&a.FinJurnalVoucherDate?a.FinJurnalVoucherDate:null,p4:a&&a.FinJurnalVoucherDateType?a.FinJurnalVoucherDateType:null,p5:a&&a.FinJurnalVoucherDateBetween?a.FinJurnalVoucherDateBetween:null,p6:a&&a.FinJurVouchAmount?a.FinJurVouchAmount:null,p7:a&&a.FinJurVouchNarration?a.FinJurVouchNarration:null,p8:"DraftFinJurnalVoucherID"==l?"1":"0",p9:null,p10:a&&a.FinLedgerID?a.FinLedgerID:null,p11:a&&a.IsActive,p12:null,p13:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p14:a&&a.CreatedTtm?a.CreatedTtm:null,p15:a&&a.CreatedTtmType?a.CreatedTtmType:null,p16:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p17:null,p18:a&&a.FinGroupID?a.FinGroupID:null,p19:a&&a.Description?a.Description:null,p20:a&&a.GroupCode?a.GroupCode:null,p21:a&&a.GroupName?a.GroupName:null,p22:a&&a.LedgerCode?a.LedgerCode:null,p23:a&&a.LedgerName?a.LedgerName:null,p24:t.current,p25:t.pageSize,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,s.Z)(r,i,q.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?V(Math.ceil(a)):20==t.pageSize?V(Math.ceil(a/2)):50==t.pageSize?V(Math.ceil(a/5)):100==t.pageSize&&V(Math.ceil(a/10)),O(e.Output.data)}}else W.alert({open:!0,color:"warning",message:[(a="There is no Record Found",ve?.[a]?ve[a]:a)]}),O([]),V(0),J(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{re(q.ExpandTableValue)}),[q.ExpandTableValue]),n().createElement("div",null,n().createElement(i.Z,{expanded:ae,onChange:()=>()=>{le(ne)}},n().createElement(u.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",C,")")))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"FinJurnalVoucherRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(p.Z,{formctrlidprint:"fld1523L3TCExportPrint",formctrlidexport:"fld1523L3TCExportTable",formctrlidrefresh:"fld1523L3TCExportRefresh",title:"1523",data:x,exportData:Ve,Items:ge,columnIndex:me,triggerApi:t=>{((t,l,n)=>{if(0===C)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let r=h.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.FinJurnalVoucherIDPK?t.FinJurnalVoucherIDPK:null),p2:t&&t.FinJurnalVoucherCode?t.FinJurnalVoucherCode:null,p3:t&&t.FinJurnalVoucherDate?t.FinJurnalVoucherDate:null,p4:t&&t.FinJurnalVoucherDateType?t.FinJurnalVoucherDateType:null,p5:t&&t.FinJurnalVoucherDateBetween?t.FinJurnalVoucherDateBetween:null,p6:t&&t.FinJurVouchAmount?t.FinJurVouchAmount:null,p7:t&&t.FinJurVouchNarration?t.FinJurVouchNarration:null,p8:ee?"1":"0",p9:null,p10:t&&t.FinLedgerID?t.FinLedgerID:null,p11:t&&t.IsActive,p12:null,p13:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p14:t&&t.CreatedTtm?t.CreatedTtm:null,p15:t&&t.CreatedTtmType?t.CreatedTtmType:null,p16:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p17:null,p18:t&&t.FinGroupID?t.FinGroupID:null,p19:t&&t.Description?t.Description:null,p20:t&&t.GroupCode?t.GroupCode:null,p21:t&&t.GroupName?t.GroupName:null,p22:t&&t.LedgerCode?t.LedgerCode:null,p23:t&&t.LedgerName?t.LedgerName:null,p24:1,p25:C,p26:Ie,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};var o;W.loading(!1),W.alert({open:!0,color:"success",message:[`${o="1523",q.language?.[o]?q.language[o]:o} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,s.Z)(r,i,q.token[0],n).then((e=>{(0,A.PDF_Excel_Generate)(e,W,ge,T,a,n)}))})(z,R.column,t)},TableVisibleItem:H,userGridViewFormID:"1523",TableTotalCount:C,Refresh:()=>{Je({current:1,pageSize:100},z,Ie),N({current:1,pageSize:100}),d.current&&d.current.clearItem(),c.current&&c.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:a})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(F.Z,{count:v,siblingCount:0,color:"primary",page:w.current,onChange:(e,t)=>{if(N({current:t,pageSize:w.pageSize}),ee)Je({current:t,pageSize:w.pageSize},z,"DraftFinJurnalVoucherID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Je({current:t,pageSize:w.pageSize},z,"FinJurnalVoucherID")}}}),n().createElement("div",null,n().createElement(E.Z,{value:w.pageSize,onChange:e=>{N({current:1,pageSize:e.target.value}),Je({current:1,pageSize:e.target.value},z,"FinJurnalVoucherID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",C,")"))),n().createElement("div",{id:"FinJurnalVoucherRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"FinJurnalVoucherRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:d,type:e.viewtype,id:"FinJurnalVoucherRegistry",headerdata:H,tablesearchparams:de,searchvalue:e=>{se(e),N({current:1,pageSize:100}),Je({current:1,pageSize:100},e,ee?"DraftFinJurnalVoucherID":"FinJurnalVoucherID",ee&&"DraftPage")},bodydata:Z,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:Y,visibleitem:H,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,a,l):W.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{O(e)},color:!0,isexpanded:!1}):n().createElement(k.Z,{frmctrlid:"tblcs_1523_L3_",ref:c,id:"FinJurnalVoucherRegistryTable",type:e.viewtype,headerdata:H,tablesearchparams:de,searchvalue:e=>{let t={...z,...e};se(e),K(t),N({current:1,pageSize:100}),Je(w,t,Ie)},bodydata:Z,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:Y,visibleitem:H,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?W.select(t):(e.editdata(t,"view"),W.edit(t,a,1!=t.Entry))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},93294:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v}),a(95866),a(99058);var l=a(92950),n=a.n(l),r=a(80366),i=a(51673),o=a(282),u=a(868),c=a(78513),d=a(14439),s=a(27848),m=a(40900),p=a(64059),g=a(24038),y=a(8981),h=a(47516),D=a(86893),F=a(24448),E=a(33681),I=a(63163),f=a(25108);const v=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[v,V]=(0,l.useState)([]),[C,J]=(0,l.useState)({idpk:"",name:"",type:""}),[S,w]=(0,l.useState)(""),[N,b]=(0,l.useState)({}),[T,x]=(0,l.useState)(!0),[L,A]=(0,l.useState)(!1),{cstate:R,cdispatch:B}=e.ContextApi?e.ContextApi:(0,F.ContextApi)(),[P,k]=(0,l.useState)(1),[Z,O]=(0,l.useState)(0),[M,G]=(0,l.useState)(!1),[z,K]=(0,l.useState)({}),[_,U]=(0,l.useState)([]),[H,j]=(0,l.useState)(!0);let Y=localStorage.getItem("Language");const $={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let W=(0,y.Z)();const q=e=>W[e]?W[e]:e,Q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[$[Y]];function X(){b({}),K({}),e.searchData({}),A(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));U(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{X()}})));const ee=async(t,a,l,n)=>{G(!0);let r=a.IsForeign?a.FieldName+"PK":"FinJurnalVoucherIDPK";try{let o="",u=[],c={};await J((e=>(o=e.name,e))),await b((e=>(u=e,e))),await K((e=>(c=e,e)));const d=m.v.Api+"FP1523S3/",s={data:{p1:a.IsForeign?await le():null,p2:"FinJurnalVoucherCode"==o&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:"FinJurVouchAmount"==o&&l.length>0?"%"+l+"%":null,p7:"FinJurVouchNarration"==o&&l.length>0?"%"+l+"%":null,p8:null,p9:null,p10:"LedgerName"!=o&&u.LedgerName?u.LedgerName.map((e=>e.FinLedgerIDPK)).toString():null,p11:e.Dialogview?"1":null,p12:null,p13:"p13"==o&&l.length>0?l:null,p14:null,p15:null,p16:null,p17:null,p18:"GroupName"!=o&&u.GroupName?u.GroupName.map((e=>e.FinGroupIDPK)).toString():null,p19:"Description"==o&&l.length>0?"%"+l+"%":null,p20:"GroupCode"==o&&l.length>0?"%"+l+"%":null,p21:"GroupName"==o&&l.length>0?"%"+l+"%":null,p22:"LedgerCode"==o&&l.length>0?"%"+l+"%":null,p23:"LedgerName"==o&&l.length>0?"%"+l+"%":null,p24:n||1,p25:10,p26:t,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};await(0,i.Z)(d,s,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===n){let e=ae(l,o),t=te(e,N[o],r);V(t),O(t.length>0?t[0].TotalCount:N[o].length)}else{let e=[...v,...l],t=ae(e,o);O(t.length<10?t.length:l[0].TotalCount),V(ae(t,o))}else S.length>0&&V([]),O(v.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{G(!1)}},te=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ae=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function le(){let e={};await b((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.FinJurnalVoucherIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ne(t,a,l,n,r,i){let o={[n]:{From:t,Type:l,To:a}},u={};K((e=>({...e,...o})));const c={...N};let d=[..._],s=[];for(let e of d){let t=c[e]?.map((e=>e.FinJurnalVoucherIDPK)).toString();t&&s.push(t)}await K((e=>(u=e,e)));let m={FinJurnalVoucherIDPK:s?[...new Set(s)].toString():"",CreatedTtm:u.CreatedTtm?u.CreatedTtm.From:"",CreatedTtmType:u.CreatedTtm?u.CreatedTtm.Type:"",CreatedTtmBetween:u.CreatedTtm?u.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,FinJurnalVoucherDate:u.FinJurnalVoucherDate?u.FinJurnalVoucherDate.From:"",FinJurnalVoucherDateType:u.FinJurnalVoucherDate?u.FinJurnalVoucherDate.Type:"",FinJurnalVoucherDateBetween:u.FinJurnalVoucherDate?u.FinJurnalVoucherDate.To:"",FinLedgerID:N.LedgerName?.map((e=>e.FinLedgerIDPK)).toString()};e.searchData(m)}function re(){return n().createElement(p.Z,{frmctrlid:"fld1523L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,n)=>{ne(e,t,a,C.name,l)},keyboardback:()=>{A(!1),J({idpk:"",name:"",type:""})},title:q(C.name),fieldname:C.name,save:e=>{alert(!0)}})}return n().createElement("div",null,L?"Created Ttm"===C.name||C.name.includes("Date")?n().createElement(re,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(d.Z,null,n().createElement(s.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Q(C.idpk)," (",v.length,"/",Z,")")),n().createElement(s.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(u.ZP,{title:q("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(r.Z,{id:"fld1523L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{A(!1),J({idpk:"",name:"",type:""}),k(1)}}))),N[C.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(o.Z,{frmctrlid:"fld1523L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await b((t=>(e=t,f.log("clear fewItems",e),t))),e[C.name]=[],ee(C.type,C.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},q("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},T?n().createElement(u.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{x(!1)}}))):n().createElement(u.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{x(!0)}})))),n().createElement("ul",null,N[C.name]&&N[C.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:T?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[C.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[C.name],onClick:()=>(async(e,t)=>{k(1);let a=N[C.name].filter((t=>t!=e)),l={};await b((e=>(l=e,e))),l[C.name]=a,b(l),V((t=>[e,...t]))})(e)},n().createElement(r.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(g.Z,{frmctrlid:"fld1523L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:q("Enter ")+" "+Q(C.idpk),onChange:e=>{w(e),ee(C.type,C.name,e,1,le())}})),n().createElement("div",{id:"fld1523L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await b((e=>(a=e,e)));let n=[..._],r=[];for(let e of n){let t=a[e]?.map((e=>e.FinJurnalVoucherIDPK)).toString();t&&r.push(t)}await K((e=>(l=e,e)));let i={FinJurnalVoucherIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",FinJurnalVoucherDate:l.FinJurnalVoucherDate?l.FinJurnalVoucherDate.From:"",FinJurnalVoucherDateType:l.FinJurnalVoucherDate?l.FinJurnalVoucherDate.Type:"",FinJurnalVoucherDateBetween:l.FinJurnalVoucherDate?l.FinJurnalVoucherDate.To:"",FinLedgerID:N.LedgerName?.map((e=>e.FinLedgerIDPK)).toString()};e.searchData(i),A(!1)}},n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),M&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(E.Z,{color:"secondary"})),n().createElement("div",{id:"fld1523L3TFCScrollYDefault",className:"height65 scrollYDefault"},v.length>0&&v.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[C.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await b((e=>(l=e,e)));let n=l[C.name];t[C.name]=n?[...a,...n]:a,l={...l,...t},b(l),V((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(c.Z,{className:"DotIcon"}),n().createElement("span",null,e[C.name])))),v.length+0<Z&&v.length>0&&n().createElement("div",{id:"fld1523L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{k(P+1),ee(C.type,C.name,"",P+1)}},n().createElement("p",null," more... ")),0===v.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:m.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(h.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{X()},id:"fld1523L3TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},q("Clear")))),n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1523L3TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},q("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1523L3TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{A(!0),w(""),V([]),O(0),J({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterFinJurnalVoucherID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterFinJurnalVoucherID",e,"",1,le())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Q(e.AdminUserGridViewIDPK)," ",z[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",z[e.FieldName]?.From+" to "+z[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Q(e.AdminUserGridViewIDPK)),n().createElement(I.Z,{checked:"1"==H,onChange:t=>{j(t.target.checked),ne("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Q(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,N[a]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},N[a][0][a]),N[a].length>1&&n().createElement("span",{className:"RoundedDivName"},N[a][1][a]),N[a].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(N[a].length-2))))));var a}))))))}))},83557:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var l=a(92950),n=a.n(l),r=a(45237),i=(a(37148),a(3212)),o=a(29800),u=a(14439),c=a(27848),d=(a(10966),a(36939)),s=a(61201),m=a(50743),p=a(24448),g=(a(21392),a(51673)),y=a(40900),h=a(26537),D=(a(24038),a(11701),a(77366),a(868)),F=(a(97829),a(8981)),E=(a(63163),a(1695),a(65197)),I=(a(35131),a(61956),a(51649)),f=(a(61924),a(80471)),v=a(47516);const V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[V,C]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[J,S]=(0,l.useState)(!0),[w,N]=(0,l.useState)(e.showDetail),[b,T]=(0,l.useState)(""),[x,L]=n().useState(!1),[A,R]=n().useState(""),[B,P]=n().useState(!1),k=(0,l.useContext)(p.FinJurnalVoucherRegistryContext),{cstate:Z,cdispatch:O}=(0,p.ContextApi)(),[M,G]=(0,l.useState)(!1),[z,K]=(0,l.useState)(""),[_,U]=(0,l.useState)(""),[H,j]=(0,l.useState)(""),[Y,$]=(0,l.useState)("");let W=(0,F.Z)();(0,l.useEffect)((()=>{Z.editData.length>0&&(C(Z.editData),L(!1),O({type:"PrimaryId",payload:Z.editData[0].FinJurnalVoucherIDPK}))}),[Z.editData]),(0,l.useEffect)((()=>{Z.showTableview&&j(Z.showTableview)}),[Z.showTableview]),(0,l.useEffect)((()=>{S(Z.ExpandDetailValue)}),[Z.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{S(e),L(null)},viewtoggle:()=>{L(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=y.v.Api+"FP1523S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:e.Dialogview?"1":null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:1,p25:10,p26:Z.IsDraft?"DraftFinJurnalVoucherID":"FinJurnalVoucherID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,h.Z)(0).then((e=>{(0,g.Z)(l,n,e).then((e=>{k.loading(!1),"200"==e.Output.status.code&&C(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===x&&a.current.clear()}})));const q=e=>W?.[e]?W?.[e]:e,Q=e=>Z.language?.[e]?Z.language[e]:e;function X(e,t){}const ee=(e,t)=>(a,l)=>{R(B?Object.assign(...V.filter((e=>e.FinJurnalVoucherIDPK==t)).map((e=>e))):Z.editData),L(!l&&e)};return n().createElement("div",{className:"SubContent"},n().createElement(d.Z,{expanded:J,onChange:()=>()=>{e.expandTable&&S(!J)}},!x&&n().createElement(m.Z,null,n().createElement(u.Z,{container:!0},n().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("span",{style:{cursor:"pointer"}},n().createElement(I.u1R,{className:"backButtonList",onClick:()=>k.ExpandTable(!0)})),n().createElement("p",{className:"DListP"},Z.IsDraft?"Draft ":"",Q("FinJurnalVoucherRegistry")),Z.IsCollapse?!e.viewonly&&n().createElement(D.ZP,{title:"Expand Grid View",placement:"top"},n().createElement("div",{frmctrlid:"fld1523L3VCExpandGridView",onClick:()=>{k.ExpandDetail(!0),S(!0)}},n().createElement(v.$4j,{className:"FullSizeIcon1"}))):!e.viewonly&&n().createElement(D.ZP,{title:"Collpase Grid View",placement:"top"},n().createElement("div",{frmctrlid:"fld1523L3VCExpandmore1",onClick:()=>{k.ExpandDetail(!1),S(!0)}},n().createElement(f.qNy,{className:"FullSizeIcon2"})))),n().createElement("div",{className:"displayFlex",style:{justifyContent:"flex-end"}},!e.viewonly&&Z.AccessRights.IsEdit?n().createElement(n().Fragment,null,"0"==z||null==z?n().createElement(o.Z,{onClick:ee("panel0",""),disabled:!1}):null):Z.IsDraft&&Z.AccessRights.IsAdd&&n().createElement(o.Z,{onClick:()=>{ee("panel","")},disabled:!1}),!e.viewonly&&Z.AccessRights.IsAdd&&n().createElement(i.Z,{className:"L1AddBtnCommon",onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:[]})},disabled:!1}),n().createElement(o.Z,{onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:V})},disabled:!1})))))),n().createElement(s.Z,{style:{display:"block"}},V.map(((e,t)=>n().createElement("div",{key:t},n().createElement(E.Z,{tableName:"FinJurnalVoucherRegistry",tableID:1523,parentID:e.FinJurnalVoucherIDPK,fldid:"fld1523L3VCContainer",OpenSlideComponent:X,index:t,val:e,tf:Q,t:q,title:"10.0.0.50-10:02:34 AM-10-6[1523]"})))))))}))}}]);