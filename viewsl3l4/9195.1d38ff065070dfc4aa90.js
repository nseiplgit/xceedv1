/*! For license information please see 9195.1d38ff065070dfc4aa90.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[9195,7805],{10794:(e,t,n)=>{n.d(t,{E:()=>a,p:()=>l});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],language:{}};function l(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},41722:(e,t,n)=>{n.d(t,{D:()=>l,E:()=>a});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function l(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(40900),l=n(26537),o=n(61956),r=n(35131),i=n.n(r),d=n(25108);function c(e,t,n,r){if("select"==e){const e=a.v.Api+"FP1454S3/",n={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":l.Z.TokenIDPK,"x-tokenname":l.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(n)}).then((e=>{if(e.ok)return d.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=a.v.Api+"FP1454S1/",c={data:[{p1:0,p2:null,p3:r,p4:JSON.stringify(n),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:i()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:i()().format("YYYY-MM-DD hh:mm:ss")}]};(0,l.Z)(0).then((t=>{(0,o.Z)(e,c,t).then((e=>{200==e[0].status.code?d.log(e,"RES"):d.log("Error")}))}))}}},83817:(e,t,n)=>{function a(e,t,n,a,l){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:n}),t({type:"ShowDetail",payload:a}),l.loading(!1)):(l.loading(!1),l.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){l.loading(!1),l.alert({open:!0,color:"error",message:[e.message]})}}n.d(t,{a:()=>a})},77317:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(92950),l=n.n(a),o=n(52543),r=n(628),i=n(94555);const d=(0,o.Z)({iconFilled:{color:"#FFC107"},iconEmpty:{color:"#E0E0E0"}})(r.Z),c=({value:e,onChange:t,id:n})=>l().createElement("div",{id:n+"div"},l().createElement("div",{id:n+"subdiv",className:"ratcls"},"Ratings"),l().createElement(d,{id:n,name:n+"customized-empty",value:e,onChange:(e,n)=>{t&&t(n)},emptyIcon:l().createElement(i.Z,{fontSize:"inherit"})}))},82952:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(92950),l=n.n(a),o=n(27848),r=n(14439),i=(n(99940),n(40900)),d=n(25108);function c(e){const[t,n]=(0,a.useState)(!1),[c,s]=(0,a.useState)(!1),[m,u]=(0,a.useState)("All"),[p,S]=(0,a.useState)([]),[P,I]=(0,a.useState)([]);function v(t,a){e.getChildData(t,a),n(t),document.getElementById("sidebarwid").offsetWidth>60?e.float?(e.id,document.getElementById(e.id).style.width="calc(100% - 208px)",document.getElementById(e.id).style.display="block"):(document.getElementById(e.id).style.display="block",document.getElementById(e.id).style.width="calc(100% - 208px)"):e.float?(e.id,document.getElementById(e.id).style.width="calc(100% - 58px)",document.getElementById(e.id).style.display="block"):(document.getElementById(e.id).style.display="block",document.getElementById(e.id).style.width="calc(100% - 58px)"),e.float||(document.getElementById(e.id).style.right="0"),document.getElementById(e.id).style.padding="4px"}return(0,a.useEffect)((()=>{S(e.data.Main),I(e.data.Child)}),[e.data]),l().createElement("div",null,l().createElement(r.Z,null,l().createElement(o.Z,{style:{padding:0},xs:"Show"===e.type?9:12,sm:"Show"===e.type?9:12,md:"Show"===e.type?9:12,lg:"Show"===e.type&&(e.showSearch?8:9)},l().createElement(r.Z,{className:"ScreenCardDiv"},p&&p.map(((t,n)=>l().createElement(o.Z,{xs:4,sm:4,md:3,lg:3,className:"padding4"},l().createElement("div",{className:"scmaShowCards",onClick:()=>{v(t,t.Name)},style:{background:t.Color?t.Color:"#fff"}},l().createElement("div",{className:"backRoundColor"}),l().createElement("div",{className:"scmaShowCardsD2a"},l().createElement("span",{className:"title schemasTxt1",style:{color:"#fff"}},t.DisplayName.replace(/([A-Z])/g," $1").trim()),"Show"===e.type&&l().createElement("p",{className:"schemaCards-desc"},t.Description.replace(/([A-Z])/g," $1").trim())),l().createElement("div",{className:"scmaShowCardsD1a"},l().createElement("img",{className:"schemaCardsIcon",src:`${i.v.ImageUrl}assets/showscreen/${t.Icon}.png`}),l().createElement("span",{className:"counter countD2b",style:{color:"#fff"}},t.Total)))))))),l().createElement(o.Z,{xs:"Show"===e.type&&3,sm:"Show"===e.type&&3,md:"Show"===e.type&&3,lg:"Show"===e.type&&(e.showSearch?4:3)},l().createElement(r.Z,{className:"ScreenCardDiv"},P&&P.map(((t,n)=>l().createElement(o.Z,{xs:12,sm:12,md:12,lg:12,className:"padding4",key:n},l().createElement("div",{className:"schemaCard schemaCard-visitors",style:{background:t.Color?t.Color:"#fff"}},l().createElement("div",{className:"displayFlex hight100"},l().createElement("p",{className:"counterchild countDb",style:{background:t.Color?t.Color:"#fff"},onClick:()=>{v(t,t.Name)}},t.Total?t.Total:"0"),l().createElement("div",{className:"cardcontaineritemchilddesc"},l().createElement("p",{className:"title tlFnt",style:{color:"#fff",fontWeight:"400"}},"Show"==e.type?t.DisplayName.replace(/([A-Z])/g," $1").trim():t.Name.replace(/([A-Z])/g," $1").trim()),"Show"===e.type&&l().createElement("p",{className:"schemaCard-desc",style:{color:"#fff",fontSize:"10",fontWeight:"400"}},t.Description.replace(/([A-Z])/g," $1").trim())))))))))),l().createElement("div",{id:e.id,className:"sidenav viewImgWidth PreviewAnimation",style:{right:(e.id,"4px"),marginTop:"90px",height:"calc(100vh - 90px)",display:"none"}},!e.hideTitle&&l().createElement("div",{className:"ScreenTitle"},e.name&&e.name.replace(/([A-Z])/g," $1").trim()+" ("+e.count+")"),l().createElement("div",{className:"closebtn mrgclose",onClick:()=>(document.getElementById(e.id).style.display="none",document.getElementById(e.id).style.padding="0",document.getElementById("sidebarwid").style.zIndex="1",void d.log("closeNav---------------"))},"Ã—"),"Schema"===e.type||"Share"===e.type&&l().createElement("div",{class:"chip-group",tabindex:"-1",role:"radiogroup"},l().createElement("div",{class:"chip chip-checkbox","aria-labelledby":"radioOneLabel",tabindex:"0",role:"radio","aria-checked":"false"},l().createElement("input",{type:"radio",name:"radioEx"}),l().createElement("span",{id:"radioOneLabel"},"All")),l().createElement("div",{class:"chip chip-checkbox","aria-labelledby":"radioTwoLabel",tabindex:"0",role:"radio","aria-checked":"false"},l().createElement("input",{type:"radio",name:"radioEx"}),l().createElement("span",{id:"radioTwoLabel"},"Two"))),l().createElement("div",{style:{marginTop:e.hideTitle?"0px":"3%"}},e.tablecomponent)))}},65197:(e,t,n)=>{n.d(t,{Z:()=>M});var a=n(92950),l=n.n(a),o=n(14439),r=n(27848),i=n(63163),d=n(6562),c=n(30553),s=n(83173),m=n(21392),u=n(69685),p=n(45332),S=n(26537),P=n(77366),I=n(71168),v=n.n(I),g=n(99940),D=n(55918),y=n.n(D);function M(e){const[t,n]=(0,a.useState)([]),[s,m]=(0,a.useState)([]),[u,p]=v()(e.tableID);(0,a.useEffect)((()=>{P(u)}),[u,e.val]),(0,a.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&P(e.refresh)}),[e.refresh]);const S=t=>e.t(t);function P(t){const a=t.filter((t=>t.FormID==e.tableID));let l=[],o=[];a.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?o.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):l.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),m(I(o,"id")),n(I(l,"id"))}function I(e,t){const n=e.map((e=>e[t])),a=e.filter((({value:e},t)=>!n.includes(e,t+1)));return a}return l().createElement(l().Fragment,null,l().createElement("div",{index:e.index,className:"padding paddingLeft width100"},l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},l().createElement("div",{className:"ViewHeadingTitle"},l().createElement("p",null,(D=e.tableName,e.tf(D)+" "+S("view")))),l().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},s.map(((t,n)=>l().createElement(l().Fragment,null,l().createElement(g.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},l().createElement("div",{key:n,className:"GridAlignSwitch"},l().createElement(d.Z,null,l().createElement(c.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:l().createElement(i.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),l().createElement(o.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement(o.Z,{container:!0},t.map(((t,n)=>l().createElement(l().Fragment,null,t.ForeignTag?l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},l().createElement("div",{className:"DetailViewRow"},l().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:S(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),l().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var n,a;n=t.IDPK,a=e.val[t.ValID],e.OpenSlideComponent(n,a)},title:e.val[t.id]},e.val[t.id])))):l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},l().createElement("div",{className:"DetailViewRow"},l().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),l().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?y()(e.val[t.id]):e.val[t.id]))))))))))),l().createElement(r.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewFileImgCont"},l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewHeadingTitle1"},l().createElement("p",{className:"ViewHeadpTagHD"},S("Attachments")))),l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewHeadingAttachmentL4"},l().createElement(C,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var D}const C=e=>{const[t,n]=(0,a.useState)([]);(0,a.useEffect)((()=>{e.id&&o()}),[e.id]);const o=()=>{(0,S.Z)(0).then((t=>{(0,P.Z)(t,e.id,e.tableID).then((e=>n(e)))}))};return l().createElement("div",null,l().createElement(u.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,n)=>{if(0==n)return l().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:n,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?l().createElement("img",{src:e.ImgPath,alt:e.ImageName}):l().createElement(s.Z,{className:"previewFile"}),t.length>1&&l().createElement("div",{className:"Imgbgmstyle"},l().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),l().createElement(m.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},97087:(e,t,n)=>{n.d(t,{Z:()=>C});var a=n(92950),l=n.n(a),o=n(14439),r=n(27848),i=n(63163),d=n(6562),c=n(30553),s=n(83173),m=n(21392),u=n(69685),p=n(45332),S=n(26537),P=n(77366),I=n(71168),v=n.n(I),g=n(77317),D=n(99940),y=n(55918),M=n.n(y);function C(e){const[t,n]=(0,a.useState)([]),[s,m]=(0,a.useState)([]),[u,p]=v()(e.tableID),[S,P]=(0,a.useState)("");(0,a.useEffect)((()=>{!function(t){const a=t.filter((t=>t.FormID==e.tableID));let l=[],o=[],r=[];a.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldName.slice(0,2)?o.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):l.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}));let t=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[t]]})})),P(Object.assign({},...r)),m(y(o,"id")),n(y(l,"id"))}(u)}),[u,e.val]);const I=t=>e.t(t);function y(e,t){const n=e.map((e=>e[t])),a=e.filter((({value:e},t)=>!n.includes(e,t+1)));return a}const C=(e,t)=>{if(e.includes("Password")){var n="";for(let e=0;e<t.length;e++)n+="*";return n}return t};return l().createElement(l().Fragment,null,l().createElement("div",{index:e.index,className:"padding paddingLeft width100"},l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},l().createElement("div",{className:"ViewHeadingTitle",title:e.title},l().createElement("p",null,(E=e.tableID,(S?.[E]?S[E]:E)+" "+I("view")))),l().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},s.map(((t,n)=>l().createElement(l().Fragment,null,l().createElement(D.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},l().createElement("div",{key:n,className:"GridAlignSwitch"},l().createElement(d.Z,null,l().createElement(c.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:l().createElement(i.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),l().createElement(o.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement(o.Z,{container:!0},t.map(((t,n)=>l().createElement(l().Fragment,null,t.ForeignTag?l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},l().createElement("p",{className:"ViewHeadpTag",title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")," ")),l().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},l().createElement("p",{className:"ViewBodypTag ViewHightLight ViewBodyForeignTag",onClick:()=>{var n,a;n=t.IDPK,a=e.val[t.ValID],e.OpenSlideComponent(n,a)},title:C(t.name,e.val[t.id])},": ",C(t.name,e.val[t.id])))):l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},l().createElement("p",{className:"ViewHeadpTag",title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")," ")),l().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},l().createElement("p",{className:"ViewBodypTag ViewHightLight",title:C(t.name,e.val[t.id])},": ","mins"==t.FieldDataType?M()(e.val[t.id]):C(t.name,e.val[t.id]))))))),e.rating?l().createElement(o.Z,null,l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement(g.Z,{value:e.rating})))):"")))),l().createElement(r.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewFileImgCont"},l().createElement(o.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewHeadingTitle1"},l().createElement("p",{className:"ViewHeadpTagHD"},I("Attachments")))),l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewHeadingAttachmentL4"},l().createElement(V,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var E}const V=e=>{const[t,n]=(0,a.useState)([]);(0,a.useEffect)((()=>{e.id&&o()}),[e.id]);const o=()=>{(0,S.Z)(0).then((t=>{(0,P.Z)(t,e.id,e.tableID).then((e=>n(e)))}))};return l().createElement("div",null,l().createElement(u.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,n)=>{if(0==n)return l().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:n,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?l().createElement("img",{src:e.ImgPath,alt:e.ImageName}):l().createElement(s.Z,{className:"previewFile"}),t.length>1&&l().createElement("div",{className:"Imgbgmstyle"},l().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),l().createElement(m.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},47135:(e,t,n)=>{n.d(t,{kN:()=>Oe,Xr:()=>Le,ZP:()=>Re});var a=n(92950),l=n.n(a),o=(n(95866),n(45237)),r=n(36939),i=n(61201),d=n(59009),c=n(51673),s=(n(99058),n(80366)),m=n(282),u=n(868),p=n(78513),S=n(14439),P=n(27848),I=n(40900),v=n(64059),g=n(24038),D=n(8981),y=n(47516),M=n(86893),C=n(33681),V=n(63163),E=n(35131),f=n.n(E),h=n(61956),N=n(93657),b=n(53375),w=n(52663),F=n(66083),x=n(29525),A=n(66856),T=n(39803),k=n(99940),B=n(17149),Z=n(62810),L=n(30553),O=n(92381),R=n(25108);const K=(0,a.forwardRef)(((e,t)=>{const[n]=(0,a.useState)(localStorage.getItem("userid")),[o,r]=(0,a.useState)([]),[i,d]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[E,f]=(0,a.useState)(""),[h,K]=(0,a.useState)({}),[z,W]=(0,a.useState)(!0),[_,H]=(0,a.useState)(!1),{cstate:j,cdispatch:G}=e.ContextApi?e.ContextApi:Oe(),[$,Y]=(0,a.useState)(1),[U,q]=(0,a.useState)(0),[J,Q]=(0,a.useState)(!1),[X,ee]=(0,a.useState)({}),[te,ne]=(0,a.useState)([]),[ae,le]=(0,a.useState)(!0),[oe,re]=(0,a.useState)(!1),[ie,de]=(0,a.useState)(""),[ce,se]=(0,a.useState)(!1),[me,ue]=(0,a.useState)(!1),[pe,Se]=(0,a.useState)(!1),[Pe,Ie]=(0,a.useState)(""),ve=(0,a.useRef)(null),[ge,De]=(0,a.useState)({});let ye=localStorage.getItem("Language");const Me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ce=(0,D.Z)();const Ve=e=>Ce[e]?Ce[e]:e,Ee=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Me[ye]];function fe(){K({}),ee({}),e.searchData({}),H(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const n=e.userGrid.reduce(((e,t)=>{const n=t.FieldName;return t.IsForeign&&(e[n]||(e[n]=[]),e[n].push(t.FieldDisplay)),e}),{});De(n),ne(t)}),[]),(0,a.useEffect)((()=>()=>{ve.current&&ve.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{fe()}})));const he=async(t,n,a,l)=>{Q(!0);try{ve.current&&ve.current.abort();const i=new AbortController;ve.current=i;let s="",m=[],u={};await d((e=>(s=e.name,e))),await K((e=>(m=e,e))),await ee((e=>(u=e,e)));const p=I.v.Api+"FP938S3/",S={data:{p1:"PPMSSVendorInvoiceIDPK"==n?null:await xe(),p2:"PPMSSVendorInvoiceCode"==s&&a.length>0?"%"+a+"%":null,p3:"PPMSSVenInvCode"==s&&a.length>0?"%"+a+"%":null,p4:"PPMSSVendorInvoiceNarration"==s&&a.length>0?"%"+a+"%":null,p5:"PPMSSVendorInvoiceInvNo"==s&&a.length>0?"%"+a+"%":null,p6:"PPMSSVendorInvoiceRefNo"==s&&a.length>0?"%"+a+"%":null,p7:"PPMSSVendorInvoiceAmount"==s&&a.length>0?"%"+a+"%":null,p8:null,p9:null,p10:null,p11:"PPMSSVendorInvoiceDectAmount"==s&&a.length>0?"%"+a+"%":null,p12:"PPMSSVendorInvoiceDectKey"==s&&a.length>0?"%"+a+"%":null,p13:"IsActual"==s&&a.length>0?"%"+a+"%":null,p14:null,p15:null,p16:null,p17:e.parentId?e.parentId:"0",p18:"VendorName"!=s&&m.VendorName?m.VendorName.map((e=>e.MatVendorIDPK)).toString():null,p19:e.Dialogview?"1":null,p20:null,p21:"p21"==s&&a.length>0?a:null,p22:null,p23:null,p24:null,p25:null,p26:"ContractName"!=s&&m.ContractName?m.ContractName.map((e=>e.ContractIDPK)).toString():null,p27:"ContractCode"==s&&a.length>0?"%"+a+"%":null,p28:"ContractName"==s&&a.length>0?"%"+a+"%":null,p29:"LocalityName"!=s&&m.LocalityName?m.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p30:"LocalityCode"==s&&a.length>0?"%"+a+"%":null,p31:"LocalityName"==s&&a.length>0?"%"+a+"%":null,p32:"BuildingName"!=s&&m.BuildingName?m.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p33:"BuildingCode"==s&&a.length>0?"%"+a+"%":null,p34:"BuildingName"==s&&a.length>0?"%"+a+"%":null,p35:"FloorName"!=s&&m.FloorName?m.FloorName.map((e=>e.FloorIDPK)).toString():null,p36:"FloorCode"==s&&a.length>0?"%"+a+"%":null,p37:"FloorName"==s&&a.length>0?"%"+a+"%":null,p38:"SpotName"!=s&&m.SpotName?m.SpotName.map((e=>e.SpotIDPK)).toString():null,p39:"SpotCode"==s&&a.length>0?"%"+a+"%":null,p40:"SpotName"==s&&a.length>0?"%"+a+"%":null,p41:"DivisionName"!=s&&m.DivisionName?m.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p42:"DivisionCode"==s&&a.length>0?"%"+a+"%":null,p43:"DivisionName"==s&&a.length>0?"%"+a+"%":null,p44:"DisciplineName"!=s&&m.DisciplineName?m.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p45:"DisciplineCode"==s&&a.length>0?"%"+a+"%":null,p46:"DisciplineName"==s&&a.length>0?"%"+a+"%":null,p47:"FrequencyName"!=s&&m.FrequencyName?m.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p48:"FrequencyCode"==s&&a.length>0?"%"+a+"%":null,p49:"FrequencyName"==s&&a.length>0?"%"+a+"%":null,p50:"FlowDisplayName"!=s&&m.FlowDisplayName?m.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p51:"BriefDetails"==s&&a.length>0?"%"+a+"%":null,p52:"FlowCode"==s&&a.length>0?"%"+a+"%":null,p53:"FlowDisplayName"==s&&a.length>0?"%"+a+"%":null,p54:"FixonBusinessFlowName"!=s&&m.FixonBusinessFlowName?m.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p55:"FixonBusinessFlowName"==s&&a.length>0?"%"+a+"%":null,p56:"PPMFixonBusinessFlowCode"==s&&a.length>0?"%"+a+"%":null,p57:"PPMStageName"!=s&&m.PPMStageName?m.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p58:"PPMStageName"==s&&a.length>0?"%"+a+"%":null,p59:"StageSeqNo"==s&&a.length>0?"%"+a+"%":null,p60:"SSCreWorkOrder"==s&&a.length>0?"%"+a+"%":null,p61:"VendorTypeName"!=s&&m.VendorTypeName?m.VendorTypeName.map((e=>e.MatVendorTypeIDPK)).toString():null,p62:"MatVendorTypeCode"==s&&a.length>0?"%"+a+"%":null,p63:"VendorTypeName"==s&&a.length>0?"%"+a+"%":null,p64:"CityName"!=s&&m.CityName?m.CityName.map((e=>e.CityIDPK)).toString():null,p65:"CityCode"==s&&a.length>0?"%"+a+"%":null,p66:"CityName"==s&&a.length>0?"%"+a+"%":null,p67:"StateName"!=s&&m.StateName?m.StateName.map((e=>e.StateIDPK)).toString():null,p68:"StateCode"==s&&a.length>0?"%"+a+"%":null,p69:"StateName"==s&&a.length>0?"%"+a+"%":null,p70:"CountryName"!=s&&m.CountryName?m.CountryName.map((e=>e.CountryIDPK)).toString():null,p71:"CountryCode"==s&&a.length>0?"%"+a+"%":null,p72:"CountryName"==s&&a.length>0?"%"+a+"%":null,p73:"MatVendorCode"==s&&a.length>0?"%"+a+"%":null,p74:"VendorName"==s&&a.length>0?"%"+a+"%":null,p75:l||1,p76:10,p77:t,p78:null,p79:null,p80:localStorage.getItem("UserGroupID"),p81:localStorage.getItem("userid")}},P=await(0,c.Z)(p,S,e.token,"",i.signal);if(!P)return!1;const v=P.Output.status.code,g=P.Output.data;if("200"===v)if(g.length>0)if(1===l){let e=be(g,s),t=Ne(e,h[s],n);r(t),q(t.length>0?t[0].TotalCount:h[s].length)}else{let e=[...o,...g],t=be(e,s);q(t.length<10?t.length:g[0].TotalCount),r(be(t,s))}else E.length>0&&r([]),q(o.length);else e.alertmsg("error",[P.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Ne=(e=[],t=[],n)=>e.filter((e=>!t.find((t=>e[n]===t[n])))),be=(e,t)=>e.filter(((e,n,a)=>a.findIndex((n=>n[t]===e[t]))===n));function we(e){let t=e+"PK",n=ge[e];if(n){const e=n.flatMap((e=>h[e]?h[e].map((e=>e[t])):[]));return e.toString()}return""}const Fe=async t=>{let n="",a={};await K((e=>(n=e,e)));let l=[...te],o=[];for(let e of l){let t=n[e]?.map((e=>e.PPMSSVendorInvoiceIDPK)).toString();t&&o.push(t)}await ee((e=>(a=e,e)));let r={PPMSSVendorInvoiceIDPK:o?[...new Set(o)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",PPMSSVendorInvoiceDate:a.PPMSSVendorInvoiceDate?a.PPMSSVendorInvoiceDate.From:"",PPMSSVendorInvoiceDateType:a.PPMSSVendorInvoiceDate?a.PPMSSVendorInvoiceDate.Type:"",PPMSSVendorInvoiceDateBetween:a.PPMSSVendorInvoiceDate?a.PPMSSVendorInvoiceDate.To:"",MatVendorID:we("MatVendorID"),PPMSSCreationWorkOrderID:we("PPMSSCreationWorkOrderID")};"saveFav"==t?ke("save",r):(e.searchData(r),H(!1))};async function xe(){let e={};await K((t=>(e=t,t)));let t=[...te],n=[];for(let a of t){let t=e[a]?.map((e=>e.PPMSSVendorInvoiceIDPK)).toString();t&&n.push(t)}return n?[...new Set(n)].toString():""}async function Ae(t,n,a,l,o,r){let i={[l]:{From:t,Type:a,To:n}},d={};ee((e=>({...e,...i})));const c={...h};let s=[...te],m=[];for(let e of s){let t=c[e]?.map((e=>e.PPMSSVendorInvoiceIDPK)).toString();t&&m.push(t)}await ee((e=>(d=e,e)));let u={PPMSSVendorInvoiceIDPK:m?[...new Set(m)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==a?o:null,PPMSSVendorInvoiceDate:d.PPMSSVendorInvoiceDate?d.PPMSSVendorInvoiceDate.From:"",PPMSSVendorInvoiceDateType:d.PPMSSVendorInvoiceDate?d.PPMSSVendorInvoiceDate.Type:"",PPMSSVendorInvoiceDateBetween:d.PPMSSVendorInvoiceDate?d.PPMSSVendorInvoiceDate.To:"",MatVendorID:h.VendorName?.map((e=>e.MatVendorIDPK)).toString(),PPMSSCreationWorkOrderID:h.SSCreWorkOrder?.map((e=>e.PPMSSCreationWorkOrderIDPK)).toString()};e.searchData(u)}function Te(){return l().createElement(v.Z,{frmctrlid:"fld938L1TCDateCompCreatedTtm",SendDateVal:(e,t,n,a,l)=>{Ae(e,t,n,i.name,a)},keyboardback:()=>{H(!1),d({idpk:"",name:"",type:"",fieldidpk:""})},title:Ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const ke=(t,n)=>{(0,O.Z)(t,e.formID,n,ie).then((e=>{const t=e.Output.data;Ie(t)}))};return l().createElement("div",null,l().createElement(w.Z,{onClose:()=>se(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},l().createElement(F.Z,{id:"customized-dialog-title",onClose:()=>se(!1)},"Add Favorite"),l().createElement(x.Z,{dividers:!0,style:{minWidth:"500px"}},l().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},l().createElement(T.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>de(e.target.value),fullWidth:!0})),l().createElement(L.Z,{style:{color:"#337ab7"},control:l().createElement(k.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:l().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:l().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ue(e.target.checked)}),label:"Quick"}),l().createElement(L.Z,{style:{color:"#337ab7"},control:l().createElement(k.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:l().createElement(B.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:l().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>Se(e.target.checked)}),label:"Dashboard"})),l().createElement(A.Z,null,l().createElement(m.Z,{onClick:()=>{Fe("saveFav"),se(!1)},color:"primary"},"Save"))),_?"Created Ttm"===i.name||i.name.includes("Date")?l().createElement(Te,null):l().createElement("div",null,l().createElement("div",{className:"columnHeader displayFlex"},l().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},l().createElement(S.Z,null,l().createElement(P.Z,{xs:6,sm:6,md:6,lg:6},l().createElement("p",{className:"columnHeaderp"},Ee(i.idpk)," (",o.length,"/",U,")")),l().createElement(P.Z,{xs:6,sm:6,md:6,lg:6},l().createElement(u.ZP,{title:Ve("Close"),placement:"top"},l().createElement("div",{className:"FilterItemClose",align:"right"},l().createElement(s.Z,{id:"fld938L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),d({idpk:"",name:"",type:"",fieldidpk:!1}),Y(1)}}))),h[i.name]&&l().createElement("div",{className:"FiltercloseAlign",align:"right"},l().createElement(m.Z,{frmctrlid:"fld938L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,R.log("clear fewItems",e),t))),e[i.name]=[],he(i.type,i.fieldidpk,"",1)})()}},l().createElement("span",{className:"ColumnApplyTitle"},Ve("Clear All")))))))),l().createElement("div",{className:"FilterParentDiv"},l().createElement("div",{"data-list-scroll-container":"true"},l().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},l().createElement("div",{className:"FilterMaximize"},z?l().createElement(u.ZP,{title:"Maximize",placement:"right"},l().createElement("span",null,l().createElement(M.D7o,{className:"FilterMaximizeIcon",onClick:()=>{W(!1)}}))):l().createElement(u.ZP,{title:"Minimize",placement:"right"},l().createElement("span",null,l().createElement(M.dOw,{className:"FilterMaximizeIcon",onClick:()=>{W(!0)}})))),l().createElement("ul",null,h[i.name]&&h[i.name].map(((e,t)=>l().createElement("div",{key:t,tabIndex:"-1",className:z?"filterSelectedItems":"filterSelectedItemsMaximize"},l().createElement("div",{className:"filterSelectedItemNames"},l().createElement("span",null,e[i.name])),l().createElement("div",{className:"filterSelectedItemClose"},l().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{Y(1);let n=h[i.name].filter((t=>t!=e)),a={};await K((e=>(a=e,e))),a[i.name]=n,K(a),r((t=>[e,...t]))})(e)},l().createElement(s.Z,{className:"filterSelectedItemCloseIcon"})))))))),l().createElement("div",{className:"displayFlex width100 FilterSearch"},l().createElement("div",{className:"FilterSearchInputDiv"},l().createElement(g.Z,{frmctrlid:"fld938L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:E,placeholder:Ve("Enter ")+" "+Ee(i.idpk),onChange:e=>{f(e),he(i.type,i.fieldidpk,e,1,xe())}})),l().createElement("div",{id:"fld938L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Fe},l().createElement(u.ZP,{title:"",placement:"top"},l().createElement(m.Z,{className:"ColumnSearchButton"},l().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&l().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},l().createElement(C.Z,{color:"secondary"})),l().createElement("div",{id:"fld938L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>l().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},n=[];n.push(e);let a={};await K((e=>(a=e,e)));let l=a[i.name];t[i.name]=l?[...n,...l]:n,a={...a,...t},K(a),r((t=>t.filter((t=>t!=e))))})(e)}},l().createElement(p.Z,{className:"DotIcon"}),l().createElement("span",null,e[i.name])))),o.length+0<U&&o.length>0&&l().createElement("div",{id:"fld938L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Y($+1),he(i.type,i.fieldidpk,"",$+1)}},l().createElement("p",null," more... ")),0===o.length&&l().createElement("div",null,l().createElement("div",{className:"NoDataImage"},l().createElement("img",{src:I.v.NoData,alt:"NoImage"})),l().createElement("div",{className:"NoDataDesc"},l().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):l().createElement("div",null,l().createElement("div",{className:"columnHeader displayFlex"},l().createElement("div",{className:"columnHeaderTitle"},l().createElement(y.Ol$,{className:"columnHeaderIcon"}),l().createElement("p",{className:"columnHeaderp"}," ",Ve("Filter")," ",ie.length>0&&`(${ie})`)),l().createElement("div",{className:"columnHeaderbtn",align:"right"},l().createElement(u.ZP,{title:"Favorite List",placement:"top"},oe?l().createElement(s.Z,{className:"favlisticon",onClick:()=>{re(!1),Ie(""),fe()}}):l().createElement(N.Z,{className:"favlisticon",onClick:()=>{re(!0),ke("select"),fe()}})),Object.keys(h).length>0&&l().createElement(u.ZP,{title:"Save Favorites",placement:"top"},l().createElement(b.Z,{className:"favlisticon",onClick:()=>{se(!0)}})),l().createElement(u.ZP,{title:"",placement:"top"},l().createElement(m.Z,{className:"ColumnApplyButton",onClick:()=>{fe()},id:"fld938L1TFCColumApplyBttn"},l().createElement("span",{className:"ColumnApplyTitle"},Ve("Clear")))),l().createElement(u.ZP,{title:"",placement:"top"},l().createElement(m.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld938L1TFCColumnCloseButton"},l().createElement("span",{className:"ColumnCloseTitle"},Ve("Close")))))),l().createElement("div",{className:"height65"},l().createElement("div",{id:"fld938L1TFCFilItems",className:"FilterItems"},!Pe&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return l().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),f(""),r([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSSVendorInvoiceIDPK";d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSVendorInvoiceID",fieldidpk:t}),he(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSSVendorInvoiceID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?l().createElement(l().Fragment,null,Ee(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&l().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?l().createElement(l().Fragment,null,l().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),l().createElement(V.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):l().createElement(l().Fragment,null,l().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),(n=e.FieldDisplay,h[n]?.length>0&&l().createElement("div",{className:"FilterItemDivSelected"},l().createElement("span",{className:"RoundedDivName"},h[n][0][n]),h[n].length>1&&l().createElement("span",{className:"RoundedDivName"},h[n][1][n]),h[n].length>2&&l().createElement("span",{className:"RoundedDivNumber"},"+"+(h[n].length-2))))));var n})),Pe&&Pe.map((e=>{let t=e.TFFSearchParams,n=JSON.parse(t);return l().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{he("FilterPPMSSVendorInvoiceID",n),Fe("")}},l().createElement(l().Fragment,null,e.TableFilterFavName))}))))))}));var z=n(54180),W=n(43031),_=n(85639),H=n(110),j=n(5109),G=n(88995),$=n(50743),Y=n(61657),U=n(51209),q=n(53854),J=n(51649),Q=n(37106),X=n(5434),ee=n(83817),te=n(39327),ne=n(3212),ae=n(93521),le=(n(79117),n(71168)),oe=n.n(le),re=n(65107),ie=n(94986),de=n(15999);n(11557),window.clickFilter="";const ce=(0,a.forwardRef)(((e,t)=>{const n=(0,a.useRef)(null),m=(0,a.useRef)(null),[p]=((0,a.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[S]=(0,a.useState)("938"),[P,v]=(0,a.useState)(!1),[C,V]=(0,a.useState)(!1),[E,f]=(0,a.useState)(0),[h,N]=(0,a.useState)(0),[b,w]=(0,a.useState)(0),[F,x]=(0,a.useState)(0),[A,T]=(0,a.useState)({current:1,pageSize:100}),[k,B]=(0,a.useState)(""),[Z,L]=(0,a.useState)([]),[O,R]=(0,a.useState)({val:"",column:""}),[le,ce]=(0,a.useState)([]),[se,me]=(0,a.useState)(!1),[ue,pe]=(0,a.useState)(""),[Se,Pe]=(0,a.useState)(""),[Ie,ve]=(0,a.useState)(!1),[ge,De]=(0,a.useState)([]),[ye,Me]=(0,a.useState)([]),[Ce,Ve]=(0,a.useState)([]),[Ee,fe]=(0,a.useState)({children:[{name:"PPMSSVendorInvoiceDetails",children:[]}]}),[he,Ne]=(0,a.useState)(!1),be=(0,a.useContext)(e.context?e.context:Le),{cstate:we,cdispatch:Fe}=e.ContextApi?e.ContextApi:Oe();let xe={PPMSSVendorInvoiceIDPK:"",PPMSSVendorInvoiceCode:"",PPMSSVenInvCode:"",PPMSSVendorInvoiceNarration:"",PPMSSVendorInvoiceInvNo:"",PPMSSVendorInvoiceRefNo:"",PPMSSVendorInvoiceAmount:"",PPMSSVendorInvoiceDate:"",PPMSSVendorInvoiceDateType:"",PPMSSVendorInvoiceDateBetween:"",PPMSSVendorInvoiceDectAmount:"",PPMSSVendorInvoiceDectKey:"",IsActual:"",IsDefault:"",IsDraft:"",Remarks:"",PPMSSCreationWorkOrderID:"",MatVendorID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",MatVendorTypeID:"",MatVendorTypeCode:"",VendorTypeName:"",CityID:"",CityCode:"",CityName:"",StateID:"",StateCode:"",StateName:"",CountryID:"",CountryCode:"",CountryName:"",MatVendorCode:"",VendorName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,Te]=(0,a.useState)(xe),[ke,Be]=(0,a.useState)(xe),[Ze,Re]=(0,a.useState)(!1),[Ke,ze]=(0,a.useState)(!0),[We,_e]=(0,a.useState)(!1),[He,je]=(0,a.useState)(!0),[Ge,$e]=(0,a.useState)({VendorName:"",PPMSSVendorInvoiceNarration:"",PPMSSVendorInvoiceInvNo:"",PPMSSVendorInvoiceRefNo:"",PPMSSVendorInvoiceAmount:"",PPMSSVendorInvoiceCode:"",PPMSSVenInvCode:"",PPMSSVendorInvoiceDate:"",PPMSSVendorInvoiceDectAmount:"",PPMSSVendorInvoiceDectKey:"",IsActual:"",SSCreWorkOrder:""}),[Ye,Ue]=(0,a.useState)(!1),[qe,Je]=(0,a.useState)([]),[Qe,Xe]=(0,a.useState)(0),[et,tt]=(0,a.useState)(0),[nt,at]=(0,a.useState)({current:1,pageSize:10}),[lt,ot]=(0,a.useState)([]),[rt,it]=(0,a.useState)([]),[dt,ct]=(0,a.useState)(!1),[st,mt]=(0,a.useState)(!1),[ut,pt]=(0,a.useState)(!1),[St,Pt]=(0,a.useState)(""),[It,vt]=oe()("938"),[gt,Dt]=(0,a.useState)({}),yt=[{columns:lt,data:k}];let Mt=(0,D.Z)();const Ct=e=>Mt[e]?Mt[e]:e,Vt=e=>we.language?.[e]?we.language[e]:e;(0,a.useEffect)((()=>{Ft(It)}),[It]),(0,a.useEffect)((()=>{we.token.length>0&&(e.parentId?bt(A,xe,"PPMSSVendorInvoiceID"):ce([]))}),[e.parentId]),(0,a.useEffect)((()=>{!he&&e.parentId?bt(A,ue,"PPMSSVendorInvoiceID"):he&&Be(ue)}),[ue]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{Et(e)},tableRefresh:()=>{bt(A,xe,"PPMSSVendorInvoiceID")},DialogTableProps:e=>{V(e)},HideEntryFields:e=>{pt(!0===e)}})));const Et=e=>{""==e?bt(A,xe,Ze?"DraftPPMSSVendorInvoiceID":"PPMSSVendorInvoiceID",Ze&&"DraftPage"):wt(e,{current:1,pageSize:100}),Pe(e)};function ft(t){be.loading(!0);let n=I.v.Api+"FP938S7/",a={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(n,a,we.token[0]).then((e=>{if(200==e.Output.status.code){let n=0;e.Output.data.length>0?(n=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):n=0,10==t.pageSize?Xe(Math.ceil(n)):20==t.pageSize?Xe(Math.ceil(n/2)):50==t.pageSize?Xe(Math.ceil(n/5)):100==t.pageSize&&Xe(Math.ceil(n/10)),Je(e.Output.data),be.loading(!1)}}))}function ht(e,t){Fe({type:"editData",payload:[t]}),Fe({type:"IsDraft",payload:Ze}),Fe({type:"ShowDetail",payload:!0}),be.Expanded(!0),We&&ve(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&je(e.cardview),e.Dialogview&&(V(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&wt(e.searchsafaritext,{current:A.current,pageSize:A.pageSize})}),[e.searchsafaritext]);const Nt=()=>{be.EditClose(!0),se?(document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSSVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),He?(C||(document.getElementById("PPMSSVendorInvoiceDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSVendorInvoiceDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSSVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSSVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSSVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("PPMSSVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSSVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ve(!1),window.clickFilter=!se},bt=(t,n,a,l,o,r)=>{be.loading(!0),"DraftPage"!==l&&Re(we.IsDraft);let i=I.v.Api+"FP938S3/",d={data:{p1:o||(n&&n.PPMSSVendorInvoiceIDPK?n.PPMSSVendorInvoiceIDPK:null),p2:n&&n.PPMSSVendorInvoiceCode?n.PPMSSVendorInvoiceCode:null,p3:n&&n.PPMSSVenInvCode?n.PPMSSVenInvCode:null,p4:n&&n.PPMSSVendorInvoiceNarration?n.PPMSSVendorInvoiceNarration:null,p5:n&&n.PPMSSVendorInvoiceInvNo?n.PPMSSVendorInvoiceInvNo:null,p6:n&&n.PPMSSVendorInvoiceRefNo?n.PPMSSVendorInvoiceRefNo:null,p7:n&&n.PPMSSVendorInvoiceAmount?n.PPMSSVendorInvoiceAmount:null,p8:n&&n.PPMSSVendorInvoiceDate?n.PPMSSVendorInvoiceDate:null,p9:n&&n.PPMSSVendorInvoiceDateType?n.PPMSSVendorInvoiceDateType:null,p10:n&&n.PPMSSVendorInvoiceDateBetween?n.PPMSSVendorInvoiceDateBetween:null,p11:n&&n.PPMSSVendorInvoiceDectAmount?n.PPMSSVendorInvoiceDectAmount:null,p12:n&&n.PPMSSVendorInvoiceDectKey?n.PPMSSVendorInvoiceDectKey:null,p13:null,p14:null,p15:"DraftPPMSSVendorInvoiceID"==a?"1":"0",p16:null,p17:e.parentId?Number(e.parentId):0,p18:n&&n.MatVendorID?n.MatVendorID:null,p19:n&&n.IsActive,p20:null,p21:n&&n.CreatedUserID_varchar?n.CreatedUserID_varchar:null,p22:n&&n.CreatedTtm?n.CreatedTtm:null,p23:n&&n.CreatedTtmType?n.CreatedTtmType:null,p24:n&&n.CreatedTtmBetween?n.CreatedTtmBetween:null,p25:null,p26:n&&n.ContractID?n.ContractID:null,p27:n&&n.ContractCode?n.ContractCode:null,p28:n&&n.ContractName?n.ContractName:null,p29:n&&n.LocalityID?n.LocalityID:null,p30:n&&n.LocalityCode?n.LocalityCode:null,p31:n&&n.LocalityName?n.LocalityName:null,p32:n&&n.BuildingID?n.BuildingID:null,p33:n&&n.BuildingCode?n.BuildingCode:null,p34:n&&n.BuildingName?n.BuildingName:null,p35:n&&n.FloorID?n.FloorID:null,p36:n&&n.FloorCode?n.FloorCode:null,p37:n&&n.FloorName?n.FloorName:null,p38:n&&n.SpotID?n.SpotID:null,p39:n&&n.SpotCode?n.SpotCode:null,p40:n&&n.SpotName?n.SpotName:null,p41:n&&n.DivisionID?n.DivisionID:null,p42:n&&n.DivisionCode?n.DivisionCode:null,p43:n&&n.DivisionName?n.DivisionName:null,p44:n&&n.DisciplineID?n.DisciplineID:null,p45:n&&n.DisciplineCode?n.DisciplineCode:null,p46:n&&n.DisciplineName?n.DisciplineName:null,p47:n&&n.FrequencyID?n.FrequencyID:null,p48:n&&n.FrequencyCode?n.FrequencyCode:null,p49:n&&n.FrequencyName?n.FrequencyName:null,p50:n&&n.PPMBusinessFlowID?n.PPMBusinessFlowID:null,p51:n&&n.BriefDetails?n.BriefDetails:null,p52:n&&n.FlowCode?n.FlowCode:null,p53:n&&n.FlowDisplayName?n.FlowDisplayName:null,p54:n&&n.PPMFixonBusinessFlowID?n.PPMFixonBusinessFlowID:null,p55:n&&n.FixonBusinessFlowName?n.FixonBusinessFlowName:null,p56:n&&n.PPMFixonBusinessFlowCode?n.PPMFixonBusinessFlowCode:null,p57:n&&n.PPMStageID?n.PPMStageID:null,p58:n&&n.PPMStageName?n.PPMStageName:null,p59:n&&n.StageSeqNo?n.StageSeqNo:null,p60:n&&n.SSCreWorkOrder?n.SSCreWorkOrder:null,p61:n&&n.MatVendorTypeID?n.MatVendorTypeID:null,p62:n&&n.MatVendorTypeCode?n.MatVendorTypeCode:null,p63:n&&n.VendorTypeName?n.VendorTypeName:null,p64:n&&n.CityID?n.CityID:null,p65:n&&n.CityCode?n.CityCode:null,p66:n&&n.CityName?n.CityName:null,p67:n&&n.StateID?n.StateID:null,p68:n&&n.StateCode?n.StateCode:null,p69:n&&n.StateName?n.StateName:null,p70:n&&n.CountryID?n.CountryID:null,p71:n&&n.CountryCode?n.CountryCode:null,p72:n&&n.CountryName?n.CountryName:null,p73:n&&n.MatVendorCode?n.MatVendorCode:null,p74:n&&n.VendorName?n.VendorName:null,p75:o?1:t.current,p76:t.pageSize,p77:a,p78:null,p79:null,p80:localStorage.getItem("UserGroupID"),p81:localStorage.getItem("userid")}};(0,c.Z)(i,d,we.token[0]).then((i=>{if(o)(0,ee.a)(i,Fe,l,r,be);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,w(i.Output.data[0].TotalCount),x(i.Output.data[0].DraftCnt),Fe({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==l&&x(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?N(Math.ceil(e)):20==t.pageSize?N(Math.ceil(e/2)):50==t.pageSize?N(Math.ceil(e/5)):100==t.pageSize&&N(Math.ceil(e/10)),ce(i.Output.data),be.loading(!1)}e.Dialogview||(document.getElementById("divPPMSSVendorInvoiceDetails-Entry").style.height="auto",document.getElementById("divPPMSSVendorInvoiceDetails-Entry").style.display="block")}else be.loading(!1),"DraftPPMSSVendorInvoiceID"===a?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ve(!0),Re(!1)):(ce([]),T({current:1,pageSize:10}),N(0),w(0),Fe({type:"count",payload:"0"}),Object.values(n).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[i.Output.status.message]}),be.loading(!1)}))};function wt(t,n){be.loading(!0);const a=I.v.Api+"FP938S4/",l={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:n.current,p5:n.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,w(e.Output.data[0].TotalCount),Fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==n.pageSize?N(Math.ceil(t)):20==n.pageSize?N(Math.ceil(t/2)):50==n.pageSize?N(Math.ceil(t/5)):100==n.pageSize&&N(Math.ceil(t/10)),ce(e.Output.data),be.loading(!1)}else ce([]),N(0),w(0),Fe({type:"count",payload:"0"}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function Ft(e){let t=[],n=[],a=[],l=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(n.push(e.FieldDisplay),a.push(e.FieldDescription)));let o=localStorage.getItem("Language");l.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Fe({type:"language",payload:Object.assign({},...l)}),$e(n.reduce(((e,t)=>(e[t]="",e)),{})),De(e),Me(t),Ve(n),ot(a),it(n)}const xt=()=>he?null:l().createElement("div",null,Ye?l().createElement(ie.Z,{data:qe,expanded:e=>!C&&be.Expanded(e),edit:(e,t,n)=>{C?be.select(e):(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:t}),Fe({type:"ShowDetail",payload:n}))}}):l().createElement(re.Z,{ref:m,frmctrlid:"tblcs_938_L1_",id:"PPMSSVendorInvoiceDetailsTable",headerdata:ye,tablesearchparams:Ge,searchvalue:e=>{$e(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Dt(t),T({current:1,pageSize:10}),bt({current:1,pageSize:10},t,Ze?"DraftPPMSSVendorInvoiceID":"PPMSSVendorInvoiceID",Ze&&"DraftPage")},bodydata:le,ondrag:ht,bodyitem:Ce,visibleitem:ye,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:S,showMore:!1,accessrights:we.AccessRights,expanded:e=>!C&&be.Expanded(e),edit:(e,t,n)=>{C?be.select(e):(Object.keys(e).map(((a,l)=>{a.includes("IDPK")&&bt(A,null,t?"DraftPPMSSVendorInvoiceID":"PPMSSVendorInvoiceID",t&&"DraftPage",e[a],n)})),be.hideAddBtn(!0))},viewtoggle:be.viewtoggle,isexpanded:!C||We,tf:Vt,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{_e(we.ExpandTableValue)}),[we.ExpandTableValue]),l().createElement("div",null,!ut&&!e.tableview&&l().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},l().createElement("div",{id:"fld938L1ECSearchBar",className:"searchbar1"},l().createElement(g.Z,{frmctrlid:"fld938L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Ct("Search"),value:Se,onChange:e=>{Pe(e),be.searchItem(e)},style:{width:"300px"}}),l().createElement("div",{className:"search_icon"},Se?l().createElement("div",{id:"fld938L1TCCloseIconCommonSearch",onClick:()=>{Pe(""),be.searchItem("")}},l().createElement(s.Z,{className:"InputSearchIcon"})):l().createElement("div",{id:"fld938L1TCInputSearchIcon"},l().createElement(G.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSSVendorInvoiceDetailsgridsearch").focus()}})))),l().createElement("div",null,we.AccessRights.IsAdd?l().createElement(ne.Z,{className:"SaveBtnCommon",frmctrlid:"fld938L1TCAddBtnIsAdd",onClick:()=>{be.hideAddBtn(!0),Fe({type:"editData",payload:[]}),Fe({type:"ShowDetail",payload:!1}),Fe({type:"Add",payload:!0})}}):"")),l().createElement(r.Z,{expanded:Ke,onChange:()=>()=>{ze(We)}},e.Dialogview&&l().createElement($.Z,null,l().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},l().createElement("div",{className:"displayFlex EntryHeader"},l().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[938]"},`${Vt("938")} (${b})`)),!1===e.cardview?null:l().createElement("div",{className:"displayFlex EntryHeaderBtn"},l().createElement("div",{id:"fld938L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},l().createElement(g.Z,{frmctrlid:"fld938L1TCInputSearch",className:"search_input",type:"text",placeholder:Ct("Search"),value:Se,onChange:e=>{Et(e)}}),l().createElement("div",{className:"search_icon"},Se?l().createElement("div",{id:"fld938L1TCInputCloseIcon",onClick:()=>{Et("")}},l().createElement(s.Z,{className:"InputSearchIcon"})):l().createElement("div",{id:"fld938L1TCInputSearchIcon"},l().createElement(G.Z,{className:"InputSearchIcon"}))))))),l().createElement(i.Z,{className:"AccDetails"},l().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&l().createElement("div",{id:"PPMSSVendorInvoiceDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:l().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&l().createElement("div",{frmctrlid:"fld938L1TCFilterDataIsDraft",id:"PPMSSVendorInvoiceDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Nt()}},l().createElement(u.ZP,{title:Ct("Filter Data"),placement:"top"},l().createElement("span",null,l().createElement(y.Ol$,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"displayNone"},Ct("Filter Data"))),!C&&!Ze&&!he&&l().createElement(z.Z,{formctrlidprint:"fld938L1TCExportPrint",formctrlidexport:"fld938L1TCExportTable",formctrlidrefresh:"fld938L1TCExportRefresh",title:Vt("938"),data:Z,exportData:yt,Items:rt,columnIndex:lt,TableVisibleItem:ye,userGridViewFormID:S,TableTotalCount:b,triggerApi:t=>{((t,a,l,o,r)=>{if(0===b)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let i=I.v.Api+"FP938S3/",d={data:{p1:t&&t.PPMSSVendorInvoiceIDPK?t.PPMSSVendorInvoiceIDPK:null,p2:t&&t.PPMSSVendorInvoiceCode?t.PPMSSVendorInvoiceCode:null,p3:t&&t.PPMSSVenInvCode?t.PPMSSVenInvCode:null,p4:t&&t.PPMSSVendorInvoiceNarration?t.PPMSSVendorInvoiceNarration:null,p5:t&&t.PPMSSVendorInvoiceInvNo?t.PPMSSVendorInvoiceInvNo:null,p6:t&&t.PPMSSVendorInvoiceRefNo?t.PPMSSVendorInvoiceRefNo:null,p7:t&&t.PPMSSVendorInvoiceAmount?t.PPMSSVendorInvoiceAmount:null,p8:t&&t.PPMSSVendorInvoiceDate?t.PPMSSVendorInvoiceDate:null,p9:t&&t.PPMSSVendorInvoiceDateType?t.PPMSSVendorInvoiceDateType:null,p10:t&&t.PPMSSVendorInvoiceDateBetween?t.PPMSSVendorInvoiceDateBetween:null,p11:t&&t.PPMSSVendorInvoiceDectAmount?t.PPMSSVendorInvoiceDectAmount:null,p12:t&&t.PPMSSVendorInvoiceDectKey?t.PPMSSVendorInvoiceDectKey:null,p13:null,p14:null,p15:Ze?"1":"0",p16:null,p17:e.parentId?Number(e.parentId):0,p18:t&&t.MatVendorID?t.MatVendorID:null,p19:t&&t.IsActive,p20:null,p21:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p22:t&&t.CreatedTtm?t.CreatedTtm:null,p23:t&&t.CreatedTtmType?t.CreatedTtmType:null,p24:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p25:null,p26:t&&t.ContractID?t.ContractID:null,p27:t&&t.ContractCode?t.ContractCode:null,p28:t&&t.ContractName?t.ContractName:null,p29:t&&t.LocalityID?t.LocalityID:null,p30:t&&t.LocalityCode?t.LocalityCode:null,p31:t&&t.LocalityName?t.LocalityName:null,p32:t&&t.BuildingID?t.BuildingID:null,p33:t&&t.BuildingCode?t.BuildingCode:null,p34:t&&t.BuildingName?t.BuildingName:null,p35:t&&t.FloorID?t.FloorID:null,p36:t&&t.FloorCode?t.FloorCode:null,p37:t&&t.FloorName?t.FloorName:null,p38:t&&t.SpotID?t.SpotID:null,p39:t&&t.SpotCode?t.SpotCode:null,p40:t&&t.SpotName?t.SpotName:null,p41:t&&t.DivisionID?t.DivisionID:null,p42:t&&t.DivisionCode?t.DivisionCode:null,p43:t&&t.DivisionName?t.DivisionName:null,p44:t&&t.DisciplineID?t.DisciplineID:null,p45:t&&t.DisciplineCode?t.DisciplineCode:null,p46:t&&t.DisciplineName?t.DisciplineName:null,p47:t&&t.FrequencyID?t.FrequencyID:null,p48:t&&t.FrequencyCode?t.FrequencyCode:null,p49:t&&t.FrequencyName?t.FrequencyName:null,p50:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p51:t&&t.BriefDetails?t.BriefDetails:null,p52:t&&t.FlowCode?t.FlowCode:null,p53:t&&t.FlowDisplayName?t.FlowDisplayName:null,p54:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p55:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p56:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p57:t&&t.PPMStageID?t.PPMStageID:null,p58:t&&t.PPMStageName?t.PPMStageName:null,p59:t&&t.StageSeqNo?t.StageSeqNo:null,p60:t&&t.SSCreWorkOrder?t.SSCreWorkOrder:null,p61:t&&t.MatVendorTypeID?t.MatVendorTypeID:null,p62:t&&t.MatVendorTypeCode?t.MatVendorTypeCode:null,p63:t&&t.VendorTypeName?t.VendorTypeName:null,p64:t&&t.CityID?t.CityID:null,p65:t&&t.CityCode?t.CityCode:null,p66:t&&t.CityName?t.CityName:null,p67:t&&t.StateID?t.StateID:null,p68:t&&t.StateCode?t.StateCode:null,p69:t&&t.StateName?t.StateName:null,p70:t&&t.CountryID?t.CountryID:null,p71:t&&t.CountryCode?t.CountryCode:null,p72:t&&t.CountryName?t.CountryName:null,p73:t&&t.MatVendorCode?t.MatVendorCode:null,p74:t&&t.VendorName?t.VendorName:null,p75:A.current,p76:b,p77:Ze?"DraftPPMSSVendorInvoiceID":"PPMSSVendorInvoiceID",p78:null,p79:null,p80:localStorage.getItem("UserGroupID"),p81:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${Vt(938)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(i,d,we.token[0],r).then((e=>{(0,ae.PDF_Excel_Generate)(e,be,rt,B,n,r)}))})(ue,O.column,0,0,t)},Refresh:()=>{Pe(""),T({current:1,pageSize:100}),m.current.clearItem(),we.IsDraft?bt({current:1,pageSize:100},xe,"DraftPPMSSVendorInvoiceID"):bt({current:1,pageSize:100},xe,"PPMSSVendorInvoiceID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:n,iconinfo:"displayNone"}),!Ze&&!he&&!C&&l().createElement("div",{className:"buttoncard",onClick:()=>mt(!st)},l().createElement("span",null,st?l().createElement(u.ZP,{disableFocusListener:!0,title:Ct("Less"),placement:"top"},l().createElement("span",{id:"fld938L1TCLess"},l().createElement(q.ldB,{className:"tableFilterColumnIcon"}))):l().createElement(u.ZP,{disableFocusListener:!0,title:Ct("More"),placement:"top"},l().createElement("span",{id:"fld938L1TCMore"},l().createElement(q.ilJ,{className:"tableFilterColumnIcon"}))))),st?l().createElement("div",{className:"EntryHeaderMore"},l().createElement("div",{style:{display:"flex"}},he||!We?null:C||!we.AccessRights.IsAdd||Ze?"":l().createElement("div",null,l().createElement("div",{frmctrlid:"fld938L1TCFilterDataIsAdd",id:"PPMSSVendorInvoiceDetailscoldiv",className:"buttoncard",onClick:()=>{be.EditClose(!0),Ie?(document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSVendorInvoiceDetailsTabDiv").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv").style.display="none",document.getElementById("PPMSSVendorInvoiceDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSVendorInvoiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!1)):(document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv").style.width="25%",document.getElementById("PPMSSVendorInvoiceDetailsTabDiv").style.width="75%",document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv").style.display="block",document.getElementById("PPMSSVendorInvoiceDetailsfildiv").style.width="fit-content",document.getElementById("PPMSSVendorInvoiceDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSSVendorInvoiceDetailscoldiv").style.width="fit-content",document.getElementById("PPMSSVendorInvoiceDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ve(!0)),me(!1)}},l().createElement(u.ZP,{title:Ct("Manage Columns"),placement:"top"},l().createElement("div",null,l().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"displayNone"},Ct("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&We&&!he&&!Ze&&l().createElement("div",null,l().createElement("div",{id:"PPMSSVendorInvoiceDetailscoldiv",className:"buttoncard",onClick:()=>{Ye?Ue(!1):(Ue(!0),ft({current:1,pageSize:100}))}},l().createElement(u.ZP,{title:Ct("TableScrollData"),placement:"top"},l().createElement("div",{id:"fld938L1TCTableScrollData"},l().createElement(de.Z,{className:"tableFilterColumnIcon"}))),l().createElement("span",{className:"displayNone"},Ct("Table Scroll Data")))),!he&&Ze?l().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{be.hideAddBtn(!1),be.ExpandEntry(),bt({current:1,pageSize:100},xe,"PPMSSVendorInvoiceID"),Re(!1),Pe(""),Fe({type:"IsDraft",payload:!1}),T({current:1,pageSize:10})}},l().createElement(u.ZP,{title:Ct("List"),placement:"top"},l().createElement("div",{id:"fld938L1TCList"},l().createElement(J.u1R,{className:"backButtonList"}))),l().createElement("p",{className:"DraftP"},Ct("Drafts")," ",b)):!C&&!he&&we.AccessRights.IsAdd&&l().createElement("div",null,l().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:F,showZero:!0},l().createElement("div",{id:"fld938L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{F>0?(T({current:1,pageSize:100}),f(0),be.clear(),Pe(""),Fe({type:"Add",payload:!1}),bt({current:1,pageSize:10},xe,"DraftPPMSSVendorInvoiceID"),Re(!0),Fe({type:"IsDraft",payload:!0}),ve(!1),je(!0),document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv").style.width="0%",document.getElementById("PPMSSVendorInvoiceDetailsTabDiv").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetailsFilterDiv").style.display="none",T({current:1,pageSize:100}),Ne(!1)):be.alert({open:!0,color:"warning",message:[Ct("There is no Record Found")]})}},l().createElement(u.ZP,{title:Ct("Drafts"),placement:"top"},l().createElement("div",null,l().createElement(Q.rNm,{className:"DraftIcon"}))),l().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ct("Drafts"))))))):""),!Ze&&!C&&l().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},he||Ze?null:l().createElement("div",null,l().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},l().createElement("div",{className:"b2",id:"button-11"},l().createElement("div",{className:He?"buttonList":"buttonGrid",id:"fld938L1TCListView",onClick:()=>{je(!0),ct(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(q.umT,null)),l().createElement("span",null,Ct("List"))),l().createElement("div",{className:He||dt?"buttonGrid":"buttonList",id:"fld938L1TCCardView",onClick:()=>{je(!1),ct(!1)}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(M.aCJ,null)),l().createElement("span",null,Ct("Card"))),l().createElement("div",{className:dt?"buttonList":"buttonGrid",id:"fld938L1TCTileView",onClick:()=>{ct(!0),je(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},l().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},l().createElement(X.f_H,null)),l().createElement("span",null,Ct("Tile"))))))),he?null:Ye?e.IsCollapse?l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(Y.Z,{style:{color:"#777"},id:"fld938L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:E,onPageChange:(e,t)=>{f(t),ft({current:t+1,pageSize:nt.pageSize}),at({current:t+1,pageSize:nt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(W.Z,{count:Qe,color:"primary",page:nt.current,onChange:(e,t)=>{at({current:t,pageSize:nt.pageSize}),Xe(t),ft({current:t,pageSize:nt.pageSize})}}),l().createElement("div",null,l().createElement(H.Z,{className:"BootstrapInputStyle",value:nt.pageSize,frmctrlid:"fld938L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},l().createElement(_.Z,{value:10},"10"),l().createElement(_.Z,{value:20},"20"),l().createElement(_.Z,{value:50},"50"),l().createElement(_.Z,{value:100},"100"))),We&&l().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",et,")")):e.IsCollapse?l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(Y.Z,{style:{color:"#777"},id:"fld938L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(b),page:E,onPageChange:(e,t)=>{f(t),bt({current:t+1,pageSize:A.pageSize},xe,Ze?"DraftPPMSSVendorInvoiceID":"PPMSSVendorInvoiceID",Ze&&"DraftPage"),T({current:t+1,pageSize:A.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):l().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},l().createElement(W.Z,{count:h,siblingCount:0,color:"primary",page:A.current,onChange:(e,t)=>{if(T({current:t,pageSize:A.pageSize}),Ze)bt({current:t,pageSize:A.pageSize},Ae,"DraftPPMSSVendorInvoiceID","DraftPage");else{var n=document.querySelectorAll(".CardViewMain");for(let e=0;e<n.length;e++)n[e].style.background="#FFF";Se.length>0?wt(Se,{current:t,pageSize:A.pageSize}):bt({current:t,pageSize:A.pageSize},Ae,"PPMSSVendorInvoiceID")}}}),l().createElement("div",null,l().createElement(H.Z,{className:"BootstrapInputStyle",value:A.pageSize,id:"fld938L1TCSelectPaging",onChange:e=>{T({current:1,pageSize:e.target.value}),Ze?bt({current:1,pageSize:e.target.value},Ae,"DraftPPMSSVendorInvoiceID","DraftPage"):Se.length>0?wt(Se,{current:1,pageSize:e.target.value}):bt({current:1,pageSize:e.target.value},Ae,"PPMSSVendorInvoiceID")}},l().createElement(_.Z,{value:10},"10"),l().createElement(_.Z,{value:20},"20"),l().createElement(_.Z,{value:50},"50"),l().createElement(_.Z,{value:100},"100"))),We&&l().createElement("p",{className:"per-page"},"/ ",Ct("RowperpageOf")," (",b,") "))),l().createElement("div",{id:"PPMSSVendorInvoiceDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},l().createElement("div",{id:"PPMSSVendorInvoiceDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},se&&l().createElement(K,{parentId:e.parentId,searchData:e=>{pe(e||gt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:S,data:()=>{},visibleData:()=>{},token:we.token[0],CloseBtnClk:()=>Nt(),userGrid:It,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Ie&&l().createElement(j.Z,{Refresh:e=>{bt({current:1,pageSize:100},xe,"PPMSSVendorInvoiceID")},frmctrlid:"fld938L1TCTableColumnOrder",loading:e=>be.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:Ie,userID:p,userGridViewFormID:S,saved:(e,t)=>{e&&Ft(t),vt(t),Fe({type:"showTableview",payload:t})},Token:we.token[0]})),l().createElement("div",{id:"PPMSSVendorInvoiceDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},He?l().createElement(xt,null):l().createElement(U.Z,{frmctrlid:"fld938L1TCExpandedCardDual",data:le,id:"PPMSSVendorInvoiceDetails",title:"PPMSSVendorInvoiceCode",cardTile:!!dt,visibleitem:ye,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?be.select(e):("edit"==t?(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:Ze}),Fe({type:"ShowDetail",payload:!1}),be.Expanded(!0)):(Fe({type:"editData",payload:[e]}),Fe({type:"IsDraft",payload:Ze}),Fe({type:"ShowDetail",payload:!0}),be.Expanded(!0),be.viewtoggle()),se?me(!0):Ie?ve(!0):(ve(!1),ve(!1))),be.hideAddBtn(!0)}})))))))}));var se=n(37148),me=n(29800),ue=(n(10966),n(21392),n(26537)),pe=n(44528),Se=n(99090),Pe=n(1695),Ie=n(61924),ve=n.n(Ie),ge=n(40826),De=n(55490),ye=n(92371);const Me={EnterKeyValues:{PPMSSVendorInvoiceDetails:["VendorName","PPMSSVendorInvoiceNarration","PPMSSVendorInvoiceInvNo","PPMSSVendorInvoiceRefNo","PPMSSVendorInvoiceAmount","PPMSSVendorInvoiceCode","PPMSSVenInvCode","PPMSSVendorInvoiceDate","PPMSSVendorInvoiceDectAmount","PPMSSVendorInvoiceDectKey","IsActual","SSCreWorkOrder"]},Label:{PPMSSVendorInvoiceDetails:{MatVendorID:["MatVendorCode","VendorName"],PPMSSVendorInvoiceNarration:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceInvNo:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceRefNo:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceAmount:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceCode:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVenInvCode:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceDate:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceDectAmount:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceDectKey:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],IsActual:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSCreationWorkOrderID:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"]}},LabelHeader:{PPMSSVendorInvoiceDetails:{MatVendorID:["Vendor Code","Vendor Name"],PPMSSVendorInvoiceNarration:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceInvNo:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceRefNo:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceAmount:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceCode:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVenInvCode:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceDate:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceDectAmount:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSVendorInvoiceDectKey:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],IsActual:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"],PPMSSCreationWorkOrderID:["PPMSSVendorInvoiceCode","PPMSSVenInvCode"]}},Property:{PPMSSVendorInvoiceDetails:{MatVendorID:{id:"fld938_24460",clearID:"PPMSSVendorInvoiceDetailsVendorNameClear",type:"select",labelID:"MatVendorIDPK",labelname:"Vendor",fielddisplayname:"VendorName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMSSVendorInvoiceNarration:{id:"fld938_24448",labelID:"PPMSSVendorInvoiceNarration",maxLength:"250",labelname:"Narration",frmctrlid:"fld938_24448",frmctrlidname:"PPMSSVendorInvoiceNarration",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVendorInvoiceInvNo:{id:"fld938_24449",labelID:"PPMSSVendorInvoiceInvNo",maxLength:"15",labelname:"Invoice No",frmctrlid:"fld938_24449",frmctrlidname:"PPMSSVendorInvoiceInvNo",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVendorInvoiceRefNo:{id:"fld938_24450",labelID:"PPMSSVendorInvoiceRefNo",maxLength:"15",labelname:"Ref No",frmctrlid:"fld938_24450",frmctrlidname:"PPMSSVendorInvoiceRefNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVendorInvoiceAmount:{id:"fld938_24451",labelID:"PPMSSVendorInvoiceAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld938_24451",frmctrlidname:"PPMSSVendorInvoiceAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVendorInvoiceCode:{id:"fld938_24446",labelID:"PPMSSVendorInvoiceCode",maxLength:"50",labelname:"PPMSSVendorInvoiceCode",frmctrlid:"fld938_24446",frmctrlidname:"PPMSSVendorInvoiceCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVenInvCode:{id:"fld938_24447",labelID:"PPMSSVenInvCode",maxLength:"-1",labelname:"PPMSSVenInvCode",frmctrlid:"fld938_24447",frmctrlidname:"PPMSSVenInvCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVendorInvoiceDate:{id:"fld938_24452",labelID:"PPMSSVendorInvoiceDate",maxLength:"",labelname:"PPMSSVendorInvoiceDate",frmctrlid:"fld938_24452",frmctrlidname:"PPMSSVendorInvoiceDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVendorInvoiceDectAmount:{id:"fld938_24453",labelID:"PPMSSVendorInvoiceDectAmount",maxLength:"",labelname:"PPMSSVendorInvoiceDectAmount",frmctrlid:"fld938_24453",frmctrlidname:"PPMSSVendorInvoiceDectAmount",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSVendorInvoiceDectKey:{id:"fld938_24454",labelID:"PPMSSVendorInvoiceDectKey",maxLength:"",labelname:"PPMSSVendorInvoiceDectKey",frmctrlid:"fld938_24454",frmctrlidname:"PPMSSVendorInvoiceDectKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsActual:{id:"fld938_24455",labelID:"IsActual",maxLength:"",labelname:"IsActual",frmctrlid:"fld938_24455",frmctrlidname:"IsActual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSSCreationWorkOrderID:{id:"fld938_24459",clearID:"PPMSSVendorInvoiceDetailsSSCreWorkOrderClear",type:"select",labelID:"PPMSSCreationWorkOrderIDPK",labelname:"PPMSSCreationWorkOrderID",fielddisplayname:"SSCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSSVendorInvoiceDetails:{MatVendorID:["VendorName","MatVendorCode"],PPMSSCreationWorkOrderID:["BuildingID","ContractID","DisciplineID","DivisionID","FloorID","FrequencyID","LocalityID","PPMStageID","SpotID","SSCreWorkOrder","SSCreWoDateTime","SSCreSLAHours"]}}};var Ce=n(6562),Ve=n(45155),Ee=n(79352),fe=n(49174),he=(n(38773),n(19089),n(16233)),Ne=n.n(he);n(82729),n(75355),n(11107);const be={PPMSSVendorInvoiceIDPK:"",PPMSSVendorInvoiceCode:"",PPMSSVenInvCode:"",PPMSSVendorInvoiceNarration:"",PPMSSVendorInvoiceInvNo:"",PPMSSVendorInvoiceRefNo:"",PPMSSVendorInvoiceAmount:"",PPMSSVendorInvoiceDate:"",PPMSSVendorInvoiceDateType:"",PPMSSVendorInvoiceDateBetween:"",PPMSSVendorInvoiceDectAmount:"",PPMSSVendorInvoiceDectKey:"",IsActual:!1,IsDefault:!1,IsDraft:!1,Remarks:"",PPMSSCreationWorkOrderID:null,MatVendorID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",SSCreWorkOrder:"",MatVendorTypeID:null,MatVendorTypeCode:"",VendorTypeName:"",CityID:null,CityCode:"",CityName:"",StateID:null,StateCode:"",StateName:"",CountryID:null,CountryCode:"",CountryName:"",MatVendorCode:"",VendorName:"",Type:"PPMSSVendorInvoiceID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},we=(0,a.forwardRef)(((e,t)=>{const n=(0,o.useSelector)((e=>e.form)),[d,s]=(0,a.useState)(!1),[m,u]=(0,a.useState)(!0),[p,v]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[M,C]=(0,a.useState)(""),[E,N]=(0,a.useState)(!1),[b,w]=(0,a.useState)([]),[F,x]=(0,a.useState)(null),[A,T]=(0,a.useReducer)(ye.Z,be),[k,B]=(0,a.useState)(!1),[Z,O]=(0,a.useState)([]),[R,K]=(0,a.useState)(!1),z=(0,a.useContext)(e.context?e.context:Le),{cstate:W,cdispatch:_}=e.ContextApi?e.ContextApi:Oe(),[H,j]=(0,a.useState)(0),[G,Y]=(0,a.useState)(""),U=(0,a.useRef)(null),[q,J]=Ne()("938"),[Q,X]=(0,a.useState)(!0),[ee,te]=(0,a.useState)(!0),[ne,ae]=(0,a.useState)(""),[le,oe]=(0,a.useState)(!0),[re,ie]=(0,a.useState)(!0),[de,ce]=(0,a.useState)(!1);let me=(0,D.Z)();const[Ie,he]=(0,a.useState)({}),we=e=>me[e]?me[e]:e,Fe=t=>W.language?.[t]?W.language[t]:e.createEasy?Ie?.[t]:t;(0,a.useEffect)((()=>{W.PrimaryId&&j(Number(W.PrimaryId))}),[W.PrimaryId]),(0,a.useEffect)((()=>{ke()}),[]),(0,a.useEffect)((()=>{ke()}),[e.parentId]),(0,a.useEffect)((()=>{W.editData.length>0?(Te(W.editData[0],""),v(!0)):W.Add&&(ke(),v(!0))}),[W.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let n=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),he(Object.assign({},...t))}(q)}),[q]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{ke()},CreateEasyProps:(e=!0,t)=>{J(!0),t?($e(t),v(e)):(ke(),v(e))},AddOpen:e=>{ke(),v(!0)}})));const xe=e=>e?e.split("-").reverse().join("-"):null,Ae=e=>{if(e){let t=xe(e);return"Invalid Date"!=new Date(t)?(0,ge.format)(new Date(t),"yyyy-MM-dd"):e}return null},Te=(t,n)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),y(t.IsDraft),"SetDefaultPPMSSVendorInvoiceID"==n?Y(t.PPMSSVendorInvoiceIDPK):(j(e.primid?Number(e.primid):t.PPMSSVendorInvoiceIDPK?t.PPMSSVendorInvoiceIDPK:0),_({type:"PrimaryId",payload:t.PPMSSVendorInvoiceIDPK})),T({type:"number",name:"MatVendorID",number:t.MatVendorID?Number(t.MatVendorID):0}),T({type:"text",name:"VendorName",value:t.VendorName}),T({type:"text",name:"PPMSSVendorInvoiceNarration",value:t.PPMSSVendorInvoiceNarration?t.PPMSSVendorInvoiceNarration:""}),T({type:"text",name:"PPMSSVendorInvoiceInvNo",value:t.PPMSSVendorInvoiceInvNo?t.PPMSSVendorInvoiceInvNo:""}),T({type:"text",name:"PPMSSVendorInvoiceRefNo",value:t.PPMSSVendorInvoiceRefNo?t.PPMSSVendorInvoiceRefNo:""}),T({type:"number",name:"PPMSSVendorInvoiceAmount",number:Number(t.PPMSSVendorInvoiceAmount)}),T({type:"text",name:"PPMSSVendorInvoiceCode",value:t.PPMSSVendorInvoiceCode?t.PPMSSVendorInvoiceCode:""}),T({type:"text",name:"PPMSSVenInvCode",value:t.PPMSSVenInvCode?t.PPMSSVenInvCode:""}),T({type:"text",name:"PPMSSVendorInvoiceDate",value:t.PPMSSVendorInvoiceDate?xe(t.PPMSSVendorInvoiceDate):null}),T({type:"number",name:"PPMSSVendorInvoiceDectAmount",number:Number(t.PPMSSVendorInvoiceDectAmount)}),T({type:"number",name:"PPMSSVendorInvoiceDectKey",number:t.PPMSSVendorInvoiceDectKey}),T({type:"boolean",name:"IsActual",boolean:!!t.IsActual&&t.IsActual}),T({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),T({type:"number",name:"PPMSSCreationWorkOrderID",number:t.PPMSSCreationWorkOrderID?Number(t.PPMSSCreationWorkOrderID):0}),T({type:"text",name:"SSCreWorkOrder",value:t.SSCreWorkOrder}),t.IsDraft?u(!0):u(!("1"!=t.IsActive&&!t.IsActive))},ke=()=>{w([]),j(0),Y(""),e.createEasy||z.resetImg(),_({type:"PrimaryId",payload:""}),T({type:"text",name:"MatVendorID",value:null}),T({type:"text",name:"VendorName",value:""}),document.getElementById("PPMSSVendorInvoiceDetailsVendorNameClear")&&document.getElementById("PPMSSVendorInvoiceDetailsVendorNameClear").click(),T({type:"text",name:"PPMSSVendorInvoiceNarration",value:""}),T({type:"text",name:"PPMSSVendorInvoiceInvNo",value:""}),T({type:"text",name:"PPMSSVendorInvoiceRefNo",value:""}),T({type:"number",name:"PPMSSVendorInvoiceAmount",number:0}),T({type:"text",name:"PPMSSVendorInvoiceCode",value:""}),T({type:"text",name:"PPMSSVenInvCode",value:""}),T({type:"text",name:"PPMSSVendorInvoiceDate",value:""}),T({type:"number",name:"PPMSSVendorInvoiceDectAmount",number:0}),T({type:"number",name:"PPMSSVendorInvoiceDectKey",number:0}),T({type:"boolean",name:"IsActual",boolean:!1}),T({type:"boolean",name:"IsDefault",boolean:!1}),T({type:"text",name:"PPMSSCreationWorkOrderID",value:null}),T({type:"text",name:"SSCreWorkOrder",value:""}),document.getElementById("PPMSSVendorInvoiceDetailsSSCreWorkOrderClear")&&document.getElementById("PPMSSVendorInvoiceDetailsSSCreWorkOrderClear").click(),u(!0),C(""),X(!0),te(!0),oe(!0),ie(!0)},Be=t=>{z.loading(!0),z.ConfirmAlert(null);const n=I.v.Api+"FP938S2/",a={data:[{p1:"SetDefaultPPMSSVendorInvoiceID"==t?"NORECORDS"!=G&&G?G:0:H,p2:Ye(A.PPMSSVendorInvoiceCode),p3:Ye(A.PPMSSVenInvCode),p4:Ye(A.PPMSSVendorInvoiceNarration),p5:Ye(A.PPMSSVendorInvoiceInvNo),p6:Ye(A.PPMSSVendorInvoiceRefNo),p7:A.PPMSSVendorInvoiceAmount?Number(A.PPMSSVendorInvoiceAmount):0,p8:A.PPMSSVendorInvoiceDate?Ae(A.PPMSSVendorInvoiceDate):null,p9:A.PPMSSVendorInvoiceDectAmount?Number(A.PPMSSVendorInvoiceDectAmount):0,p10:A.PPMSSVendorInvoiceDectKey?Number(A.PPMSSVendorInvoiceDectKey):0,p11:A.IsActual,p12:A.IsDefault,p13:!1,p14:"SetDefaultPPMSSVendorInvoiceID"==t?"SetDefault":null,p15:e.parentId?Number(e.parentId):A.PPMSSCreationWorkOrderID?A.PPMSSCreationWorkOrderID:0,p16:A.MatVendorID?A.MatVendorID:0,p17:m,p18:"SetDefaultPPMSSVendorInvoiceID"==t,p19:localStorage.getItem("userid"),p20:f()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((t=>{(0,c.Z)(n,a,t).then((t=>{const n=t.Output[0].status;let a=t.Output[0].Data,l=new Array,o=new Array;"200"===n.code?(a.map((e=>{e&&(l.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:o}),z.loading(!1)):(t=>{X(!0),te(!0),oe(!0),ie(!0),z.loading(!0),z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const n=I.v.Api+"FP938S1/",a={data:[{p1:H,p2:Ye(A.PPMSSVendorInvoiceCode),p3:Ye(A.PPMSSVenInvCode),p4:Ye(A.PPMSSVendorInvoiceNarration),p5:Ye(A.PPMSSVendorInvoiceInvNo),p6:Ye(A.PPMSSVendorInvoiceRefNo),p7:A.PPMSSVendorInvoiceAmount?Number(A.PPMSSVendorInvoiceAmount):0,p8:A.PPMSSVendorInvoiceDate?Ae(A.PPMSSVendorInvoiceDate):null,p9:A.PPMSSVendorInvoiceDectAmount?Number(A.PPMSSVendorInvoiceDectAmount):0,p10:A.PPMSSVendorInvoiceDectKey?Number(A.PPMSSVendorInvoiceDectKey):0,p11:A.IsActual,p12:A.IsDefault,p13:!1,p14:null,p15:e.parentId?Number(e.parentId):A.PPMSSCreationWorkOrderID?A.PPMSSCreationWorkOrderID:0,p16:A.MatVendorID?A.MatVendorID:0,p17:m,p18:!1,p19:localStorage.getItem("userid"),p20:f()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((t=>{(0,h.Z)(n,a,t).then((t=>{const n=t[0].status;200==n.code?(z.alert({open:!0,color:"success",message:[n.message]}),document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails"),z.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(t[0].Data.IDPK)),ke(),W.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails")&&(document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails").style.display="none",document.getElementById("divPPMSSVendorInvoiceDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSSVendorInvoiceDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[n.message]}),z.loading(!1)),v(!0)}))}))})()):(z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),z.loading(!1))}))}))};function Ze(t,n,a,l){if(!(W.count>0))return z.alert({open:!0,color:"warning",message:[we("Please save atleast one record")]}),!1;if(!((()=>{const e={...A};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return z.alert({open:!0,color:"warning",message:[we("Please enter the primary fields")]}),!1;{X(!0),te(!0),oe(!0),ie(!0),z.loading(!0),z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const n=I.v.Api+"FP938S1/",a={data:[{p1:"SetDefaultPPMSSVendorInvoiceID"==l?"NORECORDS"!=G&&G?G:0:H,p2:Ye(A.PPMSSVendorInvoiceCode),p3:Ye(A.PPMSSVenInvCode),p4:Ye(A.PPMSSVendorInvoiceNarration),p5:Ye(A.PPMSSVendorInvoiceInvNo),p6:Ye(A.PPMSSVendorInvoiceRefNo),p7:A.PPMSSVendorInvoiceAmount?Number(A.PPMSSVendorInvoiceAmount):0,p8:A.PPMSSVendorInvoiceDate?Ae(A.PPMSSVendorInvoiceDate):null,p9:A.PPMSSVendorInvoiceDectAmount?Number(A.PPMSSVendorInvoiceDectAmount):0,p10:A.PPMSSVendorInvoiceDectKey?Number(A.PPMSSVendorInvoiceDectKey):0,p11:A.IsActual,p12:A.IsDefault,p13:!0,p14:"SetDefaultPPMSSVendorInvoiceID"==l?"SetDefault":null,p15:e.parentId?Number(e.parentId):A.PPMSSCreationWorkOrderID?A.PPMSSCreationWorkOrderID:0,p16:A.MatVendorID?A.MatVendorID:0,p17:!1,p18:"SetDefaultPPMSSVendorInvoiceID"==l,p19:localStorage.getItem("userid"),p20:f()().format("YYYY-MM-DD hh:mm:ss"),p21:localStorage.getItem("userid"),p22:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((l=>{(0,h.Z)(n,a,l).then((n=>{const a=n[0].status;200==a.code?(t?z.alert({open:!0,color:"warning",message:[we("Deleted Successfully")]}):z.alert({open:!0,color:"success",message:[we("Saved to Draft")]}),z.loading(!1),z.attachmentSave(n[0].Data.IDPK),ke(),z.RefreshTable(),e.clrImgstate(!0)):(z.alert({open:!0,color:"warning",message:[a.message]}),z.loading(!1))}))}))}}function Re(e){return CreateEasy(e,W,_,z,U),!1}function Ke(e,n){return AdvanceSearch(e,n,Le,Oe(),_e,t),!1}const ze=(t,n,a,l,o,r)=>{const i=I.v.Api+"FP938S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:A.PPMSSVendorInvoiceDate?A.PPMSSVendorInvoiceDate:null,p9:null,p10:null,p11:null,p12:null,p13:1==A.IsActual,p14:null,p15:null,p16:null,p17:e.parentId?Number(e.parentId):0,p18:"0"==A.MatVendorID?null:A.MatVendorID,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:"0"==A.ContractID?null:A.ContractID,p27:n?"%"+n+"%":null,p28:n?"%"+n+"%":null,p29:"0"==A.LocalityID?null:A.LocalityID,p30:n?"%"+n+"%":null,p31:n?"%"+n+"%":null,p32:"0"==A.BuildingID?null:A.BuildingID,p33:n?"%"+n+"%":null,p34:n?"%"+n+"%":null,p35:"0"==A.FloorID?null:A.FloorID,p36:n?"%"+n+"%":null,p37:n?"%"+n+"%":null,p38:"0"==A.SpotID?null:A.SpotID,p39:n?"%"+n+"%":null,p40:n?"%"+n+"%":null,p41:"0"==A.DivisionID?null:A.DivisionID,p42:n?"%"+n+"%":null,p43:n?"%"+n+"%":null,p44:"0"==A.DisciplineID?null:A.DisciplineID,p45:n?"%"+n+"%":null,p46:n?"%"+n+"%":null,p47:"0"==A.FrequencyID?null:A.FrequencyID,p48:n?"%"+n+"%":null,p49:n?"%"+n+"%":null,p50:"0"==A.PPMBusinessFlowID?null:A.PPMBusinessFlowID,p51:n?"%"+n+"%":null,p52:n?"%"+n+"%":null,p53:n?"%"+n+"%":null,p54:"0"==A.PPMFixonBusinessFlowID?null:A.PPMFixonBusinessFlowID,p55:n?"%"+n+"%":null,p56:n?"%"+n+"%":null,p57:"0"==A.PPMStageID?null:A.PPMStageID,p58:n?"%"+n+"%":null,p59:n?"%"+n+"%":null,p60:n?"%"+n+"%":null,p61:"0"==A.MatVendorTypeID?null:A.MatVendorTypeID,p62:n?"%"+n+"%":null,p63:n?"%"+n+"%":null,p64:"0"==A.CityID?null:A.CityID,p65:n?"%"+n+"%":null,p66:n?"%"+n+"%":null,p67:"0"==A.StateID?null:A.StateID,p68:n?"%"+n+"%":null,p69:n?"%"+n+"%":null,p70:"0"==A.CountryID?null:A.CountryID,p71:n?"%"+n+"%":null,p72:n?"%"+n+"%":null,p73:n?"%"+n+"%":null,p74:n?"%"+n+"%":null,p75:t,p76:10,p77:a,p78:null,p79:null,p80:localStorage.getItem("UserGroupID"),p81:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,n)=>(e[t]=n>Object.keys(d.data).length-8?d.data[t]:null,e)),{});B(!0);const m={data:s};return(0,c.Z)(i,"ClearAll"==a?m:d,"SetDefaultPPMSSVendorInvoiceID"==a&&l?l:W.token[0]).then((e=>{const n=e.Output.status.code,l=e.Output.data;if("200"==n){const e=l.length;if(o)return 1==l.length?l[0]:{};O(1==t?e>0?l:[]:Z.concat(l)),"SetDefaultPPMSSVendorInvoiceID"==a&&(e>0?Te(l[0],"SetDefaultPPMSSVendorInvoiceID"):Y("NORECORDS")),B(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},We=(t,a,l)=>{const o=I.v.Api+"FP938S3/",r={data:{p1:null,p2:"PPMSSVendorInvoiceCode"==l&&a?"%"+a+"%":null,p3:"PPMSSVenInvCode"==l&&a?"%"+a+"%":null,p4:"PPMSSVendorInvoiceNarration"==l&&a?"%"+a+"%":null,p5:"PPMSSVendorInvoiceInvNo"==l&&a?"%"+a+"%":null,p6:"PPMSSVendorInvoiceRefNo"==l&&a?"%"+a+"%":null,p7:"PPMSSVendorInvoiceAmount"==l&&a?"%"+a+"%":null,p8:null,p9:null,p10:null,p11:"PPMSSVendorInvoiceDectAmount"==l&&a?"%"+a+"%":null,p12:"PPMSSVendorInvoiceDectKey"==l&&a?"%"+a+"%":null,p13:null,p14:null,p15:null,p16:null,p17:n.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID?n.PPMSSCreationWorkOrderPPMSSCreationWorkOrderID:"0",p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:t,p76:10,p77:"PPMSSVendorInvoiceID",p78:null,p79:null,p80:localStorage.getItem("UserGroupID"),p81:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,n)=>(e[t]=n>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};B(!0),(0,c.Z)(o,"ClearAll"==l?i:r,W.token[0]).then((e=>{const n=e.Output.status.code,a=e.Output.data;if("200"==n){const e=a.length;1==t?("PPMSSVendorInvoiceCode"==l&&X(e>0),"PPMSSVenInvCode"==l&&te(e>0),"PPMSSVendorInvoiceDectAmount"==l&&oe(e>0),"PPMSSVendorInvoiceDectKey"==l&&ie(e>0),O(a)):("PPMSSVendorInvoiceCode"==l&&X(!0),"PPMSSVenInvCode"==l&&te(!0),"PPMSSVendorInvoiceDectAmount"==l&&oe(!0),"PPMSSVendorInvoiceDectKey"==l&&ie(!0),O(Z.concat(a))),B(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),B(!1)}))},_e=(0,a.useCallback)((async(e,t,n)=>{"text"==n?T({type:n,name:t,value:e}):"number"==n?T({type:n,name:t,number:Number(e)}):"boolean"==n?T({type:n,name:t,boolean:e}):"date"==n?T({type:"text",name:t,value:e}):"select"==n&&"MatVendorID"==t&&(T({type:"text",name:"MatVendorID",value:e.MatVendorIDPK?e.MatVendorIDPK:null}),T({type:"text",name:"VendorName",value:e.VendorName?e.VendorName:null}))}),[A]);function He(e){if("MatVendorID"==e){if(!A.MatVendorID)return!1;T({type:"text",name:"MatVendorID",value:null}),T({type:"text",name:"VendorName",value:""}),document.getElementById("PPMSSVendorInvoiceDetailsVendorNameClear")&&document.getElementById("PPMSSVendorInvoiceDetailsVendorNameClear").click()}else if("PPMSSCreationWorkOrderID"==e&&!A.PPMSSCreationWorkOrderID)return!1}function je(e){if("MatVendorID"==e){if(!A.MatVendorID)return!1;T({type:"text",name:"MatVendorID",value:null})}else if("PPMSSCreationWorkOrderID"==e&&!A.PPMSSCreationWorkOrderID)return!1}const Ge=e=>{z.ConfirmAlert(l().createElement(ve(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>$e(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:we("Yes"),cancelBtnText:we("No"),showCancel:!0},we("Do you want to update this record?")))};function $e(e){z.ConfirmAlert(null),y(e.IsDraft),j(Number(e.PPMSSVendorInvoiceIDPK)?Number(e.PPMSSVendorInvoiceIDPK):0),T({type:"number",name:"MatVendorID",number:e.MatVendorID?Number(e.MatVendorID):0}),T({type:"text",name:"VendorName",value:e.VendorName?e.VendorName:""}),T({type:"text",name:"PPMSSVendorInvoiceNarration",value:e.PPMSSVendorInvoiceNarration?e.PPMSSVendorInvoiceNarration:""}),T({type:"number",name:"PPMSSVendorInvoiceInvNo",number:e.PPMSSVendorInvoiceInvNo?Number(e.PPMSSVendorInvoiceInvNo):0}),T({type:"text",name:"PPMSSVendorInvoiceRefNo",value:e.PPMSSVendorInvoiceRefNo?e.PPMSSVendorInvoiceRefNo:""}),T({type:"number",name:"PPMSSVendorInvoiceAmount",number:e.PPMSSVendorInvoiceAmount?Number(e.PPMSSVendorInvoiceAmount):0}),T({type:"text",name:"PPMSSVendorInvoiceCode",value:e.PPMSSVendorInvoiceCode?e.PPMSSVendorInvoiceCode:""}),T({type:"text",name:"PPMSSVenInvCode",value:e.PPMSSVenInvCode?e.PPMSSVenInvCode:""}),T({type:"text",name:"PPMSSVendorInvoiceDate",value:e.PPMSSVendorInvoiceDate?xe(e.PPMSSVendorInvoiceDate):null}),T({type:"text",name:"PPMSSVendorInvoiceDectAmount",value:e.PPMSSVendorInvoiceDectAmount?e.PPMSSVendorInvoiceDectAmount:""}),T({type:"text",name:"PPMSSVendorInvoiceDectKey",value:e.PPMSSVendorInvoiceDectKey?e.PPMSSVendorInvoiceDectKey:""}),T({type:"boolean",name:"IsActual",boolean:!!e.IsActual&&e.IsActual}),T({type:"number",name:"PPMSSCreationWorkOrderID",number:e.PPMSSCreationWorkOrderID?Number(e.PPMSSCreationWorkOrderID):0}),T({type:"text",name:"SSCreWorkOrder",value:e.SSCreWorkOrder?e.SSCreWorkOrder:""})}const Ye=e=>"string"==typeof e?e.trim():e;return l().createElement("div",null,l().createElement(r.Z,{expanded:p,onChange:e=>{}},l().createElement($.Z,null,l().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},p&&l().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},l().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[938]"}," ",we("Add "),Fe("938")),l().createElement("div",{className:"displayFlex EntryHeaderBtn"},l().createElement("div",{className:"GridAlign"},l().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},l().createElement(Ce.Z,{row:!0},l().createElement(L.Z,{labelPlacement:"bottom",id:"fld938L1ECEntryCheckbox",control:l().createElement(V.Z,{checked:"1"==m,onChange:e=>u(e.target.checked)}),label:we(1==m?"Active":"In Active")})))),!e.createEasy&&l().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld938L1ECIconButton"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement("div",{disableRipple:!0,disabled:!1},l().createElement(Ve.Ypb,{className:"Iconstyles"}))),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,we("Attach")))),!H&&l().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ke()},id:"fld938L1ECClearBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(Ve.pYJ,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,we("Reset")))),"1"===g&&H&&l().createElement(Se.Z,{frmctrlid:"fld938L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ze("draftdel")}}),H&&"1"!==g||e.createEasy?null:W.AccessRights.IsAdd&&l().createElement("div",{className:"GridAlign",onClick:()=>{Ze()},frmctrlid:"fld938L1ECDraftBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(Ee.IcR,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,we("Draft")))),W.AccessRights.IsAdd||W.AccessRights.IsEdit?l().createElement(Pe.Z,{frmctrlid:"fld938L1ECSaveBtnIsAdd",name:we(H?"Update":"Save"),disabled:!1,onClick:()=>{A.MatVendorID&&0!=A.MatVendorID?Ye(A.PPMSSVendorInvoiceNarration)?e.parentId&&0!=e.parentId?z.ConfirmAlert(l().createElement(ve(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:we("Are you sure?"),onConfirm:()=>Be(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:we("Yes"),cancelBtnText:we("Cancel"),showCancel:!0},we(H?"Do you want to Update?":"Do you want to Save?"))):z.alert({open:!0,color:"warning",message:[we("Please select the ")+" "+Fe("PPMSSCreationWorkOrderID")]}):z.alert({open:!0,color:"warning",message:[we("Please enter the")+""+Fe("PPMSSVendorInvoiceNarration")]}):z.alert({open:!0,color:"warning",message:[we("Please select the ")+" "+Fe("MatVendorID")]})}}):null,!e.createEasy&&l().createElement(se.Z,{frmctrlid:"fld938L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ke(),v(!1),z.EditClose(!0),z.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),l().createElement(i.Z,null,l().createElement("div",{id:"PPMSSVendorInvoiceDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},l().createElement("div",{id:"PPMSSVendorInvoiceDetails-Detail",className:"detailCard detailDiv"},l().createElement("div",{id:"PPMSSVendorInvoiceDetails-MainBody",className:"padding paddingLeft "},l().createElement("div",null,l().createElement(S.Z,{spacing:2},l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(De.Z,{json:Me,id:A.MatVendorID,"data-testid":A.MatVendorID,value:A.VendorName,SPName:"PPMSSVendorInvoiceDetails",FieldName:"MatVendorID",tfLabel:Fe("MatVendorID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>_e(e,"MatVendorID","select"),onChange:(e,t)=>{ze(e,t,"MatVendorIDPK")},KeyBack:e=>{je("MatVendorID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Re("442")},Tabledialog:()=>Ke("442","MatVendorID"),loading:k,clear:e=>{e&&He("MatVendorID")}})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(pe.Z,{json:Me,"data-testid":A.PPMSSVendorInvoiceNarration,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVendorInvoiceNarration",tfLabel:Fe("PPMSSVendorInvoiceNarration"),frmctrlid:"fld938_24448",fieldorder:"2",onChange:e=>{_e(e,"PPMSSVendorInvoiceNarration","text")},clear:e=>{e&&T({type:"text",name:"PPMSSVendorInvoiceNarration",value:""})},value:A.PPMSSVendorInvoiceNarration})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(pe.Z,{json:Me,"data-testid":A.PPMSSVendorInvoiceInvNo,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVendorInvoiceInvNo",tfLabel:Fe("PPMSSVendorInvoiceInvNo"),frmctrlid:"fld938_24449",fieldorder:"3",onChange:e=>{_e(e,"PPMSSVendorInvoiceInvNo","number")},clear:e=>{e&&T({type:"number",name:"PPMSSVendorInvoiceInvNo",number:0})},value:A.PPMSSVendorInvoiceInvNo})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(pe.Z,{json:Me,"data-testid":A.PPMSSVendorInvoiceRefNo,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVendorInvoiceRefNo",tfLabel:Fe("PPMSSVendorInvoiceRefNo"),frmctrlid:"fld938_24450",fieldorder:"4",onChange:e=>{_e(e,"PPMSSVendorInvoiceRefNo","text")},clear:e=>{e&&T({type:"text",name:"PPMSSVendorInvoiceRefNo",value:""})},value:A.PPMSSVendorInvoiceRefNo})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(pe.Z,{json:Me,"data-testid":A.PPMSSVendorInvoiceAmount,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVendorInvoiceAmount",tfLabel:Fe("PPMSSVendorInvoiceAmount"),frmctrlid:"fld938_24451",fieldorder:"1",onChange:e=>{_e(e,"PPMSSVendorInvoiceAmount","number")},clear:e=>{e&&T({type:"number",name:"PPMSSVendorInvoiceAmount",number:0})},Iscurr:!0,value:A.PPMSSVendorInvoiceAmount})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(De.Z,{"data-testid":A.PPMSSVendorInvoiceCode,json:Me,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVendorInvoiceCode",tfLabel:Fe("PPMSSVendorInvoiceCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{Q&&We(1,"","ClearAll"),X(!0)},frmctrlid:"fld938_24446",frmctrlidName:"PPMSSVendorInvoiceCode",fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{Q&&We(e,t,"PPMSSVendorInvoiceCode"),_e(t,"PPMSSVendorInvoiceCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||X(!0)},showList:Q,SideEntryView:!1,KeyBack:e=>{},value:A.PPMSSVendorInvoiceCode,loading:k,clear:e=>{e&&(T({type:"text",name:"PPMSSVendorInvoiceCode",value:""}),X(!0))}})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(De.Z,{"data-testid":A.PPMSSVenInvCode,json:Me,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVenInvCode",tfLabel:Fe("PPMSSVenInvCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{ee&&We(1,"","ClearAll"),te(!0)},frmctrlid:"fld938_24447",frmctrlidName:"PPMSSVenInvCode",fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ee&&We(e,t,"PPMSSVenInvCode"),_e(t,"PPMSSVenInvCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:A.PPMSSVenInvCode,loading:k,clear:e=>{e&&(T({type:"text",name:"PPMSSVenInvCode",value:""}),te(!0))}})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(fe.Z,{value:A.PPMSSVendorInvoiceDate,"data-testid":A.PPMSSVendorInvoiceDate,disabled:!1,onChange:e=>{_e(e,"PPMSSVendorInvoiceDate","date")},onErr:e=>{ae(e)},label:Fe("PPMSSVendorInvoiceDate"),frmctrlid:"fld938_24452",frmctrlidName:"PPMSSVendorInvoiceDate",fieldorder:"1"})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(De.Z,{"data-testid":A.PPMSSVendorInvoiceDectAmount,json:Me,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVendorInvoiceDectAmount",tfLabel:Fe("PPMSSVendorInvoiceDectAmount"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{le&&We(1,"","ClearAll"),oe(!0)},frmctrlid:"fld938_24453",frmctrlidName:"PPMSSVendorInvoiceDectAmount",fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{le&&We(e,t,"PPMSSVendorInvoiceDectAmount"),_e(t,"PPMSSVendorInvoiceDectAmount","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:A.PPMSSVendorInvoiceDectAmount,loading:k,clear:e=>{e&&(T({type:"text",name:"PPMSSVendorInvoiceDectAmount",value:""}),oe(!0))}})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(De.Z,{"data-testid":A.PPMSSVendorInvoiceDectKey,json:Me,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSVendorInvoiceDectKey",tfLabel:Fe("PPMSSVendorInvoiceDectKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{re&&We(1,"","ClearAll"),ie(!0)},frmctrlid:"fld938_24454",frmctrlidName:"PPMSSVendorInvoiceDectKey",fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{re&&We(e,t,"PPMSSVendorInvoiceDectKey"),_e(t,"PPMSSVendorInvoiceDectKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:A.PPMSSVendorInvoiceDectKey,loading:k,clear:e=>{e&&(T({type:"text",name:"PPMSSVendorInvoiceDectKey",value:""}),ie(!0))}})),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},l().createElement("div",{className:"EntryView-Checkbox"},l().createElement(L.Z,{style:{color:"#337ab7"},"data-testid":A.IsActual,labelPlacement:"end",control:l().createElement(V.Z,{checked:"1"==A.IsActual,onChange:e=>{_e(e.target.checked,"IsActual","boolean")},frmctrlid:"fld938_24455",frmctrlidname:"IsActual",fieldorder:"2",tfLabel:Fe("IsActual")}),label:l().createElement("p",{className:"ToggleSwitchLabel",style:{color:A.IsActual?"#21446F":"#999"}},Fe("IsActual"))}))),l().createElement(P.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(De.Z,{json:Me,id:A.PPMSSCreationWorkOrderID,"data-testid":A.PPMSSCreationWorkOrderID,value:A.SSCreWorkOrder,SPName:"PPMSSVendorInvoiceDetails",FieldName:"PPMSSCreationWorkOrderID",tfLabel:Fe("PPMSSCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>_e(e,"PPMSSCreationWorkOrderID","select"),onChange:(e,t)=>{ze(e,t,"PPMSSCreationWorkOrderIDPK")},KeyBack:e=>{je("PPMSSCreationWorkOrderID")},fieldorder:"3",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Re("521")},Tabledialog:()=>Ke("521","PPMSSCreationWorkOrderID"),loading:k,clear:e=>{e&&He("PPMSSCreationWorkOrderID")}})))),l().createElement("div",{id:"PPMSSVendorInvoiceDetailsSideBar",className:"sidenav"},l().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSSVendorInvoiceDetailsSideBar").style.width="0",void N(!1))},"Ã—"),E&&l().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},F))))))))}));n(77366),n(97829);var Fe=n(65197);const xe=(0,a.forwardRef)(((e,t)=>{const n=(0,a.useRef)(),[d,s]=((0,o.useSelector)((e=>e.form)),(0,a.useState)([])),[m,u]=(0,a.useState)(!0),[p,S]=(0,a.useState)(e.showDetail),[P,v]=(0,a.useState)(""),[g,y]=l().useState(!1),[M,C]=l().useState(""),[V,E]=l().useState(!1),f=(0,a.useContext)(Le),{cstate:h,cdispatch:N}=Oe(),[b,w]=(0,a.useState)(!1),[F,x]=(0,a.useState)(""),[A,T]=(0,a.useState)(""),[k,B]=(0,a.useState)("");let Z=(0,D.Z)();(0,a.useEffect)((()=>{h.editData.length>0&&(s(h.editData),y(!1),N({type:"PrimaryId",payload:h.editData[0].PPMSSVendorInvoiceIDPK}))}),[h.editData]),(0,a.useEffect)((()=>{h.showTableview&&B(h.showTableview)}),[h.showTableview]),(0,a.useEffect)((()=>{u(h.ExpandDetailValue)}),[h.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{u(e),y(null)},viewtoggle:()=>{y(!1)},viewlistProps:(t,n)=>{!function(t,n=!1){let a=I.v.Api+"FP938S3/",l={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:e.Dialogview?"1":null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:1,p76:10,p77:h.IsDraft?"DraftPPMSSVendorInvoiceID":"PPMSSVendorInvoiceID",p78:null,p79:null,p80:localStorage.getItem("UserGroupID"),p81:localStorage.getItem("userid")}};(0,ue.Z)(0).then((e=>{(0,c.Z)(a,l,e).then((e=>{f.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,n)},clear:()=>{"panel0"===g&&n.current.clear()}})));const L=e=>Z?.[e]?Z?.[e]:e,O=e=>h.language?.[e]?h.language[e]:e;function R(e,t){}const K=(e,t)=>(n,a)=>{C(V?Object.assign(...d.filter((e=>e.PPMSSVendorInvoiceIDPK==t)).map((e=>e))):h.editData),y(!a&&e)};return l().createElement("div",null,l().createElement(r.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&u(!m)}},!g&&l().createElement($.Z,null,l().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?l().createElement("div",{className:"displayFlex EntryViewHeader"},l().createElement("p",{className:"ListP"},h.IsDraft?L("Draft"):"",O("PPMSSVendorInvoiceDetails"),e.viewonly?" ":"("+h.count+")")):"",m?l().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&h.AccessRights.IsAdd?l().createElement(ne.Z,{name:L("Add"),frmctrlid:"fld938L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{f.hideAddBtn(!0),N({type:"editData",payload:[]}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&h.AccessRights.IsEdit?l().createElement(me.Z,{frmctrlid:"fld938L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):h.IsDraft&&h.AccessRights.IsAdd&&l().createElement(me.Z,{frmctrlid:"fld938L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&l().createElement(se.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld938L1VCCloseBtn",onClick:()=>{u(!1),f.hideAddBtn(!1),V&&(N({type:"editData",payload:[]}),s([]))}})):"")),l().createElement(i.Z,{style:{display:"block"}},d.map(((t,a)=>l().createElement("div",{key:a},g==="panel"+a?l().createElement(we,{ref:n,parentId:e.parentId}):l().createElement(l().Fragment,null,l().createElement(Fe.Z,{tableName:"PPMSSVendorInvoiceDetails",tableID:938,parentID:t.PPMSSVendorInvoiceIDPK,fldid:"fld938L1VCContainer",OpenSlideComponent:R,index:a,refresh:k,val:t,tf:O,t:L,title:"10.0.0.59-3:08:17 PM-18-7[938]"}))))))))}));var Ae=n(67698),Te=n(55995),ke=(n(45965),n(41722)),Be=n(9175),Ze=n.n(Be);const Le=(0,a.createContext)(),Oe=()=>{const e=(0,a.useContext)(Le);if(void 0===e)throw new Error("useCont must be used within  PPMSSVendorInvoiceDetailsContext Provider");return e},Re=(0,a.forwardRef)(((e,t)=>{const n=(0,a.useRef)(),r=(0,a.useRef)(),i=(0,a.useRef)(),d=(0,a.useRef)(),c=(0,a.useRef)(),[s,m]=(0,a.useState)(!0),[u,p]=(0,a.useState)(),S=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[P,I]=(0,a.useState)(0),[v,g]=(0,a.useReducer)(ke.D,ke.E),[D,y]=(0,a.useState)(""),[M,C]=(0,a.useState)([]),[V,E]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||r.current.clear(),document.getElementById("divPPMSSVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{m(!0),document.getElementById("divPPMSSVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,a.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{g(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),r.current.AddOpen(e),setTimeout((()=>n.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>n.current.HideEntryFields(!0)),500)}})));const f=e=>{C([]),document.getElementById("divPPMSSVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetailsEntryTable").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainEntry").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainEntry").style.display="block",document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails").style.width="0%",document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails").style.display="none"};(0,a.useEffect)((()=>{S((e=>{(0,ue.Z)(1).then((e=>{var t=new Array;t.push(e),g({type:"token",payload:t}),I(t.length),h(e)}))}))}),[]);const h=t=>{g({type:"AccessRights",payload:e.AccessRights}),E(e.AccessRights?.isNestSendtoApproval)};return l().createElement("div",{style:{width:"100%"}},l().createElement(Le.Provider,{value:{cstate:v,cdispatch:g,ContextApi:Oe,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,n)=>e.TabShare(t,n),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{n.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==P&&n.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{c.current.tempsave(e,M),C([])},EditClose:e=>f(),AttachExpand:e=>(d.current.AttachmentData(v.PrimaryId),void(s&&(document.getElementById("overlayPreviewPPMSSVendorInvoiceDetails").style.width="50%",document.getElementById("divPPMSSVendorInvoiceDetails-Entry").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainTable").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainEntry").style.width="100%",document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSSVendorInvoiceDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails").style.display="block",document.getElementById("overlayimgAttPPMSSVendorInvoiceDetails").style.width="25%"))),Expanded:e=>{v.ShowDetail&&i.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{v.ShowDetail&&i.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),v.ShowDetail?i.current.clear(e):r.current.clear(e)},hideAddBtn:e=>{n.current.HideEntryFields(e)},ExpandEntry:()=>{v.ShowDetail?i.current.tableClick(!1):r.current.CreateEasyProps(!1)},resetImg:()=>{c.current.tempClear(),d.current.clrImgstate(!0)}}},l().createElement("div",{id:"PPMSSVendorInvoiceDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},l().createElement("div",{id:"PPMSSVendorInvoiceDetails-MainEntry",className:"",style:{background:"#fff"}},l().createElement("div",{style:{display:"flex"}},l().createElement("div",{id:"PPMSSVendorInvoiceDetailsEntryTable",style:{width:"100%"}},v.ShowDetail?l().createElement("div",null,l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divPPMSSVendorInvoiceDetails-Entry",style:{width:"100%"}},0!==P?l().createElement(xe,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),l().createElement(Te.Z,{ref:c,menurefID:938,fileId:"LogoImgPPMSSVendorInvoiceDetails",imgloading:t=>{t||v.PrimaryId?e.loading(t):n.current.tableRefresh()},valueIDPK:v.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSVendorInvoiceDetails",frmctrlid:"PvwIm_938_L1_",tempImg:e=>{v.PrimaryId?d.current.AttachmentData(v.PrimaryId):d.current.tempImg(e),C(e)},clearTempData:v.Add})):l().createElement("div",null,l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divPPMSSVendorInvoiceDetails-Entry",style:{width:"100%"}},!e.tableview&&l().createElement(we,{ref:r,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),l().createElement(Te.Z,{ref:c,menurefID:938,fileId:"LogoImgPPMSSVendorInvoiceDetails",imgloading:t=>{t||v.PrimaryId?e.loading(t):n.current.tableRefresh()},valueIDPK:v.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSSVendorInvoiceDetails",frmctrlid:"PvwIm_938_L1_",tempImg:e=>{v.PrimaryId?d.current.AttachmentData(v.PrimaryId):d.current.tempImg(e),C(e)},clearTempData:v.Add})),l().createElement("div",{id:"PPMSSVendorInvoiceDetails-MainTable"},0!==P?l().createElement(ce,{ref:n,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),l().createElement(Ae.Z,{ImgAttachment:e=>f(),menurefID:938,fileId:"AttImgPPMSSVendorInvoiceDetails",imgid:"overlayimgAttPPMSSVendorInvoiceDetails",valueIDPK:v.PrimaryId,PriviewData:(e,t,n,a)=>{c.current.PriviewItem(e,t,n,a)},previd:"overlayPreviewPPMSSVendorInvoiceDetails",ref:d,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_938_L1_",timglist:e=>{c.current.timglist(e),C(e)},clearTempData:v.Add}))),l().createElement("div",{id:"PPMSSVendorInvoiceDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),V&&l().createElement(Ze(),{openDialog:V,closeDialog:e=>E(e),formID:938,PrimID:e.parentId,alert:(t,n,a)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}))}}]);