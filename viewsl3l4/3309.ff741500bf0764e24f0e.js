/*! For license information please see 3309.ff741500bf0764e24f0e.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[3309,7805],{92448:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),i=(0,l(a(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},93657:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),i=(0,l(a(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=i},53375:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var n=r(a(92950)),i=(0,l(a(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i},41722:(e,t,a)=>{a.d(t,{D:()=>r,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function r(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},73668:(e,t,a)=>{a.d(t,{E:()=>r,I:()=>n});var l=a(25108);const r={IsDraft:!1,ShowDetail:!1,ExpandTableValue:!1,AssSpotRegistrySpotID:"",Add:!1,editData:[],screenType:[],PrimaryData:[],ShowView:!1,Showtable:!0,count:0,ExpandDetailValue:!0,expandDetail:"mainpanel",IsCollapse:!0,IsExPView:"",AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,viewonly:!1,EditOpen:!1,EditIsDraft:!0,PrimaryId:"",token:[],MRApprStatKey:"",showTableview:[],language:{}};function n(e,t){switch(t.type){case"IsDraft":return{...e,IsDraft:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"ShowView":return{...e,ShowView:t.payload};case"Showtable":return{...e,Showtable:t.payload};case"PrimaryData":return l.timeLog(t.payload,"actttt"),{...e,PrimaryData:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"AssSpotRegistrySpotID":return{...e,AssSpotRegistrySpotID:t.payload};case"Add":return{...e,Add:t.payload};case"editData":return{...e,editData:t.payload};case"screenType":return{...e,screenType:t.payload};case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"expandDetail":return{...e,expandDetail:t.payload};case"IsCollapse":return{...e,IsCollapse:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"IsExPView":return{...e,IsExPView:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"MRApprStatKey":return{...e,MRApprStatKey:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,a)=>{a.d(t,{Z:()=>d});var l=a(40900),r=a(26537),n=a(61956),i=a(35131),o=a.n(i),s=a(25108);function d(e,t,a,i){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":r.Z.TokenIDPK,"x-tokenname":r.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return s.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:i,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:o()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:o()().format("YYYY-MM-DD hh:mm:ss")}]};(0,r.Z)(0).then((t=>{(0,n.Z)(e,d,t).then((e=>{200==e[0].status.code?s.log(e,"RES"):s.log("Error")}))}))}}},83817:(e,t,a)=>{function l(e,t,a,l,r){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:a}),t({type:"ShowDetail",payload:l}),r.loading(!1)):(r.loading(!1),r.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){r.loading(!1),r.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{a:()=>l})},65197:(e,t,a)=>{a.d(t,{Z:()=>E});var l=a(92950),r=a.n(l),n=a(14439),i=a(27848),o=a(63163),s=a(6562),d=a(30553),m=a(83173),u=a(21392),c=a(69685),p=a(45332),C=a(26537),g=a(77366),y=a(71168),N=a.n(y),D=a(99940),T=a(55918),I=a.n(T);function E(e){const[t,a]=(0,l.useState)([]),[m,u]=(0,l.useState)([]),[c,p]=N()(e.tableID);(0,l.useEffect)((()=>{g(c)}),[c,e.val]),(0,l.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&g(e.refresh)}),[e.refresh]);const C=t=>e.t(t);function g(t){const l=t.filter((t=>t.FormID==e.tableID));let r=[],n=[];l.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):r.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),u(y(n,"id")),a(y(r,"id"))}function y(e,t){const a=e.map((e=>e[t])),l=e.filter((({value:e},t)=>!a.includes(e,t+1)));return l}return r().createElement(r().Fragment,null,r().createElement("div",{index:e.index,className:"padding paddingLeft width100"},r().createElement(n.Z,{container:!0},r().createElement(i.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},r().createElement(n.Z,{container:!0},r().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},r().createElement("div",{className:"ViewHeadingTitle"},r().createElement("p",null,(T=e.tableName,e.tf(T)+" "+C("view")))),r().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},m.map(((t,a)=>r().createElement(r().Fragment,null,r().createElement(D.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},r().createElement("div",{key:a,className:"GridAlignSwitch"},r().createElement(s.Z,null,r().createElement(d.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:r().createElement(o.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),r().createElement(n.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",r().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement(n.Z,{container:!0},t.map(((t,a)=>r().createElement(r().Fragment,null,t.ForeignTag?r().createElement(r().Fragment,null,r().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},r().createElement("div",{className:"DetailViewRow"},r().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:C(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),r().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var a,l;a=t.IDPK,l=e.val[t.ValID],e.OpenSlideComponent(a,l)},title:e.val[t.id]},e.val[t.id])))):r().createElement(r().Fragment,null,r().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},r().createElement("div",{className:"DetailViewRow"},r().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),r().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?I()(e.val[t.id]):e.val[t.id]))))))))))),r().createElement(i.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",r().createElement(n.Z,{container:!0},r().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},r().createElement("div",{className:"ViewFileImgCont"},r().createElement(n.Z,{container:!0},r().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},r().createElement("div",{className:"ViewHeadingTitle1"},r().createElement("p",{className:"ViewHeadpTagHD"},C("Attachments")))),r().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},r().createElement("div",{className:"ViewHeadingAttachmentL4"},r().createElement(f,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var T}const f=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&n()}),[e.id]);const n=()=>{(0,C.Z)(0).then((t=>{(0,g.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return r().createElement("div",null,r().createElement(c.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return r().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?r().createElement("img",{src:e.ImgPath,alt:e.ImageName}):r().createElement(m.Z,{className:"previewFile"}),t.length>1&&r().createElement("div",{className:"Imgbgmstyle"},r().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),r().createElement(u.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},24126:(e,t,a)=>{a.d(t,{FP:()=>Re,kN:()=>ke,ZP:()=>Ze});var l=a(92950),r=a.n(l),n=(a(95866),a(45237)),i=a(36939),o=a(61201),s=a(59009),d=a(51673),m=(a(99058),a(80366)),u=a(282),c=a(868),p=a(78513),C=a(14439),g=a(27848),y=a(40900),N=a(64059),D=a(24038),T=a(8981),I=a(47516),E=a(86893),f=a(33681),v=a(63163),M=a(35131),h=a.n(M),P=a(61956),S=a(93657),b=a(53375),w=a(52663),x=a(66083),B=a(29525),A=a(66856),F=a(39803),R=a(99940),k=a(17149),Z=a(62810),L=a(30553),O=a(92381),z=a(25108);const K=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,i]=(0,l.useState)([]),[o,s]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[M,h]=(0,l.useState)(""),[P,K]=(0,l.useState)({}),[V,_]=(0,l.useState)(!0),[G,H]=(0,l.useState)(!1),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:ke(),[Y,$]=(0,l.useState)(1),[W,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,re]=(0,l.useState)(!0),[ne,ie]=(0,l.useState)(!1),[oe,se]=(0,l.useState)(""),[de,me]=(0,l.useState)(!1),[ue,ce]=(0,l.useState)(!1),[pe,Ce]=(0,l.useState)(!1),[ge,ye]=(0,l.useState)(""),Ne=(0,l.useRef)(null),[De,Te]=(0,l.useState)({});let Ie=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,T.Z)();const ve=e=>fe[e]?fe[e]:e,Me=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Ie]];function he(){K({}),ee({}),e.searchData({}),H(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Te(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{Ne.current&&Ne.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const Pe=async(t,a,l,r)=>{Q(!0);try{Ne.current&&Ne.current.abort();const o=new AbortController;Ne.current=o;let m="",u=[],c={};await s((e=>(m=e.name,e))),await K((e=>(u=e,e))),await ee((e=>(c=e,e)));const p=y.v.Api+"FP994S3/",C={data:{p1:"CCMNatureDetIDPK"==a?null:await Be(),p2:"CCMNatureDetCode"==m&&l.length>0?"%"+l+"%":null,p3:"NatPriTargetBy"==m&&l.length>0?"%"+l+"%":null,p4:"NatDetMaintenanceDuration"==m&&l.length>0?"%"+l+"%":null,p5:null,p6:"NatPDColorSA"==m&&l.length>0?"%"+l+"%":null,p7:"NatPDColorCOT"==m&&l.length>0?"%"+l+"%":null,p8:"NatPDColorNCOT"==m&&l.length>0?"%"+l+"%":null,p9:"NatModuleKey"==m&&l.length>0?"%"+l+"%":null,p10:null,p11:null,p12:"CCMTargetTypName"!=m&&u.CCMTargetTypName?u.CCMTargetTypName.map((e=>e.CCMTargetTypeIDPK)).toString():null,p13:e.parentId?e.parentId:"0",p14:"PriorityName"!=m&&u.PriorityName?u.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p15:e.Dialogview?"1":null,p16:null,p17:"p17"==m&&l.length>0?l:null,p18:null,p19:null,p20:null,p21:null,p22:"CCMTargetTypCode"==m&&l.length>0?"%"+l+"%":null,p23:"CCMTargetTypName"==m&&l.length>0?"%"+l+"%":null,p24:"PriorityCode"==m&&l.length>0?"%"+l+"%":null,p25:"PriorityName"==m&&l.length>0?"%"+l+"%":null,p26:"ComplaintNatureName"!=m&&u.ComplaintNatureName?u.ComplaintNatureName.map((e=>e.ComplaintNatureIDPK)).toString():null,p27:"ComplaintNatureCode"==m&&l.length>0?"%"+l+"%":null,p28:"ComplaintNatureName"==m&&l.length>0?"%"+l+"%":null,p29:"NatPriResponseBy"==m&&l.length>0?"%"+l+"%":null,p30:"NatPriAnalysedBy"==m&&l.length>0?"%"+l+"%":null,p31:"NatPriFixedBy"==m&&l.length>0?"%"+l+"%":null,p32:r||1,p33:10,p34:t,p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}},g=await(0,d.Z)(p,C,e.token,"",o.signal);if(!g)return!1;const N=g.Output.status.code,D=g.Output.data;if("200"===N)if(D.length>0)if(1===r){let e=be(D,m),t=Se(e,P[m],a);i(t),J(t.length>0?t[0].TotalCount:P[m].length)}else{let e=[...n,...D],t=be(e,m);J(t.length<10?t.length:D[0].TotalCount),i(be(t,m))}else M.length>0&&i([]),J(n.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Se=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),be=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=De[e];if(a){const e=a.flatMap((e=>P[e]?P[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await K((e=>(a=e,e)));let r=[...te],n=[];for(let e of r){let t=a[e]?.map((e=>e.CCMNatureDetIDPK)).toString();t&&n.push(t)}await ee((e=>(l=e,e)));let i={CCMNatureDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",CCMTargetTypeID:we("CCMTargetTypeID"),CCMNatureTargetID:we("CCMNatureTargetID"),PriorityID:we("PriorityID")};"saveFav"==t?Re("save",i):(e.searchData(i),H(!1))};async function Be(){let e={};await K((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.CCMNatureDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ae(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},s={};ee((e=>({...e,...o})));const d={...P};let m=[...te],u=[];for(let e of m){let t=d[e]?.map((e=>e.CCMNatureDetIDPK)).toString();t&&u.push(t)}await ee((e=>(s=e,e)));let c={CCMNatureDetIDPK:u?[...new Set(u)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,CCMTargetTypeID:P.CCMTargetTypName?.map((e=>e.CCMTargetTypeIDPK)).toString(),CCMNatureTargetID:P.CCMNatureTargetCode?.map((e=>e.CCMNatureTargetIDPK)).toString(),PriorityID:P.PriorityName?.map((e=>e.PriorityIDPK)).toString()};e.searchData(c)}function Fe(){return r().createElement(N.Z,{frmctrlid:"fld994L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Ae(e,t,a,o.name,l)},keyboardback:()=>{H(!1),s({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(o.name),fieldname:o.name,save:e=>{alert(!0)}})}const Re=(t,a)=>{(0,O.Z)(t,e.formID,a,oe).then((e=>{const t=e.Output.data;ye(t)}))};return r().createElement("div",null,r().createElement(w.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},r().createElement(x.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),r().createElement(B.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(F.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>se(e.target.value),fullWidth:!0})),r().createElement(L.Z,{style:{color:"#337ab7"},control:r().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>ce(e.target.checked)}),label:"Quick"}),r().createElement(L.Z,{style:{color:"#337ab7"},control:r().createElement(R.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>Ce(e.target.checked)}),label:"Dashboard"})),r().createElement(A.Z,null,r().createElement(u.Z,{onClick:()=>{xe("saveFav"),me(!1)},color:"primary"},"Save"))),G?"Created Ttm"===o.name||o.name.includes("Date")?r().createElement(Fe,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(C.Z,null,r().createElement(g.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Me(o.idpk)," (",n.length,"/",W,")")),r().createElement(g.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(c.ZP,{title:ve("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(m.Z,{id:"fld994L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{H(!1),s({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),P[o.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(u.Z,{frmctrlid:"fld994L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,z.log("clear fewItems",e),t))),e[o.name]=[],Pe(o.type,o.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},V?r().createElement(c.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(E.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):r().createElement(c.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(E.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),r().createElement("ul",null,P[o.name]&&P[o.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:V?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[o.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[o.name],onClick:()=>(async(e,t)=>{$(1);let a=P[o.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[o.name]=a,K(l),i((t=>[e,...t]))})(e)},r().createElement(m.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(D.Z,{frmctrlid:"fld994L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:M,placeholder:ve("Enter ")+" "+Me(o.idpk),onChange:e=>{h(e),Pe(o.type,o.fieldidpk,e,1,Be())}})),r().createElement("div",{id:"fld994L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},r().createElement(c.ZP,{title:"",placement:"top"},r().createElement(u.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(f.Z,{color:"secondary"})),r().createElement("div",{id:"fld994L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[o.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let r=l[o.name];t[o.name]=r?[...a,...r]:a,l={...l,...t},K(l),i((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(p.Z,{className:"DotIcon"}),r().createElement("span",null,e[o.name])))),n.length+0<W&&n.length>0&&r().createElement("div",{id:"fld994L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(Y+1),Pe(o.type,o.fieldidpk,"",Y+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:y.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(I.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",oe.length>0&&`(${oe})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(c.ZP,{title:"Favorite List",placement:"top"},ne?r().createElement(m.Z,{className:"favlisticon",onClick:()=>{ie(!1),ye(""),he()}}):r().createElement(S.Z,{className:"favlisticon",onClick:()=>{ie(!0),Re("select"),he()}})),Object.keys(P).length>0&&r().createElement(c.ZP,{title:"Save Favorites",placement:"top"},r().createElement(b.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),r().createElement(c.ZP,{title:"",placement:"top"},r().createElement(u.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld994L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),r().createElement(c.ZP,{title:"",placement:"top"},r().createElement(u.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld994L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld994L1TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{H(!0),h(""),i([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"CCMNatureDetIDPK";s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterCCMNatureDetID",fieldidpk:t}),Pe(e.IsForeign?"Filter"+e.FieldName:"FilterCCMNatureDetID",t,"",1,Be())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Me(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Me(e.AdminUserGridViewIDPK)),r().createElement(v.Z,{checked:"1"==le,onChange:t=>{re(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Me(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,P[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},P[a][0][a]),P[a].length>1&&r().createElement("span",{className:"RoundedDivName"},P[a][1][a]),P[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(P[a].length-2))))));var a})),ge&&ge.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pe("FilterCCMNatureDetID",a),xe("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));var V=a(54180),_=a(43031),G=a(85639),H=a(110),U=a(5109),j=a(88995),Y=a(50743),$=a(61657),W=a(51209),J=a(53854),q=a(51649),Q=a(37106),X=a(5434),ee=a(83817),te=a(39327),ae=a(3212),le=a(93521),re=(a(79117),a(71168)),ne=a.n(re),ie=a(65107),oe=a(94986),se=a(15999);a(11557),window.clickFilter="";const de=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),u=(0,l.useRef)(null),[p]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[C]=(0,l.useState)("994"),[g,N]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),[M,h]=(0,l.useState)(0),[P,S]=(0,l.useState)(0),[b,w]=(0,l.useState)(0),[x,B]=(0,l.useState)(0),[A,F]=(0,l.useState)({current:1,pageSize:100}),[R,k]=(0,l.useState)(""),[Z,L]=(0,l.useState)([]),[O,z]=(0,l.useState)({val:"",column:""}),[re,de]=(0,l.useState)([]),[me,ue]=(0,l.useState)(!1),[ce,pe]=(0,l.useState)(""),[Ce,ge]=(0,l.useState)(""),[ye,Ne]=(0,l.useState)(!1),[De,Te]=(0,l.useState)([]),[Ie,Ee]=(0,l.useState)([]),[fe,ve]=(0,l.useState)([]),[Me,he]=(0,l.useState)({children:[{name:"CCMNatureTargetDetails",children:[]}]}),[Pe,Se]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:Re),{cstate:we,cdispatch:xe}=e.ContextApi?e.ContextApi:ke();let Be={CCMNatureDetIDPK:"",CCMNatureDetCode:"",NatPriTargetBy:"",NatDetMaintenanceDuration:"",IsDefault:"",NatPDColorSA:"",NatPDColorCOT:"",NatPDColorNCOT:"",NatModuleKey:"",IsDraft:"",Remarks:"",CCMTargetTypeID:"",CCMNatureTargetID:"",PriorityID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",CCMTargetTypCode:"",CCMTargetTypName:"",PriorityCode:"",PriorityName:"",ComplaintNatureID:"",ComplaintNatureCode:"",ComplaintNatureName:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,Fe]=(0,l.useState)(Be),[Ze,Le]=(0,l.useState)(Be),[Oe,ze]=(0,l.useState)(!1),[Ke,Ve]=(0,l.useState)(!0),[_e,Ge]=(0,l.useState)(!1),[He,Ue]=(0,l.useState)(!0),[je,Ye]=(0,l.useState)({CCMTargetTypName:"",NatPriTargetBy:"",CCMNatureDetCode:"",NatDetMaintenanceDuration:"",NatPDColorSA:"",NatPDColorCOT:"",NatPDColorNCOT:"",NatModuleKey:"",CCMNatureTargetCode:"",PriorityName:""}),[$e,We]=(0,l.useState)(!1),[Je,qe]=(0,l.useState)([]),[Qe,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[rt,nt]=(0,l.useState)([]),[it,ot]=(0,l.useState)([]),[st,dt]=(0,l.useState)(!1),[mt,ut]=(0,l.useState)(!1),[ct,pt]=(0,l.useState)(!1),[Ct,gt]=(0,l.useState)(""),[yt,Nt]=ne()("994"),[Dt,Tt]=(0,l.useState)({}),It=[{columns:rt,data:R}];let Et=(0,T.Z)();const ft=e=>Et[e]?Et[e]:e,vt=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{xt(yt)}),[yt]),(0,l.useEffect)((()=>{we.token.length>0&&(e.parentId?bt(A,Be,"CCMNatureDetID"):de([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Pe&&e.parentId?bt(A,ce,"CCMNatureDetID"):Pe&&Le(ce)}),[ce]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Mt(e)},tableRefresh:()=>{bt(A,Be,"CCMNatureDetID")},DialogTableProps:e=>{v(e)},HideEntryFields:e=>{pt(!0===e)}})));const Mt=e=>{""==e?bt(A,Be,Oe?"DraftCCMNatureDetID":"CCMNatureDetID",Oe&&"DraftPage"):wt(e,{current:1,pageSize:100}),ge(e)};function ht(t){be.loading(!0);let a=y.v.Api+"FP994S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,l,we.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),qe(e.Output.data),be.loading(!1)}}))}function Pt(e,t){xe({type:"editData",payload:[t]}),xe({type:"IsDraft",payload:Oe}),xe({type:"ShowDetail",payload:!0}),be.Expanded(!0),_e&&Ne(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(v(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&wt(e.searchsafaritext,{current:A.current,pageSize:A.pageSize})}),[e.searchsafaritext]);const St=()=>{be.EditClose(!0),me?(document.getElementById("CCMNatureTargetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("CCMNatureTargetDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("CCMNatureTargetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ue(!1),He?(f||(document.getElementById("CCMNatureTargetDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("CCMNatureTargetDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMNatureTargetDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("CCMNatureTargetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("CCMNatureTargetDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("CCMNatureTargetDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ue(!0),document.getElementById("CCMNatureTargetDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),Ne(!1),window.clickFilter=!me},bt=(t,a,l,r,n,i)=>{be.loading(!0),"DraftPage"!==r&&ze(we.IsDraft);let o=y.v.Api+"FP994S3/",s={data:{p1:n||(a&&a.CCMNatureDetIDPK?a.CCMNatureDetIDPK:null),p2:a&&a.CCMNatureDetCode?a.CCMNatureDetCode:null,p3:a&&a.NatPriTargetBy?a.NatPriTargetBy:null,p4:a&&a.NatDetMaintenanceDuration?a.NatDetMaintenanceDuration:null,p5:null,p6:a&&a.NatPDColorSA?a.NatPDColorSA:null,p7:a&&a.NatPDColorCOT?a.NatPDColorCOT:null,p8:a&&a.NatPDColorNCOT?a.NatPDColorNCOT:null,p9:a&&a.NatModuleKey?a.NatModuleKey:null,p10:"DraftCCMNatureDetID"==l?"1":"0",p11:null,p12:a&&a.CCMTargetTypeID?a.CCMTargetTypeID:null,p13:e.parentId?Number(e.parentId):0,p14:a&&a.PriorityID?a.PriorityID:null,p15:a&&a.IsActive,p16:null,p17:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p18:a&&a.CreatedTtm?a.CreatedTtm:null,p19:a&&a.CreatedTtmType?a.CreatedTtmType:null,p20:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p21:null,p22:a&&a.CCMTargetTypCode?a.CCMTargetTypCode:null,p23:a&&a.CCMTargetTypName?a.CCMTargetTypName:null,p24:a&&a.PriorityCode?a.PriorityCode:null,p25:a&&a.PriorityName?a.PriorityName:null,p26:a&&a.ComplaintNatureID?a.ComplaintNatureID:null,p27:a&&a.ComplaintNatureCode?a.ComplaintNatureCode:null,p28:a&&a.ComplaintNatureName?a.ComplaintNatureName:null,p29:a&&a.NatPriResponseBy?a.NatPriResponseBy:null,p30:a&&a.NatPriAnalysedBy?a.NatPriAnalysedBy:null,p31:a&&a.NatPriFixedBy?a.NatPriFixedBy:null,p32:n?1:t.current,p33:t.pageSize,p34:l,p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}};(0,d.Z)(o,s,we.token[0]).then((o=>{if(n)(0,ee.a)(o,xe,r,i,be);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,w(o.Output.data[0].TotalCount),B(o.Output.data[0].DraftCnt),xe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&B(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?S(Math.ceil(e)):20==t.pageSize?S(Math.ceil(e/2)):50==t.pageSize?S(Math.ceil(e/5)):100==t.pageSize&&S(Math.ceil(e/10)),de(o.Output.data),be.loading(!1)}e.Dialogview||(document.getElementById("divCCMNatureTargetDetails-Entry").style.height="auto",document.getElementById("divCCMNatureTargetDetails-Entry").style.display="block")}else be.loading(!1),"DraftCCMNatureDetID"===l?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ne(!0),ze(!1)):(de([]),F({current:1,pageSize:10}),S(0),w(0),xe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[o.Output.status.message]}),be.loading(!1)}))};function wt(t,a){if(!e.parentId)return!1;be.loading(!0);const l=y.v.Api+"FP994S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Oe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,r,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,w(e.Output.data[0].TotalCount),xe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?S(Math.ceil(t)):20==a.pageSize?S(Math.ceil(t/2)):50==a.pageSize?S(Math.ceil(t/5)):100==a.pageSize&&S(Math.ceil(t/10)),de(e.Output.data),be.loading(!1)}else de([]),S(0),w(0),xe({type:"count",payload:"0"}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function xt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),xe({type:"language",payload:Object.assign({},...r)}),Ye(a.reduce(((e,t)=>(e[t]="",e)),{})),Te(e),Ee(t),ve(a),nt(l),ot(a)}const Bt=()=>Pe?null:r().createElement("div",null,$e?r().createElement(oe.Z,{data:Je,expanded:e=>!f&&be.Expanded(e),edit:(e,t,a)=>{f?be.select(e):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:t}),xe({type:"ShowDetail",payload:a}))}}):r().createElement(ie.Z,{ref:u,frmctrlid:"tblcs_994_L1_",id:"CCMNatureTargetDetailsTable",headerdata:Ie,tablesearchparams:je,searchvalue:e=>{Ye(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Tt(t),F({current:1,pageSize:10}),bt({current:1,pageSize:10},t,Oe?"DraftCCMNatureDetID":"CCMNatureDetID",Oe&&"DraftPage")},bodydata:re,ondrag:Pt,bodyitem:fe,visibleitem:Ie,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:C,showMore:!1,accessrights:we.AccessRights,expanded:e=>!f&&be.Expanded(e),edit:(e,t,a)=>{f?be.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&bt(A,null,t?"DraftCCMNatureDetID":"CCMNatureDetID",t&&"DraftPage",e[l],a)})),be.hideAddBtn(!0))},viewtoggle:be.viewtoggle,isexpanded:!f||_e,tf:vt,action:f?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ge(we.ExpandTableValue)}),[we.ExpandTableValue]),r().createElement("div",null,!ct&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld994L1ECSearchBar",className:"searchbar1"},r().createElement(D.Z,{frmctrlid:"fld994L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:ft("Search"),value:Ce,onChange:e=>{ge(e),be.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},Ce?r().createElement("div",{id:"fld994L1TCCloseIconCommonSearch",onClick:()=>{ge(""),be.searchItem("")}},r().createElement(m.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld994L1TCInputSearchIcon"},r().createElement(j.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("CCMNatureTargetDetailsgridsearch").focus()}})))),r().createElement("div",null,we.AccessRights.IsAdd?r().createElement(ae.Z,{className:"SaveBtnCommon",frmctrlid:"fld994L1TCAddBtnIsAdd",onClick:()=>{be.hideAddBtn(!0),xe({type:"editData",payload:[]}),xe({type:"ShowDetail",payload:!1}),xe({type:"Add",payload:!0})},disabled:!e.parentId}):"")),r().createElement(i.Z,{expanded:Ke,onChange:()=>()=>{Ve(_e)}},e.Dialogview&&r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[994]"},`${vt("994")} (${b})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld994L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(D.Z,{frmctrlid:"fld994L1TCInputSearch",className:"search_input",type:"text",placeholder:ft("Search"),value:Ce,onChange:e=>{Mt(e)}}),r().createElement("div",{className:"search_icon"},Ce?r().createElement("div",{id:"fld994L1TCInputCloseIcon",onClick:()=>{Mt("")}},r().createElement(m.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld994L1TCInputSearchIcon"},r().createElement(j.Z,{className:"InputSearchIcon"}))))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"CCMNatureTargetDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&r().createElement("div",{frmctrlid:"fld994L1TCFilterDataIsDraft",id:"CCMNatureTargetDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{St()}},r().createElement(c.ZP,{title:ft("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},ft("Filter Data"))),!f&&!Oe&&!Pe&&r().createElement(V.Z,{formctrlidprint:"fld994L1TCExportPrint",formctrlidexport:"fld994L1TCExportTable",formctrlidrefresh:"fld994L1TCExportRefresh",title:vt("994"),data:Z,exportData:It,Items:it,columnIndex:rt,TableVisibleItem:Ie,userGridViewFormID:C,TableTotalCount:b,triggerApi:t=>{((t,l,r,n,i)=>{if(0===b)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let o=y.v.Api+"FP994S3/",s={data:{p1:t&&t.CCMNatureDetIDPK?t.CCMNatureDetIDPK:null,p2:t&&t.CCMNatureDetCode?t.CCMNatureDetCode:null,p3:t&&t.NatPriTargetBy?t.NatPriTargetBy:null,p4:t&&t.NatDetMaintenanceDuration?t.NatDetMaintenanceDuration:null,p5:null,p6:t&&t.NatPDColorSA?t.NatPDColorSA:null,p7:t&&t.NatPDColorCOT?t.NatPDColorCOT:null,p8:t&&t.NatPDColorNCOT?t.NatPDColorNCOT:null,p9:t&&t.NatModuleKey?t.NatModuleKey:null,p10:Oe?"1":"0",p11:null,p12:t&&t.CCMTargetTypeID?t.CCMTargetTypeID:null,p13:e.parentId?Number(e.parentId):0,p14:t&&t.PriorityID?t.PriorityID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.CCMTargetTypCode?t.CCMTargetTypCode:null,p23:t&&t.CCMTargetTypName?t.CCMTargetTypName:null,p24:t&&t.PriorityCode?t.PriorityCode:null,p25:t&&t.PriorityName?t.PriorityName:null,p26:t&&t.ComplaintNatureID?t.ComplaintNatureID:null,p27:t&&t.ComplaintNatureCode?t.ComplaintNatureCode:null,p28:t&&t.ComplaintNatureName?t.ComplaintNatureName:null,p29:t&&t.NatPriResponseBy?t.NatPriResponseBy:null,p30:t&&t.NatPriAnalysedBy?t.NatPriAnalysedBy:null,p31:t&&t.NatPriFixedBy?t.NatPriFixedBy:null,p32:A.current,p33:b,p34:Oe?"DraftCCMNatureDetID":"CCMNatureDetID",p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${vt(994)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(o,s,we.token[0],i).then((e=>{(0,le.PDF_Excel_Generate)(e,be,it,k,a,i)}))})(ce,O.column,0,0,t)},Refresh:()=>{ge(""),F({current:1,pageSize:100}),u.current.clearItem(),we.IsDraft?bt({current:1,pageSize:100},Be,"DraftCCMNatureDetID"):bt({current:1,pageSize:100},Be,"CCMNatureDetID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Oe&&!Pe&&!f&&r().createElement("div",{className:"buttoncard",onClick:()=>ut(!mt)},r().createElement("span",null,mt?r().createElement(c.ZP,{disableFocusListener:!0,title:ft("Less"),placement:"top"},r().createElement("span",{id:"fld994L1TCLess"},r().createElement(J.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(c.ZP,{disableFocusListener:!0,title:ft("More"),placement:"top"},r().createElement("span",{id:"fld994L1TCMore"},r().createElement(J.ilJ,{className:"tableFilterColumnIcon"}))))),mt?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Pe||!_e?null:f||!we.AccessRights.IsAdd||Oe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld994L1TCFilterDataIsAdd",id:"CCMNatureTargetDetailscoldiv",className:"buttoncard",onClick:()=>{be.EditClose(!0),ye?(document.getElementById("CCMNatureTargetDetailsFilterDiv").style.width="0%",document.getElementById("CCMNatureTargetDetailsTabDiv").style.width="100%",document.getElementById("CCMNatureTargetDetailsFilterDiv").style.display="none",document.getElementById("CCMNatureTargetDetailscoldiv").style.width="fit-content",document.getElementById("CCMNatureTargetDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ne(!1)):(document.getElementById("CCMNatureTargetDetailsFilterDiv").style.width="25%",document.getElementById("CCMNatureTargetDetailsTabDiv").style.width="75%",document.getElementById("CCMNatureTargetDetailsFilterDiv").style.display="block",document.getElementById("CCMNatureTargetDetailsfildiv").style.width="fit-content",document.getElementById("CCMNatureTargetDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMNatureTargetDetailscoldiv").style.width="fit-content",document.getElementById("CCMNatureTargetDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ne(!0)),ue(!1)}},r().createElement(c.ZP,{title:ft("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},ft("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!f&&_e&&!Pe&&!Oe&&r().createElement("div",null,r().createElement("div",{id:"CCMNatureTargetDetailscoldiv",className:"buttoncard",onClick:()=>{$e?We(!1):(We(!0),ht({current:1,pageSize:100}))}},r().createElement(c.ZP,{title:ft("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld994L1TCTableScrollData"},r().createElement(se.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},ft("Table Scroll Data")))),!Pe&&Oe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{be.hideAddBtn(!1),be.ExpandEntry(),bt({current:1,pageSize:100},Be,"CCMNatureDetID"),ze(!1),ge(""),xe({type:"IsDraft",payload:!1}),F({current:1,pageSize:10})}},r().createElement(c.ZP,{title:ft("List"),placement:"top"},r().createElement("div",{id:"fld994L1TCList"},r().createElement(q.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},ft("Drafts")," ",b)):!f&&!Pe&&we.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:x,showZero:!0},r().createElement("div",{id:"fld994L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{x>0?(F({current:1,pageSize:100}),h(0),be.clear(),ge(""),xe({type:"Add",payload:!1}),bt({current:1,pageSize:10},Be,"DraftCCMNatureDetID"),ze(!0),xe({type:"IsDraft",payload:!0}),Ne(!1),Ue(!0),document.getElementById("CCMNatureTargetDetailsFilterDiv").style.width="0%",document.getElementById("CCMNatureTargetDetailsTabDiv").style.width="100%",document.getElementById("CCMNatureTargetDetailsFilterDiv").style.display="none",F({current:1,pageSize:100}),Se(!1)):be.alert({open:!0,color:"warning",message:[ft("There is no Record Found")]})}},r().createElement(c.ZP,{title:ft("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(Q.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},ft("Drafts"))))))):""),!Oe&&!f&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Pe||Oe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:He?"buttonList":"buttonGrid",id:"fld994L1TCListView",onClick:()=>{Ue(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(J.umT,null)),r().createElement("span",null,ft("List"))),r().createElement("div",{className:He||st?"buttonGrid":"buttonList",id:"fld994L1TCCardView",onClick:()=>{Ue(!1),dt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(E.aCJ,null)),r().createElement("span",null,ft("Card"))),r().createElement("div",{className:st?"buttonList":"buttonGrid",id:"fld994L1TCTileView",onClick:()=>{dt(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(X.f_H,null)),r().createElement("span",null,ft("Tile"))))))),Pe?null:$e?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement($.Z,{style:{color:"#777"},id:"fld994L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:M,onPageChange:(e,t)=>{h(t),ht({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{count:Qe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),ht({current:t,pageSize:at.pageSize})}}),r().createElement("div",null,r().createElement(H.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld994L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),ht({current:1,pageSize:e.target.value})}},r().createElement(G.Z,{value:10},"10"),r().createElement(G.Z,{value:20},"20"),r().createElement(G.Z,{value:50},"50"),r().createElement(G.Z,{value:100},"100"))),_e&&r().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",et,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement($.Z,{style:{color:"#777"},id:"fld994L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(b),page:M,onPageChange:(e,t)=>{h(t),bt({current:t+1,pageSize:A.pageSize},Be,Oe?"DraftCCMNatureDetID":"CCMNatureDetID",Oe&&"DraftPage"),F({current:t+1,pageSize:A.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(_.Z,{count:P,siblingCount:0,color:"primary",page:A.current,onChange:(e,t)=>{if(F({current:t,pageSize:A.pageSize}),Oe)bt({current:t,pageSize:A.pageSize},Ae,"DraftCCMNatureDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Ce.length>0?wt(Ce,{current:t,pageSize:A.pageSize}):bt({current:t,pageSize:A.pageSize},Ae,"CCMNatureDetID")}}}),r().createElement("div",null,r().createElement(H.Z,{className:"BootstrapInputStyle",value:A.pageSize,id:"fld994L1TCSelectPaging",onChange:e=>{F({current:1,pageSize:e.target.value}),Oe?bt({current:1,pageSize:e.target.value},Ae,"DraftCCMNatureDetID","DraftPage"):Ce.length>0?wt(Ce,{current:1,pageSize:e.target.value}):bt({current:1,pageSize:e.target.value},Ae,"CCMNatureDetID")}},r().createElement(G.Z,{value:10},"10"),r().createElement(G.Z,{value:20},"20"),r().createElement(G.Z,{value:50},"50"),r().createElement(G.Z,{value:100},"100"))),_e&&r().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",b,") "))),r().createElement("div",{id:"CCMNatureTargetDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"CCMNatureTargetDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},me&&r().createElement(K,{parentId:e.parentId,searchData:e=>{pe(e||Dt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:C,data:()=>{},visibleData:()=>{},token:we.token[0],CloseBtnClk:()=>St(),userGrid:yt,msg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ye&&r().createElement(U.Z,{Refresh:e=>{bt({current:1,pageSize:100},Be,"CCMNatureDetID")},frmctrlid:"fld994L1TCTableColumnOrder",loading:e=>be.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>be.alert({open:!0,color:t,message:[e]}),select:ye,userID:p,userGridViewFormID:C,saved:(e,t)=>{e&&xt(t),Nt(t),xe({type:"showTableview",payload:t})},Token:we.token[0]})),r().createElement("div",{id:"CCMNatureTargetDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},He?r().createElement(Bt,null):r().createElement(W.Z,{frmctrlid:"fld994L1TCExpandedCardDual",data:re,id:"CCMNatureTargetDetails",title:"CCMNatureDetCode",cardTile:!!st,visibleitem:Ie,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{f?be.select(e):("edit"==t?(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Oe}),xe({type:"ShowDetail",payload:!1}),be.Expanded(!0)):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Oe}),xe({type:"ShowDetail",payload:!0}),be.Expanded(!0),be.viewtoggle()),me?ue(!0):ye?Ne(!0):(Ne(!1),Ne(!1))),be.hideAddBtn(!0)}})))))))}));var me=a(37148),ue=a(29800),ce=(a(10966),a(21392),a(26537)),pe=a(44528),Ce=a(99090),ge=a(1695),ye=a(61924),Ne=a.n(ye),De=(a(40826),a(55490)),Te=a(92371);const Ie={EnterKeyValues:{CCMNatureTargetDetails:["CCMTargetTypName","NatPriTargetBy","CCMNatureDetCode","NatDetMaintenanceDuration","NatPDColorSA","NatPDColorCOT","NatPDColorNCOT","NatModuleKey","CCMNatureTargetCode","PriorityName"]},Label:{CCMNatureTargetDetails:{CCMTargetTypeID:["CCMTargetTypCode","CCMTargetTypName"],NatPriTargetBy:["CCMNatureDetCode"],CCMNatureDetCode:["CCMNatureDetCode"],NatDetMaintenanceDuration:["CCMNatureDetCode"],NatPDColorSA:["CCMNatureDetCode"],NatPDColorCOT:["CCMNatureDetCode"],NatPDColorNCOT:["CCMNatureDetCode"],NatModuleKey:["CCMNatureDetCode"],CCMNatureTargetID:["CCMNatureDetCode"],PriorityID:["CCMNatureDetCode"]}},LabelHeader:{CCMNatureTargetDetails:{CCMTargetTypeID:["Target Type Code","Target Type Name"],NatPriTargetBy:["CCMNatureDetCode"],CCMNatureDetCode:["CCMNatureDetCode"],NatDetMaintenanceDuration:["CCMNatureDetCode"],NatPDColorSA:["CCMNatureDetCode"],NatPDColorCOT:["CCMNatureDetCode"],NatPDColorNCOT:["CCMNatureDetCode"],NatModuleKey:["CCMNatureDetCode"],CCMNatureTargetID:["CCMNatureDetCode"],PriorityID:["CCMNatureDetCode"]}},Property:{CCMNatureTargetDetails:{CCMTargetTypeID:{id:"fld994_26237",clearID:"CCMNatureTargetDetailsCCMTargetTypNameClear",type:"select",labelID:"CCMTargetTypeIDPK",labelname:"Resolution Type",fielddisplayname:"CCMTargetTypName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},NatPriTargetBy:{id:"fld994_26228",labelID:"NatPriTargetBy",maxLength:"20",labelname:"Resolution Time",frmctrlid:"fld994_26228",frmctrlidname:"NatPriTargetBy",type:"text",mandatory:!1,masked:!0,masktype:"Days",disabled:!1,autogen:!1},CCMNatureDetCode:{id:"fld994_26227",labelID:"CCMNatureDetCode",maxLength:"50",labelname:"CCMNatureDetCode",frmctrlid:"fld994_26227",frmctrlidname:"CCMNatureDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NatDetMaintenanceDuration:{id:"fld994_26229",labelID:"NatDetMaintenanceDuration",maxLength:"",labelname:"NatDetMaintenanceDuration",frmctrlid:"fld994_26229",frmctrlidname:"NatDetMaintenanceDuration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NatPDColorSA:{id:"fld994_26231",labelID:"NatPDColorSA",maxLength:"-1",labelname:"NatPDColorSA",frmctrlid:"fld994_26231",frmctrlidname:"NatPDColorSA",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NatPDColorCOT:{id:"fld994_26232",labelID:"NatPDColorCOT",maxLength:"-1",labelname:"NatPDColorCOT",frmctrlid:"fld994_26232",frmctrlidname:"NatPDColorCOT",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NatPDColorNCOT:{id:"fld994_26233",labelID:"NatPDColorNCOT",maxLength:"-1",labelname:"NatPDColorNCOT",frmctrlid:"fld994_26233",frmctrlidname:"NatPDColorNCOT",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NatModuleKey:{id:"fld994_26234",labelID:"NatModuleKey",maxLength:"",labelname:"NatModuleKey",frmctrlid:"fld994_26234",frmctrlidname:"NatModuleKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CCMNatureTargetID:{id:"fld994_26238",clearID:"CCMNatureTargetDetailsCCMNatureTargetCodeClear",type:"select",labelID:"CCMNatureTargetIDPK",labelname:"CCMNatureTargetID",fielddisplayname:"CCMNatureTargetCode",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PriorityID:{id:"fld994_26239",clearID:"CCMNatureTargetDetailsPriorityNameClear",type:"select",labelID:"PriorityIDPK",labelname:"PriorityID",fielddisplayname:"PriorityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{CCMNatureTargetDetails:{CCMTargetTypeID:["CCMTargetTypName","IsActive","IsDraft","CCMTargetTypCode","CreatedTtm"],CCMNatureTargetID:["ComplaintNatureName","PriorityName","NatPriResponseBy","NatPriAnalysedBy","NatPriFixedBy","IsActive","CreatedTtm","UpdatedTtm"],PriorityID:["PriorityCode","PriorityName","TargetMins","MaintenanceMins"]}}};var Ee=a(6562),fe=a(45155),ve=a(79352),Me=(a(49174),a(38773),a(19089),a(16233)),he=a.n(Me);a(82729),a(75355),a(11107);const Pe={CCMNatureDetIDPK:"",CCMNatureDetCode:"",NatPriTargetBy:"",NatDetMaintenanceDuration:"",IsDefault:!1,NatPDColorSA:"",NatPDColorCOT:"",NatPDColorNCOT:"",NatModuleKey:"",IsDraft:!1,Remarks:"",CCMTargetTypeID:null,CCMNatureTargetID:null,PriorityID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",CCMTargetTypCode:"",CCMTargetTypName:"",PriorityCode:"",PriorityName:"",ComplaintNatureID:null,ComplaintNatureCode:"",ComplaintNatureName:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",Type:"CCMNatureDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid"),NatPriTargetByDays:""},Se=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[s,m]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!0),[p,N]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[E,f]=(0,l.useState)(""),[M,S]=(0,l.useState)(!1),[b,w]=(0,l.useState)([]),[x,B]=(0,l.useState)(null),[A,F]=(0,l.useReducer)(Te.Z,Pe),[R,k]=(0,l.useState)(!1),[Z,O]=(0,l.useState)([]),[z,K]=(0,l.useState)(!1),V=(0,l.useContext)(e.context?e.context:Re),{cstate:_,cdispatch:G}=e.ContextApi?e.ContextApi:ke(),[H,U]=(0,l.useState)(0),[j,$]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,q]=he()("994"),[Q,X]=(0,l.useState)(!0),[ee,te]=(0,l.useState)(!0),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(!0),[se,de]=(0,l.useState)(!0),[ue,ye]=(0,l.useState)(!1);let Me=(0,T.Z)();const[Se,be]=(0,l.useState)({}),we=e=>Me[e]?Me[e]:e,xe=t=>_.language?.[t]?_.language[t]:e.createEasy?Se?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&U(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{Fe()}),[]),(0,l.useEffect)((()=>{Fe()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(Ae(_.editData[0],""),N(!0)):_.Add&&(Fe(),N(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),be(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Fe()},CreateEasyProps:(e=!0,t)=>{q(!0),t?(je(t),N(e)):(Fe(),N(e))},AddOpen:e=>{Fe(),N(!0)}})));const Be=e=>{let t=60*Number(e),a=parseInt(t,10),l=Math.floor(a/86400);a-=3600*l*24;let r=Math.floor(a/3600);a-=3600*r;let n=Math.floor(a/60);a-=60*n;let i=l.toString().length;return 2===i?l="0"+l:1===i&&(l="00"+l),1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n),l.toString()+r.toString()+n.toString()},Ae=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultCCMNatureDetID"==a?$(t.CCMNatureDetIDPK):(U(e.primid?Number(e.primid):t.CCMNatureDetIDPK?t.CCMNatureDetIDPK:0),G({type:"PrimaryId",payload:t.CCMNatureDetIDPK})),F({type:"number",name:"CCMTargetTypeID",number:t.CCMTargetTypeID?Number(t.CCMTargetTypeID):0}),F({type:"text",name:"CCMTargetTypName",value:t.CCMTargetTypName}),F({type:"text",name:"NatPriTargetByDays",value:Be(t.NatPriTargetBy)}),F({type:"text",name:"NatPriTargetBy",value:t.NatPriTargetBy}),F({type:"text",name:"CCMNatureDetCode",value:t.CCMNatureDetCode?t.CCMNatureDetCode:""}),F({type:"number",name:"NatDetMaintenanceDuration",number:t.NatDetMaintenanceDuration}),F({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),F({type:"text",name:"NatPDColorSA",value:t.NatPDColorSA?t.NatPDColorSA:""}),F({type:"text",name:"NatPDColorCOT",value:t.NatPDColorCOT?t.NatPDColorCOT:""}),F({type:"text",name:"NatPDColorNCOT",value:t.NatPDColorNCOT?t.NatPDColorNCOT:""}),F({type:"number",name:"NatModuleKey",number:t.NatModuleKey}),F({type:"number",name:"CCMNatureTargetID",number:t.CCMNatureTargetID?Number(t.CCMNatureTargetID):0}),F({type:"text",name:"CCMNatureTargetCode",value:t.CCMNatureTargetCode}),F({type:"number",name:"PriorityID",number:t.PriorityID?Number(t.PriorityID):0}),F({type:"text",name:"PriorityName",value:t.PriorityName}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},Fe=()=>{w([]),U(0),$(""),e.createEasy||V.resetImg(),G({type:"PrimaryId",payload:""}),F({type:"text",name:"CCMTargetTypeID",value:null}),F({type:"text",name:"CCMTargetTypName",value:""}),document.getElementById("CCMNatureTargetDetailsCCMTargetTypNameClear")&&document.getElementById("CCMNatureTargetDetailsCCMTargetTypNameClear").click(),F({type:"text",name:"NatPriTargetByDays",value:""}),F({type:"text",name:"NatPriTargetBy",value:""}),F({type:"text",name:"CCMNatureDetCode",value:""}),F({type:"number",name:"NatDetMaintenanceDuration",number:0}),F({type:"boolean",name:"IsDefault",boolean:!1}),F({type:"text",name:"NatPDColorSA",value:""}),F({type:"text",name:"NatPDColorCOT",value:""}),F({type:"text",name:"NatPDColorNCOT",value:""}),F({type:"number",name:"NatModuleKey",number:0}),F({type:"text",name:"CCMNatureTargetID",value:null}),F({type:"text",name:"CCMNatureTargetCode",value:""}),document.getElementById("CCMNatureTargetDetailsCCMNatureTargetCodeClear")&&document.getElementById("CCMNatureTargetDetailsCCMNatureTargetCodeClear").click(),F({type:"text",name:"PriorityID",value:null}),F({type:"text",name:"PriorityName",value:""}),document.getElementById("CCMNatureTargetDetailsPriorityNameClear")&&document.getElementById("CCMNatureTargetDetailsPriorityNameClear").click(),c(!0),f(""),X(!0),te(!0),le(!0),ne(!0),oe(!0),de(!0)},Ze=t=>{V.loading(!0),V.ConfirmAlert(null);const a=y.v.Api+"FP994S2/",l={data:[{p1:"SetDefaultCCMNatureDetID"==t?"NORECORDS"!=j&&j?j:0:H,p2:Ye(A.CCMNatureDetCode),p3:A.NatPriTargetBy?Number(A.NatPriTargetBy):0,p4:A.NatDetMaintenanceDuration?Number(A.NatDetMaintenanceDuration):0,p5:A.IsDefault,p6:Ye(A.NatPDColorSA),p7:Ye(A.NatPDColorCOT),p8:Ye(A.NatPDColorNCOT),p9:A.NatModuleKey?Number(A.NatModuleKey):0,p10:!1,p11:"SetDefaultCCMNatureDetID"==t?"SetDefault":null,p12:A.CCMTargetTypeID?A.CCMTargetTypeID:0,p13:e.parentId?Number(e.parentId):A.CCMNatureTargetID?A.CCMNatureTargetID:0,p14:A.PriorityID?A.PriorityID:0,p15:u,p16:"SetDefaultCCMNatureDetID"==t,p17:localStorage.getItem("userid"),p18:h()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((t=>{(0,d.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(V.alert({open:!0,color:"warning",message:n}),V.loading(!1)):(t=>{X(!0),te(!0),le(!0),ne(!0),oe(!0),de(!0),V.loading(!0),V.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const a=y.v.Api+"FP994S1/",l={data:[{p1:H,p2:Ye(A.CCMNatureDetCode),p3:A.NatPriTargetBy?Number(A.NatPriTargetBy):0,p4:A.NatDetMaintenanceDuration?Number(A.NatDetMaintenanceDuration):0,p5:A.IsDefault,p6:Ye(A.NatPDColorSA),p7:Ye(A.NatPDColorCOT),p8:Ye(A.NatPDColorNCOT),p9:A.NatModuleKey?Number(A.NatModuleKey):0,p10:!1,p11:null,p12:A.CCMTargetTypeID?A.CCMTargetTypeID:0,p13:e.parentId?Number(e.parentId):A.CCMNatureTargetID?A.CCMNatureTargetID:0,p14:A.PriorityID?A.PriorityID:0,p15:u,p16:!1,p17:localStorage.getItem("userid"),p18:h()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((t=>{(0,P.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(V.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttCCMNatureTargetDetails"),V.loading(!1),G({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(V.RefreshTable(),V.attachmentSave(t[0].Data.IDPK)),Fe(),_.AccessRights.IsApproval&&V.Approval(!0),document.getElementById("overlayimgAttCCMNatureTargetDetails")&&(document.getElementById("overlayimgAttCCMNatureTargetDetails").style.width="0%",document.getElementById("overlayimgAttCCMNatureTargetDetails").style.display="none",document.getElementById("divCCMNatureTargetDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("CCMNatureTargetDetails-MainTable").style.display="block")):(V.alert({open:!0,color:"warning",message:[a.message]}),V.loading(!1)),N(!0)}))}))})()):(V.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),V.loading(!1))}))}))};function Le(t,a,l,r){if(!(_.count>0))return V.alert({open:!0,color:"warning",message:[we("Please save atleast one record")]}),!1;if(!((()=>{const e={...A};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return V.alert({open:!0,color:"warning",message:[we("Please enter the primary fields")]}),!1;{X(!0),te(!0),le(!0),ne(!0),oe(!0),de(!0),V.loading(!0),V.ConfirmAlert(null),G({type:"IsDraft",payload:!1});const a=y.v.Api+"FP994S1/",l={data:[{p1:"SetDefaultCCMNatureDetID"==r?"NORECORDS"!=j&&j?j:0:H,p2:Ye(A.CCMNatureDetCode),p3:A.NatPriTargetBy?Number(A.NatPriTargetBy):0,p4:A.NatDetMaintenanceDuration?Number(A.NatDetMaintenanceDuration):0,p5:A.IsDefault,p6:Ye(A.NatPDColorSA),p7:Ye(A.NatPDColorCOT),p8:Ye(A.NatPDColorNCOT),p9:A.NatModuleKey?Number(A.NatModuleKey):0,p10:!0,p11:"SetDefaultCCMNatureDetID"==r?"SetDefault":null,p12:A.CCMTargetTypeID?A.CCMTargetTypeID:0,p13:e.parentId?Number(e.parentId):A.CCMNatureTargetID?A.CCMNatureTargetID:0,p14:A.PriorityID?A.PriorityID:0,p15:!1,p16:"SetDefaultCCMNatureDetID"==r,p17:localStorage.getItem("userid"),p18:h()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:h()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ce.Z)(0).then((r=>{(0,P.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?V.alert({open:!0,color:"warning",message:[we("Deleted Successfully")]}):V.alert({open:!0,color:"success",message:[we("Saved to Draft")]}),V.loading(!1),V.attachmentSave(a[0].Data.IDPK),Fe(),V.RefreshTable(),e.clrImgstate(!0)):(V.alert({open:!0,color:"warning",message:[l.message]}),V.loading(!1))}))}))}}function Oe(e){return CreateEasy(e,_,G,V,W),!1}function ze(e,a){return AdvanceSearch(e,a,Re,ke(),_e,t),!1}const Ke=(t,a,l,r,n,i)=>{const o=y.v.Api+"FP994S3/",s={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:a?"%"+a+"%":null,p7:a?"%"+a+"%":null,p8:a?"%"+a+"%":null,p9:a?"%"+a+"%":null,p10:null,p11:null,p12:"0"==A.CCMTargetTypeID?null:A.CCMTargetTypeID,p13:e.parentId?Number(e.parentId):0,p14:"0"==A.PriorityID?null:A.PriorityID,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:"0"==A.ComplaintNatureID?null:A.ComplaintNatureID,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:t,p33:10,p34:l,p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}},m=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{});k(!0);const u={data:m};return(0,d.Z)(o,"ClearAll"==l?u:s,"SetDefaultCCMNatureDetID"==l&&r?r:_.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};O(1==t?e>0?r:[]:Z.concat(r)),"SetDefaultCCMNatureDetID"==l&&(e>0?Ae(r[0],"SetDefaultCCMNatureDetID"):$("NORECORDS")),k(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Ve=(t,l,r)=>{const n=y.v.Api+"FP994S3/",i={data:{p1:null,p2:"CCMNatureDetCode"==r&&l?"%"+l+"%":null,p3:"NatPriTargetBy"==r&&l?"%"+l+"%":null,p4:"NatDetMaintenanceDuration"==r&&l?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:a.CCMNatureTargetRegistryCCMNatureTargetID?a.CCMNatureTargetRegistryCCMNatureTargetID:"0",p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:t,p33:10,p34:"CCMNatureDetID",p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};k(!0),(0,d.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("CCMNatureDetCode"==r&&X(e>0),"NatDetMaintenanceDuration"==r&&te(e>0),"NatPDColorSA"==r&&le(e>0),"NatPDColorCOT"==r&&ne(e>0),"NatPDColorNCOT"==r&&oe(e>0),"NatModuleKey"==r&&de(e>0),O(l)):("CCMNatureDetCode"==r&&X(!0),"NatDetMaintenanceDuration"==r&&te(!0),"NatPDColorSA"==r&&le(!0),"NatPDColorCOT"==r&&ne(!0),"NatPDColorNCOT"==r&&oe(!0),"NatModuleKey"==r&&de(!0),O(Z.concat(l))),k(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},_e=(0,l.useCallback)((async(e,t,a)=>{"text"==a?F({type:a,name:t,value:e}):"number"==a?F({type:a,name:t,number:Number(e)}):"boolean"==a?F({type:a,name:t,boolean:e}):"date"==a?F({type:"text",name:t,value:e}):"select"==a&&"CCMTargetTypeID"==t&&(F({type:"text",name:"CCMTargetTypeID",value:e.CCMTargetTypeIDPK?e.CCMTargetTypeIDPK:null}),F({type:"text",name:"CCMTargetTypName",value:e.CCMTargetTypName?e.CCMTargetTypName:null}))}),[A]);function Ge(e){if("CCMTargetTypeID"==e){if(!A.CCMTargetTypeID)return!1;F({type:"text",name:"CCMTargetTypeID",value:null}),F({type:"text",name:"CCMTargetTypName",value:""}),document.getElementById("CCMNatureTargetDetailsCCMTargetTypNameClear")&&document.getElementById("CCMNatureTargetDetailsCCMTargetTypNameClear").click()}else if("CCMNatureTargetID"==e){if(!A.CCMNatureTargetID)return!1}else if("PriorityID"==e&&!A.PriorityID)return!1}function He(e){if("CCMTargetTypeID"==e){if(!A.CCMTargetTypeID)return!1;F({type:"text",name:"CCMTargetTypeID",value:null})}else if("CCMNatureTargetID"==e){if(!A.CCMNatureTargetID)return!1}else if("PriorityID"==e&&!A.PriorityID)return!1}const Ue=e=>{V.ConfirmAlert(r().createElement(Ne(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>je(e),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:we("Yes"),cancelBtnText:we("No"),showCancel:!0},we("Do you want to update this record?")))};function je(e){V.ConfirmAlert(null),I(e.IsDraft),U(Number(e.CCMNatureDetIDPK)?Number(e.CCMNatureDetIDPK):0),F({type:"number",name:"CCMTargetTypeID",number:e.CCMTargetTypeID?Number(e.CCMTargetTypeID):0}),F({type:"text",name:"CCMTargetTypName",value:e.CCMTargetTypName?e.CCMTargetTypName:""}),F({type:"text",name:"NatPriTargetBy",value:e.NatPriTargetBy?e.NatPriTargetBy:""}),F({type:"text",name:"CCMNatureDetCode",value:e.CCMNatureDetCode?e.CCMNatureDetCode:""}),F({type:"text",name:"NatDetMaintenanceDuration",value:e.NatDetMaintenanceDuration?e.NatDetMaintenanceDuration:""}),F({type:"text",name:"NatPDColorSA",value:e.NatPDColorSA?e.NatPDColorSA:""}),F({type:"text",name:"NatPDColorCOT",value:e.NatPDColorCOT?e.NatPDColorCOT:""}),F({type:"text",name:"NatPDColorNCOT",value:e.NatPDColorNCOT?e.NatPDColorNCOT:""}),F({type:"text",name:"NatModuleKey",value:e.NatModuleKey?e.NatModuleKey:""}),F({type:"number",name:"CCMNatureTargetID",number:e.CCMNatureTargetID?Number(e.CCMNatureTargetID):0}),F({type:"text",name:"CCMNatureTargetCode",value:e.CCMNatureTargetCode?e.CCMNatureTargetCode:""}),F({type:"number",name:"PriorityID",number:e.PriorityID?Number(e.PriorityID):0}),F({type:"text",name:"PriorityName",value:e.PriorityName?e.PriorityName:""})}const Ye=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(i.Z,{expanded:p,onChange:e=>{}},r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},p&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[994]"}," ",we("Add "),xe("994")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},_.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(Ee.Z,{row:!0},r().createElement(L.Z,{labelPlacement:"bottom",id:"fld994L1ECEntryCheckbox",control:r().createElement(v.Z,{checked:"1"==u,onChange:e=>c(e.target.checked)}),label:we(1==u?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{V.AttachExpand(!0)},id:"fld994L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(fe.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,we("Attach")))),!H&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Fe()},id:"fld994L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(fe.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,we("Reset")))),"1"===D&&H&&r().createElement(Ce.Z,{frmctrlid:"fld994L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Le("draftdel")}}),H&&"1"!==D||e.createEasy?null:_.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{Le()},frmctrlid:"fld994L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ve.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,we("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(ge.Z,{frmctrlid:"fld994L1ECSaveBtnIsAdd",name:we(H?"Update":"Save"),disabled:!1,onClick:()=>{A.CCMTargetTypeID&&0!=A.CCMTargetTypeID?e.parentId&&0!=e.parentId?V.ConfirmAlert(r().createElement(Ne(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:we("Are you sure?"),onConfirm:()=>Ze(),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:we("Yes"),cancelBtnText:we("Cancel"),showCancel:!0},we(H?"Do you want to Update?":"Do you want to Save?"))):V.alert({open:!0,color:"warning",message:[we("Please select the ")+" "+xe("CCMNatureTargetID")]}):V.alert({open:!0,color:"warning",message:[we("Please select the ")+" "+xe("CCMTargetTypeID")]})}}):null,!e.createEasy&&r().createElement(me.Z,{frmctrlid:"fld994L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Fe(),N(!1),V.EditClose(!0),V.hideAddBtn(!1),G({type:"Add",payload:!1})}}))))),r().createElement(o.Z,null,r().createElement("div",{id:"CCMNatureTargetDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"CCMNatureTargetDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"CCMNatureTargetDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(C.Z,{spacing:2},r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(De.Z,{json:Ie,id:A.CCMTargetTypeID,"data-testid":A.CCMTargetTypeID,value:A.CCMTargetTypName,SPName:"CCMNatureTargetDetails",FieldName:"CCMTargetTypeID",tfLabel:xe("CCMTargetTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>_e(e,"CCMTargetTypeID","select"),onChange:(e,t)=>{Ke(e,t,"CCMTargetTypeIDPK")},KeyBack:e=>{He("CCMTargetTypeID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Oe("330")},Tabledialog:()=>ze("330","CCMTargetTypeID"),loading:R,clear:e=>{e&&Ge("CCMTargetTypeID")}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(pe.Z,{json:Ie,"data-testid":A.NatPriTargetBy,SPName:"CCMNatureTargetDetails",FieldName:"NatPriTargetBy",tfLabel:xe("NatPriTargetBy"),frmctrlid:"fld994_26228",fieldorder:"2",onChange:e=>{F({type:"text",name:"NatPriTargetBy",value:e.Days}),F({type:"text",name:"NatPriTargetByDays",value:e.val})},clear:e=>{e&&(F({type:"text",name:"NatPriTargetBy",value:""}),F({type:"text",name:"NatPriTargetByDays",value:""}))},placeholder:"DDD:MM:YY",value:A.NatPriTargetByDays})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":A.CCMNatureDetCode,json:Ie,SPName:"CCMNatureTargetDetails",FieldName:"CCMNatureDetCode",tfLabel:xe("CCMNatureDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{Q&&Ve(1,"","ClearAll"),X(!0)},frmctrlid:"fld994_26227",frmctrlidName:"CCMNatureDetCode",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{Q&&Ve(e,t,"CCMNatureDetCode"),_e(t,"CCMNatureDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||X(!0)},showList:Q,SideEntryView:!1,KeyBack:e=>{},value:A.CCMNatureDetCode,loading:R,clear:e=>{e&&(F({type:"text",name:"CCMNatureDetCode",value:""}),X(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":A.NatDetMaintenanceDuration,json:Ie,SPName:"CCMNatureTargetDetails",FieldName:"NatDetMaintenanceDuration",tfLabel:xe("NatDetMaintenanceDuration"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ee&&Ve(1,"","ClearAll"),te(!0)},frmctrlid:"fld994_26229",frmctrlidName:"NatDetMaintenanceDuration",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ee&&Ve(e,t,"NatDetMaintenanceDuration"),_e(t,"NatDetMaintenanceDuration","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:A.NatDetMaintenanceDuration,loading:R,clear:e=>{e&&(F({type:"text",name:"NatDetMaintenanceDuration",value:""}),te(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":A.NatPDColorSA,json:Ie,SPName:"CCMNatureTargetDetails",FieldName:"NatPDColorSA",tfLabel:xe("NatPDColorSA"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ae&&Ve(1,"","ClearAll"),le(!0)},frmctrlid:"fld994_26231",frmctrlidName:"NatPDColorSA",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ae&&Ve(e,t,"NatPDColorSA"),_e(t,"NatPDColorSA","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||le(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:A.NatPDColorSA,loading:R,clear:e=>{e&&(F({type:"text",name:"NatPDColorSA",value:""}),le(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":A.NatPDColorCOT,json:Ie,SPName:"CCMNatureTargetDetails",FieldName:"NatPDColorCOT",tfLabel:xe("NatPDColorCOT"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{re&&Ve(1,"","ClearAll"),ne(!0)},frmctrlid:"fld994_26232",frmctrlidName:"NatPDColorCOT",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{re&&Ve(e,t,"NatPDColorCOT"),_e(t,"NatPDColorCOT","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:A.NatPDColorCOT,loading:R,clear:e=>{e&&(F({type:"text",name:"NatPDColorCOT",value:""}),ne(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":A.NatPDColorNCOT,json:Ie,SPName:"CCMNatureTargetDetails",FieldName:"NatPDColorNCOT",tfLabel:xe("NatPDColorNCOT"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ie&&Ve(1,"","ClearAll"),oe(!0)},frmctrlid:"fld994_26233",frmctrlidName:"NatPDColorNCOT",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ie&&Ve(e,t,"NatPDColorNCOT"),_e(t,"NatPDColorNCOT","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:A.NatPDColorNCOT,loading:R,clear:e=>{e&&(F({type:"text",name:"NatPDColorNCOT",value:""}),oe(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":A.NatModuleKey,json:Ie,SPName:"CCMNatureTargetDetails",FieldName:"NatModuleKey",tfLabel:xe("NatModuleKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{se&&Ve(1,"","ClearAll"),de(!0)},frmctrlid:"fld994_26234",frmctrlidName:"NatModuleKey",fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{se&&Ve(e,t,"NatModuleKey"),_e(t,"NatModuleKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:A.NatModuleKey,loading:R,clear:e=>{e&&(F({type:"text",name:"NatModuleKey",value:""}),de(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{json:Ie,id:A.CCMNatureTargetID,"data-testid":A.CCMNatureTargetID,value:A.CCMNatureTargetCode,SPName:"CCMNatureTargetDetails",FieldName:"CCMNatureTargetID",tfLabel:xe("CCMNatureTargetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>_e(e,"CCMNatureTargetID","select"),onChange:(e,t)=>{Ke(e,t,"CCMNatureTargetIDPK")},KeyBack:e=>{He("CCMNatureTargetID")},fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Oe("995")},Tabledialog:()=>ze("995","CCMNatureTargetID"),loading:R,clear:e=>{e&&Ge("CCMNatureTargetID")}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{json:Ie,id:A.PriorityID,"data-testid":A.PriorityID,value:A.PriorityName,SPName:"CCMNatureTargetDetails",FieldName:"PriorityID",tfLabel:xe("PriorityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>_e(e,"PriorityID","select"),onChange:(e,t)=>{Ke(e,t,"PriorityIDPK")},KeyBack:e=>{He("PriorityID")},fieldorder:"2",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Oe("62")},Tabledialog:()=>ze("62","PriorityID"),loading:R,clear:e=>{e&&Ge("PriorityID")}})))),r().createElement("div",{id:"CCMNatureTargetDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("CCMNatureTargetDetailsSideBar").style.width="0",void S(!1))},"×"),M&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},x))))))))}));a(77366),a(97829);var be=a(65197);const we=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[s,m]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[u,c]=(0,l.useState)(!0),[p,C]=(0,l.useState)(e.showDetail),[g,N]=(0,l.useState)(""),[D,I]=r().useState(!1),[E,f]=r().useState(""),[v,M]=r().useState(!1),h=(0,l.useContext)(Re),{cstate:P,cdispatch:S}=ke(),[b,w]=(0,l.useState)(!1),[x,B]=(0,l.useState)(""),[A,F]=(0,l.useState)(""),[R,k]=(0,l.useState)("");let Z=(0,T.Z)();(0,l.useEffect)((()=>{P.editData.length>0&&(m(P.editData),I(!1),S({type:"PrimaryId",payload:P.editData[0].CCMNatureDetIDPK}))}),[P.editData]),(0,l.useEffect)((()=>{P.showTableview&&k(P.showTableview)}),[P.showTableview]),(0,l.useEffect)((()=>{c(P.ExpandDetailValue)}),[P.ExpandDetailValue]),(0,l.useEffect)((()=>{c(P.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),I(null)},viewtoggle:()=>{I(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=y.v.Api+"FP994S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:1,p33:10,p34:P.IsDraft?"DraftCCMNatureDetID":"CCMNatureDetID",p35:null,p36:null,p37:localStorage.getItem("UserGroupID"),p38:localStorage.getItem("userid")}};(0,ce.Z)(0).then((e=>{(0,d.Z)(l,r,e).then((e=>{h.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===D&&a.current.clear()}})));const L=e=>Z?.[e]?Z?.[e]:e,O=e=>P.language?.[e]?P.language[e]:e;function z(e,t){}const K=(e,t)=>(a,l)=>{f(v?Object.assign(...s.filter((e=>e.CCMNatureDetIDPK==t)).map((e=>e))):P.editData),I(!l&&e)};return r().createElement("div",null,r().createElement(i.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&c(!u)}},!D&&r().createElement(Y.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},P.IsDraft?L("Draft"):"",O("CCMNatureTargetDetails"),e.viewonly?" ":"("+P.count+")")):"",u?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&P.AccessRights.IsAdd?r().createElement(ae.Z,{name:L("Add"),frmctrlid:"fld994L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{h.hideAddBtn(!0),S({type:"editData",payload:[]}),S({type:"ShowDetail",payload:!1}),S({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&P.AccessRights.IsEdit?r().createElement(ue.Z,{frmctrlid:"fld994L1VCEditBtn",onClick:K("panel0",""),disabled:!1}):P.IsDraft&&P.AccessRights.IsAdd&&r().createElement(ue.Z,{frmctrlid:"fld994L1VCEditBtnIsAdd",onClick:()=>{K("panel","")},disabled:!1}),!e.viewonly&&r().createElement(me.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld994L1VCCloseBtn",onClick:()=>{c(!1),h.hideAddBtn(!1),v&&(S({type:"editData",payload:[]}),m([]))}})):"")),r().createElement(o.Z,{style:{display:"block"}},s.map(((t,l)=>r().createElement("div",{key:l},D==="panel"+l?r().createElement(Se,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(be.Z,{tableName:"CCMNatureTargetDetails",tableID:994,parentID:t.CCMNatureDetIDPK,fldid:"fld994L1VCContainer",OpenSlideComponent:z,index:l,refresh:R,val:t,tf:O,t:L,title:"10.0.0.59-3:08:17 PM-18-7[994]"}))))))))}));var xe=a(67698),Be=a(55995),Ae=a(45965),Fe=a(41722);a(9175);const Re=(0,l.createContext)(),ke=()=>{const e=(0,l.useContext)(Re);if(void 0===e)throw new Error("useCont must be used within  CCMNatureTargetDetailsContext Provider");return e},Ze=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),s=(0,l.useRef)(),d=(0,l.useRef)(),[m,u]=(0,l.useState)(!0),[c,p]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[g,y]=(0,l.useState)(0),[N,D]=(0,l.useReducer)(Fe.D,Fe.E),[T,I]=(0,l.useState)(""),[E,f]=(0,l.useState)([]),[v,M]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divCCMNatureTargetDetails-Entry").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainTable").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{u(!0),document.getElementById("divCCMNatureTargetDetails-Entry").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainTable").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"editData",payload:[e.editData]}),D({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{D(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const h=e=>{f([]),document.getElementById("divCCMNatureTargetDetails-Entry").style.width="100%",document.getElementById("CCMNatureTargetDetailsEntryTable").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainEntry").style.display="block",document.getElementById("CCMNatureTargetDetails-MainDiv").classList.add("displayFlex"),document.getElementById("CCMNatureTargetDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMNatureTargetDetails").style.width="0%",document.getElementById("overlayimgAttCCMNatureTargetDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,ce.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length),P(e)}))}))}),[]);const P=e=>{(0,Ae.Z)(e,995).then((e=>D({type:"AccessRights",payload:e})))};return r().createElement("div",{style:{width:"100%"}},r().createElement(Re.Provider,{value:{cstate:N,cdispatch:D,ContextApi:ke,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==g&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,E),f([])},EditClose:e=>h(),AttachExpand:e=>(s.current.AttachmentData(N.PrimaryId),void(m&&(document.getElementById("overlayPreviewCCMNatureTargetDetails").style.width="50%",document.getElementById("divCCMNatureTargetDetails-Entry").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainTable").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttCCMNatureTargetDetails").style.display="block",document.getElementById("overlayimgAttCCMNatureTargetDetails").style.width="25%"))),Expanded:e=>{N.ShowDetail&&o.current.tableClick(e),D({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{N.ShowDetail&&o.current.viewtoggle()},clear:e=>{D({type:"ShowDetail",payload:!1}),D({type:"editData",payload:[]}),N.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{N.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),s.current.clrImgstate(!0)}}},r().createElement("div",{id:"CCMNatureTargetDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"CCMNatureTargetDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"CCMNatureTargetDetailsEntryTable",style:{width:"100%"}},N.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divCCMNatureTargetDetails-Entry",style:{width:"100%"}},0!==g?r().createElement(we,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Be.Z,{ref:d,menurefID:994,fileId:"LogoImgCCMNatureTargetDetails",imgloading:t=>{t||N.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewCCMNatureTargetDetails",frmctrlid:"PvwIm_994_L1_",tempImg:e=>{N.PrimaryId?s.current.AttachmentData(N.PrimaryId):s.current.tempImg(e),f(e)},clearTempData:N.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divCCMNatureTargetDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Se,{ref:i,clrImgstate:e=>s.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Be.Z,{ref:d,menurefID:994,fileId:"LogoImgCCMNatureTargetDetails",imgloading:t=>{t||N.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:N.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewCCMNatureTargetDetails",frmctrlid:"PvwIm_994_L1_",tempImg:e=>{N.PrimaryId?s.current.AttachmentData(N.PrimaryId):s.current.tempImg(e),f(e)},clearTempData:N.Add})),r().createElement("div",{id:"CCMNatureTargetDetails-MainTable"},0!==g?r().createElement(de,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(xe.Z,{ImgAttachment:e=>h(),menurefID:994,fileId:"AttImgCCMNatureTargetDetails",imgid:"overlayimgAttCCMNatureTargetDetails",valueIDPK:N.PrimaryId,PriviewData:(e,t,a,l)=>{d.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewCCMNatureTargetDetails",ref:s,imgloading:c,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_994_L1_",timglist:e=>{d.current.timglist(e),f(e)},clearTempData:N.Add}))),r().createElement("div",{id:"CCMNatureTargetDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},71166:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var l=a(92950),r=a.n(l),n=a(45237),i=a(36939),o=a(61201),s=a(50743),d=(a(10966),a(30553)),m=(a(99090),a(44528)),u=a(37148),c=a(61956),p=a(51673),C=(a(96071),a(14439)),g=a(27848),y=(a(49174),a(38773),a(19089),a(1695)),N=(a(13235),a(61924)),D=a.n(N),T=a(26537),I=a(40900),E=a(35131),f=a.n(E),v=a(55490),M=(a(2493),a(92371));a(82729),a(75355),a(11107),a(40826);const h={EnterKeyValues:{CCMNatureTargetRegistry:["ComplaintNatureName","PriorityName","NatPriResponseBy","NatPriAnalysedBy","NatPriFixedBy","CCMNatureTargetCode","NatTotalTagretMin"]},Label:{CCMNatureTargetRegistry:{ComplaintNatureID:["ComplaintNatureCode","ComplaintNatureName","DivisionName","CCMComplaintTypeName"],PriorityID:["PriorityCode","PriorityName"],NatPriResponseBy:["CCMNatureTargetCode"],NatPriAnalysedBy:["CCMNatureTargetCode"],NatPriFixedBy:["CCMNatureTargetCode"],CCMNatureTargetCode:["CCMNatureTargetCode"],NatTotalTagretMin:["CCMNatureTargetCode"]}},LabelHeader:{CCMNatureTargetRegistry:{ComplaintNatureID:["Complaint Nature Code","Complaint Nature Name","Division Name","Complaint Type Name"],PriorityID:["Priority Code","Priority Name"],NatPriResponseBy:["CCMNatureTargetCode"],NatPriAnalysedBy:["CCMNatureTargetCode"],NatPriFixedBy:["CCMNatureTargetCode"],CCMNatureTargetCode:["CCMNatureTargetCode"],NatTotalTagretMin:["CCMNatureTargetCode"]}},Property:{CCMNatureTargetRegistry:{ComplaintNatureID:{id:"fld995_26256",clearID:"CCMNatureTargetRegistryComplaintNatureNameClear",type:"select",labelID:"ComplaintNatureIDPK",labelname:"Nature of Complaint",fielddisplayname:"ComplaintNatureName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PriorityID:{id:"fld995_26255",clearID:"CCMNatureTargetRegistryPriorityNameClear",type:"select",labelID:"PriorityIDPK",labelname:"Priority",fielddisplayname:"PriorityName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},NatPriResponseBy:{id:"fld995_26248",labelID:"NatPriResponseBy",maxLength:"20",labelname:"Response Time",frmctrlid:"fld995_26248",frmctrlidname:"NatPriResponseBy",type:"text",mandatory:!0,masked:!0,masktype:"Days",disabled:!1,autogen:!1},NatPriAnalysedBy:{id:"fld995_26249",labelID:"NatPriAnalysedBy",maxLength:"20",labelname:"Analysed By",frmctrlid:"fld995_26249",frmctrlidname:"NatPriAnalysedBy",type:"text",mandatory:!0,masked:!0,masktype:"Days",disabled:!1,autogen:!1},NatPriFixedBy:{id:"fld995_26250",labelID:"NatPriFixedBy",maxLength:"20",labelname:"Fixed By",frmctrlid:"fld995_26250",frmctrlidname:"NatPriFixedBy",type:"text",mandatory:!0,masked:!0,masktype:"Days",disabled:!1,autogen:!1},CCMNatureTargetCode:{id:"fld995_26247",labelID:"CCMNatureTargetCode",maxLength:"50",labelname:"CCMNatureTargetCode",frmctrlid:"fld995_26247",frmctrlidname:"CCMNatureTargetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NatTotalTagretMin:{id:"fld995_26251",labelID:"NatTotalTagretMin",maxLength:"",labelname:"NatTotalTagretMin",frmctrlid:"fld995_26251",frmctrlidname:"NatTotalTagretMin",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{CCMNatureTargetRegistry:{ComplaintNatureID:["ComplaintNatureCode","MaintenanceHours","ComplaintNatureName","ServiceArea","CCMComplaintTypeName","PriorityName"],PriorityID:["PriorityCode","PriorityName","TargetMins","MaintenanceMins"]}}};a(79117);var P=a(26601),S=a(8981),b=a(63163),w=a(80471),x=a(47516),B=a(45155),A=a(79352),F=a(63750),R=a(51649),k=a(16233),Z=a.n(k),L=a(74095);const O={CCMNatureTargetIDPK:"",CCMNatureTargetCode:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",NatTotalTagretMin:"",IsDefault:!1,IsDraft:!1,Remarks:"",PriorityID:null,ComplaintNatureID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PriorityCode:"",PriorityName:"",DivisionID:null,DivisionCode:"",DivisionName:"",CCMComplaintTypeID:null,CCMComplaintTypeCode:"",CCMComplaintTypeName:"",ComplaintNatureCode:"",ComplaintNatureName:"",Type:"CCMNatureTargetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid"),NatPriResponseByDays:"",NatPriAnalysedByDays:"",NatPriFixedByDays:""},z=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,N]=(0,l.useState)(!1),[E,k]=(0,l.useState)(!0),[z,K]=(0,l.useState)(!1),[V,_]=(0,l.useState)(!1),[G,H]=(0,l.useState)(!1),[U,j]=(0,l.useState)(!1),[Y,$]=(0,l.useState)([]),[W,J]=(0,l.useState)(null),[q,Q]=(0,l.useReducer)(M.Z,O),[X,ee]=(0,l.useState)(!1),[te,ae]=(0,l.useState)([]),[le,re]=(0,l.useState)(0),[ne,ie]=(0,l.useState)(""),[oe,se]=(0,l.useState)(!0),[de,me]=(0,l.useState)(!0),ue=(0,l.useContext)(P.CCMNatureTargetRegistryContext),{cstate:ce,cdispatch:pe}=(0,P.ContextApi)(),[Ce]=(0,l.useState)(localStorage.getItem("Language")),[ge]=(0,l.useState)(localStorage.getItem("Language")),ye=(0,l.useRef)(null),[Ne,De]=Z()("995"),[Te,Ie]=(0,l.useState)(!1),[Ee,fe]=(0,l.useState)([]),ve=(0,l.useRef)(null);let Me=(0,S.Z)();const[he,Pe]=(0,l.useState)({}),Se=e=>Me?.[e]?Me[e]:e,be=t=>ce.language?.[t]?ce.language[t]:e.createEasy?he?.[t]:t;(0,l.useEffect)((()=>{ce.PrimaryId&&re(Number(ce.PrimaryId))}),[ce.PrimaryId]),(0,l.useEffect)((()=>{ce.editData.length<0&&(0,T.Z)(1).then((e=>{Oe(1,null,"SetDefaultCCMNatureTargetID",e)}))}),[]),(0,l.useEffect)((()=>{ce.editData.length>0?(xe(ce.editData[0],""),_(!0)):ce.Add&&(Be(),_(!0))}),[ce.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Pe(Object.assign({},...t))}(Ne)}),[Ne]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){_(!0),K(!1)},CreateEasyProps:(e=!0,t)=>{De(!0),t?(He(t),_(e)):(Be(),_(e))}})));const we=e=>{let t=60*Number(e),a=parseInt(t,10),l=Math.floor(a/86400);a-=3600*l*24;let r=Math.floor(a/3600);a-=3600*r;let n=Math.floor(a/60);a-=60*n;let i=l.toString().length;2===i?l="0"+l:1===i&&(l="00"+l),1===r.toString().length&&(r="0"+r),1===n.toString().length&&(n="0"+n);let o=(l.toString()+r.toString()+n.toString()).replace(/\D/g,"").match(/(\d{0,3})(\d{0,2})(\d{0,2})/);return o[2]?o[1]+": "+o[2]+(o[3]?":"+o[3]:""):o[1]},xe=(t,a,l)=>{let r=t;Object.keys(r).forEach((function(e){0==r[e]&&(r[e]=null)})),H(r.IsDraft),pe({type:"EditIsDraft",payload:"1"==r.IsDraft}),"SetDefaultCCMNatureTargetID"==a?ie(r.CCMNatureTargetIDPK):(re(e.primid?Number(e.primid):r.CCMNatureTargetIDPK?r.CCMNatureTargetIDPK:0),pe({type:"PrimaryId",payload:r.CCMNatureTargetIDPK})),Q({type:"number",name:"ComplaintNatureID",number:r.ComplaintNatureID?Number(r.ComplaintNatureID):0}),Q({type:"text",name:"ComplaintNatureName",value:r.ComplaintNatureName}),Q({type:"number",name:"PriorityID",number:r.PriorityID?Number(r.PriorityID):0}),Q({type:"text",name:"PriorityName",value:r.PriorityName}),Q({type:"text",name:"NatPriResponseByDays",value:we(r.NatPriResponseBy)}),Q({type:"text",name:"NatPriResponseBy",value:r.NatPriResponseBy}),Q({type:"text",name:"NatPriAnalysedByDays",value:we(r.NatPriAnalysedBy)}),Q({type:"text",name:"NatPriAnalysedBy",value:r.NatPriAnalysedBy}),Q({type:"text",name:"NatPriFixedByDays",value:we(r.NatPriFixedBy)}),Q({type:"text",name:"NatPriFixedBy",value:r.NatPriFixedBy}),Q({type:"text",name:"CCMNatureTargetCode",value:r.CCMNatureTargetCode?r.CCMNatureTargetCode:""}),Q({type:"number",name:"NatTotalTagretMin",number:r.NatTotalTagretMin}),Q({type:"boolean",name:"IsDefault",boolean:r.IsDefault}),r.IsDraft?k(!0):k(!("1"!=r.IsActive&&!r.IsActive))},Be=()=>{$([]),re(0),ie(""),se(!0),me(!0),pe({type:"PrimaryId",payload:""}),Q({type:"text",name:"ComplaintNatureID",value:null}),Q({type:"text",name:"ComplaintNatureName",value:""}),document.getElementById("CCMNatureTargetRegistryComplaintNatureNameClear")&&document.getElementById("CCMNatureTargetRegistryComplaintNatureNameClear").click(),document.getElementById("CCMNatureTargetRegistryComplaintNatureIDClear")&&document.getElementById("CCMNatureTargetRegistryComplaintNatureIDClear").click(),fe([]),Q({type:"text",name:"PriorityID",value:null}),Q({type:"text",name:"PriorityName",value:""}),document.getElementById("CCMNatureTargetRegistryPriorityNameClear")&&document.getElementById("CCMNatureTargetRegistryPriorityNameClear").click(),Q({type:"text",name:"NatPriResponseByDays",value:""}),Q({type:"text",name:"NatPriResponseBy",value:""}),Q({type:"text",name:"NatPriAnalysedByDays",value:""}),Q({type:"text",name:"NatPriAnalysedBy",value:""}),Q({type:"text",name:"NatPriFixedByDays",value:""}),Q({type:"text",name:"NatPriFixedBy",value:""}),Q({type:"text",name:"CCMNatureTargetCode",value:""}),Q({type:"number",name:"NatTotalTagretMin",number:0}),Q({type:"boolean",name:"IsDefault",boolean:!1}),k(!0)},Ae=e=>!le&&0==Ee.length||le&&(!q.ComplaintNatureID||0==q.ComplaintNatureID)?(ue.alert({open:!0,color:"warning",message:[Se("Please select the ")+" "+be("ComplaintNatureID")]}),!1):q.PriorityID&&0!=q.PriorityID?Ue(q.NatPriResponseByDays)?Ue(q.NatPriAnalysedByDays)?Ue(q.NatPriFixedByDays)?void Fe(e):(ue.alert({open:!0,color:"warning",message:[Se("Please enter the")+""+be("NatPriFixedBy")]}),!1):(ue.alert({open:!0,color:"warning",message:[Se("Please enter the")+""+be("NatPriAnalysedBy")]}),!1):(ue.alert({open:!0,color:"warning",message:[Se("Please enter the")+""+be("NatPriResponseBy")]}),!1):(ue.alert({open:!0,color:"warning",message:[Se("Please select the ")+" "+be("PriorityID")]}),!1),Fe=()=>{ue.ConfirmAlert(r().createElement(D(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Se("Are you sure?"),onConfirm:()=>Re("",!1),onCancel:()=>ue.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Se("Yes"),cancelBtnText:Se("Cancel"),showCancel:!0},ce.PrimarId?Se("Do you want to Update?"):Se("Do you want to Save?")))},Re=(e,t)=>{ue.loading(!0),ue.ConfirmAlert(null),pe({type:"IsDraft",payload:!1});const a=I.v.Api+"FP995S2/",l={data:[{p1:"SetDefaultCCMNatureTargetID"==e?"NORECORDS"!=ne&&ne?ne:0:le,p2:Ue(q.CCMNatureTargetCode),p3:q.NatPriResponseBy?Number(q.NatPriResponseBy):0,p4:q.NatPriAnalysedBy?Number(q.NatPriAnalysedBy):0,p5:q.NatPriFixedBy?Number(q.NatPriFixedBy):0,p6:q.NatTotalTagretMin?Number(q.NatTotalTagretMin):0,p7:q.IsDefault,p8:t,p9:"SetDefaultCCMNatureTargetID"==e?"SetDefault":null,p10:q.PriorityID?q.PriorityID:0,p11:le?q.ComplaintNatureID:0==Ee.length?0:Ee.map((e=>e.ComplaintNatureIDPK)).toString(),p12:E,p13:"SetDefaultCCMNatureTargetID"==e,p14:localStorage.getItem("userid"),p15:f()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,T.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(ue.alert({open:!0,color:"warning",message:n}),ue.loading(!1)):ke(e,!1)):(ue.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ue.loading(!1))}))}))},ke=(t,a)=>{se(!0),me(!0),ue.loading(!0),ue.ConfirmAlert(null);const l=I.v.Api+"FP995S1/",r={data:[{p1:"SetDefaultCCMNatureTargetID"==t?"NORECORDS"!=ne&&ne?ne:0:le,p2:Ue(q.CCMNatureTargetCode),p3:q.NatPriResponseBy?Number(q.NatPriResponseBy):0,p4:q.NatPriAnalysedBy?Number(q.NatPriAnalysedBy):0,p5:q.NatPriFixedBy?Number(q.NatPriFixedBy):0,p6:q.NatTotalTagretMin?Number(q.NatTotalTagretMin):0,p7:q.IsDefault,p8:a,p9:"SetDefaultCCMNatureTargetID"==t?"SetDefault":null,p10:q.PriorityID?q.PriorityID:0,p11:le?q.ComplaintNatureID:0==Ee.length?0:Ee.map((e=>e.ComplaintNatureIDPK)).toString(),p12:E,p13:"SetDefaultCCMNatureTargetID"==t,p14:localStorage.getItem("userid"),p15:f()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,T.Z)(0).then((a=>{(0,c.Z)(l,r,a).then((a=>{const l=a[0].status;200==l.code?(ue.loading(!1),ce.AccessRights.IsApproval&&ue.Approval(!0),"SetDefaultCCMNatureTargetID"==t?(ue.alert({open:!0,color:"success",message:["Default Record Configured"]}),Oe(1,null,"SetDefaultCCMNatureTargetID",ce.token[0])):(ue.alert({open:!0,color:"success",message:[l.message]}),e.createEasy?Be():(pe({type:"PrimaryId",payload:a[0].Data.IDPK}),ue.RefreshTable(),ue.attachmentSave(a[0].Data.IDPK),document.getElementById("CCMNatureTargetRegistry-MainTable").style.display="block",e.clrImgstate(!0)),pe({type:"EditOpen",payload:!1}),pe({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttCCMNatureTargetRegistry")&&(document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.width="0%",document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.display="none",document.getElementById("divCCMNatureTargetRegistry-Entry").style.width="100%"))):(ue.alert({open:!0,color:"warning",message:[l.message]}),ue.loading(!1))}))}))};function Ze(e){return CreateEasy(e,ce,pe,ue,ye),!1}function Le(e,a){return AdvanceSearch(e,a,P.CCMNatureTargetRegistryContext,(0,P.ContextApi)(),Ke,t),!1}(0,l.useEffect)((()=>{_(ce.ExpandDetailValue)}),[ce.ExpandDetailValue]);const Oe=(t,a,l,r,n,i)=>{const o=I.v.Api+"FP995S3/",s={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:"0"==q.PriorityID?null:q.PriorityID,p11:"0"==q.ComplaintNatureID?null:q.ComplaintNatureID?q.ComplaintNatureID:Ee.map((e=>e.ComplaintNatureIDPK)).toString(),p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:a?"%"+a+"%":null,p20:a?"%"+a+"%":null,p21:"0"==q.DivisionID?null:q.DivisionID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==q.CCMComplaintTypeID?null:q.CCMComplaintTypeID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:t,p30:i||10,p31:l,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}},d=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(s.data).length-8?s.data[t]:null,e)),{});ee(!0);const m={data:d};(0,p.Z)(o,"ClearAll"==l?m:s,"PKDrag"==r?n:ce.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?e>0?(ae(r),i&&"ComplaintNatureIDPK"==l&&(ve.current.checkedAll(r),ue.loading(!1))):ae([]):ae(te.concat(r)),"SetDefaultCCMNatureTargetID"==l&&(e>0?xe(r[0],"SetDefaultCCMNatureTargetID"):ie("NORECORDS")),ee(!1)}else ue.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ee(!1)}))},ze=(t,a,l)=>{const r=I.v.Api+"FP995S3/",n={data:{p1:null,p2:"CCMNatureTargetCode"==l&&a?"%"+a+"%":null,p3:"NatPriResponseBy"==l&&a?"%"+a+"%":null,p4:"NatPriAnalysedBy"==l&&a?"%"+a+"%":null,p5:"NatPriFixedBy"==l&&a?"%"+a+"%":null,p6:"NatTotalTagretMin"==l&&a?"%"+a+"%":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:t,p30:10,p31:"CCMNatureTargetID",p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};ee(!0),(0,p.Z)(r,"ClearAll"==l?i:n,ce.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?("CCMNatureTargetCode"==l&&se(e>0),"NatTotalTagretMin"==l&&me(e>0),ae(r)):("CCMNatureTargetCode"==l&&se(!0),"NatTotalTagretMin"==l&&me(!0),ae(te.concat(r))),ee(!1)}else ue.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ee(!1)}))},Ke=(0,l.useCallback)((async(e,t,a)=>{"text"==a?Q({type:a,name:t,value:e}):"number"==a?Q({type:a,name:t,number:Number(e)}):"boolean"==a?Q({type:a,name:t,boolean:e}):"date"==a?Q({type:"text",name:t,value:e}):"select"==a&&("ComplaintNatureID"==t?(Q({type:"text",name:"ComplaintNatureID",value:e.ComplaintNatureIDPK?e.ComplaintNatureIDPK:null}),Q({type:"text",name:"ComplaintNatureName",value:e.ComplaintNatureName?e.ComplaintNatureName:null}),Q({type:"text",name:"PriorityID",value:e.PriorityID?e.PriorityID:null}),Q({type:"text",name:"PriorityName",value:e.PriorityName?e.PriorityName:null})):"PriorityID"==t&&(Q({type:"text",name:"PriorityID",value:e.PriorityIDPK?e.PriorityIDPK:null}),Q({type:"text",name:"PriorityName",value:e.PriorityName?e.PriorityName:null})))}),[q]);function Ve(e){if("ComplaintNatureID"==e){if(!q.ComplaintNatureID)return!1;Q({type:"text",name:"ComplaintNatureID",value:null}),Q({type:"text",name:"ComplaintNatureName",value:""}),document.getElementById("CCMNatureTargetRegistryComplaintNatureIDClear")&&document.getElementById("CCMNatureTargetRegistryComplaintNatureIDClear").click(),fe([]),document.getElementById("CCMNatureTargetRegistryComplaintNatureNameClear")&&document.getElementById("CCMNatureTargetRegistryComplaintNatureNameClear").click(),Q({type:"text",name:"PriorityID",value:null}),Q({type:"text",name:"PriorityName",value:""}),document.getElementById("CCMNatureTargetRegistryPriorityNameClear")&&document.getElementById("CCMNatureTargetRegistryPriorityNameClear").click()}else if("PriorityID"==e){if(!q.PriorityID)return!1;Q({type:"text",name:"PriorityID",value:null}),Q({type:"text",name:"PriorityName",value:""}),document.getElementById("CCMNatureTargetRegistryPriorityNameClear")&&document.getElementById("CCMNatureTargetRegistryPriorityNameClear").click(),Q({type:"text",name:"ComplaintNatureID",value:null}),Q({type:"text",name:"ComplaintNatureName",value:""}),document.getElementById("CCMNatureTargetRegistryComplaintNatureNameClear")&&document.getElementById("CCMNatureTargetRegistryComplaintNatureNameClear").click()}}function _e(e){if("ComplaintNatureID"==e){if(!q.ComplaintNatureID)return!1;Q({type:"text",name:"ComplaintNatureID",value:null}),Q({type:"text",name:"PriorityID",value:null})}else if("PriorityID"==e){if(!q.PriorityID)return!1;Q({type:"text",name:"PriorityID",value:null}),Q({type:"text",name:"ComplaintNatureID",value:null})}}const Ge=e=>{ue.ConfirmAlert(r().createElement(D(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>He(e),onCancel:()=>ue.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Se("Yes"),cancelBtnText:Se("No"),showCancel:!0},Se("Do you want to update this record?")))};function He(t){ue.ConfirmAlert(null),H(t.IsDraft),e.createEasy||(pe({type:"editData",payload:[t]}),pe({type:"PrimaryId",payload:t.CCMNatureTargetIDPK})),re(Number(t.CCMNatureTargetIDPK)?Number(t.CCMNatureTargetIDPK):0),Q({type:"number",name:"ComplaintNatureID",number:t.ComplaintNatureID?Number(t.ComplaintNatureID):0}),Q({type:"text",name:"ComplaintNatureName",value:t.ComplaintNatureName?t.ComplaintNatureName:""}),Q({type:"number",name:"PriorityID",number:t.PriorityID?Number(t.PriorityID):0}),Q({type:"text",name:"PriorityName",value:t.PriorityName?t.PriorityName:""}),Q({type:"text",name:"NatPriResponseBy",value:t.NatPriResponseBy?t.NatPriResponseBy:""}),Q({type:"text",name:"NatPriAnalysedBy",value:t.NatPriAnalysedBy?t.NatPriAnalysedBy:""}),Q({type:"text",name:"NatPriFixedBy",value:t.NatPriFixedBy?t.NatPriFixedBy:""}),Q({type:"text",name:"CCMNatureTargetCode",value:t.CCMNatureTargetCode?t.CCMNatureTargetCode:""}),Q({type:"text",name:"NatTotalTagretMin",value:t.NatTotalTagretMin?t.NatTotalTagretMin:""})}const Ue=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(i.Z,{expanded:V,onChange:e=>{}},r().createElement(s.Z,null,r().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&r().createElement("span",{style:{cursor:"pointer"}},r().createElement(R.u1R,{className:"backButtonList",onClick:()=>ue.ExpandTable(!0)})),r().createElement("p",{id:"fld995L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[995]",onClick:()=>ce.ExpandTableValue&&_(!V)},le?"Edit ":"New ",be("995")," (",ce.count,")"),e.createEasy||ce.IsCollapse?!e.createEasy&&r().createElement("span",{className:"tooltitle",style:{float:"right"}},r().createElement("div",{id:"fld995L3ECFullscreen",onClick:()=>{K(!ce.IsExPView),ue.ExpandDetail(!ce.IsExPView),_(!0)}},r().createElement(x.$4j,{className:"FullSizeIcon1"})),r().createElement("span",{className:"tooltiptext tooltip-top"},"Expand Grid View")):r().createElement("span",{className:"tooltitle",style:{float:"right"}},r().createElement("div",{id:"fld995L3ECFullScreenExit",onClick:()=>{K(!0),ue.ExpandDetail(!1),_(!0)}},r().createElement(w.qNy,{className:"FullSizeIcon2"})),r().createElement("span",{className:"tooltiptext tooltip-top"},"Collapse Grid View"))),V&&r().createElement("div",{className:"displayFlex EntryHeaderBtn"},ce.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(d.Z,{labelPlacement:"bottom",frmctrlid:"fld995L3ECEntryCheckbox",control:r().createElement(b.Z,{checked:"1"==E,onChange:e=>k(e.target.checked)}),label:Se(1==E?"Active":"In Active")}))),e.createEasy||le||!ce.AccessRights.IsAdd||!ne&&"NORECORDS"!=ne?!e.createEasy&&!le&&r().createElement("div",{className:"GridAlignDefault",onClick:()=>{Oe(1,null,"SetDefaultCCMNatureTargetID",ce.token[0])},id:"fld995L3ECSetDefaultBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(F.j39,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Get Default"))):r().createElement("div",{className:"GridAlignDefault",onClick:()=>{ke("SetDefaultCCMNatureTargetID")},id:"fld995L3ECSetDefaultBtnIsAdd"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(F.j39,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Set Default"))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{ue.AttachExpand(!0)},id:"fld995L3ECAttachment",disableRipple:!0,disabled:!le},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",null,r().createElement(B.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Attach"))),(e.createEasy||!le)&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Be()},id:"fld995L3ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(B.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Reset"))),!e.createEasy&&!le||"1"===G?ce.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,a,l,r,n){if(!(ce.count>0))return ue.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...q};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){se(!0),me(!0),ue.loading(!0),ue.ConfirmAlert(null),pe({type:"IsDraft",payload:!1});const a=I.v.Api+"FP995S1/",l={data:[{p1:"SetDefaultCCMNatureTargetID"==r?"NORECORDS"!=ne&&ne?ne:0:le,p2:Ue(q.CCMNatureTargetCode),p3:q.NatPriResponseBy?Number(q.NatPriResponseBy):0,p4:q.NatPriAnalysedBy?Number(q.NatPriAnalysedBy):0,p5:q.NatPriFixedBy?Number(q.NatPriFixedBy):0,p6:q.NatTotalTagretMin?Number(q.NatTotalTagretMin):0,p7:q.IsDefault,p8:n,p9:"SetDefaultCCMNatureTargetID"==r?"SetDefault":null,p10:q.PriorityID?q.PriorityID:0,p11:le?q.ComplaintNatureID:0==Ee.length?0:Ee.map((e=>e.ComplaintNatureIDPK)).toString(),p12:!1,p13:"SetDefaultCCMNatureTargetID"==r,p14:localStorage.getItem("userid"),p15:f()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:f()().format("YYYY-MM-DD hh:mm:ss")}]};(0,T.Z)(0).then((r=>{(0,c.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?ue.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):ue.alert({open:!0,color:"success",message:["Saved to Draft"]}),ue.loading(!1),ue.attachmentSave(a[0].Data.IDPK),Be(),ue.RefreshTable(),e.clrImgstate(!0)):(ue.alert({open:!0,color:"warning",message:[l.message]}),ue.loading(!1))}))}))}else ue.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}("",0,0,"",!0)},frmctrlid:"fld12L3ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(A.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Draft"))):null,ce.AccessRights.IsAdd?r().createElement(y.Z,{name:le?"Update":"Save",disabled:!1,frmctrlid:"fld995L3ECSaveBtnIsAdd",onClick:()=>{Ae()}}):ce.AccessRights.IsEdit&&le&&r().createElement(y.Z,{name:le?"Update":"Save",disabled:!1,frmctrlid:"fld995L3ECSaveBtn",onClick:()=>{Ae()}}),!e.createEasy&&le?r().createElement(u.Z,{className:"L1AddBtnCommon",disabled:!1,frmctrlid:"fld995L3ECCloseBtn",onClick:()=>{ue.detailview(!0,le)}}):null))),r().createElement(o.Z,null,ce.AccessRights.IsAdd?null:ce.AccessRights.IsEdit?!ce.PrimaryId&&r().createElement("div",{className:"divdisable"}):r().createElement("div",{className:"divdisable"}),r().createElement("div",{id:"CCMNatureTargetRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"CCMNatureTargetRegistry-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"CCMNatureTargetRegistry-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(C.Z,{spacing:2},le?null:r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(L.Z,{json:h,id:q.ComplaintNatureID,"data-testid":q.ComplaintNatureID,value:q.ComplaintNatureName,SPName:"CCMNatureTargetRegistry",FieldName:"ComplaintNatureID",tfLabel:be("ComplaintNatureID"),ref:ve,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{fe(t)},onChange:(e,t)=>{Oe(e,t,"ComplaintNatureIDPK")},fieldorder:"1",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{ue.loading(!0),Oe("1",t||"","ComplaintNatureIDPK","","",e)},openSlide:()=>{Ze("289")},Tabledialog:()=>Le("289","ComplaintNatureID"),loading:X,clear:e=>{e&&Ve("ComplaintNatureID")}})),le?r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(v.Z,{json:h,id:q.ComplaintNatureID,"data-testid":q.ComplaintNatureID,value:q.ComplaintNatureName,SPName:"CCMNatureTargetRegistry",FieldName:"ComplaintNatureID",tfLabel:be("ComplaintNatureID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Ke(e,"ComplaintNatureID","select"),onChange:(e,t)=>{Oe(e,t,"ComplaintNatureIDPK")},KeyBack:e=>{_e("ComplaintNatureID")},fieldorder:"1",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,openSlide:()=>{Ze("289")},Tabledialog:()=>Le("289","ComplaintNatureID"),loading:X,SideEntryView:!1,clear:e=>{e&&Ve("ComplaintNatureID")}})):null,r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(v.Z,{json:h,id:q.PriorityID,"data-testid":q.PriorityID,value:q.PriorityName,SPName:"CCMNatureTargetRegistry",FieldName:"PriorityID",tfLabel:be("PriorityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ke(e,"PriorityID","select"),onChange:(e,t)=>{Oe(e,t,"PriorityIDPK")},KeyBack:e=>{_e("PriorityID")},fieldorder:"2",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,openSlide:()=>{Ze("62")},Tabledialog:()=>Le("62","PriorityID"),loading:X,clear:e=>{e&&Ve("PriorityID")}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(m.Z,{json:h,"data-testid":q.NatPriResponseBy,SPName:"CCMNatureTargetRegistry",FieldName:"NatPriResponseBy",tfLabel:be("NatPriResponseBy"),frmctrlid:"fld995_26248",fieldorder:"3",onChange:e=>{Q({type:"text",name:"NatPriResponseBy",value:e.Days}),Q({type:"text",name:"NatPriResponseByDays",value:e.val})},clear:e=>{e&&(Q({type:"text",name:"NatPriResponseBy",value:""}),Q({type:"text",name:"NatPriResponseByDays",value:""}))},placeholder:"DDD:HH:MM",value:q.NatPriResponseByDays})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(m.Z,{json:h,"data-testid":q.NatPriAnalysedBy,SPName:"CCMNatureTargetRegistry",FieldName:"NatPriAnalysedBy",tfLabel:be("NatPriAnalysedBy"),frmctrlid:"fld995_26249",fieldorder:"4",onChange:e=>{Q({type:"text",name:"NatPriAnalysedBy",value:e.Days}),Q({type:"text",name:"NatPriAnalysedByDays",value:e.val})},clear:e=>{e&&(Q({type:"text",name:"NatPriAnalysedBy",value:""}),Q({type:"text",name:"NatPriAnalysedByDays",value:""}))},placeholder:"DDD:HH:MM",value:q.NatPriAnalysedByDays})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(m.Z,{json:h,"data-testid":q.NatPriFixedBy,SPName:"CCMNatureTargetRegistry",FieldName:"NatPriFixedBy",tfLabel:be("NatPriFixedBy"),frmctrlid:"fld995_26250",fieldorder:"1",onChange:e=>{Q({type:"text",name:"NatPriFixedBy",value:e.Days}),Q({type:"text",name:"NatPriFixedByDays",value:e.val})},clear:e=>{e&&(Q({type:"text",name:"NatPriFixedBy",value:""}),Q({type:"text",name:"NatPriFixedByDays",value:""}))},placeholder:"DDD:HH:MM",value:q.NatPriFixedByDays})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":q.CCMNatureTargetCode,json:h,SPName:"CCMNatureTargetRegistry",FieldName:"CCMNatureTargetCode",tfLabel:be("CCMNatureTargetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{oe&&ze(1,"","ClearAll"),se(!0)},frmctrlid:"fld995_26247",frmctrlidName:"CCMNatureTargetCode",fieldorder:"1",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,onChange:(e,t)=>{oe&&ze(e,t,"CCMNatureTargetCode"),Ke(t,"CCMNatureTargetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:q.CCMNatureTargetCode,loading:X,clear:e=>{e&&(Q({type:"text",name:"CCMNatureTargetCode",value:""}),se(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":q.NatTotalTagretMin,json:h,SPName:"CCMNatureTargetRegistry",FieldName:"NatTotalTagretMin",tfLabel:be("NatTotalTagretMin"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{de&&ze(1,"","ClearAll"),me(!0)},frmctrlid:"fld995_26251",frmctrlidName:"NatTotalTagretMin",fieldorder:"1",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,onChange:(e,t)=>{de&&ze(e,t,"NatTotalTagretMin"),Ke(t,"NatTotalTagretMin","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||me(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:q.NatTotalTagretMin,loading:X,clear:e=>{e&&(Q({type:"text",name:"NatTotalTagretMin",value:""}),me(!0))}})))),r().createElement("div",{id:"CCMNatureTargetRegistrySideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("CCMNatureTargetRegistrySideBar").style.width="0",void j(!1))},"×"),U&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},W))))))))}))},26601:(e,t,a)=>{a.r(t),a.d(t,{CCMNatureTargetRegistryContext:()=>N,ContextApi:()=>D,default:()=>T});var l=a(92950),r=a.n(l),n=a(45237),i=a(40035),o=a(78009),s=a(71166),d=a(67698),m=a(55995),u=a(26537),c=(a(35131),a(45965)),p=a(73668),C=(a(37274),a(9175)),g=a.n(C),y=a(24126);const N=(0,l.createContext)();function D(){const e=r().useContext(N);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const T=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),C=(0,l.useRef)(),T=(0,l.useRef)(),I=(0,l.useRef)(),E=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[f,v]=(0,l.useState)([]),[M,h]=(0,l.useState)(0),[P,S]=r().useReducer(p.I,p.E),[b,w]=(0,l.useState)(!1),[x,B]=(0,l.useState)(!1),[A,F]=(0,l.useState)(!1),[R,k]=(0,l.useState)(!1),[Z,L]=(0,l.useState)(!0),[O,z]=(0,l.useState)(!0),[K,V]=(0,l.useState)(!1),[_,G]=(0,l.useState)(!1),[H,U]=(0,l.useState)(),[j,Y]=(0,l.useState)(0),[$,W]=(0,l.useState)(!0),[J,q]=(0,l.useState)(!0),[Q,X]=(0,l.useState)([]),ee=(0,l.useRef)(),[te,ae]=(0,l.useState)({}),[le,re]=(0,l.useState)([]),[ne,ie]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="35%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="65%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="block",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(S({type:"editData",payload:[e.editData]}),S({type:"ShowDetail",payload:!0}))}),[e.editData]);const oe=e=>{P.IsCollapse?(document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="50%",document.getElementById("divCCMNatureTargetRegistry-Entry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="block",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.width="0%",document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.display="none"):(document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.width="0%",document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.display="none",document.getElementById("divCCMNatureTargetRegistry-Entry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{E((e=>{(0,u.Z)(1).then((e=>{var t=new Array;t.push(e),S({type:"token",payload:t}),h(t.length),se(e)}))}))}),[]);const se=e=>{(0,c.Z)(e,995).then((e=>S({type:"AccessRights",payload:e})))};return r().createElement("div",null,r().createElement(N.Provider,{value:{cstate:P,cdispatch:S,ContextApi:D,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>{return S({type:"ExpandTableValue",payload:t=e}),void(t?(S({type:"IsExPView",payload:!0}),S({type:"IsCollapse",payload:!1}),document.getElementById("CCMNatureTargetRegistry-MainTable").style.display="block",document.getElementById("divCCMNatureTargetRegistry-Entry").style.margin="0",document.getElementById("CCMNatureTargetRegistry-MainTable").style.margin="0",document.getElementById("divCCMNatureTargetRegistry-Entry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="none",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayGrid"),S({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttCCMNatureTargetRegistry")&&(document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.width="0%",document.getElementById("overlayPreviewCCMNatureTargetRegistry").style.width="0%",document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.display="none")):(S({type:"IsExPView",payload:!1}),S({type:"IsCollapse",payload:!0}),document.getElementById("divCCMNatureTargetRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMNatureTargetRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="35%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="65%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="block",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayGrid"),S({type:"ExpandDetailValue",payload:!0})));var t},viewtoggle:()=>{P.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>{var t;(t=e)?(P.IsExPView?(S({type:"ExpandTableValue",payload:!t}),S({type:"IsExPView",payload:!0}),S({type:"IsCollapse",payload:!0}),document.getElementById("divCCMNatureTargetRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMNatureTargetRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="35%",document.getElementById("CCMNatureTargetRegistry-MainTable").style.display="none",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="65%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="block",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayGrid")):(S({type:"ExpandTableValue",payload:t}),S({type:"IsExPView",payload:!1}),S({type:"IsCollapse",payload:!1}),document.getElementById("divCCMNatureTargetRegistry-Entry").style.margin="0",document.getElementById("CCMNatureTargetRegistry-MainTable").style.margin="0",document.getElementById("divCCMNatureTargetRegistry-Entry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayGrid")),S({type:"ExpandDetailValue",payload:!0})):(P.IsExPView&&S({type:"IsExPView",payload:!1}),S({type:"ExpandTableValue",payload:t}),S({type:"IsCollapse",payload:!0}),S({type:"ExpandDetailValue",payload:!0}),document.getElementById("divCCMNatureTargetRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMNatureTargetRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="35%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="65%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="block",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayGrid"))},AttachExpand:e=>(C.current.AttachmentData(P.PrimaryId),void(P.ExpandTableValue?(document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.width="41%",document.getElementById("divCCMNatureTargetRegistry-Entry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.display="block"):(document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="40%",document.getElementById("divCCMNatureTargetRegistry-Entry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="block",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.width="41%",document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.display="block"))),RefreshTable:()=>I.current.tableRefresh(),floatRefresh:()=>ee.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttCCMNatureTargetRegistry").style.display="none",attachmentSave:e=>{T.current.tempsave(e,le),re([])},detailview:(e,t)=>{I.current.viewrecord(t),S({type:"ShowDetail",payload:e}),S({type:"EditOpen",payload:!0}),P.ShowDetail&&a.current.viewtoggle()},clear:e=>{P.ShowDetail&&(S({type:"ShowDetail",payload:!1}),S({type:"editData",payload:[]}))},edit:e=>{t.current.ScreenValue(e)},ShowTableDiv:()=>S({type:"ShowDetail",payload:!1})}},r().createElement("div",{id:"CCMNatureTargetRegistry-MainDiv",className:"MainDivStyles displayFlex"},!P.ExpandTableValue&&r().createElement("div",{id:"CCMNatureTargetRegistry-MainTable",className:"Maincontent"},0!==M?r().createElement(i.default,{ref:I}):null),r().createElement("div",{id:"CCMNatureTargetRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"87vh",borderLeft:"1px solid rgb(226, 231, 235)"}},P.ShowDetail?r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divCCMNatureTargetRegistry-Entry",style:{width:"100%"}},r().createElement(o.default,{ref:a}),r().createElement(y.ZP,{loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:P.editData,AddOpen:P.EditOpen,parentId:P.PrimaryId,IsDraft:P.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:P.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),r().createElement(m.Z,{ref:T,menurefID:995,fileId:"LogoImgCCMNatureTargetRegistry",imgloading:e=>U(e),valueIDPK:P.PrimaryId,AttachmentVal:e=>C.current.AttachmentData(e),previd:"overlayPreviewCCMNatureTargetRegistry",AccessRights:P.AccessRights,frmctrlid:"PvwIm_995_L3_",tempImg:e=>{P.PrimaryId?C.current.AttachmentData(P.PrimaryId):C.current.tempImg(e),re(e)},clearTempData:P.Add})),r().createElement(d.Z,{ImgAttachment:e=>oe(),menurefID:995,fileId:"AttImgCCMNatureTargetRegistry",imgid:"overlayimgAttCCMNatureTargetRegistry",valueIDPK:P.PrimaryId,PriviewData:(e,t,a,l)=>{T.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewCCMNatureTargetRegistry",ref:C,imgloading:H,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_995_L3_",timglist:e=>T.current.timglist(e),clearTempData:P.Add})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divCCMNatureTargetRegistry-Entry",style:{width:"100%"}},r().createElement(s.default,{ref:t,clrImgstate:e=>C.current.clrImgstate(e)}),r().createElement(y.ZP,{loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:P.editData,AddOpen:P.EditOpen,parentId:P.PrimaryId,IsDraft:P.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:P.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),r().createElement(m.Z,{ref:T,menurefID:995,fileId:"LogoImgCCMNatureTargetRegistry",imgloading:e=>U(e),valueIDPK:P.PrimaryId,AttachmentVal:e=>C.current.AttachmentData(e),previd:"overlayPreviewCCMNatureTargetRegistry",frmctrlid:"PvwIm_995_L3_",tempImg:e=>{P.PrimaryId?C.current.AttachmentData(P.PrimaryId):C.current.tempImg(e),re(e)},clearTempData:P.Add})),r().createElement(d.Z,{ImgAttachment:e=>oe(),menurefID:995,fileId:"AttImgCCMNatureTargetRegistry",imgid:"overlayimgAttCCMNatureTargetRegistry",valueIDPK:P.PrimaryId,PriviewData:(e,t,a,l)=>{T.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewCCMNatureTargetRegistry",ref:C,imgloading:H,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_995_L3_",timglist:e=>T.current.timglist(e),clearTempData:P.Add}))),P.ExpandTableValue&&r().createElement("div",{id:"CCMNatureTargetRegistry-MainTable",className:"Maincontent"},0!==M?r().createElement(i.default,{ref:I}):null),r().createElement("div",{id:"CCMNatureTargetRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}})),ne&&r().createElement(g(),{openDialog:ne,closeDialog:e=>ie(e),formID:995,PrimID:P.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},40035:(e,t,a)=>{a.r(t),a.d(t,{CCMNatureTargetRegistryPopUpTable:()=>_,default:()=>V}),a(95866);var l=a(92950),r=a.n(l),n=a(45237),i=a(36939),o=a(61201),s=a(50743),d=a(59009),m=a(80366),u=a(51673),c=a(39356),p=a(54180),C=a(47516),g=a(39327),y=(a(14439),a(27848),a(42258),a(40900)),N=(a(83032),a(44117),a(26601)),D=a(43031),T=a(110),I=a(88995),E=a(5109),f=a(61657),v=a(868),M=a(24038),h=a(51209),P=a(8981),S=a(80471),b=a(86893),w=a(53854),x=a(37106),B=a(5434),A=a(51649),F=a(93521),R=(a(79117),a(24126)),k=a(71168),Z=a.n(k),L=a(65107),O=a(79352),z=a(94986),K=a(15999);a(11557),window.clickFilter="";const V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),k=((0,l.useRef)(null),(0,l.useRef)(null)),[V]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[_]=(0,l.useState)("995"),[G,H]=(0,l.useState)(!1),[U,j]=(0,l.useState)(!1),[Y,$]=(0,l.useState)(0),[W,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(0),[X,ee]=(0,l.useState)({current:1,pageSize:100}),[te,ae]=(0,l.useState)(""),[le,re]=(0,l.useState)([]),[ne,ie]=(0,l.useState)({val:"",column:""}),[oe,se]=(0,l.useState)([]),[de,me]=(0,l.useState)(!1),[ue,ce]=(0,l.useState)(""),[pe,Ce]=(0,l.useState)(""),[ge,ye]=(0,l.useState)(!1),[Ne,De]=(0,l.useState)(!1),[Te,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[ve,Me]=(0,l.useState)([]),[he,Pe]=(0,l.useState)(!1),Se=(0,l.useContext)(e.context?e.context:N.CCMNatureTargetRegistryContext),{cstate:be,cdispatch:we}=e.ContextApi?e.ContextApi:(0,N.ContextApi)(),[xe,Be]=(0,l.useState)({children:[{name:"CCMNatureTargetRegistry",children:[]}]}),[Ae,Fe]=(0,l.useState)(!1);let Re={CCMNatureTargetIDPK:"",CCMNatureTargetCode:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",NatTotalTagretMin:"",IsDefault:"",IsDraft:"",Remarks:"",PriorityID:"",ComplaintNatureID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PriorityCode:"",PriorityName:"",DivisionID:"",DivisionCode:"",DivisionName:"",CCMComplaintTypeID:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",ComplaintNatureCode:"",ComplaintNatureName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ke,Ze]=(0,l.useState)(Re),[Le,Oe]=(0,l.useState)(Re),[ze,Ke]=(0,l.useState)(Re),[Ve,_e]=(0,l.useState)(Re),[Ge,He]=(0,l.useState)("asc"),[Ue,je]=(0,l.useState)(""),[Ye,$e]=(0,l.useState)(!1),[We,Je]=(0,l.useState)(!0),[qe,Qe]=(0,l.useState)(!1),[Xe,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)(0),[lt,rt]=(0,l.useState)({ComplaintNatureName:"",PriorityName:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",CCMNatureTargetCode:"",NatTotalTagretMin:""}),[nt,it]=(0,l.useState)(!1),[ot,st]=(0,l.useState)([]),[dt,mt]=(0,l.useState)(0),[ut,ct]=(0,l.useState)(0),[pt,Ct]=(0,l.useState)({current:1,pageSize:10}),[gt,yt]=(0,l.useState)([]),[Nt,Dt]=(0,l.useState)([]),[Tt,It]=(0,l.useState)(!1),[Et]=(0,l.useState)(localStorage.getItem("Language")),[ft]=(0,l.useState)(localStorage.getItem("Language")),[vt,Mt]=(0,l.useState)(!1),[ht,Pt]=Z()("995"),[St,bt]=(0,l.useState)({}),wt=[{columns:gt,data:te}];let xt=(0,P.Z)();const Bt=e=>xt?.[e]?xt[e]:e,At=e=>be.language?.[e]?be.language[e]:e;(0,l.useEffect)((()=>{Lt(ht)}),[ht]),(0,l.useEffect)((()=>{be.token.length>0&&(be.IsDraft?kt(X,Re,"DraftCCMNatureTargetID"):kt(X,Re,"CCMNatureTargetID"))}),[]),(0,l.useEffect)((()=>{Ne||he||Ae||!ue?Ne?Oe(ue):he?Ke(ue):Ae&&_e(ue):be.IsDraft?kt(X,ue,"DraftCCMNatureTargetID"):kt(X,ue,"CCMNatureTargetID")}),[ue]),(0,l.useEffect)((()=>{!1===e.cardview&&et(e.cardview),e.Dialogview&&j(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Zt(e.searchsafaritext,{current:X.current,pageSize:X.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ft()},viewrecord:e=>{oe.map(((t,a)=>{t.CCMNatureTargetIDPK==e&&we({type:"editData",payload:[oe[a]]})}))}})));const Ft=()=>{be.IsDraft?kt(X,Re,"DraftCCMNatureTargetID"):kt(X,Re,"CCMNatureTargetID")};function Rt(e){Se.loading(!0);let t=y.v.Api+"FP995S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(t,a,be.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,ct(t.Output.data[0].TotalCount)):a=0,10==e.pageSize?mt(Math.ceil(a)):20==e.pageSize?mt(Math.ceil(a/2)):50==e.pageSize?mt(Math.ceil(a/5)):100==e.pageSize&&mt(Math.ceil(a/10)),st(t.Output.data),Se.loading(!1)}}))}const kt=(t,a,l,r,n,i)=>{Se.loading(!0),"DraftPage"!==r&&$e(be.IsDraft);let o=y.v.Api+"FP995S3/",s={data:{p1:n||(a&&a.CCMNatureTargetIDPK?a.CCMNatureTargetIDPK:null),p2:a&&a.CCMNatureTargetCode?a.CCMNatureTargetCode:null,p3:a&&a.NatPriResponseBy?a.NatPriResponseBy:null,p4:a&&a.NatPriAnalysedBy?a.NatPriAnalysedBy:null,p5:a&&a.NatPriFixedBy?a.NatPriFixedBy:null,p6:a&&a.NatTotalTagretMin?a.NatTotalTagretMin:null,p7:null,p8:"DraftCCMNatureTargetID"==l?"1":"0",p9:null,p10:a&&a.PriorityID?a.PriorityID:null,p11:a&&a.ComplaintNatureID?a.ComplaintNatureID:null,p12:a&&a.IsActive,p13:null,p14:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p15:a&&a.CreatedTtm?a.CreatedTtm:null,p16:a&&a.CreatedTtmType?a.CreatedTtmType:null,p17:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p18:null,p19:a&&a.PriorityCode?a.PriorityCode:null,p20:a&&a.PriorityName?a.PriorityName:null,p21:a&&a.DivisionID?a.DivisionID:null,p22:a&&a.DivisionCode?a.DivisionCode:null,p23:a&&a.DivisionName?a.DivisionName:null,p24:a&&a.CCMComplaintTypeID?a.CCMComplaintTypeID:null,p25:a&&a.CCMComplaintTypeCode?a.CCMComplaintTypeCode:null,p26:a&&a.CCMComplaintTypeName?a.CCMComplaintTypeName:null,p27:a&&a.ComplaintNatureCode?a.ComplaintNatureCode:null,p28:a&&a.ComplaintNatureName?a.ComplaintNatureName:null,p29:n?1:t.current,p30:t.pageSize,p31:l,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};(0,u.Z)(o,s,be.token[0]).then((n=>{if("200"==n.Output.status.code)if(n.Output.data.length>0){if(n.Output.data){let a=0;n.Output.data.length>0?(a=parseFloat(n.Output.data[0].TotalCount,10)/10,J(n.Output.data[0].TotalCount),we({type:"count",payload:n.Output.data[0].TotalCount}),Q(n.Output.data[0].DraftCnt),"DraftPage"==r&&Q(n.Output.data[0].TotalCount)):a=0,10==t.pageSize?$(Math.ceil(a)):20==t.pageSize?$(Math.ceil(a/2)):50==t.pageSize?$(Math.ceil(a/5)):100==t.pageSize&&$(Math.ceil(a/10)),e.Dialogview||(be.ExpandTableValue?be.ExpandDetailValue?document.getElementById("CCMNatureTargetRegistry-MainTable").style.display="none":(document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%",document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("CCMNatureTargetRegistry-MainDiv").classList.add("displayGrid")):(document.getElementById("CCMNatureTargetRegistry-MainTable").style.width="50%",document.getElementById("CCMNatureTargetRegistry-MainEntry").style.width="100%"),document.getElementById("divCCMNatureTargetRegistry-Entry").style.height="auto"),se(n.Output.data),Se.loading(!1)}}else Se.loading(!1),"DraftCCMNatureTargetID"===l?(Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ye(!0),$e(!1)):(se([]),ee({current:1,pageSize:10}),$(0),J(0),we({type:"count",payload:0}),Object.values(a).some((e=>e))&&Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Se.alert({open:!0,color:"warning",message:[n.Output.status.message]}),Se.loading(!1)}))};function Zt(e,t){Se.loading(!0);const a=y.v.Api+"FP995S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Ye?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,u.Z)(a,l,be.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),we({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?$(Math.ceil(a)):20==t.pageSize?$(Math.ceil(a/2)):50==t.pageSize?$(Math.ceil(a/5)):100==t.pageSize&&$(Math.ceil(a/10)),se(e.Output.data),Se.loading(!1)}else se([]),$(0),J(0),we({type:"count",payload:0}),Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Se.loading(!1);else Se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Se.loading(!1)}))}function Lt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),we({type:"language",payload:Object.assign({},...r)}),rt(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),fe(t),Me(a),yt(l),Dt(a)}(0,l.useEffect)((()=>{Qe(be.ExpandTableValue)}),[be.ExpandTableValue]);const Ot=(e,t,a)=>{we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:t}),we({type:"EditOpen",payload:!1}),we({type:"EditIsDraft",payload:t}),we({type:"ExpandDetailValue",payload:!0}),we({type:"ShowDetail",payload:a}),document.getElementById("CCMNatureTargetRegistry-MainEntry").style.display="block",document.getElementById("CCMNatureTargetRegistry-MainTable").style.display="none"},zt=()=>{de?(document.getElementById("CCMNatureTargetRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("CCMNatureTargetRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("CCMNatureTargetRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Ne?(document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Xe?he?(document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMNatureTargetRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("CCMNatureTargetRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("CCMNatureTargetRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("CCMNatureTargetRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),Ne?(document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):Xe?he?(document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMNatureTargetRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),ye(!1),window.clickFilter=!de};return r().createElement("div",null,r().createElement(i.Z,{expanded:We,onChange:()=>()=>{Je(qe)}},r().createElement(s.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},Ae||Ne||!Ye?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{id:"fld995L3TCListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[995]"},`${At("995")} (${W})`),r().createElement("div",null,!e.Dialogview&&qe?r().createElement(v.ZP,{title:"Collpase Grid View",placement:"top"},r().createElement("div",{id:"fld995L3TCFullscreenExitIcon",onClick:()=>(Qe(!1),Se.ExpandTable(!1),we({type:"IsDraft",payload:!1}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0}),we({type:"editData",payload:[]}),void dispatch({type:"CCMNatureTargetRegistryCCMNatureTargetID",CCMNatureTargetRegistryCCMNatureTargetID:""}))},r().createElement(S.qNy,{className:"FullSizeIcon2"}))):!e.Dialogview&&r().createElement(v.ZP,{title:"Expand Grid View",placement:"top"},r().createElement("div",{id:"fld995L3TCTCFullscreenIcon",onClick:()=>(Qe(!0),Se.ExpandTable(!0),we({type:"IsDraft",payload:!1}),we({type:"ShowDetail",payload:!1}),we({type:"Add",payload:!0}),we({type:"editData",payload:[]}),void dispatch({type:"CCMNatureTargetRegistryCCMNatureTargetID",CCMNatureTargetRegistryCCMNatureTargetID:""}))},r().createElement(C.$4j,{className:"FullSizeIcon1"}))))):r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("div",{id:"fld995L3TCList",onClick:()=>{qe||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),Se.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){kt({current:1,pageSize:100},Re,"CCMNatureTargetID"),$e(!1),we({type:"IsDraft",payload:!1})}),500)):(kt({current:1,pageSize:100},Re,"CCMNatureTargetID"),$e(!1),we({type:"IsDraft",payload:!1})),ee({current:1,pageSize:100})}},r().createElement(v.ZP,{title:"List",placement:"top"},r().createElement("div",null,r().createElement(A.u1R,{className:"backButtonList"})))),r().createElement("p",{className:"DraftP"},"Drafts(",W,")")))),r().createElement("div",{style:{width:"40%"}},Ne||he||Ae?null:r().createElement("div",{className:"searchbar",id:"fld995L3TCSearchBar"},r().createElement(M.Z,{className:"search_input",type:"text",id:"CCMNatureTargetRegistrygridsearch",placeholder:"Search",value:pe,onChange:e=>{if(Ce(e),"0"==e.length)return kt(X,Re,Ye?"DraftCCMNatureTargetID":"CCMNatureTargetID",Ye&&"DraftPage"),!1;Zt(e,{current:1,pageSize:100})}}),r().createElement("div",{className:"search_icon"},pe?r().createElement("div",{id:"fld995L3TCCloseIcon",onClick:()=>{Ce(""),Ft()}},r().createElement(m.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld995L3TCInputSearchIcon",onClick:()=>{document.getElementById("CCMNatureTargetRegistrygridsearch").focus()}},r().createElement(I.Z,{className:"InputSearchIcon"}))))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"CCMNatureTargetRegistry-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},qe?r().createElement("div",null,!Ye&&r().createElement("div",{frmctrlid:"fld995L3TCFilterDataIsDraft",id:"CCMNatureTargetRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>zt()},r().createElement(v.ZP,{title:Bt("Filter Data"),placement:"top"},r().createElement("div",null,r().createElement(C.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Bt("Filter Data")))):null,e.Dialogview||Ne||Ae||Ye?null:r().createElement(p.Z,{title:"Nature of Complaint SLA-TAT",formctrlidprint:"fld995L3TCExportPrint",formctrlidexport:"fld995L3TCExportTable",formctrlidrefresh:"fld995L3TCExportRefresh",data:le,exportData:wt,Items:Nt,columnIndex:gt,TableVisibleItem:Ee,userGridViewFormID:_,TableTotalCount:W,triggerApi:e=>{((e,t,l,r,n)=>{if(0===W)return Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Se.loading(!0);let i=y.v.Api+"FP995S3/",o={data:{p1:e&&e.CCMNatureTargetIDPK?e.CCMNatureTargetIDPK:null,p2:e&&e.CCMNatureTargetCode?e.CCMNatureTargetCode:null,p3:e&&e.NatPriResponseBy?e.NatPriResponseBy:null,p4:e&&e.NatPriAnalysedBy?e.NatPriAnalysedBy:null,p5:e&&e.NatPriFixedBy?e.NatPriFixedBy:null,p6:e&&e.NatTotalTagretMin?e.NatTotalTagretMin:null,p7:null,p8:Ye?"1":"0",p9:null,p10:e&&e.PriorityID?e.PriorityID:null,p11:e&&e.ComplaintNatureID?e.ComplaintNatureID:null,p12:e&&e.IsActive,p13:null,p14:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p15:e&&e.CreatedTtm?e.CreatedTtm:null,p16:e&&e.CreatedTtmType?e.CreatedTtmType:null,p17:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p18:null,p19:e&&e.PriorityCode?e.PriorityCode:null,p20:e&&e.PriorityName?e.PriorityName:null,p21:e&&e.DivisionID?e.DivisionID:null,p22:e&&e.DivisionCode?e.DivisionCode:null,p23:e&&e.DivisionName?e.DivisionName:null,p24:e&&e.CCMComplaintTypeID?e.CCMComplaintTypeID:null,p25:e&&e.CCMComplaintTypeCode?e.CCMComplaintTypeCode:null,p26:e&&e.CCMComplaintTypeName?e.CCMComplaintTypeName:null,p27:e&&e.ComplaintNatureCode?e.ComplaintNatureCode:null,p28:e&&e.ComplaintNatureName?e.ComplaintNatureName:null,p29:X.current,p30:W,p31:Ye?"DraftCCMNatureTargetID":"CCMNatureTargetID",p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};Se.loading(!1),Se.alert({open:!0,color:"success",message:[`${At(995)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,u.Z)(i,o,be.token[0],n).then((e=>{(0,F.PDF_Excel_Generate)(e,Se,Nt,ae,a,n)}))})(ue,ne.column,0,0,e)},Refresh:()=>{Ce(""),k.current&&k.current.clearItem(),ee({current:1,pageSize:100}),be.IsDraft?kt({current:1,pageSize:100},Re,"DraftCCMNatureTargetID"):kt({current:1,pageSize:100},Re,"CCMNatureTargetID")},disabledPrint:!be.AccessRights.IsPrint,disabledExport:!be.AccessRights.IsExport,ref:a,iconinfo:qe?"iconinfo":"displayNone"}),!e.Dialogview&&qe?r().createElement("div",{id:"fld4L3TCMore",className:"buttoncard",onClick:()=>Mt(!vt)},r().createElement("span",null,vt?r().createElement(v.ZP,{title:"Less",placement:"top"},r().createElement("span",{id:"fld995L3TCLess"},r().createElement(w.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(v.ZP,{title:"More",placement:"top"},r().createElement("span",{id:"fld995L3TCMore"},r().createElement(w.ilJ,{className:"tableFilterColumnIcon"}))))):!e.Dialogview&&r().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},r().createElement("div",{id:"fld995L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){qe||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),Se.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){kt({current:1,pageSize:100},Re,"DraftCCMNatureTargetID"),$e(!0),we({type:"IsDraft",payload:!0}),ye(!1),et(!0),De(!1),Pe(!1)}),500)):(at(0),kt({current:1,pageSize:100},Re,"DraftCCMNatureTargetID"),$e(!0),we({type:"IsDraft",payload:!0}),ye(!1),et(!0),De(!1),Pe(!1)),document.getElementById("CCMNatureTargetRegistryFilterDiv").style.width="0%",document.getElementById("CCMNatureTargetRegistryTabDiv").style.width="100%",document.getElementById("CCMNatureTargetRegistryFilterDiv").style.display="none"}else Se.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},q>0&&r().createElement(v.ZP,{title:"Drafts",placement:"top"},r().createElement("div",null,r().createElement(x.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:qe?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))),vt?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ne||he||Ae||!qe?null:!Ye&&be.AccessRights.IsAdd&&r().createElement("div",null,r().createElement("div",{id:"CCMNatureTargetRegistrycoldiv",frmctrlid:"fld995L3TCFilterDataIsAdd",className:"buttoncard",onClick:()=>{ge?(document.getElementById("CCMNatureTargetRegistryFilterDiv").style.width="0%",document.getElementById("CCMNatureTargetRegistryTabDiv").style.width="100%",document.getElementById("CCMNatureTargetRegistryFilterDiv").style.display="none",document.getElementById("CCMNatureTargetRegistrycoldiv").style.width="fit-content",document.getElementById("CCMNatureTargetRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!1)):(document.getElementById("CCMNatureTargetRegistryFilterDiv").style.width="25%",document.getElementById("CCMNatureTargetRegistryTabDiv").style.width="75%",document.getElementById("CCMNatureTargetRegistryFilterDiv").style.display="block",document.getElementById("CCMNatureTargetRegistryfildiv").style.width="fit-content",document.getElementById("CCMNatureTargetRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("CCMNatureTargetRegistrycoldiv").style.width="fit-content",document.getElementById("CCMNatureTargetRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!0)),me(!1)}},r().createElement(v.ZP,{title:"Manage Columns",placement:"top"},r().createElement("div",null,r().createElement(g.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Bt("Manage Columns")))),!Ye&&G&&!Ne&&!Ae&&!U&&qe&&r().createElement("div",{id:"fld995L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(v.ZP,{title:Bt("Migration"),placement:"top"},r().createElement("div",null,r().createElement(O.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Bt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!U&&qe&&!Ae&&!Ne&&r().createElement("div",{id:"CCMNatureTargetRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{nt?it(!1):(it(!0),Rt({current:1,pageSize:100}))}},r().createElement(v.ZP,{title:Bt("Table Scroll Data"),placement:"top"},r().createElement("div",{id:"fld995L3TCTableScrollData"},r().createElement(K.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Bt("Table Scroll Data"))),be.AccessRights.IsAdd&&!Ae&&!Ne&&!Ye&&r().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:q,showZero:!0},r().createElement("div",{id:"fld12L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(q>0){qe||(we({type:"Add",payload:!0}),we({type:"Add",payload:!0})),Se.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){kt({current:1,pageSize:100},Re,"DraftCCMNatureTargetID"),$e(!0),we({type:"IsDraft",payload:!0}),ye(!1),et(!0),De(!1),Pe(!1)}),500)):(kt({current:1,pageSize:100},Re,"DraftCCMNatureTargetID"),$e(!0),we({type:"IsDraft",payload:!0}),ye(!1),et(!0),De(!1),Pe(!1)),document.getElementById("AdminLocalityRegistryFilterDiv").style.width="0%",document.getElementById("AdminLocalityRegistryTabDiv").style.width="100%",document.getElementById("AdminLocalityRegistryFilterDiv").style.display="none"}else Se.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},r().createElement(v.ZP,{title:"Drafts",placement:"top"},r().createElement("div",null,r().createElement(x.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:qe?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))))):""),Ne||he||Ae||Ye?null:r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ae||Ye?null:r().createElement("div",null,qe&&r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{id:"fld995L3TCListView",className:Xe?"buttonList":"buttonGrid",onClick:()=>{et(!0),It(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.umT,null)),r().createElement("span",null,"List")),r().createElement("div",{id:"fld995L3TCGridView",className:Xe||Tt?"buttonGrid":"buttonList",onClick:()=>{et(!1),It(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(b.aCJ,null)),r().createElement("span",null,"Card")),r().createElement("div",{className:Tt?"buttonList":"buttonGrid",id:"fld995L3TCTileView",onClick:()=>{It(!0),et(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.f_H,null)),r().createElement("span",null,"Tile")))))),Ne||he||Ae?null:qe?nt?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(D.Z,{count:dt,color:"primary",page:pt.current,onChange:(e,t)=>{Ct({current:t,pageSize:pt.pageSize}),mt(t),Rt({current:t,pageSize:pt.pageSize})}}),r().createElement("div",null,r().createElement(T.Z,{value:pt.pageSize,frmctrlid:"fld995L3TCSelectPagination",onChange:e=>{Ct({current:1,pageSize:e.target.value}),Rt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),qe&&r().createElement("p",{className:"per-page"},"/ per page Of (",ut,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(D.Z,{count:Y,siblingCount:0,color:"primary",page:X.current,onChange:(e,t)=>{if(ee({current:t,pageSize:X.pageSize}),Ye)kt({current:t,pageSize:X.pageSize},ue,"DraftCCMNatureTargetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";pe.length>0?Zt(pe,{current:t,pageSize:X.pageSize}):kt({current:t,pageSize:X.pageSize},ue,"CCMNatureTargetID")}}}),r().createElement("div",null,r().createElement(T.Z,{value:X.pageSize,frmctrlid:"fld995L3TCSelectPagination",onChange:e=>{ee({current:1,pageSize:e.target.value}),Ye?kt({current:1,pageSize:e.target.value},ke,"DraftCCMNatureTargetID","DraftPage"):pe.length>0?Zt(pe,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},ke,"CCMNatureTargetID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),qe&&r().createElement("p",{className:"per-page "},"/ per page Of (",W,") ")):r().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},r().createElement(f.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(W),page:tt,onPageChange:(e,t)=>{at(t),kt({current:t+1,pageSize:X.pageSize},Re,Ye?"DraftCCMNatureTargetID":"CCMNatureTargetID",Ye&&"DraftPage"),ee({current:t+1,pageSize:X.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{at(0)}}))),r().createElement("div",{id:"CCMNatureTargetRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},r().createElement("div",{id:"CCMNatureTargetRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&r().createElement(c.default,{CloseBtnClk:()=>zt(),searchData:e=>{ce(e||St);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));setFilteredObj(t)},formID:_,data:()=>{},visibleData:()=>{},token:be.token[0],userGrid:ht,msg:(e,t)=>Se.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Ft()}}),ge&&!Ne&&!he&&r().createElement(E.Z,{frmctrlid:"fld995L3TCTableColumnOrder",loading:e=>Se.loading(e),AltMsg:(e,t)=>Se.alert({open:!0,color:t,message:[e]}),select:ge,userID:V,userGridViewFormID:_,saved:(e,t)=>{e&&Lt(t),Pt(t)},Token:be.token[0]})),r().createElement("div",{id:"CCMNatureTargetRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},Xe&&qe?r().createElement("div",null,Ne&&r().createElement(ListComponent,{onLoad:Ne,data:(e,t)=>{!function(e,t){we({type:"editData",payload:[e]}),me(!1),document.getElementById("CCMNatureTargetRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("CCMNatureTargetRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("CCMNatureTargetRegistry-ShareView").classList.remove("ViewBtnAct"),De(!1),Pe(!1),Fe(!1);let a={ComplaintNatureID:"",PriorityID:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",CCMNatureTargetCode:"",NatTotalTagretMin:""};Ze(a),kt({current:1,pageSize:100},a,"CCMNatureTargetID")}(e)},json:Le}),!Ne&&!Ae&&r().createElement("div",null,nt?r().createElement(z.Z,{data:ot,expanded:()=>{},edit:(e,t,a)=>{Ot(e,t,a),Se.ExpandTable(!1),we({type:"EditIsDraft",payload:t}),we({type:"EditOpen",payload:!1})}}):r().createElement(L.Z,{ref:k,frmctrlid:"tblcs_995_L3_",id:"CCMNatureTargetRegistry-MainTable",headerdata:qe?Ee:Ee.slice(0,3),tablesearchparams:lt,searchvalue:e=>{rt(e),ce(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};bt(t),ee({current:1,pageSize:10}),kt({current:1,pageSize:10},t,Ye?"DraftCCMNatureTargetID":"CCMNatureTargetID",Ye&&"DraftPage")},bodydata:oe,ondrag:(e,t)=>{Ot(t,Ye,!0)},bodyitem:qe?ve:ve.slice(0,3),visibleitem:qe?Ee:Ee.slice(0,3),isdraft:Ye,IsView:!0,tableExp:qe,tableID:_,accessrights:be.AccessRights,expanded:()=>{},edit:(t,a,l)=>{e.Dialogview?Se.select(t):Ot(t,a,l)},viewtoggle:Se.viewtoggle,isexpanded:!U||qe,action:e.Dialogview?"none":"",ViewComp:(e,t)=>{if(e)return r().createElement(R.ZP,{loading:e=>Se.loading(e),alertmsg:e=>Se.alert(e),ConfirmAlert:e=>{Se.ConfirmAlert(e)},data:be.editData,AddOpen:be.EditOpen,parentId:t.CCMNatureTargetIDPK,IsDraft:be.EditIsDraft,tableview:e})}}))):r().createElement(h.Z,{frmctrlid:"fld995L3TCExpandedCardDual",data:oe,id:"CCMNatureTargetRegistry",title:"CCMNatureTargetCode",cardTile:!!Tt,visibleitem:Ee,gridCountmdlg:qe?4:12,gridCountxssm:qe?6:12,onDoubleClick:(e,t)=>{U?Se.select(e):("edit"==t?(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ye}),we({type:"ShowDetail",payload:!1}),Se.ExpandTable(!1)):(we({type:"editData",payload:[e]}),we({type:"IsDraft",payload:Ye}),we({type:"ShowDetail",payload:!0}),Se.ExpandTable(!1),Se.viewtoggle()),qe&&(me(!1),ye(!1)))}})))))))})),_=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),m=(0,l.useRef)(null),[c]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[C,g]=Z()("995"),[I,E]=(0,l.useState)(!1),[f,v]=(0,l.useState)(0),[M,h]=(0,l.useState)(0),[S,b]=(0,l.useState)({current:1,pageSize:100}),[w,x]=(0,l.useState)(""),[B,A]=(0,l.useState)([]),[R,k]=(0,l.useState)({val:"",column:""}),[O,z]=(0,l.useState)([]),[K,V]=(0,l.useState)(!1),[_,G]=(0,l.useState)(""),[H,U]=(0,l.useState)([]),[j,Y]=(0,l.useState)([]),[$,W]=(0,l.useState)([]),J=(0,l.useContext)(N.CCMNatureTargetRegistryContext),{cstate:q,cdispatch:Q}=(0,N.ContextApi)();let X={CCMNatureTargetIDPK:"",CCMNatureTargetCode:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",NatTotalTagretMin:"",IsDefault:"",IsDraft:"",Remarks:"",PriorityID:"",ComplaintNatureID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PriorityCode:"",PriorityName:"",DivisionID:"",DivisionCode:"",DivisionName:"",CCMComplaintTypeID:"",CCMComplaintTypeCode:"",CCMComplaintTypeName:"",ComplaintNatureCode:"",ComplaintNatureName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(!0),[se,de]=(0,l.useState)(0),[me,ue]=(0,l.useState)({ComplaintNatureName:"",PriorityName:"",NatPriResponseBy:"",NatPriAnalysedBy:"",NatPriFixedBy:"",CCMNatureTargetCode:"",NatTotalTagretMin:""}),[ce,pe]=(0,l.useState)([]),[Ce,ge]=(0,l.useState)([]),[ye,Ne]=(0,l.useState)([]),[De,Te]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)("");let fe=(0,P.Z)();const ve=[{columns:ce,data:w}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Q({type:"language",payload:Object.assign({},...r)}),ue(a.reduce(((e,t)=>(e[t]="",e)),{})),U(e),Y(t),W(a),pe(l),ge(a)}(C)}),[C]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Me()},viewrecord:e=>{O.map(((t,a)=>{t.CCMNatureTargetIDPK==e&&Q({type:"editData",payload:[O[a]]})}))},DialogTableProps:e=>{E(e)},searchData:(t,a,l)=>{J.loading(!0),d.current&&d.current.clearItem(),Ee(l),b({current:1,pageSize:10}),X=e.ApiParamType.params,he({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&E(e.Dialogview)}),[e.cardview,e.Dialogview]);const Me=()=>{q.IsDraft?he(S,X,"DraftCCMNatureTargetID"):he(S,X,"CCMNatureTargetID")},he=async(t,a,l,r)=>{if(q.token[0]){if(J.loading(!0),"DraftPage"!==r&&te(q.IsDraft),await Ee((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}G(a);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:a&&a.CCMNatureTargetIDPK?a.CCMNatureTargetIDPK:null,p2:a&&a.CCMNatureTargetCode?a.CCMNatureTargetCode:null,p3:a&&a.NatPriResponseBy?a.NatPriResponseBy:null,p4:a&&a.NatPriAnalysedBy?a.NatPriAnalysedBy:null,p5:a&&a.NatPriFixedBy?a.NatPriFixedBy:null,p6:a&&a.NatTotalTagretMin?a.NatTotalTagretMin:null,p7:null,p8:"DraftCCMNatureTargetID"==l?"1":"0",p9:null,p10:a&&a.PriorityID?a.PriorityID:null,p11:a&&a.ComplaintNatureID?a.ComplaintNatureID:null,p12:a&&a.IsActive,p13:null,p14:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p15:a&&a.CreatedTtm?a.CreatedTtm:null,p16:a&&a.CreatedTtmType?a.CreatedTtmType:null,p17:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p18:null,p19:a&&a.PriorityCode?a.PriorityCode:null,p20:a&&a.PriorityName?a.PriorityName:null,p21:a&&a.DivisionID?a.DivisionID:null,p22:a&&a.DivisionCode?a.DivisionCode:null,p23:a&&a.DivisionName?a.DivisionName:null,p24:a&&a.CCMComplaintTypeID?a.CCMComplaintTypeID:null,p25:a&&a.CCMComplaintTypeCode?a.CCMComplaintTypeCode:null,p26:a&&a.CCMComplaintTypeName?a.CCMComplaintTypeName:null,p27:a&&a.ComplaintNatureCode?a.ComplaintNatureCode:null,p28:a&&a.ComplaintNatureName?a.ComplaintNatureName:null,p29:t.current,p30:t.pageSize,p31:l,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};(0,u.Z)(n,i,q.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,h(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?v(Math.ceil(a)):20==t.pageSize?v(Math.ceil(a/2)):50==t.pageSize?v(Math.ceil(a/5)):100==t.pageSize&&v(Math.ceil(a/10)),z(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(a="There is no Record Found",fe?.[a]?fe[a]:a)]}),z([]),v(0),h(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ne(q.ExpandTableValue)}),[q.ExpandTableValue]),r().createElement("div",null,r().createElement(i.Z,{expanded:ae,onChange:()=>()=>{le(re)}},r().createElement(s.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",M,")")))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"CCMNatureTargetRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(p.Z,{formctrlidprint:"fld995L3TCExportPrint",formctrlidexport:"fld995L3TCExportTable",formctrlidrefresh:"fld995L3TCExportRefresh",title:"995",data:B,exportData:ve,Items:Ce,columnIndex:ce,triggerApi:t=>{((t,l,r)=>{if(0===M)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let n=y.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.CCMNatureTargetIDPK?t.CCMNatureTargetIDPK:null),p2:t&&t.CCMNatureTargetCode?t.CCMNatureTargetCode:null,p3:t&&t.NatPriResponseBy?t.NatPriResponseBy:null,p4:t&&t.NatPriAnalysedBy?t.NatPriAnalysedBy:null,p5:t&&t.NatPriFixedBy?t.NatPriFixedBy:null,p6:t&&t.NatTotalTagretMin?t.NatTotalTagretMin:null,p7:null,p8:ee?"1":"0",p9:null,p10:t&&t.PriorityID?t.PriorityID:null,p11:t&&t.ComplaintNatureID?t.ComplaintNatureID:null,p12:t&&t.IsActive,p13:null,p14:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p15:t&&t.CreatedTtm?t.CreatedTtm:null,p16:t&&t.CreatedTtmType?t.CreatedTtmType:null,p17:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p18:null,p19:t&&t.PriorityCode?t.PriorityCode:null,p20:t&&t.PriorityName?t.PriorityName:null,p21:t&&t.DivisionID?t.DivisionID:null,p22:t&&t.DivisionCode?t.DivisionCode:null,p23:t&&t.DivisionName?t.DivisionName:null,p24:t&&t.CCMComplaintTypeID?t.CCMComplaintTypeID:null,p25:t&&t.CCMComplaintTypeCode?t.CCMComplaintTypeCode:null,p26:t&&t.CCMComplaintTypeName?t.CCMComplaintTypeName:null,p27:t&&t.ComplaintNatureCode?t.ComplaintNatureCode:null,p28:t&&t.ComplaintNatureName?t.ComplaintNatureName:null,p29:1,p30:M,p31:Ie,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};var o;J.loading(!1),J.alert({open:!0,color:"success",message:[`${o="995",q.language?.[o]?q.language[o]:o} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,u.Z)(n,i,q.token[0],r).then((e=>{(0,F.PDF_Excel_Generate)(e,J,Ce,x,a,r)}))})(_,R.column,t)},TableVisibleItem:j,userGridViewFormID:"995",TableTotalCount:M,Refresh:()=>{he({current:1,pageSize:100},_,Ie),b({current:1,pageSize:100}),m.current&&m.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(D.Z,{count:f,siblingCount:0,color:"primary",page:S.current,onChange:(e,t)=>{if(b({current:t,pageSize:S.pageSize}),ee)he({current:t,pageSize:S.pageSize},_,"DraftCCMNatureTargetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";he({current:t,pageSize:S.pageSize},_,"CCMNatureTargetID")}}}),r().createElement("div",null,r().createElement(T.Z,{value:S.pageSize,onChange:e=>{b({current:1,pageSize:e.target.value}),he({current:1,pageSize:e.target.value},_,"CCMNatureTargetID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),re&&r().createElement("p",{className:"per-page"},"/ per page Of (",M,")"))),r().createElement("div",{id:"CCMNatureTargetRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"CCMNatureTargetRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"CCMNatureTargetRegistry",headerdata:j,tablesearchparams:me,searchvalue:e=>{ue(e),b({current:1,pageSize:100}),he({current:1,pageSize:100},e,ee?"DraftCCMNatureTargetID":"CCMNatureTargetID",ee&&"DraftPage")},bodydata:O,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:j,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?J.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?J.edit(t,a,l):J.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{z(e)},color:!0,isexpanded:!1}):r().createElement(L.Z,{frmctrlid:"tblcs_995_L3_",ref:d,id:"CCMNatureTargetRegistryTable",type:e.viewtype,headerdata:j,tablesearchparams:me,searchvalue:e=>{let t={..._,...e};ue(e),G(t),b({current:1,pageSize:100}),he(S,t,Ie)},bodydata:O,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:j,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{I?J.select(t):(e.editdata(t,"view"),J.edit(t,a,1!=t.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},39356:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R}),a(95866),a(99058);var l=a(92950),r=a.n(l),n=a(80366),i=a(51673),o=a(282),s=a(868),d=a(78513),m=a(14439),u=a(27848),c=a(40900),p=a(64059),C=a(24038),g=a(8981),y=a(47516),N=a(86893),D=a(26601),T=a(33681),I=a(63163),E=(a(35131),a(61956),a(93657)),f=a(53375),v=a(52663),M=a(66083),h=a(29525),P=a(66856),S=a(39803),b=a(99940),w=a(17149),x=a(62810),B=a(30553),A=a(92381),F=a(25108);const R=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[R,k]=(0,l.useState)([]),[Z,L]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,z]=(0,l.useState)(""),[K,V]=(0,l.useState)({}),[_,G]=(0,l.useState)(!0),[H,U]=(0,l.useState)(!1),{cstate:j,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[$,W]=(0,l.useState)(1),[J,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[re,ne]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(!1),[se,de]=(0,l.useState)(""),[me,ue]=(0,l.useState)(!1),[ce,pe]=(0,l.useState)(!1),[Ce,ge]=(0,l.useState)(!1),[ye,Ne]=(0,l.useState)(""),De=(0,l.useRef)(null),[Te,Ie]=(0,l.useState)({});let Ee=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,g.Z)();const Me=e=>ve[e]?ve[e]:e,he=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Ee]];function Pe(){V({}),te({}),e.searchData({}),U(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Pe()}})));const Se=async(t,a,l,r)=>{X(!0);try{De.current&&De.current.abort();const n=new AbortController;De.current=n;let o="",s=[],d={};await L((e=>(o=e.name,e))),await V((e=>(s=e,e))),await te((e=>(d=e,e)));const m=c.v.Api+"FP995S3/",u={data:{p1:"CCMNatureTargetIDPK"==a?null:await Ae(),p2:"CCMNatureTargetCode"==o&&l.length>0?"%"+l+"%":null,p3:"NatPriResponseBy"==o&&l.length>0?"%"+l+"%":null,p4:"NatPriAnalysedBy"==o&&l.length>0?"%"+l+"%":null,p5:"NatPriFixedBy"==o&&l.length>0?"%"+l+"%":null,p6:"NatTotalTagretMin"==o&&l.length>0?"%"+l+"%":null,p7:null,p8:null,p9:null,p10:"PriorityName"!=o&&s.PriorityName?s.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p11:"ComplaintNatureName"!=o&&s.ComplaintNatureName?s.ComplaintNatureName.map((e=>e.ComplaintNatureIDPK)).toString():null,p12:e.Dialogview?"1":null,p13:null,p14:"p14"==o&&l.length>0?l:null,p15:null,p16:null,p17:null,p18:null,p19:"PriorityCode"==o&&l.length>0?"%"+l+"%":null,p20:"PriorityName"==o&&l.length>0?"%"+l+"%":null,p21:"DivisionName"!=o&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p22:"DivisionCode"==o&&l.length>0?"%"+l+"%":null,p23:"DivisionName"==o&&l.length>0?"%"+l+"%":null,p24:"CCMComplaintTypeName"!=o&&s.CCMComplaintTypeName?s.CCMComplaintTypeName.map((e=>e.CCMComplaintTypeIDPK)).toString():null,p25:"CCMComplaintTypeCode"==o&&l.length>0?"%"+l+"%":null,p26:"CCMComplaintTypeName"==o&&l.length>0?"%"+l+"%":null,p27:"ComplaintNatureCode"==o&&l.length>0?"%"+l+"%":null,p28:"ComplaintNatureName"==o&&l.length>0?"%"+l+"%":null,p29:r||1,p30:10,p31:t,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}},p=await(0,i.Z)(m,u,e.token,"",n.signal);if(!p)return!1;const C=p.Output.status.code,g=p.Output.data;if("200"===C)if(g.length>0)if(1===r){let e=we(g,o),t=be(e,K[o],a);k(t),q(t.length>0?t[0].TotalCount:K[o].length)}else{let e=[...R,...g],t=we(e,o);q(t.length<10?t.length:g[0].TotalCount),k(we(t,o))}else O.length>0&&k([]),q(R.length);else e.alertmsg("error",[p.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),we=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function xe(e){let t=e+"PK",a=Te[e];if(a){const e=a.flatMap((e=>K[e]?K[e].map((e=>e[t])):[]));return e.toString()}return""}const Be=async t=>{let a="",l={};await V((e=>(a=e,e)));let r=[...ae],n=[];for(let e of r){let t=a[e]?.map((e=>e.CCMNatureTargetIDPK)).toString();t&&n.push(t)}await te((e=>(l=e,e)));let i={CCMNatureTargetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",ComplaintNatureID:xe("ComplaintNatureID"),PriorityID:xe("PriorityID")};"saveFav"==t?ke("save",i):(e.searchData(i),U(!1))};async function Ae(){let e={};await V((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.CCMNatureTargetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Fe(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},s={};te((e=>({...e,...o})));const d={...K};let m=[...ae],u=[];for(let e of m){let t=d[e]?.map((e=>e.CCMNatureTargetIDPK)).toString();t&&u.push(t)}await te((e=>(s=e,e)));let c={CCMNatureTargetIDPK:u?[...new Set(u)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,ComplaintNatureID:K.ComplaintNatureName?.map((e=>e.ComplaintNatureIDPK)).toString(),PriorityID:K.PriorityName?.map((e=>e.PriorityIDPK)).toString()};e.searchData(c)}function Re(){return r().createElement(p.Z,{frmctrlid:"fld995L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Fe(e,t,a,Z.name,l)},keyboardback:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:""})},title:Me(Z.name),fieldname:Z.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,A.Z)(t,e.formID,a,se).then((e=>{const t=e.Output.data;Ne(t)}))};return r().createElement("div",null,r().createElement(v.Z,{onClose:()=>ue(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:me},r().createElement(M.Z,{id:"customized-dialog-title",onClose:()=>ue(!1)},"Add Favorite"),r().createElement(h.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(S.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>de(e.target.value),fullWidth:!0})),r().createElement(B.Z,{style:{color:"#337ab7"},control:r().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>pe(e.target.checked)}),label:"Quick"}),r().createElement(B.Z,{style:{color:"#337ab7"},control:r().createElement(b.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:Ce,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),r().createElement(P.Z,null,r().createElement(o.Z,{onClick:()=>{Be("saveFav"),ue(!1)},color:"primary"},"Save"))),H?"Created Ttm"===Z.name||Z.name.includes("Date")?r().createElement(Re,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(m.Z,null,r().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},he(Z.idpk)," (",R.length,"/",J,")")),r().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(s.ZP,{title:Me("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(n.Z,{id:"fld995L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),K[Z.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(o.Z,{frmctrlid:"fld995L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await V((t=>(e=t,F.log("clear fewItems",e),t))),e[Z.name]=[],Se(Z.type,Z.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},Me("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},_?r().createElement(s.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(N.D7o,{className:"FilterMaximizeIcon",onClick:()=>{G(!1)}}))):r().createElement(s.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(N.dOw,{className:"FilterMaximizeIcon",onClick:()=>{G(!0)}})))),r().createElement("ul",null,K[Z.name]&&K[Z.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:_?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[Z.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[Z.name],onClick:()=>(async(e,t)=>{W(1);let a=K[Z.name].filter((t=>t!=e)),l={};await V((e=>(l=e,e))),l[Z.name]=a,V(l),k((t=>[e,...t]))})(e)},r().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(C.Z,{frmctrlid:"fld995L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:Me("Enter ")+" "+he(Z.idpk),onChange:e=>{z(e),Se(Z.type,Z.fieldidpk,e,1,Ae())}})),r().createElement("div",{id:"fld995L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:Be},r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(T.Z,{color:"secondary"})),r().createElement("div",{id:"fld995L3TFCScrollYDefault",className:"height65 scrollYDefault"},R.length>0&&R.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[Z.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await V((e=>(l=e,e)));let r=l[Z.name];t[Z.name]=r?[...a,...r]:a,l={...l,...t},V(l),k((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(d.Z,{className:"DotIcon"}),r().createElement("span",null,e[Z.name])))),R.length+0<J&&R.length>0&&r().createElement("div",{id:"fld995L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W($+1),Se(Z.type,Z.fieldidpk,"",$+1)}},r().createElement("p",null," more... ")),0===R.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:c.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(y.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",Me("Filter")," ",se.length>0&&`(${se})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(s.ZP,{title:"Favorite List",placement:"top"},ie?r().createElement(n.Z,{className:"favlisticon",onClick:()=>{oe(!1),Ne(""),Pe()}}):r().createElement(E.Z,{className:"favlisticon",onClick:()=>{oe(!0),ke("select"),Pe()}})),Object.keys(K).length>0&&r().createElement(s.ZP,{title:"Save Favorites",placement:"top"},r().createElement(f.Z,{className:"favlisticon",onClick:()=>{ue(!0)}})),r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{Pe()},id:"fld995L3TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},Me("Clear")))),r().createElement(s.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld995L3TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},Me("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld995L3TFCFilItems",className:"FilterItems"},!ye&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{U(!0),z(""),k([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"CCMNatureTargetIDPK";L({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterCCMNatureTargetID",fieldidpk:t}),Se(e.IsForeign?"Filter"+e.FieldName:"FilterCCMNatureTargetID",t,"",1,Ae())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,he(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),r().createElement(I.Z,{checked:"1"==re,onChange:t=>{ne(t.target.checked),Fe("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,K[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},K[a][0][a]),K[a].length>1&&r().createElement("span",{className:"RoundedDivName"},K[a][1][a]),K[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(K[a].length-2))))));var a})),ye&&ye.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Se("FilterCCMNatureTargetID",a),Be("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}))},78009:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var l=a(92950),r=a.n(l),n=a(45237),i=(a(37148),a(3212)),o=a(29800),s=a(14439),d=a(27848),m=(a(10966),a(36939)),u=a(61201),c=a(50743),p=a(26601),C=(a(21392),a(51673)),g=a(40900),y=a(26537),N=(a(24038),a(71166),a(77366),a(868)),D=(a(97829),a(8981)),T=(a(63163),a(1695),a(79117),a(65197)),I=(a(35131),a(61956),a(51649)),E=(a(61924),a(80471)),f=a(47516);const v=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[v,M]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[h,P]=(0,l.useState)(!0),[S,b]=(0,l.useState)(e.showDetail),[w,x]=(0,l.useState)(""),[B,A]=r().useState(!1),[F,R]=r().useState(""),[k,Z]=r().useState(!1),L=(0,l.useContext)(p.CCMNatureTargetRegistryContext),{cstate:O,cdispatch:z}=(0,p.ContextApi)(),[K,V]=(0,l.useState)(!1),[_,G]=(0,l.useState)(""),[H,U]=(0,l.useState)(""),[j,Y]=(0,l.useState)("");let $=(0,D.Z)();(0,l.useEffect)((()=>{O.editData.length>0&&(M(O.editData),A(!1),z({type:"PrimaryId",payload:O.editData[0].CCMNatureTargetIDPK}))}),[O.editData]),(0,l.useEffect)((()=>{O.showTableview&&Y(O.showTableview)}),[O.showTableview]),(0,l.useEffect)((()=>{P(O.ExpandDetailValue)}),[O.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{P(e),A(null)},viewtoggle:()=>{A(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=g.v.Api+"FP995S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:1,p30:10,p31:O.IsDraft?"DraftCCMNatureTargetID":"CCMNatureTargetID",p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};(0,y.Z)(0).then((e=>{(0,C.Z)(l,r,e).then((e=>{L.loading(!1),"200"==e.Output.status.code&&M(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===B&&a.current.clear()}})));const W=e=>$?.[e]?$?.[e]:e,J=e=>O.language?.[e]?O.language[e]:e;function q(e,t){}const Q=(e,t)=>(a,l)=>{R(k?Object.assign(...v.filter((e=>e.CCMNatureTargetIDPK==t)).map((e=>e))):O.editData),A(!l&&e)};return r().createElement("div",{className:"SubContent"},r().createElement(m.Z,{expanded:h,onChange:()=>()=>{e.expandTable&&P(!h)}},!B&&r().createElement(c.Z,null,r().createElement(s.Z,{container:!0},r().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement(I.u1R,{className:"backButtonList",onClick:()=>L.ExpandTable(!0)})),r().createElement("p",{className:"DListP"},O.IsDraft?"Draft ":"",J("CCMNatureTargetRegistry")),O.IsCollapse?!e.viewonly&&r().createElement(N.ZP,{title:"Expand Grid View",placement:"top"},r().createElement("div",{frmctrlid:"fld995L3VCExpandGridView",onClick:()=>{L.ExpandDetail(!0),P(!0)}},r().createElement(f.$4j,{className:"FullSizeIcon1"}))):!e.viewonly&&r().createElement(N.ZP,{title:"Collpase Grid View",placement:"top"},r().createElement("div",{frmctrlid:"fld995L3VCExpandmore1",onClick:()=>{L.ExpandDetail(!1),P(!0)}},r().createElement(E.qNy,{className:"FullSizeIcon2"})))),r().createElement("div",{className:"displayFlex",style:{justifyContent:"flex-end"}},!e.viewonly&&O.AccessRights.IsEdit?r().createElement(r().Fragment,null,"0"==_||null==_?r().createElement(o.Z,{onClick:Q("panel0",""),disabled:!1}):null):O.IsDraft&&O.AccessRights.IsAdd&&r().createElement(o.Z,{onClick:()=>{Q("panel","")},disabled:!1}),!e.viewonly&&O.AccessRights.IsAdd&&r().createElement(i.Z,{className:"L1AddBtnCommon",onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:[]})},disabled:!1}),r().createElement(o.Z,{onClick:()=>{z({type:"ShowDetail",payload:!1}),z({type:"Add",payload:!0}),z({type:"editData",payload:v})},disabled:!1})))))),r().createElement(u.Z,{style:{display:"block"}},v.map(((e,t)=>r().createElement("div",{key:t},r().createElement(T.Z,{tableName:"CCMNatureTargetRegistry",tableID:995,parentID:e.CCMNatureTargetIDPK,fldid:"fld995L3VCContainer",OpenSlideComponent:q,index:t,val:e,tf:J,t:W,title:"10.0.0.59-3:08:17 PM-18-7[995]"})))))))}))}}]);