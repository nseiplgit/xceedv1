"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[1438],{10794:(e,t,a)=>{a.d(t,{E:()=>n,p:()=>l});const n={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],language:{}};function l(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},77317:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(92950),l=a.n(n),d=a(52543),r=a(628),c=a(94555);const i=(0,d.Z)({iconFilled:{color:"#FFC107"},iconEmpty:{color:"#E0E0E0"}})(r.Z),m=({value:e,onChange:t,id:a})=>l().createElement("div",{id:a+"div"},l().createElement("div",{id:a+"subdiv",className:"ratcls"},"Ratings"),l().createElement(i,{id:a,name:a+"customized-empty",value:e,onChange:(e,a)=>{t&&t(a)},emptyIcon:l().createElement(c.Z,{fontSize:"inherit"})}))},97087:(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(92950),l=a.n(n),d=a(14439),r=a(27848),c=a(63163),i=a(6562),m=a(30553),s=a(83173),u=a(21392),p=a(69685),o=a(45332),P=a(26537),h=a(77366),T=a(71168),g=a.n(T),y=a(77317),D=a(99940),M=a(55918),C=a.n(M);function E(e){const[t,a]=(0,n.useState)([]),[s,u]=(0,n.useState)([]),[p,o]=g()(e.tableID),[P,h]=(0,n.useState)("");(0,n.useEffect)((()=>{!function(t){const n=t.filter((t=>t.FormID==e.tableID));let l=[],d=[],r=[];n.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldName.slice(0,2)?d.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):l.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}));let t=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[t]]})})),h(Object.assign({},...r)),u(M(d,"id")),a(M(l,"id"))}(p)}),[p,e.val]);const T=t=>e.t(t);function M(e,t){const a=e.map((e=>e[t])),n=e.filter((({value:e},t)=>!a.includes(e,t+1)));return n}const E=(e,t)=>{if(e.includes("Password")){var a="";for(let e=0;e<t.length;e++)a+="*";return a}return t};return l().createElement(l().Fragment,null,l().createElement("div",{index:e.index,className:"padding paddingLeft width100"},l().createElement(d.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},l().createElement(d.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},l().createElement("div",{className:"ViewHeadingTitle",title:e.title},l().createElement("p",null,(O=e.tableID,(P?.[O]?P[O]:O)+" "+T("view")))),l().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},s.map(((t,a)=>l().createElement(l().Fragment,null,l().createElement(D.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},l().createElement("div",{key:a,className:"GridAlignSwitch"},l().createElement(i.Z,null,l().createElement(m.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:l().createElement(c.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),l().createElement(d.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement(d.Z,{container:!0},t.map(((t,a)=>l().createElement(l().Fragment,null,t.ForeignTag?l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},l().createElement("p",{className:"ViewHeadpTag",title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")," ")),l().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},l().createElement("p",{className:"ViewBodypTag ViewHightLight ViewBodyForeignTag",onClick:()=>{var a,n;a=t.IDPK,n=e.val[t.ValID],e.OpenSlideComponent(a,n)},title:E(t.name,e.val[t.id])},": ",E(t.name,e.val[t.id])))):l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:2,md:2,lg:2,xs:2,className:"viewgridpad"},l().createElement("p",{className:"ViewHeadpTag",title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")," ")),l().createElement(r.Z,{item:!0,sm:4,md:4,lg:4,xs:4,className:"viewgridpad"},l().createElement("p",{className:"ViewBodypTag ViewHightLight",title:E(t.name,e.val[t.id])},": ","mins"==t.FieldDataType?C()(e.val[t.id]):E(t.name,e.val[t.id]))))))),e.rating?l().createElement(d.Z,null,l().createElement(l().Fragment,null,l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12},l().createElement(y.Z,{value:e.rating})))):"")))),l().createElement(r.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",l().createElement(d.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewFileImgCont"},l().createElement(d.Z,{container:!0},l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewHeadingTitle1"},l().createElement("p",{className:"ViewHeadpTagHD"},T("Attachments")))),l().createElement(r.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},l().createElement("div",{className:"ViewHeadingAttachmentL4"},l().createElement(A,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var O}const A=e=>{const[t,a]=(0,n.useState)([]);(0,n.useEffect)((()=>{e.id&&d()}),[e.id]);const d=()=>{(0,P.Z)(0).then((t=>{(0,h.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return l().createElement("div",null,l().createElement(p.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return l().createElement(o.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?l().createElement("img",{src:e.ImgPath,alt:e.ImageName}):l().createElement(s.Z,{className:"previewFile"}),t.length>1&&l().createElement("div",{className:"Imgbgmstyle"},l().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),l().createElement(u.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},45601:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var n=a(92950),l=a.n(n),d=a(45237),r=(a(10966),a(30553)),c=a(44528),i=a(61956),m=a(51673),s=a(49174),u=(a(38773),a(19089)),p=a(37148),o=(a(99090),a(35131)),P=a.n(o),h=a(14439),T=a(27848),g=a(55490),y=a(1695),D=(a(13235),a(61924)),M=a.n(D),C=a(26537),E=a(868),A=a(40826),O=a(82729),f=a(75355),I=a(11107),v=a(40900),x=a(92371);const b={EnterKeyValues:{PPMCreationTechAddOn:["TechStartDateTime","TechEndDateTime","TechTotal","TechRemarks","WorkOrder","IsTechManual","PPMCreationAnaAddOnCode","PPMOccupantName","PPMOccupContactNo","PPMOccupEmail","PPMOccupantRemarks","PPMOccupantRating","PPMOccupantDate","PPMOccupantAddress"]},Label:{PPMCreationTechAddOn:{TechStartDateTime:["PPMCreationAnaAddOnCode"],TechEndDateTime:["PPMCreationAnaAddOnCode"],TechTotal:["PPMCreationAnaAddOnCode"],TechRemarks:["PPMCreationAnaAddOnCode"],PPMCreationAssetID:["PPMCreationAnaAddOnCode"],IsTechManual:["PPMCreationAnaAddOnCode"],PPMCreationAnaAddOnCode:["PPMCreationAnaAddOnCode"],PPMOccupantName:["PPMCreationAnaAddOnCode"],PPMOccupContactNo:["PPMCreationAnaAddOnCode"],PPMOccupEmail:["PPMCreationAnaAddOnCode"],PPMOccupantRemarks:["PPMCreationAnaAddOnCode"],PPMOccupantRating:["PPMCreationAnaAddOnCode"],PPMOccupantDate:["PPMCreationAnaAddOnCode"],PPMOccupantAddress:["PPMCreationAnaAddOnCode"]}},LabelHeader:{PPMCreationTechAddOn:{TechStartDateTime:["AnaAddOnCode"],TechEndDateTime:["AnaAddOnCode"],TechTotal:["AnaAddOnCode"],TechRemarks:["AnaAddOnCode"],PPMCreationAssetID:["PPMCreationAnaAddOnCode"],IsTechManual:["AnaAddOnCode"],PPMCreationAnaAddOnCode:["AnaAddOnCode"],PPMOccupantName:["AnaAddOnCode"],PPMOccupContactNo:["AnaAddOnCode"],PPMOccupEmail:["AnaAddOnCode"],PPMOccupantRemarks:["AnaAddOnCode"],PPMOccupantRating:["AnaAddOnCode"],PPMOccupantDate:["AnaAddOnCode"],PPMOccupantAddress:["AnaAddOnCode"]}},Property:{PPMCreationTechAddOn:{TechStartDateTime:{id:"fld784_17145",labelID:"TechStartDateTime",maxLength:"20",labelname:"Start Time",frmctrlid:"fld784_17145",frmctrlidname:"TechStartDateTime",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},TechEndDateTime:{id:"fld784_17146",labelID:"TechEndDateTime",maxLength:"20",labelname:"End Time",frmctrlid:"fld784_17146",frmctrlidname:"TechEndDateTime",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},TechTotal:{id:"fld784_17147",labelID:"TechTotal",maxLength:"10",labelname:"Total Duration",frmctrlid:"fld784_17147",frmctrlidname:"TechTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},TechRemarks:{id:"fld784_17148",labelID:"TechRemarks",maxLength:"150",labelname:"Remarks",frmctrlid:"fld784_17148",frmctrlidname:"TechRemarks",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAssetID:{id:"fld784_17152",clearID:"PPMCreationTechAddOnWorkOrderClear",type:"select",labelID:"PPMCreationAssetIDPK",labelname:"PPMCreationAssetID",fielddisplayname:"WorkOrder",fieldOrder:"4",frmctrlid:"fld784_17152",frmctrlidname:"PPMCreationAssetID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},IsTechManual:{id:"fld784_17149",labelID:"IsTechManual",maxLength:"",labelname:"Manual",frmctrlid:"fld784_17149",frmctrlidname:"IsTechManual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAnaAddOnCode:{id:"fld784_17144",labelID:"PPMCreationAnaAddOnCode",maxLength:"50",labelname:"AnaAddOnCode",frmctrlid:"fld784_17144",frmctrlidname:"PPMCreationAnaAddOnCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMOccupantName:{id:"fld784_19311",labelID:"PPMOccupantName",maxLength:"100",labelname:"Occupant Name",frmctrlid:"fld784_19311",frmctrlidname:"PPMOccupantName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMOccupContactNo:{id:"fld784_19312",labelID:"PPMOccupContactNo",maxLength:"15",labelname:"Mobile Number",frmctrlid:"fld784_19312",frmctrlidname:"PPMOccupContactNo",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMOccupEmail:{id:"fld784_19313",labelID:"PPMOccupEmail",maxLength:"50",labelname:"Email ID",frmctrlid:"fld784_19313",frmctrlidname:"PPMOccupEmail",type:"email",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMOccupantRemarks:{id:"fld784_19316",labelID:"PPMOccupantRemarks",maxLength:"150",labelname:"Remarks",frmctrlid:"fld784_19316",frmctrlidname:"PPMOccupantRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMOccupantRating:{id:"fld784_19317",labelID:"PPMOccupantRating",maxLength:"",labelname:"Occupant Rating",frmctrlid:"fld784_19317",frmctrlidname:"PPMOccupantRating",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMOccupantDate:{id:"fld784_19315",labelID:"PPMOccupantDate",maxLength:"",labelname:"PPMOccupantDate",frmctrlid:"fld784_19315",frmctrlidname:"PPMOccupantDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMOccupantAddress:{id:"fld784_19314",labelID:"PPMOccupantAddress",maxLength:"100",labelname:"Occupant Address",frmctrlid:"fld784_19314",frmctrlidname:"PPMOccupantAddress",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{PPMCreationTechAddOn:{PPMCreationAssetID:["ContractID","BuildingID","AssetID","DisciplineID","DivisionID","FloorID","FrequencyID","SpotID"]}}};var N=a(99940),S=a(63163),k=a(45155),w=(a(79117),a(55918)),Z=a.n(w),R=a(6357),F=a(8981),B=a(77317);const L={PPMCreationTechAddOnIDPK:"",PPMCreationAnaAddOnCode:"",TechStartDateTime:"",TechStartDateTimeType:"",TechStartDateTimeBetween:"",TechEndDateTime:"",TechEndDateTimeType:"",TechEndDateTimeBetween:"",TechTotal:"",TechRemarks:"",IsTechManual:!1,PPMOccupantName:"",PPMOccupContactNo:"",PPMOccupEmail:"",PPMOccupantAddress:"",PPMOccupantDate:"",PPMOccupantDateType:"",PPMOccupantDateBetween:"",PPMOccupantRemarks:"",PPMOccupantRating:"",IsDraft:!1,Remarks:"",PPMCreationAssetID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeID:null,EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",Type:"PPMCreationTechAddOnID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},_=(0,n.forwardRef)(((e,t)=>{const a=(0,d.useSelector)((e=>e.form)),o=(0,d.useDispatch)(),[D,w]=(0,n.useState)("1"),[_,V]=(0,n.useReducer)(x.Z,L),[j,W]=(0,n.useState)(!1),[H,K]=(0,n.useState)([]),Y=(0,n.useContext)(e.context?e.context:R.PPMCreationTechAddOnContext),{cstate:G,cdispatch:$}=e.ContextApi?e.ContextApi:(0,R.ContextApi)(),[U,q]=(0,n.useState)(""),[z,J]=(0,n.useState)(""),[Q,X]=(0,n.useState)(""),[ee,te]=(0,n.useState)(""),[ae,ne]=(0,n.useState)(!0),[le,de]=(0,n.useState)(!0),[re,ce]=(0,n.useState)(""),[ie,me]=(0,n.useState)(!1);let se=(0,F.Z)();const ue=e=>se?.[e]?se[e]:e,pe=e=>G.language?.[e]?G.language[e]:e;(0,n.useEffect)((()=>{G.PrimaryId&&q(Number(G.PrimaryId))}),[G.PrimaryId]),(0,n.useEffect)((()=>{o((e=>{0==G.token.length&&(0,C.Z)(1).then((t=>{var a=new Array;a.push(t),e({type:"PPMCreationTechAddOnToken",PPMCreationTechAddOnToken:a})}))})),Te()}),[]),(0,n.useEffect)((()=>{G.editData.length>0?he(G.editData[0],""):G.Add&&Te()}),[G.editData]),(0,n.useImperativeHandle)(t,(()=>({clear:Te,saveConfirmation:()=>!_.TechStartDateTime||0==_.TechStartDateTime||Q?(Y.alert({open:!0,color:"warning",message:[ue("Please enter the Start Time")]}),!1):!_.TechEndDateTime||0==_.TechEndDateTime||ee?(Y.alert({open:!0,color:"warning",message:[ue("Please enter the End Time")]}),!1):Ae(_.TechRemarks)?void ge():(Y.alert({open:!0,color:"warning",message:[ue("Please enter the")+""+pe("TechRemarks")]}),!1),save:()=>{ge()}})));const oe=e=>e?e.split("-").reverse().join("-"):null,Pe=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},he=(t,a)=>{let n=t;q(n.PPMCreationTechAddOnIDPK),"SetDefaultPPMCreationTechAddOnID"==a?J(n.PPMCreationTechAddOnIDPK):(q(e.primid?Number(e.primid):n.PPMCreationTechAddOnIDPK),$({type:"PrimaryId",payload:n.PPMCreationTechAddOnIDPK})),V({type:"text",name:"TechStartDateTime",value:n.TechStartDateTime?Pe(n.TechStartDateTime):null}),V({type:"text",name:"TechEndDateTime",value:n.TechEndDateTime?Pe(n.TechEndDateTime):null}),V({type:"number",name:"TechTotal",number:n.TechTotal}),V({type:"text",name:"TechRemarks",value:n.TechRemarks?n.TechRemarks:""}),V({type:"number",name:"PPMCreationAssetID",number:n.PPMCreationAssetID?Number(n.PPMCreationAssetID):0}),V({type:"text",name:"WorkOrder",value:n.WorkOrder}),V({type:"boolean",name:"IsTechManual",boolean:!!n.IsTechManual&&n.IsTechManual}),V({type:"text",name:"PPMCreationAnaAddOnCode",value:n.PPMCreationAnaAddOnCode?n.PPMCreationAnaAddOnCode:""}),V({type:"text",name:"PPMOccupantName",value:n.PPMOccupantName?n.PPMOccupantName:""}),V({type:"text",name:"PPMOccupContactNo",value:n.PPMOccupContactNo?n.PPMOccupContactNo:""}),V({type:"text",name:"PPMOccupEmail",value:n.PPMOccupEmail?n.PPMOccupEmail:""}),V({type:"text",name:"PPMOccupantRemarks",value:n.PPMOccupantRemarks?n.PPMOccupantRemarks:""}),V({type:"number",name:"PPMOccupantRating",number:n.PPMOccupantRating}),V({type:"text",name:"PPMOccupantDate",value:n.PPMOccupantDate?oe(n.PPMOccupantDate):null}),V({type:"text",name:"PPMOccupantAddress",value:n.PPMOccupantAddress?n.PPMOccupantAddress:""}),n.IsActive&&w("1"==n.IsActive)},Te=()=>{q(""),$({type:"PrimaryId",payload:""}),V({type:"text",name:"TechStartDateTime",value:null}),V({type:"text",name:"TechEndDateTime",value:null}),V({type:"number",name:"TechTotal",number:0}),V({type:"text",name:"TechRemarks",value:""}),V({type:"text",name:"PPMCreationAssetID",value:null}),V({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMCreationTechAddOnWorkOrderClear")&&document.getElementById("PPMCreationTechAddOnWorkOrderClear").click(),V({type:"boolean",name:"IsTechManual",boolean:!1}),V({type:"text",name:"PPMCreationAnaAddOnCode",value:""}),V({type:"text",name:"PPMOccupantName",value:""}),V({type:"text",name:"PPMOccupContactNo",value:""}),V({type:"text",name:"PPMOccupEmail",value:""}),V({type:"text",name:"PPMOccupantRemarks",value:""}),V({type:"number",name:"PPMOccupantRating",number:0}),V({type:"text",name:"PPMOccupantDate",value:null}),V({type:"text",name:"PPMOccupantAddress",value:""}),w(!0)},ge=t=>{Y.loading(!0),Y.ConfirmAlert(null);const a=v.v.Api+"FP784S2/",n={data:[{p1:"SetDefaultPPMCreationTechAddOnID"==t?"NORECORDS"!=z&&z?z:0:U,p2:Ae(_.PPMCreationAnaAddOnCode),p3:_.TechStartDateTime?_.TechStartDateTime:null,p4:_.TechEndDateTime?_.TechEndDateTime:null,p5:_.TechTotal?Number(_.TechTotal):0,p6:Ae(_.TechRemarks),p7:_.IsTechManual,p8:Ae(_.PPMOccupantName),p9:Ae(_.PPMOccupContactNo),p10:Ae(_.PPMOccupEmail),p11:Ae(_.PPMOccupantAddress),p12:_.PPMOccupantDate?_.PPMOccupantDate:null,p13:Ae(_.PPMOccupantRemarks),p14:_.PPMOccupantRating?Number(_.PPMOccupantRating):0,p15:!1,p16:"SetDefaultPPMCreationTechAddOnID"==t?"SetDefault":null,p17:e.parentId?Number(e.parentId):0,p18:D,p19:"SetDefaultPPMCreationTechAddOnID"==t,p20:localStorage.getItem("userid"),p21:P()().format("YYYY-MM-DD hh:mm:ss"),p22:localStorage.getItem("userid"),p23:P()().format("YYYY-MM-DD hh:mm:ss")}]};(0,C.Z)(0).then((e=>{(0,m.Z)(a,n,e).then((e=>{const a=e.Output[0].status;let n=e.Output[0].Data,l=new Array,d=new Array;"200"===a.code&&(n.map((e=>{e&&(l.push(e.IsAlert),d.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(Y.alert({open:!0,color:"warning",message:d}),Y.loading(!1)):ye(t))}))}))},ye=t=>{ne(!0),de(!0),Y.loading(!0),Y.ConfirmAlert(null);const a=v.v.Api+"FP784S1/",n={data:[{p1:"SetDefaultPPMCreationTechAddOnID"==t?"NORECORDS"!=z&&z?z:0:U,p2:Ae(_.PPMCreationAnaAddOnCode),p3:_.TechStartDateTime?_.TechStartDateTime:null,p4:_.TechEndDateTime?_.TechEndDateTime:null,p5:_.TechTotal?Number(_.TechTotal):0,p6:Ae(_.TechRemarks),p7:_.IsTechManual,p8:Ae(_.PPMOccupantName),p9:Ae(_.PPMOccupContactNo),p10:Ae(_.PPMOccupEmail),p11:Ae(_.PPMOccupantAddress),p12:_.PPMOccupantDate?_.PPMOccupantDate:null,p13:Ae(_.PPMOccupantRemarks),p14:_.PPMOccupantRating?Number(_.PPMOccupantRating):0,p15:!1,p16:"SetDefaultPPMCreationTechAddOnID"==t?"SetDefault":null,p17:e.parentId?Number(e.parentId):0,p18:D,p19:"SetDefaultPPMCreationTechAddOnID"==t,p20:localStorage.getItem("userid"),p21:P()().format("YYYY-MM-DD hh:mm:ss"),p22:localStorage.getItem("userid"),p23:P()().format("YYYY-MM-DD hh:mm:ss")}]};(0,C.Z)(0).then((t=>{(0,i.Z)(a,n,t).then((t=>{const a=t[0].status;200==a.code?(e.context&&e.confirm(!0),Y.alert({open:!0,color:"success",message:[a.message]}),Y.attachmentSave(t[0].Data.IDPK),Y.loading(!1),Y.RefreshTable(),Te(),Y.Approval(!0),document.getElementById("overlayimgAttPPMCreationTechAddOn")&&(document.getElementById("overlayimgAttPPMCreationTechAddOn").style.width="0%",document.getElementById("overlayimgAttPPMCreationTechAddOn").style.display="none",document.getElementById("divPPMCreationTechAddOn-Entry").style.width="100%")):(Y.alert({open:!0,color:"warning",message:[a.message]}),Y.loading(!1)),De(1,null,"SetDefaultPPMCreationTechAddOnID",G.token[0])}))}))},De=(t,a,n,l,d)=>{const r=v.v.Api+"FP784S3/",c={data:{p1:null,p2:null,p3:_.TechStartDateTime?_.TechStartDateTime:null,p4:null,p5:null,p6:_.TechEndDateTime?_.TechEndDateTime:null,p7:null,p8:null,p9:null,p10:null,p11:1==_.IsTechManual,p12:a?"%"+a+"%":null,p13:a?"%"+a+"%":null,p14:a?"%"+a+"%":null,p15:a?"%"+a+"%":null,p16:_.PPMOccupantDate?_.PPMOccupantDate:null,p17:null,p18:null,p19:null,p20:a?"%"+a+"%":null,p21:null,p22:null,p23:e.parentId?Number(e.parentId):0,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:"0"==_.ContractID?null:_.ContractID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==_.LocalityID?null:_.LocalityID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==_.BuildingID?null:_.BuildingID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:"0"==_.FloorID?null:_.FloorID,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==_.SpotID?null:_.SpotID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==_.DivisionID?null:_.DivisionID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==_.DisciplineID?null:_.DisciplineID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==_.FrequencyID?null:_.FrequencyID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==_.AssetID?null:_.AssetID,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:"0"==_.EmployeeID?null:_.EmployeeID,p61:a?"%"+a+"%":null,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:"0"==_.PPMBusinessFlowID?null:_.PPMBusinessFlowID,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:a?"%"+a+"%":null,p69:"0"==_.PPMFixonBusinessFlowID?null:_.PPMFixonBusinessFlowID,p70:a?"%"+a+"%":null,p71:a?"%"+a+"%":null,p72:"0"==_.PPMStageID?null:_.PPMStageID,p73:a?"%"+a+"%":null,p74:a?"%"+a+"%":null,p75:a?"%"+a+"%":null,p76:_.WoDateTime?_.WoDateTime:null,p77:null,p78:null,p79:t,p80:10,p81:n,p82:null,p83:null,p84:localStorage.getItem("UserGroupID"),p85:localStorage.getItem("userid")}},i=Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{});W(!0);const s={data:i};return(0,m.Z)(r,"ClearAll"==n?s:c,"SetDefaultPPMCreationTechAddOnID"==n&&l?l:G.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;if(d)return l?l[0]:{};K(1==t?e>0?l:[]:H.concat(l)),"SetDefaultPPMCreationTechAddOnID"==n&&(e>0?he(l[0],"SetDefaultPPMCreationTechAddOnID"):J("NORECORDS")),W(!1)}else Y.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Me=(t,n,l)=>{const d=v.v.Api+"FP784S3/",r={data:{p1:null,p2:"PPMCreationAnaAddOnCode"==l&&n?"%"+n+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"TechTotal"==l&&n?"%"+n+"%":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:a.PPMCreationAssetPPMCreationAssetID?a.PPMCreationAssetPPMCreationAssetID:"0",p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:t,p80:10,p81:"PPMCreationTechAddOnID",p82:null,p83:null,p84:localStorage.getItem("UserGroupID"),p85:localStorage.getItem("userid")}},c={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{})};W(!0),(0,m.Z)(d,"ClearAll"==l?c:r,G.token[0]).then((e=>{const a=e.Output.status.code,n=e.Output.data;if("200"==a){const e=n.length;1==t?("PPMCreationAnaAddOnCode"==l&&ne(e>0),"PPMOccupantRating"==l&&de(e>0),K(n)):("PPMCreationAnaAddOnCode"==l&&ne(!0),"PPMOccupantRating"==l&&de(!0),K(H.concat(n))),W(!1)}else Y.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Ce=(0,n.useCallback)((async(e,t,a)=>{"text"==a?V({type:a,name:t,value:e}):"number"==a?V({type:a,name:t,number:Number(e)}):"boolean"==a?V({type:a,name:t,boolean:e}):"date"==a&&(V({type:"text",name:t,value:e}),"TechStartDateTime"==t?(V({type:"text",name:"TechStartDateTime",value:e}),_.TechEndDateTime&&Ee(e,_.TechEndDateTime)&&V({type:"text",name:"TechTotal",value:Ee(e,_.TechEndDateTime)})):"TechEndDateTime"==t&&(V({type:"text",name:"TechEndDateTime",value:e}),_.TechStartDateTime&&Ee(_.TechStartDateTime,e)&&V({type:"text",name:"TechTotal",value:Ee(_.TechStartDateTime,e)})))}),[_]),Ee=(e,t)=>{let a=(0,A.format)(new Date(e),"yyyy-MM-dd HH:mm"),n=(0,A.format)(new Date(t),"yyyy-MM-dd HH:mm");if(Date.parse(n)>Date.parse(a))return(0,A.differenceInMinutes)(new Date(n),new Date(a))},Ae=e=>"string"==typeof e?e.trim():e;return l().createElement("div",null,!e.context&&l().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},l().createElement("div",{className:"displayFlex EntryHeader"},l().createElement("p",{className:"ListP",title:"8.0.0.36-15:03:44-15-3"},ue("Add"),pe(" Work at site by Technician"))),l().createElement("div",{className:"displayFlex EntryHeaderBtn"},G.AccessRights.IsDelete&&l().createElement("div",{className:"GridAlign"},l().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},l().createElement(N.FormGroup,{row:!0},l().createElement(r.Z,{labelPlacement:"bottom",id:"fld784L0ECEntryCheckbox",control:l().createElement(S.Z,{checked:"1"==D,onChange:e=>w(e.target.checked)}),label:ue(1==D?"Active":"In Active")})))),l().createElement(E.ZP,{placement:"top",title:"Attach"},l().createElement("div",{className:"GridAlign",onClick:()=>{Y.AttachExpand(!0)},id:"fld784L0ECIconButton"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement("div",{disableRipple:!0,disabled:!1},l().createElement(k.Ypb,{className:"Iconstyles"}))),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,ue("Attach"))))),!G.PrimaryId&&l().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Te()},id:"fld784L0ECClearBtn"},l().createElement("div",{className:"Entry-Checkbox"},l().createElement(k.pYJ,{className:"Iconstyles"})),l().createElement("div",{className:"GridLabel"},l().createElement("p",null,ue("Reset")))),G.AccessRights.IsAdd&&l().createElement(y.Z,{name:G.PrimaryId?"Update":"Save",disabled:!1,onClick:()=>{(t=>{if(!_.TechStartDateTime||0==_.TechStartDateTime||Q)return Y.alert({open:!0,color:"warning",message:[ue("Please enter the Start Time")]}),!1;if(!_.TechEndDateTime||0==_.TechEndDateTime||ee)return Y.alert({open:!0,color:"warning",message:[ue("Please enter the End Time")]}),!1;if(!Ae(_.TechRemarks))return Y.alert({open:!0,color:"warning",message:[ue("Please enter the")+""+pe("TechRemarks")]}),!1;if(!e.parentId||0==e.parentId)return Y.alert({open:!0,color:"warning",message:[ue("Please select the ")+" "+pe("PPMCreationAssetID")]}),!1;let a=/^([a-zA-Z0-9_.-])+\@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/.test(_.PPMOccupEmail);if(_.PPMOccupEmail&&!a)return Y.alert({open:!0,color:"error",message:[ue("Invalid")+" "+pe("PPMOccupEmail")]}),!1;Y.ConfirmAlert(l().createElement(M(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ue("Are you sure?"),onConfirm:()=>ge(),onCancel:()=>Y.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("Cancel"),showCancel:!0},G.PrimarId?ue("Do you want to Update?"):ue("Do you want to Save?")))})()}}),G.editData.length>0&&l().createElement(p.Z,{disabled:!1,onClick:()=>{Te(),Y.RefreshTable(!1)}}))),!e.context&&l().createElement("div",{id:"PPMCreationTechAddOn-Main",className:"width100 displayFlex componentMainDiv cardDiv"},l().createElement("div",{id:"PPMCreationTechAddOn-Detail",className:"detailCard detailDiv"},l().createElement("div",{id:"PPMCreationTechAddOn-MainBody",className:"padding paddingLeft"},l().createElement("div",null,l().createElement(O.Z,null,l().createElement(I.Z,{color:"info",icon:!0,className:"cardheadvh"},l().createElement(h.Z,null,l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement("div",{className:"GrpViewHeadingTitle"},l().createElement("p",null,"Technician Details"))))),l().createElement(f.Z,{style:{padding:"5px 20px 15px"}},l().createElement(h.Z,{spacing:2},l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},l().createElement(u.Z,{"data-testid":_.TechStartDateTime,value:_.TechStartDateTime,minDate:(0,A.startOfDay)(new Date(Pe(e.parentData?.WoDateTime))),maxDate:(0,A.addDays)(new Date(new Date),0),skipMin:!0,onErr:e=>{X(e)},onChange:e=>{Ce(e,"TechStartDateTime","date")},label:l().createElement("span",null,pe("TechStartDateTime"),l().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld784_17145",frmctrlidName:"TechStartDateTime",fieldorder:"1",disabled:!!U})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},l().createElement(u.Z,{"data-testid":_.TechEndDateTime,value:_.TechEndDateTime,minDate:_.TechStartDateTime,maxDate:(0,A.addDays)(new Date(new Date),0),skipMin:!0,onErr:e=>{te(e)},onChange:e=>{Ce(e,"TechEndDateTime","date")},label:l().createElement("span",null,pe("TechEndDateTime"),l().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld784_17146",frmctrlidName:"TechEndDateTime",fieldorder:"2",disabled:!!U})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.TechTotal,SPName:"PPMCreationTechAddOn",FieldName:"TechTotal",tfLabel:pe("TechTotal"),frmctrlid:"fld784_17147",fieldorder:"3",onChange:e=>{Ce(e,"TechTotal","text")},clear:e=>{e&&V({type:"text",name:"TechTotal",value:""})},value:Z()(_.TechTotal)})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.TechRemarks,SPName:"PPMCreationTechAddOn",FieldName:"TechRemarks",tfLabel:pe("TechRemarks"),frmctrlid:"fld784_17148",fieldorder:"4",onChange:e=>{Ce(e,"TechRemarks","text")},clear:e=>{e&&V({type:"text",name:"TechRemarks",value:""})},value:_.TechRemarks})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(g.Z,{json:b,id:_.PPMCreationAssetID,"data-testid":_.PPMCreationAssetID,value:_.WorkOrder,SPName:"PPMCreationTechAddOn",FieldName:"PPMCreationAssetID",tfLabel:pe("PPMCreationAssetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ce(e,"PPMCreationAssetID","select"),onChange:(e,t)=>{De(e,t,"PPMCreationAssetIDPK")},KeyBack:e=>{},fieldorder:"4",data:H,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:H.length>0?H[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:j,clear:e=>{}})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement("div",{className:"EntryView-Checkbox"},l().createElement(r.Z,{style:{color:"#337ab7"},"data-testid":_.IsTechManual,labelPlacement:"end",control:l().createElement(S.Z,{checked:"1"==_.IsTechManual,onChange:e=>{Ce(e.target.checked,"IsTechManual","boolean")},frmctrlid:"fld784_17149",frmctrlidname:"IsTechManual",fieldorder:"4",tfLabel:pe("IsTechManual")}),label:l().createElement("p",{className:"ToggleSwitchLabel",style:{color:_.IsPortalDisplay?"#21446F":"#999"}},pe("IsTechManual"))}))),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(g.Z,{"data-testid":_.PPMCreationAnaAddOnCode,json:b,SPName:"PPMCreationTechAddOn",FieldName:"PPMCreationAnaAddOnCode",tfLabel:pe("PPMCreationAnaAddOnCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{Y.ConfirmAlert(l().createElement(M(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>function(e){Y.ConfirmAlert(null),V({type:"text",name:"TechStartDateTime",value:Pe(e.TechStartDateTime)}),V({type:"text",name:"TechEndDateTime",value:Pe(e.TechEndDateTime)}),V({type:"text",name:"TechTotal",value:e.TechTotal}),V({type:"text",name:"TechRemarks",value:e.TechRemarks}),V({type:"number",name:"PPMCreationAssetID",number:Number(e.PPMCreationAssetID)}),V({type:"text",name:"WorkOrder",value:e.WorkOrder}),V({type:"boolean",name:"IsTechManual",boolean:e.IsTechManual}),V({type:"text",name:"PPMCreationAnaAddOnCode",value:e.PPMCreationAnaAddOnCode}),V({type:"text",name:"PPMOccupantName",value:e.PPMOccupantName}),V({type:"number",name:"PPMOccupContactNo",number:Number(e.PPMOccupContactNo)}),V({type:"text",name:"PPMOccupEmail",value:e.PPMOccupEmail}),V({type:"text",name:"PPMOccupantRemarks",value:e.PPMOccupantRemarks}),V({type:"text",name:"PPMOccupantRating",value:e.PPMOccupantRating}),V({type:"text",name:"PPMOccupantDate",value:oe(e.PPMOccupantDate)}),V({type:"text",name:"PPMOccupantAddress",value:e.PPMOccupantAddress})}(e),onCancel:()=>Y.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ue("Yes"),cancelBtnText:ue("No"),showCancel:!0},ue("Do you want to update this record?")))})(t),onClick:()=>{ae&&Me(1,"","ClearAll"),ne(!0)},frmctrlid:"fld784_17144",frmctrlidName:"PPMCreationAnaAddOnCode",fieldorder:"4",data:H,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:H.length>0?H[0].TotalCount:0,onChange:(e,t)=>{ae&&Me(e,t,"PPMCreationAnaAddOnCode"),Ce(t,"PPMCreationAnaAddOnCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:_.PPMCreationAnaAddOnCode,loading:j,clear:e=>{e&&(V({type:"text",name:"PPMCreationAnaAddOnCode",value:""}),ne(!0))}}))))),l().createElement(O.Z,null,l().createElement(I.Z,{color:"info",icon:!0,className:"cardheadvh"},l().createElement(h.Z,null,l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement("div",{className:"GrpViewHeadingTitle"},l().createElement("p",null,"Occupant Details"))))),l().createElement(f.Z,{style:{padding:"5px 20px 15px"}},l().createElement(h.Z,{spacing:2},l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.PPMOccupantName,SPName:"PPMCreationTechAddOn",FieldName:"PPMOccupantName",tfLabel:pe("PPMOccupantName"),frmctrlid:"fld784_19311",fieldorder:"1",onChange:e=>{Ce(e,"PPMOccupantName","text")},clear:e=>{e&&V({type:"text",name:"PPMOccupantName",value:""})},value:_.PPMOccupantName})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.PPMOccupContactNo,SPName:"PPMCreationTechAddOn",FieldName:"PPMOccupContactNo",tfLabel:pe("PPMOccupContactNo"),frmctrlid:"fld784_19312",fieldorder:"2",onChange:e=>{Ce(e,"PPMOccupContactNo","number")},clear:e=>{e&&V({type:"number",name:"PPMOccupContactNo",number:0})},value:_.PPMOccupContactNo})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.PPMOccupEmail,SPName:"PPMCreationTechAddOn",FieldName:"PPMOccupEmail",tfLabel:pe("PPMOccupEmail"),onChange:e=>{V({type:"text",name:"PPMOccupEmail",value:e})},value:_.PPMOccupEmail,clear:e=>{e&&V({type:"text",name:"PPMOccupEmail",value:""})},frmctrlid:"fld784_19313",frmctrlidName:"PPMOccupEmail",fieldorder:"3"})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.PPMOccupantRemarks,SPName:"PPMCreationTechAddOn",FieldName:"PPMOccupantRemarks",tfLabel:pe("PPMOccupantRemarks"),frmctrlid:"fld784_19316",fieldorder:"4",onChange:e=>{Ce(e,"PPMOccupantRemarks","text")},clear:e=>{e&&V({type:"text",name:"PPMOccupantRemarks",value:""})},value:_.PPMOccupantRemarks})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(B.Z,{name:"simple-controlled",value:_.PPMOccupantRating,onChange:e=>{Ce(e,"PPMOccupantRating","text")}})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(s.Z,{value:_.PPMOccupantDate,"data-testid":_.PPMOccupantDate,disabled:!1,onChange:e=>{Ce(e,"PPMOccupantDate","date")},onErr:e=>{ce(e)},label:pe("PPMOccupantDate"),frmctrlid:"fld784_19315",frmctrlidName:"PPMOccupantDate",fieldorder:"1"})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},l().createElement(c.Z,{json:b,"data-testid":_.PPMOccupantAddress,SPName:"PPMCreationTechAddOn",FieldName:"PPMOccupantAddress",tfLabel:pe("PPMOccupantAddress"),frmctrlid:"fld784_19314",fieldorder:"1",onChange:e=>{Ce(e,"PPMOccupantAddress","text")},clear:e=>{e&&V({type:"text",name:"PPMOccupantAddress",value:""})},value:_.PPMOccupantAddress}))))))))),e.TechnicianDetails&&l().createElement(h.Z,{spacing:2},l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},l().createElement(u.Z,{"data-testid":_.TechStartDateTime,value:_.TechStartDateTime,minDate:Pe(e.parentData?.WoDateTime),maxDate:(0,A.addDays)(new Date(new Date),0),skipMin:!0,onErr:e=>{X(e)},onChange:e=>{Ce(e,"TechStartDateTime","date")},label:l().createElement("span",null,pe("TechStartDateTime"),l().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld784_17145",frmctrlidName:"TechStartDateTime",fieldorder:"1"})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},l().createElement(u.Z,{"data-testid":_.TechEndDateTime,value:_.TechEndDateTime,minDate:_.TechStartDateTime,maxDate:(0,A.addDays)(new Date(new Date),0),skipMin:!0,onErr:e=>{te(e)},onChange:e=>{Ce(e,"TechEndDateTime","date")},label:l().createElement("span",null,pe("TechEndDateTime"),l().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld784_17146",frmctrlidName:"TechEndDateTime",fieldorder:"2"})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.TechTotal,SPName:"PPMCreationTechAddOn",FieldName:"TechTotal",tfLabel:pe("TechTotal"),frmctrlid:"fld784_17147",fieldorder:"3",onChange:e=>{Ce(e,"TechTotal","text")},clear:e=>{e&&V({type:"text",name:"TechTotal",value:""})},value:Z()(_.TechTotal)})),l().createElement(T.Z,{xs:3,md:3,lg:3,sm:3},l().createElement(c.Z,{json:b,"data-testid":_.TechRemarks,SPName:"PPMCreationTechAddOn",FieldName:"TechRemarks",tfLabel:pe("TechRemarks"),frmctrlid:"fld784_17148",fieldorder:"4",onChange:e=>{Ce(e,"TechRemarks","text")},clear:e=>{e&&V({type:"text",name:"TechRemarks",value:""})},value:_.TechRemarks}))))}))},6357:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>I,PPMCreationTechAddOnContext:()=>f,default:()=>v});var n=a(92950),l=a.n(n),d=a(45237),r=(a(37148),a(3212)),c=a(29800),i=(a(14439),a(27848),a(10966),a(36939)),m=a(61201),s=a(50743),u=(a(21392),a(51673)),p=a(40900),o=a(26537),P=(a(24038),a(45601)),h=(a(77366),a(97829),a(8981)),T=(a(63163),a(1695),a(79117),a(97087));const g=(0,n.forwardRef)(((e,t)=>{const a=(0,n.useRef)(),[g,y]=((0,d.useSelector)((e=>e.form)),(0,n.useState)([])),[D,M]=(0,n.useState)(!0),[C,E]=(0,n.useState)(e.showDetail),[A,O]=(0,n.useState)(""),[v,x]=l().useState(!1),[b,N]=l().useState(""),[S,k]=l().useState(!1),w=(0,n.useContext)(f),{cstate:Z,cdispatch:R}=I(),[F,B]=(0,n.useState)(!1),[L,_]=(0,n.useState)(""),[V,j]=(0,n.useState)(""),[W,H]=(0,n.useState)("");let K=(0,h.Z)();(0,n.useEffect)((()=>{y(Z.editData)}),[Z.editData]),(0,n.useImperativeHandle)(t,(()=>({tableClick:e=>{M(e),x(null)},viewtoggle:()=>{x(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let n=p.v.Api+"FP784S3/",l={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:1,p80:10,p81:Z.IsDraft?"DraftPPMCreationTechAddOnID":"PPMCreationTechAddOnID",p82:null,p83:null,p84:localStorage.getItem("UserGroupID"),p85:localStorage.getItem("userid")}};(0,o.Z)(0).then((e=>{(0,u.Z)(n,l,e).then((e=>{w.loading(!1),"200"==e.Output.status.code&&y(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===v&&a.current.clear()}})));const Y=e=>K?.[e]?K?.[e]:e,G=e=>Z.language?.[e]?Z.language[e]:e;function $(e,t){}return l().createElement("div",null,l().createElement(i.Z,{expanded:D,onChange:()=>()=>{e.expandTable&&M(!D)}},!v&&l().createElement(s.Z,null,l().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},l().createElement("div",{className:"displayFlex EntryHeaderBtn",style:{marginTop:"-12px"}},Z.AccessRights.IsEdit?l().createElement(c.Z,{frmctrlid:"fld784L0VCEditBtn",onClick:()=>{w.edit()},disabled:!1}):"",0==Z.editData.length&&Z.AccessRights.IsAdd?l().createElement(r.Z,{className:"L1AddBtnCommon",frmctrlid:"fld784L0VCAddBtn",onClick:()=>{R({type:"Add",payload:!0})},disabled:!1}):""))),l().createElement(m.Z,{style:{display:"block"}},g.slice(0,1).map(((t,n)=>l().createElement("div",{key:n},v==="panel"+n?l().createElement(P.default,{ref:a,parentId:e.parentId}):l().createElement(l().Fragment,null,l().createElement(T.Z,{tableName:"PPMCreationTechAddOn",tableID:784,parentID:t.PPMCreationTechAddOnIDPK,fldid:"fld784L0VCContainer",OpenSlideComponent:$,index:n,rating:t.PPMOccupantRating,val:t,tf:G,t:Y,title:"8.0.0.36-15:03:44-15-3"}))))))))}));var y=a(67698),D=a(55995),M=(a(45965),a(10794)),C=a(9175),E=a.n(C),A=a(71168),O=a.n(A);const f=(0,n.createContext)(),I=()=>{const e=(0,n.useContext)(f);if(void 0===e)throw new Error("ContextApi must be used within  PPMCreationTechAddOnContext Provider");return e},v=function(e){const t=(0,n.useRef)(),a=(0,n.useRef)(),r=(0,n.useRef)(),c=(0,n.useRef)(),i=((0,d.useSelector)((e=>e.form)),(0,d.useDispatch)()),[m,s]=(0,n.useState)(!0),[h,T]=(0,n.useState)(!1),[C,A]=(0,n.useState)(0),[v,x]=(0,n.useState)(!1),[b,N]=(0,n.useState)(),[S,k]=(0,n.useReducer)(M.p,M.E),[w,Z]=(0,n.useState)([]),[R,F]=(0,n.useState)(!1),[B,L]=O()("784");(0,n.useEffect)((()=>{document.getElementById("divPPMCreationTechAddOn-Entry").style.width="100%",document.getElementById("PPMCreationTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMCreationTechAddOn-MainEntry").style.height="80vh",document.getElementById("PPMCreationTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMCreationTechAddOn-MainDiv").classList.add("displayGrid")}),[]),(0,n.useEffect)((()=>{T(!0),document.getElementById("divPPMCreationTechAddOn-Entry").style.width="100%",document.getElementById("PPMCreationTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMCreationTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMCreationTechAddOn-MainDiv").classList.add("displayGrid")}),[]);const _=e=>{document.getElementById("divPPMCreationTechAddOn-Entry").style.width="100%",document.getElementById("PPMCreationTechAddOnEntryTable").style.width="100%",document.getElementById("PPMCreationTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMCreationTechAddOn-MainEntry").style.display="block",document.getElementById("PPMCreationTechAddOn-MainEntry").style.height="80vh",document.getElementById("PPMCreationTechAddOn-MainDiv").classList.add("displayFlex"),document.getElementById("PPMCreationTechAddOn-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMCreationTechAddOn").style.width="0%",document.getElementById("overlayimgAttPPMCreationTechAddOn").style.display="none"};(0,n.useEffect)((()=>{i((e=>{(0,o.Z)(1).then((e=>{var t=new Array;t.push(e),k({type:"token",payload:t}),V(e),A(t.length)}))}))}),[]),(0,n.useEffect)((()=>{!function(e){let t=[],a=[],n=[],l=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),n.push(e.FieldDescription)));let d=localStorage.getItem("Language");l.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[d]]})})),k({type:"language",payload:Object.assign({},...l)})}(B)}),[B]),(0,n.useEffect)((()=>{k({type:"AccessRights",payload:e.AccessRights})}),[e.AccessRights]);const V=t=>{s(!0);let a=p.v.Api+"FP784S3/",n={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:e.parentId?Number(e.parentId):0,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:1,p80:10,p81:"PPMCreationTechAddOnID",p82:null,p83:null,p84:null,p85:null}};(0,u.Z)(a,n,t).then((e=>{s(!1),"200"==e.Output.status.code&&(e.Output.data.length>0?e.Output.data&&k({type:"editData",payload:e.Output.data}):k({type:"editData",payload:[]}))}))};return l().createElement("div",null,l().createElement(f.Provider,{value:{cstate:S,cdispatch:k,ContextApi:I,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),Approval:e=>F(e),AttachExpand:e=>(r.current.AttachmentData(S.PrimaryId),void(h&&(document.getElementById("overlayimgAttPPMCreationTechAddOn").style.width="25%",document.getElementById("divPPMCreationTechAddOn-Entry").style.width="100%",document.getElementById("PPMCreationTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMCreationTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMCreationTechAddOn-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMCreationTechAddOn").style.display="block",document.getElementById("PPMCreationTechAddOnEntryTable").style.width="100%"))),RefreshTable:()=>{V(S.token[0]),x(!1),e.cardRefresh()},edit:()=>x(!0),attachmentSave:e=>{c.current.tempsave(e,w),Z([])}}},l().createElement("div",{id:"PPMCreationTechAddOn-MainDiv",className:"MainDivStyles displayFlex"},l().createElement("div",{id:"PPMCreationTechAddOn-MainEntry",className:"Maincontent"},0==S.editData.length?l().createElement("div",{style:{display:"flex"}},l().createElement("div",{id:"PPMCreationTechAddOnEntryTable",style:{width:"100%"}},l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divPPMCreationTechAddOn-Entry",style:{width:"100%"}},l().createElement(P.default,{ref:t,parentId:e.parentId,parentData:e.parentData}))),l().createElement(D.Z,{ref:c,fileId:"LogoImgPPMCreationTechAddOn",menurefID:784,imgloading:e=>N(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewPPMCreationTechAddOn",tempImg:e=>{r.current.tempImg(e),Z(e)},clearTempData:S.Add})),l().createElement(y.Z,{ImgAttachment:e=>_(),menurefID:784,fileId:"AttImgPPMCreationTechAddOn",imgid:"overlayimgAttPPMCreationTechAddOn",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,n)=>{c.current.PriviewItem(e,t,a,n)},ref:r,previd:"overlayPreviewPPMCreationTechAddOn",ConfirmAlert:t=>{e.ConfirmAlert(t)},imgloading:b,timglist:e=>c.current.timglist(e)})):l().createElement("div",null,v?l().createElement("div",{style:{display:"flex"}},l().createElement("div",{id:"PPMCreationTechAddOnEntryTable",style:{width:"100%"}},l().createElement("div",{className:"displayFlex width100"},l().createElement("div",{id:"divPPMCreationTechAddOn-Entry",style:{width:"100%"}},l().createElement(P.default,{ref:t,parentId:e.parentId,parentData:e.parentData}))),l().createElement(D.Z,{ref:c,fileId:"LogoImgPPMCreationTechAddOn",menurefID:784,imgloading:e=>N(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewPPMCreationTechAddOn",tempImg:e=>{r.current.tempImg(e),Z(e)},clearTempData:S.Add})),l().createElement(y.Z,{ImgAttachment:e=>_(),menurefID:784,fileId:"AttImgPPMCreationTechAddOn",imgid:"overlayimgAttPPMCreationTechAddOn",valueIDPK:S.PrimaryId,PriviewData:(e,t)=>{c.current.PriviewItem(e,t)},ref:r,previd:"overlayPreviewPPMCreationTechAddOn",ConfirmAlert:t=>{e.ConfirmAlert(t)},imgloading:b,clearTempData:S.Add})):l().createElement("div",{id:"divPPMCreationTechAddOn-Entry"},0!==C?l().createElement(g,{ref:a,parentId:e.parentId}):null)))),!e.inboxdata&&R&&l().createElement(E(),{openDialog:R,closeDialog:e=>F(e),formID:784,PrimID:S.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}}}]);