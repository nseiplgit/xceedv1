/*! For license information please see 2091.d880496d6c05a6d7273d.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[2091,7164,2325,3129,6939,7442,6408,7587,3795,7805],{45332:(e,t,l)=>{l.d(t,{Z:()=>p});var a=l(22122),n=l(81253),s=l(85061),i=l(92950),o=l(86010),r=l(79437),d=l(52543),u=l(83711),c=function(e,t){var l,a,n,i;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((l=e.classList).remove.apply(l,(0,s.Z)(t.imgFullWidth.split(" "))),(a=e.classList).add.apply(a,(0,s.Z)(t.imgFullHeight.split(" ")))):((n=e.classList).remove.apply(n,(0,s.Z)(t.imgFullHeight.split(" "))),(i=e.classList).add.apply(i,(0,s.Z)(t.imgFullWidth.split(" ")))))},m=i.forwardRef((function(e,t){var l=e.children,s=e.classes,d=e.className,m=(e.cols,e.component),p=void 0===m?"li":m,D=(e.rows,(0,n.Z)(e,["children","classes","className","cols","component","rows"])),F=i.useRef(null);return i.useEffect((function(){!function(e,t){e&&(e.complete?c(e,t):e.addEventListener("load",(function(){c(e,t)})))}(F.current,s)})),i.useEffect((function(){var e=(0,r.Z)((function(){c(F.current,s)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[s]),i.createElement(p,(0,a.Z)({className:(0,o.default)(s.root,d),ref:t},D),i.createElement("div",{className:s.tile},i.Children.map(l,(function(e){return i.isValidElement(e)?"img"===e.type||(0,u.Z)(e,["Image"])?i.cloneElement(e,{ref:F}):e:null}))))}));const p=(0,d.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(m)},69685:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(22122),n=l(81253),s=l(92950),i=(l(59864),l(86010)),o=l(52543),r=s.forwardRef((function(e,t){var l=e.cellHeight,o=e.children,r=e.classes,d=e.className,u=e.cols,c=void 0===u?2:u,m=e.component,p=void 0===m?"ul":m,D=e.gap,F=void 0===D?4:D,M=e.rowHeight,g=void 0===M?180:M,B=e.spacing,y=e.style,w=(0,n.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),C=B||F,R=l||g;return s.createElement(p,(0,a.Z)({className:(0,i.default)(r.root,d),ref:t,style:(0,a.Z)({margin:-C/2},y)},w),s.Children.map(o,(function(e){if(!s.isValidElement(e))return null;var t=e.props.cols||1,l=e.props.rows||1;return s.cloneElement(e,{style:(0,a.Z)({width:"".concat(100/c*t,"%"),height:"auto"===R?"auto":R*l+C,padding:C/2},e.props.style)})})))}));const d=(0,o.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(r)},35025:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.Z=i},64566:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=i},83173:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=i},92448:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=i},93657:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=i},53375:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=i},85984:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=i},59535:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var s=n(l(92950)),i=(0,a(l(2108)).default)(s.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");t.Z=i},41722:(e,t,l)=>{l.d(t,{D:()=>n,E:()=>a});const a={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function n(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(40900),n=l(26537),s=l(61956),i=l(35131),o=l.n(i),r=l(25108);function d(e,t,l,i){if("select"==e){const e=a.v.Api+"FP1454S3/",l={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":n.Z.TokenIDPK,"x-tokenname":n.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(l)}).then((e=>{if(e.ok)return r.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=a.v.Api+"FP1454S1/",d={data:[{p1:0,p2:null,p3:i,p4:JSON.stringify(l),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:o()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:o()().format("YYYY-MM-DD hh:mm:ss")}]};(0,n.Z)(0).then((t=>{(0,s.Z)(e,d,t).then((e=>{200==e[0].status.code?r.log(e,"RES"):r.log("Error")}))}))}}},83817:(e,t,l)=>{function a(e,t,l,a,n){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:l}),t({type:"ShowDetail",payload:a}),n.loading(!1)):(n.loading(!1),n.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){n.loading(!1),n.alert({open:!0,color:"error",message:[e.message]})}}l.d(t,{a:()=>a})},65197:(e,t,l)=>{l.d(t,{Z:()=>C});var a=l(92950),n=l.n(a),s=l(14439),i=l(27848),o=l(63163),r=l(6562),d=l(30553),u=l(83173),c=l(21392),m=l(69685),p=l(45332),D=l(26537),F=l(77366),M=l(71168),g=l.n(M),B=l(99940),y=l(55918),w=l.n(y);function C(e){const[t,l]=(0,a.useState)([]),[u,c]=(0,a.useState)([]),[m,p]=g()(e.tableID);(0,a.useEffect)((()=>{F(m)}),[m,e.val]),(0,a.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&F(e.refresh)}),[e.refresh]);const D=t=>e.t(t);function F(t){const a=t.filter((t=>t.FormID==e.tableID));let n=[],s=[];a.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?s.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):n.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),c(M(s,"id")),l(M(n,"id"))}function M(e,t){const l=e.map((e=>e[t])),a=e.filter((({value:e},t)=>!l.includes(e,t+1)));return a}return n().createElement(n().Fragment,null,n().createElement("div",{index:e.index,className:"padding paddingLeft width100"},n().createElement(s.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},n().createElement(s.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},n().createElement("div",{className:"ViewHeadingTitle"},n().createElement("p",null,(y=e.tableName,e.tf(y)+" "+D("view")))),n().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},u.map(((t,l)=>n().createElement(n().Fragment,null,n().createElement(B.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},n().createElement("div",{key:l,className:"GridAlignSwitch"},n().createElement(r.Z,null,n().createElement(d.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:n().createElement(o.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),n().createElement(s.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement(s.Z,{container:!0},t.map(((t,l)=>n().createElement(n().Fragment,null,t.ForeignTag?n().createElement(n().Fragment,null,n().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:D(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var l,a;l=t.IDPK,a=e.val[t.ValID],e.OpenSlideComponent(l,a)},title:e.val[t.id]},e.val[t.id])))):n().createElement(n().Fragment,null,n().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?w()(e.val[t.id]):e.val[t.id]))))))))))),n().createElement(i.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",n().createElement(s.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewFileImgCont"},n().createElement(s.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingTitle1"},n().createElement("p",{className:"ViewHeadpTagHD"},D("Attachments")))),n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingAttachmentL4"},n().createElement(R,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var y}const R=e=>{const[t,l]=(0,a.useState)([]);(0,a.useEffect)((()=>{e.id&&s()}),[e.id]);const s=()=>{(0,D.Z)(0).then((t=>{(0,F.Z)(t,e.id,e.tableID).then((e=>l(e)))}))};return n().createElement("div",null,n().createElement(m.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,l)=>{if(0==l)return n().createElement(p.Z,{className:"imgviewpagel4 lastImg",key:l,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{src:e.ImgPath,alt:e.ImageName}):n().createElement(u.Z,{className:"previewFile"}),t.length>1&&n().createElement("div",{className:"Imgbgmstyle"},n().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),n().createElement(c.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},27594:(e,t,l)=>{l.r(t),l.d(t,{default:()=>O});var a=l(92950),n=l.n(a),s=l(45237),i=l(36939),o=l(61201),r=l(50743),d=(l(67698),l(10966),l(30553)),u=(l(99090),l(61956)),c=l(51673),m=(l(44528),l(96071),l(14439)),p=l(27848),D=(l(49174),l(38773),l(19089),l(1695)),F=(l(13235),l(61924)),M=l.n(F),g=l(26537),B=l(40900),y=l(35131),w=l.n(y),C=l(55490),R=(l(2493),l(82729),l(75355),l(11107),l(37148)),I=(l(45965),l(92371)),E=(l(40826),l(64566)),x=l(91615),f=l(1941),S=l(81461),v=l(8981),h=l(63163),b=l(99940),N=l(5434),T=l(45155),A=l(79352),P=l(99263),k=l(16233),Z=l.n(k);l(91113),l(79117);const L={RMBDMFixonBusinessFlowIDPK:"",RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMCategoryKey:"",IsDefault:!1,IsDraft:!1,Remarks:"",RMCCMComplaintHeaderID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RMCCMComplaintHeaderCode:"",RMCCMComplaintHeaderName:"",Type:"RMBDMFixonBusinessFlowID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},O=(0,a.forwardRef)(((e,t)=>{(0,s.useSelector)((e=>e.form));const[l,F]=(0,a.useState)(!1),[y,k]=(0,a.useState)(!0),[O,z]=(0,a.useState)(!1),[H,K]=(0,a.useState)(!1),[V,G]=(0,a.useState)(0),[_,j]=(0,a.useState)(!0),[U,Y]=(0,a.useState)({}),[$,q]=(0,a.useState)([]),[W,J]=(0,a.useState)(!1),[Q,X]=((0,a.useRef)(),(0,a.useState)(!1)),[ee,te]=(0,a.useState)(null),[le,ae]=((0,a.useRef)(),(0,a.useState)(!0)),[ne,se]=(0,a.useState)(!0),[ie,oe]=(0,a.useState)(0),[re,de]=(0,a.useState)(0),[ue,ce]=(0,a.useState)([]),[me,pe]=(0,a.useState)([]),[De,Fe]=(0,a.useReducer)(I.Z,L),[Me,ge]=(0,a.useState)(!1),[Be,ye]=(0,a.useState)([]),[we,Ce]=(0,a.useState)(null),Re=(0,a.useContext)(f.RMBDMFixonBusinessFlowRegistryContext),{cstate:Ie,cdispatch:Ee}=(0,f.ContextApi)(),[xe,fe]=(0,a.useState)(!0),[Se,ve]=(0,a.useState)(""),[he,be]=(0,a.useState)(!1),[Ne,Te]=(0,a.useState)(""),[Ae,Pe]=(0,a.useState)(!0),[ke,Ze]=(0,a.useState)(!0),[Le,Oe]=(0,a.useState)(!0),[ze,He]=(0,a.useState)(0),[Ke]=(0,a.useState)(localStorage.getItem("Language")),[Ve]=(0,a.useState)(localStorage.getItem("Language")),[Ge,_e]=(0,a.useState)(!1),[je,Ue]=(0,a.useState)(!1),Ye=(0,a.useRef)(null),$e=(0,a.useRef)(null),[qe,We]=Z()("869"),[Je,Qe]=(0,a.useState)(!1),[Xe,et]=(0,a.useState)("panelS5"),[tt,lt]=(0,a.useState)([]);let at=(0,v.Z)();const[nt,st]=(0,a.useState)({}),it=e=>at?.[e]?at[e]:e,ot=t=>Ie.language?.[t]?Ie.language[t]:e.createEasy?nt?.[t]:t;(0,a.useEffect)((()=>{Ie.PrimaryId&&He(Number(Ie.PrimaryId))}),[Ie.PrimaryId]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),st(Object.assign({},...t))}(qe)}),[qe]),(0,a.useEffect)((()=>{Ie.editData.length<0&&(0,g.Z)(1).then((e=>{pt(1,null,"SetDefaultRMBDMFixonBusinessFlowID",e)}))}),[]),(0,a.useEffect)((()=>{rt(tt,"SetDefaultRMBDMFixonBusinessFlowID")}),[tt]),(0,a.useImperativeHandle)(t,(()=>({getAlert:e=>{Ee({type:"expandDetail",payload:!0}),z(!1)},getPreview:e=>{},clear:()=>{dt(),pt(1,null,"SetDefaultRMBDMFixonBusinessFlowID",Ie.token[0])},formlink:e=>{},editRecord:(e,t,l)=>{rt(e,""),J(l)},Add:()=>{dt(),J(!1),Ee({type:"expandDetail",payload:"mainpanel"})},Editview:(e,t,l)=>{rt(e,""),J(l),se(!1)},CreateEasyProps:(e=!0,t)=>{setIsFetching(!0),t?(gt(t),_e(e)):(dt(),_e(e))},cardRefresh:()=>{$e.current.cardRefresh()}})));const rt=(t,l)=>{let a=t;Object.keys(a).forEach((function(e){0==a[e]&&(a[e]=null)})),Ee({type:"ViewID",payload:a.RMBDMFixonBusinessFlowIDPK}),"SetDefaultRMBDMFixonBusinessFlowID"==l?Te(a.RMBDMFixonBusinessFlowIDPK):(He(e.primid?Number(e.primid):a.RMBDMFixonBusinessFlowIDPK?a.RMBDMFixonBusinessFlowIDPK:0),Ee({type:"PrimaryId",payload:a.RMBDMFixonBusinessFlowIDPK})),Fe({type:"boolean",name:"IsDefault",boolean:a.IsDefault}),Fe({type:"text",name:"RMBDMFixonBusinessFlowCode",value:a.RMBDMFixonBusinessFlowCode?a.RMBDMFixonBusinessFlowCode:""}),Fe({type:"text",name:"RMFixonBusinessFlowName",value:a.RMFixonBusinessFlowName?a.RMFixonBusinessFlowName:""}),Fe({type:"number",name:"RMCCMComplaintHeaderID",number:a.RMCCMComplaintHeaderID?Number(a.RMCCMComplaintHeaderID):0}),Fe({type:"text",name:"RMCCMComplaintHeaderName",value:a.RMCCMComplaintHeaderName}),Fe({type:"number",name:"RMCategoryKey",number:a.RMCategoryKey}),a.IsActive&&k("1"==a.IsActive)},dt=()=>{ce([]),He(0),Te(""),Ee({type:"PrimaryId",payload:""}),Fe({type:"boolean",name:"IsDefault",boolean:!1}),Fe({type:"text",name:"RMBDMFixonBusinessFlowCode",value:""}),Fe({type:"text",name:"RMFixonBusinessFlowName",value:""}),Fe({type:"text",name:"RMCCMComplaintHeaderID",value:null}),Fe({type:"text",name:"RMCCMComplaintHeaderName",value:""}),document.getElementById("RMBDMFixonBusinessFlowRegistryRMCCMComplaintHeaderNameClear")&&document.getElementById("RMBDMFixonBusinessFlowRegistryRMCCMComplaintHeaderNameClear").click(),Fe({type:"number",name:"RMCategoryKey",number:0}),Pe(!0),Ze(!0),Oe(!0),k(!0)},ut=e=>{Re.loading(!0),Re.ConfirmAlert(null);const t=B.v.Api+"FP869S2/",l={data:[{p1:"SetDefaultRMBDMFixonBusinessFlowID"==e?"NORECORDS"!=Ne&&Ne?Ne:0:ze,p2:Bt(De.RMBDMFixonBusinessFlowCode),p3:Bt(De.RMFixonBusinessFlowName),p4:De.RMCategoryKey?Number(De.RMCategoryKey):0,p5:De.IsDefault,p6:!1,p7:"SetDefaultRMBDMFixonBusinessFlowID"==e?"SetDefault":null,p8:De.RMCCMComplaintHeaderID?De.RMCCMComplaintHeaderID:0,p9:y,p10:"SetDefaultRMBDMFixonBusinessFlowID"==e,p11:localStorage.getItem("userid"),p12:w()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:w()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((a=>{(0,c.Z)(t,l,a).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,n=new Array,s=new Array;"200"===l.code?(a.map((e=>{e&&(n.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(Re.alert({open:!0,color:"warning",message:s}),Re.loading(!1)):ct(e)):(Re.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Re.loading(!1))}))}))},ct=e=>{Pe(!0),Ze(!0),Oe(!0),Re.ConfirmAlert(null);const t=B.v.Api+"FP869S1/",l={data:[{p1:"SetDefaultRMBDMFixonBusinessFlowID"==e?"NORECORDS"!=Ne&&Ne?Ne:0:ze,p2:Bt(De.RMBDMFixonBusinessFlowCode),p3:Bt(De.RMFixonBusinessFlowName),p4:De.RMCategoryKey?Number(De.RMCategoryKey):0,p5:De.IsDefault,p6:!1,p7:"SetDefaultRMBDMFixonBusinessFlowID"==e?"SetDefault":null,p8:De.RMCCMComplaintHeaderID?De.RMCCMComplaintHeaderID:0,p9:y,p10:"SetDefaultRMBDMFixonBusinessFlowID"==e,p11:localStorage.getItem("userid"),p12:w()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:w()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((a=>{(0,u.Z)(t,l,a).then((async t=>{const l=t[0].status;200==l.code?("SetDefaultRMBDMFixonBusinessFlowID"==e?Re.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Re.alert({open:!0,color:"success",message:[l.message]}),Ee({type:"ViewID",payload:t[0].Data.IDPK}),Ee({type:"PrimaryId",payload:t[0].Data.IDPK}),await J(!0)),Re.attachmentSave(t[0].Data.IDPK),Re.loading(!1),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry")&&(document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="none")):(Re.alert({open:!0,color:"warning",message:[l.message]}),Re.loading(!1)),"SetDefaultRMBDMFixonBusinessFlowID"==e&&(_e(!0),pt(1,null,"SetDefaultRMBDMFixonBusinessFlowID",Ie.token[0]))}))}))};const mt=e=>(t,l)=>{et(!!l&&e)},pt=(t,l,a,n,s,i)=>{const o=B.v.Api+"FP869S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:"0"==De.RMCCMComplaintHeaderID?null:De.RMCCMComplaintHeaderID,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:l?"%"+l+"%":null,p17:l?"%"+l+"%":null,p18:t,p19:10,p20:a,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}},d=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});ge(!0);const u={data:d};return(0,c.Z)(o,"ClearAll"==a?u:r,"SetDefaultRMBDMFixonBusinessFlowID"==a&&n?n:Ie.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;if(s)return 1==n.length?n[0]:{};ye(1==t?e>0?n:[]:Be.concat(n)),"SetDefaultRMBDMFixonBusinessFlowID"==a&&(e>0?lt(n[0]):Te("NORECORDS")),ge(!1)}else Re.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ge(!1)}))},Dt=(t,l,a)=>{const n=B.v.Api+"FP869S3/",s={data:{p1:null,p2:"RMBDMFixonBusinessFlowCode"==a&&l?"%"+l+"%":null,p3:"RMFixonBusinessFlowName"==a&&l?"%"+l+"%":null,p4:"RMCategoryKey"==a&&l?"%"+l+"%":null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:t,p19:10,p20:"RMBDMFixonBusinessFlowID",p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}},i={data:Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(s.data).length-8?s.data[t]:null,e)),{})};ge(!0),(0,c.Z)(n,"ClearAll"==a?i:s,Ie.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;1==t?("RMBDMFixonBusinessFlowCode"==a&&Pe(e>0),"RMFixonBusinessFlowName"==a&&Ze(e>0),"RMCategoryKey"==a&&Oe(e>0),ye(n)):("RMBDMFixonBusinessFlowCode"==a&&Pe(!0),"RMFixonBusinessFlowName"==a&&Ze(!0),"RMCategoryKey"==a&&Oe(!0),ye(Be.concat(n))),ge(!1)}else Re.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ge(!1)}))},Ft=(0,a.useCallback)((async(e,t,l)=>{"text"==l?Fe({type:l,name:t,value:e}):"number"==l?Fe({type:l,name:t,number:Number(e)}):"boolean"==l?Fe({type:l,name:t,boolean:e}):"date"==l&&Fe({type:"text",name:t,value:e})}),[De]),Mt=e=>{Re.ConfirmAlert(n().createElement(M(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>gt(e),onCancel:()=>Re.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:it("Yes"),cancelBtnText:it("No"),showCancel:!0},it("Do you want to update this record?")))};function gt(e){Re.ConfirmAlert(null),K(e.IsDraft),Ee({type:"editData",payload:[e]}),Ee({type:"PrimaryId",payload:e.RMBDMFixonBusinessFlowIDPK}),He(Number(e.RMBDMFixonBusinessFlowIDPK)?Number(e.RMBDMFixonBusinessFlowIDPK):0),Fe({type:"text",name:"RMBDMFixonBusinessFlowCode",value:e.RMBDMFixonBusinessFlowCode?e.RMBDMFixonBusinessFlowCode:""}),Fe({type:"text",name:"RMFixonBusinessFlowName",value:e.RMFixonBusinessFlowName?e.RMFixonBusinessFlowName:""}),Fe({type:"number",name:"RMCCMComplaintHeaderID",number:e.RMCCMComplaintHeaderID?Number(e.RMCCMComplaintHeaderID):0}),Fe({type:"text",name:"RMCCMComplaintHeaderName",value:e.RMCCMComplaintHeaderName?e.RMCCMComplaintHeaderName:""}),Fe({type:"text",name:"RMCategoryKey",value:e.RMCategoryKey?e.RMCategoryKey:""})}const Bt=e=>"string"==typeof e?e.trim():e;return n().createElement("div",{style:{width:"100%",display:"none"},id:"RMBDMFixonBusinessFlowRegistry-MainEntry"},n().createElement("div",{className:"tabcontainer padleft5"},n().createElement("div",{className:"formcontent"},n().createElement("div",{className:"mar0"},n().createElement("div",{className:"ascardpad"},W?n().createElement("div",null,n().createElement(x.default,{ref:$e,ExpandDetailValue:!0,EntryExp:Ie.expandDetail,inboxdata:{}})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divRMBDMFixonBusinessFlowRegistry-Entry",style:{width:"100%",position:"relative"}},n().createElement(i.Z,{expanded:"mainpanel"==Ie.expandDetail},n().createElement(r.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},n().createElement("div",{className:"displayFlex backgroundLightL3 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("div",{id:"fld869L4ECdFlexEntryHeader",onClick:()=>{Re.ShowTableDiv(!1),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="none"}},n().createElement(N.aQX,{className:"BackBtnIcon"})),n().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[869]"},ze?"Edit ":"New ",ot("869"))),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},"mainpanel"===Ie.expandDetail&&!ze&&n().createElement(b.FormGroup,{row:!0},n().createElement(d.Z,{labelPlacement:"bottom",id:"fld869L4ECEntryCheckbox",control:n().createElement(h.Z,{checked:"1"==y,onChange:e=>k(e.target.checked)}),label:it(1==y?"Active":"In Active")})))),ze&&"mainpanel"===Ie.expandDetail?n().createElement("div",{className:"GridAlign",onClick:()=>{Re.AttachExpand(!0)},id:"fld869L4ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!ze},n().createElement(T.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,it("Attach")))):null,!ze&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{dt()},id:"fld869L4ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(T.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,it("Reset")))),ze?null:n().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,l,a,n){if(!(Ie.count>0))return Re.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...De};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){Pe(!0),Ze(!0),Oe(!0),Re.loading(!0),Re.ConfirmAlert(null);const l=B.v.Api+"FP869S1/",a={data:[{p1:"SetDefaultRMBDMFixonBusinessFlowID"==n?"NORECORDS"!=Ne&&Ne?Ne:0:ze,p2:Bt(De.RMBDMFixonBusinessFlowCode),p3:Bt(De.RMFixonBusinessFlowName),p4:De.RMCategoryKey?Number(De.RMCategoryKey):0,p5:De.IsDefault,p6:!0,p7:"SetDefaultRMBDMFixonBusinessFlowID"==n?"SetDefault":null,p8:De.RMCCMComplaintHeaderID?De.RMCCMComplaintHeaderID:0,p9:!1,p10:"SetDefaultRMBDMFixonBusinessFlowID"==n,p11:localStorage.getItem("userid"),p12:w()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:w()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((n=>{(0,u.Z)(l,a,n).then((l=>{const a=l[0].status;200==a.code?(t?Re.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):Re.alert({open:!0,color:"success",message:["Saved to Draft"]}),dt(),e.clrImgstate(!0),document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.display="flex",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.display="none",j(!1),Re.loading(!1),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry")&&(document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="none")):(Re.alert({open:!0,color:"warning",message:[a.message]}),Re.loading(!1))}))}))}else Re.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}()},id:"fld869L4ECDraftBtn",disabled:!1},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(A.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,it("Draft")))),"mainpanel"===Ie.expandDetail?n().createElement(D.Z,{name:ze?"Update":"Save",disabled:!1,frmctrlid:"fld869L4ECSaveBtnIsAdd",onClick:()=>{Bt(De.RMBDMFixonBusinessFlowCode)?Bt(De.RMFixonBusinessFlowName)?Re.ConfirmAlert(n().createElement(M(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:it("Are you sure?"),onConfirm:()=>ut(),onCancel:()=>Re.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:it("Yes"),cancelBtnText:it("Cancel"),showCancel:!0},it("Do you want to Save?"))):Re.alert({open:!0,color:"warning",message:[it("Please enter the")+""+ot("RMFixonBusinessFlowName")]}):Re.alert({open:!0,color:"warning",message:[it("Please enter the")+""+ot("RMBDMFixonBusinessFlowCode")]})}}):null,ze&&"mainpanel"===Ie.expandDetail?n().createElement(R.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld869L4ECCloseBtn",onClick:()=>{Re.ShowTableDiv(!1),dt(),J(!0),se(!0),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="none"}}):null))),n().createElement(o.Z,null,n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-MainBody",className:"padding paddingLeft"},n().createElement("div",{className:"display-inline-flex"},n().createElement("div",{className:"l4-side-component displayFlex"+(xe?"":"l4width")},n().createElement("div",{className:"l4-side-component"},n().createElement("div",{className:"cardl4 "+(""==Se||""==Se?"":"displayNone")},n().createElement("div",{color:"info",className:"cardheadvh"},n().createElement(m.Z,null,n().createElement(p.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement("div",{style:{padding:"15px"}},n().createElement(m.Z,{spacing:2})))),n().createElement("div",{className:"l4-side-menu "},n().createElement("div",{className:"cardhight cardl4"},n().createElement("div",null,n().createElement("div",{className:"RMBDMFixonBusinessFlowRegistry-sublink formpanel"},n().createElement("div",{className:"divacc"},n().createElement(i.Z,{expanded:"panelS1"==Xe,onChange:mt("panelS1")},n().createElement(r.Z,{className:"accpanel",expandIcon:n().createElement(E.Z,{className:"iconExpand"})},n().createElement("p",{className:"mpadd5 plinkactive"},"Primary Details")),n().createElement(o.Z,null,n().createElement(m.Z,{spacing:12},n().createElement(p.Z,{xs:12,md:12,lg:12,sm:12},n().createElement(C.Z,{"data-testid":De.RMBDMFixonBusinessFlowCode,json:S.A,SPName:"RMBDMFixonBusinessFlowRegistry",FieldName:"RMBDMFixonBusinessFlowCode",tfLabel:ot("RMBDMFixonBusinessFlowCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Mt(t),onClick:()=>{Ae&&Dt(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld869_20160",frmctrlidName:"RMBDMFixonBusinessFlowCode",fieldorder:"1",data:Be,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Be.length>0?Be[0].TotalCount:0,onChange:(e,t)=>{Ae&&Dt(e,t,"RMBDMFixonBusinessFlowCode"),Ft(t,"RMBDMFixonBusinessFlowCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:Ae,SideEntryView:!1,KeyBack:e=>{},value:De.RMBDMFixonBusinessFlowCode,loading:Me,clear:e=>{e&&(Fe({type:"text",name:"RMBDMFixonBusinessFlowCode",value:""}),Pe(!0))}})),n().createElement(p.Z,{xs:12,md:12,lg:12,sm:12},n().createElement(C.Z,{"data-testid":De.RMFixonBusinessFlowName,json:S.A,SPName:"RMBDMFixonBusinessFlowRegistry",FieldName:"RMFixonBusinessFlowName",tfLabel:ot("RMFixonBusinessFlowName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Mt(t),onClick:()=>{ke&&Dt(1,"","ClearAll"),Ze(!0)},frmctrlid:"fld869_20161",frmctrlidName:"RMFixonBusinessFlowName",fieldorder:"2",data:Be,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Be.length>0?Be[0].TotalCount:0,onChange:(e,t)=>{ke&&Dt(e,t,"RMFixonBusinessFlowName"),Ft(t,"RMFixonBusinessFlowName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ze(!0)},showList:ke,SideEntryView:!1,KeyBack:e=>{},value:De.RMFixonBusinessFlowName,loading:Me,clear:e=>{e&&(Fe({type:"text",name:"RMFixonBusinessFlowName",value:""}),Ze(!0))}})),n().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(C.Z,{json:S.A,id:De.RMCCMComplaintHeaderID,"data-testid":De.RMCCMComplaintHeaderID,value:De.RMCCMComplaintHeaderName,SPName:"RMBDMFixonBusinessFlowRegistry",FieldName:"RMCCMComplaintHeaderID",tfLabel:ot("RMCCMComplaintHeaderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ft(e,"RMCCMComplaintHeaderID","select"),onChange:(e,t)=>{pt(e,t,"RMCCMComplaintHeaderIDPK")},KeyBack:e=>{De.RMCCMComplaintHeaderID},fieldorder:"2",data:Be,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Be.length>0?Be[0].TotalCount:0,openSlide:()=>{(0,P.CreateEasy)("891",Ie,Ee,Re,Ye)},Tabledialog:()=>(AdvanceSearch("891","RMCCMComplaintHeaderID",f.RMBDMFixonBusinessFlowRegistryContext,(0,f.ContextApi)(),Ft,t),!1),loading:Me,clear:e=>{e&&De.RMCCMComplaintHeaderID}})))))),n().createElement("div",{className:"divacc",style:{display:"none"}},n().createElement(i.Z,{expanded:"panelS@number@"==Xe,onChange:mt("panelS@number@")},n().createElement(r.Z,{className:"accpanel",expandIcon:n().createElement(E.Z,{className:"iconExpand"})},n().createElement("p",{className:"mpadd5 plinkactive"},"Invisible Field")),n().createElement(o.Z,null,n().createElement(m.Z,{spacing:12},n().createElement(p.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},n().createElement(C.Z,{"data-testid":De.RMCategoryKey,json:S.A,SPName:"RMBDMFixonBusinessFlowRegistry",FieldName:"RMCategoryKey",tfLabel:ot("RMCategoryKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Mt(t),onClick:()=>{Le&&Dt(1,"","ClearAll"),Oe(!0)},frmctrlid:"fld869_20162",frmctrlidName:"RMCategoryKey",fieldorder:"2",data:Be,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Be.length>0?Be[0].TotalCount:0,onChange:(e,t)=>{Le&&Dt(e,t,"RMCategoryKey"),Ft(t,"RMCategoryKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Oe(!0)},showList:Le,SideEntryView:!1,KeyBack:e=>{},value:De.RMCategoryKey,loading:Me,clear:e=>{e&&(Fe({type:"text",name:"RMCategoryKey",value:""}),Oe(!0))}}))))))))),n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("RMBDMFixonBusinessFlowRegistrySideBar").style.width="0",void X(!1))},"×"),Q&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},ee)))))))))))))))))}))},1941:(e,t,l)=>{l.r(t),l.d(t,{ContextApi:()=>M,RMBDMFixonBusinessFlowRegistryContext:()=>F,default:()=>g});var a=l(92950),n=l.n(a),s=l(27594),i=l(45965),o=l(50665),r=l(45237),d=l(26537),u=l(30037),c=l(67698),m=l(55995),p=(l(37274),l(9175)),D=l.n(p);const F=(0,a.createContext)();function M(){const e=n().useContext(F);if(void 0===e)throw new Error("ContextApi must be used within a RMBDMFixonBusinessFlowRegistryContext.Provider");return e}const g=(0,a.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const l=(0,a.useRef)(),p=(0,r.useDispatch)(),[M,g]=(0,a.useState)(0),[B,y]=n().useReducer(u.d,u.E),w=(0,a.useRef)(),C=(0,a.useRef)(),R=(0,a.useRef)(),[I,E]=(0,a.useState)(),[x,f]=(0,a.useState)(null),[S,v]=(0,a.useState)(""),h=(0,a.useRef)(),[b,N]=(0,a.useState)([]),[T,A]=(0,a.useState)(!1);(0,a.useEffect)((()=>{p((e=>{(0,d.Z)(1).then((e=>{var t=new Array;t.push(e),y({type:"token",payload:t}),g(t.length),P(e)}))})),e.loading(!0)}),[]),(0,a.useEffect)((()=>{e.editData&&(y({type:"ShowView",payload:!0}),y({type:"PrimaryData",payload:e.editData}),l.current.editRecord(e.editData,!1,!0),y({type:"IsDraft",payload:!1}),k(!0))}),[e.editData]);const P=e=>{(0,i.Z)(e,869).then((e=>y({type:"AccessRights",payload:e})))};function k(e){y({type:"expandDetail",payload:"mainpanel"}),e?(document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.display="flex",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.display="none",y({type:"Showtable",payload:!1})):(document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.display="block",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.display="none",y({type:"Showtable",payload:!0}),w.current.tableRefresh())}return n().createElement("div",null,n().createElement(F.Provider,{value:{cstate:B,cdispatch:y,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),edit:(e,t,a)=>{return s=t,i=a,void((n=e)?(y({type:"ShowView",payload:!0}),y({type:"PrimaryData",payload:n}),s?l.current.editRecord(n,s,!1):l.current.editRecord(n,s,i),y({type:"IsDraft",payload:s}),k(!0)):(l.current.formlink(0),y({type:"ShowView",payload:!1}),k(!0),l.current.clear()));var n,s,i},add:()=>l.current.Add(),editview:e=>{l.current.Editview(e),y({type:"expandDetail",payload:"mainpanel"})},ShowTableDiv:e=>k(e),AttachExpand:e=>(C.current.AttachmentData(B.PrimaryId),void(B.ExpandTableValue?(document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.width="30%",document.getElementById("divRMBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="block",document.getElementById("RMBDMFixonBusinessFlowRegistryTbsearch").style.display="none"):(document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.width="40%",document.getElementById("divRMBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.display="block",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.width="30%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="block",document.getElementById("RMBDMFixonBusinessFlowRegistryTbsearch").style.display="none"))),openDialog:t=>e.openDialog(t),Approval:e=>A(e),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{R.current.tempsave(e,b),N([])},floatRefresh:()=>h.current.countRefresh()}},n().createElement("div",{className:"MainDivStyles displayGrid"},n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-MainDiv",className:"Maincontent",style:{paddingTop:"8px",minHeight:"100vh"}},n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{className:"width100"},n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-MainTable",className:"commonSlide",style:{width:"100%",display:"block"}},0!==M&&n().createElement(o.default,{ref:w})),n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"width100"},n().createElement(s.default,{ref:l,clrImgstate:e=>C.current.clrImgstate(e)}),n().createElement(m.Z,{ref:R,menurefID:869,fileId:"LogoImgRMBDMFixonBusinessFlowRegistry",imgloading:e=>E(e),valueIDPK:B.PrimaryId,AttachmentVal:e=>C.current.AttachmentData(e),previd:"overlayPreviewRMBDMFixonBusinessFlowRegistry",AccessRights:B.AccessRights,frmctrlid:"PvwIm_869_L4_",tempImg:e=>{B.PrimaryId?C.current.AttachmentData(B.PrimaryId):C.current.tempImg(e),N(e)},clearTempData:B.Add})),n().createElement(c.Z,{ImgAttachment:e=>{B.IsCollapse?(document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.width="50%",document.getElementById("divRMBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.display="block",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="none",document.getElementById("RMBDMFixonBusinessFlowRegistryTbsearch").style.display="block"):(document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowRegistry").style.display="none",document.getElementById("divRMBDMFixonBusinessFlowRegistry-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("RMBDMFixonBusinessFlowRegistryTbsearch").style.display="block")},menurefID:869,fileId:"AttImgRMBDMFixonBusinessFlowRegistry",imgid:"overlayimgAttRMBDMFixonBusinessFlowRegistry",valueIDPK:B.PrimaryId,PriviewData:(e,t,l,a)=>{R.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewRMBDMFixonBusinessFlowRegistry",ref:C,imgloading:I,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_869_L4_",timglist:e=>R.current.timglist(e),clearTempData:B.Add})))))),T&&n().createElement(D(),{openDialog:T,closeDialog:e=>A(e),formID:869,PrimID:B.PrimaryId,alert:(e,t,a)=>{"Approval Sent Succesfully"==e.message&&l.current.cardRefresh()},loading:t=>{e.loading(t)}})))}))},50665:(e,t,l)=>{l.r(t),l.d(t,{RMBDMFixonBusinessFlowRegistryPopUpTable:()=>_,default:()=>G}),l(95866);var a=l(92950),n=l.n(a),s=l(45237),i=l(36939),o=l(61201),r=l(50743),d=l(59009),u=l(80366),c=l(51673),m=l(90230),p=l(35025),D=l(64566),F=l(54180),M=l(47516),g=(l(14439),l(27848),l(42258)),B=l(40900),y=l(83032),w=(l(44117),l(1941));function C(e){(0,s.useSelector)((e=>e.form));const[t,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[r,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)([]),[p,D]=(0,a.useState)([]),[F,M]=(0,a.useState)([]),[C,R]=(0,a.useState)([]),[I,E]=(0,a.useState)([]),[x,f]=(0,a.useState)({id:"",type:""}),[S,v]=(0,a.useState)({}),[h,b]=(0,a.useState)(1),{cstate:N,cdispatch:T}=(0,w.ContextApi)(),[A,P]=(0,a.useState)({}),[k,Z]=(0,a.useState)(!1),[L,O]=(0,a.useState)({}),[z,H]=(0,a.useState)({current:1,pageSize:10}),[K,V]=(0,a.useState)(""),[G,_]=(0,a.useState)(""),[j,U]=(0,a.useState)({type:"RMBDMFixonBusinessFlowIDPK",params:{}});(0,a.useEffect)((()=>{e.onload&&Y(A,"RMBDMFixonBusinessFlowIDPK"),d(!1)}),[e.onload]),(0,a.useEffect)((()=>{e.refresh&&Y(j.params,"RMBDMFixonBusinessFlowIDPK")}),[e.refresh]),(0,a.useEffect)((()=>{Y(e.json,"RMBDMFixonBusinessFlowIDPK"),v(e.json),document.getElementById("RMBDMFixonBusinessFlowRegistryGridViewCard").style.width="100%"}),[e.json]);const Y=(t,a)=>{let n=B.v.Api+"FP869S5/",s={data:{p1:t&&t.RMBDMFixonBusinessFlowIDPK?t.RMBDMFixonBusinessFlowIDPK:null,p2:t&&t.RMBDMFixonBusinessFlowCode?t.RMBDMFixonBusinessFlowCode:null,p3:t&&t.RMFixonBusinessFlowName?t.RMFixonBusinessFlowName:null,p4:t&&t.RMCategoryKey?t.RMCategoryKey:null,p5:null,p6:null,p7:null,p8:t&&t.RMCCMComplaintHeaderID?t.RMCCMComplaintHeaderID:null,p9:e.Dialogview?"1":null,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:t&&t.RMCCMComplaintHeaderCode?t.RMCCMComplaintHeaderCode:null,p17:t&&t.RMCCMComplaintHeaderName?t.RMCCMComplaintHeaderName:null,p18:1,p19:10,p20:a,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};(0,c.Z)(n,s,N.token[0]).then((e=>{if(e.Output.data){let t=e.Output.data;"RMBDMFixonBusinessFlowIDPK"==a?(l(t),d(!1)):(o(t),d(!0))}}))};return n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistryGridViewCard"},n().createElement("div",{className:"GridViewChildCard"},n().createElement(y.Z,{name:K.DisplayName,count:K.Total,id:"RMBDMFixonBusinessFlowRegistryPopUpTableSchema",showSearch:e.showSearch,type:"Schema",chipdata:i,showview:k,viewcomponent:k&&n().createElement(ViewComponent,{ExpandDetailValue:!0,l4viewonly:k,data:L,editopen:function(e){O(e),document.getElementById("RMBDMFixonBusinessFlowRegistryPopUpTableSchema").style.width="0",document.getElementById("RMBDMFixonBusinessFlowRegistryPopUpTableSchema").style.padding="0",document.getElementById("RMBDMFixonBusinessFlowRegistry-ThemeSlide1").style.width="3.3%",document.getElementById("RMBDMFixonBusinessFlowRegistry-ThemeSlide1").style.background="none",document.getElementById("RMBDMFixonBusinessFlowRegistry-Floatcnt").style.width="0",document.getElementById("RMBDMFixonBusinessFlowRegistry-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}}),tablecomponent:n().createElement(g.Z,{dynamic:!0,name:CardName,tableData:i,TableVisibleItem:[],TableBodyItem:[]}),data:t,sendparams:P,getChildData:(e,t)=>{Y(S,e,z),setCardName(t.Name)},float:!0})))}var R=l(43031),I=l(110),E=l(88995),x=l(5109),f=l(868),S=l(39327),v=l(3212),h=l(24038),b=l(79352),N=l(51209),T=l(8981),A=l(86893),P=l(53854),k=l(37106),Z=l(5434),L=l(93521),O=(l(79117),l(71168)),z=l.n(O),H=l(65107),K=l(94986),V=l(15999);l(11557),window.clickFilter="";const G=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),g=(0,a.useRef)(null),y=(0,a.useRef)(null),O=((0,a.useRef)(null),(0,a.useRef)(null)),[G]=((0,s.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[_]=(0,a.useState)("869"),[j,U]=(0,a.useState)(!1),[Y,$]=(0,a.useState)(!1),[q,W]=(0,a.useState)(0),[J,Q]=(0,a.useState)(0),[X,ee]=(0,a.useState)(0),[te,le]=(0,a.useState)({current:1,pageSize:100}),[ae,ne]=(0,a.useState)(""),[se,ie]=(0,a.useState)([]),[oe,re]=(0,a.useState)({val:"",column:""}),[de,ue]=(0,a.useState)([]),[ce,me]=(0,a.useState)(!1),[pe,De]=(0,a.useState)(""),[Fe,Me]=(0,a.useState)(""),[ge,Be]=(0,a.useState)(!1),[ye,we]=(0,a.useState)(!1),[Ce,Re]=(0,a.useState)([]),[Ie,Ee]=(0,a.useState)([]),[xe,fe]=(0,a.useState)([]),[Se,ve]=(0,a.useState)(!1),[he,be]=(0,a.useState)({children:[{name:"RMBDMFixonBusinessFlowRegistry",children:[]}]}),[Ne,Te]=(0,a.useState)(!1);let Ae={RMBDMFixonBusinessFlowIDPK:"",RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMCategoryKey:"",IsDefault:"",IsDraft:"",Remarks:"",RMCCMComplaintHeaderID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RMCCMComplaintHeaderCode:"",RMCCMComplaintHeaderName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Pe,ke]=(0,a.useState)(Ae),[Ze,Le]=(0,a.useState)(Ae),[Oe,ze]=(0,a.useState)(Ae),[He,Ke]=(0,a.useState)(Ae),[Ve,Ge]=(0,a.useState)("asc"),[_e,je]=(0,a.useState)(""),[Ue,Ye]=(0,a.useState)(!1),[$e,qe]=(0,a.useState)(!0),[We,Je]=(0,a.useState)(!1),[Qe,Xe]=(0,a.useState)(!0),[et,tt]=(0,a.useState)({RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMCCMComplaintHeaderName:"",RMCategoryKey:""}),lt=(0,a.useContext)(e.context?e.context:w.RMBDMFixonBusinessFlowRegistryContext),{cstate:at,cdispatch:nt}=e.ContextApi?e.ContextApi:(0,w.ContextApi)(),[st,it]=(0,a.useState)(!1),[ot,rt]=(0,a.useState)([]),[dt,ut]=(0,a.useState)(0),[ct,mt]=(0,a.useState)(0),[pt,Dt]=(0,a.useState)({current:1,pageSize:10}),[Ft,Mt]=(0,a.useState)([]),[gt,Bt]=(0,a.useState)([]),[yt,wt]=(0,a.useState)(!1),[Ct]=(0,a.useState)(localStorage.getItem("Language")),[Rt]=(0,a.useState)(localStorage.getItem("Language")),[It,Et]=(0,a.useState)(!1),[xt,ft]=z()("869"),[St,vt]=(0,a.useState)(0);let ht={RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMCCMComplaintHeaderName:"",RMCategoryKey:""};const bt=[{columns:Ft,data:ae}];let Nt=(0,T.Z)();const Tt=e=>Nt?.[e]?Nt[e]:e,At=e=>at.language?.[e]?at.language[e]:e;(0,a.useEffect)((()=>{zt(xt)}),[xt]),(0,a.useEffect)((()=>{ye||Se||Ne?ye?Le(pe):Se?ze(pe):Ne&&Ke(pe):(ke(pe),at.token.length>0&&Pt({current:1,pageSize:100},pe,"RMBDMFixonBusinessFlowID"))}),[pe]),(0,a.useEffect)((()=>{!1===e.cardview&&Xe(e.cardview),e.Dialogview&&$(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&Lt(e.searchsafaritext,{current:te.current,pageSize:te.pageSize})}),[e.searchsafaritext]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{Lt(e,{current:1,pageSize:100})},tableRefresh:()=>{Pt(te,pe,"RMBDMFixonBusinessFlowID")}})));const Pt=(e,t,l,a,n)=>{lt.loading(!0);let s=B.v.Api+"FP869S3/",i={data:{p1:a||(t&&t.RMBDMFixonBusinessFlowIDPK?t.RMBDMFixonBusinessFlowIDPK:null),p2:t&&t.RMBDMFixonBusinessFlowCode?t.RMBDMFixonBusinessFlowCode:null,p3:t&&t.RMFixonBusinessFlowName?t.RMFixonBusinessFlowName:null,p4:t&&t.RMCategoryKey?t.RMCategoryKey:null,p5:null,p6:"DraftRMBDMFixonBusinessFlowID"==l?"1":"0",p7:null,p8:t&&t.RMCCMComplaintHeaderID?t.RMCCMComplaintHeaderID:null,p9:t&&t.IsActive,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:t&&t.RMCCMComplaintHeaderCode?t.RMCCMComplaintHeaderCode:null,p17:t&&t.RMCCMComplaintHeaderName?t.RMCCMComplaintHeaderName:null,p18:a?1:e.current,p19:e.pageSize,p20:l,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};(0,c.Z)(s,i,at.token[0]).then((a=>{if("200"==a.Output.status.code)if(a.Output.data.length>0){if(a.Output.data){let t=0;a.Output.data.length>0?(t=parseFloat(a.Output.data[0].TotalCount,10)/10,Q(a.Output.data[0].TotalCount),nt({type:"count",payload:a.Output.data[0].TotalCount}),ee(a.Output.data[0].DraftCnt)):(t=0,Q(0),nt({type:"count",payload:0}),ee(0)),10==e.pageSize?W(Math.ceil(t)):20==e.pageSize?W(Math.ceil(t/2)):50==e.pageSize?W(Math.ceil(t/5)):100==e.pageSize&&W(Math.ceil(t/10)),ue(a.Output.data),lt.loading(!1)}"DraftRMBDMFixonBusinessFlowID"===l?(Ye(!0),Be(!1)):Ye(!1)}else"DraftRMBDMFixonBusinessFlowID"===l?(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Be(!0),Ye(!1),lt.loading(!1)):(Ye(!1),ue([]),le({current:1,pageSize:100}),W(0),Q(0),lt.loading(!1),Object.values(t).some((e=>e))&&(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),document.getElementById("RMBDMFixonBusinessFlowRegistry-MainTable").style.display="block"));else lt.alert({open:!0,color:"warning",message:[a.Output.status.message]}),lt.loading(!1)}))},kt=()=>{ce?(document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.display="none",me(!1),ye?(document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):Qe?Se?(document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("RMBDMFixonBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.width="25%",document.getElementById("RMBDMFixonBusinessFlowRegistryTabDiv").style.width="75%",document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.display="block",me(!0),document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px"),Be(!1),window.clickFilter=!ce},Zt=()=>{ge?(document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.display="none",document.getElementById("RMBDMFixonBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Be(!1)):(document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.width="25%",document.getElementById("RMBDMFixonBusinessFlowRegistryTabDiv").style.width="75%",document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.display="block",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("RMBDMFixonBusinessFlowRegistrycoldiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Be(!0)),me(!1)};function Lt(e,t){lt.loading(!0);const l=B.v.Api+"FP869S4/",a={data:{p1:"%"+e+"%",p2:"0",p3:Ue?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(l,a,at.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let n=0;e.Output.data.length>0?(n=parseFloat(e.Output.data[0].TotalCount,10)/10,Q(e.Output.data[0].TotalCount),ee(e.Output.data[0].DraftCnt)):(n=0,Q(0),ee(0)),10==t.pageSize?W(Math.ceil(n)):20==t.pageSize?W(Math.ceil(n/2)):50==t.pageSize?W(Math.ceil(n/5)):100==t.pageSize&&W(Math.ceil(n/10)),ue(e.Output.data);for(var l=document.querySelectorAll("#RMBDMFixonBusinessFlowRegistryTable td"),a=0;a<l.length;++a)l.forEach((function(e,t){e.textContent.toLowerCase().includes(Fe.toLowerCase())&&Fe.length>0&&(e.style.color="#ffa502")}));lt.loading(!1)}else ue([]),le({current:1,pageSize:100}),W(0),Q(0),ee(0),lt.loading(!1),lt.alert({open:!0,color:"warning",message:["There is no Record Found"]});else lt.alert({open:!0,color:"warning",message:[e.Output.status.message]}),lt.loading(!1)}))}function Ot(e){"Table"==e?(document.getElementById("RMBDMFixonBusinessFlowRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("RMBDMFixonBusinessFlowRegistry-ShowView").classList.remove("ViewBtnAct"),we(!1),ve(!1),Te(!1)):"Grid"==e?(document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.display="none",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").style.width="35px",document.getElementById("RMBDMFixonBusinessFlowRegistryfildiv").getElementsByTagName("svg")[0].style.padding="15%",we(!0),ve(!1),Te(!1),me(!1),Be(!1),Xe(!0),document.querySelector('[data-bid="869List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Grid"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="869Tile"]').classList.remove("buttonGrpActive")):"Bubble"==e?(document.getElementById("RMBDMFixonBusinessFlowRegistry-TabView").classList.remove("ViewBtnAct"),document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowRegistryTabDiv").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowRegistryFilterDiv").style.display="none",ve(!0),we(!1),Te(!1),me(!1),Be(!1),Xe(!0)):"Share"==e?(document.getElementById("RMBDMFixonBusinessFlowRegistry-TabView").classList.remove("ViewBtnAct"),document.querySelector('[data-bid="869List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Grid"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Share"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="869Tile"]').classList.remove("buttonGrpActive"),ve(!1),we(!1),Te(!0),me(!1),Be(!1),Xe(!0)):"List"==e?(we(!1),Te(!1),Xe(!0),wt(!1),document.querySelector('[data-bid="869List"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="869Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Tile"]').classList.remove("buttonGrpActive")):"Card"==e?(Xe(!1),wt(!1),document.querySelector('[data-bid="869List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Card"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="869Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Tile"]').classList.remove("buttonGrpActive")):"Tile"==e?(wt(!0),Xe(!1),document.querySelector('[data-bid="869List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Tile"]').classList.add("buttonGrpActive")):"Show"==e&&(document.querySelector('[data-bid="869List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Tile"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="869Show"]').classList.add("buttonGrpActive"),ve(!1),we(!1),Te(!0),Xe(!0),ce&&Zt())}function zt(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,fieldname:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]}),"IsShow"==e.FieldName&&nt({type:"IsShow",payload:!0})})),nt({type:"language",payload:Object.assign({},...n)}),tt(l.reduce(((e,t)=>(e[t]="",e)),{})),Re(e),Ee(t),fe(l),Mt(a),Bt(l)}function Ht(e,t){lt.edit(e),me(!1),document.getElementById("RMBDMFixonBusinessFlowRegistry-Detail").style.width="64%",document.getElementById("RMBDMFixonBusinessFlowRegistry-Detail").style.display="block",document.getElementById("RMBDMFixonBusinessFlowRegistry-Table").style.width="35%",document.getElementById("RMBDMFixonBusinessFlowRegistry-TabView").classList.add("ViewButtonAct"),document.getElementById("RMBDMFixonBusinessFlowRegistry-GridView").classList.remove("ViewButtonAct"),document.getElementById("RMBDMFixonBusinessFlowRegistry-BubbleView").classList.remove("ViewButtonAct"),we(!1),ve(!1),Te(!1);let l={RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMCCMComplaintHeaderID:"",RMCategoryKey:""};ke(l),Pt({current:1,pageSize:100},l,"RMBDMFixonBusinessFlowID")}function Kt(e){lt.loading(!0);let t=B.v.Api+"FP869S7/",l={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(t,l,at.token[0]).then((t=>{if(200==t.Output.status.code){let l=0;t.Output.data.length>0?(l=parseFloat(t.Output.data[0].TotalCount,10)/10,mt(t.Output.data[0].TotalCount)):(l=0,mt(0)),10==e.pageSize?ut(Math.ceil(l)):20==e.pageSize?ut(Math.ceil(l/2)):50==e.pageSize?ut(Math.ceil(l/5)):100==e.pageSize&&ut(Math.ceil(l/10)),rt(t.Output.data),lt.loading(!1)}else lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),lt.loading(!1)}))}return(0,a.useEffect)((()=>{Je(e.ExpandTableValue)}),[e.ExpandTableValue]),n().createElement("div",null,n().createElement(i.Z,{expanded:$e,onChange:()=>()=>{qe(We)}},n().createElement(r.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100 L3Header"},n().createElement("div",null,n().createElement("div",{className:"displayFlex"},Ue?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("div",{id:"fld869L4TCKeyboardBackspaceRounded",onClick:()=>{Pt(te,Ae,"RMBDMFixonBusinessFlowID"),Ye(!1)}},n().createElement(f.ZP,{title:"List",placement:"top"},n().createElement(Z.aQX,{className:"BackBtnIcon"}))),n().createElement("div",{id:"fld869L4TCDraftP",onClick:()=>Pt(te,Ae,"DraftRMBDMFixonBusinessFlowID")},n().createElement(f.ZP,{title:"Draft",placement:"top"},n().createElement("p",{className:"DraftP"},"Drafts(",J,")")))):n().createElement("div",{className:"ListHeader displayFlex"},e.ExpandTableValue?$e?n().createElement(p.Z,{className:"ArrowIconsLight",onClick:()=>{qe(!1)}}):n().createElement(D.Z,{className:"ArrowIconsLight",onClick:()=>{qe(!0)}}):null,n().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[869]",onClick:()=>e.ExpandTableValue&&qe(!$e)},`${At("869")} (${Ne?St:J})`)))),n().createElement("div",null,ye||Se||Ne||Ue?null:n().createElement("div",{className:"displayFlex"},n().createElement("div",{id:"fld869L4TCSearchBar",className:"searchbar",style:{marginRight:"2%"}},n().createElement(h.Z,{className:"search_input",type:"text",id:"RMBDMFixonBusinessFlowRegistrygridsearch",placeholder:"Search",value:Fe,onChange:e=>{if(Me(e),"0"==e.length)return Pt(te,pe,Ue?"DraftRMBDMFixonBusinessFlowID":"RMBDMFixonBusinessFlowID",Ue&&"DraftPage"),!1;Lt(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},Fe?n().createElement("div",{id:"fld869L4TCInputCloseIcon",onClick:()=>{Me(""),Pt(te,pe,Ue?"DraftRMBDMFixonBusinessFlowID":"RMBDMFixonBusinessFlowID",Ue&&"DraftPage")}},n().createElement(u.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld869L4TCInputSearchIcon",onClick:()=>{Me(""),tableRefresh()}},n().createElement(E.Z,{className:"InputSearchIcon"})))),at.AccessRights.IsAdd&&n().createElement(v.Z,{disabled:!1,className:"SaveBtnCommon",name:"Add",frmctrlid:"fld869L4ECAddBtnIsAdd",onClick:()=>{lt.edit(!1),lt.add()}}))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ue&&n().createElement("div",{frmctrlid:"fld869L4TCFilterDataIsDraft",id:"RMBDMFixonBusinessFlowRegistryfildiv",className:"buttoncard",onClick:()=>{kt()}},n().createElement(f.ZP,{title:Tt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(M.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Tt("Filter Data"))),n().createElement(F.Z,{formctrlidprint:"fld869L4TCExportPrint",formctrlidexport:"fld869L4TCExportTable",formctrlidrefresh:"fld869L4TCExportRefresh",title:"869",data:se,exportData:bt,Items:gt,columnIndex:Ft,TableVisibleItem:Ie,userGridViewFormID:_,TableTotalCount:J,triggerApi:e=>{((e,t,a,n,s)=>{if(0===J)return lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;ht[t]=e,lt.loading(!0);let i=B.v.Api+"FP869S3/",o={data:{p1:e&&e.RMBDMFixonBusinessFlowIDPK?e.RMBDMFixonBusinessFlowIDPK:null,p2:e&&e.RMBDMFixonBusinessFlowCode?e.RMBDMFixonBusinessFlowCode:null,p3:e&&e.RMFixonBusinessFlowName?e.RMFixonBusinessFlowName:null,p4:e&&e.RMCategoryKey?e.RMCategoryKey:null,p5:null,p6:Ue?"1":"0",p7:null,p8:e&&e.RMCCMComplaintHeaderID?e.RMCCMComplaintHeaderID:null,p9:e&&e.IsActive,p10:null,p11:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p12:e&&e.CreatedTtm?e.CreatedTtm:null,p13:e&&e.CreatedTtmType?e.CreatedTtmType:null,p14:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p15:null,p16:e&&e.RMCCMComplaintHeaderCode?e.RMCCMComplaintHeaderCode:null,p17:e&&e.RMCCMComplaintHeaderName?e.RMCCMComplaintHeaderName:null,p18:te.current,p19:J,p20:Ue?"DraftRMBDMFixonBusinessFlowID":"RMBDMFixonBusinessFlowID",p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};lt.loading(!1),lt.alert({open:!0,color:"success",message:[`${At(869)} - ${s.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(i,o,at.token[0],s).then((e=>{(0,L.PDF_Excel_Generate)(e,lt,gt,ne,l,s)}))})(pe,oe.column,0,0,e)},Refresh:()=>{Me(""),e.draftval?(Pt({current:1,pageSize:100},Ae,"DraftRMBDMFixonBusinessFlowID"),le({current:1,pageSize:100})):(Pt({current:1,pageSize:100},Ae,"RMBDMFixonBusinessFlowID"),le({current:1,pageSize:100}),De({})),O.current&&O.current.clearItem()},disabledPrint:!at.AccessRights.IsPrint,disabledExport:!at.AccessRights.IsExport,ref:l}),!Ue&&n().createElement("div",{className:"buttoncard",onClick:()=>Et(!It)},n().createElement("span",null,It?n().createElement(f.ZP,{disableFocusListener:!0,title:"Less",placement:"top"},n().createElement("span",{id:"fld869L4TCLess"},n().createElement(P.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(f.ZP,{disableFocusListener:!0,title:"More",placement:"top"},n().createElement("span",{id:"fld869L4TCMore"},n().createElement(P.ilJ,{className:"tableFilterColumnIcon"}))))),!Ue&&It?n().createElement("div",{className:"EntryHeaderMore"},ye||Se||Ne||Ue?null:!Ue&&n().createElement("div",null,n().createElement("div",{frmctrlid:"fld869L4TCFilterDataIsAdd",id:"RMBDMFixonBusinessFlowRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Zt()}},n().createElement(f.ZP,{title:Tt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(S.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Tt("Manage Columns")))),!Ue&&j&&!ye&&!Ne&&!Y&&n().createElement("div",{frmctrlid:"fld869L4TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},n().createElement(f.ZP,{title:Tt("Migration"),placement:"top"},n().createElement("div",null,n().createElement(b.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Tt("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&n().createElement("div",null,n().createElement("div",{frmctrlid:"fld869L4TCTableScrollData",id:"RMBDMFixonBusinessFlowRegistrycoldiv",className:"buttoncard",onClick:()=>{st?it(!1):(it(!0),Kt({current:1,pageSize:100}))}},n().createElement(f.ZP,{title:Tt("Table Scroll Data"),placement:"top"},n().createElement("div",null,n().createElement(V.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},Tt("Table Scroll Data")))),at.AccessRights.IsAdd&&!Ne&&n().createElement("div",null,n().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:X,showZero:!0},n().createElement("div",{id:"fld869L4TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{Pt({current:1,pageSize:100},Ae,"DraftRMBDMFixonBusinessFlowID"),Ye(!0),Be(!1),nt({type:"IsDraft",payload:!0}),document.getElementById("RMBDMFixonBusinessFlowRegistryTabDiv").style.width="100%"}},n().createElement(f.ZP,{title:"Drafts",placement:"top"},n().createElement("div",null,n().createElement(k.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Tt("Drafts")))))):""),!Ue&&!Y&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},at.IsShow?n().createElement("div",{className:"buttonGrpUnActive buttonGrpActive","data-bid":"869Show",id:"fld869L4TCShowView",onClick:()=>{Te(!0),Ot("Show"),ShowComponent}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(A.aCJ,null)),n().createElement("span",null,Tt("Show"))):"",n().createElement("div",{className:"buttonGrpUnActive","data-bid":"869List",id:"fld869L4TCListView",onClick:()=>{Ot("List")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(P.umT,null)),n().createElement("span",null,Tt("List"))),n().createElement("div",{className:"buttonGrpUnActive","data-bid":"869Card",id:"fld869L4TCCardView",onClick:()=>{Ot("Card")}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(A.aCJ,null)),n().createElement("span",null,Tt("Card"))),n().createElement("div",{className:"buttonGrpUnActive","data-bid":"869Tile",id:"fld869L4TCTileView",onClick:()=>{Ot("Tile")},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(Z.f_H,null)),n().createElement("span",null,Tt("Tile"))))))),ye||Se||Ne?null:st?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(R.Z,{count:dt,color:"primary",page:pt.current,onChange:(e,t)=>{Dt({current:t,pageSize:pt.pageSize}),ut(t),Kt({current:t,pageSize:pt.pageSize})}}),n().createElement("div",null,n().createElement(I.Z,{value:pt.pageSize,frmctrlid:"fld869L4TCSelectPagination",onChange:e=>{Dt({current:1,pageSize:e.target.value}),Kt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),We&&n().createElement("p",{className:"per-page"},"/ per page Of (",ct,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(R.Z,{count:q,siblingCount:0,color:"primary",page:te.current,onChange:(e,t)=>{le({current:t,pageSize:te.pageSize}),Fe.length>0?Lt(Fe,{current:t,pageSize:te.pageSize}):Pt({current:t,pageSize:te.pageSize},pe,Ue?"DraftRMBDMFixonBusinessFlowID":"RMBDMFixonBusinessFlowID")}}),n().createElement("div",null,n().createElement(I.Z,{value:te.pageSize,frmctrlid:"fld869L4TCSelectPagination",onChange:e=>{le({current:1,pageSize:e.target.value}),Fe.length>0?Lt(Fe,{current:1,pageSize:e.target.value}):Pt({current:1,pageSize:e.target.value},Pe,Ue?"DraftRMBDMFixonBusinessFlowID":"RMBDMFixonBusinessFlowID")},className:"BootstrapInputStyle"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),We&&n().createElement("p",{className:"per-page"},"/ per page of (",J,") "))),n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},!Ue&&n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistryFilterDiv",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&n().createElement(m.default,{ref:y,userGrid:xt,CloseBtnClk:()=>kt(),searchData:e=>De(e),formID:_,data:()=>{},visibleData:()=>{},token:at.token[0],alertmsg:(e,t)=>lt.alert({open:!0,color:e,message:[t]}),clearTableFilter:()=>{tableRefresh()}}),ge&&!ye&&!Se&&n().createElement(x.Z,{frmctrlid:"fld869L4TCTableColumnOrder",loading:e=>lt.loading(e),AltMsg:(e,t)=>lt.alert({open:!0,color:t,message:[e]}),select:ge,userID:G,userGridViewFormID:_,saved:(e,t)=>{e&&zt(t),ft(t)},Token:at.token[0]})),n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistryTabDiv",style:{width:"100%",position:"relative",height:"66vh"}},Qe?n().createElement("div",null,ye&&n().createElement(C,{onLoad:ye,showSearch:ce,data:(e,t)=>{Ht(e)},json:Ze}),Ne&&n().createElement(ShowComponent,{ref:g,onload:Ne,showSearch:!1,showViewCount:e=>vt(e),data:(e,t)=>{Ht(e)},json:pe}),!ye&&!Ne&&n().createElement("div",null,st?n().createElement(K.Z,{data:ot,expanded:()=>{},edit:lt.edit}):n().createElement(H.Z,{ref:O,frmctrlid:"tblcs_869_L4_",id:"RMBDMFixonBusinessFlowRegistryTable",headerdata:Ie,tablesearchparams:et,searchvalue:e=>{let t={...pe,...e};tt(e),De(t),le({current:1,pageSize:100}),Pt({current:1,pageSize:100},t,Ue?"DraftRMBDMFixonBusinessFlowID":"RMBDMFixonBusinessFlowID",Ue&&"DraftPage")},bodydata:de,ondrag:(e,t)=>{lt.edit(t,Ue,!0)},bodyitem:xe,visibleitem:Ie,isdraft:Ue,action:"none",tableID:_,accessrights:at.AccessRights,expanded:()=>{},edit:lt.edit,viewtoggle:()=>at.viewtoggle,tf:At,isexpanded:!Y||We}))):n().createElement(N.Z,{frmctrlid:"fld869L4TCExpandedCardDual",data:de,id:"RMBDMFixonBusinessFlowRegistry",title:"RMFixonBusinessFlowName",cardTile:!!yt,visibleitem:Ie,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{Y?lt.select(e):("edit"==t?lt.edit(e,t):lt.edit(e,!1,!0),We&&(me(!1),Be(!1)))}})))))))})),_=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useRef)(null),[m]=((0,s.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[p,D]=z()("869"),[M,g]=(0,a.useState)(!1),[y,C]=(0,a.useState)(0),[E,x]=(0,a.useState)(0),[f,S]=(0,a.useState)({current:1,pageSize:100}),[v,h]=(0,a.useState)(""),[b,N]=(0,a.useState)([]),[A,P]=(0,a.useState)({val:"",column:""}),[k,Z]=(0,a.useState)([]),[O,K]=(0,a.useState)(!1),[V,G]=(0,a.useState)(""),[_,j]=(0,a.useState)([]),[U,Y]=(0,a.useState)([]),[$,q]=(0,a.useState)([]),W=(0,a.useContext)(w.RMBDMFixonBusinessFlowRegistryContext),{cstate:J,cdispatch:Q}=(0,w.ContextApi)();let X={RMBDMFixonBusinessFlowIDPK:"",RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMCategoryKey:"",IsDefault:"",IsDraft:"",Remarks:"",RMCCMComplaintHeaderID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RMCCMComplaintHeaderCode:"",RMCCMComplaintHeaderName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,a.useState)(!1),[le,ae]=(0,a.useState)(!0),[ne,se]=(0,a.useState)(!1),[ie,oe]=(0,a.useState)(!0),[re,de]=(0,a.useState)(0),[ue,ce]=(0,a.useState)({RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMCCMComplaintHeaderName:"",RMCategoryKey:""}),[me,pe]=(0,a.useState)([]),[De,Fe]=(0,a.useState)([]),[Me,ge]=(0,a.useState)([]),[Be,ye]=(0,a.useState)(!1),[we,Ce]=(0,a.useState)("");let Re=(0,T.Z)();const Ie=[{columns:me,data:v}];(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),Q({type:"language",payload:Object.assign({},...n)}),ce(l.reduce(((e,t)=>(e[t]="",e)),{})),j(e),Y(t),q(l),pe(a),Fe(l)}(p)}),[p]),(0,a.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Ee()},viewrecord:e=>{k.map(((t,l)=>{t.RMBDMFixonBusinessFlowIDPK==e&&Q({type:"editData",payload:[k[l]]})}))},DialogTableProps:e=>{g(e)},searchData:(t,l,a)=>{W.loading(!0),d.current&&d.current.clearItem(),Ce(a),S({current:1,pageSize:10}),X=e.ApiParamType.params,xe({current:1,pageSize:100},l,a),u.current&&u.current.clearItem()}}))),(0,a.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&g(e.Dialogview)}),[e.cardview,e.Dialogview]);const Ee=()=>{J.IsDraft?xe(f,X,"DraftRMBDMFixonBusinessFlowID"):xe(f,X,"RMBDMFixonBusinessFlowID")},xe=async(t,l,a,n)=>{if(J.token[0]){if(W.loading(!0),"DraftPage"!==n&&te(J.IsDraft),await Ce((e=>(a=e,e))),l&&Object.keys(l).length>0){let e=Object.keys(l),t={},a=[],n=Object.values(l);e.map((e=>{a.push(e.split("_")[0])}));for(let e=0;e<a.length;e++)t[a[e]]=n[e];l=t}G(l);let s=B.v.Api+`${e.ApiType}/`,i={data:{p1:l&&l.RMBDMFixonBusinessFlowIDPK?l.RMBDMFixonBusinessFlowIDPK:null,p2:l&&l.RMBDMFixonBusinessFlowCode?l.RMBDMFixonBusinessFlowCode:null,p3:l&&l.RMFixonBusinessFlowName?l.RMFixonBusinessFlowName:null,p4:l&&l.RMCategoryKey?l.RMCategoryKey:null,p5:null,p6:"DraftRMBDMFixonBusinessFlowID"==a?"1":"0",p7:null,p8:l&&l.RMCCMComplaintHeaderID?l.RMCCMComplaintHeaderID:null,p9:l&&l.IsActive,p10:null,p11:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p12:l&&l.CreatedTtm?l.CreatedTtm:null,p13:l&&l.CreatedTtmType?l.CreatedTtmType:null,p14:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p15:null,p16:l&&l.RMCCMComplaintHeaderCode?l.RMCCMComplaintHeaderCode:null,p17:l&&l.RMCCMComplaintHeaderName?l.RMCCMComplaintHeaderName:null,p18:t.current,p19:t.pageSize,p20:a,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};(0,c.Z)(s,i,J.token[0]).then((e=>{if(W.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,x(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?C(Math.ceil(l)):20==t.pageSize?C(Math.ceil(l/2)):50==t.pageSize?C(Math.ceil(l/5)):100==t.pageSize&&C(Math.ceil(l/10)),Z(e.Output.data)}}else W.alert({open:!0,color:"warning",message:[(l="There is no Record Found",Re?.[l]?Re[l]:l)]}),Z([]),C(0),x(0),Q({type:"count",payload:0});var l}))}};return(0,a.useEffect)((()=>{se(J.ExpandTableValue)}),[J.ExpandTableValue]),n().createElement("div",null,n().createElement(i.Z,{expanded:le,onChange:()=>()=>{ae(ne)}},n().createElement(r.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",E,")")))))),n().createElement(o.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(F.Z,{formctrlidprint:"fld869L4TCExportPrint",formctrlidexport:"fld869L4TCExportTable",formctrlidrefresh:"fld869L4TCExportRefresh",title:"869",data:b,exportData:Ie,Items:De,columnIndex:me,triggerApi:t=>{((t,a,n)=>{if(0===E)return W.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;W.loading(!0);let s=B.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.RMBDMFixonBusinessFlowIDPK?t.RMBDMFixonBusinessFlowIDPK:null),p2:t&&t.RMBDMFixonBusinessFlowCode?t.RMBDMFixonBusinessFlowCode:null,p3:t&&t.RMFixonBusinessFlowName?t.RMFixonBusinessFlowName:null,p4:t&&t.RMCategoryKey?t.RMCategoryKey:null,p5:null,p6:ee?"1":"0",p7:null,p8:t&&t.RMCCMComplaintHeaderID?t.RMCCMComplaintHeaderID:null,p9:t&&t.IsActive,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:t&&t.RMCCMComplaintHeaderCode?t.RMCCMComplaintHeaderCode:null,p17:t&&t.RMCCMComplaintHeaderName?t.RMCCMComplaintHeaderName:null,p18:1,p19:E,p20:we,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};var o;W.loading(!1),W.alert({open:!0,color:"success",message:[`${o="869",J.language?.[o]?J.language[o]:o} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,c.Z)(s,i,J.token[0],n).then((e=>{(0,L.PDF_Excel_Generate)(e,W,De,h,l,n)}))})(V,A.column,t)},TableVisibleItem:U,userGridViewFormID:"869",TableTotalCount:E,Refresh:()=>{xe({current:1,pageSize:100},V,we),S({current:1,pageSize:100}),u.current&&u.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!J.AccessRights.IsPrint,disabledExport:!J.AccessRights.IsExport,ref:l})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(R.Z,{count:y,siblingCount:0,color:"primary",page:f.current,onChange:(e,t)=>{if(S({current:t,pageSize:f.pageSize}),ee)xe({current:t,pageSize:f.pageSize},V,"DraftRMBDMFixonBusinessFlowID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";xe({current:t,pageSize:f.pageSize},V,"RMBDMFixonBusinessFlowID")}}}),n().createElement("div",null,n().createElement(I.Z,{value:f.pageSize,onChange:e=>{S({current:1,pageSize:e.target.value}),xe({current:1,pageSize:e.target.value},V,"RMBDMFixonBusinessFlowID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),ne&&n().createElement("p",{className:"per-page"},"/ per page Of (",E,")"))),n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"RMBDMFixonBusinessFlowRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(MUITableMulti,{ref:u,type:e.viewtype,id:"RMBDMFixonBusinessFlowRegistry",headerdata:U,tablesearchparams:ue,searchvalue:e=>{ce(e),S({current:1,pageSize:100}),xe({current:1,pageSize:100},e,ee?"DraftRMBDMFixonBusinessFlowID":"RMBDMFixonBusinessFlowID",ee&&"DraftPage")},bodydata:k,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:U,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{M?W.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?W.edit(t,l,a):W.edit(t,l,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{Z(e)},color:!0,isexpanded:!1}):n().createElement(H.Z,{frmctrlid:"tblcs_869_L4_",ref:d,id:"RMBDMFixonBusinessFlowRegistryTable",type:e.viewtype,headerdata:U,tablesearchparams:ue,searchvalue:e=>{let t={...V,...e};ce(e),G(t),S({current:1,pageSize:100}),xe(f,t,we)},bodydata:k,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:U,isdraft:ee,accessrights:J.AccessRights,expanded:()=>{},edit:(t,l,a)=>{M?W.select(t):(e.editdata(t,"view"),W.edit(t,l,1!=t.Entry))},viewtoggle:W.viewtoggle,IsSub:e.IsSub})))))))}))},90230:(e,t,l)=>{l.r(t),l.d(t,{default:()=>P}),l(95866),l(99058);var a=l(92950),n=l.n(a),s=l(80366),i=l(51673),o=l(282),r=l(868),d=l(78513),u=l(14439),c=l(27848),m=l(40900),p=l(64059),D=l(24038),F=l(8981),M=l(47516),g=l(86893),B=l(1941),y=l(33681),w=l(63163),C=(l(35131),l(61956),l(93657)),R=l(53375),I=l(52663),E=l(66083),x=l(29525),f=l(66856),S=l(39803),v=l(99940),h=l(17149),b=l(62810),N=l(30553),T=l(92381),A=l(25108);const P=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[P,k]=(0,a.useState)([]),[Z,L]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,z]=(0,a.useState)(""),[H,K]=(0,a.useState)({}),[V,G]=(0,a.useState)(!0),[_,j]=(0,a.useState)(!1),{cstate:U,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,B.ContextApi)(),[$,q]=(0,a.useState)(1),[W,J]=(0,a.useState)(0),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({}),[le,ae]=(0,a.useState)([]),[ne,se]=(0,a.useState)(!0),[ie,oe]=(0,a.useState)(!1),[re,de]=(0,a.useState)(""),[ue,ce]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(!1),[De,Fe]=(0,a.useState)(!1),[Me,ge]=(0,a.useState)(""),Be=(0,a.useRef)(null),[ye,we]=(0,a.useState)({});let Ce=localStorage.getItem("Language");const Re={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ie=(0,F.Z)();const Ee=e=>Ie[e]?Ie[e]:e,xe=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Re[Ce]];function fe(){K({}),te({}),e.searchData({}),j(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});we(l),ae(t)}),[]),(0,a.useEffect)((()=>()=>{Be.current&&Be.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{fe()}})));const Se=async(t,l,a,n)=>{X(!0);try{Be.current&&Be.current.abort();const s=new AbortController;Be.current=s;let o="",r=[],d={};await L((e=>(o=e.name,e))),await K((e=>(r=e,e))),await te((e=>(d=e,e)));const u=m.v.Api+"FP869S3/",c={data:{p1:"RMBDMFixonBusinessFlowIDPK"==l?null:await Te(),p2:"RMBDMFixonBusinessFlowCode"==o&&a.length>0?"%"+a+"%":null,p3:"RMFixonBusinessFlowName"==o&&a.length>0?"%"+a+"%":null,p4:"RMCategoryKey"==o&&a.length>0?"%"+a+"%":null,p5:null,p6:null,p7:null,p8:"RMCCMComplaintHeaderName"!=o&&r.RMCCMComplaintHeaderName?r.RMCCMComplaintHeaderName.map((e=>e.RMCCMComplaintHeaderIDPK)).toString():null,p9:e.Dialogview?"1":null,p10:null,p11:"p11"==o&&a.length>0?a:null,p12:null,p13:null,p14:null,p15:null,p16:"RMCCMComplaintHeaderCode"==o&&a.length>0?"%"+a+"%":null,p17:"RMCCMComplaintHeaderName"==o&&a.length>0?"%"+a+"%":null,p18:n||1,p19:10,p20:t,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}},p=await(0,i.Z)(u,c,e.token,"",s.signal);if(!p)return!1;const D=p.Output.status.code,F=p.Output.data;if("200"===D)if(F.length>0)if(1===n){let e=he(F,o),t=ve(e,H[o],l);k(t),J(t.length>0?t[0].TotalCount:H[o].length)}else{let e=[...P,...F],t=he(e,o);J(t.length<10?t.length:F[0].TotalCount),k(he(t,o))}else O.length>0&&k([]),J(P.length);else e.alertmsg("error",[p.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},ve=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),he=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function be(e){let t=e+"PK",l=ye[e];if(l){const e=l.flatMap((e=>H[e]?H[e].map((e=>e[t])):[]));return e.toString()}return""}const Ne=async t=>{let l="",a={};await K((e=>(l=e,e)));let n=[...le],s=[];for(let e of n){let t=l[e]?.map((e=>e.RMBDMFixonBusinessFlowIDPK)).toString();t&&s.push(t)}await te((e=>(a=e,e)));let i={RMBDMFixonBusinessFlowIDPK:s?[...new Set(s)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",RMCCMComplaintHeaderID:be("RMCCMComplaintHeaderID")};"saveFav"==t?ke("save",i):(e.searchData(i),j(!1))};async function Te(){let e={};await K((t=>(e=t,t)));let t=[...le],l=[];for(let a of t){let t=e[a]?.map((e=>e.RMBDMFixonBusinessFlowIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Ae(t,l,a,n,s,i){let o={[n]:{From:t,Type:a,To:l}},r={};te((e=>({...e,...o})));const d={...H};let u=[...le],c=[];for(let e of u){let t=d[e]?.map((e=>e.RMBDMFixonBusinessFlowIDPK)).toString();t&&c.push(t)}await te((e=>(r=e,e)));let m={RMBDMFixonBusinessFlowIDPK:c?[...new Set(c)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?s:null,RMCCMComplaintHeaderID:H.RMCCMComplaintHeaderName?.map((e=>e.RMCCMComplaintHeaderIDPK)).toString()};e.searchData(m)}function Pe(){return n().createElement(p.Z,{frmctrlid:"fld869L4TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,n)=>{Ae(e,t,l,Z.name,a)},keyboardback:()=>{j(!1),L({idpk:"",name:"",type:"",fieldidpk:""})},title:Ee(Z.name),fieldname:Z.name,save:e=>{alert(!0)}})}const ke=(t,l)=>{(0,T.Z)(t,e.formID,l,re).then((e=>{const t=e.Output.data;ge(t)}))};return n().createElement("div",null,n().createElement(I.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ue},n().createElement(E.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),n().createElement(x.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(S.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>de(e.target.value),fullWidth:!0})),n().createElement(N.Z,{style:{color:"#337ab7"},control:n().createElement(v.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(h.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>pe(e.target.checked)}),label:"Quick"}),n().createElement(N.Z,{style:{color:"#337ab7"},control:n().createElement(v.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(h.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(b.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:De,onChange:e=>Fe(e.target.checked)}),label:"Dashboard"})),n().createElement(f.Z,null,n().createElement(o.Z,{onClick:()=>{Ne("saveFav"),ce(!1)},color:"primary"},"Save"))),_?"Created Ttm"===Z.name||Z.name.includes("Date")?n().createElement(Pe,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(u.Z,null,n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},xe(Z.idpk)," (",P.length,"/",W,")")),n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(r.ZP,{title:Ee("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(s.Z,{id:"fld869L4TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{j(!1),L({idpk:"",name:"",type:"",fieldidpk:!1}),q(1)}}))),H[Z.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(o.Z,{frmctrlid:"fld869L4TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,A.log("clear fewItems",e),t))),e[Z.name]=[],Se(Z.type,Z.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},V?n().createElement(r.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(g.D7o,{className:"FilterMaximizeIcon",onClick:()=>{G(!1)}}))):n().createElement(r.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(g.dOw,{className:"FilterMaximizeIcon",onClick:()=>{G(!0)}})))),n().createElement("ul",null,H[Z.name]&&H[Z.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:V?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[Z.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[Z.name],onClick:()=>(async(e,t)=>{q(1);let l=H[Z.name].filter((t=>t!=e)),a={};await K((e=>(a=e,e))),a[Z.name]=l,K(a),k((t=>[e,...t]))})(e)},n().createElement(s.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(D.Z,{frmctrlid:"fld869L4TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:Ee("Enter ")+" "+xe(Z.idpk),onChange:e=>{z(e),Se(Z.type,Z.fieldidpk,e,1,Te())}})),n().createElement("div",{id:"fld869L4TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ne},n().createElement(r.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(y.Z,{color:"secondary"})),n().createElement("div",{id:"fld869L4TFCScrollYDefault",className:"height65 scrollYDefault"},P.length>0&&P.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[Z.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await K((e=>(a=e,e)));let n=a[Z.name];t[Z.name]=n?[...l,...n]:l,a={...a,...t},K(a),k((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(d.Z,{className:"DotIcon"}),n().createElement("span",null,e[Z.name])))),P.length+0<W&&P.length>0&&n().createElement("div",{id:"fld869L4TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{q($+1),Se(Z.type,Z.fieldidpk,"",$+1)}},n().createElement("p",null," more... ")),0===P.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:m.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(M.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",Ee("Filter")," ",re.length>0&&`(${re})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(r.ZP,{title:"Favorite List",placement:"top"},ie?n().createElement(s.Z,{className:"favlisticon",onClick:()=>{oe(!1),ge(""),fe()}}):n().createElement(C.Z,{className:"favlisticon",onClick:()=>{oe(!0),ke("select"),fe()}})),Object.keys(H).length>0&&n().createElement(r.ZP,{title:"Save Favorites",placement:"top"},n().createElement(R.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),n().createElement(r.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{fe()},id:"fld869L4TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Ee("Clear")))),n().createElement(r.ZP,{title:"",placement:"top"},n().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld869L4TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Ee("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld869L4TFCFilItems",className:"FilterItems"},!Me&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{j(!0),z(""),k([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"RMBDMFixonBusinessFlowIDPK";L({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterRMBDMFixonBusinessFlowID",fieldidpk:t}),Se(e.IsForeign?"Filter"+e.FieldName:"FilterRMBDMFixonBusinessFlowID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,xe(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,xe(e.AdminUserGridViewIDPK)),n().createElement(w.Z,{checked:"1"==ne,onChange:t=>{se(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,xe(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,H[l]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},H[l][0][l]),H[l].length>1&&n().createElement("span",{className:"RoundedDivName"},H[l][1][l]),H[l].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(H[l].length-2))))));var l})),Me&&Me.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Se("FilterRMBDMFixonBusinessFlowID",l),Ne("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}))},91615:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Qe});var a=l(92950),n=l.n(a),s=l(45237),i=l(868),o=l(3212),r=l(29800),d=l(14439),u=l(27848),c=(l(10966),l(1941)),m=(l(21392),l(51673)),p=l(40900),D=(l(77366),l(26537)),F=l(1695),M=(l(97829),l(20506),l(59067)),g=l(63957),B=l(59535),y=(l(81461),l(8981)),w=l(5434),C=l(99940),R=l(37148),I=(l(79117),l(50665),l(95866),l(36939)),E=l(61201),x=l(59009),f=(l(99058),l(80366)),S=l(282),v=l(78513),h=l(64059),b=l(24038),N=l(47516),T=l(86893),A=l(33681),P=l(63163),k=l(35131),Z=l.n(k),L=l(61956),O=l(93657),z=l(53375),H=l(52663),K=l(66083),V=l(29525),G=l(66856),_=l(39803),j=l(17149),U=l(62810),Y=l(30553),$=l(92381),q=l(25108);const W=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[s,o]=(0,a.useState)([]),[r,c]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[D,F]=(0,a.useState)(""),[M,g]=(0,a.useState)({}),[B,w]=(0,a.useState)(!0),[R,I]=(0,a.useState)(!1),{cstate:E,cdispatch:x}=e.ContextApi?e.ContextApi:ze(),[k,Z]=(0,a.useState)(1),[L,W]=(0,a.useState)(0),[J,Q]=(0,a.useState)(!1),[X,ee]=(0,a.useState)({}),[te,le]=(0,a.useState)([]),[ae,ne]=(0,a.useState)(!0),[se,ie]=(0,a.useState)(!1),[oe,re]=(0,a.useState)(""),[de,ue]=(0,a.useState)(!1),[ce,me]=(0,a.useState)(!1),[pe,De]=(0,a.useState)(!1),[Fe,Me]=(0,a.useState)(""),ge=(0,a.useRef)(null),[Be,ye]=(0,a.useState)({});let we=localStorage.getItem("Language");const Ce={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Re=(0,y.Z)();const Ie=e=>Re[e]?Re[e]:e,Ee=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ce[we]];function xe(){g({}),ee({}),e.searchData({}),I(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});ye(l),le(t)}),[]),(0,a.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{xe()}})));const fe=async(t,l,a,n)=>{Q(!0);try{ge.current&&ge.current.abort();const i=new AbortController;ge.current=i;let r="",d=[],u={};await c((e=>(r=e.name,e))),await g((e=>(d=e,e))),await ee((e=>(u=e,e)));const F=p.v.Api+"FP868S3/",B={data:{p1:"RMBDMFixonBusinessFlowDetIDPK"==l?null:await Ne(),p2:"RMBDMFixonBusinessFlowDetCode"==r&&a.length>0?"%"+a+"%":null,p3:null,p4:null,p5:e.parentId?e.parentId:"0",p6:"RMFlowDisplayName"!=r&&d.RMFlowDisplayName?d.RMFlowDisplayName.map((e=>e.RMBDMBusinessFlowIDPK)).toString():null,p7:e.Dialogview?"1":null,p8:null,p9:"p9"==r&&a.length>0?a:null,p10:null,p11:null,p12:null,p13:null,p14:"RMCCMComplaintHeaderName"!=r&&d.RMCCMComplaintHeaderName?d.RMCCMComplaintHeaderName.map((e=>e.RMCCMComplaintHeaderIDPK)).toString():null,p15:"RMCCMComplaintHeaderCode"==r&&a.length>0?"%"+a+"%":null,p16:"RMCCMComplaintHeaderName"==r&&a.length>0?"%"+a+"%":null,p17:"RMBDMFixonBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p18:"RMFixonBusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p19:"RMBDMFlowCode"==r&&a.length>0?"%"+a+"%":null,p20:"RMFlowDisplayName"==r&&a.length>0?"%"+a+"%":null,p21:n||1,p22:10,p23:t,p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}},y=await(0,m.Z)(F,B,e.token,"",i.signal);if(!y)return!1;const w=y.Output.status.code,C=y.Output.data;if("200"===w)if(C.length>0)if(1===n){let e=ve(C,r),t=Se(e,M[r],l);o(t),W(t.length>0?t[0].TotalCount:M[r].length)}else{let e=[...s,...C],t=ve(e,r);W(t.length<10?t.length:C[0].TotalCount),o(ve(t,r))}else D.length>0&&o([]),W(s.length);else e.alertmsg("error",[y.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Se=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),ve=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function he(e){let t=e+"PK",l=Be[e];if(l){const e=l.flatMap((e=>M[e]?M[e].map((e=>e[t])):[]));return e.toString()}return""}const be=async t=>{let l="",a={};await g((e=>(l=e,e)));let n=[...te],s=[];for(let e of n){let t=l[e]?.map((e=>e.RMBDMFixonBusinessFlowDetIDPK)).toString();t&&s.push(t)}await ee((e=>(a=e,e)));let i={RMBDMFixonBusinessFlowDetIDPK:s?[...new Set(s)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",RMBDMBusinessFlowID:he("RMBDMBusinessFlowID"),RMBDMFixonBusinessFlowID:he("RMBDMFixonBusinessFlowID")};"saveFav"==t?Pe("save",i):(e.searchData(i),I(!1))};async function Ne(){let e={};await g((t=>(e=t,t)));let t=[...te],l=[];for(let a of t){let t=e[a]?.map((e=>e.RMBDMFixonBusinessFlowDetIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Te(t,l,a,n,s,i){let o={[n]:{From:t,Type:a,To:l}},r={};ee((e=>({...e,...o})));const d={...M};let u=[...te],c=[];for(let e of u){let t=d[e]?.map((e=>e.RMBDMFixonBusinessFlowDetIDPK)).toString();t&&c.push(t)}await ee((e=>(r=e,e)));let m={RMBDMFixonBusinessFlowDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?s:null,RMBDMBusinessFlowID:M.RMFlowDisplayName?.map((e=>e.RMBDMBusinessFlowIDPK)).toString(),RMBDMFixonBusinessFlowID:M.RMFixonBusinessFlowName?.map((e=>e.RMBDMFixonBusinessFlowIDPK)).toString()};e.searchData(m)}function Ae(){return n().createElement(h.Z,{frmctrlid:"fld868L1TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,n)=>{Te(e,t,l,r.name,a)},keyboardback:()=>{I(!1),c({idpk:"",name:"",type:"",fieldidpk:""})},title:Ie(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const Pe=(t,l)=>{(0,$.Z)(t,e.formID,l,oe).then((e=>{const t=e.Output.data;Me(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>ue(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},n().createElement(K.Z,{id:"customized-dialog-title",onClose:()=>ue(!1)},"Add Favorite"),n().createElement(V.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(_.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:oe,onChange:e=>re(e.target.value),fullWidth:!0})),n().createElement(Y.Z,{style:{color:"#337ab7"},control:n().createElement(C.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>me(e.target.checked)}),label:"Quick"}),n().createElement(Y.Z,{style:{color:"#337ab7"},control:n().createElement(C.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>De(e.target.checked)}),label:"Dashboard"})),n().createElement(G.Z,null,n().createElement(S.Z,{onClick:()=>{be("saveFav"),ue(!1)},color:"primary"},"Save"))),R?"Created Ttm"===r.name||r.name.includes("Date")?n().createElement(Ae,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(d.Z,null,n().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ee(r.idpk)," (",s.length,"/",L,")")),n().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(i.ZP,{title:Ie("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(f.Z,{id:"fld868L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{I(!1),c({idpk:"",name:"",type:"",fieldidpk:!1}),Z(1)}}))),M[r.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(S.Z,{frmctrlid:"fld868L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await g((t=>(e=t,q.log("clear fewItems",e),t))),e[r.name]=[],fe(r.type,r.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Ie("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},B?n().createElement(i.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(T.D7o,{className:"FilterMaximizeIcon",onClick:()=>{w(!1)}}))):n().createElement(i.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(T.dOw,{className:"FilterMaximizeIcon",onClick:()=>{w(!0)}})))),n().createElement("ul",null,M[r.name]&&M[r.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:B?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[r.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{Z(1);let l=M[r.name].filter((t=>t!=e)),a={};await g((e=>(a=e,e))),a[r.name]=l,g(a),o((t=>[e,...t]))})(e)},n().createElement(f.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(b.Z,{frmctrlid:"fld868L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:D,placeholder:Ie("Enter ")+" "+Ee(r.idpk),onChange:e=>{F(e),fe(r.type,r.fieldidpk,e,1,Ne())}})),n().createElement("div",{id:"fld868L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:be},n().createElement(i.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(A.Z,{color:"secondary"})),n().createElement("div",{id:"fld868L1TFCScrollYDefault",className:"height65 scrollYDefault"},s.length>0&&s.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await g((e=>(a=e,e)));let n=a[r.name];t[r.name]=n?[...l,...n]:l,a={...a,...t},g(a),o((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(v.Z,{className:"DotIcon"}),n().createElement("span",null,e[r.name])))),s.length+0<L&&s.length>0&&n().createElement("div",{id:"fld868L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(k+1),fe(r.type,r.fieldidpk,"",k+1)}},n().createElement("p",null," more... ")),0===s.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:p.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(N.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",Ie("Filter")," ",oe.length>0&&`(${oe})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(i.ZP,{title:"Favorite List",placement:"top"},se?n().createElement(f.Z,{className:"favlisticon",onClick:()=>{ie(!1),Me(""),xe()}}):n().createElement(O.Z,{className:"favlisticon",onClick:()=>{ie(!0),Pe("select"),xe()}})),Object.keys(M).length>0&&n().createElement(i.ZP,{title:"Save Favorites",placement:"top"},n().createElement(z.Z,{className:"favlisticon",onClick:()=>{ue(!0)}})),n().createElement(i.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnApplyButton",onClick:()=>{xe()},id:"fld868L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Ie("Clear")))),n().createElement(i.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld868L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Ie("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld868L1TFCFilItems",className:"FilterItems"},!Fe&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{I(!0),F(""),o([]),W(0);let t=e.IsForeign?e.FieldName+"PK":"RMBDMFixonBusinessFlowDetIDPK";c({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterRMBDMFixonBusinessFlowDetID",fieldidpk:t}),fe(e.IsForeign?"Filter"+e.FieldName:"FilterRMBDMFixonBusinessFlowDetID",t,"",1,Ne())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ee(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),n().createElement(P.Z,{checked:"1"==ae,onChange:t=>{ne(t.target.checked),Te("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,M[l]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},M[l][0][l]),M[l].length>1&&n().createElement("span",{className:"RoundedDivName"},M[l][1][l]),M[l].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(M[l].length-2))))));var l})),Fe&&Fe.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{fe("FilterRMBDMFixonBusinessFlowDetID",l),be("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}));var J=l(54180),Q=l(43031),X=l(85639),ee=l(110),te=l(5109),le=l(88995),ae=l(50743),ne=l(61657),se=l(51209),ie=l(53854),oe=l(51649),re=l(37106),de=l(83817),ue=l(39327),ce=l(93521),me=l(71168),pe=l.n(me),De=l(65107),Fe=l(94986),Me=l(15999);l(11557),window.clickFilter="";const ge=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),r=(0,a.useRef)(null),[d]=((0,a.useRef)(null),(0,s.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[u]=(0,a.useState)("868"),[c,D]=(0,a.useState)(!1),[F,M]=(0,a.useState)(!1),[g,B]=(0,a.useState)(0),[C,R]=(0,a.useState)(0),[S,v]=(0,a.useState)(0),[h,A]=(0,a.useState)(0),[P,k]=(0,a.useState)({current:1,pageSize:100}),[Z,L]=(0,a.useState)(""),[O,z]=(0,a.useState)([]),[H,K]=(0,a.useState)({val:"",column:""}),[V,G]=(0,a.useState)([]),[_,j]=(0,a.useState)(!1),[U,Y]=(0,a.useState)(""),[$,q]=(0,a.useState)(""),[me,ge]=(0,a.useState)(!1),[Be,ye]=(0,a.useState)([]),[we,Ce]=(0,a.useState)([]),[Re,Ie]=(0,a.useState)([]),[Ee,xe]=(0,a.useState)({children:[{name:"RMBDMFixonBusinessFlowDetail",children:[]}]}),[fe,Se]=(0,a.useState)(!1),ve=(0,a.useContext)(e.context?e.context:Oe),{cstate:he,cdispatch:be}=e.ContextApi?e.ContextApi:ze();let Ne={RMBDMFixonBusinessFlowDetIDPK:"",RMBDMFixonBusinessFlowDetCode:"",IsDraft:"",Remarks:"",RMBDMFixonBusinessFlowID:"",RMBDMBusinessFlowID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RMCCMComplaintHeaderID:"",RMCCMComplaintHeaderCode:"",RMCCMComplaintHeaderName:"",RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMBDMFlowCode:"",RMFlowDisplayName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Te,Ae]=(0,a.useState)(Ne),[Pe,ke]=(0,a.useState)(Ne),[Ze,Le]=(0,a.useState)(!1),[He,Ke]=(0,a.useState)(!0),[Ve,Ge]=(0,a.useState)(!1),[_e,je]=(0,a.useState)(!0),[Ue,Ye]=(0,a.useState)({RMFlowDisplayName:"",RMFixonBusinessFlowName:"",RMBDMFixonBusinessFlowDetCode:""}),[$e,qe]=(0,a.useState)(!1),[We,Je]=(0,a.useState)([]),[Qe,Xe]=(0,a.useState)(0),[et,tt]=(0,a.useState)(0),[lt,at]=(0,a.useState)({current:1,pageSize:10}),[nt,st]=(0,a.useState)([]),[it,ot]=(0,a.useState)([]),[rt,dt]=(0,a.useState)(!1),[ut,ct]=(0,a.useState)(!1),[mt,pt]=(0,a.useState)(!1),[Dt,Ft]=(0,a.useState)(""),[Mt,gt]=pe()("868"),[Bt,yt]=(0,a.useState)({}),wt=[{columns:nt,data:Z}];let Ct=(0,y.Z)();const Rt=e=>Ct[e]?Ct[e]:e,It=e=>he.language?.[e]?he.language[e]:e;(0,a.useEffect)((()=>{bt(Mt)}),[Mt]),(0,a.useEffect)((()=>{he.token.length>0&&(e.parentId?vt(P,Ne,"RMBDMFixonBusinessFlowDetID"):G([]))}),[e.parentId]),(0,a.useEffect)((()=>{!fe&&e.parentId?vt(P,U,"RMBDMFixonBusinessFlowDetID"):fe&&ke(U)}),[U]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{Et(e)},tableRefresh:()=>{vt(P,Ne,"RMBDMFixonBusinessFlowDetID")},DialogTableProps:e=>{M(e)},HideEntryFields:e=>{pt(!0===e)}})));const Et=e=>{""==e?vt(P,Ne,Ze?"DraftRMBDMFixonBusinessFlowDetID":"RMBDMFixonBusinessFlowDetID",Ze&&"DraftPage"):ht(e,{current:1,pageSize:100}),q(e)};function xt(t){ve.loading(!0);let l=p.v.Api+"FP868S7/",a={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(l,a,he.token[0]).then((e=>{if(200==e.Output.status.code){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):l=0,10==t.pageSize?Xe(Math.ceil(l)):20==t.pageSize?Xe(Math.ceil(l/2)):50==t.pageSize?Xe(Math.ceil(l/5)):100==t.pageSize&&Xe(Math.ceil(l/10)),Je(e.Output.data),ve.loading(!1)}}))}function ft(e,t){be({type:"editData",payload:[t]}),be({type:"IsDraft",payload:Ze}),be({type:"ShowDetail",payload:!0}),ve.Expanded(!0),Ve&&ge(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&je(e.cardview),e.Dialogview&&(M(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&ht(e.searchsafaritext,{current:P.current,pageSize:P.pageSize})}),[e.searchsafaritext]);const St=()=>{ve.EditClose(!0),_?(document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("RMBDMFixonBusinessFlowDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",j(!1),_e?(F||(document.getElementById("RMBDMFixonBusinessFlowDetailcoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowDetailcoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("RMBDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("RMBDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("RMBDMFixonBusinessFlowDetailTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",j(!0),document.getElementById("RMBDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!_},vt=(t,l,a,n,s,i)=>{ve.loading(!0),"DraftPage"!==n&&Le(he.IsDraft);let o=p.v.Api+"FP868S3/",r={data:{p1:s||(l&&l.RMBDMFixonBusinessFlowDetIDPK?l.RMBDMFixonBusinessFlowDetIDPK:null),p2:l&&l.RMBDMFixonBusinessFlowDetCode?l.RMBDMFixonBusinessFlowDetCode:null,p3:"DraftRMBDMFixonBusinessFlowDetID"==a?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:l&&l.RMBDMBusinessFlowID?l.RMBDMBusinessFlowID:null,p7:l&&l.IsActive,p8:null,p9:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p10:l&&l.CreatedTtm?l.CreatedTtm:null,p11:l&&l.CreatedTtmType?l.CreatedTtmType:null,p12:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p13:null,p14:l&&l.RMCCMComplaintHeaderID?l.RMCCMComplaintHeaderID:null,p15:l&&l.RMCCMComplaintHeaderCode?l.RMCCMComplaintHeaderCode:null,p16:l&&l.RMCCMComplaintHeaderName?l.RMCCMComplaintHeaderName:null,p17:l&&l.RMBDMFixonBusinessFlowCode?l.RMBDMFixonBusinessFlowCode:null,p18:l&&l.RMFixonBusinessFlowName?l.RMFixonBusinessFlowName:null,p19:l&&l.RMBDMFlowCode?l.RMBDMFlowCode:null,p20:l&&l.RMFlowDisplayName?l.RMFlowDisplayName:null,p21:s?1:t.current,p22:t.pageSize,p23:a,p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}};(0,m.Z)(o,r,he.token[0]).then((o=>{if(s)(0,de.a)(o,be,n,i,ve);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,v(o.Output.data[0].TotalCount),A(o.Output.data[0].DraftCnt),be({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&A(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?R(Math.ceil(e)):20==t.pageSize?R(Math.ceil(e/2)):50==t.pageSize?R(Math.ceil(e/5)):100==t.pageSize&&R(Math.ceil(e/10)),G(o.Output.data),ve.loading(!1)}e.Dialogview||(document.getElementById("divRMBDMFixonBusinessFlowDetail-Entry").style.height="auto",document.getElementById("divRMBDMFixonBusinessFlowDetail-Entry").style.display="block")}else ve.loading(!1),"DraftRMBDMFixonBusinessFlowDetID"===a?(ve.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Le(!1)):(G([]),k({current:1,pageSize:10}),R(0),v(0),be({type:"count",payload:"0"}),Object.values(l).some((e=>e))&&ve.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else ve.alert({open:!0,color:"warning",message:[o.Output.status.message]}),ve.loading(!1)}))};function ht(t,l){ve.loading(!0);const a=p.v.Api+"FP868S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:l.current,p5:l.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,n,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount),be({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==l.pageSize?R(Math.ceil(t)):20==l.pageSize?R(Math.ceil(t/2)):50==l.pageSize?R(Math.ceil(t/5)):100==l.pageSize&&R(Math.ceil(t/10)),G(e.Output.data),ve.loading(!1)}else G([]),R(0),v(0),be({type:"count",payload:"0"}),ve.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ve.loading(!1);else ve.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ve.loading(!1)}))}function bt(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),be({type:"language",payload:Object.assign({},...n)}),Ye(l.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),Ce(t),Ie(l),st(a),ot(l)}const Nt=()=>fe?null:n().createElement("div",null,$e?n().createElement(Fe.Z,{data:We,expanded:e=>!F&&ve.Expanded(e),edit:(e,t,l)=>{F?ve.select(e):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:t}),be({type:"ShowDetail",payload:l}))}}):n().createElement(De.Z,{ref:r,frmctrlid:"tblcs_868_L1_",id:"RMBDMFixonBusinessFlowDetailTable",headerdata:we,tablesearchparams:Ue,searchvalue:e=>{Ye(e),Y(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};yt(t),k({current:1,pageSize:10}),vt({current:1,pageSize:10},t,Ze?"DraftRMBDMFixonBusinessFlowDetID":"RMBDMFixonBusinessFlowDetID",Ze&&"DraftPage")},bodydata:V,ondrag:ft,bodyitem:Re,visibleitem:we,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:u,showMore:!1,accessrights:he.AccessRights,expanded:e=>!F&&ve.Expanded(e),edit:(e,t,l)=>{F?ve.select(e):(Object.keys(e).map(((a,n)=>{a.includes("IDPK")&&vt(P,null,t?"DraftRMBDMFixonBusinessFlowDetID":"RMBDMFixonBusinessFlowDetID",t&&"DraftPage",e[a],l)})),ve.hideAddBtn(!0))},viewtoggle:ve.viewtoggle,isexpanded:!F||Ve,tf:It,action:F?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{Ge(he.ExpandTableValue)}),[he.ExpandTableValue]),n().createElement("div",null,!mt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld868L1ECSearchBar",className:"searchbar1"},n().createElement(b.Z,{frmctrlid:"fld868L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Rt("Search"),value:$,onChange:e=>{q(e),ve.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},$?n().createElement("div",{id:"fld868L1TCCloseIconCommonSearch",onClick:()=>{q(""),ve.searchItem("")}},n().createElement(f.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld868L1TCInputSearchIcon"},n().createElement(le.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("RMBDMFixonBusinessFlowDetailgridsearch").focus()}})))),n().createElement("div",null,he.AccessRights.IsAdd?n().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld868L1TCAddBtnIsAdd",onClick:()=>{ve.hideAddBtn(!0),be({type:"editData",payload:[]}),be({type:"ShowDetail",payload:!1}),be({type:"Add",payload:!0})}}):"")),n().createElement(I.Z,{expanded:He,onChange:()=>()=>{Ke(Ve)}},e.Dialogview&&n().createElement(ae.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[868]"},`${It("868")} (${S})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld868L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(b.Z,{frmctrlid:"fld868L1TCInputSearch",className:"search_input",type:"text",placeholder:Rt("Search"),value:$,onChange:e=>{Et(e)}}),n().createElement("div",{className:"search_icon"},$?n().createElement("div",{id:"fld868L1TCInputCloseIcon",onClick:()=>{Et("")}},n().createElement(f.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld868L1TCInputSearchIcon"},n().createElement(le.Z,{className:"InputSearchIcon"}))))))),n().createElement(E.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&n().createElement("div",{frmctrlid:"fld868L1TCFilterDataIsDraft",id:"RMBDMFixonBusinessFlowDetailfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{St()}},n().createElement(i.ZP,{title:Rt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(N.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Rt("Filter Data"))),!F&&!Ze&&!fe&&n().createElement(J.Z,{formctrlidprint:"fld868L1TCExportPrint",formctrlidexport:"fld868L1TCExportTable",formctrlidrefresh:"fld868L1TCExportRefresh",title:It("868"),data:O,exportData:wt,Items:it,columnIndex:nt,TableVisibleItem:we,userGridViewFormID:u,TableTotalCount:S,triggerApi:t=>{((t,a,n,s,i)=>{if(0===S)return ve.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;ve.loading(!0);let o=p.v.Api+"FP868S3/",r={data:{p1:t&&t.RMBDMFixonBusinessFlowDetIDPK?t.RMBDMFixonBusinessFlowDetIDPK:null,p2:t&&t.RMBDMFixonBusinessFlowDetCode?t.RMBDMFixonBusinessFlowDetCode:null,p3:Ze?"1":"0",p4:null,p5:e.parentId?Number(e.parentId):0,p6:t&&t.RMBDMBusinessFlowID?t.RMBDMBusinessFlowID:null,p7:t&&t.IsActive,p8:null,p9:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p10:t&&t.CreatedTtm?t.CreatedTtm:null,p11:t&&t.CreatedTtmType?t.CreatedTtmType:null,p12:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p13:null,p14:t&&t.RMCCMComplaintHeaderID?t.RMCCMComplaintHeaderID:null,p15:t&&t.RMCCMComplaintHeaderCode?t.RMCCMComplaintHeaderCode:null,p16:t&&t.RMCCMComplaintHeaderName?t.RMCCMComplaintHeaderName:null,p17:t&&t.RMBDMFixonBusinessFlowCode?t.RMBDMFixonBusinessFlowCode:null,p18:t&&t.RMFixonBusinessFlowName?t.RMFixonBusinessFlowName:null,p19:t&&t.RMBDMFlowCode?t.RMBDMFlowCode:null,p20:t&&t.RMFlowDisplayName?t.RMFlowDisplayName:null,p21:P.current,p22:S,p23:Ze?"DraftRMBDMFixonBusinessFlowDetID":"RMBDMFixonBusinessFlowDetID",p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}};ve.loading(!1),ve.alert({open:!0,color:"success",message:[`${It(868)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(o,r,he.token[0],i).then((e=>{(0,ce.PDF_Excel_Generate)(e,ve,it,L,l,i)}))})(U,H.column,0,0,t)},Refresh:()=>{q(""),k({current:1,pageSize:100}),r.current.clearItem(),he.IsDraft?vt({current:1,pageSize:100},Ne,"DraftRMBDMFixonBusinessFlowDetID"):vt({current:1,pageSize:100},Ne,"RMBDMFixonBusinessFlowDetID")},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:l,iconinfo:"displayNone"}),!Ze&&!fe&&!F&&n().createElement("div",{className:"buttoncard",onClick:()=>ct(!ut)},n().createElement("span",null,ut?n().createElement(i.ZP,{disableFocusListener:!0,title:Rt("Less"),placement:"top"},n().createElement("span",{id:"fld868L1TCLess"},n().createElement(ie.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(i.ZP,{disableFocusListener:!0,title:Rt("More"),placement:"top"},n().createElement("span",{id:"fld868L1TCMore"},n().createElement(ie.ilJ,{className:"tableFilterColumnIcon"}))))),ut?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},fe||!Ve?null:F||!he.AccessRights.IsAdd||Ze?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld868L1TCFilterDataIsAdd",id:"RMBDMFixonBusinessFlowDetailcoldiv",className:"buttoncard",onClick:()=>{ve.EditClose(!0),me?(document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowDetailTabDiv").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv").style.display="none",document.getElementById("RMBDMFixonBusinessFlowDetailcoldiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv").style.width="25%",document.getElementById("RMBDMFixonBusinessFlowDetailTabDiv").style.width="75%",document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv").style.display="block",document.getElementById("RMBDMFixonBusinessFlowDetailfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowDetailfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("RMBDMFixonBusinessFlowDetailcoldiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowDetailcoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),j(!1)}},n().createElement(i.ZP,{title:Rt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(ue.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Rt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!F&&Ve&&!fe&&!Ze&&n().createElement("div",null,n().createElement("div",{id:"RMBDMFixonBusinessFlowDetailcoldiv",className:"buttoncard",onClick:()=>{$e?qe(!1):(qe(!0),xt({current:1,pageSize:100}))}},n().createElement(i.ZP,{title:Rt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld868L1TCTableScrollData"},n().createElement(Me.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Rt("Table Scroll Data")))),!fe&&Ze?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{ve.hideAddBtn(!1),ve.ExpandEntry(),vt({current:1,pageSize:100},Ne,"RMBDMFixonBusinessFlowDetID"),Le(!1),q(""),be({type:"IsDraft",payload:!1}),k({current:1,pageSize:10})}},n().createElement(i.ZP,{title:Rt("List"),placement:"top"},n().createElement("div",{id:"fld868L1TCList"},n().createElement(oe.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Rt("Drafts")," ",S)):!F&&!fe&&he.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(x.Z,{color:"secondary",className:"badge",max:999,badgeContent:h,showZero:!0},n().createElement("div",{id:"fld868L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{h>0?(k({current:1,pageSize:100}),B(0),ve.clear(),q(""),be({type:"Add",payload:!1}),vt({current:1,pageSize:10},Ne,"DraftRMBDMFixonBusinessFlowDetID"),Le(!0),be({type:"IsDraft",payload:!0}),ge(!1),je(!0),document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowDetailTabDiv").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetailFilterDiv").style.display="none",k({current:1,pageSize:100}),Se(!1)):ve.alert({open:!0,color:"warning",message:[Rt("There is no Record Found")]})}},n().createElement(i.ZP,{title:Rt("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(re.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Rt("Drafts"))))))):""),!Ze&&!F&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},fe||Ze?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld868L1TCListView",onClick:()=>{je(!0),dt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ie.umT,null)),n().createElement("span",null,Rt("List"))),n().createElement("div",{className:_e||rt?"buttonGrid":"buttonList",id:"fld868L1TCCardView",onClick:()=>{je(!1),dt(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(T.aCJ,null)),n().createElement("span",null,Rt("Card"))),n().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld868L1TCTileView",onClick:()=>{dt(!0),je(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(w.f_H,null)),n().createElement("span",null,Rt("Tile"))))))),fe?null:$e?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{style:{color:"#777"},id:"fld868L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:g,onPageChange:(e,t)=>{B(t),xt({current:t+1,pageSize:lt.pageSize}),at({current:t+1,pageSize:lt.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(Q.Z,{count:Qe,color:"primary",page:lt.current,onChange:(e,t)=>{at({current:t,pageSize:lt.pageSize}),Xe(t),xt({current:t,pageSize:lt.pageSize})}}),n().createElement("div",null,n().createElement(ee.Z,{className:"BootstrapInputStyle",value:lt.pageSize,frmctrlid:"fld868L1TCSelectPagination",onChange:e=>{at({current:1,pageSize:e.target.value}),xt({current:1,pageSize:e.target.value})}},n().createElement(X.Z,{value:10},"10"),n().createElement(X.Z,{value:20},"20"),n().createElement(X.Z,{value:50},"50"),n().createElement(X.Z,{value:100},"100"))),Ve&&n().createElement("p",{className:"per-page"},"/ ",Rt("RowperpageOf")," (",et,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{style:{color:"#777"},id:"fld868L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(S),page:g,onPageChange:(e,t)=>{B(t),vt({current:t+1,pageSize:P.pageSize},Ne,Ze?"DraftRMBDMFixonBusinessFlowDetID":"RMBDMFixonBusinessFlowDetID",Ze&&"DraftPage"),k({current:t+1,pageSize:P.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(Q.Z,{count:C,siblingCount:0,color:"primary",page:P.current,onChange:(e,t)=>{if(k({current:t,pageSize:P.pageSize}),Ze)vt({current:t,pageSize:P.pageSize},Te,"DraftRMBDMFixonBusinessFlowDetID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";$.length>0?ht($,{current:t,pageSize:P.pageSize}):vt({current:t,pageSize:P.pageSize},Te,"RMBDMFixonBusinessFlowDetID")}}}),n().createElement("div",null,n().createElement(ee.Z,{className:"BootstrapInputStyle",value:P.pageSize,id:"fld868L1TCSelectPaging",onChange:e=>{k({current:1,pageSize:e.target.value}),Ze?vt({current:1,pageSize:e.target.value},Te,"DraftRMBDMFixonBusinessFlowDetID","DraftPage"):$.length>0?ht($,{current:1,pageSize:e.target.value}):vt({current:1,pageSize:e.target.value},Te,"RMBDMFixonBusinessFlowDetID")}},n().createElement(X.Z,{value:10},"10"),n().createElement(X.Z,{value:20},"20"),n().createElement(X.Z,{value:50},"50"),n().createElement(X.Z,{value:100},"100"))),Ve&&n().createElement("p",{className:"per-page"},"/ ",Rt("RowperpageOf")," (",S,") "))),n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"RMBDMFixonBusinessFlowDetailFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},_&&n().createElement(W,{parentId:e.parentId,searchData:e=>{Y(e||Bt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:u,data:()=>{},visibleData:()=>{},token:he.token[0],CloseBtnClk:()=>St(),userGrid:Mt,msg:(e,t)=>ve.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),me&&n().createElement(te.Z,{Refresh:e=>{vt({current:1,pageSize:100},Ne,"RMBDMFixonBusinessFlowDetID")},frmctrlid:"fld868L1TCTableColumnOrder",loading:e=>ve.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>ve.alert({open:!0,color:t,message:[e]}),select:me,userID:d,userGridViewFormID:u,saved:(e,t)=>{e&&bt(t),gt(t),be({type:"showTableview",payload:t})},Token:he.token[0]})),n().createElement("div",{id:"RMBDMFixonBusinessFlowDetailTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?n().createElement(Nt,null):n().createElement(se.Z,{frmctrlid:"fld868L1TCExpandedCardDual",data:V,id:"RMBDMFixonBusinessFlowDetail",title:"RMBDMFixonBusinessFlowDetCode",cardTile:!!rt,visibleitem:we,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{F?ve.select(e):("edit"==t?(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Ze}),be({type:"ShowDetail",payload:!1}),ve.Expanded(!0)):(be({type:"editData",payload:[e]}),be({type:"IsDraft",payload:Ze}),be({type:"ShowDetail",payload:!0}),ve.Expanded(!0),ve.viewtoggle()),_?j(!0):me?ge(!0):(ge(!1),ge(!1))),ve.hideAddBtn(!0)}})))))))}));l(44528);var Be=l(99090),ye=l(61924),we=l.n(ye),Ce=(l(40826),l(55490)),Re=l(92371);const Ie={EnterKeyValues:{RMBDMFixonBusinessFlowDetail:["RMFlowDisplayName","RMFixonBusinessFlowName","RMBDMFixonBusinessFlowDetCode"]},Label:{RMBDMFixonBusinessFlowDetail:{RMBDMBusinessFlowID:["RMBDMFlowCode","RMFlowDisplayName"],RMBDMFixonBusinessFlowID:["RMBDMFixonBusinessFlowDetCode"],RMBDMFixonBusinessFlowDetCode:["RMBDMFixonBusinessFlowDetCode"]}},LabelHeader:{RMBDMFixonBusinessFlowDetail:{RMBDMBusinessFlowID:["Code","Name"],RMBDMFixonBusinessFlowID:["RMBDMFixonBusinessFlowDetCode"],RMBDMFixonBusinessFlowDetCode:["RMBDMFixonBusinessFlowDetCode"]}},Property:{RMBDMFixonBusinessFlowDetail:{RMBDMBusinessFlowID:{id:"fld868_20152",clearID:"RMBDMFixonBusinessFlowDetailRMFlowDisplayNameClear",type:"select",labelID:"RMBDMBusinessFlowIDPK",labelname:"Business Flow",fielddisplayname:"RMFlowDisplayName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},RMBDMFixonBusinessFlowID:{id:"fld868_20151",clearID:"RMBDMFixonBusinessFlowDetailRMFixonBusinessFlowNameClear",type:"select",labelID:"RMBDMFixonBusinessFlowIDPK",labelname:"RMBDMFixonBusinessFlowID",fielddisplayname:"RMFixonBusinessFlowName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},RMBDMFixonBusinessFlowDetCode:{id:"fld868_20148",labelID:"RMBDMFixonBusinessFlowDetCode",maxLength:"50",labelname:"RMBDMFixonBusinessFlowDetCode",frmctrlid:"fld868_20148",frmctrlidname:"RMBDMFixonBusinessFlowDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{RMBDMFixonBusinessFlowDetail:{RMBDMBusinessFlowID:["RMBDMFlowCode","RMFlowSeqNo"],RMBDMFixonBusinessFlowID:["RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName"]}}};var Ee=l(6562),xe=l(45155),fe=l(79352),Se=(l(49174),l(38773),l(19089),l(16233)),ve=l.n(Se);l(82729),l(75355),l(11107);const he={RMBDMFixonBusinessFlowDetIDPK:"",RMBDMFixonBusinessFlowDetCode:"",IsDraft:!1,Remarks:"",RMBDMFixonBusinessFlowID:null,RMBDMBusinessFlowID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RMCCMComplaintHeaderID:null,RMCCMComplaintHeaderCode:"",RMCCMComplaintHeaderName:"",RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMBDMFlowCode:"",RMFlowDisplayName:"",Type:"RMBDMFixonBusinessFlowDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},be=(0,a.forwardRef)(((e,t)=>{const l=(0,s.useSelector)((e=>e.form)),[i,o]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!0),[M,g]=(0,a.useState)(!1),[B,w]=(0,a.useState)(!1),[C,x]=(0,a.useState)(""),[f,S]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),[b,N]=(0,a.useState)(null),[T,A]=(0,a.useReducer)(Re.Z,he),[k,O]=(0,a.useState)(!1),[z,H]=(0,a.useState)([]),[K,V]=(0,a.useState)(!1),G=(0,a.useContext)(e.context?e.context:Oe),{cstate:_,cdispatch:j}=e.ContextApi?e.ContextApi:ze(),[U,$]=(0,a.useState)(0),[q,W]=(0,a.useState)(""),J=(0,a.useRef)(null),[Q,X]=ve()("868"),[ee,te]=(0,a.useState)(!0),[le,ne]=(0,a.useState)(!1);let se=(0,y.Z)();const[ie,oe]=(0,a.useState)({}),re=e=>se[e]?se[e]:e,de=t=>_.language?.[t]?_.language[t]:e.createEasy?ie?.[t]:t;(0,a.useEffect)((()=>{_.PrimaryId&&$(Number(_.PrimaryId))}),[_.PrimaryId]),(0,a.useEffect)((()=>{ce()}),[]),(0,a.useEffect)((()=>{ce()}),[e.parentId]),(0,a.useEffect)((()=>{_.editData.length>0?(ue(_.editData[0],""),g(!0)):_.Add&&(ce(),g(!0))}),[_.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),oe(Object.assign({},...t))}(Q)}),[Q]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{ce()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(Ne(t),g(e)):(ce(),g(e))},AddOpen:e=>{ce(),g(!0)}})));const ue=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),w(t.IsDraft),"SetDefaultRMBDMFixonBusinessFlowDetID"==l?W(t.RMBDMFixonBusinessFlowDetIDPK):($(e.primid?Number(e.primid):t.RMBDMFixonBusinessFlowDetIDPK?t.RMBDMFixonBusinessFlowDetIDPK:0),j({type:"PrimaryId",payload:t.RMBDMFixonBusinessFlowDetIDPK})),A({type:"number",name:"RMBDMBusinessFlowID",number:t.RMBDMBusinessFlowID?Number(t.RMBDMBusinessFlowID):0}),A({type:"text",name:"RMFlowDisplayName",value:t.RMFlowDisplayName}),A({type:"number",name:"RMBDMFixonBusinessFlowID",number:t.RMBDMFixonBusinessFlowID?Number(t.RMBDMFixonBusinessFlowID):0}),A({type:"text",name:"RMFixonBusinessFlowName",value:t.RMFixonBusinessFlowName}),A({type:"text",name:"RMBDMFixonBusinessFlowDetCode",value:t.RMBDMFixonBusinessFlowDetCode?t.RMBDMFixonBusinessFlowDetCode:""}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},ce=()=>{h([]),$(0),W(""),e.createEasy||G.resetImg(),j({type:"PrimaryId",payload:""}),A({type:"text",name:"RMBDMBusinessFlowID",value:null}),A({type:"text",name:"RMFlowDisplayName",value:""}),document.getElementById("RMBDMFixonBusinessFlowDetailRMFlowDisplayNameClear")&&document.getElementById("RMBDMFixonBusinessFlowDetailRMFlowDisplayNameClear").click(),A({type:"text",name:"RMBDMFixonBusinessFlowID",value:null}),A({type:"text",name:"RMFixonBusinessFlowName",value:""}),document.getElementById("RMBDMFixonBusinessFlowDetailRMFixonBusinessFlowNameClear")&&document.getElementById("RMBDMFixonBusinessFlowDetailRMFixonBusinessFlowNameClear").click(),A({type:"text",name:"RMBDMFixonBusinessFlowDetCode",value:""}),c(!0),x(""),te(!0)},me=t=>{G.loading(!0),G.ConfirmAlert(null);const l=p.v.Api+"FP868S2/",a={data:[{p1:"SetDefaultRMBDMFixonBusinessFlowDetID"==t?"NORECORDS"!=q&&q?q:0:U,p2:Te(T.RMBDMFixonBusinessFlowDetCode),p3:!1,p4:"SetDefaultRMBDMFixonBusinessFlowDetID"==t?"SetDefault":null,p5:e.parentId?Number(e.parentId):T.RMBDMFixonBusinessFlowID?T.RMBDMFixonBusinessFlowID:0,p6:T.RMBDMBusinessFlowID?T.RMBDMBusinessFlowID:0,p7:r,p8:"SetDefaultRMBDMFixonBusinessFlowDetID"==t,p9:localStorage.getItem("userid"),p10:Z()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,m.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,n=new Array,s=new Array;"200"===l.code?(a.map((e=>{e&&(n.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:s}),G.loading(!1)):(t=>{te(!0),G.loading(!0),G.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const l=p.v.Api+"FP868S1/",a={data:[{p1:U,p2:Te(T.RMBDMFixonBusinessFlowDetCode),p3:!1,p4:null,p5:e.parentId?Number(e.parentId):T.RMBDMFixonBusinessFlowID?T.RMBDMFixonBusinessFlowID:0,p6:T.RMBDMBusinessFlowID?T.RMBDMBusinessFlowID:0,p7:r,p8:!1,p9:localStorage.getItem("userid"),p10:Z()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,L.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(G.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail"),G.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK)),ce(),_.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail")&&(document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail").style.display="none",document.getElementById("divRMBDMFixonBusinessFlowDetail-Entry").style.width="100%"),e.createEasy||(document.getElementById("RMBDMFixonBusinessFlowDetail-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1)),g(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function pe(t,l,a,n){if(!(_.count>0))return G.alert({open:!0,color:"warning",message:[re("Please save atleast one record")]}),!1;if(!((()=>{const e={...T};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return G.alert({open:!0,color:"warning",message:[re("Please enter the primary fields")]}),!1;{te(!0),G.loading(!0),G.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const l=p.v.Api+"FP868S1/",a={data:[{p1:"SetDefaultRMBDMFixonBusinessFlowDetID"==n?"NORECORDS"!=q&&q?q:0:U,p2:Te(T.RMBDMFixonBusinessFlowDetCode),p3:!0,p4:"SetDefaultRMBDMFixonBusinessFlowDetID"==n?"SetDefault":null,p5:e.parentId?Number(e.parentId):T.RMBDMFixonBusinessFlowID?T.RMBDMFixonBusinessFlowID:0,p6:T.RMBDMBusinessFlowID?T.RMBDMBusinessFlowID:0,p7:!1,p8:"SetDefaultRMBDMFixonBusinessFlowDetID"==n,p9:localStorage.getItem("userid"),p10:Z()().format("YYYY-MM-DD hh:mm:ss"),p11:localStorage.getItem("userid"),p12:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((n=>{(0,L.Z)(l,a,n).then((l=>{const a=l[0].status;200==a.code?(t?G.alert({open:!0,color:"warning",message:[re("Deleted Successfully")]}):G.alert({open:!0,color:"success",message:[re("Saved to Draft")]}),G.loading(!1),G.attachmentSave(l[0].Data.IDPK),ce(),G.RefreshTable(),e.clrImgstate(!0)):(G.alert({open:!0,color:"warning",message:[a.message]}),G.loading(!1))}))}))}}function De(e){return CreateEasy(e,_,j,G,J),!1}function Fe(e,l){return AdvanceSearch(e,l,Oe,ze(),ye,t),!1}const Me=(t,l,a,n,s,i)=>{const o=p.v.Api+"FP868S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:e.parentId?Number(e.parentId):0,p6:"0"==T.RMBDMBusinessFlowID?null:T.RMBDMBusinessFlowID,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:"0"==T.RMCCMComplaintHeaderID?null:T.RMCCMComplaintHeaderID,p15:l?"%"+l+"%":null,p16:l?"%"+l+"%":null,p17:l?"%"+l+"%":null,p18:l?"%"+l+"%":null,p19:l?"%"+l+"%":null,p20:l?"%"+l+"%":null,p21:t,p22:10,p23:a,p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}},d=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const u={data:d};return(0,m.Z)(o,"ClearAll"==a?u:r,"SetDefaultRMBDMFixonBusinessFlowDetID"==a&&n?n:_.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;if(s)return 1==n.length?n[0]:{};H(1==t?e>0?n:[]:z.concat(n)),"SetDefaultRMBDMFixonBusinessFlowDetID"==a&&(e>0?ue(n[0],"SetDefaultRMBDMFixonBusinessFlowDetID"):W("NORECORDS")),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ge=(t,a,n)=>{const s=p.v.Api+"FP868S3/",i={data:{p1:null,p2:"RMBDMFixonBusinessFlowDetCode"==n&&a?"%"+a+"%":null,p3:null,p4:null,p5:l.RMBDMFixonBusinessFlowRegistryRMBDMFixonBusinessFlowID?l.RMBDMFixonBusinessFlowRegistryRMBDMFixonBusinessFlowID:"0",p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:t,p22:10,p23:"RMBDMFixonBusinessFlowDetID",p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};O(!0),(0,m.Z)(s,"ClearAll"==n?o:i,_.token[0]).then((e=>{const l=e.Output.status.code,a=e.Output.data;if("200"==l){const e=a.length;1==t?("RMBDMFixonBusinessFlowDetCode"==n&&te(e>0),H(a)):("RMBDMFixonBusinessFlowDetCode"==n&&te(!0),H(z.concat(a))),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ye=(0,a.useCallback)((async(e,t,l)=>{"text"==l?A({type:l,name:t,value:e}):"number"==l?A({type:l,name:t,number:Number(e)}):"boolean"==l?A({type:l,name:t,boolean:e}):"date"==l?A({type:"text",name:t,value:e}):"select"==l&&"RMBDMBusinessFlowID"==t&&(A({type:"text",name:"RMBDMBusinessFlowID",value:e.RMBDMBusinessFlowIDPK?e.RMBDMBusinessFlowIDPK:null}),A({type:"text",name:"RMFlowDisplayName",value:e.RMFlowDisplayName?e.RMFlowDisplayName:null}))}),[T]);function Se(e){if("RMBDMBusinessFlowID"==e){if(!T.RMBDMBusinessFlowID)return!1;A({type:"text",name:"RMBDMBusinessFlowID",value:null}),A({type:"text",name:"RMFlowDisplayName",value:""}),document.getElementById("RMBDMFixonBusinessFlowDetailRMFlowDisplayNameClear")&&document.getElementById("RMBDMFixonBusinessFlowDetailRMFlowDisplayNameClear").click()}else if("RMBDMFixonBusinessFlowID"==e&&!T.RMBDMFixonBusinessFlowID)return!1}function be(e){if("RMBDMBusinessFlowID"==e){if(!T.RMBDMBusinessFlowID)return!1;A({type:"text",name:"RMBDMBusinessFlowID",value:null})}else if("RMBDMFixonBusinessFlowID"==e&&!T.RMBDMFixonBusinessFlowID)return!1}function Ne(e){G.ConfirmAlert(null),w(e.IsDraft),$(Number(e.RMBDMFixonBusinessFlowDetIDPK)?Number(e.RMBDMFixonBusinessFlowDetIDPK):0),A({type:"number",name:"RMBDMBusinessFlowID",number:e.RMBDMBusinessFlowID?Number(e.RMBDMBusinessFlowID):0}),A({type:"text",name:"RMFlowDisplayName",value:e.RMFlowDisplayName?e.RMFlowDisplayName:""}),A({type:"number",name:"RMBDMFixonBusinessFlowID",number:e.RMBDMFixonBusinessFlowID?Number(e.RMBDMFixonBusinessFlowID):0}),A({type:"text",name:"RMFixonBusinessFlowName",value:e.RMFixonBusinessFlowName?e.RMFixonBusinessFlowName:""}),A({type:"text",name:"RMBDMFixonBusinessFlowDetCode",value:e.RMBDMFixonBusinessFlowDetCode?e.RMBDMFixonBusinessFlowDetCode:""})}const Te=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(I.Z,{expanded:M,onChange:e=>{}},n().createElement(ae.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},M&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[868]"}," ",re("Add "),de("868")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(Ee.Z,{row:!0},n().createElement(Y.Z,{labelPlacement:"bottom",id:"fld868L1ECEntryCheckbox",control:n().createElement(P.Z,{checked:"1"==r,onChange:e=>c(e.target.checked)}),label:re(1==r?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld868L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(xe.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,re("Attach")))),!U&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ce()},id:"fld868L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(xe.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,re("Reset")))),"1"===B&&U&&n().createElement(Be.Z,{frmctrlid:"fld868L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{pe("draftdel")}}),U&&"1"!==B||e.createEasy?null:_.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{pe()},frmctrlid:"fld868L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(fe.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,re("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?n().createElement(F.Z,{frmctrlid:"fld868L1ECSaveBtnIsAdd",name:re(U?"Update":"Save"),disabled:!1,onClick:()=>{T.RMBDMBusinessFlowID&&0!=T.RMBDMBusinessFlowID?e.parentId&&0!=e.parentId?G.ConfirmAlert(n().createElement(we(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:re("Are you sure?"),onConfirm:()=>me(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("Cancel"),showCancel:!0},re(U?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("RMBDMFixonBusinessFlowID")]}):G.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("RMBDMBusinessFlowID")]})}}):null,!e.createEasy&&n().createElement(R.Z,{frmctrlid:"fld868L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ce(),g(!1),G.EditClose(!0),G.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(E.Z,null,n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(d.Z,{spacing:2},n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Ce.Z,{json:Ie,id:T.RMBDMBusinessFlowID,"data-testid":T.RMBDMBusinessFlowID,value:T.RMFlowDisplayName,SPName:"RMBDMFixonBusinessFlowDetail",FieldName:"RMBDMBusinessFlowID",tfLabel:de("RMBDMBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ye(e,"RMBDMBusinessFlowID","select"),onChange:(e,t)=>{Me(e,t,"RMBDMBusinessFlowIDPK")},KeyBack:e=>{be("RMBDMBusinessFlowID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{De("864")},Tabledialog:()=>Fe("864","RMBDMBusinessFlowID"),loading:k,clear:e=>{e&&Se("RMBDMBusinessFlowID")}})),n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ce.Z,{json:Ie,id:T.RMBDMFixonBusinessFlowID,"data-testid":T.RMBDMFixonBusinessFlowID,value:T.RMFixonBusinessFlowName,SPName:"RMBDMFixonBusinessFlowDetail",FieldName:"RMBDMFixonBusinessFlowID",tfLabel:de("RMBDMFixonBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ye(e,"RMBDMFixonBusinessFlowID","select"),onChange:(e,t)=>{Me(e,t,"RMBDMFixonBusinessFlowIDPK")},KeyBack:e=>{be("RMBDMFixonBusinessFlowID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{De("869")},Tabledialog:()=>Fe("869","RMBDMFixonBusinessFlowID"),loading:k,clear:e=>{e&&Se("RMBDMFixonBusinessFlowID")}})),n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ce.Z,{"data-testid":T.RMBDMFixonBusinessFlowDetCode,json:Ie,SPName:"RMBDMFixonBusinessFlowDetail",FieldName:"RMBDMFixonBusinessFlowDetCode",tfLabel:de("RMBDMFixonBusinessFlowDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{G.ConfirmAlert(n().createElement(we(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ne(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("No"),showCancel:!0},re("Do you want to update this record?")))})(t),onClick:()=>{ee&&ge(1,"","ClearAll"),te(!0)},frmctrlid:"fld868_20148",frmctrlidName:"RMBDMFixonBusinessFlowDetCode",fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ee&&ge(e,t,"RMBDMFixonBusinessFlowDetCode"),ye(t,"RMBDMFixonBusinessFlowDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:T.RMBDMFixonBusinessFlowDetCode,loading:k,clear:e=>{e&&(A({type:"text",name:"RMBDMFixonBusinessFlowDetCode",value:""}),te(!0))}})))),n().createElement("div",{id:"RMBDMFixonBusinessFlowDetailSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("RMBDMFixonBusinessFlowDetailSideBar").style.width="0",void S(!1))},"×"),f&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))}));var Ne=l(65197);const Te=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[i,d]=((0,s.useSelector)((e=>e.form)),(0,a.useState)([])),[u,c]=(0,a.useState)(!0),[F,M]=(0,a.useState)(e.showDetail),[g,B]=(0,a.useState)(""),[w,C]=n().useState(!1),[x,f]=n().useState(""),[S,v]=n().useState(!1),h=(0,a.useContext)(Oe),{cstate:b,cdispatch:N}=ze(),[T,A]=(0,a.useState)(!1),[P,k]=(0,a.useState)(""),[Z,L]=(0,a.useState)(""),[O,z]=(0,a.useState)("");let H=(0,y.Z)();(0,a.useEffect)((()=>{b.editData.length>0&&(d(b.editData),C(!1),N({type:"PrimaryId",payload:b.editData[0].RMBDMFixonBusinessFlowDetIDPK}))}),[b.editData]),(0,a.useEffect)((()=>{b.showTableview&&z(b.showTableview)}),[b.showTableview]),(0,a.useEffect)((()=>{c(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),C(null)},viewtoggle:()=>{C(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=p.v.Api+"FP868S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.Dialogview?"1":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:1,p22:10,p23:b.IsDraft?"DraftRMBDMFixonBusinessFlowDetID":"RMBDMFixonBusinessFlowDetID",p24:null,p25:null,p26:localStorage.getItem("UserGroupID"),p27:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,m.Z)(a,n,e).then((e=>{h.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===w&&l.current.clear()}})));const K=e=>H?.[e]?H?.[e]:e,V=e=>b.language?.[e]?b.language[e]:e;function G(e,t){}const _=(e,t)=>(l,a)=>{f(S?Object.assign(...i.filter((e=>e.RMBDMFixonBusinessFlowDetIDPK==t)).map((e=>e))):b.editData),C(!a&&e)};return n().createElement("div",null,n().createElement(I.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&c(!u)}},!w&&n().createElement(ae.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},b.IsDraft?K("Draft"):"",V("RMBDMFixonBusinessFlowDetail"),e.viewonly?" ":"("+b.count+")")):"",u?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?n().createElement(o.Z,{name:K("Add"),frmctrlid:"fld868L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{h.hideAddBtn(!0),N({type:"editData",payload:[]}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?n().createElement(r.Z,{frmctrlid:"fld868L1VCEditBtn",onClick:_("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&n().createElement(r.Z,{frmctrlid:"fld868L1VCEditBtnIsAdd",onClick:()=>{_("panel","")},disabled:!1}),!e.viewonly&&n().createElement(R.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld868L1VCCloseBtn",onClick:()=>{c(!1),h.hideAddBtn(!1),S&&(N({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(E.Z,{style:{display:"block"}},i.map(((t,a)=>n().createElement("div",{key:a},w==="panel"+a?n().createElement(be,{ref:l,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Ne.Z,{tableName:"RMBDMFixonBusinessFlowDetail",tableID:868,parentID:t.RMBDMFixonBusinessFlowDetIDPK,fldid:"fld868L1VCContainer",OpenSlideComponent:G,index:a,refresh:O,val:t,tf:V,t:K,title:"10.0.0.59-3:08:17 PM-18-7[868]"}))))))))}));var Ae=l(67698),Pe=l(55995),ke=(l(45965),l(41722)),Ze=l(9175),Le=l.n(Ze);const Oe=(0,a.createContext)(),ze=()=>{const e=(0,a.useContext)(Oe);if(void 0===e)throw new Error("useCont must be used within  RMBDMFixonBusinessFlowDetailContext Provider");return e},He=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),i=(0,a.useRef)(),o=(0,a.useRef)(),r=(0,a.useRef)(),d=(0,a.useRef)(),[u,c]=(0,a.useState)(!0),[m,p]=(0,a.useState)(),F=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[M,g]=(0,a.useState)(0),[B,y]=(0,a.useReducer)(ke.D,ke.E),[w,C]=(0,a.useState)(""),[R,I]=(0,a.useState)([]),[E,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divRMBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{c(!0),document.getElementById("divRMBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(y({type:"editData",payload:[e.editData]}),y({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,a.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{y(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>l.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>l.current.HideEntryFields(!0)),500)}})));const f=e=>{I([]),document.getElementById("divRMBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetailEntryTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainEntry").style.display="block",document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.add("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail").style.display="none"};(0,a.useEffect)((()=>{F((e=>{(0,D.Z)(1).then((e=>{var t=new Array;t.push(e),y({type:"token",payload:t}),g(t.length),S(e)}))}))}),[]);const S=t=>{y({type:"AccessRights",payload:e.AccessRights}),x(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Oe.Provider,{value:{cstate:B,cdispatch:y,ContextApi:ze,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==M&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,R),I([])},EditClose:e=>f(),AttachExpand:e=>(r.current.AttachmentData(B.PrimaryId),void(u&&(document.getElementById("overlayPreviewRMBDMFixonBusinessFlowDetail").style.width="50%",document.getElementById("divRMBDMFixonBusinessFlowDetail-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowDetail-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail").style.display="block",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowDetail").style.width="25%"))),Expanded:e=>{B.ShowDetail&&o.current.tableClick(e),y({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{B.ShowDetail&&o.current.viewtoggle()},clear:e=>{y({type:"ShowDetail",payload:!1}),y({type:"editData",payload:[]}),B.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{B.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),r.current.clrImgstate(!0)}}},n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"RMBDMFixonBusinessFlowDetailEntryTable",style:{width:"100%"}},B.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divRMBDMFixonBusinessFlowDetail-Entry",style:{width:"100%"}},0!==M?n().createElement(Te,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(Pe.Z,{ref:d,menurefID:868,fileId:"LogoImgRMBDMFixonBusinessFlowDetail",imgloading:t=>{t||B.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewRMBDMFixonBusinessFlowDetail",frmctrlid:"PvwIm_868_L1_",tempImg:e=>{B.PrimaryId?r.current.AttachmentData(B.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:B.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divRMBDMFixonBusinessFlowDetail-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(be,{ref:i,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(Pe.Z,{ref:d,menurefID:868,fileId:"LogoImgRMBDMFixonBusinessFlowDetail",imgloading:t=>{t||B.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewRMBDMFixonBusinessFlowDetail",frmctrlid:"PvwIm_868_L1_",tempImg:e=>{B.PrimaryId?r.current.AttachmentData(B.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:B.Add})),n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-MainTable"},0!==M?n().createElement(ge,{ref:l,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ae.Z,{ImgAttachment:e=>f(),menurefID:868,fileId:"AttImgRMBDMFixonBusinessFlowDetail",imgid:"overlayimgAttRMBDMFixonBusinessFlowDetail",valueIDPK:B.PrimaryId,PriviewData:(e,t,l,a)=>{d.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewRMBDMFixonBusinessFlowDetail",ref:r,imgloading:m,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_868_L1_",timglist:e=>{d.current.timglist(e),I(e)},clearTempData:B.Add}))),n().createElement("div",{id:"RMBDMFixonBusinessFlowDetail-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),E&&n().createElement(Le(),{openDialog:E,closeDialog:e=>x(e),formID:868,PrimID:e.parentId,alert:(t,l,a)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Ke=l(25108);const Ve=(0,a.forwardRef)(((e,t)=>{const[l]=(0,a.useState)(localStorage.getItem("userid")),[s,o]=(0,a.useState)([]),[r,c]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[D,F]=(0,a.useState)(""),[M,g]=(0,a.useState)({}),[B,w]=(0,a.useState)(!0),[R,I]=(0,a.useState)(!1),{cstate:E,cdispatch:x}=e.ContextApi?e.ContextApi:qe(),[k,Z]=(0,a.useState)(1),[L,q]=(0,a.useState)(0),[W,J]=(0,a.useState)(!1),[Q,X]=(0,a.useState)({}),[ee,te]=(0,a.useState)([]),[le,ae]=(0,a.useState)(!0),[ne,se]=(0,a.useState)(!1),[ie,oe]=(0,a.useState)(""),[re,de]=(0,a.useState)(!1),[ue,ce]=(0,a.useState)(!1),[me,pe]=(0,a.useState)(!1),[De,Fe]=(0,a.useState)(""),Me=(0,a.useRef)(null),[ge,Be]=(0,a.useState)({});let ye=localStorage.getItem("Language");const we={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ce=(0,y.Z)();const Re=e=>Ce[e]?Ce[e]:e,Ie=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[we[ye]];function Ee(){g({}),X({}),e.searchData({}),I(!1)}(0,a.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const l=e.userGrid.reduce(((e,t)=>{const l=t.FieldName;return t.IsForeign&&(e[l]||(e[l]=[]),e[l].push(t.FieldDisplay)),e}),{});Be(l),te(t)}),[]),(0,a.useEffect)((()=>()=>{Me.current&&Me.current.abort()}),[]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{Ee()}})));const xe=async(t,l,a,n)=>{J(!0);try{Me.current&&Me.current.abort();const i=new AbortController;Me.current=i;let r="",d=[],u={};await c((e=>(r=e.name,e))),await g((e=>(d=e,e))),await X((e=>(u=e,e)));const F=p.v.Api+"FP870S3/",B={data:{p1:"FixonBusinessFlowSubDetIDPK"==l?null:await be(),p2:"FixonBusinessFlowSubDetCode"==r&&a.length>0?"%"+a+"%":null,p3:"IsRMFixReject"==r&&a.length>0?"%"+a+"%":null,p4:null,p5:null,p6:"RMStageName"!=r&&d.RMStageName?d.RMStageName.map((e=>e.RMCCMStageIDPK)).toString():null,p7:e.parentId?e.parentId:"0",p8:"RMFlowDisplayName"!=r&&d.RMFlowDisplayName?d.RMFlowDisplayName.map((e=>e.RMBDMBusinessFlowIDPK)).toString():null,p9:"RMBDMFixonBusinessFlowDetCode"!=r&&d.RMBDMFixonBusinessFlowDetCode?d.RMBDMFixonBusinessFlowDetCode.map((e=>e.RMBDMFixonBusinessFlowDetIDPK)).toString():null,p10:e.Dialogview?"1":null,p11:null,p12:"p12"==r&&a.length>0?a:null,p13:null,p14:null,p15:null,p16:null,p17:"RMStageSeqNo"==r&&a.length>0?"%"+a+"%":null,p18:"RMStageName"==r&&a.length>0?"%"+a+"%":null,p19:"RMCCMComplaintHeaderName"!=r&&d.RMCCMComplaintHeaderName?d.RMCCMComplaintHeaderName.map((e=>e.RMCCMComplaintHeaderIDPK)).toString():null,p20:"RMCCMComplaintHeaderCode"==r&&a.length>0?"%"+a+"%":null,p21:"RMCCMComplaintHeaderName"==r&&a.length>0?"%"+a+"%":null,p22:"RMBDMFixonBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p23:"RMFixonBusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p24:"RMBDMFlowCode"==r&&a.length>0?"%"+a+"%":null,p25:"RMFlowDisplayName"==r&&a.length>0?"%"+a+"%":null,p26:"RMBDMFixonBusinessFlowDetCode"==r&&a.length>0?"%"+a+"%":null,p27:n||1,p28:10,p29:t,p30:null,p31:null,p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}},y=await(0,m.Z)(F,B,e.token,"",i.signal);if(!y)return!1;const w=y.Output.status.code,C=y.Output.data;if("200"===w)if(C.length>0)if(1===n){let e=Se(C,r),t=fe(e,M[r],l);o(t),q(t.length>0?t[0].TotalCount:M[r].length)}else{let e=[...s,...C],t=Se(e,r);q(t.length<10?t.length:C[0].TotalCount),o(Se(t,r))}else D.length>0&&o([]),q(s.length);else e.alertmsg("error",[y.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{J(!1)}},fe=(e=[],t=[],l)=>e.filter((e=>!t.find((t=>e[l]===t[l])))),Se=(e,t)=>e.filter(((e,l,a)=>a.findIndex((l=>l[t]===e[t]))===l));function ve(e){let t=e+"PK",l=ge[e];if(l){const e=l.flatMap((e=>M[e]?M[e].map((e=>e[t])):[]));return e.toString()}return""}const he=async t=>{let l="",a={};await g((e=>(l=e,e)));let n=[...ee],s=[];for(let e of n){let t=l[e]?.map((e=>e.FixonBusinessFlowSubDetIDPK)).toString();t&&s.push(t)}await X((e=>(a=e,e)));let i={FixonBusinessFlowSubDetIDPK:s?[...new Set(s)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",RMCCMStageID:ve("RMCCMStageID"),RMBDMFixonBusinessFlowID:ve("RMBDMFixonBusinessFlowID"),RMBDMBusinessFlowID:ve("RMBDMBusinessFlowID"),RMBDMFixonBusinessFlowDetID:ve("RMBDMFixonBusinessFlowDetID")};"saveFav"==t?Ae("save",i):(e.searchData(i),I(!1))};async function be(){let e={};await g((t=>(e=t,t)));let t=[...ee],l=[];for(let a of t){let t=e[a]?.map((e=>e.FixonBusinessFlowSubDetIDPK)).toString();t&&l.push(t)}return l?[...new Set(l)].toString():""}async function Ne(t,l,a,n,s,i){let o={[n]:{From:t,Type:a,To:l}},r={};X((e=>({...e,...o})));const d={...M};let u=[...ee],c=[];for(let e of u){let t=d[e]?.map((e=>e.FixonBusinessFlowSubDetIDPK)).toString();t&&c.push(t)}await X((e=>(r=e,e)));let m={FixonBusinessFlowSubDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==a?s:null,RMCCMStageID:M.RMStageName?.map((e=>e.RMCCMStageIDPK)).toString(),RMBDMFixonBusinessFlowID:M.RMFixonBusinessFlowName?.map((e=>e.RMBDMFixonBusinessFlowIDPK)).toString(),RMBDMBusinessFlowID:M.RMFlowDisplayName?.map((e=>e.RMBDMBusinessFlowIDPK)).toString(),RMBDMFixonBusinessFlowDetID:M.RMBDMFixonBusinessFlowDetCode?.map((e=>e.RMBDMFixonBusinessFlowDetIDPK)).toString()};e.searchData(m)}function Te(){return n().createElement(h.Z,{frmctrlid:"fld870L1TCDateCompCreatedTtm",SendDateVal:(e,t,l,a,n)=>{Ne(e,t,l,r.name,a)},keyboardback:()=>{I(!1),c({idpk:"",name:"",type:"",fieldidpk:""})},title:Re(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const Ae=(t,l)=>{(0,$.Z)(t,e.formID,l,ie).then((e=>{const t=e.Output.data;Fe(t)}))};return n().createElement("div",null,n().createElement(H.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:re},n().createElement(K.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),n().createElement(V.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(_.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>oe(e.target.value),fullWidth:!0})),n().createElement(Y.Z,{style:{color:"#337ab7"},control:n().createElement(C.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>ce(e.target.checked)}),label:"Quick"}),n().createElement(Y.Z,{style:{color:"#337ab7"},control:n().createElement(C.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(j.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>pe(e.target.checked)}),label:"Dashboard"})),n().createElement(G.Z,null,n().createElement(S.Z,{onClick:()=>{he("saveFav"),de(!1)},color:"primary"},"Save"))),R?"Created Ttm"===r.name||r.name.includes("Date")?n().createElement(Te,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(d.Z,null,n().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},Ie(r.idpk)," (",s.length,"/",L,")")),n().createElement(u.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(i.ZP,{title:Re("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(f.Z,{id:"fld870L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{I(!1),c({idpk:"",name:"",type:"",fieldidpk:!1}),Z(1)}}))),M[r.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(S.Z,{frmctrlid:"fld870L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await g((t=>(e=t,Ke.log("clear fewItems",e),t))),e[r.name]=[],xe(r.type,r.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},Re("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},B?n().createElement(i.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(T.D7o,{className:"FilterMaximizeIcon",onClick:()=>{w(!1)}}))):n().createElement(i.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(T.dOw,{className:"FilterMaximizeIcon",onClick:()=>{w(!0)}})))),n().createElement("ul",null,M[r.name]&&M[r.name].map(((e,t)=>n().createElement("div",{key:t,tabIndex:"-1",className:B?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[r.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{Z(1);let l=M[r.name].filter((t=>t!=e)),a={};await g((e=>(a=e,e))),a[r.name]=l,g(a),o((t=>[e,...t]))})(e)},n().createElement(f.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(b.Z,{frmctrlid:"fld870L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:D,placeholder:Re("Enter ")+" "+Ie(r.idpk),onChange:e=>{F(e),xe(r.type,r.fieldidpk,e,1,be())}})),n().createElement("div",{id:"fld870L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:he},n().createElement(i.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),W&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(A.Z,{color:"secondary"})),n().createElement("div",{id:"fld870L1TFCScrollYDefault",className:"height65 scrollYDefault"},s.length>0&&s.map(((e,t)=>n().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},l=[];l.push(e);let a={};await g((e=>(a=e,e)));let n=a[r.name];t[r.name]=n?[...l,...n]:l,a={...a,...t},g(a),o((t=>t.filter((t=>t!=e))))})(e)}},n().createElement(v.Z,{className:"DotIcon"}),n().createElement("span",null,e[r.name])))),s.length+0<L&&s.length>0&&n().createElement("div",{id:"fld870L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(k+1),xe(r.type,r.fieldidpk,"",k+1)}},n().createElement("p",null," more... ")),0===s.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:p.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(N.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",Re("Filter")," ",ie.length>0&&`(${ie})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(i.ZP,{title:"Favorite List",placement:"top"},ne?n().createElement(f.Z,{className:"favlisticon",onClick:()=>{se(!1),Fe(""),Ee()}}):n().createElement(O.Z,{className:"favlisticon",onClick:()=>{se(!0),Ae("select"),Ee()}})),Object.keys(M).length>0&&n().createElement(i.ZP,{title:"Save Favorites",placement:"top"},n().createElement(z.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),n().createElement(i.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnApplyButton",onClick:()=>{Ee()},id:"fld870L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},Re("Clear")))),n().createElement(i.ZP,{title:"",placement:"top"},n().createElement(S.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld870L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},Re("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld870L1TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{I(!0),F(""),o([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"FixonBusinessFlowSubDetIDPK";c({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterFixonBusinessFlowSubDetID",fieldidpk:t}),xe(e.IsForeign?"Filter"+e.FieldName:"FilterFixonBusinessFlowSubDetID",t,"",1,be())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,Ie(e.AdminUserGridViewIDPK)," ",Q[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",Q[e.FieldName]?.From+" to "+Q[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,Ie(e.AdminUserGridViewIDPK)),n().createElement(P.Z,{checked:"1"==le,onChange:t=>{ae(t.target.checked),Ne("","",e.FieldName,"",t.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,Ie(e.AdminUserGridViewIDPK)),(l=e.FieldDisplay,M[l]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},M[l][0][l]),M[l].length>1&&n().createElement("span",{className:"RoundedDivName"},M[l][1][l]),M[l].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(M[l].length-2))))));var l})),De&&De.map((e=>{let t=e.TFFSearchParams,l=JSON.parse(t);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{xe("FilterFixonBusinessFlowSubDetID",l),he("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const Ge=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),r=(0,a.useRef)(null),[d]=((0,a.useRef)(null),(0,s.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[u]=(0,a.useState)("870"),[c,D]=(0,a.useState)(!1),[F,M]=(0,a.useState)(!1),[g,B]=(0,a.useState)(0),[C,R]=(0,a.useState)(0),[x,S]=(0,a.useState)(0),[v,h]=(0,a.useState)(0),[A,P]=(0,a.useState)({current:1,pageSize:100}),[k,Z]=(0,a.useState)(""),[L,O]=(0,a.useState)([]),[z,H]=(0,a.useState)({val:"",column:""}),[K,V]=(0,a.useState)([]),[G,_]=(0,a.useState)(!1),[j,U]=(0,a.useState)(""),[Y,$]=(0,a.useState)(""),[q,W]=(0,a.useState)(!1),[oe,re]=(0,a.useState)([]),[me,ge]=(0,a.useState)([]),[Be,ye]=(0,a.useState)([]),[we,Ce]=(0,a.useState)({children:[{name:"RMBDMFixonBusinessFlowSubDetails",children:[]}]}),[Re,Ie]=(0,a.useState)(!1),Ee=(0,a.useContext)(e.context?e.context:$e),{cstate:xe,cdispatch:fe}=e.ContextApi?e.ContextApi:qe();let Se={FixonBusinessFlowSubDetIDPK:"",FixonBusinessFlowSubDetCode:"",IsRMFixReject:"",IsDraft:"",Remarks:"",RMCCMStageID:"",RMBDMFixonBusinessFlowID:"",RMBDMBusinessFlowID:"",RMBDMFixonBusinessFlowDetID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RMStageSeqNo:"",RMStageName:"",RMCCMComplaintHeaderID:"",RMCCMComplaintHeaderCode:"",RMCCMComplaintHeaderName:"",RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMBDMFlowCode:"",RMFlowDisplayName:"",RMBDMFixonBusinessFlowDetCode:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ve,he]=(0,a.useState)(Se),[be,Ne]=(0,a.useState)(Se),[Te,Ae]=(0,a.useState)(!1),[Pe,ke]=(0,a.useState)(!0),[Ze,Le]=(0,a.useState)(!1),[Oe,ze]=(0,a.useState)(!0),[He,Ke]=(0,a.useState)({RMStageName:"",IsRMFixReject:"",FixonBusinessFlowSubDetCode:"",RMFixonBusinessFlowName:"",RMFlowDisplayName:"",RMBDMFixonBusinessFlowDetCode:""}),[Ge,_e]=(0,a.useState)(!1),[je,Ue]=(0,a.useState)([]),[Ye,We]=(0,a.useState)(0),[Je,Qe]=(0,a.useState)(0),[Xe,et]=(0,a.useState)({current:1,pageSize:10}),[tt,lt]=(0,a.useState)([]),[at,nt]=(0,a.useState)([]),[st,it]=(0,a.useState)(!1),[ot,rt]=(0,a.useState)(!1),[dt,ut]=(0,a.useState)(!1),[ct,mt]=(0,a.useState)(""),[pt,Dt]=pe()("870"),[Ft,Mt]=(0,a.useState)({}),gt=[{columns:tt,data:k}];let Bt=(0,y.Z)();const yt=e=>Bt[e]?Bt[e]:e,wt=e=>xe.language?.[e]?xe.language[e]:e;(0,a.useEffect)((()=>{St(pt)}),[pt]),(0,a.useEffect)((()=>{xe.token.length>0&&(e.parentId?xt(A,Se,"FixonBusinessFlowSubDetID"):V([]))}),[e.parentId]),(0,a.useEffect)((()=>{!Re&&e.parentId?xt(A,j,"FixonBusinessFlowSubDetID"):Re&&Ne(j)}),[j]),(0,a.useImperativeHandle)(t,(()=>({searchItem:e=>{Ct(e)},tableRefresh:()=>{xt(A,Se,"FixonBusinessFlowSubDetID")},DialogTableProps:e=>{M(e)},HideEntryFields:e=>{ut(!0===e)}})));const Ct=e=>{""==e?xt(A,Se,Te?"DraftFixonBusinessFlowSubDetID":"FixonBusinessFlowSubDetID",Te&&"DraftPage"):ft(e,{current:1,pageSize:100}),$(e)};function Rt(t){Ee.loading(!0);let l=p.v.Api+"FP870S7/",a={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(l,a,xe.token[0]).then((e=>{if(200==e.Output.status.code){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,Qe(e.Output.data[0].TotalCount)):l=0,10==t.pageSize?We(Math.ceil(l)):20==t.pageSize?We(Math.ceil(l/2)):50==t.pageSize?We(Math.ceil(l/5)):100==t.pageSize&&We(Math.ceil(l/10)),Ue(e.Output.data),Ee.loading(!1)}}))}function It(e,t){fe({type:"editData",payload:[t]}),fe({type:"IsDraft",payload:Te}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),Ze&&W(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&ze(e.cardview),e.Dialogview&&(M(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&ft(e.searchsafaritext,{current:A.current,pageSize:A.pageSize})}),[e.searchsafaritext]);const Et=()=>{Ee.EditClose(!0),G?(document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Oe?(F||(document.getElementById("RMBDMFixonBusinessFlowSubDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowSubDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),W(!1),window.clickFilter=!G},xt=(t,l,a,n,s,i)=>{Ee.loading(!0),"DraftPage"!==n&&Ae(xe.IsDraft);let o=p.v.Api+"FP870S3/",r={data:{p1:s||(l&&l.FixonBusinessFlowSubDetIDPK?l.FixonBusinessFlowSubDetIDPK:null),p2:l&&l.FixonBusinessFlowSubDetCode?l.FixonBusinessFlowSubDetCode:null,p3:null,p4:"DraftFixonBusinessFlowSubDetID"==a?"1":"0",p5:null,p6:l&&l.RMCCMStageID?l.RMCCMStageID:null,p7:e.parentId?Number(e.parentId):0,p8:l&&l.RMBDMBusinessFlowID?l.RMBDMBusinessFlowID:null,p9:l&&l.RMBDMFixonBusinessFlowDetID?l.RMBDMFixonBusinessFlowDetID:null,p10:l&&l.IsActive,p11:null,p12:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p13:l&&l.CreatedTtm?l.CreatedTtm:null,p14:l&&l.CreatedTtmType?l.CreatedTtmType:null,p15:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p16:null,p17:l&&l.RMStageSeqNo?l.RMStageSeqNo:null,p18:l&&l.RMStageName?l.RMStageName:null,p19:l&&l.RMCCMComplaintHeaderID?l.RMCCMComplaintHeaderID:null,p20:l&&l.RMCCMComplaintHeaderCode?l.RMCCMComplaintHeaderCode:null,p21:l&&l.RMCCMComplaintHeaderName?l.RMCCMComplaintHeaderName:null,p22:l&&l.RMBDMFixonBusinessFlowCode?l.RMBDMFixonBusinessFlowCode:null,p23:l&&l.RMFixonBusinessFlowName?l.RMFixonBusinessFlowName:null,p24:l&&l.RMBDMFlowCode?l.RMBDMFlowCode:null,p25:l&&l.RMFlowDisplayName?l.RMFlowDisplayName:null,p26:l&&l.RMBDMFixonBusinessFlowDetCode?l.RMBDMFixonBusinessFlowDetCode:null,p27:s?1:t.current,p28:t.pageSize,p29:a,p30:null,p31:null,p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};(0,m.Z)(o,r,xe.token[0]).then((o=>{if(s)(0,de.a)(o,fe,n,i,Ee);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,S(o.Output.data[0].TotalCount),h(o.Output.data[0].DraftCnt),fe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==n&&h(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?R(Math.ceil(e)):20==t.pageSize?R(Math.ceil(e/2)):50==t.pageSize?R(Math.ceil(e/5)):100==t.pageSize&&R(Math.ceil(e/10)),V(o.Output.data),Ee.loading(!1)}e.Dialogview||(document.getElementById("divRMBDMFixonBusinessFlowSubDetails-Entry").style.height="auto",document.getElementById("divRMBDMFixonBusinessFlowSubDetails-Entry").style.display="block")}else Ee.loading(!1),"DraftFixonBusinessFlowSubDetID"===a?(Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),W(!0),Ae(!1)):(V([]),P({current:1,pageSize:10}),R(0),S(0),fe({type:"count",payload:"0"}),Object.values(l).some((e=>e))&&Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ee.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ee.loading(!1)}))};function ft(t,l){Ee.loading(!0);const a=p.v.Api+"FP870S4/",n={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Te?"1":"0",p4:l.current,p5:l.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,n,xe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,S(e.Output.data[0].TotalCount),fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==l.pageSize?R(Math.ceil(t)):20==l.pageSize?R(Math.ceil(t/2)):50==l.pageSize?R(Math.ceil(t/5)):100==l.pageSize&&R(Math.ceil(t/10)),V(e.Output.data),Ee.loading(!1)}else V([]),R(0),S(0),fe({type:"count",payload:"0"}),Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ee.loading(!1);else Ee.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ee.loading(!1)}))}function St(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let s=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[s]]})})),fe({type:"language",payload:Object.assign({},...n)}),Ke(l.reduce(((e,t)=>(e[t]="",e)),{})),re(e),ge(t),ye(l),lt(a),nt(l)}const vt=()=>Re?null:n().createElement("div",null,Ge?n().createElement(Fe.Z,{data:je,expanded:e=>!F&&Ee.Expanded(e),edit:(e,t,l)=>{F?Ee.select(e):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:t}),fe({type:"ShowDetail",payload:l}))}}):n().createElement(De.Z,{ref:r,frmctrlid:"tblcs_870_L1_",id:"RMBDMFixonBusinessFlowSubDetailsTable",headerdata:me,tablesearchparams:He,searchvalue:e=>{Ke(e),U(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Mt(t),P({current:1,pageSize:10}),xt({current:1,pageSize:10},t,Te?"DraftFixonBusinessFlowSubDetID":"FixonBusinessFlowSubDetID",Te&&"DraftPage")},bodydata:K,ondrag:It,bodyitem:Be,visibleitem:me,isdraft:Te,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:u,showMore:!1,accessrights:xe.AccessRights,expanded:e=>!F&&Ee.Expanded(e),edit:(e,t,l)=>{F?Ee.select(e):(Object.keys(e).map(((a,n)=>{a.includes("IDPK")&&xt(A,null,t?"DraftFixonBusinessFlowSubDetID":"FixonBusinessFlowSubDetID",t&&"DraftPage",e[a],l)})),Ee.hideAddBtn(!0))},viewtoggle:Ee.viewtoggle,isexpanded:!F||Ze,tf:wt,action:F?"none":"",ViewComp:(e,t)=>{}}));return(0,a.useEffect)((()=>{Le(xe.ExpandTableValue)}),[xe.ExpandTableValue]),n().createElement("div",null,!dt&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld870L1ECSearchBar",className:"searchbar1"},n().createElement(b.Z,{frmctrlid:"fld870L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:yt("Search"),value:Y,onChange:e=>{$(e),Ee.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},Y?n().createElement("div",{id:"fld870L1TCCloseIconCommonSearch",onClick:()=>{$(""),Ee.searchItem("")}},n().createElement(f.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld870L1TCInputSearchIcon"},n().createElement(le.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("RMBDMFixonBusinessFlowSubDetailsgridsearch").focus()}})))),n().createElement("div",null,xe.AccessRights.IsAdd?n().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld870L1TCAddBtnIsAdd",onClick:()=>{Ee.hideAddBtn(!0),fe({type:"editData",payload:[]}),fe({type:"ShowDetail",payload:!1}),fe({type:"Add",payload:!0})}}):"")),n().createElement(I.Z,{expanded:Pe,onChange:()=>()=>{ke(Ze)}},e.Dialogview&&n().createElement(ae.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[870]"},`${wt("870")} (${x})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld870L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(b.Z,{frmctrlid:"fld870L1TCInputSearch",className:"search_input",type:"text",placeholder:yt("Search"),value:Y,onChange:e=>{Ct(e)}}),n().createElement("div",{className:"search_icon"},Y?n().createElement("div",{id:"fld870L1TCInputCloseIcon",onClick:()=>{Ct("")}},n().createElement(f.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld870L1TCInputSearchIcon"},n().createElement(le.Z,{className:"InputSearchIcon"}))))))),n().createElement(E.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Te&&n().createElement("div",{frmctrlid:"fld870L1TCFilterDataIsDraft",id:"RMBDMFixonBusinessFlowSubDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Et()}},n().createElement(i.ZP,{title:yt("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(N.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},yt("Filter Data"))),!F&&!Te&&!Re&&n().createElement(J.Z,{formctrlidprint:"fld870L1TCExportPrint",formctrlidexport:"fld870L1TCExportTable",formctrlidrefresh:"fld870L1TCExportRefresh",title:wt("870"),data:L,exportData:gt,Items:at,columnIndex:tt,TableVisibleItem:me,userGridViewFormID:u,TableTotalCount:x,triggerApi:t=>{((t,a,n,s,i)=>{if(0===x)return Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ee.loading(!0);let o=p.v.Api+"FP870S3/",r={data:{p1:t&&t.FixonBusinessFlowSubDetIDPK?t.FixonBusinessFlowSubDetIDPK:null,p2:t&&t.FixonBusinessFlowSubDetCode?t.FixonBusinessFlowSubDetCode:null,p3:null,p4:Te?"1":"0",p5:null,p6:t&&t.RMCCMStageID?t.RMCCMStageID:null,p7:e.parentId?Number(e.parentId):0,p8:t&&t.RMBDMBusinessFlowID?t.RMBDMBusinessFlowID:null,p9:t&&t.RMBDMFixonBusinessFlowDetID?t.RMBDMFixonBusinessFlowDetID:null,p10:t&&t.IsActive,p11:null,p12:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p13:t&&t.CreatedTtm?t.CreatedTtm:null,p14:t&&t.CreatedTtmType?t.CreatedTtmType:null,p15:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p16:null,p17:t&&t.RMStageSeqNo?t.RMStageSeqNo:null,p18:t&&t.RMStageName?t.RMStageName:null,p19:t&&t.RMCCMComplaintHeaderID?t.RMCCMComplaintHeaderID:null,p20:t&&t.RMCCMComplaintHeaderCode?t.RMCCMComplaintHeaderCode:null,p21:t&&t.RMCCMComplaintHeaderName?t.RMCCMComplaintHeaderName:null,p22:t&&t.RMBDMFixonBusinessFlowCode?t.RMBDMFixonBusinessFlowCode:null,p23:t&&t.RMFixonBusinessFlowName?t.RMFixonBusinessFlowName:null,p24:t&&t.RMBDMFlowCode?t.RMBDMFlowCode:null,p25:t&&t.RMFlowDisplayName?t.RMFlowDisplayName:null,p26:t&&t.RMBDMFixonBusinessFlowDetCode?t.RMBDMFixonBusinessFlowDetCode:null,p27:A.current,p28:x,p29:Te?"DraftFixonBusinessFlowSubDetID":"FixonBusinessFlowSubDetID",p30:null,p31:null,p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};Ee.loading(!1),Ee.alert({open:!0,color:"success",message:[`${wt(870)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(o,r,xe.token[0],i).then((e=>{(0,ce.PDF_Excel_Generate)(e,Ee,at,Z,l,i)}))})(j,z.column,0,0,t)},Refresh:()=>{$(""),P({current:1,pageSize:100}),r.current.clearItem(),xe.IsDraft?xt({current:1,pageSize:100},Se,"DraftFixonBusinessFlowSubDetID"):xt({current:1,pageSize:100},Se,"FixonBusinessFlowSubDetID")},disabledPrint:!xe.AccessRights.IsPrint,disabledExport:!xe.AccessRights.IsExport,ref:l,iconinfo:"displayNone"}),!Te&&!Re&&!F&&n().createElement("div",{className:"buttoncard",onClick:()=>rt(!ot)},n().createElement("span",null,ot?n().createElement(i.ZP,{disableFocusListener:!0,title:yt("Less"),placement:"top"},n().createElement("span",{id:"fld870L1TCLess"},n().createElement(ie.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(i.ZP,{disableFocusListener:!0,title:yt("More"),placement:"top"},n().createElement("span",{id:"fld870L1TCMore"},n().createElement(ie.ilJ,{className:"tableFilterColumnIcon"}))))),ot?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Re||!Ze?null:F||!xe.AccessRights.IsAdd||Te?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld870L1TCFilterDataIsAdd",id:"RMBDMFixonBusinessFlowSubDetailscoldiv",className:"buttoncard",onClick:()=>{Ee.EditClose(!0),q?(document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv").style.width="0%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsTabDiv").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv").style.display="none",document.getElementById("RMBDMFixonBusinessFlowSubDetailscoldiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!1)):(document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv").style.width="25%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsTabDiv").style.width="75%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsFilterDiv").style.display="block",document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowSubDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("RMBDMFixonBusinessFlowSubDetailscoldiv").style.width="fit-content",document.getElementById("RMBDMFixonBusinessFlowSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",W(!0)),_(!1)}},n().createElement(i.ZP,{title:yt("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(ue.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},yt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!F&&Ze&&!Re&&!Te&&n().createElement("div",null,n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetailscoldiv",className:"buttoncard",onClick:()=>{Ge?_e(!1):(_e(!0),Rt({current:1,pageSize:100}))}},n().createElement(i.ZP,{title:yt("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld870L1TCTableScrollData"},n().createElement(Me.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},yt("Table Scroll Data")))))):""),!Te&&!F&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Re||Te?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Oe?"buttonList":"buttonGrid",id:"fld870L1TCListView",onClick:()=>{ze(!0),it(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(ie.umT,null)),n().createElement("span",null,yt("List"))),n().createElement("div",{className:Oe||st?"buttonGrid":"buttonList",id:"fld870L1TCCardView",onClick:()=>{ze(!1),it(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(T.aCJ,null)),n().createElement("span",null,yt("Card"))),n().createElement("div",{className:st?"buttonList":"buttonGrid",id:"fld870L1TCTileView",onClick:()=>{it(!0),ze(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(w.f_H,null)),n().createElement("span",null,yt("Tile"))))))),Re?null:Ge?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{style:{color:"#777"},id:"fld870L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:g,onPageChange:(e,t)=>{B(t),Rt({current:t+1,pageSize:Xe.pageSize}),et({current:t+1,pageSize:Xe.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(Q.Z,{count:Ye,color:"primary",page:Xe.current,onChange:(e,t)=>{et({current:t,pageSize:Xe.pageSize}),We(t),Rt({current:t,pageSize:Xe.pageSize})}}),n().createElement("div",null,n().createElement(ee.Z,{className:"BootstrapInputStyle",value:Xe.pageSize,frmctrlid:"fld870L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),Rt({current:1,pageSize:e.target.value})}},n().createElement(X.Z,{value:10},"10"),n().createElement(X.Z,{value:20},"20"),n().createElement(X.Z,{value:50},"50"),n().createElement(X.Z,{value:100},"100"))),Ze&&n().createElement("p",{className:"per-page"},"/ ",yt("RowperpageOf")," (",Je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(ne.Z,{style:{color:"#777"},id:"fld870L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(x),page:g,onPageChange:(e,t)=>{B(t),xt({current:t+1,pageSize:A.pageSize},Se,Te?"DraftFixonBusinessFlowSubDetID":"FixonBusinessFlowSubDetID",Te&&"DraftPage"),P({current:t+1,pageSize:A.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(Q.Z,{count:C,siblingCount:0,color:"primary",page:A.current,onChange:(e,t)=>{if(P({current:t,pageSize:A.pageSize}),Te)xt({current:t,pageSize:A.pageSize},ve,"DraftFixonBusinessFlowSubDetID","DraftPage");else{var l=document.querySelectorAll(".CardViewMain");for(let e=0;e<l.length;e++)l[e].style.background="#FFF";Y.length>0?ft(Y,{current:t,pageSize:A.pageSize}):xt({current:t,pageSize:A.pageSize},ve,"FixonBusinessFlowSubDetID")}}}),n().createElement("div",null,n().createElement(ee.Z,{className:"BootstrapInputStyle",value:A.pageSize,id:"fld870L1TCSelectPaging",onChange:e=>{P({current:1,pageSize:e.target.value}),Te?xt({current:1,pageSize:e.target.value},ve,"DraftFixonBusinessFlowSubDetID","DraftPage"):Y.length>0?ft(Y,{current:1,pageSize:e.target.value}):xt({current:1,pageSize:e.target.value},ve,"FixonBusinessFlowSubDetID")}},n().createElement(X.Z,{value:10},"10"),n().createElement(X.Z,{value:20},"20"),n().createElement(X.Z,{value:50},"50"),n().createElement(X.Z,{value:100},"100"))),Ze&&n().createElement("p",{className:"per-page"},"/ ",yt("RowperpageOf")," (",x,") "))),n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},G&&n().createElement(Ve,{parentId:e.parentId,searchData:e=>{U(e||Ft),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:u,data:()=>{},visibleData:()=>{},token:xe.token[0],CloseBtnClk:()=>Et(),userGrid:pt,msg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),q&&n().createElement(te.Z,{Refresh:e=>{xt({current:1,pageSize:100},Se,"FixonBusinessFlowSubDetID")},frmctrlid:"fld870L1TCTableColumnOrder",loading:e=>Ee.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),select:q,userID:d,userGridViewFormID:u,saved:(e,t)=>{e&&St(t),Dt(t),fe({type:"showTableview",payload:t})},Token:xe.token[0]})),n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Oe?n().createElement(vt,null):n().createElement(se.Z,{frmctrlid:"fld870L1TCExpandedCardDual",data:K,id:"RMBDMFixonBusinessFlowSubDetails",title:"FixonBusinessFlowSubDetCode",cardTile:!!st,visibleitem:me,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{F?Ee.select(e):("edit"==t?(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Te}),fe({type:"ShowDetail",payload:!1}),Ee.Expanded(!0)):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Te}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),Ee.viewtoggle()),G?_(!0):q?W(!0):(W(!1),W(!1))),Ee.hideAddBtn(!0)}})))))))})),_e={EnterKeyValues:{RMBDMFixonBusinessFlowSubDetails:["RMStageName","IsRMFixReject","FixonBusinessFlowSubDetCode","RMFixonBusinessFlowName","RMFlowDisplayName","RMBDMFixonBusinessFlowDetCode"]},Label:{RMBDMFixonBusinessFlowSubDetails:{RMCCMStageID:["RMStageSeqNo","RMStageName"],IsRMFixReject:["FixonBusinessFlowSubDetCode"],FixonBusinessFlowSubDetCode:["FixonBusinessFlowSubDetCode"],RMBDMFixonBusinessFlowID:["FixonBusinessFlowSubDetCode"],RMBDMBusinessFlowID:["FixonBusinessFlowSubDetCode"],RMBDMFixonBusinessFlowDetID:["FixonBusinessFlowSubDetCode"]}},LabelHeader:{RMBDMFixonBusinessFlowSubDetails:{RMCCMStageID:["Stage Seq No","Stage Name"],IsRMFixReject:["FixonBusinessFlowSubDetCode"],FixonBusinessFlowSubDetCode:["FixonBusinessFlowSubDetCode"],RMBDMFixonBusinessFlowID:["FixonBusinessFlowSubDetCode"],RMBDMBusinessFlowID:["FixonBusinessFlowSubDetCode"],RMBDMFixonBusinessFlowDetID:["FixonBusinessFlowSubDetCode"]}},Property:{RMBDMFixonBusinessFlowSubDetails:{RMCCMStageID:{id:"fld870_20178",clearID:"RMBDMFixonBusinessFlowSubDetailsRMStageNameClear",type:"select",labelID:"RMCCMStageIDPK",labelname:"Stage",fielddisplayname:"RMStageName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},IsRMFixReject:{id:"fld870_20175",labelID:"IsRMFixReject",maxLength:"",labelname:"Reject",frmctrlid:"fld870_20175",frmctrlidname:"IsRMFixReject",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},FixonBusinessFlowSubDetCode:{id:"fld870_20174",labelID:"FixonBusinessFlowSubDetCode",maxLength:"50",labelname:"FixonBusinessFlowSubDetCode",frmctrlid:"fld870_20174",frmctrlidname:"FixonBusinessFlowSubDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RMBDMFixonBusinessFlowID:{id:"fld870_20179",clearID:"RMBDMFixonBusinessFlowSubDetailsRMFixonBusinessFlowNameClear",type:"select",labelID:"RMBDMFixonBusinessFlowIDPK",labelname:"RMBDMFixonBusinessFlowID",fielddisplayname:"RMFixonBusinessFlowName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},RMBDMBusinessFlowID:{id:"fld870_20180",clearID:"RMBDMFixonBusinessFlowSubDetailsRMFlowDisplayNameClear",type:"select",labelID:"RMBDMBusinessFlowIDPK",labelname:"RMBDMBusinessFlowID",fielddisplayname:"RMFlowDisplayName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},RMBDMFixonBusinessFlowDetID:{id:"fld870_20181",clearID:"RMBDMFixonBusinessFlowSubDetailsRMBDMFixonBusinessFlowDetCodeClear",type:"select",labelID:"RMBDMFixonBusinessFlowDetIDPK",labelname:"RMBDMFixonBusinessFlowDetID",fielddisplayname:"RMBDMFixonBusinessFlowDetCode",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{RMBDMFixonBusinessFlowSubDetails:{RMCCMStageID:["RMStageSeqNo","RMStageName"],RMBDMFixonBusinessFlowID:["RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName"],RMBDMBusinessFlowID:["RMBDMFlowCode","RMFlowSeqNo"],RMBDMFixonBusinessFlowDetID:["RMBDMBusinessFlowID"]}}},je={FixonBusinessFlowSubDetIDPK:"",FixonBusinessFlowSubDetCode:"",IsRMFixReject:!1,IsDraft:!1,Remarks:"",RMCCMStageID:null,RMBDMFixonBusinessFlowID:null,RMBDMBusinessFlowID:null,RMBDMFixonBusinessFlowDetID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RMStageSeqNo:"",RMStageName:"",RMCCMComplaintHeaderID:null,RMCCMComplaintHeaderCode:"",RMCCMComplaintHeaderName:"",RMBDMFixonBusinessFlowCode:"",RMFixonBusinessFlowName:"",RMBDMFlowCode:"",RMFlowDisplayName:"",RMBDMFixonBusinessFlowDetCode:"",Type:"FixonBusinessFlowSubDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ue=(0,a.forwardRef)(((e,t)=>{const l=(0,s.useSelector)((e=>e.form)),[i,o]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!0),[M,g]=(0,a.useState)(!1),[B,w]=(0,a.useState)(!1),[C,x]=(0,a.useState)(""),[f,S]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),[b,N]=(0,a.useState)(null),[T,A]=(0,a.useReducer)(Re.Z,je),[k,O]=(0,a.useState)(!1),[z,H]=(0,a.useState)([]),[K,V]=(0,a.useState)(!1),G=(0,a.useContext)(e.context?e.context:$e),{cstate:_,cdispatch:j}=e.ContextApi?e.ContextApi:qe(),[U,$]=(0,a.useState)(0),[q,W]=(0,a.useState)(""),J=(0,a.useRef)(null),[Q,X]=ve()("870"),[ee,te]=(0,a.useState)(!0),[le,ne]=(0,a.useState)(!1);let se=(0,y.Z)();const[ie,oe]=(0,a.useState)({}),re=e=>se[e]?se[e]:e,de=t=>_.language?.[t]?_.language[t]:e.createEasy?ie?.[t]:t;(0,a.useEffect)((()=>{_.PrimaryId&&$(Number(_.PrimaryId))}),[_.PrimaryId]),(0,a.useEffect)((()=>{ce()}),[]),(0,a.useEffect)((()=>{ce()}),[e.parentId]),(0,a.useEffect)((()=>{_.editData.length>0?(ue(_.editData[0],""),g(!0)):_.Add&&(ce(),g(!0))}),[_.editData]),(0,a.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let l=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[l]]})})),oe(Object.assign({},...t))}(Q)}),[Q]),(0,a.useImperativeHandle)(t,(()=>({clear:()=>{ce()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(Ie(t),g(e)):(ce(),g(e))},AddOpen:e=>{ce(),g(!0)}})));const ue=(t,l)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),w(t.IsDraft),"SetDefaultFixonBusinessFlowSubDetID"==l?W(t.FixonBusinessFlowSubDetIDPK):($(e.primid?Number(e.primid):t.FixonBusinessFlowSubDetIDPK?t.FixonBusinessFlowSubDetIDPK:0),j({type:"PrimaryId",payload:t.FixonBusinessFlowSubDetIDPK})),A({type:"number",name:"RMCCMStageID",number:t.RMCCMStageID?Number(t.RMCCMStageID):0}),A({type:"text",name:"RMStageName",value:t.RMStageName}),A({type:"boolean",name:"IsRMFixReject",boolean:!!t.IsRMFixReject&&t.IsRMFixReject}),A({type:"text",name:"FixonBusinessFlowSubDetCode",value:t.FixonBusinessFlowSubDetCode?t.FixonBusinessFlowSubDetCode:""}),A({type:"number",name:"RMBDMFixonBusinessFlowID",number:t.RMBDMFixonBusinessFlowID?Number(t.RMBDMFixonBusinessFlowID):0}),A({type:"text",name:"RMFixonBusinessFlowName",value:t.RMFixonBusinessFlowName}),A({type:"number",name:"RMBDMBusinessFlowID",number:t.RMBDMBusinessFlowID?Number(t.RMBDMBusinessFlowID):0}),A({type:"text",name:"RMFlowDisplayName",value:t.RMFlowDisplayName}),A({type:"number",name:"RMBDMFixonBusinessFlowDetID",number:t.RMBDMFixonBusinessFlowDetID?Number(t.RMBDMFixonBusinessFlowDetID):0}),A({type:"text",name:"RMBDMFixonBusinessFlowDetCode",value:t.RMBDMFixonBusinessFlowDetCode}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},ce=()=>{h([]),$(0),W(""),e.createEasy||G.resetImg(),j({type:"PrimaryId",payload:""}),A({type:"text",name:"RMCCMStageID",value:null}),A({type:"text",name:"RMStageName",value:""}),document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMStageNameClear")&&document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMStageNameClear").click(),A({type:"boolean",name:"IsRMFixReject",boolean:!1}),A({type:"text",name:"FixonBusinessFlowSubDetCode",value:""}),A({type:"text",name:"RMBDMFixonBusinessFlowID",value:null}),A({type:"text",name:"RMFixonBusinessFlowName",value:""}),document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMFixonBusinessFlowNameClear")&&document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMFixonBusinessFlowNameClear").click(),A({type:"text",name:"RMBDMBusinessFlowID",value:null}),A({type:"text",name:"RMFlowDisplayName",value:""}),document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMFlowDisplayNameClear")&&document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMFlowDisplayNameClear").click(),A({type:"text",name:"RMBDMFixonBusinessFlowDetID",value:null}),A({type:"text",name:"RMBDMFixonBusinessFlowDetCode",value:""}),document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMBDMFixonBusinessFlowDetCodeClear")&&document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMBDMFixonBusinessFlowDetCodeClear").click(),c(!0),x(""),te(!0)},me=t=>{G.loading(!0),G.ConfirmAlert(null);const l=p.v.Api+"FP870S2/",a={data:[{p1:"SetDefaultFixonBusinessFlowSubDetID"==t?"NORECORDS"!=q&&q?q:0:U,p2:fe(T.FixonBusinessFlowSubDetCode),p3:T.IsRMFixReject,p4:!1,p5:"SetDefaultFixonBusinessFlowSubDetID"==t?"SetDefault":null,p6:T.RMCCMStageID?T.RMCCMStageID:0,p7:e.parentId?Number(e.parentId):T.RMBDMFixonBusinessFlowID?T.RMBDMFixonBusinessFlowID:0,p8:T.RMBDMBusinessFlowID?T.RMBDMBusinessFlowID:0,p9:T.RMBDMFixonBusinessFlowDetID?T.RMBDMFixonBusinessFlowDetID:0,p10:r,p11:"SetDefaultFixonBusinessFlowSubDetID"==t,p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,m.Z)(l,a,t).then((t=>{const l=t.Output[0].status;let a=t.Output[0].Data,n=new Array,s=new Array;"200"===l.code?(a.map((e=>{e&&(n.push(e.IsAlert),s.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(G.alert({open:!0,color:"warning",message:s}),G.loading(!1)):(t=>{te(!0),G.loading(!0),G.ConfirmAlert(null),j({type:"IsDraft",payload:!1});const l=p.v.Api+"FP870S1/",a={data:[{p1:U,p2:fe(T.FixonBusinessFlowSubDetCode),p3:T.IsRMFixReject,p4:!1,p5:null,p6:T.RMCCMStageID?T.RMCCMStageID:0,p7:e.parentId?Number(e.parentId):T.RMBDMFixonBusinessFlowID?T.RMBDMFixonBusinessFlowID:0,p8:T.RMBDMBusinessFlowID?T.RMBDMBusinessFlowID:0,p9:T.RMBDMFixonBusinessFlowDetID?T.RMBDMFixonBusinessFlowDetID:0,p10:r,p11:!1,p12:localStorage.getItem("userid"),p13:Z()().format("YYYY-MM-DD hh:mm:ss"),p14:localStorage.getItem("userid"),p15:Z()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,L.Z)(l,a,t).then((t=>{const l=t[0].status;200==l.code?(G.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails"),G.loading(!1),j({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(G.RefreshTable(),G.attachmentSave(t[0].Data.IDPK)),ce(),_.AccessRights.IsApproval&&G.Approval(!0),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails")&&(document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails").style.display="none",document.getElementById("divRMBDMFixonBusinessFlowSubDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainTable").style.display="block")):(G.alert({open:!0,color:"warning",message:[l.message]}),G.loading(!1)),g(!0)}))}))})()):(G.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),G.loading(!1))}))}))};function pe(e){return CreateEasy(e,_,j,G,J),!1}function De(e,l){return AdvanceSearch(e,l,$e,qe(),ge,t),!1}const Fe=(t,l,a,n,s,i)=>{const o=p.v.Api+"FP870S3/",r={data:{p1:null,p2:null,p3:1==T.IsRMFixReject,p4:null,p5:null,p6:"0"==T.RMCCMStageID?null:T.RMCCMStageID,p7:e.parentId?Number(e.parentId):0,p8:"0"==T.RMBDMBusinessFlowID?null:T.RMBDMBusinessFlowID,p9:"0"==T.RMBDMFixonBusinessFlowDetID?null:T.RMBDMFixonBusinessFlowDetID,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:l?"%"+l+"%":null,p18:l?"%"+l+"%":null,p19:"0"==T.RMCCMComplaintHeaderID?null:T.RMCCMComplaintHeaderID,p20:l?"%"+l+"%":null,p21:l?"%"+l+"%":null,p22:l?"%"+l+"%":null,p23:l?"%"+l+"%":null,p24:l?"%"+l+"%":null,p25:l?"%"+l+"%":null,p26:l?"%"+l+"%":null,p27:t,p28:10,p29:a,p30:null,p31:null,p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}},d=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const u={data:d};return(0,m.Z)(o,"ClearAll"==a?u:r,"SetDefaultFixonBusinessFlowSubDetID"==a&&n?n:_.token[0]).then((e=>{const l=e.Output.status.code,n=e.Output.data;if("200"==l){const e=n.length;if(s)return 1==n.length?n[0]:{};H(1==t?e>0?n:[]:z.concat(n)),"SetDefaultFixonBusinessFlowSubDetID"==a&&(e>0?ue(n[0],"SetDefaultFixonBusinessFlowSubDetID"):W("NORECORDS")),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},Me=(t,a,n)=>{const s=p.v.Api+"FP870S3/",i={data:{p1:null,p2:"FixonBusinessFlowSubDetCode"==n&&a?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:null,p7:l.RMBDMFixonBusinessFlowRegistryRMBDMFixonBusinessFlowID?l.RMBDMFixonBusinessFlowRegistryRMBDMFixonBusinessFlowID:"0",p8:null,p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:t,p28:10,p29:"FixonBusinessFlowSubDetID",p30:null,p31:null,p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};O(!0),(0,m.Z)(s,"ClearAll"==n?o:i,_.token[0]).then((e=>{const l=e.Output.status.code,a=e.Output.data;if("200"==l){const e=a.length;1==t?("FixonBusinessFlowSubDetCode"==n&&te(e>0),H(a)):("FixonBusinessFlowSubDetCode"==n&&te(!0),H(z.concat(a))),O(!1)}else G.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ge=(0,a.useCallback)((async(e,t,l)=>{"text"==l?A({type:l,name:t,value:e}):"number"==l?A({type:l,name:t,number:Number(e)}):"boolean"==l?A({type:l,name:t,boolean:e}):"date"==l?A({type:"text",name:t,value:e}):"select"==l&&"RMCCMStageID"==t&&(A({type:"text",name:"RMCCMStageID",value:e.RMCCMStageIDPK?e.RMCCMStageIDPK:null}),A({type:"text",name:"RMStageName",value:e.RMStageName?e.RMStageName:null}))}),[T]);function Be(e){if("RMCCMStageID"==e){if(!T.RMCCMStageID)return!1;A({type:"text",name:"RMCCMStageID",value:null}),A({type:"text",name:"RMStageName",value:""}),document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMStageNameClear")&&document.getElementById("RMBDMFixonBusinessFlowSubDetailsRMStageNameClear").click()}else if("RMBDMFixonBusinessFlowID"==e){if(!T.RMBDMFixonBusinessFlowID)return!1}else if("RMBDMBusinessFlowID"==e){if(!T.RMBDMBusinessFlowID)return!1}else if("RMBDMFixonBusinessFlowDetID"==e&&!T.RMBDMFixonBusinessFlowDetID)return!1}function ye(e){if("RMCCMStageID"==e){if(!T.RMCCMStageID)return!1;A({type:"text",name:"RMCCMStageID",value:null})}else if("RMBDMFixonBusinessFlowID"==e){if(!T.RMBDMFixonBusinessFlowID)return!1}else if("RMBDMBusinessFlowID"==e){if(!T.RMBDMBusinessFlowID)return!1}else if("RMBDMFixonBusinessFlowDetID"==e&&!T.RMBDMFixonBusinessFlowDetID)return!1}function Ie(e){G.ConfirmAlert(null),w(e.IsDraft),$(Number(e.FixonBusinessFlowSubDetIDPK)?Number(e.FixonBusinessFlowSubDetIDPK):0),A({type:"number",name:"RMCCMStageID",number:e.RMCCMStageID?Number(e.RMCCMStageID):0}),A({type:"text",name:"RMStageName",value:e.RMStageName?e.RMStageName:""}),A({type:"boolean",name:"IsRMFixReject",boolean:!!e.IsRMFixReject&&e.IsRMFixReject}),A({type:"text",name:"FixonBusinessFlowSubDetCode",value:e.FixonBusinessFlowSubDetCode?e.FixonBusinessFlowSubDetCode:""}),A({type:"number",name:"RMBDMFixonBusinessFlowID",number:e.RMBDMFixonBusinessFlowID?Number(e.RMBDMFixonBusinessFlowID):0}),A({type:"text",name:"RMFixonBusinessFlowName",value:e.RMFixonBusinessFlowName?e.RMFixonBusinessFlowName:""}),A({type:"number",name:"RMBDMBusinessFlowID",number:e.RMBDMBusinessFlowID?Number(e.RMBDMBusinessFlowID):0}),A({type:"text",name:"RMFlowDisplayName",value:e.RMFlowDisplayName?e.RMFlowDisplayName:""}),A({type:"number",name:"RMBDMFixonBusinessFlowDetID",number:e.RMBDMFixonBusinessFlowDetID?Number(e.RMBDMFixonBusinessFlowDetID):0}),A({type:"text",name:"RMBDMFixonBusinessFlowDetCode",value:e.RMBDMFixonBusinessFlowDetCode?e.RMBDMFixonBusinessFlowDetCode:""})}const fe=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(I.Z,{expanded:M,onChange:e=>{}},n().createElement(ae.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},M&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[870]"}," ",re("Add "),de("870")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(Ee.Z,{row:!0},n().createElement(Y.Z,{labelPlacement:"bottom",id:"fld870L1ECEntryCheckbox",control:n().createElement(P.Z,{checked:"1"==r,onChange:e=>c(e.target.checked)}),label:re(1==r?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{G.AttachExpand(!0)},id:"fld870L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(xe.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,re("Attach")))),!U&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ce()},id:"fld870L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(xe.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,re("Reset")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?n().createElement(F.Z,{frmctrlid:"fld870L1ECSaveBtnIsAdd",name:re(U?"Update":"Save"),disabled:!1,onClick:()=>{T.RMCCMStageID&&0!=T.RMCCMStageID?e.parentId&&0!=e.parentId?G.ConfirmAlert(n().createElement(we(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:re("Are you sure?"),onConfirm:()=>me(),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("Cancel"),showCancel:!0},re(U?"Do you want to Update?":"Do you want to Save?"))):G.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("RMBDMFixonBusinessFlowID")]}):G.alert({open:!0,color:"warning",message:[re("Please select the ")+" "+de("RMCCMStageID")]})}}):null,!e.createEasy&&n().createElement(R.Z,{frmctrlid:"fld870L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ce(),g(!1),G.EditClose(!0),G.hideAddBtn(!1),j({type:"Add",payload:!1})}}))))),n().createElement(E.Z,null,n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(d.Z,{spacing:2},n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Ce.Z,{json:_e,id:T.RMCCMStageID,"data-testid":T.RMCCMStageID,value:T.RMStageName,SPName:"RMBDMFixonBusinessFlowSubDetails",FieldName:"RMCCMStageID",tfLabel:de("RMCCMStageID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ge(e,"RMCCMStageID","select"),onChange:(e,t)=>{Fe(e,t,"RMCCMStageIDPK")},KeyBack:e=>{ye("RMCCMStageID")},fieldorder:"1",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{pe("894")},Tabledialog:()=>De("894","RMCCMStageID"),loading:k,clear:e=>{e&&Be("RMCCMStageID")}})),n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(Y.Z,{style:{color:"#337ab7"},"data-testid":T.IsRMFixReject,labelPlacement:"end",control:n().createElement(P.Z,{checked:"1"==T.IsRMFixReject,onChange:e=>{ge(e.target.checked,"IsRMFixReject","boolean")},frmctrlid:"fld870_20175",frmctrlidname:"IsRMFixReject",fieldorder:"2",tfLabel:de("IsRMFixReject")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:T.IsRMFixReject?"#21446F":"#999"}},de("IsRMFixReject"))}))),n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ce.Z,{"data-testid":T.FixonBusinessFlowSubDetCode,json:_e,SPName:"RMBDMFixonBusinessFlowSubDetails",FieldName:"FixonBusinessFlowSubDetCode",tfLabel:de("FixonBusinessFlowSubDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{G.ConfirmAlert(n().createElement(we(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ie(e),onCancel:()=>G.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:re("Yes"),cancelBtnText:re("No"),showCancel:!0},re("Do you want to update this record?")))})(t),onClick:()=>{ee&&Me(1,"","ClearAll"),te(!0)},frmctrlid:"fld870_20174",frmctrlidName:"FixonBusinessFlowSubDetCode",fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,onChange:(e,t)=>{ee&&Me(e,t,"FixonBusinessFlowSubDetCode"),ge(t,"FixonBusinessFlowSubDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:T.FixonBusinessFlowSubDetCode,loading:k,clear:e=>{e&&(A({type:"text",name:"FixonBusinessFlowSubDetCode",value:""}),te(!0))}})),n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ce.Z,{json:_e,id:T.RMBDMFixonBusinessFlowID,"data-testid":T.RMBDMFixonBusinessFlowID,value:T.RMFixonBusinessFlowName,SPName:"RMBDMFixonBusinessFlowSubDetails",FieldName:"RMBDMFixonBusinessFlowID",tfLabel:de("RMBDMFixonBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ge(e,"RMBDMFixonBusinessFlowID","select"),onChange:(e,t)=>{Fe(e,t,"RMBDMFixonBusinessFlowIDPK")},KeyBack:e=>{ye("RMBDMFixonBusinessFlowID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{pe("869")},Tabledialog:()=>De("869","RMBDMFixonBusinessFlowID"),loading:k,clear:e=>{e&&Be("RMBDMFixonBusinessFlowID")}})),n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ce.Z,{json:_e,id:T.RMBDMBusinessFlowID,"data-testid":T.RMBDMBusinessFlowID,value:T.RMFlowDisplayName,SPName:"RMBDMFixonBusinessFlowSubDetails",FieldName:"RMBDMBusinessFlowID",tfLabel:de("RMBDMBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ge(e,"RMBDMBusinessFlowID","select"),onChange:(e,t)=>{Fe(e,t,"RMBDMBusinessFlowIDPK")},KeyBack:e=>{ye("RMBDMBusinessFlowID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{pe("864")},Tabledialog:()=>De("864","RMBDMBusinessFlowID"),loading:k,clear:e=>{e&&Be("RMBDMBusinessFlowID")}})),n().createElement(u.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ce.Z,{json:_e,id:T.RMBDMFixonBusinessFlowDetID,"data-testid":T.RMBDMFixonBusinessFlowDetID,value:T.RMBDMFixonBusinessFlowDetCode,SPName:"RMBDMFixonBusinessFlowSubDetails",FieldName:"RMBDMFixonBusinessFlowDetID",tfLabel:de("RMBDMFixonBusinessFlowDetID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ge(e,"RMBDMFixonBusinessFlowDetID","select"),onChange:(e,t)=>{Fe(e,t,"RMBDMFixonBusinessFlowDetIDPK")},KeyBack:e=>{ye("RMBDMFixonBusinessFlowDetID")},fieldorder:"2",data:z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:z.length>0?z[0].TotalCount:0,openSlide:()=>{pe("868")},Tabledialog:()=>De("868","RMBDMFixonBusinessFlowDetID"),loading:k,clear:e=>{e&&Be("RMBDMFixonBusinessFlowDetID")}})))),n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("RMBDMFixonBusinessFlowSubDetailsSideBar").style.width="0",void S(!1))},"×"),f&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))})),Ye=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),[i,d]=((0,s.useSelector)((e=>e.form)),(0,a.useState)([])),[u,c]=(0,a.useState)(!0),[F,M]=(0,a.useState)(e.showDetail),[g,B]=(0,a.useState)(""),[w,C]=n().useState(!1),[x,f]=n().useState(""),[S,v]=n().useState(!1),h=(0,a.useContext)($e),{cstate:b,cdispatch:N}=qe(),[T,A]=(0,a.useState)(!1),[P,k]=(0,a.useState)(""),[Z,L]=(0,a.useState)(""),[O,z]=(0,a.useState)("");let H=(0,y.Z)();(0,a.useEffect)((()=>{b.editData.length>0&&(d(b.editData),C(!1),N({type:"PrimaryId",payload:b.editData[0].FixonBusinessFlowSubDetIDPK}))}),[b.editData]),(0,a.useEffect)((()=>{b.showTableview&&z(b.showTableview)}),[b.showTableview]),(0,a.useEffect)((()=>{c(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,a.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),C(null)},viewtoggle:()=>{C(!1)},viewlistProps:(t,l)=>{!function(t,l=!1){let a=p.v.Api+"FP870S3/",n={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:e.Dialogview?"1":null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:1,p28:10,p29:b.IsDraft?"DraftFixonBusinessFlowSubDetID":"FixonBusinessFlowSubDetID",p30:null,p31:null,p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,m.Z)(a,n,e).then((e=>{h.loading(!1),"200"==e.Output.status.code&&d(e.Output.data)}))}))}(t,l)},clear:()=>{"panel0"===w&&l.current.clear()}})));const K=e=>H?.[e]?H?.[e]:e,V=e=>b.language?.[e]?b.language[e]:e;function G(e,t){}const _=(e,t)=>(l,a)=>{f(S?Object.assign(...i.filter((e=>e.FixonBusinessFlowSubDetIDPK==t)).map((e=>e))):b.editData),C(!a&&e)};return n().createElement("div",null,n().createElement(I.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&c(!u)}},!w&&n().createElement(ae.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},b.IsDraft?K("Draft"):"",V("RMBDMFixonBusinessFlowSubDetails"),e.viewonly?" ":"("+b.count+")")):"",u?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?n().createElement(o.Z,{name:K("Add"),frmctrlid:"fld870L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{h.hideAddBtn(!0),N({type:"editData",payload:[]}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?n().createElement(r.Z,{frmctrlid:"fld870L1VCEditBtn",onClick:_("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&n().createElement(r.Z,{frmctrlid:"fld870L1VCEditBtnIsAdd",onClick:()=>{_("panel","")},disabled:!1}),!e.viewonly&&n().createElement(R.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld870L1VCCloseBtn",onClick:()=>{c(!1),h.hideAddBtn(!1),S&&(N({type:"editData",payload:[]}),d([]))}})):"")),n().createElement(E.Z,{style:{display:"block"}},i.map(((t,a)=>n().createElement("div",{key:a},w==="panel"+a?n().createElement(Ue,{ref:l,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Ne.Z,{tableName:"RMBDMFixonBusinessFlowSubDetails",tableID:870,parentID:t.FixonBusinessFlowSubDetIDPK,fldid:"fld870L1VCContainer",OpenSlideComponent:G,index:a,refresh:O,val:t,tf:V,t:K,title:"10.0.0.59-3:08:17 PM-18-7[870]"}))))))))})),$e=(0,a.createContext)(),qe=()=>{const e=(0,a.useContext)($e);if(void 0===e)throw new Error("useCont must be used within  RMBDMFixonBusinessFlowSubDetailsContext Provider");return e},We=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(),i=(0,a.useRef)(),o=(0,a.useRef)(),r=(0,a.useRef)(),d=(0,a.useRef)(),[u,c]=(0,a.useState)(!0),[m,p]=(0,a.useState)(),F=((0,s.useSelector)((e=>e.form)),(0,s.useDispatch)()),[M,g]=(0,a.useState)(0),[B,y]=(0,a.useReducer)(ke.D,ke.E),[w,C]=(0,a.useState)(""),[R,I]=(0,a.useState)([]),[E,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divRMBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{c(!0),document.getElementById("divRMBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(y({type:"editData",payload:[e.editData]}),y({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,a.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{y(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>l.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>l.current.HideEntryFields(!0)),500)}})));const f=e=>{I([]),document.getElementById("divRMBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetailsEntryTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainEntry").style.display="block",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails").style.width="0%",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails").style.display="none"};(0,a.useEffect)((()=>{F((e=>{(0,D.Z)(1).then((e=>{var t=new Array;t.push(e),y({type:"token",payload:t}),g(t.length),S(e)}))}))}),[]);const S=t=>{y({type:"AccessRights",payload:e.AccessRights}),x(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement($e.Provider,{value:{cstate:B,cdispatch:y,ContextApi:qe,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,l)=>e.TabShare(t,l),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{l.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==M&&l.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{d.current.tempsave(e,R),I([])},EditClose:e=>f(),AttachExpand:e=>(r.current.AttachmentData(B.PrimaryId),void(u&&(document.getElementById("overlayPreviewRMBDMFixonBusinessFlowSubDetails").style.width="50%",document.getElementById("divRMBDMFixonBusinessFlowSubDetails-Entry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainTable").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainEntry").style.width="100%",document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("RMBDMFixonBusinessFlowSubDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails").style.display="block",document.getElementById("overlayimgAttRMBDMFixonBusinessFlowSubDetails").style.width="25%"))),Expanded:e=>{B.ShowDetail&&o.current.tableClick(e),y({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{B.ShowDetail&&o.current.viewtoggle()},clear:e=>{y({type:"ShowDetail",payload:!1}),y({type:"editData",payload:[]}),B.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{l.current.HideEntryFields(e)},ExpandEntry:()=>{B.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),r.current.clrImgstate(!0)}}},n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetailsEntryTable",style:{width:"100%"}},B.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divRMBDMFixonBusinessFlowSubDetails-Entry",style:{width:"100%"}},0!==M?n().createElement(Ye,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(Pe.Z,{ref:d,menurefID:870,fileId:"LogoImgRMBDMFixonBusinessFlowSubDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewRMBDMFixonBusinessFlowSubDetails",frmctrlid:"PvwIm_870_L1_",tempImg:e=>{B.PrimaryId?r.current.AttachmentData(B.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:B.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divRMBDMFixonBusinessFlowSubDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Ue,{ref:i,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(Pe.Z,{ref:d,menurefID:870,fileId:"LogoImgRMBDMFixonBusinessFlowSubDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):l.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewRMBDMFixonBusinessFlowSubDetails",frmctrlid:"PvwIm_870_L1_",tempImg:e=>{B.PrimaryId?r.current.AttachmentData(B.PrimaryId):r.current.tempImg(e),I(e)},clearTempData:B.Add})),n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-MainTable"},0!==M?n().createElement(Ge,{ref:l,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ae.Z,{ImgAttachment:e=>f(),menurefID:870,fileId:"AttImgRMBDMFixonBusinessFlowSubDetails",imgid:"overlayimgAttRMBDMFixonBusinessFlowSubDetails",valueIDPK:B.PrimaryId,PriviewData:(e,t,l,a)=>{d.current.PriviewItem(e,t,l,a)},previd:"overlayPreviewRMBDMFixonBusinessFlowSubDetails",ref:r,imgloading:m,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_870_L1_",timglist:e=>{d.current.timglist(e),I(e)},clearTempData:B.Add}))),n().createElement("div",{id:"RMBDMFixonBusinessFlowSubDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),E&&n().createElement(Le(),{openDialog:E,closeDialog:e=>x(e),formID:870,PrimID:e.parentId,alert:(t,l,a)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Je=l(52743);const Qe=(0,a.forwardRef)(((e,t)=>{(0,s.useSelector)((e=>e.form));const l=(0,s.useDispatch)(),o=(0,a.useRef)(),[r,C]=(0,a.useState)([]),[R,I]=(0,a.useState)(!1),[E,x]=(0,a.useState)(!0),[f,S]=(0,a.useState)(e.showDetail),[v,h]=(0,a.useState)(!1),b=(0,a.useContext)(c.RMBDMFixonBusinessFlowRegistryContext),{cstate:T,cdispatch:A}=(0,c.ContextApi)(),[P,k]=(0,a.useState)(!1),[Z,L]=(0,a.useState)(!1),[O,z]=(0,a.useState)(!1),[H,K]=(0,a.useState)(0),[V,G]=(0,a.useState)(""),[_,j]=(0,a.useState)(""),[U,Y]=(0,a.useState)(null),[$,q]=(0,a.useState)(""),[W,J]=(0,a.useState)([]),[Q,X]=(0,a.useState)({IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!1,IsPrint:!0,IsExport:!0});let ee=(0,y.Z)();async function te(t,l,a){V&&G(t),b.loading(!0);let n=p.v.Api+"FPN869S3/",s={data:{p1:t||T.PrimaryId,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:1,p19:10,p20:a,p21:null,p22:null,p23:localStorage.getItem("UserGroupID"),p24:localStorage.getItem("userid")}};var i={};0==T.token.length&&await(0,D.Z)(0).then((e=>{i=e})),await(0,m.Z)(n,s,0==T.token.length?i:T.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=e.Output.data[0][869][0];C(t),K(e.Output.data[0][869][0].ViewCancelCheck);let l=e.Output.data[0];delete l[869];const a=Object.values(l).flat().sort(((e,t)=>e.orderno-t.orderno));J(a),b.loading(!1)}else b.loading(!1),b.alert({open:!0,color:"warning",message:["No record found"]})}))}(0,a.useEffect)((()=>{e.l4viewonly?C(e.data):e.viewonly?te(T.PrimaryId,0,"RMBDMFixonBusinessFlowID"):(C(T.PrimaryData),l({type:"RMBDMFixonBusinessFlowRegistry869",RMBDMFixonBusinessFlowRegistryRMBDMFixonBusinessFlowID:T.PrimaryData.RMBDMFixonBusinessFlowIDPK}))}),[e.data]),(0,a.useEffect)((()=>T.PrimaryData.length>0||T.PrimaryId?(te(T.PrimaryId,0,"RMBDMFixonBusinessFlowID"),!1):void 0),[T.PrimaryData,T.PrimaryId]),(0,a.useEffect)((()=>{x(e.ExpandDetailValue)}),[e.ExpandDetailValue]),(0,a.useEffect)((()=>{e.inboxdata&&Object.keys(e.inboxdata).length>0&&(x(!0),te(e.inboxdata.id,e.inboxdata.token,"RMBDMFixonBusinessFlowID"),L(!0))}),[e.inboxdata]),(0,a.useImperativeHandle)(t,(()=>({getAlert:e=>{x(!0),I(!1)},inboxprops:e=>{x(!0),te(e.id,e.token,"RMBDMFixonBusinessFlowID"),A({type:"PrimaryId",payload:e.id}),L(!0)}})));const le=()=>{z(!0)};return n().createElement("div",null,n().createElement(d.Z,null,n().createElement(u.Z,{xs:$?3:12,md:$?3:12,lg:$?3:12},n().createElement("div",{className:"gridcardl41A",id:"RMBDMFixonBusinessFlowRegistryDiv"},n().createElement(d.Z,null,n().createElement(u.Z,{sm:12,md:12,lg:12,xs:12},n().createElement(d.Z,{style:{marginBottom:"1%"}},n().createElement(u.Z,{sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"ViewHeadingTitle2"},n().createElement("span",{style:{cursor:"pointer"}},n().createElement("div",{id:"fld869L4VCMdOutlineArrowBackIosNew"},n().createElement(w.aQX,{className:"BackBtnIcon",onClick:()=>{b.ShowTableDiv(!1),b.add()}}),"Primary Details")),n().createElement("div",{className:"iconstyle displayFlex"},Z&&n().createElement(F.Z,{className:"ApprBtnCommon",name:"Approve",disabled:!1,onClick:()=>{le()}}),Z&&n().createElement(F.Z,{className:"RejBtnCommon",name:"Reject",disabled:!1,onClick:()=>{le()}}),T.AccessRights.IsEdit&&n().createElement("div",{id:"fld869L4VCEditIcon",onClick:()=>{b.editview(r)}},n().createElement(i.ZP,{title:"Edit"},n().createElement("span",null,n().createElement(M.Z,{style:{width:"20px",marginRight:"10px"}})))),T.AccessRights.IsAdd&&n().createElement("div",{id:"fld869L4VCCreateNewFolderIcon",onClick:()=>{b.add()}},n().createElement(i.ZP,{title:"Add"},n().createElement("span",null," ",n().createElement(g.Z,null)," "))),n().createElement("div",{id:"fld869L4VCRefreshIcon",onClick:()=>{te(T.PrimaryId,0,"RMBDMFixonBusinessFlowID")}},n().createElement(i.ZP,{title:"Refresh"},n().createElement("span",null," ",n().createElement(B.Z,null)," "))),$&&n().createElement("div",{id:"fld869L4VCFullscreen",onClick:()=>$&&q("")},n().createElement(i.ZP,{title:"Expand"},n().createElement("span",null,n().createElement(N.$4j,{style:{width:"18px",height:"18px",marginTop:"3px"}})))))))),n().createElement(Je.Z,{tableName:"RMBDMFixonBusinessFlowRegistry",tableID:869,parentID:T.PrimaryId,fldid:"fld869L4VCContainer",OpenSlideComponent:function(e,t){},index:0,val:r,tf:e=>T.language?.[e]?T.language[e]:e,t:e=>ee?.[e]?ee[e]:e,cardName:$,SubCardData:W,SubformsLink:function(e){q(e.name),X((t=>({...t,IsAdd:e.isNestAdd,IsEdit:e.isNestEdit})))},alertmsg:e=>b.alert(e),title:"10.0.0.59-3:08:17 PM-18-7[869]"}))))),$&&n().createElement(u.Z,{sm:9,md:9,xs:9,className:"lstscroll",style:{height:"auto"}},"RMBDMFixonBusinessFlowDetail"==$&&n().createElement(He,{AccessRights:Q,loading:e=>b.loading(e),parentData:r,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:T.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>te(T.PrimaryId,0,"RMBDMFixonBusinessFlowID")}),"RMBDMFixonBusinessFlowSubDetails"==$&&n().createElement(We,{AccessRights:Q,loading:e=>b.loading(e),parentData:r,alertmsg:e=>b.alert(e),ConfirmAlert:e=>{b.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:T.PrimaryId,SlideComponentType:(e,t)=>b.SlideComponentType(e,t),openNav:e=>b.openNav(e),openDialog:e=>b.openDialog(e),DialogComponentType:e=>b.DialogComponentType(e),cardRefresh:()=>te(T.PrimaryId,0,"RMBDMFixonBusinessFlowID")}))))}))},81461:(e,t,l)=>{l.d(t,{A:()=>a});const a={EnterKeyValues:{RMBDMFixonBusinessFlowRegistry:[,"RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName","RMCCMComplaintHeaderName","RMCategoryKey"]},Label:{RMBDMFixonBusinessFlowRegistry:{RMBDMFixonBusinessFlowCode:["RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName"],RMFixonBusinessFlowName:["RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName"],RMCCMComplaintHeaderID:["RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName"],RMCategoryKey:["RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName"]}},LabelHeader:{RMBDMFixonBusinessFlowRegistry:{RMBDMFixonBusinessFlowCode:["Code","Type"],RMFixonBusinessFlowName:["Code","Type"],RMCCMComplaintHeaderID:["RMBDMFixonBusinessFlowCode","RMFixonBusinessFlowName"],RMCategoryKey:["Code","Type"]}},Property:{RMBDMFixonBusinessFlowRegistry:{RMBDMFixonBusinessFlowCode:{id:"fld869_20160",labelID:"RMBDMFixonBusinessFlowCode",maxLength:"20",labelname:"Code",frmctrlid:"fld869_20160",frmctrlidname:"RMBDMFixonBusinessFlowCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},RMFixonBusinessFlowName:{id:"fld869_20161",labelID:"RMFixonBusinessFlowName",maxLength:"50",labelname:"Type",frmctrlid:"fld869_20161",frmctrlidname:"RMFixonBusinessFlowName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},RMCCMComplaintHeaderID:{id:"fld869_20166",clearID:"RMBDMFixonBusinessFlowRegistryRMCCMComplaintHeaderNameClear",type:"select",labelID:"RMCCMComplaintHeaderIDPK",labelname:"RMCCMComplaintHeaderID",fielddisplayname:"RMCCMComplaintHeaderName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},RMCategoryKey:{id:"fld869_20162",labelID:"RMCategoryKey",maxLength:"",labelname:"RMCategoryKey",frmctrlid:"fld869_20162",frmctrlidname:"RMCategoryKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{RMBDMFixonBusinessFlowRegistry:{RMCCMComplaintHeaderID:["RMCCMComplaintHeaderCode","RMCCMComplaintHeaderName"]}}}}}]);