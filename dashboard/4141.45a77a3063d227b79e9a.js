/*! For license information please see 4141.45a77a3063d227b79e9a.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_dashboard=self.webpackChunk_shared_routing_dashboard||[]).push([[4141],{70329:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"}),"Attachment");t.Z=o},89875:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=o},66735:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},28428:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},87239:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");t.Z=o},43099:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp");t.Z=o},72576:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M21.26 21.21L3.79 3.74 2.38 5.15l2.74 2.74-.12.12V19c0 1.1.9 2 2 2h10c.35 0 .68-.1.97-.26l1.88 1.88 1.41-1.41zM7 19V9.77L16.23 19H7zm3.84-14H17v9.11l2 2V5c0-1.1-.9-2-2-2h-6.99L7.95 5.06l1.41 1.41L10.84 5z"}),"NoSimOutlined");t.Z=o},54769:(e,t,l)=>{var a=l(95318),n=l(20862);t.Z=void 0;var i=n(l(92950)),o=(0,a(l(2108)).default)(i.createElement("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"}),"VideoLibrary");t.Z=o},47856:(e,t,l)=>{l.r(t),l.d(t,{default:()=>k});var a=l(92950),n=l.n(a),i=(l(82729),l(75355),l(17812)),o=l(89875),r=l(66735),u=l(282),s=l(10635),c=l(40900),d=l(51673),p=l(868),m=l(26537),S=l(14439),D=l(27848),y=l(74095),C=l(11377),g=l(92371),I=(l(65107),l(92772)),h=(l(54180),l(71168)),P=l.n(h),v=(l(37274),l(82934)),N=l(30037),T=l(65763),E=l(49174);l(99940);const{forwardRef:f,useRef:M,useImperativeHandle:b,useContext:x}=n(),w={PPMSSCreationWorkOrderIDPK:"",PPMSSCreationAssetCode:"",SSCreMRNo:"",SSCreWorkOrder:"",SSCreWoDateTime:"",SSCreWoDateTimeType:"",SSCreWoDateTimeBetween:"",SSCreGeneratedTtm:"",SSCreActualDate:"",SSCreActualDateType:"",SSCreActualDateBetween:"",SSCreWoCompletedDate:"",SSCreWoCompletedDateType:"",SSCreWoCompletedDateBetween:"",SSCreParentCreationKey:"",SSCreSLAHours:"",SSCreMaintenanceHours:"",IsSSCreWithDraw:"",SSCreWithDrawRemarks:"",SSCreWithDrawEmpKey:"",IsSSCreReschedule:"",SSCreRescheduleRemarks:"",SSCreReschduleEmpKey:"",IsSSCreRework:"",SSCreReworkRemarks:"",SSCreReworkEmpKey:"",SSCrePPMLattitude:"",SSCrePPMLongitude:"",IsSSCreTechManual:"",IsSSCreSupManual:"",IsSSCreMaterial:"",SSCreXCreationAssetKey:"",SSCreXWorkOrder:"",SSCreXWoDate:"",SSCreXWoDateType:"",SSCreXWoDateBetween:"",SSCreChargeLedgerKey:"",SSCreCostLedgerKey:"",MaterialRequestkey:"",HierarchyDetailsKey:"",IsDraft:0,Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",IsActive:1,DeleStat:0,CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",PaymentTermsID:"",PaymentTermsName:"",PaymentType:"",Period:"",UserCode:"",UserName:"",ContractCode:"",ContractName:"",StartDate:"",StartDateType:"",StartDateBetween:"",EndDate:"",EndDateType:"",EndDateBetween:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",LocalityCode:"",LocalityName:"",BuildingCode:"",BuildingName:"",BuildingNo:"",BuildingLatitude:"",BulidingLongitude:"",BuildingArea:"",FloorCode:"",FloorName:"",SpotTypeID:"",SpotTypeCode:"",SpotTypeName:"",AssWingID:"",AssWingCode:"",AssWingName:"",WingLatitude:"",WingLongitude:"",SpotCode:"",SpotName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageName:"",StageSeqNo:"",EmployeeID:"",EmployeeCode:"",FirstName:"",LastName:"",EmpContactNo1:"",EmpEmailOfficial:"",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},B=f(((e,t)=>{const[l,i]=(0,a.useState)(new Date),[o,r]=(0,a.useState)(new Date),[h,f]=(0,a.useReducer)(g.Z,w),[x,B]=(0,a.useState)(0),[k,L]=(0,a.useState)(0),[W,O]=(0,a.useState)({current:1,pageSize:10}),[A,Z]=(0,a.useState)(""),[F]=(0,a.useState)("809"),[K,R]=(0,a.useState)([]),[H,z]=(0,a.useState)(!1),[G,V]=(0,a.useState)({open:!1,color:"",message:[""]}),[q,U]=(0,a.useState)((0,s.format)(new Date,"yyyy")),[X,Y]=(0,a.useState)((0,s.format)(new Date,"M")),[j,_]=(M(),(0,a.useState)(new Date)),[$,J]=(0,a.useState)([]),[Q,ee]=(0,a.useState)([]),[te,le]=(0,a.useState)([]),[ae,ne]=(0,a.useState)([]),[ie,oe]=(0,a.useState)([]),[re,ue]=(0,a.useState)({WorkOrder:"",WoDateTime:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",DivisionName:"",DisciplineName:"",EquipmentName:"",FrequencyName:"",PPMCreationAssetCode:"",GeneratedDateTime:"",ActualDateTime:"",WoCompletedDate:"",ParentCreationKey:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",IsWithDraw:"",WithDrawRemarks:"",IsReschedule:"",RescheduleRemarks:"",IsRework:"",ReworkRemarks:"",SequenceNo:"",PPMLattitude:"",PPMLongitude:"",IsCCMRaised:"",XCreationAssetKey:"",XWorkOrder:"",XWoDate:"",PPMGeneralCost:"",PPMMaterialCost:"",PPMLabourCost:"",PPMVendorInvCost:"",PPMTotalCost:"",PPMChargeLedgerKey:"",PPMCostLedgerKey:"",SchFreqAssetKey:"",PpmCreationDisciplineKey:"",PPMSBSTimeCostKey:"",BMSKey:"",IsWoManual:"",PPMTypeName:"",FirstName:"",FirstName1:"",FirstName2:"",FirstName3:"",HierarchyDetCode:"",FlowDisplayName:"",FixonBusinessFlowName:"",PPMStageName:"",PPMCreationOthersAddOnCode:"",PPMCreationAnaAddOnCode:"",PPMCreationSupAddOnCode:""}),[se,ce]=(0,a.useState)(""),[de,pe]=P()("2003"),[me,Se]=(0,a.useState)([]),[De,ye]=(0,a.useState)([]),[Ce,ge]=(0,a.useState)([]),[Ie,he]=(0,a.useState)([]),[Pe,ve]=(0,a.useState)(""),[Ne,Te]=n().useReducer(N.d,N.E),[Ee]=(0,a.useState)(localStorage.getItem("userid")),fe=M(),Me=M(),be=M(),[xe,we]=(0,a.useState)([]);M(null),M(null),(0,a.useEffect)((()=>{!function(e){let t=[],l=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(l.push(e.FieldDisplay),a.push(e.FieldDescription)));let i=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[i]]})})),Te({type:"language",payload:Object.assign({},...n)}),ue(l.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),ne(t),oe(l),ye(a),ge(l)}(de)}),[de]),(0,a.useEffect)((()=>{(0,m.Z)(0).then((e=>{B(e)}))}),[]),b(t,(()=>({Prev:()=>{h.ContractName&&h.LocalityName?ke():e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})},Next:()=>{h.ContractName&&h.LocalityName?Be():e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})},currentDatePic:e=>{_(e)}})));const Be=()=>{let e=(0,s.addMonths)(l,1);i((0,s.addMonths)(l,1)),Y((0,s.format)(new Date(e),"M")),U((0,s.format)(new Date(e),"yyyy")),Re("PPSSMCOUNT",null,(0,s.format)(new Date(e),"M"),(0,s.format)(new Date(e),"yyyy"))},ke=()=>{let e=(0,s.subMonths)(l,1);i((0,s.subMonths)(l,1)),Y((0,s.format)(new Date(e),"M")),U((0,s.format)(new Date(e),"yyyy")),Re("PPSSMCOUNT",null,(0,s.format)(new Date(e),"M"),(0,s.format)(new Date(e),"yyyy"))},Le=t=>h.ContractID&&0!=h.ContractID?h.LocalityID&&0!=h.LocalityID?void Oe(t):(e.alertmsg({open:!0,color:"warning",message:["Please select the Location"]}),!1):(e.alertmsg({open:!0,color:"warning",message:["Please select the Contract Name"]}),!1),We=(e,t,l)=>{if("BuildingID"==l&&(J(t),t.length>0)){let e=[];t.map(((l,a)=>e.push((t.length,l.BuildingIDPK))))}if("DivisionID"==l&&(ee(t),t.length>0)){let e=[];t.map(((l,a)=>e.push(t.length==a+1?l.DivisionIDPK+",":l.DivisionIDPK)))}if("DisciplineID"==l&&(le(t),t.length>0)){let e=[];t.map(((l,a)=>e.push(t.length==a+1?l.DisciplineIDPK+",":l.DisciplineIDPK)))}},Oe=e=>{Re("PPMSSCOUNT")},Ae=(t,l,a,n,i)=>{let o=[],r=[],u=[];$.map((e=>{e&&o.push(e.BuildingID)})),Q.map((e=>{e&&r.push(e.DivisionID)})),te.map((e=>{e&&u.push(e.DisciplineID)}));const s=c.v.Api+"FP521S3/",p={data:{p1:null,p2:null,p3:null,p4:h.SSCreWoDateTime?h.SSCreWoDateTime:null,p5:null,p6:null,p7:null,p8:h.SSCreActualDate?h.SSCreActualDate:null,p9:null,p10:null,p11:h.SSCreWoCompletedDate?h.SSCreWoCompletedDate:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:1==h.IsSSCreWithDraw,p18:null,p19:l?"%"+l+"%":null,p20:1==h.IsSSCreReschedule,p21:null,p22:l?"%"+l+"%":null,p23:1==h.IsSSCreRework,p24:null,p25:l?"%"+l+"%":null,p26:l?"%"+l+"%":null,p27:l?"%"+l+"%":null,p28:1==h.IsSSCreTechManual,p29:l?"%"+l+"%":null,p30:l?"%"+l+"%":null,p31:h.SSCreXWoDate?h.SSCreXWoDate:null,p32:null,p33:null,p34:l?"%"+l+"%":null,p35:l?"%"+l+"%":null,p36:l?"%"+l+"%":null,p37:h.SSTechStartDateTime?h.SSTechStartDateTime:null,p38:null,p39:null,p40:h.SSTechEndDateTime?h.SSTechEndDateTime:null,p41:null,p42:null,p43:l?"%"+l+"%":null,p44:l?"%"+l+"%":null,p45:null,p46:null,p47:"0"==h.ContractID?null:h.ContractID,p48:"0"==h.LocalityID?null:h.LocalityID,p49:"0"==h.BuildingID?null:h.BuildingID,p50:"0"==h.FloorID?null:h.FloorID,p51:"0"==h.SpotID?null:h.SpotID,p52:"0"==h.DivisionID?null:h.DivisionID,p53:"0"==h.DisciplineID?null:h.DisciplineID,p54:"0"==h.FrequencyID?null:h.FrequencyID,p55:"0"==h.PPMBusinessFlowID?null:h.PPMBusinessFlowID,p56:"0"==h.PPMFixonBusinessFlowID?null:h.PPMFixonBusinessFlowID,p57:"0"==h.PPMStageID?null:h.PPMStageID,p58:e.Dialogview?"1":null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:"0"==h.ContractGroupID?null:h.ContractGroupID,p66:l?"%"+l+"%":null,p67:l?"%"+l+"%":null,p68:"0"==h.TaxID?null:h.TaxID,p69:l?"%"+l+"%":null,p70:l?"%"+l+"%":null,p71:l?"%"+l+"%":null,p72:"0"==h.CustomerID?null:h.CustomerID,p73:l?"%"+l+"%":null,p74:l?"%"+l+"%":null,p75:"0"==h.ContractTypeID?null:h.ContractTypeID,p76:l?"%"+l+"%":null,p77:l?"%"+l+"%":null,p78:"0"==h.ContractCategID?null:h.ContractCategID,p79:l?"%"+l+"%":null,p80:l?"%"+l+"%":null,p81:"0"==h.ConPaymentTermsID?null:h.ConPaymentTermsID,p82:l?"%"+l+"%":null,p83:l?"%"+l+"%":null,p84:l?"%"+l+"%":null,p85:"0"==h.LocalityGroupID?null:h.LocalityGroupID,p86:l?"%"+l+"%":null,p87:l?"%"+l+"%":null,p88:"0"==h.CityID?null:h.CityID,p89:l?"%"+l+"%":null,p90:l?"%"+l+"%":null,p91:"0"==h.AdminLocalityTypeID?null:h.AdminLocalityTypeID,p92:l?"%"+l+"%":null,p93:l?"%"+l+"%":null,p94:l?"%"+l+"%":null,p95:l?"%"+l+"%":null,p96:"0"==h.AssBuildingTypeID?null:h.AssBuildingTypeID,p97:l?"%"+l+"%":null,p98:l?"%"+l+"%":null,p99:l?"%"+l+"%":null,p100:l?"%"+l+"%":null,p101:l?"%"+l+"%":null,p102:l?"%"+l+"%":null,p103:"0"==h.SpotTypeID?null:h.SpotTypeID,p104:l?"%"+l+"%":null,p105:l?"%"+l+"%":null,p106:"0"==h.AssWingID?null:h.AssWingID,p107:l?"%"+l+"%":null,p108:l?"%"+l+"%":null,p109:l?"%"+l+"%":null,p110:l?"%"+l+"%":null,p111:l?"%"+l+"%":null,p112:l?"%"+l+"%":null,p113:l?"%"+l+"%":null,p114:l?"%"+l+"%":null,p115:l?"%"+l+"%":null,p116:l?"%"+l+"%":null,p117:l?"%"+l+"%":null,p118:l?"%"+l+"%":null,p119:t,p120:10,p121:a,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};z(!0);const m=Object.keys(p.data).slice(0,Object.keys(p.data).length).reduce(((e,t,l)=>(e[t]=l>Object.keys(p.data).length-8?p.data[t]:null,e)),{});z(!0);const S={data:m};(0,d.Z)(s,"ClearAll"==a?S:p,"SetDefaultPPMSSCreationWorkOrderID"==a&&n?n:x).then((l=>{const n=l.Output.status.code,o=l.Output.data;if("200"==n){const l=o.length;1==t?l>0?(R(o),i&&"BuildingIDPK"==a&&(fe.current.checkedAll(o),e.loading(!1)),i&&"DivisionIDPK"==a&&(Me.current.checkedAll(o),e.loading(!1)),i&&"DisciplineIDPK"==a&&(be.current.checkedAll(o),e.loading(!1))):R([]):R(K.concat(o)),z(!1)}else e.alertmsg({open:!0,color:"warning",message:[l.Output.status.message]}),z(!1)})),e.loading(!1)},Ze=(0,a.useCallback)(((t,l,a)=>{"text"==a?f({type:a,name:l,value:t}):"number"==a?f({type:a,name:l,number:t}):"boolean"==a?f({type:a,name:l,boolean:t}):"date"==a||"select"==a&&("ContractID"==l?(f({type:"text",name:"ContractID",value:t.ContractIDPK?t.ContractIDPK:null}),f({type:"text",name:"ContractName",value:t.ContractName?t.ContractName:null}),h.LocalityID&&e.MandatoryCheck(!0)):"LocalityID"==l?(f({type:"text",name:"LocalityID",value:t.LocalityIDPK?t.LocalityIDPK:null}),f({type:"text",name:"LocalityName",value:t.LocalityName?t.LocalityName:null}),h.ContractID&&e.MandatoryCheck(!0)):"BuildingID"==l?(f({type:"text",name:"BuildingID",value:t.BuildingIDPK?t.BuildingIDPK:null}),f({type:"text",name:"BuildingName",value:t.BuildingName?t.BuildingName:null}),f({type:"text",name:"LocalityID",value:t.LocalityID?t.LocalityID:null}),f({type:"text",name:"LocalityName",value:t.LocalityName?t.LocalityName:null})):"DivisionID"==l?(f({type:"text",name:"DivisionID",value:t.DivisionIDPK?t.DivisionIDPK:null}),f({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:null})):"DisciplineID"==l&&(f({type:"text",name:"DisciplineID",value:t.DisciplineIDPK?t.DisciplineIDPK:null}),f({type:"text",name:"DisciplineName",value:t.DisciplineName?t.DisciplineName:null}),f({type:"text",name:"DivisionID",value:t.DivisionID?t.DivisionID:null}),f({type:"text",name:"DivisionName",value:t.DivisionName?t.DivisionName:null})))}),[h]);function Fe(e){"ContractID"==e?(f({type:"text",name:"ContractID",value:""}),f({type:"text",name:"ContractName",value:""}),f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),f({type:"text",name:"BuildingID",value:null}),f({type:"text",name:"BuildingName",value:""}),J([]),document.getElementById("PPMSSCreationWorkOrderBuildingDayNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingDayNameClear").click()):"LocalityID"==e?(f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),f({type:"text",name:"BuildingID",value:null}),f({type:"text",name:"BuildingName",value:""}),J([]),document.getElementById("PPMSSCreationWorkOrderBuildingDayNameClear")&&document.getElementById("PPMSSCreationWorkOrderBuildingDayNameClear").click()):"BuildingID"==e?(f({type:"text",name:"BuildingID",value:null}),f({type:"text",name:"BuildingName",value:""}),J([]),document.getElementById("PPMCreationAssetBuildingDayNameClear")&&document.getElementById("PPMCreationAssetBuildingDayNameClear").click()):"DivisionID"==e?(f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),ee([]),document.getElementById("PPMSSCreationWorkOrderDivisionDayNameClear")&&document.getElementById("PPMSSCreationWorkOrderDivisionDayNameClear").click(),f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),le([]),document.getElementById("PPMSSCreationWorkOrderDisciplineDayNameClear")&&document.getElementById("PPMSSCreationWorkOrderDisciplineDayNameClear").click()):"DisciplineID"==e&&(f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),le([]),document.getElementById("PPMSSCreationWorkOrderDisciplineDayNameClear")&&document.getElementById("PPMSSCreationWorkOrderDisciplineDayNameClear").click())}function Ke(e){"ContractID"==e?f({type:"text",name:"ContractID",value:""}):"LocalityID"==e?(f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"FloorID",value:""}),f({type:"text",name:"SpotID",value:""})):"BuildingID"==e?(f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"FloorID",value:""}),f({type:"text",name:"SpotID",value:""}),z(!0)):"DivisionID"==e?f({type:"text",name:"DivisionID",value:""}):"DisciplineID"==e&&(f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DivisionID",value:""}))}const Re=(t,l,a,i,o,r,u,s)=>{e.loading(!0);let p=[],S=[],D=[];$.map((e=>{e&&p.push(e.BuildingID)})),Q.map((e=>{e&&S.push(e.DivisionID)})),te.map((e=>{e&&D.push(e.DisciplineID)}));const y=c.v.Api+"FP521S3/";let C={data:{p1:u&&u.PPMSSCreationWorkOrderIDPK?u.PPMSSCreationWorkOrderIDPK:null,p2:u&&u.PPMSSCreationAssetCode?u.PPMSSCreationAssetCode:null,p3:u&&u.SSCreWorkOrder?u.SSCreWorkOrder:null,p4:u&&u.SSCreWoDateTime?u.SSCreWoDateTime:null,p5:u&&u.SSCreWoDateTimeType?u.SSCreWoDateTimeType:null,p6:u&&u.SSCreWoDateTimeBetween?u.SSCreWoDateTimeBetween:null,p7:u&&u.SSCreGeneratedTtm?u.SSCreGeneratedTtm:null,p8:u&&u.SSCreActualDate?u.SSCreActualDate:null,p9:u&&u.SSCreActualDateType?u.SSCreActualDateType:null,p10:u&&u.SSCreActualDateBetween?u.SSCreActualDateBetween:null,p11:u&&u.SSCreWoCompletedDate?u.SSCreWoCompletedDate:null,p12:u&&u.SSCreWoCompletedDateType?u.SSCreWoCompletedDateType:null,p13:u&&u.SSCreWoCompletedDateBetween?u.SSCreWoCompletedDateBetween:null,p14:u&&u.SSCreParentCreationKey?u.SSCreParentCreationKey:null,p15:"PPMSSCOUNT"==t?X||(new Date).getMonth()+1:"PPMSSDAYWISEDET"==t?l:null,p16:"PPMSSCOUNT"==t?q||(new Date).getFullYear():"PPMSSDAYWISEDET"==t?X||(new Date).getMonth()+1:null,p17:"PPMSSDAYWISEDET"==t?q||(new Date).getFullYear():null,p18:null,p19:u&&u.SSCreWithDrawEmpKey?u.SSCreWithDrawEmpKey:null,p20:null,p21:null,p22:u&&u.SSCreReschduleEmpKey?u.SSCreReschduleEmpKey:null,p23:null,p24:"PPMSSCOUNT"==t?"PPMSSDAY":null,p25:u&&u.SSCreReworkEmpKey?u.SSCreReworkEmpKey:null,p26:u&&u.SSCrePPMLattitude?u.SSCrePPMLattitude:null,p27:u&&u.SSCrePPMLongitude?u.SSCrePPMLongitude:null,p28:null,p29:u&&u.SSCreXCreationAssetKey?u.SSCreXCreationAssetKey:null,p30:u&&u.SSCreXWorkOrder?u.SSCreXWorkOrder:null,p31:u&&u.SSCreXWoDate?u.SSCreXWoDate:null,p32:u&&u.SSCreXWoDateType?u.SSCreXWoDateType:null,p33:u&&u.SSCreXWoDateBetween?u.SSCreXWoDateBetween:null,p34:u&&u.SSCreChargeLedgerKey?u.SSCreChargeLedgerKey:null,p35:u&&u.SSCreCostLedgerKey?u.SSCreCostLedgerKey:null,p36:u&&u.HierarchyDetailsKey?u.HierarchyDetailsKey:null,p37:u&&u.SSTechStartDateTime?u.SSTechStartDateTime:null,p38:u&&u.SSTechStartDateTimeType?u.SSTechStartDateTimeType:null,p39:u&&u.SSTechStartDateTimeBetween?u.SSTechStartDateTimeBetween:null,p40:u&&u.SSTechEndDateTime?u.SSTechEndDateTime:null,p41:u&&u.SSTechEndDateTimeType?u.SSTechEndDateTimeType:null,p42:u&&u.SSTechEndDateTimeBetween?u.SSTechEndDateTimeBetween:null,p43:u&&u.SSTechName?u.SSTechName:null,p44:u&&u.SSTechKeys?u.SSTechKeys:null,p45:"DraftPPMSSCreationWorkOrderID"==t?"1":"0",p46:null,p47:"0"==h.ContractID?null:h.ContractID,p48:"0"==h.LocalityID?null:h.LocalityID,p49:p.length>0?p.toString():null,p50:u&&u.FloorID?u.FloorID:null,p51:u&&u.SpotID?u.SpotID:null,p52:S.length>0?S.toString():null,p53:D.length>0?D.toString():null,p54:u&&u.FrequencyID?u.FrequencyID:null,p55:u&&u.PPMBusinessFlowID?u.PPMBusinessFlowID:null,p56:u&&u.PPMFixonBusinessFlowID?u.PPMFixonBusinessFlowID:null,p57:u&&u.PPMStageID?u.PPMStageID:null,p58:null,p59:null,p60:u&&u.CreatedUserID_varchar?u.CreatedUserID_varchar:null,p61:u&&u.CreatedTtm?u.CreatedTtm:null,p62:u&&u.CreatedTtmType?u.CreatedTtmType:null,p63:u&&u.CreatedTtmBetween?u.CreatedTtmBetween:null,p64:null,p65:u&&u.ContractGroupID?u.ContractGroupID:null,p66:u&&u.ContractGroupCode?u.ContractGroupCode:null,p67:u&&u.ContractGroupName?u.ContractGroupName:null,p68:u&&u.TaxID?u.TaxID:null,p69:u&&u.TaxCode?u.TaxCode:null,p70:u&&u.TaxName?u.TaxName:null,p71:u&&u.TaxValue?u.TaxValue:null,p72:u&&u.CustomerID?u.CustomerID:null,p73:u&&u.CustomerCode?u.CustomerCode:null,p74:u&&u.CustomerName?u.CustomerName:null,p75:u&&u.ContractTypeID?u.ContractTypeID:null,p76:u&&u.ContractTypCode?u.ContractTypCode:null,p77:u&&u.ContractTypeName?u.ContractTypeName:null,p78:u&&u.ContractCategID?u.ContractCategID:null,p79:u&&u.ContractCategCode?u.ContractCategCode:null,p80:u&&u.ContractCategName?u.ContractCategName:null,p81:u&&u.ConPaymentTermsID?u.ConPaymentTermsID:null,p82:u&&u.ConPaymentTermsName?u.ConPaymentTermsName:null,p83:u&&u.ContractCode?u.ContractCode:null,p84:u&&u.ContractName?u.ContractName:null,p85:u&&u.LocalityGroupID?u.LocalityGroupID:null,p86:u&&u.LocalityGroupCode?u.LocalityGroupCode:null,p87:u&&u.LocalityGroupName?u.LocalityGroupName:null,p88:u&&u.CityID?u.CityID:null,p89:u&&u.CityCode?u.CityCode:null,p90:u&&u.CityName?u.CityName:null,p91:u&&u.AdminLocalityTypeID?u.AdminLocalityTypeID:null,p92:u&&u.AdminLocalityTypeCode?u.AdminLocalityTypeCode:null,p93:u&&u.AdminLocalityTypeName?u.AdminLocalityTypeName:null,p94:u&&u.LocalityCode?u.LocalityCode:null,p95:u&&u.LocalityName?u.LocalityName:null,p96:u&&u.AssBuildingTypeID?u.AssBuildingTypeID:null,p97:u&&u.AssBuildingTypeCode?u.AssBuildingTypeCode:null,p98:u&&u.AssBuildingTypeName?u.AssBuildingTypeName:null,p99:u&&u.BuildingCode?u.BuildingCode:null,p100:u&&u.BuildingName?u.BuildingName:null,p101:u&&u.FloorCode?u.FloorCode:null,p102:u&&u.FloorName?u.FloorName:null,p103:u&&u.SpotTypeID?u.SpotTypeID:null,p104:u&&u.SpotTypeCode?u.SpotTypeCode:null,p105:u&&u.SpotTypeName?u.SpotTypeName:null,p106:u&&u.AssWingID?u.AssWingID:null,p107:u&&u.AssWingCode?u.AssWingCode:null,p108:u&&u.AssWingName?u.AssWingName:null,p109:u&&u.SpotCode?u.SpotCode:null,p110:u&&u.SpotName?u.SpotName:null,p111:u&&u.DivisionCode?u.DivisionCode:null,p112:u&&u.DivisionName?u.DivisionName:null,p113:u&&u.DisciplineCode?u.DisciplineCode:null,p114:u&&u.DisciplineName?u.DisciplineName:null,p115:u&&u.FrequencyCode?u.FrequencyCode:null,p116:u&&u.FrequencyName?u.FrequencyName:null,p117:u&&u.PPMStageName?u.PPMStageName:null,p118:u&&u.StageSeqNo?u.StageSeqNo:null,p119:o||1,p120:r||10,p121:t,p122:null,p123:null,p124:localStorage.getItem("UserGroupID"),p125:localStorage.getItem("userid")}};(0,m.Z)(0).then((o=>{(0,d.Z)(y,C,o).then((r=>{if("PPMSSDAYWISEDET"==t&&e.SlideComponentType(n().createElement(I.default,{dynamic:!0,name:"PPMSS Day Wise Summary",tableData:r.Output.data,TableVisibleItem:[],TableBodyItem:[],Refresh:()=>Re(t,l,a,i,W.current,W.pageSize),onPageChange:(e,n)=>{O({current:e,pageSize:n}),Re(t,l,a,i,e,n)},searchvalue:e=>{Re(t,l,a,i,"1",10,e)},pageSize:r.Output.data[0]?.PageSize,PrintPdf:e=>{Re(t,l,a,i,"1",r.Output.data[0].TotalCount,"",e)}})),"PPMSSCOUNT"==t)if(r.Output.data.length,r.Output.data.length>0){e.enableIconButton(!0);let t=[],l=Object.values(r.Output.data[0]).slice(2,Object.values(r.Output.data[0]).length-1),a=Object.keys(r.Output.data[0]).slice(2,Object.keys(r.Output.data[0]).length-1);l.map(((e,l)=>{0!=e&&t.push({[a[l].replace("D","")]:e,Month:r.Output.data[0].SelectedMonth,Year:r.Output.data[0].SelectedYear})}));let n=[{year:r.Output.data[0].SelectedYear,month:r.Output.data[0].SelectedMonth,days:t}];we(n)}else e.alertmsg({open:!0,color:"warning",message:[r.Output.status.message]}),we([]);s&&(0,d.Z)(y,C,o,s).then((e=>{(0,T.j)(e,z,V,e.Output.data,s,"PPMSS Day Wise Summary")})),e.loading(!1)}))}))};return n().createElement(n().Fragment,null,n().createElement("div",{className:"calendar"},n().createElement("div",null,function(){const e=[];let t=(0,s.startOfWeek)(l);for(let l=0;l<7;l++)e.push(n().createElement("div",{className:"col col-center daynames",key:l},(0,s.format)((0,s.addDays)(t,l),"EEE")));return n().createElement("div",{style:{width:"75%"},className:"days row"},e)}(),function(){const t=(0,s.startOfMonth)(l),a=(0,s.endOfMonth)(t),r=(0,s.startOfWeek)(t),c=(0,s.endOfWeek)(a),d=[];let m=[],g=r,I="";for(;g<=c;){const e=e=>{Re("PPMSSDAYWISEDET",e)};for(let a=0;a<7;a++)I=(0,s.format)(g,"d"),"0"==xe.length?m.push(n().createElement("div",{className:"col cell "+((0,s.isSameMonth)(g,t)?(0,s.isSameDay)(g,o)?"selectednull":"":"disabled"),key:g},n().createElement("span",{className:"number "+((0,s.isSameDay)(g,o)?"selectdt":"")},I),n().createElement("div",{className:"calendarTextCenter"}))):m.push(xe.map((a=>n().createElement("div",{className:"col cell "+((0,s.isSameMonth)(g,t)?(0,s.isSameDay)(g,o)?"selectednull":"":"disabled"),key:g},n().createElement("div",{style:{width:"100%"}},n().createElement("span",{className:"number "+((0,s.isSameDay)(g,o)?"selectdt":"")},I," ")),n().createElement(p.ZP,{title:"PPMCount",placement:"top"},n().createElement("p",{id:I,style:{width:"100%"},className:"CCMCount",onClick:t=>e(t.target.id)},xe.length>0&&xe[0].days.filter((e=>e[I]&&e.Month==(0,s.getMonth)(l)+1&&e.Year==(0,s.getYear)(l))).length>0&&(0,s.isSameMonth)(g,t)&&xe[0].days.filter((e=>e[I]))[0][I])),n().createElement("div",{className:"calendarTextCenter"}))))),g=(0,s.addDays)(g,1);d.push(n().createElement("div",{className:"row",key:g},m)),m=[]}return n().createElement("div",null,n().createElement(S.Z,null,n().createElement(D.Z,{xs:9,sm:9,md:9,lg:9},n().createElement("div",{className:"body"},d)),n().createElement(D.Z,{xs:3,sm:3,md:3,lg:3},n().createElement("div",{style:{padding:"0px 30px"}},n().createElement(S.Z,{style:{position:"relative"}},n().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative"}},n().createElement(C.Z,{json:v.A,value:h.ContractName,marginTop:"25px",SPName:"PPMSSCreationWorkOrder",FieldName:"ContractIDDay",EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Ze(e,"ContractID","select"),onChange:(e,t)=>{Ae(e,t,"ContractIDPK")},KeyBack:e=>{Ke("ContractID")},fieldOrder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("ContractIDPK")},Tabledialog:()=>OpenDialogComponent("ContractIDPK"),loading:H,SideEntryView:!0,minWidth:"270px",clear:e=>{e&&Fe("ContractID")}})),n().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(C.Z,{json:v.A,value:h.LocalityName,marginTop:"25px",SPName:"PPMSSCreationWorkOrder",FieldName:"LocalityIDDay",EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Ze(e,"LocalityID","select"),onChange:(e,t)=>{Ae(e,t,"LocalityIDPK")},KeyBack:e=>{Ke("LocalityID")},fieldOrder:"4",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,openSlide:()=>{OpenSlideComponent("LocalityIDPK")},Tabledialog:()=>OpenDialogComponent("LocalityIDPK"),loading:H,SideEntryView:!0,minWidth:"270px",clear:e=>{e&&Fe("LocalityID")}})),n().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(y.Z,{value:h.BuildingName,json:v.A,ref:fe,SPName:"PPMSSCreationWorkOrder",FieldName:"BuildingIDDay",EnterSave:e=>{e&&Le(e)},onSelect:(e,t)=>We(0,t,"BuildingID"),onChange:(e,t)=>{Ae(e,t,"BuildingIDPK")},fieldOrder:"3",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),Ae("1","","BuildingIDPK","",t)},openSlide:()=>{OpenSlideComponent("BuildingIDPK")},Tabledialog:()=>OpenDialogComponent("BuildingIDPK"),loading:H,selectAllData:!0,minWidth:"270px",clear:e=>{e&&Fe("BuildingID")}})),n().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(y.Z,{value:h.DivisionName,ref:Me,json:v.A,SPName:"PPMSSCreationWorkOrder",FieldName:"DivisionIDDay",EnterSave:e=>{e&&Le(e)},onSelect:(e,t)=>We(0,t,"DivisionID"),onChange:(e,t)=>{Ae(e,t,"DivisionIDPK")},fieldOrder:"3",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),Ae("1","","DivisionIDPK","",t)},openSlide:()=>{OpenSlideComponent("DivisionIDPK")},Tabledialog:()=>OpenDialogComponent("DivisionIDPK"),loading:H,minWidth:"270px",selectAllData:!0,clear:e=>{e&&Fe("DivisionID")}})),n().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{position:"relative",marginTop:"15px"}},n().createElement(y.Z,{value:h.DisciplineName,json:v.A,ref:be,SPName:"PPMSSCreationWorkOrder",FieldName:"DisciplineIDDay",EnterSave:e=>{e&&Le(e)},onSelect:(e,t)=>We(0,t,"DisciplineID"),onChange:(e,t)=>{Ae(e,t,"DisciplineIDPK")},fieldOrder:"3",data:K,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:K.length>0?K[0].TotalCount:0,SideEntryView:!0,allData:t=>{e.loading(!0),Ae("1","","DisciplineIDPK","",t)},openSlide:()=>{OpenSlideComponent("DisciplineIDPK")},Tabledialog:()=>OpenDialogComponent("DisciplineIDPK"),loading:H,minWidth:"270px",selectAllData:!0,clear:e=>{e&&Fe("DisciplineID")}})),n().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd",style:{position:"relative",marginTop:"15px"}},n().createElement(E.Z,{value:j,disabled:!1,label:n().createElement("span",null,"Select Month and Year"),onChange:t=>{if("Invalid Date"!=t){let l=t?.split("-");if(U(l&&l[0]),Y(l&&l[1]),_(t),f({type:"text",name:"AssetStartDate",value:t}),h.ContractName&&h.LocalityName){e.CurCalen(new Date(t));let l=new Date(t);i(new Date(t)),Re("PPMSSCOUNT",null,(0,s.format)(new Date(l),"M"),(0,s.format)(new Date(l),"yyyy"))}else e.alertmsg({open:!0,color:"warning",message:["Please select the Mandatory Fields"]})}},onErr:e=>{},view:["year","month"],format:"MM-yyyy",formctrlId:"17917",formctrlIdName:"AssetStartDate",fieldOrder:"3"})),n().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,className:"RightContFooter",style:{position:"relative",marginTop:"25px"}},n().createElement(u.Z,{name:"Clear",className:"ContainedBtn",disabled:!1,startIcon:"",onClick:()=>{Z(""),e.MandatoryCheck(!1),e.enableIconButton(!1),f({type:"text",name:"ContractID",value:""}),f({type:"text",name:"ContractName",value:""}),f({type:"text",name:"LocalityID",value:""}),f({type:"text",name:"LocalityName",value:""}),f({type:"text",name:"BuildingID",value:""}),f({type:"text",name:"BuildingName",value:""}),$.length>0&&document.getElementById("PPMSSCreationWorkOrderBuildingDayNameClear").click(),f({type:"text",name:"DivisionID",value:""}),f({type:"text",name:"DivisionName",value:""}),Q.length>0&&document.getElementById("PPMSSCreationWorkOrderDivisionDayNameClear").click(),f({type:"text",name:"DisciplineID",value:""}),f({type:"text",name:"DisciplineName",value:""}),te.length>0&&document.getElementById("PPMSSCreationWorkOrderDisciplineDayNameClear").click(),f({type:"text",name:"AssetStartDate",value:""}),J([]),ee([]),le([]),we([]),_(new Date),U(0),Y(0)},formctrlId:"entclear800"}," Clear"),n().createElement(u.Z,{name:"Show",className:"ColorContainedBtn",disabled:!1,startIcon:"",onClick:()=>{Le(),e.CurCalen(new Date(j))}}," Show")))))))}())))})),k=function(e){const t=(0,a.useRef)(),l=(0,a.useRef)(),c=(0,a.useRef)(),d=(0,a.useRef)(),[p,m]=(0,a.useState)("month"),[S,D]=(0,a.useState)("MMM yyyy"),[y,C]=(0,a.useState)(new Date),[g,I]=(0,a.useState)(!1),[h,P]=(0,a.useState)(!1);return n().createElement("div",null,n().createElement("div",{className:"divAppbar flex"},n().createElement("div",{className:"dtablecell width15 dpadd8"}),h&&n().createElement("div",{className:"width11"},n().createElement(i.Z,{"aria-label":"delete",onClick:()=>(()=>{if(!g)return!1;c.current.currentDatePic((0,s.subMonths)(y,1)),"day"==p?(C((0,s.subDays)(y,1)),t.current.Prev()):"week"==p?(C((0,s.subWeeks)(y,1)),l.current.Prev()):"month"==p?(C((0,s.subMonths)(y,1)),c.current.Prev()):"year"==p&&(C((0,s.subYears)(y,1)),d.current.Next())})()},n().createElement(o.Z,null)),n().createElement("span",{style:{fontSize:"1rem",fontWeight:"600"}},(0,s.format)(y,S).split(" ")[0]),n().createElement(i.Z,{"aria-label":"delete",onClick:()=>(()=>{if(!g)return!1;c.current.currentDatePic((0,s.addMonths)(y,1)),"day"==p?(C((0,s.addDays)(y,1)),t.current.Next()):"week"==p?(C((0,s.addWeeks)(y,1)),l.current.Next()):"month"==p?(C((0,s.addMonths)(y,1)),c.current.Next()):"year"==p&&(C((0,s.addYears)(y,1)),d.current.Next())})()},n().createElement(r.Z,null))),n().createElement("div",{className:"btnlabel dpadd6"},n().createElement(u.Z,{color:"inherit"},(0,s.format)(y,S)," "),n().createElement(u.Z,{color:"inherit",onClick:()=>{m("month"),D("MMM yyyy")}},"Month"))),"month"==p&&n().createElement(B,{ref:c,CurCalen:e=>C(e),enableIconButton:e=>P(e),MandatoryCheck:e=>I(e),SlideComponentType:t=>e.SlideComponentType(t),loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),alert:t=>e.alertmsg(t)}))}},82729:(e,t,l)=>{l.d(t,{Z:()=>u});var a=l(92950),n=l.n(a),i=(l(94184),l(45697)),o=l.n(i);function r({...e}){const{className:t,children:l,plain:a,profile:i,blog:o,raised:r,background:u,pricing:s,color:c,product:d,testimonial:p,chart:m,login:S,...D}=e;return n().createElement("div",D,l)}r.propTypes={className:o().string,plain:o().bool,profile:o().bool,blog:o().bool,raised:o().bool,background:o().bool,pricing:o().bool,testimonial:o().bool,color:o().oneOf(["primary","info","success","warning","danger","rose"]),product:o().bool,chart:o().bool,login:o().bool,children:o().node};const u=r},75355:(e,t,l)=>{l.d(t,{Z:()=>u});var a=l(92950),n=l.n(a),i=(l(94184),l(45697)),o=l.n(i);function r({...e}){const{className:t,children:l,background:a,plain:i,formHorizontal:o,pricing:r,signup:u,color:s,profile:c,calendar:d,...p}=e;return n().createElement("div",p,l)}r.propTypes={className:o().string,background:o().bool,plain:o().bool,formHorizontal:o().bool,pricing:o().bool,signup:o().bool,color:o().bool,profile:o().bool,calendar:o().bool,children:o().node};const u=r},37274:(e,t,l)=>{l(92950),l(14439),l(27848),l(15940),l(40900),l(51673),l(99940)},13089:(e,t,l)=>{l.d(t,{Z:()=>w});var a=l(92950),n=l.n(a),i=l(79895),o=l(82302),r=l(99613),u=l(88222),s=l(56847),c=l(83750),d=l(57394),p=l(77256),m=l(49174),S=l(99173),D=l(88995),y=l(39431),C=l(868),g=l(59067),I=l(20067),h=l(51115),P=l(25281),v=l(66037),N=l(17812),T=l(80366),E=l(30553),f=l(13258),M=(l(10635),l(87429),l(52795)),b=l(25108);window.headercellid="";const x=(0,a.forwardRef)(((e,t)=>{const{order:l,orderBy:i,onRequestSort:o,headCells:r,isDraft:s,TableSearchParams:y}=e,[C,g]=(0,a.useState)({}),[I,h]=(0,a.useState)({}),P=["By","Contact","NROT","COT","SNA","VIA","Remarks","Date","UserName","Status","No","Total","Rate","Cnt","Time","Type","Code","Amount","Quantity","Unit","Is","TAT","Cost","Number"],[v,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Object.keys(y).map((e=>{g({...C,[e]:!!y[e]})})),h(y)}),[y],e.height),(0,a.useImperativeHandle)(t,(()=>({clearValue:e=>{w(!0,e)}})));const b=(e,t,l)=>{g({...C,[t]:!C[t]}),setTimeout((function(){var e=document.getElementById(l+"headcell");e&&(e.focus(),document.getElementById(l+"headcell").onclick=function(e){e.stopPropagation()})}),1e3),e.stopPropagation()},x=(t,l)=>{window.headercellid=l,0===t.length&&e.value({...I,[l]:""}),h({...I,[l]:t})},w=(t,l)=>{t&&(x("",window.headercellid),b(l,window.headercellid),e.value({...I,[window.headercellid]:""},"clear"))};return n().createElement(M.Z,{onClickAway:()=>{g({})}},n().createElement(c.Z,null,n().createElement(d.Z,null,"none"==e.action?null:!0===e.isexpanded&&!e.IsSub&&n().createElement(u.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:"80px"}},n().createElement("span",{className:"trAction"},"Action")),e.IsDrag&&n().createElement(u.Z,{className:"StyledTableCellHeadStyles tbdrg"},n().createElement(E.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(f.Z,{style:{padding:"6px"},icon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:v,onChange:t=>{e.RemoveAll()}}),label:""})),r.map((t=>{return n().createElement(u.Z,{className:"StyledTableCellHeadStyles "+(s?"draftColor":"listColor"),key:t.id,sortDirection:i===t.id&&l,style:{minWidth:P.some((e=>t.id.toLowerCase().includes(e.toLowerCase())))?C[t.id]?"155px":"185px":e.colwid?e.colwid:"180px",textAlign:"Is"==t.id.slice(0,2)?"center":"left"}},C[t.id]?t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt")?n().createElement(m.Z,{value:I[t.id],label:t.name,onChange:l=>{x(l,t.id),e.value({...I,[t.id]:l,[t.id+"Type"]:"Date"})}}):n().createElement(S.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{x(e,t.id,t.type)},disabled:!1,value:-1===I[t.id]?.indexOf("%")?I[t.id]:I[t.id]?.replace(/[%]/g,""),clear:(l,a)=>{l&&(x("",t.id),b(a,t.id),e.value({...I,[t.id]:""}))},mandatory:!1,keyPress:!0,onKeyPress:l=>{e.value({...I,[t.id]:"Number"==t.type?l:"%"+l+"%"})}}):I[t.id]?"Date"==t.type?n().createElement(m.Z,{value:I[t.id],Label:t.name,onChange:l=>{x(l,t.id),e.value({...I,[t.id]:l,[t.id+"Type"]:"Date"})}}):n().createElement(S.Z,{id:t.name+"headcell",className:"TableheaderSearchInput",type:"Number"==t.type?"number":"text",labelname:t.name,marginTop:"0",onChange:e=>{x(e,t.id,t.type)},disabled:!1,value:-1===I[t.id]?.indexOf("%")?I[t.id]:I[t.id]?.replace(/[%]/g,""),clear:(l,a)=>((t,l,a)=>{t&&(x("",a.id),b(l,a.id),e.value({...I,[a.id]:""}))})(l,a,t),isDraft:s,mandatory:!1,keyPress:!0,onKeyPress:l=>{e.value({...I,[t.id]:"Number"==t.type?l:"%"+l+"%"})}}):n().createElement(p.Z,{"filter-title":"Sort",active:i===t.id,direction:i===t.id?l:"asc",onClick:(a=t.id,e=>{o(e,a)})},n().createElement("p",{style:{width:"max-content"}},t.name?t.name.replace(/([A-Z])\s(?=[A-Z]\b)/g,"$1"):""),i===t.id?n().createElement("span",{className:"visuallyHidden"},"desc"===l?"sorted descending":"sorted ascending"):null,!C[t.id]&&"Is"!==t.id.substring(0,2)&&!I[t.id]&&(!s&&(t.id.includes("Date")||t.id.includes("date")||t.id.includes("Dt")||t.id.includes("dt"))?null:!e.searchdisabled&&!s&&n().createElement(D.Z,{className:"tableHeadersearch",onClick:e=>b(e,t.id,t.name)}))));var a})))))})),w=(0,a.forwardRef)(((e,t)=>{const l=(0,a.useRef)(null),[c,p]=(0,a.useState)("asc"),[m,S]=(0,a.useState)(""),[D,M]=n().useState(""),[w,B]=(0,a.useState)(!1),[k,L]=(0,a.useState)({}),[W,O]=(0,a.useState)({}),[A,Z]=(0,a.useState)(!1),[F,K]=(0,a.useState)([]),[R,H]=(0,a.useState)({x:0,y:0}),[z,G]=(0,a.useState)(!1),[V,q]=(0,a.useState)(null);function U(e,t,l){return t[l]<e[l]?-1:t[l]>e[l]?1:0}function X(e,t){if(t.toLowerCase().indexOf("password")>-1){var l="";for(let t=0;t<e.length;t++)l+="*";return l}return e}return(0,a.useEffect)((()=>()=>{window.open="",B(!1)}),[]),(0,a.useImperativeHandle)(t,(()=>({clearItem:e=>{l.current.clearValue(e)},open:()=>{b.log("of open"),window.open="",B(!1)}}))),n().createElement(s.Z,{component:i.Z,className:"tablecontainer2 scrollY",style:{height:e.height?e.height:e.IsSub?"auto":"60vh",marginTop:"5px"},onDrop:function(t){t.preventDefault();var l=t.dataTransfer.getData("ppmStaff");e.OnDrop(JSON.parse(l))},onDragOver:function(e){e.preventDefault()}},n().createElement(o.Z,{stickyHeader:!0,id:"Header"+e.id},n().createElement(x,{order:c,orderBy:m,onRequestSort:(e,t)=>{p(m===t&&"asc"===c?"desc":"asc"),S(t)},headCells:e.headerdata,isDraft:e.isdraft,value:e.searchvalue,action:e.action,TableSearchParams:e.tablesearchparams,isexpanded:e.isexpanded,ref:l,colwid:e.colwid,minWidth:e.minWidth,IsDrag:e.IsDrag,RemoveAll:e.RemoveAll,searchdisabled:e.searchdisabled}),n().createElement(r.Z,null,function(e,t){const l=e.map(((e,t)=>[e,t]));return l.sort(((e,l)=>{const a=t(e[0],l[0]);return 0!==a?a:e[1]-l[1]})),l.map((e=>e[0]))}(e.bodydata,function(e,t){return"desc"===e?(e,l)=>U(e,l,t):(e,l)=>-U(e,l,t)}(c,m)).map(((t,l)=>n().createElement(n().Fragment,null,n().createElement(d.Z,{key:l,style:{background:t.IsConflict?"#fad6a5":""},onDoubleClick:a=>{if(b.log("onDoubleClick"),e.IsSub&&!e.EditSub)return e.onDoubleClick&&e.edit(t,e.isdraft,!0),!1;"none"!=e.edit&&e.edit(t,e.isdraft,!0),e.expanded(!0),(e=>{var t=document.querySelectorAll(".MuiTableRow-root");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";setTimeout((function(){document.getElementById(e)&&(document.getElementById(e).style.background="#e3e4e9")}),500)})(e.id+l),!0===e.isexpanded&&document.getElementById(e.id)},id:e.id+l},e.IsDrag&&n().createElement(u.Z,{className:"StyledTableCellBodyStyles tbdrg"},n().createElement(E.Z,{style:{color:"#fff",fontSize:"0.75rem"},control:n().createElement(f.Z,{style:{padding:"6px"},icon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb ",fontSize:"16px"}}),checkedIcon:n().createElement(T.Z,{fontSize:"small",style:{color:"#3873bb",fontSize:"16px"}}),checked:!0,onChange:l=>{e.DraglistRw(t)}}),label:""})),"none"==e.action?null:!0===e.isexpanded&&n().createElement(u.Z,{className:"StyledTableCellBodyStyles",style:{display:"flex"}},e.IsView&&e.tableExp&&n().createElement(N.Z,{"aria-label":"expand row",size:"small",onClick:()=>{var e;D===(e=l)?(M(""),B(!1)):(M(e),B(!0))}},D===l?n().createElement(P.Z,null):n().createElement(h.Z,null)),e.accessrights.IsView&&e.viewOnly&&n().createElement(C.ZP,{title:"View",placement:"top"},n().createElement(I.Z,{className:"Viewtablecls",onClick:()=>{e.edit(t,e.isdraft,!0),e.expanded(!0),e.viewtoggle()}})),e.accessrights.IsEdit&&e.editOnly&&n().createElement(C.ZP,{title:"Edit",placement:"top"},n().createElement(g.Z,{className:"Edittablecls",onClick:()=>{e.edit(t,e.isdraft,!1),e.expanded(!0)}}))),e.bodyitem.map(((l,a)=>{let i=e.visibleitem.filter((e=>e.id==l));return"Is"==l.slice(0,2)?n().createElement(u.Z,{className:"StyledTableCellBodyStyles",key:a,style:{textAlign:"center"}},n().createElement(y.Z,{checked:"1"==t[l],disabled:!0})):"FilePath"==l?n().createElement(u.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a},n().createElement("img",{src:t[l],alt:t[l],width:"90",height:"80"})):i.length>0?n().createElement(u.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a,style:{textAlign:"numeric"==i[0].type||"smallint"==i[0].type||"int"==i[0].type?"right":"left"}},X(t[l],l)):n().createElement(u.Z,{className:`StyledTableCellBodyStyles cell${e.color?t[l]:""}`,key:a},X(t[l],l))}))),n().createElement(d.Z,{key:"view"+l},n().createElement(u.Z,{style:{paddingBottom:0,paddingTop:0,paddingLeft:0,borderLeft:"20px solid #ccc"},key:"cell"+l,colSpan:8},n().createElement(v.Z,{in:D===l,timeout:"auto",unmountOnExit:!0},e.IsView&&e.ViewComp(w,t))))))))))}))}}]);