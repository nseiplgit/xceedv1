/*! For license information please see 8984.efede26e10b577d6a65d.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[8984],{78984:(e,l,t)=>{t.r(l),t.d(l,{ContextApi:()=>ke,PPMEmployeeDetailsContext:()=>Be,UserGridViewData:()=>Oe,default:()=>Le});var a=t(92950),n=t.n(a),o=(t(95866),t(45237)),i=t(36939),p=t(61201),m=t(51673),r=(t(99058),t(80366)),s=t(282),u=t(868),d=t(78513),c=t(14439),y=t(27848),D=t(40900),E=t(64059),P=t(24038),g=t(8981),I=t(47516),C=t(86893),N=t(33681),f=t(63163),h=t(35131),v=t.n(h),S=t(61956),M=t(93657),T=t(53375),F=t(52663),b=t(66083),w=t(29525),A=t(66856),x=t(39803),B=t(99940),k=t(17149),O=t(62810),L=t(30553),W=t(92381),Z=t(25108);const R=(0,a.forwardRef)(((e,l)=>{const[t]=(0,a.useState)(localStorage.getItem("userid")),[o,i]=(0,a.useState)([]),[p,h]=(0,a.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[v,S]=(0,a.useState)(""),[R,G]=(0,a.useState)({}),[K,z]=(0,a.useState)(!0),[H,_]=(0,a.useState)(!1),{cstate:q,cdispatch:V}=e.ContextApi?e.ContextApi:ke(),[U,j]=(0,a.useState)(1),[Y,$]=(0,a.useState)(0),[J,Q]=(0,a.useState)(!1),[X,ee]=(0,a.useState)({}),[le,te]=(0,a.useState)([]),[ae,ne]=(0,a.useState)(!0),[oe,ie]=(0,a.useState)(!1),[pe,me]=(0,a.useState)(""),[re,se]=(0,a.useState)(!1),[ue,de]=(0,a.useState)(!1),[ce,ye]=(0,a.useState)(!1),[De,Ee]=(0,a.useState)(""),Pe=(0,a.useRef)(null),[ge,Ie]=(0,a.useState)({});let Ce=localStorage.getItem("Language");const Ne={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,g.Z)();const he=e=>fe[e]?fe[e]:e,ve=l=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==l))?.[Ne[Ce]];function Se(){G({}),ee({}),e.searchData({}),_(!1)}(0,a.useEffect)((()=>{let l=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const t=e.userGrid.reduce(((e,l)=>{const t=l.FieldName;return l.IsForeign&&(e[t]||(e[t]=[]),e[t].push(l.FieldDisplay)),e}),{});Ie(t),te(l)}),[]),(0,a.useEffect)((()=>()=>{Pe.current&&Pe.current.abort()}),[]),(0,a.useImperativeHandle)(l,(()=>({clear:()=>{Se()}})));const Me=async(l,t,a,n)=>{Q(!0);try{Pe.current&&Pe.current.abort();const p=new AbortController;Pe.current=p;let r="",s=[],u={};await h((e=>(r=e.name,e))),await G((e=>(s=e,e))),await ee((e=>(u=e,e)));const d=D.v.Api+"FP473S3/",c={data:{p1:"PPMEmployeeDetIDPK"==t?null:await Ae(),p2:"PPMEmployeeCode"==r&&a.length>0?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:"PPMEmpAmount"==r&&a.length>0?"%"+a+"%":null,p7:"IsPrimaryEmployee"==r&&a.length>0?"%"+a+"%":null,p8:"IsAllEmployee"==r&&a.length>0?"%"+a+"%":null,p9:"PPMType"==r&&a.length>0?"%"+a+"%":null,p10:"NoOfHours"==r&&a.length>0?"%"+a+"%":null,p11:null,p12:null,p13:e.parentId?e.parentId:"0",p14:"FirstName"!=r&&s.FirstName?s.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p15:e.Dialogview?"1":null,p16:null,p17:"p17"==r&&a.length>0?a:null,p18:null,p19:null,p20:null,p21:null,p22:"ContractName"!=r&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p23:"ContractCode"==r&&a.length>0?"%"+a+"%":null,p24:"ContractName"==r&&a.length>0?"%"+a+"%":null,p25:"LocalityName"!=r&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p26:"LocalityCode"==r&&a.length>0?"%"+a+"%":null,p27:"LocalityName"==r&&a.length>0?"%"+a+"%":null,p28:"BuildingName"!=r&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p29:"BuildingCode"==r&&a.length>0?"%"+a+"%":null,p30:"BuildingName"==r&&a.length>0?"%"+a+"%":null,p31:"FloorName"!=r&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p32:"FloorCode"==r&&a.length>0?"%"+a+"%":null,p33:"FloorName"==r&&a.length>0?"%"+a+"%":null,p34:"SpotName"!=r&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p35:"SpotCode"==r&&a.length>0?"%"+a+"%":null,p36:"SpotName"==r&&a.length>0?"%"+a+"%":null,p37:"DivisionName"!=r&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p38:"DivisionCode"==r&&a.length>0?"%"+a+"%":null,p39:"DivisionName"==r&&a.length>0?"%"+a+"%":null,p40:"DisciplineName"!=r&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p41:"DisciplineCode"==r&&a.length>0?"%"+a+"%":null,p42:"DisciplineName"==r&&a.length>0?"%"+a+"%":null,p43:"FrequencyName"!=r&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p44:"FrequencyCode"==r&&a.length>0?"%"+a+"%":null,p45:"FrequencyName"==r&&a.length>0?"%"+a+"%":null,p46:"EquipmentName"!=r&&s.EquipmentName?s.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p47:"EquipmentName"==r&&a.length>0?"%"+a+"%":null,p48:"EquipmentRefNo"==r&&a.length>0?"%"+a+"%":null,p49:"AssetBarcode"==r&&a.length>0?"%"+a+"%":null,p50:"AssetTagNo"==r&&a.length>0?"%"+a+"%":null,p51:"EmployeeCode"==r&&a.length>0?"%"+a+"%":null,p52:"FirstName"==r&&a.length>0?"%"+a+"%":null,p53:"EmpContactNo1"==r&&a.length>0?"%"+a+"%":null,p54:"EmpEmailOfficial"==r&&a.length>0?"%"+a+"%":null,p55:"FlowDisplayName"!=r&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p56:"BriefDetails"==r&&a.length>0?"%"+a+"%":null,p57:"FlowCode"==r&&a.length>0?"%"+a+"%":null,p58:"FlowDisplayName"==r&&a.length>0?"%"+a+"%":null,p59:"FixonBusinessFlowName"!=r&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p60:"FixonBusinessFlowName"==r&&a.length>0?"%"+a+"%":null,p61:"PPMFixonBusinessFlowCode"==r&&a.length>0?"%"+a+"%":null,p62:"PPMStageName"!=r&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p63:"PPMStageName"==r&&a.length>0?"%"+a+"%":null,p64:"StageSeqNo"==r&&a.length>0?"%"+a+"%":null,p65:"WorkOrder"==r&&a.length>0?"%"+a+"%":null,p66:u.WoDateTime?u.WoDateTime.From:null,p67:u.WoDateTime?u.WoDateTime.Type:null,p68:u.WoDateTime?u.WoDateTime.To:null,p69:"ShiftName"!=r&&s.ShiftName?s.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p70:"ShiftCode"==r&&a.length>0?"%"+a+"%":null,p71:"ShiftName"==r&&a.length>0?"%"+a+"%":null,p72:"ClassificationName"!=r&&s.ClassificationName?s.ClassificationName.map((e=>e.ClassificationIDPK)).toString():null,p73:"ClassificationCode"==r&&a.length>0?"%"+a+"%":null,p74:"ClassificationName"==r&&a.length>0?"%"+a+"%":null,p75:"DepartmentName"!=r&&s.DepartmentName?s.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p76:"DepartmentCode"==r&&a.length>0?"%"+a+"%":null,p77:"DepartmentName"==r&&a.length>0?"%"+a+"%":null,p78:"DesignationName"!=r&&s.DesignationName?s.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p79:"DesignationCode"==r&&a.length>0?"%"+a+"%":null,p80:"DesignationName"==r&&a.length>0?"%"+a+"%":null,p81:"NationalityName"!=r&&s.NationalityName?s.NationalityName.map((e=>e.NationalityIDPK)).toString():null,p82:"NationalityCode"==r&&a.length>0?"%"+a+"%":null,p83:"NationalityName"==r&&a.length>0?"%"+a+"%":null,p84:"NatureOfWorkName"!=r&&s.NatureOfWorkName?s.NatureOfWorkName.map((e=>e.EmpWorkNatureIDPK)).toString():null,p85:"NatureOfWorkCode"==r&&a.length>0?"%"+a+"%":null,p86:"NatureOfWorkName"==r&&a.length>0?"%"+a+"%":null,p87:"EmployeeTypeName"!=r&&s.EmployeeTypeName?s.EmployeeTypeName.map((e=>e.EmployeeTypeIDPK)).toString():null,p88:"EmployeeTypeCode"==r&&a.length>0?"%"+a+"%":null,p89:"EmployeeTypeName"==r&&a.length>0?"%"+a+"%":null,p90:"EmploymentTypeName"!=r&&s.EmploymentTypeName?s.EmploymentTypeName.map((e=>e.EmploymentTypeIDPK)).toString():null,p91:"EmploymentTypCode"==r&&a.length>0?"%"+a+"%":null,p92:"EmploymentTypeName"==r&&a.length>0?"%"+a+"%":null,p93:"EmployeeGroupName"!=r&&s.EmployeeGroupName?s.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p94:"EmployeeGroupCode"==r&&a.length>0?"%"+a+"%":null,p95:"EmployeeGroupName"==r&&a.length>0?"%"+a+"%":null,p96:"EmpGradeName"!=r&&s.EmpGradeName?s.EmpGradeName.map((e=>e.EmpGradeIDPK)).toString():null,p97:"EmpGradeCode"==r&&a.length>0?"%"+a+"%":null,p98:"EmpGradeName"==r&&a.length>0?"%"+a+"%":null,p99:"CityName"!=r&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p100:"CityCode"==r&&a.length>0?"%"+a+"%":null,p101:"CityName"==r&&a.length>0?"%"+a+"%":null,p102:"RegionName"!=r&&s.RegionName?s.RegionName.map((e=>e.RegionIDPK)).toString():null,p103:"RegionCode"==r&&a.length>0?"%"+a+"%":null,p104:"RegionName"==r&&a.length>0?"%"+a+"%":null,p105:"CountryName"!=r&&s.CountryName?s.CountryName.map((e=>e.CountryIDPK)).toString():null,p106:"CountryCode"==r&&a.length>0?"%"+a+"%":null,p107:"CountryName"==r&&a.length>0?"%"+a+"%":null,p108:"EmpGenderName"!=r&&s.EmpGenderName?s.EmpGenderName.map((e=>e.EmpGenderIDPK)).toString():null,p109:"EmpGenderName"==r&&a.length>0?"%"+a+"%":null,p110:"EmpTitleName"!=r&&s.EmpTitleName?s.EmpTitleName.map((e=>e.EmpTitleIDPK)).toString():null,p111:"EmpTitleName"==r&&a.length>0?"%"+a+"%":null,p112:n||1,p113:10,p114:l,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},y=await(0,m.Z)(d,c,e.token,"",p.signal);if(!y)return!1;const E=y.Output.status.code,P=y.Output.data;if("200"===E)if(P.length>0)if(1===n){let e=Fe(P,r),l=Te(e,R[r],t);i(l),$(l.length>0?l[0].TotalCount:R[r].length)}else{let e=[...o,...P],l=Fe(e,r);$(l.length<10?l.length:P[0].TotalCount),i(Fe(l,r))}else v.length>0&&i([]),$(o.length);else e.alertmsg("error",[y.Output.status.message])}catch(l){e.alertmsg("warning",[l])}finally{Q(!1)}},Te=(e=[],l=[],t)=>e.filter((e=>!l.find((l=>e[t]===l[t])))),Fe=(e,l)=>e.filter(((e,t,a)=>a.findIndex((t=>t[l]===e[l]))===t));function be(e){let l=e+"PK",t=ge[e];if(t){const e=t.flatMap((e=>R[e]?R[e].map((e=>e[l])):[]));return e.toString()}return""}const we=async l=>{let t="",a={};await G((e=>(t=e,e)));let n=[...le],o=[];for(let e of n){let l=t[e]?.map((e=>e.PPMEmployeeDetIDPK)).toString();l&&o.push(l)}await ee((e=>(a=e,e)));let i={PPMEmployeeDetIDPK:o?[...new Set(o)].toString():"",CreatedTtm:a.CreatedTtm?a.CreatedTtm.From:"",CreatedTtmType:a.CreatedTtm?a.CreatedTtm.Type:"",CreatedTtmBetween:a.CreatedTtm?a.CreatedTtm.To:"",WoDate:a.WoDate?a.WoDate.From:"",WoDateType:a.WoDate?a.WoDate.Type:"",WoDateBetween:a.WoDate?a.WoDate.To:"",EmployeeID:be("EmployeeID"),PPMCreationAssetID:be("PPMCreationAssetID")};"saveFav"==l?Oe("save",i):(e.searchData(i),_(!1))};async function Ae(){let e={};await G((l=>(e=l,l)));let l=[...le],t=[];for(let a of l){let l=e[a]?.map((e=>e.PPMEmployeeDetIDPK)).toString();l&&t.push(l)}return t?[...new Set(t)].toString():""}async function xe(l,t,a,n,o,i){let p={[n]:{From:l,Type:a,To:t}},m={};ee((e=>({...e,...p})));const r={...R};let s=[...le],u=[];for(let e of s){let l=r[e]?.map((e=>e.PPMEmployeeDetIDPK)).toString();l&&u.push(l)}await ee((e=>(m=e,e)));let d={PPMEmployeeDetIDPK:u?[...new Set(u)].toString():"",CreatedTtm:m.CreatedTtm?m.CreatedTtm.From:"",CreatedTtmType:m.CreatedTtm?m.CreatedTtm.Type:"",CreatedTtmBetween:m.CreatedTtm?m.CreatedTtm.To:"",IsActive:"IsActive"==a?o:null,WoDate:m.WoDate?m.WoDate.From:"",WoDateType:m.WoDate?m.WoDate.Type:"",WoDateBetween:m.WoDate?m.WoDate.To:"",EmployeeID:R.FirstName?.map((e=>e.EmployeeIDPK)).toString(),PPMCreationAssetID:R.WorkOrder?.map((e=>e.PPMCreationAssetIDPK)).toString()};e.searchData(d)}function Be(){return n().createElement(E.Z,{frmctrlid:"fld473L1TCDateCompCreatedTtm",SendDateVal:(e,l,t,a,n)=>{xe(e,l,t,p.name,a)},keyboardback:()=>{_(!1),h({idpk:"",name:"",type:"",fieldidpk:""})},title:he(p.name),fieldname:p.name,save:e=>{alert(!0)}})}const Oe=(l,t)=>{(0,W.Z)(l,e.formID,t,pe).then((e=>{const l=e.Output.data;Ee(l)}))};return n().createElement("div",null,n().createElement(F.Z,{onClose:()=>se(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:re},n().createElement(b.Z,{id:"customized-dialog-title",onClose:()=>se(!1)},"Add Favorite"),n().createElement(w.Z,{dividers:!0,style:{minWidth:"500px"}},n().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},n().createElement(x.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:pe,onChange:e=>me(e.target.value),fullWidth:!0})),n().createElement(L.Z,{style:{color:"#337ab7"},control:n().createElement(B.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(O.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>de(e.target.checked)}),label:"Quick"}),n().createElement(L.Z,{style:{color:"#337ab7"},control:n().createElement(B.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:n().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:n().createElement(O.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ce,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),n().createElement(A.Z,null,n().createElement(s.Z,{onClick:()=>{we("saveFav"),se(!1)},color:"primary"},"Save"))),H?"Created Ttm"===p.name||p.name.includes("Date")?n().createElement(Be,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(c.Z,null,n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},ve(p.idpk)," (",o.length,"/",Y,")")),n().createElement(y.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(u.ZP,{title:he("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(r.Z,{id:"fld473L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),h({idpk:"",name:"",type:"",fieldidpk:!1}),j(1)}}))),R[p.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(s.Z,{frmctrlid:"fld473L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await G((l=>(e=l,Z.log("clear fewItems",e),l))),e[p.name]=[],Me(p.type,p.fieldidpk,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},K?n().createElement(u.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(C.D7o,{className:"FilterMaximizeIcon",onClick:()=>{z(!1)}}))):n().createElement(u.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(C.dOw,{className:"FilterMaximizeIcon",onClick:()=>{z(!0)}})))),n().createElement("ul",null,R[p.name]&&R[p.name].map(((e,l)=>n().createElement("div",{key:l,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[p.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[p.name],onClick:()=>(async(e,l)=>{j(1);let t=R[p.name].filter((l=>l!=e)),a={};await G((e=>(a=e,e))),a[p.name]=t,G(a),i((l=>[e,...l]))})(e)},n().createElement(r.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(P.Z,{frmctrlid:"fld473L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:v,placeholder:he("Enter ")+" "+ve(p.idpk),onChange:e=>{S(e),Me(p.type,p.fieldidpk,e,1,Ae())}})),n().createElement("div",{id:"fld473L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:we},n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(N.Z,{color:"secondary"})),n().createElement("div",{id:"fld473L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,l)=>n().createElement("div",{id:"filda_3_L2_"+e[p.name],key:l,className:"FilterItemDiv",onClick:()=>{(async e=>{let l={},t=[];t.push(e);let a={};await G((e=>(a=e,e)));let n=a[p.name];l[p.name]=n?[...t,...n]:t,a={...a,...l},G(a),i((l=>l.filter((l=>l!=e))))})(e)}},n().createElement(d.Z,{className:"DotIcon"}),n().createElement("span",null,e[p.name])))),o.length+0<Y&&o.length>0&&n().createElement("div",{id:"fld473L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{j(U+1),Me(p.type,p.fieldidpk,"",U+1)}},n().createElement("p",null," more... ")),0===o.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:D.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(I.Ol$,{className:"columnHeaderIcon"}),n().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",pe.length>0&&`(${pe})`)),n().createElement("div",{className:"columnHeaderbtn",align:"right"},n().createElement(u.ZP,{title:"Favorite List",placement:"top"},oe?n().createElement(r.Z,{className:"favlisticon",onClick:()=>{ie(!1),Ee(""),Se()}}):n().createElement(M.Z,{className:"favlisticon",onClick:()=>{ie(!0),Oe("select"),Se()}})),Object.keys(R).length>0&&n().createElement(u.ZP,{title:"Save Favorites",placement:"top"},n().createElement(T.Z,{className:"favlisticon",onClick:()=>{se(!0)}})),n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld473L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),n().createElement(u.ZP,{title:"",placement:"top"},n().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld473L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld473L1TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,l)=>e.Remarks-l.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,l)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),S(""),i([]),$(0);let l=e.IsForeign?e.FieldName+"PK":"PPMEmployeeDetIDPK";h({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMEmployeeDetID",fieldidpk:l}),Me(e.IsForeign?"Filter"+e.FieldName:"FilterPPMEmployeeDetID",l,"",1,Ae())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,ve(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,ve(e.AdminUserGridViewIDPK)),n().createElement(f.Z,{checked:"1"==ae,onChange:l=>{ne(l.target.checked),xe("","",e.FieldName,"",l.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,ve(e.AdminUserGridViewIDPK)),(t=e.FieldDisplay,R[t]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},R[t][0][t]),R[t].length>1&&n().createElement("span",{className:"RoundedDivName"},R[t][1][t]),R[t].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(R[t].length-2))))));var t})),De&&De.map((e=>{let l=e.TFFSearchParams,t=JSON.parse(l);return n().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Me("FilterPPMEmployeeDetID",t),we("")}},n().createElement(n().Fragment,null,e.TableFilterFavName))}))))))}));var G=t(54180),K=t(43031),z=t(85639),H=t(110),_=t(5109),q=t(88995),V=t(50743),U=t(61657),j=t(51209),Y=t(53854),$=t(5434),J=t(83817),Q=t(39327),X=t(3212),ee=t(93521),le=(t(79117),t(71168)),te=t.n(le),ae=t(65107),ne=t(94986),oe=t(15999);t(11557),window.clickFilter="";const ie=(0,a.forwardRef)(((e,l)=>{const t=(0,a.useRef)(null),s=(0,a.useRef)(null),[d]=((0,a.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,a.useState)(localStorage.getItem("userid"))),[c]=(0,a.useState)("473"),[y,E]=(0,a.useState)(!1),[N,f]=(0,a.useState)(!1),[h,v]=(0,a.useState)(0),[S,M]=(0,a.useState)(0),[T,F]=(0,a.useState)(0),[b,w]=(0,a.useState)(0),[A,x]=(0,a.useState)({current:1,pageSize:100}),[B,k]=(0,a.useState)(""),[O,L]=(0,a.useState)([]),[W,Z]=(0,a.useState)({val:"",column:""}),[le,ie]=(0,a.useState)([]),[pe,me]=(0,a.useState)(!1),[re,se]=(0,a.useState)(""),[ue,de]=(0,a.useState)(""),[ce,ye]=(0,a.useState)(!1),[De,Ee]=(0,a.useState)([]),[Pe,ge]=(0,a.useState)([]),[Ie,Ce]=(0,a.useState)([]),[Ne,fe]=(0,a.useState)({children:[{name:"PPMEmployeeDetails",children:[]}]}),[he,ve]=(0,a.useState)(!1),Se=(0,a.useContext)(e.context?e.context:Be),{cstate:Me,cdispatch:Te}=e.ContextApi?e.ContextApi:ke();let Fe={PPMEmployeeDetIDPK:"",PPMEmployeeCode:"",WoDate:"",WoDateType:"",WoDateBetween:"",PPMEmpAmount:"",IsPrimaryEmployee:"",IsAllEmployee:"",PPMType:"",NoOfHours:"",IsDraft:"",Remarks:"",PPMCreationAssetID:"",EmployeeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[be,we]=(0,a.useState)(Fe),[Ae,xe]=(0,a.useState)(Fe),[Oe,Le]=(0,a.useState)(!1),[We,Ze]=(0,a.useState)(!0),[Re,Ge]=(0,a.useState)(!1),[Ke,ze]=(0,a.useState)(!0),[He,_e]=(0,a.useState)({FirstName:"",IsPrimaryEmployee:"",IsAllEmployee:"",PPMEmpAmount:"",PPMEmployeeCode:"",WoDate:"",PPMType:"",NoOfHours:"",WorkOrder:""}),[qe,Ve]=(0,a.useState)(!1),[Ue,je]=(0,a.useState)([]),[Ye,$e]=(0,a.useState)(0),[Je,Qe]=(0,a.useState)(0),[Xe,el]=(0,a.useState)({current:1,pageSize:10}),[ll,tl]=(0,a.useState)([]),[al,nl]=(0,a.useState)([]),[ol,il]=(0,a.useState)(!1),[pl,ml]=(0,a.useState)(!1),[rl,sl]=(0,a.useState)(!1),[ul,dl]=(0,a.useState)(""),[cl,yl]=te()("473"),[Dl,El]=(0,a.useState)({}),Pl=[{columns:ll,data:B}];let gl=(0,g.Z)();const Il=e=>gl[e]?gl[e]:e,Cl=e=>Me.language?.[e]?Me.language[e]:e;(0,a.useEffect)((()=>{Tl(cl)}),[cl]),(0,a.useEffect)((()=>{Me.token.length>0&&(e.parentId?Sl(A,Fe,"PPMEmployeeDetID"):ie([]))}),[e.parentId]),(0,a.useEffect)((()=>{!he&&e.parentId?Sl(A,re,"PPMEmployeeDetID"):he&&xe(re)}),[re]),(0,a.useImperativeHandle)(l,(()=>({searchItem:e=>{Nl(e)},tableRefresh:()=>{Sl(A,Fe,"PPMEmployeeDetID")},DialogTableProps:e=>{f(e)},HideEntryFields:e=>{sl(!0===e)}})));const Nl=e=>{""==e?Sl(A,Fe,Oe?"DraftPPMEmployeeDetID":"PPMEmployeeDetID",Oe&&"DraftPage"):Ml(e,{current:1,pageSize:100}),de(e)};function fl(l){Se.loading(!0);let t=D.v.Api+"FP473S7/",a={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:l.current,p5:l.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(t,a,Me.token[0]).then((e=>{if(200==e.Output.status.code){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,Qe(e.Output.data[0].TotalCount)):t=0,10==l.pageSize?$e(Math.ceil(t)):20==l.pageSize?$e(Math.ceil(t/2)):50==l.pageSize?$e(Math.ceil(t/5)):100==l.pageSize&&$e(Math.ceil(t/10)),je(e.Output.data),Se.loading(!1)}}))}function hl(e,l){Te({type:"editData",payload:[l]}),Te({type:"IsDraft",payload:Oe}),Te({type:"ShowDetail",payload:!0}),Se.Expanded(!0),Re&&ye(!1)}(0,a.useEffect)((()=>{!1===e.cardview&&ze(e.cardview),e.Dialogview&&(f(e.Dialogview),sl(!0))}),[e.cardview,e.Dialogview]),(0,a.useEffect)((()=>{e.searchsafaritext&&Ml(e.searchsafaritext,{current:A.current,pageSize:A.pageSize})}),[e.searchsafaritext]);const vl=()=>{Se.EditClose(!0),pe?(document.getElementById("PPMEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Ke?(N||(document.getElementById("PPMEmployeeDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMEmployeeDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("PPMEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ye(!1),window.clickFilter=!pe},Sl=(l,t,a,n,o,i)=>{Se.loading(!0),"DraftPage"!==n&&Le(Me.IsDraft);let p=D.v.Api+"FP473S3/",r={data:{p1:o||(t&&t.PPMEmployeeDetIDPK?t.PPMEmployeeDetIDPK:null),p2:t&&t.PPMEmployeeCode?t.PPMEmployeeCode:null,p3:t&&t.WoDate?t.WoDate:null,p4:t&&t.WoDateType?t.WoDateType:null,p5:t&&t.WoDateBetween?t.WoDateBetween:null,p6:t&&t.PPMEmpAmount?t.PPMEmpAmount:null,p7:null,p8:null,p9:t&&t.PPMType?t.PPMType:null,p10:t&&t.NoOfHours?t.NoOfHours:null,p11:"DraftPPMEmployeeDetID"==a?"1":"0",p12:null,p13:e.parentId?Number(e.parentId):0,p14:t&&t.EmployeeID?t.EmployeeID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.ContractID?t.ContractID:null,p23:t&&t.ContractCode?t.ContractCode:null,p24:t&&t.ContractName?t.ContractName:null,p25:t&&t.LocalityID?t.LocalityID:null,p26:t&&t.LocalityCode?t.LocalityCode:null,p27:t&&t.LocalityName?t.LocalityName:null,p28:t&&t.BuildingID?t.BuildingID:null,p29:t&&t.BuildingCode?t.BuildingCode:null,p30:t&&t.BuildingName?t.BuildingName:null,p31:t&&t.FloorID?t.FloorID:null,p32:t&&t.FloorCode?t.FloorCode:null,p33:t&&t.FloorName?t.FloorName:null,p34:t&&t.SpotID?t.SpotID:null,p35:t&&t.SpotCode?t.SpotCode:null,p36:t&&t.SpotName?t.SpotName:null,p37:t&&t.DivisionID?t.DivisionID:null,p38:t&&t.DivisionCode?t.DivisionCode:null,p39:t&&t.DivisionName?t.DivisionName:null,p40:t&&t.DisciplineID?t.DisciplineID:null,p41:t&&t.DisciplineCode?t.DisciplineCode:null,p42:t&&t.DisciplineName?t.DisciplineName:null,p43:t&&t.FrequencyID?t.FrequencyID:null,p44:t&&t.FrequencyCode?t.FrequencyCode:null,p45:t&&t.FrequencyName?t.FrequencyName:null,p46:t&&t.AssetID?t.AssetID:null,p47:t&&t.EquipmentName?t.EquipmentName:null,p48:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p49:t&&t.AssetBarcode?t.AssetBarcode:null,p50:t&&t.AssetTagNo?t.AssetTagNo:null,p51:t&&t.EmployeeCode?t.EmployeeCode:null,p52:t&&t.FirstName?t.FirstName:null,p53:t&&t.EmpContactNo1?t.EmpContactNo1:null,p54:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p55:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p56:t&&t.BriefDetails?t.BriefDetails:null,p57:t&&t.FlowCode?t.FlowCode:null,p58:t&&t.FlowDisplayName?t.FlowDisplayName:null,p59:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p60:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p61:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p62:t&&t.PPMStageID?t.PPMStageID:null,p63:t&&t.PPMStageName?t.PPMStageName:null,p64:t&&t.StageSeqNo?t.StageSeqNo:null,p65:t&&t.WorkOrder?t.WorkOrder:null,p66:t&&t.WoDateTime?t.WoDateTime:null,p67:t&&t.WoDateTimeType?t.WoDateTimeType:null,p68:t&&t.WoDateTimeBetween?t.WoDateTimeBetween:null,p69:t&&t.ShiftID?t.ShiftID:null,p70:t&&t.ShiftCode?t.ShiftCode:null,p71:t&&t.ShiftName?t.ShiftName:null,p72:t&&t.ClassificationID?t.ClassificationID:null,p73:t&&t.ClassificationCode?t.ClassificationCode:null,p74:t&&t.ClassificationName?t.ClassificationName:null,p75:t&&t.DepartmentID?t.DepartmentID:null,p76:t&&t.DepartmentCode?t.DepartmentCode:null,p77:t&&t.DepartmentName?t.DepartmentName:null,p78:t&&t.DesignationID?t.DesignationID:null,p79:t&&t.DesignationCode?t.DesignationCode:null,p80:t&&t.DesignationName?t.DesignationName:null,p81:t&&t.NationalityID?t.NationalityID:null,p82:t&&t.NationalityCode?t.NationalityCode:null,p83:t&&t.NationalityName?t.NationalityName:null,p84:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p85:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p86:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p87:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p88:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p89:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p90:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p91:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p92:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p93:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p94:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p95:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p96:t&&t.EmpGradeID?t.EmpGradeID:null,p97:t&&t.EmpGradeCode?t.EmpGradeCode:null,p98:t&&t.EmpGradeName?t.EmpGradeName:null,p99:t&&t.CityID?t.CityID:null,p100:t&&t.CityCode?t.CityCode:null,p101:t&&t.CityName?t.CityName:null,p102:t&&t.RegionID?t.RegionID:null,p103:t&&t.RegionCode?t.RegionCode:null,p104:t&&t.RegionName?t.RegionName:null,p105:t&&t.CountryID?t.CountryID:null,p106:t&&t.CountryCode?t.CountryCode:null,p107:t&&t.CountryName?t.CountryName:null,p108:t&&t.EmpGenderID?t.EmpGenderID:null,p109:t&&t.EmpGenderName?t.EmpGenderName:null,p110:t&&t.EmpTitleID?t.EmpTitleID:null,p111:t&&t.EmpTitleName?t.EmpTitleName:null,p112:o?1:l.current,p113:l.pageSize,p114:a,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,m.Z)(p,r,Me.token[0]).then((p=>{if(o)(0,J.a)(p,Te,n,i,Se);else if("200"==p.Output.status.code)if(p.Output.data.length>0){if(p.Output.data){let e=0;p.Output.data.length>0?(e=parseFloat(p.Output.data[0].TotalCount,10)/10,F(p.Output.data[0].TotalCount),w(p.Output.data[0].DraftCnt),Te({type:"count",payload:p.Output.data[0].TotalCount}),"DraftPage"==n&&w(p.Output.data[0].TotalCount)):e=0,10==l.pageSize?M(Math.ceil(e)):20==l.pageSize?M(Math.ceil(e/2)):50==l.pageSize?M(Math.ceil(e/5)):100==l.pageSize&&M(Math.ceil(e/10)),ie(p.Output.data),Se.loading(!1)}e.Dialogview||(document.getElementById("divPPMEmployeeDetails-Entry").style.height="auto",document.getElementById("divPPMEmployeeDetails-Entry").style.display="block")}else Se.loading(!1),"DraftPPMEmployeeDetID"===a?(Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ye(!0),Le(!1)):(ie([]),x({current:1,pageSize:10}),M(0),F(0),Te({type:"count",payload:"0"}),Object.values(t).some((e=>e))&&Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Se.alert({open:!0,color:"warning",message:[p.Output.status.message]}),Se.loading(!1)}))};function Ml(l,t){Se.loading(!0);const a=D.v.Api+"FP473S4/",n={data:{p1:"%"+l+"%",p2:e.parentId?e.parentId:"0",p3:Oe?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,n,Me.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let l=0;e.Output.data.length>0?(l=parseFloat(e.Output.data[0].TotalCount,10)/10,F(e.Output.data[0].TotalCount),Te({type:"count",payload:e.Output.data[0].TotalCount})):l=0,10==t.pageSize?M(Math.ceil(l)):20==t.pageSize?M(Math.ceil(l/2)):50==t.pageSize?M(Math.ceil(l/5)):100==t.pageSize&&M(Math.ceil(l/10)),ie(e.Output.data),Se.loading(!1)}else ie([]),M(0),F(0),Te({type:"count",payload:"0"}),Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Se.loading(!1);else Se.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Se.loading(!1)}))}function Tl(e){let l=[],t=[],a=[],n=[];e.map((e=>{"1"==e.IsVisible&&(l.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(t.push(e.FieldDisplay),a.push(e.FieldDescription)));let o=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Te({type:"language",payload:Object.assign({},...n)}),_e(t.reduce(((e,l)=>(e[l]="",e)),{})),Ee(e),ge(l),Ce(t),tl(a),nl(t)}const Fl=()=>he?null:n().createElement("div",null,qe?n().createElement(ne.Z,{data:Ue,expanded:e=>!N&&Se.Expanded(e),edit:(e,l,t)=>{N?Se.select(e):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:l}),Te({type:"ShowDetail",payload:t}))}}):n().createElement(ae.Z,{ref:s,frmctrlid:"tblcs_473_L1_",id:"PPMEmployeeDetailsTable",headerdata:Pe,tablesearchparams:He,searchvalue:e=>{_e(e),se(e);let l={...Object.fromEntries(Object.entries(e).filter((([e,l])=>""!==l))),...FilteredObj};El(l),x({current:1,pageSize:10}),Sl({current:1,pageSize:10},l,Oe?"DraftPPMEmployeeDetID":"PPMEmployeeDetID",Oe&&"DraftPage")},bodydata:le,ondrag:hl,bodyitem:Ie,visibleitem:Pe,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:c,showMore:!1,accessrights:Me.AccessRights,expanded:e=>!N&&Se.Expanded(e),edit:(e,l,t)=>{N?Se.select(e):(Object.keys(e).map(((a,n)=>{a.includes("IDPK")&&Sl(A,null,l?"DraftPPMEmployeeDetID":"PPMEmployeeDetID",l&&"DraftPage",e[a],t)})),Se.hideAddBtn(!0))},viewtoggle:Se.viewtoggle,isexpanded:!N||Re,tf:Cl,action:N?"none":"",ViewComp:(e,l)=>{}}));return(0,a.useEffect)((()=>{Ge(Me.ExpandTableValue)}),[Me.ExpandTableValue]),n().createElement("div",null,!rl&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld473L1ECSearchBar",className:"searchbar1"},n().createElement(P.Z,{frmctrlid:"fld473L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Il("Search"),value:ue,onChange:e=>{de(e),Se.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld473L1TCCloseIconCommonSearch",onClick:()=>{de(""),Se.searchItem("")}},n().createElement(r.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld473L1TCInputSearchIcon"},n().createElement(q.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMEmployeeDetailsgridsearch").focus()}})))),n().createElement("div",null,Me.AccessRights.IsAdd?n().createElement(X.Z,{className:"SaveBtnCommon",frmctrlid:"fld473L1TCAddBtnIsAdd",onClick:()=>{Se.hideAddBtn(!0),Te({type:"editData",payload:[]}),Te({type:"ShowDetail",payload:!1}),Te({type:"Add",payload:!0})}}):"")),n().createElement(i.Z,{expanded:We,onChange:()=>()=>{Ze(Re)}},e.Dialogview&&n().createElement(V.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[473]"},`${Cl("473")} (${T})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld473L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(P.Z,{frmctrlid:"fld473L1TCInputSearch",className:"search_input",type:"text",placeholder:Il("Search"),value:ue,onChange:e=>{Nl(e)}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld473L1TCInputCloseIcon",onClick:()=>{Nl("")}},n().createElement(r.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld473L1TCInputSearchIcon"},n().createElement(q.Z,{className:"InputSearchIcon"}))))))),n().createElement(p.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"PPMEmployeeDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&n().createElement("div",{frmctrlid:"fld473L1TCFilterDataIsDraft",id:"PPMEmployeeDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{vl()}},n().createElement(u.ZP,{title:Il("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Il("Filter Data"))),!N&&!Oe&&!he&&n().createElement(G.Z,{formctrlidprint:"fld473L1TCExportPrint",formctrlidexport:"fld473L1TCExportTable",formctrlidrefresh:"fld473L1TCExportRefresh",title:Cl("473"),data:O,exportData:Pl,Items:al,columnIndex:ll,TableVisibleItem:Pe,userGridViewFormID:c,TableTotalCount:T,triggerApi:l=>{((l,a,n,o,i)=>{if(0===T)return Se.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Se.loading(!0);let p=D.v.Api+"FP473S3/",r={data:{p1:l&&l.PPMEmployeeDetIDPK?l.PPMEmployeeDetIDPK:null,p2:l&&l.PPMEmployeeCode?l.PPMEmployeeCode:null,p3:l&&l.WoDate?l.WoDate:null,p4:l&&l.WoDateType?l.WoDateType:null,p5:l&&l.WoDateBetween?l.WoDateBetween:null,p6:l&&l.PPMEmpAmount?l.PPMEmpAmount:null,p7:null,p8:null,p9:l&&l.PPMType?l.PPMType:null,p10:l&&l.NoOfHours?l.NoOfHours:null,p11:Oe?"1":"0",p12:null,p13:e.parentId?Number(e.parentId):0,p14:l&&l.EmployeeID?l.EmployeeID:null,p15:l&&l.IsActive,p16:null,p17:l&&l.CreatedUserID_varchar?l.CreatedUserID_varchar:null,p18:l&&l.CreatedTtm?l.CreatedTtm:null,p19:l&&l.CreatedTtmType?l.CreatedTtmType:null,p20:l&&l.CreatedTtmBetween?l.CreatedTtmBetween:null,p21:null,p22:l&&l.ContractID?l.ContractID:null,p23:l&&l.ContractCode?l.ContractCode:null,p24:l&&l.ContractName?l.ContractName:null,p25:l&&l.LocalityID?l.LocalityID:null,p26:l&&l.LocalityCode?l.LocalityCode:null,p27:l&&l.LocalityName?l.LocalityName:null,p28:l&&l.BuildingID?l.BuildingID:null,p29:l&&l.BuildingCode?l.BuildingCode:null,p30:l&&l.BuildingName?l.BuildingName:null,p31:l&&l.FloorID?l.FloorID:null,p32:l&&l.FloorCode?l.FloorCode:null,p33:l&&l.FloorName?l.FloorName:null,p34:l&&l.SpotID?l.SpotID:null,p35:l&&l.SpotCode?l.SpotCode:null,p36:l&&l.SpotName?l.SpotName:null,p37:l&&l.DivisionID?l.DivisionID:null,p38:l&&l.DivisionCode?l.DivisionCode:null,p39:l&&l.DivisionName?l.DivisionName:null,p40:l&&l.DisciplineID?l.DisciplineID:null,p41:l&&l.DisciplineCode?l.DisciplineCode:null,p42:l&&l.DisciplineName?l.DisciplineName:null,p43:l&&l.FrequencyID?l.FrequencyID:null,p44:l&&l.FrequencyCode?l.FrequencyCode:null,p45:l&&l.FrequencyName?l.FrequencyName:null,p46:l&&l.AssetID?l.AssetID:null,p47:l&&l.EquipmentName?l.EquipmentName:null,p48:l&&l.EquipmentRefNo?l.EquipmentRefNo:null,p49:l&&l.AssetBarcode?l.AssetBarcode:null,p50:l&&l.AssetTagNo?l.AssetTagNo:null,p51:l&&l.EmployeeCode?l.EmployeeCode:null,p52:l&&l.FirstName?l.FirstName:null,p53:l&&l.EmpContactNo1?l.EmpContactNo1:null,p54:l&&l.EmpEmailOfficial?l.EmpEmailOfficial:null,p55:l&&l.PPMBusinessFlowID?l.PPMBusinessFlowID:null,p56:l&&l.BriefDetails?l.BriefDetails:null,p57:l&&l.FlowCode?l.FlowCode:null,p58:l&&l.FlowDisplayName?l.FlowDisplayName:null,p59:l&&l.PPMFixonBusinessFlowID?l.PPMFixonBusinessFlowID:null,p60:l&&l.FixonBusinessFlowName?l.FixonBusinessFlowName:null,p61:l&&l.PPMFixonBusinessFlowCode?l.PPMFixonBusinessFlowCode:null,p62:l&&l.PPMStageID?l.PPMStageID:null,p63:l&&l.PPMStageName?l.PPMStageName:null,p64:l&&l.StageSeqNo?l.StageSeqNo:null,p65:l&&l.WorkOrder?l.WorkOrder:null,p66:l&&l.WoDateTime?l.WoDateTime:null,p67:l&&l.WoDateTimeType?l.WoDateTimeType:null,p68:l&&l.WoDateTimeBetween?l.WoDateTimeBetween:null,p69:l&&l.ShiftID?l.ShiftID:null,p70:l&&l.ShiftCode?l.ShiftCode:null,p71:l&&l.ShiftName?l.ShiftName:null,p72:l&&l.ClassificationID?l.ClassificationID:null,p73:l&&l.ClassificationCode?l.ClassificationCode:null,p74:l&&l.ClassificationName?l.ClassificationName:null,p75:l&&l.DepartmentID?l.DepartmentID:null,p76:l&&l.DepartmentCode?l.DepartmentCode:null,p77:l&&l.DepartmentName?l.DepartmentName:null,p78:l&&l.DesignationID?l.DesignationID:null,p79:l&&l.DesignationCode?l.DesignationCode:null,p80:l&&l.DesignationName?l.DesignationName:null,p81:l&&l.NationalityID?l.NationalityID:null,p82:l&&l.NationalityCode?l.NationalityCode:null,p83:l&&l.NationalityName?l.NationalityName:null,p84:l&&l.EmpWorkNatureID?l.EmpWorkNatureID:null,p85:l&&l.NatureOfWorkCode?l.NatureOfWorkCode:null,p86:l&&l.NatureOfWorkName?l.NatureOfWorkName:null,p87:l&&l.EmployeeTypeID?l.EmployeeTypeID:null,p88:l&&l.EmployeeTypeCode?l.EmployeeTypeCode:null,p89:l&&l.EmployeeTypeName?l.EmployeeTypeName:null,p90:l&&l.EmploymentTypeID?l.EmploymentTypeID:null,p91:l&&l.EmploymentTypCode?l.EmploymentTypCode:null,p92:l&&l.EmploymentTypeName?l.EmploymentTypeName:null,p93:l&&l.EmployeeGroupID?l.EmployeeGroupID:null,p94:l&&l.EmployeeGroupCode?l.EmployeeGroupCode:null,p95:l&&l.EmployeeGroupName?l.EmployeeGroupName:null,p96:l&&l.EmpGradeID?l.EmpGradeID:null,p97:l&&l.EmpGradeCode?l.EmpGradeCode:null,p98:l&&l.EmpGradeName?l.EmpGradeName:null,p99:l&&l.CityID?l.CityID:null,p100:l&&l.CityCode?l.CityCode:null,p101:l&&l.CityName?l.CityName:null,p102:l&&l.RegionID?l.RegionID:null,p103:l&&l.RegionCode?l.RegionCode:null,p104:l&&l.RegionName?l.RegionName:null,p105:l&&l.CountryID?l.CountryID:null,p106:l&&l.CountryCode?l.CountryCode:null,p107:l&&l.CountryName?l.CountryName:null,p108:l&&l.EmpGenderID?l.EmpGenderID:null,p109:l&&l.EmpGenderName?l.EmpGenderName:null,p110:l&&l.EmpTitleID?l.EmpTitleID:null,p111:l&&l.EmpTitleName?l.EmpTitleName:null,p112:A.current,p113:T,p114:Oe?"DraftPPMEmployeeDetID":"PPMEmployeeDetID",p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};Se.loading(!1),Se.alert({open:!0,color:"success",message:[`${Cl(473)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(p,r,Me.token[0],i).then((e=>{(0,ee.PDF_Excel_Generate)(e,Se,al,k,t,i)}))})(re,W.column,0,0,l)},Refresh:()=>{de(""),x({current:1,pageSize:100}),s.current.clearItem(),Me.IsDraft?Sl({current:1,pageSize:100},Fe,"DraftPPMEmployeeDetID"):Sl({current:1,pageSize:100},Fe,"PPMEmployeeDetID")},disabledPrint:!Me.AccessRights.IsPrint,disabledExport:!Me.AccessRights.IsExport,ref:t,iconinfo:"displayNone"}),!Oe&&!he&&!N&&n().createElement("div",{className:"buttoncard",onClick:()=>ml(!pl)},n().createElement("span",null,pl?n().createElement(u.ZP,{disableFocusListener:!0,title:Il("Less"),placement:"top"},n().createElement("span",{id:"fld473L1TCLess"},n().createElement(Y.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(u.ZP,{disableFocusListener:!0,title:Il("More"),placement:"top"},n().createElement("span",{id:"fld473L1TCMore"},n().createElement(Y.ilJ,{className:"tableFilterColumnIcon"}))))),pl?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},he||!Re?null:N||!Me.AccessRights.IsAdd||Oe?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld473L1TCFilterDataIsAdd",id:"PPMEmployeeDetailscoldiv",className:"buttoncard",onClick:()=>{Se.EditClose(!0),ce?(document.getElementById("PPMEmployeeDetailsFilterDiv").style.width="0%",document.getElementById("PPMEmployeeDetailsTabDiv").style.width="100%",document.getElementById("PPMEmployeeDetailsFilterDiv").style.display="none",document.getElementById("PPMEmployeeDetailscoldiv").style.width="fit-content",document.getElementById("PPMEmployeeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!1)):(document.getElementById("PPMEmployeeDetailsFilterDiv").style.width="25%",document.getElementById("PPMEmployeeDetailsTabDiv").style.width="75%",document.getElementById("PPMEmployeeDetailsFilterDiv").style.display="block",document.getElementById("PPMEmployeeDetailsfildiv").style.width="fit-content",document.getElementById("PPMEmployeeDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMEmployeeDetailscoldiv").style.width="fit-content",document.getElementById("PPMEmployeeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ye(!0)),me(!1)}},n().createElement(u.ZP,{title:Il("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(Q.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Il("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!N&&Re&&!he&&!Oe&&n().createElement("div",null,n().createElement("div",{id:"PPMEmployeeDetailscoldiv",className:"buttoncard",onClick:()=>{qe?Ve(!1):(Ve(!0),fl({current:1,pageSize:100}))}},n().createElement(u.ZP,{title:Il("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld473L1TCTableScrollData"},n().createElement(oe.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Il("Table Scroll Data")))))):""),!Oe&&!N&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},he||Oe?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:Ke?"buttonList":"buttonGrid",id:"fld473L1TCListView",onClick:()=>{ze(!0),il(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(Y.umT,null)),n().createElement("span",null,Il("List"))),n().createElement("div",{className:Ke||ol?"buttonGrid":"buttonList",id:"fld473L1TCCardView",onClick:()=>{ze(!1),il(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(C.aCJ,null)),n().createElement("span",null,Il("Card"))),n().createElement("div",{className:ol?"buttonList":"buttonGrid",id:"fld473L1TCTileView",onClick:()=>{il(!0),ze(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement($.f_H,null)),n().createElement("span",null,Il("Tile"))))))),he?null:qe?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(U.Z,{style:{color:"#777"},id:"fld473L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:h,onPageChange:(e,l)=>{v(l),fl({current:l+1,pageSize:Xe.pageSize}),el({current:l+1,pageSize:Xe.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(K.Z,{count:Ye,color:"primary",page:Xe.current,onChange:(e,l)=>{el({current:l,pageSize:Xe.pageSize}),$e(l),fl({current:l,pageSize:Xe.pageSize})}}),n().createElement("div",null,n().createElement(H.Z,{className:"BootstrapInputStyle",value:Xe.pageSize,frmctrlid:"fld473L1TCSelectPagination",onChange:e=>{el({current:1,pageSize:e.target.value}),fl({current:1,pageSize:e.target.value})}},n().createElement(z.Z,{value:10},"10"),n().createElement(z.Z,{value:20},"20"),n().createElement(z.Z,{value:50},"50"),n().createElement(z.Z,{value:100},"100"))),Re&&n().createElement("p",{className:"per-page"},"/ ",Il("RowperpageOf")," (",Je,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(U.Z,{style:{color:"#777"},id:"fld473L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:h,onPageChange:(e,l)=>{v(l),Sl({current:l+1,pageSize:A.pageSize},Fe,Oe?"DraftPPMEmployeeDetID":"PPMEmployeeDetID",Oe&&"DraftPage"),x({current:l+1,pageSize:A.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(K.Z,{count:S,siblingCount:0,color:"primary",page:A.current,onChange:(e,l)=>{if(x({current:l,pageSize:A.pageSize}),Oe)Sl({current:l,pageSize:A.pageSize},be,"DraftPPMEmployeeDetID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";ue.length>0?Ml(ue,{current:l,pageSize:A.pageSize}):Sl({current:l,pageSize:A.pageSize},be,"PPMEmployeeDetID")}}}),n().createElement("div",null,n().createElement(H.Z,{className:"BootstrapInputStyle",value:A.pageSize,id:"fld473L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Oe?Sl({current:1,pageSize:e.target.value},be,"DraftPPMEmployeeDetID","DraftPage"):ue.length>0?Ml(ue,{current:1,pageSize:e.target.value}):Sl({current:1,pageSize:e.target.value},be,"PPMEmployeeDetID")}},n().createElement(z.Z,{value:10},"10"),n().createElement(z.Z,{value:20},"20"),n().createElement(z.Z,{value:50},"50"),n().createElement(z.Z,{value:100},"100"))),Re&&n().createElement("p",{className:"per-page"},"/ ",Il("RowperpageOf")," (",T,") "))),n().createElement("div",{id:"PPMEmployeeDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"PPMEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},pe&&n().createElement(R,{parentId:e.parentId,searchData:e=>{se(e||Dl),Object.fromEntries(Object.entries(e).filter((([e,l])=>""!==l)))},formID:c,data:()=>{},visibleData:()=>{},token:Me.token[0],CloseBtnClk:()=>vl(),userGrid:cl,msg:(e,l)=>Se.alert({open:!0,color:l,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ce&&n().createElement(_.Z,{Refresh:e=>{Sl({current:1,pageSize:100},Fe,"PPMEmployeeDetID")},frmctrlid:"fld473L1TCTableColumnOrder",loading:e=>Se.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,l)=>Se.alert({open:!0,color:l,message:[e]}),select:ce,userID:d,userGridViewFormID:c,saved:(e,l)=>{e&&Tl(l),yl(l),Te({type:"showTableview",payload:l})},Token:Me.token[0]})),n().createElement("div",{id:"PPMEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ke?n().createElement(Fl,null):n().createElement(j.Z,{frmctrlid:"fld473L1TCExpandedCardDual",data:le,id:"PPMEmployeeDetails",title:"PPMEmployeeCode",cardTile:!!ol,visibleitem:Pe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,l)=>{N?Se.select(e):("edit"==l?(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Oe}),Te({type:"ShowDetail",payload:!1}),Se.Expanded(!0)):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Oe}),Te({type:"ShowDetail",payload:!0}),Se.Expanded(!0),Se.viewtoggle()),pe?me(!0):ce?ye(!0):(ye(!1),ye(!1))),Se.hideAddBtn(!0)}})))))))}));var pe=t(37148),me=t(29800),re=(t(10966),t(21392),t(26537)),se=t(44528),ue=(t(99090),t(1695)),de=t(61924),ce=t.n(de),ye=t(40826),De=t(55490),Ee=t(92371);const Pe={EnterKeyValues:{PPMEmployeeDetails:["FirstName","IsPrimaryEmployee","IsAllEmployee","PPMEmpAmount","PPMEmployeeCode","WoDate","PPMType","NoOfHours","WorkOrder"]},Label:{PPMEmployeeDetails:{EmployeeID:["EmployeeCode","FirstName","LastName"],IsPrimaryEmployee:["PPMEmployeeCode"],IsAllEmployee:["PPMEmployeeCode"],PPMEmpAmount:["PPMEmployeeCode"],PPMEmployeeCode:["PPMEmployeeCode"],WoDate:["PPMEmployeeCode"],PPMType:["PPMEmployeeCode"],NoOfHours:["PPMEmployeeCode"],PPMCreationAssetID:["PPMEmployeeCode"]}},LabelHeader:{PPMEmployeeDetails:{EmployeeID:["Employee Code","First Name","Last Name"],IsPrimaryEmployee:["PPMEmployeeCode"],IsAllEmployee:["PPMEmployeeCode"],PPMEmpAmount:["PPMEmployeeCode"],PPMEmployeeCode:["PPMEmployeeCode"],WoDate:["PPMEmployeeCode"],PPMType:["PPMEmployeeCode"],NoOfHours:["PPMEmployeeCode"],PPMCreationAssetID:["PPMEmployeeCode"]}},Property:{PPMEmployeeDetails:{EmployeeID:{id:"fld473_16245",clearID:"PPMEmployeeDetailsFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"Employee",fielddisplayname:"FirstName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},IsPrimaryEmployee:{id:"fld473_16239",labelID:"IsPrimaryEmployee",maxLength:"",labelname:"Primary Employee",frmctrlid:"fld473_16239",frmctrlidname:"IsPrimaryEmployee",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsAllEmployee:{id:"fld473_17915",labelID:"IsAllEmployee",maxLength:"",labelname:"Show all Employees",frmctrlid:"fld473_17915",frmctrlidname:"IsAllEmployee",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMEmpAmount:{id:"fld473_17916",labelID:"PPMEmpAmount",maxLength:"15",labelname:"Amount",frmctrlid:"fld473_17916",frmctrlidname:"PPMEmpAmount",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMEmployeeCode:{id:"fld473_16237",labelID:"PPMEmployeeCode",maxLength:"50",labelname:"PPMEmployeeCode",frmctrlid:"fld473_16237",frmctrlidname:"PPMEmployeeCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},WoDate:{id:"fld473_16238",labelID:"WoDate",maxLength:"",labelname:"WoDate",frmctrlid:"fld473_16238",frmctrlidname:"WoDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMType:{id:"fld473_16240",labelID:"PPMType",maxLength:"",labelname:"PPMType",frmctrlid:"fld473_16240",frmctrlidname:"PPMType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},NoOfHours:{id:"fld473_16241",labelID:"NoOfHours",maxLength:"",labelname:"NoOfHours",frmctrlid:"fld473_16241",frmctrlidname:"NoOfHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCreationAssetID:{id:"fld473_16244",clearID:"PPMEmployeeDetailsWorkOrderClear",type:"select",labelID:"PPMCreationAssetIDPK",labelname:"PPMCreationAssetID",fielddisplayname:"WorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMEmployeeDetails:{EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"],PPMCreationAssetID:["ContractID","BuildingID","AssetID","DisciplineID","DivisionID","FloorID","FrequencyID","SpotID"]}}};var ge=t(6562),Ie=t(45155),Ce=t(49174),Ne=(t(38773),t(19089),t(16233)),fe=t.n(Ne),he=(t(82729),t(75355),t(11107),t(74095));const ve={PPMEmployeeDetIDPK:"",PPMEmployeeCode:"",WoDate:"",WoDateType:"",WoDateBetween:"",PPMEmpAmount:"",IsPrimaryEmployee:!1,IsAllEmployee:!1,PPMType:"",NoOfHours:"",IsDraft:!1,Remarks:"",PPMCreationAssetID:null,EmployeeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",WorkOrder:"",WoDateTime:"",WoDateTimeType:"",WoDateTimeBetween:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeID:null,EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",Type:"PPMEmployeeDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Se=(0,a.forwardRef)(((e,l)=>{const t=(0,o.useSelector)((e=>e.form)),[r,s]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!0),[E,P]=(0,a.useState)(!1),[I,C]=(0,a.useState)(!1),[N,h]=(0,a.useState)(""),[M,T]=(0,a.useState)(!1),[F,b]=(0,a.useState)([]),[w,A]=(0,a.useState)(null),[x,B]=(0,a.useReducer)(Ee.Z,ve),[k,O]=(0,a.useState)(!1),[W,Z]=(0,a.useState)([]),[R,G]=(0,a.useState)(!1),K=(0,a.useContext)(e.context?e.context:Be),{cstate:z,cdispatch:H}=e.ContextApi?e.ContextApi:ke(),[_,q]=(0,a.useState)(0),[U,j]=(0,a.useState)(""),Y=(0,a.useRef)(null),[$,J]=fe()("473"),[Q,X]=(0,a.useState)([]),ee=(0,a.useRef)(null),[le,te]=(0,a.useState)(!0),[ae,ne]=(0,a.useState)(""),[oe,ie]=(0,a.useState)(!0),[me,de]=(0,a.useState)(!0),[Ne,Se]=(0,a.useState)(!1);let Me=(0,g.Z)();const[Te,Fe]=(0,a.useState)({}),be=e=>Me[e]?Me[e]:e,we=l=>z.language?.[l]?z.language[l]:e.createEasy?Te?.[l]:l;(0,a.useEffect)((()=>{z.PrimaryId&&q(Number(z.PrimaryId))}),[z.PrimaryId]),(0,a.useEffect)((()=>{Le()}),[]),(0,a.useEffect)((()=>{Le()}),[e.parentId]),(0,a.useEffect)((()=>{z.editData.length>0?(Oe(z.editData[0],""),P(!0)):z.Add&&(Le(),P(!0))}),[z.editData]),(0,a.useEffect)((()=>{!function(e){let l=[];e&&e.map((e=>{let t=localStorage.getItem("Language");l.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[t]]})})),Fe(Object.assign({},...l))}($)}),[$]),(0,a.useImperativeHandle)(l,(()=>({clear:()=>{Le()},CreateEasyProps:(e=!0,l)=>{J(!0),l?(Ue(l),P(e)):(Le(),P(e))},AddOpen:e=>{Le(),P(!0)}})));const Ae=e=>e?e.split("-").reverse().join("-"):null,xe=e=>{if(e){let l=Ae(e);return"Invalid Date"!=new Date(l)?(0,ye.format)(new Date(l),"yyyy-MM-dd"):e}return null},Oe=(l,t)=>{Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),C(l.IsDraft),"SetDefaultPPMEmployeeDetID"==t?j(l.PPMEmployeeDetIDPK):(q(e.primid?Number(e.primid):l.PPMEmployeeDetIDPK?l.PPMEmployeeDetIDPK:0),H({type:"PrimaryId",payload:l.PPMEmployeeDetIDPK})),B({type:"number",name:"EmployeeID",number:l.EmployeeID?Number(l.EmployeeID):0}),B({type:"text",name:"FirstName",value:l.FirstName}),B({type:"boolean",name:"IsPrimaryEmployee",boolean:!!l.IsPrimaryEmployee&&l.IsPrimaryEmployee}),B({type:"boolean",name:"IsAllEmployee",boolean:!!l.IsAllEmployee&&l.IsAllEmployee}),B({type:"number",name:"PPMEmpAmount",number:Number(l.PPMEmpAmount)}),B({type:"text",name:"PPMEmployeeCode",value:l.PPMEmployeeCode?l.PPMEmployeeCode:""}),B({type:"text",name:"WoDate",value:l.WoDate?Ae(l.WoDate):null}),B({type:"number",name:"PPMType",number:l.PPMType}),B({type:"number",name:"NoOfHours",number:l.NoOfHours}),B({type:"number",name:"PPMCreationAssetID",number:l.PPMCreationAssetID?Number(l.PPMCreationAssetID):0}),B({type:"text",name:"WorkOrder",value:l.WorkOrder}),l.IsDraft?d(!0):d(!("1"!=l.IsActive&&!l.IsActive))},Le=()=>{b([]),j(""),H({type:"PrimaryId",payload:""}),B({type:"text",name:"EmployeeID",value:null}),B({type:"text",name:"FirstName",value:""}),document.getElementById("PPMEmployeeDetailsFirstNameClear")&&document.getElementById("PPMEmployeeDetailsFirstNameClear").click(),document.getElementById("PPMEmployeeDetailsEmployeeIDClear")&&document.getElementById("PPMEmployeeDetailsEmployeeIDClear").click(),X([]),B({type:"boolean",name:"IsPrimaryEmployee",boolean:!1}),B({type:"boolean",name:"IsAllEmployee",boolean:!1}),B({type:"number",name:"PPMEmpAmount",number:0}),B({type:"text",name:"PPMEmployeeCode",value:""}),B({type:"text",name:"WoDate",value:""}),B({type:"number",name:"PPMType",number:0}),B({type:"number",name:"NoOfHours",number:0}),B({type:"text",name:"PPMCreationAssetID",value:null}),B({type:"text",name:"WorkOrder",value:""}),document.getElementById("PPMEmployeeDetailsWorkOrderClear")&&document.getElementById("PPMEmployeeDetailsWorkOrderClear").click(),q(0),d(!0),h(""),te(!0),ie(!0),de(!0)},We=l=>{te(!0),ie(!0),de(!0),K.loading(!0),K.ConfirmAlert(null),H({type:"IsDraft",payload:!1});const t=`${D.v.Api}${_?"FP473S1/":"FP473S19/"}`,a={data:[{p1:"SetDefaultPPMEmployeeDetID"==l?"NORECORDS"!=U&&U?U:0:_,p2:je(x.PPMEmployeeCode),p3:x.WoDate?xe(x.WoDate):null,p4:x.PPMEmpAmount?Number(x.PPMEmpAmount):0,p5:x.IsPrimaryEmployee,p6:x.IsAllEmployee,p7:x.PPMType?Number(x.PPMType):0,p8:x.NoOfHours?Number(x.NoOfHours):0,p9:!1,p10:"SetDefaultPPMEmployeeDetID"==l?"SetDefault":null,p11:e.parentId?Number(e.parentId):x.PPMCreationAssetID?x.PPMCreationAssetID:0,p12:_?x.EmployeeID:0==Q.length?0:Q.map((e=>e.EmployeeIDPK)).toString(),p13:u,p14:"SetDefaultPPMEmployeeDetID"==l,p15:localStorage.getItem("userid"),p16:v()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:v()().format("YYYY-MM-DD hh:mm:ss")}]};(0,re.Z)(0).then((n=>{(0,S.Z)(t,a,n).then((t=>{const a=t[0].status;200==a.code?("SetDefaultPPMEmployeeDetID"==l?K.alert({open:!0,color:"success",message:[be("Default Record Configured")]}):K.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMEmployeeDetails"),K.loading(!1),H({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(K.RefreshTable(),K.attachmentSave(t[0].Data.IDPK)),Le(),z.AccessRights.IsApproval&&K.Approval(!0),document.getElementById("overlayimgAttPPMEmployeeDetails")&&(document.getElementById("overlayimgAttPPMEmployeeDetails").style.width="0%",document.getElementById("overlayimgAttPPMEmployeeDetails").style.display="none",document.getElementById("divPPMEmployeeDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMEmployeeDetails-MainTable").style.display="block")):(K.alert({open:!0,color:"warning",message:[a.message]}),K.loading(!1)),P(!0)}))}))},Ze=l=>{K.loading(!0),K.ConfirmAlert(null);const t=D.v.Api+"FP473S2/",a={data:[{p1:"SetDefaultPPMEmployeeDetID"==l?"NORECORDS"!=U&&U?U:0:_,p2:je(x.PPMEmployeeCode),p3:x.WoDate?xe(x.WoDate):null,p4:x.PPMEmpAmount?Number(x.PPMEmpAmount):0,p5:x.IsPrimaryEmployee,p6:x.IsAllEmployee,p7:x.PPMType?Number(x.PPMType):0,p8:x.NoOfHours?Number(x.NoOfHours):0,p9:!1,p10:"SetDefaultPPMEmployeeDetID"==l?"SetDefault":null,p11:e.parentId?Number(e.parentId):x.PPMCreationAssetID?x.PPMCreationAssetID:0,p12:_?x.EmployeeID:0==Q.length?0:Q.map((e=>e.EmployeeIDPK)).toString(),p13:u,p14:"SetDefaultPPMEmployeeDetID"==l,p15:localStorage.getItem("userid"),p16:v()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:v()().format("YYYY-MM-DD hh:mm:ss")}]};(0,re.Z)(0).then((e=>{(0,m.Z)(t,a,e).then((e=>{const l=e.Output[0].status;let t=e.Output[0].Data,a=new Array,n=new Array;"200"===l.code?(t.map((e=>{e&&(a.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),a.some((e=>"1"==e))?(K.alert({open:!0,color:"warning",message:n}),K.loading(!1)):We()):(K.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),K.loading(!1))}))}))};function Re(e){return CreateEasy(e,z,H,K,Y),!1}function Ge(e,t){return AdvanceSearch(e,t,Be,ke(),He,l),!1}const Ke=(l,t,a,n,o,i)=>{const p=D.v.Api+"FP473S3/",r={data:{p1:null,p2:null,p3:x.WoDate?x.WoDate:null,p4:null,p5:null,p6:null,p7:1==x.IsPrimaryEmployee,p8:1==x.IsAllEmployee,p9:t?"%"+t+"%":null,p10:t?"%"+t+"%":null,p11:null,p12:null,p13:e.parentId?Number(e.parentId):0,p14:x.EmployeeID?x.EmployeeID:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:"0"==x.ContractID?null:x.ContractID,p23:t?"%"+t+"%":null,p24:t?"%"+t+"%":null,p25:"0"==x.LocalityID?null:x.LocalityID,p26:t?"%"+t+"%":null,p27:t?"%"+t+"%":null,p28:"0"==x.BuildingID?null:x.BuildingID,p29:t?"%"+t+"%":null,p30:t?"%"+t+"%":null,p31:"0"==x.FloorID?null:x.FloorID,p32:t?"%"+t+"%":null,p33:t?"%"+t+"%":null,p34:"0"==x.SpotID?null:x.SpotID,p35:t?"%"+t+"%":null,p36:t?"%"+t+"%":null,p37:"0"==x.DivisionID?null:x.DivisionID,p38:t?"%"+t+"%":null,p39:t?"%"+t+"%":null,p40:"0"==x.DisciplineID?null:x.DisciplineID,p41:t?"%"+t+"%":null,p42:t?"%"+t+"%":null,p43:"0"==x.FrequencyID?null:x.FrequencyID,p44:t?"%"+t+"%":null,p45:t?"%"+t+"%":null,p46:"0"==x.AssetID?null:x.AssetID,p47:t?"%"+t+"%":null,p48:t?"%"+t+"%":null,p49:t?"%"+t+"%":null,p50:t?"%"+t+"%":null,p51:t?"%"+t+"%":null,p52:t?"%"+t+"%":null,p53:t?"%"+t+"%":null,p54:t?"%"+t+"%":null,p55:"0"==x.PPMBusinessFlowID?null:x.PPMBusinessFlowID,p56:t?"%"+t+"%":null,p57:t?"%"+t+"%":null,p58:t?"%"+t+"%":null,p59:"0"==x.PPMFixonBusinessFlowID?null:x.PPMFixonBusinessFlowID,p60:t?"%"+t+"%":null,p61:t?"%"+t+"%":null,p62:"0"==x.PPMStageID?null:x.PPMStageID,p63:t?"%"+t+"%":null,p64:t?"%"+t+"%":null,p65:t?"%"+t+"%":null,p66:x.WoDateTime?x.WoDateTime:null,p67:null,p68:null,p69:"0"==x.ShiftID?null:x.ShiftID,p70:t?"%"+t+"%":null,p71:t?"%"+t+"%":null,p72:"0"==x.ClassificationID?null:x.ClassificationID,p73:t?"%"+t+"%":null,p74:t?"%"+t+"%":null,p75:"0"==x.DepartmentID?null:x.DepartmentID,p76:t?"%"+t+"%":null,p77:t?"%"+t+"%":null,p78:"0"==x.DesignationID?null:x.DesignationID,p79:t?"%"+t+"%":null,p80:t?"%"+t+"%":null,p81:"0"==x.NationalityID?null:x.NationalityID,p82:t?"%"+t+"%":null,p83:t?"%"+t+"%":null,p84:"0"==x.EmpWorkNatureID?null:x.EmpWorkNatureID,p85:t?"%"+t+"%":null,p86:t?"%"+t+"%":null,p87:"0"==x.EmployeeTypeID?null:x.EmployeeTypeID,p88:t?"%"+t+"%":null,p89:t?"%"+t+"%":null,p90:"0"==x.EmploymentTypeID?null:x.EmploymentTypeID,p91:t?"%"+t+"%":null,p92:t?"%"+t+"%":null,p93:"0"==x.EmployeeGroupID?null:x.EmployeeGroupID,p94:t?"%"+t+"%":null,p95:t?"%"+t+"%":null,p96:"0"==x.EmpGradeID?null:x.EmpGradeID,p97:t?"%"+t+"%":null,p98:t?"%"+t+"%":null,p99:"0"==x.CityID?null:x.CityID,p100:t?"%"+t+"%":null,p101:t?"%"+t+"%":null,p102:"0"==x.RegionID?null:x.RegionID,p103:t?"%"+t+"%":null,p104:t?"%"+t+"%":null,p105:"0"==x.CountryID?null:x.CountryID,p106:t?"%"+t+"%":null,p107:t?"%"+t+"%":null,p108:"0"==x.EmpGenderID?null:x.EmpGenderID,p109:t?"%"+t+"%":null,p110:"0"==x.EmpTitleID?null:x.EmpTitleID,p111:t?"%"+t+"%":null,p112:l,p113:i||10,p114:a,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},s=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,l,t)=>(e[l]=t>Object.keys(r.data).length-8?r.data[l]:null,e)),{});O(!0);const u={data:s};(0,m.Z)(p,"ClearAll"==a?u:r,"PKDrag"==n?o:z.token[0]).then((e=>{const t=e.Output.status.code,n=e.Output.data;if("200"==t){const e=n.length;1==l?e>0?(Z(n),i&&"EmployeeIDPK"==a&&(ee.current.checkedAll(n),K.loading(!1))):Z([]):Z(W.concat(n)),"SetDefaultPPMEmployeeDetID"==a&&(e>0?Oe(n[0],"SetDefaultPPMEmployeeDetID"):j("NORECORDS")),O(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ze=(l,a,n)=>{const o=D.v.Api+"FP473S3/",i={data:{p1:null,p2:"PPMEmployeeCode"==n&&a?"%"+a+"%":null,p3:null,p4:null,p5:null,p6:"PPMEmpAmount"==n&&a?"%"+a+"%":null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:t.PPMCreationAssetPPMCreationAssetID?t.PPMCreationAssetPPMCreationAssetID:"0",p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:l,p113:10,p114:"PPMEmployeeDetID",p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},p={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,l,t)=>(e[l]=t>Object.keys(i.data).length-8?i.data[l]:null,e)),{})};O(!0),(0,m.Z)(o,"ClearAll"==n?p:i,z.token[0]).then((e=>{const t=e.Output.status.code,a=e.Output.data;if("200"==t){const e=a.length;1==l?("PPMEmployeeCode"==n&&te(e>0),"PPMType"==n&&ie(e>0),"NoOfHours"==n&&de(e>0),Z(a)):("PPMEmployeeCode"==n&&te(!0),"PPMType"==n&&ie(!0),"NoOfHours"==n&&de(!0),Z(W.concat(a))),O(!1)}else K.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},He=(0,a.useCallback)((async(e,l,t)=>{"text"==t?B({type:t,name:l,value:e}):"number"==t?B({type:t,name:l,number:Number(e)}):"boolean"==t?B({type:t,name:l,boolean:e}):"date"==t?B({type:"text",name:l,value:e}):"select"==t&&"EmployeeID"==l&&(B({type:"text",name:"EmployeeID",value:e.EmployeeIDPK?e.EmployeeIDPK:null}),B({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:null}))}),[x]);function _e(e){if("EmployeeID"==e){if(!x.EmployeeID)return!1;B({type:"text",name:"EmployeeID",value:null}),B({type:"text",name:"FirstName",value:""}),document.getElementById("PPMEmployeeDetailsEmployeeIDClear")&&document.getElementById("PPMEmployeeDetailsEmployeeIDClear").click(),X([]),document.getElementById("PPMEmployeeDetailsFirstNameClear")&&document.getElementById("PPMEmployeeDetailsFirstNameClear").click()}else if("PPMCreationAssetID"==e&&!x.PPMCreationAssetID)return!1}function qe(e){if("EmployeeID"==e){if(!x.EmployeeID)return!1;B({type:"text",name:"EmployeeID",value:null})}else if("PPMCreationAssetID"==e&&!x.PPMCreationAssetID)return!1}const Ve=e=>{K.ConfirmAlert(n().createElement(ce(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ue(e),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("No"),showCancel:!0},be("Do you want to update this record?")))};function Ue(e){K.ConfirmAlert(null),C(e.IsDraft),q(Number(e.PPMEmployeeDetIDPK)?Number(e.PPMEmployeeDetIDPK):0),B({type:"number",name:"EmployeeID",number:e.EmployeeID?Number(e.EmployeeID):0}),B({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:""}),B({type:"boolean",name:"IsPrimaryEmployee",boolean:!!e.IsPrimaryEmployee&&e.IsPrimaryEmployee}),B({type:"boolean",name:"IsAllEmployee",boolean:!!e.IsAllEmployee&&e.IsAllEmployee}),B({type:"number",name:"PPMEmpAmount",number:e.PPMEmpAmount?Number(e.PPMEmpAmount):0}),B({type:"text",name:"PPMEmployeeCode",value:e.PPMEmployeeCode?e.PPMEmployeeCode:""}),B({type:"text",name:"WoDate",value:e.WoDate?Ae(e.WoDate):null}),B({type:"text",name:"PPMType",value:e.PPMType?e.PPMType:""}),B({type:"text",name:"NoOfHours",value:e.NoOfHours?e.NoOfHours:""}),B({type:"number",name:"PPMCreationAssetID",number:e.PPMCreationAssetID?Number(e.PPMCreationAssetID):0}),B({type:"text",name:"WorkOrder",value:e.WorkOrder?e.WorkOrder:""})}const je=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:E,onChange:e=>{}},n().createElement(V.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},E&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[473]"}," ",be("Add "),we("473")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(ge.Z,{row:!0},n().createElement(L.Z,{labelPlacement:"bottom",id:"fld473L1ECEntryCheckbox",control:n().createElement(f.Z,{checked:"1"==u,onChange:e=>d(e.target.checked)}),label:be(1==u?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{K.AttachExpand(!0)},id:"fld473L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(Ie.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,be("Attach")))),!_&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Le()},id:"fld473L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(Ie.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,be("Reset")))),z.AccessRights.IsAdd||z.AccessRights.IsEdit?n().createElement(ue.Z,{frmctrlid:"fld473L1ECSaveBtnIsAdd",name:be(_?"Update":"Save"),disabled:!1,onClick:()=>{!_&&0==Q.length||_&&(!x.EmployeeID||0==x.EmployeeID)?K.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+we("EmployeeID")]}):e.parentId&&0!=e.parentId?_?K.ConfirmAlert(n().createElement(ce(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:be("Are you sure?"),onConfirm:()=>Ze(),onCancel:()=>K.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:be("Yes"),cancelBtnText:be("Cancel"),showCancel:!0},be(_?"Do you want to Update?":"Do you want to Save?"))):We():K.alert({open:!0,color:"warning",message:[be("Please select the ")+" "+we("PPMCreationAssetID")]})}}):null,!e.createEasy&&n().createElement(pe.Z,{frmctrlid:"fld473L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Le(),P(!1),K.EditClose(!0),K.hideAddBtn(!1),H({type:"Add",payload:!1})}}))))),n().createElement(p.Z,null,n().createElement("div",{id:"PPMEmployeeDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"PPMEmployeeDetails-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"PPMEmployeeDetails-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(c.Z,{spacing:2},_?null:n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(he.Z,{json:Pe,id:x.EmployeeID,"data-testid":x.EmployeeID,value:x.FirstName,SPName:"PPMEmployeeDetails",FieldName:"EmployeeID",tfLabel:we("EmployeeID"),ref:ee,EnterSave:l=>{l&&e.submitConfirmation(l)},onSelect:(e,l)=>{return X(t=l),void t.length;var t},onChange:(e,l)=>{Ke(e,l,"EmployeeIDPK")},fieldorder:"1",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,SideEntryView:!1,allData:(e,l)=>{K.loading(!0),Ke("1",l||"","EmployeeIDPK","","",e)},openSlide:()=>{Re("197")},Tabledialog:()=>Ge("197","EmployeeID"),loading:k,clear:e=>{e&&_e("EmployeeID")}})),_?n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(De.Z,{json:Pe,id:x.EmployeeID,"data-testid":x.EmployeeID,value:x.FirstName,SPName:"PPMEmployeeDetails",FieldName:"EmployeeID",tfLabel:we("EmployeeID"),EnterSave:l=>{l&&e.submitConfirmation(l)},onSelect:e=>He(e,"EmployeeID","select"),onChange:(e,l)=>{Ke(e,l,"EmployeeIDPK")},KeyBack:e=>{qe("EmployeeID")},fieldorder:"1",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,openSlide:()=>{Re("197")},Tabledialog:()=>Ge("197","EmployeeID"),loading:k,SideEntryView:!1,clear:e=>{e&&_e("EmployeeID")}})):null,n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(L.Z,{style:{color:"#337ab7"},"data-testid":x.IsPrimaryEmployee,labelPlacement:"end",control:n().createElement(f.Z,{checked:"1"==x.IsPrimaryEmployee,onChange:e=>{He(e.target.checked,"IsPrimaryEmployee","boolean")},frmctrlid:"fld473_16239",frmctrlidname:"IsPrimaryEmployee",fieldorder:"2",tfLabel:we("IsPrimaryEmployee")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.IsPrimaryEmployee?"#21446F":"#999"}},we("IsPrimaryEmployee"))}))),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(L.Z,{style:{color:"#337ab7"},"data-testid":x.IsAllEmployee,labelPlacement:"end",control:n().createElement(f.Z,{checked:"1"==x.IsAllEmployee,onChange:e=>{He(e.target.checked,"IsAllEmployee","boolean")},frmctrlid:"fld473_17915",frmctrlidname:"IsAllEmployee",fieldorder:"3",tfLabel:we("IsAllEmployee")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:x.IsAllEmployee?"#21446F":"#999"}},we("IsAllEmployee"))}))),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(se.Z,{json:Pe,"data-testid":x.PPMEmpAmount,SPName:"PPMEmployeeDetails",FieldName:"PPMEmpAmount",tfLabel:we("PPMEmpAmount"),frmctrlid:"fld473_17916",fieldorder:"3",onChange:e=>{He(e,"PPMEmpAmount","number")},clear:e=>{e&&B({type:"number",name:"PPMEmpAmount",number:0})},Iscurr:!0,value:x.PPMEmpAmount})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(De.Z,{"data-testid":x.PPMEmployeeCode,json:Pe,SPName:"PPMEmployeeDetails",FieldName:"PPMEmployeeCode",tfLabel:we("PPMEmployeeCode"),EnterSave:l=>{l&&e.submitConfirmation(l)},onSelect:l=>!e.createEasy&&Ve(l),onClick:()=>{le&&ze(1,"","ClearAll"),te(!0)},frmctrlid:"fld473_16237",frmctrlidName:"PPMEmployeeCode",fieldorder:"3",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,onChange:(e,l)=>{le&&ze(e,l,"PPMEmployeeCode"),He(l,"PPMEmployeeCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:x.PPMEmployeeCode,loading:k,clear:e=>{e&&(B({type:"text",name:"PPMEmployeeCode",value:""}),te(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(Ce.Z,{value:x.WoDate,"data-testid":x.WoDate,disabled:!1,onChange:e=>{He(e,"WoDate","date")},onErr:e=>{ne(e)},label:we("WoDate"),frmctrlid:"fld473_16238",frmctrlidName:"WoDate",fieldorder:"3"})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(De.Z,{"data-testid":x.PPMType,json:Pe,SPName:"PPMEmployeeDetails",FieldName:"PPMType",tfLabel:we("PPMType"),EnterSave:l=>{l&&e.submitConfirmation(l)},onSelect:l=>!e.createEasy&&Ve(l),onClick:()=>{oe&&ze(1,"","ClearAll"),ie(!0)},frmctrlid:"fld473_16240",frmctrlidName:"PPMType",fieldorder:"3",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,onChange:(e,l)=>{oe&&ze(e,l,"PPMType"),He(l,"PPMType","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:x.PPMType,loading:k,clear:e=>{e&&(B({type:"text",name:"PPMType",value:""}),ie(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(De.Z,{"data-testid":x.NoOfHours,json:Pe,SPName:"PPMEmployeeDetails",FieldName:"NoOfHours",tfLabel:we("NoOfHours"),EnterSave:l=>{l&&e.submitConfirmation(l)},onSelect:l=>!e.createEasy&&Ve(l),onClick:()=>{me&&ze(1,"","ClearAll"),de(!0)},frmctrlid:"fld473_16241",frmctrlidName:"NoOfHours",fieldorder:"3",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,onChange:(e,l)=>{me&&ze(e,l,"NoOfHours"),He(l,"NoOfHours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:x.NoOfHours,loading:k,clear:e=>{e&&(B({type:"text",name:"NoOfHours",value:""}),de(!0))}})),n().createElement(y.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(De.Z,{json:Pe,id:x.PPMCreationAssetID,"data-testid":x.PPMCreationAssetID,value:x.WorkOrder,SPName:"PPMEmployeeDetails",FieldName:"PPMCreationAssetID",tfLabel:we("PPMCreationAssetID"),EnterSave:l=>{l&&e.submitConfirmation(l)},SideEntryView:!1,onSelect:e=>He(e,"PPMCreationAssetID","select"),onChange:(e,l)=>{Ke(e,l,"PPMCreationAssetIDPK")},KeyBack:e=>{qe("PPMCreationAssetID")},fieldorder:"3",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,openSlide:()=>{Re("1390")},Tabledialog:()=>Ge("1390","PPMCreationAssetID"),loading:k,clear:e=>{e&&_e("PPMCreationAssetID")}})))),n().createElement("div",{id:"PPMEmployeeDetailsSideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMEmployeeDetailsSideBar").style.width="0",void T(!1))},""),M&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},w))))))))}));t(77366),t(97829);var Me=t(65197);const Te=(0,a.forwardRef)(((e,l)=>{const t=(0,a.useRef)(),[r,s]=((0,o.useSelector)((e=>e.form)),(0,a.useState)([])),[u,d]=(0,a.useState)(!0),[c,y]=(0,a.useState)(e.showDetail),[E,P]=(0,a.useState)(""),[I,C]=n().useState(!1),[N,f]=n().useState(""),[h,v]=n().useState(!1),S=(0,a.useContext)(Be),{cstate:M,cdispatch:T}=ke(),[F,b]=(0,a.useState)(!1),[w,A]=(0,a.useState)(""),[x,B]=(0,a.useState)(""),[k,O]=(0,a.useState)("");let L=(0,g.Z)();(0,a.useEffect)((()=>{M.editData.length>0&&(s(M.editData),C(!1),T({type:"PrimaryId",payload:M.editData[0].PPMEmployeeDetIDPK}))}),[M.editData]),(0,a.useEffect)((()=>{M.showTableview&&O(M.showTableview)}),[M.showTableview]),(0,a.useEffect)((()=>{d(M.ExpandDetailValue)}),[M.ExpandDetailValue]),(0,a.useImperativeHandle)(l,(()=>({tableClick:e=>{d(e),C(null)},viewtoggle:()=>{C(!1)},viewlistProps:(l,t)=>{!function(l,t=!1){let a=D.v.Api+"FP473S3/",n={data:{p1:l,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:1,p113:10,p114:M.IsDraft?"DraftPPMEmployeeDetID":"PPMEmployeeDetID",p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,re.Z)(0).then((e=>{(0,m.Z)(a,n,e).then((e=>{S.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(l,t)},clear:()=>{"panel0"===I&&t.current.clear()}})));const W=e=>L?.[e]?L?.[e]:e,Z=e=>M.language?.[e]?M.language[e]:e;function R(e,l){}const G=(e,l)=>(t,a)=>{f(h?Object.assign(...r.filter((e=>e.PPMEmployeeDetIDPK==l)).map((e=>e))):M.editData),C(!a&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&d(!u)}},!I&&n().createElement(V.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},M.IsDraft?W("Draft"):"",Z("PPMEmployeeDetails"),e.viewonly?" ":"("+M.count+")")):"",u?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&M.AccessRights.IsAdd?n().createElement(X.Z,{name:W("Add"),frmctrlid:"fld473L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{S.hideAddBtn(!0),T({type:"editData",payload:[]}),T({type:"ShowDetail",payload:!1}),T({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&M.AccessRights.IsEdit?n().createElement(me.Z,{frmctrlid:"fld473L1VCEditBtn",onClick:G("panel0",""),disabled:!1}):M.IsDraft&&M.AccessRights.IsAdd&&n().createElement(me.Z,{frmctrlid:"fld473L1VCEditBtnIsAdd",onClick:()=>{G("panel","")},disabled:!1}),!e.viewonly&&n().createElement(pe.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld473L1VCCloseBtn",onClick:()=>{d(!1),S.hideAddBtn(!1),h&&(T({type:"editData",payload:[]}),s([]))}})):"")),n().createElement(p.Z,{style:{display:"block"}},r.map(((l,a)=>n().createElement("div",{key:a},I==="panel"+a?n().createElement(Se,{ref:t,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Me.Z,{tableName:"PPMEmployeeDetails",tableID:473,parentID:l.PPMEmployeeDetIDPK,fldid:"fld473L1VCContainer",OpenSlideComponent:R,index:a,refresh:k,val:l,tf:Z,t:W,title:"10.0.0.59-3:08:17 PM-18-7[473]"}))))))))}));var Fe=t(67698),be=t(55995),we=(t(45965),t(41722)),Ae=t(9175),xe=t.n(Ae);const Be=(0,a.createContext)(),ke=()=>{const e=(0,a.useContext)(Be);if(void 0===e)throw new Error("useCont must be used within  PPMEmployeeDetailsContext Provider");return e},Oe=[],Le=(0,a.forwardRef)(((e,l)=>{const t=(0,a.useRef)(),i=(0,a.useRef)(),p=(0,a.useRef)(),m=(0,a.useRef)(),r=(0,a.useRef)(),[s,u]=(0,a.useState)(!0),[d,c]=(0,a.useState)(),y=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[D,E]=(0,a.useState)(0),[P,g]=(0,a.useReducer)(we.D,we.E),[I,C]=(0,a.useState)(""),[N,f]=(0,a.useState)([]),[h,v]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMEmployeeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{u(!0),document.getElementById("divPPMEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMEmployeeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,a.useEffect)((()=>{e.editData&&(g({type:"editData",payload:[e.editData]}),g({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,a.useImperativeHandle)(l,(()=>({AddOpen:(e,l)=>{g(l?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>t.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>t.current.HideEntryFields(!0)),500)}})));const S=e=>{f([]),document.getElementById("divPPMEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMEmployeeDetailsEntryTable").style.width="100%",document.getElementById("PPMEmployeeDetails-MainEntry").style.width="100%",document.getElementById("PPMEmployeeDetails-MainEntry").style.display="block",document.getElementById("PPMEmployeeDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMEmployeeDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMEmployeeDetails").style.width="0%",document.getElementById("overlayimgAttPPMEmployeeDetails").style.display="none"};(0,a.useEffect)((()=>{y((e=>{(0,re.Z)(1).then((e=>{var l=new Array;l.push(e),g({type:"token",payload:l}),E(l.length),M(e)}))}))}),[]);const M=l=>{g({type:"AccessRights",payload:e.AccessRights}),v(e.AccessRights?.isNestSendtoApproval)};return n().createElement("div",{style:{width:"100%"}},n().createElement(Be.Provider,{value:{cstate:P,cdispatch:g,ContextApi:ke,loading:l=>e.loading(l),alert:l=>e.alertmsg(l),ShareTab:(l,t)=>e.TabShare(l,t),ConfirmAlert:l=>e.ConfirmAlert(l),SlideComponentType:l=>e.SlideComponentType(l),openNav:l=>e.openNav(l),RefreshTable:()=>{t.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==D&&t.current.searchItem(e)},openDialog:l=>e.openDialog(l),DialogComponentType:l=>e.DialogComponentType(l),attachmentSave:e=>{r.current.tempsave(e,N),f([])},EditClose:e=>S(),AttachExpand:e=>(m.current.AttachmentData(P.PrimaryId),void(s&&(document.getElementById("overlayPreviewPPMEmployeeDetails").style.width="50%",document.getElementById("divPPMEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMEmployeeDetails-MainEntry").style.width="100%",document.getElementById("PPMEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMEmployeeDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMEmployeeDetails").style.display="block",document.getElementById("overlayimgAttPPMEmployeeDetails").style.width="25%"))),Expanded:e=>{P.ShowDetail&&p.current.tableClick(e),g({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{P.ShowDetail&&p.current.viewtoggle()},clear:e=>{g({type:"ShowDetail",payload:!1}),g({type:"editData",payload:[]}),P.ShowDetail?p.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{t.current.HideEntryFields(e)},ExpandEntry:()=>{P.ShowDetail?p.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{r.current.tempClear(),m.current.clrImgstate(!0)}}},n().createElement("div",{id:"PPMEmployeeDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"PPMEmployeeDetails-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"PPMEmployeeDetailsEntryTable",style:{width:"100%"}},P.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMEmployeeDetails-Entry",style:{width:"100%"}},0!==D?n().createElement(Te,{ref:p,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId,parentData:e.parentData}):null)),n().createElement(be.Z,{ref:r,menurefID:473,fileId:"LogoImgPPMEmployeeDetails",imgloading:l=>{l||P.PrimaryId?e.loading(l):t.current.tableRefresh()},valueIDPK:P.PrimaryId,AttachmentVal:e=>m.current.AttachmentData(e),previd:"overlayPreviewPPMEmployeeDetails",frmctrlid:"PvwIm_473_L1_",tempImg:e=>{P.PrimaryId?m.current.AttachmentData(P.PrimaryId):m.current.tempImg(e),f(e)},clearTempData:P.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divPPMEmployeeDetails-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Se,{ref:i,clrImgstate:e=>m.current.clrImgstate(e),parentData:e.parentData,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(be.Z,{ref:r,menurefID:473,fileId:"LogoImgPPMEmployeeDetails",imgloading:l=>{l||P.PrimaryId?e.loading(l):t.current.tableRefresh()},valueIDPK:P.PrimaryId,AttachmentVal:e=>m.current.AttachmentData(e),previd:"overlayPreviewPPMEmployeeDetails",frmctrlid:"PvwIm_473_L1_",tempImg:e=>{P.PrimaryId?m.current.AttachmentData(P.PrimaryId):m.current.tempImg(e),f(e)},clearTempData:P.Add})),n().createElement("div",{id:"PPMEmployeeDetails-MainTable"},0!==D?n().createElement(ie,{ref:t,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Fe.Z,{ImgAttachment:e=>S(),menurefID:473,fileId:"AttImgPPMEmployeeDetails",imgid:"overlayimgAttPPMEmployeeDetails",valueIDPK:P.PrimaryId,PriviewData:(e,l,t,a)=>{r.current.PriviewItem(e,l,t,a)},previd:"overlayPreviewPPMEmployeeDetails",ref:m,imgloading:d,ConfirmAlert:l=>{e.ConfirmAlert(l)},frmctrlid:"Imgatt_473_L1_",timglist:e=>{r.current.timglist(e),f(e)},clearTempData:P.Add}))),n().createElement("div",{id:"PPMEmployeeDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&n().createElement(xe(),{openDialog:h,closeDialog:e=>v(e),formID:473,PrimID:e.parentId,alert:(l,t,a)=>{"Approval Sent Succesfully"==l.message&&e.cardRefresh()},loading:l=>{e.loading(l)}}))}))}}]);