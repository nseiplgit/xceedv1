/*! For license information please see 6415.a84343ec18c40f0c1014.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[6415],{57658:(e,t,a)=>{a.d(t,{kN:()=>ee,Sm:()=>J,ZP:()=>te});var l=a(92950),r=a.n(l),n=a(45237),i=a(37148),o=a(3212),d=a(29800),s=a(14439),m=a(27848),c=(a(10966),a(36939)),p=a(61201),u=a(50743),S=(a(21392),a(51673)),P=a(40900),C=a(26537),y=(a(24038),a(30553)),B=a(44528),D=a(61956),g=a(49174),I=(a(38773),a(19089)),M=(a(99090),a(35131)),E=a.n(M),h=a(55490),f=a(1695),T=(a(13235),a(61924)),v=a.n(T),k=a(868),N=a(40826),b=a(82729),w=a(75355),O=a(11107),F=a(92371);const x={EnterKeyValues:{PPMSBTechAddOn:["PPMSBOccupantAddress","PPMSBOccupantDate","PPMSBTechAddOnCode","IsPPMSBTechManual","PPMSBTechLattitude","PPMSBTechCCMLongitude","PPMSBEmployeeKey","IsPPMSBChargable","SBCreWorkOrder","PPMSBTechStartDateTime","PPMSBTechEndDateTime","PPMSBTechTotal","PPMSBTechRemarks","PPMSBOccupantName","PPMSBOccupContactNo","PPMSBOccupEmail","PPMSBOccupantRemarks","PPMSBOccupantRating"]},Label:{PPMSBTechAddOn:{PPMSBOccupantAddress:["PPMSBTechAddOnCode"],PPMSBOccupantDate:["PPMSBTechAddOnCode"],PPMSBTechAddOnCode:["PPMSBTechAddOnCode"],IsPPMSBTechManual:["PPMSBTechAddOnCode"],PPMSBTechLattitude:["PPMSBTechAddOnCode"],PPMSBTechCCMLongitude:["PPMSBTechAddOnCode"],PPMSBEmployeeKey:["PPMSBTechAddOnCode"],IsPPMSBChargable:["PPMSBTechAddOnCode"],PPMSBCreationWorkOrderID:["PPMSBTechAddOnCode"],PPMSBTechStartDateTime:["PPMSBTechAddOnCode"],PPMSBTechEndDateTime:["PPMSBTechAddOnCode"],PPMSBTechTotal:["PPMSBTechAddOnCode"],PPMSBTechRemarks:["PPMSBTechAddOnCode"],PPMSBOccupantName:["PPMSBTechAddOnCode"],PPMSBOccupContactNo:["PPMSBTechAddOnCode"],PPMSBOccupEmail:["PPMSBTechAddOnCode"],PPMSBOccupantRemarks:["PPMSBTechAddOnCode"],PPMSBOccupantRating:["PPMSBTechAddOnCode"]}},LabelHeader:{PPMSBTechAddOn:{PPMSBOccupantAddress:["PPMSBTechAddOnCode"],PPMSBOccupantDate:["PPMSBTechAddOnCode"],PPMSBTechAddOnCode:["PPMSBTechAddOnCode"],IsPPMSBTechManual:["PPMSBTechAddOnCode"],PPMSBTechLattitude:["PPMSBTechAddOnCode"],PPMSBTechCCMLongitude:["PPMSBTechAddOnCode"],PPMSBEmployeeKey:["PPMSBTechAddOnCode"],IsPPMSBChargable:["PPMSBTechAddOnCode"],PPMSBCreationWorkOrderID:["PPMSBTechAddOnCode"],PPMSBTechStartDateTime:["PPMSBTechAddOnCode"],PPMSBTechEndDateTime:["PPMSBTechAddOnCode"],PPMSBTechTotal:["PPMSBTechAddOnCode"],PPMSBTechRemarks:["PPMSBTechAddOnCode"],PPMSBOccupantName:["PPMSBTechAddOnCode"],PPMSBOccupContactNo:["PPMSBTechAddOnCode"],PPMSBOccupEmail:["PPMSBTechAddOnCode"],PPMSBOccupantRemarks:["PPMSBTechAddOnCode"],PPMSBOccupantRating:["PPMSBTechAddOnCode"]}},Property:{PPMSBTechAddOn:{PPMSBOccupantAddress:{id:"fld910_39857",labelID:"PPMSBOccupantAddress",maxLength:"100",labelname:"",frmctrlid:"fld910_39857",frmctrlidname:"PPMSBOccupantAddress",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBOccupantDate:{id:"fld910_39858",labelID:"PPMSBOccupantDate",maxLength:"",labelname:"",frmctrlid:"fld910_39858",frmctrlidname:"PPMSBOccupantDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBTechAddOnCode:{id:"fld910_23245",labelID:"PPMSBTechAddOnCode",maxLength:"50",labelname:"PPMSBTechAddOnCode",frmctrlid:"fld910_23245",frmctrlidname:"PPMSBTechAddOnCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPPMSBTechManual:{id:"fld910_23250",labelID:"IsPPMSBTechManual",maxLength:"",labelname:"IsPPMSBTechManual",frmctrlid:"fld910_23250",frmctrlidname:"IsPPMSBTechManual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBTechLattitude:{id:"fld910_23251",labelID:"PPMSBTechLattitude",maxLength:"-1",labelname:"PPMSBTechLattitude",frmctrlid:"fld910_23251",frmctrlidname:"PPMSBTechLattitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBTechCCMLongitude:{id:"fld910_23252",labelID:"PPMSBTechCCMLongitude",maxLength:"-1",labelname:"PPMSBTechCCMLongitude",frmctrlid:"fld910_23252",frmctrlidname:"PPMSBTechCCMLongitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBEmployeeKey:{id:"fld910_23253",labelID:"PPMSBEmployeeKey",maxLength:"",labelname:"PPMSBEmployeeKey",frmctrlid:"fld910_23253",frmctrlidname:"PPMSBEmployeeKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPPMSBChargable:{id:"fld910_23254",labelID:"IsPPMSBChargable",maxLength:"",labelname:"IsPPMSBChargable",frmctrlid:"fld910_23254",frmctrlidname:"IsPPMSBChargable",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBCreationWorkOrderID:{id:"fld910_23257",clearID:"PPMSBTechAddOnSBCreWorkOrderClear",type:"select",labelID:"PPMSBCreationWorkOrderIDPK",labelname:"PPMSBCreationWorkOrderID",fielddisplayname:"SBCreWorkOrder",fieldOrder:"0",frmctrlid:"fld910_23257",frmctrlidname:"PPMSBCreationWorkOrderID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMSBTechStartDateTime:{id:"fld910_23246",labelID:"PPMSBTechStartDateTime",maxLength:"",labelname:"Start Date & Time",frmctrlid:"fld910_23246",frmctrlidname:"PPMSBTechStartDateTime",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBTechEndDateTime:{id:"fld910_23247",labelID:"PPMSBTechEndDateTime",maxLength:"",labelname:"End Date & Time",frmctrlid:"fld910_23247",frmctrlidname:"PPMSBTechEndDateTime",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBTechTotal:{id:"fld910_23248",labelID:"PPMSBTechTotal",maxLength:"",labelname:"Total Duration",frmctrlid:"fld910_23248",frmctrlidname:"PPMSBTechTotal",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},PPMSBTechRemarks:{id:"fld910_23249",labelID:"PPMSBTechRemarks",maxLength:"250",labelname:"Remarks",frmctrlid:"fld910_23249",frmctrlidname:"PPMSBTechRemarks",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBOccupantName:{id:"fld910_39854",labelID:"PPMSBOccupantName",maxLength:"50",labelname:"Occupant Name",frmctrlid:"fld910_39854",frmctrlidname:"PPMSBOccupantName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBOccupContactNo:{id:"fld910_39855",labelID:"PPMSBOccupContactNo",maxLength:"15",labelname:"Occupant Contact No",frmctrlid:"fld910_39855",frmctrlidname:"PPMSBOccupContactNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBOccupEmail:{id:"fld910_39856",labelID:"PPMSBOccupEmail",maxLength:"20",labelname:"Occupant Email ",frmctrlid:"fld910_39856",frmctrlidname:"PPMSBOccupEmail",type:"email",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBOccupantRemarks:{id:"fld910_39859",labelID:"PPMSBOccupantRemarks",maxLength:"200",labelname:"Occupant remarks",frmctrlid:"fld910_39859",frmctrlidname:"PPMSBOccupantRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBOccupantRating:{id:"fld910_39860",labelID:"PPMSBOccupantRating",maxLength:"10",labelname:"Occupant Rating ",frmctrlid:"fld910_39860",frmctrlidname:"PPMSBOccupantRating",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{PPMSBTechAddOn:{PPMSBCreationWorkOrderID:["SBCreSLAHours","SBCreWorkOrder","SBCreWoDateTime","ContractID","BuildingID","LocalityID","SpotID","FloorID","DisciplineID","DivisionID","FrequencyID","PPMStageID"]}}};var A=a(99940),W=a(63163),L=a(63750),R=a(45155),K=a(77317),Z=a(8981),G=a(25108);const z={PPMSBTechAddOnIDPK:"",PPMSBTechAddOnCode:"",PPMSBTechStartDateTime:"",PPMSBTechStartDateTimeType:"",PPMSBTechStartDateTimeBetween:"",PPMSBTechEndDateTime:"",PPMSBTechEndDateTimeType:"",PPMSBTechEndDateTimeBetween:"",PPMSBTechTotal:"",PPMSBTechRemarks:"",IsPPMSBTechManual:!1,PPMSBTechLattitude:"",PPMSBTechCCMLongitude:"",PPMSBEmployeeKey:"",IsPPMSBChargable:!1,PPMSBOccupantName:"",PPMSBOccupContactNo:"",PPMSBOccupEmail:"",PPMSBOccupantAddress:"",PPMSBOccupantDate:"",PPMSBOccupantDateType:"",PPMSBOccupantDateBetween:"",PPMSBOccupantRemarks:"",PPMSBOccupantRating:"",IsDraft:!1,Remarks:"",PPMSBCreationWorkOrderID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",ServiceTypeID:null,ServiceTypCode:"",ServiceTypeName:"",SBCreWorkOrder:"",Type:"PPMSBTechAddOnID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},_=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),o=(0,n.useDispatch)(),[d,c]=(0,l.useState)("1"),[p,u]=(0,l.useReducer)(F.Z,z),[M,T]=(0,l.useState)(!1),[_,q]=(0,l.useState)([]),V=(0,l.useContext)(J),{cstate:H,cdispatch:U}=ee(),[j,Y]=(0,l.useState)(""),[X,Q]=(0,l.useState)(""),[$,te]=(0,l.useState)(!0),[ae,le]=(0,l.useState)(""),[re,ne]=(0,l.useState)(!0),[ie,oe]=(0,l.useState)(!0),[de,se]=(0,l.useState)(!0),[me,ce]=(0,l.useState)(!0),[pe,ue]=(0,l.useState)(""),[Se,Pe]=(0,l.useState)(""),[Ce,ye]=(0,l.useState)(!0),[Be,De]=(0,l.useState)(!1),[ge,Ie]=(0,l.useState)("");let Me=(0,Z.Z)();const Ee=e=>Me?.[e]?Me[e]:e,he=e=>H.language?.[e]?H.language[e]:e;(0,l.useEffect)((()=>{H.PrimaryId&&Y(Number(H.PrimaryId))}),[H.PrimaryId]),(0,l.useEffect)((()=>{o((e=>{0==H.token.length&&(0,C.Z)(1).then((t=>{var a=new Array;a.push(t),e({type:"PPMSBTechAddOnToken",PPMSBTechAddOnToken:a})}))})),Ne()}),[]),(0,l.useEffect)((()=>{H.editData.length>0?ke(H.editData[0],""):H.Add&&Ne()}),[H.editData]),(0,l.useImperativeHandle)(t,(()=>({clear:Ne})));const fe=e=>e?e.split("-").reverse().join("-"):null,Te=e=>{if(e){let t=fe(e);return"Invalid Date"!=new Date(t)?(0,N.format)(new Date(t),"yyyy-MM-dd"):e}return null},ve=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},ke=(t,a)=>{let l=t;Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),Y(l.PPMSBTechAddOnIDPK),Ie(l.PPMSBOccupantRating),u({type:"text",name:"PPMSBOccupantAddress",value:l.PPMSBOccupantAddress?l.PPMSBOccupantAddress:""}),u({type:"text",name:"PPMSBOccupantDate",value:l.PPMSBOccupantDate?fe(l.PPMSBOccupantDate):null}),"SetDefaultPPMSBTechAddOnID"==a?Q(l.PPMSBTechAddOnIDPK):(Y(e.primid?Number(e.primid):l.PPMSBTechAddOnIDPK?l.PPMSBTechAddOnIDPK:0),U({type:"PrimaryId",payload:l.PPMSBTechAddOnIDPK})),u({type:"text",name:"PPMSBTechAddOnCode",value:l.PPMSBTechAddOnCode?l.PPMSBTechAddOnCode:""}),u({type:"boolean",name:"IsPPMSBTechManual",boolean:!!l.IsPPMSBTechManual&&l.IsPPMSBTechManual}),u({type:"text",name:"PPMSBTechLattitude",value:l.PPMSBTechLattitude?l.PPMSBTechLattitude:""}),u({type:"text",name:"PPMSBTechCCMLongitude",value:l.PPMSBTechCCMLongitude?l.PPMSBTechCCMLongitude:""}),u({type:"number",name:"PPMSBEmployeeKey",number:l.PPMSBEmployeeKey}),u({type:"boolean",name:"IsPPMSBChargable",boolean:!!l.IsPPMSBChargable&&l.IsPPMSBChargable}),u({type:"number",name:"PPMSBCreationWorkOrderID",number:l.PPMSBCreationWorkOrderID?Number(l.PPMSBCreationWorkOrderID):0}),u({type:"text",name:"SBCreWorkOrder",value:l.SBCreWorkOrder}),u({type:"text",name:"PPMSBTechStartDateTime",value:l.PPMSBTechStartDateTime?ve(l.PPMSBTechStartDateTime):null}),u({type:"text",name:"PPMSBTechEndDateTime",value:l.PPMSBTechEndDateTime?ve(l.PPMSBTechEndDateTime):null}),u({type:"number",name:"PPMSBTechTotal",number:l.PPMSBTechTotal}),u({type:"text",name:"PPMSBTechRemarks",value:l.PPMSBTechRemarks?l.PPMSBTechRemarks:""}),u({type:"text",name:"PPMSBOccupantName",value:l.PPMSBOccupantName?l.PPMSBOccupantName:""}),u({type:"text",name:"PPMSBOccupContactNo",value:l.PPMSBOccupContactNo?l.PPMSBOccupContactNo:""}),u({type:"text",name:"PPMSBOccupEmail",value:l.PPMSBOccupEmail?l.PPMSBOccupEmail:""}),u({type:"text",name:"PPMSBOccupantRemarks",value:l.PPMSBOccupantRemarks?l.PPMSBOccupantRemarks:""}),u({type:"number",name:"PPMSBOccupantRating",number:l.PPMSBOccupantRating}),l.IsActive&&c("1"==l.IsActive)},Ne=()=>{Y(""),u({type:"text",name:"PPMSBOccupantAddress",value:""}),u({type:"text",name:"PPMSBOccupantDate",value:""}),U({type:"PrimaryId",payload:""}),u({type:"text",name:"PPMSBTechAddOnCode",value:""}),u({type:"boolean",name:"IsPPMSBTechManual",boolean:!1}),u({type:"text",name:"PPMSBTechLattitude",value:""}),u({type:"text",name:"PPMSBTechCCMLongitude",value:""}),u({type:"number",name:"PPMSBEmployeeKey",number:0}),u({type:"boolean",name:"IsPPMSBChargable",boolean:!1}),u({type:"text",name:"PPMSBCreationWorkOrderID",value:null}),u({type:"text",name:"SBCreWorkOrder",value:""}),document.getElementById("PPMSBTechAddOnSBCreWorkOrderClear")&&document.getElementById("PPMSBTechAddOnSBCreWorkOrderClear").click(),u({type:"text",name:"PPMSBTechStartDateTime",value:null}),u({type:"text",name:"PPMSBTechEndDateTime",value:null}),u({type:"number",name:"PPMSBTechTotal",number:0}),u({type:"text",name:"PPMSBTechRemarks",value:""}),u({type:"text",name:"PPMSBOccupantName",value:""}),u({type:"text",name:"PPMSBOccupContactNo",value:""}),u({type:"text",name:"PPMSBOccupEmail",value:""}),u({type:"text",name:"PPMSBOccupantRemarks",value:""}),u({type:"number",name:"PPMSBOccupantRating",number:0}),c(!0)},be=t=>{V.loading(!0),V.ConfirmAlert(null);const a=P.v.Api+"FP910S2/";G.log(p.PPMSBTechStartDateTime,"SEEK");const l={data:[{p1:"SetDefaultPPMSBTechAddOnID"==t?"NORECORDS"!=X&&X?X:0:j,p2:Le(p.PPMSBTechAddOnCode),p3:p.PPMSBTechStartDateTime?p.PPMSBTechStartDateTime:null,p4:p.PPMSBTechEndDateTime?Te(p.PPMSBTechEndDateTime):null,p5:p.PPMSBTechTotal?Number(p.PPMSBTechTotal):0,p6:Le(p.PPMSBTechRemarks),p7:p.IsPPMSBTechManual,p8:Le(p.PPMSBTechLattitude),p9:Le(p.PPMSBTechCCMLongitude),p10:p.PPMSBEmployeeKey?Number(p.PPMSBEmployeeKey):0,p11:p.IsPPMSBChargable,p12:Le(p.PPMSBOccupantName),p13:Le(p.PPMSBOccupContactNo),p14:Le(p.PPMSBOccupEmail),p15:Le(p.PPMSBOccupantAddress),p16:p.PPMSBOccupantDate?Te(p.PPMSBOccupantDate):null,p17:Le(p.PPMSBOccupantRemarks),p18:p.PPMSBOccupantRating?Number(p.PPMSBOccupantRating):0,p19:!1,p20:"SetDefaultPPMSBTechAddOnID"==t?"SetDefault":null,p21:e.parentId?Number(e.parentId):p.PPMSBCreationWorkOrderID?p.PPMSBCreationWorkOrderID:0,p22:d,p23:"SetDefaultPPMSBTechAddOnID"==t,p24:localStorage.getItem("userid"),p25:E()().format("YYYY-MM-DD hh:mm:ss"),p26:localStorage.getItem("userid"),p27:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,C.Z)(0).then((e=>{(0,S.Z)(a,l,e).then((e=>{const a=e.Output[0].status;let l=e.Output[0].Data,r=new Array,n=new Array;"200"===a.code&&(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(V.alert({open:!0,color:"warning",message:n}),V.loading(!1)):we(t))}))}))},we=t=>{te(!0),ne(!0),oe(!0),se(!0),ce(!0),ye(!0),V.loading(!0),V.ConfirmAlert(null);const a=P.v.Api+"FP910S1/",l={data:[{p1:"SetDefaultPPMSBTechAddOnID"==t?"NORECORDS"!=X&&X?X:0:j,p2:Le(p.PPMSBTechAddOnCode),p3:p.PPMSBTechStartDateTime?p.PPMSBTechStartDateTime:null,p4:p.PPMSBTechEndDateTime?p.PPMSBTechEndDateTime:null,p5:p.PPMSBTechTotal?Number(p.PPMSBTechTotal):0,p6:Le(p.PPMSBTechRemarks),p7:p.IsPPMSBTechManual,p8:Le(p.PPMSBTechLattitude),p9:Le(p.PPMSBTechCCMLongitude),p10:p.PPMSBEmployeeKey?Number(p.PPMSBEmployeeKey):0,p11:p.IsPPMSBChargable,p12:Le(p.PPMSBOccupantName),p13:Le(p.PPMSBOccupContactNo),p14:Le(p.PPMSBOccupEmail),p15:Le(p.PPMSBOccupantAddress),p16:p.PPMSBOccupantDate?Te(p.PPMSBOccupantDate):null,p17:Le(p.PPMSBOccupantRemarks),p18:p.PPMSBOccupantRating?Number(p.PPMSBOccupantRating):0,p19:!1,p20:"SetDefaultPPMSBTechAddOnID"==t?"SetDefault":null,p21:e.parentId?Number(e.parentId):p.PPMSBCreationWorkOrderID?p.PPMSBCreationWorkOrderID:0,p22:d,p23:"SetDefaultPPMSBTechAddOnID"==t,p24:localStorage.getItem("userid"),p25:E()().format("YYYY-MM-DD hh:mm:ss"),p26:localStorage.getItem("userid"),p27:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,C.Z)(0).then((e=>{(0,D.Z)(a,l,e).then((e=>{const t=e[0].status;200==t.code?(V.alert({open:!0,color:"success",message:[t.message]}),V.attachmentSave(e[0].Data.IDPK),V.loading(!1),V.RefreshTable(),H.AccessRights.IsApproval&&V.Approval(!0),Ne(),document.getElementById("overlayimgAttPPMSBTechAddOn")&&(document.getElementById("overlayimgAttPPMSBTechAddOn").style.width="0%",document.getElementById("overlayimgAttPPMSBTechAddOn").style.display="none",document.getElementById("divPPMSBTechAddOn-Entry").style.width="100%")):(V.alert({open:!0,color:"warning",message:[t.message]}),V.loading(!1)),Oe(1,null,"SetDefaultPPMSBTechAddOnID",H.token[0])}))}))},Oe=(t,a,l,r,n,i)=>{const o=P.v.Api+"FP910S3/",d={data:{p1:null,p2:null,p3:p.PPMSBTechStartDateTime?p.PPMSBTechStartDateTime:null,p4:null,p5:null,p6:p.PPMSBTechEndDateTime?p.PPMSBTechEndDateTime:null,p7:null,p8:null,p9:null,p10:null,p11:1==p.IsPPMSBTechManual,p12:a?"%"+a+"%":null,p13:a?"%"+a+"%":null,p14:a?"%"+a+"%":null,p15:1==p.IsPPMSBChargable,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:a?"%"+a+"%":null,p20:p.PPMSBOccupantDate?p.PPMSBOccupantDate:null,p21:null,p22:null,p23:null,p24:a?"%"+a+"%":null,p25:null,p26:null,p27:e.parentId?Number(e.parentId):0,p28:e.Dialogview?"1":null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:"0"==p.ContractID?null:p.ContractID,p36:a?"%"+a+"%":null,p37:a?"%"+a+"%":null,p38:"0"==p.LocalityID?null:p.LocalityID,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:"0"==p.BuildingID?null:p.BuildingID,p42:a?"%"+a+"%":null,p43:a?"%"+a+"%":null,p44:"0"==p.FloorID?null:p.FloorID,p45:a?"%"+a+"%":null,p46:a?"%"+a+"%":null,p47:"0"==p.SpotID?null:p.SpotID,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:"0"==p.DivisionID?null:p.DivisionID,p51:a?"%"+a+"%":null,p52:a?"%"+a+"%":null,p53:"0"==p.DisciplineID?null:p.DisciplineID,p54:a?"%"+a+"%":null,p55:a?"%"+a+"%":null,p56:"0"==p.FrequencyID?null:p.FrequencyID,p57:a?"%"+a+"%":null,p58:a?"%"+a+"%":null,p59:"0"==p.PPMBusinessFlowID?null:p.PPMBusinessFlowID,p60:a?"%"+a+"%":null,p61:a?"%"+a+"%":null,p62:a?"%"+a+"%":null,p63:"0"==p.PPMFixonBusinessFlowID?null:p.PPMFixonBusinessFlowID,p64:a?"%"+a+"%":null,p65:a?"%"+a+"%":null,p66:"0"==p.PPMStageID?null:p.PPMStageID,p67:a?"%"+a+"%":null,p68:a?"%"+a+"%":null,p69:"0"==p.ServiceTypeID?null:p.ServiceTypeID,p70:a?"%"+a+"%":null,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:t,p74:10,p75:l,p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});T(!0);const m={data:s};return(0,S.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSBTechAddOnID"==l&&r?r:H.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};q(1==t?e>0?r:[]:_.concat(r)),"SetDefaultPPMSBTechAddOnID"==l&&(e>0?ke(r[0],"SetDefaultPPMSBTechAddOnID"):Q("NORECORDS")),T(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),T(!1)}))},Fe=(t,l,r)=>{const n=P.v.Api+"FP910S3/",i={data:{p1:null,p2:"PPMSBTechAddOnCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:"PPMSBTechTotal"==r&&l?"%"+l+"%":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID?a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID:"0",p28:e.Dialogview?"1":null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:t,p74:10,p75:"PPMSBTechAddOnID",p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};T(!0),(0,S.Z)(n,"ClearAll"==r?o:i,H.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBOccupantAddress"==r&&te(e>0),"PPMSBTechAddOnCode"==r&&ne(e>0),"PPMSBTechLattitude"==r&&oe(e>0),"PPMSBTechCCMLongitude"==r&&se(e>0),"PPMSBEmployeeKey"==r&&ce(e>0),"PPMSBOccupContactNo"==r&&ye(e>0),q(l)):("PPMSBOccupantAddress"==r&&te(!0),"PPMSBTechAddOnCode"==r&&ne(!0),"PPMSBTechLattitude"==r&&oe(!0),"PPMSBTechCCMLongitude"==r&&se(!0),"PPMSBEmployeeKey"==r&&ce(!0),"PPMSBOccupContactNo"==r&&ye(!0),q(_.concat(l))),T(!1)}else V.alert({open:!0,color:"warning",message:[e.Output.status.message]}),T(!1)}))},xe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?u({type:a,name:t,value:e}):"number"==a?u({type:a,name:t,number:Number(e)}):"boolean"==a?u({type:a,name:t,boolean:e}):"date"==a&&(u({type:"text",name:t,value:e}),"PPMSBTechStartDateTime"==t?(u({type:"text",name:"PPMSBTechStartDateTime",value:e}),p.PPMSBTechEndDateTime&&Ae(e,p.PPMSBTechEndDateTime)&&u({type:"text",name:"PPMSBTechTotal",value:Ae(e,p.PPMSBTechEndDateTime)})):"PPMSBTechEndDateTime"==t&&(u({type:"text",name:"PPMSBTechEndDateTime",value:e}),p.PPMSBTechStartDateTime&&Ae(p.PPMSBTechStartDateTime,e)&&u({type:"text",name:"PPMSBTechTotal",value:Ae(p.PPMSBTechStartDateTime,e)})))}),[p]),Ae=(e,t)=>{let a=(0,N.format)(new Date(e),"yyyy-MM-dd HH:mm"),l=(0,N.format)(new Date(t),"yyyy-MM-dd HH:mm");if(Date.parse(l)>Date.parse(a))return(0,N.differenceInMinutes)(new Date(l),new Date(a))},We=e=>{V.ConfirmAlert(r().createElement(v(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>function(e){V.ConfirmAlert(null),u({type:"text",name:"PPMSBOccupantAddress",value:e.PPMSBOccupantAddress?e.PPMSBOccupantAddress:""}),u({type:"text",name:"PPMSBOccupantDate",value:e.PPMSBOccupantDate?fe(e.PPMSBOccupantDate):null}),u({type:"text",name:"PPMSBTechAddOnCode",value:e.PPMSBTechAddOnCode?e.PPMSBTechAddOnCode:""}),u({type:"boolean",name:"IsPPMSBTechManual",boolean:!!e.IsPPMSBTechManual&&e.IsPPMSBTechManual}),u({type:"text",name:"PPMSBTechLattitude",value:e.PPMSBTechLattitude?e.PPMSBTechLattitude:""}),u({type:"text",name:"PPMSBTechCCMLongitude",value:e.PPMSBTechCCMLongitude?e.PPMSBTechCCMLongitude:""}),u({type:"text",name:"PPMSBEmployeeKey",value:e.PPMSBEmployeeKey?e.PPMSBEmployeeKey:""}),u({type:"boolean",name:"IsPPMSBChargable",boolean:!!e.IsPPMSBChargable&&e.IsPPMSBChargable}),u({type:"number",name:"PPMSBCreationWorkOrderID",number:e.PPMSBCreationWorkOrderID?Number(e.PPMSBCreationWorkOrderID):0}),u({type:"text",name:"SBCreWorkOrder",value:e.SBCreWorkOrder?e.SBCreWorkOrder:""}),u({type:"text",name:"PPMSBTechStartDateTime",value:e.PPMSBTechStartDateTime?ve(e.PPMSBTechStartDateTime):null}),u({type:"text",name:"PPMSBTechEndDateTime",value:e.PPMSBTechEndDateTime?ve(e.PPMSBTechEndDateTime):null}),u({type:"text",name:"PPMSBTechTotal",value:e.PPMSBTechTotal?e.PPMSBTechTotal:""}),u({type:"text",name:"PPMSBTechRemarks",value:e.PPMSBTechRemarks?e.PPMSBTechRemarks:""}),u({type:"text",name:"PPMSBOccupantName",value:e.PPMSBOccupantName?e.PPMSBOccupantName:""}),u({type:"text",name:"PPMSBOccupContactNo",value:e.PPMSBOccupContactNo?e.PPMSBOccupContactNo:""}),u({type:"text",name:"PPMSBOccupEmail",value:e.PPMSBOccupEmail?e.PPMSBOccupEmail:""}),u({type:"text",name:"PPMSBOccupantRemarks",value:e.PPMSBOccupantRemarks?e.PPMSBOccupantRemarks:""}),u({type:"text",name:"PPMSBOccupantRating",value:e.PPMSBOccupantRating?e.PPMSBOccupantRating:""})}(e),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ee("Yes"),cancelBtnText:Ee("No"),showCancel:!0},Ee("Do you want to update this record?")))},Le=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP",title:"10.0.0.54-1:12:16 PM-15-6[910]"},Ee("Add"),he(910))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},H.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(A.FormGroup,{row:!0},r().createElement(y.Z,{labelPlacement:"bottom",id:"fld910L0ECEntryCheckbox",control:r().createElement(W.Z,{checked:"1"==d,onChange:e=>c(e.target.checked)}),label:Ee(1==d?"Active":"In Active")})))),j||!H.AccessRights.IsAdd||!X&&"NORECORDS"!=X?!j&&r().createElement(k.ZP,{placement:"top",title:"Get Default"},r().createElement("div",{className:"GridAlignDefault",onClick:()=>{Oe(1,null,"SetDefaultPPMSBTechAddOnID",H.token[0])},id:"fld910L0ECGetDefault"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(L.j39,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ee("GetDefault"))))):r().createElement(k.ZP,{placement:"top",title:"Set Default"},r().createElement("div",{className:"GridAlignDefault",onClick:()=>{we("SetDefaultPPMSBTechAddOnID")},id:"fld910L0ECSetDefault"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(L.j39,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ee("SetDefault"))))),r().createElement(k.ZP,{placement:"top",title:"Attach"},r().createElement("div",{className:"GridAlign",onClick:()=>{V.AttachExpand(!0)},id:"fld910L0ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(R.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ee("Attach"))))),!H.PrimaryId&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ne()},id:"fld910L0ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(R.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Ee("Reset")))),H.AccessRights.IsAdd&&r().createElement(f.Z,{name:H.PrimaryId?"Update":"Save",disabled:!1,onClick:()=>{(t=>{if(!e.parentId||0==e.parentId)return V.alert({open:!0,color:"warning",message:[Ee("Please select the ")+" "+he("PPMSBCreationWorkOrderID")]}),!1;if(!p.PPMSBTechStartDateTime||0==p.PPMSBTechStartDateTime||pe)return V.alert({open:!0,color:"warning",message:[Ee("Please enter the Start Date & Time")]}),!1;if(!p.PPMSBTechEndDateTime||0==p.PPMSBTechEndDateTime||Se)return V.alert({open:!0,color:"warning",message:[Ee("Please enter the End Date & Time")]}),!1;if(!Le(p.PPMSBTechRemarks))return V.alert({open:!0,color:"warning",message:[Ee("Please enter the")+""+he("PPMSBTechRemarks")]}),!1;let a=/^([a-zA-Z0-9_.-])+\@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/.test(p.PPMSBOccupEmail);if(p.PPMSBOccupEmail&&!a)return V.alert({open:!0,color:"error",message:[Ee("Invalid")+" "+he("PPMSBOccupEmail")]}),!1;V.ConfirmAlert(r().createElement(v(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ee("Are you sure?"),onConfirm:()=>be(),onCancel:()=>V.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ee("Yes"),cancelBtnText:Ee("Cancel"),showCancel:!0},H.PrimarId?Ee("Do you want to Update?"):Ee("Do you want to Save?")))})()}}),H.editData.length>0&&r().createElement(i.Z,{disabled:!1,onClick:()=>{Ne(),V.RefreshTable(!1)}}))),r().createElement("div",{id:"PPMSBTechAddOn-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSBTechAddOn-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSBTechAddOn-MainBody",className:"padding paddingLeft"},r().createElement("div",null,r().createElement(b.Z,null,r().createElement(O.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null))))),r().createElement(w.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(h.Z,{"data-testid":p.PPMSBOccupantAddress,json:x,SPName:"PPMSBTechAddOn",FieldName:"PPMSBOccupantAddress",tfLabel:he("PPMSBOccupantAddress"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{$&&Fe(1,"","ClearAll"),te(!0)},frmctrlid:"fld910_39857",frmctrlidName:"PPMSBOccupantAddress",fieldorder:"0",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{$&&Fe(e,t,"PPMSBOccupantAddress"),xe(t,"PPMSBOccupantAddress","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:p.PPMSBOccupantAddress,loading:M,clear:e=>{e&&(u({type:"text",name:"PPMSBOccupantAddress",value:""}),te(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(g.Z,{value:p.PPMSBOccupantDate,"data-testid":p.PPMSBOccupantDate,disabled:!1,onChange:e=>{xe(e,"PPMSBOccupantDate","date")},onErr:e=>{le(e)},label:he("PPMSBOccupantDate"),frmctrlid:"fld910_39858",frmctrlidName:"PPMSBOccupantDate",fieldorder:"0"}))))),r().createElement(b.Z,null,r().createElement(O.Z,{color:"info",icon:!0,className:"cardheadvh"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null))))),r().createElement(w.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(h.Z,{"data-testid":p.PPMSBTechAddOnCode,json:x,SPName:"PPMSBTechAddOn",FieldName:"PPMSBTechAddOnCode",tfLabel:he("PPMSBTechAddOnCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{re&&Fe(1,"","ClearAll"),ne(!0)},frmctrlid:"fld910_23245",frmctrlidName:"PPMSBTechAddOnCode",fieldorder:"0",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{re&&Fe(e,t,"PPMSBTechAddOnCode"),xe(t,"PPMSBTechAddOnCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:p.PPMSBTechAddOnCode,loading:M,clear:e=>{e&&(u({type:"text",name:"PPMSBTechAddOnCode",value:""}),ne(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(y.Z,{style:{color:"#337ab7"},"data-testid":p.IsPPMSBTechManual,labelPlacement:"end",control:r().createElement(W.Z,{checked:"1"==p.IsPPMSBTechManual,onChange:e=>{xe(e.target.checked,"IsPPMSBTechManual","boolean")},frmctrlid:"fld910_23250",frmctrlidname:"IsPPMSBTechManual",fieldorder:"0",tfLabel:he("IsPPMSBTechManual")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:p.IsPPMSBTechManual?"#21446F":"#999"}},he("IsPPMSBTechManual"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(h.Z,{"data-testid":p.PPMSBTechLattitude,json:x,SPName:"PPMSBTechAddOn",FieldName:"PPMSBTechLattitude",tfLabel:he("PPMSBTechLattitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{ie&&Fe(1,"","ClearAll"),oe(!0)},frmctrlid:"fld910_23251",frmctrlidName:"PPMSBTechLattitude",fieldorder:"0",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{ie&&Fe(e,t,"PPMSBTechLattitude"),xe(t,"PPMSBTechLattitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:p.PPMSBTechLattitude,loading:M,clear:e=>{e&&(u({type:"text",name:"PPMSBTechLattitude",value:""}),oe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(h.Z,{"data-testid":p.PPMSBTechCCMLongitude,json:x,SPName:"PPMSBTechAddOn",FieldName:"PPMSBTechCCMLongitude",tfLabel:he("PPMSBTechCCMLongitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{de&&Fe(1,"","ClearAll"),se(!0)},frmctrlid:"fld910_23252",frmctrlidName:"PPMSBTechCCMLongitude",fieldorder:"0",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{de&&Fe(e,t,"PPMSBTechCCMLongitude"),xe(t,"PPMSBTechCCMLongitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:p.PPMSBTechCCMLongitude,loading:M,clear:e=>{e&&(u({type:"text",name:"PPMSBTechCCMLongitude",value:""}),se(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(h.Z,{"data-testid":p.PPMSBEmployeeKey,json:x,SPName:"PPMSBTechAddOn",FieldName:"PPMSBEmployeeKey",tfLabel:he("PPMSBEmployeeKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{me&&Fe(1,"","ClearAll"),ce(!0)},frmctrlid:"fld910_23253",frmctrlidName:"PPMSBEmployeeKey",fieldorder:"0",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{me&&Fe(e,t,"PPMSBEmployeeKey"),xe(t,"PPMSBEmployeeKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:p.PPMSBEmployeeKey,loading:M,clear:e=>{e&&(u({type:"text",name:"PPMSBEmployeeKey",value:""}),ce(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(y.Z,{style:{color:"#337ab7"},"data-testid":p.IsPPMSBChargable,labelPlacement:"end",control:r().createElement(W.Z,{checked:"1"==p.IsPPMSBChargable,onChange:e=>{xe(e.target.checked,"IsPPMSBChargable","boolean")},frmctrlid:"fld910_23254",frmctrlidname:"IsPPMSBChargable",fieldorder:"0",tfLabel:he("IsPPMSBChargable")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:p.IsPPMSBChargable?"#21446F":"#999"}},he("IsPPMSBChargable"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(h.Z,{json:x,id:p.PPMSBCreationWorkOrderID,"data-testid":p.PPMSBCreationWorkOrderID,value:p.SBCreWorkOrder,SPName:"PPMSBTechAddOn",FieldName:"PPMSBCreationWorkOrderID",tfLabel:he("PPMSBCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>xe(e,"PPMSBCreationWorkOrderID","select"),onChange:(e,t)=>{Oe(e,t,"PPMSBCreationWorkOrderIDPK")},KeyBack:e=>{p.PPMSBCreationWorkOrderID},fieldorder:"0",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,openSlide:()=>{},Tabledialog:()=>{},loading:M,clear:e=>{e&&p.PPMSBCreationWorkOrderID}}))))),r().createElement(b.Z,null,r().createElement(O.Z,{color:"info",icon:!0,className:"cardheadvh"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null,"Technician Details"))))),r().createElement(w.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement(I.Z,{"data-testid":p.PPMSBTechStartDateTime,value:p.PPMSBTechStartDateTime,skipMin:!0,onErr:e=>{ue(e)},onChange:e=>{xe(e,"PPMSBTechStartDateTime","date"),G.log("Onchange",e)},minDate:(0,N.startOfDay)(new Date(ve(e.parentData?.SBCreWoDateTime))),maxDate:(0,N.addDays)(new Date(new Date),0),label:r().createElement("span",null,he("PPMSBTechStartDateTime"),r().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld910_23246",frmctrlidName:"PPMSBTechStartDateTime",fieldorder:"1"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement(I.Z,{"data-testid":p.PPMSBTechEndDateTime,value:p.PPMSBTechEndDateTime,skipMin:!0,onErr:e=>{Pe(e)},onChange:e=>{xe(e,"PPMSBTechEndDateTime","date")},minDate:p.PPMSBTechStartDateTime,maxDate:(0,N.addDays)(new Date(new Date),0),label:r().createElement("span",null,he("PPMSBTechEndDateTime"),r().createElement("span",{className:"errorinput"},"*")),frmctrlid:"fld910_23247",frmctrlidName:"PPMSBTechEndDateTime",fieldorder:"2"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(B.Z,{json:x,"data-testid":p.PPMSBTechTotal,SPName:"PPMSBTechAddOn",FieldName:"PPMSBTechTotal",tfLabel:he("PPMSBTechTotal"),frmctrlid:"fld910_23248",fieldorder:"3",onChange:e=>{xe(e,"PPMSBTechTotal","text")},clear:e=>{e&&u({type:"text",name:"PPMSBTechTotal",value:""})},value:(e=>{if(e>0){if(e<60)return"0"==e?"1 min ":1==e?e+" min":e+" mins";if(e<1439)return`${parseInt(e/60%24)+" hrs"} ${parseInt(e%60)>0?parseInt(e%60)+" mins":""}`;if(e=>1440)return`${parseInt(e/24/60)&&parseInt(e/24/60)+" days "} ${parseInt(e/60%24)&&parseInt(e/60%24)+" hrs"} ${parseInt(e/60)&&parseInt(e/60)+" mins"}`}})(p.PPMSBTechTotal)})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(B.Z,{json:x,"data-testid":p.PPMSBTechRemarks,SPName:"PPMSBTechAddOn",FieldName:"PPMSBTechRemarks",tfLabel:he("PPMSBTechRemarks"),frmctrlid:"fld910_23249",fieldorder:"4",onChange:e=>{xe(e,"PPMSBTechRemarks","text")},clear:e=>{e&&u({type:"text",name:"PPMSBTechRemarks",value:""})},value:p.PPMSBTechRemarks}))))),r().createElement(b.Z,null,r().createElement(O.Z,{color:"info",icon:!0,className:"cardheadvh"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null,"Occupant Details"))))),r().createElement(w.Z,{style:{padding:"5px 20px 15px"}},r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(B.Z,{json:x,"data-testid":p.PPMSBOccupantName,SPName:"PPMSBTechAddOn",FieldName:"PPMSBOccupantName",tfLabel:he("PPMSBOccupantName"),frmctrlid:"fld910_39854",fieldorder:"1",onChange:e=>{xe(e,"PPMSBOccupantName","text")},clear:e=>{e&&u({type:"text",name:"PPMSBOccupantName",value:""})},value:p.PPMSBOccupantName})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(h.Z,{"data-testid":p.PPMSBOccupContactNo,json:x,SPName:"PPMSBTechAddOn",FieldName:"PPMSBOccupContactNo",tfLabel:he("PPMSBOccupContactNo"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&We(t),onClick:()=>{Ce&&Fe(1,"","ClearAll"),ye(!0)},frmctrlid:"fld910_39855",frmctrlidName:"PPMSBOccupContactNo",fieldorder:"2",data:_,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:_.length>0?_[0].TotalCount:0,onChange:(e,t)=>{Ce&&Fe(e,t,"PPMSBOccupContactNo"),xe(t,"PPMSBOccupContactNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:Ce,SideEntryView:!1,KeyBack:e=>{},value:p.PPMSBOccupContactNo,loading:M,clear:e=>{e&&(u({type:"text",name:"PPMSBOccupContactNo",value:""}),ye(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(B.Z,{json:x,"data-testid":p.PPMSBOccupEmail,SPName:"PPMSBTechAddOn",FieldName:"PPMSBOccupEmail",tfLabel:he("PPMSBOccupEmail"),onChange:e=>{u({type:"text",name:"PPMSBOccupEmail",value:e})},value:p.PPMSBOccupEmail,clear:e=>{e&&u({type:"text",name:"PPMSBOccupEmail",value:""})},frmctrlid:"fld910_39856",frmctrlidName:"PPMSBOccupEmail",fieldorder:"3"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(B.Z,{json:x,"data-testid":p.PPMSBOccupantRemarks,SPName:"PPMSBTechAddOn",FieldName:"PPMSBOccupantRemarks",tfLabel:he("PPMSBOccupantRemarks"),frmctrlid:"fld910_39859",fieldorder:"4",onChange:e=>{xe(e,"PPMSBOccupantRemarks","text")},clear:e=>{e&&u({type:"text",name:"PPMSBOccupantRemarks",value:""})},value:p.PPMSBOccupantRemarks})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(K.Z,{id:"PPMSBOccupantRating",value:p.PPMSBOccupantRating,onChange:e=>{xe(e,"PPMSBOccupantRating","text")}}))))))))))}));a(77366),a(97829);var q=a(97087);const V=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,y]=(0,l.useState)(!0),[B,D]=(0,l.useState)(e.showDetail),[g,I]=(0,l.useState)(""),[M,E]=r().useState(!1),[h,f]=r().useState(""),[T,v]=r().useState(!1),k=(0,l.useContext)(J),{cstate:N,cdispatch:b}=ee(),[w,O]=(0,l.useState)(!1),[F,x]=(0,l.useState)(""),[A,W]=(0,l.useState)(""),[L,R]=(0,l.useState)("");let K=(0,Z.Z)();(0,l.useEffect)((()=>{s(N.editData)}),[N.editData]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{y(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=P.v.Api+"FP910S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:e.Dialogview?"1":null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:1,p74:10,p75:N.IsDraft?"DraftPPMSBTechAddOnID":"PPMSBTechAddOnID",p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}};(0,C.Z)(0).then((e=>{(0,S.Z)(l,r,e).then((e=>{k.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===M&&a.current.clear()}})));const G=e=>K?.[e]?K?.[e]:e,z=e=>N.language?.[e]?N.language[e]:e;function V(e,t){}return r().createElement("div",null,r().createElement(c.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&y(!m)}},!M&&r().createElement(u.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeaderBtn",style:{marginTop:"-12px"}},N.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld910L0VCEditBtn",onClick:()=>{k.edit()},disabled:!1}):"",0==N.editData.length&&N.AccessRights.IsAdd?r().createElement(o.Z,{className:"L1AddBtnCommon",frmctrlid:"fld910L0VCAddBtn",onClick:()=>{b({type:"Add",payload:!0})},disabled:!1}):""))),r().createElement(p.Z,{style:{display:"block"}},i.slice(0,1).map(((t,l)=>r().createElement("div",{key:l},M==="panel"+l?r().createElement(_,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(q.Z,{tableName:"PPMSBTechAddOn",tableID:910,parentID:t.PPMSBTechAddOnIDPK,fldid:"fld910L0VCContainer",OpenSlideComponent:V,index:l,val:t,rating:t.PPMSBOccupantRating,tf:z,t:G,title:"10.0.0.54-1:12:16 PM-15-6[910]"}))))))))}));var H=a(67698),U=a(55995),j=(a(45965),a(10794)),Y=a(9175),X=a.n(Y),Q=a(71168),$=a.n(Q);const J=(0,l.createContext)(),ee=()=>{const e=(0,l.useContext)(J);if(void 0===e)throw new Error("ContextApi must be used within  PPMSBTechAddOnContext Provider");return e},te=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[s,m]=(0,l.useState)(!0),[c,p]=(0,l.useState)(!1),[u,y]=(0,l.useState)(0),[B,D]=(0,l.useState)(!1),[g,I]=(0,l.useState)(),[M,E]=(0,l.useReducer)(j.p,j.E),[h,f]=(0,l.useState)([]),[T,v]=(0,l.useState)(!1),[k,N]=$()("910");(0,l.useEffect)((()=>{document.getElementById("divPPMSBTechAddOn-Entry").style.width="100%",document.getElementById("PPMSBTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSBTechAddOn-MainEntry").style.height="80vh",document.getElementById("PPMSBTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBTechAddOn-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{p(!0),document.getElementById("divPPMSBTechAddOn-Entry").style.width="100%",document.getElementById("PPMSBTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSBTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBTechAddOn-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),E({type:"language",payload:Object.assign({},...r)})}(k)}),[k]);const b=e=>{document.getElementById("divPPMSBTechAddOn-Entry").style.width="100%",document.getElementById("PPMSBTechAddOnEntryTable").style.width="100%",document.getElementById("PPMSBTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSBTechAddOn-MainEntry").style.display="block",document.getElementById("PPMSBTechAddOn-MainEntry").style.height="80vh",document.getElementById("PPMSBTechAddOn-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBTechAddOn-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBTechAddOn").style.width="0%",document.getElementById("overlayimgAttPPMSBTechAddOn").style.display="none"};(0,l.useEffect)((()=>{d((e=>{(0,C.Z)(1).then((e=>{var t=new Array;t.push(e),E({type:"token",payload:t}),w(e),y(t.length)}))}))}),[]),(0,l.useEffect)((()=>{E({type:"AccessRights",payload:e.AccessRights})}),[e.AccessRights]);const w=t=>{m(!0);let a=P.v.Api+"FP910S3/",l={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:e.parentId?Number(e.parentId):0,p28:e.Dialogview?"1":null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:1,p74:10,p75:"PPMSBTechAddOnID",p76:null,p77:null,p78:null,p79:null}};(0,S.Z)(a,l,t).then((e=>{m(!1),"200"==e.Output.status.code&&(e.Output.data.length>0?e.Output.data&&E({type:"editData",payload:e.Output.data}):E({type:"editData",payload:[]}))}))};return r().createElement("div",null,r().createElement(J.Provider,{value:{cstate:M,cdispatch:E,ContextApi:ee,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),AttachExpand:e=>(i.current.AttachmentData(M.PrimaryId),void(c&&(document.getElementById("overlayimgAttPPMSBTechAddOn").style.width="25%",document.getElementById("divPPMSBTechAddOn-Entry").style.width="100%",document.getElementById("PPMSBTechAddOn-MainEntry").style.width="auto",document.getElementById("PPMSBTechAddOn-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBTechAddOn-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBTechAddOn").style.display="block",document.getElementById("PPMSBTechAddOnEntryTable").style.width="100%"))),RefreshTable:()=>{w(M.token[0]),D(!1),e.cardRefresh()},edit:()=>D(!0),attachmentSave:e=>{o.current.tempsave(e,h),f([])}}},r().createElement("div",{id:"PPMSBTechAddOn-MainDiv",className:"MainDivStyles displayFlex"},r().createElement("div",{id:"PPMSBTechAddOn-MainEntry",className:"Maincontent"},0==M.editData.length?r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSBTechAddOnEntryTable",style:{width:"100%"}},r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBTechAddOn-Entry",style:{width:"100%"}},r().createElement(_,{ref:t,parentId:e.parentId,parentData:e.parentData}))),r().createElement(U.Z,{ref:o,fileId:"LogoImgPPMSBTechAddOn",menurefID:910,imgloading:e=>I(e),valueIDPK:M.PrimaryId,AttachmentVal:e=>i.current.AttachmentData(e),previd:"overlayPreviewPPMSBTechAddOn",tempImg:e=>{i.current.tempImg(e),f(e)},clearTempData:M.Add})),r().createElement(H.Z,{ImgAttachment:e=>b(),menurefID:910,fileId:"AttImgPPMSBTechAddOn",imgid:"overlayimgAttPPMSBTechAddOn",valueIDPK:M.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},ref:i,previd:"overlayPreviewPPMSBTechAddOn",ConfirmAlert:t=>{e.ConfirmAlert(t)},imgloading:g,timglist:e=>o.current.timglist(e)})):r().createElement("div",null,B?r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSBTechAddOnEntryTable",style:{width:"100%"}},r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBTechAddOn-Entry",style:{width:"100%"}},r().createElement(_,{ref:t,parentId:e.parentId,parentData:e.parentData}))),r().createElement(U.Z,{ref:o,fileId:"LogoImgPPMSBTechAddOn",menurefID:910,imgloading:e=>I(e),valueIDPK:M.PrimaryId,AttachmentVal:e=>i.current.AttachmentData(e),previd:"overlayPreviewPPMSBTechAddOn",tempImg:e=>{i.current.tempImg(e),f(e)},clearTempData:M.Add})),r().createElement(H.Z,{ImgAttachment:e=>b(),menurefID:910,fileId:"AttImgPPMSBTechAddOn",imgid:"overlayimgAttPPMSBTechAddOn",valueIDPK:M.PrimaryId,PriviewData:(e,t)=>{o.current.PriviewItem(e,t)},ref:i,previd:"overlayPreviewPPMSBTechAddOn",ConfirmAlert:t=>{e.ConfirmAlert(t)},imgloading:g,clearTempData:M.Add})):r().createElement("div",{id:"divPPMSBTechAddOn-Entry"},0!==u?r().createElement(V,{ref:a,parentId:e.parentId}):null)))),!e.inboxdata&&T&&r().createElement(X(),{openDialog:T,closeDialog:e=>v(e),formID:910,PrimID:e.parentId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},45767:(e,t,a)=>{a.r(t),a.d(t,{default:()=>z});var l=a(92950),r=a.n(l),n=a(45237),i=a(36939),o=a(61201),d=a(50743),s=(a(67698),a(10966),a(30553)),m=(a(99090),a(61956)),c=a(51673),p=a(44528),u=(a(96071),a(14439)),S=a(27848),P=a(49174),C=(a(38773),a(19089)),y=a(1695),B=(a(13235),a(61924)),D=a.n(B),g=a(26537),I=a(40900),M=a(35131),E=a.n(M),h=a(55490),f=(a(2493),a(82729),a(75355),a(11107),a(37148)),T=(a(45965),a(92371)),v=a(40826),k=a(64566),N=a(99792),b=a(86415),w=a(21771),O=a(8981),F=a(63163),x=a(99940),A=a(5434),W=a(45155),L=a(79352),R=a(99263),K=a(16233),Z=a.n(K);a(91113),a(79117),a(57658);const G={PPMSBCreationWorkOrderIDPK:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreWoDateTimeType:"",SBCreWoDateTimeBetween:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreActualDateType:"",SBCreActualDateBetween:"",SBCreWoCompletedDate:"",SBCreWoCompletedDateType:"",SBCreWoCompletedDateBetween:"",SBCreParentCreationKey:"",SBCreSLAHours:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:!1,SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:!1,SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:!1,SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:!1,IsSBCreSupManual:!1,IsSBCreMaterial:!1,SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreXWoDateType:"",SBCreXWoDateBetween:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",SBApprovalKey:"",SBTechStartDateTime:"",SBTechStartDateTimeType:"",SBTechStartDateTimeBetween:"",SBTechEndDateTime:"",SBTechEndDateTimeType:"",SBTechEndDateTimeBetween:"",SBTechName:"",SBTechKeys:"",HierarchyDetailsKeys:"",IsDraft:!1,Remarks:"",ContractID:null,LocalityID:null,BuildingID:null,FloorID:null,SpotID:null,DivisionID:null,DisciplineID:null,FrequencyID:null,PPMBusinessFlowID:null,PPMFixonBusinessFlowID:null,PPMStageID:null,ServiceTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:null,ContractGroupCode:"",ContractGroupName:"",TaxID:null,TaxCode:"",TaxName:"",TaxValue:"",CustomerID:null,CustomerCode:"",CustomerName:"",ContractTypeID:null,ContractTypCode:"",ContractTypeName:"",ContractCategID:null,ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:null,ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:null,LocalityGroupCode:"",LocalityGroupName:"",CityID:null,CityCode:"",CityName:"",AdminLocalityTypeID:null,AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PPMStageName:"",StageSeqNo:"",ServiceTypCode:"",ServiceTypeName:"",Type:"PPMSBCreationWorkOrderID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},z=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,B]=(0,l.useState)(!1),[M,K]=(0,l.useState)(!0),[z,_]=(0,l.useState)(!1),[q,V]=(0,l.useState)(!1),[H,U]=(0,l.useState)(0),[j,Y]=(0,l.useState)(!0),[X,Q]=(0,l.useState)({}),[$,J]=(0,l.useState)([]),[ee,te]=(0,l.useState)(!1),[ae,le]=((0,l.useRef)(),(0,l.useState)(!1)),[re,ne]=(0,l.useState)(null),[ie,oe]=((0,l.useRef)(),(0,l.useState)(!0)),[de,se]=(0,l.useState)(!0),[me,ce]=(0,l.useState)(0),[pe,ue]=(0,l.useState)(0),[Se,Pe]=(0,l.useState)([]),[Ce,ye]=(0,l.useState)([]),[Be,De]=(0,l.useReducer)(T.Z,G),[ge,Ie]=(0,l.useState)(!1),[Me,Ee]=(0,l.useState)([]),[he,fe]=(0,l.useState)(null),Te=(0,l.useContext)(b.PPMSBCreationWorkOrderContext),{cstate:ve,cdispatch:ke}=(0,b.ContextApi)(),[Ne,be]=(0,l.useState)(!0),[we,Oe]=(0,l.useState)(""),[Fe,xe]=(0,l.useState)(!1),[Ae,We]=(0,l.useState)(""),[Le,Re]=(0,l.useState)(!0),[Ke,Ze]=(0,l.useState)(!0),[Ge,ze]=(0,l.useState)(""),[_e,qe]=(0,l.useState)(""),[Ve,He]=(0,l.useState)(!0),[Ue,je]=(0,l.useState)(""),[Ye,Xe]=(0,l.useState)(!0),[Qe,$e]=(0,l.useState)(!0),[Je,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)(""),[lt,rt]=(0,l.useState)(""),[nt,it]=(0,l.useState)(!0),[ot,dt]=(0,l.useState)(!0),[st,mt]=(0,l.useState)(!0),[ct,pt]=(0,l.useState)(!0),[ut,St]=(0,l.useState)(!0),[Pt,Ct]=(0,l.useState)(!0),[yt,Bt]=(0,l.useState)(!0),[Dt,gt]=(0,l.useState)(!0),[It,Mt]=(0,l.useState)(!0),[Et,ht]=(0,l.useState)(!0),[ft,Tt]=(0,l.useState)(!0),[vt,kt]=(0,l.useState)(""),[Nt,bt]=(0,l.useState)(!0),[wt,Ot]=(0,l.useState)(!0),[Ft,xt]=(0,l.useState)(!0),[At,Wt]=(0,l.useState)(!0),[Lt,Rt]=(0,l.useState)(0),[Kt]=(0,l.useState)(localStorage.getItem("Language")),[Zt]=(0,l.useState)(localStorage.getItem("Language")),[Gt,zt]=(0,l.useState)(!1),[_t,qt]=(0,l.useState)(!1),Vt=(0,l.useRef)(null),Ht=(0,l.useRef)(null),[Ut,jt]=Z()("494"),[Yt,Xt]=(0,l.useState)(!1),[Qt,$t]=(0,l.useState)("panelS5"),[Jt,ea]=(0,l.useState)([]);let ta=(0,O.Z)();const[aa,la]=(0,l.useState)({}),ra=e=>ta?.[e]?ta[e]:e,na=t=>ve.language?.[t]?ve.language[t]:e.createEasy?aa?.[t]:t;(0,l.useEffect)((()=>{ve.PrimaryId&&Rt(Number(ve.PrimaryId))}),[ve.PrimaryId]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),la(Object.assign({},...t))}(Ut)}),[Ut]),(0,l.useEffect)((()=>{ve.editData.length<0&&(0,g.Z)(1).then((e=>{Ca(1,null,"SetDefaultPPMSBCreationWorkOrderID",e)}))}),[]),(0,l.useEffect)((()=>{sa(Jt,"SetDefaultPPMSBCreationWorkOrderID")}),[Jt]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{ke({type:"expandDetail",payload:!0}),_(!1)},getPreview:e=>{},clear:()=>{ma(),Ca(1,null,"SetDefaultPPMSBCreationWorkOrderID",ve.token[0])},formlink:e=>{},editRecord:(e,t,a)=>{sa(e,""),te(a)},Add:()=>{ma(),te(!1),ke({type:"expandDetail",payload:"mainpanel"})},Editview:(e,t,a)=>{sa(e,""),te(a),se(!1)},CreateEasyProps:(e=!0,t)=>{setIsFetching(!0),t?(Ma(t),zt(e)):(ma(),zt(e))},cardRefresh:()=>{Ht.current.cardRefresh()}})));const ia=e=>e?e.split("-").reverse().join("-"):null,oa=e=>{if(e){let t=ia(e);return"Invalid Date"!=new Date(t)?(0,v.format)(new Date(t),"yyyy-MM-dd"):e}return null},da=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},sa=(t,a)=>{let l=t;Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),ke({type:"ViewID",payload:l.PPMSBCreationWorkOrderIDPK}),De({type:"number",name:"SBApprovalKey",number:l.SBApprovalKey}),De({type:"number",name:"SBTechKeys",number:l.SBTechKeys}),De({type:"text",name:"SBTechStartDateTime",value:l.SBTechStartDateTime?da(l.SBTechStartDateTime):null}),De({type:"text",name:"SBTechEndDateTime",value:l.SBTechEndDateTime?da(l.SBTechEndDateTime):null}),De({type:"text",name:"SBTechName",value:l.SBTechName?l.SBTechName:""}),De({type:"text",name:"SBCreWorkOrder",value:l.SBCreWorkOrder?l.SBCreWorkOrder:""}),De({type:"text",name:"SBCreWoDateTime",value:l.SBCreWoDateTime?da(l.SBCreWoDateTime):null}),De({type:"number",name:"SBCreSLAHours",number:l.SBCreSLAHours}),De({type:"number",name:"ContractID",number:l.ContractID?Number(l.ContractID):0}),De({type:"text",name:"ContractName",value:l.ContractName}),De({type:"number",name:"LocalityID",number:l.LocalityID?Number(l.LocalityID):0}),De({type:"text",name:"LocalityName",value:l.LocalityName}),De({type:"number",name:"BuildingID",number:l.BuildingID?Number(l.BuildingID):0}),De({type:"text",name:"BuildingName",value:l.BuildingName}),De({type:"number",name:"FloorID",number:l.FloorID?Number(l.FloorID):0}),De({type:"text",name:"FloorName",value:l.FloorName}),De({type:"number",name:"SpotID",number:l.SpotID?Number(l.SpotID):0}),De({type:"text",name:"SpotName",value:l.SpotName}),De({type:"number",name:"ServiceTypeID",number:l.ServiceTypeID?Number(l.ServiceTypeID):0}),De({type:"text",name:"ServiceTypeName",value:l.ServiceTypeName}),De({type:"number",name:"DivisionID",number:l.DivisionID?Number(l.DivisionID):0}),De({type:"text",name:"DivisionName",value:l.DivisionName}),De({type:"number",name:"DisciplineID",number:l.DisciplineID?Number(l.DisciplineID):0}),De({type:"text",name:"DisciplineName",value:l.DisciplineName}),De({type:"number",name:"FrequencyID",number:l.FrequencyID?Number(l.FrequencyID):0}),De({type:"text",name:"FrequencyName",value:l.FrequencyName}),De({type:"number",name:"PPMStageID",number:l.PPMStageID?Number(l.PPMStageID):0}),De({type:"text",name:"PPMStageName",value:l.PPMStageName}),"SetDefaultPPMSBCreationWorkOrderID"==a?We(l.PPMSBCreationWorkOrderIDPK):(Rt(e.primid?Number(e.primid):l.PPMSBCreationWorkOrderIDPK?l.PPMSBCreationWorkOrderIDPK:0),ke({type:"PrimaryId",payload:l.PPMSBCreationWorkOrderIDPK})),De({type:"text",name:"PPMSBCreationWorkOrderCode",value:l.PPMSBCreationWorkOrderCode?l.PPMSBCreationWorkOrderCode:""}),De({type:"number",name:"SBCreMRNo",number:l.SBCreMRNo}),De({type:"text",name:"SBCreGeneratedTtm",value:l.SBCreGeneratedTtm?l.SBCreGeneratedTtm:""}),De({type:"text",name:"SBCreActualDate",value:l.SBCreActualDate?ia(l.SBCreActualDate):null}),De({type:"text",name:"SBCreWoCompletedDate",value:l.SBCreWoCompletedDate?ia(l.SBCreWoCompletedDate):null}),De({type:"number",name:"SBCreParentCreationKey",number:l.SBCreParentCreationKey}),De({type:"number",name:"SBCreMaintenanceHours",number:l.SBCreMaintenanceHours}),De({type:"boolean",name:"IsSBCreWithDraw",boolean:!!l.IsSBCreWithDraw&&l.IsSBCreWithDraw}),De({type:"text",name:"SBCreWithDrawRemarks",value:l.SBCreWithDrawRemarks?l.SBCreWithDrawRemarks:""}),De({type:"number",name:"SBCreWithDrawEmpKey",number:l.SBCreWithDrawEmpKey}),De({type:"boolean",name:"IsSbCreReschedule",boolean:!!l.IsSbCreReschedule&&l.IsSbCreReschedule}),De({type:"text",name:"SBCreRescheduleRemarks",value:l.SBCreRescheduleRemarks?l.SBCreRescheduleRemarks:""}),De({type:"text",name:"SBCreReschduleEmpKey",value:l.SBCreReschduleEmpKey?l.SBCreReschduleEmpKey:""}),De({type:"boolean",name:"IsSBCreRework",boolean:!!l.IsSBCreRework&&l.IsSBCreRework}),De({type:"text",name:"SBCreReworkRemarks",value:l.SBCreReworkRemarks?l.SBCreReworkRemarks:""}),De({type:"number",name:"SBCreReworkEmpKey",number:l.SBCreReworkEmpKey}),De({type:"text",name:"SBCrePPMLattitude",value:l.SBCrePPMLattitude?l.SBCrePPMLattitude:""}),De({type:"text",name:"SBCrePPMLongitude",value:l.SBCrePPMLongitude?l.SBCrePPMLongitude:""}),De({type:"boolean",name:"IsSBCreTechManual",boolean:!!l.IsSBCreTechManual&&l.IsSBCreTechManual}),De({type:"boolean",name:"IsSBCreSupManual",boolean:!!l.IsSBCreSupManual&&l.IsSBCreSupManual}),De({type:"boolean",name:"IsSBCreMaterial",boolean:!!l.IsSBCreMaterial&&l.IsSBCreMaterial}),De({type:"number",name:"SBCreXCreationAssetKey",number:l.SBCreXCreationAssetKey}),De({type:"text",name:"SBCreXWorkOrder",value:l.SBCreXWorkOrder?l.SBCreXWorkOrder:""}),De({type:"text",name:"SBCreXWoDate",value:l.SBCreXWoDate?ia(l.SBCreXWoDate):null}),De({type:"number",name:"SBCreChargeLedgerKey",number:l.SBCreChargeLedgerKey}),De({type:"number",name:"SBCreCostLedgerKey",number:l.SBCreCostLedgerKey}),De({type:"number",name:"SBMaterialRequestkey",number:l.SBMaterialRequestkey}),De({type:"number",name:"HierarchyDetailsKeys",number:l.HierarchyDetailsKeys}),De({type:"number",name:"PPMBusinessFlowID",number:l.PPMBusinessFlowID?Number(l.PPMBusinessFlowID):0}),De({type:"text",name:"FlowDisplayName",value:l.FlowDisplayName}),De({type:"number",name:"PPMFixonBusinessFlowID",number:l.PPMFixonBusinessFlowID?Number(l.PPMFixonBusinessFlowID):0}),De({type:"text",name:"FixonBusinessFlowName",value:l.FixonBusinessFlowName}),l.IsActive&&K("1"==l.IsActive)},ma=()=>{Pe([]),Rt(0),We(""),De({type:"number",name:"SBApprovalKey",number:0}),De({type:"number",name:"SBTechKeys",number:0}),De({type:"text",name:"SBTechStartDateTime",value:null}),De({type:"text",name:"SBTechEndDateTime",value:null}),De({type:"text",name:"SBTechName",value:""}),De({type:"text",name:"SBCreWorkOrder",value:""}),De({type:"text",name:"SBCreWoDateTime",value:null}),De({type:"number",name:"SBCreSLAHours",number:0}),De({type:"text",name:"ContractID",value:null}),De({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSBCreationWorkOrderContractNameClear")&&document.getElementById("PPMSBCreationWorkOrderContractNameClear").click(),De({type:"text",name:"LocalityID",value:null}),De({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSBCreationWorkOrderLocalityNameClear")&&document.getElementById("PPMSBCreationWorkOrderLocalityNameClear").click(),De({type:"text",name:"BuildingID",value:null}),De({type:"text",name:"BuildingName",value:""}),document.getElementById("PPMSBCreationWorkOrderBuildingNameClear")&&document.getElementById("PPMSBCreationWorkOrderBuildingNameClear").click(),De({type:"text",name:"FloorID",value:null}),De({type:"text",name:"FloorName",value:""}),document.getElementById("PPMSBCreationWorkOrderFloorNameClear")&&document.getElementById("PPMSBCreationWorkOrderFloorNameClear").click(),De({type:"text",name:"SpotID",value:null}),De({type:"text",name:"SpotName",value:""}),document.getElementById("PPMSBCreationWorkOrderSpotNameClear")&&document.getElementById("PPMSBCreationWorkOrderSpotNameClear").click(),De({type:"text",name:"ServiceTypeID",value:null}),De({type:"text",name:"ServiceTypeName",value:""}),document.getElementById("PPMSBCreationWorkOrderServiceTypeNameClear")&&document.getElementById("PPMSBCreationWorkOrderServiceTypeNameClear").click(),De({type:"text",name:"DivisionID",value:null}),De({type:"text",name:"DivisionName",value:""}),document.getElementById("PPMSBCreationWorkOrderDivisionNameClear")&&document.getElementById("PPMSBCreationWorkOrderDivisionNameClear").click(),De({type:"text",name:"DisciplineID",value:null}),De({type:"text",name:"DisciplineName",value:""}),document.getElementById("PPMSBCreationWorkOrderDisciplineNameClear")&&document.getElementById("PPMSBCreationWorkOrderDisciplineNameClear").click(),De({type:"text",name:"FrequencyID",value:null}),De({type:"text",name:"FrequencyName",value:""}),document.getElementById("PPMSBCreationWorkOrderFrequencyNameClear")&&document.getElementById("PPMSBCreationWorkOrderFrequencyNameClear").click(),De({type:"text",name:"PPMStageID",value:null}),De({type:"text",name:"PPMStageName",value:""}),document.getElementById("PPMSBCreationWorkOrderPPMStageNameClear")&&document.getElementById("PPMSBCreationWorkOrderPPMStageNameClear").click(),ke({type:"PrimaryId",payload:""}),De({type:"text",name:"PPMSBCreationWorkOrderCode",value:""}),De({type:"number",name:"SBCreMRNo",number:0}),De({type:"text",name:"SBCreGeneratedTtm",value:""}),De({type:"text",name:"SBCreActualDate",value:""}),De({type:"text",name:"SBCreWoCompletedDate",value:""}),De({type:"number",name:"SBCreParentCreationKey",number:0}),De({type:"number",name:"SBCreMaintenanceHours",number:0}),De({type:"boolean",name:"IsSBCreWithDraw",boolean:!1}),De({type:"text",name:"SBCreWithDrawRemarks",value:""}),De({type:"number",name:"SBCreWithDrawEmpKey",number:0}),De({type:"boolean",name:"IsSbCreReschedule",boolean:!1}),De({type:"text",name:"SBCreRescheduleRemarks",value:""}),De({type:"text",name:"SBCreReschduleEmpKey",value:""}),De({type:"boolean",name:"IsSBCreRework",boolean:!1}),De({type:"text",name:"SBCreReworkRemarks",value:""}),De({type:"number",name:"SBCreReworkEmpKey",number:0}),De({type:"text",name:"SBCrePPMLattitude",value:""}),De({type:"text",name:"SBCrePPMLongitude",value:""}),De({type:"boolean",name:"IsSBCreTechManual",boolean:!1}),De({type:"boolean",name:"IsSBCreSupManual",boolean:!1}),De({type:"boolean",name:"IsSBCreMaterial",boolean:!1}),De({type:"number",name:"SBCreXCreationAssetKey",number:0}),De({type:"text",name:"SBCreXWorkOrder",value:""}),De({type:"text",name:"SBCreXWoDate",value:""}),De({type:"number",name:"SBCreChargeLedgerKey",number:0}),De({type:"number",name:"SBCreCostLedgerKey",number:0}),De({type:"number",name:"SBMaterialRequestkey",number:0}),De({type:"number",name:"HierarchyDetailsKeys",number:0}),De({type:"text",name:"PPMBusinessFlowID",value:null}),De({type:"text",name:"FlowDisplayName",value:""}),document.getElementById("PPMSBCreationWorkOrderFlowDisplayNameClear")&&document.getElementById("PPMSBCreationWorkOrderFlowDisplayNameClear").click(),De({type:"text",name:"PPMFixonBusinessFlowID",value:null}),De({type:"text",name:"FixonBusinessFlowName",value:""}),document.getElementById("PPMSBCreationWorkOrderFixonBusinessFlowNameClear")&&document.getElementById("PPMSBCreationWorkOrderFixonBusinessFlowNameClear").click(),Re(!0),Ze(!0),He(!0),Xe(!0),$e(!0),et(!0),it(!0),dt(!0),mt(!0),pt(!0),St(!0),Ct(!0),Bt(!0),gt(!0),Mt(!0),ht(!0),Tt(!0),bt(!0),Ot(!0),xt(!0),Wt(!0),K(!0)},ca=e=>{Te.loading(!0),Te.ConfirmAlert(null);const t=I.v.Api+"FP494S2/",a={data:[{p1:"SetDefaultPPMSBCreationWorkOrderID"==e?"NORECORDS"!=Ae&&Ae?Ae:0:Lt,p2:Ea(Be.PPMSBCreationWorkOrderCode),p3:Be.SBCreMRNo?Number(Be.SBCreMRNo):0,p4:Ea(Be.SBCreWorkOrder),p5:Be.SBCreWoDateTime?oa(Be.SBCreWoDateTime):null,p6:Be.SBCreGeneratedTtm,p7:Be.SBCreActualDate?oa(Be.SBCreActualDate):null,p8:Be.SBCreWoCompletedDate?oa(Be.SBCreWoCompletedDate):null,p9:Be.SBCreParentCreationKey?Number(Be.SBCreParentCreationKey):0,p10:Be.SBCreSLAHours?Number(Be.SBCreSLAHours):0,p11:Be.SBCreMaintenanceHours?Number(Be.SBCreMaintenanceHours):0,p12:Be.IsSBCreWithDraw,p13:Ea(Be.SBCreWithDrawRemarks),p14:Be.SBCreWithDrawEmpKey?Number(Be.SBCreWithDrawEmpKey):0,p15:Be.IsSbCreReschedule,p16:Ea(Be.SBCreRescheduleRemarks),p17:Ea(Be.SBCreReschduleEmpKey),p18:Be.IsSBCreRework,p19:Ea(Be.SBCreReworkRemarks),p20:Be.SBCreReworkEmpKey?Number(Be.SBCreReworkEmpKey):0,p21:Ea(Be.SBCrePPMLattitude),p22:Ea(Be.SBCrePPMLongitude),p23:Be.IsSBCreTechManual,p24:Be.IsSBCreSupManual,p25:Be.IsSBCreMaterial,p26:Be.SBCreXCreationAssetKey?Number(Be.SBCreXCreationAssetKey):0,p27:Ea(Be.SBCreXWorkOrder),p28:Be.SBCreXWoDate?oa(Be.SBCreXWoDate):null,p29:Be.SBCreChargeLedgerKey?Number(Be.SBCreChargeLedgerKey):0,p30:Be.SBCreCostLedgerKey?Number(Be.SBCreCostLedgerKey):0,p31:Be.SBMaterialRequestkey?Number(Be.SBMaterialRequestkey):0,p32:Be.SBApprovalKey?Number(Be.SBApprovalKey):0,p33:Be.SBTechStartDateTime?oa(Be.SBTechStartDateTime):null,p34:Be.SBTechEndDateTime?oa(Be.SBTechEndDateTime):null,p35:Ea(Be.SBTechName),p36:Be.SBTechKeys?Number(Be.SBTechKeys):0,p37:Be.HierarchyDetailsKeys?Number(Be.HierarchyDetailsKeys):0,p38:!1,p39:"SetDefaultPPMSBCreationWorkOrderID"==e?"SetDefault":null,p40:Be.ContractID?Be.ContractID:0,p41:Be.LocalityID?Be.LocalityID:0,p42:Be.BuildingID?Be.BuildingID:0,p43:Be.FloorID?Be.FloorID:0,p44:Be.SpotID?Be.SpotID:0,p45:Be.DivisionID?Be.DivisionID:0,p46:Be.DisciplineID?Be.DisciplineID:0,p47:Be.FrequencyID?Be.FrequencyID:0,p48:Be.PPMBusinessFlowID?Be.PPMBusinessFlowID:0,p49:Be.PPMFixonBusinessFlowID?Be.PPMFixonBusinessFlowID:0,p50:Be.PPMStageID?Be.PPMStageID:0,p51:Be.ServiceTypeID?Be.ServiceTypeID:0,p52:M,p53:"SetDefaultPPMSBCreationWorkOrderID"==e,p54:localStorage.getItem("userid"),p55:E()().format("YYYY-MM-DD hh:mm:ss"),p56:localStorage.getItem("userid"),p57:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((l=>{(0,c.Z)(t,a,l).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(Te.alert({open:!0,color:"warning",message:n}),Te.loading(!1)):pa(e)):(Te.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Te.loading(!1))}))}))},pa=e=>{Re(!0),Ze(!0),He(!0),Xe(!0),$e(!0),et(!0),it(!0),dt(!0),mt(!0),pt(!0),St(!0),Ct(!0),Bt(!0),gt(!0),Mt(!0),ht(!0),Tt(!0),bt(!0),Ot(!0),xt(!0),Wt(!0),Te.ConfirmAlert(null);const t=I.v.Api+"FP494S1/",a={data:[{p1:"SetDefaultPPMSBCreationWorkOrderID"==e?"NORECORDS"!=Ae&&Ae?Ae:0:Lt,p2:Ea(Be.PPMSBCreationWorkOrderCode),p3:Be.SBCreMRNo?Number(Be.SBCreMRNo):0,p4:Ea(Be.SBCreWorkOrder),p5:Be.SBCreWoDateTime?oa(Be.SBCreWoDateTime):null,p6:Be.SBCreGeneratedTtm,p7:Be.SBCreActualDate?oa(Be.SBCreActualDate):null,p8:Be.SBCreWoCompletedDate?oa(Be.SBCreWoCompletedDate):null,p9:Be.SBCreParentCreationKey?Number(Be.SBCreParentCreationKey):0,p10:Be.SBCreSLAHours?Number(Be.SBCreSLAHours):0,p11:Be.SBCreMaintenanceHours?Number(Be.SBCreMaintenanceHours):0,p12:Be.IsSBCreWithDraw,p13:Ea(Be.SBCreWithDrawRemarks),p14:Be.SBCreWithDrawEmpKey?Number(Be.SBCreWithDrawEmpKey):0,p15:Be.IsSbCreReschedule,p16:Ea(Be.SBCreRescheduleRemarks),p17:Ea(Be.SBCreReschduleEmpKey),p18:Be.IsSBCreRework,p19:Ea(Be.SBCreReworkRemarks),p20:Be.SBCreReworkEmpKey?Number(Be.SBCreReworkEmpKey):0,p21:Ea(Be.SBCrePPMLattitude),p22:Ea(Be.SBCrePPMLongitude),p23:Be.IsSBCreTechManual,p24:Be.IsSBCreSupManual,p25:Be.IsSBCreMaterial,p26:Be.SBCreXCreationAssetKey?Number(Be.SBCreXCreationAssetKey):0,p27:Ea(Be.SBCreXWorkOrder),p28:Be.SBCreXWoDate?oa(Be.SBCreXWoDate):null,p29:Be.SBCreChargeLedgerKey?Number(Be.SBCreChargeLedgerKey):0,p30:Be.SBCreCostLedgerKey?Number(Be.SBCreCostLedgerKey):0,p31:Be.SBMaterialRequestkey?Number(Be.SBMaterialRequestkey):0,p32:Be.SBApprovalKey?Number(Be.SBApprovalKey):0,p33:Be.SBTechStartDateTime?oa(Be.SBTechStartDateTime):null,p34:Be.SBTechEndDateTime?oa(Be.SBTechEndDateTime):null,p35:Ea(Be.SBTechName),p36:Be.SBTechKeys?Number(Be.SBTechKeys):0,p37:Be.HierarchyDetailsKeys?Number(Be.HierarchyDetailsKeys):0,p38:!1,p39:"SetDefaultPPMSBCreationWorkOrderID"==e?"SetDefault":null,p40:Be.ContractID?Be.ContractID:0,p41:Be.LocalityID?Be.LocalityID:0,p42:Be.BuildingID?Be.BuildingID:0,p43:Be.FloorID?Be.FloorID:0,p44:Be.SpotID?Be.SpotID:0,p45:Be.DivisionID?Be.DivisionID:0,p46:Be.DisciplineID?Be.DisciplineID:0,p47:Be.FrequencyID?Be.FrequencyID:0,p48:Be.PPMBusinessFlowID?Be.PPMBusinessFlowID:0,p49:Be.PPMFixonBusinessFlowID?Be.PPMFixonBusinessFlowID:0,p50:Be.PPMStageID?Be.PPMStageID:0,p51:Be.ServiceTypeID?Be.ServiceTypeID:0,p52:M,p53:"SetDefaultPPMSBCreationWorkOrderID"==e,p54:localStorage.getItem("userid"),p55:E()().format("YYYY-MM-DD hh:mm:ss"),p56:localStorage.getItem("userid"),p57:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((l=>{(0,m.Z)(t,a,l).then((async t=>{const a=t[0].status;200==a.code?("SetDefaultPPMSBCreationWorkOrderID"==e?Te.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Te.alert({open:!0,color:"success",message:[a.message]}),ke({type:"ViewID",payload:t[0].Data.IDPK}),ke({type:"PrimaryId",payload:t[0].Data.IDPK}),await te(!0)),Te.attachmentSave(t[0].Data.IDPK),Te.loading(!1),document.getElementById("overlayimgAttPPMSBCreationWorkOrder")&&(document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="none")):(Te.alert({open:!0,color:"warning",message:[a.message]}),Te.loading(!1)),"SetDefaultPPMSBCreationWorkOrderID"==e&&(zt(!0),Ca(1,null,"SetDefaultPPMSBCreationWorkOrderID",ve.token[0]))}))}))};function ua(e,t){(0,R.CreateEasy)(e,ve,ke,Te,Vt)}function Sa(e,a){return AdvanceSearch(e,a,b.PPMSBCreationWorkOrderContext,(0,b.ContextApi)(),Ba,t),!1}const Pa=e=>(t,a)=>{$t(!!a&&e)},Ca=(t,a,l,r,n,i)=>{const o=I.v.Api+"FP494S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:Be.SBCreWoDateTime?Be.SBCreWoDateTime:null,p6:null,p7:null,p8:null,p9:Be.SBCreActualDate?Be.SBCreActualDate:null,p10:null,p11:null,p12:Be.SBCreWoCompletedDate?Be.SBCreWoCompletedDate:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:1==Be.IsSBCreWithDraw,p19:null,p20:a?"%"+a+"%":null,p21:1==Be.IsSbCreReschedule,p22:null,p23:a?"%"+a+"%":null,p24:1==Be.IsSBCreRework,p25:null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:1==Be.IsSBCreTechManual,p30:1==Be.IsSBCreSupManual,p31:1==Be.IsSBCreMaterial,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:Be.SBCreXWoDate?Be.SBCreXWoDate:null,p35:null,p36:null,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:Be.SBTechStartDateTime?Be.SBTechStartDateTime:null,p42:null,p43:null,p44:Be.SBTechEndDateTime?Be.SBTechEndDateTime:null,p45:null,p46:null,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:a?"%"+a+"%":null,p50:null,p51:null,p52:"0"==Be.ContractID?null:Be.ContractID,p53:"0"==Be.LocalityID?null:Be.LocalityID,p54:"0"==Be.BuildingID?null:Be.BuildingID,p55:"0"==Be.FloorID?null:Be.FloorID,p56:"0"==Be.SpotID?null:Be.SpotID,p57:"0"==Be.DivisionID?null:Be.DivisionID,p58:"0"==Be.DisciplineID?null:Be.DisciplineID,p59:"0"==Be.FrequencyID?null:Be.FrequencyID,p60:"0"==Be.PPMBusinessFlowID?null:Be.PPMBusinessFlowID,p61:"0"==Be.PPMFixonBusinessFlowID?null:Be.PPMFixonBusinessFlowID,p62:"0"==Be.PPMStageID?null:Be.PPMStageID,p63:"0"==Be.ServiceTypeID?null:Be.ServiceTypeID,p64:e.Dialogview?"1":null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:"0"==Be.ContractGroupID?null:Be.ContractGroupID,p72:a?"%"+a+"%":null,p73:a?"%"+a+"%":null,p74:"0"==Be.TaxID?null:Be.TaxID,p75:a?"%"+a+"%":null,p76:a?"%"+a+"%":null,p77:a?"%"+a+"%":null,p78:"0"==Be.CustomerID?null:Be.CustomerID,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:"0"==Be.ContractTypeID?null:Be.ContractTypeID,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:"0"==Be.ContractCategID?null:Be.ContractCategID,p85:a?"%"+a+"%":null,p86:a?"%"+a+"%":null,p87:"0"==Be.ConPaymentTermsID?null:Be.ConPaymentTermsID,p88:a?"%"+a+"%":null,p89:a?"%"+a+"%":null,p90:a?"%"+a+"%":null,p91:"0"==Be.LocalityGroupID?null:Be.LocalityGroupID,p92:a?"%"+a+"%":null,p93:a?"%"+a+"%":null,p94:"0"==Be.CityID?null:Be.CityID,p95:a?"%"+a+"%":null,p96:a?"%"+a+"%":null,p97:"0"==Be.AdminLocalityTypeID?null:Be.AdminLocalityTypeID,p98:a?"%"+a+"%":null,p99:a?"%"+a+"%":null,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:a?"%"+a+"%":null,p103:a?"%"+a+"%":null,p104:a?"%"+a+"%":null,p105:a?"%"+a+"%":null,p106:a?"%"+a+"%":null,p107:a?"%"+a+"%":null,p108:a?"%"+a+"%":null,p109:a?"%"+a+"%":null,p110:a?"%"+a+"%":null,p111:a?"%"+a+"%":null,p112:t,p113:10,p114:l,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});Ie(!0);const m={data:s};return(0,c.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSBCreationWorkOrderID"==l&&r?r:ve.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};Ee(1==t?e>0?r:[]:Me.concat(r)),"SetDefaultPPMSBCreationWorkOrderID"==l&&(e>0?ea(r[0]):We("NORECORDS")),Ie(!1)}else Te.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ie(!1)}))},ya=(t,a,l)=>{const r=I.v.Api+"FP494S3/",n={data:{p1:null,p2:"PPMSBCreationWorkOrderCode"==l&&a?"%"+a+"%":null,p3:"SBCreMRNo"==l&&a?"%"+a+"%":null,p4:"SBCreWorkOrder"==l&&a?"%"+a+"%":null,p5:null,p6:null,p7:null,p8:"SBCreGeneratedTtm"==l&&a?"%"+a+"%":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:"SBCreParentCreationKey"==l&&a?"%"+a+"%":null,p16:"SBCreSLAHours"==l&&a?"%"+a+"%":null,p17:"SBCreMaintenanceHours"==l&&a?"%"+a+"%":null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:e.Dialogview?"1":null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:t,p113:10,p114:"PPMSBCreationWorkOrderID",p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};Ie(!0),(0,c.Z)(r,"ClearAll"==l?i:n,ve.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?("SBApprovalKey"==l&&Re(e>0),"SBTechKeys"==l&&Ze(e>0),"SBTechName"==l&&He(e>0),"PPMSBCreationWorkOrderCode"==l&&Xe(e>0),"SBCreMRNo"==l&&$e(e>0),"SBCreGeneratedTtm"==l&&et(e>0),"SBCreMaintenanceHours"==l&&it(e>0),"SBCreWithDrawRemarks"==l&&dt(e>0),"SBCreWithDrawEmpKey"==l&&mt(e>0),"SBCreRescheduleRemarks"==l&&pt(e>0),"SBCreReschduleEmpKey"==l&&St(e>0),"SBCreReworkRemarks"==l&&Ct(e>0),"SBCreReworkEmpKey"==l&&Bt(e>0),"SBCrePPMLattitude"==l&&gt(e>0),"SBCrePPMLongitude"==l&&Mt(e>0),"SBCreXCreationAssetKey"==l&&ht(e>0),"SBCreXWorkOrder"==l&&Tt(e>0),"SBCreChargeLedgerKey"==l&&bt(e>0),"SBCreCostLedgerKey"==l&&Ot(e>0),"SBMaterialRequestkey"==l&&xt(e>0),"HierarchyDetailsKeys"==l&&Wt(e>0),Ee(r)):("SBApprovalKey"==l&&Re(!0),"SBTechKeys"==l&&Ze(!0),"SBTechName"==l&&He(!0),"PPMSBCreationWorkOrderCode"==l&&Xe(!0),"SBCreMRNo"==l&&$e(!0),"SBCreGeneratedTtm"==l&&et(!0),"SBCreMaintenanceHours"==l&&it(!0),"SBCreWithDrawRemarks"==l&&dt(!0),"SBCreWithDrawEmpKey"==l&&mt(!0),"SBCreRescheduleRemarks"==l&&pt(!0),"SBCreReschduleEmpKey"==l&&St(!0),"SBCreReworkRemarks"==l&&Ct(!0),"SBCreReworkEmpKey"==l&&Bt(!0),"SBCrePPMLattitude"==l&&gt(!0),"SBCrePPMLongitude"==l&&Mt(!0),"SBCreXCreationAssetKey"==l&&ht(!0),"SBCreXWorkOrder"==l&&Tt(!0),"SBCreChargeLedgerKey"==l&&bt(!0),"SBCreCostLedgerKey"==l&&Ot(!0),"SBMaterialRequestkey"==l&&xt(!0),"HierarchyDetailsKeys"==l&&Wt(!0),Ee(Me.concat(r))),Ie(!1)}else Te.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ie(!1)}))},Ba=(0,l.useCallback)((async(e,t,a)=>{"text"==a?De({type:a,name:t,value:e}):"number"==a?De({type:a,name:t,number:Number(e)}):"boolean"==a?De({type:a,name:t,boolean:e}):"date"==a&&De({type:"text",name:t,value:e})}),[Be]);function Da(e){if("ContractID"==e){if(!Be.ContractID)return!1}else if("LocalityID"==e){if(!Be.LocalityID)return!1}else if("BuildingID"==e){if(!Be.BuildingID)return!1}else if("FloorID"==e){if(!Be.FloorID)return!1}else if("SpotID"==e){if(!Be.SpotID)return!1}else if("ServiceTypeID"==e){if(!Be.ServiceTypeID)return!1}else if("DivisionID"==e){if(!Be.DivisionID)return!1}else if("DisciplineID"==e){if(!Be.DisciplineID)return!1}else if("FrequencyID"==e){if(!Be.FrequencyID)return!1}else if("PPMStageID"==e){if(!Be.PPMStageID)return!1}else if("PPMBusinessFlowID"==e){if(!Be.PPMBusinessFlowID)return!1}else if("PPMFixonBusinessFlowID"==e&&!Be.PPMFixonBusinessFlowID)return!1}function ga(e){if("ContractID"==e){if(!Be.ContractID)return!1}else if("LocalityID"==e){if(!Be.LocalityID)return!1}else if("BuildingID"==e){if(!Be.BuildingID)return!1}else if("FloorID"==e){if(!Be.FloorID)return!1}else if("SpotID"==e){if(!Be.SpotID)return!1}else if("ServiceTypeID"==e){if(!Be.ServiceTypeID)return!1}else if("DivisionID"==e){if(!Be.DivisionID)return!1}else if("DisciplineID"==e){if(!Be.DisciplineID)return!1}else if("FrequencyID"==e){if(!Be.FrequencyID)return!1}else if("PPMStageID"==e){if(!Be.PPMStageID)return!1}else if("PPMBusinessFlowID"==e){if(!Be.PPMBusinessFlowID)return!1}else if("PPMFixonBusinessFlowID"==e&&!Be.PPMFixonBusinessFlowID)return!1}const Ia=e=>{Te.ConfirmAlert(r().createElement(D(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ma(e),onCancel:()=>Te.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ra("Yes"),cancelBtnText:ra("No"),showCancel:!0},ra("Do you want to update this record?")))};function Ma(e){Te.ConfirmAlert(null),V(e.IsDraft),ke({type:"editData",payload:[e]}),ke({type:"PrimaryId",payload:e.PPMSBCreationWorkOrderIDPK}),Rt(Number(e.PPMSBCreationWorkOrderIDPK)?Number(e.PPMSBCreationWorkOrderIDPK):0),De({type:"text",name:"SBApprovalKey",value:e.SBApprovalKey?e.SBApprovalKey:""}),De({type:"text",name:"SBTechKeys",value:e.SBTechKeys?e.SBTechKeys:""}),De({type:"text",name:"SBTechStartDateTime",value:e.SBTechStartDateTime?da(e.SBTechStartDateTime):null}),De({type:"text",name:"SBTechEndDateTime",value:e.SBTechEndDateTime?da(e.SBTechEndDateTime):null}),De({type:"text",name:"SBTechName",value:e.SBTechName?e.SBTechName:""}),De({type:"text",name:"SBCreWorkOrder",value:e.SBCreWorkOrder?e.SBCreWorkOrder:""}),De({type:"text",name:"SBCreWoDateTime",value:e.SBCreWoDateTime?da(e.SBCreWoDateTime):null}),De({type:"text",name:"SBCreSLAHours",value:e.SBCreSLAHours?e.SBCreSLAHours:""}),De({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),De({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),De({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),De({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),De({type:"number",name:"BuildingID",number:e.BuildingID?Number(e.BuildingID):0}),De({type:"text",name:"BuildingName",value:e.BuildingName?e.BuildingName:""}),De({type:"number",name:"FloorID",number:e.FloorID?Number(e.FloorID):0}),De({type:"text",name:"FloorName",value:e.FloorName?e.FloorName:""}),De({type:"number",name:"SpotID",number:e.SpotID?Number(e.SpotID):0}),De({type:"text",name:"SpotName",value:e.SpotName?e.SpotName:""}),De({type:"number",name:"ServiceTypeID",number:e.ServiceTypeID?Number(e.ServiceTypeID):0}),De({type:"text",name:"ServiceTypeName",value:e.ServiceTypeName?e.ServiceTypeName:""}),De({type:"number",name:"DivisionID",number:e.DivisionID?Number(e.DivisionID):0}),De({type:"text",name:"DivisionName",value:e.DivisionName?e.DivisionName:""}),De({type:"number",name:"DisciplineID",number:e.DisciplineID?Number(e.DisciplineID):0}),De({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:""}),De({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),De({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""}),De({type:"number",name:"PPMStageID",number:e.PPMStageID?Number(e.PPMStageID):0}),De({type:"text",name:"PPMStageName",value:e.PPMStageName?e.PPMStageName:""}),De({type:"text",name:"PPMSBCreationWorkOrderCode",value:e.PPMSBCreationWorkOrderCode?e.PPMSBCreationWorkOrderCode:""}),De({type:"text",name:"SBCreMRNo",value:e.SBCreMRNo?e.SBCreMRNo:""}),De({type:"text",name:"SBCreGeneratedTtm",value:e.SBCreGeneratedTtm?e.SBCreGeneratedTtm:""}),De({type:"text",name:"SBCreActualDate",value:e.SBCreActualDate?ia(e.SBCreActualDate):null}),De({type:"text",name:"SBCreWoCompletedDate",value:e.SBCreWoCompletedDate?ia(e.SBCreWoCompletedDate):null}),De({type:"text",name:"SBCreMaintenanceHours",value:e.SBCreMaintenanceHours?e.SBCreMaintenanceHours:""}),De({type:"boolean",name:"IsSBCreWithDraw",boolean:!!e.IsSBCreWithDraw&&e.IsSBCreWithDraw}),De({type:"text",name:"SBCreWithDrawRemarks",value:e.SBCreWithDrawRemarks?e.SBCreWithDrawRemarks:""}),De({type:"text",name:"SBCreWithDrawEmpKey",value:e.SBCreWithDrawEmpKey?e.SBCreWithDrawEmpKey:""}),De({type:"boolean",name:"IsSbCreReschedule",boolean:!!e.IsSbCreReschedule&&e.IsSbCreReschedule}),De({type:"text",name:"SBCreRescheduleRemarks",value:e.SBCreRescheduleRemarks?e.SBCreRescheduleRemarks:""}),De({type:"text",name:"SBCreReschduleEmpKey",value:e.SBCreReschduleEmpKey?e.SBCreReschduleEmpKey:""}),De({type:"boolean",name:"IsSBCreRework",boolean:!!e.IsSBCreRework&&e.IsSBCreRework}),De({type:"text",name:"SBCreReworkRemarks",value:e.SBCreReworkRemarks?e.SBCreReworkRemarks:""}),De({type:"text",name:"SBCreReworkEmpKey",value:e.SBCreReworkEmpKey?e.SBCreReworkEmpKey:""}),De({type:"text",name:"SBCrePPMLattitude",value:e.SBCrePPMLattitude?e.SBCrePPMLattitude:""}),De({type:"text",name:"SBCrePPMLongitude",value:e.SBCrePPMLongitude?e.SBCrePPMLongitude:""}),De({type:"boolean",name:"IsSBCreTechManual",boolean:!!e.IsSBCreTechManual&&e.IsSBCreTechManual}),De({type:"boolean",name:"IsSBCreSupManual",boolean:!!e.IsSBCreSupManual&&e.IsSBCreSupManual}),De({type:"boolean",name:"IsSBCreMaterial",boolean:!!e.IsSBCreMaterial&&e.IsSBCreMaterial}),De({type:"text",name:"SBCreXCreationAssetKey",value:e.SBCreXCreationAssetKey?e.SBCreXCreationAssetKey:""}),De({type:"text",name:"SBCreXWorkOrder",value:e.SBCreXWorkOrder?e.SBCreXWorkOrder:""}),De({type:"text",name:"SBCreXWoDate",value:e.SBCreXWoDate?ia(e.SBCreXWoDate):null}),De({type:"text",name:"SBCreChargeLedgerKey",value:e.SBCreChargeLedgerKey?e.SBCreChargeLedgerKey:""}),De({type:"text",name:"SBCreCostLedgerKey",value:e.SBCreCostLedgerKey?e.SBCreCostLedgerKey:""}),De({type:"text",name:"SBMaterialRequestkey",value:e.SBMaterialRequestkey?e.SBMaterialRequestkey:""}),De({type:"text",name:"HierarchyDetailsKeys",value:e.HierarchyDetailsKeys?e.HierarchyDetailsKeys:""}),De({type:"number",name:"PPMBusinessFlowID",number:e.PPMBusinessFlowID?Number(e.PPMBusinessFlowID):0}),De({type:"text",name:"FlowDisplayName",value:e.FlowDisplayName?e.FlowDisplayName:""}),De({type:"number",name:"PPMFixonBusinessFlowID",number:e.PPMFixonBusinessFlowID?Number(e.PPMFixonBusinessFlowID):0}),De({type:"text",name:"FixonBusinessFlowName",value:e.FixonBusinessFlowName?e.FixonBusinessFlowName:""})}const Ea=e=>"string"==typeof e?e.trim():e;return r().createElement("div",{style:{width:"100%",display:"none"},id:"PPMSBCreationWorkOrder-MainEntry"},r().createElement("div",{className:"tabcontainer padleft5"},r().createElement("div",{className:"formcontent"},r().createElement("div",{className:"mar0"},r().createElement("div",{className:"ascardpad"},ee?r().createElement("div",null,r().createElement(N.default,{ref:Ht,ExpandDetailValue:!0,EntryExp:ve.expandDetail,inboxdata:{}})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBCreationWorkOrder-Entry",style:{width:"100%",position:"relative"}},r().createElement(i.Z,{expanded:"mainpanel"==ve.expandDetail},r().createElement(d.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},r().createElement("div",{className:"displayFlex backgroundLightL3 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("div",{id:"fld494L4ECdFlexEntryHeader",onClick:()=>{Te.ShowTableDiv(!1),document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="none"}},r().createElement(A.aQX,{className:"BackBtnIcon"})),r().createElement("p",{className:"ListP",title:"10.0.0.46-6:37:15 PM-31-5[494]"},Lt?"Edit ":"New ",na("494"))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},"mainpanel"===ve.expandDetail&&!Lt&&r().createElement(x.FormGroup,{row:!0},r().createElement(s.Z,{labelPlacement:"bottom",id:"fld494L4ECEntryCheckbox",control:r().createElement(F.Z,{checked:"1"==M,onChange:e=>K(e.target.checked)}),label:ra(1==M?"Active":"In Active")})))),Lt&&"mainpanel"===ve.expandDetail?r().createElement("div",{className:"GridAlign",onClick:()=>{Te.AttachExpand(!0)},id:"fld494L4ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!Lt},r().createElement(W.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ra("Attach")))):null,!Lt&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ma()},id:"fld494L4ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(W.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ra("Reset")))),Lt?null:r().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,a,l,r){if(!(ve.count>0))return Te.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...Be};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){Re(!0),Ze(!0),He(!0),Xe(!0),$e(!0),et(!0),it(!0),dt(!0),mt(!0),pt(!0),St(!0),Ct(!0),Bt(!0),gt(!0),Mt(!0),ht(!0),Tt(!0),bt(!0),Ot(!0),xt(!0),Wt(!0),Te.loading(!0),Te.ConfirmAlert(null);const a=I.v.Api+"FP494S1/",l={data:[{p1:"SetDefaultPPMSBCreationWorkOrderID"==r?"NORECORDS"!=Ae&&Ae?Ae:0:Lt,p2:Ea(Be.PPMSBCreationWorkOrderCode),p3:Be.SBCreMRNo?Number(Be.SBCreMRNo):0,p4:Ea(Be.SBCreWorkOrder),p5:Be.SBCreWoDateTime?oa(Be.SBCreWoDateTime):null,p6:Be.SBCreGeneratedTtm,p7:Be.SBCreActualDate?oa(Be.SBCreActualDate):null,p8:Be.SBCreWoCompletedDate?oa(Be.SBCreWoCompletedDate):null,p9:Be.SBCreParentCreationKey?Number(Be.SBCreParentCreationKey):0,p10:Be.SBCreSLAHours?Number(Be.SBCreSLAHours):0,p11:Be.SBCreMaintenanceHours?Number(Be.SBCreMaintenanceHours):0,p12:Be.IsSBCreWithDraw,p13:Ea(Be.SBCreWithDrawRemarks),p14:Be.SBCreWithDrawEmpKey?Number(Be.SBCreWithDrawEmpKey):0,p15:Be.IsSbCreReschedule,p16:Ea(Be.SBCreRescheduleRemarks),p17:Ea(Be.SBCreReschduleEmpKey),p18:Be.IsSBCreRework,p19:Ea(Be.SBCreReworkRemarks),p20:Be.SBCreReworkEmpKey?Number(Be.SBCreReworkEmpKey):0,p21:Ea(Be.SBCrePPMLattitude),p22:Ea(Be.SBCrePPMLongitude),p23:Be.IsSBCreTechManual,p24:Be.IsSBCreSupManual,p25:Be.IsSBCreMaterial,p26:Be.SBCreXCreationAssetKey?Number(Be.SBCreXCreationAssetKey):0,p27:Ea(Be.SBCreXWorkOrder),p28:Be.SBCreXWoDate?oa(Be.SBCreXWoDate):null,p29:Be.SBCreChargeLedgerKey?Number(Be.SBCreChargeLedgerKey):0,p30:Be.SBCreCostLedgerKey?Number(Be.SBCreCostLedgerKey):0,p31:Be.SBMaterialRequestkey?Number(Be.SBMaterialRequestkey):0,p32:Be.SBApprovalKey?Number(Be.SBApprovalKey):0,p33:Be.SBTechStartDateTime?oa(Be.SBTechStartDateTime):null,p34:Be.SBTechEndDateTime?oa(Be.SBTechEndDateTime):null,p35:Ea(Be.SBTechName),p36:Be.SBTechKeys?Number(Be.SBTechKeys):0,p37:Be.HierarchyDetailsKeys?Number(Be.HierarchyDetailsKeys):0,p38:!0,p39:"SetDefaultPPMSBCreationWorkOrderID"==r?"SetDefault":null,p40:Be.ContractID?Be.ContractID:0,p41:Be.LocalityID?Be.LocalityID:0,p42:Be.BuildingID?Be.BuildingID:0,p43:Be.FloorID?Be.FloorID:0,p44:Be.SpotID?Be.SpotID:0,p45:Be.DivisionID?Be.DivisionID:0,p46:Be.DisciplineID?Be.DisciplineID:0,p47:Be.FrequencyID?Be.FrequencyID:0,p48:Be.PPMBusinessFlowID?Be.PPMBusinessFlowID:0,p49:Be.PPMFixonBusinessFlowID?Be.PPMFixonBusinessFlowID:0,p50:Be.PPMStageID?Be.PPMStageID:0,p51:Be.ServiceTypeID?Be.ServiceTypeID:0,p52:!1,p53:"SetDefaultPPMSBCreationWorkOrderID"==r,p54:localStorage.getItem("userid"),p55:E()().format("YYYY-MM-DD hh:mm:ss"),p56:localStorage.getItem("userid"),p57:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,g.Z)(0).then((r=>{(0,m.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?Te.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):Te.alert({open:!0,color:"success",message:["Saved to Draft"]}),ma(),e.clrImgstate(!0),document.getElementById("PPMSBCreationWorkOrder-MainTable").style.width="0%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.display="flex",document.getElementById("PPMSBCreationWorkOrder-MainTable").style.display="none",Y(!1),Te.loading(!1),document.getElementById("overlayimgAttPPMSBCreationWorkOrder")&&(document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="none")):(Te.alert({open:!0,color:"warning",message:[l.message]}),Te.loading(!1))}))}))}else Te.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}()},id:"fld494L4ECDraftBtn",disabled:!1},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(L.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ra("Draft")))),"mainpanel"===ve.expandDetail?r().createElement(y.Z,{name:Lt?"Update":"Save",disabled:!1,frmctrlid:"fld494L4ECSaveBtnIsAdd",onClick:()=>{Be.ContractID&&0!=Be.ContractID?Be.LocalityID&&0!=Be.LocalityID?Be.ServiceTypeID&&0!=Be.ServiceTypeID?Be.DivisionID&&0!=Be.DivisionID?Be.DisciplineID&&0!=Be.DisciplineID?Be.FrequencyID&&0!=Be.FrequencyID?Be.PPMStageID&&0!=Be.PPMStageID?Te.ConfirmAlert(r().createElement(D(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ra("Are you sure?"),onConfirm:()=>ca(),onCancel:()=>Te.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ra("Yes"),cancelBtnText:ra("Cancel"),showCancel:!0},ra("Do you want to Save?"))):Te.alert({open:!0,color:"warning",message:[ra("Please select the ")+" "+na("PPMStageID")]}):Te.alert({open:!0,color:"warning",message:[ra("Please select the ")+" "+na("FrequencyID")]}):Te.alert({open:!0,color:"warning",message:[ra("Please select the ")+" "+na("DisciplineID")]}):Te.alert({open:!0,color:"warning",message:[ra("Please select the ")+" "+na("DivisionID")]}):Te.alert({open:!0,color:"warning",message:[ra("Please select the ")+" "+na("ServiceTypeID")]}):Te.alert({open:!0,color:"warning",message:[ra("Please select the ")+" "+na("LocalityID")]}):Te.alert({open:!0,color:"warning",message:[ra("Please select the ")+" "+na("ContractID")]})}}):null,Lt&&"mainpanel"===ve.expandDetail?r().createElement(f.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld494L4ECCloseBtn",onClick:()=>{Te.ShowTableDiv(!1),ma(),te(!0),se(!0),document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="none"}}):null))),r().createElement(o.Z,null,r().createElement("div",{id:"PPMSBCreationWorkOrder-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSBCreationWorkOrder-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSBCreationWorkOrder-MainBody",className:"padding paddingLeft"},r().createElement("div",{className:"display-inline-flex"},r().createElement("div",{className:"l4-side-component displayFlex"+(Ne?"":"l4width")},r().createElement("div",{className:"l4-side-component"},r().createElement("div",{className:"cardl4 "+(""==we||""==we?"":"displayNone")},r().createElement("div",{color:"info",className:"cardheadvh"},r().createElement(u.Z,null,r().createElement(S.Z,{xs:2,md:2,lg:2,sm:2},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null))))),r().createElement("div",{style:{padding:"15px"}},r().createElement(u.Z,{spacing:2},r().createElement(S.Z,{xs:2,md:2,lg:2,sm:2,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBApprovalKey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBApprovalKey",tfLabel:na("SBApprovalKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Le&&ya(1,"","ClearAll"),Re(!0)},frmctrlid:"fld494_37372",frmctrlidName:"SBApprovalKey",fieldorder:"0",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Le&&ya(e,t,"SBApprovalKey"),Ba(t,"SBApprovalKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Re(!0)},showList:Le,SideEntryView:!1,KeyBack:e=>{},value:Be.SBApprovalKey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBApprovalKey",value:""}),Re(!0))}})),r().createElement(S.Z,{xs:2,md:2,lg:2,sm:2,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBTechKeys,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBTechKeys",tfLabel:na("SBTechKeys"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Ke&&ya(1,"","ClearAll"),Ze(!0)},frmctrlid:"fld494_37373",frmctrlidName:"SBTechKeys",fieldorder:"0",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Ke&&ya(e,t,"SBTechKeys"),Ba(t,"SBTechKeys","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ze(!0)},showList:Ke,SideEntryView:!1,KeyBack:e=>{},value:Be.SBTechKeys,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBTechKeys",value:""}),Ze(!0))}})))))),r().createElement("div",{className:"l4-side-menu "+(Ne?"":"displayNone")},r().createElement("div",{className:"cardhight cardl4"},r().createElement("div",null,r().createElement("div",{className:"PPMSBCreationWorkOrder-sublink formpanel"},r().createElement("div",{className:"divacc"},r().createElement(i.Z,{expanded:"panelS0"==Qt,onChange:Pa("panelS0")},r().createElement(d.Z,{className:"accpanel",expandIcon:r().createElement(k.Z,{className:"iconExpand"})},r().createElement("p",{className:"mpadd5 plinkactive"})),r().createElement(o.Z,null,r().createElement(u.Z,{spacing:12},r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(C.Z,{"data-testid":Be.SBTechStartDateTime,value:Be.SBTechStartDateTime,skipMin:!0,onErr:e=>{ze(e)},onChange:e=>{Ba(e,"SBTechStartDateTime","date")},label:na("SBTechStartDateTime"),frmctrlid:"fld494_37374",frmctrlidName:"SBTechStartDateTime",fieldorder:"0"})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(C.Z,{"data-testid":Be.SBTechEndDateTime,value:Be.SBTechEndDateTime,skipMin:!0,onErr:e=>{qe(e)},onChange:e=>{Ba(e,"SBTechEndDateTime","date")},label:na("SBTechEndDateTime"),frmctrlid:"fld494_37375",frmctrlidName:"SBTechEndDateTime",fieldorder:"0"})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBTechName,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBTechName",tfLabel:na("SBTechName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Ve&&ya(1,"","ClearAll"),He(!0)},frmctrlid:"fld494_37376",frmctrlidName:"SBTechName",fieldorder:"0",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Ve&&ya(e,t,"SBTechName"),Ba(t,"SBTechName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||He(!0)},showList:Ve,SideEntryView:!1,KeyBack:e=>{},value:Be.SBTechName,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBTechName",value:""}),He(!0))}})))))),r().createElement("div",{className:"divacc"},r().createElement(i.Z,{expanded:"panelS1"==Qt,onChange:Pa("panelS1")},r().createElement(d.Z,{className:"accpanel",expandIcon:r().createElement(k.Z,{className:"iconExpand"})},r().createElement("p",{className:"mpadd5 plinkactive"},"Primary Details")),r().createElement(o.Z,null,r().createElement(u.Z,{spacing:12},r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(p.Z,{json:w.A,"data-testid":Be.SBCreWorkOrder,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreWorkOrder",tfLabel:na("SBCreWorkOrder"),frmctrlid:"fld494_21914",fieldorder:"1",onChange:e=>{Ba(e,"SBCreWorkOrder","text")},clear:e=>{e&&De({type:"text",name:"SBCreWorkOrder",value:""})},value:Be.SBCreWorkOrder})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,className:"flexEnd"},r().createElement(C.Z,{"data-testid":Be.SBCreWoDateTime,value:Be.SBCreWoDateTime,skipMin:!0,onErr:e=>{je(e)},onChange:e=>{Ba(e,"SBCreWoDateTime","date")},label:na("SBCreWoDateTime"),frmctrlid:"fld494_21915",frmctrlidName:"SBCreWoDateTime",fieldorder:"2"})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(p.Z,{json:w.A,"data-testid":Be.SBCreSLAHours,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreSLAHours",tfLabel:na("SBCreSLAHours"),frmctrlid:"fld494_21920",fieldorder:"3",onChange:e=>{Ba(e,"SBCreSLAHours","text")},clear:e=>{e&&De({type:"text",name:"SBCreSLAHours",value:""})},value:Be.SBCreSLAHours})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.ContractID,"data-testid":Be.ContractID,value:Be.ContractName,SPName:"PPMSBCreationWorkOrder",FieldName:"ContractID",tfLabel:na("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"ContractID","select"),onChange:(e,t)=>{Ca(e,t,"ContractIDPK")},KeyBack:e=>{ga("ContractID")},fieldorder:"4",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("156")},Tabledialog:()=>Sa("156","ContractID"),loading:ge,clear:e=>{e&&Da("ContractID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.LocalityID,"data-testid":Be.LocalityID,value:Be.LocalityName,SPName:"PPMSBCreationWorkOrder",FieldName:"LocalityID",tfLabel:na("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"LocalityID","select"),onChange:(e,t)=>{Ca(e,t,"LocalityIDPK")},KeyBack:e=>{ga("LocalityID")},fieldorder:"5",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("12")},Tabledialog:()=>Sa("12","LocalityID"),loading:ge,clear:e=>{e&&Da("LocalityID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.BuildingID,"data-testid":Be.BuildingID,value:Be.BuildingName,SPName:"PPMSBCreationWorkOrder",FieldName:"BuildingID",tfLabel:na("BuildingID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"BuildingID","select"),onChange:(e,t)=>{Ca(e,t,"BuildingIDPK")},KeyBack:e=>{ga("BuildingID")},fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("30")},Tabledialog:()=>Sa("30","BuildingID"),loading:ge,clear:e=>{e&&Da("BuildingID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.FloorID,"data-testid":Be.FloorID,value:Be.FloorName,SPName:"PPMSBCreationWorkOrder",FieldName:"FloorID",tfLabel:na("FloorID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"FloorID","select"),onChange:(e,t)=>{Ca(e,t,"FloorIDPK")},KeyBack:e=>{ga("FloorID")},fieldorder:"1",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("52")},Tabledialog:()=>Sa("52","FloorID"),loading:ge,clear:e=>{e&&Da("FloorID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.SpotID,"data-testid":Be.SpotID,value:Be.SpotName,SPName:"PPMSBCreationWorkOrder",FieldName:"SpotID",tfLabel:na("SpotID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"SpotID","select"),onChange:(e,t)=>{Ca(e,t,"SpotIDPK")},KeyBack:e=>{ga("SpotID")},fieldorder:"2",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("70")},Tabledialog:()=>Sa("70","SpotID"),loading:ge,clear:e=>{e&&Da("SpotID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{json:w.A,id:Be.ServiceTypeID,"data-testid":Be.ServiceTypeID,value:Be.ServiceTypeName,SPName:"PPMSBCreationWorkOrder",FieldName:"ServiceTypeID",tfLabel:na("ServiceTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"ServiceTypeID","select"),onChange:(e,t)=>{Ca(e,t,"ServiceTypeIDPK")},KeyBack:e=>{ga("ServiceTypeID")},fieldorder:"2",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("17")},Tabledialog:()=>Sa("17","ServiceTypeID"),loading:ge,clear:e=>{e&&Da("ServiceTypeID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.DivisionID,"data-testid":Be.DivisionID,value:Be.DivisionName,SPName:"PPMSBCreationWorkOrder",FieldName:"DivisionID",tfLabel:na("DivisionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"DivisionID","select"),onChange:(e,t)=>{Ca(e,t,"DivisionIDPK")},KeyBack:e=>{ga("DivisionID")},fieldorder:"3",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("35")},Tabledialog:()=>Sa("35","DivisionID"),loading:ge,clear:e=>{e&&Da("DivisionID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.DisciplineID,"data-testid":Be.DisciplineID,value:Be.DisciplineName,SPName:"PPMSBCreationWorkOrder",FieldName:"DisciplineID",tfLabel:na("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"DisciplineID","select"),onChange:(e,t)=>{Ca(e,t,"DisciplineIDPK")},KeyBack:e=>{ga("DisciplineID")},fieldorder:"4",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("34")},Tabledialog:()=>Sa("34","DisciplineID"),loading:ge,clear:e=>{e&&Da("DisciplineID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.FrequencyID,"data-testid":Be.FrequencyID,value:Be.FrequencyName,SPName:"PPMSBCreationWorkOrder",FieldName:"FrequencyID",tfLabel:na("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"FrequencyID","select"),onChange:(e,t)=>{Ca(e,t,"FrequencyIDPK")},KeyBack:e=>{ga("FrequencyID")},fieldorder:"5",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("457")},Tabledialog:()=>Sa("457","FrequencyID"),loading:ge,clear:e=>{e&&Da("FrequencyID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12},r().createElement(h.Z,{json:w.A,id:Be.PPMStageID,"data-testid":Be.PPMStageID,value:Be.PPMStageName,SPName:"PPMSBCreationWorkOrder",FieldName:"PPMStageID",tfLabel:na("PPMStageID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"PPMStageID","select"),onChange:(e,t)=>{Ca(e,t,"PPMStageIDPK")},KeyBack:e=>{ga("PPMStageID")},fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("541")},Tabledialog:()=>Sa("541","PPMStageID"),loading:ge,clear:e=>{e&&Da("PPMStageID")}})))))),r().createElement("div",{className:"divacc",style:{display:"none"}},r().createElement(i.Z,{expanded:"panelS@number@"==Qt,onChange:Pa("panelS@number@")},r().createElement(d.Z,{className:"accpanel",expandIcon:r().createElement(k.Z,{className:"iconExpand"})},r().createElement("p",{className:"mpadd5 plinkactive"},"Invisible Fields")),r().createElement(o.Z,null,r().createElement(u.Z,{spacing:12},r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.PPMSBCreationWorkOrderCode,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"PPMSBCreationWorkOrderCode",tfLabel:na("PPMSBCreationWorkOrderCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Ye&&ya(1,"","ClearAll"),Xe(!0)},frmctrlid:"fld494_21912",frmctrlidName:"PPMSBCreationWorkOrderCode",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Ye&&ya(e,t,"PPMSBCreationWorkOrderCode"),Ba(t,"PPMSBCreationWorkOrderCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Xe(!0)},showList:Ye,SideEntryView:!1,KeyBack:e=>{},value:Be.PPMSBCreationWorkOrderCode,loading:ge,clear:e=>{e&&(De({type:"text",name:"PPMSBCreationWorkOrderCode",value:""}),Xe(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreMRNo,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreMRNo",tfLabel:na("SBCreMRNo"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Qe&&ya(1,"","ClearAll"),$e(!0)},frmctrlid:"fld494_21913",frmctrlidName:"SBCreMRNo",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Qe&&ya(e,t,"SBCreMRNo"),Ba(t,"SBCreMRNo","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||$e(!0)},showList:Qe,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreMRNo,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreMRNo",value:""}),$e(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreGeneratedTtm,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreGeneratedTtm",tfLabel:na("SBCreGeneratedTtm"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Je&&ya(1,"","ClearAll"),et(!0)},frmctrlid:"fld494_21916",frmctrlidName:"SBCreGeneratedTtm",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Je&&ya(e,t,"SBCreGeneratedTtm"),Ba(t,"SBCreGeneratedTtm","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||et(!0)},showList:Je,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreGeneratedTtm,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreGeneratedTtm",value:""}),et(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(P.Z,{value:Be.SBCreActualDate,"data-testid":Be.SBCreActualDate,disabled:!1,onChange:e=>{Ba(e,"SBCreActualDate","date")},onErr:e=>{at(e)},label:na("SBCreActualDate"),frmctrlid:"fld494_21917",frmctrlidName:"SBCreActualDate",fieldorder:"6"})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(P.Z,{value:Be.SBCreWoCompletedDate,"data-testid":Be.SBCreWoCompletedDate,disabled:!1,onChange:e=>{Ba(e,"SBCreWoCompletedDate","date")},onErr:e=>{rt(e)},label:na("SBCreWoCompletedDate"),frmctrlid:"fld494_21918",frmctrlidName:"SBCreWoCompletedDate",fieldorder:"6"})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreMaintenanceHours,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreMaintenanceHours",tfLabel:na("SBCreMaintenanceHours"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{nt&&ya(1,"","ClearAll"),it(!0)},frmctrlid:"fld494_21921",frmctrlidName:"SBCreMaintenanceHours",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{nt&&ya(e,t,"SBCreMaintenanceHours"),Ba(t,"SBCreMaintenanceHours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||it(!0)},showList:nt,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreMaintenanceHours,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreMaintenanceHours",value:""}),it(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Be.IsSBCreWithDraw,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==Be.IsSBCreWithDraw,onChange:e=>{Ba(e.target.checked,"IsSBCreWithDraw","boolean")},frmctrlid:"fld494_21922",frmctrlidname:"IsSBCreWithDraw",fieldorder:"6",tfLabel:na("IsSBCreWithDraw")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:Be.IsSBCreWithDraw?"#21446F":"#999"}},na("IsSBCreWithDraw"))}))),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreWithDrawRemarks,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreWithDrawRemarks",tfLabel:na("SBCreWithDrawRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{ot&&ya(1,"","ClearAll"),dt(!0)},frmctrlid:"fld494_21923",frmctrlidName:"SBCreWithDrawRemarks",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{ot&&ya(e,t,"SBCreWithDrawRemarks"),Ba(t,"SBCreWithDrawRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||dt(!0)},showList:ot,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreWithDrawRemarks,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreWithDrawRemarks",value:""}),dt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreWithDrawEmpKey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreWithDrawEmpKey",tfLabel:na("SBCreWithDrawEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{st&&ya(1,"","ClearAll"),mt(!0)},frmctrlid:"fld494_21924",frmctrlidName:"SBCreWithDrawEmpKey",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{st&&ya(e,t,"SBCreWithDrawEmpKey"),Ba(t,"SBCreWithDrawEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||mt(!0)},showList:st,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreWithDrawEmpKey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreWithDrawEmpKey",value:""}),mt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Be.IsSbCreReschedule,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==Be.IsSbCreReschedule,onChange:e=>{Ba(e.target.checked,"IsSbCreReschedule","boolean")},frmctrlid:"fld494_21925",frmctrlidname:"IsSbCreReschedule",fieldorder:"6",tfLabel:na("IsSbCreReschedule")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:Be.IsSbCreReschedule?"#21446F":"#999"}},na("IsSbCreReschedule"))}))),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreRescheduleRemarks,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreRescheduleRemarks",tfLabel:na("SBCreRescheduleRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{ct&&ya(1,"","ClearAll"),pt(!0)},frmctrlid:"fld494_21926",frmctrlidName:"SBCreRescheduleRemarks",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{ct&&ya(e,t,"SBCreRescheduleRemarks"),Ba(t,"SBCreRescheduleRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||pt(!0)},showList:ct,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreRescheduleRemarks,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreRescheduleRemarks",value:""}),pt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreReschduleEmpKey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreReschduleEmpKey",tfLabel:na("SBCreReschduleEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{ut&&ya(1,"","ClearAll"),St(!0)},frmctrlid:"fld494_21927",frmctrlidName:"SBCreReschduleEmpKey",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{ut&&ya(e,t,"SBCreReschduleEmpKey"),Ba(t,"SBCreReschduleEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||St(!0)},showList:ut,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreReschduleEmpKey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreReschduleEmpKey",value:""}),St(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Be.IsSBCreRework,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==Be.IsSBCreRework,onChange:e=>{Ba(e.target.checked,"IsSBCreRework","boolean")},frmctrlid:"fld494_21928",frmctrlidname:"IsSBCreRework",fieldorder:"6",tfLabel:na("IsSBCreRework")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:Be.IsSBCreRework?"#21446F":"#999"}},na("IsSBCreRework"))}))),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreReworkRemarks,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreReworkRemarks",tfLabel:na("SBCreReworkRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Pt&&ya(1,"","ClearAll"),Ct(!0)},frmctrlid:"fld494_21929",frmctrlidName:"SBCreReworkRemarks",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Pt&&ya(e,t,"SBCreReworkRemarks"),Ba(t,"SBCreReworkRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ct(!0)},showList:Pt,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreReworkRemarks,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreReworkRemarks",value:""}),Ct(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreReworkEmpKey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreReworkEmpKey",tfLabel:na("SBCreReworkEmpKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{yt&&ya(1,"","ClearAll"),Bt(!0)},frmctrlid:"fld494_21930",frmctrlidName:"SBCreReworkEmpKey",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{yt&&ya(e,t,"SBCreReworkEmpKey"),Ba(t,"SBCreReworkEmpKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Bt(!0)},showList:yt,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreReworkEmpKey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreReworkEmpKey",value:""}),Bt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCrePPMLattitude,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCrePPMLattitude",tfLabel:na("SBCrePPMLattitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Dt&&ya(1,"","ClearAll"),gt(!0)},frmctrlid:"fld494_21931",frmctrlidName:"SBCrePPMLattitude",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Dt&&ya(e,t,"SBCrePPMLattitude"),Ba(t,"SBCrePPMLattitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||gt(!0)},showList:Dt,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCrePPMLattitude,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCrePPMLattitude",value:""}),gt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCrePPMLongitude,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCrePPMLongitude",tfLabel:na("SBCrePPMLongitude"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{It&&ya(1,"","ClearAll"),Mt(!0)},frmctrlid:"fld494_21932",frmctrlidName:"SBCrePPMLongitude",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{It&&ya(e,t,"SBCrePPMLongitude"),Ba(t,"SBCrePPMLongitude","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Mt(!0)},showList:It,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCrePPMLongitude,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCrePPMLongitude",value:""}),Mt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Be.IsSBCreTechManual,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==Be.IsSBCreTechManual,onChange:e=>{Ba(e.target.checked,"IsSBCreTechManual","boolean")},frmctrlid:"fld494_21933",frmctrlidname:"IsSBCreTechManual",fieldorder:"6",tfLabel:na("IsSBCreTechManual")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:Be.IsSBCreTechManual?"#21446F":"#999"}},na("IsSBCreTechManual"))}))),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Be.IsSBCreSupManual,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==Be.IsSBCreSupManual,onChange:e=>{Ba(e.target.checked,"IsSBCreSupManual","boolean")},frmctrlid:"fld494_21934",frmctrlidname:"IsSBCreSupManual",fieldorder:"6",tfLabel:na("IsSBCreSupManual")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:Be.IsSBCreSupManual?"#21446F":"#999"}},na("IsSBCreSupManual"))}))),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Be.IsSBCreMaterial,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==Be.IsSBCreMaterial,onChange:e=>{Ba(e.target.checked,"IsSBCreMaterial","boolean")},frmctrlid:"fld494_21935",frmctrlidname:"IsSBCreMaterial",fieldorder:"6",tfLabel:na("IsSBCreMaterial")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:Be.IsSBCreMaterial?"#21446F":"#999"}},na("IsSBCreMaterial"))}))),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreXCreationAssetKey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreXCreationAssetKey",tfLabel:na("SBCreXCreationAssetKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Et&&ya(1,"","ClearAll"),ht(!0)},frmctrlid:"fld494_21936",frmctrlidName:"SBCreXCreationAssetKey",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Et&&ya(e,t,"SBCreXCreationAssetKey"),Ba(t,"SBCreXCreationAssetKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ht(!0)},showList:Et,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreXCreationAssetKey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreXCreationAssetKey",value:""}),ht(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreXWorkOrder,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreXWorkOrder",tfLabel:na("SBCreXWorkOrder"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{ft&&ya(1,"","ClearAll"),Tt(!0)},frmctrlid:"fld494_21937",frmctrlidName:"SBCreXWorkOrder",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{ft&&ya(e,t,"SBCreXWorkOrder"),Ba(t,"SBCreXWorkOrder","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Tt(!0)},showList:ft,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreXWorkOrder,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreXWorkOrder",value:""}),Tt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(P.Z,{value:Be.SBCreXWoDate,"data-testid":Be.SBCreXWoDate,disabled:!1,onChange:e=>{Ba(e,"SBCreXWoDate","date")},onErr:e=>{kt(e)},label:na("SBCreXWoDate"),frmctrlid:"fld494_21938",frmctrlidName:"SBCreXWoDate",fieldorder:"6"})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreChargeLedgerKey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreChargeLedgerKey",tfLabel:na("SBCreChargeLedgerKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Nt&&ya(1,"","ClearAll"),bt(!0)},frmctrlid:"fld494_21939",frmctrlidName:"SBCreChargeLedgerKey",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Nt&&ya(e,t,"SBCreChargeLedgerKey"),Ba(t,"SBCreChargeLedgerKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||bt(!0)},showList:Nt,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreChargeLedgerKey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreChargeLedgerKey",value:""}),bt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBCreCostLedgerKey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBCreCostLedgerKey",tfLabel:na("SBCreCostLedgerKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{wt&&ya(1,"","ClearAll"),Ot(!0)},frmctrlid:"fld494_21940",frmctrlidName:"SBCreCostLedgerKey",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{wt&&ya(e,t,"SBCreCostLedgerKey"),Ba(t,"SBCreCostLedgerKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ot(!0)},showList:wt,SideEntryView:!1,KeyBack:e=>{},value:Be.SBCreCostLedgerKey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBCreCostLedgerKey",value:""}),Ot(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.SBMaterialRequestkey,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"SBMaterialRequestkey",tfLabel:na("SBMaterialRequestkey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{Ft&&ya(1,"","ClearAll"),xt(!0)},frmctrlid:"fld494_21941",frmctrlidName:"SBMaterialRequestkey",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{Ft&&ya(e,t,"SBMaterialRequestkey"),Ba(t,"SBMaterialRequestkey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||xt(!0)},showList:Ft,SideEntryView:!1,KeyBack:e=>{},value:Be.SBMaterialRequestkey,loading:ge,clear:e=>{e&&(De({type:"text",name:"SBMaterialRequestkey",value:""}),xt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{"data-testid":Be.HierarchyDetailsKeys,json:w.A,SPName:"PPMSBCreationWorkOrder",FieldName:"HierarchyDetailsKeys",tfLabel:na("HierarchyDetailsKeys"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ia(t),onClick:()=>{At&&ya(1,"","ClearAll"),Wt(!0)},frmctrlid:"fld494_21952",frmctrlidName:"HierarchyDetailsKeys",fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,onChange:(e,t)=>{At&&ya(e,t,"HierarchyDetailsKeys"),Ba(t,"HierarchyDetailsKeys","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Wt(!0)},showList:At,SideEntryView:!1,KeyBack:e=>{},value:Be.HierarchyDetailsKeys,loading:ge,clear:e=>{e&&(De({type:"text",name:"HierarchyDetailsKeys",value:""}),Wt(!0))}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{json:w.A,id:Be.PPMBusinessFlowID,"data-testid":Be.PPMBusinessFlowID,value:Be.FlowDisplayName,SPName:"PPMSBCreationWorkOrder",FieldName:"PPMBusinessFlowID",tfLabel:na("PPMBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"PPMBusinessFlowID","select"),onChange:(e,t)=>{Ca(e,t,"PPMBusinessFlowIDPK")},KeyBack:e=>{ga("PPMBusinessFlowID")},fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("460")},Tabledialog:()=>Sa("460","PPMBusinessFlowID"),loading:ge,clear:e=>{e&&Da("PPMBusinessFlowID")}})),r().createElement(S.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},r().createElement(h.Z,{json:w.A,id:Be.PPMFixonBusinessFlowID,"data-testid":Be.PPMFixonBusinessFlowID,value:Be.FixonBusinessFlowName,SPName:"PPMSBCreationWorkOrder",FieldName:"PPMFixonBusinessFlowID",tfLabel:na("PPMFixonBusinessFlowID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ba(e,"PPMFixonBusinessFlowID","select"),onChange:(e,t)=>{Ca(e,t,"PPMFixonBusinessFlowIDPK")},KeyBack:e=>{ga("PPMFixonBusinessFlowID")},fieldorder:"6",data:Me,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Me.length>0?Me[0].TotalCount:0,openSlide:()=>{ua("475")},Tabledialog:()=>Sa("475","PPMFixonBusinessFlowID"),loading:ge,clear:e=>{e&&Da("PPMFixonBusinessFlowID")}}))))))))),r().createElement("div",{id:"PPMSBCreationWorkOrderSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBCreationWorkOrderSideBar").style.width="0",void le(!1))},"×"),ae&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},re)))))))))))))))))}))},86415:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>C,PPMSBCreationWorkOrderContext:()=>P,default:()=>y});var l=a(92950),r=a.n(l),n=a(45767),i=a(45965),o=a(615),d=a(45237),s=a(26537),m=a(30037),c=a(67698),p=a(55995),u=(a(37274),a(9175)),S=a.n(u);const P=(0,l.createContext)();function C(){const e=r().useContext(P);if(void 0===e)throw new Error("ContextApi must be used within a PPMSBCreationWorkOrderContext.Provider");return e}const y=(0,l.forwardRef)(((e,t)=>{(0,d.useSelector)((e=>e.form));const a=(0,l.useRef)(),u=(0,d.useDispatch)(),[C,y]=(0,l.useState)(0),[B,D]=r().useReducer(m.d,m.E),g=(0,l.useRef)(),I=(0,l.useRef)(),M=(0,l.useRef)(),[E,h]=(0,l.useState)(),[f,T]=(0,l.useState)(null),[v,k]=(0,l.useState)(""),N=(0,l.useRef)(),[b,w]=(0,l.useState)([]),[O,F]=(0,l.useState)(!1);(0,l.useEffect)((()=>{u((e=>{(0,s.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length),x(e)}))})),e.loading(!0)}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"ShowView",payload:!0}),D({type:"PrimaryData",payload:e.editData}),a.current.editRecord(e.editData,!1,!0),D({type:"IsDraft",payload:!1}),A(!0))}),[e.editData]);const x=e=>{(0,i.Z)(e,494).then((e=>D({type:"AccessRights",payload:e})))};function A(e){D({type:"expandDetail",payload:"mainpanel"}),e?(document.getElementById("PPMSBCreationWorkOrder-MainTable").style.width="0%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.display="flex",document.getElementById("PPMSBCreationWorkOrder-MainTable").style.display="none",D({type:"Showtable",payload:!1})):(document.getElementById("PPMSBCreationWorkOrder-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainTable").style.display="block",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.width="0%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.display="none",D({type:"Showtable",payload:!0}),g.current.tableRefresh())}return r().createElement("div",null,r().createElement(P.Provider,{value:{cstate:B,cdispatch:D,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),edit:(e,t,l)=>{return n=t,i=l,void((r=e)?(D({type:"ShowView",payload:!0}),D({type:"PrimaryData",payload:r}),n?a.current.editRecord(r,n,!1):a.current.editRecord(r,n,i),D({type:"IsDraft",payload:n}),A(!0)):(a.current.formlink(0),D({type:"ShowView",payload:!1}),A(!0),a.current.clear()));var r,n,i},add:()=>a.current.Add(),editview:e=>{a.current.Editview(e),D({type:"expandDetail",payload:"mainpanel"})},ShowTableDiv:e=>A(e),AttachExpand:e=>(I.current.AttachmentData(B.PrimaryId),void(B.ExpandTableValue?(document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.width="30%",document.getElementById("divPPMSBCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="block",document.getElementById("PPMSBCreationWorkOrderTbsearch").style.display="none"):(document.getElementById("PPMSBCreationWorkOrder-MainTable").style.width="40%",document.getElementById("divPPMSBCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.display="block",document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.width="30%",document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="block",document.getElementById("PPMSBCreationWorkOrderTbsearch").style.display="none"))),openDialog:t=>e.openDialog(t),Approval:e=>F(e),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{M.current.tempsave(e,b),w([])},floatRefresh:()=>N.current.countRefresh()}},r().createElement("div",{className:"MainDivStyles displayGrid"},r().createElement("div",{id:"PPMSBCreationWorkOrder-MainDiv",className:"Maincontent",style:{paddingTop:"8px",minHeight:"100vh"}},r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{className:"width100"},r().createElement("div",{id:"PPMSBCreationWorkOrder-MainTable",className:"commonSlide",style:{width:"100%",display:"block"}},0!==C&&r().createElement(o.default,{ref:g})),r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"width100"},r().createElement(n.default,{ref:a,clrImgstate:e=>I.current.clrImgstate(e)}),r().createElement(p.Z,{ref:M,menurefID:494,fileId:"LogoImgPPMSBCreationWorkOrder",imgloading:e=>h(e),valueIDPK:B.PrimaryId,AttachmentVal:e=>I.current.AttachmentData(e),previd:"overlayPreviewPPMSBCreationWorkOrder",AccessRights:B.AccessRights,frmctrlid:"PvwIm_494_L4_",tempImg:e=>{B.PrimaryId?I.current.AttachmentData(B.PrimaryId):I.current.tempImg(e),w(e)},clearTempData:B.Add})),r().createElement(c.Z,{ImgAttachment:e=>{B.IsCollapse?(document.getElementById("PPMSBCreationWorkOrder-MainTable").style.width="50%",document.getElementById("divPPMSBCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.display="block",document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="none",document.getElementById("PPMSBCreationWorkOrderTbsearch").style.display="block"):(document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrder").style.display="none",document.getElementById("divPPMSBCreationWorkOrder-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrder-MainDiv").classList.add("displayGrid"),document.getElementById("PPMSBCreationWorkOrderTbsearch").style.display="block")},menurefID:494,fileId:"AttImgPPMSBCreationWorkOrder",imgid:"overlayimgAttPPMSBCreationWorkOrder",valueIDPK:B.PrimaryId,PriviewData:(e,t,a,l)=>{M.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBCreationWorkOrder",ref:I,imgloading:E,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_494_L4_",timglist:e=>M.current.timglist(e),clearTempData:B.Add})))))),O&&r().createElement(S(),{openDialog:O,closeDialog:e=>F(e),formID:494,PrimID:B.PrimaryId,alert:(e,t,l)=>{"Approval Sent Succesfully"==e.message&&a.current.cardRefresh()},loading:t=>{e.loading(t)}})))}))},615:(e,t,a)=>{a.r(t),a.d(t,{PPMSBCreationWorkOrderPopUpTable:()=>U,default:()=>H}),a(95866);var l=a(92950),r=a.n(l),n=a(45237),i=a(36939),o=a(61201),d=a(50743),s=a(59009),m=a(80366),c=a(51673),p=a(19450),u=a(35025),S=a(64566),P=a(54180),C=a(47516),y=(a(14439),a(27848),a(42258)),B=a(40900),D=a(83032),g=(a(44117),a(86415)),I=a(99792),M=a(82952);function E(e){(0,n.useSelector)((e=>e.form));const[t,a]=(0,l.useState)([]),[i,o]=(0,l.useState)([]),[d,s]=(0,l.useState)(!1),[m,p]=(0,l.useState)([]),[u,S]=(0,l.useState)([]),[P,C]=(0,l.useState)([]),[M,E]=(0,l.useState)([]),[h,f]=(0,l.useState)([]),[T,v]=(0,l.useState)({id:"",type:""}),[k,N]=(0,l.useState)({}),[b,w]=(0,l.useState)(1),{cstate:O,cdispatch:F}=(0,g.ContextApi)(),[x,A]=(0,l.useState)({}),[W,L]=(0,l.useState)(!1),[R,K]=(0,l.useState)({}),[Z,G]=(0,l.useState)({current:1,pageSize:10}),[z,_]=(0,l.useState)(""),[q,V]=(0,l.useState)(""),[H,U]=(0,l.useState)({type:"PPMSBCreationWorkOrderIDPK",params:{}});(0,l.useEffect)((()=>{e.onload&&j(x,"PPMSBCreationWorkOrderIDPK"),s(!1)}),[e.onload]),(0,l.useEffect)((()=>{e.refresh&&j(H.params,"PPMSBCreationWorkOrderIDPK")}),[e.refresh]),(0,l.useEffect)((()=>{j(e.json,"PPMSBCreationWorkOrderIDPK"),N(e.json),document.getElementById("PPMSBCreationWorkOrderGridViewCard").style.width="100%"}),[e.json]);const j=(t,l)=>{let r=B.v.Api+"FP494S5/",n={data:{p1:t&&t.PPMSBCreationWorkOrderIDPK?t.PPMSBCreationWorkOrderIDPK:null,p2:t&&t.PPMSBCreationWorkOrderCode?t.PPMSBCreationWorkOrderCode:null,p3:t&&t.SBCreMRNo?t.SBCreMRNo:null,p4:t&&t.SBCreWorkOrder?t.SBCreWorkOrder:null,p5:t&&t.SBCreWoDateTime?t.SBCreWoDateTime:null,p6:t&&t.SBCreWoDateTimeType?t.SBCreWoDateTimeType:null,p7:t&&t.SBCreWoDateTimeBetween?t.SBCreWoDateTimeBetween:null,p8:t&&t.SBCreGeneratedTtm?t.SBCreGeneratedTtm:null,p9:t&&t.SBCreActualDate?t.SBCreActualDate:null,p10:t&&t.SBCreActualDateType?t.SBCreActualDateType:null,p11:t&&t.SBCreActualDateBetween?t.SBCreActualDateBetween:null,p12:t&&t.SBCreWoCompletedDate?t.SBCreWoCompletedDate:null,p13:t&&t.SBCreWoCompletedDateType?t.SBCreWoCompletedDateType:null,p14:t&&t.SBCreWoCompletedDateBetween?t.SBCreWoCompletedDateBetween:null,p15:t&&t.SBCreParentCreationKey?t.SBCreParentCreationKey:null,p16:t&&t.SBCreSLAHours?t.SBCreSLAHours:null,p17:t&&t.SBCreMaintenanceHours?t.SBCreMaintenanceHours:null,p18:null,p19:null,p20:t&&t.SBCreWithDrawEmpKey?t.SBCreWithDrawEmpKey:null,p21:null,p22:null,p23:t&&t.SBCreReschduleEmpKey?t.SBCreReschduleEmpKey:null,p24:null,p25:null,p26:t&&t.SBCreReworkEmpKey?t.SBCreReworkEmpKey:null,p27:t&&t.SBCrePPMLattitude?t.SBCrePPMLattitude:null,p28:t&&t.SBCrePPMLongitude?t.SBCrePPMLongitude:null,p29:null,p30:null,p31:null,p32:t&&t.SBCreXCreationAssetKey?t.SBCreXCreationAssetKey:null,p33:t&&t.SBCreXWorkOrder?t.SBCreXWorkOrder:null,p34:t&&t.SBCreXWoDate?t.SBCreXWoDate:null,p35:t&&t.SBCreXWoDateType?t.SBCreXWoDateType:null,p36:t&&t.SBCreXWoDateBetween?t.SBCreXWoDateBetween:null,p37:t&&t.SBCreChargeLedgerKey?t.SBCreChargeLedgerKey:null,p38:t&&t.SBCreCostLedgerKey?t.SBCreCostLedgerKey:null,p39:t&&t.SBMaterialRequestkey?t.SBMaterialRequestkey:null,p40:t&&t.SBApprovalKey?t.SBApprovalKey:null,p41:t&&t.SBTechStartDateTime?t.SBTechStartDateTime:null,p42:t&&t.SBTechStartDateTimeType?t.SBTechStartDateTimeType:null,p43:t&&t.SBTechStartDateTimeBetween?t.SBTechStartDateTimeBetween:null,p44:t&&t.SBTechEndDateTime?t.SBTechEndDateTime:null,p45:t&&t.SBTechEndDateTimeType?t.SBTechEndDateTimeType:null,p46:t&&t.SBTechEndDateTimeBetween?t.SBTechEndDateTimeBetween:null,p47:t&&t.SBTechName?t.SBTechName:null,p48:t&&t.SBTechKeys?t.SBTechKeys:null,p49:t&&t.HierarchyDetailsKeys?t.HierarchyDetailsKeys:null,p50:null,p51:null,p52:t&&t.ContractID?t.ContractID:null,p53:t&&t.LocalityID?t.LocalityID:null,p54:t&&t.BuildingID?t.BuildingID:null,p55:t&&t.FloorID?t.FloorID:null,p56:t&&t.SpotID?t.SpotID:null,p57:t&&t.DivisionID?t.DivisionID:null,p58:t&&t.DisciplineID?t.DisciplineID:null,p59:t&&t.FrequencyID?t.FrequencyID:null,p60:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p61:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p62:t&&t.PPMStageID?t.PPMStageID:null,p63:t&&t.ServiceTypeID?t.ServiceTypeID:null,p64:e.Dialogview?"1":null,p65:null,p66:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p67:t&&t.CreatedTtm?t.CreatedTtm:null,p68:t&&t.CreatedTtmType?t.CreatedTtmType:null,p69:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p70:null,p71:t&&t.ContractGroupID?t.ContractGroupID:null,p72:t&&t.ContractGroupCode?t.ContractGroupCode:null,p73:t&&t.ContractGroupName?t.ContractGroupName:null,p74:t&&t.TaxID?t.TaxID:null,p75:t&&t.TaxCode?t.TaxCode:null,p76:t&&t.TaxName?t.TaxName:null,p77:t&&t.TaxValue?t.TaxValue:null,p78:t&&t.CustomerID?t.CustomerID:null,p79:t&&t.CustomerCode?t.CustomerCode:null,p80:t&&t.CustomerName?t.CustomerName:null,p81:t&&t.ContractTypeID?t.ContractTypeID:null,p82:t&&t.ContractTypCode?t.ContractTypCode:null,p83:t&&t.ContractTypeName?t.ContractTypeName:null,p84:t&&t.ContractCategID?t.ContractCategID:null,p85:t&&t.ContractCategCode?t.ContractCategCode:null,p86:t&&t.ContractCategName?t.ContractCategName:null,p87:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p88:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p89:t&&t.ContractCode?t.ContractCode:null,p90:t&&t.ContractName?t.ContractName:null,p91:t&&t.LocalityGroupID?t.LocalityGroupID:null,p92:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p93:t&&t.LocalityGroupName?t.LocalityGroupName:null,p94:t&&t.CityID?t.CityID:null,p95:t&&t.CityCode?t.CityCode:null,p96:t&&t.CityName?t.CityName:null,p97:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p98:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p99:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p100:t&&t.LocalityCode?t.LocalityCode:null,p101:t&&t.LocalityName?t.LocalityName:null,p102:t&&t.DivisionCode?t.DivisionCode:null,p103:t&&t.DivisionName?t.DivisionName:null,p104:t&&t.DisciplineCode?t.DisciplineCode:null,p105:t&&t.DisciplineName?t.DisciplineName:null,p106:t&&t.FrequencyCode?t.FrequencyCode:null,p107:t&&t.FrequencyName?t.FrequencyName:null,p108:t&&t.PPMStageName?t.PPMStageName:null,p109:t&&t.StageSeqNo?t.StageSeqNo:null,p110:t&&t.ServiceTypCode?t.ServiceTypCode:null,p111:t&&t.ServiceTypeName?t.ServiceTypeName:null,p112:1,p113:10,p114:l,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,c.Z)(r,n,O.token[0]).then((e=>{if(e.Output.data){let t=e.Output.data;"PPMSBCreationWorkOrderIDPK"==l?(a(t),s(!1)):(o(t),s(!0))}}))};return r().createElement("div",{id:"PPMSBCreationWorkOrderGridViewCard"},r().createElement("div",{className:"GridViewChildCard"},r().createElement(D.Z,{name:z.DisplayName,count:z.Total,id:"PPMSBCreationWorkOrderPopUpTableSchema",showSearch:e.showSearch,type:"Schema",chipdata:i,showview:W,viewcomponent:W&&r().createElement(I.default,{ExpandDetailValue:!0,l4viewonly:W,data:R,editopen:function(e){K(e),document.getElementById("PPMSBCreationWorkOrderPopUpTableSchema").style.width="0",document.getElementById("PPMSBCreationWorkOrderPopUpTableSchema").style.padding="0",document.getElementById("PPMSBCreationWorkOrder-ThemeSlide1").style.width="3.3%",document.getElementById("PPMSBCreationWorkOrder-ThemeSlide1").style.background="none",document.getElementById("PPMSBCreationWorkOrder-Floatcnt").style.width="0",document.getElementById("PPMSBCreationWorkOrder-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}}),tablecomponent:r().createElement(y.Z,{dynamic:!0,name:CardName,tableData:i,TableVisibleItem:[],TableBodyItem:[]}),data:t,sendparams:A,getChildData:(e,t)=>{j(k,e,Z),setCardName(t.Name)},float:!0})))}const h=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const a=(0,l.useRef)(null),[i,o]=(0,l.useState)([]),[d,s]=(0,l.useState)([]),[m,p]=(0,l.useState)(!1),[u,S]=(0,l.useState)([]),[P,C]=(0,l.useState)([]),[y,D]=(0,l.useState)([]),[E,h]=(0,l.useState)([]),[f,T]=(0,l.useState)([]),[v,k]=(0,l.useState)({id:"",type:""}),[N,b]=(0,l.useState)({}),[w,O]=(0,l.useState)(1),{cstate:F,cdispatch:x}=(0,g.ContextApi)(),[A,W]=(0,l.useState)({}),[L,R]=(0,l.useState)(""),[K,Z]=(0,l.useState)(""),[G,z]=(0,l.useState)({type:"PPMSBCreationWorkOrder",params:{}}),[_,q]=(0,l.useState)(0),V=r().useContext(g.PPMSBCreationWorkOrderContext),[H,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)({});function J(e){$(e)}(0,l.useEffect)((()=>{p(!1)}),[]),(0,l.useEffect)((()=>{e.refresh&&ee(G.params,"PPMSBCreationWorkOrderIDPK")}),[e.refresh]),(0,l.useEffect)((()=>{ee(e.json,"PPMSBCreationWorkOrderIDPK",""),b(e.json),document.getElementById("PPMSBCreationWorkOrderGridViewCard").style.width="100%"}),[e.json]),(0,l.useImperativeHandle)(t,(()=>({countRefresh:e=>{ee(e,"PPMSBCreationWorkOrderIDPK")}})));const ee=(t,a,l)=>{l&&R(l),s([]),V.loading(!0);let r=B.v.Api+"FP494S12/",n={data:{p1:t&&t.PPMSBCreationWorkOrderIDPK?t.PPMSBCreationWorkOrderIDPK:null,p2:t&&t.PPMSBCreationWorkOrderCode?t.PPMSBCreationWorkOrderCode:null,p3:t&&t.SBCreMRNo?t.SBCreMRNo:null,p4:t&&t.SBCreWorkOrder?t.SBCreWorkOrder:null,p5:t&&t.SBCreWoDateTime?t.SBCreWoDateTime:null,p6:t&&t.SBCreWoDateTimeType?t.SBCreWoDateTimeType:null,p7:t&&t.SBCreWoDateTimeBetween?t.SBCreWoDateTimeBetween:null,p8:t&&t.SBCreGeneratedTtm?t.SBCreGeneratedTtm:null,p9:t&&t.SBCreActualDate?t.SBCreActualDate:null,p10:t&&t.SBCreActualDateType?t.SBCreActualDateType:null,p11:t&&t.SBCreActualDateBetween?t.SBCreActualDateBetween:null,p12:t&&t.SBCreWoCompletedDate?t.SBCreWoCompletedDate:null,p13:t&&t.SBCreWoCompletedDateType?t.SBCreWoCompletedDateType:null,p14:t&&t.SBCreWoCompletedDateBetween?t.SBCreWoCompletedDateBetween:null,p15:t&&t.SBCreParentCreationKey?t.SBCreParentCreationKey:null,p16:t&&t.SBCreSLAHours?t.SBCreSLAHours:null,p17:t&&t.SBCreMaintenanceHours?t.SBCreMaintenanceHours:null,p18:null,p19:null,p20:t&&t.SBCreWithDrawEmpKey?t.SBCreWithDrawEmpKey:null,p21:null,p22:null,p23:t&&t.SBCreReschduleEmpKey?t.SBCreReschduleEmpKey:null,p24:null,p25:null,p26:t&&t.SBCreReworkEmpKey?t.SBCreReworkEmpKey:null,p27:t&&t.SBCrePPMLattitude?t.SBCrePPMLattitude:null,p28:t&&t.SBCrePPMLongitude?t.SBCrePPMLongitude:null,p29:null,p30:null,p31:null,p32:t&&t.SBCreXCreationAssetKey?t.SBCreXCreationAssetKey:null,p33:t&&t.SBCreXWorkOrder?t.SBCreXWorkOrder:null,p34:t&&t.SBCreXWoDate?t.SBCreXWoDate:null,p35:t&&t.SBCreXWoDateType?t.SBCreXWoDateType:null,p36:t&&t.SBCreXWoDateBetween?t.SBCreXWoDateBetween:null,p37:t&&t.SBCreChargeLedgerKey?t.SBCreChargeLedgerKey:null,p38:t&&t.SBCreCostLedgerKey?t.SBCreCostLedgerKey:null,p39:t&&t.SBMaterialRequestkey?t.SBMaterialRequestkey:null,p40:t&&t.SBApprovalKey?t.SBApprovalKey:null,p41:t&&t.SBTechStartDateTime?t.SBTechStartDateTime:null,p42:t&&t.SBTechStartDateTimeType?t.SBTechStartDateTimeType:null,p43:t&&t.SBTechStartDateTimeBetween?t.SBTechStartDateTimeBetween:null,p44:t&&t.SBTechEndDateTime?t.SBTechEndDateTime:null,p45:t&&t.SBTechEndDateTimeType?t.SBTechEndDateTimeType:null,p46:t&&t.SBTechEndDateTimeBetween?t.SBTechEndDateTimeBetween:null,p47:t&&t.SBTechName?t.SBTechName:null,p48:t&&t.SBTechKeys?t.SBTechKeys:null,p49:t&&t.HierarchyDetailsKeys?t.HierarchyDetailsKeys:null,p50:null,p51:null,p52:t&&t.ContractID?t.ContractID:null,p53:t&&t.LocalityID?t.LocalityID:null,p54:t&&t.BuildingID?t.BuildingID:null,p55:t&&t.FloorID?t.FloorID:null,p56:t&&t.SpotID?t.SpotID:null,p57:t&&t.DivisionID?t.DivisionID:null,p58:t&&t.DisciplineID?t.DisciplineID:null,p59:t&&t.FrequencyID?t.FrequencyID:null,p60:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p61:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p62:t&&t.PPMStageID?t.PPMStageID:null,p63:t&&t.ServiceTypeID?t.ServiceTypeID:null,p64:e.Dialogview?"1":null,p65:null,p66:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p67:t&&t.CreatedTtm?t.CreatedTtm:null,p68:t&&t.CreatedTtmType?t.CreatedTtmType:null,p69:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p70:null,p71:t&&t.ContractGroupID?t.ContractGroupID:null,p72:t&&t.ContractGroupCode?t.ContractGroupCode:null,p73:t&&t.ContractGroupName?t.ContractGroupName:null,p74:t&&t.TaxID?t.TaxID:null,p75:t&&t.TaxCode?t.TaxCode:null,p76:t&&t.TaxName?t.TaxName:null,p77:t&&t.TaxValue?t.TaxValue:null,p78:t&&t.CustomerID?t.CustomerID:null,p79:t&&t.CustomerCode?t.CustomerCode:null,p80:t&&t.CustomerName?t.CustomerName:null,p81:t&&t.ContractTypeID?t.ContractTypeID:null,p82:t&&t.ContractTypCode?t.ContractTypCode:null,p83:t&&t.ContractTypeName?t.ContractTypeName:null,p84:t&&t.ContractCategID?t.ContractCategID:null,p85:t&&t.ContractCategCode?t.ContractCategCode:null,p86:t&&t.ContractCategName?t.ContractCategName:null,p87:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p88:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p89:t&&t.ContractCode?t.ContractCode:null,p90:t&&t.ContractName?t.ContractName:null,p91:t&&t.LocalityGroupID?t.LocalityGroupID:null,p92:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p93:t&&t.LocalityGroupName?t.LocalityGroupName:null,p94:t&&t.CityID?t.CityID:null,p95:t&&t.CityCode?t.CityCode:null,p96:t&&t.CityName?t.CityName:null,p97:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p98:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p99:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p100:t&&t.LocalityCode?t.LocalityCode:null,p101:t&&t.LocalityName?t.LocalityName:null,p102:t&&t.DivisionCode?t.DivisionCode:null,p103:t&&t.DivisionName?t.DivisionName:null,p104:t&&t.DisciplineCode?t.DisciplineCode:null,p105:t&&t.DisciplineName?t.DisciplineName:null,p106:t&&t.FrequencyCode?t.FrequencyCode:null,p107:t&&t.FrequencyName?t.FrequencyName:null,p108:t&&t.PPMStageName?t.PPMStageName:null,p109:t&&t.StageSeqNo?t.StageSeqNo:null,p110:t&&t.ServiceTypCode?t.ServiceTypCode:null,p111:t&&t.ServiceTypeName?t.ServiceTypeName:null,p112:1,p113:10,p114:a,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,c.Z)(r,n,F.token[0]).then((t=>{if(V.loading(!1),t.Output.data){let l=t.Output.data;if("PPMSBCreationWorkOrderIDPK"==a){o(l);let t=l.Child.filter((e=>"TotalWorkorder"==e.DisplayName)).map((e=>e.Total));e.showViewCount(t),p(!1)}else s(l),p(!0);z({type:a,params:n.data})}}))};return r().createElement("div",{id:"PPMSBCreationWorkOrderGridViewCard"},r().createElement("div",{className:"GridViewChildCard"},r().createElement(M.Z,{float:!0,name:L.DisplayName,count:L.Total,hideTitle:!0,id:"PPMSBCreationWorkOrderPopUpTableShow",showSearch:e.showSearch,type:"Show",chipdata:d,refresh:e=>V.refresh(e),showview:H,viewcomponent:H&&r().createElement(I.default,{ExpandDetailValue:!0,l4viewonly:H,data:Q,editopen:J}),tablecomponent:r().createElement(U,{ref:a,ApiType:"FP494S12",ApiParamType:G,IsSub:!1,viewtype:"viewonly",type:"show",data:d,searchParams:G.params,editdata:(e,t)=>{J(e)},Cardtype:Y,CardName:K}),data:i,sendparams:W,getChildData:(e,t)=>{R({DisplayName:e.DisplayName,Total:e.Total}),a.current.searchData(e,N,t),R(e),Z(e?e.DisplayName?.replace(/([A-Z])/g," $1").trim():"")}})))}));var f=a(43031),T=a(110),v=a(88995),k=a(5109),N=a(868),b=a(39327),w=(a(3212),a(24038)),O=a(79352),F=a(51209),x=a(8981),A=a(86893),W=a(53854),L=a(37106),R=a(5434),K=a(93521),Z=(a(79117),a(71168)),G=a.n(Z),z=a(65107),_=a(94986),q=a(15999),V=(a(11557),a(25108));window.clickFilter="";const H=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),y=(0,l.useRef)(null),D=(0,l.useRef)(null),I=((0,l.useRef)(null),(0,l.useRef)(null)),[M]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[Z]=(0,l.useState)("494"),[H,U]=(0,l.useState)(!1),[j,Y]=(0,l.useState)(!1),[X,Q]=(0,l.useState)(0),[$,J]=(0,l.useState)(0),[ee,te]=(0,l.useState)(0),[ae,le]=(0,l.useState)({current:1,pageSize:100}),[re,ne]=(0,l.useState)(""),[ie,oe]=(0,l.useState)([]),[de,se]=(0,l.useState)({val:"",column:""}),[me,ce]=(0,l.useState)([]),[pe,ue]=(0,l.useState)(!1),[Se,Pe]=(0,l.useState)(""),[Ce,ye]=(0,l.useState)(""),[Be,De]=(0,l.useState)(!1),[ge,Ie]=(0,l.useState)(!1),[Me,Ee]=(0,l.useState)([]),[he,fe]=(0,l.useState)([]),[Te,ve]=(0,l.useState)([]),[ke,Ne]=(0,l.useState)(!1),[be,we]=(0,l.useState)({children:[{name:"PPMSBCreationWorkOrder",children:[]}]}),[Oe,Fe]=(0,l.useState)(!0);let xe={PPMSBCreationWorkOrderIDPK:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreWoDateTimeType:"",SBCreWoDateTimeBetween:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreActualDateType:"",SBCreActualDateBetween:"",SBCreWoCompletedDate:"",SBCreWoCompletedDateType:"",SBCreWoCompletedDateBetween:"",SBCreParentCreationKey:"",SBCreSLAHours:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreXWoDateType:"",SBCreXWoDateBetween:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",SBApprovalKey:"",SBTechStartDateTime:"",SBTechStartDateTimeType:"",SBTechStartDateTimeBetween:"",SBTechEndDateTime:"",SBTechEndDateTimeType:"",SBTechEndDateTimeBetween:"",SBTechName:"",SBTechKeys:"",HierarchyDetailsKeys:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",ServiceTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PPMStageName:"",StageSeqNo:"",ServiceTypCode:"",ServiceTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ae,We]=(0,l.useState)(xe),[Le,Re]=(0,l.useState)(xe),[Ke,Ze]=(0,l.useState)(xe),[Ge,ze]=(0,l.useState)(xe),[_e,qe]=(0,l.useState)("asc"),[Ve,He]=(0,l.useState)(""),[Ue,je]=(0,l.useState)(!1),[Ye,Xe]=(0,l.useState)(!0),[Qe,$e]=(0,l.useState)(!1),[Je,et]=(0,l.useState)(!0),[tt,at]=(0,l.useState)({SBApprovalKey:"",SBTechKeys:"",SBTechStartDateTime:"",SBTechEndDateTime:"",SBTechName:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreSLAHours:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",ServiceTypeName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",PPMStageName:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreWoCompletedDate:"",SBCreParentCreationKey:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",HierarchyDetailsKeys:"",FlowDisplayName:"",FixonBusinessFlowName:""}),lt=(0,l.useContext)(e.context?e.context:g.PPMSBCreationWorkOrderContext),{cstate:rt,cdispatch:nt}=e.ContextApi?e.ContextApi:(0,g.ContextApi)(),[it,ot]=(0,l.useState)(!1),[dt,st]=(0,l.useState)([]),[mt,ct]=(0,l.useState)(0),[pt,ut]=(0,l.useState)(0),[St,Pt]=(0,l.useState)({current:1,pageSize:10}),[Ct,yt]=(0,l.useState)([]),[Bt,Dt]=(0,l.useState)([]),[gt,It]=(0,l.useState)(!1),[Mt]=(0,l.useState)(localStorage.getItem("Language")),[Et]=(0,l.useState)(localStorage.getItem("Language")),[ht,ft]=(0,l.useState)(!1),[Tt,vt]=G()("494"),[kt,Nt]=(0,l.useState)(0);let bt={SBApprovalKey:"",SBTechKeys:"",SBTechStartDateTime:"",SBTechEndDateTime:"",SBTechName:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreSLAHours:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",ServiceTypeName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",PPMStageName:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreWoCompletedDate:"",SBCreParentCreationKey:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",HierarchyDetailsKeys:"",FlowDisplayName:"",FixonBusinessFlowName:""};const wt=[{columns:Ct,data:re}];let Ot=(0,x.Z)();const Ft=e=>Ot?.[e]?Ot[e]:e,xt=e=>rt.language?.[e]?rt.language[e]:e;(0,l.useEffect)((()=>{rt.token.length>0&&At(ae,Se,"PPMSBCreationWorkOrderID")}),[rt.token]),(0,l.useEffect)((()=>{Zt(Tt)}),[Tt]),(0,l.useEffect)((()=>{ge||ke||Oe?ge?Re(Se):ke?Ze(Se):Oe&&ze(Se):(We(Se),rt.token.length>0&&At({current:1,pageSize:100},Se,"PPMSBCreationWorkOrderID"))}),[Se]),(0,l.useEffect)((()=>{!1===e.cardview&&et(e.cardview),e.Dialogview&&Y(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Rt(e.searchsafaritext,{current:ae.current,pageSize:ae.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Rt(e,{current:1,pageSize:100})},tableRefresh:()=>{At(ae,Se,"PPMSBCreationWorkOrderID")}})));const At=(e,t,a,l,r)=>{lt.loading(!0);let n=B.v.Api+"FP494S3/",i={data:{p1:l||(t&&t.PPMSBCreationWorkOrderIDPK?t.PPMSBCreationWorkOrderIDPK:null),p2:t&&t.PPMSBCreationWorkOrderCode?t.PPMSBCreationWorkOrderCode:null,p3:t&&t.SBCreMRNo?t.SBCreMRNo:null,p4:t&&t.SBCreWorkOrder?t.SBCreWorkOrder:null,p5:t&&t.SBCreWoDateTime?t.SBCreWoDateTime:null,p6:t&&t.SBCreWoDateTimeType?t.SBCreWoDateTimeType:null,p7:t&&t.SBCreWoDateTimeBetween?t.SBCreWoDateTimeBetween:null,p8:t&&t.SBCreGeneratedTtm?t.SBCreGeneratedTtm:null,p9:t&&t.SBCreActualDate?t.SBCreActualDate:null,p10:t&&t.SBCreActualDateType?t.SBCreActualDateType:null,p11:t&&t.SBCreActualDateBetween?t.SBCreActualDateBetween:null,p12:t&&t.SBCreWoCompletedDate?t.SBCreWoCompletedDate:null,p13:t&&t.SBCreWoCompletedDateType?t.SBCreWoCompletedDateType:null,p14:t&&t.SBCreWoCompletedDateBetween?t.SBCreWoCompletedDateBetween:null,p15:t&&t.SBCreParentCreationKey?t.SBCreParentCreationKey:null,p16:t&&t.SBCreSLAHours?t.SBCreSLAHours:null,p17:t&&t.SBCreMaintenanceHours?t.SBCreMaintenanceHours:null,p18:null,p19:null,p20:t&&t.SBCreWithDrawEmpKey?t.SBCreWithDrawEmpKey:null,p21:null,p22:null,p23:t&&t.SBCreReschduleEmpKey?t.SBCreReschduleEmpKey:null,p24:null,p25:null,p26:t&&t.SBCreReworkEmpKey?t.SBCreReworkEmpKey:null,p27:t&&t.SBCrePPMLattitude?t.SBCrePPMLattitude:null,p28:t&&t.SBCrePPMLongitude?t.SBCrePPMLongitude:null,p29:null,p30:null,p31:null,p32:t&&t.SBCreXCreationAssetKey?t.SBCreXCreationAssetKey:null,p33:t&&t.SBCreXWorkOrder?t.SBCreXWorkOrder:null,p34:t&&t.SBCreXWoDate?t.SBCreXWoDate:null,p35:t&&t.SBCreXWoDateType?t.SBCreXWoDateType:null,p36:t&&t.SBCreXWoDateBetween?t.SBCreXWoDateBetween:null,p37:t&&t.SBCreChargeLedgerKey?t.SBCreChargeLedgerKey:null,p38:t&&t.SBCreCostLedgerKey?t.SBCreCostLedgerKey:null,p39:t&&t.SBMaterialRequestkey?t.SBMaterialRequestkey:null,p40:t&&t.SBApprovalKey?t.SBApprovalKey:null,p41:t&&t.SBTechStartDateTime?t.SBTechStartDateTime:null,p42:t&&t.SBTechStartDateTimeType?t.SBTechStartDateTimeType:null,p43:t&&t.SBTechStartDateTimeBetween?t.SBTechStartDateTimeBetween:null,p44:t&&t.SBTechEndDateTime?t.SBTechEndDateTime:null,p45:t&&t.SBTechEndDateTimeType?t.SBTechEndDateTimeType:null,p46:t&&t.SBTechEndDateTimeBetween?t.SBTechEndDateTimeBetween:null,p47:t&&t.SBTechName?t.SBTechName:null,p48:t&&t.SBTechKeys?t.SBTechKeys:null,p49:t&&t.HierarchyDetailsKeys?t.HierarchyDetailsKeys:null,p50:"DraftPPMSBCreationWorkOrderID"==a?"1":"0",p51:null,p52:t&&t.ContractID?t.ContractID:null,p53:t&&t.LocalityID?t.LocalityID:null,p54:t&&t.BuildingID?t.BuildingID:null,p55:t&&t.FloorID?t.FloorID:null,p56:t&&t.SpotID?t.SpotID:null,p57:t&&t.DivisionID?t.DivisionID:null,p58:t&&t.DisciplineID?t.DisciplineID:null,p59:t&&t.FrequencyID?t.FrequencyID:null,p60:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p61:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p62:t&&t.PPMStageID?t.PPMStageID:null,p63:t&&t.ServiceTypeID?t.ServiceTypeID:null,p64:t&&t.IsActive,p65:null,p66:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p67:t&&t.CreatedTtm?t.CreatedTtm:null,p68:t&&t.CreatedTtmType?t.CreatedTtmType:null,p69:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p70:null,p71:t&&t.ContractGroupID?t.ContractGroupID:null,p72:t&&t.ContractGroupCode?t.ContractGroupCode:null,p73:t&&t.ContractGroupName?t.ContractGroupName:null,p74:t&&t.TaxID?t.TaxID:null,p75:t&&t.TaxCode?t.TaxCode:null,p76:t&&t.TaxName?t.TaxName:null,p77:t&&t.TaxValue?t.TaxValue:null,p78:t&&t.CustomerID?t.CustomerID:null,p79:t&&t.CustomerCode?t.CustomerCode:null,p80:t&&t.CustomerName?t.CustomerName:null,p81:t&&t.ContractTypeID?t.ContractTypeID:null,p82:t&&t.ContractTypCode?t.ContractTypCode:null,p83:t&&t.ContractTypeName?t.ContractTypeName:null,p84:t&&t.ContractCategID?t.ContractCategID:null,p85:t&&t.ContractCategCode?t.ContractCategCode:null,p86:t&&t.ContractCategName?t.ContractCategName:null,p87:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p88:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p89:t&&t.ContractCode?t.ContractCode:null,p90:t&&t.ContractName?t.ContractName:null,p91:t&&t.LocalityGroupID?t.LocalityGroupID:null,p92:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p93:t&&t.LocalityGroupName?t.LocalityGroupName:null,p94:t&&t.CityID?t.CityID:null,p95:t&&t.CityCode?t.CityCode:null,p96:t&&t.CityName?t.CityName:null,p97:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p98:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p99:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p100:t&&t.LocalityCode?t.LocalityCode:null,p101:t&&t.LocalityName?t.LocalityName:null,p102:t&&t.DivisionCode?t.DivisionCode:null,p103:t&&t.DivisionName?t.DivisionName:null,p104:t&&t.DisciplineCode?t.DisciplineCode:null,p105:t&&t.DisciplineName?t.DisciplineName:null,p106:t&&t.FrequencyCode?t.FrequencyCode:null,p107:t&&t.FrequencyName?t.FrequencyName:null,p108:t&&t.PPMStageName?t.PPMStageName:null,p109:t&&t.StageSeqNo?t.StageSeqNo:null,p110:t&&t.ServiceTypCode?t.ServiceTypCode:null,p111:t&&t.ServiceTypeName?t.ServiceTypeName:null,p112:l?1:e.current,p113:e.pageSize,p114:a,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,c.Z)(n,i,rt.token[0]).then((l=>{if("200"==l.Output.status.code)if(l.Output.data.length>0){if(l.Output.data){let t=0;l.Output.data.length>0?(t=parseFloat(l.Output.data[0].TotalCount,10)/10,J(l.Output.data[0].TotalCount),nt({type:"count",payload:l.Output.data[0].TotalCount}),te(l.Output.data[0].DraftCnt)):(t=0,J(0),nt({type:"count",payload:0}),te(0)),10==e.pageSize?Q(Math.ceil(t)):20==e.pageSize?Q(Math.ceil(t/2)):50==e.pageSize?Q(Math.ceil(t/5)):100==e.pageSize&&Q(Math.ceil(t/10)),ce(l.Output.data),lt.loading(!1)}"DraftPPMSBCreationWorkOrderID"===a?(je(!0),De(!1)):je(!1)}else"DraftPPMSBCreationWorkOrderID"===a?(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),je(!1),lt.loading(!1)):(je(!1),ce([]),le({current:1,pageSize:100}),Q(0),J(0),lt.loading(!1),Object.values(t).some((e=>e))&&(lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),document.getElementById("PPMSBCreationWorkOrder-MainTable").style.display="block"));else lt.alert({open:!0,color:"warning",message:[l.Output.status.message]}),lt.loading(!1)}))},Wt=()=>{pe?(document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSBCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.display="none",ue(!1),ge?(document.getElementById("PPMSBCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"):Je?ke?(document.getElementById("PPMSBCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBCreationWorkOrdercoldiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrdercoldiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.width="25%",document.getElementById("PPMSBCreationWorkOrderTabDiv").style.width="75%",document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.display="block",ue(!0),document.getElementById("PPMSBCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px"),De(!1),window.clickFilter=!pe},Lt=()=>{Be?(document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSBCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.display="none",document.getElementById("PPMSBCreationWorkOrdercoldiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrdercoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.width="25%",document.getElementById("PPMSBCreationWorkOrderTabDiv").style.width="75%",document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.display="block",document.getElementById("PPMSBCreationWorkOrderfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBCreationWorkOrdercoldiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrdercoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),ue(!1)};function Rt(e,t){lt.loading(!0);const a=B.v.Api+"FP494S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Ue?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,l,rt.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let r=0;e.Output.data.length>0?(r=parseFloat(e.Output.data[0].TotalCount,10)/10,J(e.Output.data[0].TotalCount),te(e.Output.data[0].DraftCnt)):(r=0,J(0),te(0)),10==t.pageSize?Q(Math.ceil(r)):20==t.pageSize?Q(Math.ceil(r/2)):50==t.pageSize?Q(Math.ceil(r/5)):100==t.pageSize&&Q(Math.ceil(r/10)),ce(e.Output.data);for(var a=document.querySelectorAll("#PPMSBCreationWorkOrderTable td"),l=0;l<a.length;++l)a.forEach((function(e,t){e.textContent.toLowerCase().includes(Ce.toLowerCase())&&Ce.length>0&&(e.style.color="#ffa502")}));lt.loading(!1)}else ce([]),le({current:1,pageSize:100}),Q(0),J(0),te(0),lt.loading(!1),lt.alert({open:!0,color:"warning",message:["There is no Record Found"]});else lt.alert({open:!0,color:"warning",message:[e.Output.status.message]}),lt.loading(!1)}))}function Kt(e){"Table"==e?(document.getElementById("PPMSBCreationWorkOrder-TabView").classList.add("ViewBtnAct"),document.getElementById("PPMSBCreationWorkOrder-ShowView").classList.remove("ViewBtnAct"),Ie(!1),Ne(!1),Fe(!1)):"Grid"==e?(document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSBCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.display="none",document.getElementById("PPMSBCreationWorkOrderfildiv").style.width="35px",document.getElementById("PPMSBCreationWorkOrderfildiv").getElementsByTagName("svg")[0].style.padding="15%",Ie(!0),Ne(!1),Fe(!1),ue(!1),De(!1),et(!0),document.querySelector('[data-bid="494List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Grid"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="494Tile"]').classList.remove("buttonGrpActive")):"Bubble"==e?(document.getElementById("PPMSBCreationWorkOrder-TabView").classList.remove("ViewBtnAct"),document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.width="0%",document.getElementById("PPMSBCreationWorkOrderTabDiv").style.width="100%",document.getElementById("PPMSBCreationWorkOrderFilterDiv").style.display="none",Ne(!0),Ie(!1),Fe(!1),ue(!1),De(!1),et(!0)):"Share"==e?(document.getElementById("PPMSBCreationWorkOrder-TabView").classList.remove("ViewBtnAct"),document.querySelector('[data-bid="494List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Grid"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Share"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="494Tile"]').classList.remove("buttonGrpActive"),Ne(!1),Ie(!1),Fe(!0),ue(!1),De(!1),et(!0)):"List"==e?(Ie(!1),Fe(!1),et(!0),It(!1),document.querySelector('[data-bid="494List"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="494Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Tile"]').classList.remove("buttonGrpActive"),At(ae,Se,"PPMSBCreationWorkOrderID")):"Card"==e?(et(!1),It(!1),document.querySelector('[data-bid="494List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Card"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="494Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Tile"]').classList.remove("buttonGrpActive")):"Tile"==e?(It(!0),et(!1),document.querySelector('[data-bid="494List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Tile"]').classList.add("buttonGrpActive")):"Show"==e&&(document.querySelector('[data-bid="494List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Tile"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="494Show"]').classList.add("buttonGrpActive"),Ne(!1),Ie(!1),Fe(!0),et(!0),pe&&Lt())}function Zt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,fieldname:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]}),"IsShow"==e.FieldName&&nt({type:"IsShow",payload:!0})})),nt({type:"language",payload:Object.assign({},...r)}),at(a.reduce(((e,t)=>(e[t]="",e)),{})),Ee(e),fe(t),ve(a),yt(l),Dt(a)}function Gt(e,t){lt.edit(e),ue(!1),document.getElementById("PPMSBCreationWorkOrder-Detail").style.width="64%",document.getElementById("PPMSBCreationWorkOrder-Detail").style.display="block",document.getElementById("PPMSBCreationWorkOrder-Table").style.width="35%",document.getElementById("PPMSBCreationWorkOrder-TabView").classList.add("ViewButtonAct"),document.getElementById("PPMSBCreationWorkOrder-GridView").classList.remove("ViewButtonAct"),document.getElementById("PPMSBCreationWorkOrder-BubbleView").classList.remove("ViewButtonAct"),Ie(!1),Ne(!1),Fe(!1);let a={SBApprovalKey:"",SBTechKeys:"",SBTechStartDateTime:"",SBTechEndDateTime:"",SBTechName:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreSLAHours:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",ServiceTypeID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",PPMStageID:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreWoCompletedDate:"",SBCreParentCreationKey:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",HierarchyDetailsKeys:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:""};We(a),At({current:1,pageSize:100},a,"PPMSBCreationWorkOrderID")}function zt(e){lt.loading(!0);let t=B.v.Api+"FP494S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(t,a,rt.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,ut(t.Output.data[0].TotalCount)):(a=0,ut(0)),10==e.pageSize?ct(Math.ceil(a)):20==e.pageSize?ct(Math.ceil(a/2)):50==e.pageSize?ct(Math.ceil(a/5)):100==e.pageSize&&ct(Math.ceil(a/10)),st(t.Output.data),lt.loading(!1)}else lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),lt.loading(!1)}))}return(0,l.useEffect)((()=>{$e(e.ExpandTableValue)}),[e.ExpandTableValue]),r().createElement("div",null,r().createElement(i.Z,{expanded:Ye,onChange:()=>()=>{Xe(Qe)}},r().createElement(d.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100 L3Header"},r().createElement("div",null,r().createElement("div",{className:"displayFlex"},Ue?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("div",{id:"fld494L4TCKeyboardBackspaceRounded",onClick:()=>{At(ae,xe,"PPMSBCreationWorkOrderID"),je(!1)}},r().createElement(N.ZP,{title:"List",placement:"top"},r().createElement(R.aQX,{className:"BackBtnIcon"}))),r().createElement("div",{id:"fld494L4TCDraftP",onClick:()=>At(ae,xe,"DraftPPMSBCreationWorkOrderID")},r().createElement(N.ZP,{title:"Draft",placement:"top"},r().createElement("p",{className:"DraftP"},"Drafts(",$,")")))):r().createElement("div",{className:"ListHeader displayFlex"},e.ExpandTableValue?Ye?r().createElement(u.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!1)}}):r().createElement(S.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!0)}}):null,r().createElement("p",{className:"ListP",title:"10.0.0.46-6:37:15 PM-31-5[494]",onClick:()=>e.ExpandTableValue&&Xe(!Ye)},`${xt("494")} (${Oe?kt:$})`)))),r().createElement("div",null,ge||ke||Oe||Ue?null:r().createElement("div",{className:"displayFlex"},r().createElement("div",{id:"fld494L4TCSearchBar",className:"searchbar",style:{marginRight:"2%"}},r().createElement(w.Z,{className:"search_input",type:"text",id:"PPMSBCreationWorkOrdergridsearch",placeholder:"Search",value:Ce,onChange:e=>{if(ye(e),"0"==e.length)return At(ae,Se,Ue?"DraftPPMSBCreationWorkOrderID":"PPMSBCreationWorkOrderID",Ue&&"DraftPage"),!1;Rt(e,{current:1,pageSize:100})}}),r().createElement("div",{className:"search_icon"},Ce?r().createElement("div",{id:"fld494L4TCInputCloseIcon",onClick:()=>{ye(""),At(ae,Se,Ue?"DraftPPMSBCreationWorkOrderID":"PPMSBCreationWorkOrderID",Ue&&"DraftPage")}},r().createElement(m.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld494L4TCInputSearchIcon",onClick:()=>{ye(""),tableRefresh()}},r().createElement(v.Z,{className:"InputSearchIcon"})))))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"PPMSBCreationWorkOrder-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},!Ue&&r().createElement("div",{frmctrlid:"fld494L4TCFilterDataIsDraft",id:"PPMSBCreationWorkOrderfildiv",className:"buttoncard",onClick:()=>{Wt()}},r().createElement(N.ZP,{title:Ft("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(C.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ft("Filter Data"))),r().createElement(P.Z,{formctrlidprint:"fld494L4TCExportPrint",formctrlidexport:"fld494L4TCExportTable",formctrlidrefresh:"fld494L4TCExportRefresh",title:"494",data:ie,exportData:wt,Items:Bt,columnIndex:Ct,TableVisibleItem:he,userGridViewFormID:Z,TableTotalCount:$,triggerApi:e=>{((e,t,l,r,n)=>{if(0===$)return lt.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;bt[t]=e,lt.loading(!0);let i=B.v.Api+"FP494S3/",o={data:{p1:e&&e.PPMSBCreationWorkOrderIDPK?e.PPMSBCreationWorkOrderIDPK:null,p2:e&&e.PPMSBCreationWorkOrderCode?e.PPMSBCreationWorkOrderCode:null,p3:e&&e.SBCreMRNo?e.SBCreMRNo:null,p4:e&&e.SBCreWorkOrder?e.SBCreWorkOrder:null,p5:e&&e.SBCreWoDateTime?e.SBCreWoDateTime:null,p6:e&&e.SBCreWoDateTimeType?e.SBCreWoDateTimeType:null,p7:e&&e.SBCreWoDateTimeBetween?e.SBCreWoDateTimeBetween:null,p8:e&&e.SBCreGeneratedTtm?e.SBCreGeneratedTtm:null,p9:e&&e.SBCreActualDate?e.SBCreActualDate:null,p10:e&&e.SBCreActualDateType?e.SBCreActualDateType:null,p11:e&&e.SBCreActualDateBetween?e.SBCreActualDateBetween:null,p12:e&&e.SBCreWoCompletedDate?e.SBCreWoCompletedDate:null,p13:e&&e.SBCreWoCompletedDateType?e.SBCreWoCompletedDateType:null,p14:e&&e.SBCreWoCompletedDateBetween?e.SBCreWoCompletedDateBetween:null,p15:e&&e.SBCreParentCreationKey?e.SBCreParentCreationKey:null,p16:e&&e.SBCreSLAHours?e.SBCreSLAHours:null,p17:e&&e.SBCreMaintenanceHours?e.SBCreMaintenanceHours:null,p18:null,p19:null,p20:e&&e.SBCreWithDrawEmpKey?e.SBCreWithDrawEmpKey:null,p21:null,p22:null,p23:e&&e.SBCreReschduleEmpKey?e.SBCreReschduleEmpKey:null,p24:null,p25:null,p26:e&&e.SBCreReworkEmpKey?e.SBCreReworkEmpKey:null,p27:e&&e.SBCrePPMLattitude?e.SBCrePPMLattitude:null,p28:e&&e.SBCrePPMLongitude?e.SBCrePPMLongitude:null,p29:null,p30:null,p31:null,p32:e&&e.SBCreXCreationAssetKey?e.SBCreXCreationAssetKey:null,p33:e&&e.SBCreXWorkOrder?e.SBCreXWorkOrder:null,p34:e&&e.SBCreXWoDate?e.SBCreXWoDate:null,p35:e&&e.SBCreXWoDateType?e.SBCreXWoDateType:null,p36:e&&e.SBCreXWoDateBetween?e.SBCreXWoDateBetween:null,p37:e&&e.SBCreChargeLedgerKey?e.SBCreChargeLedgerKey:null,p38:e&&e.SBCreCostLedgerKey?e.SBCreCostLedgerKey:null,p39:e&&e.SBMaterialRequestkey?e.SBMaterialRequestkey:null,p40:e&&e.SBApprovalKey?e.SBApprovalKey:null,p41:e&&e.SBTechStartDateTime?e.SBTechStartDateTime:null,p42:e&&e.SBTechStartDateTimeType?e.SBTechStartDateTimeType:null,p43:e&&e.SBTechStartDateTimeBetween?e.SBTechStartDateTimeBetween:null,p44:e&&e.SBTechEndDateTime?e.SBTechEndDateTime:null,p45:e&&e.SBTechEndDateTimeType?e.SBTechEndDateTimeType:null,p46:e&&e.SBTechEndDateTimeBetween?e.SBTechEndDateTimeBetween:null,p47:e&&e.SBTechName?e.SBTechName:null,p48:e&&e.SBTechKeys?e.SBTechKeys:null,p49:e&&e.HierarchyDetailsKeys?e.HierarchyDetailsKeys:null,p50:Ue?"1":"0",p51:null,p52:e&&e.ContractID?e.ContractID:null,p53:e&&e.LocalityID?e.LocalityID:null,p54:e&&e.BuildingID?e.BuildingID:null,p55:e&&e.FloorID?e.FloorID:null,p56:e&&e.SpotID?e.SpotID:null,p57:e&&e.DivisionID?e.DivisionID:null,p58:e&&e.DisciplineID?e.DisciplineID:null,p59:e&&e.FrequencyID?e.FrequencyID:null,p60:e&&e.PPMBusinessFlowID?e.PPMBusinessFlowID:null,p61:e&&e.PPMFixonBusinessFlowID?e.PPMFixonBusinessFlowID:null,p62:e&&e.PPMStageID?e.PPMStageID:null,p63:e&&e.ServiceTypeID?e.ServiceTypeID:null,p64:e&&e.IsActive,p65:null,p66:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p67:e&&e.CreatedTtm?e.CreatedTtm:null,p68:e&&e.CreatedTtmType?e.CreatedTtmType:null,p69:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p70:null,p71:e&&e.ContractGroupID?e.ContractGroupID:null,p72:e&&e.ContractGroupCode?e.ContractGroupCode:null,p73:e&&e.ContractGroupName?e.ContractGroupName:null,p74:e&&e.TaxID?e.TaxID:null,p75:e&&e.TaxCode?e.TaxCode:null,p76:e&&e.TaxName?e.TaxName:null,p77:e&&e.TaxValue?e.TaxValue:null,p78:e&&e.CustomerID?e.CustomerID:null,p79:e&&e.CustomerCode?e.CustomerCode:null,p80:e&&e.CustomerName?e.CustomerName:null,p81:e&&e.ContractTypeID?e.ContractTypeID:null,p82:e&&e.ContractTypCode?e.ContractTypCode:null,p83:e&&e.ContractTypeName?e.ContractTypeName:null,p84:e&&e.ContractCategID?e.ContractCategID:null,p85:e&&e.ContractCategCode?e.ContractCategCode:null,p86:e&&e.ContractCategName?e.ContractCategName:null,p87:e&&e.ConPaymentTermsID?e.ConPaymentTermsID:null,p88:e&&e.ConPaymentTermsName?e.ConPaymentTermsName:null,p89:e&&e.ContractCode?e.ContractCode:null,p90:e&&e.ContractName?e.ContractName:null,p91:e&&e.LocalityGroupID?e.LocalityGroupID:null,p92:e&&e.LocalityGroupCode?e.LocalityGroupCode:null,p93:e&&e.LocalityGroupName?e.LocalityGroupName:null,p94:e&&e.CityID?e.CityID:null,p95:e&&e.CityCode?e.CityCode:null,p96:e&&e.CityName?e.CityName:null,p97:e&&e.AdminLocalityTypeID?e.AdminLocalityTypeID:null,p98:e&&e.AdminLocalityTypeCode?e.AdminLocalityTypeCode:null,p99:e&&e.AdminLocalityTypeName?e.AdminLocalityTypeName:null,p100:e&&e.LocalityCode?e.LocalityCode:null,p101:e&&e.LocalityName?e.LocalityName:null,p102:e&&e.DivisionCode?e.DivisionCode:null,p103:e&&e.DivisionName?e.DivisionName:null,p104:e&&e.DisciplineCode?e.DisciplineCode:null,p105:e&&e.DisciplineName?e.DisciplineName:null,p106:e&&e.FrequencyCode?e.FrequencyCode:null,p107:e&&e.FrequencyName?e.FrequencyName:null,p108:e&&e.PPMStageName?e.PPMStageName:null,p109:e&&e.StageSeqNo?e.StageSeqNo:null,p110:e&&e.ServiceTypCode?e.ServiceTypCode:null,p111:e&&e.ServiceTypeName?e.ServiceTypeName:null,p112:ae.current,p113:$,p114:Ue?"DraftPPMSBCreationWorkOrderID":"PPMSBCreationWorkOrderID",p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};lt.loading(!1),lt.alert({open:!0,color:"success",message:[`${xt(494)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(i,o,rt.token[0],n).then((e=>{(0,K.PDF_Excel_Generate)(e,lt,Bt,ne,a,n)}))})(Se,de.column,0,0,e)},Refresh:()=>{if(ye(""),Pe(Se),Oe)return V.log("test"),y.current.countRefresh(Se),!1;At({current:1,pageSize:10},Se,"PPMSBCreationWorkOrderID"),I.current&&I.current.clearItem(),le({current:1,pageSize:10})},disabledPrint:!rt.AccessRights.IsPrint,disabledExport:!rt.AccessRights.IsExport,ref:a}),!Ue&&r().createElement("div",{className:"buttoncard",onClick:()=>ft(!ht)},r().createElement("span",null,ht?r().createElement(N.ZP,{disableFocusListener:!0,title:"Less",placement:"top"},r().createElement("span",{id:"fld494L4TCLess"},r().createElement(W.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(N.ZP,{disableFocusListener:!0,title:"More",placement:"top"},r().createElement("span",{id:"fld494L4TCMore"},r().createElement(W.ilJ,{className:"tableFilterColumnIcon"}))))),!Ue&&ht?r().createElement("div",{className:"EntryHeaderMore"},ge||ke||Oe||Ue?null:!Ue&&r().createElement("div",null,r().createElement("div",{frmctrlid:"fld494L4TCFilterDataIsAdd",id:"PPMSBCreationWorkOrdercoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Lt()}},r().createElement(N.ZP,{title:Ft("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(b.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ft("Manage Columns")))),!Ue&&H&&!ge&&!Oe&&!j&&r().createElement("div",{frmctrlid:"fld494L4TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(N.ZP,{title:Ft("Migration"),placement:"top"},r().createElement("div",null,r().createElement(O.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ft("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&r().createElement("div",null,r().createElement("div",{frmctrlid:"fld494L4TCTableScrollData",id:"PPMSBCreationWorkOrdercoldiv",className:"buttoncard",onClick:()=>{it?ot(!1):(ot(!0),zt({current:1,pageSize:100}))}},r().createElement(N.ZP,{title:Ft("Table Scroll Data"),placement:"top"},r().createElement("div",null,r().createElement(q.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ft("Table Scroll Data")))),rt.AccessRights.IsAdd&&!Oe&&r().createElement("div",null,r().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:ee,showZero:!0},r().createElement("div",{id:"fld494L4TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{At({current:1,pageSize:100},xe,"DraftPPMSBCreationWorkOrderID"),je(!0),De(!1),nt({type:"IsDraft",payload:!0}),document.getElementById("PPMSBCreationWorkOrderTabDiv").style.width="100%"}},r().createElement(N.ZP,{title:"Drafts",placement:"top"},r().createElement("div",null,r().createElement(L.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ft("Drafts")))))):""),!Ue&&!j&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},rt.IsShow?r().createElement("div",{className:"buttonGrpUnActive buttonGrpActive","data-bid":"494Show",id:"fld494L4TCShowView",onClick:()=>{Fe(!0),Kt("Show")}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(A.aCJ,null)),r().createElement("span",null,Ft("Show"))):"",r().createElement("div",{className:"buttonGrpUnActive","data-bid":"494List",id:"fld494L4TCListView",onClick:()=>{Kt("List")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(W.umT,null)),r().createElement("span",null,Ft("List"))),r().createElement("div",{className:"buttonGrpUnActive","data-bid":"494Card",id:"fld494L4TCCardView",onClick:()=>{Kt("Card")}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(A.aCJ,null)),r().createElement("span",null,Ft("Card"))),r().createElement("div",{className:"buttonGrpUnActive","data-bid":"494Tile",id:"fld494L4TCTileView",onClick:()=>{Kt("Tile")},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(R.f_H,null)),r().createElement("span",null,Ft("Tile"))))))),ge||ke||Oe?null:it?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(f.Z,{count:mt,color:"primary",page:St.current,onChange:(e,t)=>{Pt({current:t,pageSize:St.pageSize}),ct(t),zt({current:t,pageSize:St.pageSize})}}),r().createElement("div",null,r().createElement(T.Z,{value:St.pageSize,frmctrlid:"fld494L4TCSelectPagination",onChange:e=>{Pt({current:1,pageSize:e.target.value}),zt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page"},"/ per page Of (",pt,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(f.Z,{count:X,siblingCount:0,color:"primary",page:ae.current,onChange:(e,t)=>{le({current:t,pageSize:ae.pageSize}),Ce.length>0?Rt(Ce,{current:t,pageSize:ae.pageSize}):At({current:t,pageSize:ae.pageSize},Se,Ue?"DraftPPMSBCreationWorkOrderID":"PPMSBCreationWorkOrderID")}}),r().createElement("div",null,r().createElement(T.Z,{value:ae.pageSize,frmctrlid:"fld494L4TCSelectPagination",onChange:e=>{le({current:1,pageSize:e.target.value}),Ce.length>0?Rt(Ce,{current:1,pageSize:e.target.value}):At({current:1,pageSize:e.target.value},Ae,Ue?"DraftPPMSBCreationWorkOrderID":"PPMSBCreationWorkOrderID")},className:"BootstrapInputStyle"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page"},"/ per page of (",$,") "))),r().createElement("div",{id:"PPMSBCreationWorkOrder-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},!Ue&&r().createElement("div",{id:"PPMSBCreationWorkOrderFilterDiv",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},r().createElement("div",{style:{display:pe?"block":"none"}},r().createElement(p.default,{ref:D,userGrid:Tt,CloseBtnClk:()=>Wt(),searchData:e=>Pe(e),formID:Z,data:()=>{},visibleData:()=>{},token:rt.token[0],alertmsg:(e,t)=>lt.alert({open:!0,color:e,message:[t]})})),Be&&!ge&&!ke&&r().createElement(k.Z,{frmctrlid:"fld494L4TCTableColumnOrder",loading:e=>lt.loading(e),AltMsg:(e,t)=>lt.alert({open:!0,color:t,message:[e]}),select:Be,userID:M,userGridViewFormID:Z,saved:(e,t)=>{e&&Zt(t),vt(t)},Token:rt.token[0]})),r().createElement("div",{id:"PPMSBCreationWorkOrderTabDiv",style:{width:"100%",position:"relative",height:"66vh"}},Je?r().createElement("div",null,ge&&r().createElement(E,{onLoad:ge,showSearch:pe,data:(e,t)=>{Gt(e)},json:Le}),Oe&&r().createElement(h,{ref:y,onload:Oe,showSearch:!1,showViewCount:e=>Nt(e),data:(e,t)=>{Gt(e)},json:Se}),!ge&&!Oe&&r().createElement("div",null,it?r().createElement(_.Z,{data:dt,expanded:()=>{},edit:lt.edit}):r().createElement(z.Z,{ref:I,frmctrlid:"tblcs_494_L4_",id:"PPMSBCreationWorkOrderTable",headerdata:he,tablesearchparams:tt,searchvalue:e=>{let t={...Se,...e};at(e),Pe(t),le({current:1,pageSize:100}),At({current:1,pageSize:100},t,Ue?"DraftPPMSBCreationWorkOrderID":"PPMSBCreationWorkOrderID",Ue&&"DraftPage")},bodydata:me,ondrag:(e,t)=>{lt.edit(t,Ue,!0)},bodyitem:Te,visibleitem:he,isdraft:Ue,action:"none",tableID:Z,accessrights:rt.AccessRights,expanded:()=>{},edit:lt.edit,viewtoggle:()=>rt.viewtoggle,tf:xt,isexpanded:!j||Qe}))):r().createElement(F.Z,{frmctrlid:"fld494L4TCExpandedCardDual",data:me,id:"PPMSBCreationWorkOrder",title:"SBCreWorkOrder",cardTile:!!gt,visibleitem:he,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{j?lt.select(e):("edit"==t?lt.edit(e,t):lt.edit(e,!1,!0),Qe&&(ue(!1),De(!1)))}})))))))})),U=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),s=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[u,S]=G()("494"),[C,y]=(0,l.useState)(!1),[D,I]=(0,l.useState)(0),[M,E]=(0,l.useState)(0),[h,v]=(0,l.useState)({current:1,pageSize:100}),[k,N]=(0,l.useState)(""),[b,w]=(0,l.useState)([]),[O,F]=(0,l.useState)({val:"",column:""}),[A,W]=(0,l.useState)([]),[L,R]=(0,l.useState)(!1),[Z,_]=(0,l.useState)(""),[q,V]=(0,l.useState)([]),[H,U]=(0,l.useState)([]),[j,Y]=(0,l.useState)([]),X=(0,l.useContext)(g.PPMSBCreationWorkOrderContext),{cstate:Q,cdispatch:$}=(0,g.ContextApi)();let J={PPMSBCreationWorkOrderIDPK:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreWoDateTimeType:"",SBCreWoDateTimeBetween:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreActualDateType:"",SBCreActualDateBetween:"",SBCreWoCompletedDate:"",SBCreWoCompletedDateType:"",SBCreWoCompletedDateBetween:"",SBCreParentCreationKey:"",SBCreSLAHours:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreXWoDateType:"",SBCreXWoDateBetween:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",SBApprovalKey:"",SBTechStartDateTime:"",SBTechStartDateTimeType:"",SBTechStartDateTimeBetween:"",SBTechEndDateTime:"",SBTechEndDateTimeType:"",SBTechEndDateTimeBetween:"",SBTechName:"",SBTechKeys:"",HierarchyDetailsKeys:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",BuildingID:"",FloorID:"",SpotID:"",DivisionID:"",DisciplineID:"",FrequencyID:"",PPMBusinessFlowID:"",PPMFixonBusinessFlowID:"",PPMStageID:"",ServiceTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractGroupID:"",ContractGroupCode:"",ContractGroupName:"",TaxID:"",TaxCode:"",TaxName:"",TaxValue:"",CustomerID:"",CustomerCode:"",CustomerName:"",ContractTypeID:"",ContractTypCode:"",ContractTypeName:"",ContractCategID:"",ContractCategCode:"",ContractCategName:"",ConPaymentTermsID:"",ConPaymentTermsName:"",ContractCode:"",ContractName:"",LocalityGroupID:"",LocalityGroupCode:"",LocalityGroupName:"",CityID:"",CityCode:"",CityName:"",AdminLocalityTypeID:"",AdminLocalityTypeCode:"",AdminLocalityTypeName:"",LocalityCode:"",LocalityName:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",FrequencyCode:"",FrequencyName:"",PPMStageName:"",StageSeqNo:"",ServiceTypCode:"",ServiceTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(!0),[de,se]=(0,l.useState)(0),[me,ce]=(0,l.useState)({SBApprovalKey:"",SBTechKeys:"",SBTechStartDateTime:"",SBTechEndDateTime:"",SBTechName:"",SBCreWorkOrder:"",SBCreWoDateTime:"",SBCreSLAHours:"",ContractName:"",LocalityName:"",BuildingName:"",FloorName:"",SpotName:"",ServiceTypeName:"",DivisionName:"",DisciplineName:"",FrequencyName:"",PPMStageName:"",PPMSBCreationWorkOrderCode:"",SBCreMRNo:"",SBCreGeneratedTtm:"",SBCreActualDate:"",SBCreWoCompletedDate:"",SBCreParentCreationKey:"",SBCreMaintenanceHours:"",IsSBCreWithDraw:"",SBCreWithDrawRemarks:"",SBCreWithDrawEmpKey:"",IsSbCreReschedule:"",SBCreRescheduleRemarks:"",SBCreReschduleEmpKey:"",IsSBCreRework:"",SBCreReworkRemarks:"",SBCreReworkEmpKey:"",SBCrePPMLattitude:"",SBCrePPMLongitude:"",IsSBCreTechManual:"",IsSBCreSupManual:"",IsSBCreMaterial:"",SBCreXCreationAssetKey:"",SBCreXWorkOrder:"",SBCreXWoDate:"",SBCreChargeLedgerKey:"",SBCreCostLedgerKey:"",SBMaterialRequestkey:"",HierarchyDetailsKeys:"",FlowDisplayName:"",FixonBusinessFlowName:""}),[pe,ue]=(0,l.useState)([]),[Se,Pe]=(0,l.useState)([]),[Ce,ye]=(0,l.useState)([]),[Be,De]=(0,l.useState)(!1),[ge,Ie]=(0,l.useState)("");let Me=(0,x.Z)();const Ee=[{columns:pe,data:k}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),$({type:"language",payload:Object.assign({},...r)}),ce(a.reduce(((e,t)=>(e[t]="",e)),{})),V(e),U(t),Y(a),ue(l),Pe(a)}(u)}),[u]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{he()},viewrecord:e=>{A.map(((t,a)=>{t.PPMSBCreationWorkOrderIDPK==e&&$({type:"editData",payload:[A[a]]})}))},DialogTableProps:e=>{y(e)},searchData:(t,a,l)=>{X.loading(!0),s.current&&s.current.clearItem(),Ie(l),v({current:1,pageSize:10}),J=e.ApiParamType.params,fe({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&oe(e.cardview),e.Dialogview&&y(e.Dialogview)}),[e.cardview,e.Dialogview]);const he=()=>{Q.IsDraft?fe(h,J,"DraftPPMSBCreationWorkOrderID"):fe(h,J,"PPMSBCreationWorkOrderID")},fe=async(t,a,l,r)=>{if(Q.token[0]){if(X.loading(!0),"DraftPage"!==r&&te(Q.IsDraft),await Ie((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}_(a);let n=B.v.Api+`${e.ApiType}/`,i={data:{p1:a&&a.PPMSBCreationWorkOrderIDPK?a.PPMSBCreationWorkOrderIDPK:null,p2:a&&a.PPMSBCreationWorkOrderCode?a.PPMSBCreationWorkOrderCode:null,p3:a&&a.SBCreMRNo?a.SBCreMRNo:null,p4:a&&a.SBCreWorkOrder?a.SBCreWorkOrder:null,p5:a&&a.SBCreWoDateTime?a.SBCreWoDateTime:null,p6:a&&a.SBCreWoDateTimeType?a.SBCreWoDateTimeType:null,p7:a&&a.SBCreWoDateTimeBetween?a.SBCreWoDateTimeBetween:null,p8:a&&a.SBCreGeneratedTtm?a.SBCreGeneratedTtm:null,p9:a&&a.SBCreActualDate?a.SBCreActualDate:null,p10:a&&a.SBCreActualDateType?a.SBCreActualDateType:null,p11:a&&a.SBCreActualDateBetween?a.SBCreActualDateBetween:null,p12:a&&a.SBCreWoCompletedDate?a.SBCreWoCompletedDate:null,p13:a&&a.SBCreWoCompletedDateType?a.SBCreWoCompletedDateType:null,p14:a&&a.SBCreWoCompletedDateBetween?a.SBCreWoCompletedDateBetween:null,p15:a&&a.SBCreParentCreationKey?a.SBCreParentCreationKey:null,p16:a&&a.SBCreSLAHours?a.SBCreSLAHours:null,p17:a&&a.SBCreMaintenanceHours?a.SBCreMaintenanceHours:null,p18:null,p19:null,p20:a&&a.SBCreWithDrawEmpKey?a.SBCreWithDrawEmpKey:null,p21:null,p22:null,p23:a&&a.SBCreReschduleEmpKey?a.SBCreReschduleEmpKey:null,p24:null,p25:null,p26:a&&a.SBCreReworkEmpKey?a.SBCreReworkEmpKey:null,p27:a&&a.SBCrePPMLattitude?a.SBCrePPMLattitude:null,p28:a&&a.SBCrePPMLongitude?a.SBCrePPMLongitude:null,p29:null,p30:null,p31:null,p32:a&&a.SBCreXCreationAssetKey?a.SBCreXCreationAssetKey:null,p33:a&&a.SBCreXWorkOrder?a.SBCreXWorkOrder:null,p34:a&&a.SBCreXWoDate?a.SBCreXWoDate:null,p35:a&&a.SBCreXWoDateType?a.SBCreXWoDateType:null,p36:a&&a.SBCreXWoDateBetween?a.SBCreXWoDateBetween:null,p37:a&&a.SBCreChargeLedgerKey?a.SBCreChargeLedgerKey:null,p38:a&&a.SBCreCostLedgerKey?a.SBCreCostLedgerKey:null,p39:a&&a.SBMaterialRequestkey?a.SBMaterialRequestkey:null,p40:a&&a.SBApprovalKey?a.SBApprovalKey:null,p41:a&&a.SBTechStartDateTime?a.SBTechStartDateTime:null,p42:a&&a.SBTechStartDateTimeType?a.SBTechStartDateTimeType:null,p43:a&&a.SBTechStartDateTimeBetween?a.SBTechStartDateTimeBetween:null,p44:a&&a.SBTechEndDateTime?a.SBTechEndDateTime:null,p45:a&&a.SBTechEndDateTimeType?a.SBTechEndDateTimeType:null,p46:a&&a.SBTechEndDateTimeBetween?a.SBTechEndDateTimeBetween:null,p47:a&&a.SBTechName?a.SBTechName:null,p48:a&&a.SBTechKeys?a.SBTechKeys:null,p49:a&&a.HierarchyDetailsKeys?a.HierarchyDetailsKeys:null,p50:"DraftPPMSBCreationWorkOrderID"==l?"1":"0",p51:null,p52:a&&a.ContractID?a.ContractID:null,p53:a&&a.LocalityID?a.LocalityID:null,p54:a&&a.BuildingID?a.BuildingID:null,p55:a&&a.FloorID?a.FloorID:null,p56:a&&a.SpotID?a.SpotID:null,p57:a&&a.DivisionID?a.DivisionID:null,p58:a&&a.DisciplineID?a.DisciplineID:null,p59:a&&a.FrequencyID?a.FrequencyID:null,p60:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p61:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p62:a&&a.PPMStageID?a.PPMStageID:null,p63:a&&a.ServiceTypeID?a.ServiceTypeID:null,p64:a&&a.IsActive,p65:null,p66:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p67:a&&a.CreatedTtm?a.CreatedTtm:null,p68:a&&a.CreatedTtmType?a.CreatedTtmType:null,p69:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p70:null,p71:a&&a.ContractGroupID?a.ContractGroupID:null,p72:a&&a.ContractGroupCode?a.ContractGroupCode:null,p73:a&&a.ContractGroupName?a.ContractGroupName:null,p74:a&&a.TaxID?a.TaxID:null,p75:a&&a.TaxCode?a.TaxCode:null,p76:a&&a.TaxName?a.TaxName:null,p77:a&&a.TaxValue?a.TaxValue:null,p78:a&&a.CustomerID?a.CustomerID:null,p79:a&&a.CustomerCode?a.CustomerCode:null,p80:a&&a.CustomerName?a.CustomerName:null,p81:a&&a.ContractTypeID?a.ContractTypeID:null,p82:a&&a.ContractTypCode?a.ContractTypCode:null,p83:a&&a.ContractTypeName?a.ContractTypeName:null,p84:a&&a.ContractCategID?a.ContractCategID:null,p85:a&&a.ContractCategCode?a.ContractCategCode:null,p86:a&&a.ContractCategName?a.ContractCategName:null,p87:a&&a.ConPaymentTermsID?a.ConPaymentTermsID:null,p88:a&&a.ConPaymentTermsName?a.ConPaymentTermsName:null,p89:a&&a.ContractCode?a.ContractCode:null,p90:a&&a.ContractName?a.ContractName:null,p91:a&&a.LocalityGroupID?a.LocalityGroupID:null,p92:a&&a.LocalityGroupCode?a.LocalityGroupCode:null,p93:a&&a.LocalityGroupName?a.LocalityGroupName:null,p94:a&&a.CityID?a.CityID:null,p95:a&&a.CityCode?a.CityCode:null,p96:a&&a.CityName?a.CityName:null,p97:a&&a.AdminLocalityTypeID?a.AdminLocalityTypeID:null,p98:a&&a.AdminLocalityTypeCode?a.AdminLocalityTypeCode:null,p99:a&&a.AdminLocalityTypeName?a.AdminLocalityTypeName:null,p100:a&&a.LocalityCode?a.LocalityCode:null,p101:a&&a.LocalityName?a.LocalityName:null,p102:a&&a.DivisionCode?a.DivisionCode:null,p103:a&&a.DivisionName?a.DivisionName:null,p104:a&&a.DisciplineCode?a.DisciplineCode:null,p105:a&&a.DisciplineName?a.DisciplineName:null,p106:a&&a.FrequencyCode?a.FrequencyCode:null,p107:a&&a.FrequencyName?a.FrequencyName:null,p108:a&&a.PPMStageName?a.PPMStageName:null,p109:a&&a.StageSeqNo?a.StageSeqNo:null,p110:a&&a.ServiceTypCode?a.ServiceTypCode:null,p111:a&&a.ServiceTypeName?a.ServiceTypeName:null,p112:t.current,p113:t.pageSize,p114:l,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};(0,c.Z)(n,i,Q.token[0]).then((e=>{if(X.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,E(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),$({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?I(Math.ceil(a)):20==t.pageSize?I(Math.ceil(a/2)):50==t.pageSize?I(Math.ceil(a/5)):100==t.pageSize&&I(Math.ceil(a/10)),W(e.Output.data)}}else X.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Me?.[a]?Me[a]:a)]}),W([]),I(0),E(0),$({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ne(Q.ExpandTableValue)}),[Q.ExpandTableValue]),r().createElement("div",null,r().createElement(i.Z,{expanded:ae,onChange:()=>()=>{le(re)}},r().createElement(d.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",M,")")))))),r().createElement(o.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"PPMSBCreationWorkOrder-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(P.Z,{formctrlidprint:"fld494L4TCExportPrint",formctrlidexport:"fld494L4TCExportTable",formctrlidrefresh:"fld494L4TCExportRefresh",title:"494",data:b,exportData:Ee,Items:Se,columnIndex:pe,triggerApi:t=>{((t,l,r)=>{if(0===M)return X.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;X.loading(!0);let n=B.v.Api+`${e.ApiType}/`,i={data:{p1:t||(t&&t.PPMSBCreationWorkOrderIDPK?t.PPMSBCreationWorkOrderIDPK:null),p2:t&&t.PPMSBCreationWorkOrderCode?t.PPMSBCreationWorkOrderCode:null,p3:t&&t.SBCreMRNo?t.SBCreMRNo:null,p4:t&&t.SBCreWorkOrder?t.SBCreWorkOrder:null,p5:t&&t.SBCreWoDateTime?t.SBCreWoDateTime:null,p6:t&&t.SBCreWoDateTimeType?t.SBCreWoDateTimeType:null,p7:t&&t.SBCreWoDateTimeBetween?t.SBCreWoDateTimeBetween:null,p8:t&&t.SBCreGeneratedTtm?t.SBCreGeneratedTtm:null,p9:t&&t.SBCreActualDate?t.SBCreActualDate:null,p10:t&&t.SBCreActualDateType?t.SBCreActualDateType:null,p11:t&&t.SBCreActualDateBetween?t.SBCreActualDateBetween:null,p12:t&&t.SBCreWoCompletedDate?t.SBCreWoCompletedDate:null,p13:t&&t.SBCreWoCompletedDateType?t.SBCreWoCompletedDateType:null,p14:t&&t.SBCreWoCompletedDateBetween?t.SBCreWoCompletedDateBetween:null,p15:t&&t.SBCreParentCreationKey?t.SBCreParentCreationKey:null,p16:t&&t.SBCreSLAHours?t.SBCreSLAHours:null,p17:t&&t.SBCreMaintenanceHours?t.SBCreMaintenanceHours:null,p18:null,p19:null,p20:t&&t.SBCreWithDrawEmpKey?t.SBCreWithDrawEmpKey:null,p21:null,p22:null,p23:t&&t.SBCreReschduleEmpKey?t.SBCreReschduleEmpKey:null,p24:null,p25:null,p26:t&&t.SBCreReworkEmpKey?t.SBCreReworkEmpKey:null,p27:t&&t.SBCrePPMLattitude?t.SBCrePPMLattitude:null,p28:t&&t.SBCrePPMLongitude?t.SBCrePPMLongitude:null,p29:null,p30:null,p31:null,p32:t&&t.SBCreXCreationAssetKey?t.SBCreXCreationAssetKey:null,p33:t&&t.SBCreXWorkOrder?t.SBCreXWorkOrder:null,p34:t&&t.SBCreXWoDate?t.SBCreXWoDate:null,p35:t&&t.SBCreXWoDateType?t.SBCreXWoDateType:null,p36:t&&t.SBCreXWoDateBetween?t.SBCreXWoDateBetween:null,p37:t&&t.SBCreChargeLedgerKey?t.SBCreChargeLedgerKey:null,p38:t&&t.SBCreCostLedgerKey?t.SBCreCostLedgerKey:null,p39:t&&t.SBMaterialRequestkey?t.SBMaterialRequestkey:null,p40:t&&t.SBApprovalKey?t.SBApprovalKey:null,p41:t&&t.SBTechStartDateTime?t.SBTechStartDateTime:null,p42:t&&t.SBTechStartDateTimeType?t.SBTechStartDateTimeType:null,p43:t&&t.SBTechStartDateTimeBetween?t.SBTechStartDateTimeBetween:null,p44:t&&t.SBTechEndDateTime?t.SBTechEndDateTime:null,p45:t&&t.SBTechEndDateTimeType?t.SBTechEndDateTimeType:null,p46:t&&t.SBTechEndDateTimeBetween?t.SBTechEndDateTimeBetween:null,p47:t&&t.SBTechName?t.SBTechName:null,p48:t&&t.SBTechKeys?t.SBTechKeys:null,p49:t&&t.HierarchyDetailsKeys?t.HierarchyDetailsKeys:null,p50:ee?"1":"0",p51:null,p52:t&&t.ContractID?t.ContractID:null,p53:t&&t.LocalityID?t.LocalityID:null,p54:t&&t.BuildingID?t.BuildingID:null,p55:t&&t.FloorID?t.FloorID:null,p56:t&&t.SpotID?t.SpotID:null,p57:t&&t.DivisionID?t.DivisionID:null,p58:t&&t.DisciplineID?t.DisciplineID:null,p59:t&&t.FrequencyID?t.FrequencyID:null,p60:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p61:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p62:t&&t.PPMStageID?t.PPMStageID:null,p63:t&&t.ServiceTypeID?t.ServiceTypeID:null,p64:t&&t.IsActive,p65:null,p66:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p67:t&&t.CreatedTtm?t.CreatedTtm:null,p68:t&&t.CreatedTtmType?t.CreatedTtmType:null,p69:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p70:null,p71:t&&t.ContractGroupID?t.ContractGroupID:null,p72:t&&t.ContractGroupCode?t.ContractGroupCode:null,p73:t&&t.ContractGroupName?t.ContractGroupName:null,p74:t&&t.TaxID?t.TaxID:null,p75:t&&t.TaxCode?t.TaxCode:null,p76:t&&t.TaxName?t.TaxName:null,p77:t&&t.TaxValue?t.TaxValue:null,p78:t&&t.CustomerID?t.CustomerID:null,p79:t&&t.CustomerCode?t.CustomerCode:null,p80:t&&t.CustomerName?t.CustomerName:null,p81:t&&t.ContractTypeID?t.ContractTypeID:null,p82:t&&t.ContractTypCode?t.ContractTypCode:null,p83:t&&t.ContractTypeName?t.ContractTypeName:null,p84:t&&t.ContractCategID?t.ContractCategID:null,p85:t&&t.ContractCategCode?t.ContractCategCode:null,p86:t&&t.ContractCategName?t.ContractCategName:null,p87:t&&t.ConPaymentTermsID?t.ConPaymentTermsID:null,p88:t&&t.ConPaymentTermsName?t.ConPaymentTermsName:null,p89:t&&t.ContractCode?t.ContractCode:null,p90:t&&t.ContractName?t.ContractName:null,p91:t&&t.LocalityGroupID?t.LocalityGroupID:null,p92:t&&t.LocalityGroupCode?t.LocalityGroupCode:null,p93:t&&t.LocalityGroupName?t.LocalityGroupName:null,p94:t&&t.CityID?t.CityID:null,p95:t&&t.CityCode?t.CityCode:null,p96:t&&t.CityName?t.CityName:null,p97:t&&t.AdminLocalityTypeID?t.AdminLocalityTypeID:null,p98:t&&t.AdminLocalityTypeCode?t.AdminLocalityTypeCode:null,p99:t&&t.AdminLocalityTypeName?t.AdminLocalityTypeName:null,p100:t&&t.LocalityCode?t.LocalityCode:null,p101:t&&t.LocalityName?t.LocalityName:null,p102:t&&t.DivisionCode?t.DivisionCode:null,p103:t&&t.DivisionName?t.DivisionName:null,p104:t&&t.DisciplineCode?t.DisciplineCode:null,p105:t&&t.DisciplineName?t.DisciplineName:null,p106:t&&t.FrequencyCode?t.FrequencyCode:null,p107:t&&t.FrequencyName?t.FrequencyName:null,p108:t&&t.PPMStageName?t.PPMStageName:null,p109:t&&t.StageSeqNo?t.StageSeqNo:null,p110:t&&t.ServiceTypCode?t.ServiceTypCode:null,p111:t&&t.ServiceTypeName?t.ServiceTypeName:null,p112:1,p113:M,p114:ge,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};var o;X.loading(!1),X.alert({open:!0,color:"success",message:[`${o="494",Q.language?.[o]?Q.language[o]:o} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,c.Z)(n,i,Q.token[0],r).then((e=>{(0,K.PDF_Excel_Generate)(e,X,Se,N,a,r)}))})(Z,O.column,t)},TableVisibleItem:H,userGridViewFormID:"494",TableTotalCount:M,Refresh:()=>{fe({current:1,pageSize:100},Z,ge),v({current:1,pageSize:100}),m.current&&m.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!Q.AccessRights.IsPrint,disabledExport:!Q.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(f.Z,{count:D,siblingCount:0,color:"primary",page:h.current,onChange:(e,t)=>{if(v({current:t,pageSize:h.pageSize}),ee)fe({current:t,pageSize:h.pageSize},Z,"DraftPPMSBCreationWorkOrderID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";fe({current:t,pageSize:h.pageSize},Z,"PPMSBCreationWorkOrderID")}}}),r().createElement("div",null,r().createElement(T.Z,{value:h.pageSize,onChange:e=>{v({current:1,pageSize:e.target.value}),fe({current:1,pageSize:e.target.value},Z,"PPMSBCreationWorkOrderID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),re&&r().createElement("p",{className:"per-page"},"/ per page Of (",M,")"))),r().createElement("div",{id:"PPMSBCreationWorkOrder-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"PPMSBCreationWorkOrderTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"PPMSBCreationWorkOrder",headerdata:H,tablesearchparams:me,searchvalue:e=>{ce(e),v({current:1,pageSize:100}),fe({current:1,pageSize:100},e,ee?"DraftPPMSBCreationWorkOrderID":"PPMSBCreationWorkOrderID",ee&&"DraftPage")},bodydata:A,ondrag:(e,t)=>{$({type:"editData",payload:[t]}),$({type:"IsDraft",payload:ee}),$({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:ee,accessrights:Q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{C?X.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?X.edit(t,a,l):X.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{W(e)},color:!0,isexpanded:!1}):r().createElement(z.Z,{frmctrlid:"tblcs_494_L4_",ref:s,id:"PPMSBCreationWorkOrderTable",type:e.viewtype,headerdata:H,tablesearchparams:me,searchvalue:e=>{let t={...Z,...e};ce(e),_(t),v({current:1,pageSize:100}),fe(h,t,ge)},bodydata:A,ondrag:(e,t)=>{$({type:"editData",payload:[t]}),$({type:"IsDraft",payload:ee}),$({type:"ShowDetail",payload:!0})},bodyitem:j,visibleitem:H,isdraft:ee,accessrights:Q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{C?X.select(t):(e.editdata(t,"view"),X.edit(t,a,1!=t.Entry))},viewtoggle:X.viewtoggle,IsSub:e.IsSub})))))))}))},19450:(e,t,a)=>{a.r(t),a.d(t,{default:()=>O}),a(95866),a(99058);var l=a(92950),r=a.n(l),n=a(80366),i=a(51673),o=a(282),d=a(868),s=a(78513),m=a(14439),c=a(27848),p=a(40900),u=a(64059),S=a(24038),P=a(8981),C=a(47516),y=a(86893),B=a(86415),D=a(33681),g=a(63163),I=(a(35131),a(61956),a(52663)),M=a(66083),E=a(29525),h=a(66856),f=a(39803),T=a(99940),v=a(17149),k=a(62810),N=a(30553),b=a(92381),w=a(25108);const O=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[O,F]=(0,l.useState)([]),[x,A]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)({}),[Z,G]=(0,l.useState)(!0),[z,_]=(0,l.useState)(!1),{cstate:q,cdispatch:V}=e.ContextApi?e.ContextApi:(0,B.ContextApi)(),[H,U]=(0,l.useState)(1),[j,Y]=(0,l.useState)(0),[X,Q]=(0,l.useState)(!1),[$,J]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[re,ne]=(0,l.useState)(!1),[ie,oe]=(0,l.useState)(""),[de,se]=(0,l.useState)(!1),[me,ce]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[Se,Pe]=(0,l.useState)(""),Ce=(0,l.useRef)(null),[ye,Be]=(0,l.useState)({});let De=localStorage.getItem("Language");const ge={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ie=(0,P.Z)();const Me=e=>Ie[e]?Ie[e]:e,Ee=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[ge[De]];function he(){K({}),J({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Be(a),te(t)}),[e.userGrid]),(0,l.useEffect)((()=>()=>{Ce.current&&Ce.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{he()}})));const fe=async(t,a,l,r)=>{Q(!0);try{Ce.current&&Ce.current.abort();const n=new AbortController;Ce.current=n;let o="",d=[],s={};await A((e=>(o=e.name,e))),await K((e=>(d=e,e))),await J((e=>(s=e,e)));const m=p.v.Api+"FP494S3/",c={data:{p1:"PPMSBCreationWorkOrderIDPK"==a?null:await be(),p2:"PPMSBCreationWorkOrderCode"==o&&l.length>0?"%"+l+"%":null,p3:"SBCreMRNo"==o&&l.length>0?"%"+l+"%":null,p4:"SBCreWorkOrder"==o&&l.length>0?"%"+l+"%":null,p5:s.SBCreWoDateTime?s.SBCreWoDateTime.From:null,p6:s.SBCreWoDateTime?s.SBCreWoDateTime.Type:null,p7:s.SBCreWoDateTime?s.SBCreWoDateTime.To:null,p8:"SBCreGeneratedTtm"==o&&l.length>0?"%"+l+"%":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:"SBCreParentCreationKey"==o&&l.length>0?"%"+l+"%":null,p16:"SBCreSLAHours"==o&&l.length>0?"%"+l+"%":null,p17:"SBCreMaintenanceHours"==o&&l.length>0?"%"+l+"%":null,p18:"IsSBCreWithDraw"==o&&l.length>0?"%"+l+"%":null,p19:"SBCreWithDrawRemarks"==o&&l.length>0?"%"+l+"%":null,p20:"SBCreWithDrawEmpKey"==o&&l.length>0?"%"+l+"%":null,p21:"IsSbCreReschedule"==o&&l.length>0?"%"+l+"%":null,p22:"SBCreRescheduleRemarks"==o&&l.length>0?"%"+l+"%":null,p23:"SBCreReschduleEmpKey"==o&&l.length>0?"%"+l+"%":null,p24:"IsSBCreRework"==o&&l.length>0?"%"+l+"%":null,p25:"SBCreReworkRemarks"==o&&l.length>0?"%"+l+"%":null,p26:"SBCreReworkEmpKey"==o&&l.length>0?"%"+l+"%":null,p27:"SBCrePPMLattitude"==o&&l.length>0?"%"+l+"%":null,p28:"SBCrePPMLongitude"==o&&l.length>0?"%"+l+"%":null,p29:"IsSBCreTechManual"==o&&l.length>0?"%"+l+"%":null,p30:"IsSBCreSupManual"==o&&l.length>0?"%"+l+"%":null,p31:"IsSBCreMaterial"==o&&l.length>0?"%"+l+"%":null,p32:"SBCreXCreationAssetKey"==o&&l.length>0?"%"+l+"%":null,p33:"SBCreXWorkOrder"==o&&l.length>0?"%"+l+"%":null,p34:null,p35:null,p36:null,p37:"SBCreChargeLedgerKey"==o&&l.length>0?"%"+l+"%":null,p38:"SBCreCostLedgerKey"==o&&l.length>0?"%"+l+"%":null,p39:"SBMaterialRequestkey"==o&&l.length>0?"%"+l+"%":null,p40:"SBApprovalKey"==o&&l.length>0?"%"+l+"%":null,p41:s.SBTechStartDateTime?s.SBTechStartDateTime.From:null,p42:s.SBTechStartDateTime?s.SBTechStartDateTime.Type:null,p43:s.SBTechStartDateTime?s.SBTechStartDateTime.To:null,p44:s.SBTechEndDateTime?s.SBTechEndDateTime.From:null,p45:s.SBTechEndDateTime?s.SBTechEndDateTime.Type:null,p46:s.SBTechEndDateTime?s.SBTechEndDateTime.To:null,p47:"SBTechName"==o&&l.length>0?"%"+l+"%":null,p48:"SBTechKeys"==o&&l.length>0?"%"+l+"%":null,p49:"HierarchyDetailsKeys"==o&&l.length>0?"%"+l+"%":null,p50:null,p51:null,p52:"ContractName"!=o&&d.ContractName?d.ContractName.map((e=>e.ContractIDPK)).toString():null,p53:"LocalityName"!=o&&d.LocalityName?d.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p54:"BuildingName"!=o&&d.BuildingName?d.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p55:"FloorName"!=o&&d.FloorName?d.FloorName.map((e=>e.FloorIDPK)).toString():null,p56:"SpotName"!=o&&d.SpotName?d.SpotName.map((e=>e.SpotIDPK)).toString():null,p57:"DivisionName"!=o&&d.DivisionName?d.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p58:"DisciplineName"!=o&&d.DisciplineName?d.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p59:"FrequencyName"!=o&&d.FrequencyName?d.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p60:"FlowDisplayName"!=o&&d.FlowDisplayName?d.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p61:"FixonBusinessFlowName"!=o&&d.FixonBusinessFlowName?d.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p62:"PPMStageName"!=o&&d.PPMStageName?d.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p63:"ServiceTypeName"!=o&&d.ServiceTypeName?d.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p64:e.Dialogview?"1":null,p65:null,p66:"p66"==o&&l.length>0?l:null,p67:null,p68:null,p69:null,p70:null,p71:"ContractGroupName"!=o&&d.ContractGroupName?d.ContractGroupName.map((e=>e.ContractGroupIDPK)).toString():null,p72:"ContractGroupCode"==o&&l.length>0?"%"+l+"%":null,p73:"ContractGroupName"==o&&l.length>0?"%"+l+"%":null,p74:"TaxName"!=o&&d.TaxName?d.TaxName.map((e=>e.TaxIDPK)).toString():null,p75:"TaxCode"==o&&l.length>0?"%"+l+"%":null,p76:"TaxName"==o&&l.length>0?"%"+l+"%":null,p77:"TaxValue"==o&&l.length>0?"%"+l+"%":null,p78:"CustomerName"!=o&&d.CustomerName?d.CustomerName.map((e=>e.CustomerIDPK)).toString():null,p79:"CustomerCode"==o&&l.length>0?"%"+l+"%":null,p80:"CustomerName"==o&&l.length>0?"%"+l+"%":null,p81:"ContractTypeName"!=o&&d.ContractTypeName?d.ContractTypeName.map((e=>e.ContractTypeIDPK)).toString():null,p82:"ContractTypCode"==o&&l.length>0?"%"+l+"%":null,p83:"ContractTypeName"==o&&l.length>0?"%"+l+"%":null,p84:"ContractCategName"!=o&&d.ContractCategName?d.ContractCategName.map((e=>e.ContractCategIDPK)).toString():null,p85:"ContractCategCode"==o&&l.length>0?"%"+l+"%":null,p86:"ContractCategName"==o&&l.length>0?"%"+l+"%":null,p87:"ConPaymentTermsName"!=o&&d.ConPaymentTermsName?d.ConPaymentTermsName.map((e=>e.ConPaymentTermsIDPK)).toString():null,p88:"ConPaymentTermsName"==o&&l.length>0?"%"+l+"%":null,p89:"ContractCode"==o&&l.length>0?"%"+l+"%":null,p90:"ContractName"==o&&l.length>0?"%"+l+"%":null,p91:"LocalityGroupName"!=o&&d.LocalityGroupName?d.LocalityGroupName.map((e=>e.LocalityGroupIDPK)).toString():null,p92:"LocalityGroupCode"==o&&l.length>0?"%"+l+"%":null,p93:"LocalityGroupName"==o&&l.length>0?"%"+l+"%":null,p94:"CityName"!=o&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p95:"CityCode"==o&&l.length>0?"%"+l+"%":null,p96:"CityName"==o&&l.length>0?"%"+l+"%":null,p97:"AdminLocalityTypeName"!=o&&d.AdminLocalityTypeName?d.AdminLocalityTypeName.map((e=>e.AdminLocalityTypeIDPK)).toString():null,p98:"AdminLocalityTypeCode"==o&&l.length>0?"%"+l+"%":null,p99:"AdminLocalityTypeName"==o&&l.length>0?"%"+l+"%":null,p100:"LocalityCode"==o&&l.length>0?"%"+l+"%":null,p101:"LocalityName"==o&&l.length>0?"%"+l+"%":null,p102:"DivisionCode"==o&&l.length>0?"%"+l+"%":null,p103:"DivisionName"==o&&l.length>0?"%"+l+"%":null,p104:"DisciplineCode"==o&&l.length>0?"%"+l+"%":null,p105:"DisciplineName"==o&&l.length>0?"%"+l+"%":null,p106:"FrequencyCode"==o&&l.length>0?"%"+l+"%":null,p107:"FrequencyName"==o&&l.length>0?"%"+l+"%":null,p108:"PPMStageName"==o&&l.length>0?"%"+l+"%":null,p109:"StageSeqNo"==o&&l.length>0?"%"+l+"%":null,p110:"ServiceTypCode"==o&&l.length>0?"%"+l+"%":null,p111:"ServiceTypeName"==o&&l.length>0?"%"+l+"%":null,p112:r||1,p113:10,p114:t,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}},u=await(0,i.Z)(m,c,e.token,"",n.signal);if(!u)return!1;const S=u.Output.status.code,P=u.Output.data;if("200"===S)if(P.length>0)if(1===r){let e=ve(P,o),t=Te(e,R[o],a);F(t),Y(t.length>0?t[0].TotalCount:R[o].length)}else{let e=[...O,...P],t=ve(e,o);Y(t.length<10?t.length:P[0].TotalCount),F(ve(t,o))}else W.length>0&&F([]),Y(O.length);else e.alertmsg("error",[u.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},Te=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ve=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function ke(e){let t=e+"PK",a=ye[e];if(a){const e=a.flatMap((e=>R[e]?R[e].map((e=>e[t])):[]));return e.toString()}return""}const Ne=async t=>{let a="",l={};await K((e=>(a=e,e)));let r=[...ee],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString();t&&n.push(t)}await J((e=>(l=e,e)));let i={PPMSBCreationWorkOrderIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",SBTechStartDateTime:l.SBTechStartDateTime?l.SBTechStartDateTime.From:"",SBTechStartDateTimeType:l.SBTechStartDateTime?l.SBTechStartDateTime.Type:"",SBTechStartDateTimeBetween:l.SBTechStartDateTime?l.SBTechStartDateTime.To:"",SBTechEndDateTime:l.SBTechEndDateTime?l.SBTechEndDateTime.From:"",SBTechEndDateTimeType:l.SBTechEndDateTime?l.SBTechEndDateTime.Type:"",SBTechEndDateTimeBetween:l.SBTechEndDateTime?l.SBTechEndDateTime.To:"",SBCreWoDateTime:l.SBCreWoDateTime?l.SBCreWoDateTime.From:"",SBCreWoDateTimeType:l.SBCreWoDateTime?l.SBCreWoDateTime.Type:"",SBCreWoDateTimeBetween:l.SBCreWoDateTime?l.SBCreWoDateTime.To:"",SBCreActualDate:l.SBCreActualDate?l.SBCreActualDate.From:"",SBCreActualDateType:l.SBCreActualDate?l.SBCreActualDate.Type:"",SBCreActualDateBetween:l.SBCreActualDate?l.SBCreActualDate.To:"",SBCreWoCompletedDate:l.SBCreWoCompletedDate?l.SBCreWoCompletedDate.From:"",SBCreWoCompletedDateType:l.SBCreWoCompletedDate?l.SBCreWoCompletedDate.Type:"",SBCreWoCompletedDateBetween:l.SBCreWoCompletedDate?l.SBCreWoCompletedDate.To:"",SBCreXWoDate:l.SBCreXWoDate?l.SBCreXWoDate.From:"",SBCreXWoDateType:l.SBCreXWoDate?l.SBCreXWoDate.Type:"",SBCreXWoDateBetween:l.SBCreXWoDate?l.SBCreXWoDate.To:"",ContractID:ke("ContractID"),LocalityID:ke("LocalityID"),BuildingID:ke("BuildingID"),FloorID:ke("FloorID"),SpotID:ke("SpotID"),ServiceTypeID:ke("ServiceTypeID"),DivisionID:ke("DivisionID"),DisciplineID:ke("DisciplineID"),FrequencyID:ke("FrequencyID"),PPMStageID:ke("PPMStageID"),PPMBusinessFlowID:ke("PPMBusinessFlowID"),PPMFixonBusinessFlowID:ke("PPMFixonBusinessFlowID")};"saveFav"==t?Fe("save",i):(e.searchData(i),_(!1))};async function be(){let e={};await K((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function we(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};J((e=>({...e,...o})));const s={...R};let m=[...ee],c=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString();t&&c.push(t)}await J((e=>(d=e,e)));let p={PPMSBCreationWorkOrderIDPK:c?[...new Set(c)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,SBTechStartDateTime:d.SBTechStartDateTime?d.SBTechStartDateTime.From:"",SBTechStartDateTimeType:d.SBTechStartDateTime?d.SBTechStartDateTime.Type:"",SBTechStartDateTimeBetween:d.SBTechStartDateTime?d.SBTechStartDateTime.To:"",SBTechEndDateTime:d.SBTechEndDateTime?d.SBTechEndDateTime.From:"",SBTechEndDateTimeType:d.SBTechEndDateTime?d.SBTechEndDateTime.Type:"",SBTechEndDateTimeBetween:d.SBTechEndDateTime?d.SBTechEndDateTime.To:"",SBCreWoDateTime:d.SBCreWoDateTime?d.SBCreWoDateTime.From:"",SBCreWoDateTimeType:d.SBCreWoDateTime?d.SBCreWoDateTime.Type:"",SBCreWoDateTimeBetween:d.SBCreWoDateTime?d.SBCreWoDateTime.To:"",SBCreActualDate:d.SBCreActualDate?d.SBCreActualDate.From:"",SBCreActualDateType:d.SBCreActualDate?d.SBCreActualDate.Type:"",SBCreActualDateBetween:d.SBCreActualDate?d.SBCreActualDate.To:"",SBCreWoCompletedDate:d.SBCreWoCompletedDate?d.SBCreWoCompletedDate.From:"",SBCreWoCompletedDateType:d.SBCreWoCompletedDate?d.SBCreWoCompletedDate.Type:"",SBCreWoCompletedDateBetween:d.SBCreWoCompletedDate?d.SBCreWoCompletedDate.To:"",SBCreXWoDate:d.SBCreXWoDate?d.SBCreXWoDate.From:"",SBCreXWoDateType:d.SBCreXWoDate?d.SBCreXWoDate.Type:"",SBCreXWoDateBetween:d.SBCreXWoDate?d.SBCreXWoDate.To:"",ContractID:R.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:R.LocalityName?.map((e=>e.LocalityIDPK)).toString(),BuildingID:R.BuildingName?.map((e=>e.BuildingIDPK)).toString(),FloorID:R.FloorName?.map((e=>e.FloorIDPK)).toString(),SpotID:R.SpotName?.map((e=>e.SpotIDPK)).toString(),ServiceTypeID:R.ServiceTypeName?.map((e=>e.ServiceTypeIDPK)).toString(),DivisionID:R.DivisionName?.map((e=>e.DivisionIDPK)).toString(),DisciplineID:R.DisciplineName?.map((e=>e.DisciplineIDPK)).toString(),FrequencyID:R.FrequencyName?.map((e=>e.FrequencyIDPK)).toString(),PPMStageID:R.PPMStageName?.map((e=>e.PPMStageIDPK)).toString(),PPMBusinessFlowID:R.FlowDisplayName?.map((e=>e.PPMBusinessFlowIDPK)).toString(),PPMFixonBusinessFlowID:R.FixonBusinessFlowName?.map((e=>e.PPMFixonBusinessFlowIDPK)).toString()};e.searchData(p)}function Oe(){return r().createElement(u.Z,{frmctrlid:"fld494L4TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{we(e,t,a,x.name,l)},keyboardback:()=>{_(!1),A({idpk:"",name:"",type:"",fieldidpk:""})},title:Me(x.name),fieldname:x.name,save:e=>{alert(!0)}})}const Fe=(t,a)=>{(0,b.Z)(t,e.formID,a,ie).then((e=>{const t=e.Output.data;Pe(t)}))};return r().createElement("div",null,r().createElement(I.Z,{onClose:()=>se(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:de},r().createElement(M.Z,{id:"customized-dialog-title",onClose:()=>se(!1)},"Add Favorite"),r().createElement(E.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(f.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>oe(e.target.value),fullWidth:!0})),r().createElement(N.Z,{style:{color:"#337ab7"},control:r().createElement(T.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(v.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ce(e.target.checked)}),label:"Quick"}),r().createElement(N.Z,{style:{color:"#337ab7"},control:r().createElement(T.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(v.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Dashboard"})),r().createElement(h.Z,null,r().createElement(o.Z,{onClick:()=>{Ne("saveFav"),se(!1)},color:"primary"},"Save"))),z?"Created Ttm"===x.name||x.name.includes("Date")?r().createElement(Oe,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(m.Z,null,r().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Ee(x.idpk)," (",O.length,"/",j,")")),r().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(d.ZP,{title:Me("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(n.Z,{id:"fld494L4TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),A({idpk:"",name:"",type:"",fieldidpk:!1}),U(1)}}))),R[x.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(o.Z,{frmctrlid:"fld494L4TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await K((t=>(e=t,w.log("clear fewItems",e),t))),e[x.name]=[],fe(x.type,x.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},Me("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},Z?r().createElement(d.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(y.D7o,{className:"FilterMaximizeIcon",onClick:()=>{G(!1)}}))):r().createElement(d.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(y.dOw,{className:"FilterMaximizeIcon",onClick:()=>{G(!0)}})))),r().createElement("ul",null,R[x.name]&&R[x.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:Z?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[x.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[x.name],onClick:()=>(async(e,t)=>{U(1);let a=R[x.name].filter((t=>t!=e)),l={};await K((e=>(l=e,e))),l[x.name]=a,K(l),F((t=>[e,...t]))})(e)},r().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(S.Z,{frmctrlid:"fld494L4TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:W,placeholder:Me("Enter ")+" "+Ee(x.idpk),onChange:e=>{L(e),fe(x.type,x.fieldidpk,e,1,be())}})),r().createElement("div",{id:"fld494L4TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ne},r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),X&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(D.Z,{color:"secondary"})),r().createElement("div",{id:"fld494L4TFCScrollYDefault",className:"height65 scrollYDefault"},O.length>0&&O.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[x.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await K((e=>(l=e,e)));let r=l[x.name];t[x.name]=r?[...a,...r]:a,l={...l,...t},K(l),F((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(s.Z,{className:"DotIcon"}),r().createElement("span",null,e[x.name])))),O.length+0<j&&O.length>0&&r().createElement("div",{id:"fld494L4TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{U(H+1),fe(x.type,x.fieldidpk,"",H+1)}},r().createElement("p",null," more... ")),0===O.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:p.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(C.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",Me("Filter")," ",ie.length>0&&`(${ie})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnApplyButton",onClick:()=>{he()},id:"fld494L4TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},Me("Clear")))),r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(o.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld494L4TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},Me("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld494L4TFCFilItems",className:"FilterItems"},!Se&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),L(""),F([]),Y(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBCreationWorkOrderIDPK";A({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBCreationWorkOrderID",fieldidpk:t}),fe(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBCreationWorkOrderID",t,"",1,be())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Ee(e.AdminUserGridViewIDPK)," ",$[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",$[e.FieldName]?.From+" to "+$[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),r().createElement(g.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),we("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Ee(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,R[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},R[a][0][a]),R[a].length>1&&r().createElement("span",{className:"RoundedDivName"},R[a][1][a]),R[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(R[a].length-2))))));var a})),Se&&Se.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{fe("FilterPPMSBCreationWorkOrderID",a),Ne("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}))},99792:(e,t,a)=>{a.r(t),a.d(t,{default:()=>xt});var l=a(92950),r=a.n(l),n=a(45237),i=a(868),o=a(3212),d=a(29800),s=a(14439),m=a(27848),c=(a(10966),a(86415)),p=(a(21392),a(51673)),u=a(40900),S=(a(77366),a(26537)),P=a(1695),C=(a(97829),a(20506),a(59535)),y=(a(21771),a(8981)),B=a(5434),D=a(99940),g=a(37148),I=a(79117),M=a.n(I),E=(a(615),a(95866),a(36939)),h=a(61201),f=(a(99058),a(80366)),T=a(282),v=a(78513),k=a(64059),N=a(24038),b=a(47516),w=a(86893),O=a(33681),F=a(63163),x=a(25108);const A=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,c]=(0,l.useState)({idpk:"",name:"",type:""}),[S,P]=(0,l.useState)(""),[C,B]=(0,l.useState)({}),[D,g]=(0,l.useState)(!0),[I,M]=(0,l.useState)(!1),{cstate:E,cdispatch:h}=e.ContextApi?e.ContextApi:ke(),[A,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0);let U=localStorage.getItem("Language");const j={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Y=(0,y.Z)();const X=e=>Y[e]?Y[e]:e,Q=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[j[U]];function $(){B({}),z({}),e.searchData({}),M(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));q(t)}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{$()}})));const J=async(t,a,l,r)=>{Z(!0);let i=a.IsForeign?a.FieldName+"PK":"PPMSBEmployeeDetIDPK";try{let d="",s=[],m={};await c((e=>(d=e.name,e))),await B((e=>(s=e,e))),await z((e=>(m=e,e)));const P=u.v.Api+"FP497S3/",y={data:{p1:a.IsForeign?await ae():null,p2:"PPMSBEmployeeCode"==d&&l.length>0?"%"+l+"%":null,p3:"IsSBEmpPrimaryEmployee"==d&&l.length>0?"%"+l+"%":null,p4:"IsSBEmpAllEmployee"==d&&l.length>0?"%"+l+"%":null,p5:"SBEmpAccptKey"==d&&l.length>0?"%"+l+"%":null,p6:"SBEmpTypeKey"==d&&l.length>0?"%"+l+"%":null,p7:"SBEmpNoOfHours"==d&&l.length>0?"%"+l+"%":null,p8:null,p9:null,p10:"ContractName"!=d&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p11:"LocalityName"!=d&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p12:"FirstName"!=d&&s.FirstName?s.FirstName.map((e=>e.EmployeeIDPK)).toString():null,p13:e.parentId?e.parentId:"0",p14:"EmployeeTypeName"!=d&&s.EmployeeTypeName?s.EmployeeTypeName.map((e=>e.EmployeeTypeIDPK)).toString():null,p15:e.Dialogview?"1":null,p16:null,p17:"p17"==d&&l.length>0?l:null,p18:null,p19:null,p20:null,p21:null,p22:"ShiftName"!=d&&s.ShiftName?s.ShiftName.map((e=>e.ShiftIDPK)).toString():null,p23:"ShiftCode"==d&&l.length>0?"%"+l+"%":null,p24:"ShiftName"==d&&l.length>0?"%"+l+"%":null,p25:"ClassificationName"!=d&&s.ClassificationName?s.ClassificationName.map((e=>e.ClassificationIDPK)).toString():null,p26:"ClassificationCode"==d&&l.length>0?"%"+l+"%":null,p27:"ClassificationName"==d&&l.length>0?"%"+l+"%":null,p28:"DepartmentName"!=d&&s.DepartmentName?s.DepartmentName.map((e=>e.DepartmentIDPK)).toString():null,p29:"DepartmentCode"==d&&l.length>0?"%"+l+"%":null,p30:"DepartmentName"==d&&l.length>0?"%"+l+"%":null,p31:"DesignationName"!=d&&s.DesignationName?s.DesignationName.map((e=>e.DesignationIDPK)).toString():null,p32:"DesignationCode"==d&&l.length>0?"%"+l+"%":null,p33:"DesignationName"==d&&l.length>0?"%"+l+"%":null,p34:"NationalityName"!=d&&s.NationalityName?s.NationalityName.map((e=>e.NationalityIDPK)).toString():null,p35:"NationalityCode"==d&&l.length>0?"%"+l+"%":null,p36:"NationalityName"==d&&l.length>0?"%"+l+"%":null,p37:"NatureOfWorkName"!=d&&s.NatureOfWorkName?s.NatureOfWorkName.map((e=>e.EmpWorkNatureIDPK)).toString():null,p38:"NatureOfWorkCode"==d&&l.length>0?"%"+l+"%":null,p39:"NatureOfWorkName"==d&&l.length>0?"%"+l+"%":null,p40:"EmployeeTypeCode"==d&&l.length>0?"%"+l+"%":null,p41:"EmployeeTypeName"==d&&l.length>0?"%"+l+"%":null,p42:"EmploymentTypeName"!=d&&s.EmploymentTypeName?s.EmploymentTypeName.map((e=>e.EmploymentTypeIDPK)).toString():null,p43:"EmploymentTypCode"==d&&l.length>0?"%"+l+"%":null,p44:"EmploymentTypeName"==d&&l.length>0?"%"+l+"%":null,p45:"EmployeeGroupName"!=d&&s.EmployeeGroupName?s.EmployeeGroupName.map((e=>e.EmployeeGroupIDPK)).toString():null,p46:"EmployeeGroupCode"==d&&l.length>0?"%"+l+"%":null,p47:"EmployeeGroupName"==d&&l.length>0?"%"+l+"%":null,p48:"EmpGradeName"!=d&&s.EmpGradeName?s.EmpGradeName.map((e=>e.EmpGradeIDPK)).toString():null,p49:"EmpGradeCode"==d&&l.length>0?"%"+l+"%":null,p50:"EmpGradeName"==d&&l.length>0?"%"+l+"%":null,p51:"CityName"!=d&&s.CityName?s.CityName.map((e=>e.CityIDPK)).toString():null,p52:"CityCode"==d&&l.length>0?"%"+l+"%":null,p53:"CityName"==d&&l.length>0?"%"+l+"%":null,p54:"RegionName"!=d&&s.RegionName?s.RegionName.map((e=>e.RegionIDPK)).toString():null,p55:"RegionCode"==d&&l.length>0?"%"+l+"%":null,p56:"RegionName"==d&&l.length>0?"%"+l+"%":null,p57:"CountryName"!=d&&s.CountryName?s.CountryName.map((e=>e.CountryIDPK)).toString():null,p58:"CountryCode"==d&&l.length>0?"%"+l+"%":null,p59:"CountryName"==d&&l.length>0?"%"+l+"%":null,p60:"EmpGenderName"!=d&&s.EmpGenderName?s.EmpGenderName.map((e=>e.EmpGenderIDPK)).toString():null,p61:"EmpGenderName"==d&&l.length>0?"%"+l+"%":null,p62:"EmpTitleName"!=d&&s.EmpTitleName?s.EmpTitleName.map((e=>e.EmpTitleIDPK)).toString():null,p63:"EmpTitleName"==d&&l.length>0?"%"+l+"%":null,p64:"EmployeeCode"==d&&l.length>0?"%"+l+"%":null,p65:"FirstName"==d&&l.length>0?"%"+l+"%":null,p66:"EmpContactNo1"==d&&l.length>0?"%"+l+"%":null,p67:"EmpEmailOfficial"==d&&l.length>0?"%"+l+"%":null,p68:r||1,p69:10,p70:t,p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}};await(0,p.Z)(P,y,e.token).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"===a)if(l.length>0)if(1===r){let e=te(l,d),t=ee(e,C[d],i);o(t),R(t.length>0?t[0].TotalCount:C[d].length)}else{let e=[...n,...l],t=te(e,d);R(t.length<10?t.length:l[0].TotalCount),o(te(t,d))}else S.length>0&&o([]),R(n.length);else e.alertmsg("error",[t.Output.status.message])}))}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},ee=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));async function ae(){let e={};await B((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBEmployeeDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function le(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...C};let m=[..._],c=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSBEmployeeDetIDPK)).toString();t&&c.push(t)}await z((e=>(d=e,e)));let p={PPMSBEmployeeDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,EmployeeID:C.FirstName?.map((e=>e.EmployeeIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),PPMSBCreationWorkOrderID:C.SBCreWorkOrder?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString(),EmployeeTypeID:C.EmployeeTypeName?.map((e=>e.EmployeeTypeIDPK)).toString()};e.searchData(p)}function re(){return r().createElement(k.Z,{frmctrlid:"fld497L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{le(e,t,a,d.name,l)},keyboardback:()=>{M(!1),c({idpk:"",name:"",type:""})},title:X(d.name),fieldname:d.name,save:e=>{alert(!0)}})}return r().createElement("div",null,I?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(re,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Q(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:X("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(f.Z,{id:"fld497L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{M(!1),c({idpk:"",name:"",type:""}),W(1)}}))),C[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld497L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await B((t=>(e=t,x.log("clear fewItems",e),t))),e[d.name]=[],J(d.type,d.name,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},X("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},D?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(w.D7o,{className:"FilterMaximizeIcon",onClick:()=>{g(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(w.dOw,{className:"FilterMaximizeIcon",onClick:()=>{g(!0)}})))),r().createElement("ul",null,C[d.name]&&C[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:D?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=C[d.name].filter((t=>t!=e)),l={};await B((e=>(l=e,e))),l[d.name]=a,B(l),o((t=>[e,...t]))})(e)},r().createElement(f.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(N.Z,{frmctrlid:"fld497L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:X("Enter ")+" "+Q(d.idpk),onChange:e=>{P(e),J(d.type,d.name,e,1,ae())}})),r().createElement("div",{id:"fld497L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async t=>{let a="",l={};await B((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSBEmployeeDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSBEmployeeDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",EmployeeID:C.FirstName?.map((e=>e.EmployeeIDPK)).toString(),ContractID:C.ContractName?.map((e=>e.ContractIDPK)).toString(),LocalityID:C.LocalityName?.map((e=>e.LocalityIDPK)).toString(),PPMSBCreationWorkOrderID:C.SBCreWorkOrder?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString(),EmployeeTypeID:C.EmployeeTypeName?.map((e=>e.EmployeeTypeIDPK)).toString()};e.searchData(i),M(!1)}},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(O.Z,{color:"secondary"})),r().createElement("div",{id:"fld497L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await B((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},B(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(v.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld497L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(A+1),J(d.type,d.name,"",A+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(b.Ol$,{className:"columnHeaderIcon"})),r().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{$()},id:"fld497L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},X("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld497L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},X("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld497L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{M(!0),P(""),o([]),R(0),c({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBEmployeeDetID"}),J(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBEmployeeDetID",e,"",1,ae())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Q(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Q(e.AdminUserGridViewIDPK)),r().createElement(F.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),le("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Q(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&r().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a}))))))}));var W=a(54180),L=a(43031),R=a(110),K=a(5109),Z=a(88995),G=a(50743),z=a(61657),_=a(51209),q=a(53854),V=a(83817),H=a(39327),U=a(93521),j=a(71168),Y=a.n(j),X=a(65107),Q=a(94986),$=a(15999);a(11557),window.clickFilter="";const J=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("497"),[c,S]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),[D,g]=(0,l.useState)(0),[I,M]=(0,l.useState)(0),[T,v]=(0,l.useState)(0),[k,O]=(0,l.useState)(0),[F,x]=(0,l.useState)({current:1,pageSize:100}),[j,J]=(0,l.useState)(""),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)({val:"",column:""}),[re,ne]=(0,l.useState)([]),[ie,oe]=(0,l.useState)(!1),[de,se]=(0,l.useState)(""),[me,ce]=(0,l.useState)(""),[pe,ue]=(0,l.useState)(!1),[Se,Pe]=(0,l.useState)([]),[Ce,ye]=(0,l.useState)([]),[Be,De]=(0,l.useState)([]),[ge,Ie]=(0,l.useState)({children:[{name:"PPMSBEmployeeDetails",children:[]}]}),[Me,Ee]=(0,l.useState)(!1),he=(0,l.useContext)(e.context?e.context:ve),{cstate:fe,cdispatch:Te}=e.ContextApi?e.ContextApi:ke();let Ne={PPMSBEmployeeDetIDPK:"",PPMSBEmployeeCode:"",IsSBEmpPrimaryEmployee:"",IsSBEmpAllEmployee:"",SBEmpAccptKey:"",SBEmpTypeKey:"",SBEmpNoOfHours:"",IsDraft:"",Remarks:"",ContractID:"",LocalityID:"",EmployeeID:"",PPMSBCreationWorkOrderID:"",EmployeeTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ShiftID:"",ShiftCode:"",ShiftName:"",ClassificationID:"",ClassificationCode:"",ClassificationName:"",DepartmentID:"",DepartmentCode:"",DepartmentName:"",DesignationID:"",DesignationCode:"",DesignationName:"",NationalityID:"",NationalityCode:"",NationalityName:"",EmpWorkNatureID:"",NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:"",EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:"",EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:"",EmpGradeCode:"",EmpGradeName:"",CityID:"",CityCode:"",CityName:"",RegionID:"",RegionCode:"",RegionName:"",CountryID:"",CountryCode:"",CountryName:"",EmpGenderID:"",EmpGenderName:"",EmpTitleID:"",EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[be,we]=(0,l.useState)(Ne),[Oe,Fe]=(0,l.useState)(Ne),[xe,Ae]=(0,l.useState)(!1),[We,Le]=(0,l.useState)(!0),[Re,Ke]=(0,l.useState)(!1),[Ze,Ge]=(0,l.useState)(!0),[ze,_e]=(0,l.useState)({FirstName:"",IsSBEmpPrimaryEmployee:"",IsSBEmpAllEmployee:"",PPMSBEmployeeCode:"",SBEmpAccptKey:"",SBEmpTypeKey:"",SBEmpNoOfHours:"",ContractName:"",LocalityName:"",SBCreWorkOrder:"",EmployeeTypeName:""}),[qe,Ve]=(0,l.useState)(!1),[He,Ue]=(0,l.useState)([]),[je,Ye]=(0,l.useState)(0),[Xe,Qe]=(0,l.useState)(0),[$e,Je]=(0,l.useState)({current:1,pageSize:10}),[et,tt]=(0,l.useState)([]),[at,lt]=(0,l.useState)([]),[rt,nt]=(0,l.useState)(!1),[it,ot]=(0,l.useState)(!1),[dt,st]=(0,l.useState)(!1),[mt,ct]=(0,l.useState)(""),[pt,ut]=Y()("497"),[St,Pt]=(0,l.useState)({}),Ct=[{columns:et,data:j}];let yt=(0,y.Z)();const Bt=e=>yt[e]?yt[e]:e,Dt=e=>fe.language?.[e]?fe.language[e]:e;(0,l.useEffect)((()=>{Tt(pt)}),[pt]),(0,l.useEffect)((()=>{fe.token.length>0&&(e.parentId?ht(F,Ne,"PPMSBEmployeeDetID"):ne([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Me&&e.parentId?ht(F,de,"PPMSBEmployeeDetID"):Me&&Fe(de)}),[de]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{gt(e)},tableRefresh:()=>{ht(F,Ne,"PPMSBEmployeeDetID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{st(!0===e)}})));const gt=e=>{""==e?ht(F,Ne,xe?"DraftPPMSBEmployeeDetID":"PPMSBEmployeeDetID",xe&&"DraftPage"):ft(e,{current:1,pageSize:100}),ce(e)};function It(t){he.loading(!0);let a=u.v.Api+"FP497S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,fe.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Qe(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ye(Math.ceil(a)):20==t.pageSize?Ye(Math.ceil(a/2)):50==t.pageSize?Ye(Math.ceil(a/5)):100==t.pageSize&&Ye(Math.ceil(a/10)),Ue(e.Output.data),he.loading(!1)}}))}function Mt(e,t){Te({type:"editData",payload:[t]}),Te({type:"IsDraft",payload:xe}),Te({type:"ShowDetail",payload:!0}),he.Expanded(!0),Re&&ue(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ge(e.cardview),e.Dialogview&&(C(e.Dialogview),st(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&ft(e.searchsafaritext,{current:F.current,pageSize:F.pageSize})}),[e.searchsafaritext]);const Et=()=>{he.EditClose(!0),ie?(document.getElementById("PPMSBEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",oe(!1),Ze?(P||(document.getElementById("PPMSBEmployeeDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBEmployeeDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",oe(!0),document.getElementById("PPMSBEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBEmployeeDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ue(!1),window.clickFilter=!ie},ht=(t,a,l,r,n,i)=>{he.loading(!0),"DraftPage"!==r&&Ae(fe.IsDraft);let o=u.v.Api+"FP497S3/",d={data:{p1:n||(a&&a.PPMSBEmployeeDetIDPK?a.PPMSBEmployeeDetIDPK:null),p2:a&&a.PPMSBEmployeeCode?a.PPMSBEmployeeCode:null,p3:null,p4:null,p5:a&&a.SBEmpAccptKey?a.SBEmpAccptKey:null,p6:a&&a.SBEmpTypeKey?a.SBEmpTypeKey:null,p7:a&&a.SBEmpNoOfHours?a.SBEmpNoOfHours:null,p8:"DraftPPMSBEmployeeDetID"==l?"1":"0",p9:null,p10:a&&a.ContractID?a.ContractID:null,p11:a&&a.LocalityID?a.LocalityID:null,p12:a&&a.EmployeeID?a.EmployeeID:null,p13:e.parentId?Number(e.parentId):0,p14:a&&a.EmployeeTypeID?a.EmployeeTypeID:null,p15:a&&a.IsActive,p16:null,p17:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p18:a&&a.CreatedTtm?a.CreatedTtm:null,p19:a&&a.CreatedTtmType?a.CreatedTtmType:null,p20:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p21:null,p22:a&&a.ShiftID?a.ShiftID:null,p23:a&&a.ShiftCode?a.ShiftCode:null,p24:a&&a.ShiftName?a.ShiftName:null,p25:a&&a.ClassificationID?a.ClassificationID:null,p26:a&&a.ClassificationCode?a.ClassificationCode:null,p27:a&&a.ClassificationName?a.ClassificationName:null,p28:a&&a.DepartmentID?a.DepartmentID:null,p29:a&&a.DepartmentCode?a.DepartmentCode:null,p30:a&&a.DepartmentName?a.DepartmentName:null,p31:a&&a.DesignationID?a.DesignationID:null,p32:a&&a.DesignationCode?a.DesignationCode:null,p33:a&&a.DesignationName?a.DesignationName:null,p34:a&&a.NationalityID?a.NationalityID:null,p35:a&&a.NationalityCode?a.NationalityCode:null,p36:a&&a.NationalityName?a.NationalityName:null,p37:a&&a.EmpWorkNatureID?a.EmpWorkNatureID:null,p38:a&&a.NatureOfWorkCode?a.NatureOfWorkCode:null,p39:a&&a.NatureOfWorkName?a.NatureOfWorkName:null,p40:a&&a.EmployeeTypeCode?a.EmployeeTypeCode:null,p41:a&&a.EmployeeTypeName?a.EmployeeTypeName:null,p42:a&&a.EmploymentTypeID?a.EmploymentTypeID:null,p43:a&&a.EmploymentTypCode?a.EmploymentTypCode:null,p44:a&&a.EmploymentTypeName?a.EmploymentTypeName:null,p45:a&&a.EmployeeGroupID?a.EmployeeGroupID:null,p46:a&&a.EmployeeGroupCode?a.EmployeeGroupCode:null,p47:a&&a.EmployeeGroupName?a.EmployeeGroupName:null,p48:a&&a.EmpGradeID?a.EmpGradeID:null,p49:a&&a.EmpGradeCode?a.EmpGradeCode:null,p50:a&&a.EmpGradeName?a.EmpGradeName:null,p51:a&&a.CityID?a.CityID:null,p52:a&&a.CityCode?a.CityCode:null,p53:a&&a.CityName?a.CityName:null,p54:a&&a.RegionID?a.RegionID:null,p55:a&&a.RegionCode?a.RegionCode:null,p56:a&&a.RegionName?a.RegionName:null,p57:a&&a.CountryID?a.CountryID:null,p58:a&&a.CountryCode?a.CountryCode:null,p59:a&&a.CountryName?a.CountryName:null,p60:a&&a.EmpGenderID?a.EmpGenderID:null,p61:a&&a.EmpGenderName?a.EmpGenderName:null,p62:a&&a.EmpTitleID?a.EmpTitleID:null,p63:a&&a.EmpTitleName?a.EmpTitleName:null,p64:a&&a.EmployeeCode?a.EmployeeCode:null,p65:a&&a.FirstName?a.FirstName:null,p66:a&&a.EmpContactNo1?a.EmpContactNo1:null,p67:a&&a.EmpEmailOfficial?a.EmpEmailOfficial:null,p68:n?1:t.current,p69:t.pageSize,p70:l,p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}};(0,p.Z)(o,d,fe.token[0]).then((o=>{if(n)(0,V.a)(o,Te,r,i,he);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,v(o.Output.data[0].TotalCount),O(o.Output.data[0].DraftCnt),Te({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&O(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?M(Math.ceil(e)):20==t.pageSize?M(Math.ceil(e/2)):50==t.pageSize?M(Math.ceil(e/5)):100==t.pageSize&&M(Math.ceil(e/10)),ne(o.Output.data),he.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBEmployeeDetails-Entry").style.height="auto",document.getElementById("divPPMSBEmployeeDetails-Entry").style.display="block")}else he.loading(!1),"DraftPPMSBEmployeeDetID"===l?(he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ue(!0),Ae(!1)):(ne([]),x({current:1,pageSize:10}),M(0),v(0),Te({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&he.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else he.alert({open:!0,color:"warning",message:[o.Output.status.message]}),he.loading(!1)}))};function ft(t,a){he.loading(!0);const l=u.v.Api+"FP497S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:xe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,r,fe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount),Te({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?M(Math.ceil(t)):20==a.pageSize?M(Math.ceil(t/2)):50==a.pageSize?M(Math.ceil(t/5)):100==a.pageSize&&M(Math.ceil(t/10)),ne(e.Output.data),he.loading(!1)}else ne([]),M(0),v(0),Te({type:"count",payload:"0"}),he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he.loading(!1);else he.alert({open:!0,color:"warning",message:[e.Output.status.message]}),he.loading(!1)}))}function Tt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Te({type:"language",payload:Object.assign({},...r)}),_e(a.reduce(((e,t)=>(e[t]="",e)),{})),Pe(e),ye(t),De(a),tt(l),lt(a)}const vt=()=>Me?null:r().createElement("div",null,qe?r().createElement(Q.Z,{data:He,expanded:e=>!P&&he.Expanded(e),edit:(e,t,a)=>{P?he.select(e):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:t}),Te({type:"ShowDetail",payload:a}))}}):r().createElement(X.Z,{ref:d,frmctrlid:"tblcs_497_L1_",id:"PPMSBEmployeeDetailsTable",headerdata:Ce,tablesearchparams:ze,searchvalue:e=>{_e(e),se(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Pt(t),x({current:1,pageSize:10}),ht({current:1,pageSize:10},t,xe?"DraftPPMSBEmployeeDetID":"PPMSBEmployeeDetID",xe&&"DraftPage")},bodydata:re,ondrag:Mt,bodyitem:Be,visibleitem:Ce,isdraft:xe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:fe.AccessRights,expanded:e=>!P&&he.Expanded(e),edit:(e,t,a)=>{P?he.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&ht(F,null,t?"DraftPPMSBEmployeeDetID":"PPMSBEmployeeDetID",t&&"DraftPage",e[l],a)})),he.hideAddBtn(!0))},viewtoggle:he.viewtoggle,isexpanded:!P||Re,tf:Dt,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Ke(fe.ExpandTableValue)}),[fe.ExpandTableValue]),r().createElement("div",null,!dt&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld497L1ECSearchBar",className:"searchbar1"},r().createElement(N.Z,{frmctrlid:"fld497L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Bt("Search"),value:me,onChange:e=>{ce(e),he.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},me?r().createElement("div",{id:"fld497L1TCCloseIconCommonSearch",onClick:()=>{ce(""),he.searchItem("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld497L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBEmployeeDetailsgridsearch").focus()}})))),r().createElement("div",null,fe.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld497L1TCAddBtnIsAdd",onClick:()=>{he.hideAddBtn(!0),Te({type:"editData",payload:[]}),Te({type:"ShowDetail",payload:!1}),Te({type:"Add",payload:!0})}}):"")),r().createElement(E.Z,{expanded:We,onChange:()=>()=>{Le(Re)}},e.Dialogview&&r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.46-6:37:15 PM-31-5[497]"},`${Dt("497")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld497L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(N.Z,{frmctrlid:"fld497L1TCInputSearch",className:"search_input",type:"text",placeholder:Bt("Search"),value:me,onChange:e=>{gt(e)}}),r().createElement("div",{className:"search_icon"},me?r().createElement("div",{id:"fld497L1TCInputCloseIcon",onClick:()=>{gt("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld497L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon"}))))))),r().createElement(h.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSBEmployeeDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!xe&&r().createElement("div",{frmctrlid:"fld497L1TCFilterDataIsDraft",id:"PPMSBEmployeeDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Et()}},r().createElement(i.ZP,{title:Bt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(b.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Bt("Filter Data"))),!P&&!xe&&!Me&&r().createElement(W.Z,{formctrlidprint:"fld497L1TCExportPrint",formctrlidexport:"fld497L1TCExportTable",formctrlidrefresh:"fld497L1TCExportRefresh",title:Dt("497"),data:ee,exportData:Ct,Items:at,columnIndex:et,TableVisibleItem:Ce,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return he.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;he.loading(!0);let o=u.v.Api+"FP497S3/",d={data:{p1:t&&t.PPMSBEmployeeDetIDPK?t.PPMSBEmployeeDetIDPK:null,p2:t&&t.PPMSBEmployeeCode?t.PPMSBEmployeeCode:null,p3:null,p4:null,p5:t&&t.SBEmpAccptKey?t.SBEmpAccptKey:null,p6:t&&t.SBEmpTypeKey?t.SBEmpTypeKey:null,p7:t&&t.SBEmpNoOfHours?t.SBEmpNoOfHours:null,p8:xe?"1":"0",p9:null,p10:t&&t.ContractID?t.ContractID:null,p11:t&&t.LocalityID?t.LocalityID:null,p12:t&&t.EmployeeID?t.EmployeeID:null,p13:e.parentId?Number(e.parentId):0,p14:t&&t.EmployeeTypeID?t.EmployeeTypeID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.ShiftID?t.ShiftID:null,p23:t&&t.ShiftCode?t.ShiftCode:null,p24:t&&t.ShiftName?t.ShiftName:null,p25:t&&t.ClassificationID?t.ClassificationID:null,p26:t&&t.ClassificationCode?t.ClassificationCode:null,p27:t&&t.ClassificationName?t.ClassificationName:null,p28:t&&t.DepartmentID?t.DepartmentID:null,p29:t&&t.DepartmentCode?t.DepartmentCode:null,p30:t&&t.DepartmentName?t.DepartmentName:null,p31:t&&t.DesignationID?t.DesignationID:null,p32:t&&t.DesignationCode?t.DesignationCode:null,p33:t&&t.DesignationName?t.DesignationName:null,p34:t&&t.NationalityID?t.NationalityID:null,p35:t&&t.NationalityCode?t.NationalityCode:null,p36:t&&t.NationalityName?t.NationalityName:null,p37:t&&t.EmpWorkNatureID?t.EmpWorkNatureID:null,p38:t&&t.NatureOfWorkCode?t.NatureOfWorkCode:null,p39:t&&t.NatureOfWorkName?t.NatureOfWorkName:null,p40:t&&t.EmployeeTypeCode?t.EmployeeTypeCode:null,p41:t&&t.EmployeeTypeName?t.EmployeeTypeName:null,p42:t&&t.EmploymentTypeID?t.EmploymentTypeID:null,p43:t&&t.EmploymentTypCode?t.EmploymentTypCode:null,p44:t&&t.EmploymentTypeName?t.EmploymentTypeName:null,p45:t&&t.EmployeeGroupID?t.EmployeeGroupID:null,p46:t&&t.EmployeeGroupCode?t.EmployeeGroupCode:null,p47:t&&t.EmployeeGroupName?t.EmployeeGroupName:null,p48:t&&t.EmpGradeID?t.EmpGradeID:null,p49:t&&t.EmpGradeCode?t.EmpGradeCode:null,p50:t&&t.EmpGradeName?t.EmpGradeName:null,p51:t&&t.CityID?t.CityID:null,p52:t&&t.CityCode?t.CityCode:null,p53:t&&t.CityName?t.CityName:null,p54:t&&t.RegionID?t.RegionID:null,p55:t&&t.RegionCode?t.RegionCode:null,p56:t&&t.RegionName?t.RegionName:null,p57:t&&t.CountryID?t.CountryID:null,p58:t&&t.CountryCode?t.CountryCode:null,p59:t&&t.CountryName?t.CountryName:null,p60:t&&t.EmpGenderID?t.EmpGenderID:null,p61:t&&t.EmpGenderName?t.EmpGenderName:null,p62:t&&t.EmpTitleID?t.EmpTitleID:null,p63:t&&t.EmpTitleName?t.EmpTitleName:null,p64:t&&t.EmployeeCode?t.EmployeeCode:null,p65:t&&t.FirstName?t.FirstName:null,p66:t&&t.EmpContactNo1?t.EmpContactNo1:null,p67:t&&t.EmpEmailOfficial?t.EmpEmailOfficial:null,p68:F.current,p69:T,p70:xe?"DraftPPMSBEmployeeDetID":"PPMSBEmployeeDetID",p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}};he.loading(!1),he.alert({open:!0,color:"success",message:[`${Dt(497)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(o,d,fe.token[0],i).then((e=>{(0,U.PDF_Excel_Generate)(e,he,at,J,a,i)}))})(de,ae.column,0,0,t)},Refresh:()=>{ce(""),x({current:1,pageSize:100}),d.current.clearItem(),fe.IsDraft?ht({current:1,pageSize:100},Ne,"DraftPPMSBEmployeeDetID"):ht({current:1,pageSize:100},Ne,"PPMSBEmployeeDetID")},disabledPrint:!fe.AccessRights.IsPrint,disabledExport:!fe.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!xe&&!Me&&!P&&r().createElement("div",{className:"buttoncard",onClick:()=>ot(!it)},r().createElement("span",null,it?r().createElement(i.ZP,{disableFocusListener:!0,title:Bt("Less"),placement:"top"},r().createElement("span",{id:"fld497L1TCLess"},r().createElement(q.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Bt("More"),placement:"top"},r().createElement("span",{id:"fld497L1TCMore"},r().createElement(q.ilJ,{className:"tableFilterColumnIcon"}))))),it?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Me||!Re?null:P||!fe.AccessRights.IsAdd||xe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld497L1TCFilterDataIsAdd",id:"PPMSBEmployeeDetailscoldiv",className:"buttoncard",onClick:()=>{he.EditClose(!0),pe?(document.getElementById("PPMSBEmployeeDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBEmployeeDetailsTabDiv").style.width="100%",document.getElementById("PPMSBEmployeeDetailsFilterDiv").style.display="none",document.getElementById("PPMSBEmployeeDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBEmployeeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ue(!1)):(document.getElementById("PPMSBEmployeeDetailsFilterDiv").style.width="25%",document.getElementById("PPMSBEmployeeDetailsTabDiv").style.width="75%",document.getElementById("PPMSBEmployeeDetailsFilterDiv").style.display="block",document.getElementById("PPMSBEmployeeDetailsfildiv").style.width="fit-content",document.getElementById("PPMSBEmployeeDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBEmployeeDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBEmployeeDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",ue(!0)),oe(!1)}},r().createElement(i.ZP,{title:Bt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(H.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Bt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&Re&&!Me&&!xe&&r().createElement("div",null,r().createElement("div",{id:"PPMSBEmployeeDetailscoldiv",className:"buttoncard",onClick:()=>{qe?Ve(!1):(Ve(!0),It({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Bt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld497L1TCTableScrollData"},r().createElement($.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Bt("Table Scroll Data")))))):""),!xe&&!P&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Me||xe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ze?"buttonList":"buttonGrid",id:"fld497L1TCListView",onClick:()=>{Ge(!0),nt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(q.umT,null)),r().createElement("span",null,Bt("List"))),r().createElement("div",{className:Ze||rt?"buttonGrid":"buttonList",id:"fld497L1TCCardView",onClick:()=>{Ge(!1),nt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.aCJ,null)),r().createElement("span",null,Bt("Card"))),r().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld497L1TCTileView",onClick:()=>{nt(!0),Ge(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.f_H,null)),r().createElement("span",null,Bt("Tile"))))))),Me?null:qe?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld497L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Xe),page:D,onPageChange:(e,t)=>{g(t),It({current:t+1,pageSize:$e.pageSize}),Je({current:t+1,pageSize:$e.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:je,color:"primary",page:$e.current,onChange:(e,t)=>{Je({current:t,pageSize:$e.pageSize}),Ye(t),It({current:t,pageSize:$e.pageSize})}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:$e.pageSize,frmctrlid:"fld497L1TCSelectPagination",onChange:e=>{Je({current:1,pageSize:e.target.value}),It({current:1,pageSize:e.target.value})}},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Bt("RowperpageOf")," (",Xe,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld497L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:D,onPageChange:(e,t)=>{g(t),ht({current:t+1,pageSize:F.pageSize},Ne,xe?"DraftPPMSBEmployeeDetID":"PPMSBEmployeeDetID",xe&&"DraftPage"),x({current:t+1,pageSize:F.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:I,siblingCount:0,color:"primary",page:F.current,onChange:(e,t)=>{if(x({current:t,pageSize:F.pageSize}),xe)ht({current:t,pageSize:F.pageSize},be,"DraftPPMSBEmployeeDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";me.length>0?ft(me,{current:t,pageSize:F.pageSize}):ht({current:t,pageSize:F.pageSize},be,"PPMSBEmployeeDetID")}}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:F.pageSize,id:"fld497L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),xe?ht({current:1,pageSize:e.target.value},be,"DraftPPMSBEmployeeDetID","DraftPage"):me.length>0?ft(me,{current:1,pageSize:e.target.value}):ht({current:1,pageSize:e.target.value},be,"PPMSBEmployeeDetID")}},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Re&&r().createElement("p",{className:"per-page"},"/ ",Bt("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSBEmployeeDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSBEmployeeDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ie&&r().createElement(A,{parentId:e.parentId,searchData:e=>{se(e||St),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:fe.token[0],CloseBtnClk:()=>Et(),userGrid:pt,msg:(e,t)=>he.alert({open:!0,color:t,message:[e]})}),pe&&r().createElement(K.Z,{Refresh:e=>{ht({current:1,pageSize:100},Ne,"PPMSBEmployeeDetID")},frmctrlid:"fld497L1TCTableColumnOrder",loading:e=>he.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>he.alert({open:!0,color:t,message:[e]}),select:pe,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&Tt(t),ut(t),Te({type:"showTableview",payload:t})},Token:fe.token[0]})),r().createElement("div",{id:"PPMSBEmployeeDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ze?r().createElement(vt,null):r().createElement(_.Z,{frmctrlid:"fld497L1TCExpandedCardDual",data:re,id:"PPMSBEmployeeDetails",title:"PPMSBEmployeeCode",cardTile:!!rt,visibleitem:Ce,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?he.select(e):("edit"==t?(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:xe}),Te({type:"ShowDetail",payload:!1}),he.Expanded(!0)):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:xe}),Te({type:"ShowDetail",payload:!0}),he.Expanded(!0),he.viewtoggle()),ie?oe(!0):pe?ue(!0):(ue(!1),ue(!1))),he.hideAddBtn(!0)}})))))))}));var ee=a(30553),te=a(61956),ae=a(44528),le=a(99090),re=a(35131),ne=a.n(re),ie=a(61924),oe=a.n(ie),de=a(40826),se=a(55490),me=a(92371);const ce={EnterKeyValues:{PPMSBEmployeeDetails:["FirstName","IsSBEmpPrimaryEmployee","IsSBEmpAllEmployee","PPMSBEmployeeCode","SBEmpAccptKey","SBEmpTypeKey","SBEmpNoOfHours","ContractName","LocalityName","SBCreWorkOrder","EmployeeTypeName"]},Label:{PPMSBEmployeeDetails:{EmployeeID:["EmployeeCode","FirstName"],IsSBEmpPrimaryEmployee:["PPMSBEmployeeCode"],IsSBEmpAllEmployee:["PPMSBEmployeeCode"],PPMSBEmployeeCode:["PPMSBEmployeeCode"],SBEmpAccptKey:["PPMSBEmployeeCode"],SBEmpTypeKey:["PPMSBEmployeeCode"],SBEmpNoOfHours:["PPMSBEmployeeCode"],ContractID:["PPMSBEmployeeCode"],LocalityID:["PPMSBEmployeeCode"],PPMSBCreationWorkOrderID:["PPMSBEmployeeCode"],EmployeeTypeID:["PPMSBEmployeeCode"]}},LabelHeader:{PPMSBEmployeeDetails:{EmployeeID:["Employee Code","First Name"],IsSBEmpPrimaryEmployee:["PPMSBEmployeeCode"],IsSBEmpAllEmployee:["PPMSBEmployeeCode"],PPMSBEmployeeCode:["PPMSBEmployeeCode"],SBEmpAccptKey:["PPMSBEmployeeCode"],SBEmpTypeKey:["PPMSBEmployeeCode"],SBEmpNoOfHours:["PPMSBEmployeeCode"],ContractID:["PPMSBEmployeeCode"],LocalityID:["PPMSBEmployeeCode"],PPMSBCreationWorkOrderID:["PPMSBEmployeeCode"],EmployeeTypeID:["PPMSBEmployeeCode"]}},Property:{PPMSBEmployeeDetails:{EmployeeID:{id:"fld497_22029",clearID:"PPMSBEmployeeDetailsFirstNameClear",type:"select",labelID:"EmployeeIDPK",labelname:"Employee",fielddisplayname:"FirstName",fieldOrder:"1",frmctrlid:"fld497_22029",frmctrlidname:"EmployeeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},IsSBEmpPrimaryEmployee:{id:"fld497_22020",labelID:"IsSBEmpPrimaryEmployee",maxLength:"",labelname:"Primary Employee",frmctrlid:"fld497_22020",frmctrlidname:"IsSBEmpPrimaryEmployee",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBEmpAllEmployee:{id:"fld497_22021",labelID:"IsSBEmpAllEmployee",maxLength:"",labelname:"Show all Employees",frmctrlid:"fld497_22021",frmctrlidname:"IsSBEmpAllEmployee",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBEmployeeCode:{id:"fld497_22019",labelID:"PPMSBEmployeeCode",maxLength:"50",labelname:"PPMSBEmployeeCode",frmctrlid:"fld497_22019",frmctrlidname:"PPMSBEmployeeCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBEmpAccptKey:{id:"fld497_22022",labelID:"SBEmpAccptKey",maxLength:"",labelname:"SBEmpAccptKey",frmctrlid:"fld497_22022",frmctrlidname:"SBEmpAccptKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBEmpTypeKey:{id:"fld497_22023",labelID:"SBEmpTypeKey",maxLength:"",labelname:"SBEmpTypeKey",frmctrlid:"fld497_22023",frmctrlidname:"SBEmpTypeKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBEmpNoOfHours:{id:"fld497_22024",labelID:"SBEmpNoOfHours",maxLength:"",labelname:"SBEmpNoOfHours",frmctrlid:"fld497_22024",frmctrlidname:"SBEmpNoOfHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld497_22027",clearID:"PPMSBEmployeeDetailsContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"ContractID",fielddisplayname:"ContractName",fieldOrder:"3",frmctrlid:"fld497_22027",frmctrlidname:"ContractID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},LocalityID:{id:"fld497_22028",clearID:"PPMSBEmployeeDetailsLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"LocalityID",fielddisplayname:"LocalityName",fieldOrder:"3",frmctrlid:"fld497_22028",frmctrlidname:"LocalityID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMSBCreationWorkOrderID:{id:"fld497_22030",clearID:"PPMSBEmployeeDetailsSBCreWorkOrderClear",type:"select",labelID:"PPMSBCreationWorkOrderIDPK",labelname:"PPMSBCreationWorkOrderID",fielddisplayname:"SBCreWorkOrder",fieldOrder:"3",frmctrlid:"fld497_22030",frmctrlidname:"PPMSBCreationWorkOrderID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},EmployeeTypeID:{id:"fld497_22031",clearID:"PPMSBEmployeeDetailsEmployeeTypeNameClear",type:"select",labelID:"EmployeeTypeIDPK",labelname:"EmployeeTypeID",fielddisplayname:"EmployeeTypeName",fieldOrder:"3",frmctrlid:"fld497_22031",frmctrlidname:"EmployeeTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBEmployeeDetails:{EmployeeID:["EmployeeCode","FirstName","LastName","EmpDateofBirth","EmpContactNo1","EmpEmailOfficial","DepartmentName","DesignationName"],ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],PPMSBCreationWorkOrderID:["SBCreSLAHours","SBCreWorkOrder","SBCreWoDateTime","ContractID","BuildingID","LocalityID","SpotID","FloorID","DisciplineID","DivisionID","FrequencyID","PPMStageID"],EmployeeTypeID:["CreatedTtm","EmployeeTypeCode","EmployeeTypeName","IsActive","IsDraft"]}}};var pe=a(6562),ue=a(45155),Se=(a(49174),a(38773)),Pe=(a(19089),a(16233)),Ce=a.n(Pe),ye=(a(82729),a(75355),a(11107),a(74095));const Be={PPMSBEmployeeDetIDPK:"",PPMSBEmployeeCode:"",IsSBEmpPrimaryEmployee:!1,IsSBEmpAllEmployee:!1,SBEmpAccptKey:"",SBEmpTypeKey:"",SBEmpNoOfHours:"",IsDraft:!1,Remarks:"",ContractID:null,LocalityID:null,EmployeeID:null,PPMSBCreationWorkOrderID:null,EmployeeTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ShiftID:null,ShiftCode:"",ShiftName:"",ClassificationID:null,ClassificationCode:"",ClassificationName:"",DepartmentID:null,DepartmentCode:"",DepartmentName:"",DesignationID:null,DesignationCode:"",DesignationName:"",NationalityID:null,NationalityCode:"",NationalityName:"",EmpWorkNatureID:null,NatureOfWorkCode:"",NatureOfWorkName:"",EmployeeTypeCode:"",EmployeeTypeName:"",EmploymentTypeID:null,EmploymentTypCode:"",EmploymentTypeName:"",EmployeeGroupID:null,EmployeeGroupCode:"",EmployeeGroupName:"",EmpGradeID:null,EmpGradeCode:"",EmpGradeName:"",CityID:null,CityCode:"",CityName:"",RegionID:null,RegionCode:"",RegionName:"",CountryID:null,CountryCode:"",CountryName:"",EmpGenderID:null,EmpGenderName:"",EmpTitleID:null,EmpTitleName:"",EmployeeCode:"",FirstName:"",EmpContactNo1:"",EmpEmailOfficial:"",Type:"PPMSBEmployeeDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},De=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!0),[C,B]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[M,f]=(0,l.useState)(""),[T,v]=(0,l.useState)(!1),[k,N]=(0,l.useState)([]),[b,w]=(0,l.useState)(null),[O,x]=(0,l.useReducer)(me.Z,Be),[A,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),z=(0,l.useContext)(e.context?e.context:ve),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:ke(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ce()("497"),[$,J]=(0,l.useState)([]),ae=(0,l.useRef)(null),[le,re]=(0,l.useState)(!0),[ie,de]=(0,l.useState)(!0),[Se,Pe]=(0,l.useState)(!0),[De,ge]=(0,l.useState)(!0),[Ie,Me]=(0,l.useState)(!1);let Ee=(0,y.Z)();const[he,fe]=(0,l.useState)({}),Te=e=>Ee[e]?Ee[e]:e,Ne=t=>_.language?.[t]?_.language[t]:e.createEasy?he?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{we()}),[]),(0,l.useEffect)((()=>{we()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(be(_.editData[0],""),B(!0)):_.Add&&(we(),B(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),fe(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{we()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(ze(t),B(e)):(we(),B(e))},AddOpen:e=>{we(),B(!0)}})));const be=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultPPMSBEmployeeDetID"==a?j(t.PPMSBEmployeeDetIDPK):(H(e.primid?Number(e.primid):t.PPMSBEmployeeDetIDPK?t.PPMSBEmployeeDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSBEmployeeDetIDPK})),x({type:"number",name:"EmployeeID",number:t.EmployeeID?Number(t.EmployeeID):0}),x({type:"text",name:"FirstName",value:t.FirstName}),x({type:"boolean",name:"IsSBEmpPrimaryEmployee",boolean:!!t.IsSBEmpPrimaryEmployee&&t.IsSBEmpPrimaryEmployee}),x({type:"boolean",name:"IsSBEmpAllEmployee",boolean:!!t.IsSBEmpAllEmployee&&t.IsSBEmpAllEmployee}),x({type:"text",name:"PPMSBEmployeeCode",value:t.PPMSBEmployeeCode?t.PPMSBEmployeeCode:""}),x({type:"number",name:"SBEmpAccptKey",number:t.SBEmpAccptKey}),x({type:"number",name:"SBEmpTypeKey",number:t.SBEmpTypeKey}),x({type:"number",name:"SBEmpNoOfHours",number:t.SBEmpNoOfHours}),x({type:"number",name:"ContractID",number:t.ContractID?Number(t.ContractID):0}),x({type:"text",name:"ContractName",value:t.ContractName}),x({type:"number",name:"LocalityID",number:t.LocalityID?Number(t.LocalityID):0}),x({type:"text",name:"LocalityName",value:t.LocalityName}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:t.PPMSBCreationWorkOrderID?Number(t.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:t.SBCreWorkOrder}),x({type:"number",name:"EmployeeTypeID",number:t.EmployeeTypeID?Number(t.EmployeeTypeID):0}),x({type:"text",name:"EmployeeTypeName",value:t.EmployeeTypeName}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},we=()=>{N([]),j(""),q({type:"PrimaryId",payload:""}),x({type:"text",name:"EmployeeID",value:null}),x({type:"text",name:"FirstName",value:""}),document.getElementById("PPMSBEmployeeDetailsFirstNameClear")&&document.getElementById("PPMSBEmployeeDetailsFirstNameClear").click(),document.getElementById("PPMSBEmployeeDetailsEmployeeIDClear")&&document.getElementById("PPMSBEmployeeDetailsEmployeeIDClear").click(),J([]),x({type:"boolean",name:"IsSBEmpPrimaryEmployee",boolean:!1}),x({type:"boolean",name:"IsSBEmpAllEmployee",boolean:!1}),x({type:"text",name:"PPMSBEmployeeCode",value:""}),x({type:"number",name:"SBEmpAccptKey",number:0}),x({type:"number",name:"SBEmpTypeKey",number:0}),x({type:"number",name:"SBEmpNoOfHours",number:0}),x({type:"text",name:"ContractID",value:null}),x({type:"text",name:"ContractName",value:""}),document.getElementById("PPMSBEmployeeDetailsContractNameClear")&&document.getElementById("PPMSBEmployeeDetailsContractNameClear").click(),x({type:"text",name:"LocalityID",value:null}),x({type:"text",name:"LocalityName",value:""}),document.getElementById("PPMSBEmployeeDetailsLocalityNameClear")&&document.getElementById("PPMSBEmployeeDetailsLocalityNameClear").click(),x({type:"text",name:"PPMSBCreationWorkOrderID",value:null}),x({type:"text",name:"SBCreWorkOrder",value:""}),document.getElementById("PPMSBEmployeeDetailsSBCreWorkOrderClear")&&document.getElementById("PPMSBEmployeeDetailsSBCreWorkOrderClear").click(),x({type:"text",name:"EmployeeTypeID",value:null}),x({type:"text",name:"EmployeeTypeName",value:""}),document.getElementById("PPMSBEmployeeDetailsEmployeeTypeNameClear")&&document.getElementById("PPMSBEmployeeDetailsEmployeeTypeNameClear").click(),H(0),c(!0),f(""),re(!0),de(!0),Pe(!0),ge(!0)},Oe=t=>{re(!0),de(!0),Pe(!0),ge(!0),z.loading(!0),z.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=`${u.v.Api}${V?"FP497S1/":"FP497S19/"}`,l={data:[{p1:"SetDefaultPPMSBEmployeeDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:_e(O.PPMSBEmployeeCode),p3:O.IsSBEmpPrimaryEmployee,p4:O.IsSBEmpAllEmployee,p5:O.SBEmpAccptKey?Number(O.SBEmpAccptKey):0,p6:O.SBEmpTypeKey?Number(O.SBEmpTypeKey):0,p7:O.SBEmpNoOfHours?Number(O.SBEmpNoOfHours):0,p8:!1,p9:"SetDefaultPPMSBEmployeeDetID"==t?"SetDefault":null,p10:O.ContractID?O.ContractID:0,p11:O.LocalityID?O.LocalityID:0,p12:V?O.EmployeeID:0==$.length?0:$.map((e=>e.EmployeeIDPK)).toString(),p13:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p14:O.EmployeeTypeID?O.EmployeeTypeID:0,p15:d,p16:"SetDefaultPPMSBEmployeeDetID"==t,p17:localStorage.getItem("userid"),p18:ne()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((r=>{(0,te.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?("SetDefaultPPMSBEmployeeDetID"==t?z.alert({open:!0,color:"success",message:[Te("Default Record Configured")]}):z.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttPPMSBEmployeeDetails"),z.loading(!1),q({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(a[0].Data.IDPK)),we(),_.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttPPMSBEmployeeDetails")&&(document.getElementById("overlayimgAttPPMSBEmployeeDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBEmployeeDetails").style.display="none",document.getElementById("divPPMSBEmployeeDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBEmployeeDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[l.message]}),z.loading(!1)),B(!0)}))}))},Fe=t=>{z.loading(!0),z.ConfirmAlert(null);const a=u.v.Api+"FP497S2/",l={data:[{p1:"SetDefaultPPMSBEmployeeDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:_e(O.PPMSBEmployeeCode),p3:O.IsSBEmpPrimaryEmployee,p4:O.IsSBEmpAllEmployee,p5:O.SBEmpAccptKey?Number(O.SBEmpAccptKey):0,p6:O.SBEmpTypeKey?Number(O.SBEmpTypeKey):0,p7:O.SBEmpNoOfHours?Number(O.SBEmpNoOfHours):0,p8:!1,p9:"SetDefaultPPMSBEmployeeDetID"==t?"SetDefault":null,p10:O.ContractID?O.ContractID:0,p11:O.LocalityID?O.LocalityID:0,p12:V?O.EmployeeID:0==$.length?0:$.map((e=>e.EmployeeIDPK)).toString(),p13:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p14:O.EmployeeTypeID?O.EmployeeTypeID:0,p15:d,p16:"SetDefaultPPMSBEmployeeDetID"==t,p17:localStorage.getItem("userid"),p18:ne()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((e=>{(0,p.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,r=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:r}),z.loading(!1)):Oe()):(z.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),z.loading(!1))}))}))};function xe(e){return CreateEasy(e,_,q,z,Y),!1}function Ae(e,a){return AdvanceSearch(e,a,ve,ke(),Re,t),!1}const We=(t,a,l,r,n,i)=>{const o=u.v.Api+"FP497S3/",d={data:{p1:null,p2:null,p3:1==O.IsSBEmpPrimaryEmployee,p4:1==O.IsSBEmpAllEmployee,p5:a?"%"+a+"%":null,p6:a?"%"+a+"%":null,p7:a?"%"+a+"%":null,p8:null,p9:null,p10:"0"==O.ContractID?null:O.ContractID,p11:"0"==O.LocalityID?null:O.LocalityID,p12:O.EmployeeID?O.EmployeeID:null,p13:e.parentId?Number(e.parentId):0,p14:"0"==O.EmployeeTypeID?null:O.EmployeeTypeID,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:"0"==O.ShiftID?null:O.ShiftID,p23:a?"%"+a+"%":null,p24:a?"%"+a+"%":null,p25:"0"==O.ClassificationID?null:O.ClassificationID,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:"0"==O.DepartmentID?null:O.DepartmentID,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:"0"==O.DesignationID?null:O.DesignationID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==O.NationalityID?null:O.NationalityID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==O.EmpWorkNatureID?null:O.EmpWorkNatureID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==O.EmploymentTypeID?null:O.EmploymentTypeID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==O.EmployeeGroupID?null:O.EmployeeGroupID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==O.EmpGradeID?null:O.EmpGradeID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==O.CityID?null:O.CityID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:"0"==O.RegionID?null:O.RegionID,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:"0"==O.CountryID?null:O.CountryID,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:"0"==O.EmpGenderID?null:O.EmpGenderID,p61:a?"%"+a+"%":null,p62:"0"==O.EmpTitleID?null:O.EmpTitleID,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:t,p69:i||10,p70:l,p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);const m={data:s};(0,p.Z)(o,"ClearAll"==l?m:d,"PKDrag"==r?n:_.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?e>0?(R(r),i&&"EmployeeIDPK"==l&&(ae.current.checkedAll(r),z.loading(!1))):R([]):R(L.concat(r)),"SetDefaultPPMSBEmployeeDetID"==l&&(e>0?be(r[0],"SetDefaultPPMSBEmployeeDetID"):j("NORECORDS")),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Le=(t,l,r)=>{const n=u.v.Api+"FP497S3/",i={data:{p1:null,p2:"PPMSBEmployeeCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID?a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID:"0",p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:t,p69:10,p70:"PPMSBEmployeeDetID",p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,p.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBEmployeeCode"==r&&re(e>0),"SBEmpAccptKey"==r&&de(e>0),"SBEmpTypeKey"==r&&Pe(e>0),"SBEmpNoOfHours"==r&&ge(e>0),R(l)):("PPMSBEmployeeCode"==r&&re(!0),"SBEmpAccptKey"==r&&de(!0),"SBEmpTypeKey"==r&&Pe(!0),"SBEmpNoOfHours"==r&&ge(!0),R(L.concat(l))),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Re=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a?x({type:"text",name:t,value:e}):"select"==a&&"EmployeeID"==t&&(x({type:"text",name:"EmployeeID",value:e.EmployeeIDPK?e.EmployeeIDPK:null}),x({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:null}))}),[O]);function Ke(e){if("EmployeeID"==e){if(!O.EmployeeID)return!1;x({type:"text",name:"EmployeeID",value:null}),x({type:"text",name:"FirstName",value:""}),document.getElementById("PPMSBEmployeeDetailsEmployeeIDClear")&&document.getElementById("PPMSBEmployeeDetailsEmployeeIDClear").click(),J([]),document.getElementById("PPMSBEmployeeDetailsFirstNameClear")&&document.getElementById("PPMSBEmployeeDetailsFirstNameClear").click()}else if("ContractID"==e){if(!O.ContractID)return!1}else if("LocalityID"==e){if(!O.LocalityID)return!1}else if("PPMSBCreationWorkOrderID"==e){if(!O.PPMSBCreationWorkOrderID)return!1}else if("EmployeeTypeID"==e&&!O.EmployeeTypeID)return!1}function Ze(e){if("EmployeeID"==e){if(!O.EmployeeID)return!1;x({type:"text",name:"EmployeeID",value:null})}else if("ContractID"==e){if(!O.ContractID)return!1}else if("LocalityID"==e){if(!O.LocalityID)return!1}else if("PPMSBCreationWorkOrderID"==e){if(!O.PPMSBCreationWorkOrderID)return!1}else if("EmployeeTypeID"==e&&!O.EmployeeTypeID)return!1}const Ge=e=>{z.ConfirmAlert(r().createElement(oe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ze(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Te("Yes"),cancelBtnText:Te("No"),showCancel:!0},Te("Do you want to update this record?")))};function ze(e){z.ConfirmAlert(null),I(e.IsDraft),H(Number(e.PPMSBEmployeeDetIDPK)?Number(e.PPMSBEmployeeDetIDPK):0),x({type:"number",name:"EmployeeID",number:e.EmployeeID?Number(e.EmployeeID):0}),x({type:"text",name:"FirstName",value:e.FirstName?e.FirstName:""}),x({type:"boolean",name:"IsSBEmpPrimaryEmployee",boolean:!!e.IsSBEmpPrimaryEmployee&&e.IsSBEmpPrimaryEmployee}),x({type:"boolean",name:"IsSBEmpAllEmployee",boolean:!!e.IsSBEmpAllEmployee&&e.IsSBEmpAllEmployee}),x({type:"text",name:"PPMSBEmployeeCode",value:e.PPMSBEmployeeCode?e.PPMSBEmployeeCode:""}),x({type:"text",name:"SBEmpAccptKey",value:e.SBEmpAccptKey?e.SBEmpAccptKey:""}),x({type:"text",name:"SBEmpTypeKey",value:e.SBEmpTypeKey?e.SBEmpTypeKey:""}),x({type:"text",name:"SBEmpNoOfHours",value:e.SBEmpNoOfHours?e.SBEmpNoOfHours:""}),x({type:"number",name:"ContractID",number:e.ContractID?Number(e.ContractID):0}),x({type:"text",name:"ContractName",value:e.ContractName?e.ContractName:""}),x({type:"number",name:"LocalityID",number:e.LocalityID?Number(e.LocalityID):0}),x({type:"text",name:"LocalityName",value:e.LocalityName?e.LocalityName:""}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:e.PPMSBCreationWorkOrderID?Number(e.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:e.SBCreWorkOrder?e.SBCreWorkOrder:""}),x({type:"number",name:"EmployeeTypeID",number:e.EmployeeTypeID?Number(e.EmployeeTypeID):0}),x({type:"text",name:"EmployeeTypeName",value:e.EmployeeTypeName?e.EmployeeTypeName:""})}const _e=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(E.Z,{expanded:C,onChange:e=>{}},r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},C&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[497]"}," ",Te("Add "),Ne("497")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(pe.Z,{row:!0},r().createElement(ee.Z,{labelPlacement:"bottom",id:"fld497L1ECEntryCheckbox",control:r().createElement(F.Z,{checked:"1"==d,onChange:e=>c(e.target.checked)}),label:Te(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld497L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(ue.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Te("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{we()},id:"fld497L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ue.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Te("Reset")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(P.Z,{frmctrlid:"fld497L1ECSaveBtnIsAdd",name:Te(V?"Update":"Save"),disabled:!1,onClick:()=>{!V&&0==$.length||V&&(!O.EmployeeID||0==O.EmployeeID)?z.alert({open:!0,color:"warning",message:[Te("Please select the ")+" "+Ne("EmployeeID")]}):e.parentId&&0!=e.parentId?V?z.ConfirmAlert(r().createElement(oe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Te("Are you sure?"),onConfirm:()=>Fe(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Te("Yes"),cancelBtnText:Te("Cancel"),showCancel:!0},Te(V?"Do you want to Update?":"Do you want to Save?"))):Oe():z.alert({open:!0,color:"warning",message:[Te("Please select the ")+" "+Ne("PPMSBCreationWorkOrderID")]})}}):null,!e.createEasy&&r().createElement(g.Z,{frmctrlid:"fld497L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{we(),B(!1),z.EditClose(!0),z.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(h.Z,null,r().createElement("div",{id:"PPMSBEmployeeDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSBEmployeeDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSBEmployeeDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},V?null:r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ye.Z,{json:ce,id:O.EmployeeID,"data-testid":O.EmployeeID,value:O.FirstName,SPName:"PPMSBEmployeeDetails",FieldName:"EmployeeID",tfLabel:Ne("EmployeeID"),ref:ae,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return J(a=t),void a.length;var a},onChange:(e,t)=>{We(e,t,"EmployeeIDPK")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{z.loading(!0),We("1",t||"","EmployeeIDPK","","",e)},openSlide:()=>{xe("197")},Tabledialog:()=>Ae("197","EmployeeID"),loading:A,clear:e=>{e&&Ke("EmployeeID")}})),V?r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(se.Z,{json:ce,id:O.EmployeeID,"data-testid":O.EmployeeID,value:O.FirstName,SPName:"PPMSBEmployeeDetails",FieldName:"EmployeeID",tfLabel:Ne("EmployeeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Re(e,"EmployeeID","select"),onChange:(e,t)=>{We(e,t,"EmployeeIDPK")},KeyBack:e=>{Ze("EmployeeID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{xe("197")},Tabledialog:()=>Ae("197","EmployeeID"),loading:A,SideEntryView:!1,clear:e=>{e&&Ke("EmployeeID")}})):null,r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(ee.Z,{style:{color:"#337ab7"},"data-testid":O.IsSBEmpPrimaryEmployee,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==O.IsSBEmpPrimaryEmployee,onChange:e=>{Re(e.target.checked,"IsSBEmpPrimaryEmployee","boolean")},frmctrlid:"fld497_22020",frmctrlidname:"IsSBEmpPrimaryEmployee",fieldorder:"2",tfLabel:Ne("IsSBEmpPrimaryEmployee")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:O.IsSBEmpPrimaryEmployee?"#21446F":"#999"}},Ne("IsSBEmpPrimaryEmployee"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(ee.Z,{style:{color:"#337ab7"},"data-testid":O.IsSBEmpAllEmployee,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==O.IsSBEmpAllEmployee,onChange:e=>{Re(e.target.checked,"IsSBEmpAllEmployee","boolean")},frmctrlid:"fld497_22021",frmctrlidname:"IsSBEmpAllEmployee",fieldorder:"3",tfLabel:Ne("IsSBEmpAllEmployee")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:O.IsSBEmpAllEmployee?"#21446F":"#999"}},Ne("IsSBEmpAllEmployee"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBEmployeeCode,json:ce,SPName:"PPMSBEmployeeDetails",FieldName:"PPMSBEmployeeCode",tfLabel:Ne("PPMSBEmployeeCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{le&&Le(1,"","ClearAll"),re(!0)},frmctrlid:"fld497_22019",frmctrlidName:"PPMSBEmployeeCode",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{le&&Le(e,t,"PPMSBEmployeeCode"),Re(t,"PPMSBEmployeeCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBEmployeeCode,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBEmployeeCode",value:""}),re(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBEmpAccptKey,json:ce,SPName:"PPMSBEmployeeDetails",FieldName:"SBEmpAccptKey",tfLabel:Ne("SBEmpAccptKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{ie&&Le(1,"","ClearAll"),de(!0)},frmctrlid:"fld497_22022",frmctrlidName:"SBEmpAccptKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ie&&Le(e,t,"SBEmpAccptKey"),Re(t,"SBEmpAccptKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:O.SBEmpAccptKey,loading:A,clear:e=>{e&&(x({type:"text",name:"SBEmpAccptKey",value:""}),de(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBEmpTypeKey,json:ce,SPName:"PPMSBEmployeeDetails",FieldName:"SBEmpTypeKey",tfLabel:Ne("SBEmpTypeKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{Se&&Le(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld497_22023",frmctrlidName:"SBEmpTypeKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Se&&Le(e,t,"SBEmpTypeKey"),Re(t,"SBEmpTypeKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:Se,SideEntryView:!1,KeyBack:e=>{},value:O.SBEmpTypeKey,loading:A,clear:e=>{e&&(x({type:"text",name:"SBEmpTypeKey",value:""}),Pe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBEmpNoOfHours,json:ce,SPName:"PPMSBEmployeeDetails",FieldName:"SBEmpNoOfHours",tfLabel:Ne("SBEmpNoOfHours"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ge(t),onClick:()=>{De&&Le(1,"","ClearAll"),ge(!0)},frmctrlid:"fld497_22024",frmctrlidName:"SBEmpNoOfHours",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{De&&Le(e,t,"SBEmpNoOfHours"),Re(t,"SBEmpNoOfHours","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ge(!0)},showList:De,SideEntryView:!1,KeyBack:e=>{},value:O.SBEmpNoOfHours,loading:A,clear:e=>{e&&(x({type:"text",name:"SBEmpNoOfHours",value:""}),ge(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:ce,id:O.ContractID,"data-testid":O.ContractID,value:O.ContractName,SPName:"PPMSBEmployeeDetails",FieldName:"ContractID",tfLabel:Ne("ContractID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Re(e,"ContractID","select"),onChange:(e,t)=>{We(e,t,"ContractIDPK")},KeyBack:e=>{Ze("ContractID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{xe("156")},Tabledialog:()=>Ae("156","ContractID"),loading:A,clear:e=>{e&&Ke("ContractID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:ce,id:O.LocalityID,"data-testid":O.LocalityID,value:O.LocalityName,SPName:"PPMSBEmployeeDetails",FieldName:"LocalityID",tfLabel:Ne("LocalityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Re(e,"LocalityID","select"),onChange:(e,t)=>{We(e,t,"LocalityIDPK")},KeyBack:e=>{Ze("LocalityID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{xe("12")},Tabledialog:()=>Ae("12","LocalityID"),loading:A,clear:e=>{e&&Ke("LocalityID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:ce,id:O.PPMSBCreationWorkOrderID,"data-testid":O.PPMSBCreationWorkOrderID,value:O.SBCreWorkOrder,SPName:"PPMSBEmployeeDetails",FieldName:"PPMSBCreationWorkOrderID",tfLabel:Ne("PPMSBCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Re(e,"PPMSBCreationWorkOrderID","select"),onChange:(e,t)=>{We(e,t,"PPMSBCreationWorkOrderIDPK")},KeyBack:e=>{Ze("PPMSBCreationWorkOrderID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{xe("494")},Tabledialog:()=>Ae("494","PPMSBCreationWorkOrderID"),loading:A,clear:e=>{e&&Ke("PPMSBCreationWorkOrderID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:ce,id:O.EmployeeTypeID,"data-testid":O.EmployeeTypeID,value:O.EmployeeTypeName,SPName:"PPMSBEmployeeDetails",FieldName:"EmployeeTypeID",tfLabel:Ne("EmployeeTypeID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Re(e,"EmployeeTypeID","select"),onChange:(e,t)=>{We(e,t,"EmployeeTypeIDPK")},KeyBack:e=>{Ze("EmployeeTypeID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{xe("205")},Tabledialog:()=>Ae("205","EmployeeTypeID"),loading:A,clear:e=>{e&&Ke("EmployeeTypeID")}})))),r().createElement("div",{id:"PPMSBEmployeeDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBEmployeeDetailsSideBar").style.width="0",void v(!1))},"×"),T&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))}));var ge=a(65197);const Ie=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,c]=(0,l.useState)(!0),[P,C]=(0,l.useState)(e.showDetail),[B,D]=(0,l.useState)(""),[I,M]=r().useState(!1),[f,T]=r().useState(""),[v,k]=r().useState(!1),N=(0,l.useContext)(ve),{cstate:b,cdispatch:w}=ke(),[O,F]=(0,l.useState)(!1),[x,A]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{b.editData.length>0&&(s(b.editData),M(!1),w({type:"PrimaryId",payload:b.editData[0].PPMSBEmployeeDetIDPK}))}),[b.editData]),(0,l.useEffect)((()=>{b.showTableview&&K(b.showTableview)}),[b.showTableview]),(0,l.useEffect)((()=>{c(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),M(null)},viewtoggle:()=>{M(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP497S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:1,p69:10,p70:b.IsDraft?"DraftPPMSBEmployeeDetID":"PPMSBEmployeeDetID",p71:null,p72:null,p73:localStorage.getItem("UserGroupID"),p74:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,p.Z)(l,r,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const z=e=>Z?.[e]?Z?.[e]:e,_=e=>b.language?.[e]?b.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{T(v?Object.assign(...i.filter((e=>e.PPMSBEmployeeDetIDPK==t)).map((e=>e))):b.editData),M(!l&&e)};return r().createElement("div",null,r().createElement(E.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&c(!m)}},!I&&r().createElement(G.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},b.IsDraft?z("Draft"):"",_("PPMSBEmployeeDetails"),e.viewonly?" ":"("+b.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?r().createElement(o.Z,{name:z("Add"),frmctrlid:"fld497L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),w({type:"editData",payload:[]}),w({type:"ShowDetail",payload:!1}),w({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld497L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld497L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(g.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld497L1VCCloseBtn",onClick:()=>{c(!1),N.hideAddBtn(!1),v&&(w({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(h.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},I==="panel"+l?r().createElement(De,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(ge.Z,{tableName:"PPMSBEmployeeDetails",tableID:497,parentID:t.PPMSBEmployeeDetIDPK,fldid:"fld497L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:z,title:"10.0.0.46-6:37:15 PM-31-5[497]"}))))))))}));var Me=a(67698),Ee=a(55995),he=(a(45965),a(41722)),fe=a(9175),Te=a.n(fe);const ve=(0,l.createContext)(),ke=()=>{const e=(0,l.useContext)(ve);if(void 0===e)throw new Error("useCont must be used within  PPMSBEmployeeDetailsContext Provider");return e},Ne=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,c]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),P=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[C,y]=(0,l.useState)(0),[B,D]=(0,l.useReducer)(he.D,he.E),[g,I]=(0,l.useState)(""),[M,E]=(0,l.useState)([]),[h,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSBEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divPPMSBEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"editData",payload:[e.editData]}),D({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{D(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const T=e=>{E([]),document.getElementById("divPPMSBEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSBEmployeeDetailsEntryTable").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainEntry").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainEntry").style.display="block",document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBEmployeeDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBEmployeeDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length),v(e)}))}))}),[]);const v=t=>{D({type:"AccessRights",payload:e.AccessRights}),f(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(ve.Provider,{value:{cstate:B,cdispatch:D,ContextApi:ke,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==C&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,M),E([])},EditClose:e=>T(),AttachExpand:e=>(d.current.AttachmentData(B.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSBEmployeeDetails").style.width="50%",document.getElementById("divPPMSBEmployeeDetails-Entry").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainTable").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainEntry").style.width="100%",document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBEmployeeDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBEmployeeDetails").style.display="block",document.getElementById("overlayimgAttPPMSBEmployeeDetails").style.width="25%"))),Expanded:e=>{B.ShowDetail&&o.current.tableClick(e),D({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{B.ShowDetail&&o.current.viewtoggle()},clear:e=>{D({type:"ShowDetail",payload:!1}),D({type:"editData",payload:[]}),B.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{B.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSBEmployeeDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSBEmployeeDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSBEmployeeDetailsEntryTable",style:{width:"100%"}},B.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBEmployeeDetails-Entry",style:{width:"100%"}},0!==C?r().createElement(Ie,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Ee.Z,{ref:s,menurefID:497,fileId:"LogoImgPPMSBEmployeeDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBEmployeeDetails",frmctrlid:"PvwIm_497_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBEmployeeDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(De,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Ee.Z,{ref:s,menurefID:497,fileId:"LogoImgPPMSBEmployeeDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBEmployeeDetails",frmctrlid:"PvwIm_497_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})),r().createElement("div",{id:"PPMSBEmployeeDetails-MainTable"},0!==C?r().createElement(J,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Me.Z,{ImgAttachment:e=>T(),menurefID:497,fileId:"AttImgPPMSBEmployeeDetails",imgid:"overlayimgAttPPMSBEmployeeDetails",valueIDPK:B.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBEmployeeDetails",ref:d,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_497_L1_",timglist:e=>{s.current.timglist(e),E(e)},clearTempData:B.Add}))),r().createElement("div",{id:"PPMSBEmployeeDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&r().createElement(Te(),{openDialog:h,closeDialog:e=>f(e),formID:497,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var be=a(59009),we=a(93657),Oe=a(53375),Fe=a(52663),xe=a(66083),Ae=a(29525),We=a(66856),Le=a(39803),Re=a(17149),Ke=a(62810),Ze=a(92381),Ge=a(25108);const ze=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,c]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[S,P]=(0,l.useState)(""),[C,B]=(0,l.useState)({}),[g,I]=(0,l.useState)(!0),[M,E]=(0,l.useState)(!1),{cstate:h,cdispatch:x}=e.ContextApi?e.ContextApi:Je(),[A,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ce=(0,y.Z)();const pe=e=>ce[e]?ce[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function Se(){B({}),z({}),e.searchData({}),E(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const Pe=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const i=new AbortController;ie.current=i;let d="",s=[],m={};await c((e=>(d=e.name,e))),await B((e=>(s=e,e))),await z((e=>(m=e,e)));const P=u.v.Api+"FP496S3/",y={data:{p1:"PPMSBCreationworkOrderSubDetIDPK"==a?null:await ge(),p2:"PPMSBCreationworkOrderSubDetCode"==d&&l.length>0?"%"+l+"%":null,p3:"PPMSBRequiredQty"==d&&l.length>0?"%"+l+"%":null,p4:"PPMSBRequiredPrice"==d&&l.length>0?"%"+l+"%":null,p5:"PPMSBRequestedKey"==d&&l.length>0?"%"+l+"%":null,p6:"PPMSBRequiredRemarks"==d&&l.length>0?"%"+l+"%":null,p7:"PPMSBSplitQty"==d&&l.length>0?"%"+l+"%":null,p8:"PPMSBIssuedQty"==d&&l.length>0?"%"+l+"%":null,p9:"PPMSBIssuedPrice"==d&&l.length>0?"%"+l+"%":null,p10:"PPMSBIssuedRemarks"==d&&l.length>0?"%"+l+"%":null,p11:"IsPPMSBIssuedStat"==d&&l.length>0?"%"+l+"%":null,p12:"PPMSBUtilizedQty"==d&&l.length>0?"%"+l+"%":null,p13:"PPMSBUtilizedPrice"==d&&l.length>0?"%"+l+"%":null,p14:"PPMSBUtilizedRemarks"==d&&l.length>0?"%"+l+"%":null,p15:"PPMSBApprovedQty"==d&&l.length>0?"%"+l+"%":null,p16:"PPMSBApprovedPrice"==d&&l.length>0?"%"+l+"%":null,p17:"PPMSBApprovedRemarks"==d&&l.length>0?"%"+l+"%":null,p18:"PPMSBMatTotAmt"==d&&l.length>0?"%"+l+"%":null,p19:"IsSBSLAMaterail"==d&&l.length>0?"%"+l+"%":null,p20:null,p21:null,p22:e.parentId?e.parentId:"0",p23:"MaterialName"!=d&&s.MaterialName?s.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p24:e.Dialogview?"1":null,p25:null,p26:"p26"==d&&l.length>0?l:null,p27:null,p28:null,p29:null,p30:null,p31:"ContractName"!=d&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p32:"ContractCode"==d&&l.length>0?"%"+l+"%":null,p33:"ContractName"==d&&l.length>0?"%"+l+"%":null,p34:"LocalityName"!=d&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p35:"LocalityCode"==d&&l.length>0?"%"+l+"%":null,p36:"LocalityName"==d&&l.length>0?"%"+l+"%":null,p37:"BuildingName"!=d&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p38:"BuildingCode"==d&&l.length>0?"%"+l+"%":null,p39:"BuildingName"==d&&l.length>0?"%"+l+"%":null,p40:"FloorName"!=d&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p41:"FloorCode"==d&&l.length>0?"%"+l+"%":null,p42:"FloorName"==d&&l.length>0?"%"+l+"%":null,p43:"SpotName"!=d&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p44:"SpotCode"==d&&l.length>0?"%"+l+"%":null,p45:"SpotName"==d&&l.length>0?"%"+l+"%":null,p46:"DivisionName"!=d&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p47:"DivisionCode"==d&&l.length>0?"%"+l+"%":null,p48:"DivisionName"==d&&l.length>0?"%"+l+"%":null,p49:"DisciplineName"!=d&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p50:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p51:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p52:"FrequencyName"!=d&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p53:"FrequencyCode"==d&&l.length>0?"%"+l+"%":null,p54:"FrequencyName"==d&&l.length>0?"%"+l+"%":null,p55:"HierarchyDetCode"!=d&&s.HierarchyDetCode?s.HierarchyDetCode.map((e=>e.HierarchyDetailsIDPK)).toString():null,p56:"HierarchyDetCode"==d&&l.length>0?"%"+l+"%":null,p57:"FlowDisplayName"!=d&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p58:"BriefDetails"==d&&l.length>0?"%"+l+"%":null,p59:"FlowCode"==d&&l.length>0?"%"+l+"%":null,p60:"FlowDisplayName"==d&&l.length>0?"%"+l+"%":null,p61:"FixonBusinessFlowName"!=d&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p62:"FixonBusinessFlowName"==d&&l.length>0?"%"+l+"%":null,p63:"PPMFixonBusinessFlowCode"==d&&l.length>0?"%"+l+"%":null,p64:"PPMStageName"!=d&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p65:"PPMStageName"==d&&l.length>0?"%"+l+"%":null,p66:"StageSeqNo"==d&&l.length>0?"%"+l+"%":null,p67:"ServiceTypeName"!=d&&s.ServiceTypeName?s.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p68:"ServiceTypCode"==d&&l.length>0?"%"+l+"%":null,p69:"ServiceTypeName"==d&&l.length>0?"%"+l+"%":null,p70:"PPMSBTechAddOnCode"!=d&&s.PPMSBTechAddOnCode?s.PPMSBTechAddOnCode.map((e=>e.PPMSBTechAddOnIDPK)).toString():null,p71:m.PPMSBTechStartDateTime?m.PPMSBTechStartDateTime.From:null,p72:m.PPMSBTechStartDateTime?m.PPMSBTechStartDateTime.Type:null,p73:m.PPMSBTechStartDateTime?m.PPMSBTechStartDateTime.To:null,p74:m.PPMSBTechEndDateTime?m.PPMSBTechEndDateTime.From:null,p75:m.PPMSBTechEndDateTime?m.PPMSBTechEndDateTime.Type:null,p76:m.PPMSBTechEndDateTime?m.PPMSBTechEndDateTime.To:null,p77:"SBCreWorkOrder"==d&&l.length>0?"%"+l+"%":null,p78:"MatProcessTypeName"!=d&&s.MatProcessTypeName?s.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p79:"MatProcessTypeCode"==d&&l.length>0?"%"+l+"%":null,p80:"MatProcessTypeName"==d&&l.length>0?"%"+l+"%":null,p81:"MaterialTypeName"!=d&&s.MaterialTypeName?s.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p82:"MaterialTypeCode"==d&&l.length>0?"%"+l+"%":null,p83:"MaterialTypeName"==d&&l.length>0?"%"+l+"%":null,p84:"MatMainClassName"!=d&&s.MatMainClassName?s.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p85:"MatMainClassCode"==d&&l.length>0?"%"+l+"%":null,p86:"MatMainClassName"==d&&l.length>0?"%"+l+"%":null,p87:"MatSubClassName"!=d&&s.MatSubClassName?s.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p88:"MatSubClassCode"==d&&l.length>0?"%"+l+"%":null,p89:"MatSubClassName"==d&&l.length>0?"%"+l+"%":null,p90:"MatMakeName"!=d&&s.MatMakeName?s.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p91:"MatMakeCode"==d&&l.length>0?"%"+l+"%":null,p92:"MatMakeName"==d&&l.length>0?"%"+l+"%":null,p93:"MatModelName"!=d&&s.MatModelName?s.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p94:"MatModelCode"==d&&l.length>0?"%"+l+"%":null,p95:"MatModelName"==d&&l.length>0?"%"+l+"%":null,p96:"UOMName"!=d&&s.UOMName?s.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p97:"MATUOMCode"==d&&l.length>0?"%"+l+"%":null,p98:"UOMName"==d&&l.length>0?"%"+l+"%":null,p99:"GradeName"!=d&&s.GradeName?s.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p100:"GradeName"==d&&l.length>0?"%"+l+"%":null,p101:"MatGradeCode"==d&&l.length>0?"%"+l+"%":null,p102:"MaterialColorName"!=d&&s.MaterialColorName?s.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p103:"MaterialColorName"==d&&l.length>0?"%"+l+"%":null,p104:"MatMaterialColorCode"==d&&l.length>0?"%"+l+"%":null,p105:"RawMaterialName"!=d&&s.RawMaterialName?s.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p106:"MadeRawMaterialCode"==d&&l.length>0?"%"+l+"%":null,p107:"RawMaterialName"==d&&l.length>0?"%"+l+"%":null,p108:"MaterialSizeName"!=d&&s.MaterialSizeName?s.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p109:"MaterialSizeName"==d&&l.length>0?"%"+l+"%":null,p110:"MatMaterialSizeCode"==d&&l.length>0?"%"+l+"%":null,p111:"MaterialCode"==d&&l.length>0?"%"+l+"%":null,p112:"MaterialName"==d&&l.length>0?"%"+l+"%":null,p113:r||1,p114:10,p115:t,p116:null,p117:null,p118:localStorage.getItem("UserGroupID"),p119:localStorage.getItem("userid")}},D=await(0,p.Z)(P,y,e.token,"",i.signal);if(!D)return!1;const g=D.Output.status.code,I=D.Output.data;if("200"===g)if(I.length>0)if(1===r){let e=ye(I,d),t=Ce(e,C[d],a);o(t),R(t.length>0?t[0].TotalCount:C[d].length)}else{let e=[...n,...I],t=ye(e,d);R(t.length<10?t.length:I[0].TotalCount),o(ye(t,d))}else S.length>0&&o([]),R(n.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Ce=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Be(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const De=async t=>{let a="",l={};await B((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSBCreationworkOrderSubDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSBCreationworkOrderSubDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:Be("MaterialID"),PPMSBCreationWorkOrderID:Be("PPMSBCreationWorkOrderID")};"saveFav"==t?Ee("save",i):(e.searchData(i),E(!1))};async function ge(){let e={};await B((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBCreationworkOrderSubDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ie(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...C};let m=[..._],c=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSBCreationworkOrderSubDetIDPK)).toString();t&&c.push(t)}await z((e=>(d=e,e)));let p={PPMSBCreationworkOrderSubDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,MaterialID:C.MaterialName?.map((e=>e.MaterialIDPK)).toString(),PPMSBCreationWorkOrderID:C.SBCreWorkOrder?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString()};e.searchData(p)}function Me(){return r().createElement(k.Z,{frmctrlid:"fld496L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Ie(e,t,a,d.name,l)},keyboardback:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:""})},title:pe(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const Ee=(t,a)=>{(0,Ze.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(Fe.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(xe.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Ae.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Le.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>te(e.target.checked)}),label:"Quick"}),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ae,onChange:e=>le(e.target.checked)}),label:"Dashboard"})),r().createElement(We.Z,null,r().createElement(T.Z,{onClick:()=>{De("saveFav"),$(!1)},color:"primary"},"Save"))),M?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Me,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:pe("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(f.Z,{id:"fld496L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),C[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld496L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await B((t=>(e=t,Ge.log("clear fewItems",e),t))),e[d.name]=[],Pe(d.type,d.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},g?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(w.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(w.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),r().createElement("ul",null,C[d.name]&&C[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=C[d.name].filter((t=>t!=e)),l={};await B((e=>(l=e,e))),l[d.name]=a,B(l),o((t=>[e,...t]))})(e)},r().createElement(f.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(N.Z,{frmctrlid:"fld496L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:pe("Enter ")+" "+ue(d.idpk),onChange:e=>{P(e),Pe(d.type,d.fieldidpk,e,1,ge())}})),r().createElement("div",{id:"fld496L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:De},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(O.Z,{color:"secondary"})),r().createElement("div",{id:"fld496L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await B((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},B(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(v.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld496L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(A+1),Pe(d.type,d.fieldidpk,"",A+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(b.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",pe("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(f.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),Se()}}):r().createElement(we.Z,{className:"favlisticon",onClick:()=>{j(!0),Ee("select"),Se()}})),Object.keys(C).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Oe.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld496L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld496L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},pe("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld496L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{E(!0),P(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBCreationworkOrderSubDetIDPK";c({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBCreationworkOrderSubDetID",fieldidpk:t}),Pe(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBCreationworkOrderSubDetID",t,"",1,ge())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(F.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Ie("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&r().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pe("FilterPPMSBCreationworkOrderSubDetID",a),De("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));var _e=a(85639),qe=a(51649),Ve=a(37106);window.clickFilter="";const He=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("496"),[c,S]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),[D,g]=(0,l.useState)(0),[I,M]=(0,l.useState)(0),[T,v]=(0,l.useState)(0),[k,O]=(0,l.useState)(0),[F,x]=(0,l.useState)({current:1,pageSize:100}),[A,j]=(0,l.useState)(""),[J,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)({val:"",column:""}),[le,re]=(0,l.useState)([]),[ne,ie]=(0,l.useState)(!1),[oe,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(""),[ce,pe]=(0,l.useState)(!1),[ue,Se]=(0,l.useState)([]),[Pe,Ce]=(0,l.useState)([]),[ye,Be]=(0,l.useState)([]),[De,ge]=(0,l.useState)({children:[{name:"PPMSBCreationWorkOrderMatDetails",children:[]}]}),[Ie,Me]=(0,l.useState)(!1),Ee=(0,l.useContext)(e.context?e.context:$e),{cstate:he,cdispatch:fe}=e.ContextApi?e.ContextApi:Je();let Te={PPMSBCreationworkOrderSubDetIDPK:"",PPMSBCreationworkOrderSubDetCode:"",PPMSBRequiredQty:"",PPMSBRequiredPrice:"",PPMSBRequestedKey:"",PPMSBRequiredRemarks:"",PPMSBSplitQty:"",PPMSBIssuedQty:"",PPMSBIssuedPrice:"",PPMSBIssuedRemarks:"",IsPPMSBIssuedStat:"",PPMSBUtilizedQty:"",PPMSBUtilizedPrice:"",PPMSBUtilizedRemarks:"",PPMSBApprovedQty:"",PPMSBApprovedPrice:"",PPMSBApprovedRemarks:"",PPMSBMatTotAmt:"",IsSBSLAMaterail:"",IsDraft:"",Remarks:"",PPMSBCreationWorkOrderID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",HierarchyDetailsID:"",HierarchyDetCode:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",ServiceTypeID:"",ServiceTypCode:"",ServiceTypeName:"",PPMSBTechAddOnID:"",PPMSBTechStartDateTime:"",PPMSBTechStartDateTimeType:"",PPMSBTechStartDateTimeBetween:"",PPMSBTechEndDateTime:"",PPMSBTechEndDateTimeType:"",PPMSBTechEndDateTimeBetween:"",SBCreWorkOrder:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ve,ke]=(0,l.useState)(Te),[Ne,we]=(0,l.useState)(Te),[Oe,Fe]=(0,l.useState)(!1),[xe,Ae]=(0,l.useState)(!0),[We,Le]=(0,l.useState)(!1),[Re,Ke]=(0,l.useState)(!0),[Ze,Ge]=(0,l.useState)({MaterialName:"",PPMSBRequiredQty:"",PPMSBRequiredPrice:"",PPMSBIssuedQty:"",PPMSBIssuedPrice:"",IsPPMSBIssuedStat:"",IsSBSLAMaterail:"",PPMSBCreationworkOrderSubDetCode:"",PPMSBRequestedKey:"",PPMSBRequiredRemarks:"",PPMSBSplitQty:"",PPMSBIssuedRemarks:"",PPMSBUtilizedQty:"",PPMSBUtilizedPrice:"",PPMSBUtilizedRemarks:"",PPMSBApprovedQty:"",PPMSBApprovedPrice:"",PPMSBApprovedRemarks:"",PPMSBMatTotAmt:"",SBCreWorkOrder:""}),[He,Ue]=(0,l.useState)(!1),[je,Ye]=(0,l.useState)([]),[Xe,Qe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[rt,nt]=(0,l.useState)([]),[it,ot]=(0,l.useState)([]),[dt,st]=(0,l.useState)(!1),[mt,ct]=(0,l.useState)(!1),[pt,ut]=(0,l.useState)(!1),[St,Pt]=(0,l.useState)(""),[Ct,yt]=Y()("496"),[Bt,Dt]=(0,l.useState)({}),gt=[{columns:rt,data:A}];let It=(0,y.Z)();const Mt=e=>It[e]?It[e]:e,Et=e=>he.language?.[e]?he.language[e]:e;(0,l.useEffect)((()=>{bt(Ct)}),[Ct]),(0,l.useEffect)((()=>{he.token.length>0&&(e.parentId?kt(F,Te,"PPMSBCreationworkOrderSubDetID"):re([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?kt(F,oe,"PPMSBCreationworkOrderSubDetID"):Ie&&we(oe)}),[oe]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ht(e)},tableRefresh:()=>{kt(F,Te,"PPMSBCreationworkOrderSubDetID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{ut(!0===e)}})));const ht=e=>{""==e?kt(F,Te,Oe?"DraftPPMSBCreationworkOrderSubDetID":"PPMSBCreationworkOrderSubDetID",Oe&&"DraftPage"):Nt(e,{current:1,pageSize:100}),me(e)};function ft(t){Ee.loading(!0);let a=u.v.Api+"FP496S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,he.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Qe(Math.ceil(a)):20==t.pageSize?Qe(Math.ceil(a/2)):50==t.pageSize?Qe(Math.ceil(a/5)):100==t.pageSize&&Qe(Math.ceil(a/10)),Ye(e.Output.data),Ee.loading(!1)}}))}function Tt(e,t){fe({type:"editData",payload:[t]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),We&&pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ke(e.cardview),e.Dialogview&&(C(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Nt(e.searchsafaritext,{current:F.current,pageSize:F.pageSize})}),[e.searchsafaritext]);const vt=()=>{Ee.EditClose(!0),ne?(document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBCreationWorkOrderMatDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ie(!1),Re?(P||(document.getElementById("PPMSBCreationWorkOrderMatDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderMatDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBCreationWorkOrderMatDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ie(!0),document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),pe(!1),window.clickFilter=!ne},kt=(t,a,l,r,n,i)=>{Ee.loading(!0),"DraftPage"!==r&&Fe(he.IsDraft);let o=u.v.Api+"FP496S3/",d={data:{p1:n||(a&&a.PPMSBCreationworkOrderSubDetIDPK?a.PPMSBCreationworkOrderSubDetIDPK:null),p2:a&&a.PPMSBCreationworkOrderSubDetCode?a.PPMSBCreationworkOrderSubDetCode:null,p3:a&&a.PPMSBRequiredQty?a.PPMSBRequiredQty:null,p4:a&&a.PPMSBRequiredPrice?a.PPMSBRequiredPrice:null,p5:a&&a.PPMSBRequestedKey?a.PPMSBRequestedKey:null,p6:null,p7:a&&a.PPMSBSplitQty?a.PPMSBSplitQty:null,p8:a&&a.PPMSBIssuedQty?a.PPMSBIssuedQty:null,p9:a&&a.PPMSBIssuedPrice?a.PPMSBIssuedPrice:null,p10:null,p11:null,p12:a&&a.PPMSBUtilizedQty?a.PPMSBUtilizedQty:null,p13:a&&a.PPMSBUtilizedPrice?a.PPMSBUtilizedPrice:null,p14:null,p15:a&&a.PPMSBApprovedQty?a.PPMSBApprovedQty:null,p16:a&&a.PPMSBApprovedPrice?a.PPMSBApprovedPrice:null,p17:null,p18:a&&a.PPMSBMatTotAmt?a.PPMSBMatTotAmt:null,p19:null,p20:"DraftPPMSBCreationworkOrderSubDetID"==l?"1":"0",p21:null,p22:e.parentId?Number(e.parentId):0,p23:a&&a.MaterialID?a.MaterialID:null,p24:a&&a.IsActive,p25:null,p26:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p27:a&&a.CreatedTtm?a.CreatedTtm:null,p28:a&&a.CreatedTtmType?a.CreatedTtmType:null,p29:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p30:null,p31:a&&a.ContractID?a.ContractID:null,p32:a&&a.ContractCode?a.ContractCode:null,p33:a&&a.ContractName?a.ContractName:null,p34:a&&a.LocalityID?a.LocalityID:null,p35:a&&a.LocalityCode?a.LocalityCode:null,p36:a&&a.LocalityName?a.LocalityName:null,p37:a&&a.BuildingID?a.BuildingID:null,p38:a&&a.BuildingCode?a.BuildingCode:null,p39:a&&a.BuildingName?a.BuildingName:null,p40:a&&a.FloorID?a.FloorID:null,p41:a&&a.FloorCode?a.FloorCode:null,p42:a&&a.FloorName?a.FloorName:null,p43:a&&a.SpotID?a.SpotID:null,p44:a&&a.SpotCode?a.SpotCode:null,p45:a&&a.SpotName?a.SpotName:null,p46:a&&a.DivisionID?a.DivisionID:null,p47:a&&a.DivisionCode?a.DivisionCode:null,p48:a&&a.DivisionName?a.DivisionName:null,p49:a&&a.DisciplineID?a.DisciplineID:null,p50:a&&a.DisciplineCode?a.DisciplineCode:null,p51:a&&a.DisciplineName?a.DisciplineName:null,p52:a&&a.FrequencyID?a.FrequencyID:null,p53:a&&a.FrequencyCode?a.FrequencyCode:null,p54:a&&a.FrequencyName?a.FrequencyName:null,p55:a&&a.HierarchyDetailsID?a.HierarchyDetailsID:null,p56:a&&a.HierarchyDetCode?a.HierarchyDetCode:null,p57:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p58:a&&a.BriefDetails?a.BriefDetails:null,p59:a&&a.FlowCode?a.FlowCode:null,p60:a&&a.FlowDisplayName?a.FlowDisplayName:null,p61:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p62:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p63:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p64:a&&a.PPMStageID?a.PPMStageID:null,p65:a&&a.PPMStageName?a.PPMStageName:null,p66:a&&a.StageSeqNo?a.StageSeqNo:null,p67:a&&a.ServiceTypeID?a.ServiceTypeID:null,p68:a&&a.ServiceTypCode?a.ServiceTypCode:null,p69:a&&a.ServiceTypeName?a.ServiceTypeName:null,p70:a&&a.PPMSBTechAddOnID?a.PPMSBTechAddOnID:null,p71:a&&a.PPMSBTechStartDateTime?a.PPMSBTechStartDateTime:null,p72:a&&a.PPMSBTechStartDateTimeType?a.PPMSBTechStartDateTimeType:null,p73:a&&a.PPMSBTechStartDateTimeBetween?a.PPMSBTechStartDateTimeBetween:null,p74:a&&a.PPMSBTechEndDateTime?a.PPMSBTechEndDateTime:null,p75:a&&a.PPMSBTechEndDateTimeType?a.PPMSBTechEndDateTimeType:null,p76:a&&a.PPMSBTechEndDateTimeBetween?a.PPMSBTechEndDateTimeBetween:null,p77:a&&a.SBCreWorkOrder?a.SBCreWorkOrder:null,p78:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p79:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p80:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p81:a&&a.MaterialTypeID?a.MaterialTypeID:null,p82:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p83:a&&a.MaterialTypeName?a.MaterialTypeName:null,p84:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p85:a&&a.MatMainClassCode?a.MatMainClassCode:null,p86:a&&a.MatMainClassName?a.MatMainClassName:null,p87:a&&a.MatSubClassID?a.MatSubClassID:null,p88:a&&a.MatSubClassCode?a.MatSubClassCode:null,p89:a&&a.MatSubClassName?a.MatSubClassName:null,p90:a&&a.MaterialMakeID?a.MaterialMakeID:null,p91:a&&a.MatMakeCode?a.MatMakeCode:null,p92:a&&a.MatMakeName?a.MatMakeName:null,p93:a&&a.MaterialModelID?a.MaterialModelID:null,p94:a&&a.MatModelCode?a.MatModelCode:null,p95:a&&a.MatModelName?a.MatModelName:null,p96:a&&a.MATUOMID?a.MATUOMID:null,p97:a&&a.MATUOMCode?a.MATUOMCode:null,p98:a&&a.UOMName?a.UOMName:null,p99:a&&a.MatGradeID?a.MatGradeID:null,p100:a&&a.GradeName?a.GradeName:null,p101:a&&a.MatGradeCode?a.MatGradeCode:null,p102:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p103:a&&a.MaterialColorName?a.MaterialColorName:null,p104:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p105:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p106:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p107:a&&a.RawMaterialName?a.RawMaterialName:null,p108:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p109:a&&a.MaterialSizeName?a.MaterialSizeName:null,p110:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p111:a&&a.MaterialCode?a.MaterialCode:null,p112:a&&a.MaterialName?a.MaterialName:null,p113:n?1:t.current,p114:t.pageSize,p115:l,p116:null,p117:null,p118:localStorage.getItem("UserGroupID"),p119:localStorage.getItem("userid")}};(0,p.Z)(o,d,he.token[0]).then((o=>{if(n)(0,V.a)(o,fe,r,i,Ee);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,v(o.Output.data[0].TotalCount),O(o.Output.data[0].DraftCnt),fe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&O(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?M(Math.ceil(e)):20==t.pageSize?M(Math.ceil(e/2)):50==t.pageSize?M(Math.ceil(e/5)):100==t.pageSize&&M(Math.ceil(e/10)),re(o.Output.data),Ee.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBCreationWorkOrderMatDetails-Entry").style.height="auto",document.getElementById("divPPMSBCreationWorkOrderMatDetails-Entry").style.display="block")}else Ee.loading(!1),"DraftPPMSBCreationworkOrderSubDetID"===l?(Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),pe(!0),Fe(!1)):(re([]),x({current:1,pageSize:10}),M(0),v(0),fe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ee.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ee.loading(!1)}))};function Nt(t,a){Ee.loading(!0);const l=u.v.Api+"FP496S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Oe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,r,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount),fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?M(Math.ceil(t)):20==a.pageSize?M(Math.ceil(t/2)):50==a.pageSize?M(Math.ceil(t/5)):100==a.pageSize&&M(Math.ceil(t/10)),re(e.Output.data),Ee.loading(!1)}else re([]),M(0),v(0),fe({type:"count",payload:"0"}),Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ee.loading(!1);else Ee.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ee.loading(!1)}))}function bt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),fe({type:"language",payload:Object.assign({},...r)}),Ge(a.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),Ce(t),Be(a),nt(l),ot(a)}const wt=()=>Ie?null:r().createElement("div",null,He?r().createElement(Q.Z,{data:je,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:t}),fe({type:"ShowDetail",payload:a}))}}):r().createElement(X.Z,{ref:d,frmctrlid:"tblcs_496_L1_",id:"PPMSBCreationWorkOrderMatDetailsTable",headerdata:Pe,tablesearchparams:Ze,searchvalue:e=>{Ge(e),de(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Dt(t),x({current:1,pageSize:10}),kt({current:1,pageSize:10},t,Oe?"DraftPPMSBCreationworkOrderSubDetID":"PPMSBCreationworkOrderSubDetID",Oe&&"DraftPage")},bodydata:le,ondrag:Tt,bodyitem:ye,visibleitem:Pe,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:he.AccessRights,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&kt(F,null,t?"DraftPPMSBCreationworkOrderSubDetID":"PPMSBCreationworkOrderSubDetID",t&&"DraftPage",e[l],a)})),Ee.hideAddBtn(!0))},viewtoggle:Ee.viewtoggle,isexpanded:!P||We,tf:Et,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Le(he.ExpandTableValue)}),[he.ExpandTableValue]),r().createElement("div",null,!pt&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld496L1ECSearchBar",className:"searchbar1"},r().createElement(N.Z,{frmctrlid:"fld496L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Mt("Search"),value:se,onChange:e=>{me(e),Ee.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld496L1TCCloseIconCommonSearch",onClick:()=>{me(""),Ee.searchItem("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld496L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBCreationWorkOrderMatDetailsgridsearch").focus()}})))),r().createElement("div",null,he.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld496L1TCAddBtnIsAdd",onClick:()=>{Ee.hideAddBtn(!0),fe({type:"editData",payload:[]}),fe({type:"ShowDetail",payload:!1}),fe({type:"Add",payload:!0})}}):"")),r().createElement(E.Z,{expanded:xe,onChange:()=>()=>{Ae(We)}},e.Dialogview&&r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[496]"},`${Et("496")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld496L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(N.Z,{frmctrlid:"fld496L1TCInputSearch",className:"search_input",type:"text",placeholder:Mt("Search"),value:se,onChange:e=>{ht(e)}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld496L1TCInputCloseIcon",onClick:()=>{ht("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld496L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon"}))))))),r().createElement(h.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&r().createElement("div",{frmctrlid:"fld496L1TCFilterDataIsDraft",id:"PPMSBCreationWorkOrderMatDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{vt()}},r().createElement(i.ZP,{title:Mt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(b.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Filter Data"))),!P&&!Oe&&!Ie&&r().createElement(W.Z,{formctrlidprint:"fld496L1TCExportPrint",formctrlidexport:"fld496L1TCExportTable",formctrlidrefresh:"fld496L1TCExportRefresh",title:Et("496"),data:J,exportData:gt,Items:it,columnIndex:rt,TableVisibleItem:Pe,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ee.loading(!0);let o=u.v.Api+"FP496S3/",d={data:{p1:t&&t.PPMSBCreationworkOrderSubDetIDPK?t.PPMSBCreationworkOrderSubDetIDPK:null,p2:t&&t.PPMSBCreationworkOrderSubDetCode?t.PPMSBCreationworkOrderSubDetCode:null,p3:t&&t.PPMSBRequiredQty?t.PPMSBRequiredQty:null,p4:t&&t.PPMSBRequiredPrice?t.PPMSBRequiredPrice:null,p5:t&&t.PPMSBRequestedKey?t.PPMSBRequestedKey:null,p6:null,p7:t&&t.PPMSBSplitQty?t.PPMSBSplitQty:null,p8:t&&t.PPMSBIssuedQty?t.PPMSBIssuedQty:null,p9:t&&t.PPMSBIssuedPrice?t.PPMSBIssuedPrice:null,p10:null,p11:null,p12:t&&t.PPMSBUtilizedQty?t.PPMSBUtilizedQty:null,p13:t&&t.PPMSBUtilizedPrice?t.PPMSBUtilizedPrice:null,p14:null,p15:t&&t.PPMSBApprovedQty?t.PPMSBApprovedQty:null,p16:t&&t.PPMSBApprovedPrice?t.PPMSBApprovedPrice:null,p17:null,p18:t&&t.PPMSBMatTotAmt?t.PPMSBMatTotAmt:null,p19:null,p20:Oe?"1":"0",p21:null,p22:e.parentId?Number(e.parentId):0,p23:t&&t.MaterialID?t.MaterialID:null,p24:t&&t.IsActive,p25:null,p26:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p27:t&&t.CreatedTtm?t.CreatedTtm:null,p28:t&&t.CreatedTtmType?t.CreatedTtmType:null,p29:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p30:null,p31:t&&t.ContractID?t.ContractID:null,p32:t&&t.ContractCode?t.ContractCode:null,p33:t&&t.ContractName?t.ContractName:null,p34:t&&t.LocalityID?t.LocalityID:null,p35:t&&t.LocalityCode?t.LocalityCode:null,p36:t&&t.LocalityName?t.LocalityName:null,p37:t&&t.BuildingID?t.BuildingID:null,p38:t&&t.BuildingCode?t.BuildingCode:null,p39:t&&t.BuildingName?t.BuildingName:null,p40:t&&t.FloorID?t.FloorID:null,p41:t&&t.FloorCode?t.FloorCode:null,p42:t&&t.FloorName?t.FloorName:null,p43:t&&t.SpotID?t.SpotID:null,p44:t&&t.SpotCode?t.SpotCode:null,p45:t&&t.SpotName?t.SpotName:null,p46:t&&t.DivisionID?t.DivisionID:null,p47:t&&t.DivisionCode?t.DivisionCode:null,p48:t&&t.DivisionName?t.DivisionName:null,p49:t&&t.DisciplineID?t.DisciplineID:null,p50:t&&t.DisciplineCode?t.DisciplineCode:null,p51:t&&t.DisciplineName?t.DisciplineName:null,p52:t&&t.FrequencyID?t.FrequencyID:null,p53:t&&t.FrequencyCode?t.FrequencyCode:null,p54:t&&t.FrequencyName?t.FrequencyName:null,p55:t&&t.HierarchyDetailsID?t.HierarchyDetailsID:null,p56:t&&t.HierarchyDetCode?t.HierarchyDetCode:null,p57:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p58:t&&t.BriefDetails?t.BriefDetails:null,p59:t&&t.FlowCode?t.FlowCode:null,p60:t&&t.FlowDisplayName?t.FlowDisplayName:null,p61:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p62:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p63:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p64:t&&t.PPMStageID?t.PPMStageID:null,p65:t&&t.PPMStageName?t.PPMStageName:null,p66:t&&t.StageSeqNo?t.StageSeqNo:null,p67:t&&t.ServiceTypeID?t.ServiceTypeID:null,p68:t&&t.ServiceTypCode?t.ServiceTypCode:null,p69:t&&t.ServiceTypeName?t.ServiceTypeName:null,p70:t&&t.PPMSBTechAddOnID?t.PPMSBTechAddOnID:null,p71:t&&t.PPMSBTechStartDateTime?t.PPMSBTechStartDateTime:null,p72:t&&t.PPMSBTechStartDateTimeType?t.PPMSBTechStartDateTimeType:null,p73:t&&t.PPMSBTechStartDateTimeBetween?t.PPMSBTechStartDateTimeBetween:null,p74:t&&t.PPMSBTechEndDateTime?t.PPMSBTechEndDateTime:null,p75:t&&t.PPMSBTechEndDateTimeType?t.PPMSBTechEndDateTimeType:null,p76:t&&t.PPMSBTechEndDateTimeBetween?t.PPMSBTechEndDateTimeBetween:null,p77:t&&t.SBCreWorkOrder?t.SBCreWorkOrder:null,p78:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p79:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p80:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p81:t&&t.MaterialTypeID?t.MaterialTypeID:null,p82:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p83:t&&t.MaterialTypeName?t.MaterialTypeName:null,p84:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p85:t&&t.MatMainClassCode?t.MatMainClassCode:null,p86:t&&t.MatMainClassName?t.MatMainClassName:null,p87:t&&t.MatSubClassID?t.MatSubClassID:null,p88:t&&t.MatSubClassCode?t.MatSubClassCode:null,p89:t&&t.MatSubClassName?t.MatSubClassName:null,p90:t&&t.MaterialMakeID?t.MaterialMakeID:null,p91:t&&t.MatMakeCode?t.MatMakeCode:null,p92:t&&t.MatMakeName?t.MatMakeName:null,p93:t&&t.MaterialModelID?t.MaterialModelID:null,p94:t&&t.MatModelCode?t.MatModelCode:null,p95:t&&t.MatModelName?t.MatModelName:null,p96:t&&t.MATUOMID?t.MATUOMID:null,p97:t&&t.MATUOMCode?t.MATUOMCode:null,p98:t&&t.UOMName?t.UOMName:null,p99:t&&t.MatGradeID?t.MatGradeID:null,p100:t&&t.GradeName?t.GradeName:null,p101:t&&t.MatGradeCode?t.MatGradeCode:null,p102:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p103:t&&t.MaterialColorName?t.MaterialColorName:null,p104:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p105:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p106:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p107:t&&t.RawMaterialName?t.RawMaterialName:null,p108:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p109:t&&t.MaterialSizeName?t.MaterialSizeName:null,p110:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p111:t&&t.MaterialCode?t.MaterialCode:null,p112:t&&t.MaterialName?t.MaterialName:null,p113:F.current,p114:T,p115:Oe?"DraftPPMSBCreationworkOrderSubDetID":"PPMSBCreationworkOrderSubDetID",p116:null,p117:null,p118:localStorage.getItem("UserGroupID"),p119:localStorage.getItem("userid")}};Ee.loading(!1),Ee.alert({open:!0,color:"success",message:[`${Et(496)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(o,d,he.token[0],i).then((e=>{(0,U.PDF_Excel_Generate)(e,Ee,it,j,a,i)}))})(oe,te.column,0,0,t)},Refresh:()=>{me(""),x({current:1,pageSize:100}),d.current.clearItem(),he.IsDraft?kt({current:1,pageSize:100},Te,"DraftPPMSBCreationworkOrderSubDetID"):kt({current:1,pageSize:100},Te,"PPMSBCreationworkOrderSubDetID")},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Oe&&!Ie&&!P&&r().createElement("div",{className:"buttoncard",onClick:()=>ct(!mt)},r().createElement("span",null,mt?r().createElement(i.ZP,{disableFocusListener:!0,title:Mt("Less"),placement:"top"},r().createElement("span",{id:"fld496L1TCLess"},r().createElement(q.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Mt("More"),placement:"top"},r().createElement("span",{id:"fld496L1TCMore"},r().createElement(q.ilJ,{className:"tableFilterColumnIcon"}))))),mt?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ie||!We?null:P||!he.AccessRights.IsAdd||Oe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld496L1TCFilterDataIsAdd",id:"PPMSBCreationWorkOrderMatDetailscoldiv",className:"buttoncard",onClick:()=>{Ee.EditClose(!0),ce?(document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBCreationWorkOrderMatDetailsTabDiv").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv").style.display="none",document.getElementById("PPMSBCreationWorkOrderMatDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderMatDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!1)):(document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv").style.width="25%",document.getElementById("PPMSBCreationWorkOrderMatDetailsTabDiv").style.width="75%",document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv").style.display="block",document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderMatDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBCreationWorkOrderMatDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderMatDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!0)),ie(!1)}},r().createElement(i.ZP,{title:Mt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(H.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&We&&!Ie&&!Oe&&r().createElement("div",null,r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetailscoldiv",className:"buttoncard",onClick:()=>{He?Ue(!1):(Ue(!0),ft({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Mt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld496L1TCTableScrollData"},r().createElement($.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Table Scroll Data")))),!Ie&&Oe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ee.hideAddBtn(!1),Ee.ExpandEntry(),kt({current:1,pageSize:100},Te,"PPMSBCreationworkOrderSubDetID"),Fe(!1),me(""),fe({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},r().createElement(i.ZP,{title:Mt("List"),placement:"top"},r().createElement("div",{id:"fld496L1TCList"},r().createElement(qe.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Mt("Drafts")," ",T)):!P&&!Ie&&he.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(be.Z,{color:"secondary",className:"badge",max:999,badgeContent:k,showZero:!0},r().createElement("div",{id:"fld496L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{k>0?(x({current:1,pageSize:100}),g(0),Ee.clear(),me(""),fe({type:"Add",payload:!1}),kt({current:1,pageSize:10},Te,"DraftPPMSBCreationworkOrderSubDetID"),Fe(!0),fe({type:"IsDraft",payload:!0}),pe(!1),Ke(!0),document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBCreationWorkOrderMatDetailsTabDiv").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Me(!1)):Ee.alert({open:!0,color:"warning",message:[Mt("There is no Record Found")]})}},r().createElement(i.ZP,{title:Mt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(Ve.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Mt("Drafts"))))))):""),!Oe&&!P&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Oe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Re?"buttonList":"buttonGrid",id:"fld496L1TCListView",onClick:()=>{Ke(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(q.umT,null)),r().createElement("span",null,Mt("List"))),r().createElement("div",{className:Re||dt?"buttonGrid":"buttonList",id:"fld496L1TCCardView",onClick:()=>{Ke(!1),st(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.aCJ,null)),r().createElement("span",null,Mt("Card"))),r().createElement("div",{className:dt?"buttonList":"buttonGrid",id:"fld496L1TCTileView",onClick:()=>{st(!0),Ke(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.f_H,null)),r().createElement("span",null,Mt("Tile"))))))),Ie?null:He?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld496L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:D,onPageChange:(e,t)=>{g(t),ft({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:Xe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Qe(t),ft({current:t,pageSize:at.pageSize})}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld496L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),We&&r().createElement("p",{className:"per-page"},"/ ",Mt("RowperpageOf")," (",et,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld496L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:D,onPageChange:(e,t)=>{g(t),kt({current:t+1,pageSize:F.pageSize},Te,Oe?"DraftPPMSBCreationworkOrderSubDetID":"PPMSBCreationworkOrderSubDetID",Oe&&"DraftPage"),x({current:t+1,pageSize:F.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:I,siblingCount:0,color:"primary",page:F.current,onChange:(e,t)=>{if(x({current:t,pageSize:F.pageSize}),Oe)kt({current:t,pageSize:F.pageSize},ve,"DraftPPMSBCreationworkOrderSubDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";se.length>0?Nt(se,{current:t,pageSize:F.pageSize}):kt({current:t,pageSize:F.pageSize},ve,"PPMSBCreationworkOrderSubDetID")}}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:F.pageSize,id:"fld496L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Oe?kt({current:1,pageSize:e.target.value},ve,"DraftPPMSBCreationworkOrderSubDetID","DraftPage"):se.length>0?Nt(se,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},ve,"PPMSBCreationworkOrderSubDetID")}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),We&&r().createElement("p",{className:"per-page"},"/ ",Mt("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ne&&r().createElement(ze,{parentId:e.parentId,searchData:e=>{de(e||Bt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:he.token[0],CloseBtnClk:()=>vt(),userGrid:Ct,msg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ce&&r().createElement(K.Z,{Refresh:e=>{kt({current:1,pageSize:100},Te,"PPMSBCreationworkOrderSubDetID")},frmctrlid:"fld496L1TCTableColumnOrder",loading:e=>Ee.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),select:ce,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&bt(t),yt(t),fe({type:"showTableview",payload:t})},Token:he.token[0]})),r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Re?r().createElement(wt,null):r().createElement(_.Z,{frmctrlid:"fld496L1TCExpandedCardDual",data:le,id:"PPMSBCreationWorkOrderMatDetails",title:"PPMSBCreationworkOrderSubDetCode",cardTile:!!dt,visibleitem:Pe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?Ee.select(e):("edit"==t?(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!1}),Ee.Expanded(!0)):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),Ee.viewtoggle()),ne?ie(!0):ce?pe(!0):(pe(!1),pe(!1))),Ee.hideAddBtn(!0)}})))))))})),Ue={EnterKeyValues:{PPMSBCreationWorkOrderMatDetails:["MaterialName","PPMSBRequiredQty","PPMSBRequiredPrice","PPMSBIssuedQty","PPMSBIssuedPrice","IsPPMSBIssuedStat","IsSBSLAMaterail","PPMSBCreationworkOrderSubDetCode","PPMSBRequestedKey","PPMSBRequiredRemarks","PPMSBSplitQty","PPMSBIssuedRemarks","PPMSBUtilizedQty","PPMSBUtilizedPrice","PPMSBUtilizedRemarks","PPMSBApprovedQty","PPMSBApprovedPrice","PPMSBApprovedRemarks","PPMSBMatTotAmt","SBCreWorkOrder"]},Label:{PPMSBCreationWorkOrderMatDetails:{MaterialID:["MaterialCode","MaterialName"],PPMSBRequiredQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBRequiredPrice:["PPMSBCreationworkOrderSubDetCode"],PPMSBIssuedQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBIssuedPrice:["PPMSBCreationworkOrderSubDetCode"],IsPPMSBIssuedStat:["PPMSBCreationworkOrderSubDetCode"],IsSBSLAMaterail:["PPMSBCreationworkOrderSubDetCode"],PPMSBCreationworkOrderSubDetCode:["PPMSBCreationworkOrderSubDetCode"],PPMSBRequestedKey:["PPMSBCreationworkOrderSubDetCode"],PPMSBRequiredRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBSplitQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBIssuedRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBUtilizedQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBUtilizedPrice:["PPMSBCreationworkOrderSubDetCode"],PPMSBUtilizedRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBApprovedQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBApprovedPrice:["PPMSBCreationworkOrderSubDetCode"],PPMSBApprovedRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBMatTotAmt:["PPMSBCreationworkOrderSubDetCode"],PPMSBCreationWorkOrderID:["PPMSBCreationworkOrderSubDetCode"]}},LabelHeader:{PPMSBCreationWorkOrderMatDetails:{MaterialID:["Material Code","Material Name"],PPMSBRequiredQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBRequiredPrice:["PPMSBCreationworkOrderSubDetCode"],PPMSBIssuedQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBIssuedPrice:["PPMSBCreationworkOrderSubDetCode"],IsPPMSBIssuedStat:["PPMSBCreationworkOrderSubDetCode"],IsSBSLAMaterail:["PPMSBCreationworkOrderSubDetCode"],PPMSBCreationworkOrderSubDetCode:["PPMSBCreationworkOrderSubDetCode"],PPMSBRequestedKey:["PPMSBCreationworkOrderSubDetCode"],PPMSBRequiredRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBSplitQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBIssuedRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBUtilizedQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBUtilizedPrice:["PPMSBCreationworkOrderSubDetCode"],PPMSBUtilizedRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBApprovedQty:["PPMSBCreationworkOrderSubDetCode"],PPMSBApprovedPrice:["PPMSBCreationworkOrderSubDetCode"],PPMSBApprovedRemarks:["PPMSBCreationworkOrderSubDetCode"],PPMSBMatTotAmt:["PPMSBCreationworkOrderSubDetCode"],PPMSBCreationWorkOrderID:["PPMSBCreationworkOrderSubDetCode"]}},Property:{PPMSBCreationWorkOrderMatDetails:{MaterialID:{id:"fld496_22011",clearID:"PPMSBCreationWorkOrderMatDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",foreignFld:["Make Name","Model Name"],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMSBRequiredQty:{id:"fld496_21991",labelID:"PPMSBRequiredQty",maxLength:"10",labelname:"Required Quantity",frmctrlid:"fld496_21991",frmctrlidname:"PPMSBRequiredQty",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBRequiredPrice:{id:"fld496_21992",labelID:"PPMSBRequiredPrice",maxLength:"10",labelname:"Required Price",frmctrlid:"fld496_21992",frmctrlidname:"PPMSBRequiredPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBIssuedQty:{id:"fld496_21996",labelID:"PPMSBIssuedQty",maxLength:"10",labelname:"Issued Quantity",frmctrlid:"fld496_21996",frmctrlidname:"PPMSBIssuedQty",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBIssuedPrice:{id:"fld496_21997",labelID:"PPMSBIssuedPrice",maxLength:"10",labelname:"Issued Price",frmctrlid:"fld496_21997",frmctrlidname:"PPMSBIssuedPrice",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsPPMSBIssuedStat:{id:"fld496_21999",labelID:"IsPPMSBIssuedStat",maxLength:"",labelname:"Issued & Utilized",frmctrlid:"fld496_21999",frmctrlidname:"IsPPMSBIssuedStat",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBSLAMaterail:{id:"fld496_22007",labelID:"IsSBSLAMaterail",maxLength:"",labelname:"SLA Material",frmctrlid:"fld496_22007",frmctrlidname:"IsSBSLAMaterail",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBCreationworkOrderSubDetCode:{id:"fld496_21990",labelID:"PPMSBCreationworkOrderSubDetCode",maxLength:"50",labelname:"PPMSBCreationworkOrderSubDetCode",frmctrlid:"fld496_21990",frmctrlidname:"PPMSBCreationworkOrderSubDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBRequestedKey:{id:"fld496_21993",labelID:"PPMSBRequestedKey",maxLength:"",labelname:"PPMSBRequestedKey",frmctrlid:"fld496_21993",frmctrlidname:"PPMSBRequestedKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBRequiredRemarks:{id:"fld496_21994",labelID:"PPMSBRequiredRemarks",maxLength:"-1",labelname:"PPMSBRequiredRemarks",frmctrlid:"fld496_21994",frmctrlidname:"PPMSBRequiredRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBSplitQty:{id:"fld496_21995",labelID:"PPMSBSplitQty",maxLength:"",labelname:"PPMSBSplitQty",frmctrlid:"fld496_21995",frmctrlidname:"PPMSBSplitQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBIssuedRemarks:{id:"fld496_21998",labelID:"PPMSBIssuedRemarks",maxLength:"-1",labelname:"PPMSBIssuedRemarks",frmctrlid:"fld496_21998",frmctrlidname:"PPMSBIssuedRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBUtilizedQty:{id:"fld496_22000",labelID:"PPMSBUtilizedQty",maxLength:"",labelname:"PPMSBUtilizedQty",frmctrlid:"fld496_22000",frmctrlidname:"PPMSBUtilizedQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBUtilizedPrice:{id:"fld496_22001",labelID:"PPMSBUtilizedPrice",maxLength:"",labelname:"PPMSBUtilizedPrice",frmctrlid:"fld496_22001",frmctrlidname:"PPMSBUtilizedPrice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBUtilizedRemarks:{id:"fld496_22002",labelID:"PPMSBUtilizedRemarks",maxLength:"-1",labelname:"PPMSBUtilizedRemarks",frmctrlid:"fld496_22002",frmctrlidname:"PPMSBUtilizedRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBApprovedQty:{id:"fld496_22003",labelID:"PPMSBApprovedQty",maxLength:"",labelname:"PPMSBApprovedQty",frmctrlid:"fld496_22003",frmctrlidname:"PPMSBApprovedQty",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBApprovedPrice:{id:"fld496_22004",labelID:"PPMSBApprovedPrice",maxLength:"",labelname:"PPMSBApprovedPrice",frmctrlid:"fld496_22004",frmctrlidname:"PPMSBApprovedPrice",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBApprovedRemarks:{id:"fld496_22005",labelID:"PPMSBApprovedRemarks",maxLength:"-1",labelname:"PPMSBApprovedRemarks",frmctrlid:"fld496_22005",frmctrlidname:"PPMSBApprovedRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBMatTotAmt:{id:"fld496_22006",labelID:"PPMSBMatTotAmt",maxLength:"15",labelname:"PPMSBMatTotAmt",frmctrlid:"fld496_22006",frmctrlidname:"PPMSBMatTotAmt",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBCreationWorkOrderID:{id:"fld496_22010",clearID:"PPMSBCreationWorkOrderMatDetailsSBCreWorkOrderClear",type:"select",labelID:"PPMSBCreationWorkOrderIDPK",labelname:"PPMSBCreationWorkOrderID",fielddisplayname:"SBCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBCreationWorkOrderMatDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],PPMSBCreationWorkOrderID:["SBCreSLAHours","SBCreWorkOrder","SBCreWoDateTime","ContractID","BuildingID","LocalityID","SpotID","FloorID","DisciplineID","DivisionID","FrequencyID","PPMStageID"]}}};var je=a(79352);const Ye={PPMSBCreationworkOrderSubDetIDPK:"",PPMSBCreationworkOrderSubDetCode:"",PPMSBRequiredQty:"",PPMSBRequiredPrice:"",PPMSBRequestedKey:"",PPMSBRequiredRemarks:"",PPMSBSplitQty:"",PPMSBIssuedQty:"",PPMSBIssuedPrice:"",PPMSBIssuedRemarks:"",IsPPMSBIssuedStat:!1,PPMSBUtilizedQty:"",PPMSBUtilizedPrice:"",PPMSBUtilizedRemarks:"",PPMSBApprovedQty:"",PPMSBApprovedPrice:"",PPMSBApprovedRemarks:"",PPMSBMatTotAmt:"",IsSBSLAMaterail:!1,IsDraft:!1,Remarks:"",PPMSBCreationWorkOrderID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",HierarchyDetailsID:null,HierarchyDetCode:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",ServiceTypeID:null,ServiceTypCode:"",ServiceTypeName:"",PPMSBTechAddOnID:null,PPMSBTechStartDateTime:"",PPMSBTechStartDateTimeType:"",PPMSBTechStartDateTimeBetween:"",PPMSBTechEndDateTime:"",PPMSBTechEndDateTimeType:"",PPMSBTechEndDateTimeBetween:"",SBCreWorkOrder:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"PPMSBCreationworkOrderSubDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Xe=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!0),[C,B]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[M,f]=(0,l.useState)(""),[T,v]=(0,l.useState)(!1),[k,N]=(0,l.useState)([]),[b,w]=(0,l.useState)(null),[O,x]=(0,l.useReducer)(me.Z,Ye),[A,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),z=(0,l.useContext)(e.context?e.context:$e),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:Je(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ce()("496"),[$,J]=(0,l.useState)(""),[re,ie]=(0,l.useState)(""),[de,ce]=(0,l.useState)(!0),[Se,Pe]=(0,l.useState)(!0),[ye,Be]=(0,l.useState)(!0),[De,ge]=(0,l.useState)(!0),[Ie,Me]=(0,l.useState)(!0),[Ee,he]=(0,l.useState)(!0),[fe,Te]=(0,l.useState)(!0),[ve,ke]=(0,l.useState)(!0),[Ne,be]=(0,l.useState)(!0),[we,Oe]=(0,l.useState)(!0),[Fe,xe]=(0,l.useState)(!0),[Ae,We]=(0,l.useState)(!0),[Le,Re]=(0,l.useState)(!1);let Ke=(0,y.Z)();const[Ze,Ge]=(0,l.useState)({}),ze=e=>Ke[e]?Ke[e]:e,_e=t=>_.language?.[t]?_.language[t]:e.createEasy?Ze?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{Ve()}),[]),(0,l.useEffect)((()=>{Ve()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(qe(_.editData[0],""),B(!0)):_.Add&&(Ve(),B(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ge(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ve()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(ot(t),B(e)):(Ve(),B(e))},AddOpen:e=>{Ve(),B(!0)}})));const qe=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultPPMSBCreationworkOrderSubDetID"==a?j(t.PPMSBCreationworkOrderSubDetIDPK):(H(e.primid?Number(e.primid):t.PPMSBCreationworkOrderSubDetIDPK?t.PPMSBCreationworkOrderSubDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSBCreationworkOrderSubDetIDPK})),x({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),x({type:"text",name:"MaterialName",value:t.MaterialName}),x({type:"number",name:"PPMSBRequiredQty",number:Number(t.PPMSBRequiredQty)}),x({type:"number",name:"PPMSBRequiredPrice",number:Number(t.PPMSBRequiredPrice)}),x({type:"number",name:"PPMSBIssuedQty",number:Number(t.PPMSBIssuedQty)}),x({type:"number",name:"PPMSBIssuedPrice",number:Number(t.PPMSBIssuedPrice)}),x({type:"boolean",name:"IsPPMSBIssuedStat",boolean:!!t.IsPPMSBIssuedStat&&t.IsPPMSBIssuedStat}),x({type:"boolean",name:"IsSBSLAMaterail",boolean:!!t.IsSBSLAMaterail&&t.IsSBSLAMaterail}),x({type:"text",name:"PPMSBCreationworkOrderSubDetCode",value:t.PPMSBCreationworkOrderSubDetCode?t.PPMSBCreationworkOrderSubDetCode:""}),x({type:"number",name:"PPMSBRequestedKey",number:t.PPMSBRequestedKey}),x({type:"text",name:"PPMSBRequiredRemarks",value:t.PPMSBRequiredRemarks?t.PPMSBRequiredRemarks:""}),x({type:"number",name:"PPMSBSplitQty",number:Number(t.PPMSBSplitQty)}),x({type:"text",name:"PPMSBIssuedRemarks",value:t.PPMSBIssuedRemarks?t.PPMSBIssuedRemarks:""}),x({type:"number",name:"PPMSBUtilizedQty",number:Number(t.PPMSBUtilizedQty)}),x({type:"number",name:"PPMSBUtilizedPrice",number:Number(t.PPMSBUtilizedPrice)}),x({type:"text",name:"PPMSBUtilizedRemarks",value:t.PPMSBUtilizedRemarks?t.PPMSBUtilizedRemarks:""}),x({type:"number",name:"PPMSBApprovedQty",number:Number(t.PPMSBApprovedQty)}),x({type:"number",name:"PPMSBApprovedPrice",number:Number(t.PPMSBApprovedPrice)}),x({type:"text",name:"PPMSBApprovedRemarks",value:t.PPMSBApprovedRemarks?t.PPMSBApprovedRemarks:""}),x({type:"number",name:"PPMSBMatTotAmt",number:Number(t.PPMSBMatTotAmt)}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:t.PPMSBCreationWorkOrderID?Number(t.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:t.SBCreWorkOrder}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},Ve=()=>{N([]),H(0),j(""),e.createEasy||z.resetImg(),q({type:"PrimaryId",payload:""}),x({type:"text",name:"MaterialID",value:null}),x({type:"text",name:"MaterialName",value:""}),document.getElementById("PPMSBCreationWorkOrderMatDetailsMaterialNameClear")&&document.getElementById("PPMSBCreationWorkOrderMatDetailsMaterialNameClear").click(),x({type:"number",name:"PPMSBRequiredQty",number:0}),x({type:"number",name:"PPMSBRequiredPrice",number:0}),x({type:"number",name:"PPMSBIssuedQty",number:0}),x({type:"number",name:"PPMSBIssuedPrice",number:0}),x({type:"boolean",name:"IsPPMSBIssuedStat",boolean:!1}),x({type:"boolean",name:"IsSBSLAMaterail",boolean:!1}),x({type:"text",name:"PPMSBCreationworkOrderSubDetCode",value:""}),x({type:"number",name:"PPMSBRequestedKey",number:0}),x({type:"text",name:"PPMSBRequiredRemarks",value:""}),x({type:"number",name:"PPMSBSplitQty",number:0}),x({type:"text",name:"PPMSBIssuedRemarks",value:""}),x({type:"number",name:"PPMSBUtilizedQty",number:0}),x({type:"number",name:"PPMSBUtilizedPrice",number:0}),x({type:"text",name:"PPMSBUtilizedRemarks",value:""}),x({type:"number",name:"PPMSBApprovedQty",number:0}),x({type:"number",name:"PPMSBApprovedPrice",number:0}),x({type:"text",name:"PPMSBApprovedRemarks",value:""}),x({type:"number",name:"PPMSBMatTotAmt",number:0}),x({type:"text",name:"PPMSBCreationWorkOrderID",value:null}),x({type:"text",name:"SBCreWorkOrder",value:""}),document.getElementById("PPMSBCreationWorkOrderMatDetailsSBCreWorkOrderClear")&&document.getElementById("PPMSBCreationWorkOrderMatDetailsSBCreWorkOrderClear").click(),c(!0),f(""),ce(!0),Pe(!0),Be(!0),ge(!0),Me(!0),he(!0),Te(!0),ke(!0),be(!0),Oe(!0),xe(!0),We(!0),J(""),ie("")},He=t=>{z.loading(!0),z.ConfirmAlert(null);const a=u.v.Api+"FP496S2/",l={data:[{p1:"SetDefaultPPMSBCreationworkOrderSubDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:dt(O.PPMSBCreationworkOrderSubDetCode),p3:O.PPMSBRequiredQty?Number(O.PPMSBRequiredQty):0,p4:O.PPMSBRequiredPrice?Number(O.PPMSBRequiredPrice):0,p5:O.PPMSBRequestedKey?Number(O.PPMSBRequestedKey):0,p6:dt(O.PPMSBRequiredRemarks),p7:O.PPMSBSplitQty?Number(O.PPMSBSplitQty):0,p8:O.PPMSBIssuedQty?Number(O.PPMSBIssuedQty):0,p9:O.PPMSBIssuedPrice?Number(O.PPMSBIssuedPrice):0,p10:dt(O.PPMSBIssuedRemarks),p11:O.IsPPMSBIssuedStat,p12:O.PPMSBUtilizedQty?Number(O.PPMSBUtilizedQty):0,p13:O.PPMSBUtilizedPrice?Number(O.PPMSBUtilizedPrice):0,p14:dt(O.PPMSBUtilizedRemarks),p15:O.PPMSBApprovedQty?Number(O.PPMSBApprovedQty):0,p16:O.PPMSBApprovedPrice?Number(O.PPMSBApprovedPrice):0,p17:dt(O.PPMSBApprovedRemarks),p18:O.PPMSBMatTotAmt?Number(O.PPMSBMatTotAmt):0,p19:O.IsSBSLAMaterail,p20:!1,p21:"SetDefaultPPMSBCreationworkOrderSubDetID"==t?"SetDefault":null,p22:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p23:O.MaterialID?O.MaterialID:0,p24:d,p25:"SetDefaultPPMSBCreationworkOrderSubDetID"==t,p26:localStorage.getItem("userid"),p27:ne()().format("YYYY-MM-DD hh:mm:ss"),p28:localStorage.getItem("userid"),p29:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:n}),z.loading(!1)):(t=>{ce(!0),Pe(!0),Be(!0),ge(!0),Me(!0),he(!0),Te(!0),ke(!0),be(!0),Oe(!0),xe(!0),We(!0),z.loading(!0),z.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP496S1/",l={data:[{p1:V,p2:dt(O.PPMSBCreationworkOrderSubDetCode),p3:O.PPMSBRequiredQty?Number(O.PPMSBRequiredQty):0,p4:O.PPMSBRequiredPrice?Number(O.PPMSBRequiredPrice):0,p5:O.PPMSBRequestedKey?Number(O.PPMSBRequestedKey):0,p6:dt(O.PPMSBRequiredRemarks),p7:O.PPMSBSplitQty?Number(O.PPMSBSplitQty):0,p8:O.PPMSBIssuedQty?Number(O.PPMSBIssuedQty):0,p9:O.PPMSBIssuedPrice?Number(O.PPMSBIssuedPrice):0,p10:dt(O.PPMSBIssuedRemarks),p11:O.IsPPMSBIssuedStat,p12:O.PPMSBUtilizedQty?Number(O.PPMSBUtilizedQty):0,p13:O.PPMSBUtilizedPrice?Number(O.PPMSBUtilizedPrice):0,p14:dt(O.PPMSBUtilizedRemarks),p15:O.PPMSBApprovedQty?Number(O.PPMSBApprovedQty):0,p16:O.PPMSBApprovedPrice?Number(O.PPMSBApprovedPrice):0,p17:dt(O.PPMSBApprovedRemarks),p18:O.PPMSBMatTotAmt?Number(O.PPMSBMatTotAmt):0,p19:O.IsSBSLAMaterail,p20:!1,p21:null,p22:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p23:O.MaterialID?O.MaterialID:0,p24:d,p25:!1,p26:localStorage.getItem("userid"),p27:ne()().format("YYYY-MM-DD hh:mm:ss"),p28:localStorage.getItem("userid"),p29:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,te.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails"),z.loading(!1),q({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(t[0].Data.IDPK)),Ve(),_.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails")&&(document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails").style.display="none",document.getElementById("divPPMSBCreationWorkOrderMatDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBCreationWorkOrderMatDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[a.message]}),z.loading(!1)),B(!0)}))}))})()):(z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),z.loading(!1))}))}))};function Xe(t,a,l,r){if(!(_.count>0))return z.alert({open:!0,color:"warning",message:[ze("Please save atleast one record")]}),!1;if(!((()=>{const e={...O};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return z.alert({open:!0,color:"warning",message:[ze("Please enter the primary fields")]}),!1;{ce(!0),Pe(!0),Be(!0),ge(!0),Me(!0),he(!0),Te(!0),ke(!0),be(!0),Oe(!0),xe(!0),We(!0),z.loading(!0),z.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP496S1/",l={data:[{p1:"SetDefaultPPMSBCreationworkOrderSubDetID"==r?"NORECORDS"!=U&&U?U:0:V,p2:dt(O.PPMSBCreationworkOrderSubDetCode),p3:O.PPMSBRequiredQty?Number(O.PPMSBRequiredQty):0,p4:O.PPMSBRequiredPrice?Number(O.PPMSBRequiredPrice):0,p5:O.PPMSBRequestedKey?Number(O.PPMSBRequestedKey):0,p6:dt(O.PPMSBRequiredRemarks),p7:O.PPMSBSplitQty?Number(O.PPMSBSplitQty):0,p8:O.PPMSBIssuedQty?Number(O.PPMSBIssuedQty):0,p9:O.PPMSBIssuedPrice?Number(O.PPMSBIssuedPrice):0,p10:dt(O.PPMSBIssuedRemarks),p11:O.IsPPMSBIssuedStat,p12:O.PPMSBUtilizedQty?Number(O.PPMSBUtilizedQty):0,p13:O.PPMSBUtilizedPrice?Number(O.PPMSBUtilizedPrice):0,p14:dt(O.PPMSBUtilizedRemarks),p15:O.PPMSBApprovedQty?Number(O.PPMSBApprovedQty):0,p16:O.PPMSBApprovedPrice?Number(O.PPMSBApprovedPrice):0,p17:dt(O.PPMSBApprovedRemarks),p18:O.PPMSBMatTotAmt?Number(O.PPMSBMatTotAmt):0,p19:O.IsSBSLAMaterail,p20:!0,p21:"SetDefaultPPMSBCreationworkOrderSubDetID"==r?"SetDefault":null,p22:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p23:O.MaterialID?O.MaterialID:0,p24:!1,p25:"SetDefaultPPMSBCreationworkOrderSubDetID"==r,p26:localStorage.getItem("userid"),p27:ne()().format("YYYY-MM-DD hh:mm:ss"),p28:localStorage.getItem("userid"),p29:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((r=>{(0,te.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?z.alert({open:!0,color:"warning",message:[ze("Deleted Successfully")]}):z.alert({open:!0,color:"success",message:[ze("Saved to Draft")]}),z.loading(!1),z.attachmentSave(a[0].Data.IDPK),Ve(),z.RefreshTable(),e.clrImgstate(!0)):(z.alert({open:!0,color:"warning",message:[l.message]}),z.loading(!1))}))}))}}function Qe(e){return CreateEasy(e,_,q,z,Y),!1}function et(e,a){return AdvanceSearch(e,a,$e,Je(),lt,t),!1}const tt=(t,a,l,r,n,i)=>{const o=u.v.Api+"FP496S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:a?"%"+a+"%":null,p8:a?"%"+a+"%":null,p9:a?"%"+a+"%":null,p10:null,p11:1==O.IsPPMSBIssuedStat,p12:a?"%"+a+"%":null,p13:a?"%"+a+"%":null,p14:null,p15:a?"%"+a+"%":null,p16:a?"%"+a+"%":null,p17:null,p18:a?"%"+a+"%":null,p19:1==O.IsSBSLAMaterail,p20:null,p21:null,p22:e.parentId?Number(e.parentId):0,p23:"0"==O.MaterialID?null:O.MaterialID,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:"0"==O.ContractID?null:O.ContractID,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:"0"==O.LocalityID?null:O.LocalityID,p35:a?"%"+a+"%":null,p36:a?"%"+a+"%":null,p37:"0"==O.BuildingID?null:O.BuildingID,p38:a?"%"+a+"%":null,p39:a?"%"+a+"%":null,p40:"0"==O.FloorID?null:O.FloorID,p41:a?"%"+a+"%":null,p42:a?"%"+a+"%":null,p43:"0"==O.SpotID?null:O.SpotID,p44:a?"%"+a+"%":null,p45:a?"%"+a+"%":null,p46:"0"==O.DivisionID?null:O.DivisionID,p47:a?"%"+a+"%":null,p48:a?"%"+a+"%":null,p49:"0"==O.DisciplineID?null:O.DisciplineID,p50:a?"%"+a+"%":null,p51:a?"%"+a+"%":null,p52:"0"==O.FrequencyID?null:O.FrequencyID,p53:a?"%"+a+"%":null,p54:a?"%"+a+"%":null,p55:"0"==O.HierarchyDetailsID?null:O.HierarchyDetailsID,p56:a?"%"+a+"%":null,p57:"0"==O.PPMBusinessFlowID?null:O.PPMBusinessFlowID,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==O.PPMFixonBusinessFlowID?null:O.PPMFixonBusinessFlowID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==O.PPMStageID?null:O.PPMStageID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:"0"==O.ServiceTypeID?null:O.ServiceTypeID,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:"0"==O.PPMSBTechAddOnID?null:O.PPMSBTechAddOnID,p71:O.PPMSBTechStartDateTime?O.PPMSBTechStartDateTime:null,p72:null,p73:null,p74:O.PPMSBTechEndDateTime?O.PPMSBTechEndDateTime:null,p75:null,p76:null,p77:a?"%"+a+"%":null,p78:"0"==O.MatProcessTypeID?null:O.MatProcessTypeID,p79:a?"%"+a+"%":null,p80:a?"%"+a+"%":null,p81:"0"==O.MaterialTypeID?null:O.MaterialTypeID,p82:a?"%"+a+"%":null,p83:a?"%"+a+"%":null,p84:"0"==O.MaterialMainClassID?null:O.MaterialMainClassID,p85:a?"%"+a+"%":null,p86:a?"%"+a+"%":null,p87:"0"==O.MatSubClassID?null:O.MatSubClassID,p88:a?"%"+a+"%":null,p89:a?"%"+a+"%":null,p90:"0"==O.MaterialMakeID?null:O.MaterialMakeID,p91:a?"%"+a+"%":null,p92:a?"%"+a+"%":null,p93:"0"==O.MaterialModelID?null:O.MaterialModelID,p94:a?"%"+a+"%":null,p95:a?"%"+a+"%":null,p96:"0"==O.MATUOMID?null:O.MATUOMID,p97:a?"%"+a+"%":null,p98:a?"%"+a+"%":null,p99:"0"==O.MatGradeID?null:O.MatGradeID,p100:a?"%"+a+"%":null,p101:a?"%"+a+"%":null,p102:"0"==O.MatMaterialColorID?null:O.MatMaterialColorID,p103:a?"%"+a+"%":null,p104:a?"%"+a+"%":null,p105:"0"==O.MadeRawMaterialID?null:O.MadeRawMaterialID,p106:a?"%"+a+"%":null,p107:a?"%"+a+"%":null,p108:"0"==O.MatMaterialSizeID?null:O.MatMaterialSizeID,p109:a?"%"+a+"%":null,p110:a?"%"+a+"%":null,p111:a?"%"+a+"%":null,p112:a?"%"+a+"%":null,p113:t,p114:10,p115:l,p116:null,p117:null,p118:localStorage.getItem("UserGroupID"),p119:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);const m={data:s};return(0,p.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSBCreationworkOrderSubDetID"==l&&r?r:_.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};R(1==t?e>0?r:[]:L.concat(r)),"SetDefaultPPMSBCreationworkOrderSubDetID"==l&&(e>0?qe(r[0],"SetDefaultPPMSBCreationworkOrderSubDetID"):j("NORECORDS")),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},at=(t,l,r)=>{const n=u.v.Api+"FP496S3/",i={data:{p1:null,p2:"PPMSBCreationworkOrderSubDetCode"==r&&l?"%"+l+"%":null,p3:"PPMSBRequiredQty"==r&&l?"%"+l+"%":null,p4:"PPMSBRequiredPrice"==r&&l?"%"+l+"%":null,p5:"PPMSBRequestedKey"==r&&l?"%"+l+"%":null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID?a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID:"0",p23:null,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:t,p114:10,p115:"PPMSBCreationworkOrderSubDetID",p116:null,p117:null,p118:localStorage.getItem("UserGroupID"),p119:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,p.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBCreationworkOrderSubDetCode"==r&&ce(e>0),"PPMSBRequestedKey"==r&&Pe(e>0),"PPMSBRequiredRemarks"==r&&Be(e>0),"PPMSBSplitQty"==r&&ge(e>0),"PPMSBIssuedRemarks"==r&&Me(e>0),"PPMSBUtilizedQty"==r&&he(e>0),"PPMSBUtilizedPrice"==r&&Te(e>0),"PPMSBUtilizedRemarks"==r&&ke(e>0),"PPMSBApprovedQty"==r&&be(e>0),"PPMSBApprovedPrice"==r&&Oe(e>0),"PPMSBApprovedRemarks"==r&&xe(e>0),"PPMSBMatTotAmt"==r&&We(e>0),R(l)):("PPMSBCreationworkOrderSubDetCode"==r&&ce(!0),"PPMSBRequestedKey"==r&&Pe(!0),"PPMSBRequiredRemarks"==r&&Be(!0),"PPMSBSplitQty"==r&&ge(!0),"PPMSBIssuedRemarks"==r&&Me(!0),"PPMSBUtilizedQty"==r&&he(!0),"PPMSBUtilizedPrice"==r&&Te(!0),"PPMSBUtilizedRemarks"==r&&ke(!0),"PPMSBApprovedQty"==r&&be(!0),"PPMSBApprovedPrice"==r&&Oe(!0),"PPMSBApprovedRemarks"==r&&xe(!0),"PPMSBMatTotAmt"==r&&We(!0),R(L.concat(l))),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},lt=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a?x({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(x({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),x({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}),J(e.MakeName?e.MakeName:null),ie(e.ModelName?e.ModelName:null))}),[O]);function rt(e){if("MaterialID"==e){if(!O.MaterialID)return!1;x({type:"text",name:"MaterialID",value:null}),x({type:"text",name:"MaterialName",value:""}),document.getElementById("PPMSBCreationWorkOrderMatDetailsMaterialNameClear")&&document.getElementById("PPMSBCreationWorkOrderMatDetailsMaterialNameClear").click(),J(""),ie("")}else if("PPMSBCreationWorkOrderID"==e&&!O.PPMSBCreationWorkOrderID)return!1}function nt(e){if("MaterialID"==e){if(!O.MaterialID)return!1;x({type:"text",name:"MaterialID",value:null}),J(""),ie("")}else if("PPMSBCreationWorkOrderID"==e&&!O.PPMSBCreationWorkOrderID)return!1}const it=e=>{z.ConfirmAlert(r().createElement(oe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ot(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ze("Yes"),cancelBtnText:ze("No"),showCancel:!0},ze("Do you want to update this record?")))};function ot(e){z.ConfirmAlert(null),I(e.IsDraft),H(Number(e.PPMSBCreationworkOrderSubDetIDPK)?Number(e.PPMSBCreationworkOrderSubDetIDPK):0),x({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),x({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),x({type:"number",name:"PPMSBRequiredQty",number:e.PPMSBRequiredQty?Number(e.PPMSBRequiredQty):0}),x({type:"number",name:"PPMSBRequiredPrice",number:e.PPMSBRequiredPrice?Number(e.PPMSBRequiredPrice):0}),x({type:"number",name:"PPMSBIssuedQty",number:e.PPMSBIssuedQty?Number(e.PPMSBIssuedQty):0}),x({type:"number",name:"PPMSBIssuedPrice",number:e.PPMSBIssuedPrice?Number(e.PPMSBIssuedPrice):0}),x({type:"boolean",name:"IsPPMSBIssuedStat",boolean:!!e.IsPPMSBIssuedStat&&e.IsPPMSBIssuedStat}),x({type:"boolean",name:"IsSBSLAMaterail",boolean:!!e.IsSBSLAMaterail&&e.IsSBSLAMaterail}),x({type:"text",name:"PPMSBCreationworkOrderSubDetCode",value:e.PPMSBCreationworkOrderSubDetCode?e.PPMSBCreationworkOrderSubDetCode:""}),x({type:"text",name:"PPMSBRequestedKey",value:e.PPMSBRequestedKey?e.PPMSBRequestedKey:""}),x({type:"text",name:"PPMSBRequiredRemarks",value:e.PPMSBRequiredRemarks?e.PPMSBRequiredRemarks:""}),x({type:"text",name:"PPMSBSplitQty",value:e.PPMSBSplitQty?e.PPMSBSplitQty:""}),x({type:"text",name:"PPMSBIssuedRemarks",value:e.PPMSBIssuedRemarks?e.PPMSBIssuedRemarks:""}),x({type:"text",name:"PPMSBUtilizedQty",value:e.PPMSBUtilizedQty?e.PPMSBUtilizedQty:""}),x({type:"text",name:"PPMSBUtilizedPrice",value:e.PPMSBUtilizedPrice?e.PPMSBUtilizedPrice:""}),x({type:"text",name:"PPMSBUtilizedRemarks",value:e.PPMSBUtilizedRemarks?e.PPMSBUtilizedRemarks:""}),x({type:"text",name:"PPMSBApprovedQty",value:e.PPMSBApprovedQty?e.PPMSBApprovedQty:""}),x({type:"text",name:"PPMSBApprovedPrice",value:e.PPMSBApprovedPrice?e.PPMSBApprovedPrice:""}),x({type:"text",name:"PPMSBApprovedRemarks",value:e.PPMSBApprovedRemarks?e.PPMSBApprovedRemarks:""}),x({type:"text",name:"PPMSBMatTotAmt",value:e.PPMSBMatTotAmt?e.PPMSBMatTotAmt:""}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:e.PPMSBCreationWorkOrderID?Number(e.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:e.SBCreWorkOrder?e.SBCreWorkOrder:""})}const dt=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(E.Z,{expanded:C,onChange:e=>{}},r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},C&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[496]"}," ",ze("Add "),_e("496")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(pe.Z,{row:!0},r().createElement(ee.Z,{labelPlacement:"bottom",id:"fld496L1ECEntryCheckbox",control:r().createElement(F.Z,{checked:"1"==d,onChange:e=>c(e.target.checked)}),label:ze(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld496L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(ue.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ze("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ve()},id:"fld496L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ue.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ze("Reset")))),"1"===D&&V&&r().createElement(le.Z,{frmctrlid:"fld496L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Xe("draftdel")}}),V&&"1"!==D||e.createEasy?null:_.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{Xe()},frmctrlid:"fld496L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(je.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ze("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(P.Z,{frmctrlid:"fld496L1ECSaveBtnIsAdd",name:ze(V?"Update":"Save"),disabled:!1,onClick:()=>{O.MaterialID&&0!=O.MaterialID?dt(O.PPMSBRequiredQty)?e.parentId&&0!=e.parentId?z.ConfirmAlert(r().createElement(oe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ze("Are you sure?"),onConfirm:()=>He(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ze("Yes"),cancelBtnText:ze("Cancel"),showCancel:!0},ze(V?"Do you want to Update?":"Do you want to Save?"))):z.alert({open:!0,color:"warning",message:[ze("Please select the ")+" "+_e("PPMSBCreationWorkOrderID")]}):z.alert({open:!0,color:"warning",message:[ze("Please enter the")+""+_e("PPMSBRequiredQty")]}):z.alert({open:!0,color:"warning",message:[ze("Please select the ")+" "+_e("MaterialID")]})}}):null,!e.createEasy&&r().createElement(g.Z,{frmctrlid:"fld496L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ve(),B(!1),z.EditClose(!0),z.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(h.Z,null,r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(se.Z,{json:Ue,id:O.MaterialID,"data-testid":O.MaterialID,value:O.MaterialName,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"MaterialID",tfLabel:_e("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>lt(e,"MaterialID","select"),onChange:(e,t)=>{tt(e,t,"MaterialIDPK")},KeyBack:e=>{nt("MaterialID")},fieldorder:"1",data:L,foreign:!_.PrimaryId,foreignName:$||re?[$,re]:["Make Name","Model Name"],foreignClick:t=>e.openSlideView("MaterialID",O.MaterialID?O.MaterialID:t),totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Qe("354")},Tabledialog:()=>et("354","MaterialID"),loading:A,clear:e=>{e&&rt("MaterialID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ae.Z,{json:Ue,"data-testid":O.PPMSBRequiredQty,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBRequiredQty",tfLabel:_e("PPMSBRequiredQty"),frmctrlid:"fld496_21991",fieldorder:"1",onChange:e=>{lt(e,"PPMSBRequiredQty","number")},clear:e=>{e&&x({type:"number",name:"PPMSBRequiredQty",number:0})},value:O.PPMSBRequiredQty})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(ae.Z,{json:Ue,"data-testid":O.PPMSBRequiredPrice,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBRequiredPrice",tfLabel:_e("PPMSBRequiredPrice"),frmctrlid:"fld496_21992",fieldorder:"1",onChange:e=>{lt(e,"PPMSBRequiredPrice","number")},clear:e=>{e&&x({type:"number",name:"PPMSBRequiredPrice",number:0})},value:O.PPMSBRequiredPrice})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:Ue,"data-testid":O.PPMSBIssuedQty,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBIssuedQty",tfLabel:_e("PPMSBIssuedQty"),frmctrlid:"fld496_21996",fieldorder:"2",onChange:e=>{lt(e,"PPMSBIssuedQty","number")},clear:e=>{e&&x({type:"number",name:"PPMSBIssuedQty",number:0})},value:O.PPMSBIssuedQty})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:Ue,"data-testid":O.PPMSBIssuedPrice,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBIssuedPrice",tfLabel:_e("PPMSBIssuedPrice"),frmctrlid:"fld496_21997",fieldorder:"3",onChange:e=>{lt(e,"PPMSBIssuedPrice","number")},clear:e=>{e&&x({type:"number",name:"PPMSBIssuedPrice",number:0})},value:O.PPMSBIssuedPrice})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(ee.Z,{style:{color:"#337ab7"},"data-testid":O.IsPPMSBIssuedStat,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==O.IsPPMSBIssuedStat,onChange:e=>{lt(e.target.checked,"IsPPMSBIssuedStat","boolean")},frmctrlid:"fld496_21999",frmctrlidname:"IsPPMSBIssuedStat",fieldorder:"4",tfLabel:_e("IsPPMSBIssuedStat")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:O.IsPPMSBIssuedStat?"#21446F":"#999"}},_e("IsPPMSBIssuedStat"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(ee.Z,{style:{color:"#337ab7"},"data-testid":O.IsSBSLAMaterail,labelPlacement:"end",control:r().createElement(F.Z,{checked:"1"==O.IsSBSLAMaterail,onChange:e=>{lt(e.target.checked,"IsSBSLAMaterail","boolean")},frmctrlid:"fld496_22007",frmctrlidname:"IsSBSLAMaterail",fieldorder:"1",tfLabel:_e("IsSBSLAMaterail")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:O.IsSBSLAMaterail?"#21446F":"#999"}},_e("IsSBSLAMaterail"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBCreationworkOrderSubDetCode,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBCreationworkOrderSubDetCode",tfLabel:_e("PPMSBCreationworkOrderSubDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{de&&at(1,"","ClearAll"),ce(!0)},frmctrlid:"fld496_21990",frmctrlidName:"PPMSBCreationworkOrderSubDetCode",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{de&&at(e,t,"PPMSBCreationworkOrderSubDetCode"),lt(t,"PPMSBCreationworkOrderSubDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:de,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBCreationworkOrderSubDetCode,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBCreationworkOrderSubDetCode",value:""}),ce(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBRequestedKey,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBRequestedKey",tfLabel:_e("PPMSBRequestedKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Se&&at(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld496_21993",frmctrlidName:"PPMSBRequestedKey",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Se&&at(e,t,"PPMSBRequestedKey"),lt(t,"PPMSBRequestedKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:Se,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBRequestedKey,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBRequestedKey",value:""}),Pe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBRequiredRemarks,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBRequiredRemarks",tfLabel:_e("PPMSBRequiredRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{ye&&at(1,"","ClearAll"),Be(!0)},frmctrlid:"fld496_21994",frmctrlidName:"PPMSBRequiredRemarks",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ye&&at(e,t,"PPMSBRequiredRemarks"),lt(t,"PPMSBRequiredRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Be(!0)},showList:ye,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBRequiredRemarks,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBRequiredRemarks",value:""}),Be(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBSplitQty,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBSplitQty",tfLabel:_e("PPMSBSplitQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{De&&at(1,"","ClearAll"),ge(!0)},frmctrlid:"fld496_21995",frmctrlidName:"PPMSBSplitQty",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{De&&at(e,t,"PPMSBSplitQty"),lt(t,"PPMSBSplitQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ge(!0)},showList:De,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBSplitQty,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBSplitQty",value:""}),ge(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBIssuedRemarks,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBIssuedRemarks",tfLabel:_e("PPMSBIssuedRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Ie&&at(1,"","ClearAll"),Me(!0)},frmctrlid:"fld496_21998",frmctrlidName:"PPMSBIssuedRemarks",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Ie&&at(e,t,"PPMSBIssuedRemarks"),lt(t,"PPMSBIssuedRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Me(!0)},showList:Ie,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBIssuedRemarks,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBIssuedRemarks",value:""}),Me(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBUtilizedQty,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBUtilizedQty",tfLabel:_e("PPMSBUtilizedQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Ee&&at(1,"","ClearAll"),he(!0)},frmctrlid:"fld496_22000",frmctrlidName:"PPMSBUtilizedQty",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Ee&&at(e,t,"PPMSBUtilizedQty"),lt(t,"PPMSBUtilizedQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||he(!0)},showList:Ee,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBUtilizedQty,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBUtilizedQty",value:""}),he(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBUtilizedPrice,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBUtilizedPrice",tfLabel:_e("PPMSBUtilizedPrice"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{fe&&at(1,"","ClearAll"),Te(!0)},frmctrlid:"fld496_22001",frmctrlidName:"PPMSBUtilizedPrice",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{fe&&at(e,t,"PPMSBUtilizedPrice"),lt(t,"PPMSBUtilizedPrice","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Te(!0)},showList:fe,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBUtilizedPrice,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBUtilizedPrice",value:""}),Te(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBUtilizedRemarks,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBUtilizedRemarks",tfLabel:_e("PPMSBUtilizedRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{ve&&at(1,"","ClearAll"),ke(!0)},frmctrlid:"fld496_22002",frmctrlidName:"PPMSBUtilizedRemarks",fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ve&&at(e,t,"PPMSBUtilizedRemarks"),lt(t,"PPMSBUtilizedRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ke(!0)},showList:ve,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBUtilizedRemarks,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBUtilizedRemarks",value:""}),ke(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(se.Z,{"data-testid":O.PPMSBApprovedQty,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBApprovedQty",tfLabel:_e("PPMSBApprovedQty"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Ne&&at(1,"","ClearAll"),be(!0)},frmctrlid:"fld496_22003",frmctrlidName:"PPMSBApprovedQty",fieldorder:"2",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Ne&&at(e,t,"PPMSBApprovedQty"),lt(t,"PPMSBApprovedQty","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||be(!0)},showList:Ne,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBApprovedQty,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBApprovedQty",value:""}),be(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(se.Z,{"data-testid":O.PPMSBApprovedPrice,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBApprovedPrice",tfLabel:_e("PPMSBApprovedPrice"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{we&&at(1,"","ClearAll"),Oe(!0)},frmctrlid:"fld496_22004",frmctrlidName:"PPMSBApprovedPrice",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{we&&at(e,t,"PPMSBApprovedPrice"),lt(t,"PPMSBApprovedPrice","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Oe(!0)},showList:we,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBApprovedPrice,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBApprovedPrice",value:""}),Oe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBApprovedRemarks,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBApprovedRemarks",tfLabel:_e("PPMSBApprovedRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Fe&&at(1,"","ClearAll"),xe(!0)},frmctrlid:"fld496_22005",frmctrlidName:"PPMSBApprovedRemarks",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Fe&&at(e,t,"PPMSBApprovedRemarks"),lt(t,"PPMSBApprovedRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||xe(!0)},showList:Fe,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBApprovedRemarks,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBApprovedRemarks",value:""}),xe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBMatTotAmt,json:Ue,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBMatTotAmt",tfLabel:_e("PPMSBMatTotAmt"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&it(t),onClick:()=>{Ae&&at(1,"","ClearAll"),We(!0)},frmctrlid:"fld496_22006",frmctrlidName:"PPMSBMatTotAmt",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Ae&&at(e,t,"PPMSBMatTotAmt"),lt(t,"PPMSBMatTotAmt","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||We(!0)},showList:Ae,SideEntryView:!1,KeyBack:e=>{},Iscurr:!0,value:O.PPMSBMatTotAmt,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBMatTotAmt",value:""}),We(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:Ue,id:O.PPMSBCreationWorkOrderID,"data-testid":O.PPMSBCreationWorkOrderID,value:O.SBCreWorkOrder,SPName:"PPMSBCreationWorkOrderMatDetails",FieldName:"PPMSBCreationWorkOrderID",tfLabel:_e("PPMSBCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>lt(e,"PPMSBCreationWorkOrderID","select"),onChange:(e,t)=>{tt(e,t,"PPMSBCreationWorkOrderIDPK")},KeyBack:e=>{nt("PPMSBCreationWorkOrderID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Qe("494")},Tabledialog:()=>et("494","PPMSBCreationWorkOrderID"),loading:A,clear:e=>{e&&rt("PPMSBCreationWorkOrderID")}})))),r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBCreationWorkOrderMatDetailsSideBar").style.width="0",void v(!1))},"×"),T&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))})),Qe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,c]=(0,l.useState)(!0),[P,C]=(0,l.useState)(e.showDetail),[B,D]=(0,l.useState)(""),[I,M]=r().useState(!1),[f,T]=r().useState(""),[v,k]=r().useState(!1),N=(0,l.useContext)($e),{cstate:b,cdispatch:w}=Je(),[O,F]=(0,l.useState)(!1),[x,A]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{b.editData.length>0&&(s(b.editData),M(!1),w({type:"PrimaryId",payload:b.editData[0].PPMSBCreationworkOrderSubDetIDPK}))}),[b.editData]),(0,l.useEffect)((()=>{b.showTableview&&K(b.showTableview)}),[b.showTableview]),(0,l.useEffect)((()=>{c(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),M(null)},viewtoggle:()=>{M(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP496S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:e.Dialogview?"1":null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:null,p113:1,p114:10,p115:b.IsDraft?"DraftPPMSBCreationworkOrderSubDetID":"PPMSBCreationworkOrderSubDetID",p116:null,p117:null,p118:localStorage.getItem("UserGroupID"),p119:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,p.Z)(l,r,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const z=e=>Z?.[e]?Z?.[e]:e,_=e=>b.language?.[e]?b.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{T(v?Object.assign(...i.filter((e=>e.PPMSBCreationworkOrderSubDetIDPK==t)).map((e=>e))):b.editData),M(!l&&e)};return r().createElement("div",null,r().createElement(E.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&c(!m)}},!I&&r().createElement(G.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},b.IsDraft?z("Draft"):"",_("PPMSBCreationWorkOrderMatDetails"),e.viewonly?" ":"("+b.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?r().createElement(o.Z,{name:z("Add"),frmctrlid:"fld496L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),w({type:"editData",payload:[]}),w({type:"ShowDetail",payload:!1}),w({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld496L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld496L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(g.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld496L1VCCloseBtn",onClick:()=>{c(!1),N.hideAddBtn(!1),v&&(w({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(h.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},I==="panel"+l?r().createElement(Xe,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(ge.Z,{tableName:"PPMSBCreationWorkOrderMatDetails",tableID:496,parentID:t.PPMSBCreationworkOrderSubDetIDPK,fldid:"fld496L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:z,title:"10.0.0.59-3:08:17 PM-18-7[496]"}))))))))})),$e=(0,l.createContext)(),Je=()=>{const e=(0,l.useContext)($e);if(void 0===e)throw new Error("useCont must be used within  PPMSBCreationWorkOrderMatDetailsContext Provider");return e},et=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,c]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),P=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[C,y]=(0,l.useState)(0),[B,D]=(0,l.useReducer)(he.D,he.E),[g,I]=(0,l.useState)(""),[M,E]=(0,l.useState)([]),[h,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSBCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divPPMSBCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"editData",payload:[e.editData]}),D({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{D(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const T=e=>{E([]),document.getElementById("divPPMSBCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetailsEntryTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainEntry").style.display="block",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length),v(e)}))}))}),[]);const v=t=>{D({type:"AccessRights",payload:e.AccessRights}),f(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement($e.Provider,{value:{cstate:B,cdispatch:D,ContextApi:Je,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==C&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,M),E([])},EditClose:e=>T(),AttachExpand:e=>(d.current.AttachmentData(B.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSBCreationWorkOrderMatDetails").style.width="50%",document.getElementById("divPPMSBCreationWorkOrderMatDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrderMatDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails").style.display="block",document.getElementById("overlayimgAttPPMSBCreationWorkOrderMatDetails").style.width="25%"))),Expanded:e=>{B.ShowDetail&&o.current.tableClick(e),D({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{B.ShowDetail&&o.current.viewtoggle()},clear:e=>{D({type:"ShowDetail",payload:!1}),D({type:"editData",payload:[]}),B.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{B.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetailsEntryTable",style:{width:"100%"}},B.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBCreationWorkOrderMatDetails-Entry",style:{width:"100%"}},0!==C?r().createElement(Qe,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Ee.Z,{ref:s,menurefID:496,fileId:"LogoImgPPMSBCreationWorkOrderMatDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBCreationWorkOrderMatDetails",frmctrlid:"PvwIm_496_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBCreationWorkOrderMatDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Xe,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Ee.Z,{ref:s,menurefID:496,fileId:"LogoImgPPMSBCreationWorkOrderMatDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBCreationWorkOrderMatDetails",frmctrlid:"PvwIm_496_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})),r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-MainTable"},0!==C?r().createElement(He,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Me.Z,{ImgAttachment:e=>T(),menurefID:496,fileId:"AttImgPPMSBCreationWorkOrderMatDetails",imgid:"overlayimgAttPPMSBCreationWorkOrderMatDetails",valueIDPK:B.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBCreationWorkOrderMatDetails",ref:d,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_496_L1_",timglist:e=>{s.current.timglist(e),E(e)},clearTempData:B.Add}))),r().createElement("div",{id:"PPMSBCreationWorkOrderMatDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&r().createElement(Te(),{openDialog:h,closeDialog:e=>f(e),formID:496,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var tt=a(25108);const at=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,c]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[S,P]=(0,l.useState)(""),[C,B]=(0,l.useState)({}),[g,I]=(0,l.useState)(!0),[M,E]=(0,l.useState)(!1),{cstate:h,cdispatch:x}=e.ContextApi?e.ContextApi:st(),[A,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ce=(0,y.Z)();const pe=e=>ce[e]?ce[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function Se(){B({}),z({}),e.searchData({}),E(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const Pe=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const i=new AbortController;ie.current=i;let d="",s=[],m={};await c((e=>(d=e.name,e))),await B((e=>(s=e,e))),await z((e=>(m=e,e)));const P=u.v.Api+"FP495S3/",y={data:{p1:"PPMSBWorkOrderDetIDPK"==a?null:await ge(),p2:"PPMSBWorkOrderDetailCode"==d&&l.length>0?"%"+l+"%":null,p3:"SBValue"==d&&l.length>0?"%"+l+"%":null,p4:"SBOrderKey"==d&&l.length>0?"%"+l+"%":null,p5:"SBStartTime"==d&&l.length>0?"%"+l+"%":null,p6:"SBEndTime"==d&&l.length>0?"%"+l+"%":null,p7:"SBDurationTime"==d&&l.length>0?"%"+l+"%":null,p8:"SBSupRemarks"==d&&l.length>0?"%"+l+"%":null,p9:"SBStatusKey"==d&&l.length>0?"%"+l+"%":null,p10:"SBAccessType"==d&&l.length>0?"%"+l+"%":null,p11:"SBDuration"==d&&l.length>0?"%"+l+"%":null,p12:"SBMin"==d&&l.length>0?"%"+l+"%":null,p13:"SBMax"==d&&l.length>0?"%"+l+"%":null,p14:"SBTechRemarks"==d&&l.length>0?"%"+l+"%":null,p15:"IsSBMandatory"==d&&l.length>0?"%"+l+"%":null,p16:null,p17:null,p18:e.parentId?e.parentId:"0",p19:"CheckPointName"!=d&&s.CheckPointName?s.CheckPointName.map((e=>e.PPMCheckPointIDPK)).toString():null,p20:"CheckStatusName"!=d&&s.CheckStatusName?s.CheckStatusName.map((e=>e.PPMCheckStatusIDPK)).toString():null,p21:"CheckStatusName2"!=d&&s.CheckStatusName2?s.CheckStatusName2.map((e=>e.PPMCheckStatusID2PK)).toString():null,p22:"PPMSBFreqDisciplineDetailsCode"!=d&&s.PPMSBFreqDisciplineDetailsCode?s.PPMSBFreqDisciplineDetailsCode.map((e=>e.PPMSBFreqDisciplineDetailsIDPK)).toString():null,p23:e.Dialogview?"1":null,p24:null,p25:"p25"==d&&l.length>0?l:null,p26:null,p27:null,p28:null,p29:null,p30:"ContractName"!=d&&s.ContractName?s.ContractName.map((e=>e.ContractIDPK)).toString():null,p31:"ContractCode"==d&&l.length>0?"%"+l+"%":null,p32:"ContractName"==d&&l.length>0?"%"+l+"%":null,p33:"LocalityName"!=d&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p34:"LocalityCode"==d&&l.length>0?"%"+l+"%":null,p35:"LocalityName"==d&&l.length>0?"%"+l+"%":null,p36:"BuildingName"!=d&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p37:"BuildingCode"==d&&l.length>0?"%"+l+"%":null,p38:"BuildingName"==d&&l.length>0?"%"+l+"%":null,p39:"FloorName"!=d&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p40:"FloorCode"==d&&l.length>0?"%"+l+"%":null,p41:"FloorName"==d&&l.length>0?"%"+l+"%":null,p42:"SpotName"!=d&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p43:"SpotCode"==d&&l.length>0?"%"+l+"%":null,p44:"SpotName"==d&&l.length>0?"%"+l+"%":null,p45:"DivisionName"!=d&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p46:"DivisionCode"==d&&l.length>0?"%"+l+"%":null,p47:"DivisionName"==d&&l.length>0?"%"+l+"%":null,p48:"DisciplineName"!=d&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p49:"DisciplineCode"==d&&l.length>0?"%"+l+"%":null,p50:"DisciplineName"==d&&l.length>0?"%"+l+"%":null,p51:"FrequencyName"!=d&&s.FrequencyName?s.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p52:"FrequencyCode"==d&&l.length>0?"%"+l+"%":null,p53:"FrequencyName"==d&&l.length>0?"%"+l+"%":null,p54:"FlowDisplayName"!=d&&s.FlowDisplayName?s.FlowDisplayName.map((e=>e.PPMBusinessFlowIDPK)).toString():null,p55:"BriefDetails"==d&&l.length>0?"%"+l+"%":null,p56:"FlowCode"==d&&l.length>0?"%"+l+"%":null,p57:"FlowDisplayName"==d&&l.length>0?"%"+l+"%":null,p58:"FixonBusinessFlowName"!=d&&s.FixonBusinessFlowName?s.FixonBusinessFlowName.map((e=>e.PPMFixonBusinessFlowIDPK)).toString():null,p59:"FixonBusinessFlowName"==d&&l.length>0?"%"+l+"%":null,p60:"PPMFixonBusinessFlowCode"==d&&l.length>0?"%"+l+"%":null,p61:"PPMStageName"!=d&&s.PPMStageName?s.PPMStageName.map((e=>e.PPMStageIDPK)).toString():null,p62:"PPMStageName"==d&&l.length>0?"%"+l+"%":null,p63:"StageSeqNo"==d&&l.length>0?"%"+l+"%":null,p64:"ServiceTypeName"!=d&&s.ServiceTypeName?s.ServiceTypeName.map((e=>e.ServiceTypeIDPK)).toString():null,p65:"ServiceTypCode"==d&&l.length>0?"%"+l+"%":null,p66:"ServiceTypeName"==d&&l.length>0?"%"+l+"%":null,p67:"SBCreWorkOrder"==d&&l.length>0?"%"+l+"%":null,p68:"CheckPointLevel"==d&&l.length>0?"%"+l+"%":null,p69:"CheckPointName"==d&&l.length>0?"%"+l+"%":null,p70:"PPMCheckPointCode"==d&&l.length>0?"%"+l+"%":null,p71:"CheckStatusName"==d&&l.length>0?"%"+l+"%":null,p72:"PPMCheckStatusCode"==d&&l.length>0?"%"+l+"%":null,p73:r||1,p74:10,p75:t,p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}},D=await(0,p.Z)(P,y,e.token,"",i.signal);if(!D)return!1;const g=D.Output.status.code,I=D.Output.data;if("200"===g)if(I.length>0)if(1===r){let e=ye(I,d),t=Ce(e,C[d],a);o(t),R(t.length>0?t[0].TotalCount:C[d].length)}else{let e=[...n,...I],t=ye(e,d);R(t.length<10?t.length:I[0].TotalCount),o(ye(t,d))}else S.length>0&&o([]),R(n.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Ce=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Be(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const De=async t=>{let a="",l={};await B((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSBWorkOrderDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSBWorkOrderDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",SBStartTime:l.SBStartTime?l.SBStartTime.From:"",SBStartTimeType:l.SBStartTime?l.SBStartTime.Type:"",SBStartTimeBetween:l.SBStartTime?l.SBStartTime.To:"",SBEndTime:l.SBEndTime?l.SBEndTime.From:"",SBEndTimeType:l.SBEndTime?l.SBEndTime.Type:"",SBEndTimeBetween:l.SBEndTime?l.SBEndTime.To:"",SBDurationTime:l.SBDurationTime?l.SBDurationTime.From:"",SBDurationTimeType:l.SBDurationTime?l.SBDurationTime.Type:"",SBDurationTimeBetween:l.SBDurationTime?l.SBDurationTime.To:"",PPMCheckPointID:Be("PPMCheckPointID"),PPMCheckStatusID:Be("PPMCheckStatusID"),PPMSBCreationWorkOrderID:Be("PPMSBCreationWorkOrderID"),PPMCheckStatusID2:Be("PPMCheckStatusID2"),PPMSBFreqDisciplineDetailsID:Be("PPMSBFreqDisciplineDetailsID")};"saveFav"==t?Ee("save",i):(e.searchData(i),E(!1))};async function ge(){let e={};await B((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBWorkOrderDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ie(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...C};let m=[..._],c=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSBWorkOrderDetIDPK)).toString();t&&c.push(t)}await z((e=>(d=e,e)));let p={PPMSBWorkOrderDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,SBStartTime:d.SBStartTime?d.SBStartTime.From:"",SBStartTimeType:d.SBStartTime?d.SBStartTime.Type:"",SBStartTimeBetween:d.SBStartTime?d.SBStartTime.To:"",SBEndTime:d.SBEndTime?d.SBEndTime.From:"",SBEndTimeType:d.SBEndTime?d.SBEndTime.Type:"",SBEndTimeBetween:d.SBEndTime?d.SBEndTime.To:"",SBDurationTime:d.SBDurationTime?d.SBDurationTime.From:"",SBDurationTimeType:d.SBDurationTime?d.SBDurationTime.Type:"",SBDurationTimeBetween:d.SBDurationTime?d.SBDurationTime.To:"",PPMCheckPointID:C.CheckPointName?.map((e=>e.PPMCheckPointIDPK)).toString(),PPMCheckStatusID:C.CheckStatusName?.map((e=>e.PPMCheckStatusIDPK)).toString(),PPMSBCreationWorkOrderID:C.SBCreWorkOrder?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString(),PPMCheckStatusID2:C.CheckStatusName2?.map((e=>e.PPMCheckStatusID2PK)).toString(),PPMSBFreqDisciplineDetailsID:C.PPMSBFreqDisciplineDetailsCode?.map((e=>e.PPMSBFreqDisciplineDetailsIDPK)).toString()};e.searchData(p)}function Me(){return r().createElement(k.Z,{frmctrlid:"fld495L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Ie(e,t,a,d.name,l)},keyboardback:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:""})},title:pe(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const Ee=(t,a)=>{(0,Ze.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(Fe.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(xe.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Ae.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Le.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>te(e.target.checked)}),label:"Quick"}),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ae,onChange:e=>le(e.target.checked)}),label:"Dashboard"})),r().createElement(We.Z,null,r().createElement(T.Z,{onClick:()=>{De("saveFav"),$(!1)},color:"primary"},"Save"))),M?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Me,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:pe("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(f.Z,{id:"fld495L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),C[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld495L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await B((t=>(e=t,tt.log("clear fewItems",e),t))),e[d.name]=[],Pe(d.type,d.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},g?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(w.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(w.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),r().createElement("ul",null,C[d.name]&&C[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=C[d.name].filter((t=>t!=e)),l={};await B((e=>(l=e,e))),l[d.name]=a,B(l),o((t=>[e,...t]))})(e)},r().createElement(f.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(N.Z,{frmctrlid:"fld495L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:pe("Enter ")+" "+ue(d.idpk),onChange:e=>{P(e),Pe(d.type,d.fieldidpk,e,1,ge())}})),r().createElement("div",{id:"fld495L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:De},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(O.Z,{color:"secondary"})),r().createElement("div",{id:"fld495L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await B((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},B(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(v.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld495L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(A+1),Pe(d.type,d.fieldidpk,"",A+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(b.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",pe("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(f.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),Se()}}):r().createElement(we.Z,{className:"favlisticon",onClick:()=>{j(!0),Ee("select"),Se()}})),Object.keys(C).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Oe.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld495L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld495L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},pe("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld495L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{E(!0),P(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBWorkOrderDetIDPK";c({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBWorkOrderDetID",fieldidpk:t}),Pe(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBWorkOrderDetID",t,"",1,ge())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(F.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Ie("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&r().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pe("FilterPPMSBWorkOrderDetID",a),De("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const lt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("495"),[c,S]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),[D,g]=(0,l.useState)(0),[I,M]=(0,l.useState)(0),[T,v]=(0,l.useState)(0),[k,O]=(0,l.useState)(0),[F,x]=(0,l.useState)({current:1,pageSize:100}),[A,j]=(0,l.useState)(""),[J,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)({val:"",column:""}),[le,re]=(0,l.useState)([]),[ne,ie]=(0,l.useState)(!1),[oe,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(""),[ce,pe]=(0,l.useState)(!1),[ue,Se]=(0,l.useState)([]),[Pe,Ce]=(0,l.useState)([]),[ye,Be]=(0,l.useState)([]),[De,ge]=(0,l.useState)({children:[{name:"PPMSBCreationWorkOrderDetails",children:[]}]}),[Ie,Me]=(0,l.useState)(!1),Ee=(0,l.useContext)(e.context?e.context:dt),{cstate:he,cdispatch:fe}=e.ContextApi?e.ContextApi:st();let Te={PPMSBWorkOrderDetIDPK:"",PPMSBWorkOrderDetailCode:"",SBValue:"",SBOrderKey:"",SBStartTime:"",SBEndTime:"",SBDurationTime:"",SBSupRemarks:"",SBStatusKey:"",SBAccessType:"",SBDuration:"",SBMin:"",SBMax:"",SBTechRemarks:"",IsSBMandatory:"",IsDraft:"",Remarks:"",PPMSBCreationWorkOrderID:"",PPMCheckPointID:"",PPMCheckStatusID:"",PPMCheckStatusID2:"",PPMSBFreqDisciplineDetailsID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:"",ContractCode:"",ContractName:"",LocalityID:"",LocalityCode:"",LocalityName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:"",BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:"",FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:"",PPMStageName:"",StageSeqNo:"",ServiceTypeID:"",ServiceTypCode:"",ServiceTypeName:"",SBCreWorkOrder:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",CheckStatusName:"",PPMCheckStatusCode:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ve,ke]=(0,l.useState)(Te),[Ne,be]=(0,l.useState)(Te),[we,Oe]=(0,l.useState)(!1),[Fe,xe]=(0,l.useState)(!0),[Ae,We]=(0,l.useState)(!1),[Le,Re]=(0,l.useState)(!0),[Ke,Ze]=(0,l.useState)({CheckPointName:"",SBMin:"",SBMax:"",IsSBMandatory:"",SBValue:"",CheckStatusName:"",SBTechRemarks:"",PPMSBWorkOrderDetailCode:"",SBOrderKey:"",SBStartTime:"",SBEndTime:"",SBDurationTime:"",SBSupRemarks:"",SBStatusKey:"",SBAccessType:"",SBDuration:"",SBCreWorkOrder:"",CheckStatusName2:"",PPMSBFreqDisciplineDetailsCode:""}),[Ge,ze]=(0,l.useState)(!1),[qe,Ve]=(0,l.useState)([]),[He,Ue]=(0,l.useState)(0),[je,Ye]=(0,l.useState)(0),[Xe,Qe]=(0,l.useState)({current:1,pageSize:10}),[$e,Je]=(0,l.useState)([]),[et,tt]=(0,l.useState)([]),[lt,rt]=(0,l.useState)(!1),[nt,it]=(0,l.useState)(!1),[ot,mt]=(0,l.useState)(!1),[ct,pt]=(0,l.useState)(""),[ut,St]=Y()("495"),[Pt,Ct]=(0,l.useState)({}),yt=[{columns:$e,data:A}];let Bt=(0,y.Z)();const Dt=e=>Bt[e]?Bt[e]:e,gt=e=>he.language?.[e]?he.language[e]:e;(0,l.useEffect)((()=>{vt(ut)}),[ut]),(0,l.useEffect)((()=>{he.token.length>0&&(e.parentId?ft(F,Te,"PPMSBWorkOrderDetID"):re([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?ft(F,oe,"PPMSBWorkOrderDetID"):Ie&&be(oe)}),[oe]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{It(e)},tableRefresh:()=>{ft(F,Te,"PPMSBWorkOrderDetID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{mt(!0===e)}})));const It=e=>{""==e?ft(F,Te,we?"DraftPPMSBWorkOrderDetID":"PPMSBWorkOrderDetID",we&&"DraftPage"):Tt(e,{current:1,pageSize:100}),me(e)};function Mt(t){Ee.loading(!0);let a=u.v.Api+"FP495S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,he.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Ye(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Ue(Math.ceil(a)):20==t.pageSize?Ue(Math.ceil(a/2)):50==t.pageSize?Ue(Math.ceil(a/5)):100==t.pageSize&&Ue(Math.ceil(a/10)),Ve(e.Output.data),Ee.loading(!1)}}))}function Et(e,t){fe({type:"editData",payload:[t]}),fe({type:"IsDraft",payload:we}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),Ae&&pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Re(e.cardview),e.Dialogview&&(C(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Tt(e.searchsafaritext,{current:F.current,pageSize:F.pageSize})}),[e.searchsafaritext]);const ht=()=>{Ee.EditClose(!0),ne?(document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBCreationWorkOrderDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ie(!1),Le?(P||(document.getElementById("PPMSBCreationWorkOrderDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBCreationWorkOrderDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ie(!0),document.getElementById("PPMSBCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),pe(!1),window.clickFilter=!ne},ft=(t,a,l,r,n,i)=>{Ee.loading(!0),"DraftPage"!==r&&Oe(he.IsDraft);let o=u.v.Api+"FP495S3/",d={data:{p1:n||(a&&a.PPMSBWorkOrderDetIDPK?a.PPMSBWorkOrderDetIDPK:null),p2:a&&a.PPMSBWorkOrderDetailCode?a.PPMSBWorkOrderDetailCode:null,p3:a&&a.SBValue?a.SBValue:null,p4:a&&a.SBOrderKey?a.SBOrderKey:null,p5:a&&a.SBStartTime?a.SBStartTime:null,p6:a&&a.SBEndTime?a.SBEndTime:null,p7:a&&a.SBDurationTime?a.SBDurationTime:null,p8:null,p9:a&&a.SBStatusKey?a.SBStatusKey:null,p10:a&&a.SBAccessType?a.SBAccessType:null,p11:a&&a.SBDuration?a.SBDuration:null,p12:a&&a.SBMin?a.SBMin:null,p13:a&&a.SBMax?a.SBMax:null,p14:null,p15:null,p16:"DraftPPMSBWorkOrderDetID"==l?"1":"0",p17:null,p18:e.parentId?Number(e.parentId):0,p19:a&&a.PPMCheckPointID?a.PPMCheckPointID:null,p20:a&&a.PPMCheckStatusID?a.PPMCheckStatusID:null,p21:a&&a.PPMCheckStatusID2?a.PPMCheckStatusID2:null,p22:a&&a.PPMSBFreqDisciplineDetailsID?a.PPMSBFreqDisciplineDetailsID:null,p23:a&&a.IsActive,p24:null,p25:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p26:a&&a.CreatedTtm?a.CreatedTtm:null,p27:a&&a.CreatedTtmType?a.CreatedTtmType:null,p28:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p29:null,p30:a&&a.ContractID?a.ContractID:null,p31:a&&a.ContractCode?a.ContractCode:null,p32:a&&a.ContractName?a.ContractName:null,p33:a&&a.LocalityID?a.LocalityID:null,p34:a&&a.LocalityCode?a.LocalityCode:null,p35:a&&a.LocalityName?a.LocalityName:null,p36:a&&a.BuildingID?a.BuildingID:null,p37:a&&a.BuildingCode?a.BuildingCode:null,p38:a&&a.BuildingName?a.BuildingName:null,p39:a&&a.FloorID?a.FloorID:null,p40:a&&a.FloorCode?a.FloorCode:null,p41:a&&a.FloorName?a.FloorName:null,p42:a&&a.SpotID?a.SpotID:null,p43:a&&a.SpotCode?a.SpotCode:null,p44:a&&a.SpotName?a.SpotName:null,p45:a&&a.DivisionID?a.DivisionID:null,p46:a&&a.DivisionCode?a.DivisionCode:null,p47:a&&a.DivisionName?a.DivisionName:null,p48:a&&a.DisciplineID?a.DisciplineID:null,p49:a&&a.DisciplineCode?a.DisciplineCode:null,p50:a&&a.DisciplineName?a.DisciplineName:null,p51:a&&a.FrequencyID?a.FrequencyID:null,p52:a&&a.FrequencyCode?a.FrequencyCode:null,p53:a&&a.FrequencyName?a.FrequencyName:null,p54:a&&a.PPMBusinessFlowID?a.PPMBusinessFlowID:null,p55:a&&a.BriefDetails?a.BriefDetails:null,p56:a&&a.FlowCode?a.FlowCode:null,p57:a&&a.FlowDisplayName?a.FlowDisplayName:null,p58:a&&a.PPMFixonBusinessFlowID?a.PPMFixonBusinessFlowID:null,p59:a&&a.FixonBusinessFlowName?a.FixonBusinessFlowName:null,p60:a&&a.PPMFixonBusinessFlowCode?a.PPMFixonBusinessFlowCode:null,p61:a&&a.PPMStageID?a.PPMStageID:null,p62:a&&a.PPMStageName?a.PPMStageName:null,p63:a&&a.StageSeqNo?a.StageSeqNo:null,p64:a&&a.ServiceTypeID?a.ServiceTypeID:null,p65:a&&a.ServiceTypCode?a.ServiceTypCode:null,p66:a&&a.ServiceTypeName?a.ServiceTypeName:null,p67:a&&a.SBCreWorkOrder?a.SBCreWorkOrder:null,p68:a&&a.CheckPointLevel?a.CheckPointLevel:null,p69:a&&a.CheckPointName?a.CheckPointName:null,p70:a&&a.PPMCheckPointCode?a.PPMCheckPointCode:null,p71:a&&a.CheckStatusName?a.CheckStatusName:null,p72:a&&a.PPMCheckStatusCode?a.PPMCheckStatusCode:null,p73:n?1:t.current,p74:t.pageSize,p75:l,p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}};(0,p.Z)(o,d,he.token[0]).then((o=>{if(n)(0,V.a)(o,fe,r,i,Ee);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,v(o.Output.data[0].TotalCount),O(o.Output.data[0].DraftCnt),fe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&O(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?M(Math.ceil(e)):20==t.pageSize?M(Math.ceil(e/2)):50==t.pageSize?M(Math.ceil(e/5)):100==t.pageSize&&M(Math.ceil(e/10)),re(o.Output.data),Ee.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBCreationWorkOrderDetails-Entry").style.height="auto",document.getElementById("divPPMSBCreationWorkOrderDetails-Entry").style.display="block")}else Ee.loading(!1),"DraftPPMSBWorkOrderDetID"===l?(Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),pe(!0),Oe(!1)):(re([]),x({current:1,pageSize:10}),M(0),v(0),fe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ee.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ee.loading(!1)}))};function Tt(t,a){Ee.loading(!0);const l=u.v.Api+"FP495S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:we?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,r,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount),fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?M(Math.ceil(t)):20==a.pageSize?M(Math.ceil(t/2)):50==a.pageSize?M(Math.ceil(t/5)):100==a.pageSize&&M(Math.ceil(t/10)),re(e.Output.data),Ee.loading(!1)}else re([]),M(0),v(0),fe({type:"count",payload:"0"}),Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ee.loading(!1);else Ee.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ee.loading(!1)}))}function vt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),fe({type:"language",payload:Object.assign({},...r)}),Ze(a.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),Ce(t),Be(a),Je(l),tt(a)}const kt=()=>Ie?null:r().createElement("div",null,Ge?r().createElement(Q.Z,{data:qe,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:t}),fe({type:"ShowDetail",payload:a}))}}):r().createElement(X.Z,{ref:d,frmctrlid:"tblcs_495_L1_",id:"PPMSBCreationWorkOrderDetailsTable",headerdata:Pe,tablesearchparams:Ke,searchvalue:e=>{Ze(e),de(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Ct(t),x({current:1,pageSize:10}),ft({current:1,pageSize:10},t,we?"DraftPPMSBWorkOrderDetID":"PPMSBWorkOrderDetID",we&&"DraftPage")},bodydata:le,ondrag:Et,bodyitem:ye,visibleitem:Pe,isdraft:we,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:he.AccessRights,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&ft(F,null,t?"DraftPPMSBWorkOrderDetID":"PPMSBWorkOrderDetID",t&&"DraftPage",e[l],a)})),Ee.hideAddBtn(!0))},viewtoggle:Ee.viewtoggle,isexpanded:!P||Ae,tf:gt,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{We(he.ExpandTableValue)}),[he.ExpandTableValue]),r().createElement("div",null,!ot&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld495L1ECSearchBar",className:"searchbar1"},r().createElement(N.Z,{frmctrlid:"fld495L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Dt("Search"),value:se,onChange:e=>{me(e),Ee.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld495L1TCCloseIconCommonSearch",onClick:()=>{me(""),Ee.searchItem("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld495L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBCreationWorkOrderDetailsgridsearch").focus()}})))),r().createElement("div",null,he.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld495L1TCAddBtnIsAdd",onClick:()=>{Ee.hideAddBtn(!0),fe({type:"editData",payload:[]}),fe({type:"ShowDetail",payload:!1}),fe({type:"Add",payload:!0})}}):"")),r().createElement(E.Z,{expanded:Fe,onChange:()=>()=>{xe(Ae)}},e.Dialogview&&r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[495]"},`${gt("495")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld495L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(N.Z,{frmctrlid:"fld495L1TCInputSearch",className:"search_input",type:"text",placeholder:Dt("Search"),value:se,onChange:e=>{It(e)}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld495L1TCInputCloseIcon",onClick:()=>{It("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld495L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon"}))))))),r().createElement(h.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!we&&r().createElement("div",{frmctrlid:"fld495L1TCFilterDataIsDraft",id:"PPMSBCreationWorkOrderDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ht()}},r().createElement(i.ZP,{title:Dt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(b.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Dt("Filter Data"))),!P&&!we&&!Ie&&r().createElement(W.Z,{formctrlidprint:"fld495L1TCExportPrint",formctrlidexport:"fld495L1TCExportTable",formctrlidrefresh:"fld495L1TCExportRefresh",title:gt("495"),data:J,exportData:yt,Items:et,columnIndex:$e,TableVisibleItem:Pe,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ee.loading(!0);let o=u.v.Api+"FP495S3/",d={data:{p1:t&&t.PPMSBWorkOrderDetIDPK?t.PPMSBWorkOrderDetIDPK:null,p2:t&&t.PPMSBWorkOrderDetailCode?t.PPMSBWorkOrderDetailCode:null,p3:t&&t.SBValue?t.SBValue:null,p4:t&&t.SBOrderKey?t.SBOrderKey:null,p5:t&&t.SBStartTime?t.SBStartTime:null,p6:t&&t.SBEndTime?t.SBEndTime:null,p7:t&&t.SBDurationTime?t.SBDurationTime:null,p8:null,p9:t&&t.SBStatusKey?t.SBStatusKey:null,p10:t&&t.SBAccessType?t.SBAccessType:null,p11:t&&t.SBDuration?t.SBDuration:null,p12:t&&t.SBMin?t.SBMin:null,p13:t&&t.SBMax?t.SBMax:null,p14:null,p15:null,p16:we?"1":"0",p17:null,p18:e.parentId?Number(e.parentId):0,p19:t&&t.PPMCheckPointID?t.PPMCheckPointID:null,p20:t&&t.PPMCheckStatusID?t.PPMCheckStatusID:null,p21:t&&t.PPMCheckStatusID2?t.PPMCheckStatusID2:null,p22:t&&t.PPMSBFreqDisciplineDetailsID?t.PPMSBFreqDisciplineDetailsID:null,p23:t&&t.IsActive,p24:null,p25:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p26:t&&t.CreatedTtm?t.CreatedTtm:null,p27:t&&t.CreatedTtmType?t.CreatedTtmType:null,p28:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p29:null,p30:t&&t.ContractID?t.ContractID:null,p31:t&&t.ContractCode?t.ContractCode:null,p32:t&&t.ContractName?t.ContractName:null,p33:t&&t.LocalityID?t.LocalityID:null,p34:t&&t.LocalityCode?t.LocalityCode:null,p35:t&&t.LocalityName?t.LocalityName:null,p36:t&&t.BuildingID?t.BuildingID:null,p37:t&&t.BuildingCode?t.BuildingCode:null,p38:t&&t.BuildingName?t.BuildingName:null,p39:t&&t.FloorID?t.FloorID:null,p40:t&&t.FloorCode?t.FloorCode:null,p41:t&&t.FloorName?t.FloorName:null,p42:t&&t.SpotID?t.SpotID:null,p43:t&&t.SpotCode?t.SpotCode:null,p44:t&&t.SpotName?t.SpotName:null,p45:t&&t.DivisionID?t.DivisionID:null,p46:t&&t.DivisionCode?t.DivisionCode:null,p47:t&&t.DivisionName?t.DivisionName:null,p48:t&&t.DisciplineID?t.DisciplineID:null,p49:t&&t.DisciplineCode?t.DisciplineCode:null,p50:t&&t.DisciplineName?t.DisciplineName:null,p51:t&&t.FrequencyID?t.FrequencyID:null,p52:t&&t.FrequencyCode?t.FrequencyCode:null,p53:t&&t.FrequencyName?t.FrequencyName:null,p54:t&&t.PPMBusinessFlowID?t.PPMBusinessFlowID:null,p55:t&&t.BriefDetails?t.BriefDetails:null,p56:t&&t.FlowCode?t.FlowCode:null,p57:t&&t.FlowDisplayName?t.FlowDisplayName:null,p58:t&&t.PPMFixonBusinessFlowID?t.PPMFixonBusinessFlowID:null,p59:t&&t.FixonBusinessFlowName?t.FixonBusinessFlowName:null,p60:t&&t.PPMFixonBusinessFlowCode?t.PPMFixonBusinessFlowCode:null,p61:t&&t.PPMStageID?t.PPMStageID:null,p62:t&&t.PPMStageName?t.PPMStageName:null,p63:t&&t.StageSeqNo?t.StageSeqNo:null,p64:t&&t.ServiceTypeID?t.ServiceTypeID:null,p65:t&&t.ServiceTypCode?t.ServiceTypCode:null,p66:t&&t.ServiceTypeName?t.ServiceTypeName:null,p67:t&&t.SBCreWorkOrder?t.SBCreWorkOrder:null,p68:t&&t.CheckPointLevel?t.CheckPointLevel:null,p69:t&&t.CheckPointName?t.CheckPointName:null,p70:t&&t.PPMCheckPointCode?t.PPMCheckPointCode:null,p71:t&&t.CheckStatusName?t.CheckStatusName:null,p72:t&&t.PPMCheckStatusCode?t.PPMCheckStatusCode:null,p73:F.current,p74:T,p75:we?"DraftPPMSBWorkOrderDetID":"PPMSBWorkOrderDetID",p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}};Ee.loading(!1),Ee.alert({open:!0,color:"success",message:[`${gt(495)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(o,d,he.token[0],i).then((e=>{(0,U.PDF_Excel_Generate)(e,Ee,et,j,a,i)}))})(oe,te.column,0,0,t)},Refresh:()=>{me(""),x({current:1,pageSize:100}),d.current.clearItem(),he.IsDraft?ft({current:1,pageSize:100},Te,"DraftPPMSBWorkOrderDetID"):ft({current:1,pageSize:100},Te,"PPMSBWorkOrderDetID")},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!we&&!Ie&&!P&&r().createElement("div",{className:"buttoncard",onClick:()=>it(!nt)},r().createElement("span",null,nt?r().createElement(i.ZP,{disableFocusListener:!0,title:Dt("Less"),placement:"top"},r().createElement("span",{id:"fld495L1TCLess"},r().createElement(q.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Dt("More"),placement:"top"},r().createElement("span",{id:"fld495L1TCMore"},r().createElement(q.ilJ,{className:"tableFilterColumnIcon"}))))),nt?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ie||!Ae?null:P||!he.AccessRights.IsAdd||we?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld495L1TCFilterDataIsAdd",id:"PPMSBCreationWorkOrderDetailscoldiv",className:"buttoncard",onClick:()=>{Ee.EditClose(!0),ce?(document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBCreationWorkOrderDetailsTabDiv").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv").style.display="none",document.getElementById("PPMSBCreationWorkOrderDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!1)):(document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv").style.width="25%",document.getElementById("PPMSBCreationWorkOrderDetailsTabDiv").style.width="75%",document.getElementById("PPMSBCreationWorkOrderDetailsFilterDiv").style.display="block",document.getElementById("PPMSBCreationWorkOrderDetailsfildiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBCreationWorkOrderDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBCreationWorkOrderDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!0)),ie(!1)}},r().createElement(i.ZP,{title:Dt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(H.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Dt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&Ae&&!Ie&&!we&&r().createElement("div",null,r().createElement("div",{id:"PPMSBCreationWorkOrderDetailscoldiv",className:"buttoncard",onClick:()=>{Ge?ze(!1):(ze(!0),Mt({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Dt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld495L1TCTableScrollData"},r().createElement($.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Dt("Table Scroll Data")))))):""),!we&&!P&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||we?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Le?"buttonList":"buttonGrid",id:"fld495L1TCListView",onClick:()=>{Re(!0),rt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(q.umT,null)),r().createElement("span",null,Dt("List"))),r().createElement("div",{className:Le||lt?"buttonGrid":"buttonList",id:"fld495L1TCCardView",onClick:()=>{Re(!1),rt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.aCJ,null)),r().createElement("span",null,Dt("Card"))),r().createElement("div",{className:lt?"buttonList":"buttonGrid",id:"fld495L1TCTileView",onClick:()=>{rt(!0),Re(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.f_H,null)),r().createElement("span",null,Dt("Tile"))))))),Ie?null:Ge?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld495L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(je),page:D,onPageChange:(e,t)=>{g(t),Mt({current:t+1,pageSize:Xe.pageSize}),Qe({current:t+1,pageSize:Xe.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:He,color:"primary",page:Xe.current,onChange:(e,t)=>{Qe({current:t,pageSize:Xe.pageSize}),Ue(t),Mt({current:t,pageSize:Xe.pageSize})}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:Xe.pageSize,frmctrlid:"fld495L1TCSelectPagination",onChange:e=>{Qe({current:1,pageSize:e.target.value}),Mt({current:1,pageSize:e.target.value})}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),Ae&&r().createElement("p",{className:"per-page"},"/ ",Dt("RowperpageOf")," (",je,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld495L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:D,onPageChange:(e,t)=>{g(t),ft({current:t+1,pageSize:F.pageSize},Te,we?"DraftPPMSBWorkOrderDetID":"PPMSBWorkOrderDetID",we&&"DraftPage"),x({current:t+1,pageSize:F.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:I,siblingCount:0,color:"primary",page:F.current,onChange:(e,t)=>{if(x({current:t,pageSize:F.pageSize}),we)ft({current:t,pageSize:F.pageSize},ve,"DraftPPMSBWorkOrderDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";se.length>0?Tt(se,{current:t,pageSize:F.pageSize}):ft({current:t,pageSize:F.pageSize},ve,"PPMSBWorkOrderDetID")}}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:F.pageSize,id:"fld495L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),we?ft({current:1,pageSize:e.target.value},ve,"DraftPPMSBWorkOrderDetID","DraftPage"):se.length>0?Tt(se,{current:1,pageSize:e.target.value}):ft({current:1,pageSize:e.target.value},ve,"PPMSBWorkOrderDetID")}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),Ae&&r().createElement("p",{className:"per-page"},"/ ",Dt("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSBCreationWorkOrderDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ne&&r().createElement(at,{parentId:e.parentId,searchData:e=>{de(e||Pt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:he.token[0],CloseBtnClk:()=>ht(),userGrid:ut,msg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ce&&r().createElement(K.Z,{Refresh:e=>{ft({current:1,pageSize:100},Te,"PPMSBWorkOrderDetID")},frmctrlid:"fld495L1TCTableColumnOrder",loading:e=>Ee.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),select:ce,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&vt(t),St(t),fe({type:"showTableview",payload:t})},Token:he.token[0]})),r().createElement("div",{id:"PPMSBCreationWorkOrderDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Le?r().createElement(kt,null):r().createElement(_.Z,{frmctrlid:"fld495L1TCExpandedCardDual",data:le,id:"PPMSBCreationWorkOrderDetails",title:"PPMSBWorkOrderDetailCode",cardTile:!!lt,visibleitem:Pe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?Ee.select(e):("edit"==t?(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:we}),fe({type:"ShowDetail",payload:!1}),Ee.Expanded(!0)):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:we}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),Ee.viewtoggle()),ne?ie(!0):ce?pe(!0):(pe(!1),pe(!1))),Ee.hideAddBtn(!0)}})))))))})),rt={EnterKeyValues:{PPMSBCreationWorkOrderDetails:["CheckPointName","SBMin","SBMax","IsSBMandatory","SBValue","CheckStatusName","SBTechRemarks","PPMSBWorkOrderDetailCode","SBOrderKey","SBStartTime","SBEndTime","SBDurationTime","SBSupRemarks","SBStatusKey","SBAccessType","SBDuration","SBCreWorkOrder","CheckStatusName2","PPMSBFreqDisciplineDetailsCode"]},Label:{PPMSBCreationWorkOrderDetails:{PPMCheckPointID:["PPMSBWorkOrderDetailCode"],SBMin:["PPMSBWorkOrderDetailCode"],SBMax:["PPMSBWorkOrderDetailCode"],IsSBMandatory:["PPMSBWorkOrderDetailCode"],SBValue:["PPMSBWorkOrderDetailCode"],PPMCheckStatusID:["PPMCheckStatusCode","CheckStatusName"],SBTechRemarks:["PPMSBWorkOrderDetailCode"],PPMSBWorkOrderDetailCode:["PPMSBWorkOrderDetailCode"],SBOrderKey:["PPMSBWorkOrderDetailCode"],SBStartTime:["PPMSBWorkOrderDetailCode"],SBEndTime:["PPMSBWorkOrderDetailCode"],SBDurationTime:["PPMSBWorkOrderDetailCode"],SBSupRemarks:["PPMSBWorkOrderDetailCode"],SBStatusKey:["PPMSBWorkOrderDetailCode"],SBAccessType:["PPMSBWorkOrderDetailCode"],SBDuration:["PPMSBWorkOrderDetailCode"],PPMSBCreationWorkOrderID:["PPMSBWorkOrderDetailCode"],PPMCheckStatusID2:["PPMSBWorkOrderDetailCode"],PPMSBFreqDisciplineDetailsID:["PPMSBWorkOrderDetailCode"]}},LabelHeader:{PPMSBCreationWorkOrderDetails:{PPMCheckPointID:["PPMSBWorkOrderDetailCode"],SBMin:["PPMSBWorkOrderDetailCode"],SBMax:["PPMSBWorkOrderDetailCode"],IsSBMandatory:["PPMSBWorkOrderDetailCode"],SBValue:["PPMSBWorkOrderDetailCode"],PPMCheckStatusID:["Check Status Code","Check Status Name"],SBTechRemarks:["PPMSBWorkOrderDetailCode"],PPMSBWorkOrderDetailCode:["PPMSBWorkOrderDetailCode"],SBOrderKey:["PPMSBWorkOrderDetailCode"],SBStartTime:["PPMSBWorkOrderDetailCode"],SBEndTime:["PPMSBWorkOrderDetailCode"],SBDurationTime:["PPMSBWorkOrderDetailCode"],SBSupRemarks:["PPMSBWorkOrderDetailCode"],SBStatusKey:["PPMSBWorkOrderDetailCode"],SBAccessType:["PPMSBWorkOrderDetailCode"],SBDuration:["PPMSBWorkOrderDetailCode"],PPMSBCreationWorkOrderID:["PPMSBWorkOrderDetailCode"],PPMCheckStatusID2:["PPMSBWorkOrderDetailCode"],PPMSBFreqDisciplineDetailsID:["PPMSBWorkOrderDetailCode"]}},Property:{PPMSBCreationWorkOrderDetails:{PPMCheckPointID:{id:"fld495_21979",clearID:"PPMSBCreationWorkOrderDetailsCheckPointNameClear",type:"select",labelID:"PPMCheckPointIDPK",labelname:"Checkpoint",fielddisplayname:"CheckPointName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},SBMin:{id:"fld495_21973",labelID:"SBMin",maxLength:"10",labelname:"Min",frmctrlid:"fld495_21973",frmctrlidname:"SBMin",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBMax:{id:"fld495_21974",labelID:"SBMax",maxLength:"10",labelname:"Max",frmctrlid:"fld495_21974",frmctrlidname:"SBMax",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBMandatory:{id:"fld495_21975",labelID:"IsSBMandatory",maxLength:"",labelname:"Is Mandatory",frmctrlid:"fld495_21975",frmctrlidname:"IsSBMandatory",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBValue:{id:"fld495_21964",labelID:"SBValue",maxLength:"10",labelname:"Value",frmctrlid:"fld495_21964",frmctrlidname:"SBValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMCheckStatusID:{id:"fld495_21980",clearID:"PPMSBCreationWorkOrderDetailsCheckStatusNameClear",type:"select",labelID:"PPMCheckStatusIDPK",labelname:"Technician Status",fielddisplayname:"CheckStatusName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},SBTechRemarks:{id:"fld495_23168",labelID:"SBTechRemarks",maxLength:"150",labelname:"Technician Remarks",frmctrlid:"fld495_23168",frmctrlidname:"SBTechRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBWorkOrderDetailCode:{id:"fld495_21963",labelID:"PPMSBWorkOrderDetailCode",maxLength:"50",labelname:"PPMSBWorkOrderDetailCode",frmctrlid:"fld495_21963",frmctrlidname:"PPMSBWorkOrderDetailCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBOrderKey:{id:"fld495_21965",labelID:"SBOrderKey",maxLength:"",labelname:"SBOrderKey",frmctrlid:"fld495_21965",frmctrlidname:"SBOrderKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBStartTime:{id:"fld495_21966",labelID:"SBStartTime",maxLength:"",labelname:"SBStartTime",frmctrlid:"fld495_21966",frmctrlidname:"SBStartTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBEndTime:{id:"fld495_21967",labelID:"SBEndTime",maxLength:"",labelname:"SBEndTime",frmctrlid:"fld495_21967",frmctrlidname:"SBEndTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBDurationTime:{id:"fld495_21968",labelID:"SBDurationTime",maxLength:"",labelname:"SBDurationTime",frmctrlid:"fld495_21968",frmctrlidname:"SBDurationTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBSupRemarks:{id:"fld495_21969",labelID:"SBSupRemarks",maxLength:"-1",labelname:"SBSupRemarks",frmctrlid:"fld495_21969",frmctrlidname:"SBSupRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBStatusKey:{id:"fld495_21970",labelID:"SBStatusKey",maxLength:"",labelname:"SBStatusKey",frmctrlid:"fld495_21970",frmctrlidname:"SBStatusKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBAccessType:{id:"fld495_21971",labelID:"SBAccessType",maxLength:"-1",labelname:"SBAccessType",frmctrlid:"fld495_21971",frmctrlidname:"SBAccessType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBDuration:{id:"fld495_21972",labelID:"SBDuration",maxLength:"",labelname:"SBDuration",frmctrlid:"fld495_21972",frmctrlidname:"SBDuration",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBCreationWorkOrderID:{id:"fld495_21978",clearID:"PPMSBCreationWorkOrderDetailsSBCreWorkOrderClear",type:"select",labelID:"PPMSBCreationWorkOrderIDPK",labelname:"PPMSBCreationWorkOrderID",fielddisplayname:"SBCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMCheckStatusID2:{id:"fld495_21981",clearID:"PPMSBCreationWorkOrderDetailsCheckStatusName2Clear",type:"select",labelID:"PPMCheckStatusID2PK",labelname:"PPMCheckStatusID2",fielddisplayname:"CheckStatusName2",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMSBFreqDisciplineDetailsID:{id:"fld495_21982",clearID:"PPMSBCreationWorkOrderDetailsPPMSBFreqDisciplineDetailsCodeClear",type:"select",labelID:"PPMSBFreqDisciplineDetailsIDPK",labelname:"PPMSBFreqDisciplineDetailsID",fielddisplayname:"PPMSBFreqDisciplineDetailsCode",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBCreationWorkOrderDetails:{PPMCheckPointID:["IsActive","CheckPointName","IsDraft","PPMCheckPointCode","CreatedTtm"],PPMCheckStatusID:["PPMCheckStatusCode","CheckStatusName","IsActive","CreatedTtm","UpdatedTtm"],PPMSBCreationWorkOrderID:["SBCreSLAHours","SBCreWorkOrder","SBCreWoDateTime","ContractID","BuildingID","LocalityID","SpotID","FloorID","DisciplineID","DivisionID","FrequencyID","PPMStageID"],PPMSBFreqDisciplineDetailsID:["PPMCheckPointID","PPMSBRangeMax","PPMSBRangeMin","PPMSBAccessType","PPMSBAccessType","IsPPMSBMandatory"]}}},nt={PPMSBWorkOrderDetIDPK:"",PPMSBWorkOrderDetailCode:"",SBValue:"",SBOrderKey:"",SBStartTime:"",SBEndTime:"",SBDurationTime:"",SBSupRemarks:"",SBStatusKey:"",SBAccessType:"",SBDuration:"",SBMin:"",SBMax:"",SBTechRemarks:"",IsSBMandatory:!1,IsDraft:!1,Remarks:"",PPMSBCreationWorkOrderID:null,PPMCheckPointID:null,PPMCheckStatusID:null,PPMCheckStatusID2:"",PPMSBFreqDisciplineDetailsID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ContractID:null,ContractCode:"",ContractName:"",LocalityID:null,LocalityCode:"",LocalityName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",PPMBusinessFlowID:null,BriefDetails:"",FlowCode:"",FlowDisplayName:"",PPMFixonBusinessFlowID:null,FixonBusinessFlowName:"",PPMFixonBusinessFlowCode:"",PPMStageID:null,PPMStageName:"",StageSeqNo:"",ServiceTypeID:null,ServiceTypCode:"",ServiceTypeName:"",SBCreWorkOrder:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",CheckStatusName:"",PPMCheckStatusCode:"",Type:"PPMSBWorkOrderDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},it=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!0),[C,B]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[M,f]=(0,l.useState)(""),[T,v]=(0,l.useState)(!1),[k,N]=(0,l.useState)([]),[b,w]=(0,l.useState)(null),[O,x]=(0,l.useReducer)(me.Z,nt),[A,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),z=(0,l.useContext)(e.context?e.context:dt),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:st(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ce()("495"),[$,J]=(0,l.useState)(!0),[le,re]=(0,l.useState)(!0),[ie,ce]=(0,l.useState)(""),[Pe,ye]=(0,l.useState)(""),[Be,De]=(0,l.useState)(""),[ge,Ie]=(0,l.useState)(!0),[Me,Ee]=(0,l.useState)(!0),[he,fe]=(0,l.useState)(!0),[Te,ve]=(0,l.useState)(!0),[ke,Ne]=(0,l.useState)(!1);let be=(0,y.Z)();const[we,Oe]=(0,l.useState)({}),Fe=e=>be[e]?be[e]:e,xe=t=>_.language?.[t]?_.language[t]:e.createEasy?we?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{Re()}),[]),(0,l.useEffect)((()=>{Re()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(Le(_.editData[0],""),B(!0)):_.Add&&(Re(),B(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Oe(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Re()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(je(t),B(e)):(Re(),B(e))},AddOpen:e=>{Re(),B(!0)}})));const Ae=e=>{if(e){let a=(t=e)?t.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(a)?(0,de.format)(new Date(a),"yyyy-MM-dd"):e}return null;var t},We=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},Le=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultPPMSBWorkOrderDetID"==a?j(t.PPMSBWorkOrderDetIDPK):(H(e.primid?Number(e.primid):t.PPMSBWorkOrderDetIDPK?t.PPMSBWorkOrderDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSBWorkOrderDetIDPK})),x({type:"number",name:"PPMCheckPointID",number:t.PPMCheckPointID?Number(t.PPMCheckPointID):0}),x({type:"text",name:"CheckPointName",value:t.CheckPointName}),x({type:"number",name:"SBMin",number:Number(t.SBMin)}),x({type:"number",name:"SBMax",number:Number(t.SBMax)}),x({type:"boolean",name:"IsSBMandatory",boolean:!!t.IsSBMandatory&&t.IsSBMandatory}),x({type:"text",name:"SBValue",value:t.SBValue?t.SBValue:""}),x({type:"number",name:"PPMCheckStatusID",number:t.PPMCheckStatusID?Number(t.PPMCheckStatusID):0}),x({type:"text",name:"CheckStatusName",value:t.CheckStatusName}),x({type:"text",name:"SBTechRemarks",value:t.SBTechRemarks?t.SBTechRemarks:""}),x({type:"text",name:"PPMSBWorkOrderDetailCode",value:t.PPMSBWorkOrderDetailCode?t.PPMSBWorkOrderDetailCode:""}),x({type:"number",name:"SBOrderKey",number:t.SBOrderKey}),x({type:"text",name:"SBStartTime",value:t.SBStartTime?We(t.SBStartTime):null}),x({type:"text",name:"SBEndTime",value:t.SBEndTime?We(t.SBEndTime):null}),x({type:"text",name:"SBDurationTime",value:t.SBDurationTime?We(t.SBDurationTime):null}),x({type:"text",name:"SBSupRemarks",value:t.SBSupRemarks?t.SBSupRemarks:""}),x({type:"number",name:"SBStatusKey",number:t.SBStatusKey}),x({type:"text",name:"SBAccessType",value:t.SBAccessType?t.SBAccessType:""}),x({type:"number",name:"SBDuration",number:Number(t.SBDuration)}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:t.PPMSBCreationWorkOrderID?Number(t.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:t.SBCreWorkOrder}),x({type:"number",name:"PPMCheckStatusID2",number:t.PPMCheckStatusID2?Number(t.PPMCheckStatusID2):0}),x({type:"text",name:"CheckStatusName2",value:t.CheckStatusName2}),x({type:"number",name:"PPMSBFreqDisciplineDetailsID",number:t.PPMSBFreqDisciplineDetailsID?Number(t.PPMSBFreqDisciplineDetailsID):0}),x({type:"text",name:"PPMSBFreqDisciplineDetailsCode",value:t.PPMSBFreqDisciplineDetailsCode}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},Re=()=>{N([]),H(0),j(""),e.createEasy||z.resetImg(),q({type:"PrimaryId",payload:""}),x({type:"text",name:"PPMCheckPointID",value:null}),x({type:"text",name:"CheckPointName",value:""}),document.getElementById("PPMSBCreationWorkOrderDetailsCheckPointNameClear")&&document.getElementById("PPMSBCreationWorkOrderDetailsCheckPointNameClear").click(),x({type:"number",name:"SBMin",number:0}),x({type:"number",name:"SBMax",number:0}),x({type:"boolean",name:"IsSBMandatory",boolean:!1}),x({type:"text",name:"SBValue",value:""}),x({type:"text",name:"PPMCheckStatusID",value:null}),x({type:"text",name:"CheckStatusName",value:""}),document.getElementById("PPMSBCreationWorkOrderDetailsCheckStatusNameClear")&&document.getElementById("PPMSBCreationWorkOrderDetailsCheckStatusNameClear").click(),x({type:"text",name:"SBTechRemarks",value:""}),x({type:"text",name:"PPMSBWorkOrderDetailCode",value:""}),x({type:"number",name:"SBOrderKey",number:0}),x({type:"text",name:"SBStartTime",value:null}),x({type:"text",name:"SBEndTime",value:null}),x({type:"text",name:"SBDurationTime",value:null}),x({type:"text",name:"SBSupRemarks",value:""}),x({type:"number",name:"SBStatusKey",number:0}),x({type:"text",name:"SBAccessType",value:""}),x({type:"number",name:"SBDuration",number:0}),x({type:"text",name:"PPMSBCreationWorkOrderID",value:null}),x({type:"text",name:"SBCreWorkOrder",value:""}),document.getElementById("PPMSBCreationWorkOrderDetailsSBCreWorkOrderClear")&&document.getElementById("PPMSBCreationWorkOrderDetailsSBCreWorkOrderClear").click(),x({type:"text",name:"PPMCheckStatusID2",value:null}),x({type:"text",name:"CheckStatusName2",value:""}),document.getElementById("PPMSBCreationWorkOrderDetailsCheckStatusName2Clear")&&document.getElementById("PPMSBCreationWorkOrderDetailsCheckStatusName2Clear").click(),x({type:"text",name:"PPMSBFreqDisciplineDetailsID",value:null}),x({type:"text",name:"PPMSBFreqDisciplineDetailsCode",value:""}),document.getElementById("PPMSBCreationWorkOrderDetailsPPMSBFreqDisciplineDetailsCodeClear")&&document.getElementById("PPMSBCreationWorkOrderDetailsPPMSBFreqDisciplineDetailsCodeClear").click(),c(!0),f(""),J(!0),re(!0),Ie(!0),Ee(!0),fe(!0),ve(!0)},Ke=t=>{z.loading(!0),z.ConfirmAlert(null);const a=u.v.Api+"FP495S2/",l={data:[{p1:"SetDefaultPPMSBWorkOrderDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:Ye(O.PPMSBWorkOrderDetailCode),p3:Ye(O.SBValue),p4:O.SBOrderKey?Number(O.SBOrderKey):0,p5:O.SBStartTime?Ae(O.SBStartTime):null,p6:O.SBEndTime?Ae(O.SBEndTime):null,p7:O.SBDurationTime?Ae(O.SBDurationTime):null,p8:Ye(O.SBSupRemarks),p9:O.SBStatusKey?Number(O.SBStatusKey):0,p10:Ye(O.SBAccessType),p11:O.SBDuration?Number(O.SBDuration):0,p12:O.SBMin?Number(O.SBMin):0,p13:O.SBMax?Number(O.SBMax):0,p14:Ye(O.SBTechRemarks),p15:O.IsSBMandatory,p16:!1,p17:"SetDefaultPPMSBWorkOrderDetID"==t?"SetDefault":null,p18:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p19:O.PPMCheckPointID?O.PPMCheckPointID:0,p20:O.PPMCheckStatusID?O.PPMCheckStatusID:0,p21:O.PPMCheckStatusID2?O.PPMCheckStatusID2:0,p22:O.PPMSBFreqDisciplineDetailsID?O.PPMSBFreqDisciplineDetailsID:0,p23:d,p24:"SetDefaultPPMSBWorkOrderDetID"==t,p25:localStorage.getItem("userid"),p26:ne()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:n}),z.loading(!1)):(t=>{J(!0),re(!0),Ie(!0),Ee(!0),fe(!0),ve(!0),z.loading(!0),z.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP495S1/",l={data:[{p1:V,p2:Ye(O.PPMSBWorkOrderDetailCode),p3:Ye(O.SBValue),p4:O.SBOrderKey?Number(O.SBOrderKey):0,p5:O.SBStartTime?Ae(O.SBStartTime):null,p6:O.SBEndTime?Ae(O.SBEndTime):null,p7:O.SBDurationTime?Ae(O.SBDurationTime):null,p8:Ye(O.SBSupRemarks),p9:O.SBStatusKey?Number(O.SBStatusKey):0,p10:Ye(O.SBAccessType),p11:O.SBDuration?Number(O.SBDuration):0,p12:O.SBMin?Number(O.SBMin):0,p13:O.SBMax?Number(O.SBMax):0,p14:Ye(O.SBTechRemarks),p15:O.IsSBMandatory,p16:!1,p17:null,p18:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p19:O.PPMCheckPointID?O.PPMCheckPointID:0,p20:O.PPMCheckStatusID?O.PPMCheckStatusID:0,p21:O.PPMCheckStatusID2?O.PPMCheckStatusID2:0,p22:O.PPMSBFreqDisciplineDetailsID?O.PPMSBFreqDisciplineDetailsID:0,p23:d,p24:!1,p25:localStorage.getItem("userid"),p26:ne()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,te.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails"),z.loading(!1),q({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(t[0].Data.IDPK)),Re(),_.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails")&&(document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails").style.display="none",document.getElementById("divPPMSBCreationWorkOrderDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBCreationWorkOrderDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[a.message]}),z.loading(!1)),B(!0)}))}))})()):(z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),z.loading(!1))}))}))};function Ze(e){return CreateEasy(e,_,q,z,Y),!1}function Ge(e,a){return AdvanceSearch(e,a,dt,st(),qe,t),!1}const ze=(t,a,l,r,n,i)=>{const o=u.v.Api+"FP495S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:a?"%"+a+"%":null,p10:a?"%"+a+"%":null,p11:a?"%"+a+"%":null,p12:a?"%"+a+"%":null,p13:a?"%"+a+"%":null,p14:null,p15:1==O.IsSBMandatory,p16:null,p17:null,p18:e.parentId?Number(e.parentId):0,p19:"0"==O.PPMCheckPointID?null:O.PPMCheckPointID,p20:"0"==O.PPMCheckStatusID?null:O.PPMCheckStatusID,p21:"0"==O.PPMCheckStatusID2?null:O.PPMCheckStatusID2,p22:"0"==O.PPMSBFreqDisciplineDetailsID?null:O.PPMSBFreqDisciplineDetailsID,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:"0"==O.ContractID?null:O.ContractID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==O.LocalityID?null:O.LocalityID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==O.BuildingID?null:O.BuildingID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==O.FloorID?null:O.FloorID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==O.SpotID?null:O.SpotID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==O.DivisionID?null:O.DivisionID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==O.DisciplineID?null:O.DisciplineID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==O.FrequencyID?null:O.FrequencyID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:"0"==O.PPMBusinessFlowID?null:O.PPMBusinessFlowID,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:a?"%"+a+"%":null,p58:"0"==O.PPMFixonBusinessFlowID?null:O.PPMFixonBusinessFlowID,p59:a?"%"+a+"%":null,p60:a?"%"+a+"%":null,p61:"0"==O.PPMStageID?null:O.PPMStageID,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:"0"==O.ServiceTypeID?null:O.ServiceTypeID,p65:a?"%"+a+"%":null,p66:a?"%"+a+"%":null,p67:a?"%"+a+"%":null,p68:a?"%"+a+"%":null,p69:a?"%"+a+"%":null,p70:a?"%"+a+"%":null,p71:a?"%"+a+"%":null,p72:a?"%"+a+"%":null,p73:t,p74:10,p75:l,p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);const m={data:s};return(0,p.Z)(o,"ClearAll"==l?m:d,"SetDefaultPPMSBWorkOrderDetID"==l&&r?r:_.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(n)return 1==r.length?r[0]:{};R(1==t?e>0?r:[]:L.concat(r)),"SetDefaultPPMSBWorkOrderDetID"==l&&(e>0?Le(r[0],"SetDefaultPPMSBWorkOrderDetID"):j("NORECORDS")),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},_e=(t,l,r)=>{const n=u.v.Api+"FP495S3/",i={data:{p1:null,p2:"PPMSBWorkOrderDetailCode"==r&&l?"%"+l+"%":null,p3:"SBValue"==r&&l?"%"+l+"%":null,p4:"SBOrderKey"==r&&l?"%"+l+"%":null,p5:"SBStartTime"==r&&l?"%"+l+"%":null,p6:"SBEndTime"==r&&l?"%"+l+"%":null,p7:"SBDurationTime"==r&&l?"%"+l+"%":null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID?a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID:"0",p19:null,p20:null,p21:null,p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:t,p74:10,p75:"PPMSBWorkOrderDetID",p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,p.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBWorkOrderDetailCode"==r&&J(e>0),"SBOrderKey"==r&&re(e>0),"SBSupRemarks"==r&&Ie(e>0),"SBStatusKey"==r&&Ee(e>0),"SBAccessType"==r&&fe(e>0),"SBDuration"==r&&ve(e>0),R(l)):("PPMSBWorkOrderDetailCode"==r&&J(!0),"SBOrderKey"==r&&re(!0),"SBSupRemarks"==r&&Ie(!0),"SBStatusKey"==r&&Ee(!0),"SBAccessType"==r&&fe(!0),"SBDuration"==r&&ve(!0),R(L.concat(l))),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},qe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a?x({type:"text",name:t,value:e}):"select"==a&&("PPMCheckPointID"==t?(x({type:"text",name:"PPMCheckPointID",value:e.PPMCheckPointIDPK?e.PPMCheckPointIDPK:null}),x({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:null})):"PPMCheckStatusID"==t&&(x({type:"text",name:"PPMCheckStatusID",value:e.PPMCheckStatusIDPK?e.PPMCheckStatusIDPK:null}),x({type:"text",name:"CheckStatusName",value:e.CheckStatusName?e.CheckStatusName:null})))}),[O]);function Ve(e){if("PPMCheckPointID"==e){if(!O.PPMCheckPointID)return!1;x({type:"text",name:"PPMCheckPointID",value:null}),x({type:"text",name:"CheckPointName",value:""}),document.getElementById("PPMSBCreationWorkOrderDetailsCheckPointNameClear")&&document.getElementById("PPMSBCreationWorkOrderDetailsCheckPointNameClear").click()}else if("PPMCheckStatusID"==e){if(!O.PPMCheckStatusID)return!1;x({type:"text",name:"PPMCheckStatusID",value:null}),x({type:"text",name:"CheckStatusName",value:""}),document.getElementById("PPMSBCreationWorkOrderDetailsCheckStatusNameClear")&&document.getElementById("PPMSBCreationWorkOrderDetailsCheckStatusNameClear").click()}else if("PPMSBCreationWorkOrderID"==e){if(!O.PPMSBCreationWorkOrderID)return!1}else if("PPMCheckStatusID2"==e){if(!O.PPMCheckStatusID2)return!1}else if("PPMSBFreqDisciplineDetailsID"==e&&!O.PPMSBFreqDisciplineDetailsID)return!1}function He(e){if("PPMCheckPointID"==e){if(!O.PPMCheckPointID)return!1;x({type:"text",name:"PPMCheckPointID",value:null})}else if("PPMCheckStatusID"==e){if(!O.PPMCheckStatusID)return!1;x({type:"text",name:"PPMCheckStatusID",value:null})}else if("PPMSBCreationWorkOrderID"==e){if(!O.PPMSBCreationWorkOrderID)return!1}else if("PPMCheckStatusID2"==e){if(!O.PPMCheckStatusID2)return!1}else if("PPMSBFreqDisciplineDetailsID"==e&&!O.PPMSBFreqDisciplineDetailsID)return!1}const Ue=e=>{z.ConfirmAlert(r().createElement(oe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>je(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Fe("Yes"),cancelBtnText:Fe("No"),showCancel:!0},Fe("Do you want to update this record?")))};function je(e){z.ConfirmAlert(null),I(e.IsDraft),H(Number(e.PPMSBWorkOrderDetIDPK)?Number(e.PPMSBWorkOrderDetIDPK):0),x({type:"number",name:"PPMCheckPointID",number:e.PPMCheckPointID?Number(e.PPMCheckPointID):0}),x({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:""}),x({type:"number",name:"SBMin",number:e.SBMin?Number(e.SBMin):0}),x({type:"number",name:"SBMax",number:e.SBMax?Number(e.SBMax):0}),x({type:"boolean",name:"IsSBMandatory",boolean:!!e.IsSBMandatory&&e.IsSBMandatory}),x({type:"number",name:"SBValue",number:e.SBValue?Number(e.SBValue):0}),x({type:"number",name:"PPMCheckStatusID",number:e.PPMCheckStatusID?Number(e.PPMCheckStatusID):0}),x({type:"text",name:"CheckStatusName",value:e.CheckStatusName?e.CheckStatusName:""}),x({type:"text",name:"SBTechRemarks",value:e.SBTechRemarks?e.SBTechRemarks:""}),x({type:"text",name:"PPMSBWorkOrderDetailCode",value:e.PPMSBWorkOrderDetailCode?e.PPMSBWorkOrderDetailCode:""}),x({type:"text",name:"SBOrderKey",value:e.SBOrderKey?e.SBOrderKey:""}),x({type:"text",name:"SBStartTime",value:e.SBStartTime?We(e.SBStartTime):null}),x({type:"text",name:"SBEndTime",value:e.SBEndTime?We(e.SBEndTime):null}),x({type:"text",name:"SBDurationTime",value:e.SBDurationTime?We(e.SBDurationTime):null}),x({type:"text",name:"SBSupRemarks",value:e.SBSupRemarks?e.SBSupRemarks:""}),x({type:"text",name:"SBStatusKey",value:e.SBStatusKey?e.SBStatusKey:""}),x({type:"text",name:"SBAccessType",value:e.SBAccessType?e.SBAccessType:""}),x({type:"text",name:"SBDuration",value:e.SBDuration?e.SBDuration:""}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:e.PPMSBCreationWorkOrderID?Number(e.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:e.SBCreWorkOrder?e.SBCreWorkOrder:""}),x({type:"number",name:"PPMCheckStatusID2",number:e.PPMCheckStatusID2?Number(e.PPMCheckStatusID2):0}),x({type:"text",name:"CheckStatusName2",value:e.CheckStatusName2?e.CheckStatusName2:""}),x({type:"number",name:"PPMSBFreqDisciplineDetailsID",number:e.PPMSBFreqDisciplineDetailsID?Number(e.PPMSBFreqDisciplineDetailsID):0}),x({type:"text",name:"PPMSBFreqDisciplineDetailsCode",value:e.PPMSBFreqDisciplineDetailsCode?e.PPMSBFreqDisciplineDetailsCode:""})}const Ye=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(E.Z,{expanded:C,onChange:e=>{}},r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},C&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[495]"}," ",Fe("Add "),xe("495")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(pe.Z,{row:!0},r().createElement(ee.Z,{labelPlacement:"bottom",id:"fld495L1ECEntryCheckbox",control:r().createElement(F.Z,{checked:"1"==d,onChange:e=>c(e.target.checked)}),label:Fe(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld495L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(ue.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Fe("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Re()},id:"fld495L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ue.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Fe("Reset")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(P.Z,{frmctrlid:"fld495L1ECSaveBtnIsAdd",name:Fe(V?"Update":"Save"),disabled:!1,onClick:()=>{(t=>{if(!e.parentId||0==e.parentId)return z.alert({open:!0,color:"warning",message:[Fe("Please select the ")+" "+xe("PPMSBCreationWorkOrderID")]}),!1;z.ConfirmAlert(r().createElement(oe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Fe("Are you sure?"),onConfirm:()=>Ke(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Fe("Yes"),cancelBtnText:Fe("Cancel"),showCancel:!0},Fe(V?"Do you want to Update?":"Do you want to Save?")))})()}}):null,!e.createEasy&&r().createElement(g.Z,{frmctrlid:"fld495L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Re(),B(!1),z.EditClose(!0),z.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(h.Z,null,r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(se.Z,{json:rt,id:O.PPMCheckPointID,"data-testid":O.PPMCheckPointID,value:O.CheckPointName,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"PPMCheckPointID",tfLabel:xe("PPMCheckPointID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>qe(e,"PPMCheckPointID","select"),onChange:(e,t)=>{ze(e,t,"PPMCheckPointIDPK")},KeyBack:e=>{He("PPMCheckPointID")},fieldorder:"1",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Ze("462")},Tabledialog:()=>Ge("462","PPMCheckPointID"),loading:A,clear:e=>{e&&Ve("PPMCheckPointID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:rt,"data-testid":O.SBMin,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBMin",tfLabel:xe("SBMin"),frmctrlid:"fld495_21973",fieldorder:"2",onChange:e=>{qe(e,"SBMin","number")},clear:e=>{e&&x({type:"number",name:"SBMin",number:0})},value:O.SBMin})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:rt,"data-testid":O.SBMax,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBMax",tfLabel:xe("SBMax"),frmctrlid:"fld495_21974",fieldorder:"3",onChange:e=>{qe(e,"SBMax","number")},clear:e=>{e&&x({type:"number",name:"SBMax",number:0})},value:O.SBMax})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(ee.Z,{style:{color:"#337ab7"},"data-testid":O.IsSBMandatory,labelPlacement:"end",control:r().createElement(F.Z,{disabled:!0,checked:"1"==O.IsSBMandatory,onChange:e=>{qe(e.target.checked,"IsSBMandatory","boolean")},frmctrlid:"fld495_21975",frmctrlidname:"IsSBMandatory",fieldorder:"4",tfLabel:xe("IsSBMandatory")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:O.IsSBMandatory?"#21446F":"#999"}},xe("IsSBMandatory"))}))),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:rt,"data-testid":O.SBValue,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBValue",tfLabel:xe("SBValue"),frmctrlid:"fld495_21964",fieldorder:"1",onChange:e=>{qe(e,"SBValue","number")},clear:e=>{e&&x({type:"number",name:"SBValue",number:0})},value:O.SBValue})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(se.Z,{json:rt,id:O.PPMCheckStatusID,"data-testid":O.PPMCheckStatusID,value:O.CheckStatusName,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"PPMCheckStatusID",tfLabel:xe("PPMCheckStatusID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>qe(e,"PPMCheckStatusID","select"),onChange:(e,t)=>{ze(e,t,"PPMCheckStatusIDPK")},KeyBack:e=>{He("PPMCheckStatusID")},fieldorder:"2",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Ze("463")},Tabledialog:()=>Ge("463","PPMCheckStatusID"),loading:A,clear:e=>{e&&Ve("PPMCheckStatusID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:rt,"data-testid":O.SBTechRemarks,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBTechRemarks",tfLabel:xe("SBTechRemarks"),frmctrlid:"fld495_23168",fieldorder:"3",onChange:e=>{qe(e,"SBTechRemarks","text")},clear:e=>{e&&x({type:"text",name:"SBTechRemarks",value:""})},value:O.SBTechRemarks})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBWorkOrderDetailCode,json:rt,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"PPMSBWorkOrderDetailCode",tfLabel:xe("PPMSBWorkOrderDetailCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{$&&_e(1,"","ClearAll"),J(!0)},frmctrlid:"fld495_21963",frmctrlidName:"PPMSBWorkOrderDetailCode",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{$&&_e(e,t,"PPMSBWorkOrderDetailCode"),qe(t,"PPMSBWorkOrderDetailCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||J(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBWorkOrderDetailCode,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBWorkOrderDetailCode",value:""}),J(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBOrderKey,json:rt,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBOrderKey",tfLabel:xe("SBOrderKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{le&&_e(1,"","ClearAll"),re(!0)},frmctrlid:"fld495_21965",frmctrlidName:"SBOrderKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{le&&_e(e,t,"SBOrderKey"),qe(t,"SBOrderKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:O.SBOrderKey,loading:A,clear:e=>{e&&(x({type:"text",name:"SBOrderKey",value:""}),re(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(Se.Z,{"data-testid":O.SBStartTime,onErr:e=>{ce(e)},value:O.SBStartTime,onChange:e=>{qe(e,"SBStartTime","date")},label:xe("SBStartTime"),frmctrlid:"fld495_21966",frmctrlidName:"SBStartTime",fieldorder:"3"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(Se.Z,{"data-testid":O.SBEndTime,onErr:e=>{ye(e)},value:O.SBEndTime,onChange:e=>{qe(e,"SBEndTime","date")},label:xe("SBEndTime"),frmctrlid:"fld495_21967",frmctrlidName:"SBEndTime",fieldorder:"3"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(Se.Z,{"data-testid":O.SBDurationTime,onErr:e=>{De(e)},value:O.SBDurationTime,onChange:e=>{qe(e,"SBDurationTime","date")},label:xe("SBDurationTime"),frmctrlid:"fld495_21968",frmctrlidName:"SBDurationTime",fieldorder:"3"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBSupRemarks,json:rt,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBSupRemarks",tfLabel:xe("SBSupRemarks"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{ge&&_e(1,"","ClearAll"),Ie(!0)},frmctrlid:"fld495_21969",frmctrlidName:"SBSupRemarks",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{ge&&_e(e,t,"SBSupRemarks"),qe(t,"SBSupRemarks","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ie(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:O.SBSupRemarks,loading:A,clear:e=>{e&&(x({type:"text",name:"SBSupRemarks",value:""}),Ie(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBStatusKey,json:rt,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBStatusKey",tfLabel:xe("SBStatusKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{Me&&_e(1,"","ClearAll"),Ee(!0)},frmctrlid:"fld495_21970",frmctrlidName:"SBStatusKey",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Me&&_e(e,t,"SBStatusKey"),qe(t,"SBStatusKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ee(!0)},showList:Me,SideEntryView:!1,KeyBack:e=>{},value:O.SBStatusKey,loading:A,clear:e=>{e&&(x({type:"text",name:"SBStatusKey",value:""}),Ee(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBAccessType,json:rt,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBAccessType",tfLabel:xe("SBAccessType"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{he&&_e(1,"","ClearAll"),fe(!0)},frmctrlid:"fld495_21971",frmctrlidName:"SBAccessType",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{he&&_e(e,t,"SBAccessType"),qe(t,"SBAccessType","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||fe(!0)},showList:he,SideEntryView:!1,KeyBack:e=>{},value:O.SBAccessType,loading:A,clear:e=>{e&&(x({type:"text",name:"SBAccessType",value:""}),fe(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.SBDuration,json:rt,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"SBDuration",tfLabel:xe("SBDuration"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Ue(t),onClick:()=>{Te&&_e(1,"","ClearAll"),ve(!0)},frmctrlid:"fld495_21972",frmctrlidName:"SBDuration",fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{Te&&_e(e,t,"SBDuration"),qe(t,"SBDuration","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ve(!0)},showList:Te,SideEntryView:!1,KeyBack:e=>{},value:O.SBDuration,loading:A,clear:e=>{e&&(x({type:"text",name:"SBDuration",value:""}),ve(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:rt,id:O.PPMSBCreationWorkOrderID,"data-testid":O.PPMSBCreationWorkOrderID,value:O.SBCreWorkOrder,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"PPMSBCreationWorkOrderID",tfLabel:xe("PPMSBCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>qe(e,"PPMSBCreationWorkOrderID","select"),onChange:(e,t)=>{ze(e,t,"PPMSBCreationWorkOrderIDPK")},KeyBack:e=>{He("PPMSBCreationWorkOrderID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Ze("494")},Tabledialog:()=>Ge("494","PPMSBCreationWorkOrderID"),loading:A,clear:e=>{e&&Ve("PPMSBCreationWorkOrderID")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:rt,id:O.PPMCheckStatusID2,"data-testid":O.PPMCheckStatusID2,value:O.CheckStatusName2,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"PPMCheckStatusID2",tfLabel:xe("PPMCheckStatusID2"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>qe(e,"PPMCheckStatusID2","select"),onChange:(e,t)=>{ze(e,t,"PPMCheckStatusID2PK")},KeyBack:e=>{He("PPMCheckStatusID2")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Ze("463")},Tabledialog:()=>Ge("463","PPMCheckStatusID2"),loading:A,clear:e=>{e&&Ve("PPMCheckStatusID2")}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:rt,id:O.PPMSBFreqDisciplineDetailsID,"data-testid":O.PPMSBFreqDisciplineDetailsID,value:O.PPMSBFreqDisciplineDetailsCode,SPName:"PPMSBCreationWorkOrderDetails",FieldName:"PPMSBFreqDisciplineDetailsID",tfLabel:xe("PPMSBFreqDisciplineDetailsID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>qe(e,"PPMSBFreqDisciplineDetailsID","select"),onChange:(e,t)=>{ze(e,t,"PPMSBFreqDisciplineDetailsIDPK")},KeyBack:e=>{He("PPMSBFreqDisciplineDetailsID")},fieldorder:"3",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{Ze("503")},Tabledialog:()=>Ge("503","PPMSBFreqDisciplineDetailsID"),loading:A,clear:e=>{e&&Ve("PPMSBFreqDisciplineDetailsID")}})))),r().createElement("div",{id:"PPMSBCreationWorkOrderDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBCreationWorkOrderDetailsSideBar").style.width="0",void v(!1))},"×"),T&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))})),ot=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,c]=(0,l.useState)(!0),[P,C]=(0,l.useState)(e.showDetail),[B,D]=(0,l.useState)(""),[I,M]=r().useState(!1),[f,T]=r().useState(""),[v,k]=r().useState(!1),N=(0,l.useContext)(dt),{cstate:b,cdispatch:w}=st(),[O,F]=(0,l.useState)(!1),[x,A]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{b.editData.length>0&&(s(b.editData),M(!1),w({type:"PrimaryId",payload:b.editData[0].PPMSBWorkOrderDetIDPK}))}),[b.editData]),(0,l.useEffect)((()=>{b.showTableview&&K(b.showTableview)}),[b.showTableview]),(0,l.useEffect)((()=>{c(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),M(null)},viewtoggle:()=>{M(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP495S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:1,p74:10,p75:b.IsDraft?"DraftPPMSBWorkOrderDetID":"PPMSBWorkOrderDetID",p76:null,p77:null,p78:localStorage.getItem("UserGroupID"),p79:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,p.Z)(l,r,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const z=e=>Z?.[e]?Z?.[e]:e,_=e=>b.language?.[e]?b.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{T(v?Object.assign(...i.filter((e=>e.PPMSBWorkOrderDetIDPK==t)).map((e=>e))):b.editData),M(!l&&e)};return r().createElement("div",null,r().createElement(E.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&c(!m)}},!I&&r().createElement(G.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},b.IsDraft?z("Draft"):"",_("PPMSBCreationWorkOrderDetails"),e.viewonly?" ":"("+b.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?r().createElement(o.Z,{name:z("Add"),frmctrlid:"fld495L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),w({type:"editData",payload:[]}),w({type:"ShowDetail",payload:!1}),w({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld495L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld495L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(g.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld495L1VCCloseBtn",onClick:()=>{c(!1),N.hideAddBtn(!1),v&&(w({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(h.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},I==="panel"+l?r().createElement(it,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(ge.Z,{tableName:"PPMSBCreationWorkOrderDetails",tableID:495,parentID:t.PPMSBWorkOrderDetIDPK,fldid:"fld495L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:z,title:"10.0.0.59-3:08:17 PM-18-7[495]"}))))))))})),dt=(0,l.createContext)(),st=()=>{const e=(0,l.useContext)(dt);if(void 0===e)throw new Error("useCont must be used within  PPMSBCreationWorkOrderDetailsContext Provider");return e},mt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,c]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),P=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[C,y]=(0,l.useState)(0),[B,D]=(0,l.useReducer)(he.D,he.E),[g,I]=(0,l.useState)(""),[M,E]=(0,l.useState)([]),[h,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSBCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divPPMSBCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"editData",payload:[e.editData]}),D({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{D(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const T=e=>{E([]),document.getElementById("divPPMSBCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetailsEntryTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainEntry").style.display="block",document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length),v(e)}))}))}),[]);const v=t=>{D({type:"AccessRights",payload:e.AccessRights}),f(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(dt.Provider,{value:{cstate:B,cdispatch:D,ContextApi:st,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==C&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,M),E([])},EditClose:e=>T(),AttachExpand:e=>(d.current.AttachmentData(B.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSBCreationWorkOrderDetails").style.width="50%",document.getElementById("divPPMSBCreationWorkOrderDetails-Entry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainTable").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainEntry").style.width="100%",document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCreationWorkOrderDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails").style.display="block",document.getElementById("overlayimgAttPPMSBCreationWorkOrderDetails").style.width="25%"))),Expanded:e=>{B.ShowDetail&&o.current.tableClick(e),D({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{B.ShowDetail&&o.current.viewtoggle()},clear:e=>{D({type:"ShowDetail",payload:!1}),D({type:"editData",payload:[]}),B.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{B.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSBCreationWorkOrderDetailsEntryTable",style:{width:"100%"}},B.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBCreationWorkOrderDetails-Entry",style:{width:"100%"}},0!==C?r().createElement(ot,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Ee.Z,{ref:s,menurefID:495,fileId:"LogoImgPPMSBCreationWorkOrderDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBCreationWorkOrderDetails",frmctrlid:"PvwIm_495_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBCreationWorkOrderDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(it,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Ee.Z,{ref:s,menurefID:495,fileId:"LogoImgPPMSBCreationWorkOrderDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBCreationWorkOrderDetails",frmctrlid:"PvwIm_495_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})),r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-MainTable"},0!==C?r().createElement(lt,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Me.Z,{ImgAttachment:e=>T(),menurefID:495,fileId:"AttImgPPMSBCreationWorkOrderDetails",imgid:"overlayimgAttPPMSBCreationWorkOrderDetails",valueIDPK:B.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBCreationWorkOrderDetails",ref:d,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_495_L1_",timglist:e=>{s.current.timglist(e),E(e)},clearTempData:B.Add}))),r().createElement("div",{id:"PPMSBCreationWorkOrderDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&r().createElement(Te(),{openDialog:h,closeDialog:e=>f(e),formID:495,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var ct=a(25108);const pt=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,c]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[S,P]=(0,l.useState)(""),[C,B]=(0,l.useState)({}),[g,I]=(0,l.useState)(!0),[M,E]=(0,l.useState)(!1),{cstate:h,cdispatch:x}=e.ContextApi?e.ContextApi:Dt(),[A,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ce=(0,y.Z)();const pe=e=>ce[e]?ce[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function Se(){B({}),z({}),e.searchData({}),E(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const Pe=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const t=new AbortController;ie.current=t;let l="",i=[],d={};await c((e=>(l=e.name,e))),await B((e=>(i=e,e))),await z((e=>(d=e,e)));const s=u.v.Api+"FP488S3/",m={data:{}},P=await(0,p.Z)(s,m,e.token,"",t.signal);if(!P)return!1;const y=P.Output.status.code,D=P.Output.data;if("200"===y)if(D.length>0)if(1===r){let e=ye(D,l),t=Ce(e,C[l],a);o(t),R(t.length>0?t[0].TotalCount:C[l].length)}else{let e=[...n,...D],t=ye(e,l);R(t.length<10?t.length:D[0].TotalCount),o(ye(t,l))}else S.length>0&&o([]),R(n.length);else e.alertmsg("error",[P.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Ce=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Be(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const De=async t=>{let a="",l={};await B((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSBSTimeCostDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSBSTimeCostDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMSBSTimeCostCode:l.PPMSBSTimeCostCode?l.PPMSBSTimeCostCode.From:"",PPMSBSTimeCostCodeType:l.PPMSBSTimeCostCode?l.PPMSBSTimeCostCode.Type:"",PPMSBSTimeCostCodeBetween:l.PPMSBSTimeCostCode?l.PPMSBSTimeCostCode.To:"",PPMSBCreationWorkOrderID:Be("PPMSBCreationWorkOrderID")};"saveFav"==t?Ee("save",i):(e.searchData(i),E(!1))};async function ge(){let e={};await B((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBSTimeCostDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ie(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...C};let m=[..._],c=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSBSTimeCostDetIDPK)).toString();t&&c.push(t)}await z((e=>(d=e,e)));let p={PPMSBSTimeCostDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,PPMSBSTimeCostCode:d.PPMSBSTimeCostCode?d.PPMSBSTimeCostCode.From:"",PPMSBSTimeCostCodeType:d.PPMSBSTimeCostCode?d.PPMSBSTimeCostCode.Type:"",PPMSBSTimeCostCodeBetween:d.PPMSBSTimeCostCode?d.PPMSBSTimeCostCode.To:"",PPMSBCreationWorkOrderID:C.SBCreWorkOrder?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString()};e.searchData(p)}function Me(){return r().createElement(k.Z,{frmctrlid:"fld488L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Ie(e,t,a,d.name,l)},keyboardback:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:""})},title:pe(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const Ee=(t,a)=>{(0,Ze.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(Fe.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(xe.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Ae.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Le.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>te(e.target.checked)}),label:"Quick"}),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ae,onChange:e=>le(e.target.checked)}),label:"Dashboard"})),r().createElement(We.Z,null,r().createElement(T.Z,{onClick:()=>{De("saveFav"),$(!1)},color:"primary"},"Save"))),M?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Me,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:pe("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(f.Z,{id:"fld488L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),C[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld488L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await B((t=>(e=t,ct.log("clear fewItems",e),t))),e[d.name]=[],Pe(d.type,d.fieldidpk,0,1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},g?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(w.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(w.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),r().createElement("ul",null,C[d.name]&&C[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=C[d.name].filter((t=>t!=e)),l={};await B((e=>(l=e,e))),l[d.name]=a,B(l),o((t=>[e,...t]))})(e)},r().createElement(f.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(N.Z,{frmctrlid:"fld488L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:pe("Enter ")+" "+ue(d.idpk),onChange:e=>{P(e),Pe(d.type,d.fieldidpk,0,1,ge())}})),r().createElement("div",{id:"fld488L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:De},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(O.Z,{color:"secondary"})),r().createElement("div",{id:"fld488L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await B((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},B(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(v.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld488L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(A+1),Pe(d.type,d.fieldidpk,0,A+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(b.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",pe("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(f.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),Se()}}):r().createElement(we.Z,{className:"favlisticon",onClick:()=>{j(!0),Ee("select"),Se()}})),Object.keys(C).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Oe.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld488L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld488L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},pe("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld488L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{E(!0),P(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBSTimeCostDetIDPK";c({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBSTimeCostDetID",fieldidpk:t}),Pe(e.IsForeign&&e.FieldName,t,0,1,ge())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(F.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Ie("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&r().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pe(0,a),De("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const ut=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("488"),[c,S]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),[D,g]=(0,l.useState)(0),[I,M]=(0,l.useState)(0),[T,v]=(0,l.useState)(0),[k,O]=(0,l.useState)(0),[F,x]=(0,l.useState)({current:1,pageSize:100}),[A,j]=(0,l.useState)(""),[J,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)({val:"",column:""}),[le,re]=(0,l.useState)([]),[ne,ie]=(0,l.useState)(!1),[oe,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(""),[ce,pe]=(0,l.useState)(!1),[ue,Se]=(0,l.useState)([]),[Pe,Ce]=(0,l.useState)([]),[ye,Be]=(0,l.useState)([]),[De,ge]=(0,l.useState)({children:[{name:"PPMSBCostDetails",children:[]}]}),[Ie,Me]=(0,l.useState)(!1),Ee=(0,l.useContext)(e.context?e.context:Bt),{cstate:he,cdispatch:fe}=e.ContextApi?e.ContextApi:Dt();let Te={};const[ve,ke]=(0,l.useState)(Te),[Ne,we]=(0,l.useState)(Te),[Oe,Fe]=(0,l.useState)(!1),[xe,Ae]=(0,l.useState)(!0),[We,Le]=(0,l.useState)(!1),[Re,Ke]=(0,l.useState)(!0),[Ze,Ge]=(0,l.useState)({SBLabourCost:"",SBMaterialCost:"",SBVendorCost:"",SBGeneralCost:"",SBTotalCost:"",PPMSBSTimeCostCode:"",SBCreWorkOrder:""}),[ze,He]=(0,l.useState)(!1),[Ue,je]=(0,l.useState)([]),[Ye,Xe]=(0,l.useState)(0),[Qe,$e]=(0,l.useState)(0),[Je,et]=(0,l.useState)({current:1,pageSize:10}),[tt,at]=(0,l.useState)([]),[lt,rt]=(0,l.useState)([]),[nt,it]=(0,l.useState)(!1),[ot,dt]=(0,l.useState)(!1),[st,mt]=(0,l.useState)(!1),[ct,ut]=(0,l.useState)(""),[St,Pt]=Y()("488"),[Ct,yt]=(0,l.useState)({}),gt=[{columns:tt,data:A}];let It=(0,y.Z)();const Mt=e=>It[e]?It[e]:e,Et=e=>he.language?.[e]?he.language[e]:e;(0,l.useEffect)((()=>{bt(St)}),[St]),(0,l.useEffect)((()=>{he.token.length>0&&(e.parentId?kt(F,Te,"PPMSBSTimeCostDetID"):re([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?kt(F,oe,"PPMSBSTimeCostDetID"):Ie&&we(oe)}),[oe]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ht(e)},tableRefresh:()=>{kt(F,Te,"PPMSBSTimeCostDetID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{mt(!0===e)}})));const ht=e=>{""==e?kt(F,Te,Oe?"DraftPPMSBSTimeCostDetID":"PPMSBSTimeCostDetID",Oe&&"DraftPage"):Nt(e,{current:1,pageSize:100}),me(e)};function ft(t){Ee.loading(!0);let a=u.v.Api+"FP488S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,he.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,$e(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),je(e.Output.data),Ee.loading(!1)}}))}function Tt(e,t){fe({type:"editData",payload:[t]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),We&&pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ke(e.cardview),e.Dialogview&&(C(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Nt(e.searchsafaritext,{current:F.current,pageSize:F.pageSize})}),[e.searchsafaritext]);const vt=()=>{Ee.EditClose(!0),ne?(document.getElementById("PPMSBCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ie(!1),Re?(P||(document.getElementById("PPMSBCostDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCostDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ie(!0),document.getElementById("PPMSBCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),pe(!1),window.clickFilter=!ne},kt=(t,a,l,r,n,i)=>{Ee.loading(!0),"DraftPage"!==r&&Fe(he.IsDraft);let o=u.v.Api+"FP488S3/";(0,p.Z)(o,{data:{}},he.token[0]).then((o=>{if(n)(0,V.a)(o,fe,r,i,Ee);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,v(o.Output.data[0].TotalCount),O(o.Output.data[0].DraftCnt),fe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&O(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?M(Math.ceil(e)):20==t.pageSize?M(Math.ceil(e/2)):50==t.pageSize?M(Math.ceil(e/5)):100==t.pageSize&&M(Math.ceil(e/10)),re(o.Output.data),Ee.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBCostDetails-Entry").style.height="auto",document.getElementById("divPPMSBCostDetails-Entry").style.display="block")}else Ee.loading(!1),"DraftPPMSBSTimeCostDetID"===l?(Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),pe(!0),Fe(!1)):(re([]),x({current:1,pageSize:10}),M(0),v(0),fe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ee.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ee.loading(!1)}))};function Nt(t,a){Ee.loading(!0);const l=u.v.Api+"FP488S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Oe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,r,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount),fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?M(Math.ceil(t)):20==a.pageSize?M(Math.ceil(t/2)):50==a.pageSize?M(Math.ceil(t/5)):100==a.pageSize&&M(Math.ceil(t/10)),re(e.Output.data),Ee.loading(!1)}else re([]),M(0),v(0),fe({type:"count",payload:"0"}),Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ee.loading(!1);else Ee.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ee.loading(!1)}))}function bt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),fe({type:"language",payload:Object.assign({},...r)}),Ge(a.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),Ce(t),Be(a),at(l),rt(a)}const wt=()=>Ie?null:r().createElement("div",null,ze?r().createElement(Q.Z,{data:Ue,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:t}),fe({type:"ShowDetail",payload:a}))}}):r().createElement(X.Z,{ref:d,frmctrlid:"tblcs_488_L1_",id:"PPMSBCostDetailsTable",headerdata:Pe,tablesearchparams:Ze,searchvalue:e=>{Ge(e),de(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};yt(t),x({current:1,pageSize:10}),kt({current:1,pageSize:10},t,Oe?"DraftPPMSBSTimeCostDetID":"PPMSBSTimeCostDetID",Oe&&"DraftPage")},bodydata:le,ondrag:Tt,bodyitem:ye,visibleitem:Pe,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:he.AccessRights,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&kt(F,null,t?"DraftPPMSBSTimeCostDetID":"PPMSBSTimeCostDetID",t&&"DraftPage",e[l],a)})),Ee.hideAddBtn(!0))},viewtoggle:Ee.viewtoggle,isexpanded:!P||We,tf:Et,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Le(he.ExpandTableValue)}),[he.ExpandTableValue]),r().createElement("div",null,!st&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld488L1ECSearchBar",className:"searchbar1"},r().createElement(N.Z,{frmctrlid:"fld488L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Mt("Search"),value:se,onChange:e=>{me(e),Ee.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld488L1TCCloseIconCommonSearch",onClick:()=>{me(""),Ee.searchItem("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld488L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBCostDetailsgridsearch").focus()}})))),r().createElement("div",null,he.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld488L1TCAddBtnIsAdd",onClick:()=>{Ee.hideAddBtn(!0),fe({type:"editData",payload:[]}),fe({type:"ShowDetail",payload:!1}),fe({type:"Add",payload:!0})}}):"")),r().createElement(E.Z,{expanded:xe,onChange:()=>()=>{Ae(We)}},e.Dialogview&&r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[488]"},`${Et("488")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld488L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(N.Z,{frmctrlid:"fld488L1TCInputSearch",className:"search_input",type:"text",placeholder:Mt("Search"),value:se,onChange:e=>{ht(e)}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld488L1TCInputCloseIcon",onClick:()=>{ht("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld488L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon"}))))))),r().createElement(h.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSBCostDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&r().createElement("div",{frmctrlid:"fld488L1TCFilterDataIsDraft",id:"PPMSBCostDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{vt()}},r().createElement(i.ZP,{title:Mt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(b.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Filter Data"))),!P&&!Oe&&!Ie&&r().createElement(W.Z,{formctrlidprint:"fld488L1TCExportPrint",formctrlidexport:"fld488L1TCExportTable",formctrlidrefresh:"fld488L1TCExportRefresh",title:Et("488"),data:J,exportData:gt,Items:lt,columnIndex:tt,TableVisibleItem:Pe,userGridViewFormID:m,TableTotalCount:T,triggerApi:e=>{((e,t,l,r,n)=>{if(0===T)return Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ee.loading(!0);let i=u.v.Api+"FP488S3/";Ee.loading(!1),Ee.alert({open:!0,color:"success",message:[`${Et(488)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(i,{data:{}},he.token[0],n).then((e=>{(0,U.PDF_Excel_Generate)(e,Ee,lt,j,a,n)}))})(0,te.column,0,0,e)},Refresh:()=>{me(""),x({current:1,pageSize:100}),d.current.clearItem(),he.IsDraft?kt({current:1,pageSize:100},Te,"DraftPPMSBSTimeCostDetID"):kt({current:1,pageSize:100},Te,"PPMSBSTimeCostDetID")},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Oe&&!Ie&&!P&&r().createElement("div",{className:"buttoncard",onClick:()=>dt(!ot)},r().createElement("span",null,ot?r().createElement(i.ZP,{disableFocusListener:!0,title:Mt("Less"),placement:"top"},r().createElement("span",{id:"fld488L1TCLess"},r().createElement(q.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Mt("More"),placement:"top"},r().createElement("span",{id:"fld488L1TCMore"},r().createElement(q.ilJ,{className:"tableFilterColumnIcon"}))))),ot?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ie||!We?null:P||!he.AccessRights.IsAdd||Oe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld488L1TCFilterDataIsAdd",id:"PPMSBCostDetailscoldiv",className:"buttoncard",onClick:()=>{Ee.EditClose(!0),ce?(document.getElementById("PPMSBCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSBCostDetailsFilterDiv").style.display="none",document.getElementById("PPMSBCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!1)):(document.getElementById("PPMSBCostDetailsFilterDiv").style.width="25%",document.getElementById("PPMSBCostDetailsTabDiv").style.width="75%",document.getElementById("PPMSBCostDetailsFilterDiv").style.display="block",document.getElementById("PPMSBCostDetailsfildiv").style.width="fit-content",document.getElementById("PPMSBCostDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!0)),ie(!1)}},r().createElement(i.ZP,{title:Mt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(H.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&We&&!Ie&&!Oe&&r().createElement("div",null,r().createElement("div",{id:"PPMSBCostDetailscoldiv",className:"buttoncard",onClick:()=>{ze?He(!1):(He(!0),ft({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Mt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld488L1TCTableScrollData"},r().createElement($.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Mt("Table Scroll Data")))),!Ie&&Oe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ee.hideAddBtn(!1),Ee.ExpandEntry(),kt({current:1,pageSize:100},Te,"PPMSBSTimeCostDetID"),Fe(!1),me(""),fe({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},r().createElement(i.ZP,{title:Mt("List"),placement:"top"},r().createElement("div",{id:"fld488L1TCList"},r().createElement(qe.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Mt("Drafts")," ",T)):!P&&!Ie&&he.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(be.Z,{color:"secondary",className:"badge",max:999,badgeContent:k,showZero:!0},r().createElement("div",{id:"fld488L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{k>0?(x({current:1,pageSize:100}),g(0),Ee.clear(),me(""),fe({type:"Add",payload:!1}),kt({current:1,pageSize:10},Te,"DraftPPMSBSTimeCostDetID"),Fe(!0),fe({type:"IsDraft",payload:!0}),pe(!1),Ke(!0),document.getElementById("PPMSBCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSBCostDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Me(!1)):Ee.alert({open:!0,color:"warning",message:[Mt("There is no Record Found")]})}},r().createElement(i.ZP,{title:Mt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(Ve.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Mt("Drafts"))))))):""),!Oe&&!P&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Oe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Re?"buttonList":"buttonGrid",id:"fld488L1TCListView",onClick:()=>{Ke(!0),it(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(q.umT,null)),r().createElement("span",null,Mt("List"))),r().createElement("div",{className:Re||nt?"buttonGrid":"buttonList",id:"fld488L1TCCardView",onClick:()=>{Ke(!1),it(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.aCJ,null)),r().createElement("span",null,Mt("Card"))),r().createElement("div",{className:nt?"buttonList":"buttonGrid",id:"fld488L1TCTileView",onClick:()=>{it(!0),Ke(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.f_H,null)),r().createElement("span",null,Mt("Tile"))))))),Ie?null:ze?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld488L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:D,onPageChange:(e,t)=>{g(t),ft({current:t+1,pageSize:Je.pageSize}),et({current:t+1,pageSize:Je.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:Ye,color:"primary",page:Je.current,onChange:(e,t)=>{et({current:t,pageSize:Je.pageSize}),Xe(t),ft({current:t,pageSize:Je.pageSize})}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:Je.pageSize,frmctrlid:"fld488L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),ft({current:1,pageSize:e.target.value})}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),We&&r().createElement("p",{className:"per-page"},"/ ",Mt("RowperpageOf")," (",Qe,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld488L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:D,onPageChange:(e,t)=>{g(t),kt({current:t+1,pageSize:F.pageSize},Te,Oe?"DraftPPMSBSTimeCostDetID":"PPMSBSTimeCostDetID",Oe&&"DraftPage"),x({current:t+1,pageSize:F.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:I,siblingCount:0,color:"primary",page:F.current,onChange:(e,t)=>{if(x({current:t,pageSize:F.pageSize}),Oe)kt({current:t,pageSize:F.pageSize},ve,"DraftPPMSBSTimeCostDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";se.length>0?Nt(se,{current:t,pageSize:F.pageSize}):kt({current:t,pageSize:F.pageSize},ve,"PPMSBSTimeCostDetID")}}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:F.pageSize,id:"fld488L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Oe?kt({current:1,pageSize:e.target.value},ve,"DraftPPMSBSTimeCostDetID","DraftPage"):se.length>0?Nt(se,{current:1,pageSize:e.target.value}):kt({current:1,pageSize:e.target.value},ve,"PPMSBSTimeCostDetID")}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),We&&r().createElement("p",{className:"per-page"},"/ ",Mt("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSBCostDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSBCostDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ne&&r().createElement(pt,{parentId:e.parentId,searchData:e=>{de(e||Ct),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:he.token[0],CloseBtnClk:()=>vt(),userGrid:St,msg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ce&&r().createElement(K.Z,{Refresh:e=>{kt({current:1,pageSize:100},Te,"PPMSBSTimeCostDetID")},frmctrlid:"fld488L1TCTableColumnOrder",loading:e=>Ee.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),select:ce,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&bt(t),Pt(t),fe({type:"showTableview",payload:t})},Token:he.token[0]})),r().createElement("div",{id:"PPMSBCostDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Re?r().createElement(wt,null):r().createElement(_.Z,{frmctrlid:"fld488L1TCExpandedCardDual",data:le,id:"PPMSBCostDetails",title:"PPMSBSTimeCostCode",cardTile:!!nt,visibleitem:Pe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?Ee.select(e):("edit"==t?(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!1}),Ee.Expanded(!0)):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),Ee.viewtoggle()),ne?ie(!0):ce?pe(!0):(pe(!1),pe(!1))),Ee.hideAddBtn(!0)}})))))))})),St={EnterKeyValues:{PPMSBCostDetails:["SBLabourCost","SBMaterialCost","SBVendorCost","SBGeneralCost","SBTotalCost","PPMSBSTimeCostCode","SBCreWorkOrder"]},Label:{PPMSBCostDetails:{SBLabourCost:["PPMSBSTimeCostCode"],SBMaterialCost:["PPMSBSTimeCostCode"],SBVendorCost:["PPMSBSTimeCostCode"],SBGeneralCost:["PPMSBSTimeCostCode"],SBTotalCost:["PPMSBSTimeCostCode"],PPMSBSTimeCostCode:["PPMSBSTimeCostCode"],PPMSBCreationWorkOrderID:["PPMSBSTimeCostCode"]}},LabelHeader:{PPMSBCostDetails:{SBLabourCost:["PPMSBSTimeCostCode"],SBMaterialCost:["PPMSBSTimeCostCode"],SBVendorCost:["PPMSBSTimeCostCode"],SBGeneralCost:["PPMSBSTimeCostCode"],SBTotalCost:["PPMSBSTimeCostCode"],PPMSBSTimeCostCode:["PPMSBSTimeCostCode"],PPMSBCreationWorkOrderID:["PPMSBSTimeCostCode"]}},Property:{PPMSBCostDetails:{SBLabourCost:{id:"fld488_21883",labelID:"SBLabourCost",maxLength:"50",labelname:"Labour Cost",frmctrlid:"fld488_21883",frmctrlidname:"SBLabourCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBMaterialCost:{id:"fld488_21881",labelID:"SBMaterialCost",maxLength:"50",labelname:"Material Cost",frmctrlid:"fld488_21881",frmctrlidname:"SBMaterialCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBVendorCost:{id:"fld488_21882",labelID:"SBVendorCost",maxLength:"50",labelname:"Vendor Cost",frmctrlid:"fld488_21882",frmctrlidname:"SBVendorCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBGeneralCost:{id:"fld488_21880",labelID:"SBGeneralCost",maxLength:"50",labelname:"General Cost",frmctrlid:"fld488_21880",frmctrlidname:"SBGeneralCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBTotalCost:{id:"fld488_21884",labelID:"SBTotalCost",maxLength:"50",labelname:"Total Cost",frmctrlid:"fld488_21884",frmctrlidname:"SBTotalCost",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBSTimeCostCode:{id:"fld488_21879",labelID:"PPMSBSTimeCostCode",maxLength:"50",labelname:"PPMSBSTimeCostCode",frmctrlid:"fld488_21879",frmctrlidname:"PPMSBSTimeCostCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBCreationWorkOrderID:{id:"fld488_23199",clearID:"PPMSBCostDetailsSBCreWorkOrderClear",type:"select",labelID:"PPMSBCreationWorkOrderIDPK",labelname:"PPMSBCreationWorkOrderID",fielddisplayname:"SBCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBCostDetails:{PPMSBCreationWorkOrderID:["SBCreSLAHours","SBCreWorkOrder","SBCreWoDateTime","ContractID","BuildingID","LocalityID","SpotID","FloorID","DisciplineID","DivisionID","FrequencyID","PPMStageID"]}}},Pt={},Ct=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!0),[c,C]=(0,l.useState)(!1),[B,D]=(0,l.useState)(!1),[I,M]=(0,l.useState)(""),[f,T]=(0,l.useState)(!1),[v,k]=(0,l.useState)([]),[N,b]=(0,l.useState)(null),[w,O]=(0,l.useReducer)(me.Z,Pt),[x,A]=(0,l.useState)(!1),[W,L]=(0,l.useState)([]),[R,K]=(0,l.useState)(!1),Z=(0,l.useContext)(e.context?e.context:Bt),{cstate:z,cdispatch:_}=e.ContextApi?e.ContextApi:Dt(),[q,V]=(0,l.useState)(0),[H,U]=(0,l.useState)(""),j=(0,l.useRef)(null),[Y,X]=Ce()("488"),[Q,$]=(0,l.useState)(""),[J,re]=(0,l.useState)(!1);let ie=(0,y.Z)();const[ce,Pe]=(0,l.useState)({}),ye=e=>ie[e]?ie[e]:e,Be=t=>z.language?.[t]?z.language[t]:e.createEasy?ce?.[t]:t;(0,l.useEffect)((()=>{z.PrimaryId&&V(Number(z.PrimaryId))}),[z.PrimaryId]),(0,l.useEffect)((()=>{Me()}),[]),(0,l.useEffect)((()=>{Me()}),[e.parentId]),(0,l.useEffect)((()=>{z.editData.length>0?(Ie(z.editData[0],""),C(!0)):z.Add&&(Me(),C(!0))}),[z.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Pe(Object.assign({},...t))}(Y)}),[Y]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Me()},CreateEasyProps:(e=!0,t)=>{var a;X(!0),t?(a=t,Z.ConfirmAlert(null),D(a.IsDraft),V(Number(a.PPMSBSTimeCostDetIDPK)?Number(a.PPMSBSTimeCostDetIDPK):0),O({type:"number",name:"SBLabourCost",number:a.SBLabourCost?Number(a.SBLabourCost):0}),O({type:"number",name:"SBMaterialCost",number:a.SBMaterialCost?Number(a.SBMaterialCost):0}),O({type:"number",name:"SBVendorCost",number:a.SBVendorCost?Number(a.SBVendorCost):0}),O({type:"number",name:"SBGeneralCost",number:a.SBGeneralCost?Number(a.SBGeneralCost):0}),O({type:"number",name:"SBTotalCost",number:a.SBTotalCost?Number(a.SBTotalCost):0}),O({type:"text",name:"PPMSBSTimeCostCode",value:a.PPMSBSTimeCostCode?ge(a.PPMSBSTimeCostCode):null}),O({type:"number",name:"PPMSBCreationWorkOrderID",number:a.PPMSBCreationWorkOrderID?Number(a.PPMSBCreationWorkOrderID):0}),O({type:"text",name:"SBCreWorkOrder",value:a.SBCreWorkOrder?a.SBCreWorkOrder:""}),C(e)):(Me(),C(e))},AddOpen:e=>{Me(),C(!0)}})));const De=e=>{if(e){let a=(t=e)?t.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(a)?(0,de.format)(new Date(a),"yyyy-MM-dd"):e}return null;var t},ge=e=>{if(!e)return e;if(e){let t=e.split(" "),a=t[0].split("-").reverse().join("-");return 2==t.length?a+" "+t[1]:a}},Ie=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),D(t.IsDraft),"SetDefaultPPMSBSTimeCostDetID"==a?U(t.PPMSBSTimeCostDetIDPK):(V(e.primid?Number(e.primid):t.PPMSBSTimeCostDetIDPK?t.PPMSBSTimeCostDetIDPK:0),_({type:"PrimaryId",payload:t.PPMSBSTimeCostDetIDPK})),O({type:"number",name:"SBLabourCost",number:Number(t.SBLabourCost)}),O({type:"number",name:"SBMaterialCost",number:Number(t.SBMaterialCost)}),O({type:"number",name:"SBVendorCost",number:Number(t.SBVendorCost)}),O({type:"number",name:"SBGeneralCost",number:Number(t.SBGeneralCost)}),O({type:"number",name:"SBTotalCost",number:Number(t.SBTotalCost)}),O({type:"text",name:"PPMSBSTimeCostCode",value:t.PPMSBSTimeCostCode?ge(t.PPMSBSTimeCostCode):null}),O({type:"number",name:"PPMSBCreationWorkOrderID",number:t.PPMSBCreationWorkOrderID?Number(t.PPMSBCreationWorkOrderID):0}),O({type:"text",name:"SBCreWorkOrder",value:t.SBCreWorkOrder}),t.IsDraft?d(!0):d(!("1"!=t.IsActive&&!t.IsActive))},Me=()=>{k([]),V(0),U(""),e.createEasy||Z.resetImg(),_({type:"PrimaryId",payload:""}),O({type:"number",name:"SBLabourCost",number:0}),O({type:"number",name:"SBMaterialCost",number:0}),O({type:"number",name:"SBVendorCost",number:0}),O({type:"number",name:"SBGeneralCost",number:0}),O({type:"number",name:"SBTotalCost",number:0}),O({type:"text",name:"PPMSBSTimeCostCode",value:null}),O({type:"text",name:"PPMSBCreationWorkOrderID",value:null}),O({type:"text",name:"SBCreWorkOrder",value:""}),document.getElementById("PPMSBCostDetailsSBCreWorkOrderClear")&&document.getElementById("PPMSBCostDetailsSBCreWorkOrderClear").click(),d(!0),M("")},Ee=t=>{Z.loading(!0),Z.ConfirmAlert(null);const a=u.v.Api+"FP488S2/",l={data:[{p1:"SetDefaultPPMSBSTimeCostDetID"==t?"NORECORDS"!=H&&H?H:0:q,p2:w.PPMSBSTimeCostCode?De(w.PPMSBSTimeCostCode):null,p3:w.SBGeneralCost?Number(w.SBGeneralCost):0,p4:w.SBMaterialCost?Number(w.SBMaterialCost):0,p5:w.SBVendorCost?Number(w.SBVendorCost):0,p6:w.SBLabourCost?Number(w.SBLabourCost):0,p7:w.SBTotalCost?Number(w.SBTotalCost):0,p8:!1,p9:"SetDefaultPPMSBSTimeCostDetID"==t?"SetDefault":null,p10:e.parentId?Number(e.parentId):w.PPMSBCreationWorkOrderID?w.PPMSBCreationWorkOrderID:0,p11:o,p12:"SetDefaultPPMSBSTimeCostDetID"==t,p13:localStorage.getItem("userid"),p14:ne()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(Z.alert({open:!0,color:"warning",message:n}),Z.loading(!1)):(t=>{Z.loading(!0),Z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP488S1/",l={data:[{p1:q,p2:w.PPMSBSTimeCostCode?De(w.PPMSBSTimeCostCode):null,p3:w.SBGeneralCost?Number(w.SBGeneralCost):0,p4:w.SBMaterialCost?Number(w.SBMaterialCost):0,p5:w.SBVendorCost?Number(w.SBVendorCost):0,p6:w.SBLabourCost?Number(w.SBLabourCost):0,p7:w.SBTotalCost?Number(w.SBTotalCost):0,p8:!1,p9:null,p10:e.parentId?Number(e.parentId):w.PPMSBCreationWorkOrderID?w.PPMSBCreationWorkOrderID:0,p11:o,p12:!1,p13:localStorage.getItem("userid"),p14:ne()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,te.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(Z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSBCostDetails"),Z.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(Z.RefreshTable(),Z.attachmentSave(t[0].Data.IDPK)),Me(),z.AccessRights.IsApproval&&Z.Approval(!0),document.getElementById("overlayimgAttPPMSBCostDetails")&&(document.getElementById("overlayimgAttPPMSBCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBCostDetails").style.display="none",document.getElementById("divPPMSBCostDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBCostDetails-MainTable").style.display="block")):(Z.alert({open:!0,color:"warning",message:[a.message]}),Z.loading(!1)),C(!0)}))}))})()):(Z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Z.loading(!1))}))}))};function he(t,a,l,r){if(!(z.count>0))return Z.alert({open:!0,color:"warning",message:[ye("Please save atleast one record")]}),!1;if(!((()=>{const e={...w};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return Z.alert({open:!0,color:"warning",message:[ye("Please enter the primary fields")]}),!1;{Z.loading(!0),Z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP488S1/",l={data:[{p1:"SetDefaultPPMSBSTimeCostDetID"==r?"NORECORDS"!=H&&H?H:0:q,p2:w.PPMSBSTimeCostCode?De(w.PPMSBSTimeCostCode):null,p3:w.SBGeneralCost?Number(w.SBGeneralCost):0,p4:w.SBMaterialCost?Number(w.SBMaterialCost):0,p5:w.SBVendorCost?Number(w.SBVendorCost):0,p6:w.SBLabourCost?Number(w.SBLabourCost):0,p7:w.SBTotalCost?Number(w.SBTotalCost):0,p8:!0,p9:"SetDefaultPPMSBSTimeCostDetID"==r?"SetDefault":null,p10:e.parentId?Number(e.parentId):w.PPMSBCreationWorkOrderID?w.PPMSBCreationWorkOrderID:0,p11:!1,p12:"SetDefaultPPMSBSTimeCostDetID"==r,p13:localStorage.getItem("userid"),p14:ne()().format("YYYY-MM-DD hh:mm:ss"),p15:localStorage.getItem("userid"),p16:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((r=>{(0,te.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?Z.alert({open:!0,color:"warning",message:[ye("Deleted Successfully")]}):Z.alert({open:!0,color:"success",message:[ye("Saved to Draft")]}),Z.loading(!1),Z.attachmentSave(a[0].Data.IDPK),Me(),Z.RefreshTable(),e.clrImgstate(!0)):(Z.alert({open:!0,color:"warning",message:[l.message]}),Z.loading(!1))}))}))}}const fe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?O({type:a,name:t,value:e}):"number"==a?O({type:a,name:t,number:Number(e)}):"boolean"==a?O({type:a,name:t,boolean:e}):"date"==a&&O({type:"text",name:t,value:e})}),[w]);return r().createElement("div",null,r().createElement(E.Z,{expanded:c,onChange:e=>{}},r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},c&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[488]"}," ",ye("Add "),Be("488")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(pe.Z,{row:!0},r().createElement(ee.Z,{labelPlacement:"bottom",id:"fld488L1ECEntryCheckbox",control:r().createElement(F.Z,{checked:"1"==o,onChange:e=>d(e.target.checked)}),label:ye(1==o?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{Z.AttachExpand(!0)},id:"fld488L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(ue.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ye("Attach")))),!q&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Me()},id:"fld488L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ue.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ye("Reset")))),"1"===B&&q&&r().createElement(le.Z,{frmctrlid:"fld488L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{he("draftdel")}}),q&&"1"!==B||e.createEasy?null:z.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{he()},frmctrlid:"fld488L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(je.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ye("Draft")))),z.AccessRights.IsAdd||z.AccessRights.IsEdit?r().createElement(P.Z,{frmctrlid:"fld488L1ECSaveBtnIsAdd",name:ye(q?"Update":"Save"),disabled:!1,onClick:()=>{(t=>{if(!e.parentId||0==e.parentId)return Z.alert({open:!0,color:"warning",message:[ye("Please select the ")+" "+Be("PPMSBCreationWorkOrderID")]}),!1;Z.ConfirmAlert(r().createElement(oe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:ye("Are you sure?"),onConfirm:()=>Ee(),onCancel:()=>Z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ye("Yes"),cancelBtnText:ye("Cancel"),showCancel:!0},ye(q?"Do you want to Update?":"Do you want to Save?")))})()}}):null,!e.createEasy&&r().createElement(g.Z,{frmctrlid:"fld488L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Me(),C(!1),Z.EditClose(!0),Z.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),r().createElement(h.Z,null,r().createElement("div",{id:"PPMSBCostDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSBCostDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSBCostDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:St,"data-testid":w.SBLabourCost,SPName:"PPMSBCostDetails",FieldName:"SBLabourCost",tfLabel:Be("SBLabourCost"),frmctrlid:"fld488_21883",fieldorder:"1",onChange:e=>{fe(e,"SBLabourCost","number")},clear:e=>{e&&O({type:"number",name:"SBLabourCost",number:0})},value:w.SBLabourCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:St,"data-testid":w.SBMaterialCost,SPName:"PPMSBCostDetails",FieldName:"SBMaterialCost",tfLabel:Be("SBMaterialCost"),frmctrlid:"fld488_21881",fieldorder:"2",onChange:e=>{fe(e,"SBMaterialCost","number")},clear:e=>{e&&O({type:"number",name:"SBMaterialCost",number:0})},value:w.SBMaterialCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:St,"data-testid":w.SBVendorCost,SPName:"PPMSBCostDetails",FieldName:"SBVendorCost",tfLabel:Be("SBVendorCost"),frmctrlid:"fld488_21882",fieldorder:"3",onChange:e=>{fe(e,"SBVendorCost","number")},clear:e=>{e&&O({type:"number",name:"SBVendorCost",number:0})},value:w.SBVendorCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:St,"data-testid":w.SBGeneralCost,SPName:"PPMSBCostDetails",FieldName:"SBGeneralCost",tfLabel:Be("SBGeneralCost"),frmctrlid:"fld488_21880",fieldorder:"4",onChange:e=>{fe(e,"SBGeneralCost","number")},clear:e=>{e&&O({type:"number",name:"SBGeneralCost",number:0})},value:w.SBGeneralCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:St,"data-testid":w.SBTotalCost,SPName:"PPMSBCostDetails",FieldName:"SBTotalCost",tfLabel:Be("SBTotalCost"),frmctrlid:"fld488_21884",fieldorder:"1",onChange:e=>{fe(e,"SBTotalCost","number")},clear:e=>{e&&O({type:"number",name:"SBTotalCost",number:0})},value:w.SBTotalCost})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(Se.Z,{"data-testid":w.PPMSBSTimeCostCode,onErr:e=>{$(e)},value:w.PPMSBSTimeCostCode,onChange:e=>{fe(e,"PPMSBSTimeCostCode","date")},label:Be("PPMSBSTimeCostCode"),frmctrlid:"fld488_21879",frmctrlidName:"PPMSBSTimeCostCode",fieldorder:"1"})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:St,id:w.PPMSBCreationWorkOrderID,"data-testid":w.PPMSBCreationWorkOrderID,value:w.SBCreWorkOrder,SPName:"PPMSBCostDetails",FieldName:"PPMSBCreationWorkOrderID",tfLabel:Be("PPMSBCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>fe(e,"PPMSBCreationWorkOrderID","select"),onChange:(e,t)=>{((e,t,a,l,r,n)=>{const i=u.v.Api+"FP488S3/",o={data:{}};Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{});A(!0);(0,p.Z)(i,o,z.token[0]).then((t=>{const a=t.Output.status.code,l=t.Output.data;if("200"==a){const t=l.length;undefined,L(1==e?t>0?l:[]:W.concat(l)),A(!1)}else Z.alert({open:!0,color:"warning",message:[t.Output.status.message]}),A(!1)}))})(e)},KeyBack:e=>{w.PPMSBCreationWorkOrderID},fieldorder:"1",data:W,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:W.length>0?W[0].TotalCount:0,openSlide:()=>{CreateEasy("494",z,_,Z,j)},Tabledialog:()=>(AdvanceSearch("494","PPMSBCreationWorkOrderID",Bt,Dt(),fe,t),!1),loading:x,clear:e=>{e&&w.PPMSBCreationWorkOrderID}})))),r().createElement("div",{id:"PPMSBCostDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBCostDetailsSideBar").style.width="0",void T(!1))},"×"),f&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},N))))))))})),yt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,c]=(0,l.useState)(!0),[P,C]=(0,l.useState)(e.showDetail),[B,D]=(0,l.useState)(""),[I,M]=r().useState(!1),[f,T]=r().useState(""),[v,k]=r().useState(!1),N=(0,l.useContext)(Bt),{cstate:b,cdispatch:w}=Dt(),[O,F]=(0,l.useState)(!1),[x,A]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{b.editData.length>0&&(s(b.editData),M(!1),w({type:"PrimaryId",payload:b.editData[0].PPMSBSTimeCostDetIDPK}))}),[b.editData]),(0,l.useEffect)((()=>{b.showTableview&&K(b.showTableview)}),[b.showTableview]),(0,l.useEffect)((()=>{c(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),M(null)},viewtoggle:()=>{M(!1)},viewlistProps:(e,t)=>{!function(e,t=!1){let a=u.v.Api+"FP488S3/",l={data:{}};(0,S.Z)(0).then((e=>{(0,p.Z)(a,l,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(0,t)},clear:()=>{"panel0"===I&&a.current.clear()}})));const z=e=>Z?.[e]?Z?.[e]:e,_=e=>b.language?.[e]?b.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{T(v?Object.assign(...i.filter((e=>e.PPMSBSTimeCostDetIDPK==t)).map((e=>e))):b.editData),M(!l&&e)};return r().createElement("div",null,r().createElement(E.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&c(!m)}},!I&&r().createElement(G.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},b.IsDraft?z("Draft"):"",_("PPMSBCostDetails"),e.viewonly?" ":"("+b.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?r().createElement(o.Z,{name:z("Add"),frmctrlid:"fld488L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),w({type:"editData",payload:[]}),w({type:"ShowDetail",payload:!1}),w({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld488L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld488L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(g.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld488L1VCCloseBtn",onClick:()=>{c(!1),N.hideAddBtn(!1),v&&(w({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(h.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},I==="panel"+l?r().createElement(Ct,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(ge.Z,{tableName:"PPMSBCostDetails",tableID:488,parentID:t.PPMSBSTimeCostDetIDPK,fldid:"fld488L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:z,title:"10.0.0.59-3:08:17 PM-18-7[488]"}))))))))})),Bt=(0,l.createContext)(),Dt=()=>{const e=(0,l.useContext)(Bt);if(void 0===e)throw new Error("useCont must be used within  PPMSBCostDetailsContext Provider");return e},gt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,c]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),P=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[C,y]=(0,l.useState)(0),[B,D]=(0,l.useReducer)(he.D,he.E),[g,I]=(0,l.useState)(""),[M,E]=(0,l.useState)([]),[h,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSBCostDetails-Entry").style.width="100%",document.getElementById("PPMSBCostDetails-MainTable").style.width="100%",document.getElementById("PPMSBCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divPPMSBCostDetails-Entry").style.width="100%",document.getElementById("PPMSBCostDetails-MainTable").style.width="100%",document.getElementById("PPMSBCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"editData",payload:[e.editData]}),D({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{D(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const T=e=>{E([]),document.getElementById("divPPMSBCostDetails-Entry").style.width="100%",document.getElementById("PPMSBCostDetailsEntryTable").style.width="100%",document.getElementById("PPMSBCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSBCostDetails-MainEntry").style.display="block",document.getElementById("PPMSBCostDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBCostDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBCostDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length),v(e)}))}))}),[]);const v=t=>{D({type:"AccessRights",payload:e.AccessRights}),f(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(Bt.Provider,{value:{cstate:B,cdispatch:D,ContextApi:Dt,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==C&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,M),E([])},EditClose:e=>T(),AttachExpand:e=>(d.current.AttachmentData(B.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSBCostDetails").style.width="50%",document.getElementById("divPPMSBCostDetails-Entry").style.width="100%",document.getElementById("PPMSBCostDetails-MainTable").style.width="100%",document.getElementById("PPMSBCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSBCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBCostDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBCostDetails").style.display="block",document.getElementById("overlayimgAttPPMSBCostDetails").style.width="25%"))),Expanded:e=>{B.ShowDetail&&o.current.tableClick(e),D({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{B.ShowDetail&&o.current.viewtoggle()},clear:e=>{D({type:"ShowDetail",payload:!1}),D({type:"editData",payload:[]}),B.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{B.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSBCostDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSBCostDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSBCostDetailsEntryTable",style:{width:"100%"}},B.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBCostDetails-Entry",style:{width:"100%"}},0!==C?r().createElement(yt,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Ee.Z,{ref:s,menurefID:488,fileId:"LogoImgPPMSBCostDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBCostDetails",frmctrlid:"PvwIm_488_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBCostDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Ct,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Ee.Z,{ref:s,menurefID:488,fileId:"LogoImgPPMSBCostDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBCostDetails",frmctrlid:"PvwIm_488_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})),r().createElement("div",{id:"PPMSBCostDetails-MainTable"},0!==C?r().createElement(ut,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Me.Z,{ImgAttachment:e=>T(),menurefID:488,fileId:"AttImgPPMSBCostDetails",imgid:"overlayimgAttPPMSBCostDetails",valueIDPK:B.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBCostDetails",ref:d,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_488_L1_",timglist:e=>{s.current.timglist(e),E(e)},clearTempData:B.Add}))),r().createElement("div",{id:"PPMSBCostDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&r().createElement(Te(),{openDialog:h,closeDialog:e=>f(e),formID:488,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var It=a(25108);const Mt=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,o]=(0,l.useState)([]),[d,c]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[S,P]=(0,l.useState)(""),[C,B]=(0,l.useState)({}),[g,I]=(0,l.useState)(!0),[M,E]=(0,l.useState)(!1),{cstate:h,cdispatch:x}=e.ContextApi?e.ContextApi:Nt(),[A,W]=(0,l.useState)(1),[L,R]=(0,l.useState)(0),[K,Z]=(0,l.useState)(!1),[G,z]=(0,l.useState)({}),[_,q]=(0,l.useState)([]),[V,H]=(0,l.useState)(!0),[U,j]=(0,l.useState)(!1),[Y,X]=(0,l.useState)(""),[Q,$]=(0,l.useState)(!1),[J,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!1),[re,ne]=(0,l.useState)(""),ie=(0,l.useRef)(null),[oe,de]=(0,l.useState)({});let se=localStorage.getItem("Language");const me={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ce=(0,y.Z)();const pe=e=>ce[e]?ce[e]:e,ue=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[me[se]];function Se(){B({}),z({}),e.searchData({}),E(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});de(a),q(t)}),[]),(0,l.useEffect)((()=>()=>{ie.current&&ie.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Se()}})));const Pe=async(t,a,l,r)=>{Z(!0);try{ie.current&&ie.current.abort();const i=new AbortController;ie.current=i;let d="",s=[],m={};await c((e=>(d=e.name,e))),await B((e=>(s=e,e))),await z((e=>(m=e,e)));const P=u.v.Api+"FP498S3/",y={data:{p1:"PPMSBGeneralCostDetIDPK"==a?null:await ge(),p2:"PPMSBGeneralCostCode"==d&&l.length>0?"%"+l+"%":null,p3:"PPMSBGenNarration"==d&&l.length>0?"%"+l+"%":null,p4:"PPMSBGenCostAmount"==d&&l.length>0?"%"+l+"%":null,p5:null,p6:null,p7:e.parentId?e.parentId:"0",p8:e.Dialogview?"1":null,p9:null,p10:"p10"==d&&l.length>0?l:null,p11:null,p12:null,p13:null,p14:null,p15:r||1,p16:10,p17:t,p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}},D=await(0,p.Z)(P,y,e.token,"",i.signal);if(!D)return!1;const g=D.Output.status.code,I=D.Output.data;if("200"===g)if(I.length>0)if(1===r){let e=ye(I,d),t=Ce(e,C[d],a);o(t),R(t.length>0?t[0].TotalCount:C[d].length)}else{let e=[...n,...I],t=ye(e,d);R(t.length<10?t.length:I[0].TotalCount),o(ye(t,d))}else S.length>0&&o([]),R(n.length);else e.alertmsg("error",[D.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Z(!1)}},Ce=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),ye=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Be(e){let t=e+"PK",a=oe[e];if(a){const e=a.flatMap((e=>C[e]?C[e].map((e=>e[t])):[]));return e.toString()}return""}const De=async t=>{let a="",l={};await B((e=>(a=e,e)));let r=[..._],n=[];for(let e of r){let t=a[e]?.map((e=>e.PPMSBGeneralCostDetIDPK)).toString();t&&n.push(t)}await z((e=>(l=e,e)));let i={PPMSBGeneralCostDetIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMSBCreationWorkOrderID:Be("PPMSBCreationWorkOrderID")};"saveFav"==t?Ee("save",i):(e.searchData(i),E(!1))};async function ge(){let e={};await B((t=>(e=t,t)));let t=[..._],a=[];for(let l of t){let t=e[l]?.map((e=>e.PPMSBGeneralCostDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ie(t,a,l,r,n,i){let o={[r]:{From:t,Type:l,To:a}},d={};z((e=>({...e,...o})));const s={...C};let m=[..._],c=[];for(let e of m){let t=s[e]?.map((e=>e.PPMSBGeneralCostDetIDPK)).toString();t&&c.push(t)}await z((e=>(d=e,e)));let p={PPMSBGeneralCostDetIDPK:c?[...new Set(c)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,PPMSBCreationWorkOrderID:C.SBCreWorkOrder?.map((e=>e.PPMSBCreationWorkOrderIDPK)).toString()};e.searchData(p)}function Me(){return r().createElement(k.Z,{frmctrlid:"fld498L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Ie(e,t,a,d.name,l)},keyboardback:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:""})},title:pe(d.name),fieldname:d.name,save:e=>{alert(!0)}})}const Ee=(t,a)=>{(0,Ze.Z)(t,e.formID,a,Y).then((e=>{const t=e.Output.data;ne(t)}))};return r().createElement("div",null,r().createElement(Fe.Z,{onClose:()=>$(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:Q},r().createElement(xe.Z,{id:"customized-dialog-title",onClose:()=>$(!1)},"Add Favorite"),r().createElement(Ae.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(Le.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:Y,onChange:e=>X(e.target.value),fullWidth:!0})),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:J,onChange:e=>te(e.target.checked)}),label:"Quick"}),r().createElement(ee.Z,{style:{color:"#337ab7"},control:r().createElement(D.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(Re.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Ke.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ae,onChange:e=>le(e.target.checked)}),label:"Dashboard"})),r().createElement(We.Z,null,r().createElement(T.Z,{onClick:()=>{De("saveFav"),$(!1)},color:"primary"},"Save"))),M?"Created Ttm"===d.name||d.name.includes("Date")?r().createElement(Me,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(s.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},ue(d.idpk)," (",n.length,"/",L,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(i.ZP,{title:pe("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(f.Z,{id:"fld498L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{E(!1),c({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),C[d.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(T.Z,{frmctrlid:"fld498L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await B((t=>(e=t,It.log("clear fewItems",e),t))),e[d.name]=[],Pe(d.type,d.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},g?r().createElement(i.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(w.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):r().createElement(i.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(w.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),r().createElement("ul",null,C[d.name]&&C[d.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:g?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[d.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[d.name],onClick:()=>(async(e,t)=>{W(1);let a=C[d.name].filter((t=>t!=e)),l={};await B((e=>(l=e,e))),l[d.name]=a,B(l),o((t=>[e,...t]))})(e)},r().createElement(f.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(N.Z,{frmctrlid:"fld498L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:S,placeholder:pe("Enter ")+" "+ue(d.idpk),onChange:e=>{P(e),Pe(d.type,d.fieldidpk,e,1,ge())}})),r().createElement("div",{id:"fld498L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:De},r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),K&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(O.Z,{color:"secondary"})),r().createElement("div",{id:"fld498L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[d.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await B((e=>(l=e,e)));let r=l[d.name];t[d.name]=r?[...a,...r]:a,l={...l,...t},B(l),o((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(v.Z,{className:"DotIcon"}),r().createElement("span",null,e[d.name])))),n.length+0<L&&n.length>0&&r().createElement("div",{id:"fld498L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(A+1),Pe(d.type,d.fieldidpk,"",A+1)}},r().createElement("p",null," more... ")),0===n.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(b.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",pe("Filter")," ",Y.length>0&&`(${Y})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(i.ZP,{title:"Favorite List",placement:"top"},U?r().createElement(f.Z,{className:"favlisticon",onClick:()=>{j(!1),ne(""),Se()}}):r().createElement(we.Z,{className:"favlisticon",onClick:()=>{j(!0),Ee("select"),Se()}})),Object.keys(C).length>0&&r().createElement(i.ZP,{title:"Save Favorites",placement:"top"},r().createElement(Oe.Z,{className:"favlisticon",onClick:()=>{$(!0)}})),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnApplyButton",onClick:()=>{Se()},id:"fld498L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},pe("Clear")))),r().createElement(i.ZP,{title:"",placement:"top"},r().createElement(T.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld498L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},pe("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld498L1TFCFilItems",className:"FilterItems"},!re&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{E(!0),P(""),o([]),R(0);let t=e.IsForeign?e.FieldName+"PK":"PPMSBGeneralCostDetIDPK";c({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBGeneralCostDetID",fieldidpk:t}),Pe(e.IsForeign?"Filter"+e.FieldName:"FilterPPMSBGeneralCostDetID",t,"",1,ge())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,ue(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),r().createElement(F.Z,{checked:"1"==V,onChange:t=>{H(t.target.checked),Ie("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,ue(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,C[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},C[a][0][a]),C[a].length>1&&r().createElement("span",{className:"RoundedDivName"},C[a][1][a]),C[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(C[a].length-2))))));var a})),re&&re.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Pe("FilterPPMSBGeneralCostDetID",a),De("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const Et=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),d=(0,l.useRef)(null),[s]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("498"),[c,S]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),[D,g]=(0,l.useState)(0),[I,M]=(0,l.useState)(0),[T,v]=(0,l.useState)(0),[k,O]=(0,l.useState)(0),[F,x]=(0,l.useState)({current:1,pageSize:100}),[A,j]=(0,l.useState)(""),[J,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)({val:"",column:""}),[le,re]=(0,l.useState)([]),[ne,ie]=(0,l.useState)(!1),[oe,de]=(0,l.useState)(""),[se,me]=(0,l.useState)(""),[ce,pe]=(0,l.useState)(!1),[ue,Se]=(0,l.useState)([]),[Pe,Ce]=(0,l.useState)([]),[ye,Be]=(0,l.useState)([]),[De,ge]=(0,l.useState)({children:[{name:"PPMSBGenCostDetails",children:[]}]}),[Ie,Me]=(0,l.useState)(!1),Ee=(0,l.useContext)(e.context?e.context:kt),{cstate:he,cdispatch:fe}=e.ContextApi?e.ContextApi:Nt();let Te={PPMSBGeneralCostDetIDPK:"",PPMSBGeneralCostCode:"",PPMSBGenNarration:"",PPMSBGenCostAmount:"",IsDraft:"",Remarks:"",PPMSBCreationWorkOrderID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ve,ke]=(0,l.useState)(Te),[Ne,we]=(0,l.useState)(Te),[Oe,Fe]=(0,l.useState)(!1),[xe,Ae]=(0,l.useState)(!0),[We,Le]=(0,l.useState)(!1),[Re,Ke]=(0,l.useState)(!0),[Ze,Ge]=(0,l.useState)({PPMSBGenNarration:"",PPMSBGenCostAmount:"",PPMSBGeneralCostCode:"",SBCreWorkOrder:""}),[ze,He]=(0,l.useState)(!1),[Ue,je]=(0,l.useState)([]),[Ye,Xe]=(0,l.useState)(0),[Qe,$e]=(0,l.useState)(0),[Je,et]=(0,l.useState)({current:1,pageSize:10}),[tt,at]=(0,l.useState)([]),[lt,rt]=(0,l.useState)([]),[nt,it]=(0,l.useState)(!1),[ot,dt]=(0,l.useState)(!1),[st,mt]=(0,l.useState)(!1),[ct,pt]=(0,l.useState)(""),[ut,St]=Y()("498"),[Pt,Ct]=(0,l.useState)({}),yt=[{columns:tt,data:A}];let Bt=(0,y.Z)();const Dt=e=>Bt[e]?Bt[e]:e,gt=e=>he.language?.[e]?he.language[e]:e;(0,l.useEffect)((()=>{bt(ut)}),[ut]),(0,l.useEffect)((()=>{he.token.length>0&&(e.parentId?Tt(F,Te,"PPMSBGeneralCostDetID"):re([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ie&&e.parentId?Tt(F,oe,"PPMSBGeneralCostDetID"):Ie&&we(oe)}),[oe]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{It(e)},tableRefresh:()=>{Tt(F,Te,"PPMSBGeneralCostDetID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{mt(!0===e)}})));const It=e=>{""==e?Tt(F,Te,Oe?"DraftPPMSBGeneralCostDetID":"PPMSBGeneralCostDetID",Oe&&"DraftPage"):vt(e,{current:1,pageSize:100}),me(e)};function Et(t){Ee.loading(!0);let a=u.v.Api+"FP498S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,he.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,$e(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),je(e.Output.data),Ee.loading(!1)}}))}function ht(e,t){fe({type:"editData",payload:[t]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),We&&pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ke(e.cardview),e.Dialogview&&(C(e.Dialogview),mt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&vt(e.searchsafaritext,{current:F.current,pageSize:F.pageSize})}),[e.searchsafaritext]);const ft=()=>{Ee.EditClose(!0),ne?(document.getElementById("PPMSBGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("PPMSBGenCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("PPMSBGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ie(!1),Re?(P||(document.getElementById("PPMSBGenCostDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBGenCostDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("PPMSBGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("PPMSBGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("PPMSBGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("PPMSBGenCostDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("PPMSBGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ie(!0),document.getElementById("PPMSBGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("PPMSBGenCostDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),pe(!1),window.clickFilter=!ne},Tt=(t,a,l,r,n,i)=>{Ee.loading(!0),"DraftPage"!==r&&Fe(he.IsDraft);let o=u.v.Api+"FP498S3/",d={data:{p1:n||(a&&a.PPMSBGeneralCostDetIDPK?a.PPMSBGeneralCostDetIDPK:null),p2:a&&a.PPMSBGeneralCostCode?a.PPMSBGeneralCostCode:null,p3:a&&a.PPMSBGenNarration?a.PPMSBGenNarration:null,p4:a&&a.PPMSBGenCostAmount?a.PPMSBGenCostAmount:null,p5:"DraftPPMSBGeneralCostDetID"==l?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:a&&a.IsActive,p9:null,p10:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p11:a&&a.CreatedTtm?a.CreatedTtm:null,p12:a&&a.CreatedTtmType?a.CreatedTtmType:null,p13:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p14:null,p15:n?1:t.current,p16:t.pageSize,p17:l,p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};(0,p.Z)(o,d,he.token[0]).then((o=>{if(n)(0,V.a)(o,fe,r,i,Ee);else if("200"==o.Output.status.code)if(o.Output.data.length>0){if(o.Output.data){let e=0;o.Output.data.length>0?(e=parseFloat(o.Output.data[0].TotalCount,10)/10,v(o.Output.data[0].TotalCount),O(o.Output.data[0].DraftCnt),fe({type:"count",payload:o.Output.data[0].TotalCount}),"DraftPage"==r&&O(o.Output.data[0].TotalCount)):e=0,10==t.pageSize?M(Math.ceil(e)):20==t.pageSize?M(Math.ceil(e/2)):50==t.pageSize?M(Math.ceil(e/5)):100==t.pageSize&&M(Math.ceil(e/10)),re(o.Output.data),Ee.loading(!1)}e.Dialogview||(document.getElementById("divPPMSBGenCostDetails-Entry").style.height="auto",document.getElementById("divPPMSBGenCostDetails-Entry").style.display="block")}else Ee.loading(!1),"DraftPPMSBGeneralCostDetID"===l?(Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),pe(!0),Fe(!1)):(re([]),x({current:1,pageSize:10}),M(0),v(0),fe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Ee.alert({open:!0,color:"warning",message:[o.Output.status.message]}),Ee.loading(!1)}))};function vt(t,a){Ee.loading(!0);const l=u.v.Api+"FP498S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Oe?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,r,he.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount),fe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?M(Math.ceil(t)):20==a.pageSize?M(Math.ceil(t/2)):50==a.pageSize?M(Math.ceil(t/5)):100==a.pageSize&&M(Math.ceil(t/10)),re(e.Output.data),Ee.loading(!1)}else re([]),M(0),v(0),fe({type:"count",payload:"0"}),Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ee.loading(!1);else Ee.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ee.loading(!1)}))}function bt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),fe({type:"language",payload:Object.assign({},...r)}),Ge(a.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),Ce(t),Be(a),at(l),rt(a)}const wt=()=>Ie?null:r().createElement("div",null,ze?r().createElement(Q.Z,{data:Ue,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:t}),fe({type:"ShowDetail",payload:a}))}}):r().createElement(X.Z,{ref:d,frmctrlid:"tblcs_498_L1_",id:"PPMSBGenCostDetailsTable",headerdata:Pe,tablesearchparams:Ze,searchvalue:e=>{Ge(e),de(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};Ct(t),x({current:1,pageSize:10}),Tt({current:1,pageSize:10},t,Oe?"DraftPPMSBGeneralCostDetID":"PPMSBGeneralCostDetID",Oe&&"DraftPage")},bodydata:le,ondrag:ht,bodyitem:ye,visibleitem:Pe,isdraft:Oe,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:he.AccessRights,expanded:e=>!P&&Ee.Expanded(e),edit:(e,t,a)=>{P?Ee.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Tt(F,null,t?"DraftPPMSBGeneralCostDetID":"PPMSBGeneralCostDetID",t&&"DraftPage",e[l],a)})),Ee.hideAddBtn(!0))},viewtoggle:Ee.viewtoggle,isexpanded:!P||We,tf:gt,action:P?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{Le(he.ExpandTableValue)}),[he.ExpandTableValue]),r().createElement("div",null,!st&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld498L1ECSearchBar",className:"searchbar1"},r().createElement(N.Z,{frmctrlid:"fld498L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Dt("Search"),value:se,onChange:e=>{me(e),Ee.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld498L1TCCloseIconCommonSearch",onClick:()=>{me(""),Ee.searchItem("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld498L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("PPMSBGenCostDetailsgridsearch").focus()}})))),r().createElement("div",null,he.AccessRights.IsAdd?r().createElement(o.Z,{className:"SaveBtnCommon",frmctrlid:"fld498L1TCAddBtnIsAdd",onClick:()=>{Ee.hideAddBtn(!0),fe({type:"editData",payload:[]}),fe({type:"ShowDetail",payload:!1}),fe({type:"Add",payload:!0})}}):"")),r().createElement(E.Z,{expanded:xe,onChange:()=>()=>{Ae(We)}},e.Dialogview&&r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[498]"},`${gt("498")} (${T})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld498L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(N.Z,{frmctrlid:"fld498L1TCInputSearch",className:"search_input",type:"text",placeholder:Dt("Search"),value:se,onChange:e=>{It(e)}}),r().createElement("div",{className:"search_icon"},se?r().createElement("div",{id:"fld498L1TCInputCloseIcon",onClick:()=>{It("")}},r().createElement(f.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld498L1TCInputSearchIcon"},r().createElement(Z.Z,{className:"InputSearchIcon"}))))))),r().createElement(h.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"PPMSBGenCostDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!Oe&&r().createElement("div",{frmctrlid:"fld498L1TCFilterDataIsDraft",id:"PPMSBGenCostDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{ft()}},r().createElement(i.ZP,{title:Dt("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(b.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Dt("Filter Data"))),!P&&!Oe&&!Ie&&r().createElement(W.Z,{formctrlidprint:"fld498L1TCExportPrint",formctrlidexport:"fld498L1TCExportTable",formctrlidrefresh:"fld498L1TCExportRefresh",title:gt("498"),data:J,exportData:yt,Items:lt,columnIndex:tt,TableVisibleItem:Pe,userGridViewFormID:m,TableTotalCount:T,triggerApi:t=>{((t,l,r,n,i)=>{if(0===T)return Ee.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ee.loading(!0);let o=u.v.Api+"FP498S3/",d={data:{p1:t&&t.PPMSBGeneralCostDetIDPK?t.PPMSBGeneralCostDetIDPK:null,p2:t&&t.PPMSBGeneralCostCode?t.PPMSBGeneralCostCode:null,p3:t&&t.PPMSBGenNarration?t.PPMSBGenNarration:null,p4:t&&t.PPMSBGenCostAmount?t.PPMSBGenCostAmount:null,p5:Oe?"1":"0",p6:null,p7:e.parentId?Number(e.parentId):0,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:F.current,p16:T,p17:Oe?"DraftPPMSBGeneralCostDetID":"PPMSBGeneralCostDetID",p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};Ee.loading(!1),Ee.alert({open:!0,color:"success",message:[`${gt(498)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(o,d,he.token[0],i).then((e=>{(0,U.PDF_Excel_Generate)(e,Ee,lt,j,a,i)}))})(oe,te.column,0,0,t)},Refresh:()=>{me(""),x({current:1,pageSize:100}),d.current.clearItem(),he.IsDraft?Tt({current:1,pageSize:100},Te,"DraftPPMSBGeneralCostDetID"):Tt({current:1,pageSize:100},Te,"PPMSBGeneralCostDetID")},disabledPrint:!he.AccessRights.IsPrint,disabledExport:!he.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Oe&&!Ie&&!P&&r().createElement("div",{className:"buttoncard",onClick:()=>dt(!ot)},r().createElement("span",null,ot?r().createElement(i.ZP,{disableFocusListener:!0,title:Dt("Less"),placement:"top"},r().createElement("span",{id:"fld498L1TCLess"},r().createElement(q.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(i.ZP,{disableFocusListener:!0,title:Dt("More"),placement:"top"},r().createElement("span",{id:"fld498L1TCMore"},r().createElement(q.ilJ,{className:"tableFilterColumnIcon"}))))),ot?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ie||!We?null:P||!he.AccessRights.IsAdd||Oe?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld498L1TCFilterDataIsAdd",id:"PPMSBGenCostDetailscoldiv",className:"buttoncard",onClick:()=>{Ee.EditClose(!0),ce?(document.getElementById("PPMSBGenCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBGenCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSBGenCostDetailsFilterDiv").style.display="none",document.getElementById("PPMSBGenCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBGenCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!1)):(document.getElementById("PPMSBGenCostDetailsFilterDiv").style.width="25%",document.getElementById("PPMSBGenCostDetailsTabDiv").style.width="75%",document.getElementById("PPMSBGenCostDetailsFilterDiv").style.display="block",document.getElementById("PPMSBGenCostDetailsfildiv").style.width="fit-content",document.getElementById("PPMSBGenCostDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("PPMSBGenCostDetailscoldiv").style.width="fit-content",document.getElementById("PPMSBGenCostDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!0)),ie(!1)}},r().createElement(i.ZP,{title:Dt("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(H.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Dt("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!P&&We&&!Ie&&!Oe&&r().createElement("div",null,r().createElement("div",{id:"PPMSBGenCostDetailscoldiv",className:"buttoncard",onClick:()=>{ze?He(!1):(He(!0),Et({current:1,pageSize:100}))}},r().createElement(i.ZP,{title:Dt("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld498L1TCTableScrollData"},r().createElement($.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Dt("Table Scroll Data")))),!Ie&&Oe?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Ee.hideAddBtn(!1),Ee.ExpandEntry(),Tt({current:1,pageSize:100},Te,"PPMSBGeneralCostDetID"),Fe(!1),me(""),fe({type:"IsDraft",payload:!1}),x({current:1,pageSize:10})}},r().createElement(i.ZP,{title:Dt("List"),placement:"top"},r().createElement("div",{id:"fld498L1TCList"},r().createElement(qe.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Dt("Drafts")," ",T)):!P&&!Ie&&he.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(be.Z,{color:"secondary",className:"badge",max:999,badgeContent:k,showZero:!0},r().createElement("div",{id:"fld498L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{k>0?(x({current:1,pageSize:100}),g(0),Ee.clear(),me(""),fe({type:"Add",payload:!1}),Tt({current:1,pageSize:10},Te,"DraftPPMSBGeneralCostDetID"),Fe(!0),fe({type:"IsDraft",payload:!0}),pe(!1),Ke(!0),document.getElementById("PPMSBGenCostDetailsFilterDiv").style.width="0%",document.getElementById("PPMSBGenCostDetailsTabDiv").style.width="100%",document.getElementById("PPMSBGenCostDetailsFilterDiv").style.display="none",x({current:1,pageSize:100}),Me(!1)):Ee.alert({open:!0,color:"warning",message:[Dt("There is no Record Found")]})}},r().createElement(i.ZP,{title:Dt("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(Ve.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Dt("Drafts"))))))):""),!Oe&&!P&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ie||Oe?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Re?"buttonList":"buttonGrid",id:"fld498L1TCListView",onClick:()=>{Ke(!0),it(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(q.umT,null)),r().createElement("span",null,Dt("List"))),r().createElement("div",{className:Re||nt?"buttonGrid":"buttonList",id:"fld498L1TCCardView",onClick:()=>{Ke(!1),it(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.aCJ,null)),r().createElement("span",null,Dt("Card"))),r().createElement("div",{className:nt?"buttonList":"buttonGrid",id:"fld498L1TCTileView",onClick:()=>{it(!0),Ke(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(B.f_H,null)),r().createElement("span",null,Dt("Tile"))))))),Ie?null:ze?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld498L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:D,onPageChange:(e,t)=>{g(t),Et({current:t+1,pageSize:Je.pageSize}),et({current:t+1,pageSize:Je.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:Ye,color:"primary",page:Je.current,onChange:(e,t)=>{et({current:t,pageSize:Je.pageSize}),Xe(t),Et({current:t,pageSize:Je.pageSize})}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:Je.pageSize,frmctrlid:"fld498L1TCSelectPagination",onChange:e=>{et({current:1,pageSize:e.target.value}),Et({current:1,pageSize:e.target.value})}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),We&&r().createElement("p",{className:"per-page"},"/ ",Dt("RowperpageOf")," (",Qe,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(z.Z,{style:{color:"#777"},id:"fld498L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(T),page:D,onPageChange:(e,t)=>{g(t),Tt({current:t+1,pageSize:F.pageSize},Te,Oe?"DraftPPMSBGeneralCostDetID":"PPMSBGeneralCostDetID",Oe&&"DraftPage"),x({current:t+1,pageSize:F.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(L.Z,{count:I,siblingCount:0,color:"primary",page:F.current,onChange:(e,t)=>{if(x({current:t,pageSize:F.pageSize}),Oe)Tt({current:t,pageSize:F.pageSize},ve,"DraftPPMSBGeneralCostDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";se.length>0?vt(se,{current:t,pageSize:F.pageSize}):Tt({current:t,pageSize:F.pageSize},ve,"PPMSBGeneralCostDetID")}}}),r().createElement("div",null,r().createElement(R.Z,{className:"BootstrapInputStyle",value:F.pageSize,id:"fld498L1TCSelectPaging",onChange:e=>{x({current:1,pageSize:e.target.value}),Oe?Tt({current:1,pageSize:e.target.value},ve,"DraftPPMSBGeneralCostDetID","DraftPage"):se.length>0?vt(se,{current:1,pageSize:e.target.value}):Tt({current:1,pageSize:e.target.value},ve,"PPMSBGeneralCostDetID")}},r().createElement(_e.Z,{value:10},"10"),r().createElement(_e.Z,{value:20},"20"),r().createElement(_e.Z,{value:50},"50"),r().createElement(_e.Z,{value:100},"100"))),We&&r().createElement("p",{className:"per-page"},"/ ",Dt("RowperpageOf")," (",T,") "))),r().createElement("div",{id:"PPMSBGenCostDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"PPMSBGenCostDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ne&&r().createElement(Mt,{parentId:e.parentId,searchData:e=>{de(e||Pt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:he.token[0],CloseBtnClk:()=>ft(),userGrid:ut,msg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),ce&&r().createElement(K.Z,{Refresh:e=>{Tt({current:1,pageSize:100},Te,"PPMSBGeneralCostDetID")},frmctrlid:"fld498L1TCTableColumnOrder",loading:e=>Ee.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Ee.alert({open:!0,color:t,message:[e]}),select:ce,userID:s,userGridViewFormID:m,saved:(e,t)=>{e&&bt(t),St(t),fe({type:"showTableview",payload:t})},Token:he.token[0]})),r().createElement("div",{id:"PPMSBGenCostDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Re?r().createElement(wt,null):r().createElement(_.Z,{frmctrlid:"fld498L1TCExpandedCardDual",data:le,id:"PPMSBGenCostDetails",title:"PPMSBGeneralCostCode",cardTile:!!nt,visibleitem:Pe,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{P?Ee.select(e):("edit"==t?(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!1}),Ee.Expanded(!0)):(fe({type:"editData",payload:[e]}),fe({type:"IsDraft",payload:Oe}),fe({type:"ShowDetail",payload:!0}),Ee.Expanded(!0),Ee.viewtoggle()),ne?ie(!0):ce?pe(!0):(pe(!1),pe(!1))),Ee.hideAddBtn(!0)}})))))))})),ht={EnterKeyValues:{PPMSBGenCostDetails:["PPMSBGenNarration","PPMSBGenCostAmount","PPMSBGeneralCostCode","SBCreWorkOrder"]},Label:{PPMSBGenCostDetails:{PPMSBGenNarration:["PPMSBGeneralCostCode"],PPMSBGenCostAmount:["PPMSBGeneralCostCode"],PPMSBGeneralCostCode:["PPMSBGeneralCostCode"],PPMSBCreationWorkOrderID:["PPMSBGeneralCostCode"]}},LabelHeader:{PPMSBGenCostDetails:{PPMSBGenNarration:["PPMSBGeneralCostCode"],PPMSBGenCostAmount:["PPMSBGeneralCostCode"],PPMSBGeneralCostCode:["PPMSBGeneralCostCode"],PPMSBCreationWorkOrderID:["PPMSBGeneralCostCode"]}},Property:{PPMSBGenCostDetails:{PPMSBGenNarration:{id:"fld498_23375",labelID:"PPMSBGenNarration",maxLength:"150",labelname:"Narration",frmctrlid:"fld498_23375",frmctrlidname:"PPMSBGenNarration",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBGenCostAmount:{id:"fld498_23376",labelID:"PPMSBGenCostAmount",maxLength:"10",labelname:"Amount",frmctrlid:"fld498_23376",frmctrlidname:"PPMSBGenCostAmount",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBGeneralCostCode:{id:"fld498_23374",labelID:"PPMSBGeneralCostCode",maxLength:"50",labelname:"PPMSBGeneralCostCode",frmctrlid:"fld498_23374",frmctrlidname:"PPMSBGeneralCostCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMSBCreationWorkOrderID:{id:"fld498_23379",clearID:"PPMSBGenCostDetailsSBCreWorkOrderClear",type:"select",labelID:"PPMSBCreationWorkOrderIDPK",labelname:"PPMSBCreationWorkOrderID",fielddisplayname:"SBCreWorkOrder",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBGenCostDetails:{PPMSBCreationWorkOrderID:["SBCreSLAHours","SBCreWorkOrder","SBCreWoDateTime","ContractID","BuildingID","LocalityID","SpotID","FloorID","DisciplineID","DivisionID","FrequencyID","PPMStageID"]}}},ft={PPMSBGeneralCostDetIDPK:"",PPMSBGeneralCostCode:"",PPMSBGenNarration:"",PPMSBGenCostAmount:"",IsDraft:!1,Remarks:"",PPMSBCreationWorkOrderID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",Type:"PPMSBGeneralCostDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Tt=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[i,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(!0),[C,B]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[M,f]=(0,l.useState)(""),[T,v]=(0,l.useState)(!1),[k,N]=(0,l.useState)([]),[b,w]=(0,l.useState)(null),[O,x]=(0,l.useReducer)(me.Z,ft),[A,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)([]),[K,Z]=(0,l.useState)(!1),z=(0,l.useContext)(e.context?e.context:kt),{cstate:_,cdispatch:q}=e.ContextApi?e.ContextApi:Nt(),[V,H]=(0,l.useState)(0),[U,j]=(0,l.useState)(""),Y=(0,l.useRef)(null),[X,Q]=Ce()("498"),[$,J]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1);let de=(0,y.Z)();const[ce,Se]=(0,l.useState)({}),Pe=e=>de[e]?de[e]:e,ye=t=>_.language?.[t]?_.language[t]:e.createEasy?ce?.[t]:t;(0,l.useEffect)((()=>{_.PrimaryId&&H(Number(_.PrimaryId))}),[_.PrimaryId]),(0,l.useEffect)((()=>{De()}),[]),(0,l.useEffect)((()=>{De()}),[e.parentId]),(0,l.useEffect)((()=>{_.editData.length>0?(Be(_.editData[0],""),B(!0)):_.Add&&(De(),B(!0))}),[_.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Se(Object.assign({},...t))}(X)}),[X]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{De()},CreateEasyProps:(e=!0,t)=>{Q(!0),t?(he(t),B(e)):(De(),B(e))},AddOpen:e=>{De(),B(!0)}})));const Be=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultPPMSBGeneralCostDetID"==a?j(t.PPMSBGeneralCostDetIDPK):(H(e.primid?Number(e.primid):t.PPMSBGeneralCostDetIDPK?t.PPMSBGeneralCostDetIDPK:0),q({type:"PrimaryId",payload:t.PPMSBGeneralCostDetIDPK})),x({type:"text",name:"PPMSBGenNarration",value:t.PPMSBGenNarration?t.PPMSBGenNarration:""}),x({type:"number",name:"PPMSBGenCostAmount",number:Number(t.PPMSBGenCostAmount)}),x({type:"text",name:"PPMSBGeneralCostCode",value:t.PPMSBGeneralCostCode?t.PPMSBGeneralCostCode:""}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:t.PPMSBCreationWorkOrderID?Number(t.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:t.SBCreWorkOrder}),t.IsDraft?c(!0):c(!("1"!=t.IsActive&&!t.IsActive))},De=()=>{N([]),H(0),j(""),e.createEasy||z.resetImg(),q({type:"PrimaryId",payload:""}),x({type:"text",name:"PPMSBGenNarration",value:""}),x({type:"number",name:"PPMSBGenCostAmount",number:0}),x({type:"text",name:"PPMSBGeneralCostCode",value:""}),x({type:"text",name:"PPMSBCreationWorkOrderID",value:null}),x({type:"text",name:"SBCreWorkOrder",value:""}),document.getElementById("PPMSBGenCostDetailsSBCreWorkOrderClear")&&document.getElementById("PPMSBGenCostDetailsSBCreWorkOrderClear").click(),c(!0),f(""),J(!0)},ge=t=>{z.loading(!0),z.ConfirmAlert(null);const a=u.v.Api+"FP498S2/",l={data:[{p1:"SetDefaultPPMSBGeneralCostDetID"==t?"NORECORDS"!=U&&U?U:0:V,p2:fe(O.PPMSBGeneralCostCode),p3:fe(O.PPMSBGenNarration),p4:O.PPMSBGenCostAmount?Number(O.PPMSBGenCostAmount):0,p5:!1,p6:"SetDefaultPPMSBGeneralCostDetID"==t?"SetDefault":null,p7:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p8:d,p9:"SetDefaultPPMSBGeneralCostDetID"==t,p10:localStorage.getItem("userid"),p11:ne()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:n}),z.loading(!1)):(t=>{J(!0),z.loading(!0),z.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP498S1/",l={data:[{p1:V,p2:fe(O.PPMSBGeneralCostCode),p3:fe(O.PPMSBGenNarration),p4:O.PPMSBGenCostAmount?Number(O.PPMSBGenCostAmount):0,p5:!1,p6:null,p7:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p8:d,p9:!1,p10:localStorage.getItem("userid"),p11:ne()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((t=>{(0,te.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttPPMSBGenCostDetails"),z.loading(!1),q({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(t[0].Data.IDPK)),De(),_.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttPPMSBGenCostDetails")&&(document.getElementById("overlayimgAttPPMSBGenCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBGenCostDetails").style.display="none",document.getElementById("divPPMSBGenCostDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("PPMSBGenCostDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[a.message]}),z.loading(!1)),B(!0)}))}))})()):(z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),z.loading(!1))}))}))};function Ie(t,a,l,r){if(!(_.count>0))return z.alert({open:!0,color:"warning",message:[Pe("Please save atleast one record")]}),!1;if(!((()=>{const e={...O};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return z.alert({open:!0,color:"warning",message:[Pe("Please enter the primary fields")]}),!1;{J(!0),z.loading(!0),z.ConfirmAlert(null),q({type:"IsDraft",payload:!1});const a=u.v.Api+"FP498S1/",l={data:[{p1:"SetDefaultPPMSBGeneralCostDetID"==r?"NORECORDS"!=U&&U?U:0:V,p2:fe(O.PPMSBGeneralCostCode),p3:fe(O.PPMSBGenNarration),p4:O.PPMSBGenCostAmount?Number(O.PPMSBGenCostAmount):0,p5:!0,p6:"SetDefaultPPMSBGeneralCostDetID"==r?"SetDefault":null,p7:e.parentId?Number(e.parentId):O.PPMSBCreationWorkOrderID?O.PPMSBCreationWorkOrderID:0,p8:!1,p9:"SetDefaultPPMSBGeneralCostDetID"==r,p10:localStorage.getItem("userid"),p11:ne()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:ne()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((r=>{(0,te.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?z.alert({open:!0,color:"warning",message:[Pe("Deleted Successfully")]}):z.alert({open:!0,color:"success",message:[Pe("Saved to Draft")]}),z.loading(!1),z.attachmentSave(a[0].Data.IDPK),De(),z.RefreshTable(),e.clrImgstate(!0)):(z.alert({open:!0,color:"warning",message:[l.message]}),z.loading(!1))}))}))}}const Me=(t,l,r)=>{const n=u.v.Api+"FP498S3/",i={data:{p1:null,p2:"PPMSBGeneralCostCode"==r&&l?"%"+l+"%":null,p3:"PPMSBGenNarration"==r&&l?"%"+l+"%":null,p4:"PPMSBGenCostAmount"==r&&l?"%"+l+"%":null,p5:null,p6:null,p7:a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID?a.PPMSBCreationWorkOrderPPMSBCreationWorkOrderID:"0",p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:t,p16:10,p17:"PPMSBGeneralCostDetID",p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}},o={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(i.data).length-8?i.data[t]:null,e)),{})};W(!0),(0,p.Z)(n,"ClearAll"==r?o:i,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("PPMSBGeneralCostCode"==r&&J(e>0),R(l)):("PPMSBGeneralCostCode"==r&&J(!0),R(L.concat(l))),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))},Ee=(0,l.useCallback)((async(e,t,a)=>{"text"==a?x({type:a,name:t,value:e}):"number"==a?x({type:a,name:t,number:Number(e)}):"boolean"==a?x({type:a,name:t,boolean:e}):"date"==a&&x({type:"text",name:t,value:e})}),[O]);function he(e){z.ConfirmAlert(null),I(e.IsDraft),H(Number(e.PPMSBGeneralCostDetIDPK)?Number(e.PPMSBGeneralCostDetIDPK):0),x({type:"text",name:"PPMSBGenNarration",value:e.PPMSBGenNarration?e.PPMSBGenNarration:""}),x({type:"number",name:"PPMSBGenCostAmount",number:e.PPMSBGenCostAmount?Number(e.PPMSBGenCostAmount):0}),x({type:"text",name:"PPMSBGeneralCostCode",value:e.PPMSBGeneralCostCode?e.PPMSBGeneralCostCode:""}),x({type:"number",name:"PPMSBCreationWorkOrderID",number:e.PPMSBCreationWorkOrderID?Number(e.PPMSBCreationWorkOrderID):0}),x({type:"text",name:"SBCreWorkOrder",value:e.SBCreWorkOrder?e.SBCreWorkOrder:""})}const fe=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(E.Z,{expanded:C,onChange:e=>{}},r().createElement(G.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},C&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[498]"}," ",Pe("Add "),ye("498")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(pe.Z,{row:!0},r().createElement(ee.Z,{labelPlacement:"bottom",id:"fld498L1ECEntryCheckbox",control:r().createElement(F.Z,{checked:"1"==d,onChange:e=>c(e.target.checked)}),label:Pe(1==d?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld498L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(ue.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Pe("Attach")))),!V&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{De()},id:"fld498L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ue.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Pe("Reset")))),"1"===D&&V&&r().createElement(le.Z,{frmctrlid:"fld498L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ie("draftdel")}}),V&&"1"!==D||e.createEasy?null:_.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{Ie()},frmctrlid:"fld498L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(je.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,Pe("Draft")))),_.AccessRights.IsAdd||_.AccessRights.IsEdit?r().createElement(P.Z,{frmctrlid:"fld498L1ECSaveBtnIsAdd",name:Pe(V?"Update":"Save"),disabled:!1,onClick:()=>{fe(O.PPMSBGenNarration)?fe(O.PPMSBGenCostAmount)?e.parentId&&0!=e.parentId?z.ConfirmAlert(r().createElement(oe(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Pe("Are you sure?"),onConfirm:()=>ge(),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Pe("Yes"),cancelBtnText:Pe("Cancel"),showCancel:!0},Pe(V?"Do you want to Update?":"Do you want to Save?"))):z.alert({open:!0,color:"warning",message:[Pe("Please select the ")+" "+ye("PPMSBCreationWorkOrderID")]}):z.alert({open:!0,color:"warning",message:[Pe("Please enter the")+""+ye("PPMSBGenCostAmount")]}):z.alert({open:!0,color:"warning",message:[Pe("Please enter the")+""+ye("PPMSBGenNarration")]})}}):null,!e.createEasy&&r().createElement(g.Z,{frmctrlid:"fld498L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{De(),B(!1),z.EditClose(!0),z.hideAddBtn(!1),q({type:"Add",payload:!1})}}))))),r().createElement(h.Z,null,r().createElement("div",{id:"PPMSBGenCostDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"PPMSBGenCostDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"PPMSBGenCostDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(s.Z,{spacing:2},r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:ht,"data-testid":O.PPMSBGenNarration,SPName:"PPMSBGenCostDetails",FieldName:"PPMSBGenNarration",tfLabel:ye("PPMSBGenNarration"),frmctrlid:"fld498_23375",fieldorder:"1",onChange:e=>{Ee(e,"PPMSBGenNarration","text")},clear:e=>{e&&x({type:"text",name:"PPMSBGenNarration",value:""})},value:O.PPMSBGenNarration})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(ae.Z,{json:ht,"data-testid":O.PPMSBGenCostAmount,SPName:"PPMSBGenCostDetails",FieldName:"PPMSBGenCostAmount",tfLabel:ye("PPMSBGenCostAmount"),frmctrlid:"fld498_23376",fieldorder:"2",onChange:e=>{Ee(e,"PPMSBGenCostAmount","number")},clear:e=>{e&&x({type:"number",name:"PPMSBGenCostAmount",number:0})},Iscurr:!0,value:O.PPMSBGenCostAmount})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{"data-testid":O.PPMSBGeneralCostCode,json:ht,SPName:"PPMSBGenCostDetails",FieldName:"PPMSBGeneralCostCode",tfLabel:ye("PPMSBGeneralCostCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{z.ConfirmAlert(r().createElement(oe(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>he(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Pe("Yes"),cancelBtnText:Pe("No"),showCancel:!0},Pe("Do you want to update this record?")))})(t),onClick:()=>{$&&Me(1,"","ClearAll"),J(!0)},frmctrlid:"fld498_23374",frmctrlidName:"PPMSBGeneralCostCode",fieldorder:"2",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,onChange:(e,t)=>{$&&Me(e,t,"PPMSBGeneralCostCode"),Ee(t,"PPMSBGeneralCostCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||J(!0)},showList:$,SideEntryView:!1,KeyBack:e=>{},value:O.PPMSBGeneralCostCode,loading:A,clear:e=>{e&&(x({type:"text",name:"PPMSBGeneralCostCode",value:""}),J(!0))}})),r().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(se.Z,{json:ht,id:O.PPMSBCreationWorkOrderID,"data-testid":O.PPMSBCreationWorkOrderID,value:O.SBCreWorkOrder,SPName:"PPMSBGenCostDetails",FieldName:"PPMSBCreationWorkOrderID",tfLabel:ye("PPMSBCreationWorkOrderID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Ee(e,"PPMSBCreationWorkOrderID","select"),onChange:(t,a)=>{((t,a,l,r,n,i)=>{const o=u.v.Api+"FP498S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:e.parentId?Number(e.parentId):0,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:t,p16:10,p17:l,p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});W(!0);(0,p.Z)(o,d,_.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;undefined,R(1==t?e>0?l:[]:L.concat(l)),W(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),W(!1)}))})(t,0,"PPMSBCreationWorkOrderIDPK")},KeyBack:e=>{O.PPMSBCreationWorkOrderID},fieldorder:"2",data:L,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:L.length>0?L[0].TotalCount:0,openSlide:()=>{CreateEasy("494",_,q,z,Y)},Tabledialog:()=>(AdvanceSearch("494","PPMSBCreationWorkOrderID",kt,Nt(),Ee,t),!1),loading:A,clear:e=>{e&&O.PPMSBCreationWorkOrderID}})))),r().createElement("div",{id:"PPMSBGenCostDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("PPMSBGenCostDetailsSideBar").style.width="0",void v(!1))},"×"),T&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},b))))))))})),vt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[i,s]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,c]=(0,l.useState)(!0),[P,C]=(0,l.useState)(e.showDetail),[B,D]=(0,l.useState)(""),[I,M]=r().useState(!1),[f,T]=r().useState(""),[v,k]=r().useState(!1),N=(0,l.useContext)(kt),{cstate:b,cdispatch:w}=Nt(),[O,F]=(0,l.useState)(!1),[x,A]=(0,l.useState)(""),[W,L]=(0,l.useState)(""),[R,K]=(0,l.useState)("");let Z=(0,y.Z)();(0,l.useEffect)((()=>{b.editData.length>0&&(s(b.editData),M(!1),w({type:"PrimaryId",payload:b.editData[0].PPMSBGeneralCostDetIDPK}))}),[b.editData]),(0,l.useEffect)((()=>{b.showTableview&&K(b.showTableview)}),[b.showTableview]),(0,l.useEffect)((()=>{c(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{c(e),M(null)},viewtoggle:()=>{M(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP498S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:1,p16:10,p17:b.IsDraft?"DraftPPMSBGeneralCostDetID":"PPMSBGeneralCostDetID",p18:null,p19:null,p20:localStorage.getItem("UserGroupID"),p21:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,p.Z)(l,r,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&s(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const z=e=>Z?.[e]?Z?.[e]:e,_=e=>b.language?.[e]?b.language[e]:e;function q(e,t){}const V=(e,t)=>(a,l)=>{T(v?Object.assign(...i.filter((e=>e.PPMSBGeneralCostDetIDPK==t)).map((e=>e))):b.editData),M(!l&&e)};return r().createElement("div",null,r().createElement(E.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&c(!m)}},!I&&r().createElement(G.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},b.IsDraft?z("Draft"):"",_("PPMSBGenCostDetails"),e.viewonly?" ":"("+b.count+")")):"",m?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?r().createElement(o.Z,{name:z("Add"),frmctrlid:"fld498L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),w({type:"editData",payload:[]}),w({type:"ShowDetail",payload:!1}),w({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?r().createElement(d.Z,{frmctrlid:"fld498L1VCEditBtn",onClick:V("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&r().createElement(d.Z,{frmctrlid:"fld498L1VCEditBtnIsAdd",onClick:()=>{V("panel","")},disabled:!1}),!e.viewonly&&r().createElement(g.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld498L1VCCloseBtn",onClick:()=>{c(!1),N.hideAddBtn(!1),v&&(w({type:"editData",payload:[]}),s([]))}})):"")),r().createElement(h.Z,{style:{display:"block"}},i.map(((t,l)=>r().createElement("div",{key:l},I==="panel"+l?r().createElement(Tt,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(ge.Z,{tableName:"PPMSBGenCostDetails",tableID:498,parentID:t.PPMSBGeneralCostDetIDPK,fldid:"fld498L1VCContainer",OpenSlideComponent:q,index:l,refresh:R,val:t,tf:_,t:z,title:"10.0.0.59-3:08:17 PM-18-7[498]"}))))))))})),kt=(0,l.createContext)(),Nt=()=>{const e=(0,l.useContext)(kt);if(void 0===e)throw new Error("useCont must be used within  PPMSBGenCostDetailsContext Provider");return e},bt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),i=(0,l.useRef)(),o=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[m,c]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),P=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[C,y]=(0,l.useState)(0),[B,D]=(0,l.useReducer)(he.D,he.E),[g,I]=(0,l.useState)(""),[M,E]=(0,l.useState)([]),[h,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divPPMSBGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainTable").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBGenCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divPPMSBGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainTable").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBGenCostDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(D({type:"editData",payload:[e.editData]}),D({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{D(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const T=e=>{E([]),document.getElementById("divPPMSBGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSBGenCostDetailsEntryTable").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainEntry").style.display="block",document.getElementById("PPMSBGenCostDetails-MainDiv").classList.add("displayFlex"),document.getElementById("PPMSBGenCostDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttPPMSBGenCostDetails").style.width="0%",document.getElementById("overlayimgAttPPMSBGenCostDetails").style.display="none"};(0,l.useEffect)((()=>{P((e=>{(0,S.Z)(1).then((e=>{var t=new Array;t.push(e),D({type:"token",payload:t}),y(t.length),v(e)}))}))}),[]);const v=t=>{D({type:"AccessRights",payload:e.AccessRights}),f(e.AccessRights?.isNestSendtoApproval)};return r().createElement("div",{style:{width:"100%"}},r().createElement(kt.Provider,{value:{cstate:B,cdispatch:D,ContextApi:Nt,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==C&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,M),E([])},EditClose:e=>T(),AttachExpand:e=>(d.current.AttachmentData(B.PrimaryId),void(m&&(document.getElementById("overlayPreviewPPMSBGenCostDetails").style.width="50%",document.getElementById("divPPMSBGenCostDetails-Entry").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainTable").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainEntry").style.width="100%",document.getElementById("PPMSBGenCostDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("PPMSBGenCostDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttPPMSBGenCostDetails").style.display="block",document.getElementById("overlayimgAttPPMSBGenCostDetails").style.width="25%"))),Expanded:e=>{B.ShowDetail&&o.current.tableClick(e),D({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{B.ShowDetail&&o.current.viewtoggle()},clear:e=>{D({type:"ShowDetail",payload:!1}),D({type:"editData",payload:[]}),B.ShowDetail?o.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{B.ShowDetail?o.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"PPMSBGenCostDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"PPMSBGenCostDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"PPMSBGenCostDetailsEntryTable",style:{width:"100%"}},B.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBGenCostDetails-Entry",style:{width:"100%"}},0!==C?r().createElement(vt,{ref:o,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Ee.Z,{ref:s,menurefID:498,fileId:"LogoImgPPMSBGenCostDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBGenCostDetails",frmctrlid:"PvwIm_498_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divPPMSBGenCostDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Tt,{ref:i,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Ee.Z,{ref:s,menurefID:498,fileId:"LogoImgPPMSBGenCostDetails",imgloading:t=>{t||B.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:B.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewPPMSBGenCostDetails",frmctrlid:"PvwIm_498_L1_",tempImg:e=>{B.PrimaryId?d.current.AttachmentData(B.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:B.Add})),r().createElement("div",{id:"PPMSBGenCostDetails-MainTable"},0!==C?r().createElement(Et,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Me.Z,{ImgAttachment:e=>T(),menurefID:498,fileId:"AttImgPPMSBGenCostDetails",imgid:"overlayimgAttPPMSBGenCostDetails",valueIDPK:B.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewPPMSBGenCostDetails",ref:d,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_498_L1_",timglist:e=>{s.current.timglist(e),E(e)},clearTempData:B.Add}))),r().createElement("div",{id:"PPMSBGenCostDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),h&&r().createElement(Te(),{openDialog:h,closeDialog:e=>f(e),formID:498,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var wt=a(47135),Ot=a(57658),Ft=a(52743);const xt=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const a=(0,n.useDispatch)(),o=(0,l.useRef)(),[d,D]=(0,l.useState)([]),[g,I]=(0,l.useState)(!1),[E,h]=(0,l.useState)(!0),[f,T]=(0,l.useState)(e.showDetail),[v,k]=(0,l.useState)(!1),N=(0,l.useContext)(c.PPMSBCreationWorkOrderContext),{cstate:w,cdispatch:O}=(0,c.ContextApi)(),[F,x]=(0,l.useState)(!1),[A,W]=(0,l.useState)(!1),[L,R]=(0,l.useState)(!1),[K,Z]=(0,l.useState)(0),[G,z]=(0,l.useState)(""),[_,q]=(0,l.useState)(""),[V,H]=(0,l.useState)(null),[U,j]=(0,l.useState)(""),[Y,X]=(0,l.useState)([]),[Q,$]=(0,l.useState)({IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!1,IsPrint:!0,IsExport:!0});let J=(0,y.Z)();async function ee(t,a,l){G&&z(t),N.loading(!0);let r=u.v.Api+"FPN494S3/",n={data:{p1:t||w.PrimaryId,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:e.Dialogview?"1":null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:null,p82:null,p83:null,p84:null,p85:null,p86:null,p87:null,p88:null,p89:null,p90:null,p91:null,p92:null,p93:null,p94:null,p95:null,p96:null,p97:null,p98:null,p99:null,p100:null,p101:null,p102:null,p103:null,p104:null,p105:null,p106:null,p107:null,p108:null,p109:null,p110:null,p111:null,p112:1,p113:10,p114:l,p115:null,p116:null,p117:localStorage.getItem("UserGroupID"),p118:localStorage.getItem("userid")}};var i={};0==w.token.length&&await(0,S.Z)(0).then((e=>{i=e})),await(0,p.Z)(r,n,0==w.token.length?i:w.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=e.Output.data[0][494][0];D(t),Z(e.Output.data[0][494][0].ViewCancelCheck);let a=e.Output.data[0];delete a[494];const l=Object.values(a).flat().sort(((e,t)=>e.orderno-t.orderno));X(l),N.loading(!1)}else N.loading(!1),N.alert({open:!0,color:"warning",message:["No record found"]})}))}(0,l.useEffect)((()=>{e.l4viewonly?D(e.data):e.viewonly?ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID"):(D(w.PrimaryData),a({type:"PPMSBCreationWorkOrder494",PPMSBCreationWorkOrderPPMSBCreationWorkOrderID:w.PrimaryData.PPMSBCreationWorkOrderIDPK}))}),[e.data]),(0,l.useEffect)((()=>w.PrimaryData.length>0||w.PrimaryId?(ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID"),!1):void 0),[w.PrimaryData,w.PrimaryId]),(0,l.useEffect)((()=>{h(e.ExpandDetailValue)}),[e.ExpandDetailValue]),(0,l.useEffect)((()=>{e.inboxdata&&Object.keys(e.inboxdata).length>0&&(h(!0),ee(e.inboxdata.id,e.inboxdata.token,"PPMSBCreationWorkOrderID"),W(!0))}),[e.inboxdata]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{h(!0),I(!1)},inboxprops:e=>{h(!0),ee(e.id,e.token,"PPMSBCreationWorkOrderID"),O({type:"PrimaryId",payload:e.id}),W(!0)}})));const te=()=>{R(!0)};return r().createElement("div",null,r().createElement(s.Z,null,r().createElement(m.Z,{xs:U?3:12,md:U?3:12,lg:U?3:12},r().createElement("div",{className:"gridcardl41A",id:"PPMSBCreationWorkOrderDiv"},r().createElement(s.Z,null,r().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},r().createElement(s.Z,{style:{marginBottom:"1%"}},r().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"ViewHeadingTitle2"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement("div",{id:"fld494L4VCMdOutlineArrowBackIosNew"},r().createElement(B.aQX,{className:"BackBtnIcon",onClick:()=>{N.ShowTableDiv(!1),N.add()}}),"Primary Details")),r().createElement("div",{className:"iconstyle displayFlex"},A&&r().createElement(P.Z,{className:"ApprBtnCommon",name:"Approve",disabled:!1,onClick:()=>{te()}}),A&&r().createElement(P.Z,{className:"RejBtnCommon",name:"Reject",disabled:!1,onClick:()=>{te()}}),r().createElement("div",{id:"fld494L4VCRefreshIcon",onClick:()=>{ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}},r().createElement(i.ZP,{title:"Refresh"},r().createElement("span",null," ",r().createElement(C.Z,null)," "))),w.PrimaryId?r().createElement(M(),{id:494,cstate:w,cdispatch:O,context:N,parentId:w.PrimaryId,parentData:{},Approval:e=>N.Approval(e),sentToAppr:"1"==w.AccessRights.IsApproval,model:"IsView"}):null,U&&r().createElement("div",{id:"fld494L4VCFullscreen",onClick:()=>U&&j("")},r().createElement(i.ZP,{title:"Expand"},r().createElement("span",null,r().createElement(b.$4j,{style:{width:"18px",height:"18px",marginTop:"3px"}})))))))),r().createElement(Ft.Z,{tableName:"PPMSBCreationWorkOrder",tableID:494,parentID:w.PrimaryId,fldid:"fld494L4VCContainer",OpenSlideComponent:function(e,t){},index:0,val:d,tf:e=>w.language?.[e]?w.language[e]:e,t:e=>J?.[e]?J[e]:e,cardName:U,SubCardData:Y,SubformsLink:function(e){j(e.name),$((t=>({...t,IsAdd:e.isNestAdd,IsEdit:e.isNestEdit})))},alertmsg:e=>N.alert(e),title:"10.0.0.46-6:37:15 PM-31-5[494]"}))))),U&&r().createElement(m.Z,{sm:9,md:9,xs:9,className:"lstscroll",style:{height:"auto"}},"PPMSBEmployeeDetails"==U&&r().createElement(Ne,{AccessRights:Q,loading:e=>N.loading(e),parentData:d,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}),"PPMSBCreationWorkOrderMatDetails"==U&&r().createElement(et,{AccessRights:Q,loading:e=>N.loading(e),parentData:d,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}),"PPMSBCreationWorkOrderDetails"==U&&r().createElement(mt,{AccessRights:Q,loading:e=>N.loading(e),parentData:d,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}),"PPMSBCostDetails"==U&&r().createElement(gt,{AccessRights:Q,loading:e=>N.loading(e),parentData:d,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}),"PPMSBGenCostDetails"==U&&r().createElement(bt,{AccessRights:Q,loading:e=>N.loading(e),parentData:d,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}),"PPMSSVendorInvoiceDetails"==U&&r().createElement(wt.ZP,{AccessRights:Q,loading:e=>N.loading(e),parentData:d,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}),"PPMSBTechAddOn"==U&&r().createElement(Ot.ZP,{AccessRights:Q,loading:e=>N.loading(e),parentData:d,alertmsg:e=>N.alert(e),ConfirmAlert:e=>{N.ConfirmAlert(e)},ref:o,PrimaryView:!1,parentId:w.PrimaryId,SlideComponentType:(e,t)=>N.SlideComponentType(e,t),openNav:e=>N.openNav(e),openDialog:e=>N.openDialog(e),DialogComponentType:e=>N.DialogComponentType(e),cardRefresh:()=>ee(w.PrimaryId,0,"PPMSBCreationWorkOrderID")}))))}))},21771:(e,t,a)=>{a.d(t,{A:()=>l});const l={EnterKeyValues:{PPMSBCreationWorkOrder:["SBApprovalKey","SBTechKeys","SBTechStartDateTime","SBTechEndDateTime","SBTechName","SBCreWorkOrder","SBCreWoDateTime","SBCreSLAHours","ContractName","LocalityName","BuildingName","FloorName","SpotName","ServiceTypeName","DivisionName","DisciplineName","FrequencyName","PPMStageName","PPMSBCreationWorkOrderCode","SBCreMRNo","SBCreGeneratedTtm","SBCreActualDate","SBCreWoCompletedDate","SBCreMaintenanceHours","IsSBCreWithDraw","SBCreWithDrawRemarks","SBCreWithDrawEmpKey","IsSbCreReschedule","SBCreRescheduleRemarks","SBCreReschduleEmpKey","IsSBCreRework","SBCreReworkRemarks","SBCreReworkEmpKey","SBCrePPMLattitude","SBCrePPMLongitude","IsSBCreTechManual","IsSBCreSupManual","IsSBCreMaterial","SBCreXCreationAssetKey","SBCreXWorkOrder","SBCreXWoDate","SBCreChargeLedgerKey","SBCreCostLedgerKey","SBMaterialRequestkey","HierarchyDetailsKeys","FlowDisplayName","FixonBusinessFlowName"]},Label:{PPMSBCreationWorkOrder:{SBApprovalKey:["PPMSBCreationWorkOrderCode"],SBTechKeys:["PPMSBCreationWorkOrderCode"],SBTechStartDateTime:["PPMSBCreationWorkOrderCode"],SBTechEndDateTime:["PPMSBCreationWorkOrderCode"],SBTechName:["PPMSBCreationWorkOrderCode"],SBCreWorkOrder:["PPMSBCreationWorkOrderCode"],SBCreWoDateTime:["PPMSBCreationWorkOrderCode"],SBCreSLAHours:["PPMSBCreationWorkOrderCode"],ContractID:["PPMSBCreationWorkOrderCode"],LocalityID:["PPMSBCreationWorkOrderCode"],BuildingID:["PPMSBCreationWorkOrderCode"],FloorID:["PPMSBCreationWorkOrderCode"],SpotID:["PPMSBCreationWorkOrderCode"],ServiceTypeID:["PPMSBCreationWorkOrderCode"],DivisionID:["PPMSBCreationWorkOrderCode"],DisciplineID:["PPMSBCreationWorkOrderCode"],FrequencyID:["PPMSBCreationWorkOrderCode"],PPMStageID:["PPMSBCreationWorkOrderCode"],PPMSBCreationWorkOrderCode:["PPMSBCreationWorkOrderCode"],SBCreMRNo:["PPMSBCreationWorkOrderCode"],SBCreGeneratedTtm:["PPMSBCreationWorkOrderCode"],SBCreActualDate:["PPMSBCreationWorkOrderCode"],SBCreWoCompletedDate:["PPMSBCreationWorkOrderCode"],SBCreMaintenanceHours:["PPMSBCreationWorkOrderCode"],IsSBCreWithDraw:["PPMSBCreationWorkOrderCode"],SBCreWithDrawRemarks:["PPMSBCreationWorkOrderCode"],SBCreWithDrawEmpKey:["PPMSBCreationWorkOrderCode"],IsSbCreReschedule:["PPMSBCreationWorkOrderCode"],SBCreRescheduleRemarks:["PPMSBCreationWorkOrderCode"],SBCreReschduleEmpKey:["PPMSBCreationWorkOrderCode"],IsSBCreRework:["PPMSBCreationWorkOrderCode"],SBCreReworkRemarks:["PPMSBCreationWorkOrderCode"],SBCreReworkEmpKey:["PPMSBCreationWorkOrderCode"],SBCrePPMLattitude:["PPMSBCreationWorkOrderCode"],SBCrePPMLongitude:["PPMSBCreationWorkOrderCode"],IsSBCreTechManual:["PPMSBCreationWorkOrderCode"],IsSBCreSupManual:["PPMSBCreationWorkOrderCode"],IsSBCreMaterial:["PPMSBCreationWorkOrderCode"],SBCreXCreationAssetKey:["PPMSBCreationWorkOrderCode"],SBCreXWorkOrder:["PPMSBCreationWorkOrderCode"],SBCreXWoDate:["PPMSBCreationWorkOrderCode"],SBCreChargeLedgerKey:["PPMSBCreationWorkOrderCode"],SBCreCostLedgerKey:["PPMSBCreationWorkOrderCode"],SBMaterialRequestkey:["PPMSBCreationWorkOrderCode"],HierarchyDetailsKeys:["PPMSBCreationWorkOrderCode"],PPMBusinessFlowID:["PPMSBCreationWorkOrderCode"],PPMFixonBusinessFlowID:["PPMSBCreationWorkOrderCode"]}},LabelHeader:{PPMSBCreationWorkOrder:{SBApprovalKey:["PPMSBCreationWorkOrderCode"],SBTechKeys:["PPMSBCreationWorkOrderCode"],SBTechStartDateTime:["PPMSBCreationWorkOrderCode"],SBTechEndDateTime:["PPMSBCreationWorkOrderCode"],SBTechName:["PPMSBCreationWorkOrderCode"],SBCreWorkOrder:["PPMSBCreationWorkOrderCode"],SBCreWoDateTime:["PPMSBCreationWorkOrderCode"],SBCreSLAHours:["PPMSBCreationWorkOrderCode"],ContractID:["PPMSBCreationWorkOrderCode"],LocalityID:["PPMSBCreationWorkOrderCode"],BuildingID:["PPMSBCreationWorkOrderCode"],FloorID:["PPMSBCreationWorkOrderCode"],SpotID:["PPMSBCreationWorkOrderCode"],ServiceTypeID:["PPMSBCreationWorkOrderCode"],DivisionID:["PPMSBCreationWorkOrderCode"],DisciplineID:["PPMSBCreationWorkOrderCode"],FrequencyID:["PPMSBCreationWorkOrderCode"],PPMStageID:["PPMSBCreationWorkOrderCode"],PPMSBCreationWorkOrderCode:["PPMSBCreationWorkOrderCode"],SBCreMRNo:["PPMSBCreationWorkOrderCode"],SBCreGeneratedTtm:["PPMSBCreationWorkOrderCode"],SBCreActualDate:["PPMSBCreationWorkOrderCode"],SBCreWoCompletedDate:["PPMSBCreationWorkOrderCode"],SBCreMaintenanceHours:["PPMSBCreationWorkOrderCode"],IsSBCreWithDraw:["PPMSBCreationWorkOrderCode"],SBCreWithDrawRemarks:["PPMSBCreationWorkOrderCode"],SBCreWithDrawEmpKey:["PPMSBCreationWorkOrderCode"],IsSbCreReschedule:["PPMSBCreationWorkOrderCode"],SBCreRescheduleRemarks:["PPMSBCreationWorkOrderCode"],SBCreReschduleEmpKey:["PPMSBCreationWorkOrderCode"],IsSBCreRework:["PPMSBCreationWorkOrderCode"],SBCreReworkRemarks:["PPMSBCreationWorkOrderCode"],SBCreReworkEmpKey:["PPMSBCreationWorkOrderCode"],SBCrePPMLattitude:["PPMSBCreationWorkOrderCode"],SBCrePPMLongitude:["PPMSBCreationWorkOrderCode"],IsSBCreTechManual:["PPMSBCreationWorkOrderCode"],IsSBCreSupManual:["PPMSBCreationWorkOrderCode"],IsSBCreMaterial:["PPMSBCreationWorkOrderCode"],SBCreXCreationAssetKey:["PPMSBCreationWorkOrderCode"],SBCreXWorkOrder:["PPMSBCreationWorkOrderCode"],SBCreXWoDate:["PPMSBCreationWorkOrderCode"],SBCreChargeLedgerKey:["PPMSBCreationWorkOrderCode"],SBCreCostLedgerKey:["PPMSBCreationWorkOrderCode"],SBMaterialRequestkey:["PPMSBCreationWorkOrderCode"],HierarchyDetailsKeys:["PPMSBCreationWorkOrderCode"],PPMBusinessFlowID:["PPMSBCreationWorkOrderCode"],PPMFixonBusinessFlowID:["PPMSBCreationWorkOrderCode"]}},Property:{PPMSBCreationWorkOrder:{SBApprovalKey:{id:"fld494_37372",labelID:"SBApprovalKey",maxLength:"",labelname:"",frmctrlid:"fld494_37372",frmctrlidname:"SBApprovalKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBTechKeys:{id:"fld494_37373",labelID:"SBTechKeys",maxLength:"",labelname:"",frmctrlid:"fld494_37373",frmctrlidname:"SBTechKeys",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBTechStartDateTime:{id:"fld494_37374",labelID:"SBTechStartDateTime",maxLength:"",labelname:"Tech Start Time",frmctrlid:"fld494_37374",frmctrlidname:"SBTechStartDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBTechEndDateTime:{id:"fld494_37375",labelID:"SBTechEndDateTime",maxLength:"",labelname:"Tech End Time",frmctrlid:"fld494_37375",frmctrlidname:"SBTechEndDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBTechName:{id:"fld494_37376",labelID:"SBTechName",maxLength:"100",labelname:"Tech Name",frmctrlid:"fld494_37376",frmctrlidname:"SBTechName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreWorkOrder:{id:"fld494_21914",labelID:"SBCreWorkOrder",maxLength:"20",labelname:"W.O.No.",frmctrlid:"fld494_21914",frmctrlidname:"SBCreWorkOrder",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreWoDateTime:{id:"fld494_21915",labelID:"SBCreWoDateTime",maxLength:"20",labelname:"W.O. Date",frmctrlid:"fld494_21915",frmctrlidname:"SBCreWoDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreSLAHours:{id:"fld494_21920",labelID:"SBCreSLAHours",maxLength:"20",labelname:"SLA Duration",frmctrlid:"fld494_21920",frmctrlidname:"SBCreSLAHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractID:{id:"fld494_21944",clearID:"PPMSBCreationWorkOrderContractNameClear",type:"select",labelID:"ContractIDPK",labelname:"Contract",fielddisplayname:"ContractName",fieldOrder:"4",frmctrlid:"fld494_21944",frmctrlidname:"ContractID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},LocalityID:{id:"fld494_21945",clearID:"PPMSBCreationWorkOrderLocalityNameClear",type:"select",labelID:"LocalityIDPK",labelname:"Location ",fielddisplayname:"LocalityName",fieldOrder:"5",frmctrlid:"fld494_21945",frmctrlidname:"LocalityID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},BuildingID:{id:"fld494_21946",clearID:"PPMSBCreationWorkOrderBuildingNameClear",type:"select",labelID:"BuildingIDPK",labelname:"Building",fielddisplayname:"BuildingName",fieldOrder:"6",frmctrlid:"fld494_21946",frmctrlidname:"BuildingID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},FloorID:{id:"fld494_21947",clearID:"PPMSBCreationWorkOrderFloorNameClear",type:"select",labelID:"FloorIDPK",labelname:"Floor",fielddisplayname:"FloorName",fieldOrder:"1",frmctrlid:"fld494_21947",frmctrlidname:"FloorID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},SpotID:{id:"fld494_21948",clearID:"PPMSBCreationWorkOrderSpotNameClear",type:"select",labelID:"SpotIDPK",labelname:"Spot",fielddisplayname:"SpotName",fieldOrder:"2",frmctrlid:"fld494_21948",frmctrlidname:"SpotID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},ServiceTypeID:{id:"fld494_23641",clearID:"PPMSBCreationWorkOrderServiceTypeNameClear",type:"select",labelID:"ServiceTypeIDPK",labelname:"Service Type",fielddisplayname:"ServiceTypeName",fieldOrder:"2",frmctrlid:"fld494_23641",frmctrlidname:"ServiceTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},DivisionID:{id:"fld494_21949",clearID:"PPMSBCreationWorkOrderDivisionNameClear",type:"select",labelID:"DivisionIDPK",labelname:"Division",fielddisplayname:"DivisionName",fieldOrder:"3",frmctrlid:"fld494_21949",frmctrlidname:"DivisionID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},DisciplineID:{id:"fld494_21950",clearID:"PPMSBCreationWorkOrderDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",fieldOrder:"4",frmctrlid:"fld494_21950",frmctrlidname:"DisciplineID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},FrequencyID:{id:"fld494_21951",clearID:"PPMSBCreationWorkOrderFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",fieldOrder:"5",frmctrlid:"fld494_21951",frmctrlidname:"FrequencyID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMStageID:{id:"fld494_21955",clearID:"PPMSBCreationWorkOrderPPMStageNameClear",type:"select",labelID:"PPMStageIDPK",labelname:"Stage",fielddisplayname:"PPMStageName",fieldOrder:"6",frmctrlid:"fld494_21955",frmctrlidname:"PPMStageID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},PPMSBCreationWorkOrderCode:{id:"fld494_21912",labelID:"PPMSBCreationWorkOrderCode",maxLength:"50",labelname:"PPMSBCreationWorkOrderCode",frmctrlid:"fld494_21912",frmctrlidname:"PPMSBCreationWorkOrderCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreMRNo:{id:"fld494_21913",labelID:"SBCreMRNo",maxLength:"",labelname:"SBCreMRNo",frmctrlid:"fld494_21913",frmctrlidname:"SBCreMRNo",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreGeneratedTtm:{id:"fld494_21916",labelID:"SBCreGeneratedTtm",maxLength:"",labelname:"SBCreGeneratedTtm",frmctrlid:"fld494_21916",frmctrlidname:"SBCreGeneratedTtm",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreActualDate:{id:"fld494_21917",labelID:"SBCreActualDate",maxLength:"",labelname:"SBCreActualDate",frmctrlid:"fld494_21917",frmctrlidname:"SBCreActualDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreWoCompletedDate:{id:"fld494_21918",labelID:"SBCreWoCompletedDate",maxLength:"",labelname:"SBCreWoCompletedDate",frmctrlid:"fld494_21918",frmctrlidname:"SBCreWoCompletedDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreMaintenanceHours:{id:"fld494_21921",labelID:"SBCreMaintenanceHours",maxLength:"",labelname:"Maintenance Hours",frmctrlid:"fld494_21921",frmctrlidname:"SBCreMaintenanceHours",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBCreWithDraw:{id:"fld494_21922",labelID:"IsSBCreWithDraw",maxLength:"",labelname:"IsSBCreWithDraw",frmctrlid:"fld494_21922",frmctrlidname:"IsSBCreWithDraw",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreWithDrawRemarks:{id:"fld494_21923",labelID:"SBCreWithDrawRemarks",maxLength:"-1",labelname:"WithDraw Remarks",frmctrlid:"fld494_21923",frmctrlidname:"SBCreWithDrawRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreWithDrawEmpKey:{id:"fld494_21924",labelID:"SBCreWithDrawEmpKey",maxLength:"",labelname:"SBCreWithDrawEmpKey",frmctrlid:"fld494_21924",frmctrlidname:"SBCreWithDrawEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSbCreReschedule:{id:"fld494_21925",labelID:"IsSbCreReschedule",maxLength:"",labelname:"IsSbCreReschedule",frmctrlid:"fld494_21925",frmctrlidname:"IsSbCreReschedule",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreRescheduleRemarks:{id:"fld494_21926",labelID:"SBCreRescheduleRemarks",maxLength:"-1",labelname:"Reschedule Remarks",frmctrlid:"fld494_21926",frmctrlidname:"SBCreRescheduleRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreReschduleEmpKey:{id:"fld494_21927",labelID:"SBCreReschduleEmpKey",maxLength:"10",labelname:"SBCreReschduleEmpKey",frmctrlid:"fld494_21927",frmctrlidname:"SBCreReschduleEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBCreRework:{id:"fld494_21928",labelID:"IsSBCreRework",maxLength:"",labelname:"IsSBCreRework",frmctrlid:"fld494_21928",frmctrlidname:"IsSBCreRework",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreReworkRemarks:{id:"fld494_21929",labelID:"SBCreReworkRemarks",maxLength:"-1",labelname:"Rework Remarks",frmctrlid:"fld494_21929",frmctrlidname:"SBCreReworkRemarks",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreReworkEmpKey:{id:"fld494_21930",labelID:"SBCreReworkEmpKey",maxLength:"",labelname:"SBCreReworkEmpKey",frmctrlid:"fld494_21930",frmctrlidname:"SBCreReworkEmpKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCrePPMLattitude:{id:"fld494_21931",labelID:"SBCrePPMLattitude",maxLength:"-1",labelname:"SBCrePPMLattitude",frmctrlid:"fld494_21931",frmctrlidname:"SBCrePPMLattitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCrePPMLongitude:{id:"fld494_21932",labelID:"SBCrePPMLongitude",maxLength:"-1",labelname:"SBCrePPMLongitude",frmctrlid:"fld494_21932",frmctrlidname:"SBCrePPMLongitude",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBCreTechManual:{id:"fld494_21933",labelID:"IsSBCreTechManual",maxLength:"",labelname:"IsSBCreTechManual",frmctrlid:"fld494_21933",frmctrlidname:"IsSBCreTechManual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBCreSupManual:{id:"fld494_21934",labelID:"IsSBCreSupManual",maxLength:"",labelname:"IsSBCreSupManual",frmctrlid:"fld494_21934",frmctrlidname:"IsSBCreSupManual",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsSBCreMaterial:{id:"fld494_21935",labelID:"IsSBCreMaterial",maxLength:"",labelname:"IsSBCreMaterial",frmctrlid:"fld494_21935",frmctrlidname:"IsSBCreMaterial",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreXCreationAssetKey:{id:"fld494_21936",labelID:"SBCreXCreationAssetKey",maxLength:"",labelname:"SBCreXCreationAssetKey",frmctrlid:"fld494_21936",frmctrlidname:"SBCreXCreationAssetKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreXWorkOrder:{id:"fld494_21937",labelID:"SBCreXWorkOrder",maxLength:"-1",labelname:"SBCreXWorkOrder",frmctrlid:"fld494_21937",frmctrlidname:"SBCreXWorkOrder",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreXWoDate:{id:"fld494_21938",labelID:"SBCreXWoDate",maxLength:"",labelname:"SBCreXWoDate",frmctrlid:"fld494_21938",frmctrlidname:"SBCreXWoDate",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreChargeLedgerKey:{id:"fld494_21939",labelID:"SBCreChargeLedgerKey",maxLength:"",labelname:"SBCreChargeLedgerKey",frmctrlid:"fld494_21939",frmctrlidname:"SBCreChargeLedgerKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBCreCostLedgerKey:{id:"fld494_21940",labelID:"SBCreCostLedgerKey",maxLength:"",labelname:"SBCreCostLedgerKey",frmctrlid:"fld494_21940",frmctrlidname:"SBCreCostLedgerKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SBMaterialRequestkey:{id:"fld494_21941",labelID:"SBMaterialRequestkey",maxLength:"",labelname:"SBMaterialRequestkey",frmctrlid:"fld494_21941",frmctrlidname:"SBMaterialRequestkey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},HierarchyDetailsKeys:{id:"fld494_21952",labelID:"HierarchyDetailsKeys",maxLength:"",labelname:"HierarchyDetailsID",frmctrlid:"fld494_21952",frmctrlidname:"HierarchyDetailsKeys",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PPMBusinessFlowID:{id:"fld494_21953",clearID:"PPMSBCreationWorkOrderFlowDisplayNameClear",type:"select",labelID:"PPMBusinessFlowIDPK",labelname:"PPMBusinessFlowID",fielddisplayname:"FlowDisplayName",fieldOrder:"6",frmctrlid:"fld494_21953",frmctrlidname:"PPMBusinessFlowID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},PPMFixonBusinessFlowID:{id:"fld494_21954",clearID:"PPMSBCreationWorkOrderFixonBusinessFlowNameClear",type:"select",labelID:"PPMFixonBusinessFlowIDPK",labelname:"PPMFixonBusinessFlowID",fielddisplayname:"FixonBusinessFlowName",fieldOrder:"6",frmctrlid:"fld494_21954",frmctrlidname:"PPMFixonBusinessFlowID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{PPMSBCreationWorkOrder:{ContractID:["ContractCode","ContractName","CustomerName","ContractCategName","ContractTypeName"],LocalityID:["LocalityCode","LocalityName","CityName","LocalityGroupName"],BuildingID:["BuildingCode","BuildingName","BuildingNo","LocalityName","AssBuildingTypeName"],FloorID:["FloorCode","FloorName","BuildingName","LocalityName"],SpotID:["SpotCode","SpotName","LocalityName","BuildingName","FloorName","AssWingName"],ServiceTypeID:["ServiceTypCode","ServiceTypeName"],DivisionID:["DivisionCode","DivisionName"],DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"],PPMStageID:["PPMStageName","StageSeqNo","IsActive","CreatedTtm","UpdatedTtm"],PPMBusinessFlowID:["FlowCode","FlowDisplayName","BriefDetails"],PPMFixonBusinessFlowID:["PPMFixonBusinessFlowCode","FixonBusinessFlowName","IsActive","IsDraft","CreatedTtm"]}}}}}]);