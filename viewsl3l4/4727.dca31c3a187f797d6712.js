/*! For license information please see 4727.dca31c3a187f797d6712.js.LICENSE.txt */
(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[4727,4660,7164,2325,3129,6939,7442,6408,7587,3795,7805,9861,4821],{45332:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var l=a(22122),i=a(81253),n=a(85061),c=a(92950),s=a(86010),r=a(79437),o=a(52543),m=a(83711),d=function(e,t){var a,l,i,c;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,n.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,n.Z)(t.imgFullHeight.split(" ")))):((i=e.classList).remove.apply(i,(0,n.Z)(t.imgFullHeight.split(" "))),(c=e.classList).add.apply(c,(0,n.Z)(t.imgFullWidth.split(" ")))))},p=c.forwardRef((function(e,t){var a=e.children,n=e.classes,o=e.className,p=(e.cols,e.component),u=void 0===p?"li":p,D=(e.rows,(0,i.Z)(e,["children","classes","className","cols","component","rows"])),C=c.useRef(null);return c.useEffect((function(){!function(e,t){e&&(e.complete?d(e,t):e.addEventListener("load",(function(){d(e,t)})))}(C.current,n)})),c.useEffect((function(){var e=(0,r.Z)((function(){d(C.current,n)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[n]),c.createElement(u,(0,l.Z)({className:(0,s.default)(n.root,o),ref:t},D),c.createElement("div",{className:n.tile},c.Children.map(a,(function(e){return c.isValidElement(e)?"img"===e.type||(0,m.Z)(e,["Image"])?c.cloneElement(e,{ref:C}):e:null}))))}));const u=(0,o.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(p)},69685:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var l=a(22122),i=a(81253),n=a(92950),c=(a(59864),a(86010)),s=a(52543),r=n.forwardRef((function(e,t){var a=e.cellHeight,s=e.children,r=e.classes,o=e.className,m=e.cols,d=void 0===m?2:m,p=e.component,u=void 0===p?"ul":p,D=e.gap,C=void 0===D?4:D,g=e.rowHeight,h=void 0===g?180:g,S=e.spacing,y=e.style,I=(0,i.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),E=S||C,f=a||h;return n.createElement(u,(0,l.Z)({className:(0,c.default)(r.root,o),ref:t,style:(0,l.Z)({margin:-E/2},y)},I),n.Children.map(s,(function(e){if(!n.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return n.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/d*t,"%"),height:"auto"===f?"auto":f*a+E,padding:E/2},e.props.style)})})))}));const o=(0,s.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(r)},35025:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.Z=c},64566:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=c},83173:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=c},92448:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=c},93657:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=c},53375:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=c},85984:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=c},90482:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}),"SwapVert");t.Z=c},59535:(e,t,a)=>{"use strict";var l=a(95318),i=a(20862);t.Z=void 0;var n=i(a(92950)),c=(0,l(a(2108)).default)(n.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");t.Z=c},41722:(e,t,a)=>{"use strict";a.d(t,{D:()=>i,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function i(e,t){switch(t.type){case"count":return{...e,count:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"IsDraft":return{...e,IsDraft:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"loading":return{...e,loading:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"createEasy":return{...e,createEasy:t.payload};case"ConfirmAlert":return{...e,ConfirmAlert:t.payload};case"editData":return{...e,editData:t.payload};case"ShowDetail":return{...e,ShowDetail:t.payload};case"Add":return{...e,Add:t.payload};case"viewonly":return{...e,viewonly:t.payload};case"showDetail":return{...e,showDetail:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"id":return{...e,id:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"formLabel":return{...e,formLabel:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},30037:(e,t,a)=>{"use strict";a.d(t,{E:()=>l,d:()=>i});const l={IsDraft:!1,count:0,editData:[],AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},ShowView:!1,PrimaryData:[],ViewID:0,ExpandTableValue:!1,ExpandDetailValue:!0,Showtable:!1,expandDetail:"mainpanel",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,showData:[],showTableview:[],language:{},IsShow:!1};function i(e,t){switch(t.type){case"IsDraft":return{...e,IsDraft:t.payload};case"IsShow":return{...e,IsShow:t.payload};case"count":return{...e,count:t.payload};case"editData":return{...e,editData:t.payload};case"AccessRights":return{...e,AccessRights:t.payload};case"ShowView":return{...e,ShowView:t.payload};case"PrimaryData":return{...e,PrimaryData:t.payload};case"ViewID":return{...e,ViewID:t.payload};case"ExpandTableValue":return{...e,ExpandTableValue:t.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:t.payload};case"Showtable":return{...e,Showtable:t.payload};case"expandDetail":return{...e,expandDetail:t.payload};case"PrimaryId":return{...e,PrimaryId:t.payload};case"token":return{...e,token:t.payload};case"EditOpen":return{...e,EditOpen:t.payload};case"EditIsDraft":return{...e,EditIsDraft:t.payload};case"showData":return{...e,showData:t.payload};case"showTableview":return{...e,showTableview:t.payload};case"language":return{...e,language:t.payload};default:throw new Error(`Unhandled action type: ${t.type}`)}}},92381:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var l=a(40900),i=a(26537),n=a(61956),c=a(35131),s=a.n(c),r=a(25108);function o(e,t,a,c){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":i.Z.TokenIDPK,"x-tokenname":i.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return r.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",o={data:[{p1:0,p2:null,p3:c,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:s()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:s()().format("YYYY-MM-DD hh:mm:ss")}]};(0,i.Z)(0).then((t=>{(0,n.Z)(e,o,t).then((e=>{200==e[0].status.code?r.log(e,"RES"):r.log("Error")}))}))}}},83817:(e,t,a)=>{"use strict";function l(e,t,a,l,i){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(t({type:"editData",payload:[e.Output.data[0]]}),t({type:"IsDraft",payload:a}),t({type:"ShowDetail",payload:l}),i.loading(!1)):(i.loading(!1),i.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){i.loading(!1),i.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{a:()=>l})},45441:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var l=a(92950),i=a.n(l),n=a(7869),c=a.n(n),s=a(14439),r=a(27848),o=a(282),m=a(90482),d=a(868),p=a(8981);function u(e){let t=(0,p.Z)();return i().createElement(d.ZP,{placement:"top",title:e.name},i().createElement(o.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,onClick:e.onClick,frmctrlid:e.frmctrlid,startIcon:i().createElement(m.Z,{className:"PrintBtnIcon"})},t[e.name]))}function D(e){let t=(0,p.Z)();const a=e=>t?.[e]?t[e]:e;return i().createElement(d.ZP,{placement:"top",title:e.name?e.name:a("Import")},i().createElement(o.Z,{className:e.className+" SaveBtnCommon boxShadowNone",disabled:e.disabled,frmctrlid:e.frmctrlid,onClick:e.onClick,startIcon:i().createElement(m.Z,{className:"PrintBtnIcon"})},e.name?e.name:a("Import")))}a(96622);var C=a(80366),g=a(39803),h=a(13089),S=a(61657),y=a(25108);const I=function(e){const[t,a]=(0,l.useState)([]),[n,c]=(0,l.useState)(e.TableVisibleItem),[s,r]=(0,l.useState)(e.TableBodyItem);return(0,l.useEffect)((()=>{if(e.tableData.length>0){let t=[],l=[];Object.keys(e.tableData[0]).map((e=>{e.startsWith("Is")||(t.push({id:e,name:e.trim(),type:"varchar"}),l.push(e.trim()))})),c(t),r(l),a(e.tableData)}else a([])}),[e.tableData]),i().createElement("div",{id:"ExcelMigrationTabDiv",style:{width:"100%",position:"relative",height:"61vh"}},e.tableData.length>0&&i().createElement("div",{className:"tableTopPagination displayFlex floatOrder",style:{float:"right"}},i().createElement(S.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:e.tableData.length,page:0,rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})),i().createElement(h.Z,{id:"ExcelMigrationTable",headerdata:n,tablesearchparams:"",searchvalue:e=>{setTableSearchParams(e)},bodydata:t,ondrag:(e,t)=>y.log(e,t),bodyitem:s,visibleitem:n,IsDraft:!1,IsView:!1,IsSub:"",tableExp:!1,accessrights:{},expanded:e=>{},edit:(e,t,a)=>{y.log(e,t,a)},viewtoggle:()=>{},isexpanded:!1,ViewComp:(e,t)=>{}}))};var E=a(55546),f=a.n(E),v=(a(40900),a(11557),a(51673),a(25108));f().ExcelFile,f().ExcelFile.ExcelSheet;const b=(0,l.forwardRef)(((e,t)=>{const{classes:a}=e,n=(0,l.useRef)(null),o=(0,l.useRef)(null),[m,d]=(0,l.useState)({}),[p,h]=(0,l.useState)([]),[S,y]=(0,l.useState)([]),[E,f]=(0,l.useState)(""),[b,M]=(0,l.useState)(!0),[N,w]=(0,l.useState)(!0);(0,l.useImperativeHandle)(t,(()=>({getRefresh:e=>h(e)})));const P=()=>{h([]),f(""),e.clear(),M(!0),w(!0)};async function T(t,a){e.loading(!0),e.importSave(t,a)}return e.TableBodyItem,v.log("exportData",e.exportData),i().createElement(s.Z,null,i().createElement(r.Z,{sm:12},i().createElement(s.Z,null,i().createElement(r.Z,{sm:2},i().createElement(u,{name:"download",id:e.frmctrlid+"_download",disabled:!1,onClick:e=>{o.current.click()}})),i().createElement(r.Z,{sm:2},i().createElement("input",{type:"file",className:"form-control",id:"myInput",ref:n,style:{display:"none"},onChange:t=>{(t=>{const a=t.target.files;f(t.target.files[0].name);var l=t.target.files[0].name.split(/\.(?=[^\.]+$)/);if(v.log("filename",a),"xls"!=l[1]&&"xlsx"!=l[1]&&"ods"!=l[1])return e.alert({open:!0,color:"error",message:["You can only upload Excel file!"]}),!1;{a&&a[0]&&f(a[0].name);const t=new FileReader,l=!!t.readAsBinaryString;t.onload=t=>{const a=t.target.result,i=c().read(a,{type:l?"binary":"array",bookVBA:!0});if(e.SheetCount>1){var n=i.SheetNames.slice(0,e.SheetCount);let t=[];n.map(((e,a)=>{const l=i.SheetNames[a],n=i.Sheets[l];let s=c().utils.sheet_to_json(n);t.push(s)})),e.data(t)}else{const t=i.SheetNames[0],a=i.Sheets[t],l=c().utils.sheet_to_json(a);let n=function(e,t){let a=[];for(let l=0;l<e.length;l++){let i=e[l],n={};for(let e=0;e<t.length;e++){let a=t[e];n["p"+(e+1)]=i[a]||""}a.push(n)}return a}(l,function(e){const t=[],a=c().utils.decode_range(e["!ref"]);for(let l=a.s.c;l<=a.e.c;++l){const i=e[c().utils.encode_cell({r:a.s.r,c:l})];i&&i.t&&t.push(i.v)}return t}(a));h(n),y((e=>{let t=[],a=c().utils.decode_range(e).e.c+1;for(var l=0;l<a;++l)t[l]={name:c().utils.encode_col(l),key:l};return t})(a["!ref"])),e.data(l,null,2),M(!1)}},l?t.readAsBinaryString(a[0]):t.readAsArrayBuffer(a[0])}})(t)},onClick:e=>{e.target.value=null}}),i().createElement(u,{name:"Browse",id:e.frmctrlid+"_browse2",disabled:!1,onClick:e=>{n.current.click()}})),i().createElement(r.Z,{sm:4},i().createElement(g.Z,{value:E,disabled:!0,multiline:!0,rowsMax:"2",fullWidth:!0,InputProps:{classes:a,endAdornment:E?i().createElement(C.Z,{style:{width:"18px",color:"#777"},onClick:e=>{P()}}):null}})),i().createElement(r.Z,{sm:2},i().createElement(D,{name:"Process",disabled:!!b,id:e.frmctrlid+"_Process",onClick:e=>{T(p,{type:"Process",uid:localStorage.getItem("userid")}),w(!1),M(!0)}})),i().createElement(r.Z,{sm:2},i().createElement(D,{name:"Import",disabled:!!N,id:e.frmctrlid+"_import",onClick:e=>{T(p,{type:"Import",uid:localStorage.getItem("userid")}),P()}})),i().createElement(r.Z,{sm:12},i().createElement(I,{tableData:p,TableVisibleItem:e.TableVisibleItem,TableBodyItem:e.TableBodyItem})))),i().createElement("a",{ref:o,style:{display:"none"},href:e.excelfile,download:e.filename},"Click to download"))}))},65197:(e,t,a)=>{"use strict";a.d(t,{Z:()=>E});var l=a(92950),i=a.n(l),n=a(14439),c=a(27848),s=a(63163),r=a(6562),o=a(30553),m=a(83173),d=a(21392),p=a(69685),u=a(45332),D=a(26537),C=a(77366),g=a(71168),h=a.n(g),S=a(99940),y=a(55918),I=a.n(y);function E(e){const[t,a]=(0,l.useState)([]),[m,d]=(0,l.useState)([]),[p,u]=h()(e.tableID);(0,l.useEffect)((()=>{C(p)}),[p,e.val]),(0,l.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&C(e.refresh)}),[e.refresh]);const D=t=>e.t(t);function C(t){const l=t.filter((t=>t.FormID==e.tableID));let i=[],n=[];l.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):i.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),d(g(n,"id")),a(g(i,"id"))}function g(e,t){const a=e.map((e=>e[t])),l=e.filter((({value:e},t)=>!a.includes(e,t+1)));return l}return i().createElement(i().Fragment,null,i().createElement("div",{index:e.index,className:"padding paddingLeft width100"},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i().createElement("div",{className:"ViewHeadingTitle"},i().createElement("p",null,(y=e.tableName,e.tf(y)+" "+D("view")))),i().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},m.map(((t,a)=>i().createElement(i().Fragment,null,i().createElement(S.Tooltip,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},i().createElement("div",{key:a,className:"GridAlignSwitch"},i().createElement(r.Z,null,i().createElement(o.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:i().createElement(s.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),i().createElement(n.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement(n.Z,{container:!0},t.map(((t,a)=>i().createElement(i().Fragment,null,t.ForeignTag?i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:D(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var a,l;a=t.IDPK,l=e.val[t.ValID],e.OpenSlideComponent(a,l)},title:e.val[t.id]},e.val[t.id])))):i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?I()(e.val[t.id]):e.val[t.id]))))))))))),i().createElement(c.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewFileImgCont"},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingTitle1"},i().createElement("p",{className:"ViewHeadpTagHD"},D("Attachments")))),i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingAttachmentL4"},i().createElement(f,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var y}const f=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&n()}),[e.id]);const n=()=>{(0,D.Z)(0).then((t=>{(0,C.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return i().createElement("div",null,i().createElement(p.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return i().createElement(u.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?i().createElement("img",{src:e.ImgPath,alt:e.ImageName}):i().createElement(m.Z,{className:"previewFile"}),t.length>1&&i().createElement("div",{className:"Imgbgmstyle"},i().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),i().createElement(d.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},52743:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var l=a(92950),i=a.n(l),n=a(14439),c=a(27848),s=a(63163),r=a(6562),o=a(30553),m=a(83173),d=a(21392),p=a(69685),u=a(45332),D=a(26537),C=a(77366),g=a(71168),h=a.n(g),S=a(20506),y=a(99940),I=a(868),E=a(55918),f=a.n(E),v=a(51649);function b(e){const[t,a]=(0,l.useState)([]),[m,d]=(0,l.useState)([]),[p,u]=(0,l.useState)(!1),[D,C]=(0,l.useState)(!1),[g,E]=(0,l.useState)(e.cardName),[b,N]=(0,l.useState)(e.AddCardname),[w,P]=h()(e.tableID);(0,l.useEffect)((()=>{!function(t){const l=t.filter((t=>t.FormID==e.tableID&&"1"==t.IsApplyToView&&t.FieldName!=e.tableID));let i=[],n=[];l.map((e=>{e.FieldDisplay.startsWith("Is")?n.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):i.push({id:e.FieldDisplay,groupID:e.GroupID,groupName:e.GroupName,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType})})),d(n);let c=i.filter((e=>0!=e.groupID&&99!=e.groupID));if(c.length>0){C(!0);const e=c.map((e=>({...e,detail:i.filter((t=>t.groupID==e.groupID)),group:!0}))),t=e.map((e=>e.groupID)),l=e.filter((({groupID:e},a)=>!t.includes(e,a+1))).sort(((e,t)=>e.groupID-t.groupID));a(l)}else C(!1),a(i)}(w)}),[w,e.val]);const T=t=>e.t(t)?e.t(t):t,x=(t,a)=>e.OpenSlideComponent(t,a);return i().createElement(i().Fragment,null,i().createElement("div",{className:"padding width100"},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},i().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},i().createElement("div",{className:"ViewHeadingTitlel4",title:e.title},i().createElement("p",null,(F=e.tableID,(e.tf(F)?e.tf(F):F)+" "+T("view")))),e.cardName?null:i().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},m.map(((t,a)=>i().createElement(i().Fragment,null,i().createElement(I.ZP,{title:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},i().createElement("div",{key:a,className:"GridAlignSwitch"},i().createElement(r.Z,null,i().createElement(o.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:i().createElement(s.Z,{checked:"1"==e.val[t.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:t.name.startsWith("Is")?t.name.slice(2).replace(/\B([A-Z])\B/g," $1"):t.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),i().createElement(n.Z,{container:!0,style:{padding:"10px 10px",userSelect:"text"},id:e.fldid,spacing:1},"  ",i().createElement(c.Z,{item:!0,sm:e.cardName?12:9,md:e.cardName?12:9,lg:e.cardName?12:9,xs:e.cardName?12:9},D&&t.slice(0,1).map(((t,a)=>i().createElement(n.Z,{container:!0,className:"DetailViewGrid"},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{key:a,className:"ViewHeadingTitle"},i().createElement("p",null,t.groupName))),e.cardName?t.detail.slice(0,8).map((t=>i().createElement(c.Z,{item:!0,sm:e.cardName?6:4,md:e.cardName?6:4,lg:e.cardName?6:4,xs:e.cardName?6:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:T(t.name)},T(t.name)),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},e.val[t.id]))))):t.detail.map((t=>i().createElement(c.Z,{item:!0,sm:e.cardName?6:4,md:e.cardName?6:4,lg:e.cardName?6:4,xs:e.cardName?6:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:T(t.name)},T(t.name)),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},e.val[t.id])))))))),i().createElement(n.Z,{container:!0,className:!D&&!p&&"DetailViewGrid"},!D&&t.slice(0,p?t.length:e.cardName?4:8).map(((t,a)=>a<12&&i().createElement(i().Fragment,null,t.ForeignTag?i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:T(t.name)},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{x(t.IDPK,e.val[t.ValID])},title:e.val[t.id]},e.val[t.id])))):i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?f()(e.val[t.id]):e.val[t.id]))))))))),!e.cardName&&i().createElement(c.Z,{item:!0,sm:3,md:3,lg:3,xs:3},i().createElement(n.Z,{container:!0,className:"DetailViewImg"},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewFileImgCont"},i().createElement(n.Z,{container:!0},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingTitle1"},i().createElement("p",{className:"ViewHeadpTagHD"},T("Attachments")))),i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},i().createElement("div",{className:"ViewHeadingAttachmentL4"},i().createElement(M,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))),i().createElement(c.Z,{sm:12,md:12,lg:12,xs:12,align:"end"},i().createElement("span",{className:"viewmorecss",onClick:()=>{u(!p)}},p?"View less":"View more")))),i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},!D&&p&&i().createElement(n.Z,{container:!0,className:D&&"DetailViewGrid"},!D&&t.slice(0,p?t.length:8).map(((t,a)=>a>11&&i().createElement(i().Fragment,null,t.ForeignTag?i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:3,md:3,lg:3,xs:3,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:t.name.replace(/\B([A-Z])\B/g," $1")},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id],onClick:()=>{x(t.IDPK,e.val[t.ValID])}},e.val[t.id])))):i().createElement(i().Fragment,null,i().createElement(c.Z,{item:!0,sm:3,md:3,lg:3,xs:3,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",title:t.name.replace(/\B([A-Z])\B/g," $1"),style:{textDecoration:"underline"}},t.name.replace(/\B([A-Z])\B/g," $1")),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?f()(e.val[t.id]):e.val[t.id]))))))))),p&&i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12},D&&t.slice(1,t.length).map(((t,a)=>i().createElement(n.Z,{container:!0,className:"DetailViewGrid"},i().createElement(c.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{key:a,className:"ViewHeadingTitle"},i().createElement("p",null,t.groupName))),t.detail.map((t=>i().createElement(c.Z,{item:!0,sm:3,md:3,lg:3,xs:3,style:{height:"fit-content",minHeight:"50px"}},i().createElement("div",{className:"DetailViewRow"},i().createElement("div",{className:"ViewHeadpTag DetailViewRow",title:T(t.name),style:{textDecoration:"underline"}},T(t.name)),i().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[t.id]},"mins"==t.FieldDataType?f()(e.val[t.id]):e.val[t.id]))))))))))))),i().createElement(n.Z,{spacing:2,style:{padding:"0px 10px"}},i().createElement(c.Z,{xs:12,sm:12,md:12,lg:12,style:{padding:"4px"},className:"ViewL4S"},i().createElement("div",{className:"ViewHeadingTitle",title:"Subforms"},"Subforms"),g?i().createElement(v.bbr,{className:"ViewL4SIcon",title:"Expand",onClick:()=>E(!1)}):i().createElement(v.Ejh,{className:"ViewL4SIcon",title:"Minimize",onClick:()=>E(!0)})),g?e.SubCardData&&e.SubCardData.length>0&&i().createElement(c.Z,{xs:12,sm:12,md:12,lg:12,className:"lstscroll PreviewAnimation"},e.SubCardData.map(((t,a)=>i().createElement("div",{className:e.cardName===t.name?"ViewL4SListActive":"ViewL4SList",key:a+t.name,title:t.displayName,onClick:()=>{t.isDisable?e.alertmsg({open:!0,color:"warning",message:[t.message?t.message:"Please Contact Admin"]}):e.SubformsLink(t),u(!1)}},t.displayName)))):i().createElement(c.Z,{sm:12,md:12,xs:12,className:"lstscroll"},i().createElement(n.Z,{spacing:2},e.SubCardData&&e.SubCardData.length>0&&e.SubCardData.map(((t,a)=>t.isVisible?i().createElement(c.Z,{key:a+t.name,sm:e.cardName?12:4,md:e.cardName?12:4,xs:e.cardName?12:4},i().createElement("div",{className:"gridcardl41 gdpadd10",id:"card",onClick:()=>{t.isDisable?e.alertmsg({open:!0,color:"warning",message:[t.message?t.message:"Please Contact Admin"]}):e.SubformsLink(t),u(!1)}},i().createElement(n.Z,null,i().createElement(c.Z,{xs:12,md:12,lg:12,sm:12,className:e.cardName===t.name?"sfhightActive":"sfhight"},i().createElement(n.Z,{className:"CCMCardSubF"},i().createElement(c.Z,{xs:2,md:2,sm:2,lg:4,className:"posr ViewL4SCard"},t.FilePath?i().createElement("img",{src:t.FilePath.length>0?t.FilePath:S.Z,className:"imgTech"}):i().createElement(y.Icon,{className:t.totalCount?"ViewHightLightBlue gdiv":"gdiv"},t.icon)),i().createElement(c.Z,{xs:10,md:10,sm:10,lg:8,style:{},className:"CCMCardSubF"},i().createElement(n.Z,{style:{display:"flex"}},i().createElement(c.Z,{xs:12,sm:12,md:12,lg:12,title:t.displayName,className:"ViewL4SCardHD"},i().createElement("span",{className:"ViewHightLightBlue paddbot5"},t.displayName),t.totalCount>0&&i().createElement("div",{className:"iconinfol3l4"},t.totalCount>0?` ${t.totalCount} `:""))),t.totalCount&&0!=t.totalCount?i().createElement(n.Z,null,t.Title1k&&t.Title1k.length>0?i().createElement(i().Fragment,null,i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:t.Title1k},i().createElement("p",{className:"ViewHeadpTag"},t.Title1k)),i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:t.Title1v},i().createElement("p",{className:" ViewHightLightCustom"},": ",t.Title1v))):"",t.Title2k&&t.Title2k.length>0?i().createElement(i().Fragment,null,i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:t.Title2k},i().createElement("p",{className:"ViewHeadpTag"},t.Title2k)),i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:t.Title2v},i().createElement("p",{className:" ViewHightLightCustom"},": ",t.Title2v))):"",t.Title3v&&t.Title3v.length>0?i().createElement(i().Fragment,null,i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:t.Title3k},i().createElement("p",{className:"ViewHeadpTag"},t.Title3k)),i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:t.Title3v},i().createElement("p",{className:" ViewHightLightCustom"},": ",t.Title3v))):""):i().createElement("p",{style:{paddingTop:"3%"},className:"ViewHeadingTitleCustomRecords"},"No Record"))))))):""))))),e.AddCardname&&i().createElement(n.Z,{spacing:2,style:{padding:"0px 10px"}},i().createElement(c.Z,{xs:12,sm:12,md:12,lg:12,style:{padding:"4px"},className:"ViewL4S"},i().createElement("div",{className:"ViewHeadingTitle",title:"AdditionalForms"},"Additional Forms"),b?i().createElement(v.bbr,{className:"ViewL4SIcon",title:"Expand",onClick:()=>N(!1)}):i().createElement(v.Ejh,{className:"ViewL4SIcon",title:"Minimize",onClick:()=>N(!0)})),b?e.AddCardname&&e.AddCardname.length>0&&i().createElement(c.Z,{xs:12,sm:12,md:12,lg:12,className:"lstscroll PreviewAnimation"},e.AddCardname.map(((t,a)=>i().createElement("div",{className:e.AddCardname===t?"ViewL4SListActive":"ViewL4SList",key:a+t,title:t,onClick:()=>{e.AddformsLink(t),u(!1)}},t)))):i().createElement(c.Z,{sm:12,md:12,xs:12,className:"lstscroll"},i().createElement(n.Z,{spacing:2},e.AddCardname&&e.AddCardname.length>0&&e.AddCardname.map(((t,a)=>i().createElement(c.Z,{sm:e.cardName?12:4,md:e.cardName?12:4,xs:e.cardName?12:4},i().createElement("div",{className:"gridcardl41 gdpadd10",id:"card",onClick:()=>{e.AddformsLink(t),u(!1)}},i().createElement(n.Z,null,i().createElement(c.Z,{xs:12,md:12,lg:12,sm:12,className:"sfhightActive"},i().createElement(n.Z,{className:"CCMCardSubF"},i().createElement(c.Z,{xs:2,md:2,sm:2,lg:4,className:"posr ViewL4SCard"},i().createElement("img",{src:S.Z,className:"imgTech"}),i().createElement(y.Icon,{className:"ViewHightLightBlue gdiv"},"v.icon")),i().createElement(c.Z,{xs:10,md:10,sm:10,lg:8,style:{},className:"CCMCardSubF"},i().createElement(n.Z,{style:{display:"flex"}},i().createElement(c.Z,{xs:12,sm:12,md:12,lg:12,title:t,className:"ViewL4SCardHD"},i().createElement("span",{className:"ViewHightLightBlue paddbot5"},t))),i().createElement(n.Z,null,i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:"v.Title1k"},i().createElement("p",{className:"ViewHeadpTag"},"v.Title1k")),i().createElement(c.Z,{xs:6,sm:6,md:6,lg:6,title:"v.Title1v"},i().createElement("p",{className:" ViewHightLightCustom"},": ","v.Title1v")))))))))))))));var F}const M=e=>{const[t,a]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&n()}),[e.id]);const n=()=>{(0,D.Z)(0).then((t=>{(0,C.Z)(t,e.id,e.tableID).then((e=>a(e)))}))};return i().createElement("div",null,i().createElement(p.Z,{cellHeight:160,className:"gridList",cols:1,onClick:t=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},t.length>0&&t.map(((e,a)=>{if(0==a)return i().createElement(u.Z,{className:"imgviewpagel4 lastImg",key:a,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?i().createElement("img",{src:e.ImgPath,alt:e.ImageName}):i().createElement(m.Z,{className:"previewFile"}),t.length>1&&i().createElement("div",{className:"Imgbgmstyle"},i().createElement("p",{className:"imgtotCount"}," +",t.length-1)))}))),i().createElement(d.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:t}))}},17189:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var l=a(92950),i=a.n(l),n=a(45237),c=a(36939),s=a(61201),r=a(50743),o=(a(67698),a(10966),a(30553)),m=(a(99090),a(61956)),d=a(51673),p=a(44528),u=(a(96071),a(14439)),D=a(27848),C=(a(49174),a(38773),a(19089),a(1695)),g=(a(13235),a(61924)),h=a.n(g),S=a(26537),y=a(40900),I=a(35131),E=a.n(I),f=a(55490),v=(a(2493),a(82729),a(75355),a(11107),a(37148)),b=(a(45965),a(92371)),M=(a(40826),a(64566)),N=a(83073),w=a(73192),P=a(37869),T=a(8981),x=a(63163),F=a(99940),k=a(5434),A=a(45155),Z=a(79352),B=a(99263),L=a(16233),R=a.n(L),O=(a(91113),a(79117),a(99323)),V=a(55918),z=a.n(V),H=a(25108);const K={SchComDisciplineIDPK:"",SchComDisciplineCode:"",MinMins:"",MaxMins:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",SchComCompleteby:"",IsDraft:!1,Remarks:"",FrequencyID:null,DisciplineID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",Type:"SchComDisciplineID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid"),MaintenanceHoursDays:""},q=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const[a,g]=(0,l.useState)(!1),[I,L]=((0,l.useRef)(),(0,l.useState)(!0)),[V,q]=(0,l.useState)(!1),[G,_]=(0,l.useState)(!1),[U,j]=(0,l.useState)(0),[Y,$]=(0,l.useState)(!0),[Q,W]=(0,l.useState)({}),[J,X]=(0,l.useState)([]),[ee,te]=(0,l.useState)(!1),[ae,le]=((0,l.useRef)(),(0,l.useState)(!1)),[ie,ne]=(0,l.useState)(null),[ce,se]=((0,l.useRef)(),(0,l.useState)(!0)),[re,oe]=(0,l.useState)(!0),[me,de]=(0,l.useState)(0),[pe,ue]=(0,l.useState)(0),[De,Ce]=(0,l.useState)([]),[ge,he]=(0,l.useState)([]),[Se,ye]=(0,l.useReducer)(b.Z,K),[Ie,Ee]=(0,l.useState)(!1),[fe,ve]=(0,l.useState)([]),[be,Me]=(0,l.useState)(null),Ne=(0,l.useContext)(w.SchComDisciplineContext),{cstate:we,cdispatch:Pe}=(0,w.ContextApi)(),[Te,xe]=(0,l.useState)(!0),[Fe,ke]=(0,l.useState)(""),[Ae,Ze]=(0,l.useState)(!1),[Be,Le]=(0,l.useState)(""),[Re,Oe]=(0,l.useState)(!0),[Ve,ze]=(0,l.useState)(!0),[He,Ke]=(0,l.useState)(!0),[qe,Ge]=(0,l.useState)(!0),[_e,Ue]=(0,l.useState)(0),[je]=(0,l.useState)(localStorage.getItem("Language")),[Ye]=(0,l.useState)(localStorage.getItem("Language")),[$e,Qe]=(0,l.useState)(!1),[We,Je]=(0,l.useState)(!1),Xe=(0,l.useRef)(null),et=(0,l.useRef)(null),[tt,at]=R()("559"),[lt,it]=(0,l.useState)(!1),[nt,ct]=(0,l.useState)("panelS5"),[st,rt]=(0,l.useState)([]);let ot=(0,T.Z)();const[mt,dt]=(0,l.useState)({}),pt=e=>ot?.[e]?ot[e]:e,ut=t=>we.language?.[t]?we.language[t]:e.createEasy?mt?.[t]:t;(0,l.useEffect)((()=>{we.PrimaryId&&Ue(Number(we.PrimaryId))}),[we.PrimaryId]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),dt(Object.assign({},...t))}(tt)}),[tt]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{Pe({type:"expandDetail",payload:!0}),q(!1)},getPreview:e=>{},clear:()=>{gt()},formlink:e=>{},editRecord:(e,t,a)=>{Ct(e,""),te(a)},Add:()=>{gt(),te(!1),Pe({type:"expandDetail",payload:"mainpanel"})},Editview:(e,t,a)=>{Ct(e,""),te(a),oe(!1)},CreateEasyProps:(e=!0,t)=>{setIsFetching(!0),t?(wt(t),Qe(e)):(gt(),Qe(e))},cardRefresh:()=>{et.current.cardRefresh()}})));const Dt=e=>{let t=60*Number(e),a=parseInt(t,10),l=Math.floor(a/86400);a-=3600*l*24;let i=Math.floor(a/3600);a-=3600*i;let n=Math.floor(a/60);a-=60*n;let c=l.toString().length;2===c?l="0"+l:1===c&&(l="00"+l),1===i.toString().length&&(i="0"+i),1===n.toString().length&&(n="0"+n);let s=(l.toString()+i.toString()+n.toString()).replace(/\D/g,"").match(/(\d{0,3})(\d{0,2})(\d{0,2})/);return s[2]?s[1]+": "+s[2]+(s[3]?":"+s[3]:""):s[1]},Ct=(t,a)=>{let l=t;Object.keys(l).forEach((function(e){0==l[e]&&(l[e]=null)})),Pe({type:"ViewID",payload:l.SchComDisciplineIDPK}),"SetDefaultSchComDisciplineID"==a?Le(l.SchComDisciplineIDPK):(Ue(e.primid?Number(e.primid):l.SchComDisciplineIDPK?l.SchComDisciplineIDPK:0),Pe({type:"PrimaryId",payload:l.SchComDisciplineIDPK})),ye({type:"number",name:"DisciplineID",number:l.DisciplineID?Number(l.DisciplineID):0}),ye({type:"text",name:"DisciplineName",value:l.DisciplineName}),ye({type:"number",name:"FrequencyID",number:l.FrequencyID?Number(l.FrequencyID):0}),ye({type:"text",name:"FrequencyName",value:l.FrequencyName}),ye({type:"text",name:"MaintenanceHoursDays",value:Dt(l.MaintenanceHours)}),ye({type:"text",name:"MaintenanceHours",value:l.MaintenanceHours}),ye({type:"number",name:"ManPower",number:l.ManPower}),ye({type:"number",name:"ManHour",number:l.ManHour}),ye({type:"number",name:"ManSecond",number:l.ManSecond}),ye({type:"number",name:"SchComCompleteby",number:l.SchComCompleteby}),ye({type:"text",name:"SchComDisciplineCode",value:l.SchComDisciplineCode?l.SchComDisciplineCode:""}),ye({type:"number",name:"MinMins",number:l.MinMins}),ye({type:"number",name:"ManMinute",number:l.ManMinute}),ye({type:"number",name:"MaxMins",number:l.MaxMins}),l.IsActive&&L("1"==l.IsActive)},gt=()=>{Ce([]),Ue(0),Le(""),Pe({type:"PrimaryId",payload:""}),ye({type:"text",name:"DisciplineID",value:null}),ye({type:"text",name:"DisciplineName",value:""}),document.getElementById("SchComDisciplineDisciplineNameClear")&&document.getElementById("SchComDisciplineDisciplineNameClear").click(),ye({type:"text",name:"FrequencyID",value:null}),ye({type:"text",name:"FrequencyName",value:""}),document.getElementById("SchComDisciplineFrequencyNameClear")&&document.getElementById("SchComDisciplineFrequencyNameClear").click(),ye({type:"text",name:"MaintenanceHoursDays",value:""}),ye({type:"text",name:"MaintenanceHours",value:""}),ye({type:"number",name:"ManPower",number:0}),ye({type:"number",name:"ManHour",number:0}),ye({type:"number",name:"ManSecond",number:0}),ye({type:"number",name:"SchComCompleteby",number:0}),ye({type:"text",name:"SchComDisciplineCode",value:""}),ye({type:"number",name:"MinMins",number:0}),ye({type:"number",name:"ManMinute",number:0}),ye({type:"number",name:"MaxMins",number:0}),Oe(!0),ze(!0),Ke(!0),Ge(!0),L(!0)},ht=e=>{Ne.loading(!0),Ne.ConfirmAlert(null);const t=y.v.Api+"FP559S2/",a={data:[{p1:"SetDefaultSchComDisciplineID"==e?"NORECORDS"!=Be&&Be?Be:0:_e,p2:Pt(Se.SchComDisciplineCode),p3:Se.MinMins?Number(Se.MinMins):0,p4:Se.MaxMins?Number(Se.MaxMins):0,p5:Se.ManHour?Number(Se.ManHour):0,p6:Se.ManMinute?Number(Se.ManMinute):0,p7:Se.ManSecond?Number(Se.ManSecond):0,p8:Se.ManPower?Number(Se.ManPower):0,p9:Se.MaintenanceHours?Number(Se.MaintenanceHours):0,p10:Se.SchComCompleteby?Number(Se.SchComCompleteby):0,p11:!1,p12:"SetDefaultSchComDisciplineID"==e?"SetDefault":null,p13:Se.FrequencyID?Se.FrequencyID:0,p14:Se.DisciplineID?Se.DisciplineID:0,p15:I,p16:"SetDefaultSchComDisciplineID"==e,p17:localStorage.getItem("userid"),p18:E()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((l=>{(0,d.Z)(t,a,l).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(Ne.alert({open:!0,color:"warning",message:n}),Ne.loading(!1)):St(e)):(Ne.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),Ne.loading(!1))}))}))},St=e=>{Oe(!0),ze(!0),Ke(!0),Ge(!0),Ne.ConfirmAlert(null);const t=y.v.Api+"FP559S1/",a={data:[{p1:"SetDefaultSchComDisciplineID"==e?"NORECORDS"!=Be&&Be?Be:0:_e,p2:Pt(Se.SchComDisciplineCode),p3:Se.MinMins?Number(Se.MinMins):0,p4:Se.MaxMins?Number(Se.MaxMins):0,p5:Se.ManHour?Number(Se.ManHour):0,p6:Se.ManMinute?Number(Se.ManMinute):0,p7:Se.ManSecond?Number(Se.ManSecond):0,p8:Se.ManPower?Number(Se.ManPower):0,p9:Se.MaintenanceHours?Number(Se.MaintenanceHours):0,p10:Se.SchComCompleteby?Number(Se.SchComCompleteby):0,p11:!1,p12:"SetDefaultSchComDisciplineID"==e?"SetDefault":null,p13:Se.FrequencyID?Se.FrequencyID:0,p14:Se.DisciplineID?Se.DisciplineID:0,p15:I,p16:"SetDefaultSchComDisciplineID"==e,p17:localStorage.getItem("userid"),p18:E()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((l=>{(0,m.Z)(t,a,l).then((async t=>{const a=t[0].status;200==a.code?("SetDefaultSchComDisciplineID"==e?Ne.alert({open:!0,color:"success",message:["Default Record Configured"]}):(Ne.alert({open:!0,color:"success",message:[a.message]}),Pe({type:"ViewID",payload:t[0].Data.IDPK}),Pe({type:"PrimaryId",payload:t[0].Data.IDPK}),await te(!0)),Ne.attachmentSave(t[0].Data.IDPK),Ne.loading(!1),document.getElementById("overlayimgAttSchComDiscipline")&&(document.getElementById("overlayimgAttSchComDiscipline").style.width="0%",document.getElementById("overlayimgAttSchComDiscipline").style.display="none")):(Ne.alert({open:!0,color:"warning",message:[a.message]}),Ne.loading(!1))}))}))};function yt(e,t){(0,B.CreateEasy)(e,we,Pe,Ne,Xe)}function It(e,a){return(0,O.AdvanceSearch)(e,a,w.SchComDisciplineContext,(0,w.ContextApi)(),vt,t),!1}const Et=(t,a,l,i,n,c)=>{const s=y.v.Api+"FP559S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:"0"==Se.FrequencyID?null:Se.FrequencyID,p14:"0"==Se.DisciplineID?null:Se.DisciplineID,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==Se.DivisionID?null:Se.DivisionID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:t,p30:10,p31:l,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}},o=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{});Ee(!0);const m={data:o};return(0,d.Z)(s,"ClearAll"==l?m:r,"SetDefaultSchComDisciplineID"==l&&i?i:we.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return 1==i.length?i[0]:{};ve(1==t?e>0?i:[]:fe.concat(i)),"SetDefaultSchComDisciplineID"==l&&(e>0?rt(i[0]):Le("NORECORDS")),Ee(!1)}else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ee(!1)}))},ft=(t,a,l)=>{const i=y.v.Api+"FP559S3/",n={data:{p1:null,p2:"SchComDisciplineCode"==l&&a?"%"+a+"%":null,p3:"MinMins"==l&&a?"%"+a+"%":null,p4:"MaxMins"==l&&a?"%"+a+"%":null,p5:"ManHour"==l&&a?"%"+a+"%":null,p6:"ManMinute"==l&&a?"%"+a+"%":null,p7:"ManSecond"==l&&a?"%"+a+"%":null,p8:"ManPower"==l&&a?"%"+a+"%":null,p9:"MaintenanceHours"==l&&a?"%"+a+"%":null,p10:"SchComCompleteby"==l&&a?"%"+a+"%":null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:t,p30:10,p31:"SchComDisciplineID",p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}},c={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};Ee(!0),(0,d.Z)(i,"ClearAll"==l?c:n,we.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;1==t?("SchComDisciplineCode"==l&&Oe(e>0),"MinMins"==l&&ze(e>0),"ManMinute"==l&&Ke(e>0),"MaxMins"==l&&Ge(e>0),ve(i)):("SchComDisciplineCode"==l&&Oe(!0),"MinMins"==l&&ze(!0),"ManMinute"==l&&Ke(!0),"MaxMins"==l&&Ge(!0),ve(fe.concat(i))),Ee(!1)}else Ne.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Ee(!1)}))},vt=(0,l.useCallback)((async(e,t,a)=>{if("text"==a)ye({type:a,name:t,value:e});else if("number"==a){if(ye({type:a,name:t,number:Number(e)}),"MaintenanceHours"===t){let t=e.Days*Se.ManPower;ye({type:"number",name:"ManHour",number:Number(t)})}else if("ManPower"===t){H.log("state.MaintenanceHours",Se.MaintenanceHours);let t=e*Se.MaintenanceHours;H.log("CalManHour",t),ye({type:"number",name:"ManHour",number:Number(t)})}}else"boolean"==a?ye({type:a,name:t,boolean:e}):"date"==a?ye({type:"text",name:t,value:e}):"select"==a&&("DisciplineID"==t?(ye({type:"text",name:"DisciplineID",value:e.DisciplineIDPK?e.DisciplineIDPK:null}),ye({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:null})):"FrequencyID"==t&&(ye({type:"text",name:"FrequencyID",value:e.FrequencyIDPK?e.FrequencyIDPK:null}),ye({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:null})))}),[Se]);function bt(e){if("DisciplineID"==e){if(!Se.DisciplineID)return!1;ye({type:"text",name:"DisciplineID",value:null}),ye({type:"text",name:"DisciplineName",value:""}),document.getElementById("SchComDisciplineDisciplineNameClear")&&document.getElementById("SchComDisciplineDisciplineNameClear").click()}else if("FrequencyID"==e){if(!Se.FrequencyID)return!1;ye({type:"text",name:"FrequencyID",value:null}),ye({type:"text",name:"FrequencyName",value:""}),document.getElementById("SchComDisciplineFrequencyNameClear")&&document.getElementById("SchComDisciplineFrequencyNameClear").click()}}function Mt(e){if("DisciplineID"==e){if(!Se.DisciplineID)return!1;ye({type:"text",name:"DisciplineID",value:null})}else if("FrequencyID"==e){if(!Se.FrequencyID)return!1;ye({type:"text",name:"FrequencyID",value:null})}}const Nt=e=>{Ne.ConfirmAlert(i().createElement(h(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>wt(e),onCancel:()=>Ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pt("Yes"),cancelBtnText:pt("No"),showCancel:!0},pt("Do you want to update this record?")))};function wt(e){Ne.ConfirmAlert(null),_(e.IsDraft),Pe({type:"editData",payload:[e]}),Pe({type:"PrimaryId",payload:e.SchComDisciplineIDPK}),Ue(Number(e.SchComDisciplineIDPK)?Number(e.SchComDisciplineIDPK):0),ye({type:"number",name:"DisciplineID",number:e.DisciplineID?Number(e.DisciplineID):0}),ye({type:"text",name:"DisciplineName",value:e.DisciplineName?e.DisciplineName:""}),ye({type:"number",name:"FrequencyID",number:e.FrequencyID?Number(e.FrequencyID):0}),ye({type:"text",name:"FrequencyName",value:e.FrequencyName?e.FrequencyName:""}),ye({type:"text",name:"MaintenanceHours",value:e.MaintenanceHours?e.MaintenanceHours:""}),ye({type:"number",name:"ManPower",number:e.ManPower?Number(e.ManPower):0}),ye({type:"number",name:"ManHour",number:e.ManHour?Number(e.ManHour):0}),ye({type:"number",name:"ManSecond",number:e.ManSecond?Number(e.ManSecond):0}),ye({type:"number",name:"SchComCompleteby",number:e.SchComCompleteby?Number(e.SchComCompleteby):0}),ye({type:"text",name:"SchComDisciplineCode",value:e.SchComDisciplineCode?e.SchComDisciplineCode:""}),ye({type:"text",name:"MinMins",value:e.MinMins?e.MinMins:""}),ye({type:"text",name:"ManMinute",value:e.ManMinute?e.ManMinute:""}),ye({type:"text",name:"MaxMins",value:e.MaxMins?e.MaxMins:""})}const Pt=e=>"string"==typeof e?e.trim():e;return i().createElement("div",{style:{width:"100%",display:"none"},id:"SchComDiscipline-MainEntry"},i().createElement("div",{className:"tabcontainer padleft5"},i().createElement("div",{className:"formcontent"},i().createElement("div",{className:"mar0"},i().createElement("div",{className:"ascardpad"},ee?i().createElement("div",null,i().createElement(N.default,{ref:et,ExpandDetailValue:!0,EntryExp:we.expandDetail,inboxdata:{}})):i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divSchComDiscipline-Entry",style:{width:"100%",position:"relative"}},i().createElement(c.Z,{expanded:"mainpanel"==we.expandDetail},i().createElement(r.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header"},i().createElement("div",{className:"displayFlex backgroundLightL3 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("div",{id:"fld559L4ECdFlexEntryHeader",onClick:()=>{Ne.ShowTableDiv(!1),document.getElementById("overlayimgAttSchComDiscipline").style.display="none"}},i().createElement(k.aQX,{className:"BackBtnIcon"})),i().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[559]"},_e?"Edit ":"New ",ut("559"))),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},"mainpanel"===we.expandDetail&&!_e&&i().createElement(F.FormGroup,{row:!0},i().createElement(o.Z,{labelPlacement:"bottom",id:"fld559L4ECEntryCheckbox",control:i().createElement(x.Z,{checked:"1"==I,onChange:e=>L(e.target.checked)}),label:pt(1==I?"Active":"In Active")})))),_e&&"mainpanel"===we.expandDetail?i().createElement("div",{className:"GridAlign",onClick:()=>{Ne.AttachExpand(!0)},id:"fld559L4ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!_e},i().createElement(A.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,pt("Attach")))):null,!_e&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{gt()},id:"fld559L4ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(A.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,pt("Reset")))),_e?null:i().createElement("div",{className:"GridAlign",onClick:()=>{!function(t,a,l,i){if(!(we.count>0))return Ne.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...Se};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0){Oe(!0),ze(!0),Ke(!0),Ge(!0),Ne.loading(!0),Ne.ConfirmAlert(null);const a=y.v.Api+"FP559S1/",l={data:[{p1:"SetDefaultSchComDisciplineID"==i?"NORECORDS"!=Be&&Be?Be:0:_e,p2:Pt(Se.SchComDisciplineCode),p3:Se.MinMins?Number(Se.MinMins):0,p4:Se.MaxMins?Number(Se.MaxMins):0,p5:Se.ManHour?Number(Se.ManHour):0,p6:Se.ManMinute?Number(Se.ManMinute):0,p7:Se.ManSecond?Number(Se.ManSecond):0,p8:Se.ManPower?Number(Se.ManPower):0,p9:Se.MaintenanceHours?Number(Se.MaintenanceHours):0,p10:Se.SchComCompleteby?Number(Se.SchComCompleteby):0,p11:!0,p12:"SetDefaultSchComDisciplineID"==i?"SetDefault":null,p13:Se.FrequencyID?Se.FrequencyID:0,p14:Se.DisciplineID?Se.DisciplineID:0,p15:!1,p16:"SetDefaultSchComDisciplineID"==i,p17:localStorage.getItem("userid"),p18:E()().format("YYYY-MM-DD hh:mm:ss"),p19:localStorage.getItem("userid"),p20:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,S.Z)(0).then((i=>{(0,m.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?Ne.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):Ne.alert({open:!0,color:"success",message:["Saved to Draft"]}),gt(),e.clrImgstate(!0),document.getElementById("SchComDiscipline-MainTable").style.width="0%",document.getElementById("SchComDiscipline-MainEntry").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.display="flex",document.getElementById("SchComDiscipline-MainTable").style.display="none",$(!1),Ne.loading(!1),document.getElementById("overlayimgAttSchComDiscipline")&&(document.getElementById("overlayimgAttSchComDiscipline").style.width="0%",document.getElementById("overlayimgAttSchComDiscipline").style.display="none")):(Ne.alert({open:!0,color:"warning",message:[l.message]}),Ne.loading(!1))}))}))}else Ne.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}()},id:"fld559L4ECDraftBtn",disabled:!1},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(Z.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,pt("Draft")))),"mainpanel"===we.expandDetail?i().createElement(C.Z,{name:_e?"Update":"Save",disabled:!1,frmctrlid:"fld559L4ECSaveBtnIsAdd",onClick:()=>{Se.DisciplineID&&0!=Se.DisciplineID?Se.FrequencyID&&0!=Se.FrequencyID?Se.MaintenanceHours&&0!=Se.MaintenanceHours?Pt(Se.ManPower)?Ne.ConfirmAlert(i().createElement(h(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:pt("Are you sure?"),onConfirm:()=>ht(),onCancel:()=>Ne.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:pt("Yes"),cancelBtnText:pt("Cancel"),showCancel:!0},pt("Do you want to Save?"))):Ne.alert({open:!0,color:"warning",message:[pt("Please enter the")+""+ut("ManPower")]}):Ne.alert({open:!0,color:"warning",message:[pt("Please enter the Maintenance Hours")]}):Ne.alert({open:!0,color:"warning",message:[pt("Please select the ")+" "+ut("FrequencyID")]}):Ne.alert({open:!0,color:"warning",message:[pt("Please select the ")+" "+ut("DisciplineID")]})}}):null,_e&&"mainpanel"===we.expandDetail?i().createElement(v.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld559L4ECCloseBtn",onClick:()=>{Ne.ShowTableDiv(!1),gt(),te(!0),oe(!0),document.getElementById("overlayimgAttSchComDiscipline").style.display="none"}}):null))),i().createElement(s.Z,null,i().createElement("div",{id:"SchComDiscipline-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"SchComDiscipline-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"SchComDiscipline-MainBody",className:"padding paddingLeft"},i().createElement("div",{className:"display-inline-flex"},i().createElement("div",{className:"l4-side-component100 displayFlex"+(Te?"":"l4width")},i().createElement("div",{className:"l4-side-component100"},i().createElement("div",{className:"cardl4 "},i().createElement("div",{color:"info",className:"cardheadvh"},i().createElement(u.Z,null,i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},i().createElement("div",{className:"GrpViewHeadingTitle"},i().createElement("p",null,"Primary Store Details"))))),i().createElement("div",{style:{padding:"15px"}},i().createElement(u.Z,{spacing:2},i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(f.Z,{json:P.A,id:Se.DisciplineID,"data-testid":Se.DisciplineID,value:Se.DisciplineName,SPName:"SchComDiscipline",FieldName:"DisciplineID",tfLabel:ut("DisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>vt(e,"DisciplineID","select"),onChange:(e,t)=>{Et(e,t,"DisciplineIDPK")},KeyBack:e=>{Mt("DisciplineID")},fieldorder:"1",data:fe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:fe.length>0?fe[0].TotalCount:0,openSlide:()=>{yt("34")},Tabledialog:()=>It("34","DisciplineID"),loading:Ie,clear:e=>{e&&bt("DisciplineID")}})),i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(f.Z,{json:P.A,id:Se.FrequencyID,"data-testid":Se.FrequencyID,value:Se.FrequencyName,SPName:"SchComDiscipline",FieldName:"FrequencyID",tfLabel:ut("FrequencyID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>vt(e,"FrequencyID","select"),onChange:(e,t)=>{Et(e,t,"FrequencyIDPK")},KeyBack:e=>{Mt("FrequencyID")},fieldorder:"2",data:fe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:fe.length>0?fe[0].TotalCount:0,openSlide:()=>{yt("457")},Tabledialog:()=>It("457","FrequencyID"),loading:Ie,clear:e=>{e&&bt("FrequencyID")}})),i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(p.Z,{json:P.A,"data-testid":Se.MaintenanceHours,SPName:"SchComDiscipline",FieldName:"MaintenanceHours",tfLabel:ut("MaintenanceHours"),frmctrlid:"fld559_10952",fieldorder:"3",onChange:e=>{vt(e,"MaintenanceHours","number"),ye({type:"text",name:"MaintenanceHours",value:e.Days}),ye({type:"text",name:"MaintenanceHoursDays",value:e.val})},clear:e=>{e&&(ye({type:"text",name:"MaintenanceHours",value:""}),ye({type:"text",name:"MaintenanceHoursDays",value:""}))},placeholder:"DDD:HH:MM",value:Se.MaintenanceHoursDays})),i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(p.Z,{json:P.A,"data-testid":Se.ManPower,SPName:"SchComDiscipline",FieldName:"ManPower",tfLabel:ut("ManPower"),frmctrlid:"fld559_10951",fieldorder:"4",onChange:e=>{vt(e,"ManPower","number")},clear:e=>{e&&ye({type:"number",name:"ManPower",number:0})},value:Se.ManPower})),i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(p.Z,{json:P.A,"data-testid":Se.ManHour,SPName:"SchComDiscipline",FieldName:"ManHour",tfLabel:ut("ManHour"),frmctrlid:"fld559_10948",fieldorder:"1",onChange:e=>{vt(e,"ManHour","number")},clear:e=>{e&&ye({type:"number",name:"ManHour",number:0})},value:z()(Se.ManHour)})),i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(p.Z,{json:P.A,"data-testid":Se.ManSecond,SPName:"SchComDiscipline",FieldName:"ManSecond",tfLabel:ut("ManSecond"),frmctrlid:"fld559_10950",fieldorder:"1",onChange:e=>{vt(e,"ManSecond","number")},clear:e=>{e&&ye({type:"number",name:"ManSecond",number:0})},value:Se.ManSecond})),i().createElement(D.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(p.Z,{json:P.A,"data-testid":Se.SchComCompleteby,SPName:"SchComDiscipline",FieldName:"SchComCompleteby",tfLabel:ut("SchComCompleteby"),frmctrlid:"fld559_18495",fieldorder:"1",onChange:e=>{vt(e,"SchComCompleteby","number")},clear:e=>{e&&ye({type:"number",name:"SchComCompleteby",number:0})},value:Se.SchComCompleteby})))))),i().createElement("div",{className:"l4-side-menu "+(Te?"":"displayNone"),style:{display:"none"}},i().createElement("div",{className:"cardhight cardl4"},i().createElement("div",null,i().createElement("div",{className:"SchComDiscipline-sublink formpanel"},i().createElement("div",{className:"divacc",style:{display:"none"}},i().createElement(c.Z,{expanded:"panelS@number@"==nt,onChange:("panelS@number@",(e,t)=>{ct(!!t&&"panelS@number@")})},i().createElement(r.Z,{className:"accpanel",expandIcon:i().createElement(M.Z,{className:"iconExpand"})},i().createElement("p",{className:"mpadd5 plinkactive"},"Invisible Fields")),i().createElement(s.Z,null,i().createElement(u.Z,{spacing:12},i().createElement(D.Z,{xs:12,md:12,lg:12,sm:12},i().createElement(f.Z,{"data-testid":Se.SchComDisciplineCode,json:P.A,SPName:"SchComDiscipline",FieldName:"SchComDisciplineCode",tfLabel:ut("SchComDisciplineCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Nt(t),onClick:()=>{Re&&ft(1,"","ClearAll"),Oe(!0)},frmctrlid:"fld559_10945",frmctrlidName:"SchComDisciplineCode",fieldorder:"1",data:fe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:fe.length>0?fe[0].TotalCount:0,onChange:(e,t)=>{Re&&ft(e,t,"SchComDisciplineCode"),vt(t,"SchComDisciplineCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Oe(!0)},showList:Re,SideEntryView:!1,KeyBack:e=>{},value:Se.SchComDisciplineCode,loading:Ie,clear:e=>{e&&(ye({type:"text",name:"SchComDisciplineCode",value:""}),Oe(!0))}})),i().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(f.Z,{"data-testid":Se.MinMins,json:P.A,SPName:"SchComDiscipline",FieldName:"MinMins",tfLabel:ut("MinMins"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Nt(t),onClick:()=>{Ve&&ft(1,"","ClearAll"),ze(!0)},frmctrlid:"fld559_10946",frmctrlidName:"MinMins",fieldorder:"1",data:fe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:fe.length>0?fe[0].TotalCount:0,onChange:(e,t)=>{Ve&&ft(e,t,"MinMins"),vt(t,"MinMins","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ze(!0)},showList:Ve,SideEntryView:!1,KeyBack:e=>{},value:Se.MinMins,loading:Ie,clear:e=>{e&&(ye({type:"text",name:"MinMins",value:""}),ze(!0))}})),i().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(f.Z,{"data-testid":Se.ManMinute,json:P.A,SPName:"SchComDiscipline",FieldName:"ManMinute",tfLabel:ut("ManMinute"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Nt(t),onClick:()=>{He&&ft(1,"","ClearAll"),Ke(!0)},frmctrlid:"fld559_10949",frmctrlidName:"ManMinute",fieldorder:"1",data:fe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:fe.length>0?fe[0].TotalCount:0,onChange:(e,t)=>{He&&ft(e,t,"ManMinute"),vt(t,"ManMinute","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ke(!0)},showList:He,SideEntryView:!1,KeyBack:e=>{},value:Se.ManMinute,loading:Ie,clear:e=>{e&&(ye({type:"text",name:"ManMinute",value:""}),Ke(!0))}})),i().createElement(D.Z,{xs:12,md:12,lg:12,sm:12,style:{display:"none"}},i().createElement(f.Z,{"data-testid":Se.MaxMins,json:P.A,SPName:"SchComDiscipline",FieldName:"MaxMins",tfLabel:ut("MaxMins"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&Nt(t),onClick:()=>{qe&&ft(1,"","ClearAll"),Ge(!0)},frmctrlid:"fld559_10947",frmctrlidName:"MaxMins",fieldorder:"1",data:fe,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:fe.length>0?fe[0].TotalCount:0,onChange:(e,t)=>{qe&&ft(e,t,"MaxMins"),vt(t,"MaxMins","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ge(!0)},showList:qe,SideEntryView:!1,KeyBack:e=>{},value:Se.MaxMins,loading:Ie,clear:e=>{e&&(ye({type:"text",name:"MaxMins",value:""}),Ge(!0))}}))))))))),i().createElement("div",{id:"SchComDisciplineSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("SchComDisciplineSideBar").style.width="0",void le(!1))},"×"),ae&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},ie)))))))))))))))))}))},73192:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ContextApi:()=>g,SchComDisciplineContext:()=>C,default:()=>h});var l=a(92950),i=a.n(l),n=a(17189),c=a(45965),s=a(4720),r=a(45237),o=a(26537),m=a(30037),d=a(67698),p=a(55995),u=(a(37274),a(9175)),D=a.n(u);const C=(0,l.createContext)();function g(){const e=i().useContext(C);if(void 0===e)throw new Error("ContextApi must be used within a SchComDisciplineContext.Provider");return e}const h=(0,l.forwardRef)(((e,t)=>{(0,r.useSelector)((e=>e.form));const a=(0,l.useRef)(),u=(0,r.useDispatch)(),[g,h]=(0,l.useState)(0),[S,y]=i().useReducer(m.d,m.E),I=(0,l.useRef)(),E=(0,l.useRef)(),f=(0,l.useRef)(),[v,b]=(0,l.useState)(),[M,N]=(0,l.useState)(null),[w,P]=(0,l.useState)(""),T=(0,l.useRef)(),[x,F]=(0,l.useState)([]),[k,A]=(0,l.useState)(!1);(0,l.useEffect)((()=>{u((e=>{(0,o.Z)(1).then((e=>{var t=new Array;t.push(e),y({type:"token",payload:t}),h(t.length),Z(e)}))})),e.loading(!0)}),[]),(0,l.useEffect)((()=>{e.editData&&(y({type:"ShowView",payload:!0}),y({type:"PrimaryData",payload:e.editData}),a.current.editRecord(e.editData,!1,!0),y({type:"IsDraft",payload:!1}),B(!0))}),[e.editData]);const Z=e=>{(0,c.Z)(e,559).then((e=>y({type:"AccessRights",payload:e})))};function B(e){y({type:"expandDetail",payload:"mainpanel"}),e?(document.getElementById("SchComDiscipline-MainTable").style.width="0%",document.getElementById("SchComDiscipline-MainEntry").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.display="flex",document.getElementById("SchComDiscipline-MainTable").style.display="none",y({type:"Showtable",payload:!1})):(document.getElementById("SchComDiscipline-MainTable").style.width="100%",document.getElementById("SchComDiscipline-MainTable").style.display="block",document.getElementById("SchComDiscipline-MainEntry").style.width="0%",document.getElementById("SchComDiscipline-MainEntry").style.display="none",y({type:"Showtable",payload:!0}),I.current.tableRefresh())}return i().createElement("div",null,i().createElement(C.Provider,{value:{cstate:S,cdispatch:y,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),edit:(e,t,l)=>{return n=t,c=l,void((i=e)?(y({type:"ShowView",payload:!0}),y({type:"PrimaryData",payload:i}),n?a.current.editRecord(i,n,!1):a.current.editRecord(i,n,c),y({type:"IsDraft",payload:n}),B(!0)):(a.current.formlink(0),y({type:"ShowView",payload:!1}),B(!0),a.current.clear()));var i,n,c},add:()=>a.current.Add(),editview:e=>{a.current.Editview(e),y({type:"expandDetail",payload:"mainpanel"})},ShowTableDiv:e=>B(e),AttachExpand:e=>(E.current.AttachmentData(S.PrimaryId),void(S.ExpandTableValue?(document.getElementById("overlayimgAttSchComDiscipline").style.width="30%",document.getElementById("divSchComDiscipline-Entry").style.width="100%",document.getElementById("SchComDiscipline-MainTable").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.width="100%",document.getElementById("SchComDiscipline-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDiscipline-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttSchComDiscipline").style.display="block",document.getElementById("SchComDisciplineTbsearch").style.display="none"):(document.getElementById("SchComDiscipline-MainTable").style.width="40%",document.getElementById("divSchComDiscipline-Entry").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.display="block",document.getElementById("SchComDiscipline-MainDiv").classList.add("displayFlex"),document.getElementById("SchComDiscipline-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttSchComDiscipline").style.width="30%",document.getElementById("overlayimgAttSchComDiscipline").style.display="block",document.getElementById("SchComDisciplineTbsearch").style.display="none"))),openDialog:t=>e.openDialog(t),Approval:e=>A(e),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{f.current.tempsave(e,x),F([])},floatRefresh:()=>T.current.countRefresh()}},i().createElement("div",{className:"MainDivStyles displayGrid"},i().createElement("div",{id:"SchComDiscipline-MainDiv",className:"Maincontent",style:{paddingTop:"8px",minHeight:"100vh"}},i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{className:"width100"},i().createElement("div",{id:"SchComDiscipline-MainTable",className:"commonSlide",style:{width:"100%",display:"block"}},0!==g&&i().createElement(s.default,{ref:I})),i().createElement("div",{className:"displayFlex"},i().createElement("div",{className:"width100"},i().createElement(n.default,{ref:a,clrImgstate:e=>E.current.clrImgstate(e)}),i().createElement(p.Z,{ref:f,menurefID:559,fileId:"LogoImgSchComDiscipline",imgloading:e=>b(e),valueIDPK:S.PrimaryId,AttachmentVal:e=>E.current.AttachmentData(e),previd:"overlayPreviewSchComDiscipline",AccessRights:S.AccessRights,frmctrlid:"PvwIm_559_L4_",tempImg:e=>{S.PrimaryId?E.current.AttachmentData(S.PrimaryId):E.current.tempImg(e),F(e)},clearTempData:S.Add})),i().createElement(d.Z,{ImgAttachment:e=>{S.IsCollapse?(document.getElementById("SchComDiscipline-MainTable").style.width="50%",document.getElementById("divSchComDiscipline-Entry").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.display="block",document.getElementById("SchComDiscipline-MainDiv").classList.add("displayFlex"),document.getElementById("SchComDiscipline-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttSchComDiscipline").style.width="0%",document.getElementById("overlayimgAttSchComDiscipline").style.display="none",document.getElementById("SchComDisciplineTbsearch").style.display="block"):(document.getElementById("overlayimgAttSchComDiscipline").style.width="0%",document.getElementById("overlayimgAttSchComDiscipline").style.display="none",document.getElementById("divSchComDiscipline-Entry").style.width="100%",document.getElementById("SchComDiscipline-MainTable").style.width="100%",document.getElementById("SchComDiscipline-MainEntry").style.width="100%",document.getElementById("SchComDiscipline-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDiscipline-MainDiv").classList.add("displayGrid"),document.getElementById("SchComDisciplineTbsearch").style.display="block")},menurefID:559,fileId:"AttImgSchComDiscipline",imgid:"overlayimgAttSchComDiscipline",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{f.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewSchComDiscipline",ref:E,imgloading:v,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_559_L4_",timglist:e=>f.current.timglist(e),clearTempData:S.Add})))))),k&&i().createElement(D(),{openDialog:k,closeDialog:e=>A(e),formID:559,PrimID:S.PrimaryId,alert:(e,t,l)=>{"Approval Sent Succesfully"==e.message&&a.current.cardRefresh()},loading:t=>{e.loading(t)}})))}))},4720:(e,t,a)=>{"use strict";a.r(t),a.d(t,{SchComDisciplinePopUpTable:()=>j,default:()=>U}),a(95866);var l=a(92950),i=a.n(l),n=a(45237),c=a(36939),s=a(61201),r=a(50743),o=a(59009),m=a(80366),d=a(51673),p=a(71377),u=a(35025),D=a(64566),C=a(54180),g=a(47516),h=(a(14439),a(27848),a(42258)),S=a(40900),y=a(83032),I=(a(44117),a(73192));function E(e){(0,n.useSelector)((e=>e.form));const[t,a]=(0,l.useState)([]),[c,s]=(0,l.useState)([]),[r,o]=(0,l.useState)(!1),[m,p]=(0,l.useState)([]),[u,D]=(0,l.useState)([]),[C,g]=(0,l.useState)([]),[E,f]=(0,l.useState)([]),[v,b]=(0,l.useState)([]),[M,N]=(0,l.useState)({id:"",type:""}),[w,P]=(0,l.useState)({}),[T,x]=(0,l.useState)(1),{cstate:F,cdispatch:k}=(0,I.ContextApi)(),[A,Z]=(0,l.useState)({}),[B,L]=(0,l.useState)(!1),[R,O]=(0,l.useState)({}),[V,z]=(0,l.useState)({current:1,pageSize:10}),[H,K]=(0,l.useState)(""),[q,G]=(0,l.useState)(""),[_,U]=(0,l.useState)({type:"SchComDisciplineIDPK",params:{}});(0,l.useEffect)((()=>{e.onload&&j(A,"SchComDisciplineIDPK"),o(!1)}),[e.onload]),(0,l.useEffect)((()=>{e.refresh&&j(_.params,"SchComDisciplineIDPK")}),[e.refresh]),(0,l.useEffect)((()=>{j(e.json,"SchComDisciplineIDPK"),P(e.json),document.getElementById("SchComDisciplineGridViewCard").style.width="100%"}),[e.json]);const j=(t,l)=>{let i=S.v.Api+"FP559S5/",n={data:{p1:t&&t.SchComDisciplineIDPK?t.SchComDisciplineIDPK:null,p2:t&&t.SchComDisciplineCode?t.SchComDisciplineCode:null,p3:t&&t.MinMins?t.MinMins:null,p4:t&&t.MaxMins?t.MaxMins:null,p5:t&&t.ManHour?t.ManHour:null,p6:t&&t.ManMinute?t.ManMinute:null,p7:t&&t.ManSecond?t.ManSecond:null,p8:t&&t.ManPower?t.ManPower:null,p9:t&&t.MaintenanceHours?t.MaintenanceHours:null,p10:t&&t.SchComCompleteby?t.SchComCompleteby:null,p11:null,p12:null,p13:t&&t.FrequencyID?t.FrequencyID:null,p14:t&&t.DisciplineID?t.DisciplineID:null,p15:e.Dialogview?"1":null,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.FrequencyCode?t.FrequencyCode:null,p23:t&&t.FrequencyName?t.FrequencyName:null,p24:t&&t.DivisionID?t.DivisionID:null,p25:t&&t.DivisionCode?t.DivisionCode:null,p26:t&&t.DivisionName?t.DivisionName:null,p27:t&&t.DisciplineCode?t.DisciplineCode:null,p28:t&&t.DisciplineName?t.DisciplineName:null,p29:1,p30:10,p31:l,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};(0,d.Z)(i,n,F.token[0]).then((e=>{if(e.Output.data){let t=e.Output.data;"SchComDisciplineIDPK"==l?(a(t),o(!1)):(s(t),o(!0))}}))};return i().createElement("div",{id:"SchComDisciplineGridViewCard"},i().createElement("div",{className:"GridViewChildCard"},i().createElement(y.Z,{name:H.DisplayName,count:H.Total,id:"SchComDisciplinePopUpTableSchema",showSearch:e.showSearch,type:"Schema",chipdata:c,showview:B,viewcomponent:B&&i().createElement(ViewComponent,{ExpandDetailValue:!0,l4viewonly:B,data:R,editopen:function(e){O(e),document.getElementById("SchComDisciplinePopUpTableSchema").style.width="0",document.getElementById("SchComDisciplinePopUpTableSchema").style.padding="0",document.getElementById("SchComDiscipline-ThemeSlide1").style.width="3.3%",document.getElementById("SchComDiscipline-ThemeSlide1").style.background="none",document.getElementById("SchComDiscipline-Floatcnt").style.width="0",document.getElementById("SchComDiscipline-Floatcnt").style.display="none",document.getElementById("sidebarwid").style.zIndex="1"}}),tablecomponent:i().createElement(h.Z,{dynamic:!0,name:CardName,tableData:c,TableVisibleItem:[],TableBodyItem:[]}),data:t,sendparams:Z,getChildData:(e,t)=>{j(w,e,V),setCardName(t.Name)},float:!0})))}var f=a(43031),v=a(110),b=a(88995),M=a(5109),N=a(868),w=a(39327),P=a(3212),T=a(24038),x=a(79352),F=a(51209),k=a(8981),A=a(86893),Z=a(53854),B=a(37106),L=a(5434),R=a(93521),O=(a(79117),a(26537),a(61956),a(35131),a(45441)),V=a(71168),z=a.n(V),H=a(65107),K=a(94986),q=a(15999),G=a(11557),_=a(25108);window.clickFilter="";const U=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),h=(0,l.useRef)(null),y=(0,l.useRef)(null),V=(0,l.useRef)(null),U=(0,l.useRef)(null),[j]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[Y]=(0,l.useState)("559"),[$,Q]=(0,l.useState)(!0),[W,J]=(0,l.useState)(!1),[X,ee]=(0,l.useState)(0),[te,ae]=(0,l.useState)(0),[le,ie]=(0,l.useState)(0),[ne,ce]=(0,l.useState)({current:1,pageSize:100}),[se,re]=(0,l.useState)(""),[oe,me]=(0,l.useState)([]),[de,pe]=(0,l.useState)({val:"",column:""}),[ue,De]=(0,l.useState)([]),[Ce,ge]=(0,l.useState)(!1),[he,Se]=(0,l.useState)(""),[ye,Ie]=(0,l.useState)(""),[Ee,fe]=(0,l.useState)(!1),[ve,be]=(0,l.useState)(!1),[Me,Ne]=(0,l.useState)([]),[we,Pe]=(0,l.useState)([]),[Te,xe]=(0,l.useState)([]),[Fe,ke]=(0,l.useState)(!1),[Ae,Ze]=(0,l.useState)({children:[{name:"SchComDiscipline",children:[]}]}),[Be,Le]=(0,l.useState)(!1);let Re={SchComDisciplineIDPK:"",SchComDisciplineCode:"",MinMins:"",MaxMins:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",SchComCompleteby:"",IsDraft:"",Remarks:"",FrequencyID:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Oe,Ve]=(0,l.useState)(Re),[ze,He]=(0,l.useState)(Re),[Ke,qe]=(0,l.useState)(Re),[Ge,_e]=(0,l.useState)(Re),[Ue,je]=(0,l.useState)("asc"),[Ye,$e]=(0,l.useState)(""),[Qe,We]=(0,l.useState)(!1),[Je,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[it,nt]=(0,l.useState)({DisciplineName:"",FrequencyName:"",MaintenanceHours:"",ManPower:"",ManHour:"",ManSecond:"",SchComCompleteby:"",SchComDisciplineCode:"",MinMins:"",ManMinute:"",MaxMins:""}),ct=(0,l.useContext)(e.context?e.context:I.SchComDisciplineContext),{cstate:st,cdispatch:rt}=e.ContextApi?e.ContextApi:(0,I.ContextApi)(),[ot,mt]=(0,l.useState)(!1),[dt,pt]=(0,l.useState)([]),[ut,Dt]=(0,l.useState)(0),[Ct,gt]=(0,l.useState)(0),[ht,St]=(0,l.useState)({current:1,pageSize:10}),[yt,It]=(0,l.useState)([]),[Et,ft]=(0,l.useState)([]),[vt,bt]=(0,l.useState)(!1),[Mt]=(0,l.useState)(localStorage.getItem("Language")),[Nt]=(0,l.useState)(localStorage.getItem("Language")),[wt,Pt]=(0,l.useState)(!1),[Tt,xt]=z()("559"),[Ft,kt]=(0,l.useState)(0),[At]=(0,l.useState)("780"),[Zt,Bt]=(0,l.useState)([]),[Lt,Rt]=(0,l.useState)([]);let Ot={DisciplineName:"",FrequencyName:"",MaintenanceHours:"",ManPower:"",ManHour:"",ManSecond:"",SchComCompleteby:"",SchComDisciplineCode:"",MinMins:"",ManMinute:"",MaxMins:""};const Vt=[{columns:yt,data:se}];let zt=(0,k.Z)();const Ht=e=>zt?.[e]?zt[e]:e,Kt=e=>st.language?.[e]?st.language[e]:e;(0,l.useEffect)((()=>{Yt(Tt),function(e){const t=e.filter((e=>e.FormID==At));let a=[],l=[];t.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),l.push(e.FieldName))})),Bt(a),Rt(l)}(Tt)}),[Tt]),(0,l.useEffect)((()=>{ve||Fe||Be?ve?He(he):Fe?qe(he):Be&&_e(he):(Ve(he),st.token.length>0&&qt({current:1,pageSize:100},he,"SchComDisciplineID"))}),[he]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&J(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ut(e.searchsafaritext,{current:ne.current,pageSize:ne.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{Ut(e,{current:1,pageSize:100})},tableRefresh:()=>{qt(ne,he,"SchComDisciplineID")}})));const qt=(e,t,a,l,i)=>{ct.loading(!0);let n=S.v.Api+"FP559S3/",c={data:{p1:l||(t&&t.SchComDisciplineIDPK?t.SchComDisciplineIDPK:null),p2:t&&t.SchComDisciplineCode?t.SchComDisciplineCode:null,p3:t&&t.MinMins?t.MinMins:null,p4:t&&t.MaxMins?t.MaxMins:null,p5:t&&t.ManHour?t.ManHour:null,p6:t&&t.ManMinute?t.ManMinute:null,p7:t&&t.ManSecond?t.ManSecond:null,p8:t&&t.ManPower?t.ManPower:null,p9:t&&t.MaintenanceHours?t.MaintenanceHours:null,p10:t&&t.SchComCompleteby?t.SchComCompleteby:null,p11:"DraftSchComDisciplineID"==a?"1":"0",p12:null,p13:t&&t.FrequencyID?t.FrequencyID:null,p14:t&&t.DisciplineID?t.DisciplineID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.FrequencyCode?t.FrequencyCode:null,p23:t&&t.FrequencyName?t.FrequencyName:null,p24:t&&t.DivisionID?t.DivisionID:null,p25:t&&t.DivisionCode?t.DivisionCode:null,p26:t&&t.DivisionName?t.DivisionName:null,p27:t&&t.DisciplineCode?t.DisciplineCode:null,p28:t&&t.DisciplineName?t.DisciplineName:null,p29:l?1:e.current,p30:e.pageSize,p31:a,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};(0,d.Z)(n,c,st.token[0]).then((l=>{if("200"==l.Output.status.code)if(l.Output.data.length>0){if(l.Output.data){let t=0;l.Output.data.length>0?(t=parseFloat(l.Output.data[0].TotalCount,10)/10,ae(l.Output.data[0].TotalCount),rt({type:"count",payload:l.Output.data[0].TotalCount}),ie(l.Output.data[0].DraftCnt)):(t=0,ae(0),rt({type:"count",payload:0}),ie(0)),10==e.pageSize?ee(Math.ceil(t)):20==e.pageSize?ee(Math.ceil(t/2)):50==e.pageSize?ee(Math.ceil(t/5)):100==e.pageSize&&ee(Math.ceil(t/10)),De(l.Output.data),ct.loading(!1)}"DraftSchComDisciplineID"===a?(We(!0),fe(!1)):We(!1)}else"DraftSchComDisciplineID"===a?(ct.alert({open:!0,color:"warning",message:["There is no Record Found"]}),fe(!0),We(!1),ct.loading(!1)):(We(!1),De([]),ce({current:1,pageSize:100}),ee(0),ae(0),ct.loading(!1),Object.values(t).some((e=>e))&&(ct.alert({open:!0,color:"warning",message:["There is no Record Found"]}),document.getElementById("SchComDiscipline-MainTable").style.display="block"));else ct.alert({open:!0,color:"warning",message:[l.Output.status.message]}),ct.loading(!1)}))},Gt=()=>{Ce?(document.getElementById("SchComDisciplineFilterDiv").style.width="0%",document.getElementById("SchComDisciplineTabDiv").style.width="100%",document.getElementById("SchComDisciplineFilterDiv").style.display="none",ge(!1),ve?(document.getElementById("SchComDisciplinefildiv").style.width="fit-content",document.getElementById("SchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"):at?Fe?(document.getElementById("SchComDisciplinefildiv").style.width="fit-content",document.getElementById("SchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("SchComDisciplinecoldiv").style.width="fit-content",document.getElementById("SchComDisciplinecoldiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("SchComDisciplinefildiv").style.width="fit-content",document.getElementById("SchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("SchComDisciplinefildiv").style.width="fit-content",document.getElementById("SchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("SchComDisciplineFilterDiv").style.width="25%",document.getElementById("SchComDisciplineTabDiv").style.width="75%",document.getElementById("SchComDisciplineFilterDiv").style.display="block",ge(!0),document.getElementById("SchComDisciplinefildiv").style.width="fit-content",document.getElementById("SchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px"),fe(!1),window.clickFilter=!Ce},_t=()=>{Ee?(document.getElementById("SchComDisciplineFilterDiv").style.width="0%",document.getElementById("SchComDisciplineTabDiv").style.width="100%",document.getElementById("SchComDisciplineFilterDiv").style.display="none",document.getElementById("SchComDisciplinecoldiv").style.width="fit-content",document.getElementById("SchComDisciplinecoldiv").getElementsByTagName("svg")[0].style.padding="4px",fe(!1)):(document.getElementById("SchComDisciplineFilterDiv").style.width="25%",document.getElementById("SchComDisciplineTabDiv").style.width="75%",document.getElementById("SchComDisciplineFilterDiv").style.display="block",document.getElementById("SchComDisciplinefildiv").style.width="fit-content",document.getElementById("SchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("SchComDisciplinecoldiv").style.width="fit-content",document.getElementById("SchComDisciplinecoldiv").getElementsByTagName("svg")[0].style.padding="4px",fe(!0)),ge(!1)};function Ut(e,t){ct.loading(!0);const a=S.v.Api+"FP559S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Qe?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(a,l,st.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let i=0;e.Output.data.length>0?(i=parseFloat(e.Output.data[0].TotalCount,10)/10,ae(e.Output.data[0].TotalCount),ie(e.Output.data[0].DraftCnt)):(i=0,ae(0),ie(0)),10==t.pageSize?ee(Math.ceil(i)):20==t.pageSize?ee(Math.ceil(i/2)):50==t.pageSize?ee(Math.ceil(i/5)):100==t.pageSize&&ee(Math.ceil(i/10)),De(e.Output.data);for(var a=document.querySelectorAll("#SchComDisciplineTable td"),l=0;l<a.length;++l)a.forEach((function(e,t){e.textContent.toLowerCase().includes(ye.toLowerCase())&&ye.length>0&&(e.style.color="#ffa502")}));ct.loading(!1)}else De([]),ce({current:1,pageSize:100}),ee(0),ae(0),ie(0),ct.loading(!1),ct.alert({open:!0,color:"warning",message:["There is no Record Found"]});else ct.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ct.loading(!1)}))}function jt(e){"Table"==e?(document.getElementById("SchComDiscipline-TabView").classList.add("ViewBtnAct"),document.getElementById("SchComDiscipline-ShowView").classList.remove("ViewBtnAct"),be(!1),ke(!1),Le(!1)):"Grid"==e?(document.getElementById("SchComDisciplineFilterDiv").style.width="0%",document.getElementById("SchComDisciplineTabDiv").style.width="100%",document.getElementById("SchComDisciplineFilterDiv").style.display="none",document.getElementById("SchComDisciplinefildiv").style.width="35px",document.getElementById("SchComDisciplinefildiv").getElementsByTagName("svg")[0].style.padding="15%",be(!0),ke(!1),Le(!1),ge(!1),fe(!1),lt(!0),document.querySelector('[data-bid="559List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Grid"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="559Tile"]').classList.remove("buttonGrpActive")):"Bubble"==e?(document.getElementById("SchComDiscipline-TabView").classList.remove("ViewBtnAct"),document.getElementById("SchComDisciplineFilterDiv").style.width="0%",document.getElementById("SchComDisciplineTabDiv").style.width="100%",document.getElementById("SchComDisciplineFilterDiv").style.display="none",ke(!0),be(!1),Le(!1),ge(!1),fe(!1),lt(!0)):"Share"==e?(document.getElementById("SchComDiscipline-TabView").classList.remove("ViewBtnAct"),document.querySelector('[data-bid="559List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Grid"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Share"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="559Tile"]').classList.remove("buttonGrpActive"),ke(!1),be(!1),Le(!0),ge(!1),fe(!1),lt(!0)):"List"==e?(be(!1),Le(!1),lt(!0),bt(!1),document.querySelector('[data-bid="559List"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="559Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Tile"]').classList.remove("buttonGrpActive")):"Card"==e?(lt(!1),bt(!1),document.querySelector('[data-bid="559List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Card"]').classList.add("buttonGrpActive"),document.querySelector('[data-bid="559Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Tile"]').classList.remove("buttonGrpActive")):"Tile"==e?(bt(!0),lt(!1),document.querySelector('[data-bid="559List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Show"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Tile"]').classList.add("buttonGrpActive")):"Show"==e&&(document.querySelector('[data-bid="559List"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Card"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Tile"]').classList.remove("buttonGrpActive"),document.querySelector('[data-bid="559Show"]').classList.add("buttonGrpActive"),ke(!1),be(!1),Le(!0),lt(!0),Ce&&_t())}function Yt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,fieldname:e.FieldName,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]}),"IsShow"==e.FieldName&&rt({type:"IsShow",payload:!0})})),rt({type:"language",payload:Object.assign({},...i)}),nt(a.reduce(((e,t)=>(e[t]="",e)),{})),Ne(e),Pe(t),xe(a),It(l),ft(a)}function $t(e,t){ct.edit(e),ge(!1),document.getElementById("SchComDiscipline-Detail").style.width="64%",document.getElementById("SchComDiscipline-Detail").style.display="block",document.getElementById("SchComDiscipline-Table").style.width="35%",document.getElementById("SchComDiscipline-TabView").classList.add("ViewButtonAct"),document.getElementById("SchComDiscipline-GridView").classList.remove("ViewButtonAct"),document.getElementById("SchComDiscipline-BubbleView").classList.remove("ViewButtonAct"),be(!1),ke(!1),Le(!1);let a={DisciplineID:"",FrequencyID:"",MaintenanceHours:"",ManPower:"",ManHour:"",ManSecond:"",SchComCompleteby:"",SchComDisciplineCode:"",MinMins:"",ManMinute:"",MaxMins:""};Ve(a),qt({current:1,pageSize:100},a,"SchComDisciplineID")}function Qt(e){ct.loading(!0);let t=S.v.Api+"FP559S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,a,st.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,gt(t.Output.data[0].TotalCount)):(a=0,gt(0)),10==e.pageSize?Dt(Math.ceil(a)):20==e.pageSize?Dt(Math.ceil(a/2)):50==e.pageSize?Dt(Math.ceil(a/5)):100==e.pageSize&&Dt(Math.ceil(a/10)),pt(t.Output.data),ct.loading(!1)}else ct.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ct.loading(!1)}))}(0,l.useEffect)((()=>{tt(e.ExpandTableValue)}),[e.ExpandTableValue]);return i().createElement("div",null,i().createElement(c.Z,{expanded:Je,onChange:()=>()=>{Xe(et)}},i().createElement(r.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100 L3Header"},i().createElement("div",null,i().createElement("div",{className:"displayFlex"},Qe?i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("div",{id:"fld559L4TCKeyboardBackspaceRounded",onClick:()=>{qt(ne,Re,"SchComDisciplineID"),We(!1)}},i().createElement(N.ZP,{title:"List",placement:"top"},i().createElement(L.aQX,{className:"BackBtnIcon"}))),i().createElement("div",{id:"fld559L4TCDraftP",onClick:()=>qt(ne,Re,"DraftSchComDisciplineID")},i().createElement(N.ZP,{title:"Draft",placement:"top"},i().createElement("p",{className:"DraftP"},"Drafts(",te,")")))):i().createElement("div",{className:"ListHeader displayFlex"},e.ExpandTableValue?Je?i().createElement(u.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!1)}}):i().createElement(D.Z,{className:"ArrowIconsLight",onClick:()=>{Xe(!0)}}):null,i().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[559]",onClick:()=>e.ExpandTableValue&&Xe(!Je)},`${Kt("559")} (${Be?Ft:te})`)))),i().createElement("div",null,ve||Fe||Be||Qe?null:i().createElement("div",{className:"displayFlex"},i().createElement("div",{id:"fld559L4TCSearchBar",className:"searchbar",style:{marginRight:"2%"}},i().createElement(T.Z,{className:"search_input",type:"text",id:"SchComDisciplinegridsearch",placeholder:"Search",value:ye,onChange:e=>{if(Ie(e),"0"==e.length)return qt(ne,he,Qe?"DraftSchComDisciplineID":"SchComDisciplineID",Qe&&"DraftPage"),!1;Ut(e,{current:1,pageSize:100})}}),i().createElement("div",{className:"search_icon"},ye?i().createElement("div",{id:"fld559L4TCInputCloseIcon",onClick:()=>{Ie(""),qt(ne,he,Qe?"DraftSchComDisciplineID":"SchComDisciplineID",Qe&&"DraftPage")}},i().createElement(m.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld559L4TCInputSearchIcon",onClick:()=>{Ie(""),tableRefresh()}},i().createElement(b.Z,{className:"InputSearchIcon"})))),st.AccessRights.IsAdd&&i().createElement(P.Z,{disabled:!1,className:"SaveBtnCommon",name:"Add",frmctrlid:"fld559L4ECAddBtnIsAdd",onClick:()=>{ct.edit(!1),ct.add()}}))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"SchComDiscipline-HeaderItems",className:"displayFlex padding"},i().createElement("div",{className:"tableHeaderItems displayFlex"},!Qe&&i().createElement("div",{frmctrlid:"fld559L4TCFilterDataIsDraft",id:"SchComDisciplinefildiv",className:"buttoncard",onClick:()=>{Gt()}},i().createElement(N.ZP,{title:Ht("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(g.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Ht("Filter Data"))),i().createElement(C.Z,{formctrlidprint:"fld559L4TCExportPrint",formctrlidexport:"fld559L4TCExportTable",formctrlidrefresh:"fld559L4TCExportRefresh",title:"559",data:oe,exportData:Vt,Items:Et,columnIndex:yt,TableVisibleItem:we,userGridViewFormID:Y,TableTotalCount:te,triggerApi:e=>{((e,t,l,i,n)=>{if(0===te)return ct.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Ot[t]=e,ct.loading(!0);let c=S.v.Api+"FP559S3/",s={data:{p1:e&&e.SchComDisciplineIDPK?e.SchComDisciplineIDPK:null,p2:e&&e.SchComDisciplineCode?e.SchComDisciplineCode:null,p3:e&&e.MinMins?e.MinMins:null,p4:e&&e.MaxMins?e.MaxMins:null,p5:e&&e.ManHour?e.ManHour:null,p6:e&&e.ManMinute?e.ManMinute:null,p7:e&&e.ManSecond?e.ManSecond:null,p8:e&&e.ManPower?e.ManPower:null,p9:e&&e.MaintenanceHours?e.MaintenanceHours:null,p10:e&&e.SchComCompleteby?e.SchComCompleteby:null,p11:Qe?"1":"0",p12:null,p13:e&&e.FrequencyID?e.FrequencyID:null,p14:e&&e.DisciplineID?e.DisciplineID:null,p15:e&&e.IsActive,p16:null,p17:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p18:e&&e.CreatedTtm?e.CreatedTtm:null,p19:e&&e.CreatedTtmType?e.CreatedTtmType:null,p20:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p21:null,p22:e&&e.FrequencyCode?e.FrequencyCode:null,p23:e&&e.FrequencyName?e.FrequencyName:null,p24:e&&e.DivisionID?e.DivisionID:null,p25:e&&e.DivisionCode?e.DivisionCode:null,p26:e&&e.DivisionName?e.DivisionName:null,p27:e&&e.DisciplineCode?e.DisciplineCode:null,p28:e&&e.DisciplineName?e.DisciplineName:null,p29:ne.current,p30:te,p31:Qe?"DraftSchComDisciplineID":"SchComDisciplineID",p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};ct.loading(!1),ct.alert({open:!0,color:"success",message:[`${Kt(559)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(c,s,st.token[0],n).then((e=>{(0,R.PDF_Excel_Generate)(e,ct,Et,re,a,n)}))})(he,de.column,0,0,e)},Refresh:()=>{Ie(""),e.draftval?(qt({current:1,pageSize:100},Re,"DraftSchComDisciplineID"),ce({current:1,pageSize:100})):(qt({current:1,pageSize:100},Re,"SchComDisciplineID"),ce({current:1,pageSize:100}),Se({})),U.current&&U.current.clearItem()},disabledPrint:!st.AccessRights.IsPrint,disabledExport:!st.AccessRights.IsExport,ref:a}),!Qe&&i().createElement("div",{className:"buttoncard",onClick:()=>Pt(!wt)},i().createElement("span",null,wt?i().createElement(N.ZP,{disableFocusListener:!0,title:"Less",placement:"top"},i().createElement("span",{id:"fld559L4TCLess"},i().createElement(Z.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(N.ZP,{disableFocusListener:!0,title:"More",placement:"top"},i().createElement("span",{id:"fld559L4TCMore"},i().createElement(Z.ilJ,{className:"tableFilterColumnIcon"}))))),!Qe&&wt?i().createElement("div",{className:"EntryHeaderMore"},ve||Fe||Be||Qe?null:!Qe&&i().createElement("div",null,i().createElement("div",{frmctrlid:"fld559L4TCFilterDataIsAdd",id:"SchComDisciplinecoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{_t()}},i().createElement(N.ZP,{title:Ht("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(w.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Ht("Manage Columns")))),!Qe&&$&&!ve&&!Be&&!W&&i().createElement("div",{frmctrlid:"fld559L4TCExpMigSlide",className:"buttoncard",onClick:()=>(setTimeout((()=>V.current.getRefresh([])),2e3),ct.openNav(),void ct.SlideComponentType(i().createElement(O.Z,{ref:V,alert:e=>ct.alert(e),loading:e=>ct.loading(e),Api:"FP559S8/",data:e=>_.log(e),SheetCount:1,importSave:(e,t)=>(async(e,t)=>{if(e.length>0){ct.loading(!0);const a=S.v.Api+"FP559S8/";await(0,G.ProcessDataSyncSave)(a,e,t,ct,V)}})(e,t),TableVisibleItem:Zt,frmctrlid:"fld559L4TCExpMig",TableBodyItem:Lt,clear:e=>V.current.getRefresh([]),excelfile:S.v.excel+"SchComDiscipline.xlsx",filename:"SchComDiscipline.xlsx"})))},i().createElement(N.ZP,{title:Ht("Migration"),placement:"top"},i().createElement("div",null,i().createElement(x.ncH,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Ht("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&i().createElement("div",null,i().createElement("div",{frmctrlid:"fld559L4TCTableScrollData",id:"SchComDisciplinecoldiv",className:"buttoncard",onClick:()=>{ot?mt(!1):(mt(!0),Qt({current:1,pageSize:100}))}},i().createElement(N.ZP,{title:Ht("Table Scroll Data"),placement:"top"},i().createElement("div",null,i().createElement(q.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"iconinfo"},Ht("Table Scroll Data")))),st.AccessRights.IsAdd&&!Be&&i().createElement("div",null,i().createElement(o.Z,{color:"secondary",className:"badge",max:999,badgeContent:le,showZero:!0},i().createElement("div",{id:"fld559L4TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{qt({current:1,pageSize:100},Re,"DraftSchComDisciplineID"),We(!0),fe(!1),rt({type:"IsDraft",payload:!0}),document.getElementById("SchComDisciplineTabDiv").style.width="100%"}},i().createElement(N.ZP,{title:"Drafts",placement:"top"},i().createElement("div",null,i().createElement(B.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ht("Drafts")))))):""),!Qe&&!W&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},st.IsShow?i().createElement("div",{className:"buttonGrpUnActive buttonGrpActive","data-bid":"559Show",id:"fld559L4TCShowView",onClick:()=>{Le(!0),jt("Show"),ShowComponent}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(A.aCJ,null)),i().createElement("span",null,Ht("Show"))):"",i().createElement("div",{className:"buttonGrpUnActive","data-bid":"559List",id:"fld559L4TCListView",onClick:()=>{jt("List")},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(Z.umT,null)),i().createElement("span",null,Ht("List"))),i().createElement("div",{className:"buttonGrpUnActive","data-bid":"559Card",id:"fld559L4TCCardView",onClick:()=>{jt("Card")}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(A.aCJ,null)),i().createElement("span",null,Ht("Card"))),i().createElement("div",{className:"buttonGrpUnActive","data-bid":"559Tile",id:"fld559L4TCTileView",onClick:()=>{jt("Tile")},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(L.f_H,null)),i().createElement("span",null,Ht("Tile"))))))),ve||Fe||Be?null:ot?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(f.Z,{count:ut,color:"primary",page:ht.current,onChange:(e,t)=>{St({current:t,pageSize:ht.pageSize}),Dt(t),Qt({current:t,pageSize:ht.pageSize})}}),i().createElement("div",null,i().createElement(v.Z,{value:ht.pageSize,frmctrlid:"fld559L4TCSelectPagination",onChange:e=>{St({current:1,pageSize:e.target.value}),Qt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),et&&i().createElement("p",{className:"per-page"},"/ per page Of (",Ct,")")):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(f.Z,{count:X,siblingCount:0,color:"primary",page:ne.current,onChange:(e,t)=>{ce({current:t,pageSize:ne.pageSize}),ye.length>0?Ut(ye,{current:t,pageSize:ne.pageSize}):qt({current:t,pageSize:ne.pageSize},he,Qe?"DraftSchComDisciplineID":"SchComDisciplineID")}}),i().createElement("div",null,i().createElement(v.Z,{value:ne.pageSize,frmctrlid:"fld559L4TCSelectPagination",onChange:e=>{ce({current:1,pageSize:e.target.value}),ye.length>0?Ut(ye,{current:1,pageSize:e.target.value}):qt({current:1,pageSize:e.target.value},Oe,Qe?"DraftSchComDisciplineID":"SchComDisciplineID")},className:"BootstrapInputStyle"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),et&&i().createElement("p",{className:"per-page"},"/ per page of (",te,") "))),i().createElement("div",{id:"SchComDiscipline-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},!Qe&&i().createElement("div",{id:"SchComDisciplineFilterDiv",style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},Ce&&i().createElement(p.default,{ref:y,userGrid:Tt,CloseBtnClk:()=>Gt(),searchData:e=>Se(e),formID:Y,data:()=>{},visibleData:()=>{},token:st.token[0],alertmsg:(e,t)=>ct.alert({open:!0,color:e,message:[t]}),clearTableFilter:()=>{tableRefresh()}}),Ee&&!ve&&!Fe&&i().createElement(M.Z,{frmctrlid:"fld559L4TCTableColumnOrder",loading:e=>ct.loading(e),AltMsg:(e,t)=>ct.alert({open:!0,color:t,message:[e]}),select:Ee,userID:j,userGridViewFormID:Y,saved:(e,t)=>{e&&Yt(t),xt(t)},Token:st.token[0]})),i().createElement("div",{id:"SchComDisciplineTabDiv",style:{width:"100%",position:"relative",height:"66vh"}},at?i().createElement("div",null,ve&&i().createElement(E,{onLoad:ve,showSearch:Ce,data:(e,t)=>{$t(e)},json:ze}),Be&&i().createElement(ShowComponent,{ref:h,onload:Be,showSearch:!1,showViewCount:e=>kt(e),data:(e,t)=>{$t(e)},json:he}),!ve&&!Be&&i().createElement("div",null,ot?i().createElement(K.Z,{data:dt,expanded:()=>{},edit:ct.edit}):i().createElement(H.Z,{ref:U,frmctrlid:"tblcs_559_L4_",id:"SchComDisciplineTable",headerdata:we,tablesearchparams:it,searchvalue:e=>{let t={...he,...e};nt(e),Se(t),ce({current:1,pageSize:100}),qt({current:1,pageSize:100},t,Qe?"DraftSchComDisciplineID":"SchComDisciplineID",Qe&&"DraftPage")},bodydata:ue,ondrag:(e,t)=>{ct.edit(t,Qe,!0)},bodyitem:Te,visibleitem:we,isdraft:Qe,action:"none",tableID:Y,accessrights:st.AccessRights,expanded:()=>{},edit:ct.edit,viewtoggle:()=>st.viewtoggle,tf:Kt,isexpanded:!W||et}))):i().createElement(F.Z,{frmctrlid:"fld559L4TCExpandedCardDual",data:ue,id:"SchComDiscipline",title:"SchComDisciplineCode",cardTile:!!vt,visibleitem:we,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{W?ct.select(e):("edit"==t?ct.edit(e,t):ct.edit(e,!1,!0),et&&(ge(!1),fe(!1)))}})))))))})),j=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),o=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[u,D]=z()("559"),[g,h]=(0,l.useState)(!1),[y,E]=(0,l.useState)(0),[b,M]=(0,l.useState)(0),[N,w]=(0,l.useState)({current:1,pageSize:100}),[P,T]=(0,l.useState)(""),[x,F]=(0,l.useState)([]),[A,Z]=(0,l.useState)({val:"",column:""}),[B,L]=(0,l.useState)([]),[O,V]=(0,l.useState)(!1),[K,q]=(0,l.useState)(""),[G,_]=(0,l.useState)([]),[U,j]=(0,l.useState)([]),[Y,$]=(0,l.useState)([]),Q=(0,l.useContext)(I.SchComDisciplineContext),{cstate:W,cdispatch:J}=(0,I.ContextApi)();let X={SchComDisciplineIDPK:"",SchComDisciplineCode:"",MinMins:"",MaxMins:"",ManHour:"",ManMinute:"",ManSecond:"",ManPower:"",MaintenanceHours:"",SchComCompleteby:"",IsDraft:"",Remarks:"",FrequencyID:"",DisciplineID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyCode:"",FrequencyName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineCode:"",DisciplineName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[ie,ne]=(0,l.useState)(!1),[ce,se]=(0,l.useState)(!0),[re,oe]=(0,l.useState)(0),[me,de]=(0,l.useState)({DisciplineName:"",FrequencyName:"",MaintenanceHours:"",ManPower:"",ManHour:"",ManSecond:"",SchComCompleteby:"",SchComDisciplineCode:"",MinMins:"",ManMinute:"",MaxMins:""}),[pe,ue]=(0,l.useState)([]),[De,Ce]=(0,l.useState)([]),[ge,he]=(0,l.useState)([]),[Se,ye]=(0,l.useState)(!1),[Ie,Ee]=(0,l.useState)("");let fe=(0,k.Z)();const ve=[{columns:pe,data:P}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),J({type:"language",payload:Object.assign({},...i)}),de(a.reduce(((e,t)=>(e[t]="",e)),{})),_(e),j(t),$(a),ue(l),Ce(a)}(u)}),[u]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{be()},viewrecord:e=>{B.map(((t,a)=>{t.SchComDisciplineIDPK==e&&J({type:"editData",payload:[B[a]]})}))},DialogTableProps:e=>{h(e)},searchData:(t,a,l)=>{Q.loading(!0),o.current&&o.current.clearItem(),Ee(l),w({current:1,pageSize:10}),X=e.ApiParamType.params,Me({current:1,pageSize:100},a,l),m.current&&m.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&h(e.Dialogview)}),[e.cardview,e.Dialogview]);const be=()=>{W.IsDraft?Me(N,X,"DraftSchComDisciplineID"):Me(N,X,"SchComDisciplineID")},Me=async(t,a,l,i)=>{if(W.token[0]){if(Q.loading(!0),"DraftPage"!==i&&te(W.IsDraft),await Ee((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],i=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=i[e];a=t}q(a);let n=S.v.Api+`${e.ApiType}/`,c={data:{p1:a&&a.SchComDisciplineIDPK?a.SchComDisciplineIDPK:null,p2:a&&a.SchComDisciplineCode?a.SchComDisciplineCode:null,p3:a&&a.MinMins?a.MinMins:null,p4:a&&a.MaxMins?a.MaxMins:null,p5:a&&a.ManHour?a.ManHour:null,p6:a&&a.ManMinute?a.ManMinute:null,p7:a&&a.ManSecond?a.ManSecond:null,p8:a&&a.ManPower?a.ManPower:null,p9:a&&a.MaintenanceHours?a.MaintenanceHours:null,p10:a&&a.SchComCompleteby?a.SchComCompleteby:null,p11:"DraftSchComDisciplineID"==l?"1":"0",p12:null,p13:a&&a.FrequencyID?a.FrequencyID:null,p14:a&&a.DisciplineID?a.DisciplineID:null,p15:a&&a.IsActive,p16:null,p17:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p18:a&&a.CreatedTtm?a.CreatedTtm:null,p19:a&&a.CreatedTtmType?a.CreatedTtmType:null,p20:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p21:null,p22:a&&a.FrequencyCode?a.FrequencyCode:null,p23:a&&a.FrequencyName?a.FrequencyName:null,p24:a&&a.DivisionID?a.DivisionID:null,p25:a&&a.DivisionCode?a.DivisionCode:null,p26:a&&a.DivisionName?a.DivisionName:null,p27:a&&a.DisciplineCode?a.DisciplineCode:null,p28:a&&a.DisciplineName?a.DisciplineName:null,p29:t.current,p30:t.pageSize,p31:l,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};(0,d.Z)(n,c,W.token[0]).then((e=>{if(Q.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,M(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),J({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?E(Math.ceil(a)):20==t.pageSize?E(Math.ceil(a/2)):50==t.pageSize?E(Math.ceil(a/5)):100==t.pageSize&&E(Math.ceil(a/10)),L(e.Output.data)}}else Q.alert({open:!0,color:"warning",message:[(a="There is no Record Found",fe?.[a]?fe[a]:a)]}),L([]),E(0),M(0),J({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{ne(W.ExpandTableValue)}),[W.ExpandTableValue]),i().createElement("div",null,i().createElement(c.Z,{expanded:ae,onChange:()=>()=>{le(ie)}},i().createElement(r.Z,null,i().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},i().createElement("div",{style:{width:"60%"}},i().createElement("div",{className:"displayFlex"},i().createElement("div",{className:"ListHeader displayFlex"},i().createElement("p",{className:"ListP"}," ",e.CardName," (",b,")")))))),i().createElement(s.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCard"},i().createElement("div",{id:"SchComDiscipline-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},i().createElement(C.Z,{formctrlidprint:"fld559L4TCExportPrint",formctrlidexport:"fld559L4TCExportTable",formctrlidrefresh:"fld559L4TCExportRefresh",title:"559",data:x,exportData:ve,Items:De,columnIndex:pe,triggerApi:t=>{((t,l,i)=>{if(0===b)return Q.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Q.loading(!0);let n=S.v.Api+`${e.ApiType}/`,c={data:{p1:t||(t&&t.SchComDisciplineIDPK?t.SchComDisciplineIDPK:null),p2:t&&t.SchComDisciplineCode?t.SchComDisciplineCode:null,p3:t&&t.MinMins?t.MinMins:null,p4:t&&t.MaxMins?t.MaxMins:null,p5:t&&t.ManHour?t.ManHour:null,p6:t&&t.ManMinute?t.ManMinute:null,p7:t&&t.ManSecond?t.ManSecond:null,p8:t&&t.ManPower?t.ManPower:null,p9:t&&t.MaintenanceHours?t.MaintenanceHours:null,p10:t&&t.SchComCompleteby?t.SchComCompleteby:null,p11:ee?"1":"0",p12:null,p13:t&&t.FrequencyID?t.FrequencyID:null,p14:t&&t.DisciplineID?t.DisciplineID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.FrequencyCode?t.FrequencyCode:null,p23:t&&t.FrequencyName?t.FrequencyName:null,p24:t&&t.DivisionID?t.DivisionID:null,p25:t&&t.DivisionCode?t.DivisionCode:null,p26:t&&t.DivisionName?t.DivisionName:null,p27:t&&t.DisciplineCode?t.DisciplineCode:null,p28:t&&t.DisciplineName?t.DisciplineName:null,p29:1,p30:b,p31:Ie,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};var s;Q.loading(!1),Q.alert({open:!0,color:"success",message:[`${s="559",W.language?.[s]?W.language[s]:s} - ${i.alertName}, Once you have downloaded the file, you will be notified`]}),(0,d.Z)(n,c,W.token[0],i).then((e=>{(0,R.PDF_Excel_Generate)(e,Q,De,T,a,i)}))})(K,A.column,t)},TableVisibleItem:U,userGridViewFormID:"559",TableTotalCount:b,Refresh:()=>{Me({current:1,pageSize:100},K,Ie),w({current:1,pageSize:100}),m.current&&m.current.clearItem(),o.current&&o.current.clearItem()},disabledPrint:!W.AccessRights.IsPrint,disabledExport:!W.AccessRights.IsExport,ref:a})),i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(f.Z,{count:y,siblingCount:0,color:"primary",page:N.current,onChange:(e,t)=>{if(w({current:t,pageSize:N.pageSize}),ee)Me({current:t,pageSize:N.pageSize},K,"DraftSchComDisciplineID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Me({current:t,pageSize:N.pageSize},K,"SchComDisciplineID")}}}),i().createElement("div",null,i().createElement(v.Z,{value:N.pageSize,onChange:e=>{w({current:1,pageSize:e.target.value}),Me({current:1,pageSize:e.target.value},K,"SchComDisciplineID")},className:"BootstrapInputStyle2"},i().createElement("option",{value:10},"10"),i().createElement("option",{value:20},"20"),i().createElement("option",{value:50},"50"),i().createElement("option",{value:100},"100"))),ie&&i().createElement("p",{className:"per-page"},"/ per page Of (",b,")"))),i().createElement("div",{id:"SchComDiscipline-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},i().createElement("div",{id:"SchComDisciplineTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?i().createElement(MUITableMulti,{ref:m,type:e.viewtype,id:"SchComDiscipline",headerdata:U,tablesearchparams:me,searchvalue:e=>{de(e),w({current:1,pageSize:100}),Me({current:1,pageSize:100},e,ee?"DraftSchComDisciplineID":"SchComDisciplineID",ee&&"DraftPage")},bodydata:B,ondrag:(e,t)=>{J({type:"editData",payload:[t]}),J({type:"IsDraft",payload:ee}),J({type:"ShowDetail",payload:!0})},bodyitem:Y,visibleitem:U,isdraft:ee,accessrights:W.AccessRights,expanded:()=>{},edit:(t,a,l)=>{g?Q.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?Q.edit(t,a,l):Q.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{L(e)},color:!0,isexpanded:!1}):i().createElement(H.Z,{frmctrlid:"tblcs_559_L4_",ref:o,id:"SchComDisciplineTable",type:e.viewtype,headerdata:U,tablesearchparams:me,searchvalue:e=>{let t={...K,...e};de(e),q(t),w({current:1,pageSize:100}),Me(N,t,Ie)},bodydata:B,ondrag:(e,t)=>{J({type:"editData",payload:[t]}),J({type:"IsDraft",payload:ee}),J({type:"ShowDetail",payload:!0})},bodyitem:Y,visibleitem:U,isdraft:ee,accessrights:W.AccessRights,expanded:()=>{},edit:(t,a,l)=>{g?Q.select(t):(e.editdata(t,"view"),Q.edit(t,a,1!=t.Entry))},viewtoggle:Q.viewtoggle,IsSub:e.IsSub})))))))}))},71377:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Z}),a(95866),a(99058);var l=a(92950),i=a.n(l),n=a(80366),c=a(51673),s=a(282),r=a(868),o=a(78513),m=a(14439),d=a(27848),p=a(40900),u=a(64059),D=a(24038),C=a(8981),g=a(47516),h=a(86893),S=a(73192),y=a(33681),I=a(63163),E=(a(35131),a(61956),a(93657)),f=a(53375),v=a(52663),b=a(66083),M=a(29525),N=a(66856),w=a(39803),P=a(99940),T=a(17149),x=a(62810),F=a(30553),k=a(92381),A=a(25108);const Z=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[Z,B]=(0,l.useState)([]),[L,R]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[O,V]=(0,l.useState)(""),[z,H]=(0,l.useState)({}),[K,q]=(0,l.useState)(!0),[G,_]=(0,l.useState)(!1),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:(0,S.ContextApi)(),[Y,$]=(0,l.useState)(1),[Q,W]=(0,l.useState)(0),[J,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[ie,ne]=(0,l.useState)(!0),[ce,se]=(0,l.useState)(!1),[re,oe]=(0,l.useState)(""),[me,de]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[De,Ce]=(0,l.useState)(!1),[ge,he]=(0,l.useState)(""),Se=(0,l.useRef)(null),[ye,Ie]=(0,l.useState)({});let Ee=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,C.Z)();const be=e=>ve[e]?ve[e]:e,Me=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Ee]];function Ne(){H({}),te({}),e.searchData({}),_(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Se.current&&Se.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()}})));const we=async(t,a,l,i)=>{X(!0);try{Se.current&&Se.current.abort();const n=new AbortController;Se.current=n;let s="",r=[],o={};await R((e=>(s=e.name,e))),await H((e=>(r=e,e))),await te((e=>(o=e,e)));const m=p.v.Api+"FP559S3/",d={data:{p1:"SchComDisciplineIDPK"==a?null:await ke(),p2:"SchComDisciplineCode"==s&&l.length>0?"%"+l+"%":null,p3:"MinMins"==s&&l.length>0?"%"+l+"%":null,p4:"MaxMins"==s&&l.length>0?"%"+l+"%":null,p5:"ManHour"==s&&l.length>0?"%"+l+"%":null,p6:"ManMinute"==s&&l.length>0?"%"+l+"%":null,p7:"ManSecond"==s&&l.length>0?"%"+l+"%":null,p8:"ManPower"==s&&l.length>0?"%"+l+"%":null,p9:"MaintenanceHours"==s&&l.length>0?"%"+l+"%":null,p10:"SchComCompleteby"==s&&l.length>0?"%"+l+"%":null,p11:null,p12:null,p13:"FrequencyName"!=s&&r.FrequencyName?r.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p14:"DisciplineName"!=s&&r.DisciplineName?r.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p15:e.Dialogview?"1":null,p16:null,p17:"p17"==s&&l.length>0?l:null,p18:null,p19:null,p20:null,p21:null,p22:"FrequencyCode"==s&&l.length>0?"%"+l+"%":null,p23:"FrequencyName"==s&&l.length>0?"%"+l+"%":null,p24:"DivisionName"!=s&&r.DivisionName?r.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p25:"DivisionCode"==s&&l.length>0?"%"+l+"%":null,p26:"DivisionName"==s&&l.length>0?"%"+l+"%":null,p27:"DisciplineCode"==s&&l.length>0?"%"+l+"%":null,p28:"DisciplineName"==s&&l.length>0?"%"+l+"%":null,p29:i||1,p30:10,p31:t,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}},u=await(0,c.Z)(m,d,e.token,"",n.signal);if(!u)return!1;const D=u.Output.status.code,C=u.Output.data;if("200"===D)if(C.length>0)if(1===i){let e=Te(C,s),t=Pe(e,z[s],a);B(t),W(t.length>0?t[0].TotalCount:z[s].length)}else{let e=[...Z,...C],t=Te(e,s);W(t.length<10?t.length:C[0].TotalCount),B(Te(t,s))}else O.length>0&&B([]),W(Z.length);else e.alertmsg("error",[u.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},Pe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Te=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function xe(e){let t=e+"PK",a=ye[e];if(a){const e=a.flatMap((e=>z[e]?z[e].map((e=>e[t])):[]));return e.toString()}return""}const Fe=async t=>{let a="",l={};await H((e=>(a=e,e)));let i=[...ae],n=[];for(let e of i){let t=a[e]?.map((e=>e.SchComDisciplineIDPK)).toString();t&&n.push(t)}await te((e=>(l=e,e)));let c={SchComDisciplineIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",DisciplineID:xe("DisciplineID"),FrequencyID:xe("FrequencyID")};"saveFav"==t?Be("save",c):(e.searchData(c),_(!1))};async function ke(){let e={};await H((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.SchComDisciplineIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Ae(t,a,l,i,n,c){let s={[i]:{From:t,Type:l,To:a}},r={};te((e=>({...e,...s})));const o={...z};let m=[...ae],d=[];for(let e of m){let t=o[e]?.map((e=>e.SchComDisciplineIDPK)).toString();t&&d.push(t)}await te((e=>(r=e,e)));let p={SchComDisciplineIDPK:d?[...new Set(d)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,DisciplineID:z.DisciplineName?.map((e=>e.DisciplineIDPK)).toString(),FrequencyID:z.FrequencyName?.map((e=>e.FrequencyIDPK)).toString()};e.searchData(p)}function Ze(){return i().createElement(u.Z,{frmctrlid:"fld559L4TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{Ae(e,t,a,L.name,l)},keyboardback:()=>{_(!1),R({idpk:"",name:"",type:"",fieldidpk:""})},title:be(L.name),fieldname:L.name,save:e=>{alert(!0)}})}const Be=(t,a)=>{(0,k.Z)(t,e.formID,a,re).then((e=>{const t=e.Output.data;he(t)}))};return i().createElement("div",null,i().createElement(v.Z,{onClose:()=>de(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:me},i().createElement(b.Z,{id:"customized-dialog-title",onClose:()=>de(!1)},"Add Favorite"),i().createElement(M.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(w.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:re,onChange:e=>oe(e.target.value),fullWidth:!0})),i().createElement(F.Z,{style:{color:"#337ab7"},control:i().createElement(P.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Quick"}),i().createElement(F.Z,{style:{color:"#337ab7"},control:i().createElement(P.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(T.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(x.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:De,onChange:e=>Ce(e.target.checked)}),label:"Dashboard"})),i().createElement(N.Z,null,i().createElement(s.Z,{onClick:()=>{Fe("saveFav"),de(!1)},color:"primary"},"Save"))),G?"Created Ttm"===L.name||L.name.includes("Date")?i().createElement(Ze,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(m.Z,null,i().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},Me(L.idpk)," (",Z.length,"/",Q,")")),i().createElement(d.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(r.ZP,{title:be("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(n.Z,{id:"fld559L4TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{_(!1),R({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),z[L.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(s.Z,{frmctrlid:"fld559L4TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await H((t=>(e=t,A.log("clear fewItems",e),t))),e[L.name]=[],we(L.type,L.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},be("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},K?i().createElement(r.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(h.D7o,{className:"FilterMaximizeIcon",onClick:()=>{q(!1)}}))):i().createElement(r.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(h.dOw,{className:"FilterMaximizeIcon",onClick:()=>{q(!0)}})))),i().createElement("ul",null,z[L.name]&&z[L.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:K?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[L.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[L.name],onClick:()=>(async(e,t)=>{$(1);let a=z[L.name].filter((t=>t!=e)),l={};await H((e=>(l=e,e))),l[L.name]=a,H(l),B((t=>[e,...t]))})(e)},i().createElement(n.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(D.Z,{frmctrlid:"fld559L4TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:O,placeholder:be("Enter ")+" "+Me(L.idpk),onChange:e=>{V(e),we(L.type,L.fieldidpk,e,1,ke())}})),i().createElement("div",{id:"fld559L4TFCFilterGoForward",className:"FilterSearchBtn",onClick:Fe},i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),J&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(y.Z,{color:"secondary"})),i().createElement("div",{id:"fld559L4TFCScrollYDefault",className:"height65 scrollYDefault"},Z.length>0&&Z.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[L.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await H((e=>(l=e,e)));let i=l[L.name];t[L.name]=i?[...a,...i]:a,l={...l,...t},H(l),B((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(o.Z,{className:"DotIcon"}),i().createElement("span",null,e[L.name])))),Z.length+0<Q&&Z.length>0&&i().createElement("div",{id:"fld559L4TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(Y+1),we(L.type,L.fieldidpk,"",Y+1)}},i().createElement("p",null," more... ")),0===Z.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:p.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(g.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",be("Filter")," ",re.length>0&&`(${re})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(r.ZP,{title:"Favorite List",placement:"top"},ce?i().createElement(n.Z,{className:"favlisticon",onClick:()=>{se(!1),he(""),Ne()}}):i().createElement(E.Z,{className:"favlisticon",onClick:()=>{se(!0),Be("select"),Ne()}})),Object.keys(z).length>0&&i().createElement(r.ZP,{title:"Save Favorites",placement:"top"},i().createElement(f.Z,{className:"favlisticon",onClick:()=>{de(!0)}})),i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnApplyButton",onClick:()=>{Ne()},id:"fld559L4TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},be("Clear")))),i().createElement(r.ZP,{title:"",placement:"top"},i().createElement(s.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld559L4TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},be("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld559L4TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{_(!0),V(""),B([]),W(0);let t=e.IsForeign?e.FieldName+"PK":"SchComDisciplineIDPK";R({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterSchComDisciplineID",fieldidpk:t}),we(e.IsForeign?"Filter"+e.FieldName:"FilterSchComDisciplineID",t,"",1,ke())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,Me(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,Me(e.AdminUserGridViewIDPK)),i().createElement(I.Z,{checked:"1"==ie,onChange:t=>{ne(t.target.checked),Ae("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,Me(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,z[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},z[a][0][a]),z[a].length>1&&i().createElement("span",{className:"RoundedDivName"},z[a][1][a]),z[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(z[a].length-2))))));var a})),ge&&ge.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{we("FilterSchComDisciplineID",a),Fe("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}))},83073:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>nt});var l=a(92950),i=a.n(l),n=a(45237),c=a(868),s=a(3212),r=a(29800),o=a(14439),m=a(27848),d=(a(10966),a(73192)),p=(a(21392),a(51673)),u=a(40900),D=(a(77366),a(26537)),C=a(1695),g=(a(97829),a(20506),a(59067)),h=a(63957),S=a(59535),y=(a(37869),a(8981)),I=a(5434),E=a(99940),f=a(37148),v=(a(79117),a(4720),a(95866),a(36939)),b=a(61201),M=a(59009),N=(a(99058),a(80366)),w=a(282),P=a(78513),T=a(64059),x=a(24038),F=a(47516),k=a(86893),A=a(33681),Z=a(63163),B=a(35131),L=a.n(B),R=a(61956),O=a(93657),V=a(53375),z=a(52663),H=a(66083),K=a(29525),q=a(66856),G=a(39803),_=a(17149),U=a(62810),j=a(30553),Y=a(92381),$=a(25108);const Q=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,s]=(0,l.useState)([]),[r,d]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[D,C]=(0,l.useState)(""),[g,h]=(0,l.useState)({}),[S,I]=(0,l.useState)(!0),[f,v]=(0,l.useState)(!1),{cstate:b,cdispatch:M}=e.ContextApi?e.ContextApi:Ue(),[B,L]=(0,l.useState)(1),[R,Q]=(0,l.useState)(0),[W,J]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,ie]=(0,l.useState)(!0),[ne,ce]=(0,l.useState)(!1),[se,re]=(0,l.useState)(""),[oe,me]=(0,l.useState)(!1),[de,pe]=(0,l.useState)(!1),[ue,De]=(0,l.useState)(!1),[Ce,ge]=(0,l.useState)(""),he=(0,l.useRef)(null),[Se,ye]=(0,l.useState)({});let Ie=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let fe=(0,y.Z)();const ve=e=>fe[e]?fe[e]:e,be=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[Ie]];function Me(){h({}),ee({}),e.searchData({}),v(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});ye(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{he.current&&he.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Me()}})));const Ne=async(t,a,l,i)=>{J(!0);try{he.current&&he.current.abort();const c=new AbortController;he.current=c;let r="",o=[],m={};await d((e=>(r=e.name,e))),await h((e=>(o=e,e))),await ee((e=>(m=e,e)));const C=u.v.Api+"FP560S3/",S={data:{p1:"SchComDisciplineDetailsIDPK"==a?null:await Fe(),p2:"SchComDisciplineDetailsCode"==r&&l.length>0?"%"+l+"%":null,p3:"OrderKey"==r&&l.length>0?"%"+l+"%":null,p4:"MaterialStatus"==r&&l.length>0?"%"+l+"%":null,p5:"TotalDuration"==r&&l.length>0?"%"+l+"%":null,p6:"RangeMax"==r&&l.length>0?"%"+l+"%":null,p7:"RangeMin"==r&&l.length>0?"%"+l+"%":null,p8:"AccessType"==r&&l.length>0?"%"+l+"%":null,p9:"IsMandatory"==r&&l.length>0?"%"+l+"%":null,p10:null,p11:null,p12:e.parentId?e.parentId:"0",p13:"CheckPointName"!=r&&o.CheckPointName?o.CheckPointName.map((e=>e.PPMCheckPointIDPK)).toString():null,p14:e.Dialogview?"1":null,p15:null,p16:"p16"==r&&l.length>0?l:null,p17:null,p18:null,p19:null,p20:null,p21:"FrequencyName"!=r&&o.FrequencyName?o.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p22:"FrequencyCode"==r&&l.length>0?"%"+l+"%":null,p23:"FrequencyName"==r&&l.length>0?"%"+l+"%":null,p24:"DisciplineName"!=r&&o.DisciplineName?o.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p25:"DisciplineCode"==r&&l.length>0?"%"+l+"%":null,p26:"DisciplineName"==r&&l.length>0?"%"+l+"%":null,p27:"SchComDisciplineCode"==r&&l.length>0?"%"+l+"%":null,p28:"CheckPointLevel"==r&&l.length>0?"%"+l+"%":null,p29:"CheckPointName"==r&&l.length>0?"%"+l+"%":null,p30:"PPMCheckPointCode"==r&&l.length>0?"%"+l+"%":null,p31:i||1,p32:10,p33:t,p34:null,p35:null,p36:localStorage.getItem("UserGroupID"),p37:localStorage.getItem("userid")}},y=await(0,p.Z)(C,S,e.token,"",c.signal);if(!y)return!1;const I=y.Output.status.code,E=y.Output.data;if("200"===I)if(E.length>0)if(1===i){let e=Pe(E,r),t=we(e,g[r],a);s(t),Q(t.length>0?t[0].TotalCount:g[r].length)}else{let e=[...n,...E],t=Pe(e,r);Q(t.length<10?t.length:E[0].TotalCount),s(Pe(t,r))}else D.length>0&&s([]),Q(n.length);else e.alertmsg("error",[y.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{J(!1)}},we=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),Pe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Te(e){let t=e+"PK",a=Se[e];if(a){const e=a.flatMap((e=>g[e]?g[e].map((e=>e[t])):[]));return e.toString()}return""}const xe=async t=>{let a="",l={};await h((e=>(a=e,e)));let i=[...te],n=[];for(let e of i){let t=a[e]?.map((e=>e.SchComDisciplineDetailsIDPK)).toString();t&&n.push(t)}await ee((e=>(l=e,e)));let c={SchComDisciplineDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",PPMCheckPointID:Te("PPMCheckPointID"),SchComDisciplineID:Te("SchComDisciplineID")};"saveFav"==t?Ze("save",c):(e.searchData(c),v(!1))};async function Fe(){let e={};await h((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.SchComDisciplineDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function ke(t,a,l,i,n,c){let s={[i]:{From:t,Type:l,To:a}},r={};ee((e=>({...e,...s})));const o={...g};let m=[...te],d=[];for(let e of m){let t=o[e]?.map((e=>e.SchComDisciplineDetailsIDPK)).toString();t&&d.push(t)}await ee((e=>(r=e,e)));let p={SchComDisciplineDetailsIDPK:d?[...new Set(d)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,PPMCheckPointID:g.CheckPointName?.map((e=>e.PPMCheckPointIDPK)).toString(),SchComDisciplineID:g.SchComDisciplineCode?.map((e=>e.SchComDisciplineIDPK)).toString()};e.searchData(p)}function Ae(){return i().createElement(T.Z,{frmctrlid:"fld560L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{ke(e,t,a,r.name,l)},keyboardback:()=>{v(!1),d({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const Ze=(t,a)=>{(0,Y.Z)(t,e.formID,a,se).then((e=>{const t=e.Output.data;ge(t)}))};return i().createElement("div",null,i().createElement(z.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:oe},i().createElement(H.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),i().createElement(K.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(G.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:se,onChange:e=>re(e.target.value),fullWidth:!0})),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:de,onChange:e=>pe(e.target.checked)}),label:"Quick"}),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>De(e.target.checked)}),label:"Dashboard"})),i().createElement(q.Z,null,i().createElement(w.Z,{onClick:()=>{xe("saveFav"),me(!1)},color:"primary"},"Save"))),f?"Created Ttm"===r.name||r.name.includes("Date")?i().createElement(Ae,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(o.Z,null,i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},be(r.idpk)," (",n.length,"/",R,")")),i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(c.ZP,{title:ve("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(N.Z,{id:"fld560L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{v(!1),d({idpk:"",name:"",type:"",fieldidpk:!1}),L(1)}}))),g[r.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(w.Z,{frmctrlid:"fld560L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await h((t=>(e=t,$.log("clear fewItems",e),t))),e[r.name]=[],Ne(r.type,r.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},S?i().createElement(c.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(k.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):i().createElement(c.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(k.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),i().createElement("ul",null,g[r.name]&&g[r.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:S?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[r.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{L(1);let a=g[r.name].filter((t=>t!=e)),l={};await h((e=>(l=e,e))),l[r.name]=a,h(l),s((t=>[e,...t]))})(e)},i().createElement(N.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(x.Z,{frmctrlid:"fld560L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:D,placeholder:ve("Enter ")+" "+be(r.idpk),onChange:e=>{C(e),Ne(r.type,r.fieldidpk,e,1,Fe())}})),i().createElement("div",{id:"fld560L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:xe},i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(w.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),W&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(A.Z,{color:"secondary"})),i().createElement("div",{id:"fld560L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await h((e=>(l=e,e)));let i=l[r.name];t[r.name]=i?[...a,...i]:a,l={...l,...t},h(l),s((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(P.Z,{className:"DotIcon"}),i().createElement("span",null,e[r.name])))),n.length+0<R&&n.length>0&&i().createElement("div",{id:"fld560L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{L(B+1),Ne(r.type,r.fieldidpk,"",B+1)}},i().createElement("p",null," more... ")),0===n.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:u.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(F.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",se.length>0&&`(${se})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(c.ZP,{title:"Favorite List",placement:"top"},ne?i().createElement(N.Z,{className:"favlisticon",onClick:()=>{ce(!1),ge(""),Me()}}):i().createElement(O.Z,{className:"favlisticon",onClick:()=>{ce(!0),Ze("select"),Me()}})),Object.keys(g).length>0&&i().createElement(c.ZP,{title:"Save Favorites",placement:"top"},i().createElement(V.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(w.Z,{className:"ColumnApplyButton",onClick:()=>{Me()},id:"fld560L1TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(w.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld560L1TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld560L1TFCFilItems",className:"FilterItems"},!Ce&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{v(!0),C(""),s([]),Q(0);let t=e.IsForeign?e.FieldName+"PK":"SchComDisciplineDetailsIDPK";d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterSchComDisciplineDetailsID",fieldidpk:t}),Ne(e.IsForeign?"Filter"+e.FieldName:"FilterSchComDisciplineDetailsID",t,"",1,Fe())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,be(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,be(e.AdminUserGridViewIDPK)),i().createElement(Z.Z,{checked:"1"==le,onChange:t=>{ie(t.target.checked),ke("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,be(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,g[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},g[a][0][a]),g[a].length>1&&i().createElement("span",{className:"RoundedDivName"},g[a][1][a]),g[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(g[a].length-2))))));var a})),Ce&&Ce.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ne("FilterSchComDisciplineDetailsID",a),xe("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}));var W=a(54180),J=a(43031),X=a(85639),ee=a(110),te=a(5109),ae=a(88995),le=a(50743),ie=a(61657),ne=a(51209),ce=a(53854),se=a(51649),re=a(37106),oe=a(83817),me=a(39327),de=a(93521),pe=a(71168),ue=a.n(pe),De=a(65107),Ce=a(94986),ge=a(15999);a(11557),window.clickFilter="";const he=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),r=(0,l.useRef)(null),[o]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("560"),[d,D]=(0,l.useState)(!1),[C,g]=(0,l.useState)(!1),[h,S]=(0,l.useState)(0),[E,f]=(0,l.useState)(0),[w,P]=(0,l.useState)(0),[T,A]=(0,l.useState)(0),[Z,B]=(0,l.useState)({current:1,pageSize:100}),[L,R]=(0,l.useState)(""),[O,V]=(0,l.useState)([]),[z,H]=(0,l.useState)({val:"",column:""}),[K,q]=(0,l.useState)([]),[G,_]=(0,l.useState)(!1),[U,j]=(0,l.useState)(""),[Y,$]=(0,l.useState)(""),[pe,he]=(0,l.useState)(!1),[Se,ye]=(0,l.useState)([]),[Ie,Ee]=(0,l.useState)([]),[fe,ve]=(0,l.useState)([]),[be,Me]=(0,l.useState)({children:[{name:"SchComDisciplineDetails",children:[]}]}),[Ne,we]=(0,l.useState)(!1),Pe=(0,l.useContext)(e.context?e.context:_e),{cstate:Te,cdispatch:xe}=e.ContextApi?e.ContextApi:Ue();let Fe={SchComDisciplineDetailsIDPK:"",SchComDisciplineDetailsCode:"",OrderKey:"",MaterialStatus:"",TotalDuration:"",RangeMax:"",RangeMin:"",AccessType:"",IsMandatory:"",IsDraft:"",Remarks:"",SchComDisciplineID:"",PPMCheckPointID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",SchComDisciplineCode:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ke,Ae]=(0,l.useState)(Fe),[Ze,Be]=(0,l.useState)(Fe),[Le,Re]=(0,l.useState)(!1),[Oe,Ve]=(0,l.useState)(!0),[ze,He]=(0,l.useState)(!1),[Ke,qe]=(0,l.useState)(!0),[Ge,je]=(0,l.useState)({CheckPointName:"",TotalDuration:"",RangeMin:"",RangeMax:"",AccessType:"",IsMandatory:"",SchComDisciplineDetailsCode:"",OrderKey:"",MaterialStatus:"",SchComDisciplineCode:""}),[Ye,$e]=(0,l.useState)(!1),[Qe,We]=(0,l.useState)([]),[Je,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[it,nt]=(0,l.useState)([]),[ct,st]=(0,l.useState)([]),[rt,ot]=(0,l.useState)(!1),[mt,dt]=(0,l.useState)(!1),[pt,ut]=(0,l.useState)(!1),[Dt,Ct]=(0,l.useState)(""),[gt,ht]=ue()("560"),[St,yt]=(0,l.useState)({}),It=[{columns:it,data:L}];let Et=(0,y.Z)();const ft=e=>Et[e]?Et[e]:e,vt=e=>Te.language?.[e]?Te.language[e]:e;(0,l.useEffect)((()=>{xt(gt)}),[gt]),(0,l.useEffect)((()=>{Te.token.length>0&&(e.parentId?Pt(Z,Fe,"SchComDisciplineDetailsID"):q([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ne&&e.parentId?Pt(Z,U,"SchComDisciplineDetailsID"):Ne&&Be(U)}),[U]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{bt(e)},tableRefresh:()=>{Pt(Z,Fe,"SchComDisciplineDetailsID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{ut(!0===e)}})));const bt=e=>{""==e?Pt(Z,Fe,Le?"DraftSchComDisciplineDetailsID":"SchComDisciplineDetailsID",Le&&"DraftPage"):Tt(e,{current:1,pageSize:100}),$(e)};function Mt(t){Pe.loading(!0);let a=u.v.Api+"FP560S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,Te.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),We(e.Output.data),Pe.loading(!1)}}))}function Nt(e,t){xe({type:"editData",payload:[t]}),xe({type:"IsDraft",payload:Le}),xe({type:"ShowDetail",payload:!0}),Pe.Expanded(!0),ze&&he(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&qe(e.cardview),e.Dialogview&&(g(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Tt(e.searchsafaritext,{current:Z.current,pageSize:Z.pageSize})}),[e.searchsafaritext]);const wt=()=>{Pe.EditClose(!0),G?(document.getElementById("SchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("SchComDisciplineDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("SchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),Ke?(C||(document.getElementById("SchComDisciplineDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("SchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("SchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("SchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("SchComDisciplineDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("SchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("SchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),he(!1),window.clickFilter=!G},Pt=(t,a,l,i,n,c)=>{Pe.loading(!0),"DraftPage"!==i&&Re(Te.IsDraft);let s=u.v.Api+"FP560S3/",r={data:{p1:n||(a&&a.SchComDisciplineDetailsIDPK?a.SchComDisciplineDetailsIDPK:null),p2:a&&a.SchComDisciplineDetailsCode?a.SchComDisciplineDetailsCode:null,p3:a&&a.OrderKey?a.OrderKey:null,p4:a&&a.MaterialStatus?a.MaterialStatus:null,p5:a&&a.TotalDuration?a.TotalDuration:null,p6:a&&a.RangeMax?a.RangeMax:null,p7:a&&a.RangeMin?a.RangeMin:null,p8:a&&a.AccessType?a.AccessType:null,p9:null,p10:"DraftSchComDisciplineDetailsID"==l?"1":"0",p11:null,p12:e.parentId?Number(e.parentId):0,p13:a&&a.PPMCheckPointID?a.PPMCheckPointID:null,p14:a&&a.IsActive,p15:null,p16:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p17:a&&a.CreatedTtm?a.CreatedTtm:null,p18:a&&a.CreatedTtmType?a.CreatedTtmType:null,p19:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p20:null,p21:a&&a.FrequencyID?a.FrequencyID:null,p22:a&&a.FrequencyCode?a.FrequencyCode:null,p23:a&&a.FrequencyName?a.FrequencyName:null,p24:a&&a.DisciplineID?a.DisciplineID:null,p25:a&&a.DisciplineCode?a.DisciplineCode:null,p26:a&&a.DisciplineName?a.DisciplineName:null,p27:a&&a.SchComDisciplineCode?a.SchComDisciplineCode:null,p28:a&&a.CheckPointLevel?a.CheckPointLevel:null,p29:a&&a.CheckPointName?a.CheckPointName:null,p30:a&&a.PPMCheckPointCode?a.PPMCheckPointCode:null,p31:n?1:t.current,p32:t.pageSize,p33:l,p34:null,p35:null,p36:localStorage.getItem("UserGroupID"),p37:localStorage.getItem("userid")}};(0,p.Z)(s,r,Te.token[0]).then((s=>{if(n)(0,oe.a)(s,xe,i,c,Pe);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,P(s.Output.data[0].TotalCount),A(s.Output.data[0].DraftCnt),xe({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==i&&A(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?f(Math.ceil(e)):20==t.pageSize?f(Math.ceil(e/2)):50==t.pageSize?f(Math.ceil(e/5)):100==t.pageSize&&f(Math.ceil(e/10)),q(s.Output.data),Pe.loading(!1)}e.Dialogview||(document.getElementById("divSchComDisciplineDetails-Entry").style.height="auto",document.getElementById("divSchComDisciplineDetails-Entry").style.display="block")}else Pe.loading(!1),"DraftSchComDisciplineDetailsID"===l?(Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),he(!0),Re(!1)):(q([]),B({current:1,pageSize:10}),f(0),P(0),xe({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else Pe.alert({open:!0,color:"warning",message:[s.Output.status.message]}),Pe.loading(!1)}))};function Tt(t,a){Pe.loading(!0);const l=u.v.Api+"FP560S4/",i={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Le?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,i,Te.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,P(e.Output.data[0].TotalCount),xe({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?f(Math.ceil(t)):20==a.pageSize?f(Math.ceil(t/2)):50==a.pageSize?f(Math.ceil(t/5)):100==a.pageSize&&f(Math.ceil(t/10)),q(e.Output.data),Pe.loading(!1)}else q([]),f(0),P(0),xe({type:"count",payload:"0"}),Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Pe.loading(!1);else Pe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),Pe.loading(!1)}))}function xt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),xe({type:"language",payload:Object.assign({},...i)}),je(a.reduce(((e,t)=>(e[t]="",e)),{})),ye(e),Ee(t),ve(a),nt(l),st(a)}const Ft=()=>Ne?null:i().createElement("div",null,Ye?i().createElement(Ce.Z,{data:Qe,expanded:e=>!C&&Pe.Expanded(e),edit:(e,t,a)=>{C?Pe.select(e):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:t}),xe({type:"ShowDetail",payload:a}))}}):i().createElement(De.Z,{ref:r,frmctrlid:"tblcs_560_L1_",id:"SchComDisciplineDetailsTable",headerdata:Ie,tablesearchparams:Ge,searchvalue:e=>{je(e),j(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};yt(t),B({current:1,pageSize:10}),Pt({current:1,pageSize:10},t,Le?"DraftSchComDisciplineDetailsID":"SchComDisciplineDetailsID",Le&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:fe,visibleitem:Ie,isdraft:Le,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Te.AccessRights,expanded:e=>!C&&Pe.Expanded(e),edit:(e,t,a)=>{C?Pe.select(e):(Object.keys(e).map(((l,i)=>{l.includes("IDPK")&&Pt(Z,null,t?"DraftSchComDisciplineDetailsID":"SchComDisciplineDetailsID",t&&"DraftPage",e[l],a)})),Pe.hideAddBtn(!0))},viewtoggle:Pe.viewtoggle,isexpanded:!C||ze,tf:vt,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{He(Te.ExpandTableValue)}),[Te.ExpandTableValue]),i().createElement("div",null,!pt&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld560L1ECSearchBar",className:"searchbar1"},i().createElement(x.Z,{frmctrlid:"fld560L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:ft("Search"),value:Y,onChange:e=>{$(e),Pe.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld560L1TCCloseIconCommonSearch",onClick:()=>{$(""),Pe.searchItem("")}},i().createElement(N.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld560L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("SchComDisciplineDetailsgridsearch").focus()}})))),i().createElement("div",null,Te.AccessRights.IsAdd?i().createElement(s.Z,{className:"SaveBtnCommon",frmctrlid:"fld560L1TCAddBtnIsAdd",onClick:()=>{Pe.hideAddBtn(!0),xe({type:"editData",payload:[]}),xe({type:"ShowDetail",payload:!1}),xe({type:"Add",payload:!0})}}):"")),i().createElement(v.Z,{expanded:Oe,onChange:()=>()=>{Ve(ze)}},e.Dialogview&&i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[560]"},`${vt("560")} (${w})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld560L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(x.Z,{frmctrlid:"fld560L1TCInputSearch",className:"search_input",type:"text",placeholder:ft("Search"),value:Y,onChange:e=>{bt(e)}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld560L1TCInputCloseIcon",onClick:()=>{bt("")}},i().createElement(N.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld560L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon"}))))))),i().createElement(b.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"SchComDisciplineDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Le&&i().createElement("div",{frmctrlid:"fld560L1TCFilterDataIsDraft",id:"SchComDisciplineDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{wt()}},i().createElement(c.ZP,{title:ft("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(F.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Filter Data"))),!C&&!Le&&!Ne&&i().createElement(W.Z,{formctrlidprint:"fld560L1TCExportPrint",formctrlidexport:"fld560L1TCExportTable",formctrlidrefresh:"fld560L1TCExportRefresh",title:vt("560"),data:O,exportData:It,Items:ct,columnIndex:it,TableVisibleItem:Ie,userGridViewFormID:m,TableTotalCount:w,triggerApi:t=>{((t,l,i,n,c)=>{if(0===w)return Pe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;Pe.loading(!0);let s=u.v.Api+"FP560S3/",r={data:{p1:t&&t.SchComDisciplineDetailsIDPK?t.SchComDisciplineDetailsIDPK:null,p2:t&&t.SchComDisciplineDetailsCode?t.SchComDisciplineDetailsCode:null,p3:t&&t.OrderKey?t.OrderKey:null,p4:t&&t.MaterialStatus?t.MaterialStatus:null,p5:t&&t.TotalDuration?t.TotalDuration:null,p6:t&&t.RangeMax?t.RangeMax:null,p7:t&&t.RangeMin?t.RangeMin:null,p8:t&&t.AccessType?t.AccessType:null,p9:null,p10:Le?"1":"0",p11:null,p12:e.parentId?Number(e.parentId):0,p13:t&&t.PPMCheckPointID?t.PPMCheckPointID:null,p14:t&&t.IsActive,p15:null,p16:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p17:t&&t.CreatedTtm?t.CreatedTtm:null,p18:t&&t.CreatedTtmType?t.CreatedTtmType:null,p19:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p20:null,p21:t&&t.FrequencyID?t.FrequencyID:null,p22:t&&t.FrequencyCode?t.FrequencyCode:null,p23:t&&t.FrequencyName?t.FrequencyName:null,p24:t&&t.DisciplineID?t.DisciplineID:null,p25:t&&t.DisciplineCode?t.DisciplineCode:null,p26:t&&t.DisciplineName?t.DisciplineName:null,p27:t&&t.SchComDisciplineCode?t.SchComDisciplineCode:null,p28:t&&t.CheckPointLevel?t.CheckPointLevel:null,p29:t&&t.CheckPointName?t.CheckPointName:null,p30:t&&t.PPMCheckPointCode?t.PPMCheckPointCode:null,p31:Z.current,p32:w,p33:Le?"DraftSchComDisciplineDetailsID":"SchComDisciplineDetailsID",p34:null,p35:null,p36:localStorage.getItem("UserGroupID"),p37:localStorage.getItem("userid")}};Pe.loading(!1),Pe.alert({open:!0,color:"success",message:[`${vt(560)} - ${c.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(s,r,Te.token[0],c).then((e=>{(0,de.PDF_Excel_Generate)(e,Pe,ct,R,a,c)}))})(U,z.column,0,0,t)},Refresh:()=>{$(""),B({current:1,pageSize:100}),r.current.clearItem(),Te.IsDraft?Pt({current:1,pageSize:100},Fe,"DraftSchComDisciplineDetailsID"):Pt({current:1,pageSize:100},Fe,"SchComDisciplineDetailsID")},disabledPrint:!Te.AccessRights.IsPrint,disabledExport:!Te.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Le&&!Ne&&!C&&i().createElement("div",{className:"buttoncard",onClick:()=>dt(!mt)},i().createElement("span",null,mt?i().createElement(c.ZP,{disableFocusListener:!0,title:ft("Less"),placement:"top"},i().createElement("span",{id:"fld560L1TCLess"},i().createElement(ce.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(c.ZP,{disableFocusListener:!0,title:ft("More"),placement:"top"},i().createElement("span",{id:"fld560L1TCMore"},i().createElement(ce.ilJ,{className:"tableFilterColumnIcon"}))))),mt?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},Ne||!ze?null:C||!Te.AccessRights.IsAdd||Le?"":i().createElement("div",null,i().createElement("div",{frmctrlid:"fld560L1TCFilterDataIsAdd",id:"SchComDisciplineDetailscoldiv",className:"buttoncard",onClick:()=>{Pe.EditClose(!0),pe?(document.getElementById("SchComDisciplineDetailsFilterDiv").style.width="0%",document.getElementById("SchComDisciplineDetailsTabDiv").style.width="100%",document.getElementById("SchComDisciplineDetailsFilterDiv").style.display="none",document.getElementById("SchComDisciplineDetailscoldiv").style.width="fit-content",document.getElementById("SchComDisciplineDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",he(!1)):(document.getElementById("SchComDisciplineDetailsFilterDiv").style.width="25%",document.getElementById("SchComDisciplineDetailsTabDiv").style.width="75%",document.getElementById("SchComDisciplineDetailsFilterDiv").style.display="block",document.getElementById("SchComDisciplineDetailsfildiv").style.width="fit-content",document.getElementById("SchComDisciplineDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("SchComDisciplineDetailscoldiv").style.width="fit-content",document.getElementById("SchComDisciplineDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",he(!0)),_(!1)}},i().createElement(c.ZP,{title:ft("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(me.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&ze&&!Ne&&!Le&&i().createElement("div",null,i().createElement("div",{id:"SchComDisciplineDetailscoldiv",className:"buttoncard",onClick:()=>{Ye?$e(!1):($e(!0),Mt({current:1,pageSize:100}))}},i().createElement(c.ZP,{title:ft("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld560L1TCTableScrollData"},i().createElement(ge.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Table Scroll Data")))),!Ne&&Le?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{Pe.hideAddBtn(!1),Pe.ExpandEntry(),Pt({current:1,pageSize:100},Fe,"SchComDisciplineDetailsID"),Re(!1),$(""),xe({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},i().createElement(c.ZP,{title:ft("List"),placement:"top"},i().createElement("div",{id:"fld560L1TCList"},i().createElement(se.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},ft("Drafts")," ",w)):!C&&!Ne&&Te.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(M.Z,{color:"secondary",className:"badge",max:999,badgeContent:T,showZero:!0},i().createElement("div",{id:"fld560L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{T>0?(B({current:1,pageSize:100}),S(0),Pe.clear(),$(""),xe({type:"Add",payload:!1}),Pt({current:1,pageSize:10},Fe,"DraftSchComDisciplineDetailsID"),Re(!0),xe({type:"IsDraft",payload:!0}),he(!1),qe(!0),document.getElementById("SchComDisciplineDetailsFilterDiv").style.width="0%",document.getElementById("SchComDisciplineDetailsTabDiv").style.width="100%",document.getElementById("SchComDisciplineDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),we(!1)):Pe.alert({open:!0,color:"warning",message:[ft("There is no Record Found")]})}},i().createElement(c.ZP,{title:ft("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(re.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},ft("Drafts"))))))):""),!Le&&!C&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ne||Le?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:Ke?"buttonList":"buttonGrid",id:"fld560L1TCListView",onClick:()=>{qe(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(ce.umT,null)),i().createElement("span",null,ft("List"))),i().createElement("div",{className:Ke||rt?"buttonGrid":"buttonList",id:"fld560L1TCCardView",onClick:()=>{qe(!1),ot(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(k.aCJ,null)),i().createElement("span",null,ft("Card"))),i().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld560L1TCTileView",onClick:()=>{ot(!0),qe(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(I.f_H,null)),i().createElement("span",null,ft("Tile"))))))),Ne?null:Ye?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld560L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:h,onPageChange:(e,t)=>{S(t),Mt({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:Je,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),Mt({current:t,pageSize:at.pageSize})}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld560L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),Mt({current:1,pageSize:e.target.value})}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),ze&&i().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",et,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld560L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(w),page:h,onPageChange:(e,t)=>{S(t),Pt({current:t+1,pageSize:Z.pageSize},Fe,Le?"DraftSchComDisciplineDetailsID":"SchComDisciplineDetailsID",Le&&"DraftPage"),B({current:t+1,pageSize:Z.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:E,siblingCount:0,color:"primary",page:Z.current,onChange:(e,t)=>{if(B({current:t,pageSize:Z.pageSize}),Le)Pt({current:t,pageSize:Z.pageSize},ke,"DraftSchComDisciplineDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Y.length>0?Tt(Y,{current:t,pageSize:Z.pageSize}):Pt({current:t,pageSize:Z.pageSize},ke,"SchComDisciplineDetailsID")}}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:Z.pageSize,id:"fld560L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),Le?Pt({current:1,pageSize:e.target.value},ke,"DraftSchComDisciplineDetailsID","DraftPage"):Y.length>0?Tt(Y,{current:1,pageSize:e.target.value}):Pt({current:1,pageSize:e.target.value},ke,"SchComDisciplineDetailsID")}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),ze&&i().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",w,") "))),i().createElement("div",{id:"SchComDisciplineDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"SchComDisciplineDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},G&&i().createElement(Q,{parentId:e.parentId,searchData:e=>{j(e||St),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Te.token[0],CloseBtnClk:()=>wt(),userGrid:gt,msg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),pe&&i().createElement(te.Z,{Refresh:e=>{Pt({current:1,pageSize:100},Fe,"SchComDisciplineDetailsID")},frmctrlid:"fld560L1TCTableColumnOrder",loading:e=>Pe.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>Pe.alert({open:!0,color:t,message:[e]}),select:pe,userID:o,userGridViewFormID:m,saved:(e,t)=>{e&&xt(t),ht(t),xe({type:"showTableview",payload:t})},Token:Te.token[0]})),i().createElement("div",{id:"SchComDisciplineDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ke?i().createElement(Ft,null):i().createElement(ne.Z,{frmctrlid:"fld560L1TCExpandedCardDual",data:K,id:"SchComDisciplineDetails",title:"SchComDisciplineDetailsCode",cardTile:!!rt,visibleitem:Ie,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?Pe.select(e):("edit"==t?(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Le}),xe({type:"ShowDetail",payload:!1}),Pe.Expanded(!0)):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Le}),xe({type:"ShowDetail",payload:!0}),Pe.Expanded(!0),Pe.viewtoggle()),G?_(!0):pe?he(!0):(he(!1),he(!1))),Pe.hideAddBtn(!0)}})))))))}));var Se=a(44528),ye=a(99090),Ie=a(61924),Ee=a.n(Ie),fe=(a(40826),a(55490)),ve=a(92371);const be={EnterKeyValues:{SchComDisciplineDetails:["CheckPointName","TotalDuration","RangeMin","RangeMax","AccessType","IsMandatory","SchComDisciplineDetailsCode","OrderKey","MaterialStatus","SchComDisciplineCode"]},Label:{SchComDisciplineDetails:{PPMCheckPointID:["PPMCheckPointCode","CheckPointName"],TotalDuration:["SchComDisciplineDetailsCode"],RangeMin:["SchComDisciplineDetailsCode"],RangeMax:["SchComDisciplineDetailsCode"],AccessType:["SchComDisciplineDetailsCode"],IsMandatory:["SchComDisciplineDetailsCode"],SchComDisciplineDetailsCode:["SchComDisciplineDetailsCode"],OrderKey:["SchComDisciplineDetailsCode"],MaterialStatus:["SchComDisciplineDetailsCode"],SchComDisciplineID:["SchComDisciplineDetailsCode"]}},LabelHeader:{SchComDisciplineDetails:{PPMCheckPointID:["Checkpoint Code","Checkpoint Name"],TotalDuration:["Sch Com Discipline Details Code"],RangeMin:["Sch Com Discipline Details Code"],RangeMax:["Sch Com Discipline Details Code"],AccessType:["Sch Com Discipline Details Code"],IsMandatory:["Sch Com Discipline Details Code"],SchComDisciplineDetailsCode:["Sch Com Discipline Details Code"],OrderKey:["Sch Com Discipline Details Code"],MaterialStatus:["Sch Com Discipline Details Code"],SchComDisciplineID:["SchComDisciplineDetailsCode"]}},Property:{SchComDisciplineDetails:{PPMCheckPointID:{id:"fld560_10969",clearID:"SchComDisciplineDetailsCheckPointNameClear",type:"select",labelID:"PPMCheckPointIDPK",labelname:"CheckPoint",fielddisplayname:"CheckPointName",foreignName:[],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!0},TotalDuration:{id:"fld560_10963",labelID:"TotalDuration",maxLength:"25",labelname:"Total Duration",frmctrlid:"fld560_10963",frmctrlidname:"TotalDuration",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RangeMin:{id:"fld560_10965",labelID:"RangeMin",maxLength:"25",labelname:"Range Min",frmctrlid:"fld560_10965",frmctrlidname:"RangeMin",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},RangeMax:{id:"fld560_10964",labelID:"RangeMax",maxLength:"25",labelname:"Range Max",frmctrlid:"fld560_10964",frmctrlidname:"RangeMax",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},AccessType:{id:"fld560_10966",labelID:"AccessType",maxLength:"20",labelname:"Access Type",frmctrlid:"fld560_10966",frmctrlidname:"AccessType",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMandatory:{id:"fld560_10967",labelID:"IsMandatory",maxLength:"",labelname:"Is Mandatory",frmctrlid:"fld560_10967",frmctrlidname:"IsMandatory",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SchComDisciplineDetailsCode:{id:"fld560_10960",labelID:"SchComDisciplineDetailsCode",maxLength:"50",labelname:"Sch Com Discipline Details Code",frmctrlid:"fld560_10960",frmctrlidname:"SchComDisciplineDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},OrderKey:{id:"fld560_10961",labelID:"OrderKey",maxLength:"",labelname:"Order Key",frmctrlid:"fld560_10961",frmctrlidname:"OrderKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaterialStatus:{id:"fld560_10962",labelID:"MaterialStatus",maxLength:"",labelname:"Material Status",frmctrlid:"fld560_10962",frmctrlidname:"MaterialStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SchComDisciplineID:{id:"fld560_10968",clearID:"SchComDisciplineDetailsSchComDisciplineCodeClear",type:"select",labelID:"SchComDisciplineIDPK",labelname:"SchComDisciplineCode",fielddisplayname:"SchComDisciplineCode",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{SchComDisciplineDetails:{PPMCheckPointID:["IsActive","CheckPointName","IsDraft","PPMCheckPointCode","CreatedTtm"],SchComDisciplineID:["DisciplineID","FrequencyID","ManHour","ManPower","MaintenanceHours","SchComCompleteby"]}}};var Me=a(99263),Ne=a(99323),we=a(6562),Pe=a(45155),Te=a(79352),xe=(a(49174),a(38773),a(19089),a(16233)),Fe=a.n(xe),ke=(a(82729),a(75355),a(11107),a(74095));const Ae={SchComDisciplineDetailsIDPK:"",SchComDisciplineDetailsCode:"",OrderKey:"",MaterialStatus:"",TotalDuration:"",RangeMax:"",RangeMin:"",AccessType:"",IsMandatory:!1,IsDraft:!1,Remarks:"",SchComDisciplineID:null,PPMCheckPointID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",SchComDisciplineCode:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",Type:"SchComDisciplineDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ze=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[c,s]=(0,l.useState)(!1),[r,d]=((0,l.useRef)(),(0,l.useState)(!0)),[g,h]=(0,l.useState)(!1),[S,I]=(0,l.useState)(!1),[E,M]=(0,l.useState)(""),[N,w]=(0,l.useState)(!1),[P,T]=(0,l.useState)([]),[x,F]=(0,l.useState)(null),[k,A]=(0,l.useReducer)(ve.Z,Ae),[B,O]=(0,l.useState)(!1),[V,z]=(0,l.useState)([]),[H,K]=(0,l.useState)(!1),q=(0,l.useContext)(e.context?e.context:_e),{cstate:G,cdispatch:_}=e.ContextApi?e.ContextApi:Ue(),[U,Y]=(0,l.useState)(0),[$,Q]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,X]=Fe()("560"),[ee,te]=(0,l.useState)([]),ae=(0,l.useRef)(null),[ie,ne]=(0,l.useState)(!0),[ce,se]=(0,l.useState)(!0),[re,oe]=(0,l.useState)(!0),[me,de]=(0,l.useState)(!1);let pe=(0,y.Z)();const[ue,De]=(0,l.useState)({}),Ce=e=>pe[e]?pe[e]:e,ge=t=>G.language?.[t]?G.language[t]:e.createEasy?ue?.[t]:t;(0,l.useEffect)((()=>{G.PrimaryId&&Y(Number(G.PrimaryId))}),[G.PrimaryId]),(0,l.useEffect)((()=>{Ie()}),[]),(0,l.useEffect)((()=>{Ie()}),[e.parentId]),(0,l.useEffect)((()=>{G.editData.length>0?(he(G.editData[0],""),h(!0)):G.Add&&(Ie(),h(!0))}),[G.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),De(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ie()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(Ge(t),h(e)):(Ie(),h(e))},AddOpen:e=>{Ie(),h(!0)}})));const he=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultSchComDisciplineDetailsID"==a?Q(t.SchComDisciplineDetailsIDPK):(Y(e.primid?Number(e.primid):t.SchComDisciplineDetailsIDPK?t.SchComDisciplineDetailsIDPK:0),_({type:"PrimaryId",payload:t.SchComDisciplineDetailsIDPK})),A({type:"number",name:"PPMCheckPointID",number:t.PPMCheckPointID?Number(t.PPMCheckPointID):0}),A({type:"text",name:"CheckPointName",value:t.CheckPointName}),A({type:"number",name:"TotalDuration",number:Number(t.TotalDuration)}),A({type:"number",name:"RangeMin",number:t.RangeMin}),A({type:"number",name:"RangeMax",number:t.RangeMax}),A({type:"text",name:"AccessType",value:t.AccessType?t.AccessType:""}),A({type:"boolean",name:"IsMandatory",boolean:!!t.IsMandatory&&t.IsMandatory}),A({type:"text",name:"SchComDisciplineDetailsCode",value:t.SchComDisciplineDetailsCode?t.SchComDisciplineDetailsCode:""}),A({type:"number",name:"OrderKey",number:t.OrderKey}),A({type:"boolean",name:"MaterialStatus",boolean:!!t.MaterialStatus&&t.MaterialStatus}),A({type:"number",name:"SchComDisciplineID",number:t.SchComDisciplineID?Number(t.SchComDisciplineID):0}),A({type:"text",name:"SchComDisciplineCode",value:t.SchComDisciplineCode}),t.IsDraft?d(!0):d(!("1"!=t.IsActive&&!t.IsActive))},Ie=()=>{T([]),Q(""),_({type:"PrimaryId",payload:""}),A({type:"text",name:"PPMCheckPointID",value:null}),A({type:"text",name:"CheckPointName",value:""}),document.getElementById("SchComDisciplineDetailsCheckPointNameClear")&&document.getElementById("SchComDisciplineDetailsCheckPointNameClear").click(),document.getElementById("SchComDisciplineDetailsPPMCheckPointIDClear")&&document.getElementById("SchComDisciplineDetailsPPMCheckPointIDClear").click(),te([]),A({type:"number",name:"TotalDuration",number:0}),A({type:"number",name:"RangeMin",number:0}),A({type:"number",name:"RangeMax",number:0}),A({type:"text",name:"AccessType",value:""}),A({type:"boolean",name:"IsMandatory",boolean:!1}),A({type:"text",name:"SchComDisciplineDetailsCode",value:""}),A({type:"number",name:"OrderKey",number:0}),A({type:"boolean",name:"MaterialStatus",boolean:!1}),A({type:"text",name:"SchComDisciplineID",value:null}),A({type:"text",name:"SchComDisciplineCode",value:""}),document.getElementById("SchComDisciplineDetailsSchComDisciplineCodeClear")&&document.getElementById("SchComDisciplineDetailsSchComDisciplineCodeClear").click(),Y(0),d(!0),M(""),ne(!0),se(!0),oe(!0)},xe=t=>{ne(!0),se(!0),oe(!0),q.loading(!0),q.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=`${u.v.Api}${U?"FP560S1/":"FP560S19/"}`,l={data:[{p1:"SetDefaultSchComDisciplineDetailsID"==t?"NORECORDS"!=$&&$?$:0:U,p2:je(k.SchComDisciplineDetailsCode),p3:k.OrderKey?Number(k.OrderKey):0,p4:k.MaterialStatus,p5:k.TotalDuration?Number(k.TotalDuration):0,p6:k.RangeMax?Number(k.RangeMax):0,p7:k.RangeMin?Number(k.RangeMin):0,p8:je(k.AccessType),p9:k.IsMandatory,p10:!1,p11:"SetDefaultSchComDisciplineDetailsID"==t?"SetDefault":null,p12:e.parentId?Number(e.parentId):k.SchComDisciplineID?k.SchComDisciplineID:0,p13:U?k.PPMCheckPointID:0==ee.length?0:ee.map((e=>e.PPMCheckPointIDPK)).toString(),p14:r,p15:"SetDefaultSchComDisciplineDetailsID"==t,p16:localStorage.getItem("userid"),p17:L()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:L()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((i=>{(0,R.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?("SetDefaultSchComDisciplineDetailsID"==t?q.alert({open:!0,color:"success",message:[Ce("Default Record Configured")]}):q.alert({open:!0,color:"success",message:[l.message]}),document.getElementById("overlayimgAttSchComDisciplineDetails"),q.loading(!1),_({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(q.RefreshTable(),q.attachmentSave(a[0].Data.IDPK)),Ie(),G.AccessRights.IsApproval&&q.Approval(!0),document.getElementById("overlayimgAttSchComDisciplineDetails")&&(document.getElementById("overlayimgAttSchComDisciplineDetails").style.width="0%",document.getElementById("overlayimgAttSchComDisciplineDetails").style.display="none",document.getElementById("divSchComDisciplineDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("SchComDisciplineDetails-MainTable").style.display="block")):(q.alert({open:!0,color:"warning",message:[l.message]}),q.loading(!1)),h(!0)}))}))},Ze=t=>{q.loading(!0),q.ConfirmAlert(null);const a=u.v.Api+"FP560S2/",l={data:[{p1:"SetDefaultSchComDisciplineDetailsID"==t?"NORECORDS"!=$&&$?$:0:U,p2:je(k.SchComDisciplineDetailsCode),p3:k.OrderKey?Number(k.OrderKey):0,p4:k.MaterialStatus,p5:k.TotalDuration?Number(k.TotalDuration):0,p6:k.RangeMax?Number(k.RangeMax):0,p7:k.RangeMin?Number(k.RangeMin):0,p8:je(k.AccessType),p9:k.IsMandatory,p10:!1,p11:"SetDefaultSchComDisciplineDetailsID"==t?"SetDefault":null,p12:e.parentId?Number(e.parentId):k.SchComDisciplineID?k.SchComDisciplineID:0,p13:U?k.PPMCheckPointID:0==ee.length?0:ee.map((e=>e.PPMCheckPointIDPK)).toString(),p14:r,p15:"SetDefaultSchComDisciplineDetailsID"==t,p16:localStorage.getItem("userid"),p17:L()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:L()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((e=>{(0,p.Z)(a,l,e).then((e=>{const t=e.Output[0].status;let a=e.Output[0].Data,l=new Array,i=new Array;"200"===t.code?(a.map((e=>{e&&(l.push(e.IsAlert),i.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(q.alert({open:!0,color:"warning",message:i}),q.loading(!1)):xe()):(q.alert({open:!0,color:"warning",message:[e.Output[0].status.message]}),q.loading(!1))}))}))};function Be(t,a,l,i){if(!(G.count>0))return q.alert({open:!0,color:"warning",message:[Ce("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return q.alert({open:!0,color:"warning",message:[Ce("Please enter the primary fields")]}),!1;{ne(!0),se(!0),oe(!0),q.loading(!0),q.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP560S1/",l={data:[{p1:"SetDefaultSchComDisciplineDetailsID"==i?"NORECORDS"!=$&&$?$:0:U,p2:je(k.SchComDisciplineDetailsCode),p3:k.OrderKey?Number(k.OrderKey):0,p4:k.MaterialStatus,p5:k.TotalDuration?Number(k.TotalDuration):0,p6:k.RangeMax?Number(k.RangeMax):0,p7:k.RangeMin?Number(k.RangeMin):0,p8:je(k.AccessType),p9:k.IsMandatory,p10:!0,p11:"SetDefaultSchComDisciplineDetailsID"==i?"SetDefault":null,p12:e.parentId?Number(e.parentId):k.SchComDisciplineID?k.SchComDisciplineID:0,p13:U?k.PPMCheckPointID:0==ee.length?0:ee.map((e=>e.PPMCheckPointIDPK)).toString(),p14:!1,p15:"SetDefaultSchComDisciplineDetailsID"==i,p16:localStorage.getItem("userid"),p17:L()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:L()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((i=>{(0,R.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?q.alert({open:!0,color:"warning",message:[Ce("Deleted Successfully")]}):q.alert({open:!0,color:"success",message:[Ce("Saved to Draft")]}),q.loading(!1),q.attachmentSave(a[0].Data.IDPK),Ie(),q.RefreshTable(),e.clrImgstate(!0)):(q.alert({open:!0,color:"warning",message:[l.message]}),q.loading(!1))}))}))}}function Le(e){return(0,Me.CreateEasy)(e,G,_,q,W),!1}function Re(e,a){return(0,Ne.AdvanceSearch)(e,a,_e,Ue(),ze,t),!1}const Oe=(t,a,l,i,n,c)=>{const s=u.v.Api+"FP560S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:1==k.IsMandatory,p10:null,p11:null,p12:e.parentId?Number(e.parentId):0,p13:"0"==k.PPMCheckPointID?null:k.PPMCheckPointID?k.PPMCheckPointID:ee.map((e=>e.PPMCheckPointIDPK)).toString(),p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:"0"==k.FrequencyID?null:k.FrequencyID,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:"0"==k.DisciplineID?null:k.DisciplineID,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:a?"%"+a+"%":null,p31:t,p32:c||10,p33:l,p34:null,p35:null,p36:localStorage.getItem("UserGroupID"),p37:localStorage.getItem("userid")}},o=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const m={data:o};(0,p.Z)(s,"ClearAll"==l?m:r,"PKDrag"==i?n:G.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;1==t?e>0?(z(i),c&&"PPMCheckPointIDPK"==l&&(ae.current.checkedAll(i),q.loading(!1))):z([]):z(V.concat(i)),"SetDefaultSchComDisciplineDetailsID"==l&&(e>0?he(i[0],"SetDefaultSchComDisciplineDetailsID"):Q("NORECORDS")),O(!1)}else q.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},Ve=(t,l,i)=>{const n=u.v.Api+"FP560S3/",c={data:{p1:null,p2:"SchComDisciplineDetailsCode"==i&&l?"%"+l+"%":null,p3:"OrderKey"==i&&l?"%"+l+"%":null,p4:"MaterialStatus"==i&&l?"%"+l+"%":null,p5:"TotalDuration"==i&&l?"%"+l+"%":null,p6:"RangeMax"==i&&l?"%"+l+"%":null,p7:"RangeMin"==i&&l?"%"+l+"%":null,p8:"AccessType"==i&&l?"%"+l+"%":null,p9:null,p10:null,p11:null,p12:a.SchComDisciplineSchComDisciplineID?a.SchComDisciplineSchComDisciplineID:"0",p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:t,p32:10,p33:"SchComDisciplineDetailsID",p34:null,p35:null,p36:localStorage.getItem("UserGroupID"),p37:localStorage.getItem("userid")}},s={data:Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{})};O(!0),(0,p.Z)(n,"ClearAll"==i?s:c,G.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("SchComDisciplineDetailsCode"==i&&ne(e>0),"OrderKey"==i&&se(e>0),"MaterialStatus"==i&&oe(e>0),z(l)):("SchComDisciplineDetailsCode"==i&&ne(!0),"OrderKey"==i&&se(!0),"MaterialStatus"==i&&oe(!0),z(V.concat(l))),O(!1)}else q.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},ze=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a?A({type:"text",name:t,value:e}):"select"==a&&"PPMCheckPointID"==t&&(A({type:"text",name:"PPMCheckPointID",value:e.PPMCheckPointIDPK?e.PPMCheckPointIDPK:null}),A({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:null}))}),[k]);function He(e){if("PPMCheckPointID"==e){if(!k.PPMCheckPointID)return!1;A({type:"text",name:"PPMCheckPointID",value:null}),A({type:"text",name:"CheckPointName",value:""}),document.getElementById("SchComDisciplineDetailsPPMCheckPointIDClear")&&document.getElementById("SchComDisciplineDetailsPPMCheckPointIDClear").click(),te([]),document.getElementById("SchComDisciplineDetailsCheckPointNameClear")&&document.getElementById("SchComDisciplineDetailsCheckPointNameClear").click()}else if("SchComDisciplineID"==e&&!k.SchComDisciplineID)return!1}function Ke(e){if("PPMCheckPointID"==e){if(!k.PPMCheckPointID)return!1;A({type:"text",name:"PPMCheckPointID",value:null})}else if("SchComDisciplineID"==e&&!k.SchComDisciplineID)return!1}const qe=e=>{q.ConfirmAlert(i().createElement(Ee(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ge(e),onCancel:()=>q.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ce("Yes"),cancelBtnText:Ce("No"),showCancel:!0},Ce("Do you want to update this record?")))};function Ge(e){q.ConfirmAlert(null),I(e.IsDraft),Y(Number(e.SchComDisciplineDetailsIDPK)?Number(e.SchComDisciplineDetailsIDPK):0),A({type:"number",name:"PPMCheckPointID",number:e.PPMCheckPointID?Number(e.PPMCheckPointID):0}),A({type:"text",name:"CheckPointName",value:e.CheckPointName?e.CheckPointName:""}),A({type:"number",name:"TotalDuration",number:e.TotalDuration?Number(e.TotalDuration):0}),A({type:"number",name:"RangeMin",number:e.RangeMin?Number(e.RangeMin):0}),A({type:"number",name:"RangeMax",number:e.RangeMax?Number(e.RangeMax):0}),A({type:"text",name:"AccessType",value:e.AccessType?e.AccessType:""}),A({type:"boolean",name:"IsMandatory",boolean:!!e.IsMandatory&&e.IsMandatory}),A({type:"text",name:"SchComDisciplineDetailsCode",value:e.SchComDisciplineDetailsCode?e.SchComDisciplineDetailsCode:""}),A({type:"text",name:"OrderKey",value:e.OrderKey?e.OrderKey:""}),A({type:"text",name:"MaterialStatus",value:e.MaterialStatus?e.MaterialStatus:""}),A({type:"number",name:"SchComDisciplineID",number:e.SchComDisciplineID?Number(e.SchComDisciplineID):0}),A({type:"text",name:"SchComDisciplineCode",value:e.SchComDisciplineCode?e.SchComDisciplineCode:""})}const je=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(v.Z,{expanded:g,onChange:e=>{}},i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[560]"}," ",Ce("Add "),ge("560")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(we.Z,{row:!0},i().createElement(j.Z,{labelPlacement:"bottom",id:"fld560L1ECEntryCheckbox",control:i().createElement(Z.Z,{checked:"1"==r,onChange:e=>d(e.target.checked)}),label:Ce(1==r?"Active":"In Active")})))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{q.AttachExpand(!0)},id:"fld560L1ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(Pe.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,Ce("Attach")))),!U&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ie()},id:"fld560L1ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(Pe.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,Ce("Reset")))),"1"===S&&U&&i().createElement(ye.Z,{frmctrlid:"fld560L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Be("draftdel")}}),U&&"1"!==S||e.createEasy?null:G.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{Be()},frmctrlid:"fld560L1ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(Te.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,Ce("Draft")))),G.AccessRights.IsAdd||G.AccessRights.IsEdit?i().createElement(C.Z,{frmctrlid:"fld560L1ECSaveBtnIsAdd",name:Ce(U?"Update":"Save"),disabled:!1,onClick:()=>{!U&&0==ee.length||U&&(!k.PPMCheckPointID||0==k.PPMCheckPointID)?q.alert({open:!0,color:"warning",message:[Ce("Please select the ")+" "+ge("PPMCheckPointID")]}):e.parentId&&0!=e.parentId?U?q.ConfirmAlert(i().createElement(Ee(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Ce("Are you sure?"),onConfirm:()=>Ze(),onCancel:()=>q.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Ce("Yes"),cancelBtnText:Ce("Cancel"),showCancel:!0},Ce(U?"Do you want to Update?":"Do you want to Save?"))):xe():q.alert({open:!0,color:"warning",message:[Ce("Please select the ")+" "+ge("SchComDisciplineID")]})}}):null,!e.createEasy&&i().createElement(f.Z,{frmctrlid:"fld560L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ie(),h(!1),q.EditClose(!0),q.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),i().createElement(b.Z,null,i().createElement("div",{id:"SchComDisciplineDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"SchComDisciplineDetails-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"SchComDisciplineDetails-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(o.Z,{spacing:2},U?null:i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(ke.Z,{json:be,id:k.PPMCheckPointID,"data-testid":k.PPMCheckPointID,value:k.CheckPointName,SPName:"SchComDisciplineDetails",FieldName:"PPMCheckPointID",tfLabel:ge("PPMCheckPointID"),ref:ae,EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:(e,t)=>{return te(a=t),void a.length;var a},onChange:(e,t)=>{Oe(e,t,"PPMCheckPointIDPK")},fieldorder:"1",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,SideEntryView:!1,allData:(e,t)=>{q.loading(!0),Oe("1",t||"","PPMCheckPointIDPK","","",e)},openSlide:()=>{Le("462")},Tabledialog:()=>Re("462","PPMCheckPointID"),loading:B,clear:e=>{e&&He("PPMCheckPointID")}})),U?i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(fe.Z,{json:be,id:k.PPMCheckPointID,"data-testid":k.PPMCheckPointID,value:k.CheckPointName,SPName:"SchComDisciplineDetails",FieldName:"PPMCheckPointID",tfLabel:ge("PPMCheckPointID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>ze(e,"PPMCheckPointID","select"),onChange:(e,t)=>{Oe(e,t,"PPMCheckPointIDPK")},KeyBack:e=>{Ke("PPMCheckPointID")},fieldorder:"1",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,openSlide:()=>{Le("462")},Tabledialog:()=>Re("462","PPMCheckPointID"),loading:B,SideEntryView:!1,clear:e=>{e&&He("PPMCheckPointID")}})):null,i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Se.Z,{json:be,"data-testid":k.TotalDuration,SPName:"SchComDisciplineDetails",FieldName:"TotalDuration",tfLabel:ge("TotalDuration"),frmctrlid:"fld560_10963",fieldorder:"2",onChange:e=>{ze(e,"TotalDuration","number")},clear:e=>{e&&A({type:"number",name:"TotalDuration",number:0})},value:k.TotalDuration})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Se.Z,{json:be,"data-testid":k.RangeMin,SPName:"SchComDisciplineDetails",FieldName:"RangeMin",tfLabel:ge("RangeMin"),frmctrlid:"fld560_10965",fieldorder:"3",onChange:e=>{ze(e,"RangeMin","number")},clear:e=>{e&&A({type:"number",name:"RangeMin",number:0})},value:k.RangeMin})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Se.Z,{json:be,"data-testid":k.RangeMax,SPName:"SchComDisciplineDetails",FieldName:"RangeMax",tfLabel:ge("RangeMax"),frmctrlid:"fld560_10964",fieldorder:"4",onChange:e=>{ze(e,"RangeMax","number")},clear:e=>{e&&A({type:"number",name:"RangeMax",number:0})},value:k.RangeMax})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Se.Z,{json:be,"data-testid":k.AccessType,SPName:"SchComDisciplineDetails",FieldName:"AccessType",tfLabel:ge("AccessType"),frmctrlid:"fld560_10966",fieldorder:"1",onChange:e=>{ze(e,"AccessType","text")},clear:e=>{e&&A({type:"text",name:"AccessType",value:""})},value:k.AccessType})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},i().createElement("div",{className:"EntryView-Checkbox"},i().createElement(j.Z,{style:{color:"#337ab7"},"data-testid":k.IsMandatory,labelPlacement:"end",control:i().createElement(Z.Z,{checked:"1"==k.IsMandatory,onChange:e=>{ze(e.target.checked,"IsMandatory","boolean")},frmctrlid:"fld560_10967",frmctrlidname:"IsMandatory",fieldorder:"2",tfLabel:ge("IsMandatory")}),label:i().createElement("p",{className:"ToggleSwitchLabel",style:{color:k.IsMandatory?"#21446F":"#999"}},ge("IsMandatory"))}))),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(fe.Z,{"data-testid":k.SchComDisciplineDetailsCode,json:be,SPName:"SchComDisciplineDetails",FieldName:"SchComDisciplineDetailsCode",tfLabel:ge("SchComDisciplineDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&qe(t),onClick:()=>{ie&&Ve(1,"","ClearAll"),ne(!0)},frmctrlid:"fld560_10960",frmctrlidName:"SchComDisciplineDetailsCode",fieldorder:"2",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,onChange:(e,t)=>{ie&&Ve(e,t,"SchComDisciplineDetailsCode"),ze(t,"SchComDisciplineDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:k.SchComDisciplineDetailsCode,loading:B,clear:e=>{e&&(A({type:"text",name:"SchComDisciplineDetailsCode",value:""}),ne(!0))}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(fe.Z,{"data-testid":k.OrderKey,json:be,SPName:"SchComDisciplineDetails",FieldName:"OrderKey",tfLabel:ge("OrderKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&qe(t),onClick:()=>{ce&&Ve(1,"","ClearAll"),se(!0)},frmctrlid:"fld560_10961",frmctrlidName:"OrderKey",fieldorder:"2",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,onChange:(e,t)=>{ce&&Ve(e,t,"OrderKey"),ze(t,"OrderKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||se(!0)},showList:ce,SideEntryView:!1,KeyBack:e=>{},value:k.OrderKey,loading:B,clear:e=>{e&&(A({type:"text",name:"OrderKey",value:""}),se(!0))}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(fe.Z,{"data-testid":k.MaterialStatus,json:be,SPName:"SchComDisciplineDetails",FieldName:"MaterialStatus",tfLabel:ge("MaterialStatus"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&qe(t),onClick:()=>{re&&Ve(1,"","ClearAll"),oe(!0)},frmctrlid:"fld560_10962",frmctrlidName:"MaterialStatus",fieldorder:"2",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,onChange:(e,t)=>{re&&Ve(e,t,"MaterialStatus"),ze(t,"MaterialStatus","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||oe(!0)},showList:re,SideEntryView:!1,KeyBack:e=>{},value:k.MaterialStatus,loading:B,clear:e=>{e&&(A({type:"text",name:"MaterialStatus",value:""}),oe(!0))}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(fe.Z,{json:be,id:k.SchComDisciplineID,"data-testid":k.SchComDisciplineID,value:k.SchComDisciplineCode,SPName:"SchComDisciplineDetails",FieldName:"SchComDisciplineID",tfLabel:ge("SchComDisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>ze(e,"SchComDisciplineID","select"),onChange:(e,t)=>{Oe(e,t,"SchComDisciplineIDPK")},KeyBack:e=>{Ke("SchComDisciplineID")},fieldorder:"2",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,openSlide:()=>{Le("559")},Tabledialog:()=>Re("559","SchComDisciplineID"),loading:B,clear:e=>{e&&He("SchComDisciplineID")}})))),i().createElement("div",{id:"SchComDisciplineDetailsSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("SchComDisciplineDetailsSideBar").style.width="0",void w(!1))},"×"),N&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},x))))))))}));var Be=a(65197),Le=a(3379),Re=a.n(Le),Oe=a(61910);const Ve=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),c=((0,n.useSelector)((e=>e.form)),(0,l.useRef)()),[o,m]=(0,l.useState)([]),[d,C]=(0,l.useState)(!0),[g,h]=(0,l.useState)(e.showDetail),[S,I]=(0,l.useState)(""),[E,M]=i().useState(!1),[N,w]=i().useState(""),[P,T]=i().useState(!1),x=(0,l.useContext)(_e),{cstate:F,cdispatch:k}=Ue(),[A,Z]=(0,l.useState)(!1),[B,L]=(0,l.useState)(""),[R,O]=(0,l.useState)(""),[V,z]=(0,l.useState)("");let H=(0,y.Z)();(0,l.useEffect)((()=>{F.editData.length>0&&(m(F.editData),M(!1),k({type:"PrimaryId",payload:F.editData[0].SchComDisciplineDetailsIDPK}))}),[F.editData]),(0,l.useEffect)((()=>{F.showTableview&&z(F.showTableview)}),[F.showTableview]),(0,l.useEffect)((()=>{C(F.ExpandDetailValue)}),[F.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{C(e),M(null)},viewtoggle:()=>{M(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP560S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:e.Dialogview?"1":null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:1,p32:10,p33:F.IsDraft?"DraftSchComDisciplineDetailsID":"SchComDisciplineDetailsID",p34:null,p35:null,p36:localStorage.getItem("UserGroupID"),p37:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,p.Z)(l,i,e).then((e=>{x.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===E&&a.current.clear()}})));const K=e=>H?.[e]?H?.[e]:e,q=e=>F.language?.[e]?F.language[e]:e;function G(e,t){"PPMCheckPointIDPK"===e&&(x.openNav(),setTimeout((function(){c.current.viewlistProps(t)}),1e3),x.SlideComponentType(i().createElement("div",{id:"divPPMCheckPoints-View",style:{width:"100%"}},i().createElement(Oe.PPMCheckPointsContext.Provider,{value:{cstate:F,cdispatch:k,loading:e=>x.loading(e),alert:e=>x.alert(e),openNav:()=>x.openNav(),SlideComponentType:e=>x.SlideComponentType(e)}},i().createElement(Re(),{viewonly:!0,ref:c})))))}const _=(e,t)=>(a,l)=>{w(P?Object.assign(...o.filter((e=>e.SchComDisciplineDetailsIDPK==t)).map((e=>e))):F.editData),M(!l&&e)};return i().createElement("div",null,i().createElement(v.Z,{expanded:d,onChange:()=>()=>{e.expandTable&&C(!d)}},!E&&i().createElement(le.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},d?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},F.IsDraft?K("Draft"):"",q("SchComDisciplineDetails"),e.viewonly?" ":"("+F.count+")")):"",d?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&F.AccessRights.IsAdd?i().createElement(s.Z,{name:K("Add"),frmctrlid:"fld560L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{x.hideAddBtn(!0),k({type:"editData",payload:[]}),k({type:"ShowDetail",payload:!1}),k({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&F.AccessRights.IsEdit?i().createElement(r.Z,{frmctrlid:"fld560L1VCEditBtn",onClick:_("panel0",""),disabled:!1}):F.IsDraft&&F.AccessRights.IsAdd&&i().createElement(r.Z,{frmctrlid:"fld560L1VCEditBtnIsAdd",onClick:()=>{_("panel","")},disabled:!1}),!e.viewonly&&i().createElement(f.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld560L1VCCloseBtn",onClick:()=>{C(!1),x.hideAddBtn(!1),P&&(k({type:"editData",payload:[]}),m([]))}})):"")),i().createElement(b.Z,{style:{display:"block"}},o.map(((t,l)=>i().createElement("div",{key:l},E==="panel"+l?i().createElement(Ze,{ref:a,parentId:e.parentId}):i().createElement(i().Fragment,null,i().createElement(Be.Z,{tableName:"SchComDisciplineDetails",tableID:560,parentID:t.SchComDisciplineDetailsIDPK,fldid:"fld560L1VCContainer",OpenSlideComponent:G,index:l,refresh:V,val:t,tf:q,t:K,title:"10.0.0.59-3:08:17 PM-18-7[560]"}))))))))}));var ze=a(67698),He=a(55995),Ke=(a(45965),a(41722)),qe=a(9175),Ge=a.n(qe);const _e=(0,l.createContext)(),Ue=()=>{const e=(0,l.useContext)(_e);if(void 0===e)throw new Error("useCont must be used within  SchComDisciplineDetailsContext Provider");return e},je=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),c=(0,l.useRef)(),s=(0,l.useRef)(),r=(0,l.useRef)(),o=(0,l.useRef)(),[m,d]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[g,h]=(0,l.useState)(0),[S,y]=(0,l.useReducer)(Ke.D,Ke.E),[I,E]=(0,l.useState)(""),[f,v]=(0,l.useState)([]),[b,M]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||c.current.clear(),document.getElementById("divSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineDetails-MainTable").style.width="100%",document.getElementById("SchComDisciplineDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDisciplineDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{d(!0),document.getElementById("divSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineDetails-MainTable").style.width="100%",document.getElementById("SchComDisciplineDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDisciplineDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(y({type:"editData",payload:[e.editData]}),y({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{y(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),c.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{v([]),document.getElementById("divSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineDetailsEntryTable").style.width="100%",document.getElementById("SchComDisciplineDetails-MainEntry").style.width="100%",document.getElementById("SchComDisciplineDetails-MainEntry").style.display="block",document.getElementById("SchComDisciplineDetails-MainDiv").classList.add("displayFlex"),document.getElementById("SchComDisciplineDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttSchComDisciplineDetails").style.width="0%",document.getElementById("overlayimgAttSchComDisciplineDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,D.Z)(1).then((e=>{var t=new Array;t.push(e),y({type:"token",payload:t}),h(t.length),w(e)}))}))}),[]);const w=t=>{y({type:"AccessRights",payload:e.AccessRights}),M(e.AccessRights?.isNestSendtoApproval)};return i().createElement("div",{style:{width:"100%"}},i().createElement(_e.Provider,{value:{cstate:S,cdispatch:y,ContextApi:Ue,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==g&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{o.current.tempsave(e,f),v([])},EditClose:e=>N(),AttachExpand:e=>(r.current.AttachmentData(S.PrimaryId),void(m&&(document.getElementById("overlayPreviewSchComDisciplineDetails").style.width="50%",document.getElementById("divSchComDisciplineDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineDetails-MainTable").style.width="100%",document.getElementById("SchComDisciplineDetails-MainEntry").style.width="100%",document.getElementById("SchComDisciplineDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDisciplineDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttSchComDisciplineDetails").style.display="block",document.getElementById("overlayimgAttSchComDisciplineDetails").style.width="25%"))),Expanded:e=>{S.ShowDetail&&s.current.tableClick(e),y({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{S.ShowDetail&&s.current.viewtoggle()},clear:e=>{y({type:"ShowDetail",payload:!1}),y({type:"editData",payload:[]}),S.ShowDetail?s.current.clear(e):c.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{S.ShowDetail?s.current.tableClick(!1):c.current.CreateEasyProps(!1)},resetImg:()=>{o.current.tempClear(),r.current.clrImgstate(!0)}}},i().createElement("div",{id:"SchComDisciplineDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},i().createElement("div",{id:"SchComDisciplineDetails-MainEntry",className:"",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"SchComDisciplineDetailsEntryTable",style:{width:"100%"}},S.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divSchComDisciplineDetails-Entry",style:{width:"100%"}},0!==g?i().createElement(Ve,{ref:s,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),i().createElement(He.Z,{ref:o,menurefID:560,fileId:"LogoImgSchComDisciplineDetails",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewSchComDisciplineDetails",frmctrlid:"PvwIm_560_L1_",tempImg:e=>{S.PrimaryId?r.current.AttachmentData(S.PrimaryId):r.current.tempImg(e),v(e)},clearTempData:S.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divSchComDisciplineDetails-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(Ze,{ref:c,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),i().createElement(He.Z,{ref:o,menurefID:560,fileId:"LogoImgSchComDisciplineDetails",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewSchComDisciplineDetails",frmctrlid:"PvwIm_560_L1_",tempImg:e=>{S.PrimaryId?r.current.AttachmentData(S.PrimaryId):r.current.tempImg(e),v(e)},clearTempData:S.Add})),i().createElement("div",{id:"SchComDisciplineDetails-MainTable"},0!==g?i().createElement(he,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),i().createElement(ze.Z,{ImgAttachment:e=>N(),menurefID:560,fileId:"AttImgSchComDisciplineDetails",imgid:"overlayimgAttSchComDisciplineDetails",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewSchComDisciplineDetails",ref:r,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_560_L1_",timglist:e=>{o.current.timglist(e),v(e)},clearTempData:S.Add}))),i().createElement("div",{id:"SchComDisciplineDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),b&&i().createElement(Ge(),{openDialog:b,closeDialog:e=>M(e),formID:560,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var Ye=a(25108);const $e=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[n,s]=(0,l.useState)([]),[r,d]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[D,C]=(0,l.useState)(""),[g,h]=(0,l.useState)({}),[S,I]=(0,l.useState)(!0),[f,v]=(0,l.useState)(!1),{cstate:b,cdispatch:M}=e.ContextApi?e.ContextApi:at(),[B,L]=(0,l.useState)(1),[R,$]=(0,l.useState)(0),[Q,W]=(0,l.useState)(!1),[J,X]=(0,l.useState)({}),[ee,te]=(0,l.useState)([]),[ae,le]=(0,l.useState)(!0),[ie,ne]=(0,l.useState)(!1),[ce,se]=(0,l.useState)(""),[re,oe]=(0,l.useState)(!1),[me,de]=(0,l.useState)(!1),[pe,ue]=(0,l.useState)(!1),[De,Ce]=(0,l.useState)(""),ge=(0,l.useRef)(null),[he,Se]=(0,l.useState)({});let ye=localStorage.getItem("Language");const Ie={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ee=(0,y.Z)();const fe=e=>Ee[e]?Ee[e]:e,ve=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ie[ye]];function be(){h({}),X({}),e.searchData({}),v(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Se(a),te(t)}),[]),(0,l.useEffect)((()=>()=>{ge.current&&ge.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{be()}})));const Me=async(t,a,l,i)=>{W(!0);try{ge.current&&ge.current.abort();const c=new AbortController;ge.current=c;let r="",o=[],m={};await d((e=>(r=e.name,e))),await h((e=>(o=e,e))),await X((e=>(m=e,e)));const C=u.v.Api+"FP561S3/",S={data:{p1:"SchComDisciplineSubDetailsIDPK"==a?null:await xe(),p2:"SchComDisciplineSubDetailsCode"==r&&l.length>0?"%"+l+"%":null,p3:"Quantity"==r&&l.length>0?"%"+l+"%":null,p4:null,p5:null,p6:e.parentId?e.parentId:"0",p7:"SchComDisciplineDetailsCode"!=r&&o.SchComDisciplineDetailsCode?o.SchComDisciplineDetailsCode.map((e=>e.SchComDisciplineDetailsIDPK)).toString():null,p8:"MaterialName"!=r&&o.MaterialName?o.MaterialName.map((e=>e.MaterialIDPK)).toString():null,p9:e.Dialogview?"1":null,p10:null,p11:"p11"==r&&l.length>0?l:null,p12:null,p13:null,p14:null,p15:null,p16:"FrequencyName"!=r&&o.FrequencyName?o.FrequencyName.map((e=>e.FrequencyIDPK)).toString():null,p17:"FrequencyCode"==r&&l.length>0?"%"+l+"%":null,p18:"FrequencyName"==r&&l.length>0?"%"+l+"%":null,p19:"DisciplineName"!=r&&o.DisciplineName?o.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p20:"DisciplineCode"==r&&l.length>0?"%"+l+"%":null,p21:"DisciplineName"==r&&l.length>0?"%"+l+"%":null,p22:"SchComDisciplineCode"==r&&l.length>0?"%"+l+"%":null,p23:"CheckPointName"!=r&&o.CheckPointName?o.CheckPointName.map((e=>e.PPMCheckPointIDPK)).toString():null,p24:"CheckPointLevel"==r&&l.length>0?"%"+l+"%":null,p25:"CheckPointName"==r&&l.length>0?"%"+l+"%":null,p26:"PPMCheckPointCode"==r&&l.length>0?"%"+l+"%":null,p27:"AccessType"==r&&l.length>0?"%"+l+"%":null,p28:"SchComDisciplineDetailsCode"==r&&l.length>0?"%"+l+"%":null,p29:"TotalDuration"==r&&l.length>0?"%"+l+"%":null,p30:"MatProcessTypeName"!=r&&o.MatProcessTypeName?o.MatProcessTypeName.map((e=>e.MatProcessTypeIDPK)).toString():null,p31:"MatProcessTypeCode"==r&&l.length>0?"%"+l+"%":null,p32:"MatProcessTypeName"==r&&l.length>0?"%"+l+"%":null,p33:"MaterialTypeName"!=r&&o.MaterialTypeName?o.MaterialTypeName.map((e=>e.MaterialTypeIDPK)).toString():null,p34:"MaterialTypeCode"==r&&l.length>0?"%"+l+"%":null,p35:"MaterialTypeName"==r&&l.length>0?"%"+l+"%":null,p36:"MatMainClassName"!=r&&o.MatMainClassName?o.MatMainClassName.map((e=>e.MaterialMainClassIDPK)).toString():null,p37:"MatMainClassCode"==r&&l.length>0?"%"+l+"%":null,p38:"MatMainClassName"==r&&l.length>0?"%"+l+"%":null,p39:"MatSubClassName"!=r&&o.MatSubClassName?o.MatSubClassName.map((e=>e.MatSubClassIDPK)).toString():null,p40:"MatSubClassCode"==r&&l.length>0?"%"+l+"%":null,p41:"MatSubClassName"==r&&l.length>0?"%"+l+"%":null,p42:"MatMakeName"!=r&&o.MatMakeName?o.MatMakeName.map((e=>e.MaterialMakeIDPK)).toString():null,p43:"MatMakeCode"==r&&l.length>0?"%"+l+"%":null,p44:"MatMakeName"==r&&l.length>0?"%"+l+"%":null,p45:"MatModelName"!=r&&o.MatModelName?o.MatModelName.map((e=>e.MaterialModelIDPK)).toString():null,p46:"MatModelCode"==r&&l.length>0?"%"+l+"%":null,p47:"MatModelName"==r&&l.length>0?"%"+l+"%":null,p48:"UOMName"!=r&&o.UOMName?o.UOMName.map((e=>e.MATUOMIDPK)).toString():null,p49:"MATUOMCode"==r&&l.length>0?"%"+l+"%":null,p50:"UOMName"==r&&l.length>0?"%"+l+"%":null,p51:"GradeName"!=r&&o.GradeName?o.GradeName.map((e=>e.MatGradeIDPK)).toString():null,p52:"GradeName"==r&&l.length>0?"%"+l+"%":null,p53:"MatGradeCode"==r&&l.length>0?"%"+l+"%":null,p54:"MaterialColorName"!=r&&o.MaterialColorName?o.MaterialColorName.map((e=>e.MatMaterialColorIDPK)).toString():null,p55:"MaterialColorName"==r&&l.length>0?"%"+l+"%":null,p56:"MatMaterialColorCode"==r&&l.length>0?"%"+l+"%":null,p57:"RawMaterialName"!=r&&o.RawMaterialName?o.RawMaterialName.map((e=>e.MadeRawMaterialIDPK)).toString():null,p58:"MadeRawMaterialCode"==r&&l.length>0?"%"+l+"%":null,p59:"RawMaterialName"==r&&l.length>0?"%"+l+"%":null,p60:"MaterialSizeName"!=r&&o.MaterialSizeName?o.MaterialSizeName.map((e=>e.MatMaterialSizeIDPK)).toString():null,p61:"MaterialSizeName"==r&&l.length>0?"%"+l+"%":null,p62:"MatMaterialSizeCode"==r&&l.length>0?"%"+l+"%":null,p63:"MaterialCode"==r&&l.length>0?"%"+l+"%":null,p64:"MaterialName"==r&&l.length>0?"%"+l+"%":null,p65:i||1,p66:10,p67:t,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},y=await(0,p.Z)(C,S,e.token,"",c.signal);if(!y)return!1;const I=y.Output.status.code,E=y.Output.data;if("200"===I)if(E.length>0)if(1===i){let e=we(E,r),t=Ne(e,g[r],a);s(t),$(t.length>0?t[0].TotalCount:g[r].length)}else{let e=[...n,...E],t=we(e,r);$(t.length<10?t.length:E[0].TotalCount),s(we(t,r))}else D.length>0&&s([]),$(n.length);else e.alertmsg("error",[y.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{W(!1)}},Ne=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),we=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Pe(e){let t=e+"PK",a=he[e];if(a){const e=a.flatMap((e=>g[e]?g[e].map((e=>e[t])):[]));return e.toString()}return""}const Te=async t=>{let a="",l={};await h((e=>(a=e,e)));let i=[...ee],n=[];for(let e of i){let t=a[e]?.map((e=>e.SchComDisciplineSubDetailsIDPK)).toString();t&&n.push(t)}await X((e=>(l=e,e)));let c={SchComDisciplineSubDetailsIDPK:n?[...new Set(n)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MaterialID:Pe("MaterialID"),SchComDisciplineDetailsID:Pe("SchComDisciplineDetailsID"),SchComDisciplineID:Pe("SchComDisciplineID")};"saveFav"==t?Ae("save",c):(e.searchData(c),v(!1))};async function xe(){let e={};await h((t=>(e=t,t)));let t=[...ee],a=[];for(let l of t){let t=e[l]?.map((e=>e.SchComDisciplineSubDetailsIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Fe(t,a,l,i,n,c){let s={[i]:{From:t,Type:l,To:a}},r={};X((e=>({...e,...s})));const o={...g};let m=[...ee],d=[];for(let e of m){let t=o[e]?.map((e=>e.SchComDisciplineSubDetailsIDPK)).toString();t&&d.push(t)}await X((e=>(r=e,e)));let p={SchComDisciplineSubDetailsIDPK:d?[...new Set(d)].toString():"",CreatedTtm:r.CreatedTtm?r.CreatedTtm.From:"",CreatedTtmType:r.CreatedTtm?r.CreatedTtm.Type:"",CreatedTtmBetween:r.CreatedTtm?r.CreatedTtm.To:"",IsActive:"IsActive"==l?n:null,MaterialID:g.MaterialName?.map((e=>e.MaterialIDPK)).toString(),SchComDisciplineDetailsID:g.SchComDisciplineDetailsCode?.map((e=>e.SchComDisciplineDetailsIDPK)).toString(),SchComDisciplineID:g.SchComDisciplineCode?.map((e=>e.SchComDisciplineIDPK)).toString()};e.searchData(p)}function ke(){return i().createElement(T.Z,{frmctrlid:"fld561L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,i)=>{Fe(e,t,a,r.name,l)},keyboardback:()=>{v(!1),d({idpk:"",name:"",type:"",fieldidpk:""})},title:fe(r.name),fieldname:r.name,save:e=>{alert(!0)}})}const Ae=(t,a)=>{(0,Y.Z)(t,e.formID,a,ce).then((e=>{const t=e.Output.data;Ce(t)}))};return i().createElement("div",null,i().createElement(z.Z,{onClose:()=>oe(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:re},i().createElement(H.Z,{id:"customized-dialog-title",onClose:()=>oe(!1)},"Add Favorite"),i().createElement(K.Z,{dividers:!0,style:{minWidth:"500px"}},i().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},i().createElement(G.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ce,onChange:e=>se(e.target.value),fullWidth:!0})),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>de(e.target.checked)}),label:"Quick"}),i().createElement(j.Z,{style:{color:"#337ab7"},control:i().createElement(E.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:i().createElement(_.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:i().createElement(U.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ue(e.target.checked)}),label:"Dashboard"})),i().createElement(q.Z,null,i().createElement(w.Z,{onClick:()=>{Te("saveFav"),oe(!1)},color:"primary"},"Save"))),f?"Created Ttm"===r.name||r.name.includes("Date")?i().createElement(ke,null):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},i().createElement(o.Z,null,i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement("p",{className:"columnHeaderp"},ve(r.idpk)," (",n.length,"/",R,")")),i().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},i().createElement(c.ZP,{title:fe("Close"),placement:"top"},i().createElement("div",{className:"FilterItemClose",align:"right"},i().createElement(N.Z,{id:"fld561L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{v(!1),d({idpk:"",name:"",type:"",fieldidpk:!1}),L(1)}}))),g[r.name]&&i().createElement("div",{className:"FiltercloseAlign",align:"right"},i().createElement(w.Z,{frmctrlid:"fld561L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await h((t=>(e=t,Ye.log("clear fewItems",e),t))),e[r.name]=[],Me(r.type,r.fieldidpk,"",1)})()}},i().createElement("span",{className:"ColumnApplyTitle"},fe("Clear All")))))))),i().createElement("div",{className:"FilterParentDiv"},i().createElement("div",{"data-list-scroll-container":"true"},i().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},i().createElement("div",{className:"FilterMaximize"},S?i().createElement(c.ZP,{title:"Maximize",placement:"right"},i().createElement("span",null,i().createElement(k.D7o,{className:"FilterMaximizeIcon",onClick:()=>{I(!1)}}))):i().createElement(c.ZP,{title:"Minimize",placement:"right"},i().createElement("span",null,i().createElement(k.dOw,{className:"FilterMaximizeIcon",onClick:()=>{I(!0)}})))),i().createElement("ul",null,g[r.name]&&g[r.name].map(((e,t)=>i().createElement("div",{key:t,tabIndex:"-1",className:S?"filterSelectedItems":"filterSelectedItemsMaximize"},i().createElement("div",{className:"filterSelectedItemNames"},i().createElement("span",null,e[r.name])),i().createElement("div",{className:"filterSelectedItemClose"},i().createElement("div",{id:"fildacls_3_L2_"+e[r.name],onClick:()=>(async(e,t)=>{L(1);let a=g[r.name].filter((t=>t!=e)),l={};await h((e=>(l=e,e))),l[r.name]=a,h(l),s((t=>[e,...t]))})(e)},i().createElement(N.Z,{className:"filterSelectedItemCloseIcon"})))))))),i().createElement("div",{className:"displayFlex width100 FilterSearch"},i().createElement("div",{className:"FilterSearchInputDiv"},i().createElement(x.Z,{frmctrlid:"fld561L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:D,placeholder:fe("Enter ")+" "+ve(r.idpk),onChange:e=>{C(e),Me(r.type,r.fieldidpk,e,1,xe())}})),i().createElement("div",{id:"fld561L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Te},i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(w.Z,{className:"ColumnSearchButton"},i().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&i().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},i().createElement(A.Z,{color:"secondary"})),i().createElement("div",{id:"fld561L1TFCScrollYDefault",className:"height65 scrollYDefault"},n.length>0&&n.map(((e,t)=>i().createElement("div",{id:"filda_3_L2_"+e[r.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await h((e=>(l=e,e)));let i=l[r.name];t[r.name]=i?[...a,...i]:a,l={...l,...t},h(l),s((t=>t.filter((t=>t!=e))))})(e)}},i().createElement(P.Z,{className:"DotIcon"}),i().createElement("span",null,e[r.name])))),n.length+0<R&&n.length>0&&i().createElement("div",{id:"fld561L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{L(B+1),Me(r.type,r.fieldidpk,"",B+1)}},i().createElement("p",null," more... ")),0===n.length&&i().createElement("div",null,i().createElement("div",{className:"NoDataImage"},i().createElement("img",{src:u.v.NoData,alt:"NoImage"})),i().createElement("div",{className:"NoDataDesc"},i().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):i().createElement("div",null,i().createElement("div",{className:"columnHeader displayFlex"},i().createElement("div",{className:"columnHeaderTitle"},i().createElement(F.Ol$,{className:"columnHeaderIcon"}),i().createElement("p",{className:"columnHeaderp"}," ",fe("Filter")," ",ce.length>0&&`(${ce})`)),i().createElement("div",{className:"columnHeaderbtn",align:"right"},i().createElement(c.ZP,{title:"Favorite List",placement:"top"},ie?i().createElement(N.Z,{className:"favlisticon",onClick:()=>{ne(!1),Ce(""),be()}}):i().createElement(O.Z,{className:"favlisticon",onClick:()=>{ne(!0),Ae("select"),be()}})),Object.keys(g).length>0&&i().createElement(c.ZP,{title:"Save Favorites",placement:"top"},i().createElement(V.Z,{className:"favlisticon",onClick:()=>{oe(!0)}})),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(w.Z,{className:"ColumnApplyButton",onClick:()=>{be()},id:"fld561L1TFCColumApplyBttn"},i().createElement("span",{className:"ColumnApplyTitle"},fe("Clear")))),i().createElement(c.ZP,{title:"",placement:"top"},i().createElement(w.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld561L1TFCColumnCloseButton"},i().createElement("span",{className:"ColumnCloseTitle"},fe("Close")))))),i().createElement("div",{className:"height65"},i().createElement("div",{id:"fld561L1TFCFilItems",className:"FilterItems"},!De&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return i().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{v(!0),C(""),s([]),$(0);let t=e.IsForeign?e.FieldName+"PK":"SchComDisciplineSubDetailsIDPK";d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterSchComDisciplineSubDetailsID",fieldidpk:t}),Me(e.IsForeign?"Filter"+e.FieldName:"FilterSchComDisciplineSubDetailsID",t,"",1,xe())})(e)}},e.FieldName.includes("Date")?i().createElement(i().Fragment,null,ve(e.AdminUserGridViewIDPK)," ",J[e.FieldName]&&i().createElement("p",{className:"filterdatevalue"},"(",J[e.FieldName]?.From+" to "+J[e.FieldName]?.To,")")):"IsActive"==e.FieldName?i().createElement(i().Fragment,null,i().createElement("span",null,ve(e.AdminUserGridViewIDPK)),i().createElement(Z.Z,{checked:"1"==ae,onChange:t=>{le(t.target.checked),Fe("","",e.FieldName,"",t.target.checked)}})):i().createElement(i().Fragment,null,i().createElement("span",null,ve(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,g[a]?.length>0&&i().createElement("div",{className:"FilterItemDivSelected"},i().createElement("span",{className:"RoundedDivName"},g[a][0][a]),g[a].length>1&&i().createElement("span",{className:"RoundedDivName"},g[a][1][a]),g[a].length>2&&i().createElement("span",{className:"RoundedDivNumber"},"+"+(g[a].length-2))))));var a})),De&&De.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return i().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Me("FilterSchComDisciplineSubDetailsID",a),Te("")}},i().createElement(i().Fragment,null,e.TableFilterFavName))}))))))}));window.clickFilter="";const Qe=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),r=(0,l.useRef)(null),[o]=((0,l.useRef)(null),(0,n.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[m]=(0,l.useState)("561"),[d,D]=(0,l.useState)(!1),[C,g]=(0,l.useState)(!1),[h,S]=(0,l.useState)(0),[E,f]=(0,l.useState)(0),[w,P]=(0,l.useState)(0),[T,A]=(0,l.useState)(0),[Z,B]=(0,l.useState)({current:1,pageSize:100}),[L,R]=(0,l.useState)(""),[O,V]=(0,l.useState)([]),[z,H]=(0,l.useState)({val:"",column:""}),[K,q]=(0,l.useState)([]),[G,_]=(0,l.useState)(!1),[U,j]=(0,l.useState)(""),[Y,$]=(0,l.useState)(""),[Q,pe]=(0,l.useState)(!1),[he,Se]=(0,l.useState)([]),[ye,Ie]=(0,l.useState)([]),[Ee,fe]=(0,l.useState)([]),[ve,be]=(0,l.useState)({children:[{name:"SchComDisciplineSubDetails",children:[]}]}),[Me,Ne]=(0,l.useState)(!1),we=(0,l.useContext)(e.context?e.context:tt),{cstate:Pe,cdispatch:Te}=e.ContextApi?e.ContextApi:at();let xe={SchComDisciplineSubDetailsIDPK:"",SchComDisciplineSubDetailsCode:"",Quantity:"",IsDraft:"",Remarks:"",SchComDisciplineID:"",SchComDisciplineDetailsID:"",MaterialID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyID:"",FrequencyCode:"",FrequencyName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",SchComDisciplineCode:"",PPMCheckPointID:"",CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",AccessType:"",SchComDisciplineDetailsCode:"",TotalDuration:"",MatProcessTypeID:"",MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:"",MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:"",MatMainClassCode:"",MatMainClassName:"",MatSubClassID:"",MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:"",MatMakeCode:"",MatMakeName:"",MaterialModelID:"",MatModelCode:"",MatModelName:"",MATUOMID:"",MATUOMCode:"",UOMName:"",MatGradeID:"",GradeName:"",MatGradeCode:"",MatMaterialColorID:"",MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:"",MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:"",MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Fe,ke]=(0,l.useState)(xe),[Ae,Ze]=(0,l.useState)(xe),[Be,Le]=(0,l.useState)(!1),[Re,Oe]=(0,l.useState)(!0),[Ve,ze]=(0,l.useState)(!1),[He,Ke]=(0,l.useState)(!0),[qe,Ge]=(0,l.useState)({MaterialName:"",SchComDisciplineDetailsCode:"",SchComDisciplineCode:"",Quantity:"",SchComDisciplineSubDetailsCode:""}),[_e,Ue]=(0,l.useState)(!1),[je,Ye]=(0,l.useState)([]),[Qe,We]=(0,l.useState)(0),[Je,Xe]=(0,l.useState)(0),[et,lt]=(0,l.useState)({current:1,pageSize:10}),[it,nt]=(0,l.useState)([]),[ct,st]=(0,l.useState)([]),[rt,ot]=(0,l.useState)(!1),[mt,dt]=(0,l.useState)(!1),[pt,ut]=(0,l.useState)(!1),[Dt,Ct]=(0,l.useState)(""),[gt,ht]=ue()("561"),[St,yt]=(0,l.useState)({}),It=[{columns:it,data:L}];let Et=(0,y.Z)();const ft=e=>Et[e]?Et[e]:e,vt=e=>Pe.language?.[e]?Pe.language[e]:e;(0,l.useEffect)((()=>{xt(gt)}),[gt]),(0,l.useEffect)((()=>{Pe.token.length>0&&(e.parentId?Pt(Z,xe,"SchComDisciplineSubDetailsID"):q([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Me&&e.parentId?Pt(Z,U,"SchComDisciplineSubDetailsID"):Me&&Ze(U)}),[U]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{bt(e)},tableRefresh:()=>{Pt(Z,xe,"SchComDisciplineSubDetailsID")},DialogTableProps:e=>{g(e)},HideEntryFields:e=>{ut(!0===e)}})));const bt=e=>{""==e?Pt(Z,xe,Be?"DraftSchComDisciplineSubDetailsID":"SchComDisciplineSubDetailsID",Be&&"DraftPage"):Tt(e,{current:1,pageSize:100}),$(e)};function Mt(t){we.loading(!0);let a=u.v.Api+"FP561S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(a,l,Pe.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,Xe(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?We(Math.ceil(a)):20==t.pageSize?We(Math.ceil(a/2)):50==t.pageSize?We(Math.ceil(a/5)):100==t.pageSize&&We(Math.ceil(a/10)),Ye(e.Output.data),we.loading(!1)}}))}function Nt(e,t){Te({type:"editData",payload:[t]}),Te({type:"IsDraft",payload:Be}),Te({type:"ShowDetail",payload:!0}),we.Expanded(!0),Ve&&pe(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ke(e.cardview),e.Dialogview&&(g(e.Dialogview),ut(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Tt(e.searchsafaritext,{current:Z.current,pageSize:Z.pageSize})}),[e.searchsafaritext]);const wt=()=>{we.EditClose(!0),G?(document.getElementById("SchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("SchComDisciplineSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("SchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",_(!1),He?(C||(document.getElementById("SchComDisciplineSubDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineSubDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("SchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("SchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("SchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("SchComDisciplineSubDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("SchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",_(!0),document.getElementById("SchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("SchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),pe(!1),window.clickFilter=!G},Pt=(t,a,l,i,n,c)=>{we.loading(!0),"DraftPage"!==i&&Le(Pe.IsDraft);let s=u.v.Api+"FP561S3/",r={data:{p1:n||(a&&a.SchComDisciplineSubDetailsIDPK?a.SchComDisciplineSubDetailsIDPK:null),p2:a&&a.SchComDisciplineSubDetailsCode?a.SchComDisciplineSubDetailsCode:null,p3:a&&a.Quantity?a.Quantity:null,p4:"DraftSchComDisciplineSubDetailsID"==l?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:a&&a.SchComDisciplineDetailsID?a.SchComDisciplineDetailsID:null,p8:a&&a.MaterialID?a.MaterialID:null,p9:a&&a.IsActive,p10:null,p11:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p12:a&&a.CreatedTtm?a.CreatedTtm:null,p13:a&&a.CreatedTtmType?a.CreatedTtmType:null,p14:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p15:null,p16:a&&a.FrequencyID?a.FrequencyID:null,p17:a&&a.FrequencyCode?a.FrequencyCode:null,p18:a&&a.FrequencyName?a.FrequencyName:null,p19:a&&a.DisciplineID?a.DisciplineID:null,p20:a&&a.DisciplineCode?a.DisciplineCode:null,p21:a&&a.DisciplineName?a.DisciplineName:null,p22:a&&a.SchComDisciplineCode?a.SchComDisciplineCode:null,p23:a&&a.PPMCheckPointID?a.PPMCheckPointID:null,p24:a&&a.CheckPointLevel?a.CheckPointLevel:null,p25:a&&a.CheckPointName?a.CheckPointName:null,p26:a&&a.PPMCheckPointCode?a.PPMCheckPointCode:null,p27:a&&a.AccessType?a.AccessType:null,p28:a&&a.SchComDisciplineDetailsCode?a.SchComDisciplineDetailsCode:null,p29:a&&a.TotalDuration?a.TotalDuration:null,p30:a&&a.MatProcessTypeID?a.MatProcessTypeID:null,p31:a&&a.MatProcessTypeCode?a.MatProcessTypeCode:null,p32:a&&a.MatProcessTypeName?a.MatProcessTypeName:null,p33:a&&a.MaterialTypeID?a.MaterialTypeID:null,p34:a&&a.MaterialTypeCode?a.MaterialTypeCode:null,p35:a&&a.MaterialTypeName?a.MaterialTypeName:null,p36:a&&a.MaterialMainClassID?a.MaterialMainClassID:null,p37:a&&a.MatMainClassCode?a.MatMainClassCode:null,p38:a&&a.MatMainClassName?a.MatMainClassName:null,p39:a&&a.MatSubClassID?a.MatSubClassID:null,p40:a&&a.MatSubClassCode?a.MatSubClassCode:null,p41:a&&a.MatSubClassName?a.MatSubClassName:null,p42:a&&a.MaterialMakeID?a.MaterialMakeID:null,p43:a&&a.MatMakeCode?a.MatMakeCode:null,p44:a&&a.MatMakeName?a.MatMakeName:null,p45:a&&a.MaterialModelID?a.MaterialModelID:null,p46:a&&a.MatModelCode?a.MatModelCode:null,p47:a&&a.MatModelName?a.MatModelName:null,p48:a&&a.MATUOMID?a.MATUOMID:null,p49:a&&a.MATUOMCode?a.MATUOMCode:null,p50:a&&a.UOMName?a.UOMName:null,p51:a&&a.MatGradeID?a.MatGradeID:null,p52:a&&a.GradeName?a.GradeName:null,p53:a&&a.MatGradeCode?a.MatGradeCode:null,p54:a&&a.MatMaterialColorID?a.MatMaterialColorID:null,p55:a&&a.MaterialColorName?a.MaterialColorName:null,p56:a&&a.MatMaterialColorCode?a.MatMaterialColorCode:null,p57:a&&a.MadeRawMaterialID?a.MadeRawMaterialID:null,p58:a&&a.MadeRawMaterialCode?a.MadeRawMaterialCode:null,p59:a&&a.RawMaterialName?a.RawMaterialName:null,p60:a&&a.MatMaterialSizeID?a.MatMaterialSizeID:null,p61:a&&a.MaterialSizeName?a.MaterialSizeName:null,p62:a&&a.MatMaterialSizeCode?a.MatMaterialSizeCode:null,p63:a&&a.MaterialCode?a.MaterialCode:null,p64:a&&a.MaterialName?a.MaterialName:null,p65:n?1:t.current,p66:t.pageSize,p67:l,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};(0,p.Z)(s,r,Pe.token[0]).then((s=>{if(n)(0,oe.a)(s,Te,i,c,we);else if("200"==s.Output.status.code)if(s.Output.data.length>0){if(s.Output.data){let e=0;s.Output.data.length>0?(e=parseFloat(s.Output.data[0].TotalCount,10)/10,P(s.Output.data[0].TotalCount),A(s.Output.data[0].DraftCnt),Te({type:"count",payload:s.Output.data[0].TotalCount}),"DraftPage"==i&&A(s.Output.data[0].TotalCount)):e=0,10==t.pageSize?f(Math.ceil(e)):20==t.pageSize?f(Math.ceil(e/2)):50==t.pageSize?f(Math.ceil(e/5)):100==t.pageSize&&f(Math.ceil(e/10)),q(s.Output.data),we.loading(!1)}e.Dialogview||(document.getElementById("divSchComDisciplineSubDetails-Entry").style.height="auto",document.getElementById("divSchComDisciplineSubDetails-Entry").style.display="block")}else we.loading(!1),"DraftSchComDisciplineSubDetailsID"===l?(we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),pe(!0),Le(!1)):(q([]),B({current:1,pageSize:10}),f(0),P(0),Te({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&we.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else we.alert({open:!0,color:"warning",message:[s.Output.status.message]}),we.loading(!1)}))};function Tt(t,a){we.loading(!0);const l=u.v.Api+"FP561S4/",i={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Be?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,p.Z)(l,i,Pe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,P(e.Output.data[0].TotalCount),Te({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?f(Math.ceil(t)):20==a.pageSize?f(Math.ceil(t/2)):50==a.pageSize?f(Math.ceil(t/5)):100==a.pageSize&&f(Math.ceil(t/10)),q(e.Output.data),we.loading(!1)}else q([]),f(0),P(0),Te({type:"count",payload:"0"}),we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),we.loading(!1);else we.alert({open:!0,color:"warning",message:[e.Output.status.message]}),we.loading(!1)}))}function xt(e){let t=[],a=[],l=[],i=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let n=localStorage.getItem("Language");i.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[n]]})})),Te({type:"language",payload:Object.assign({},...i)}),Ge(a.reduce(((e,t)=>(e[t]="",e)),{})),Se(e),Ie(t),fe(a),nt(l),st(a)}const Ft=()=>Me?null:i().createElement("div",null,_e?i().createElement(Ce.Z,{data:je,expanded:e=>!C&&we.Expanded(e),edit:(e,t,a)=>{C?we.select(e):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:t}),Te({type:"ShowDetail",payload:a}))}}):i().createElement(De.Z,{ref:r,frmctrlid:"tblcs_561_L1_",id:"SchComDisciplineSubDetailsTable",headerdata:ye,tablesearchparams:qe,searchvalue:e=>{Ge(e),j(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};yt(t),B({current:1,pageSize:10}),Pt({current:1,pageSize:10},t,Be?"DraftSchComDisciplineSubDetailsID":"SchComDisciplineSubDetailsID",Be&&"DraftPage")},bodydata:K,ondrag:Nt,bodyitem:Ee,visibleitem:ye,isdraft:Be,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:m,showMore:!1,accessrights:Pe.AccessRights,expanded:e=>!C&&we.Expanded(e),edit:(e,t,a)=>{C?we.select(e):(Object.keys(e).map(((l,i)=>{l.includes("IDPK")&&Pt(Z,null,t?"DraftSchComDisciplineSubDetailsID":"SchComDisciplineSubDetailsID",t&&"DraftPage",e[l],a)})),we.hideAddBtn(!0))},viewtoggle:we.viewtoggle,isexpanded:!C||Ve,tf:vt,action:C?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{ze(Pe.ExpandTableValue)}),[Pe.ExpandTableValue]),i().createElement("div",null,!pt&&!e.tableview&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},i().createElement("div",{id:"fld561L1ECSearchBar",className:"searchbar1"},i().createElement(x.Z,{frmctrlid:"fld561L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:ft("Search"),value:Y,onChange:e=>{$(e),we.searchItem(e)},style:{width:"300px"}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld561L1TCCloseIconCommonSearch",onClick:()=>{$(""),we.searchItem("")}},i().createElement(N.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld561L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("SchComDisciplineSubDetailsgridsearch").focus()}})))),i().createElement("div",null,Pe.AccessRights.IsAdd?i().createElement(s.Z,{className:"SaveBtnCommon",frmctrlid:"fld561L1TCAddBtnIsAdd",onClick:()=>{we.hideAddBtn(!0),Te({type:"editData",payload:[]}),Te({type:"ShowDetail",payload:!1}),Te({type:"Add",payload:!0})}}):"")),i().createElement(v.Z,{expanded:Re,onChange:()=>()=>{Oe(Ve)}},e.Dialogview&&i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},i().createElement("div",{className:"displayFlex EntryHeader"},i().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[561]"},`${vt("561")} (${w})`)),!1===e.cardview?null:i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{id:"fld561L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},i().createElement(x.Z,{frmctrlid:"fld561L1TCInputSearch",className:"search_input",type:"text",placeholder:ft("Search"),value:Y,onChange:e=>{bt(e)}}),i().createElement("div",{className:"search_icon"},Y?i().createElement("div",{id:"fld561L1TCInputCloseIcon",onClick:()=>{bt("")}},i().createElement(N.Z,{className:"InputSearchIcon"})):i().createElement("div",{id:"fld561L1TCInputSearchIcon"},i().createElement(ae.Z,{className:"InputSearchIcon"}))))))),i().createElement(b.Z,{className:"AccDetails"},i().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&i().createElement("div",{id:"SchComDisciplineSubDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:i().createElement("div",{className:"tableHeaderItems displayFlex"},!Be&&i().createElement("div",{frmctrlid:"fld561L1TCFilterDataIsDraft",id:"SchComDisciplineSubDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{wt()}},i().createElement(c.ZP,{title:ft("Filter Data"),placement:"top"},i().createElement("span",null,i().createElement(F.Ol$,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Filter Data"))),!C&&!Be&&!Me&&i().createElement(W.Z,{formctrlidprint:"fld561L1TCExportPrint",formctrlidexport:"fld561L1TCExportTable",formctrlidrefresh:"fld561L1TCExportRefresh",title:vt("561"),data:O,exportData:It,Items:ct,columnIndex:it,TableVisibleItem:ye,userGridViewFormID:m,TableTotalCount:w,triggerApi:t=>{((t,l,i,n,c)=>{if(0===w)return we.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;we.loading(!0);let s=u.v.Api+"FP561S3/",r={data:{p1:t&&t.SchComDisciplineSubDetailsIDPK?t.SchComDisciplineSubDetailsIDPK:null,p2:t&&t.SchComDisciplineSubDetailsCode?t.SchComDisciplineSubDetailsCode:null,p3:t&&t.Quantity?t.Quantity:null,p4:Be?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:t&&t.SchComDisciplineDetailsID?t.SchComDisciplineDetailsID:null,p8:t&&t.MaterialID?t.MaterialID:null,p9:t&&t.IsActive,p10:null,p11:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p12:t&&t.CreatedTtm?t.CreatedTtm:null,p13:t&&t.CreatedTtmType?t.CreatedTtmType:null,p14:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p15:null,p16:t&&t.FrequencyID?t.FrequencyID:null,p17:t&&t.FrequencyCode?t.FrequencyCode:null,p18:t&&t.FrequencyName?t.FrequencyName:null,p19:t&&t.DisciplineID?t.DisciplineID:null,p20:t&&t.DisciplineCode?t.DisciplineCode:null,p21:t&&t.DisciplineName?t.DisciplineName:null,p22:t&&t.SchComDisciplineCode?t.SchComDisciplineCode:null,p23:t&&t.PPMCheckPointID?t.PPMCheckPointID:null,p24:t&&t.CheckPointLevel?t.CheckPointLevel:null,p25:t&&t.CheckPointName?t.CheckPointName:null,p26:t&&t.PPMCheckPointCode?t.PPMCheckPointCode:null,p27:t&&t.AccessType?t.AccessType:null,p28:t&&t.SchComDisciplineDetailsCode?t.SchComDisciplineDetailsCode:null,p29:t&&t.TotalDuration?t.TotalDuration:null,p30:t&&t.MatProcessTypeID?t.MatProcessTypeID:null,p31:t&&t.MatProcessTypeCode?t.MatProcessTypeCode:null,p32:t&&t.MatProcessTypeName?t.MatProcessTypeName:null,p33:t&&t.MaterialTypeID?t.MaterialTypeID:null,p34:t&&t.MaterialTypeCode?t.MaterialTypeCode:null,p35:t&&t.MaterialTypeName?t.MaterialTypeName:null,p36:t&&t.MaterialMainClassID?t.MaterialMainClassID:null,p37:t&&t.MatMainClassCode?t.MatMainClassCode:null,p38:t&&t.MatMainClassName?t.MatMainClassName:null,p39:t&&t.MatSubClassID?t.MatSubClassID:null,p40:t&&t.MatSubClassCode?t.MatSubClassCode:null,p41:t&&t.MatSubClassName?t.MatSubClassName:null,p42:t&&t.MaterialMakeID?t.MaterialMakeID:null,p43:t&&t.MatMakeCode?t.MatMakeCode:null,p44:t&&t.MatMakeName?t.MatMakeName:null,p45:t&&t.MaterialModelID?t.MaterialModelID:null,p46:t&&t.MatModelCode?t.MatModelCode:null,p47:t&&t.MatModelName?t.MatModelName:null,p48:t&&t.MATUOMID?t.MATUOMID:null,p49:t&&t.MATUOMCode?t.MATUOMCode:null,p50:t&&t.UOMName?t.UOMName:null,p51:t&&t.MatGradeID?t.MatGradeID:null,p52:t&&t.GradeName?t.GradeName:null,p53:t&&t.MatGradeCode?t.MatGradeCode:null,p54:t&&t.MatMaterialColorID?t.MatMaterialColorID:null,p55:t&&t.MaterialColorName?t.MaterialColorName:null,p56:t&&t.MatMaterialColorCode?t.MatMaterialColorCode:null,p57:t&&t.MadeRawMaterialID?t.MadeRawMaterialID:null,p58:t&&t.MadeRawMaterialCode?t.MadeRawMaterialCode:null,p59:t&&t.RawMaterialName?t.RawMaterialName:null,p60:t&&t.MatMaterialSizeID?t.MatMaterialSizeID:null,p61:t&&t.MaterialSizeName?t.MaterialSizeName:null,p62:t&&t.MatMaterialSizeCode?t.MatMaterialSizeCode:null,p63:t&&t.MaterialCode?t.MaterialCode:null,p64:t&&t.MaterialName?t.MaterialName:null,p65:Z.current,p66:w,p67:Be?"DraftSchComDisciplineSubDetailsID":"SchComDisciplineSubDetailsID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};we.loading(!1),we.alert({open:!0,color:"success",message:[`${vt(561)} - ${c.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,p.Z)(s,r,Pe.token[0],c).then((e=>{(0,de.PDF_Excel_Generate)(e,we,ct,R,a,c)}))})(U,z.column,0,0,t)},Refresh:()=>{$(""),B({current:1,pageSize:100}),r.current.clearItem(),Pe.IsDraft?Pt({current:1,pageSize:100},xe,"DraftSchComDisciplineSubDetailsID"):Pt({current:1,pageSize:100},xe,"SchComDisciplineSubDetailsID")},disabledPrint:!Pe.AccessRights.IsPrint,disabledExport:!Pe.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Be&&!Me&&!C&&i().createElement("div",{className:"buttoncard",onClick:()=>dt(!mt)},i().createElement("span",null,mt?i().createElement(c.ZP,{disableFocusListener:!0,title:ft("Less"),placement:"top"},i().createElement("span",{id:"fld561L1TCLess"},i().createElement(ce.ldB,{className:"tableFilterColumnIcon"}))):i().createElement(c.ZP,{disableFocusListener:!0,title:ft("More"),placement:"top"},i().createElement("span",{id:"fld561L1TCMore"},i().createElement(ce.ilJ,{className:"tableFilterColumnIcon"}))))),mt?i().createElement("div",{className:"EntryHeaderMore"},i().createElement("div",{style:{display:"flex"}},Me||!Ve?null:C||!Pe.AccessRights.IsAdd||Be?"":i().createElement("div",null,i().createElement("div",{frmctrlid:"fld561L1TCFilterDataIsAdd",id:"SchComDisciplineSubDetailscoldiv",className:"buttoncard",onClick:()=>{we.EditClose(!0),Q?(document.getElementById("SchComDisciplineSubDetailsFilterDiv").style.width="0%",document.getElementById("SchComDisciplineSubDetailsTabDiv").style.width="100%",document.getElementById("SchComDisciplineSubDetailsFilterDiv").style.display="none",document.getElementById("SchComDisciplineSubDetailscoldiv").style.width="fit-content",document.getElementById("SchComDisciplineSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!1)):(document.getElementById("SchComDisciplineSubDetailsFilterDiv").style.width="25%",document.getElementById("SchComDisciplineSubDetailsTabDiv").style.width="75%",document.getElementById("SchComDisciplineSubDetailsFilterDiv").style.display="block",document.getElementById("SchComDisciplineSubDetailsfildiv").style.width="fit-content",document.getElementById("SchComDisciplineSubDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("SchComDisciplineSubDetailscoldiv").style.width="fit-content",document.getElementById("SchComDisciplineSubDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",pe(!0)),_(!1)}},i().createElement(c.ZP,{title:ft("Manage Columns"),placement:"top"},i().createElement("div",null,i().createElement(me.gYA,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!C&&Ve&&!Me&&!Be&&i().createElement("div",null,i().createElement("div",{id:"SchComDisciplineSubDetailscoldiv",className:"buttoncard",onClick:()=>{_e?Ue(!1):(Ue(!0),Mt({current:1,pageSize:100}))}},i().createElement(c.ZP,{title:ft("TableScrollData"),placement:"top"},i().createElement("div",{id:"fld561L1TCTableScrollData"},i().createElement(ge.Z,{className:"tableFilterColumnIcon"}))),i().createElement("span",{className:"displayNone"},ft("Table Scroll Data")))),!Me&&Be?i().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{we.hideAddBtn(!1),we.ExpandEntry(),Pt({current:1,pageSize:100},xe,"SchComDisciplineSubDetailsID"),Le(!1),$(""),Te({type:"IsDraft",payload:!1}),B({current:1,pageSize:10})}},i().createElement(c.ZP,{title:ft("List"),placement:"top"},i().createElement("div",{id:"fld561L1TCList"},i().createElement(se.u1R,{className:"backButtonList"}))),i().createElement("p",{className:"DraftP"},ft("Drafts")," ",w)):!C&&!Me&&Pe.AccessRights.IsAdd&&i().createElement("div",null,i().createElement(M.Z,{color:"secondary",className:"badge",max:999,badgeContent:T,showZero:!0},i().createElement("div",{id:"fld561L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{T>0?(B({current:1,pageSize:100}),S(0),we.clear(),$(""),Te({type:"Add",payload:!1}),Pt({current:1,pageSize:10},xe,"DraftSchComDisciplineSubDetailsID"),Le(!0),Te({type:"IsDraft",payload:!0}),pe(!1),Ke(!0),document.getElementById("SchComDisciplineSubDetailsFilterDiv").style.width="0%",document.getElementById("SchComDisciplineSubDetailsTabDiv").style.width="100%",document.getElementById("SchComDisciplineSubDetailsFilterDiv").style.display="none",B({current:1,pageSize:100}),Ne(!1)):we.alert({open:!0,color:"warning",message:[ft("There is no Record Found")]})}},i().createElement(c.ZP,{title:ft("Drafts"),placement:"top"},i().createElement("div",null,i().createElement(re.rNm,{className:"DraftIcon"}))),i().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},ft("Drafts"))))))):""),!Be&&!C&&i().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Me||Be?null:i().createElement("div",null,i().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},i().createElement("div",{className:"b2",id:"button-11"},i().createElement("div",{className:He?"buttonList":"buttonGrid",id:"fld561L1TCListView",onClick:()=>{Ke(!0),ot(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(ce.umT,null)),i().createElement("span",null,ft("List"))),i().createElement("div",{className:He||rt?"buttonGrid":"buttonList",id:"fld561L1TCCardView",onClick:()=>{Ke(!1),ot(!1)}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(k.aCJ,null)),i().createElement("span",null,ft("Card"))),i().createElement("div",{className:rt?"buttonList":"buttonGrid",id:"fld561L1TCTileView",onClick:()=>{ot(!0),Ke(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},i().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},i().createElement(I.f_H,null)),i().createElement("span",null,ft("Tile"))))))),Me?null:_e?e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld561L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Je),page:h,onPageChange:(e,t)=>{S(t),Mt({current:t+1,pageSize:et.pageSize}),lt({current:t+1,pageSize:et.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:Qe,color:"primary",page:et.current,onChange:(e,t)=>{lt({current:t,pageSize:et.pageSize}),We(t),Mt({current:t,pageSize:et.pageSize})}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:et.pageSize,frmctrlid:"fld561L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),Mt({current:1,pageSize:e.target.value})}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),Ve&&i().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",Je,")")):e.IsCollapse?i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(ie.Z,{style:{color:"#777"},id:"fld561L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(w),page:h,onPageChange:(e,t)=>{S(t),Pt({current:t+1,pageSize:Z.pageSize},xe,Be?"DraftSchComDisciplineSubDetailsID":"SchComDisciplineSubDetailsID",Be&&"DraftPage"),B({current:t+1,pageSize:Z.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):i().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},i().createElement(J.Z,{count:E,siblingCount:0,color:"primary",page:Z.current,onChange:(e,t)=>{if(B({current:t,pageSize:Z.pageSize}),Be)Pt({current:t,pageSize:Z.pageSize},Fe,"DraftSchComDisciplineSubDetailsID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Y.length>0?Tt(Y,{current:t,pageSize:Z.pageSize}):Pt({current:t,pageSize:Z.pageSize},Fe,"SchComDisciplineSubDetailsID")}}}),i().createElement("div",null,i().createElement(ee.Z,{className:"BootstrapInputStyle",value:Z.pageSize,id:"fld561L1TCSelectPaging",onChange:e=>{B({current:1,pageSize:e.target.value}),Be?Pt({current:1,pageSize:e.target.value},Fe,"DraftSchComDisciplineSubDetailsID","DraftPage"):Y.length>0?Tt(Y,{current:1,pageSize:e.target.value}):Pt({current:1,pageSize:e.target.value},Fe,"SchComDisciplineSubDetailsID")}},i().createElement(X.Z,{value:10},"10"),i().createElement(X.Z,{value:20},"20"),i().createElement(X.Z,{value:50},"50"),i().createElement(X.Z,{value:100},"100"))),Ve&&i().createElement("p",{className:"per-page"},"/ ",ft("RowperpageOf")," (",w,") "))),i().createElement("div",{id:"SchComDisciplineSubDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},i().createElement("div",{id:"SchComDisciplineSubDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},G&&i().createElement($e,{parentId:e.parentId,searchData:e=>{j(e||St),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:m,data:()=>{},visibleData:()=>{},token:Pe.token[0],CloseBtnClk:()=>wt(),userGrid:gt,msg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Q&&i().createElement(te.Z,{Refresh:e=>{Pt({current:1,pageSize:100},xe,"SchComDisciplineSubDetailsID")},frmctrlid:"fld561L1TCTableColumnOrder",loading:e=>we.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>we.alert({open:!0,color:t,message:[e]}),select:Q,userID:o,userGridViewFormID:m,saved:(e,t)=>{e&&xt(t),ht(t),Te({type:"showTableview",payload:t})},Token:Pe.token[0]})),i().createElement("div",{id:"SchComDisciplineSubDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},He?i().createElement(Ft,null):i().createElement(ne.Z,{frmctrlid:"fld561L1TCExpandedCardDual",data:K,id:"SchComDisciplineSubDetails",title:"SchComDisciplineSubDetailsCode",cardTile:!!rt,visibleitem:ye,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{C?we.select(e):("edit"==t?(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Be}),Te({type:"ShowDetail",payload:!1}),we.Expanded(!0)):(Te({type:"editData",payload:[e]}),Te({type:"IsDraft",payload:Be}),Te({type:"ShowDetail",payload:!0}),we.Expanded(!0),we.viewtoggle()),G?_(!0):Q?pe(!0):(pe(!1),pe(!1))),we.hideAddBtn(!0)}})))))))})),We={EnterKeyValues:{SchComDisciplineSubDetails:["MaterialName","SchComDisciplineDetailsCode","SchComDisciplineCode","Quantity","SchComDisciplineSubDetailsCode"]},Label:{SchComDisciplineSubDetails:{MaterialID:["MaterialCode","MaterialName"],SchComDisciplineDetailsID:["SchComDisciplineSubDetailsCode"],SchComDisciplineID:["SchComDisciplineSubDetailsCode"],Quantity:["SchComDisciplineSubDetailsCode"],SchComDisciplineSubDetailsCode:["SchComDisciplineSubDetailsCode"]}},LabelHeader:{SchComDisciplineSubDetails:{MaterialID:["Material Code","Material Name"],SchComDisciplineDetailsID:["SchComDisciplineSubDetailsCode"],SchComDisciplineID:["SchComDisciplineSubDetailsCode"],Quantity:["Sch Com Discipline Sub Details Code"],SchComDisciplineSubDetailsCode:["Sch Com Discipline Sub Details Code"]}},Property:{SchComDisciplineSubDetails:{MaterialID:{id:"fld561_10979",clearID:"SchComDisciplineSubDetailsMaterialNameClear",type:"select",labelID:"MaterialIDPK",labelname:"Material",fielddisplayname:"MaterialName",foreignFld:["M A T U O M Name"],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},SchComDisciplineDetailsID:{id:"fld561_10978",clearID:"SchComDisciplineSubDetailsSchComDisciplineDetailsCodeClear",type:"select",labelID:"SchComDisciplineDetailsIDPK",labelname:"SchComDisciplineDetailsCode",fielddisplayname:"SchComDisciplineDetailsCode",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},SchComDisciplineID:{id:"fld561_10977",clearID:"SchComDisciplineSubDetailsSchComDisciplineCodeClear",type:"select",labelID:"SchComDisciplineIDPK",labelname:"SchComDisciplineCode",fielddisplayname:"SchComDisciplineCode",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!1},Quantity:{id:"fld561_10976",labelID:"Quantity",maxLength:"10",labelname:"Quantity",frmctrlid:"fld561_10976",frmctrlidname:"Quantity",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},SchComDisciplineSubDetailsCode:{id:"fld561_10975",labelID:"SchComDisciplineSubDetailsCode",maxLength:"20",labelname:"Sch Com Discipline Sub Details Code",frmctrlid:"fld561_10975",frmctrlidname:"SchComDisciplineSubDetailsCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{SchComDisciplineSubDetails:{MaterialID:["MaterialCode","MaterialName","UOMName","ActualQty","SplitQty","MatMakeName","MatModelName"],SchComDisciplineDetailsID:["IsActive","RangeMax","RangeMin","TotalDuration","IsDraft","IsMandatory","CreatedTtm","AccessType","PPMCheckPointName"],SchComDisciplineID:["DisciplineID","FrequencyID","ManHour","ManPower","MaintenanceHours","SchComCompleteby"]}}},Je={SchComDisciplineSubDetailsIDPK:"",SchComDisciplineSubDetailsCode:"",Quantity:"",IsDraft:!1,Remarks:"",SchComDisciplineID:null,SchComDisciplineDetailsID:null,MaterialID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",FrequencyID:null,FrequencyCode:"",FrequencyName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",SchComDisciplineCode:"",PPMCheckPointID:null,CheckPointLevel:"",CheckPointName:"",PPMCheckPointCode:"",AccessType:"",SchComDisciplineDetailsCode:"",TotalDuration:"",MatProcessTypeID:null,MatProcessTypeCode:"",MatProcessTypeName:"",MaterialTypeID:null,MaterialTypeCode:"",MaterialTypeName:"",MaterialMainClassID:null,MatMainClassCode:"",MatMainClassName:"",MatSubClassID:null,MatSubClassCode:"",MatSubClassName:"",MaterialMakeID:null,MatMakeCode:"",MatMakeName:"",MaterialModelID:null,MatModelCode:"",MatModelName:"",MATUOMID:null,MATUOMCode:"",UOMName:"",MatGradeID:null,GradeName:"",MatGradeCode:"",MatMaterialColorID:null,MaterialColorName:"",MatMaterialColorCode:"",MadeRawMaterialID:null,MadeRawMaterialCode:"",RawMaterialName:"",MatMaterialSizeID:null,MaterialSizeName:"",MatMaterialSizeCode:"",MaterialCode:"",MaterialName:"",Type:"SchComDisciplineSubDetailsID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Xe=(0,l.forwardRef)(((e,t)=>{const a=(0,n.useSelector)((e=>e.form)),[c,s]=(0,l.useState)(!1),[r,d]=(0,l.useState)(!0),[g,h]=(0,l.useState)(!1),[S,I]=(0,l.useState)(!1),[E,M]=(0,l.useState)(""),[N,w]=(0,l.useState)(!1),[P,T]=(0,l.useState)([]),[x,F]=(0,l.useState)(null),[k,A]=(0,l.useReducer)(ve.Z,Je),[B,O]=(0,l.useState)(!1),[V,z]=(0,l.useState)([]),[H,K]=(0,l.useState)(!1),q=(0,l.useContext)(e.context?e.context:tt),{cstate:G,cdispatch:_}=e.ContextApi?e.ContextApi:at(),[U,Y]=(0,l.useState)(0),[$,Q]=(0,l.useState)(""),W=(0,l.useRef)(null),[J,X]=Fe()("561"),[ee,te]=(0,l.useState)(""),[ae,ie]=(0,l.useState)(!0),[ne,ce]=(0,l.useState)(!1);let se=(0,y.Z)();const[re,oe]=(0,l.useState)({}),me=e=>se[e]?se[e]:e,de=t=>G.language?.[t]?G.language[t]:e.createEasy?re?.[t]:t;(0,l.useEffect)((()=>{G.PrimaryId&&Y(Number(G.PrimaryId))}),[G.PrimaryId]),(0,l.useEffect)((()=>{ue()}),[]),(0,l.useEffect)((()=>{ue()}),[e.parentId]),(0,l.useEffect)((()=>{G.editData.length>0?(pe(G.editData[0],""),h(!0)):G.Add&&(ue(),h(!0))}),[G.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),oe(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{ue()},CreateEasyProps:(e=!0,t)=>{X(!0),t?(ke(t),h(e)):(ue(),h(e))},AddOpen:e=>{ue(),h(!0)}})));const pe=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),I(t.IsDraft),"SetDefaultSchComDisciplineSubDetailsID"==a?Q(t.SchComDisciplineSubDetailsIDPK):(Y(e.primid?Number(e.primid):t.SchComDisciplineSubDetailsIDPK?t.SchComDisciplineSubDetailsIDPK:0),_({type:"PrimaryId",payload:t.SchComDisciplineSubDetailsIDPK})),A({type:"number",name:"MaterialID",number:t.MaterialID?Number(t.MaterialID):0}),A({type:"text",name:"MaterialName",value:t.MaterialName}),A({type:"number",name:"SchComDisciplineDetailsID",number:t.SchComDisciplineDetailsID?Number(t.SchComDisciplineDetailsID):0}),A({type:"text",name:"SchComDisciplineDetailsCode",value:t.SchComDisciplineDetailsCode}),A({type:"number",name:"SchComDisciplineID",number:t.SchComDisciplineID?Number(t.SchComDisciplineID):0}),A({type:"text",name:"SchComDisciplineCode",value:t.SchComDisciplineCode}),A({type:"number",name:"Quantity",number:t.Quantity}),A({type:"text",name:"SchComDisciplineSubDetailsCode",value:t.SchComDisciplineSubDetailsCode?t.SchComDisciplineSubDetailsCode:""}),t.IsDraft?d(!0):d(!("1"!=t.IsActive&&!t.IsActive))},ue=()=>{T([]),Y(0),Q(""),e.createEasy||q.resetImg(),_({type:"PrimaryId",payload:""}),A({type:"text",name:"MaterialID",value:null}),A({type:"text",name:"MaterialName",value:""}),document.getElementById("SchComDisciplineSubDetailsMaterialNameClear")&&document.getElementById("SchComDisciplineSubDetailsMaterialNameClear").click(),A({type:"text",name:"SchComDisciplineDetailsID",value:null}),A({type:"text",name:"SchComDisciplineDetailsCode",value:""}),document.getElementById("SchComDisciplineSubDetailsSchComDisciplineDetailsCodeClear")&&document.getElementById("SchComDisciplineSubDetailsSchComDisciplineDetailsCodeClear").click(),A({type:"text",name:"SchComDisciplineID",value:null}),A({type:"text",name:"SchComDisciplineCode",value:""}),document.getElementById("SchComDisciplineSubDetailsSchComDisciplineCodeClear")&&document.getElementById("SchComDisciplineSubDetailsSchComDisciplineCodeClear").click(),A({type:"number",name:"Quantity",number:0}),A({type:"text",name:"SchComDisciplineSubDetailsCode",value:""}),d(!0),M(""),ie(!0),te("")},De=t=>{q.loading(!0),q.ConfirmAlert(null);const a=u.v.Api+"FP561S2/",l={data:[{p1:"SetDefaultSchComDisciplineSubDetailsID"==t?"NORECORDS"!=$&&$?$:0:U,p2:Ae(k.SchComDisciplineSubDetailsCode),p3:k.Quantity?Number(k.Quantity):0,p4:!1,p5:"SetDefaultSchComDisciplineSubDetailsID"==t?"SetDefault":null,p6:e.parentId?Number(e.parentId):k.SchComDisciplineID?k.SchComDisciplineID:0,p7:k.SchComDisciplineDetailsID?k.SchComDisciplineDetailsID:0,p8:k.MaterialID?k.MaterialID:0,p9:r,p10:"SetDefaultSchComDisciplineSubDetailsID"==t,p11:localStorage.getItem("userid"),p12:L()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:L()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,p.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,i=new Array,n=new Array;"200"===a.code?(l.map((e=>{e&&(i.push(e.IsAlert),n.push(e.AlertMessage),e.AlertMessage)})),i.some((e=>"1"==e))?(q.alert({open:!0,color:"warning",message:n}),q.loading(!1)):(t=>{ie(!0),q.loading(!0),q.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP561S1/",l={data:[{p1:U,p2:Ae(k.SchComDisciplineSubDetailsCode),p3:k.Quantity?Number(k.Quantity):0,p4:!1,p5:null,p6:e.parentId?Number(e.parentId):k.SchComDisciplineID?k.SchComDisciplineID:0,p7:k.SchComDisciplineDetailsID?k.SchComDisciplineDetailsID:0,p8:k.MaterialID?k.MaterialID:0,p9:r,p10:!1,p11:localStorage.getItem("userid"),p12:L()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:L()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((t=>{(0,R.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(q.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttSchComDisciplineSubDetails"),q.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(q.RefreshTable(),q.attachmentSave(t[0].Data.IDPK)),ue(),G.AccessRights.IsApproval&&q.Approval(!0),document.getElementById("overlayimgAttSchComDisciplineSubDetails")&&(document.getElementById("overlayimgAttSchComDisciplineSubDetails").style.width="0%",document.getElementById("overlayimgAttSchComDisciplineSubDetails").style.display="none",document.getElementById("divSchComDisciplineSubDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("SchComDisciplineSubDetails-MainTable").style.display="block")):(q.alert({open:!0,color:"warning",message:[a.message]}),q.loading(!1)),h(!0)}))}))})()):(q.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),q.loading(!1))}))}))};function Ce(t,a,l,i){if(!(G.count>0))return q.alert({open:!0,color:"warning",message:[me("Please save atleast one record")]}),!1;if(!((()=>{const e={...k};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return q.alert({open:!0,color:"warning",message:[me("Please enter the primary fields")]}),!1;{ie(!0),q.loading(!0),q.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=u.v.Api+"FP561S1/",l={data:[{p1:"SetDefaultSchComDisciplineSubDetailsID"==i?"NORECORDS"!=$&&$?$:0:U,p2:Ae(k.SchComDisciplineSubDetailsCode),p3:k.Quantity?Number(k.Quantity):0,p4:!0,p5:"SetDefaultSchComDisciplineSubDetailsID"==i?"SetDefault":null,p6:e.parentId?Number(e.parentId):k.SchComDisciplineID?k.SchComDisciplineID:0,p7:k.SchComDisciplineDetailsID?k.SchComDisciplineDetailsID:0,p8:k.MaterialID?k.MaterialID:0,p9:!1,p10:"SetDefaultSchComDisciplineSubDetailsID"==i,p11:localStorage.getItem("userid"),p12:L()().format("YYYY-MM-DD hh:mm:ss"),p13:localStorage.getItem("userid"),p14:L()().format("YYYY-MM-DD hh:mm:ss")}]};(0,D.Z)(0).then((i=>{(0,R.Z)(a,l,i).then((a=>{const l=a[0].status;200==l.code?(t?q.alert({open:!0,color:"warning",message:[me("Deleted Successfully")]}):q.alert({open:!0,color:"success",message:[me("Saved to Draft")]}),q.loading(!1),q.attachmentSave(a[0].Data.IDPK),ue(),q.RefreshTable(),e.clrImgstate(!0)):(q.alert({open:!0,color:"warning",message:[l.message]}),q.loading(!1))}))}))}}function ge(e){return CreateEasy(e,G,_,q,W),!1}function he(e,a){return AdvanceSearch(e,a,tt,at(),Me,t),!1}const Ie=(t,a,l,i,n,c)=>{const s=u.v.Api+"FP561S3/",r={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:e.parentId?Number(e.parentId):0,p7:"0"==k.SchComDisciplineDetailsID?null:k.SchComDisciplineDetailsID,p8:"0"==k.MaterialID?null:k.MaterialID,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:"0"==k.FrequencyID?null:k.FrequencyID,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:"0"==k.DisciplineID?null:k.DisciplineID,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:"0"==k.PPMCheckPointID?null:k.PPMCheckPointID,p24:a?"%"+a+"%":null,p25:a?"%"+a+"%":null,p26:a?"%"+a+"%":null,p27:a?"%"+a+"%":null,p28:a?"%"+a+"%":null,p29:a?"%"+a+"%":null,p30:"0"==k.MatProcessTypeID?null:k.MatProcessTypeID,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:"0"==k.MaterialTypeID?null:k.MaterialTypeID,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:"0"==k.MaterialMainClassID?null:k.MaterialMainClassID,p37:a?"%"+a+"%":null,p38:a?"%"+a+"%":null,p39:"0"==k.MatSubClassID?null:k.MatSubClassID,p40:a?"%"+a+"%":null,p41:a?"%"+a+"%":null,p42:"0"==k.MaterialMakeID?null:k.MaterialMakeID,p43:a?"%"+a+"%":null,p44:a?"%"+a+"%":null,p45:"0"==k.MaterialModelID?null:k.MaterialModelID,p46:a?"%"+a+"%":null,p47:a?"%"+a+"%":null,p48:"0"==k.MATUOMID?null:k.MATUOMID,p49:a?"%"+a+"%":null,p50:a?"%"+a+"%":null,p51:"0"==k.MatGradeID?null:k.MatGradeID,p52:a?"%"+a+"%":null,p53:a?"%"+a+"%":null,p54:"0"==k.MatMaterialColorID?null:k.MatMaterialColorID,p55:a?"%"+a+"%":null,p56:a?"%"+a+"%":null,p57:"0"==k.MadeRawMaterialID?null:k.MadeRawMaterialID,p58:a?"%"+a+"%":null,p59:a?"%"+a+"%":null,p60:"0"==k.MatMaterialSizeID?null:k.MatMaterialSizeID,p61:a?"%"+a+"%":null,p62:a?"%"+a+"%":null,p63:a?"%"+a+"%":null,p64:a?"%"+a+"%":null,p65:t,p66:10,p67:l,p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},o=Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(r.data).length-8?r.data[t]:null,e)),{});O(!0);const m={data:o};return(0,p.Z)(s,"ClearAll"==l?m:r,"SetDefaultSchComDisciplineSubDetailsID"==l&&i?i:G.token[0]).then((e=>{const a=e.Output.status.code,i=e.Output.data;if("200"==a){const e=i.length;if(n)return 1==i.length?i[0]:{};z(1==t?e>0?i:[]:V.concat(i)),"SetDefaultSchComDisciplineSubDetailsID"==l&&(e>0?pe(i[0],"SetDefaultSchComDisciplineSubDetailsID"):Q("NORECORDS")),O(!1)}else q.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},be=(t,l,i)=>{const n=u.v.Api+"FP561S3/",c={data:{p1:null,p2:"SchComDisciplineSubDetailsCode"==i&&l?"%"+l+"%":null,p3:"Quantity"==i&&l?"%"+l+"%":null,p4:null,p5:null,p6:a.SchComDisciplineSchComDisciplineID?a.SchComDisciplineSchComDisciplineID:"0",p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:t,p66:10,p67:"SchComDisciplineSubDetailsID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}},s={data:Object.keys(c.data).slice(0,Object.keys(c.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(c.data).length-8?c.data[t]:null,e)),{})};O(!0),(0,p.Z)(n,"ClearAll"==i?s:c,G.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("SchComDisciplineSubDetailsCode"==i&&ie(e>0),z(l)):("SchComDisciplineSubDetailsCode"==i&&ie(!0),z(V.concat(l))),O(!1)}else q.alert({open:!0,color:"warning",message:[e.Output.status.message]}),O(!1)}))},Me=(0,l.useCallback)((async(e,t,a)=>{"text"==a?A({type:a,name:t,value:e}):"number"==a?A({type:a,name:t,number:Number(e)}):"boolean"==a?A({type:a,name:t,boolean:e}):"date"==a?A({type:"text",name:t,value:e}):"select"==a&&"MaterialID"==t&&(A({type:"text",name:"MaterialID",value:e.MaterialIDPK?e.MaterialIDPK:null}),A({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:null}),te(e.MATUOMName?e.MATUOMName:null))}),[k]);function Ne(e){if("MaterialID"==e){if(!k.MaterialID)return!1;A({type:"text",name:"MaterialID",value:null}),A({type:"text",name:"MaterialName",value:""}),document.getElementById("SchComDisciplineSubDetailsMaterialNameClear")&&document.getElementById("SchComDisciplineSubDetailsMaterialNameClear").click(),te("")}else if("SchComDisciplineDetailsID"==e){if(!k.SchComDisciplineDetailsID)return!1}else if("SchComDisciplineID"==e&&!k.SchComDisciplineID)return!1}function xe(e){if("MaterialID"==e){if(!k.MaterialID)return!1;A({type:"text",name:"MaterialID",value:null}),te("")}else if("SchComDisciplineDetailsID"==e){if(!k.SchComDisciplineDetailsID)return!1}else if("SchComDisciplineID"==e&&!k.SchComDisciplineID)return!1}function ke(e){q.ConfirmAlert(null),I(e.IsDraft),Y(Number(e.SchComDisciplineSubDetailsIDPK)?Number(e.SchComDisciplineSubDetailsIDPK):0),A({type:"number",name:"MaterialID",number:e.MaterialID?Number(e.MaterialID):0}),A({type:"text",name:"MaterialName",value:e.MaterialName?e.MaterialName:""}),A({type:"number",name:"SchComDisciplineDetailsID",number:e.SchComDisciplineDetailsID?Number(e.SchComDisciplineDetailsID):0}),A({type:"text",name:"SchComDisciplineDetailsCode",value:e.SchComDisciplineDetailsCode?e.SchComDisciplineDetailsCode:""}),A({type:"number",name:"SchComDisciplineID",number:e.SchComDisciplineID?Number(e.SchComDisciplineID):0}),A({type:"text",name:"SchComDisciplineCode",value:e.SchComDisciplineCode?e.SchComDisciplineCode:""}),A({type:"number",name:"Quantity",number:e.Quantity?Number(e.Quantity):0}),A({type:"text",name:"SchComDisciplineSubDetailsCode",value:e.SchComDisciplineSubDetailsCode?e.SchComDisciplineSubDetailsCode:""})}const Ae=e=>"string"==typeof e?e.trim():e;return i().createElement("div",null,i().createElement(v.Z,{expanded:g,onChange:e=>{}},i().createElement(le.Z,null,i().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},g&&i().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},i().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[561]"}," ",me("Add "),de("561")),i().createElement("div",{className:"displayFlex EntryHeaderBtn"},i().createElement("div",{className:"GridAlign"},i().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},i().createElement(we.Z,{row:!0},i().createElement(j.Z,{labelPlacement:"bottom",id:"fld561L1ECEntryCheckbox",control:i().createElement(Z.Z,{checked:"1"==r,onChange:e=>d(e.target.checked)}),label:me(1==r?"Active":"In Active")})))),!e.createEasy&&i().createElement("div",{className:"GridAlign",onClick:()=>{q.AttachExpand(!0)},id:"fld561L1ECIconButton"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement("div",{disableRipple:!0,disabled:!1},i().createElement(Pe.Ypb,{className:"Iconstyles"}))),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,me("Attach")))),!U&&i().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{ue()},id:"fld561L1ECClearBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(Pe.pYJ,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,me("Reset")))),"1"===S&&U&&i().createElement(ye.Z,{frmctrlid:"fld561L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Ce("draftdel")}}),U&&"1"!==S||e.createEasy?null:G.AccessRights.IsAdd&&i().createElement("div",{className:"GridAlign",onClick:()=>{Ce()},frmctrlid:"fld561L1ECDraftBtn"},i().createElement("div",{className:"Entry-Checkbox"},i().createElement(Te.IcR,{className:"Iconstyles"})),i().createElement("div",{className:"GridLabel"},i().createElement("p",null,me("Draft")))),G.AccessRights.IsAdd||G.AccessRights.IsEdit?i().createElement(C.Z,{frmctrlid:"fld561L1ECSaveBtnIsAdd",name:me(U?"Update":"Save"),disabled:!1,onClick:()=>{k.MaterialID&&0!=k.MaterialID?e.parentId&&0!=e.parentId?Ae(k.Quantity)?q.ConfirmAlert(i().createElement(Ee(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:me("Are you sure?"),onConfirm:()=>De(),onCancel:()=>q.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:me("Yes"),cancelBtnText:me("Cancel"),showCancel:!0},me(U?"Do you want to Update?":"Do you want to Save?"))):q.alert({open:!0,color:"warning",message:[me("Please enter the")+""+de("Quantity")]}):q.alert({open:!0,color:"warning",message:[me("Please select the ")+" "+de("SchComDisciplineID")]}):q.alert({open:!0,color:"warning",message:[me("Please select the ")+" "+de("MaterialID")]})}}):null,!e.createEasy&&i().createElement(f.Z,{frmctrlid:"fld561L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{ue(),h(!1),q.EditClose(!0),q.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),i().createElement(b.Z,null,i().createElement("div",{id:"SchComDisciplineSubDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},i().createElement("div",{id:"SchComDisciplineSubDetails-Detail",className:"detailCard detailDiv"},i().createElement("div",{id:"SchComDisciplineSubDetails-MainBody",className:"padding paddingLeft "},i().createElement("div",null,i().createElement(o.Z,{spacing:2},i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(fe.Z,{json:We,id:k.MaterialID,"data-testid":k.MaterialID,value:k.MaterialName,SPName:"SchComDisciplineSubDetails",FieldName:"MaterialID",tfLabel:de("MaterialID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>Me(e,"MaterialID","select"),onChange:(e,t)=>{Ie(e,t,"MaterialIDPK")},KeyBack:e=>{xe("MaterialID")},fieldorder:"1",data:V,foreign:!G.PrimaryId,foreignName:ee?[ee]:["M A T U O M Name"],foreignClick:t=>e.openSlideView("MaterialID",k.MaterialID?k.MaterialID:t),totalCount:V.length>0?V[0].TotalCount:0,openSlide:()=>{ge("354")},Tabledialog:()=>he("354","MaterialID"),loading:B,clear:e=>{e&&Ne("MaterialID")}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(fe.Z,{json:We,id:k.SchComDisciplineDetailsID,"data-testid":k.SchComDisciplineDetailsID,value:k.SchComDisciplineDetailsCode,SPName:"SchComDisciplineSubDetails",FieldName:"SchComDisciplineDetailsID",tfLabel:de("SchComDisciplineDetailsID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Me(e,"SchComDisciplineDetailsID","select"),onChange:(e,t)=>{Ie(e,t,"SchComDisciplineDetailsIDPK")},KeyBack:e=>{xe("SchComDisciplineDetailsID")},fieldorder:"1",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,openSlide:()=>{ge("560")},Tabledialog:()=>he("560","SchComDisciplineDetailsID"),loading:B,clear:e=>{e&&Ne("SchComDisciplineDetailsID")}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(fe.Z,{json:We,id:k.SchComDisciplineID,"data-testid":k.SchComDisciplineID,value:k.SchComDisciplineCode,SPName:"SchComDisciplineSubDetails",FieldName:"SchComDisciplineID",tfLabel:de("SchComDisciplineID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Me(e,"SchComDisciplineID","select"),onChange:(e,t)=>{Ie(e,t,"SchComDisciplineIDPK")},KeyBack:e=>{xe("SchComDisciplineID")},fieldorder:"1",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,openSlide:()=>{ge("559")},Tabledialog:()=>he("559","SchComDisciplineID"),loading:B,clear:e=>{e&&Ne("SchComDisciplineID")}})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3},i().createElement(Se.Z,{json:We,"data-testid":k.Quantity,SPName:"SchComDisciplineSubDetails",FieldName:"Quantity",tfLabel:de("Quantity"),frmctrlid:"fld561_10976",fieldorder:"2",onChange:e=>{Me(e,"Quantity","number")},clear:e=>{e&&A({type:"number",name:"Quantity",number:0})},value:k.Quantity})),i().createElement(m.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},i().createElement(fe.Z,{"data-testid":k.SchComDisciplineSubDetailsCode,json:We,SPName:"SchComDisciplineSubDetails",FieldName:"SchComDisciplineSubDetailsCode",tfLabel:de("SchComDisciplineSubDetailsCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{q.ConfirmAlert(i().createElement(Ee(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ke(e),onCancel:()=>q.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:me("Yes"),cancelBtnText:me("No"),showCancel:!0},me("Do you want to update this record?")))})(t),onClick:()=>{ae&&be(1,"","ClearAll"),ie(!0)},frmctrlid:"fld561_10975",frmctrlidName:"SchComDisciplineSubDetailsCode",fieldorder:"2",data:V,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:V.length>0?V[0].TotalCount:0,onChange:(e,t)=>{ae&&be(e,t,"SchComDisciplineSubDetailsCode"),Me(t,"SchComDisciplineSubDetailsCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ie(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:k.SchComDisciplineSubDetailsCode,loading:B,clear:e=>{e&&(A({type:"text",name:"SchComDisciplineSubDetailsCode",value:""}),ie(!0))}})))),i().createElement("div",{id:"SchComDisciplineSubDetailsSideBar",className:"sidenav"},i().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("SchComDisciplineSubDetailsSideBar").style.width="0",void w(!1))},"×"),N&&i().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},x))))))))})),et=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[c,o]=((0,n.useSelector)((e=>e.form)),(0,l.useState)([])),[m,d]=(0,l.useState)(!0),[C,g]=(0,l.useState)(e.showDetail),[h,S]=(0,l.useState)(""),[I,E]=i().useState(!1),[M,N]=i().useState(""),[w,P]=i().useState(!1),T=(0,l.useContext)(tt),{cstate:x,cdispatch:F}=at(),[k,A]=(0,l.useState)(!1),[Z,B]=(0,l.useState)(""),[L,R]=(0,l.useState)(""),[O,V]=(0,l.useState)("");let z=(0,y.Z)();(0,l.useEffect)((()=>{x.editData.length>0&&(o(x.editData),E(!1),F({type:"PrimaryId",payload:x.editData[0].SchComDisciplineSubDetailsIDPK}))}),[x.editData]),(0,l.useEffect)((()=>{x.showTableview&&V(x.showTableview)}),[x.showTableview]),(0,l.useEffect)((()=>{d(x.ExpandDetailValue)}),[x.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{d(e),E(null)},viewtoggle:()=>{E(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=u.v.Api+"FP561S3/",i={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:e.Dialogview?"1":null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:1,p66:10,p67:x.IsDraft?"DraftSchComDisciplineSubDetailsID":"SchComDisciplineSubDetailsID",p68:null,p69:null,p70:localStorage.getItem("UserGroupID"),p71:localStorage.getItem("userid")}};(0,D.Z)(0).then((e=>{(0,p.Z)(l,i,e).then((e=>{T.loading(!1),"200"==e.Output.status.code&&o(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===I&&a.current.clear()}})));const H=e=>z?.[e]?z?.[e]:e,K=e=>x.language?.[e]?x.language[e]:e;function q(e,t){}const G=(e,t)=>(a,l)=>{N(w?Object.assign(...c.filter((e=>e.SchComDisciplineSubDetailsIDPK==t)).map((e=>e))):x.editData),E(!l&&e)};return i().createElement("div",null,i().createElement(v.Z,{expanded:m,onChange:()=>()=>{e.expandTable&&d(!m)}},!I&&i().createElement(le.Z,null,i().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},m?i().createElement("div",{className:"displayFlex EntryViewHeader"},i().createElement("p",{className:"ListP"},x.IsDraft?H("Draft"):"",K("SchComDisciplineSubDetails"),e.viewonly?" ":"("+x.count+")")):"",m?i().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&x.AccessRights.IsAdd?i().createElement(s.Z,{name:H("Add"),frmctrlid:"fld561L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{T.hideAddBtn(!0),F({type:"editData",payload:[]}),F({type:"ShowDetail",payload:!1}),F({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&x.AccessRights.IsEdit?i().createElement(r.Z,{frmctrlid:"fld561L1VCEditBtn",onClick:G("panel0",""),disabled:!1}):x.IsDraft&&x.AccessRights.IsAdd&&i().createElement(r.Z,{frmctrlid:"fld561L1VCEditBtnIsAdd",onClick:()=>{G("panel","")},disabled:!1}),!e.viewonly&&i().createElement(f.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld561L1VCCloseBtn",onClick:()=>{d(!1),T.hideAddBtn(!1),w&&(F({type:"editData",payload:[]}),o([]))}})):"")),i().createElement(b.Z,{style:{display:"block"}},c.map(((t,l)=>i().createElement("div",{key:l},I==="panel"+l?i().createElement(Xe,{ref:a,parentId:e.parentId}):i().createElement(i().Fragment,null,i().createElement(Be.Z,{tableName:"SchComDisciplineSubDetails",tableID:561,parentID:t.SchComDisciplineSubDetailsIDPK,fldid:"fld561L1VCContainer",OpenSlideComponent:q,index:l,refresh:O,val:t,tf:K,t:H,title:"10.0.0.59-3:08:17 PM-18-7[561]"}))))))))})),tt=(0,l.createContext)(),at=()=>{const e=(0,l.useContext)(tt);if(void 0===e)throw new Error("useCont must be used within  SchComDisciplineSubDetailsContext Provider");return e},lt=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),c=(0,l.useRef)(),s=(0,l.useRef)(),r=(0,l.useRef)(),o=(0,l.useRef)(),[m,d]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),C=((0,n.useSelector)((e=>e.form)),(0,n.useDispatch)()),[g,h]=(0,l.useState)(0),[S,y]=(0,l.useReducer)(Ke.D,Ke.E),[I,E]=(0,l.useState)(""),[f,v]=(0,l.useState)([]),[b,M]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||c.current.clear(),document.getElementById("divSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainTable").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{d(!0),document.getElementById("divSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainTable").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(y({type:"editData",payload:[e.editData]}),y({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{y(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),c.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const N=e=>{v([]),document.getElementById("divSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineSubDetailsEntryTable").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainEntry").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainEntry").style.display="block",document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.add("displayFlex"),document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttSchComDisciplineSubDetails").style.width="0%",document.getElementById("overlayimgAttSchComDisciplineSubDetails").style.display="none"};(0,l.useEffect)((()=>{C((e=>{(0,D.Z)(1).then((e=>{var t=new Array;t.push(e),y({type:"token",payload:t}),h(t.length),w(e)}))}))}),[]);const w=t=>{y({type:"AccessRights",payload:e.AccessRights}),M(e.AccessRights?.isNestSendtoApproval)};return i().createElement("div",{style:{width:"100%"}},i().createElement(tt.Provider,{value:{cstate:S,cdispatch:y,ContextApi:at,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh(),e.cardRefresh()},searchItem:e=>{0!==g&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{o.current.tempsave(e,f),v([])},EditClose:e=>N(),AttachExpand:e=>(r.current.AttachmentData(S.PrimaryId),void(m&&(document.getElementById("overlayPreviewSchComDisciplineSubDetails").style.width="50%",document.getElementById("divSchComDisciplineSubDetails-Entry").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainTable").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainEntry").style.width="100%",document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("SchComDisciplineSubDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttSchComDisciplineSubDetails").style.display="block",document.getElementById("overlayimgAttSchComDisciplineSubDetails").style.width="25%"))),Expanded:e=>{S.ShowDetail&&s.current.tableClick(e),y({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{S.ShowDetail&&s.current.viewtoggle()},clear:e=>{y({type:"ShowDetail",payload:!1}),y({type:"editData",payload:[]}),S.ShowDetail?s.current.clear(e):c.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{S.ShowDetail?s.current.tableClick(!1):c.current.CreateEasyProps(!1)},resetImg:()=>{o.current.tempClear(),r.current.clrImgstate(!0)}}},i().createElement("div",{id:"SchComDisciplineSubDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},i().createElement("div",{id:"SchComDisciplineSubDetails-MainEntry",className:"",style:{background:"#fff"}},i().createElement("div",{style:{display:"flex"}},i().createElement("div",{id:"SchComDisciplineSubDetailsEntryTable",style:{width:"100%"}},S.ShowDetail?i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divSchComDisciplineSubDetails-Entry",style:{width:"100%"}},0!==g?i().createElement(et,{ref:s,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),i().createElement(He.Z,{ref:o,menurefID:561,fileId:"LogoImgSchComDisciplineSubDetails",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewSchComDisciplineSubDetails",frmctrlid:"PvwIm_561_L1_",tempImg:e=>{S.PrimaryId?r.current.AttachmentData(S.PrimaryId):r.current.tempImg(e),v(e)},clearTempData:S.Add})):i().createElement("div",null,i().createElement("div",{className:"displayFlex width100"},i().createElement("div",{id:"divSchComDisciplineSubDetails-Entry",style:{width:"100%"}},!e.tableview&&i().createElement(Xe,{ref:c,clrImgstate:e=>r.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),i().createElement(He.Z,{ref:o,menurefID:561,fileId:"LogoImgSchComDisciplineSubDetails",imgloading:t=>{t||S.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:S.PrimaryId,AttachmentVal:e=>r.current.AttachmentData(e),previd:"overlayPreviewSchComDisciplineSubDetails",frmctrlid:"PvwIm_561_L1_",tempImg:e=>{S.PrimaryId?r.current.AttachmentData(S.PrimaryId):r.current.tempImg(e),v(e)},clearTempData:S.Add})),i().createElement("div",{id:"SchComDisciplineSubDetails-MainTable"},0!==g?i().createElement(Qe,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),i().createElement(ze.Z,{ImgAttachment:e=>N(),menurefID:561,fileId:"AttImgSchComDisciplineSubDetails",imgid:"overlayimgAttSchComDisciplineSubDetails",valueIDPK:S.PrimaryId,PriviewData:(e,t,a,l)=>{o.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewSchComDisciplineSubDetails",ref:r,imgloading:p,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_561_L1_",timglist:e=>{o.current.timglist(e),v(e)},clearTempData:S.Add}))),i().createElement("div",{id:"SchComDisciplineSubDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))),b&&i().createElement(Ge(),{openDialog:b,closeDialog:e=>M(e),formID:561,PrimID:e.parentId,alert:(t,a,l)=>{"Approval Sent Succesfully"==t.message&&e.cardRefresh()},loading:t=>{e.loading(t)}}))}));var it=a(52743);const nt=(0,l.forwardRef)(((e,t)=>{(0,n.useSelector)((e=>e.form));const a=(0,n.useDispatch)(),s=(0,l.useRef)(),r=(0,l.useRef)(),[E,f]=(0,l.useState)([]),[v,b]=(0,l.useState)(!1),[M,N]=(0,l.useState)(!0),[w,P]=(0,l.useState)(e.showDetail),[T,x]=(0,l.useState)(!1),k=(0,l.useContext)(d.SchComDisciplineContext),{cstate:A,cdispatch:Z}=(0,d.ContextApi)(),[B,L]=(0,l.useState)(!1),[R,O]=(0,l.useState)(!1),[V,z]=(0,l.useState)(!1),[H,K]=(0,l.useState)(0),[q,G]=(0,l.useState)(""),[_,U]=(0,l.useState)(""),[j,Y]=(0,l.useState)(null),[$,Q]=(0,l.useState)(""),[W,J]=(0,l.useState)([]),[X,ee]=(0,l.useState)({IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!1,IsPrint:!0,IsExport:!0});let te=(0,y.Z)();async function ae(t,a,l){q&&G(t),k.loading(!0);let i=u.v.Api+"FPN559S3/",n={data:{p1:t||A.PrimaryId,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:1,p30:10,p31:l,p32:null,p33:null,p34:localStorage.getItem("UserGroupID"),p35:localStorage.getItem("userid")}};var c={};0==A.token.length&&await(0,D.Z)(0).then((e=>{c=e})),await(0,p.Z)(i,n,0==A.token.length?c:A.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=e.Output.data[0][559][0];f(t),K(e.Output.data[0][559][0].ViewCancelCheck);let a=e.Output.data[0];delete a[559];const l=Object.values(a).flat().sort(((e,t)=>e.orderno-t.orderno));J(l),k.loading(!1)}else k.loading(!1),k.alert({open:!0,color:"warning",message:["No record found"]})}))}(0,l.useEffect)((()=>{e.l4viewonly?f(e.data):e.viewonly?ae(A.PrimaryId,0,"SchComDisciplineID"):(f(A.PrimaryData),a({type:"SchComDiscipline559",SchComDisciplineSchComDisciplineID:A.PrimaryData.SchComDisciplineIDPK}))}),[e.data]),(0,l.useEffect)((()=>A.PrimaryData.length>0||A.PrimaryId?(ae(A.PrimaryId,0,"SchComDisciplineID"),!1):void 0),[A.PrimaryData,A.PrimaryId]),(0,l.useEffect)((()=>{N(e.ExpandDetailValue)}),[e.ExpandDetailValue]),(0,l.useEffect)((()=>{e.inboxdata&&Object.keys(e.inboxdata).length>0&&(N(!0),ae(e.inboxdata.id,e.inboxdata.token,"SchComDisciplineID"),O(!0))}),[e.inboxdata]),(0,l.useImperativeHandle)(t,(()=>({getAlert:e=>{N(!0),b(!1)},inboxprops:e=>{N(!0),ae(e.id,e.token,"SchComDisciplineID"),Z({type:"PrimaryId",payload:e.id}),O(!0)}})));const le=()=>{z(!0)};return i().createElement("div",null,i().createElement(o.Z,null,i().createElement(m.Z,{xs:$?3:12,md:$?3:12,lg:$?3:12},i().createElement("div",{className:"gridcardl41A",id:"SchComDisciplineDiv"},i().createElement(o.Z,null,i().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},i().createElement(o.Z,{style:{marginBottom:"1%"}},i().createElement(m.Z,{sm:12,md:12,lg:12,xs:12},i().createElement("div",{className:"ViewHeadingTitle2"},i().createElement("span",{style:{cursor:"pointer"}},i().createElement("div",{id:"fld559L4VCMdOutlineArrowBackIosNew"},i().createElement(I.aQX,{className:"BackBtnIcon",onClick:()=>{k.ShowTableDiv(!1),k.add()}}),"Primary Details")),i().createElement("div",{className:"iconstyle displayFlex"},R&&i().createElement(C.Z,{className:"ApprBtnCommon",name:"Approve",disabled:!1,onClick:()=>{le()}}),R&&i().createElement(C.Z,{className:"RejBtnCommon",name:"Reject",disabled:!1,onClick:()=>{le()}}),A.AccessRights.IsEdit&&i().createElement("div",{id:"fld559L4VCEditIcon",onClick:()=>{k.editview(E)}},i().createElement(c.ZP,{title:"Edit"},i().createElement("span",null,i().createElement(g.Z,{style:{width:"20px",marginRight:"10px"}})))),A.AccessRights.IsAdd&&i().createElement("div",{id:"fld559L4VCCreateNewFolderIcon",onClick:()=>{k.add()}},i().createElement(c.ZP,{title:"Add"},i().createElement("span",null," ",i().createElement(h.Z,null)," "))),i().createElement("div",{id:"fld559L4VCRefreshIcon",onClick:()=>{ae(A.PrimaryId,0,"SchComDisciplineID")}},i().createElement(c.ZP,{title:"Refresh"},i().createElement("span",null," ",i().createElement(S.Z,null)," "))),$&&i().createElement("div",{id:"fld559L4VCFullscreen",onClick:()=>$&&Q("")},i().createElement(c.ZP,{title:"Expand"},i().createElement("span",null,i().createElement(F.$4j,{style:{width:"18px",height:"18px",marginTop:"3px"}})))))))),i().createElement(it.Z,{tableName:"SchComDiscipline",tableID:559,parentID:A.PrimaryId,fldid:"fld559L4VCContainer",OpenSlideComponent:function(e,t){"DisciplineIDPK"===e&&(k.openNav(),setTimeout((function(){r.current.viewlistProps(t)}),1e3),k.SlideComponentType(i().createElement("div",{id:"divAssDisciplineRegistry-View",style:{width:"100%"}},i().createElement(AssDisciplineRegistryContext.Provider,{value:{cstate:A,cdispatch:Z,loading:e=>k.loading(e),alert:e=>k.alert(e),openNav:()=>k.openNav(),SlideComponentType:e=>k.SlideComponentType(e)}},i().createElement(AssDisciplineRegistryView,{viewonly:!0,ref:r})))))},index:0,val:E,tf:e=>A.language?.[e]?A.language[e]:e,t:e=>te?.[e]?te[e]:e,cardName:$,SubCardData:W,SubformsLink:function(e){Q(e.name),ee((t=>({...t,IsAdd:e.isNestAdd,IsEdit:e.isNestEdit})))},alertmsg:e=>k.alert(e),title:"10.0.0.59-3:08:17 PM-18-7[559]"}))))),$&&i().createElement(m.Z,{sm:9,md:9,xs:9,className:"lstscroll",style:{height:"auto"}},"SchComDisciplineDetails"==$&&i().createElement(je,{AccessRights:X,loading:e=>k.loading(e),parentData:E,alertmsg:e=>k.alert(e),ConfirmAlert:e=>{k.ConfirmAlert(e)},ref:s,PrimaryView:!1,parentId:A.PrimaryId,SlideComponentType:(e,t)=>k.SlideComponentType(e,t),openNav:e=>k.openNav(e),openDialog:e=>k.openDialog(e),DialogComponentType:e=>k.DialogComponentType(e),cardRefresh:()=>ae(A.PrimaryId,0,"SchComDisciplineID")}),"SchComDisciplineSubDetails"==$&&i().createElement(lt,{AccessRights:X,loading:e=>k.loading(e),parentData:E,alertmsg:e=>k.alert(e),ConfirmAlert:e=>{k.ConfirmAlert(e)},ref:s,PrimaryView:!1,parentId:A.PrimaryId,SlideComponentType:(e,t)=>k.SlideComponentType(e,t),openNav:e=>k.openNav(e),openDialog:e=>k.openDialog(e),DialogComponentType:e=>k.DialogComponentType(e),cardRefresh:()=>ae(A.PrimaryId,0,"SchComDisciplineID")}))))}))},37869:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});const l={EnterKeyValues:{SchComDiscipline:["DisciplineName","FrequencyName","MaintenanceHours","ManPower","ManHour","ManSecond","SchComCompleteby","SchComDisciplineCode","MinMins","ManMinute","MaxMins"]},Label:{SchComDiscipline:{DisciplineID:["DisciplineCode","DisciplineName"],FrequencyID:["FrequencyCode","FrequencyName"],MaintenanceHours:["SchComDisciplineCode"],ManPower:["SchComDisciplineCode"],ManHour:["SchComDisciplineCode"],ManSecond:["SchComDisciplineCode"],SchComCompleteby:["SchComDisciplineCode"],SchComDisciplineCode:["SchComDisciplineCode"],MinMins:["SchComDisciplineCode"],ManMinute:["SchComDisciplineCode"],MaxMins:["SchComDisciplineCode"]}},LabelHeader:{SchComDiscipline:{DisciplineID:["Discipline Code","Discipline Name"],FrequencyID:["Frequency Code","Frequency Name"],MaintenanceHours:["Sch Com Discipline Code"],ManPower:["Sch Com Discipline Code"],ManHour:["Sch Com Discipline Code"],ManSecond:["Sch Com Discipline Code"],SchComCompleteby:["Sch Com Discipline Code"],SchComDisciplineCode:["Sch Com Discipline Code"],MinMins:["Sch Com Discipline Code"],ManMinute:["Sch Com Discipline Code"],MaxMins:["Sch Com Discipline Code"]}},Property:{SchComDiscipline:{DisciplineID:{id:"fld559_10954",clearID:"SchComDisciplineDisciplineNameClear",type:"select",labelID:"DisciplineIDPK",labelname:"Discipline",fielddisplayname:"DisciplineName",foreignName:[],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!0},FrequencyID:{id:"fld559_10953",clearID:"SchComDisciplineFrequencyNameClear",type:"select",labelID:"FrequencyIDPK",labelname:"Frequency",fielddisplayname:"FrequencyName",foreignName:[],createEasy:!1,advanceSearch:!0,disabled:!1,mandatory:!0},MaintenanceHours:{id:"fld559_10952",labelID:"MaintenanceHours",maxLength:"25",labelname:"Maintenance Hours",frmctrlid:"fld559_10952",frmctrlidname:"MaintenanceHours",type:"text",mandatory:!0,masked:!0,masktype:"Days",disabled:!1,autogen:!1},ManPower:{id:"fld559_10951",labelID:"ManPower",maxLength:"10",labelname:"Man Power",frmctrlid:"fld559_10951",frmctrlidname:"ManPower",type:"number",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ManHour:{id:"fld559_10948",labelID:"ManHour",maxLength:"25",labelname:"Man Hour",frmctrlid:"fld559_10948",frmctrlidname:"ManHour",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!0,autogen:!1},ManSecond:{id:"fld559_10950",labelID:"ManSecond",maxLength:"10",labelname:"SLA Days",frmctrlid:"fld559_10950",frmctrlidname:"ManSecond",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SchComCompleteby:{id:"fld559_18495",labelID:"SchComCompleteby",maxLength:"25",labelname:"Completed by",frmctrlid:"fld559_18495",frmctrlidname:"SchComCompleteby",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},SchComDisciplineCode:{id:"fld559_10945",labelID:"SchComDisciplineCode",maxLength:"20",labelname:"Sch Com Discipline Code",frmctrlid:"fld559_10945",frmctrlidname:"SchComDisciplineCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MinMins:{id:"fld559_10946",labelID:"MinMins",maxLength:"25",labelname:"Min Time",frmctrlid:"fld559_10946",frmctrlidname:"MinMins",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ManMinute:{id:"fld559_10949",labelID:"ManMinute",maxLength:"25",labelname:"Man Minute",frmctrlid:"fld559_10949",frmctrlidname:"ManMinute",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaxMins:{id:"fld559_10947",labelID:"MaxMins",maxLength:"25",labelname:"Max Time",frmctrlid:"fld559_10947",frmctrlidname:"MaxMins",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{SchComDiscipline:{DisciplineID:["DisciplineCode","DisciplineName","DivisionName"],FrequencyID:["FrequencyCode","FrequencyName","CreatedTtm","UpdatedTtm"]}}}},20506:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});const l=a.p+"[object Object].jpg"},80950:()=>{},46601:()=>{},89214:()=>{},96419:()=>{},56353:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},69386:()=>{},31616:()=>{},56619:()=>{},77108:()=>{},69862:()=>{},40964:()=>{},72095:()=>{}}]);