/*! For license information please see 6957.d1844544daf8efee0425.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[6957,7164,6408],{45332:(e,t,a)=>{a.d(t,{Z:()=>p});var l=a(22122),r=a(81253),o=a(85061),n=a(92950),i=a(86010),d=a(26956),s=a(52543),c=a(83711),m=function(e,t){var a,l,r,n;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((a=e.classList).remove.apply(a,(0,o.Z)(t.imgFullWidth.split(" "))),(l=e.classList).add.apply(l,(0,o.Z)(t.imgFullHeight.split(" ")))):((r=e.classList).remove.apply(r,(0,o.Z)(t.imgFullHeight.split(" "))),(n=e.classList).add.apply(n,(0,o.Z)(t.imgFullWidth.split(" ")))))},u=n.forwardRef((function(e,t){var a=e.children,o=e.classes,s=e.className,u=(e.cols,e.component),p=void 0===u?"li":u,y=(e.rows,(0,r.Z)(e,["children","classes","className","cols","component","rows"])),g=n.useRef(null);return n.useEffect((function(){!function(e,t){e&&(e.complete?m(e,t):e.addEventListener("load",(function(){m(e,t)})))}(g.current,o)})),n.useEffect((function(){var e=(0,d.Z)((function(){m(g.current,o)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[o]),n.createElement(p,(0,l.Z)({className:(0,i.default)(o.root,s),ref:t},y),n.createElement("div",{className:o.tile},n.Children.map(a,(function(e){return n.isValidElement(e)?"img"===e.type||(0,c.Z)(e,["Image"])?n.cloneElement(e,{ref:g}):e:null}))))}));const p=(0,s.Z)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(u)},69685:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(22122),r=a(81253),o=a(92950),n=(a(59864),a(86010)),i=a(52543),d=o.forwardRef((function(e,t){var a=e.cellHeight,i=e.children,d=e.classes,s=e.className,c=e.cols,m=void 0===c?2:c,u=e.component,p=void 0===u?"ul":u,y=e.gap,g=void 0===y?4:y,S=e.rowHeight,D=void 0===S?180:S,P=e.spacing,I=e.style,C=(0,r.Z)(e,["cellHeight","children","classes","className","cols","component","gap","rowHeight","spacing","style"]),f=P||g,E=a||D;return o.createElement(p,(0,l.Z)({className:(0,n.default)(d.root,s),ref:t,style:(0,l.Z)({margin:-f/2},I)},C),o.Children.map(i,(function(e){if(!o.isValidElement(e))return null;var t=e.props.cols||1,a=e.props.rows||1;return o.cloneElement(e,{style:(0,l.Z)({width:"".concat(100/m*t,"%"),height:"auto"===E?"auto":E*a+f,padding:f/2},e.props.style)})})))}));const s=(0,i.Z)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiImageList"})(d)},83173:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var o=r(a(92950)),n=(0,l(a(2108)).default)(o.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"}),"FileCopyOutlined");t.Z=n},92448:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var o=r(a(92950)),n=(0,l(a(2108)).default)(o.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=n},93657:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var o=r(a(92950)),n=(0,l(a(2108)).default)(o.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt");t.Z=n},53375:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var o=r(a(92950)),n=(0,l(a(2108)).default)(o.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=n},85984:(e,t,a)=>{var l=a(95318),r=a(20862);t.Z=void 0;var o=r(a(92950)),n=(0,l(a(2108)).default)(o.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=n},92381:(e,t,a)=>{a.d(t,{Z:()=>s});var l=a(40900),r=a(26537),o=a(61956),n=a(35131),i=a.n(n),d=a(25108);function s(e,t,a,n){if("select"==e){const e=l.v.Api+"FP1454S3/",a={data:{p12:t,p29:"GetFavList",p32:localStorage.getItem("UserGroupID"),p33:localStorage.getItem("userid")}};return fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-tokenid":r.Z.TokenIDPK,"x-tokenname":r.Z.TokenName,"x-userid":localStorage.getItem("userid"),USER_ID:localStorage.getItem("userid"),FORM_ID:1},body:JSON.stringify(a)}).then((e=>{if(e.ok)return d.log(e,"Response*"),e.json();throw new Error("Something went wrong")}))}if("save"==e){const e=l.v.Api+"FP1454S1/",s={data:[{p1:0,p2:null,p3:n,p4:JSON.stringify(a),p5:null,p6:0,p7:null,p8:0,p9:0,p10:0,p11:!1,p12:t,p13:null,p14:!0,p15:!1,p16:localStorage.getItem("userid"),p17:i()().format("YYYY-MM-DD hh:mm:ss"),p18:localStorage.getItem("userid"),p19:i()().format("YYYY-MM-DD hh:mm:ss")}]};(0,r.Z)(0).then((t=>{(0,o.Z)(e,s,t).then((e=>{200==e[0].status.code?d.log(e,"RES"):d.log("Error")}))}))}}},8687:(e,t,a)=>{function l(e,t,a,l,r,o){try{if("200"==e.Output.status.code&&e.Output.data.length>0){if(e.Output.data){let n=e.Output.data[0];t({type:"IsDraft",payload:a}),t({type:"EditOpen",payload:!1}),t({type:"EditIsDraft",payload:a}),r.ExpandDetail(!1),l?r.AddOpen(n[o],a):t({type:"editData",payload:[n]}),r.loading(!1)}}else r.loading(!1),r.alert({open:!0,color:"warning",message:["There is no Record Found"]})}catch(e){r.loading(!1),r.alert({open:!0,color:"error",message:[e.message]})}}a.d(t,{m:()=>l})},97185:(e,t,a)=>{a.d(t,{kN:()=>He,kQ:()=>ze,ZP:()=>_e});var l=a(92950),r=a.n(l),o=(a(95866),a(45237)),n=a(36939),i=a(61201),d=a(59009),s=a(51673),c=(a(99058),a(80366)),m=a(282),u=a(868),p=a(78513),y=a(14439),g=a(27848),S=a(40900),D=a(64059),P=a(24038),I=a(8981),C=a(47516),f=a(86893),E=a(33681),v=a(63163),h=a(35131),M=a.n(h),N=a(61956),b=a(93657),x=a(53375),w=a(52663),A=a(66083),B=a(29525),T=a(66856),R=a(39803),F=a(99940),k=a(17149),Z=a(62810),L=a(30553),K=a(92381),O=a(25108);const V=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[o,n]=(0,l.useState)([]),[i,d]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[h,M]=(0,l.useState)(""),[N,V]=(0,l.useState)({}),[z,H]=(0,l.useState)(!0),[_,G]=(0,l.useState)(!1),{cstate:U,cdispatch:j}=e.ContextApi?e.ContextApi:He(),[Y,W]=(0,l.useState)(1),[$,J]=(0,l.useState)(0),[q,Q]=(0,l.useState)(!1),[X,ee]=(0,l.useState)({}),[te,ae]=(0,l.useState)([]),[le,re]=(0,l.useState)(!0),[oe,ne]=(0,l.useState)(!1),[ie,de]=(0,l.useState)(""),[se,ce]=(0,l.useState)(!1),[me,ue]=(0,l.useState)(!1),[pe,ye]=(0,l.useState)(!1),[ge,Se]=(0,l.useState)(""),De=(0,l.useRef)(null),[Pe,Ie]=(0,l.useState)({});let Ce=localStorage.getItem("Language");const fe={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let Ee=(0,I.Z)();const ve=e=>Ee[e]?Ee[e]:e,he=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[fe[Ce]];function Me(){V({}),ee({}),e.searchData({}),G(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ie(a),ae(t)}),[]),(0,l.useEffect)((()=>()=>{De.current&&De.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Me()}})));const Ne=async(t,a,l,r)=>{Q(!0);try{De.current&&De.current.abort();const i=new AbortController;De.current=i;let c="",m=[],u={};await d((e=>(c=e.name,e))),await V((e=>(m=e,e))),await ee((e=>(u=e,e)));const p=S.v.Api+"FP1291S3/",y={data:{p1:"MatProStoreDetIDPK"==a?null:await Be(),p2:"MatProStoreDetCode"==c&&l.length>0?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:e.parentId?e.parentId:"0",p7:"MatBinName"!=c&&m.MatBinName?m.MatBinName.map((e=>e.MatBinIDPK)).toString():null,p8:e.Dialogview?"1":null,p9:null,p10:"p10"==c&&l.length>0?l:null,p11:null,p12:null,p13:null,p14:null,p15:"ZoneName"!=c&&m.ZoneName?m.ZoneName.map((e=>e.ZoneIDPK)).toString():null,p16:"ZoneCode"==c&&l.length>0?"%"+l+"%":null,p17:"ZoneDisplayName"==c&&l.length>0?"%"+l+"%":null,p18:"ZoneName"==c&&l.length>0?"%"+l+"%":null,p19:"WareHouseName"!=c&&m.WareHouseName?m.WareHouseName.map((e=>e.MatWareHouseIDPK)).toString():null,p20:"WareHouseCode"==c&&l.length>0?"%"+l+"%":null,p21:"WareHouseName"==c&&l.length>0?"%"+l+"%":null,p22:"MatBinCode"==c&&l.length>0?"%"+l+"%":null,p23:"MatBinName"==c&&l.length>0?"%"+l+"%":null,p24:r||1,p25:10,p26:t,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},g=await(0,s.Z)(p,y,e.token,"",i.signal);if(!g)return!1;const D=g.Output.status.code,P=g.Output.data;if("200"===D)if(P.length>0)if(1===r){let e=xe(P,c),t=be(e,N[c],a);n(t),J(t.length>0?t[0].TotalCount:N[c].length)}else{let e=[...o,...P],t=xe(e,c);J(t.length<10?t.length:P[0].TotalCount),n(xe(t,c))}else h.length>0&&n([]),J(o.length);else e.alertmsg("error",[g.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{Q(!1)}},be=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),xe=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function we(e){let t=e+"PK",a=Pe[e];if(a){const e=a.flatMap((e=>N[e]?N[e].map((e=>e[t])):[]));return e.toString()}return""}const Ae=async t=>{let a="",l={};await V((e=>(a=e,e)));let r=[...te],o=[];for(let e of r){let t=a[e]?.map((e=>e.MatProStoreDetIDPK)).toString();t&&o.push(t)}await ee((e=>(l=e,e)));let n={MatProStoreDetIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",MatBinID:we("MatBinID"),ProStoreID:we("ProStoreID")};"saveFav"==t?Fe("save",n):(e.searchData(n),G(!1))};async function Be(){let e={};await V((t=>(e=t,t)));let t=[...te],a=[];for(let l of t){let t=e[l]?.map((e=>e.MatProStoreDetIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Te(t,a,l,r,o,n){let i={[r]:{From:t,Type:l,To:a}},d={};ee((e=>({...e,...i})));const s={...N};let c=[...te],m=[];for(let e of c){let t=s[e]?.map((e=>e.MatProStoreDetIDPK)).toString();t&&m.push(t)}await ee((e=>(d=e,e)));let u={MatProStoreDetIDPK:m?[...new Set(m)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,MatBinID:N.MatBinName?.map((e=>e.MatBinIDPK)).toString(),ProStoreID:N.ProStoreName?.map((e=>e.ProStoreIDPK)).toString()};e.searchData(u)}function Re(){return r().createElement(D.Z,{frmctrlid:"fld1291L1TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Te(e,t,a,i.name,l)},keyboardback:()=>{G(!1),d({idpk:"",name:"",type:"",fieldidpk:""})},title:ve(i.name),fieldname:i.name,save:e=>{alert(!0)}})}const Fe=(t,a)=>{(0,K.Z)(t,e.formID,a,ie).then((e=>{const t=e.Output.data;Se(t)}))};return r().createElement("div",null,r().createElement(w.Z,{onClose:()=>ce(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:se},r().createElement(A.Z,{id:"customized-dialog-title",onClose:()=>ce(!1)},"Add Favorite"),r().createElement(B.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(R.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:ie,onChange:e=>de(e.target.value),fullWidth:!0})),r().createElement(L.Z,{style:{color:"#337ab7"},control:r().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:me,onChange:e=>ue(e.target.checked)}),label:"Quick"}),r().createElement(L.Z,{style:{color:"#337ab7"},control:r().createElement(F.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(k.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(Z.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:pe,onChange:e=>ye(e.target.checked)}),label:"Dashboard"})),r().createElement(T.Z,null,r().createElement(m.Z,{onClick:()=>{Ae("saveFav"),ce(!1)},color:"primary"},"Save"))),_?"Created Ttm"===i.name||i.name.includes("Date")?r().createElement(Re,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(y.Z,null,r().createElement(g.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},he(i.idpk)," (",o.length,"/",$,")")),r().createElement(g.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(u.ZP,{title:ve("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(c.Z,{id:"fld1291L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{G(!1),d({idpk:"",name:"",type:"",fieldidpk:!1}),W(1)}}))),N[i.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(m.Z,{frmctrlid:"fld1291L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await V((t=>(e=t,O.log("clear fewItems",e),t))),e[i.name]=[],Ne(i.type,i.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},ve("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},z?r().createElement(u.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(f.D7o,{className:"FilterMaximizeIcon",onClick:()=>{H(!1)}}))):r().createElement(u.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(f.dOw,{className:"FilterMaximizeIcon",onClick:()=>{H(!0)}})))),r().createElement("ul",null,N[i.name]&&N[i.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:z?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[i.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[i.name],onClick:()=>(async(e,t)=>{W(1);let a=N[i.name].filter((t=>t!=e)),l={};await V((e=>(l=e,e))),l[i.name]=a,V(l),n((t=>[e,...t]))})(e)},r().createElement(c.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(P.Z,{frmctrlid:"fld1291L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:h,placeholder:ve("Enter ")+" "+he(i.idpk),onChange:e=>{M(e),Ne(i.type,i.fieldidpk,e,1,Be())}})),r().createElement("div",{id:"fld1291L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:Ae},r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(m.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(E.Z,{color:"secondary"})),r().createElement("div",{id:"fld1291L1TFCScrollYDefault",className:"height65 scrollYDefault"},o.length>0&&o.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[i.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await V((e=>(l=e,e)));let r=l[i.name];t[i.name]=r?[...a,...r]:a,l={...l,...t},V(l),n((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(p.Z,{className:"DotIcon"}),r().createElement("span",null,e[i.name])))),o.length+0<$&&o.length>0&&r().createElement("div",{id:"fld1291L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{W(Y+1),Ne(i.type,i.fieldidpk,"",Y+1)}},r().createElement("p",null," more... ")),0===o.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:S.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(C.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",ve("Filter")," ",ie.length>0&&`(${ie})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(u.ZP,{title:"Favorite List",placement:"top"},oe?r().createElement(c.Z,{className:"favlisticon",onClick:()=>{ne(!1),Se(""),Me()}}):r().createElement(b.Z,{className:"favlisticon",onClick:()=>{ne(!0),Fe("select"),Me()}})),Object.keys(N).length>0&&r().createElement(u.ZP,{title:"Save Favorites",placement:"top"},r().createElement(x.Z,{className:"favlisticon",onClick:()=>{ce(!0)}})),r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(m.Z,{className:"ColumnApplyButton",onClick:()=>{Me()},id:"fld1291L1TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},ve("Clear")))),r().createElement(u.ZP,{title:"",placement:"top"},r().createElement(m.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1291L1TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},ve("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld1291L1TFCFilItems",className:"FilterItems"},!ge&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{G(!0),M(""),n([]),J(0);let t=e.IsForeign?e.FieldName+"PK":"MatProStoreDetIDPK";d({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterMatProStoreDetID",fieldidpk:t}),Ne(e.IsForeign?"Filter"+e.FieldName:"FilterMatProStoreDetID",t,"",1,Be())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,he(e.AdminUserGridViewIDPK)," ",X[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",X[e.FieldName]?.From+" to "+X[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),r().createElement(v.Z,{checked:"1"==le,onChange:t=>{re(t.target.checked),Te("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,he(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,N[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},N[a][0][a]),N[a].length>1&&r().createElement("span",{className:"RoundedDivName"},N[a][1][a]),N[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(N[a].length-2))))));var a})),ge&&ge.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{Ne("FilterMatProStoreDetID",a),Ae("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}));var z=a(54180),H=a(43031),_=a(85639),G=a(110),U=a(5109),j=a(88995),Y=a(50743),W=a(61657),$=a(51209),J=a(53854),q=a(51649),Q=a(37106),X=a(5434),ee=a(83817),te=a(39327),ae=a(3212),le=a(93521),re=(a(79117),a(71168)),oe=a.n(re),ne=a(65107),ie=a(94986),de=a(15999);a(11557),window.clickFilter="";const se=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),m=(0,l.useRef)(null),[p]=((0,l.useRef)(null),(0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[y]=(0,l.useState)("1291"),[g,D]=(0,l.useState)(!1),[E,v]=(0,l.useState)(!1),[h,M]=(0,l.useState)(0),[N,b]=(0,l.useState)(0),[x,w]=(0,l.useState)(0),[A,B]=(0,l.useState)(0),[T,R]=(0,l.useState)({current:1,pageSize:100}),[F,k]=(0,l.useState)(""),[Z,L]=(0,l.useState)([]),[K,O]=(0,l.useState)({val:"",column:""}),[re,se]=(0,l.useState)([]),[ce,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(""),[ye,ge]=(0,l.useState)(""),[Se,De]=(0,l.useState)(!1),[Pe,Ie]=(0,l.useState)([]),[Ce,fe]=(0,l.useState)([]),[Ee,ve]=(0,l.useState)([]),[he,Me]=(0,l.useState)({children:[{name:"MatProStoreDetails",children:[]}]}),[Ne,be]=(0,l.useState)(!1),xe=(0,l.useContext)(e.context?e.context:ze),{cstate:we,cdispatch:Ae}=e.ContextApi?e.ContextApi:He();let Be={MatProStoreDetIDPK:"",MatProStoreDetCode:"",IsDefault:"",IsDraft:"",Remarks:"",ProStoreID:"",MatBinID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ZoneID:"",ZoneCode:"",ZoneDisplayName:"",ZoneName:"",MatWareHouseID:"",WareHouseCode:"",WareHouseName:"",MatBinCode:"",MatBinName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Te,Re]=(0,l.useState)(Be),[Fe,ke]=(0,l.useState)(Be),[Ze,Le]=(0,l.useState)(!1),[Ke,Oe]=(0,l.useState)(!0),[Ve,_e]=(0,l.useState)(!1),[Ge,Ue]=(0,l.useState)(!0),[je,Ye]=(0,l.useState)({MatBinName:"",MatProStoreDetCode:"",ProStoreName:""}),[We,$e]=(0,l.useState)(!1),[Je,qe]=(0,l.useState)([]),[Qe,Xe]=(0,l.useState)(0),[et,tt]=(0,l.useState)(0),[at,lt]=(0,l.useState)({current:1,pageSize:10}),[rt,ot]=(0,l.useState)([]),[nt,it]=(0,l.useState)([]),[dt,st]=(0,l.useState)(!1),[ct,mt]=(0,l.useState)(!1),[ut,pt]=(0,l.useState)(!1),[yt,gt]=(0,l.useState)(""),[St,Dt]=oe()("1291"),[Pt,It]=(0,l.useState)({}),Ct=[{columns:rt,data:F}];let ft=(0,I.Z)();const Et=e=>ft[e]?ft[e]:e,vt=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{At(St)}),[St]),(0,l.useEffect)((()=>{we.token.length>0&&(e.parentId?xt(T,Be,"MatProStoreDetID"):se([]))}),[e.parentId]),(0,l.useEffect)((()=>{!Ne&&e.parentId?xt(T,ue,"MatProStoreDetID"):Ne&&ke(ue)}),[ue]),(0,l.useImperativeHandle)(t,(()=>({searchItem:e=>{ht(e)},tableRefresh:()=>{xt(T,Be,"MatProStoreDetID")},DialogTableProps:e=>{v(e)},HideEntryFields:e=>{pt(!0===e)}})));const ht=e=>{""==e?xt(T,Be,Ze?"DraftMatProStoreDetID":"MatProStoreDetID",Ze&&"DraftPage"):wt(e,{current:1,pageSize:100}),ge(e)};function Mt(t){xe.loading(!0);let a=S.v.Api+"FP1291S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(a,l,we.token[0]).then((e=>{if(200==e.Output.status.code){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,tt(e.Output.data[0].TotalCount)):a=0,10==t.pageSize?Xe(Math.ceil(a)):20==t.pageSize?Xe(Math.ceil(a/2)):50==t.pageSize?Xe(Math.ceil(a/5)):100==t.pageSize&&Xe(Math.ceil(a/10)),qe(e.Output.data),xe.loading(!1)}}))}function Nt(e,t){Ae({type:"editData",payload:[t]}),Ae({type:"IsDraft",payload:Ze}),Ae({type:"ShowDetail",payload:!0}),xe.Expanded(!0),Ve&&De(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&Ue(e.cardview),e.Dialogview&&(v(e.Dialogview),pt(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&wt(e.searchsafaritext,{current:T.current,pageSize:T.pageSize})}),[e.searchsafaritext]);const bt=()=>{xe.EditClose(!0),ce?(document.getElementById("MatProStoreDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MatProStoreDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MatProStoreDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Ge?(E||(document.getElementById("MatProStoreDetailscoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreDetailscoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("MatProStoreDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatProStoreDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MatProStoreDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MatProStoreDetailsTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MatProStoreDetailsFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),document.getElementById("MatProStoreDetailsfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreDetailsfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),De(!1),window.clickFilter=!ce},xt=(t,a,l,r,o,n)=>{xe.loading(!0),"DraftPage"!==r&&Le(we.IsDraft);let i=S.v.Api+"FP1291S3/",d={data:{p1:o||(a&&a.MatProStoreDetIDPK?a.MatProStoreDetIDPK:null),p2:a&&a.MatProStoreDetCode?a.MatProStoreDetCode:null,p3:null,p4:"DraftMatProStoreDetID"==l?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:a&&a.MatBinID?a.MatBinID:null,p8:a&&a.IsActive,p9:null,p10:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p11:a&&a.CreatedTtm?a.CreatedTtm:null,p12:a&&a.CreatedTtmType?a.CreatedTtmType:null,p13:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p14:null,p15:a&&a.ZoneID?a.ZoneID:null,p16:a&&a.ZoneCode?a.ZoneCode:null,p17:a&&a.ZoneDisplayName?a.ZoneDisplayName:null,p18:a&&a.ZoneName?a.ZoneName:null,p19:a&&a.MatWareHouseID?a.MatWareHouseID:null,p20:a&&a.WareHouseCode?a.WareHouseCode:null,p21:a&&a.WareHouseName?a.WareHouseName:null,p22:a&&a.MatBinCode?a.MatBinCode:null,p23:a&&a.MatBinName?a.MatBinName:null,p24:o?1:t.current,p25:t.pageSize,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,s.Z)(i,d,we.token[0]).then((i=>{if(o)(0,ee.a)(i,Ae,r,n,xe);else if("200"==i.Output.status.code)if(i.Output.data.length>0){if(i.Output.data){let e=0;i.Output.data.length>0?(e=parseFloat(i.Output.data[0].TotalCount,10)/10,w(i.Output.data[0].TotalCount),B(i.Output.data[0].DraftCnt),Ae({type:"count",payload:i.Output.data[0].TotalCount}),"DraftPage"==r&&B(i.Output.data[0].TotalCount)):e=0,10==t.pageSize?b(Math.ceil(e)):20==t.pageSize?b(Math.ceil(e/2)):50==t.pageSize?b(Math.ceil(e/5)):100==t.pageSize&&b(Math.ceil(e/10)),se(i.Output.data),xe.loading(!1)}e.Dialogview||(document.getElementById("divMatProStoreDetails-Entry").style.height="auto",document.getElementById("divMatProStoreDetails-Entry").style.display="block")}else xe.loading(!1),"DraftMatProStoreDetID"===l?(xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),Le(!1)):(se([]),R({current:1,pageSize:10}),b(0),w(0),Ae({type:"count",payload:"0"}),Object.values(a).some((e=>e))&&xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else xe.alert({open:!0,color:"warning",message:[i.Output.status.message]}),xe.loading(!1)}))};function wt(t,a){xe.loading(!0);const l=S.v.Api+"FP1291S4/",r={data:{p1:"%"+t+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,s.Z)(l,r,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,w(e.Output.data[0].TotalCount),Ae({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?b(Math.ceil(t)):20==a.pageSize?b(Math.ceil(t/2)):50==a.pageSize?b(Math.ceil(t/5)):100==a.pageSize&&b(Math.ceil(t/10)),se(e.Output.data),xe.loading(!1)}else se([]),b(0),w(0),Ae({type:"count",payload:"0"}),xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),xe.loading(!1);else xe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),xe.loading(!1)}))}function At(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Ae({type:"language",payload:Object.assign({},...r)}),Ye(a.reduce(((e,t)=>(e[t]="",e)),{})),Ie(e),fe(t),ve(a),ot(l),it(a)}const Bt=()=>Ne?null:r().createElement("div",null,We?r().createElement(ie.Z,{data:Je,expanded:e=>!E&&xe.Expanded(e),edit:(e,t,a)=>{E?xe.select(e):(Ae({type:"editData",payload:[e]}),Ae({type:"IsDraft",payload:t}),Ae({type:"ShowDetail",payload:a}))}}):r().createElement(ne.Z,{ref:m,frmctrlid:"tblcs_1291_L1_",id:"MatProStoreDetailsTable",headerdata:Ce,tablesearchparams:je,searchvalue:e=>{Ye(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...FilteredObj};It(t),R({current:1,pageSize:10}),xt({current:1,pageSize:10},t,Ze?"DraftMatProStoreDetID":"MatProStoreDetID",Ze&&"DraftPage")},bodydata:re,ondrag:Nt,bodyitem:Ee,visibleitem:Ce,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:y,showMore:!1,accessrights:we.AccessRights,expanded:e=>!E&&xe.Expanded(e),edit:(e,t,a)=>{E?xe.select(e):(Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&xt(T,null,t?"DraftMatProStoreDetID":"MatProStoreDetID",t&&"DraftPage",e[l],a)})),xe.hideAddBtn(!0))},viewtoggle:xe.viewtoggle,isexpanded:!E||Ve,tf:vt,action:E?"none":"",ViewComp:(e,t)=>{}}));return(0,l.useEffect)((()=>{_e(we.ExpandTableValue)}),[we.ExpandTableValue]),r().createElement("div",null,!ut&&!e.tableview&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},r().createElement("div",{id:"fld1291L1ECSearchBar",className:"searchbar1"},r().createElement(P.Z,{frmctrlid:"fld1291L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Et("Search"),value:ye,onChange:e=>{ge(e),xe.searchItem(e)},style:{width:"300px"}}),r().createElement("div",{className:"search_icon"},ye?r().createElement("div",{id:"fld1291L1TCCloseIconCommonSearch",onClick:()=>{ge(""),xe.searchItem("")}},r().createElement(c.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld1291L1TCInputSearchIcon"},r().createElement(j.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("MatProStoreDetailsgridsearch").focus()}})))),r().createElement("div",null,we.AccessRights.IsAdd?r().createElement(ae.Z,{className:"SaveBtnCommon",frmctrlid:"fld1291L1TCAddBtnIsAdd",onClick:()=>{xe.hideAddBtn(!0),Ae({type:"editData",payload:[]}),Ae({type:"ShowDetail",payload:!1}),Ae({type:"Add",payload:!0})}}):"")),r().createElement(n.Z,{expanded:Ke,onChange:()=>()=>{Oe(Ve)}},e.Dialogview&&r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},r().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.59-3:08:17 PM-18-7[1291]"},`${vt("1291")} (${x})`)),!1===e.cardview?null:r().createElement("div",{className:"displayFlex EntryHeaderBtn"},r().createElement("div",{id:"fld1291L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},r().createElement(P.Z,{frmctrlid:"fld1291L1TCInputSearch",className:"search_input",type:"text",placeholder:Et("Search"),value:ye,onChange:e=>{ht(e)}}),r().createElement("div",{className:"search_icon"},ye?r().createElement("div",{id:"fld1291L1TCInputCloseIcon",onClick:()=>{ht("")}},r().createElement(c.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld1291L1TCInputSearchIcon"},r().createElement(j.Z,{className:"InputSearchIcon"}))))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&r().createElement("div",{id:"MatProStoreDetails-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&r().createElement("div",{frmctrlid:"fld1291L1TCFilterDataIsDraft",id:"MatProStoreDetailsfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{bt()}},r().createElement(u.ZP,{title:Et("Filter Data"),placement:"top"},r().createElement("span",null,r().createElement(C.Ol$,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Filter Data"))),!E&&!Ze&&!Ne&&r().createElement(z.Z,{formctrlidprint:"fld1291L1TCExportPrint",formctrlidexport:"fld1291L1TCExportTable",formctrlidrefresh:"fld1291L1TCExportRefresh",title:vt("1291"),data:Z,exportData:Ct,Items:nt,columnIndex:rt,TableVisibleItem:Ce,userGridViewFormID:y,TableTotalCount:x,triggerApi:t=>{((t,l,r,o,n)=>{if(0===x)return xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;xe.loading(!0);let i=S.v.Api+"FP1291S3/",d={data:{p1:t&&t.MatProStoreDetIDPK?t.MatProStoreDetIDPK:null,p2:t&&t.MatProStoreDetCode?t.MatProStoreDetCode:null,p3:null,p4:Ze?"1":"0",p5:null,p6:e.parentId?Number(e.parentId):0,p7:t&&t.MatBinID?t.MatBinID:null,p8:t&&t.IsActive,p9:null,p10:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p11:t&&t.CreatedTtm?t.CreatedTtm:null,p12:t&&t.CreatedTtmType?t.CreatedTtmType:null,p13:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p14:null,p15:t&&t.ZoneID?t.ZoneID:null,p16:t&&t.ZoneCode?t.ZoneCode:null,p17:t&&t.ZoneDisplayName?t.ZoneDisplayName:null,p18:t&&t.ZoneName?t.ZoneName:null,p19:t&&t.MatWareHouseID?t.MatWareHouseID:null,p20:t&&t.WareHouseCode?t.WareHouseCode:null,p21:t&&t.WareHouseName?t.WareHouseName:null,p22:t&&t.MatBinCode?t.MatBinCode:null,p23:t&&t.MatBinName?t.MatBinName:null,p24:T.current,p25:x,p26:Ze?"DraftMatProStoreDetID":"MatProStoreDetID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};xe.loading(!1),xe.alert({open:!0,color:"success",message:[`${vt(1291)} - ${n.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,s.Z)(i,d,we.token[0],n).then((e=>{(0,le.PDF_Excel_Generate)(e,xe,nt,k,a,n)}))})(ue,K.column,0,0,t)},Refresh:()=>{ge(""),R({current:1,pageSize:100}),m.current.clearItem(),we.IsDraft?xt({current:1,pageSize:100},Be,"DraftMatProStoreDetID"):xt({current:1,pageSize:100},Be,"MatProStoreDetID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:a,iconinfo:"displayNone"}),!Ze&&!Ne&&!E&&r().createElement("div",{className:"buttoncard",onClick:()=>mt(!ct)},r().createElement("span",null,ct?r().createElement(u.ZP,{disableFocusListener:!0,title:Et("Less"),placement:"top"},r().createElement("span",{id:"fld1291L1TCLess"},r().createElement(J.ldB,{className:"tableFilterColumnIcon"}))):r().createElement(u.ZP,{disableFocusListener:!0,title:Et("More"),placement:"top"},r().createElement("span",{id:"fld1291L1TCMore"},r().createElement(J.ilJ,{className:"tableFilterColumnIcon"}))))),ct?r().createElement("div",{className:"EntryHeaderMore"},r().createElement("div",{style:{display:"flex"}},Ne||!Ve?null:E||!we.AccessRights.IsAdd||Ze?"":r().createElement("div",null,r().createElement("div",{frmctrlid:"fld1291L1TCFilterDataIsAdd",id:"MatProStoreDetailscoldiv",className:"buttoncard",onClick:()=>{xe.EditClose(!0),Se?(document.getElementById("MatProStoreDetailsFilterDiv").style.width="0%",document.getElementById("MatProStoreDetailsTabDiv").style.width="100%",document.getElementById("MatProStoreDetailsFilterDiv").style.display="none",document.getElementById("MatProStoreDetailscoldiv").style.width="fit-content",document.getElementById("MatProStoreDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("MatProStoreDetailsFilterDiv").style.width="25%",document.getElementById("MatProStoreDetailsTabDiv").style.width="75%",document.getElementById("MatProStoreDetailsFilterDiv").style.display="block",document.getElementById("MatProStoreDetailsfildiv").style.width="fit-content",document.getElementById("MatProStoreDetailsfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatProStoreDetailscoldiv").style.width="fit-content",document.getElementById("MatProStoreDetailscoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),me(!1)}},r().createElement(u.ZP,{title:Et("Manage Columns"),placement:"top"},r().createElement("div",null,r().createElement(te.gYA,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!E&&Ve&&!Ne&&!Ze&&r().createElement("div",null,r().createElement("div",{id:"MatProStoreDetailscoldiv",className:"buttoncard",onClick:()=>{We?$e(!1):($e(!0),Mt({current:1,pageSize:100}))}},r().createElement(u.ZP,{title:Et("TableScrollData"),placement:"top"},r().createElement("div",{id:"fld1291L1TCTableScrollData"},r().createElement(de.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"displayNone"},Et("Table Scroll Data")))),!Ne&&Ze?r().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{xe.hideAddBtn(!1),xe.ExpandEntry(),xt({current:1,pageSize:100},Be,"MatProStoreDetID"),Le(!1),ge(""),Ae({type:"IsDraft",payload:!1}),R({current:1,pageSize:10})}},r().createElement(u.ZP,{title:Et("List"),placement:"top"},r().createElement("div",{id:"fld1291L1TCList"},r().createElement(q.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},Et("Drafts")," ",x)):!E&&!Ne&&we.AccessRights.IsAdd&&r().createElement("div",null,r().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:A,showZero:!0},r().createElement("div",{id:"fld1291L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{A>0?(R({current:1,pageSize:100}),M(0),xe.clear(),ge(""),Ae({type:"Add",payload:!1}),xt({current:1,pageSize:10},Be,"DraftMatProStoreDetID"),Le(!0),Ae({type:"IsDraft",payload:!0}),De(!1),Ue(!0),document.getElementById("MatProStoreDetailsFilterDiv").style.width="0%",document.getElementById("MatProStoreDetailsTabDiv").style.width="100%",document.getElementById("MatProStoreDetailsFilterDiv").style.display="none",R({current:1,pageSize:100}),be(!1)):xe.alert({open:!0,color:"warning",message:[Et("There is no Record Found")]})}},r().createElement(u.ZP,{title:Et("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(Q.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Et("Drafts"))))))):""),!Ze&&!E&&r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Ne||Ze?null:r().createElement("div",null,r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{className:Ge?"buttonList":"buttonGrid",id:"fld1291L1TCListView",onClick:()=>{Ue(!0),st(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(J.umT,null)),r().createElement("span",null,Et("List"))),r().createElement("div",{className:Ge||dt?"buttonGrid":"buttonList",id:"fld1291L1TCCardView",onClick:()=>{Ue(!1),st(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(f.aCJ,null)),r().createElement("span",null,Et("Card"))),r().createElement("div",{className:dt?"buttonList":"buttonGrid",id:"fld1291L1TCTileView",onClick:()=>{st(!0),Ue(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(X.f_H,null)),r().createElement("span",null,Et("Tile"))))))),Ne?null:We?e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(W.Z,{style:{color:"#777"},id:"fld1291L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(et),page:h,onPageChange:(e,t)=>{M(t),Mt({current:t+1,pageSize:at.pageSize}),lt({current:t+1,pageSize:at.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(H.Z,{count:Qe,color:"primary",page:at.current,onChange:(e,t)=>{lt({current:t,pageSize:at.pageSize}),Xe(t),Mt({current:t,pageSize:at.pageSize})}}),r().createElement("div",null,r().createElement(G.Z,{className:"BootstrapInputStyle",value:at.pageSize,frmctrlid:"fld1291L1TCSelectPagination",onChange:e=>{lt({current:1,pageSize:e.target.value}),Mt({current:1,pageSize:e.target.value})}},r().createElement(_.Z,{value:10},"10"),r().createElement(_.Z,{value:20},"20"),r().createElement(_.Z,{value:50},"50"),r().createElement(_.Z,{value:100},"100"))),Ve&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",et,")")):e.IsCollapse?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(W.Z,{style:{color:"#777"},id:"fld1291L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number(x),page:h,onPageChange:(e,t)=>{M(t),xt({current:t+1,pageSize:T.pageSize},Be,Ze?"DraftMatProStoreDetID":"MatProStoreDetID",Ze&&"DraftPage"),R({current:t+1,pageSize:T.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(H.Z,{count:N,siblingCount:0,color:"primary",page:T.current,onChange:(e,t)=>{if(R({current:t,pageSize:T.pageSize}),Ze)xt({current:t,pageSize:T.pageSize},Te,"DraftMatProStoreDetID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ye.length>0?wt(ye,{current:t,pageSize:T.pageSize}):xt({current:t,pageSize:T.pageSize},Te,"MatProStoreDetID")}}}),r().createElement("div",null,r().createElement(G.Z,{className:"BootstrapInputStyle",value:T.pageSize,id:"fld1291L1TCSelectPaging",onChange:e=>{R({current:1,pageSize:e.target.value}),Ze?xt({current:1,pageSize:e.target.value},Te,"DraftMatProStoreDetID","DraftPage"):ye.length>0?wt(ye,{current:1,pageSize:e.target.value}):xt({current:1,pageSize:e.target.value},Te,"MatProStoreDetID")}},r().createElement(_.Z,{value:10},"10"),r().createElement(_.Z,{value:20},"20"),r().createElement(_.Z,{value:50},"50"),r().createElement(_.Z,{value:100},"100"))),Ve&&r().createElement("p",{className:"per-page"},"/ ",Et("RowperpageOf")," (",x,") "))),r().createElement("div",{id:"MatProStoreDetails-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},r().createElement("div",{id:"MatProStoreDetailsFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&r().createElement(V,{parentId:e.parentId,searchData:e=>{pe(e||Pt),Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)))},formID:y,data:()=>{},visibleData:()=>{},token:we.token[0],CloseBtnClk:()=>bt(),userGrid:St,msg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{tableRefresh()}}),Se&&r().createElement(U.Z,{Refresh:e=>{xt({current:1,pageSize:100},Be,"MatProStoreDetID")},frmctrlid:"fld1291L1TCTableColumnOrder",loading:e=>xe.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),select:Se,userID:p,userGridViewFormID:y,saved:(e,t)=>{e&&At(t),Dt(t),Ae({type:"showTableview",payload:t})},Token:we.token[0]})),r().createElement("div",{id:"MatProStoreDetailsTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},Ge?r().createElement(Bt,null):r().createElement($.Z,{frmctrlid:"fld1291L1TCExpandedCardDual",data:re,id:"MatProStoreDetails",title:"MatProStoreDetCode",cardTile:!!dt,visibleitem:Ce,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,t)=>{E?xe.select(e):("edit"==t?(Ae({type:"editData",payload:[e]}),Ae({type:"IsDraft",payload:Ze}),Ae({type:"ShowDetail",payload:!1}),xe.Expanded(!0)):(Ae({type:"editData",payload:[e]}),Ae({type:"IsDraft",payload:Ze}),Ae({type:"ShowDetail",payload:!0}),xe.Expanded(!0),xe.viewtoggle()),ce?me(!0):Se?De(!0):(De(!1),De(!1))),xe.hideAddBtn(!0)}})))))))}));var ce=a(37148),me=a(29800),ue=(a(10966),a(21392),a(26537)),pe=(a(44528),a(99090)),ye=a(1695),ge=a(61924),Se=a.n(ge),De=(a(40826),a(55490)),Pe=a(92371);const Ie={EnterKeyValues:{MatProStoreDetails:[,"MatBinName","MatProStoreDetCode","ProStoreName"]},Label:{MatProStoreDetails:{MatBinID:["MatBinCode","MatBinName"],MatProStoreDetCode:["MatProStoreDetCode"],ProStoreID:["MatProStoreDetCode"]}},LabelHeader:{MatProStoreDetails:{MatBinID:["Bin Code","Bin Name"],MatProStoreDetCode:["StoreDetCode"],ProStoreID:["MatProStoreDetCode"]}},Property:{MatProStoreDetails:{MatBinID:{id:"fld1291_34630",clearID:"MatProStoreDetailsMatBinNameClear",type:"select",labelID:"MatBinIDPK",labelname:"Bin",fielddisplayname:"MatBinName",foreignName:[],createEasy:!0,advanceSearch:!1,disabled:!1,mandatory:!0},MatProStoreDetCode:{id:"fld1291_34625",labelID:"MatProStoreDetCode",maxLength:"50",labelname:"StoreDetCode",frmctrlid:"fld1291_34625",frmctrlidname:"MatProStoreDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ProStoreID:{id:"fld1291_34629",clearID:"MatProStoreDetailsProStoreNameClear",type:"select",labelID:"ProStoreIDPK",labelname:"Store",fielddisplayname:"ProStoreName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1}}},SubForms:{},POPLabel:{MatProStoreDetails:{MatBinID:["IsActive","MatBinCode","IsDraft","CreatedTtm","MatBinName"],ProStoreID:["ProStoreCode","ProStoreName","MatProStoreAddress1","MatProStoreAddress2","POBoxNo","Pincode","CityName"]}}};var Ce=a(99263),fe=a(99323),Ee=a(6562),ve=a(45155),he=a(79352),Me=(a(49174),a(38773),a(19089),a(16233)),Ne=a.n(Me),be=a(82729),xe=a(75355),we=a(11107);const Ae={MatProStoreDetIDPK:"",MatProStoreDetCode:"",IsDefault:!1,IsDraft:!1,Remarks:"",ProStoreID:null,MatBinID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",ZoneID:null,ZoneCode:"",ZoneDisplayName:"",ZoneName:"",MatWareHouseID:null,WareHouseCode:"",WareHouseName:"",MatBinCode:"",MatBinName:"",Type:"MatProStoreDetID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Be=(0,l.forwardRef)(((e,t)=>{const a=(0,o.useSelector)((e=>e.form)),[d,c]=(0,l.useState)(!1),[m,u]=((0,l.useRef)(),(0,l.useState)(!0)),[p,D]=(0,l.useState)(!1),[P,C]=(0,l.useState)(!1),[f,E]=(0,l.useState)(""),[h,b]=(0,l.useState)(!1),[x,w]=(0,l.useState)([]),[A,B]=(0,l.useState)(null),[T,R]=(0,l.useReducer)(Pe.Z,Ae),[F,k]=(0,l.useState)(!1),[Z,K]=(0,l.useState)([]),[O,V]=(0,l.useState)(!1),z=(0,l.useContext)(e.context?e.context:ze),{cstate:H,cdispatch:_}=e.ContextApi?e.ContextApi:He(),[G,U]=(0,l.useState)(0),[j,W]=(0,l.useState)(""),$=(0,l.useRef)(null),[J,q]=Ne()("1291"),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(!0),[ae,le]=(0,l.useState)(!1);let re=(0,I.Z)();const[oe,ne]=(0,l.useState)({}),ie=e=>re[e]?re[e]:e,de=t=>H.language?.[t]?H.language[t]:e.createEasy?oe?.[t]:t;(0,l.useEffect)((()=>{H.PrimaryId&&U(Number(H.PrimaryId))}),[H.PrimaryId]),(0,l.useEffect)((()=>{me()}),[]),(0,l.useEffect)((()=>{me()}),[e.parentId]),(0,l.useEffect)((()=>{H.editData.length>0?(X(!1),se(H.editData[0],""),D(!0)):H.Add&&(me(),X(!1),D(!0))}),[H.editData]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),ne(Object.assign({},...t))}(J)}),[J]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{me()},CreateEasyProps:(e=!0,t)=>{q(!0),t?(Le(t),D(e)):(me(),D(e))},AddOpen:e=>{me(),D(!0)}})));const se=(t,a)=>{Object.keys(t).forEach((function(e){0==t[e]&&(t[e]=null)})),C(t.IsDraft),R({type:"boolean",name:"IsDefault",boolean:t.IsDefault}),"SetDefaultMatProStoreDetID"==a?W(t.MatProStoreDetIDPK):(U(e.primid?Number(e.primid):t.MatProStoreDetIDPK?t.MatProStoreDetIDPK:0),_({type:"PrimaryId",payload:t.MatProStoreDetIDPK})),R({type:"number",name:"MatBinID",number:t.MatBinID?Number(t.MatBinID):0}),R({type:"text",name:"MatBinName",value:t.MatBinName}),R({type:"text",name:"MatProStoreDetCode",value:t.MatProStoreDetCode?t.MatProStoreDetCode:""}),R({type:"number",name:"ProStoreID",number:t.ProStoreID?Number(t.ProStoreID):0}),R({type:"text",name:"ProStoreName",value:t.ProStoreName}),t.IsDraft?u(!0):u(!("1"!=t.IsActive&&!t.IsActive))},me=()=>{w([]),U(0),W(""),e.createEasy||z.resetImg(),R({type:"boolean",name:"IsDefault",boolean:!1}),_({type:"PrimaryId",payload:""}),R({type:"text",name:"MatBinID",value:null}),R({type:"text",name:"MatBinName",value:""}),document.getElementById("MatProStoreDetailsMatBinNameClear")&&document.getElementById("MatProStoreDetailsMatBinNameClear").click(),R({type:"text",name:"MatProStoreDetCode",value:""}),R({type:"text",name:"ProStoreID",value:null}),R({type:"text",name:"ProStoreName",value:""}),document.getElementById("MatProStoreDetailsProStoreNameClear")&&document.getElementById("MatProStoreDetailsProStoreNameClear").click(),u(!0),E(""),te(!0)};function ge(t,a,l,r){if(!(H.count>0))return z.alert({open:!0,color:"warning",message:[ie("Please save atleast one record")]}),!1;if(!((()=>{const e={...T};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))})().length>0))return z.alert({open:!0,color:"warning",message:[ie("Please enter the primary fields")]}),!1;{te(!0),z.loading(!0),z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=S.v.Api+"FP1291S1/",l={data:[{p1:"SetDefaultMatProStoreDetID"==r?"NORECORDS"!=j&&j?j:0:G,p2:Ke(T.MatProStoreDetCode),p3:T.IsDefault,p4:!0,p5:"SetDefaultMatProStoreDetID"==r?"SetDefault":null,p6:e.parentId?Number(e.parentId):T.ProStoreID?T.ProStoreID:0,p7:T.MatBinID?T.MatBinID:0,p8:!1,p9:"SetDefaultMatProStoreDetID"==r,p10:localStorage.getItem("userid"),p11:M()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:M()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((r=>{(0,N.Z)(a,l,r).then((a=>{const l=a[0].status;200==l.code?(t?z.alert({open:!0,color:"warning",message:[ie("Deleted Successfully")]}):z.alert({open:!0,color:"success",message:[ie("Saved to Draft")]}),z.loading(!1),z.attachmentSave(a[0].Data.IDPK),me(),z.RefreshTable(),e.clrImgstate(!0)):(z.alert({open:!0,color:"warning",message:[l.message]}),z.loading(!1))}))}))}}function Me(e){return(0,Ce.CreateEasy)(e,H,_,z,$),!1}function Be(e,a){return(0,fe.AdvanceSearch)(e,a,ze,He(),Fe,t),!1}const Te=(t,a,l,r,o,n)=>{const i=S.v.Api+"FP1291S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:e.parentId?Number(e.parentId):0,p7:"0"==T.MatBinID?null:T.MatBinID,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:"0"==T.ZoneID?null:T.ZoneID,p16:a?"%"+a+"%":null,p17:a?"%"+a+"%":null,p18:a?"%"+a+"%":null,p19:"0"==T.MatWareHouseID?null:T.MatWareHouseID,p20:a?"%"+a+"%":null,p21:a?"%"+a+"%":null,p22:a?"%"+a+"%":null,p23:a?"%"+a+"%":null,p24:t,p25:10,p26:l,p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},c=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});k(!0);const m={data:c};return(0,s.Z)(i,"ClearAll"==l?m:d,"SetDefaultMatProStoreDetID"==l&&r?r:H.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(o)return 1==r.length?r[0]:{};K(1==t?e>0?r:[]:Z.concat(r)),"SetDefaultMatProStoreDetID"==l&&(e>0?se(r[0],"SetDefaultMatProStoreDetID"):W("NORECORDS")),k(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Re=(t,l,r)=>{const o=S.v.Api+"FP1291S3/",n={data:{p1:null,p2:"MatProStoreDetCode"==r&&l?"%"+l+"%":null,p3:null,p4:null,p5:null,p6:a.MatProStoreRegistryProStoreID?a.MatProStoreRegistryProStoreID:"0",p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:t,p25:10,p26:"MatProStoreDetID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}},i={data:Object.keys(n.data).slice(0,Object.keys(n.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(n.data).length-8?n.data[t]:null,e)),{})};k(!0),(0,s.Z)(o,"ClearAll"==r?i:n,H.token[0]).then((e=>{const a=e.Output.status.code,l=e.Output.data;if("200"==a){const e=l.length;1==t?("MatProStoreDetCode"==r&&te(e>0),K(l)):("MatProStoreDetCode"==r&&te(!0),K(Z.concat(l))),k(!1)}else z.alert({open:!0,color:"warning",message:[e.Output.status.message]}),k(!1)}))},Fe=(0,l.useCallback)((async(e,t,a)=>{"text"==a?R({type:a,name:t,value:e}):"number"==a?R({type:a,name:t,number:Number(e)}):"boolean"==a?R({type:a,name:t,boolean:e}):"date"==a?R({type:"text",name:t,value:e}):"select"==a&&"MatBinID"==t&&(R({type:"text",name:"MatBinID",value:e.MatBinIDPK?e.MatBinIDPK:null}),R({type:"text",name:"MatBinName",value:e.MatBinName?e.MatBinName:null}))}),[T]);function ke(e){if("MatBinID"==e){if(!T.MatBinID)return!1;R({type:"text",name:"MatBinID",value:null}),R({type:"text",name:"MatBinName",value:""}),document.getElementById("MatProStoreDetailsMatBinNameClear")&&document.getElementById("MatProStoreDetailsMatBinNameClear").click()}else if("ProStoreID"==e&&!T.ProStoreID)return!1}function Ze(e){if("MatBinID"==e){if(!T.MatBinID)return!1;R({type:"text",name:"MatBinID",value:null})}else if("ProStoreID"==e&&!T.ProStoreID)return!1}function Le(e){z.ConfirmAlert(null),C(e.IsDraft),U(Number(e.MatProStoreDetIDPK)?Number(e.MatProStoreDetIDPK):0),R({type:"number",name:"MatBinID",number:e.MatBinID?Number(e.MatBinID):0}),R({type:"text",name:"MatBinName",value:e.MatBinName?e.MatBinName:""}),R({type:"text",name:"MatProStoreDetCode",value:e.MatProStoreDetCode?e.MatProStoreDetCode:""}),R({type:"number",name:"ProStoreID",number:e.ProStoreID?Number(e.ProStoreID):0}),R({type:"text",name:"ProStoreName",value:e.ProStoreName?e.ProStoreName:""})}const Ke=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(n.Z,{expanded:p,onChange:e=>{}},r().createElement(Y.Z,null,r().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},p&&r().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},r().createElement("div",{className:"HeadTxt",title:"10.0.0.59-3:08:17 PM-18-7[1291]"}," ",ie("Add "),de("1291")),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},H.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(Ee.Z,{row:!0},r().createElement(L.Z,{labelPlacement:"bottom",id:"fld1291L1ECEntryCheckbox",control:r().createElement(v.Z,{checked:"1"==m,onChange:e=>u(e.target.checked)}),label:ie(1==m?"Active":"In Active")})))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{z.AttachExpand(!0)},id:"fld1291L1ECIconButton"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",{disableRipple:!0,disabled:!1},r().createElement(ve.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ie("Attach")))),!G&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{me()},id:"fld1291L1ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(ve.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ie("Reset")))),"1"===P&&G&&r().createElement(pe.Z,{frmctrlid:"fld1291L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{ge("draftdel")}}),G&&"1"!==P||e.createEasy?null:H.AccessRights.IsAdd&&r().createElement("div",{className:"GridAlign",onClick:()=>{ge()},frmctrlid:"fld1291L1ECDraftBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(he.IcR,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,ie("Draft")))),H.AccessRights.IsAdd||H.AccessRights.IsEdit?r().createElement(ye.Z,{frmctrlid:"fld1291L1ECSaveBtnIsAdd",name:ie(G?"Update":"Save"),disabled:!1,onClick:()=>{T.MatBinID&&0!=T.MatBinID?e.parentId&&0!=e.parentId?(t=>{z.loading(!0),z.ConfirmAlert(null);const a=S.v.Api+"FP1291S2/",l={data:[{p1:"SetDefaultMatProStoreDetID"==t?"NORECORDS"!=j&&j?j:0:G,p2:Ke(T.MatProStoreDetCode),p3:T.IsDefault,p4:!1,p5:"SetDefaultMatProStoreDetID"==t?"SetDefault":null,p6:e.parentId?Number(e.parentId):T.ProStoreID?T.ProStoreID:0,p7:T.MatBinID?T.MatBinID:0,p8:m,p9:"SetDefaultMatProStoreDetID"==t,p10:localStorage.getItem("userid"),p11:M()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:M()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((t=>{(0,s.Z)(a,l,t).then((t=>{const a=t.Output[0].status;let l=t.Output[0].Data,r=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(z.alert({open:!0,color:"warning",message:o}),z.loading(!1)):(t=>{te(!0),z.loading(!0),z.ConfirmAlert(null),_({type:"IsDraft",payload:!1});const a=S.v.Api+"FP1291S1/",l={data:[{p1:G,p2:Ke(T.MatProStoreDetCode),p3:T.IsDefault,p4:!1,p5:null,p6:e.parentId?Number(e.parentId):T.ProStoreID?T.ProStoreID:0,p7:T.MatBinID?T.MatBinID:0,p8:m,p9:!1,p10:localStorage.getItem("userid"),p11:M()().format("YYYY-MM-DD hh:mm:ss"),p12:localStorage.getItem("userid"),p13:M()().format("YYYY-MM-DD hh:mm:ss")}]};(0,ue.Z)(0).then((t=>{(0,N.Z)(a,l,t).then((t=>{const a=t[0].status;200==a.code?(z.alert({open:!0,color:"success",message:[a.message]}),document.getElementById("overlayimgAttMatProStoreDetails"),z.loading(!1),_({type:"PrimaryId",payload:t[0].Data.IDPK}),e.createEasy||(z.RefreshTable(),z.attachmentSave(t[0].Data.IDPK)),me(),H.AccessRights.IsApproval&&z.Approval(!0),document.getElementById("overlayimgAttMatProStoreDetails")&&(document.getElementById("overlayimgAttMatProStoreDetails").style.width="0%",document.getElementById("overlayimgAttMatProStoreDetails").style.display="none",document.getElementById("divMatProStoreDetails-Entry").style.width="100%"),e.createEasy||(document.getElementById("MatProStoreDetails-MainTable").style.display="block")):(z.alert({open:!0,color:"warning",message:[a.message]}),z.loading(!1)),D(!0)}))}))})()):(z.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),z.loading(!1))}))}))})(undefined):z.alert({open:!0,color:"warning",message:[ie("Please select the ")+" "+de("ProStoreID")]}):z.alert({open:!0,color:"warning",message:[ie("Please select the ")+" "+de("MatBinID")]})}}):null,!e.createEasy&&r().createElement(ce.Z,{frmctrlid:"fld1291L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{me(),D(!1),z.EditClose(!0),z.hideAddBtn(!1),_({type:"Add",payload:!1})}}))))),r().createElement(i.Z,null,r().createElement("div",{id:"MatProStoreDetails-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"MatProStoreDetails-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"MatProStoreDetails-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(be.Z,null,r().createElement(we.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},r().createElement(y.Z,null,r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null))))),r().createElement(xe.Z,{style:{padding:"5px 20px 15px"}},r().createElement(y.Z,{spacing:2}))),r().createElement(be.Z,null,r().createElement(we.Z,{color:"info",icon:!0,className:"cardheadvh"},r().createElement(y.Z,null,r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement("div",{className:"GrpViewHeadingTitle"},r().createElement("p",null))))),r().createElement(xe.Z,{style:{padding:"5px 20px 15px"}},r().createElement(y.Z,{spacing:2},r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(De.Z,{json:Ie,id:T.MatBinID,"data-testid":T.MatBinID,value:T.MatBinName,SPName:"MatProStoreDetails",FieldName:"MatBinID",tfLabel:de("MatBinID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Fe(e,"MatBinID","select"),onChange:(e,t)=>{Te(e,t,"MatBinIDPK")},KeyBack:e=>{Ze("MatBinID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Me("336")},Tabledialog:()=>Be("336","MatBinID"),loading:F,clear:e=>{e&&ke("MatBinID")}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{"data-testid":T.MatProStoreDetCode,json:Ie,SPName:"MatProStoreDetails",FieldName:"MatProStoreDetCode",tfLabel:de("MatProStoreDetCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&(e=>{z.ConfirmAlert(r().createElement(Se(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Le(e),onCancel:()=>z.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:ie("Yes"),cancelBtnText:ie("No"),showCancel:!0},ie("Do you want to update this record?")))})(t),onClick:()=>{ee&&Re(1,"","ClearAll"),te(!0)},frmctrlid:"fld1291_34625",frmctrlidName:"MatProStoreDetCode",fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,onChange:(e,t)=>{ee&&Re(e,t,"MatProStoreDetCode"),Fe(t,"MatProStoreDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||te(!0)},showList:ee,SideEntryView:!1,KeyBack:e=>{},value:T.MatProStoreDetCode,loading:F,clear:e=>{e&&(R({type:"text",name:"MatProStoreDetCode",value:""}),te(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(De.Z,{json:Ie,id:T.ProStoreID,"data-testid":T.ProStoreID,value:T.ProStoreName,SPName:"MatProStoreDetails",FieldName:"ProStoreID",tfLabel:de("ProStoreID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>Fe(e,"ProStoreID","select"),onChange:(e,t)=>{Te(e,t,"ProStoreIDPK")},KeyBack:e=>{Ze("ProStoreID")},fieldorder:"1",data:Z,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:Z.length>0?Z[0].TotalCount:0,openSlide:()=>{Me("385")},Tabledialog:()=>Be("385","ProStoreID"),loading:F,clear:e=>{e&&ke("ProStoreID")}})))))),r().createElement("div",{id:"MatProStoreDetailsSideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MatProStoreDetailsSideBar").style.width="0",void b(!1))},"×"),h&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},A))))))))}));a(77366),a(97829);var Te=a(65197),Re=a(10681),Fe=a.n(Re),ke=a(81924);const Ze=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),d=((0,o.useSelector)((e=>e.form)),(0,l.useRef)()),[c,m]=(0,l.useState)([]),[u,p]=(0,l.useState)(!0),[y,g]=(0,l.useState)(e.showDetail),[D,P]=(0,l.useState)(""),[C,f]=r().useState(!1),[E,v]=r().useState(""),[h,M]=r().useState(!1),N=(0,l.useContext)(ze),{cstate:b,cdispatch:x}=He(),[w,A]=(0,l.useState)(!1),[B,T]=(0,l.useState)(""),[R,F]=(0,l.useState)(""),[k,Z]=(0,l.useState)("");let L=(0,I.Z)();(0,l.useEffect)((()=>{b.editData.length>0&&(m(b.editData),f(!1),x({type:"PrimaryId",payload:b.editData[0].MatProStoreDetIDPK}))}),[b.editData]),(0,l.useEffect)((()=>{b.showTableview&&Z(b.showTableview)}),[b.showTableview]),(0,l.useEffect)((()=>{p(b.ExpandDetailValue)}),[b.ExpandDetailValue]),(0,l.useEffect)((()=>{p(b.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{p(e),f(null)},viewtoggle:()=>{f(!1)},viewlistProps:(t,a)=>{!function(t,a=!1){let l=S.v.Api+"FP1291S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:e.Dialogview?"1":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:1,p25:10,p26:b.IsDraft?"DraftMatProStoreDetID":"MatProStoreDetID",p27:null,p28:null,p29:localStorage.getItem("UserGroupID"),p30:localStorage.getItem("userid")}};(0,ue.Z)(0).then((e=>{(0,s.Z)(l,r,e).then((e=>{N.loading(!1),"200"==e.Output.status.code&&m(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===C&&a.current.clear()}})));const K=e=>L?.[e]?L?.[e]:e,O=e=>b.language?.[e]?b.language[e]:e;function V(e,t){"MatBinIDPK"===e&&(N.openNav(),setTimeout((function(){d.current.viewlistProps(t)}),1e3),N.SlideComponentType(r().createElement("div",{id:"divMatBinRegistry-View",style:{width:"100%"}},r().createElement(ke.MatBinRegistryContext.Provider,{value:{cstate:b,cdispatch:x,loading:e=>N.loading(e),alert:e=>N.alert(e),openNav:()=>N.openNav(),SlideComponentType:e=>N.SlideComponentType(e)}},r().createElement(Fe(),{viewonly:!0,ref:d})))))}const z=(e,t)=>(a,l)=>{v(h?Object.assign(...c.filter((e=>e.MatProStoreDetIDPK==t)).map((e=>e))):b.editData),f(!l&&e)};return r().createElement("div",null,r().createElement(n.Z,{expanded:u,onChange:()=>()=>{e.expandTable&&p(!u)}},!C&&r().createElement(Y.Z,null,r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},u?r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("p",{className:"ListP"},b.IsDraft?K("Draft"):"",O("MatProStoreDetails"),e.viewonly?" ":"("+b.count+")")):"",u?r().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&b.AccessRights.IsAdd?r().createElement(ae.Z,{name:K("Add"),frmctrlid:"fld1291L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{N.hideAddBtn(!0),x({type:"editData",payload:[]}),x({type:"ShowDetail",payload:!1}),x({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&b.AccessRights.IsEdit?r().createElement(me.Z,{frmctrlid:"fld1291L1VCEditBtn",onClick:z("panel0",""),disabled:!1}):b.IsDraft&&b.AccessRights.IsAdd&&r().createElement(me.Z,{frmctrlid:"fld1291L1VCEditBtnIsAdd",onClick:()=>{z("panel","")},disabled:!1}),!e.viewonly&&r().createElement(ce.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1291L1VCCloseBtn",onClick:()=>{p(!1),N.hideAddBtn(!1),h&&(x({type:"editData",payload:[]}),m([]))}})):"")),r().createElement(i.Z,{style:{display:"block"}},c.map(((t,l)=>r().createElement("div",{key:l},C==="panel"+l?r().createElement(Be,{ref:a,parentId:e.parentId}):r().createElement(r().Fragment,null,r().createElement(Te.Z,{tableName:"MatProStoreDetails",tableID:1291,parentID:t.MatProStoreDetIDPK,fldid:"fld1291L1VCContainer",OpenSlideComponent:V,index:l,refresh:k,val:t,tf:O,t:K,title:"10.0.0.59-3:08:17 PM-18-7[1291]"}))))))))}));var Le=a(67698),Ke=a(55995),Oe=a(45965),Ve=a(41722);a(9175);const ze=(0,l.createContext)(),He=()=>{const e=(0,l.useContext)(ze);if(void 0===e)throw new Error("useCont must be used within  MatProStoreDetailsContext Provider");return e},_e=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),n=(0,l.useRef)(),i=(0,l.useRef)(),d=(0,l.useRef)(),s=(0,l.useRef)(),[c,m]=(0,l.useState)(!0),[u,p]=(0,l.useState)(),y=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[g,S]=(0,l.useState)(0),[D,P]=(0,l.useReducer)(Ve.D,Ve.E),[I,C]=(0,l.useState)(""),[f,E]=(0,l.useState)([]),[v,h]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||n.current.clear(),document.getElementById("divMatProStoreDetails-Entry").style.width="100%",document.getElementById("MatProStoreDetails-MainTable").style.width="100%",document.getElementById("MatProStoreDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{m(!0),document.getElementById("divMatProStoreDetails-Entry").style.width="100%",document.getElementById("MatProStoreDetails-MainTable").style.width="100%",document.getElementById("MatProStoreDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreDetails-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(P({type:"editData",payload:[e.editData]}),P({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(t,(()=>({AddOpen:(e,t)=>{P(t?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),n.current.AddOpen(e),setTimeout((()=>a.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>a.current.HideEntryFields(!0)),500)}})));const M=e=>{E([]),document.getElementById("divMatProStoreDetails-Entry").style.width="100%",document.getElementById("MatProStoreDetailsEntryTable").style.width="100%",document.getElementById("MatProStoreDetails-MainEntry").style.width="100%",document.getElementById("MatProStoreDetails-MainEntry").style.display="block",document.getElementById("MatProStoreDetails-MainDiv").classList.add("displayFlex"),document.getElementById("MatProStoreDetails-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMatProStoreDetails").style.width="0%",document.getElementById("overlayimgAttMatProStoreDetails").style.display="none"};(0,l.useEffect)((()=>{y((e=>{(0,ue.Z)(1).then((e=>{var t=new Array;t.push(e),P({type:"token",payload:t}),S(t.length),N(e)}))}))}),[]);const N=e=>{(0,Oe.Z)(e,385).then((e=>P({type:"AccessRights",payload:e})))};return r().createElement("div",{style:{width:"100%"}},r().createElement(ze.Provider,{value:{cstate:D,cdispatch:P,ContextApi:He,loading:t=>e.loading(t),alert:t=>e.alertmsg(t),ShareTab:(t,a)=>e.TabShare(t,a),ConfirmAlert:t=>e.ConfirmAlert(t),SlideComponentType:t=>e.SlideComponentType(t),openNav:t=>e.openNav(t),RefreshTable:()=>{a.current.tableRefresh()},searchItem:e=>{0!==g&&a.current.searchItem(e)},openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t),attachmentSave:e=>{s.current.tempsave(e,f),E([])},EditClose:e=>M(),AttachExpand:e=>(d.current.AttachmentData(D.PrimaryId),void(c&&(document.getElementById("overlayPreviewMatProStoreDetails").style.width="50%",document.getElementById("divMatProStoreDetails-Entry").style.width="100%",document.getElementById("MatProStoreDetails-MainTable").style.width="100%",document.getElementById("MatProStoreDetails-MainEntry").style.width="100%",document.getElementById("MatProStoreDetails-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreDetails-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMatProStoreDetails").style.display="block",document.getElementById("overlayimgAttMatProStoreDetails").style.width="25%"))),Expanded:e=>{D.ShowDetail&&i.current.tableClick(e),P({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&i.current.viewtoggle()},clear:e=>{P({type:"ShowDetail",payload:!1}),P({type:"editData",payload:[]}),D.ShowDetail?i.current.clear(e):n.current.clear(e)},hideAddBtn:e=>{a.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?i.current.tableClick(!1):n.current.CreateEasyProps(!1)},resetImg:()=>{s.current.tempClear(),d.current.clrImgstate(!0)}}},r().createElement("div",{id:"MatProStoreDetails-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},r().createElement("div",{id:"MatProStoreDetails-MainEntry",className:"",style:{background:"#fff"}},r().createElement("div",{style:{display:"flex"}},r().createElement("div",{id:"MatProStoreDetailsEntryTable",style:{width:"100%"}},D.ShowDetail?r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatProStoreDetails-Entry",style:{width:"100%"}},0!==g?r().createElement(Ze,{ref:i,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),r().createElement(Ke.Z,{ref:s,menurefID:1291,fileId:"LogoImgMatProStoreDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewMatProStoreDetails",frmctrlid:"PvwIm_1291_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:D.Add})):r().createElement("div",null,r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatProStoreDetails-Entry",style:{width:"100%"}},!e.tableview&&r().createElement(Be,{ref:n,clrImgstate:e=>d.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),r().createElement(Ke.Z,{ref:s,menurefID:1291,fileId:"LogoImgMatProStoreDetails",imgloading:t=>{t||D.PrimaryId?e.loading(t):a.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>d.current.AttachmentData(e),previd:"overlayPreviewMatProStoreDetails",frmctrlid:"PvwIm_1291_L1_",tempImg:e=>{D.PrimaryId?d.current.AttachmentData(D.PrimaryId):d.current.tempImg(e),E(e)},clearTempData:D.Add})),r().createElement("div",{id:"MatProStoreDetails-MainTable"},0!==g?r().createElement(se,{ref:a,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),r().createElement(Le.Z,{ImgAttachment:e=>M(),menurefID:1291,fileId:"AttImgMatProStoreDetails",imgid:"overlayimgAttMatProStoreDetails",valueIDPK:D.PrimaryId,PriviewData:(e,t,a,l)=>{s.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMatProStoreDetails",ref:d,imgloading:u,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_1291_L1_",timglist:e=>{s.current.timglist(e),E(e)},clearTempData:D.Add}))),r().createElement("div",{id:"MatProStoreDetails-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},53731:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k,saveComponent:()=>L,trimFunc:()=>Z});var l=a(92950),r=a.n(l),o=a(45237),n=a(36939),i=a(61201),d=a(50743),s=(a(3212),a(10966),a(30553)),c=(a(99090),a(44528)),m=a(37148),u=a(61956),p=a(51673),y=(a(96071),a(14439)),g=a(27848),S=(a(49174),a(38773),a(19089),a(1695)),D=(a(13235),a(61924)),P=a.n(D),I=a(26537),C=a(40900),f=a(35131),E=a.n(f),v=a(55490),h=(a(2493),a(92371));a(82729),a(75355),a(11107),a(40826);const M={EnterKeyValues:{MatProStoreRegistry:[,"ProStoreCode","ProStoreName","MatProStoreAddress1","MatProStoreAddress2","POBoxNo","Pincode","CityName","RegionName","CountryName","MinimumValue","MaximumValue","ProhouseAccCode","ProhouseAccHead","BuildingKey","LocalityKey","ContractKey","IsMainStore","StateKey"]},Label:{MatProStoreRegistry:{ProStoreCode:["ProStoreCode","ProStoreName","CityName"],ProStoreName:["ProStoreCode","ProStoreName","CityName"],MatProStoreAddress1:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],MatProStoreAddress2:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],POBoxNo:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],Pincode:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],CityID:["CityCode","CityName"],RegionID:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],CountryID:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],MinimumValue:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],MaximumValue:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],ProhouseAccCode:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],ProhouseAccHead:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],BuildingKey:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],LocalityKey:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],ContractKey:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],IsMainStore:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],StateKey:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"]}},LabelHeader:{MatProStoreRegistry:{ProStoreCode:["Store Code","Store Name","CityName"],ProStoreName:["Store Code","Store Name","CityName"],MatProStoreAddress1:["Pincode","Prohouse Acc Code","Store Code","Store Name"],MatProStoreAddress2:["Pincode","Prohouse Acc Code","Store Code","Store Name"],POBoxNo:["Pincode","Prohouse Acc Code","Store Code","Store Name"],Pincode:["Pincode","Prohouse Acc Code","Store Code","Store Name"],CityID:["City Code","City Name"],RegionID:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],CountryID:["Pincode","ProhouseAccCode","ProStoreCode","ProStoreName"],MinimumValue:["Pincode","Prohouse Acc Code","Store Code","Store Name"],MaximumValue:["Pincode","Prohouse Acc Code","Store Code","Store Name"],ProhouseAccCode:["Pincode","Prohouse Acc Code","Store Code","Store Name"],ProhouseAccHead:["Pincode","Prohouse Acc Code","Store Code","Store Name"],BuildingKey:["Pincode","Prohouse Acc Code","Store Code","Store Name"],LocalityKey:["Pincode","Prohouse Acc Code","Store Code","Store Name"],ContractKey:["Pincode","Prohouse Acc Code","Store Code","Store Name"],IsMainStore:["Pincode","Prohouse Acc Code","Store Code","Store Name"],StateKey:["Pincode","Prohouse Acc Code","Store Code","Store Name"]}},Property:{MatProStoreRegistry:{ProStoreCode:{id:"fld385_7408",labelID:"ProStoreCode",maxLength:"20",labelname:"Store Code",frmctrlid:"fld385_7408",frmctrlidname:"ProStoreCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ProStoreName:{id:"fld385_7409",labelID:"ProStoreName",maxLength:"50",labelname:"Store Name",frmctrlid:"fld385_7409",frmctrlidname:"ProStoreName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},MatProStoreAddress1:{id:"fld385_7410",labelID:"MatProStoreAddress1",maxLength:"100",labelname:"Address 1",frmctrlid:"fld385_7410",frmctrlidname:"MatProStoreAddress1",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MatProStoreAddress2:{id:"fld385_7411",labelID:"MatProStoreAddress2",maxLength:"100",labelname:"Address 2",frmctrlid:"fld385_7411",frmctrlidname:"MatProStoreAddress2",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},POBoxNo:{id:"fld385_7413",labelID:"POBoxNo",maxLength:"25",labelname:"PO Box No",frmctrlid:"fld385_7413",frmctrlidname:"POBoxNo",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},Pincode:{id:"fld385_7412",labelID:"Pincode",maxLength:"25",labelname:"Pincode",frmctrlid:"fld385_7412",frmctrlidname:"Pincode",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},CityID:{id:"fld385_7423",clearID:"MatProStoreRegistryCityNameClear",type:"select",labelID:"CityIDPK",labelname:"",fielddisplayname:"CityName",foreignFld:["Region Name","Country Name"],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},RegionID:{id:"fld385_7424",clearID:"MatProStoreRegistryRegionNameClear",type:"select",labelID:"RegionIDPK",labelname:"Region",fielddisplayname:"RegionName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},CountryID:{id:"fld385_7426",clearID:"MatProStoreRegistryCountryNameClear",type:"select",labelID:"CountryIDPK",labelname:"",fielddisplayname:"CountryName",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},MinimumValue:{id:"fld385_7414",labelID:"MinimumValue",maxLength:"10",labelname:"Minimum Value",frmctrlid:"fld385_7414",frmctrlidname:"MinimumValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},MaximumValue:{id:"fld385_7415",labelID:"MaximumValue",maxLength:"10",labelname:"Maximum Value",frmctrlid:"fld385_7415",frmctrlidname:"MaximumValue",type:"number",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ProhouseAccCode:{id:"fld385_7416",labelID:"ProhouseAccCode",maxLength:"20",labelname:"Prohouse Acc Code",frmctrlid:"fld385_7416",frmctrlidname:"ProhouseAccCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ProhouseAccHead:{id:"fld385_7417",labelID:"ProhouseAccHead",maxLength:"",labelname:"Prohouse Acc Head",frmctrlid:"fld385_7417",frmctrlidname:"ProhouseAccHead",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BuildingKey:{id:"fld385_7420",labelID:"BuildingKey",maxLength:"50",labelname:"BuildingName",frmctrlid:"fld385_7420",frmctrlidname:"BuildingKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},LocalityKey:{id:"fld385_7421",labelID:"LocalityKey",maxLength:"50",labelname:"LocalityName",frmctrlid:"fld385_7421",frmctrlidname:"LocalityKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},ContractKey:{id:"fld385_7422",labelID:"ContractKey",maxLength:"50",labelname:"ContractName",frmctrlid:"fld385_7422",frmctrlidname:"ContractKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},IsMainStore:{id:"fld385_14196",labelID:"IsMainStore",maxLength:"",labelname:"MainStore",frmctrlid:"fld385_14196",frmctrlidname:"IsMainStore",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},StateKey:{id:"fld385_7425",labelID:"StateKey",maxLength:"50",labelname:"StateName",frmctrlid:"fld385_7425",frmctrlidname:"StateKey",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{MatProStoreRegistry:{CityID:["CityCode","CityName","RegionName","CountryName"],RegionID:["RegionCode","RegionName","CountryName"],CountryID:[""]}}};a(42258),a(97829),a(79117);var N=a(80064),b=a(8981),x=a(63163),w=a(45155),A=a(51649),B=a(16233),T=a.n(B);const R={ProStoreIDPK:"",ProStoreCode:"",ProStoreName:"",MatProStoreAddress1:"",MatProStoreAddress2:"",Pincode:"",POBoxNo:"",MinimumValue:"",MaximumValue:"",ProhouseAccCode:"",ProhouseAccHead:"",BuildingKey:"",LocalityKey:"",ContractKey:"",StateKey:"",IsMainStore:!1,IsDefault:!1,IsDraft:!1,Remarks:"",CityID:null,RegionID:null,CountryID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RegionCode:"",RegionName:"",CountryCode:"",CountryName:"",CityCode:"",CityName:"",Type:"ProStoreID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},F=(0,l.forwardRef)(((e,t)=>{(0,o.useSelector)((e=>e.form));const[a,D]=(0,l.useState)(!1),[f,B]=(0,l.useState)(!0),[F,k]=(0,l.useState)(!1),[Z,K]=(0,l.useState)(!1),[O,V]=(0,l.useState)(!1),[z,H]=(0,l.useState)(!1),[_,G]=(0,l.useState)([]),[U,j]=(0,l.useState)(null),[Y,W]=(0,l.useReducer)(h.Z,R),[$,J]=(0,l.useState)(!1),[q,Q]=(0,l.useState)([]),[X,ee]=(0,l.useState)(0),[te,ae]=(0,l.useState)(""),[le,re]=(0,l.useState)(!0),[oe,ne]=(0,l.useState)(!0),[ie,de]=(0,l.useState)(!0),[se,ce]=(0,l.useState)(!0),[me,ue]=(0,l.useState)(!0),[pe,ye]=(0,l.useState)(!0),[ge,Se]=(0,l.useState)(!0),[De,Pe]=(0,l.useState)(!0),[Ie,Ce]=(0,l.useState)(!0),[fe,Ee]=(0,l.useState)(!0),ve=(0,l.useContext)(N.MatProStoreRegistryContext),{cstate:he,cdispatch:Me}=(0,N.ContextApi)(),[Ne]=(0,l.useState)(localStorage.getItem("Language")),[be]=(0,l.useState)(localStorage.getItem("Language")),[xe,we]=(0,l.useState)([]),[Ae,Be]=(0,l.useState)(null),[Te,Re]=(0,l.useState)(!1),[Fe,ke]=(0,l.useState)(""),Ze=(0,l.useRef)(null),[Le,Ke]=T()("385"),[Oe,Ve]=(0,l.useState)(""),[ze,He]=(0,l.useState)(""),[_e,Ge]=(0,l.useState)(!1);let Ue=(0,b.Z)();const[je,Ye]=(0,l.useState)({}),We=e=>Ue?.[e]?Ue[e]:e,$e=t=>he.language?.[t]?he.language[t]:e.createEasy?je?.[t]:t;(0,l.useEffect)((()=>{he.PrimaryId&&ee(Number(he.PrimaryId))}),[he.PrimaryId]),(0,l.useEffect)((()=>{he.editData.length<0&&(0,I.Z)(1).then((e=>{rt(1,null,"SetDefaultProStoreID",e)}))}),[]),(0,l.useEffect)((()=>{he.editData.length>0?(Je(he.editData[0],""),K(!0)):he.Add&&(ee(0),K(!0))}),[he.editData,he.Add]),(0,l.useEffect)((()=>{!function(e){let t=[];e&&e.map((e=>{let a=localStorage.getItem("Language");t.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[a]]})})),Ye(Object.assign({},...t))}(Le)}),[Le]),(0,l.useImperativeHandle)(t,(()=>({getAlert(e){K(!0),k(!1)},CreateEasyProps:(e=!0,t)=>{Ke(!0),t?(ct(t),K(e)):(qe(),K(e))},clear:()=>{qe()}})));const Je=(t,a,l)=>{let r=t;Object.keys(r).forEach((function(e){0==r[e]&&(r[e]=null)})),V(r.IsDraft),Me({type:"EditIsDraft",payload:"1"==r.IsDraft}),W({type:"boolean",name:"IsDefault",boolean:r.IsDefault}),"SetDefaultProStoreID"==a?ae(r.ProStoreIDPK):(ee(e.primid?Number(e.primid):r.ProStoreIDPK?r.ProStoreIDPK:0),Me({type:"PrimaryId",payload:r.ProStoreIDPK})),W({type:"text",name:"ProStoreCode",value:r.ProStoreCode?r.ProStoreCode:""}),W({type:"text",name:"ProStoreName",value:r.ProStoreName?r.ProStoreName:""}),W({type:"text",name:"MatProStoreAddress1",value:r.MatProStoreAddress1?r.MatProStoreAddress1:""}),W({type:"text",name:"MatProStoreAddress2",value:r.MatProStoreAddress2?r.MatProStoreAddress2:""}),W({type:"text",name:"POBoxNo",value:r.POBoxNo?r.POBoxNo:""}),W({type:"text",name:"Pincode",value:r.Pincode?r.Pincode:""}),W({type:"number",name:"CityID",number:r.CityID?Number(r.CityID):0}),W({type:"text",name:"CityName",value:r.CityName}),W({type:"number",name:"RegionID",number:r.RegionID?Number(r.RegionID):0}),W({type:"text",name:"RegionName",value:r.RegionName}),W({type:"number",name:"CountryID",number:r.CountryID?Number(r.CountryID):0}),W({type:"text",name:"CountryName",value:r.CountryName}),W({type:"number",name:"MinimumValue",number:Number(r.MinimumValue)}),W({type:"number",name:"MaximumValue",number:Number(r.MaximumValue)}),W({type:"text",name:"ProhouseAccCode",value:r.ProhouseAccCode?r.ProhouseAccCode:""}),W({type:"text",name:"ProhouseAccHead",value:r.ProhouseAccHead?r.ProhouseAccHead:""}),W({type:"number",name:"BuildingKey",number:r.BuildingKey}),W({type:"number",name:"LocalityKey",number:r.LocalityKey}),W({type:"number",name:"ContractKey",number:r.ContractKey}),W({type:"boolean",name:"IsMainStore",boolean:!!r.IsMainStore&&r.IsMainStore}),W({type:"number",name:"StateKey",number:r.StateKey}),r.IsDraft?B(!0):B(!("1"!=r.IsActive&&!r.IsActive))},qe=()=>{G([]),ee(0),ae(""),re(!0),ne(!0),de(!0),ce(!0),ue(!0),ye(!0),Se(!0),Pe(!0),Ce(!0),Ee(!0),W({type:"boolean",name:"IsDefault",boolean:!1}),Me({type:"PrimaryId",payload:""}),W({type:"text",name:"ProStoreCode",value:""}),W({type:"text",name:"ProStoreName",value:""}),W({type:"text",name:"MatProStoreAddress1",value:""}),W({type:"text",name:"MatProStoreAddress2",value:""}),W({type:"text",name:"POBoxNo",value:""}),W({type:"text",name:"Pincode",value:""}),W({type:"text",name:"CityID",value:null}),W({type:"text",name:"CityName",value:""}),document.getElementById("MatProStoreRegistryCityNameClear")&&document.getElementById("MatProStoreRegistryCityNameClear").click(),W({type:"text",name:"RegionID",value:null}),W({type:"text",name:"RegionName",value:""}),document.getElementById("MatProStoreRegistryRegionNameClear")&&document.getElementById("MatProStoreRegistryRegionNameClear").click(),W({type:"text",name:"CountryID",value:null}),W({type:"text",name:"CountryName",value:""}),document.getElementById("MatProStoreRegistryCountryNameClear")&&document.getElementById("MatProStoreRegistryCountryNameClear").click(),W({type:"number",name:"MinimumValue",number:0}),W({type:"number",name:"MaximumValue",number:0}),W({type:"text",name:"ProhouseAccCode",value:""}),W({type:"text",name:"ProhouseAccHead",value:""}),W({type:"number",name:"BuildingKey",number:0}),W({type:"number",name:"LocalityKey",number:0}),W({type:"number",name:"ContractKey",number:0}),W({type:"boolean",name:"IsMainStore",boolean:!1}),W({type:"number",name:"StateKey",number:0}),B(!0),Ve(""),He("")},Qe=()=>{const e={...Y};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((t=>{delete e[t]})),Object.keys(e).filter((t=>e[t]))},Xe=()=>{ve.ConfirmAlert(r().createElement(P(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:We("Are you sure?"),onConfirm:()=>et(),onCancel:()=>ve.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:We("Yes"),cancelBtnText:We("Cancel"),showCancel:!0},he.PrimaryId?We("Do you want to Update?"):We("Do you want to Save?")))},et=(e,t)=>{ve.loading(!0),ve.ConfirmAlert(null),Me({type:"IsDraft",payload:!1}),L({url:C.v.Api+"FP385S2/",PrimID:X,ParamType:e,state:Y,active:f,token:he.token[0],DefaultPrimaryId:te}).then((t=>{const a=t[0].status;let l=t[0].Data,r=new Array,o=new Array;"200"===a.code?(l.map((e=>{e&&(r.push(e.IsAlert),o.push(e.AlertMessage),e.AlertMessage)})),r.some((e=>"1"==e))?(ve.alert({open:!0,color:"warning",message:o}),ve.loading(!1)):tt(e)):(ve.alert({open:!0,color:"warning",message:[t.Output[0].status.message]}),ve.loading(!1))}))},tt=(t,a)=>{re(!0),ne(!0),de(!0),ce(!0),ue(!0),ye(!0),Se(!0),Pe(!0),Ce(!0),Ee(!0),ve.loading(!0),ve.ConfirmAlert(null),L({url:C.v.Api+"FP385S1/",PrimID:X,ParamType:t,state:Y,active:f,token:he.token[0],DefaultPrimaryId:te}).then((a=>{const l=a[0].status;200==l.code?(Me({type:"PrimaryId",payload:a[0].Data.IDPK}),ve.AddOpen(a[0].Data.IDPK),"SetDefaultProStoreID"==t?ve.alert({open:!0,color:"success",message:["Default Record Configured"]}):ve.alert({open:!0,color:"success",message:[l.message]}),ve.attachmentSave(a[0].Data.IDPK),ve.loading(!1),he.AccessRights.IsApproval&&ve.Approval(!0),e.createEasy,Me({type:"EditOpen",payload:!1}),Me({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttMatProStoreRegistry")&&(document.getElementById("overlayimgAttMatProStoreRegistry").style.width="0%",document.getElementById("overlayimgAttMatProStoreRegistry").style.display="none",document.getElementById("divMatProStoreRegistry-Entry").style.width="100%"),document.getElementById("MatProStoreRegistry-MainTable").style.display="none"):(ve.alert({open:!0,color:"warning",message:[l.message]}),ve.loading(!1),e.enableSave(!0)),e.clrImgstate(!0),"SetDefaultProStoreID"==t&&(K(!0),rt(1,null,"SetDefaultProStoreID",he.token[0]))}))};function at(e){return CreateEasy(e,he,Me,ve,Ze),!1}function lt(e,a){return AdvanceSearch(e,a,N.MatProStoreRegistryContext,(0,N.ContextApi)(),nt,t),!1}(0,l.useEffect)((()=>{K(he.ExpandDetailValue)}),[he.ExpandDetailValue]);const rt=(t,a,l,r,o,n)=>{const i=C.v.Api+"FP385S3/",d={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:1==Y.IsMainStore,p17:null,p18:null,p19:null,p20:"0"==Y.CityID?null:Y.CityID,p21:"0"==Y.RegionID?null:Y.RegionID,p22:"0"==Y.CountryID?null:Y.CountryID,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:a?"%"+a+"%":null,p31:a?"%"+a+"%":null,p32:a?"%"+a+"%":null,p33:a?"%"+a+"%":null,p34:a?"%"+a+"%":null,p35:a?"%"+a+"%":null,p36:t,p37:10,p38:l,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}},s=Object.keys(d.data).slice(0,Object.keys(d.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(d.data).length-8?d.data[t]:null,e)),{});J(!0);const c={data:s};return(0,p.Z)(i,"ClearAll"==l?c:d,"SetDefaultProStoreID"==l&&r?r:he.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;if(o)return 1==r.length?r[0]:{};Q(1==t?e>0?r:[]:q.concat(r)),"SetDefaultProStoreID"==l&&(e>0?Je(r[0],"SetDefaultProStoreID"):ae("NORECORDS")),J(!1)}else ve.alert({open:!0,color:"warning",message:[e.Output.status.message]}),J(!1)}))},ot=(t,a,l)=>{const r=C.v.Api+"FP385S3/",o={data:{p1:null,p2:"ProStoreCode"==l&&a?"%"+a+"%":null,p3:"ProStoreName"==l&&a?"%"+a+"%":null,p4:"MatProStoreAddress1"==l&&a?"%"+a+"%":null,p5:"MatProStoreAddress2"==l&&a?"%"+a+"%":null,p6:"Pincode"==l&&a?"%"+a+"%":null,p7:"POBoxNo"==l&&a?"%"+a+"%":null,p8:"MinimumValue"==l&&a?"%"+a+"%":null,p9:"MaximumValue"==l&&a?"%"+a+"%":null,p10:"ProhouseAccCode"==l&&a?"%"+a+"%":null,p11:"ProhouseAccHead"==l&&a?"%"+a+"%":null,p12:"BuildingKey"==l&&a?"%"+a+"%":null,p13:"LocalityKey"==l&&a?"%"+a+"%":null,p14:"ContractKey"==l&&a?"%"+a+"%":null,p15:"StateKey"==l&&a?"%"+a+"%":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:t,p37:10,p38:"ProStoreID",p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}},n={data:Object.keys(o.data).slice(0,Object.keys(o.data).length).reduce(((e,t,a)=>(e[t]=a>Object.keys(o.data).length-8?o.data[t]:null,e)),{})};J(!0),(0,p.Z)(r,"ClearAll"==l?n:o,he.token[0]).then((e=>{const a=e.Output.status.code,r=e.Output.data;if("200"==a){const e=r.length;1==t?("ProStoreCode"==l&&re(e>0),"ProStoreName"==l&&ne(e>0),"MinimumValue"==l&&de(e>0),"MaximumValue"==l&&ce(e>0),"ProhouseAccCode"==l&&ue(e>0),"ProhouseAccHead"==l&&ye(e>0),"BuildingKey"==l&&Se(e>0),"LocalityKey"==l&&Pe(e>0),"ContractKey"==l&&Ce(e>0),"StateKey"==l&&Ee(e>0),Q(r)):("ProStoreCode"==l&&re(!0),"ProStoreName"==l&&ne(!0),"MinimumValue"==l&&de(!0),"MaximumValue"==l&&ce(!0),"ProhouseAccCode"==l&&ue(!0),"ProhouseAccHead"==l&&ye(!0),"BuildingKey"==l&&Se(!0),"LocalityKey"==l&&Pe(!0),"ContractKey"==l&&Ce(!0),"StateKey"==l&&Ee(!0),Q(q.concat(r))),J(!1)}else ve.alert({open:!0,color:"warning",message:[e.Output.status.message]}),J(!1)}))},nt=(0,l.useCallback)((async(e,t,a)=>{"text"==a?W({type:a,name:t,value:e}):"number"==a?W({type:a,name:t,number:Number(e)}):"boolean"==a?W({type:a,name:t,boolean:e}):"date"==a?W({type:"text",name:t,value:e}):"select"==a&&"CityID"==t&&(W({type:"text",name:"CityID",value:e.CityIDPK?e.CityIDPK:null}),W({type:"text",name:"CityName",value:e.CityName?e.CityName:null}),Ve(e.RegionName?e.RegionName:null),He(e.CountryName?e.CountryName:null))}),[Y]);function it(e){if("CityID"==e){if(!Y.CityID)return!1;W({type:"text",name:"CityID",value:null}),W({type:"text",name:"CityName",value:""}),document.getElementById("MatProStoreRegistryCityNameClear")&&document.getElementById("MatProStoreRegistryCityNameClear").click(),Ve(""),He("")}else if("RegionID"==e){if(!Y.RegionID)return!1}else if("CountryID"==e&&!Y.CountryID)return!1}function dt(e){if("CityID"==e){if(!Y.CityID)return!1;W({type:"text",name:"CityID",value:null}),Ve(""),He("")}else if("RegionID"==e){if(!Y.RegionID)return!1}else if("CountryID"==e&&!Y.CountryID)return!1}const st=e=>{ve.ConfirmAlert(r().createElement(P(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>ct(e),onCancel:()=>ve.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:We("Yes"),cancelBtnText:We("No"),showCancel:!0},We("Do you want to update this record?")))};function ct(t){ve.ConfirmAlert(null),V(t.IsDraft),e.createEasy||(Me({type:"editData",payload:[t]}),Me({type:"PrimaryId",payload:t.ProStoreIDPK})),ee(Number(t.ProStoreIDPK)?Number(t.ProStoreIDPK):0),W({type:"text",name:"ProStoreCode",value:t.ProStoreCode?t.ProStoreCode:""}),W({type:"text",name:"ProStoreName",value:t.ProStoreName?t.ProStoreName:""}),W({type:"text",name:"MatProStoreAddress1",value:t.MatProStoreAddress1?t.MatProStoreAddress1:""}),W({type:"text",name:"MatProStoreAddress2",value:t.MatProStoreAddress2?t.MatProStoreAddress2:""}),W({type:"number",name:"POBoxNo",number:t.POBoxNo?Number(t.POBoxNo):0}),W({type:"number",name:"Pincode",number:t.Pincode?Number(t.Pincode):0}),W({type:"number",name:"CityID",number:t.CityID?Number(t.CityID):0}),W({type:"text",name:"CityName",value:t.CityName?t.CityName:""}),W({type:"number",name:"RegionID",number:t.RegionID?Number(t.RegionID):0}),W({type:"text",name:"RegionName",value:t.RegionName?t.RegionName:""}),W({type:"number",name:"CountryID",number:t.CountryID?Number(t.CountryID):0}),W({type:"text",name:"CountryName",value:t.CountryName?t.CountryName:""}),W({type:"number",name:"MinimumValue",number:t.MinimumValue?Number(t.MinimumValue):0}),W({type:"number",name:"MaximumValue",number:t.MaximumValue?Number(t.MaximumValue):0}),W({type:"text",name:"ProhouseAccCode",value:t.ProhouseAccCode?t.ProhouseAccCode:""}),W({type:"text",name:"ProhouseAccHead",value:t.ProhouseAccHead?t.ProhouseAccHead:""}),W({type:"text",name:"BuildingKey",value:t.BuildingKey?t.BuildingKey:""}),W({type:"text",name:"LocalityKey",value:t.LocalityKey?t.LocalityKey:""}),W({type:"text",name:"ContractKey",value:t.ContractKey?t.ContractKey:""}),W({type:"boolean",name:"IsMainStore",boolean:!!t.IsMainStore&&t.IsMainStore}),W({type:"text",name:"StateKey",value:t.StateKey?t.StateKey:""})}const mt=e=>"string"==typeof e?e.trim():e;return r().createElement("div",null,r().createElement(n.Z,{expanded:Z,onChange:e=>{}},r().createElement(d.Z,null,r().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&r().createElement("span",{style:{cursor:"pointer"}},r().createElement(A.u1R,{className:"backButtonList",onClick:()=>{ve.ShowTableDiv(),setIndirectRecord(!1)}})),r().createElement("p",{id:"fld385L3ECListP",className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[385]",onClick:()=>he.ExpandTableValue&&K(!Z)},X?"Edit ":"New ",$e("385")," (",he.count,")")),Z&&r().createElement("div",{className:"displayFlex EntryHeaderBtn"},he.AccessRights.IsDelete&&r().createElement("div",{className:"GridAlign"},r().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},r().createElement(s.Z,{labelPlacement:"bottom",frmctrlid:"fld385L3ECEntryCheckbox",control:r().createElement(x.Z,{checked:"1"==f,onChange:e=>B(e.target.checked)}),label:We(1==f?"Active":"In Active")}))),!e.createEasy&&r().createElement("div",{className:"GridAlign",onClick:()=>{ve.AttachExpand(!0)},id:"fld385L3ECAttachment",disableRipple:!0,disabled:!X},r().createElement("div",{className:"Entry-Checkbox"},r().createElement("div",null,r().createElement(w.Ypb,{className:"Iconstyles"}))),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Attach"))),!e.createEasy&&(!X||!he.editData.length>0)&&r().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{qe()},id:"fld385L3ECClearBtn"},r().createElement("div",{className:"Entry-Checkbox"},r().createElement(w.pYJ,{className:"Iconstyles"})),r().createElement("div",{className:"GridLabel"},r().createElement("p",null,"Reset"))),he.AccessRights.IsAdd&&r().createElement(S.Z,{name:X?"Update":"Next",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{return t=X?"update":"next",mt(Y.ProStoreCode)?mt(Y.ProStoreName)?void("next"==t?function(t,a,l,r){if(Qe().length>0){re(!0),ne(!0),de(!0),ce(!0),ue(!0),ye(!0),Se(!0),Pe(!0),Ce(!0),Ee(!0),ve.loading(!0),ve.ConfirmAlert(null),Me({type:"IsDraft",payload:!1});const t=C.v.Api+"FP385S1/",a={data:[{p1:X,p2:mt(Y.ProStoreCode),p3:mt(Y.ProStoreName),p4:mt(Y.MatProStoreAddress1),p5:mt(Y.MatProStoreAddress2),p6:mt(Y.Pincode),p7:mt(Y.POBoxNo),p8:Y.MinimumValue?Number(Y.MinimumValue):0,p9:Y.MaximumValue?Number(Y.MaximumValue):0,p10:mt(Y.ProhouseAccCode),p11:mt(Y.ProhouseAccHead),p12:Y.BuildingKey?Number(Y.BuildingKey):0,p13:Y.LocalityKey?Number(Y.LocalityKey):0,p14:Y.ContractKey?Number(Y.ContractKey):0,p15:Y.StateKey?Number(Y.StateKey):0,p16:Y.IsMainStore,p17:Y.IsDefault,p18:!0,p19:null,p20:Y.CityID?Y.CityID:0,p21:Y.RegionID?Y.RegionID:0,p22:Y.CountryID?Y.CountryID:0,p23:!1,p24:!1,p25:localStorage.getItem("userid"),p26:E()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:E()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((l=>{(0,u.Z)(t,a,l).then((t=>{const a=t[0].status;200==a.code?(ve.alert({open:!0,color:"success",message:["Saved to Draft"]}),Me({type:"EditIsDraft",payload:!0}),ve.attachmentSave(t[0].Data.IDPK),ve.loading(!1),qe(),e.clrImgstate(!0),ve.AddOpen(t[0].Data.IDPK,"1")):(ve.alert({open:!0,color:"warning",message:[a.message]}),ve.loading(!1))}))}))}else ve.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}():Xe(t)):(ve.alert({open:!0,color:"warning",message:[We("Please enter the")+""+$e("ProStoreName")]}),!1):(ve.alert({open:!0,color:"warning",message:[We("Please enter the")+""+$e("ProStoreCode")]}),!1);var t}}),X?r().createElement(m.Z,{disabled:!1,frmctrlid:"fld385L3ECCloseBtn",onClick:()=>{ve.detailview(!0,X)}}):null))),r().createElement(i.Z,null,he.AccessRights.IsAdd?null:he.AccessRights.IsEdit?!he.PrimaryId&&r().createElement("div",{className:"divdisable"}):r().createElement("div",{className:"divdisable"}),r().createElement("div",{id:"MatProStoreRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},r().createElement("div",{id:"MatProStoreRegistry-Detail",className:"detailCard detailDiv"},r().createElement("div",{id:"MatProStoreRegistry-MainBody",className:"padding paddingLeft "},r().createElement("div",null,r().createElement(y.Z,{spacing:2},r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(v.Z,{"data-testid":Y.ProStoreCode,json:M,SPName:"MatProStoreRegistry",FieldName:"ProStoreCode",tfLabel:$e("ProStoreCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{le&&ot(1,"","ClearAll"),re(!0)},frmctrlid:"fld385_7408",frmctrlidName:"ProStoreCode",fieldorder:"1",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{le&&ot(e,t,"ProStoreCode"),nt(t,"ProStoreCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||re(!0)},showList:le,SideEntryView:!1,KeyBack:e=>{},value:Y.ProStoreCode,loading:$,clear:e=>{e&&(W({type:"text",name:"ProStoreCode",value:""}),re(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(v.Z,{"data-testid":Y.ProStoreName,json:M,SPName:"MatProStoreRegistry",FieldName:"ProStoreName",tfLabel:$e("ProStoreName"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{oe&&ot(1,"","ClearAll"),ne(!0)},frmctrlid:"fld385_7409",frmctrlidName:"ProStoreName",fieldorder:"2",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{oe&&ot(e,t,"ProStoreName"),nt(t,"ProStoreName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:Y.ProStoreName,loading:$,clear:e=>{e&&(W({type:"text",name:"ProStoreName",value:""}),ne(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(c.Z,{json:M,"data-testid":Y.MatProStoreAddress1,SPName:"MatProStoreRegistry",FieldName:"MatProStoreAddress1",tfLabel:$e("MatProStoreAddress1"),frmctrlid:"fld385_7410",fieldorder:"3",onChange:e=>{nt(e,"MatProStoreAddress1","text")},clear:e=>{e&&W({type:"text",name:"MatProStoreAddress1",value:""})},value:Y.MatProStoreAddress1})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(c.Z,{json:M,"data-testid":Y.MatProStoreAddress2,SPName:"MatProStoreRegistry",FieldName:"MatProStoreAddress2",tfLabel:$e("MatProStoreAddress2"),frmctrlid:"fld385_7411",fieldorder:"4",onChange:e=>{nt(e,"MatProStoreAddress2","text")},clear:e=>{e&&W({type:"text",name:"MatProStoreAddress2",value:""})},value:Y.MatProStoreAddress2})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(c.Z,{json:M,"data-testid":Y.POBoxNo,SPName:"MatProStoreRegistry",FieldName:"POBoxNo",tfLabel:$e("POBoxNo"),frmctrlid:"fld385_7413",fieldorder:"1",onChange:e=>{nt(e,"POBoxNo","number")},clear:e=>{e&&W({type:"number",name:"POBoxNo",number:0})},value:Y.POBoxNo})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(c.Z,{json:M,"data-testid":Y.Pincode,SPName:"MatProStoreRegistry",FieldName:"Pincode",tfLabel:$e("Pincode"),frmctrlid:"fld385_7412",fieldorder:"2",onChange:e=>{nt(e,"Pincode","number")},clear:e=>{e&&W({type:"number",name:"Pincode",number:0})},value:Y.Pincode})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3},r().createElement(v.Z,{json:M,id:Y.CityID,"data-testid":Y.CityID,value:Y.CityName,SPName:"MatProStoreRegistry",FieldName:"CityID",tfLabel:$e("CityID"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:e=>nt(e,"CityID","select"),onChange:(e,t)=>{rt(e,t,"CityIDPK")},KeyBack:e=>{dt("CityID")},fieldorder:"3",data:q,foreign:!he.PrimaryId,foreignName:Oe||ze?[Oe,ze]:["Region Name","Country Name"],foreignClick:t=>e.openSlideView("CityID",Y.CityID?Y.CityID:t),totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{at("3")},Tabledialog:()=>lt("3","CityID"),loading:$,clear:e=>{e&&it("CityID")}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{json:M,id:Y.RegionID,"data-testid":Y.RegionID,value:Y.RegionName,SPName:"MatProStoreRegistry",FieldName:"RegionID",tfLabel:$e("RegionID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>nt(e,"RegionID","select"),onChange:(e,t)=>{rt(e,t,"RegionIDPK")},KeyBack:e=>{dt("RegionID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{at("16")},Tabledialog:()=>lt("16","RegionID"),loading:$,clear:e=>{e&&it("RegionID")}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{json:M,id:Y.CountryID,"data-testid":Y.CountryID,value:Y.CountryName,SPName:"MatProStoreRegistry",FieldName:"CountryID",tfLabel:$e("CountryID"),EnterSave:t=>{t&&e.submitConfirmation(t)},SideEntryView:!1,onSelect:e=>nt(e,"CountryID","select"),onChange:(e,t)=>{rt(e,t,"CountryIDPK")},KeyBack:e=>{dt("CountryID")},fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,openSlide:()=>{at("1585")},Tabledialog:()=>lt("1585","CountryID"),loading:$,clear:e=>{e&&it("CountryID")}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.MinimumValue,json:M,SPName:"MatProStoreRegistry",FieldName:"MinimumValue",tfLabel:$e("MinimumValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{ie&&ot(1,"","ClearAll"),de(!0)},frmctrlid:"fld385_7414",frmctrlidName:"MinimumValue",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ie&&ot(e,t,"MinimumValue"),nt(t,"MinimumValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:ie,SideEntryView:!1,KeyBack:e=>{},value:Y.MinimumValue,loading:$,clear:e=>{e&&(W({type:"text",name:"MinimumValue",value:""}),de(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.MaximumValue,json:M,SPName:"MatProStoreRegistry",FieldName:"MaximumValue",tfLabel:$e("MaximumValue"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{se&&ot(1,"","ClearAll"),ce(!0)},frmctrlid:"fld385_7415",frmctrlidName:"MaximumValue",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{se&&ot(e,t,"MaximumValue"),nt(t,"MaximumValue","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:Y.MaximumValue,loading:$,clear:e=>{e&&(W({type:"text",name:"MaximumValue",value:""}),ce(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.ProhouseAccCode,json:M,SPName:"MatProStoreRegistry",FieldName:"ProhouseAccCode",tfLabel:$e("ProhouseAccCode"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{me&&ot(1,"","ClearAll"),ue(!0)},frmctrlid:"fld385_7416",frmctrlidName:"ProhouseAccCode",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{me&&ot(e,t,"ProhouseAccCode"),nt(t,"ProhouseAccCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ue(!0)},showList:me,SideEntryView:!1,KeyBack:e=>{},value:Y.ProhouseAccCode,loading:$,clear:e=>{e&&(W({type:"text",name:"ProhouseAccCode",value:""}),ue(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.ProhouseAccHead,json:M,SPName:"MatProStoreRegistry",FieldName:"ProhouseAccHead",tfLabel:$e("ProhouseAccHead"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{pe&&ot(1,"","ClearAll"),ye(!0)},frmctrlid:"fld385_7417",frmctrlidName:"ProhouseAccHead",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{pe&&ot(e,t,"ProhouseAccHead"),nt(t,"ProhouseAccHead","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ye(!0)},showList:pe,SideEntryView:!1,KeyBack:e=>{},value:Y.ProhouseAccHead,loading:$,clear:e=>{e&&(W({type:"text",name:"ProhouseAccHead",value:""}),ye(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.BuildingKey,json:M,SPName:"MatProStoreRegistry",FieldName:"BuildingKey",tfLabel:$e("BuildingKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{ge&&ot(1,"","ClearAll"),Se(!0)},frmctrlid:"fld385_7420",frmctrlidName:"BuildingKey",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{ge&&ot(e,t,"BuildingKey"),nt(t,"BuildingKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Se(!0)},showList:ge,SideEntryView:!1,KeyBack:e=>{},value:Y.BuildingKey,loading:$,clear:e=>{e&&(W({type:"text",name:"BuildingKey",value:""}),Se(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.LocalityKey,json:M,SPName:"MatProStoreRegistry",FieldName:"LocalityKey",tfLabel:$e("LocalityKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{De&&ot(1,"","ClearAll"),Pe(!0)},frmctrlid:"fld385_7421",frmctrlidName:"LocalityKey",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{De&&ot(e,t,"LocalityKey"),nt(t,"LocalityKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Pe(!0)},showList:De,SideEntryView:!1,KeyBack:e=>{},value:Y.LocalityKey,loading:$,clear:e=>{e&&(W({type:"text",name:"LocalityKey",value:""}),Pe(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.ContractKey,json:M,SPName:"MatProStoreRegistry",FieldName:"ContractKey",tfLabel:$e("ContractKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{Ie&&ot(1,"","ClearAll"),Ce(!0)},frmctrlid:"fld385_7422",frmctrlidName:"ContractKey",fieldorder:"3",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{Ie&&ot(e,t,"ContractKey"),nt(t,"ContractKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ce(!0)},showList:Ie,SideEntryView:!1,KeyBack:e=>{},value:Y.ContractKey,loading:$,clear:e=>{e&&(W({type:"text",name:"ContractKey",value:""}),Ce(!0))}})),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},r().createElement("div",{className:"EntryView-Checkbox"},r().createElement(s.Z,{style:{color:"#337ab7"},"data-testid":Y.IsMainStore,labelPlacement:"end",control:r().createElement(x.Z,{checked:"1"==Y.IsMainStore,onChange:e=>{nt(e.target.checked,"IsMainStore","boolean")},frmctrlid:"fld385_14196",frmctrlidname:"IsMainStore",fieldorder:"4",tfLabel:$e("IsMainStore")}),label:r().createElement("p",{className:"ToggleSwitchLabel",style:{color:Y.IsMainStore?"#21446F":"#999"}},$e("IsMainStore"))}))),r().createElement(g.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},r().createElement(v.Z,{"data-testid":Y.StateKey,json:M,SPName:"MatProStoreRegistry",FieldName:"StateKey",tfLabel:$e("StateKey"),EnterSave:t=>{t&&e.submitConfirmation(t)},onSelect:t=>!e.createEasy&&st(t),onClick:()=>{fe&&ot(1,"","ClearAll"),Ee(!0)},frmctrlid:"fld385_7425",frmctrlidName:"StateKey",fieldorder:"4",data:q,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:q.length>0?q[0].TotalCount:0,onChange:(e,t)=>{fe&&ot(e,t,"StateKey"),nt(t,"StateKey","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ee(!0)},showList:fe,SideEntryView:!1,KeyBack:e=>{},value:Y.StateKey,loading:$,clear:e=>{e&&(W({type:"text",name:"StateKey",value:""}),Ee(!0))}})))),r().createElement("div",{id:"MatProStoreRegistrySideBar",className:"sidenav"},r().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("MatProStoreRegistrySideBar").style.width="0",void H(!1))},"×"),z&&r().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},U))))))))})),k=F,Z=e=>"string"==typeof e?e.trim():e;function L(e){const{url:t,PrimID:a,ParamType:l,state:r,active:o,token:n,DefaultPrimaryId:i}=e,d={data:[{p1:"SetDefaultProStoreID"==l?"NORECORDS"!=i&&i?i:0:a,p2:Z(r.ProStoreCode),p3:Z(r.ProStoreName),p4:Z(r.MatProStoreAddress1),p5:Z(r.MatProStoreAddress2),p6:Z(r.Pincode),p7:Z(r.POBoxNo),p8:r.MinimumValue?Number(r.MinimumValue):0,p9:r.MaximumValue?Number(r.MaximumValue):0,p10:Z(r.ProhouseAccCode),p11:Z(r.ProhouseAccHead),p12:r.BuildingKey?Number(r.BuildingKey):0,p13:r.LocalityKey?Number(r.LocalityKey):0,p14:r.ContractKey?Number(r.ContractKey):0,p15:r.StateKey?Number(r.StateKey):0,p16:r.IsMainStore,p17:r.IsDefault,p18:!1,p19:"SetDefaultProStoreID"==l?"SetDefault":null,p20:r.CityID?r.CityID:0,p21:r.RegionID?r.RegionID:0,p22:r.CountryID?r.CountryID:0,p23:o,p24:"SetDefaultProStoreID"==l,p25:localStorage.getItem("userid"),p26:E()().format("YYYY-MM-DD hh:mm:ss"),p27:localStorage.getItem("userid"),p28:E()().format("YYYY-MM-DD hh:mm:ss")}]};return(0,u.Z)(t,d,n).then((e=>e))}},80064:(e,t,a)=>{a.r(t),a.d(t,{ContextApi:()=>P,MatProStoreRegistryContext:()=>D,default:()=>I});var l=a(92950),r=a.n(l),o=a(45237),n=a(442),i=a(97361),d=a(53731),s=a(67698),c=a(55995),m=a(26537),u=(a(35131),a(45965)),p=a(73668),y=(a(37274),a(9175)),g=a.n(y),S=a(97185);const D=(0,l.createContext)();function P(){const e=r().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const I=function(e){const t=(0,l.useRef)(),a=(0,l.useRef)(),y=(0,l.useRef)(),I=(0,l.useRef)(),C=(0,l.useRef)(),f=(0,l.useRef)(),E=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)()),[v,h]=(0,l.useState)(0),[M,N]=r().useReducer(p.I,p.E),[b,x]=(0,l.useState)(""),[w,A]=(0,l.useState)(""),[B,T]=(0,l.useState)([]),R=(0,l.useRef)(),[F,k]=(0,l.useState)(!1);function Z(e){N({type:"IsExPView",payload:!0}),N({type:"IsCollapse",payload:!1}),document.getElementById("MatProStoreRegistry-MainTable").style.margin="0",document.getElementById("divMatProStoreRegistry-Entry").style.margin="0",document.getElementById("divMatProStoreRegistry-Entry").style.width="100%",document.getElementById("MatProStoreRegistry-MainTable").style.width="100%",document.getElementById("MatProStoreRegistry-MainEntry").style.width="100%",document.getElementById("MatProStoreRegistry-MainEntry").style.display="none",document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayGrid"),N({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttMatProStoreRegistry")&&(document.getElementById("overlayimgAttMatProStoreRegistry").style.width="0%",document.getElementById("overlayPreviewMatProStoreRegistry").style.width="0%",document.getElementById("overlayimgAttMatProStoreRegistry").style.display="none")}(0,l.useEffect)((()=>{e.loading(!0),Z(),N({type:"IsDraft",payload:!1}),N({type:"ShowDetail",payload:!1}),N({type:"Add",payload:!0}),N({type:"editData",payload:[]})}),[]),(0,l.useEffect)((()=>{e.editData&&N({type:"editData",payload:[e.editData]})}),[e.editData]);const L=e=>{N({type:"IsCollapse",payload:!0}),document.getElementById("MatProStoreRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMatProStoreRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MatProStoreRegistry-MainTable").style.width="0%",document.getElementById("MatProStoreRegistry-MainTable").style.display="none",document.getElementById("MatProStoreRegistry-MainEntry").style.width="100%",document.getElementById("MatProStoreRegistry-MainEntry").style.display="block",document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayGrid"),N({type:"ExpandDetailValue",payload:!0}),N({type:"PrimaryId",payload:""}),t.current.clear(),e&&f.current.AddClose()},K=t=>{M.IsCollapse?(document.getElementById("MatProStoreRegistry-MainEntry").style.width=e.inboxdata?"0":"50%",document.getElementById("MatProStoreRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("divMatProStoreRegistry-Entry").style.width="100%",document.getElementById("MatProStoreRegistry-MainEntry").style.width="100%",document.getElementById("MatProStoreRegistry-MainEntry").style.display="block",document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMatProStoreRegistry").style.width="0%",document.getElementById("overlayimgAttMatProStoreRegistry").style.display="none"):(document.getElementById("overlayimgAttMatProStoreRegistry").style.width="0%",document.getElementById("overlayimgAttMatProStoreRegistry").style.display="none",document.getElementById("divMatProStoreRegistry-Entry").style.width="100%",document.getElementById("MatProStoreRegistry-MainTable").style.width="auto",document.getElementById("MatProStoreRegistry-MainEntry").style.width="100%",document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{E((e=>{(0,m.Z)(1).then((e=>{var t=new Array;t.push(e),N({type:"token",payload:t}),h(t.length),O(e)}))}))}),[]);const O=e=>{(0,u.Z)(e,385).then((e=>N({type:"AccessRights",payload:e})))};return(0,l.useEffect)((()=>{e.inboxdata&&(N({type:"ShowDetail",payload:!0}),N({type:"PrimaryId",payload:e.inboxdata.id}),setTimeout((()=>{a.current.viewlistProps(e.inboxdata.id)}),500))}),[e.inboxdata]),r().createElement("div",null,r().createElement(D.Provider,{value:{cstate:M,cdispatch:N,ContextApi:P,loading:t=>e.loading(t),ShareTab:(t,a)=>e.TabShare(t,a),alert:t=>e.alertmsg(t),SlideComponentType:t=>e.SlideComponentType(t),ConfirmAlert:t=>e.ConfirmAlert(t),openNav:t=>e.openNav(t),Approval:e=>k(e),openDialog:t=>e.openDialog(t),AppropenDialog:(t,a)=>e.openDialogAppr(t,a),DialogComponentType:t=>e.DialogComponentType(t),ExpandTable:e=>Z(),viewtoggle:()=>{M.ShowDetail&&a.current.viewtoggle()},ExpandDetail:e=>L(e),AttachExpand:t=>(y.current.AttachmentData(M.PrimaryId),void(M.ExpandTableValue?(document.getElementById("overlayimgAttMatProStoreRegistry").style.width="28%",document.getElementById("divMatProStoreRegistry-Entry").style.width="100%",document.getElementById("MatProStoreRegistry-MainTable").style.width="auto",document.getElementById("MatProStoreRegistry-MainEntry").style.width="100%",document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttMatProStoreRegistry").style.display="block"):(document.getElementById("MatProStoreRegistry-MainEntry").style.width=e.inboxdata?"0":"40%",document.getElementById("MatProStoreRegistry-MainEntry").style.display=e.inboxdata?"none":"block",document.getElementById("MatProStoreRegistry-MainEntry").style.width="100%",document.getElementById("MatProStoreRegistry-MainEntry").style.display="block",document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttMatProStoreRegistry").style.width="28%",document.getElementById("overlayimgAttMatProStoreRegistry").style.display="block"))),RefreshTable:()=>{C.current.tableRefresh()},floatRefresh:()=>R.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttMatProStoreRegistry").style.display="none",attachmentSave:e=>{I.current.tempsave(e,w),A([])},detailview:(e,t)=>{C.current.viewrecord(t),N({type:"ShowDetail",payload:e}),N({type:"EditOpen",payload:!0}),M.ShowDetail&&a.current.viewtoggle()},clear:e=>{M.ShowDetail?(N({type:"ShowDetail",payload:!1}),N({type:"editData",payload:[]})):t.current.CreateEasyProps(e)},edit:(e,t,a,l)=>{var r,o,n;r=e,n=l,N({type:"IsDraft",payload:o=t}),N({type:"EditOpen",payload:!1}),N({type:"EditIsDraft",payload:o}),L(),N({type:"editData",payload:[r]}),N({type:"screenType",payload:n})},AddOpen:(e,t)=>((e,t)=>{N({type:"ShowDetail",payload:!0}),N({type:"PrimaryId",payload:e}),setTimeout((()=>{t&&f.current.AddOpen(e,t),a.current.viewlistProps(e,t)}),100)})(e,t),ShowTableDiv:()=>(N({type:"ShowDetail",payload:!1}),N({type:"ExpandTableValue",payload:!0}),C.current.tableRefresh(),document.getElementById("MatProStoreRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("divMatProStoreRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("MatProStoreRegistry-MainTable").style.width="100%",document.getElementById("MatProStoreRegistry-MainTable").style.display="block",document.getElementById("MatProStoreRegistry-MainEntry").style.width="0%",document.getElementById("MatProStoreRegistry-MainEntry").style.display="none",document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreRegistryTabDiv").style.width="100%",document.getElementById("MatProStoreRegistryFilterDiv").style.display="none",void(document.getElementById("MatProStoreRegistryFilterDiv").style.width="0%"))}},r().createElement("div",{id:"MatProStoreRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{width:"100%"}},!M.ExpandTableValue&&r().createElement("div",{id:"MatProStoreRegistry-MainTable",className:"Maincontent"},0!==v?r().createElement(n.default,{ref:C}):null),r().createElement("div",{id:"MatProStoreRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"85vh"}},M.ShowDetail?r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatProStoreRegistry-Entry",style:{width:"100%",display:"flex"}},r().createElement(i.default,{inboxdata:e.inboxdata,openDialog:(t,a)=>e.LevelComponentHTMLopenDialogAppr(t,a),parentId:M.PrimaryId,ref:a}),r().createElement("div",{style:{width:"70%"}},r().createElement(S.ZP,{ref:f,loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:M.editData,AddOpen:M.EditOpen,parentId:M.PrimaryId,IsDraft:M.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:M.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)})),r().createElement(c.Z,{ref:I,menurefID:385,fileId:"LogoImgMatProStoreRegistry",imgloading:e=>x(e),valueIDPK:M.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewMatProStoreRegistry",AccessRights:M.AccessRights,frmctrlid:"PvwIm_385_L3_",formCtrlIDSave:"attachsave1438",formCtrlIDClose:"attachclose1438",tempImg:e=>{M.PrimaryId?y.current.AttachmentData(M.PrimaryId):y.current.tempImg(e),A(e)},clearTempData:M.Add})),r().createElement(s.Z,{ImgAttachment:e=>K(),menurefID:385,fileId:"AttImgMatProStoreRegistry",imgid:"overlayimgAttMatProStoreRegistry",valueIDPK:M.PrimaryId,PriviewData:(e,t,a,l)=>{I.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMatProStoreRegistry",ref:y,imgloading:b,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_385_L3_",timglist:e=>I.current.timglist(e)})):r().createElement("div",{className:"displayFlex width100"},r().createElement("div",{id:"divMatProStoreRegistry-Entry",style:{width:"100%"}},r().createElement(d.default,{inboxdata:e.inboxdata,ref:t,clrImgstate:e=>y.current.clrImgstate(e)}),r().createElement(S.ZP,{ref:f,Action:"none",loading:t=>e.loading(t),alertmsg:t=>e.alertmsg(t),ConfirmAlert:t=>{e.ConfirmAlert(t)},data:M.editData,AddOpen:M.EditOpen,parentId:M.PrimaryId,IsDraft:M.EditIsDraft,openNav:t=>e.openNav(t),SlideComponentType:t=>e.SlideComponentType(t),IsCollapse:M.IsCollapse,openDialog:t=>e.openDialog(t),DialogComponentType:t=>e.DialogComponentType(t)}),r().createElement(c.Z,{ref:I,menurefID:385,fileId:"LogoImgMatProStoreRegistry",imgloading:e=>x(e),valueIDPK:M.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewMatProStoreRegistry",FormCtrlIDSave:"attachsave1438",FormCtrlIDClose:"attachclose1438",tempImg:e=>{M.PrimaryId?y.current.AttachmentData(M.PrimaryId):y.current.tempImg(e),A(e)},clearTempData:M.Add})),r().createElement(s.Z,{ImgAttachment:e=>K(),menurefID:385,fileId:"AttImgMatProStoreRegistry",imgid:"overlayimgAttMatProStoreRegistry",valueIDPK:M.PrimaryId,PriviewData:(e,t,a,l)=>{I.current.PriviewItem(e,t,a,l)},previd:"overlayPreviewMatProStoreRegistry",ref:y,imgloading:b,ConfirmAlert:t=>{e.ConfirmAlert(t)},frmctrlid:"Imgatt_385_L3_",timglist:e=>I.current.timglist(e),clearTempData:M.Add}))),M.ExpandTableValue&&r().createElement("div",{id:"MatProStoreRegistry-MainTable",className:"Maincontent"},0!==v?r().createElement(n.default,{ref:C}):null)),F&&r().createElement(g(),{openDialog:F,closeDialog:e=>k(e),formID:385,PrimID:M.PrimaryId,alert:(e,t,a)=>{},loading:t=>{e.loading(t)}})))}},442:(e,t,a)=>{a.r(t),a.d(t,{MatProStoreRegistryPopUpTable:()=>_,default:()=>H}),a(95866);var l=a(92950),r=a.n(l),o=a(45237),n=a(36939),i=a(61201),d=a(50743),s=a(59009),c=a(80366),m=a(51673),u=a(67005),p=a(54180),y=a(47516),g=a(39327),S=(a(14439),a(27848),a(42258),a(40900)),D=(a(83032),a(44117),a(80064)),P=a(43031),I=a(110),C=a(88995),f=a(5109),E=a(61657),v=a(868),h=a(24038),M=a(51209),N=a(8981),b=a(3212),x=a(86893),w=a(53854),A=a(51649),B=a(37106),T=a(5434),R=a(93521),F=a(8687),k=(a(79117),a(97185)),Z=a(71168),L=a.n(Z),K=a(65107),O=a(79352),V=a(94986),z=a(15999);a(11557),window.clickFilter="";const H=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),Z=((0,l.useRef)(null),(0,l.useRef)(null)),[H]=((0,o.useSelector)((e=>e.form)),(0,o.useDispatch)(),(0,l.useState)(localStorage.getItem("userid"))),[_]=(0,l.useState)("385"),[G,U]=(0,l.useState)(!1),[j,Y]=(0,l.useState)(!1),[W,$]=(0,l.useState)(0),[J,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(0),[ee,te]=(0,l.useState)({current:1,pageSize:100}),[ae,le]=(0,l.useState)(""),[re,oe]=(0,l.useState)([]),[ne,ie]=(0,l.useState)({val:"",column:""}),[de,se]=(0,l.useState)([]),[ce,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(""),[ye,ge]=(0,l.useState)(""),[Se,De]=(0,l.useState)(!1),[Pe,Ie]=(0,l.useState)(!1),[Ce,fe]=(0,l.useState)([]),[Ee,ve]=(0,l.useState)([]),[he,Me]=(0,l.useState)([]),[Ne,be]=(0,l.useState)(!1),xe=(0,l.useContext)(e.context?e.context:D.MatProStoreRegistryContext),{cstate:we,cdispatch:Ae}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Be,Te]=(0,l.useState)({children:[{name:"MatProStoreRegistry",children:[]}]}),[Re,Fe]=(0,l.useState)(!1);let ke={ProStoreIDPK:"",ProStoreCode:"",ProStoreName:"",MatProStoreAddress1:"",MatProStoreAddress2:"",Pincode:"",POBoxNo:"",MinimumValue:"",MaximumValue:"",ProhouseAccCode:"",ProhouseAccHead:"",BuildingKey:"",LocalityKey:"",ContractKey:"",StateKey:"",IsMainStore:"",IsDefault:"",IsDraft:"",Remarks:"",CityID:"",RegionID:"",CountryID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RegionCode:"",RegionName:"",CountryCode:"",CountryName:"",CityCode:"",CityName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Ze,Le]=(0,l.useState)(ke),[Ke,Oe]=(0,l.useState)(ke),[Ve,ze]=(0,l.useState)(ke),[He,_e]=(0,l.useState)(ke),[Ge,Ue]=(0,l.useState)("asc"),[je,Ye]=(0,l.useState)(""),[We,$e]=(0,l.useState)(!1),[Je,qe]=(0,l.useState)(!0),[Qe,Xe]=(0,l.useState)(!0),[et,tt]=(0,l.useState)(!1),[at,lt]=(0,l.useState)(!0),[rt,ot]=(0,l.useState)(0),[nt,it]=(0,l.useState)({ProStoreCode:"",ProStoreName:"",MatProStoreAddress1:"",MatProStoreAddress2:"",POBoxNo:"",Pincode:"",CityName:"",RegionName:"",CountryName:"",MinimumValue:"",MaximumValue:"",ProhouseAccCode:"",ProhouseAccHead:"",BuildingKey:"",LocalityKey:"",ContractKey:"",IsMainStore:"",StateKey:""}),[dt,st]=(0,l.useState)(!1),[ct,mt]=(0,l.useState)([]),[ut,pt]=(0,l.useState)(0),[yt,gt]=(0,l.useState)(0),[St,Dt]=(0,l.useState)({current:1,pageSize:10}),[Pt,It]=(0,l.useState)([]),[Ct,ft]=(0,l.useState)([]),[Et,vt]=(0,l.useState)(!1),[ht]=(0,l.useState)(localStorage.getItem("Language")),[Mt]=(0,l.useState)(localStorage.getItem("Language")),[Nt,bt]=L()("385"),[xt,wt]=(0,l.useState)({}),[At,Bt]=(0,l.useState)({}),Tt=[{columns:Pt,data:ae}];let Rt=(0,N.Z)();const Ft=e=>Rt?.[e]?Rt[e]:e,kt=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{Vt(Nt)}),[Nt]),(0,l.useEffect)((()=>{we.token.length>0&&(we.IsDraft?Kt(ee,ke,"DraftProStoreID"):Kt(ee,ke,"ProStoreID"))}),[]),(0,l.useEffect)((()=>{Pe||Ne||Re||!ue?Pe?Oe(ue):Ne?ze(ue):Re&&_e(ue):we.IsDraft?Kt(ee,ue,"DraftProStoreID"):Kt(ee,ue,"ProStoreID")}),[ue]),(0,l.useEffect)((()=>{!1===e.cardview&&lt(e.cardview),e.Dialogview&&Y(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ot(e.searchsafaritext,{current:ee.current,pageSize:ee.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{Zt()},viewrecord:e=>{de.map(((t,a)=>{t.ProStoreIDPK==e&&Ae({type:"editData",payload:[de[a]]})}))}})));const Zt=()=>{we.IsDraft?Kt(ee,ke,"DraftProStoreID"):Kt(ee,ke,"ProStoreID")};function Lt(e){xe.loading(!0);let t=S.v.Api+"FP385S7/",a={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(t,a,we.token[0]).then((t=>{if(200==t.Output.status.code){let a=0;t.Output.data.length>0?(a=parseFloat(t.Output.data[0].TotalCount,10)/10,gt(t.Output.data[0].TotalCount)):(a=0,xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),xe.loading(!1)),10==e.pageSize?pt(Math.ceil(a)):20==e.pageSize?pt(Math.ceil(a/2)):50==e.pageSize?pt(Math.ceil(a/5)):100==e.pageSize&&pt(Math.ceil(a/10)),mt(t.Output.data),xe.loading(!1)}}))}const Kt=(e,t,a,l,r,o)=>{xe.loading(!0),"DraftPage"!==l&&$e(we.IsDraft);let n=S.v.Api+"FP385S3/",i={data:{p1:r||(t&&t.ProStoreIDPK?t.ProStoreIDPK:null),p2:t&&t.ProStoreCode?t.ProStoreCode:null,p3:t&&t.ProStoreName?t.ProStoreName:null,p4:t&&t.MatProStoreAddress1?t.MatProStoreAddress1:null,p5:t&&t.MatProStoreAddress2?t.MatProStoreAddress2:null,p6:t&&t.Pincode?t.Pincode:null,p7:t&&t.POBoxNo?t.POBoxNo:null,p8:t&&t.MinimumValue?t.MinimumValue:null,p9:t&&t.MaximumValue?t.MaximumValue:null,p10:t&&t.ProhouseAccCode?t.ProhouseAccCode:null,p11:t&&t.ProhouseAccHead?t.ProhouseAccHead:null,p12:t&&t.BuildingKey?t.BuildingKey:null,p13:t&&t.LocalityKey?t.LocalityKey:null,p14:t&&t.ContractKey?t.ContractKey:null,p15:t&&t.StateKey?t.StateKey:null,p16:null,p17:null,p18:"DraftProStoreID"==a?"1":"0",p19:null,p20:t&&t.CityID?t.CityID:null,p21:t&&t.RegionID?t.RegionID:null,p22:t&&t.CountryID?t.CountryID:null,p23:t&&t.IsActive,p24:null,p25:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p26:t&&t.CreatedTtm?t.CreatedTtm:null,p27:t&&t.CreatedTtmType?t.CreatedTtmType:null,p28:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p29:null,p30:t&&t.RegionCode?t.RegionCode:null,p31:t&&t.RegionName?t.RegionName:null,p32:t&&t.CountryCode?t.CountryCode:null,p33:t&&t.CountryName?t.CountryName:null,p34:t&&t.CityCode?t.CityCode:null,p35:t&&t.CityName?t.CityName:null,p36:r?1:e.current,p37:e.pageSize,p38:a,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};(0,m.Z)(n,i,we.token[0]).then((n=>{if(r)(0,F.m)(n,Ae,l,o,xe,"ProStoreIDPK");else if("200"==n.Output.status.code)if(n.Output.data.length>0){if(n.Output.data){let t=0;n.Output.data.length>0?(t=parseFloat(n.Output.data[0].TotalCount,10)/10,q(n.Output.data[0].TotalCount),Ae({type:"count",payload:n.Output.data[0].TotalCount}),X(n.Output.data[0].DraftCnt),"DraftPage"==l&&X(n.Output.data[0].TotalCount)):t=0,10==e.pageSize?$(Math.ceil(t)):20==e.pageSize?$(Math.ceil(t/2)):50==e.pageSize?$(Math.ceil(t/5)):100==e.pageSize&&$(Math.ceil(t/10)),we.ExpandTableValue&&(we.ExpandDetailValue?document.getElementById("MatProStoreRegistry-MainTable").style.display="block":(document.getElementById("MatProStoreRegistry-MainTable").style.width="100%",document.getElementById("MatProStoreRegistry-MainEntry").style.width="100%",document.getElementById("MatProStoreRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("MatProStoreRegistry-MainDiv").classList.add("displayGrid"))),se(n.Output.data),xe.loading(!1),document.getElementById("divMatProStoreRegistry-Entry").style.height="auto"}}else xe.loading(!1),"DraftProStoreID"===a?(xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),De(!0),$e(!1)):(se([]),te({current:1,pageSize:10}),$(0),q(0),Ae({type:"count",payload:0}),Object.values(t).some((e=>e))&&xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else xe.alert({open:!0,color:"warning",message:[n.Output.status.message]}),xe.loading(!1)}))};function Ot(e,t){xe.loading(!0);const a=S.v.Api+"FP385S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:We?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,m.Z)(a,l,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,q(e.Output.data[0].TotalCount),Ae({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?$(Math.ceil(a)):20==t.pageSize?$(Math.ceil(a/2)):50==t.pageSize?$(Math.ceil(a/5)):100==t.pageSize&&$(Math.ceil(a/10)),se(e.Output.data),xe.loading(!1)}else se([]),$(0),q(0),Ae({type:"count",payload:0}),xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),xe.loading(!1);else xe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),xe.loading(!1)}))}function Vt(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Ae({type:"language",payload:Object.assign({},...r)}),it(a.reduce(((e,t)=>(e[t]="",e)),{})),fe(e),ve(t),Me(a),It(l),ft(a)}const zt=(e,t,a)=>{Ae({type:"IsDraft",payload:t}),Ae({type:"EditOpen",payload:!1}),Ae({type:"EditIsDraft",payload:t}),xe.ExpandDetail(!1),a?xe.AddOpen(e.ProStoreIDPK,t):Ae({type:"editData",payload:[e]})},Ht=()=>{ce?(document.getElementById("MatProStoreRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("MatProStoreRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("MatProStoreRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",me(!1),Pe?(document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ne?(document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatProStoreRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("MatProStoreRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("MatProStoreRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("MatProStoreRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",me(!0),Pe?(document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):at?Ne?(document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatProStoreRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),De(!1),window.clickFilter=!ce};return r().createElement("div",null,r().createElement(n.Z,{expanded:Je,onChange:()=>()=>{qe(Qe)}},r().createElement(d.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},r().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"35px",alignItems:"center"}},r().createElement("div",{className:"displayFlex"},Re||Pe||!We?r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP",title:"10.0.0.59-3:08:17 PM-18-7[385]"},`${kt("385")} (${J})`)):r().createElement("div",{className:"ListHeader displayFlex"},r().createElement(v.ZP,{title:"List",placement:"top"},r().createElement("div",{id:"fld385L3TCList",onClick:()=>{Qe||(Ae({type:"Add",payload:!0}),Ae({type:"Add",payload:!0})),xe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Kt({current:1,pageSize:100},ke,"ProStoreID"),$e(!1),Ae({type:"IsDraft",payload:!1})}),500)):(Kt({current:1,pageSize:100},ke,"ProStoreID"),$e(!1),Ae({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},r().createElement(A.u1R,{className:"backButtonList"}))),r().createElement("p",{className:"DraftP"},"Drafts(",J,")")))),r().createElement("div",{style:{display:"flex"}},Pe||Ne||Re?null:r().createElement("div",{className:"searchbar",id:"fld385L3TCSearchBar"},r().createElement(h.Z,{className:"search_input",type:"text",id:"MatProStoreRegistrygridsearch",placeholder:"Search",value:ye,onChange:e=>{if(ge(e),"0"==e.length)return Kt(ee,ke,We?"DraftProStoreID":"ProStoreID",We&&"DraftPage"),!1;Ot(e,{current:1,pageSize:100})}}),r().createElement("div",{className:"search_icon"},ye?r().createElement("div",{id:"fld385L3TCCloseIcon",onClick:()=>{ge(""),Zt()}},r().createElement(c.Z,{className:"InputSearchIcon"})):r().createElement("div",{id:"fld385L3TCInputSearchIcon",onClick:()=>{document.getElementById("MatProStoreRegistrygridsearch").focus()}},r().createElement(C.Z,{className:"InputSearchIcon"})))),r().createElement("div",{style:{marginLeft:"5px"}},we.AccessRights.IsAdd&&r().createElement(b.Z,{className:"SaveBtnCommon",disabled:!1,onClick:()=>{xe.ExpandDetail(!0),xe.Approval(!1)}}))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"MatProStoreRegistry-HeaderItems",className:"displayFlex padding"},r().createElement("div",{className:"tableHeaderItems displayFlex"},!We&&r().createElement("div",{frmctrlid:"fld385L3TCFilterDataIsDraft",id:"MatProStoreRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>Ht()},r().createElement(v.ZP,{title:Ft("Filter Data"),placement:"top"},r().createElement(y.Ol$,{className:"tableFilterColumnIcon"})),r().createElement("span",{className:"iconinfo"},Ft("Filter Data"))),j||Pe||Re||We?null:r().createElement(p.Z,{title:"385",formctrlidprint:"fld385L3TCExportPrint",formctrlidexport:"fld385L3TCExportTable",formctrlidrefresh:"fld385L3TCExportRefresh",data:re,exportData:Tt,Items:Ct,columnIndex:Pt,TableVisibleItem:Ee,userGridViewFormID:_,TableTotalCount:J,triggerApi:e=>{((e,t,l,r,o)=>{if(0===J)return xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;xe.loading(!0);let n=S.v.Api+"FP385S3/",i={data:{p1:e&&e.ProStoreIDPK?e.ProStoreIDPK:null,p2:e&&e.ProStoreCode?e.ProStoreCode:null,p3:e&&e.ProStoreName?e.ProStoreName:null,p4:e&&e.MatProStoreAddress1?e.MatProStoreAddress1:null,p5:e&&e.MatProStoreAddress2?e.MatProStoreAddress2:null,p6:e&&e.Pincode?e.Pincode:null,p7:e&&e.POBoxNo?e.POBoxNo:null,p8:e&&e.MinimumValue?e.MinimumValue:null,p9:e&&e.MaximumValue?e.MaximumValue:null,p10:e&&e.ProhouseAccCode?e.ProhouseAccCode:null,p11:e&&e.ProhouseAccHead?e.ProhouseAccHead:null,p12:e&&e.BuildingKey?e.BuildingKey:null,p13:e&&e.LocalityKey?e.LocalityKey:null,p14:e&&e.ContractKey?e.ContractKey:null,p15:e&&e.StateKey?e.StateKey:null,p16:null,p17:null,p18:We?"1":"0",p19:null,p20:e&&e.CityID?e.CityID:null,p21:e&&e.RegionID?e.RegionID:null,p22:e&&e.CountryID?e.CountryID:null,p23:e&&e.IsActive,p24:null,p25:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p26:e&&e.CreatedTtm?e.CreatedTtm:null,p27:e&&e.CreatedTtmType?e.CreatedTtmType:null,p28:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p29:null,p30:e&&e.RegionCode?e.RegionCode:null,p31:e&&e.RegionName?e.RegionName:null,p32:e&&e.CountryCode?e.CountryCode:null,p33:e&&e.CountryName?e.CountryName:null,p34:e&&e.CityCode?e.CityCode:null,p35:e&&e.CityName?e.CityName:null,p36:ee.current,p37:J,p38:We?"DraftProStoreID":"ProStoreID",p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};xe.loading(!1),xe.alert({open:!0,color:"success",message:[`${kt(385)} - ${o.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,m.Z)(n,i,we.token[0],o).then((e=>{(0,R.PDF_Excel_Generate)(e,xe,Ct,le,a,o)}))})(ue,ne.column,0,0,e)},Refresh:()=>{ge(""),Z.current.clearItem(),te({current:1,pageSize:100}),we.IsDraft?Kt({current:1,pageSize:100},ke,"DraftProStoreID"):Kt({current:1,pageSize:100},ke,"ProStoreID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:a}),Pe||Ne||Re||!Qe?null:!We&&we.AccessRights.IsAdd&&r().createElement("div",{id:"MatProStoreRegistrycoldiv",className:"buttoncard",onClick:()=>{Se?(document.getElementById("MatProStoreRegistryFilterDiv").style.width="0%",document.getElementById("MatProStoreRegistryTabDiv").style.width="100%",document.getElementById("MatProStoreRegistryFilterDiv").style.display="none",document.getElementById("MatProStoreRegistrycoldiv").style.width="fit-content",document.getElementById("MatProStoreRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!1)):(document.getElementById("MatProStoreRegistryFilterDiv").style.width="25%",document.getElementById("MatProStoreRegistryTabDiv").style.width="75%",document.getElementById("MatProStoreRegistryFilterDiv").style.display="block",document.getElementById("MatProStoreRegistryfildiv").style.width="fit-content",document.getElementById("MatProStoreRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("MatProStoreRegistrycoldiv").style.width="fit-content",document.getElementById("MatProStoreRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",De(!0)),me(!1)}},r().createElement(v.ZP,{title:"{t('Manage Columns')}",placement:"top"},r().createElement("span",null,r().createElement(g.gYA,{className:"tableFilterColumnIcon",frmctrlid:"fld385L3TCFilterDataIsAdd"}))),r().createElement("span",{className:"iconinfo"},Ft("Manage Columns"))),!We&&G&&!Pe&&!Re&&!j&&Qe&&r().createElement("div",{id:"fld385L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},r().createElement(v.ZP,{title:Ft("Migration"),placement:"top"},r().createElement("span",null,r().createElement(O.ncH,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ft("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!j&&Qe&&!Re&&!Pe&&!We&&r().createElement("div",null,r().createElement("div",{id:"MatProStoreRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{dt?st(!1):(st(!0),Lt({current:1,pageSize:100}))}},r().createElement("div",{id:"fld385L3TCTableScrollData"},r().createElement(v.ZP,{title:Ft("Table Scroll Data"),placement:"top"},r().createElement(z.Z,{className:"tableFilterColumnIcon"}))),r().createElement("span",{className:"iconinfo"},Ft("Table Scroll Data")))),we.AccessRights.IsAdd&&!Re&&!Pe&&!We&&r().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},r().createElement("div",{className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(Q>0){ot(0),te({current:1,pageSize:100}),Qe||(Ae({type:"Add",payload:!0}),Ae({type:"Add",payload:!0})),xe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Kt({current:1,pageSize:100},ke,"DraftProStoreID"),$e(!0),Ae({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ie(!1),be(!1)}),500)):(Kt({current:1,pageSize:100},ke,"DraftProStoreID"),$e(!0),Ae({type:"IsDraft",payload:!0}),De(!1),lt(!0),Ie(!1),be(!1)),document.getElementById("MatProStoreRegistryFilterDiv").style.width="0%",document.getElementById("MatProStoreRegistryTabDiv").style.width="100%",document.getElementById("MatProStoreRegistryFilterDiv").style.display="none"}else xe.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},r().createElement(v.ZP,{title:Ft("Drafts"),placement:"top"},r().createElement("div",null,r().createElement(B.rNm,{className:"DraftIcon"}))),r().createElement("span",{className:"iconinfoDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ft("Drafts"))))),Pe||Ne||Re||We?null:r().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Re||We?null:r().createElement("div",null,Qe&&r().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},r().createElement("div",{className:"b2",id:"button-11"},r().createElement("div",{id:"fld385L3TCListView",className:at?"buttonList":"buttonGrid",onClick:()=>{me(!0),lt(!0),vt(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(w.umT,null)),r().createElement("span",null,"List")),r().createElement("div",{id:"fld385L3TCGridView",className:at||Et?"buttonGrid":"buttonList",onClick:()=>{lt(!1),vt(!1)}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(x.aCJ,null)),r().createElement("span",null,"Card")),r().createElement("div",{className:Et?"buttonList":"buttonGrid",id:"fld385L3TCTileView",onClick:()=>{vt(!0),lt(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},r().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},r().createElement(T.f_H,null)),r().createElement("span",null,"Tile"))))))),r().createElement("div",{id:"MatProStoreRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},r().createElement("div",{id:"MatProStoreRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ce&&r().createElement(u.default,{CloseBtnClk:()=>Ht(),searchData:e=>{pe(e||xt);const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)));Bt(t)},formID:_,data:()=>{},visibleData:()=>{},token:we.token[0],userGrid:Nt,msg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),clearTableFilter:()=>{Zt()}}),Se&&!Pe&&!Ne&&r().createElement(f.Z,{frmctrlid:"fld385L3TCTableColumnOrder",loading:e=>xe.loading(e),AltMsg:(e,t)=>xe.alert({open:!0,color:t,message:[e]}),select:Se,userID:H,userGridViewFormID:_,saved:(e,t)=>{e&&Vt(t),bt(t)},Token:we.token[0]})),r().createElement("div",{id:"MatProStoreRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},at?r().createElement("div",null,Pe&&r().createElement(ListComponent,{onLoad:Pe,data:(e,t)=>{!function(e,t){Ae({type:"editData",payload:[e]}),me(!1),document.getElementById("MatProStoreRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("MatProStoreRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("MatProStoreRegistry-ShareView").classList.remove("ViewBtnAct"),Ie(!1),be(!1),Fe(!1);let a={ProStoreCode:"",ProStoreName:"",MatProStoreAddress1:"",MatProStoreAddress2:"",POBoxNo:"",Pincode:"",CityID:"",RegionID:"",CountryID:"",MinimumValue:"",MaximumValue:"",ProhouseAccCode:"",ProhouseAccHead:"",BuildingKey:"",LocalityKey:"",ContractKey:"",IsMainStore:"",StateKey:""};Le(a),Kt({current:1,pageSize:100},a,"ProStoreID")}(e)},json:Ke}),!Pe&&!Re&&r().createElement("div",null,dt?r().createElement(V.Z,{data:ct,expanded:()=>{},edit:(e,t,a)=>{zt(e,t,a),xe.ExpandTable(!1),Ae({type:"EditIsDraft",payload:t}),Ae({type:"EditOpen",payload:!1})}}):r().createElement(K.Z,{ref:Z,frmctrlid:"tblcs_385_L3_",id:"MatProStoreRegistry-MainTable",headerdata:Ee,tablesearchparams:nt,searchvalue:e=>{it(e),pe(e);let t={...Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t))),...At};wt(t),te({current:1,pageSize:10}),Kt({current:1,pageSize:10},t,We?"DraftProStoreID":"ProStoreID",We&&"DraftPage")},bodydata:de,ondrag:(e,t)=>{zt(t,We,!0)},bodyitem:he,visibleitem:Ee,isdraft:We,IsView:!0,IsEditNone:!0,tableExp:!0,tableID:_,accessrights:we.AccessRights,expanded:()=>{},edit:(e,t,a)=>{Object.keys(e).map(((l,r)=>{l.includes("IDPK")&&Kt(ee,null,t?"DraftProStoreID":"ProStoreID",t&&"DraftPage",e[l],a)}))},viewtoggle:xe.viewtoggle,isexpanded:!0,ViewComp:(e,t)=>{if(e)return r().createElement(k.ZP,{loading:e=>xe.loading(e),alertmsg:e=>xe.alert(e),ConfirmAlert:e=>{xe.ConfirmAlert(e)},data:we.editData,AddOpen:we.EditOpen,parentId:t.ProStoreIDPK,IsDraft:we.EditIsDraft,tableview:e})}}))):r().createElement(M.Z,{frmctrlid:"fld385L3TCExpandedCardDual",data:de,id:"MatProStoreRegistry",title:"Store",cardTile:!!Et,visibleitem:Ee,gridCountmdlg:Qe?4:12,gridCountxssm:Qe?6:12,expanded:()=>{},edit:zt,viewtoggle:xe.viewtoggle,onDoubleClick:(e,t)=>{j?xe.select(e):("edit"==t?(Ae({type:"editData",payload:[e]}),Ae({type:"IsDraft",payload:We}),Ae({type:"ShowDetail",payload:!1}),xe.ExpandDetail(!0)):(Ae({type:"editData",payload:[e]}),Ae({type:"IsDraft",payload:We}),Ae({type:"ShowDetail",payload:!0}),xe.ExpandDetail(!0),xe.viewtoggle()),Qe&&(me(!1),De(!1)))}})))))),Pe||Ne||Re?null:Qe?dt?r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(P.Z,{count:ut,color:"primary",page:St.current,onChange:(e,t)=>{Dt({current:t,pageSize:St.pageSize}),pt(t),Lt({current:t,pageSize:St.pageSize})}}),r().createElement("div",null,r().createElement(I.Z,{value:St.pageSize,frmctrlid:"fld385L3TCSelectPagination",onChange:e=>{Dt({current:1,pageSize:e.target.value}),Lt({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page"},"/ per page Of (",yt,")")):r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(P.Z,{count:W,siblingCount:0,color:"primary",page:ee.current,onChange:(e,t)=>{if(te({current:t,pageSize:ee.pageSize}),We)Kt({current:t,pageSize:ee.pageSize},ue,"DraftProStoreID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";ye.length>0?Ot(ye,{current:t,pageSize:ee.pageSize}):Kt({current:t,pageSize:ee.pageSize},ue,"ProStoreID")}}}),r().createElement("div",null,r().createElement(I.Z,{value:ee.pageSize,frmctrlid:"fld385L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),We?Kt({current:1,pageSize:e.target.value},Ze,"DraftProStoreID","DraftPage"):ye.length>0?Ot(ye,{current:1,pageSize:e.target.value}):Kt({current:1,pageSize:e.target.value},Ze,"ProStoreID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),Qe&&r().createElement("p",{className:"per-page "},"/ per page Of (",J,") ")):r().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},r().createElement(E.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(J),page:rt,onPageChange:(e,t)=>{ot(t),Kt({current:t+1,pageSize:ee.pageSize},ke,We?"DraftProStoreID":"ProStoreID",We&&"DraftPage"),te({current:t+1,pageSize:ee.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{ot(0)}})))})),_=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(null),s=(0,l.useRef)(null),c=(0,l.useRef)(null),[u]=((0,o.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[y,g]=L()("385"),[C,f]=(0,l.useState)(!1),[E,v]=(0,l.useState)(0),[h,M]=(0,l.useState)(0),[b,x]=(0,l.useState)({current:1,pageSize:100}),[w,A]=(0,l.useState)(""),[B,T]=(0,l.useState)([]),[F,k]=(0,l.useState)({val:"",column:""}),[Z,O]=(0,l.useState)([]),[V,z]=(0,l.useState)(!1),[H,_]=(0,l.useState)(""),[G,U]=(0,l.useState)([]),[j,Y]=(0,l.useState)([]),[W,$]=(0,l.useState)([]),J=(0,l.useContext)(D.MatProStoreRegistryContext),{cstate:q,cdispatch:Q}=(0,D.ContextApi)();let X={ProStoreIDPK:"",ProStoreCode:"",ProStoreName:"",MatProStoreAddress1:"",MatProStoreAddress2:"",Pincode:"",POBoxNo:"",MinimumValue:"",MaximumValue:"",ProhouseAccCode:"",ProhouseAccHead:"",BuildingKey:"",LocalityKey:"",ContractKey:"",StateKey:"",IsMainStore:"",IsDefault:"",IsDraft:"",Remarks:"",CityID:"",RegionID:"",CountryID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",RegionCode:"",RegionName:"",CountryCode:"",CountryName:"",CityCode:"",CityName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ee,te]=(0,l.useState)(!1),[ae,le]=(0,l.useState)(!0),[re,oe]=(0,l.useState)(!1),[ne,ie]=(0,l.useState)(!0),[de,se]=(0,l.useState)(0),[ce,me]=(0,l.useState)({ProStoreCode:"",ProStoreName:"",MatProStoreAddress1:"",MatProStoreAddress2:"",POBoxNo:"",Pincode:"",CityName:"",RegionName:"",CountryName:"",MinimumValue:"",MaximumValue:"",ProhouseAccCode:"",ProhouseAccHead:"",BuildingKey:"",LocalityKey:"",ContractKey:"",IsMainStore:"",StateKey:""}),[ue,pe]=(0,l.useState)([]),[ye,ge]=(0,l.useState)([]),[Se,De]=(0,l.useState)([]),[Pe,Ie]=(0,l.useState)(!1),[Ce,fe]=(0,l.useState)("");let Ee=(0,N.Z)();const ve=[{columns:ue,data:w}];(0,l.useEffect)((()=>{!function(e){let t=[],a=[],l=[],r=[];e.map((e=>{"1"==e.IsVisible&&(t.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(a.push(e.FieldDisplay),l.push(e.FieldDescription)));let o=localStorage.getItem("Language");r.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[o]]})})),Q({type:"language",payload:Object.assign({},...r)}),me(a.reduce(((e,t)=>(e[t]="",e)),{})),U(e),Y(t),$(a),pe(l),ge(a)}(y)}),[y]),(0,l.useImperativeHandle)(t,(()=>({tableRefresh:()=>{he()},viewrecord:e=>{Z.map(((t,a)=>{t.ProStoreIDPK==e&&Q({type:"editData",payload:[Z[a]]})}))},DialogTableProps:e=>{f(e)},searchData:(t,a,l)=>{J.loading(!0),s.current&&s.current.clearItem(),fe(l),x({current:1,pageSize:10}),X=e.ApiParamType.params,Me({current:1,pageSize:100},a,l),c.current&&c.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&ie(e.cardview),e.Dialogview&&f(e.Dialogview)}),[e.cardview,e.Dialogview]);const he=()=>{q.IsDraft?Me(b,X,"DraftProStoreID"):Me(b,X,"ProStoreID")},Me=async(t,a,l,r)=>{if(q.token[0]){if(J.loading(!0),"DraftPage"!==r&&te(q.IsDraft),await fe((e=>(l=e,e))),a&&Object.keys(a).length>0){let e=Object.keys(a),t={},l=[],r=Object.values(a);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)t[l[e]]=r[e];a=t}_(a);let o=S.v.Api+`${e.ApiType}/`,n={data:{p1:a&&a.ProStoreIDPK?a.ProStoreIDPK:null,p2:a&&a.ProStoreCode?a.ProStoreCode:null,p3:a&&a.ProStoreName?a.ProStoreName:null,p4:a&&a.MatProStoreAddress1?a.MatProStoreAddress1:null,p5:a&&a.MatProStoreAddress2?a.MatProStoreAddress2:null,p6:a&&a.Pincode?a.Pincode:null,p7:a&&a.POBoxNo?a.POBoxNo:null,p8:a&&a.MinimumValue?a.MinimumValue:null,p9:a&&a.MaximumValue?a.MaximumValue:null,p10:a&&a.ProhouseAccCode?a.ProhouseAccCode:null,p11:a&&a.ProhouseAccHead?a.ProhouseAccHead:null,p12:a&&a.BuildingKey?a.BuildingKey:null,p13:a&&a.LocalityKey?a.LocalityKey:null,p14:a&&a.ContractKey?a.ContractKey:null,p15:a&&a.StateKey?a.StateKey:null,p16:null,p17:null,p18:"DraftProStoreID"==l?"1":"0",p19:null,p20:a&&a.CityID?a.CityID:null,p21:a&&a.RegionID?a.RegionID:null,p22:a&&a.CountryID?a.CountryID:null,p23:a&&a.IsActive,p24:null,p25:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p26:a&&a.CreatedTtm?a.CreatedTtm:null,p27:a&&a.CreatedTtmType?a.CreatedTtmType:null,p28:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p29:null,p30:a&&a.RegionCode?a.RegionCode:null,p31:a&&a.RegionName?a.RegionName:null,p32:a&&a.CountryCode?a.CountryCode:null,p33:a&&a.CountryName?a.CountryName:null,p34:a&&a.CityCode?a.CityCode:null,p35:a&&a.CityName?a.CityName:null,p36:t.current,p37:t.pageSize,p38:l,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};(0,m.Z)(o,n,q.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,M(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?v(Math.ceil(a)):20==t.pageSize?v(Math.ceil(a/2)):50==t.pageSize?v(Math.ceil(a/5)):100==t.pageSize&&v(Math.ceil(a/10)),O(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(a="There is no Record Found",Ee?.[a]?Ee[a]:a)]}),O([]),v(0),M(0),Q({type:"count",payload:0});var a}))}};return(0,l.useEffect)((()=>{oe(q.ExpandTableValue)}),[q.ExpandTableValue]),r().createElement("div",null,r().createElement(n.Z,{expanded:ae,onChange:()=>()=>{le(re)}},r().createElement(d.Z,null,r().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},r().createElement("div",{style:{width:"60%"}},r().createElement("div",{className:"displayFlex"},r().createElement("div",{className:"ListHeader displayFlex"},r().createElement("p",{className:"ListP"}," ",e.CardName," (",h,")")))))),r().createElement(i.Z,{className:"AccDetails"},r().createElement("div",{className:"tableCard"},r().createElement("div",{id:"MatProStoreRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:r().createElement("div",{className:"tableHeaderItems displayFlex"},r().createElement(p.Z,{formctrlidprint:"fld385L3TCExportPrint",formctrlidexport:"fld385L3TCExportTable",formctrlidrefresh:"fld385L3TCExportRefresh",title:"385",data:B,exportData:ve,Items:ye,columnIndex:ue,triggerApi:t=>{((t,l,r)=>{if(0===h)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let o=S.v.Api+`${e.ApiType}/`,n={data:{p1:t||(t&&t.ProStoreIDPK?t.ProStoreIDPK:null),p2:t&&t.ProStoreCode?t.ProStoreCode:null,p3:t&&t.ProStoreName?t.ProStoreName:null,p4:t&&t.MatProStoreAddress1?t.MatProStoreAddress1:null,p5:t&&t.MatProStoreAddress2?t.MatProStoreAddress2:null,p6:t&&t.Pincode?t.Pincode:null,p7:t&&t.POBoxNo?t.POBoxNo:null,p8:t&&t.MinimumValue?t.MinimumValue:null,p9:t&&t.MaximumValue?t.MaximumValue:null,p10:t&&t.ProhouseAccCode?t.ProhouseAccCode:null,p11:t&&t.ProhouseAccHead?t.ProhouseAccHead:null,p12:t&&t.BuildingKey?t.BuildingKey:null,p13:t&&t.LocalityKey?t.LocalityKey:null,p14:t&&t.ContractKey?t.ContractKey:null,p15:t&&t.StateKey?t.StateKey:null,p16:null,p17:null,p18:ee?"1":"0",p19:null,p20:t&&t.CityID?t.CityID:null,p21:t&&t.RegionID?t.RegionID:null,p22:t&&t.CountryID?t.CountryID:null,p23:t&&t.IsActive,p24:null,p25:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p26:t&&t.CreatedTtm?t.CreatedTtm:null,p27:t&&t.CreatedTtmType?t.CreatedTtmType:null,p28:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p29:null,p30:t&&t.RegionCode?t.RegionCode:null,p31:t&&t.RegionName?t.RegionName:null,p32:t&&t.CountryCode?t.CountryCode:null,p33:t&&t.CountryName?t.CountryName:null,p34:t&&t.CityCode?t.CityCode:null,p35:t&&t.CityName?t.CityName:null,p36:1,p37:h,p38:Ce,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};var i;J.loading(!1),J.alert({open:!0,color:"success",message:[`${i="385",q.language?.[i]?q.language[i]:i} - ${r.alertName}, Once you have downloaded the file, you will be notified`]}),(0,m.Z)(o,n,q.token[0],r).then((e=>{(0,R.PDF_Excel_Generate)(e,J,ye,A,a,r)}))})(H,F.column,t)},TableVisibleItem:j,userGridViewFormID:"385",TableTotalCount:h,Refresh:()=>{Me({current:1,pageSize:100},H,Ce),x({current:1,pageSize:100}),c.current&&c.current.clearItem(),s.current&&s.current.clearItem()},disabledPrint:!q.AccessRights.IsPrint,disabledExport:!q.AccessRights.IsExport,ref:a})),r().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},r().createElement(P.Z,{count:E,siblingCount:0,color:"primary",page:b.current,onChange:(e,t)=>{if(x({current:t,pageSize:b.pageSize}),ee)Me({current:t,pageSize:b.pageSize},H,"DraftProStoreID","DraftPage");else{var a=document.querySelectorAll(".CardViewMain");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";Me({current:t,pageSize:b.pageSize},H,"ProStoreID")}}}),r().createElement("div",null,r().createElement(I.Z,{value:b.pageSize,onChange:e=>{x({current:1,pageSize:e.target.value}),Me({current:1,pageSize:e.target.value},H,"ProStoreID")},className:"BootstrapInputStyle2"},r().createElement("option",{value:10},"10"),r().createElement("option",{value:20},"20"),r().createElement("option",{value:50},"50"),r().createElement("option",{value:100},"100"))),re&&r().createElement("p",{className:"per-page"},"/ per page Of (",h,")"))),r().createElement("div",{id:"MatProStoreRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},r().createElement("div",{id:"MatProStoreRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?r().createElement(MUITableMulti,{ref:c,type:e.viewtype,id:"MatProStoreRegistry",headerdata:j,tablesearchparams:ce,searchvalue:e=>{me(e),x({current:1,pageSize:100}),Me({current:1,pageSize:100},e,ee?"DraftProStoreID":"ProStoreID",ee&&"DraftPage")},bodydata:Z,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:W,visibleitem:j,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{C?J.select(t):(e.editdata(t,"view"),"viewonly"==e.viewtype?J.edit(t,a,l):J.edit(t,a,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{O(e)},color:!0,isexpanded:!1}):r().createElement(K.Z,{frmctrlid:"tblcs_385_L3_",ref:s,id:"MatProStoreRegistryTable",type:e.viewtype,headerdata:j,tablesearchparams:ce,searchvalue:e=>{let t={...H,...e};me(e),_(t),x({current:1,pageSize:100}),Me(b,t,Ce)},bodydata:Z,ondrag:(e,t)=>{Q({type:"editData",payload:[t]}),Q({type:"IsDraft",payload:ee}),Q({type:"ShowDetail",payload:!0})},bodyitem:W,visibleitem:j,isdraft:ee,accessrights:q.AccessRights,expanded:()=>{},edit:(t,a,l)=>{C?J.select(t):(e.editdata(t,"view"),J.edit(t,a,1!=t.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},67005:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F}),a(95866),a(99058);var l=a(92950),r=a.n(l),o=a(80366),n=a(51673),i=a(282),d=a(868),s=a(78513),c=a(14439),m=a(27848),u=a(40900),p=a(64059),y=a(24038),g=a(8981),S=a(47516),D=a(86893),P=a(80064),I=a(33681),C=a(63163),f=(a(35131),a(61956),a(93657)),E=a(53375),v=a(52663),h=a(66083),M=a(29525),N=a(66856),b=a(39803),x=a(99940),w=a(17149),A=a(62810),B=a(30553),T=a(92381),R=a(25108);const F=(0,l.forwardRef)(((e,t)=>{const[a]=(0,l.useState)(localStorage.getItem("userid")),[F,k]=(0,l.useState)([]),[Z,L]=(0,l.useState)({idpk:"",name:"",type:"",fieldidpk:""}),[K,O]=(0,l.useState)(""),[V,z]=(0,l.useState)({}),[H,_]=(0,l.useState)(!0),[G,U]=(0,l.useState)(!1),{cstate:j,cdispatch:Y}=e.ContextApi?e.ContextApi:(0,P.ContextApi)(),[W,$]=(0,l.useState)(1),[J,q]=(0,l.useState)(0),[Q,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)({}),[ae,le]=(0,l.useState)([]),[re,oe]=(0,l.useState)(!0),[ne,ie]=(0,l.useState)(!1),[de,se]=(0,l.useState)(""),[ce,me]=(0,l.useState)(!1),[ue,pe]=(0,l.useState)(!1),[ye,ge]=(0,l.useState)(!1),[Se,De]=(0,l.useState)(""),Pe=(0,l.useRef)(null),[Ie,Ce]=(0,l.useState)({});let fe=localStorage.getItem("Language");const Ee={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let ve=(0,g.Z)();const he=e=>ve[e]?ve[e]:e,Me=t=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==t))?.[Ee[fe]];function Ne(){z({}),te({}),e.searchData({}),U(!1)}(0,l.useEffect)((()=>{let t=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));const a=e.userGrid.reduce(((e,t)=>{const a=t.FieldName;return t.IsForeign&&(e[a]||(e[a]=[]),e[a].push(t.FieldDisplay)),e}),{});Ce(a),le(t)}),[]),(0,l.useEffect)((()=>()=>{Pe.current&&Pe.current.abort()}),[]),(0,l.useImperativeHandle)(t,(()=>({clear:()=>{Ne()}})));const be=async(t,a,l,r)=>{X(!0);try{Pe.current&&Pe.current.abort();const o=new AbortController;Pe.current=o;let i="",d=[],s={};await L((e=>(i=e.name,e))),await z((e=>(d=e,e))),await te((e=>(s=e,e)));const c=u.v.Api+"FP385S3/",m={data:{p1:"ProStoreIDPK"==a?null:await Te(),p2:"ProStoreCode"==i&&l.length>0?"%"+l+"%":null,p3:"ProStoreName"==i&&l.length>0?"%"+l+"%":null,p4:"MatProStoreAddress1"==i&&l.length>0?"%"+l+"%":null,p5:"MatProStoreAddress2"==i&&l.length>0?"%"+l+"%":null,p6:"Pincode"==i&&l.length>0?"%"+l+"%":null,p7:"POBoxNo"==i&&l.length>0?"%"+l+"%":null,p8:"MinimumValue"==i&&l.length>0?"%"+l+"%":null,p9:"MaximumValue"==i&&l.length>0?"%"+l+"%":null,p10:"ProhouseAccCode"==i&&l.length>0?"%"+l+"%":null,p11:"ProhouseAccHead"==i&&l.length>0?"%"+l+"%":null,p12:"BuildingKey"==i&&l.length>0?"%"+l+"%":null,p13:"LocalityKey"==i&&l.length>0?"%"+l+"%":null,p14:"ContractKey"==i&&l.length>0?"%"+l+"%":null,p15:"StateKey"==i&&l.length>0?"%"+l+"%":null,p16:"IsMainStore"==i&&l.length>0?"%"+l+"%":null,p17:null,p18:null,p19:null,p20:"CityName"!=i&&d.CityName?d.CityName.map((e=>e.CityIDPK)).toString():null,p21:"RegionName"!=i&&d.RegionName?d.RegionName.map((e=>e.RegionIDPK)).toString():null,p22:"CountryName"!=i&&d.CountryName?d.CountryName.map((e=>e.CountryIDPK)).toString():null,p23:e.Dialogview?"1":null,p24:null,p25:"p25"==i&&l.length>0?l:null,p26:null,p27:null,p28:null,p29:null,p30:"RegionCode"==i&&l.length>0?"%"+l+"%":null,p31:"RegionName"==i&&l.length>0?"%"+l+"%":null,p32:"CountryCode"==i&&l.length>0?"%"+l+"%":null,p33:"CountryName"==i&&l.length>0?"%"+l+"%":null,p34:"CityCode"==i&&l.length>0?"%"+l+"%":null,p35:"CityName"==i&&l.length>0?"%"+l+"%":null,p36:r||1,p37:10,p38:t,p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}},p=await(0,n.Z)(c,m,e.token,"",o.signal);if(!p)return!1;const y=p.Output.status.code,g=p.Output.data;if("200"===y)if(g.length>0)if(1===r){let e=we(g,i),t=xe(e,V[i],a);k(t),q(t.length>0?t[0].TotalCount:V[i].length)}else{let e=[...F,...g],t=we(e,i);q(t.length<10?t.length:g[0].TotalCount),k(we(t,i))}else K.length>0&&k([]),q(F.length);else e.alertmsg("error",[p.Output.status.message])}catch(t){e.alertmsg("warning",[t])}finally{X(!1)}},xe=(e=[],t=[],a)=>e.filter((e=>!t.find((t=>e[a]===t[a])))),we=(e,t)=>e.filter(((e,a,l)=>l.findIndex((a=>a[t]===e[t]))===a));function Ae(e){let t=e+"PK",a=Ie[e];if(a){const e=a.flatMap((e=>V[e]?V[e].map((e=>e[t])):[]));return e.toString()}return""}const Be=async t=>{let a="",l={};await z((e=>(a=e,e)));let r=[...ae],o=[];for(let e of r){let t=a[e]?.map((e=>e.ProStoreIDPK)).toString();t&&o.push(t)}await te((e=>(l=e,e)));let n={ProStoreIDPK:o?[...new Set(o)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",CityID:Ae("CityID"),RegionID:Ae("RegionID"),CountryID:Ae("CountryID")};"saveFav"==t?ke("save",n):(e.searchData(n),U(!1))};async function Te(){let e={};await z((t=>(e=t,t)));let t=[...ae],a=[];for(let l of t){let t=e[l]?.map((e=>e.ProStoreIDPK)).toString();t&&a.push(t)}return a?[...new Set(a)].toString():""}async function Re(t,a,l,r,o,n){let i={[r]:{From:t,Type:l,To:a}},d={};te((e=>({...e,...i})));const s={...V};let c=[...ae],m=[];for(let e of c){let t=s[e]?.map((e=>e.ProStoreIDPK)).toString();t&&m.push(t)}await te((e=>(d=e,e)));let u={ProStoreIDPK:m?[...new Set(m)].toString():"",CreatedTtm:d.CreatedTtm?d.CreatedTtm.From:"",CreatedTtmType:d.CreatedTtm?d.CreatedTtm.Type:"",CreatedTtmBetween:d.CreatedTtm?d.CreatedTtm.To:"",IsActive:"IsActive"==l?o:null,CityID:V.CityName?.map((e=>e.CityIDPK)).toString(),RegionID:V.RegionName?.map((e=>e.RegionIDPK)).toString(),CountryID:V.CountryName?.map((e=>e.CountryIDPK)).toString()};e.searchData(u)}function Fe(){return r().createElement(p.Z,{frmctrlid:"fld385L3TCDateCompCreatedTtm",SendDateVal:(e,t,a,l,r)=>{Re(e,t,a,Z.name,l)},keyboardback:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:""})},title:he(Z.name),fieldname:Z.name,save:e=>{alert(!0)}})}const ke=(t,a)=>{(0,T.Z)(t,e.formID,a,de).then((e=>{const t=e.Output.data;De(t)}))};return r().createElement("div",null,r().createElement(v.Z,{onClose:()=>me(!1),className:"displayFlex","aria-labelledby":"customized-dialog-title",open:ce},r().createElement(h.Z,{id:"customized-dialog-title",onClose:()=>me(!1)},"Add Favorite"),r().createElement(M.Z,{dividers:!0,style:{minWidth:"500px"}},r().createElement("form",{autoComplete:"off",onSubmit:e=>{e.preventDefault()}},r().createElement(b.Z,{margin:"dense",id:"name",label:"Favorite Name",type:"text",value:de,onChange:e=>se(e.target.value),fullWidth:!0})),r().createElement(B.Z,{style:{color:"#337ab7"},control:r().createElement(x.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(A.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ue,onChange:e=>pe(e.target.checked)}),label:"Quick"}),r().createElement(B.Z,{style:{color:"#337ab7"},control:r().createElement(x.Checkbox,{style:{color:"#rgb(52, 179, 68)",padding:"6px"},icon:r().createElement(w.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checkedIcon:r().createElement(A.Z,{fontSize:"small",style:{color:"rgb(52, 179, 68)"}}),checked:ye,onChange:e=>ge(e.target.checked)}),label:"Dashboard"})),r().createElement(N.Z,null,r().createElement(i.Z,{onClick:()=>{Be("saveFav"),me(!1)},color:"primary"},"Save"))),G?"Created Ttm"===Z.name||Z.name.includes("Date")?r().createElement(Fe,null):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},r().createElement(c.Z,null,r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement("p",{className:"columnHeaderp"},Me(Z.idpk)," (",F.length,"/",J,")")),r().createElement(m.Z,{xs:6,sm:6,md:6,lg:6},r().createElement(d.ZP,{title:he("Close"),placement:"top"},r().createElement("div",{className:"FilterItemClose",align:"right"},r().createElement(o.Z,{id:"fld385L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{U(!1),L({idpk:"",name:"",type:"",fieldidpk:!1}),$(1)}}))),V[Z.name]&&r().createElement("div",{className:"FiltercloseAlign",align:"right"},r().createElement(i.Z,{frmctrlid:"fld385L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await z((t=>(e=t,R.log("clear fewItems",e),t))),e[Z.name]=[],be(Z.type,Z.fieldidpk,"",1)})()}},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear All")))))))),r().createElement("div",{className:"FilterParentDiv"},r().createElement("div",{"data-list-scroll-container":"true"},r().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},r().createElement("div",{className:"FilterMaximize"},H?r().createElement(d.ZP,{title:"Maximize",placement:"right"},r().createElement("span",null,r().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{_(!1)}}))):r().createElement(d.ZP,{title:"Minimize",placement:"right"},r().createElement("span",null,r().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{_(!0)}})))),r().createElement("ul",null,V[Z.name]&&V[Z.name].map(((e,t)=>r().createElement("div",{key:t,tabIndex:"-1",className:H?"filterSelectedItems":"filterSelectedItemsMaximize"},r().createElement("div",{className:"filterSelectedItemNames"},r().createElement("span",null,e[Z.name])),r().createElement("div",{className:"filterSelectedItemClose"},r().createElement("div",{id:"fildacls_3_L2_"+e[Z.name],onClick:()=>(async(e,t)=>{$(1);let a=V[Z.name].filter((t=>t!=e)),l={};await z((e=>(l=e,e))),l[Z.name]=a,z(l),k((t=>[e,...t]))})(e)},r().createElement(o.Z,{className:"filterSelectedItemCloseIcon"})))))))),r().createElement("div",{className:"displayFlex width100 FilterSearch"},r().createElement("div",{className:"FilterSearchInputDiv"},r().createElement(y.Z,{frmctrlid:"fld385L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:K,placeholder:he("Enter ")+" "+Me(Z.idpk),onChange:e=>{O(e),be(Z.type,Z.fieldidpk,e,1,Te())}})),r().createElement("div",{id:"fld385L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:Be},r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnSearchButton"},r().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),Q&&r().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},r().createElement(I.Z,{color:"secondary"})),r().createElement("div",{id:"fld385L3TFCScrollYDefault",className:"height65 scrollYDefault"},F.length>0&&F.map(((e,t)=>r().createElement("div",{id:"filda_3_L2_"+e[Z.name],key:t,className:"FilterItemDiv",onClick:()=>{(async e=>{let t={},a=[];a.push(e);let l={};await z((e=>(l=e,e)));let r=l[Z.name];t[Z.name]=r?[...a,...r]:a,l={...l,...t},z(l),k((t=>t.filter((t=>t!=e))))})(e)}},r().createElement(s.Z,{className:"DotIcon"}),r().createElement("span",null,e[Z.name])))),F.length+0<J&&F.length>0&&r().createElement("div",{id:"fld385L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{$(W+1),be(Z.type,Z.fieldidpk,"",W+1)}},r().createElement("p",null," more... ")),0===F.length&&r().createElement("div",null,r().createElement("div",{className:"NoDataImage"},r().createElement("img",{src:u.v.NoData,alt:"NoImage"})),r().createElement("div",{className:"NoDataDesc"},r().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):r().createElement("div",null,r().createElement("div",{className:"columnHeader displayFlex"},r().createElement("div",{className:"columnHeaderTitle"},r().createElement(S.Ol$,{className:"columnHeaderIcon"}),r().createElement("p",{className:"columnHeaderp"}," ",he("Filter")," ",de.length>0&&`(${de})`)),r().createElement("div",{className:"columnHeaderbtn",align:"right"},r().createElement(d.ZP,{title:"Favorite List",placement:"top"},ne?r().createElement(o.Z,{className:"favlisticon",onClick:()=>{ie(!1),De(""),Ne()}}):r().createElement(f.Z,{className:"favlisticon",onClick:()=>{ie(!0),ke("select"),Ne()}})),Object.keys(V).length>0&&r().createElement(d.ZP,{title:"Save Favorites",placement:"top"},r().createElement(E.Z,{className:"favlisticon",onClick:()=>{me(!0)}})),r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnApplyButton",onClick:()=>{Ne()},id:"fld385L3TFCColumApplyBttn"},r().createElement("span",{className:"ColumnApplyTitle"},he("Clear")))),r().createElement(d.ZP,{title:"",placement:"top"},r().createElement(i.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld385L3TFCColumnCloseButton"},r().createElement("span",{className:"ColumnCloseTitle"},he("Close")))))),r().createElement("div",{className:"height65"},r().createElement("div",{id:"fld385L3TFCFilItems",className:"FilterItems"},!Se&&e.userGrid.sort(((e,t)=>e.Remarks-t.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,t)=>{return r().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{U(!0),O(""),k([]),q(0);let t=e.IsForeign?e.FieldName+"PK":"ProStoreIDPK";L({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterProStoreID",fieldidpk:t}),be(e.IsForeign?"Filter"+e.FieldName:"FilterProStoreID",t,"",1,Te())})(e)}},e.FieldName.includes("Date")?r().createElement(r().Fragment,null,Me(e.AdminUserGridViewIDPK)," ",ee[e.FieldName]&&r().createElement("p",{className:"filterdatevalue"},"(",ee[e.FieldName]?.From+" to "+ee[e.FieldName]?.To,")")):"IsActive"==e.FieldName?r().createElement(r().Fragment,null,r().createElement("span",null,Me(e.AdminUserGridViewIDPK)),r().createElement(C.Z,{checked:"1"==re,onChange:t=>{oe(t.target.checked),Re("","",e.FieldName,"",t.target.checked)}})):r().createElement(r().Fragment,null,r().createElement("span",null,Me(e.AdminUserGridViewIDPK)),(a=e.FieldDisplay,V[a]?.length>0&&r().createElement("div",{className:"FilterItemDivSelected"},r().createElement("span",{className:"RoundedDivName"},V[a][0][a]),V[a].length>1&&r().createElement("span",{className:"RoundedDivName"},V[a][1][a]),V[a].length>2&&r().createElement("span",{className:"RoundedDivNumber"},"+"+(V[a].length-2))))));var a})),Se&&Se.map((e=>{let t=e.TFFSearchParams,a=JSON.parse(t);return r().createElement("div",{className:"FilterItemDivTitle",onClick:()=>{be("FilterProStoreID",a),Be("")}},r().createElement(r().Fragment,null,e.TableFilterFavName))}))))))}))},97361:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(92950),r=a.n(l),o=a(45237),n=(a(37148),a(3212)),i=a(29800),d=a(14439),s=a(27848),c=(a(10966),a(36939)),m=a(61201),u=a(50743),p=a(80064),y=(a(21392),a(51673)),g=a(40900),S=a(26537),D=(a(24038),a(53731)),P=(a(77366),a(97829),a(8981)),I=(a(63163),a(1695)),C=(a(79117),a(99216)),f=(a(35131),a(61956),a(51649)),E=a(61924),v=a.n(E);const h=(0,l.forwardRef)(((e,t)=>{const a=(0,l.useRef)(),[E,h]=((0,o.useSelector)((e=>e.form)),(0,l.useState)([])),[M,N]=(0,l.useState)(!0),[b,x]=(0,l.useState)(e.showDetail),[w,A]=(0,l.useState)(""),[B,T]=r().useState(!1),[R,F]=r().useState(""),[k,Z]=r().useState(!1),L=(0,l.useContext)(p.MatProStoreRegistryContext),{cstate:K,cdispatch:O}=(0,p.ContextApi)(),[V,z]=(0,l.useState)(!1),[H,_]=(0,l.useState)(""),[G,U]=(0,l.useState)(""),[j,Y]=(0,l.useState)("");let W=(0,P.Z)();(0,l.useEffect)((()=>{K.editData.length>0&&(h(K.editData),T(!1),O({type:"PrimaryId",payload:K.editData[0].ProStoreIDPK}))}),[K.editData]),(0,l.useEffect)((()=>{K.showTableview&&Y(K.showTableview)}),[K.showTableview]),(0,l.useEffect)((()=>{N(K.ExpandDetailValue)}),[K.ExpandDetailValue]),(0,l.useImperativeHandle)(t,(()=>({tableClick:e=>{N(e),T(null)},viewtoggle:()=>{T(!1)},viewlistProps:(t,a)=>{!function(t,a){let l=g.v.Api+"FP385S3/",r={data:{p1:t,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:e.Dialogview?"1":null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:1,p37:10,p38:a?"DraftProStoreID":"ProStoreID",p39:null,p40:null,p41:localStorage.getItem("UserGroupID"),p42:localStorage.getItem("userid")}};(0,S.Z)(0).then((e=>{(0,y.Z)(l,r,e).then((e=>{L.loading(!1),"200"==e.Output.status.code&&h(e.Output.data)}))}))}(t,a)},clear:()=>{"panel0"===B&&a.current.clear()}})));const $=e=>W?.[e]?W?.[e]:e,J=e=>K.language?.[e]?K.language[e]:e;function q(e,t){}const Q=e=>(0,D.trimFunc)(E[0].ProStoreCode)?(0,D.trimFunc)(E[0].ProStoreName)?void L.ConfirmAlert(r().createElement(v(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:$("Are you sure?"),onConfirm:()=>(()=>{L.loading(!0),L.ConfirmAlert(null),O({type:"IsDraft",payload:!1});let e={url:g.v.Api+"FP385S2/",PrimID:E[0].ProStoreIDPK,ParamType:"",state:E[0],active:1,token:K.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;let a=e[0].Data,l=new Array,r=new Array;"200"===t.code&&(a.map((e=>{e&&(l.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),l.some((e=>"1"==e))?(L.alert({open:!0,color:"warning",message:r}),L.loading(!1)):(()=>{L.loading(!0);let e={url:g.v.Api+"FP385S1/",PrimID:E[0].ProStoreIDPK,ParamType:"",state:E[0],active:1,token:K.token[0],DefaultPrimaryId:""};(0,D.saveComponent)(e).then((e=>{const t=e[0].status;200==t.code&&(L.alert({open:!0,color:"success",message:[t.message]}),L.loading(!1),L.ShowTableDiv(),L.RefreshTable(),L.Approval(!0))}))})())}))})(),onCancel:()=>L.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:$("Yes"),cancelBtnText:$("Cancel"),showCancel:!0},K.PrimaryId?$("Do you want to Update?"):$("Do you want to Save?"))):(L.alert({open:!0,color:"warning",message:[$("Please enter the")+""+J("ProStoreName")]}),!1):(L.alert({open:!0,color:"warning",message:[$("Please enter the")+""+J("ProStoreCode")]}),!1);return r().createElement("div",{className:"SubContent_1"},r().createElement(c.Z,{expanded:M,onChange:()=>()=>{e.expandTable&&N(!M)}},!B&&r().createElement(u.Z,null,r().createElement(d.Z,{container:!0},r().createElement(s.Z,{item:!0,sm:12,md:12,lg:12,xs:12},r().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},r().createElement("div",{className:"displayFlex EntryViewHeader"},r().createElement("span",{style:{cursor:"pointer"}},r().createElement(f.u1R,{className:"backButtonList",onClick:()=>{L.ShowTableDiv(),L.RefreshTable()}})),r().createElement("p",{className:"DListP"},K.IsDraft?"Draft ":"",J("385"))))))),r().createElement(m.Z,{style:{display:"block"}},E.map(((e,t)=>r().createElement("div",{key:t},r().createElement(C.Z,{tableName:"MatProStoreRegistry",tableID:385,parentID:e.ProStoreIDPK,fldid:"fld385L3VCContainer",OpenSlideComponent:q,index:t,val:e,tf:J,t:$,title:"10.0.0.59-3:08:17 PM-18-7[385]"}))))),r().createElement("div",{className:"displayFlex EntryHeaderBtn"},e.viewonly&&K.AccessRights.IsAdd&&r().createElement(n.Z,{className:"L1AddBtnCommon",onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:[]}),O({type:"PrimaryId",payload:K.editData[0].ProStoreIDPK})},disabled:!1}),K.IsDraft&&r().createElement(i.Z,{onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:E}),O({type:"PrimaryId",payload:K.editData[0].ProStoreIDPK})},disabled:!1}),r().createElement(I.Z,{name:K.PrimaryId?"Update":"Save",disabled:!1,frmctrlid:"fld385L3ECSaveBtnApprovalStatus",onClick:()=>{Q()}}))))}))}}]);