/*! For license information please see 1576.d55972d1c8c485705b90.js.LICENSE.txt */
"use strict";(self.webpackChunk_shared_routing_viewsl3l4=self.webpackChunk_shared_routing_viewsl3l4||[]).push([[1576,7805],{77342:(e,a,t)=>{var l=t(95318),n=t(20862);a.Z=void 0;var r=n(t(92950)),i=(0,l(t(2108)).default)(r.createElement(r.Fragment,null,r.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),r.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime");a.Z=i},8843:(e,a,t)=>{var l=t(95318),n=t(20862);a.Z=void 0;var r=n(t(92950)),i=(0,l(t(2108)).default)(r.createElement("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"}),"DescriptionOutlined");a.Z=i},92448:(e,a,t)=>{var l=t(95318),n=t(20862);a.Z=void 0;var r=n(t(92950)),i=(0,l(t(2108)).default)(r.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");a.Z=i},41722:(e,a,t)=>{t.d(a,{D:()=>n,E:()=>l});const l={count:0,ExpandDetailValue:"",IsDraft:!1,loading:!1,AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,editData:[],clearFunc:"",ShowDetail:!1,Add:!1,viewonly:!1,showDetail:!1,ExpandTableValue:!0,id:"",PrimaryId:"",token:[],EditOpen:!1,EditIsDraft:!0,formLabel:"",showData:[],showTableview:[],language:{}};function n(e,a){switch(a.type){case"count":return{...e,count:a.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:a.payload};case"EditIsDraft":return{...e,EditIsDraft:a.payload};case"IsDraft":return{...e,IsDraft:a.payload};case"EditOpen":return{...e,EditOpen:a.payload};case"loading":return{...e,loading:a.payload};case"AccessRights":return{...e,AccessRights:a.payload};case"createEasy":return{...e,createEasy:a.payload};case"ConfirmAlert":return{...e,ConfirmAlert:a.payload};case"editData":return{...e,editData:a.payload};case"ShowDetail":return{...e,ShowDetail:a.payload};case"Add":return{...e,Add:a.payload};case"viewonly":return{...e,viewonly:a.payload};case"showDetail":return{...e,showDetail:a.payload};case"ExpandTableValue":return{...e,ExpandTableValue:a.payload};case"id":return{...e,id:a.payload};case"PrimaryId":return{...e,PrimaryId:a.payload};case"token":return{...e,token:a.payload};case"formLabel":return{...e,formLabel:a.payload};case"showData":return{...e,showData:a.payload};case"showTableview":return{...e,showTableview:a.payload};case"language":return{...e,language:a.payload};default:throw new Error(`Unhandled action type: ${a.type}`)}}},73668:(e,a,t)=>{t.d(a,{E:()=>n,I:()=>r});var l=t(25108);const n={IsDraft:!1,ShowDetail:!1,ExpandTableValue:!1,AssSpotRegistrySpotID:"",Add:!1,editData:[],screenType:[],PrimaryData:[],ShowView:!1,Showtable:!0,count:0,ExpandDetailValue:!0,expandDetail:"mainpanel",IsCollapse:!0,IsExPView:"",AccessRights:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!1,IsPrint:!1,IsExport:!1},createEasy:!1,ConfirmAlert:null,viewonly:!1,EditOpen:!1,EditIsDraft:!0,PrimaryId:"",token:[],MRApprStatKey:"",showTableview:[],language:{}};function r(e,a){switch(a.type){case"IsDraft":return{...e,IsDraft:a.payload};case"ShowDetail":return{...e,ShowDetail:a.payload};case"ShowView":return{...e,ShowView:a.payload};case"Showtable":return{...e,Showtable:a.payload};case"PrimaryData":return l.timeLog(a.payload,"actttt"),{...e,PrimaryData:a.payload};case"ExpandTableValue":return{...e,ExpandTableValue:a.payload};case"AssSpotRegistrySpotID":return{...e,AssSpotRegistrySpotID:a.payload};case"Add":return{...e,Add:a.payload};case"editData":return{...e,editData:a.payload};case"screenType":return{...e,screenType:a.payload};case"count":return{...e,count:a.payload};case"ExpandDetailValue":return{...e,ExpandDetailValue:a.payload};case"expandDetail":return{...e,expandDetail:a.payload};case"IsCollapse":return{...e,IsCollapse:a.payload};case"viewonly":return{...e,viewonly:a.payload};case"AccessRights":return{...e,AccessRights:a.payload};case"createEasy":return{...e,createEasy:a.payload};case"ConfirmAlert":return{...e,ConfirmAlert:a.payload};case"IsExPView":return{...e,IsExPView:a.payload};case"EditOpen":return{...e,EditOpen:a.payload};case"EditIsDraft":return{...e,EditIsDraft:a.payload};case"PrimaryId":return{...e,PrimaryId:a.payload};case"token":return{...e,token:a.payload};case"MRApprStatKey":return{...e,MRApprStatKey:a.payload};case"showTableview":return{...e,showTableview:a.payload};case"language":return{...e,language:a.payload};default:throw new Error(`Unhandled action type: ${a.type}`)}}},83817:(e,a,t)=>{function l(e,a,t,l,n){try{"200"==e.Output.status.code&&e.Output.data.length>0?e.Output.data&&(a({type:"editData",payload:[e.Output.data[0]]}),a({type:"IsDraft",payload:t}),a({type:"ShowDetail",payload:l}),n.loading(!1)):(n.loading(!1),n.alert({open:!0,color:"warning",message:["There is no Record Found"]}))}catch(e){n.loading(!1),n.alert({open:!0,color:"error",message:[e.message]})}}t.d(a,{a:()=>l})},77457:(e,a,t)=>{t.d(a,{Z:()=>Z});var l=t(92950),n=t.n(l),r=t(79895),i=t(82302),m=t(99613),s=t(88222),d=t(56847),o=t(83750),c=t(57394),p=t(77256),u=t(49174),y=t(99173),S=t(88995),g=t(39431),D=t(868),A=t(59067),B=t(20067),I=t(52795),M=t(51115),E=t(25281),C=t(66037),f=t(17812),v=(t(40826),t(87429),t(8981)),N=t(79117),h=t.n(N),T=t(282),b=t(77342),w=t(26537),x=t(77366),P=t(21392),R=t(70329),F=t(25108);window.headercellid="";const k=(0,l.forwardRef)(((e,a)=>{const{order:t,orderBy:r,onRequestSort:i,headCells:m,isDraft:d,TableSearchParams:D}=e,[A]=(0,l.useState)(localStorage.getItem("Language")),[B,M]=(0,l.useState)({}),[E,C]=(0,l.useState)({}),[f,N]=(0,l.useState)(!1),h=(0,l.useRef)();let T=(0,v.Z)();function b(){Object.keys(D).map((e=>{M({...B,[e]:!!D[e]})})),C(D)}(0,l.useEffect)((()=>{F.log("headCells",m)}),[m]),(0,l.useEffect)((()=>{N(e.rechecked)}),[e.rechecked]),(0,l.useEffect)((()=>{b()}),[D]),(0,l.useEffect)((()=>{d?(M({}),C({})):b()}),[D,d]),(0,l.useImperativeHandle)(a,(()=>({clearValue:()=>{if(Object.values(E).some((e=>null!==e&&""!==e))&&h.current){h.current.clear();const a=Object.keys(E).slice(0,Object.keys(E).length).reduce(((e,a,t)=>(e[a]=t>Object.keys(E).length?E[a]:"",e)),{});C(a),e.value(a,"onlyClear")}}})));const w=(a,t,l)=>{M({...B,[t]:!B[t]}),setTimeout((function(){var a=document.getElementById(e.frmctrlid+t);a&&a.focus()}),500),a.stopPropagation()},x=(a,t)=>{window.headercellid=t,0===a.length&&e.value({...E,[t]:""}),C({...E,[t]:a})};return n().createElement(I.Z,{onClickAway:()=>{M({})}},n().createElement(o.Z,{id:e.frmctrlid+"_TableHead"},n().createElement(c.Z,null,"none"==e.action?null:!0===e.isexpanded&&!e.IsSub&&!e.multi&&n().createElement(s.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:"90px"}},n().createElement("span",{className:"trAction"},"Action")),e.multi&&n().createElement(s.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:e.checkall?"60px":"90px",textAlign:"left"}},e.checkall?n().createElement(g.Z,{checked:f,onClick:a=>{F.log(a),N(a),e.checkedAll(a)},disabled:!1}):n().createElement("span",{className:"trAction"},"Action")),!0===e.showMore&&n().createElement(s.Z,{className:"StyledTableCellHeadStyles",style:{minWidth:"60px",textAlign:"center"}},n().createElement("span",{className:"trAction"},(P="More","English"==A?P:T?.[P]?T[P]:P))),m.map((a=>{return n().createElement(s.Z,{className:"StyledTableCellHeadStyles "+(d?"draftColor":e.IsSub?"SublistColor":"listColor"),key:a.id,sortDirection:r===a.id&&t,style:{minWidth:a.name.includes("TAT")||a.name.includes("Status")?"140px":e.colwid?e.colwid:"Is"==a.id.slice(0,2)?"fit-content":"195px",textAlign:"Is"==a.id.slice(0,2)?"center":"left"}},B[a.id]?a.id.includes("Date")||a.id.includes("date")||a.id.includes("Dt")||a.id.includes("dt")?n().createElement(u.Z,{value:E[a.id],label:a.name,onErr:e=>{},onChange:t=>{x(t,a.id),e.value({...E,[a.id]:t,[a.id+"Type"]:"DATE"})}}):n().createElement(y.Z,{ref:h,id:e.frmctrlid+a.id,className:"TableheaderSearchInput",type:"numeric"==a.type||"int"==a.type?"number":"text",labelname:a.name,marginTop:"0",onChange:e=>{x(e,a.id,a.type)},disabled:!1,value:Object.keys(E).length>0?-1===E[a.id].indexOf("%")?E[a.id]:E[a.id].replace(/[%]/g,""):"",clear:(t,l)=>{t&&(x("",a.id),w(l,a.id),e.value({...E,[a.id]:""}))},mandatory:!1,keyPress:!0,onKeyPress:t=>{e.value({...E,[a.id]:"numeric"==a.type||a.id.includes("Date")?t:"%"+t+"%"})}}):E[a.id]?"Date"==a.type?n().createElement(u.Z,{value:E[a.id],id:e.frmctrlid+"cls_"+a.id,Label:a.name,onChange:t=>{x(t,a.id),e.value({...E,[a.id]:t,[a.id+"Type"]:"Date"})}}):n().createElement(y.Z,{ref:h,id:e.frmctrlid+a.id,className:"TableheaderSearchInput",type:"numeric"==a.type||"int"==a.type?"number":"text",labelname:a.name,marginTop:"0",onChange:e=>{x(e,a.id,a.type)},disabled:!1,value:Object.keys(E).length>0?-1===E[a.id].indexOf("%")?E[a.id]:E[a.id].replace(/[%]/g,""):"",clear:(t,l)=>((a,t,l)=>{a&&(x("",l.id),w(t,l.id),e.value({...E,[l.id]:""}))})(t,l,a),isDraft:d,mandatory:!1,keyPress:!0,onKeyPress:t=>{e.value({...E,[a.id]:"numeric"==a.type||a.id.includes("Date")?t:"%"+t+"%"})}}):n().createElement("div",{id:`sort_${e.frmctrlid}`},n().createElement(p.Z,{"filter-title":"Sort",active:r===a.id,direction:r===a.id?t:"asc",onClick:(l=a.id,e=>{i(e,l)})},e.tf?n().createElement("p",{style:{width:"max-content"}},a.fieldname?e.tf(a.fieldname):""):n().createElement("p",{style:{width:"max-content"}},a.name?a.name.replace(/\B([A-Z])\B/g," $1"):""),r===a.id?n().createElement("span",{className:"visuallyHidden"},"desc"===t?"sorted descending":"sorted ascending"):null,!B[a.id]&&"Is"!==a.id.substring(0,2)&&!E[a.id]&&!d&&(a.id.includes("Password")||a.id.includes("dt")?null:!e.searchdisabled&&n().createElement("div",{id:e.frmctrlid+""+a.id,onClick:e=>w(e,a.id,a.name)},n().createElement(S.Z,{className:"tableHeadersearch"}))))));var l})))));var P})),L=e=>{const[a,t]=(0,l.useState)([]);return n().createElement("div",null,n().createElement(D.ZP,{title:"Attactment Preview",placement:"top"},n().createElement("div",{onClick:a=>{(0,w.Z)(0).then((a=>{(0,x.Z)(a,e.id,e.tableID).then((e=>{t(e)}))})),document.getElementById(`${e.tableName}ImgPriv${e.id}`).classList.add("PreviewAnimation"),document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block",document.getElementsByClassName("ThemeSlide1")[0].style.zIndex="0"}},n().createElement(R.Z,{className:"Viewtablecls"}))),n().createElement(P.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:a}))},Z=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(null),[o,p]=(0,l.useState)("asc"),[u,y]=(0,l.useState)(""),[S,I]=n().useState(""),[v,N]=(0,l.useState)(!1),[w,x]=(0,l.useState)(!1),[P,R]=(0,l.useState)([]),[Z,V]=(0,l.useState)([]),[O,z]=(0,l.useState)(null),[K,G]=(0,l.useState)({x:0,y:0}),[_,H]=(0,l.useState)(!1);function j(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}function U(e,a){if(a.toLowerCase().indexOf("password")>-1){var t="";for(let a=0;a<e.length;a++)t+="*";return t}return e}(0,l.useImperativeHandle)(a,(()=>({clearItem:()=>{t.current.clearValue()},submit:()=>{const e=Z.filter((e=>1==e.checked));F.log(e)}}))),(0,l.useEffect)((()=>{let a=e.bodydata.map(((e,a)=>({...e,id:a+1})));V(a),q(e.id+0)}),[e.bodydata]),(0,l.useEffect)((()=>{e.CloseContxt&&H(!1)}),[e.CloseContxt]);const q=e=>{var a=document.querySelectorAll(".MuiTableRow-root");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";setTimeout((function(){document.getElementById(e)&&(document.getElementById(e).style.background="#fff")}),500)};function Y(e){S===e?(I(""),N(!1)):(I(e),N(!0))}return n().createElement(d.Z,{component:r.Z,style:{height:e.IsSub?"auto":e.multi?e.height?e.height:"85vh":"66vh"},className:"tablecontainer scrollY"},n().createElement(i.Z,{stickyHeader:!0,id:"Header"+e.id+e.frmctrlid},n().createElement(k,{order:o,orderBy:u,onRequestSort:(e,a)=>{p(u===a&&"asc"===o?"desc":"asc"),y(a)},headCells:e.headerdata,isDraft:e.isdraft,value:e.searchvalue,action:e.action,TableSearchParams:($=e.tablesearchparams,Object.keys($).forEach((function(e){(e.toLowerCase().includes("date")||e.toLowerCase().includes("time"))&&delete $[e]})),$),searchdisabled:e.searchdisabled,isexpanded:e.isexpanded,ref:t,IsSub:e.IsSub,multi:e.multi,colwid:e.colwid,checkall:e.checkall,checkedAll:a=>e.checkedAll(a),showMore:e.showMore,tf:e.tf,frmctrlid:e.frmctrlid,rechecked:Z.length>0&&Z.filter((e=>1==e.checked)).length==Z.length}),n().createElement(m.Z,null,function(e,a){const t=e.map(((e,a)=>[e,a]));return t.sort(((e,t)=>{const l=a(e[0],t[0]);return 0!==l?l:e[1]-t[1]})),t.map((e=>e[0]))}(Z,function(e,a){return"desc"===e?(e,t)=>j(e,t,a):(e,t)=>-j(e,t,a)}(o,u)).map(((a,t)=>n().createElement(n().Fragment,null,n().createElement(c.Z,{key:t,onDoubleClick:l=>{if(e.IsSub)return!1;e.edit(a,e.isdraft,!0),e.expanded(!0),(e=>{var a=document.querySelectorAll(".MuiTableRow-root");for(let e=0;e<a.length;e++)a[e].style.background="#FFF";setTimeout((function(){document.getElementById(e)&&(document.getElementById(e).style.background="#e3e4e9")}),500)})(e.id+t),!0===e.isexpanded&&document.getElementById(e.id)},id:e.id+t},"none"==e.action?null:!0===e.isexpanded&&!e.IsSub&&!e.multi&&n().createElement(s.Z,{className:"StyledTableCellBodyStyles",style:{textAlign:"center"}},e.IsView&&e.tableExp&&n().createElement(f.Z,{"aria-label":"expand row",size:"small",onClick:()=>Y(t)},S===t?n().createElement(E.Z,null):n().createElement(M.Z,null)),n().createElement(D.ZP,{title:"View",placement:"top"},n().createElement(B.Z,{className:"Viewtablecls",onClick:()=>{e.edit(a,e.isdraft,!0),e.expanded(!0),e.viewtoggle()}})),e.accessrights.IsEdit&&n().createElement(D.ZP,{title:"Edit",placement:"top"},n().createElement(A.Z,{className:"Edittablecls",onClick:()=>{e.edit(a,e.isdraft,!1),e.expanded(!0)}})),1==e.extrabtn&&n().createElement(T.Z,{variant:"outlined",className:"btnfontcls",onDoubleClick:e=>e.stopPropagation(),onClick:()=>{e.issueBtn(a)},startIcon:n().createElement(b.Z,{className:"issuecls"})},"Time")),e.multi&&n().createElement(s.Z,{className:"StyledTableCellBodyStyles",style:{textAlign:"center",display:"flex"}},e.IsView&&e.tableExp&&n().createElement(f.Z,{"aria-label":"expand row",size:"small",onClick:()=>Y(t)},S===t?n().createElement(E.Z,null):n().createElement(M.Z,null)),n().createElement(g.Z,{checked:1==a.checked,onClick:t=>{F.log(t+"check",t,a),((a,t)=>{const l=[...Z];let n={checked:a};const r=l.findIndex((e=>e.id==t.id));F.log("index",r);const i=l[r];F.log("item",i),l.splice(r,1,{...i,...n}),F.log("newdata",l),e.showData&&e.multiselect(l)})(t,a)},disabled:!1}),a.FilePath?n().createElement(L,{id:Object.values(a)[0],tableID:e.tableID,tableName:e.id}):n().createElement("div",{style:{height:"24px",width:"36px"}})),1==e.showMore&&n().createElement(s.Z,{className:"StyledTableCellBodyStyles",style:{textAlign:"center"}},n().createElement(h(),{id:e.formID,cstate:e.cstate,cdispatch:e.cdispatch,context:e.context,parentId:a[e.idpk],parentData:a,sentToAppr:"",model:"IsTable",AccessRights:e.accessrights})),e.bodyitem.map(((t,l)=>{let r=e.visibleitem.filter((e=>e.id==t));return"Is"==t.slice(0,2)?n().createElement(n().Fragment,null,n().createElement(s.Z,{className:"StyledTableCellBodyStyles",key:l,style:{textAlign:"center"}},n().createElement(g.Z,{checked:"1"==a[t],disabled:!0}))):r.length>0?n().createElement(s.Z,{className:`StyledTableCellBodyStyles cell${e.color?a[t]:""}`,key:l,style:{textAlign:"numeric"==r[0].type||"smallint"==r[0].type||"int"==r[0].type?"right":"left"}},e.iframeVal&&"DiciplineName"==t?n().createElement("a",{className:"ViewBodypTag ViewHightLight ViewBodyForeignTag",onClick:()=>{e.iframe(a)}},U(a[t],t)):U(a[t],t)):n().createElement(s.Z,{className:`StyledTableCellBodyStyles cell${e.color?a[t]:""}`,key:l},e.iframeVal&&"ContractName"==t?n().createElement("a",{className:"ViewBodypTag ViewHightLight ViewBodyForeignTag",onClick:()=>{e.iframe(a),e.MailSubject(a.MailSubject)}},U(a[t],t)):U(a[t],t))}))),n().createElement(c.Z,{key:"view"+t},n().createElement(s.Z,{style:{paddingBottom:0,paddingTop:0,paddingLeft:0,borderLeft:"20px solid #ccc"},key:"cell"+t,colSpan:e.Colspan?e.Colspan:8},n().createElement(C.Z,{in:S===t,timeout:"auto",unmountOnExit:!0},S===t&&e.ViewComp(v,a))))))))));var $}))},65197:(e,a,t)=>{t.d(a,{Z:()=>M});var l=t(92950),n=t.n(l),r=t(14439),i=t(27848),m=t(63163),s=t(6562),d=t(30553),o=t(83173),c=t(21392),p=t(69685),u=t(45332),y=t(26537),S=t(77366),g=t(71168),D=t.n(g),A=t(99940),B=t(55918),I=t.n(B);function M(e){const[a,t]=(0,l.useState)([]),[o,c]=(0,l.useState)([]),[p,u]=D()(e.tableID);(0,l.useEffect)((()=>{S(p)}),[p,e.val]),(0,l.useEffect)((()=>{e.refresh&&0!=Object.keys(e.refresh).length&&S(e.refresh)}),[e.refresh]);const y=a=>e.t(a);function S(a){const l=a.filter((a=>a.FormID==e.tableID));let n=[],r=[];l.map((e=>{"1"==e.IsApplyToView&&("Is"==e.FieldDisplay.slice(0,2)?r.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}):n.push({id:e.FieldDisplay,name:e.FieldDescription,ValID:e.ForeignID?e.ForeignID:"",IDPK:e.ForeignID?e.ForeignID+"PK":"",ForeignTag:!!e.IsForeign,FieldDataType:e.FieldDataType}))})),c(g(r,"id")),t(g(n,"id"))}function g(e,a){const t=e.map((e=>e[a])),l=e.filter((({value:e},a)=>!t.includes(e,a+1)));return l}return n().createElement(n().Fragment,null,n().createElement("div",{index:e.index,className:"padding paddingLeft width100"},n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:7,md:9,lg:9,xs:7,style:{border:"1px solid #dbe2eb"}},n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"}},n().createElement("div",{className:"ViewHeadingTitle"},n().createElement("p",null,(B=e.tableName,e.tf(B)+" "+y("view")))),n().createElement("div",{style:{width:"fit-content",display:"flex",flexWrap:"wrap"}},o.map(((a,t)=>n().createElement(n().Fragment,null,n().createElement(A.Tooltip,{title:a.name.startsWith("Is")?a.name.slice(2).replace(/\B([A-Z])\B/g," $1"):a.name.replace(/\B([A-Z])\B/g," $1"),placement:"top"},n().createElement("div",{key:t,className:"GridAlignSwitch"},n().createElement(s.Z,null,n().createElement(d.Z,{style:{textAlign:"center",userSelect:"none"},labelPlacement:"bottom",control:n().createElement(m.Z,{checked:"1"==e.val[a.id],onClick:()=>{},onChange:()=>{},disabled:!0}),label:a.name.startsWith("Is")?a.name.slice(2).replace(/\B([A-Z])\B/g," $1"):a.name.replace(/\B([A-Z])\B/g," $1")}))))))))))),n().createElement(r.Z,{container:!0,style:{padding:"10px 15px"},id:e.fldid},"  ",n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement(r.Z,{container:!0},a.map(((a,t)=>n().createElement(n().Fragment,null,a.ForeignTag?n().createElement(n().Fragment,null,n().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:y(a.name)},a.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",onClick:()=>{var t,l;t=a.IDPK,l=e.val[a.ValID],e.OpenSlideComponent(t,l)},title:e.val[a.id]},e.val[a.id])))):n().createElement(n().Fragment,null,n().createElement(i.Z,{item:!0,sm:4,md:4,lg:4,xs:4,style:{height:"fit-content",minHeight:"50px"}},n().createElement("div",{className:"DetailViewRow"},n().createElement("div",{className:"ViewHeadpTag DetailViewRow",style:{textDecoration:"underline"},title:a.name.replace(/\B([A-Z])\B/g," $1")},a.name.replace(/\B([A-Z])\B/g," $1")),n().createElement("div",{className:"ViewBodypTag ViewHightLight DetailViewRow",title:e.val[a.id]},"mins"==a.FieldDataType?I()(e.val[a.id]):e.val[a.id]))))))))))),n().createElement(i.Z,{item:!0,sm:5,md:3,lg:3,xs:5,style:{paddingLeft:"2%"}}," ",n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewFileImgCont"},n().createElement(r.Z,{container:!0},n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingTitle1"},n().createElement("p",{className:"ViewHeadpTagHD"},y("Attachments")))),n().createElement(i.Z,{item:!0,sm:12,md:12,lg:12,xs:12,style:{display:"flex",justifyContent:"center"}},n().createElement("div",{className:"ViewHeadingAttachmentL4"},n().createElement(E,{id:e.parentID,tableID:e.tableID,tableName:e.tableName})))))))))));var B}const E=e=>{const[a,t]=(0,l.useState)([]);(0,l.useEffect)((()=>{e.id&&r()}),[e.id]);const r=()=>{(0,y.Z)(0).then((a=>{(0,S.Z)(a,e.id,e.tableID).then((e=>t(e)))}))};return n().createElement("div",null,n().createElement(p.Z,{cellHeight:160,className:"gridList",cols:1,onClick:a=>{document.getElementById(`${e.tableName}ImgPriv${e.id}`).style.display="block"}},a.length>0&&a.map(((e,t)=>{if(0==t)return n().createElement(u.Z,{className:"imgviewpagel4 lastImg",key:t,cols:1},["png","jpg","jpeg","gif","bmp"].includes(e.ImageName.toLowerCase().split(/\.(?=[^\.]+$)/)[1])?n().createElement("img",{src:e.ImgPath,alt:e.ImageName}):n().createElement(o.Z,{className:"previewFile"}),a.length>1&&n().createElement("div",{className:"Imgbgmstyle"},n().createElement("p",{className:"imgtotCount"}," +",a.length-1)))}))),n().createElement(c.Z,{id:`${e.tableName}ImgPriv${e.id}`,data:a}))}},34520:(e,a,t)=>{t.d(a,{xJ:()=>he,kN:()=>Te,ZP:()=>be});var l=t(92950),n=t.n(l),r=(t(95866),t(45237)),i=t(36939),m=t(61201),s=t(59009),d=t(51673),o=(t(99058),t(80366)),c=t(282),p=t(868),u=t(78513),y=t(14439),S=t(27848),g=t(40900),D=t(64059),A=t(24038),B=t(8981),I=t(47516),M=t(86893),E=t(33681),C=t(63163),f=t(25108);const v=(0,l.forwardRef)(((e,a)=>{const[t]=(0,l.useState)(localStorage.getItem("userid")),[r,i]=(0,l.useState)([]),[m,s]=(0,l.useState)({idpk:"",name:"",type:""}),[v,N]=(0,l.useState)(""),[h,T]=(0,l.useState)({}),[b,w]=(0,l.useState)(!0),[x,P]=(0,l.useState)(!1),{cstate:R,cdispatch:F}=e.ContextApi?e.ContextApi:Te(),[k,L]=(0,l.useState)(1),[Z,V]=(0,l.useState)(0),[O,z]=(0,l.useState)(!1),[K,G]=(0,l.useState)({}),[_,H]=(0,l.useState)([]),[j,U]=(0,l.useState)(!0);let q=localStorage.getItem("Language");const Y={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let $=(0,B.Z)();const W=e=>$[e]?$[e]:e,J=a=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==a))?.[Y[q]];function X(){T({}),G({}),e.searchData({}),P(!1)}(0,l.useEffect)((()=>{let a=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));H(a)}),[]),(0,l.useImperativeHandle)(a,(()=>({clear:()=>{X()}})));const Q=async(a,t,l,n)=>{z(!0);let m=t.IsForeign?t.FieldName+"PK":"BMSAlaramDetailIDPK";try{let o="",c=[],p={};await s((e=>(o=e.name,e))),await T((e=>(c=e,e))),await G((e=>(p=e,e)));const u=g.v.Api+"FP1473S3/",y={data:{p1:t.IsForeign?await te():null,p2:"BMSAlaramDetCode"==o&&l.length>0?"%"+l+"%":null,p3:"BMSAlaramDetDescriptionName"==o&&l.length>0?"%"+l+"%":null,p4:"BMSAlaramDetValue"==o&&l.length>0?"%"+l+"%":null,p5:"ConditionName"==o&&l.length>0?"%"+l+"%":null,p6:"PriorityName"==o&&l.length>0?"%"+l+"%":null,p7:"AlaramTime"==o&&l.length>0?"%"+l+"%":null,p8:null,p9:null,p10:"BMSPointValName"!=o&&c.BMSPointValName?c.BMSPointValName.map((e=>e.BMSPointValIDPK)).toString():null,p11:e.parentId?e.parentId:"0",p12:e.Dialogview?"1":null,p13:null,p14:"p14"==o&&l.length>0?l:null,p15:null,p16:null,p17:null,p18:null,p19:"BMSPointValName"==o&&l.length>0?"%"+l+"%":null,p20:"BMSPointValBMSValue"==o&&l.length>0?"%"+l+"%":null,p21:"BMSSysName"!=o&&c.BMSSysName?c.BMSSysName.map((e=>e.BMSSysIDPK)).toString():null,p22:"BMSSysCode"==o&&l.length>0?"%"+l+"%":null,p23:"BMSSysName"==o&&l.length>0?"%"+l+"%":null,p24:"EquipmentName"!=o&&c.EquipmentName?c.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p25:"EquipmentName"==o&&l.length>0?"%"+l+"%":null,p26:"EquipmentRefNo"==o&&l.length>0?"%"+l+"%":null,p27:"AssetBarcode"==o&&l.length>0?"%"+l+"%":null,p28:"AssetTagNo"==o&&l.length>0?"%"+l+"%":null,p29:"BMSAlaramTypeName"!=o&&c.BMSAlaramTypeName?c.BMSAlaramTypeName.map((e=>e.BMSAlaramTypeIDPK)).toString():null,p30:"BMSAlaramTypCode"==o&&l.length>0?"%"+l+"%":null,p31:"BMSAlaramTypeName"==o&&l.length>0?"%"+l+"%":null,p32:"BMSAlaramCode"==o&&l.length>0?"%"+l+"%":null,p33:"BMSAlaramName"==o&&l.length>0?"%"+l+"%":null,p34:n||1,p35:10,p36:a,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};await(0,d.Z)(u,y,e.token).then((a=>{const t=a.Output.status.code,l=a.Output.data;if("200"===t)if(l.length>0)if(1===n){let e=ae(l,o),a=ee(e,h[o],m);i(a),V(a.length>0?a[0].TotalCount:h[o].length)}else{let e=[...r,...l],a=ae(e,o);V(a.length<10?a.length:l[0].TotalCount),i(ae(a,o))}else v.length>0&&i([]),V(r.length);else e.alertmsg("error",[a.Output.status.message])}))}catch(a){e.alertmsg("warning",[a])}finally{z(!1)}},ee=(e=[],a=[],t)=>e.filter((e=>!a.find((a=>e[t]===a[t])))),ae=(e,a)=>e.filter(((e,t,l)=>l.findIndex((t=>t[a]===e[a]))===t));async function te(){let e={};await T((a=>(e=a,a)));let a=[..._],t=[];for(let l of a){let a=e[l]?.map((e=>e.BMSAlaramDetailIDPK)).toString();a&&t.push(a)}return t?[...new Set(t)].toString():""}async function le(a,t,l,n,r,i){let m={[n]:{From:a,Type:l,To:t}},s={};G((e=>({...e,...m})));const d={...h};let o=[..._],c=[];for(let e of o){let a=d[e]?.map((e=>e.BMSAlaramDetailIDPK)).toString();a&&c.push(a)}await G((e=>(s=e,e)));let p={BMSAlaramDetailIDPK:c?[...new Set(c)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,AlaramTime:s.AlaramTime?s.AlaramTime.From:"",AlaramTimeType:s.AlaramTime?s.AlaramTime.Type:"",AlaramTimeBetween:s.AlaramTime?s.AlaramTime.To:"",BMSPointValID:h.BMSPointValName?.map((e=>e.BMSPointValIDPK)).toString(),BMSAlaramID:h.BMSAlaramName?.map((e=>e.BMSAlaramIDPK)).toString()};e.searchData(p)}function ne(){return n().createElement(D.Z,{frmctrlid:"fld1473L1TCDateCompCreatedTtm",SendDateVal:(e,a,t,l,n)=>{le(e,a,t,m.name,l)},keyboardback:()=>{P(!1),s({idpk:"",name:"",type:""})},title:W(m.name),fieldname:m.name,save:e=>{alert(!0)}})}return n().createElement("div",null,x?"Created Ttm"===m.name||m.name.includes("Date")?n().createElement(ne,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(y.Z,null,n().createElement(S.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},J(m.idpk)," (",r.length,"/",Z,")")),n().createElement(S.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(p.ZP,{title:W("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(o.Z,{id:"fld1473L1TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{P(!1),s({idpk:"",name:"",type:""}),L(1)}}))),h[m.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(c.Z,{frmctrlid:"fld1473L1TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await T((a=>(e=a,f.log("clear fewItems",e),a))),e[m.name]=[],Q(m.type,m.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},b?n().createElement(p.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(M.D7o,{className:"FilterMaximizeIcon",onClick:()=>{w(!1)}}))):n().createElement(p.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(M.dOw,{className:"FilterMaximizeIcon",onClick:()=>{w(!0)}})))),n().createElement("ul",null,h[m.name]&&h[m.name].map(((e,a)=>n().createElement("div",{key:a,tabIndex:"-1",className:b?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[m.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[m.name],onClick:()=>(async(e,a)=>{L(1);let t=h[m.name].filter((a=>a!=e)),l={};await T((e=>(l=e,e))),l[m.name]=t,T(l),i((a=>[e,...a]))})(e)},n().createElement(o.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(A.Z,{frmctrlid:"fld1473L1TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:v,placeholder:W("Enter ")+" "+J(m.idpk),onChange:e=>{N(e),Q(m.type,m.name,e,1,te())}})),n().createElement("div",{id:"fld1473L1TFCFilterGoForward",className:"FilterSearchBtn",onClick:async a=>{let t="",l={};await T((e=>(t=e,e)));let n=[..._],r=[];for(let e of n){let a=t[e]?.map((e=>e.BMSAlaramDetailIDPK)).toString();a&&r.push(a)}await G((e=>(l=e,e)));let i={BMSAlaramDetailIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",AlaramTime:l.AlaramTime?l.AlaramTime.From:"",AlaramTimeType:l.AlaramTime?l.AlaramTime.Type:"",AlaramTimeBetween:l.AlaramTime?l.AlaramTime.To:"",BMSPointValID:h.BMSPointValName?.map((e=>e.BMSPointValIDPK)).toString(),BMSAlaramID:h.BMSAlaramName?.map((e=>e.BMSAlaramIDPK)).toString()};e.searchData(i),P(!1)}},n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(c.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),O&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(E.Z,{color:"secondary"})),n().createElement("div",{id:"fld1473L1TFCScrollYDefault",className:"height65 scrollYDefault"},r.length>0&&r.map(((e,a)=>n().createElement("div",{id:"filda_3_L2_"+e[m.name],key:a,className:"FilterItemDiv",onClick:()=>{(async e=>{let a={},t=[];t.push(e);let l={};await T((e=>(l=e,e)));let n=l[m.name];a[m.name]=n?[...t,...n]:t,l={...l,...a},T(l),i((a=>a.filter((a=>a!=e))))})(e)}},n().createElement(u.Z,{className:"DotIcon"}),n().createElement("span",null,e[m.name])))),r.length+0<Z&&r.length>0&&n().createElement("div",{id:"fld1473L1TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{L(k+1),Q(m.type,m.name,"",k+1)}},n().createElement("p",null," more... ")),0===r.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:g.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(I.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(c.Z,{className:"ColumnApplyButton",onClick:()=>{X()},id:"fld1473L1TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},W("Clear")))),n().createElement(p.ZP,{title:"",placement:"top"},n().createElement(c.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1473L1TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},W("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1473L1TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,a)=>e.Remarks-a.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,a)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{P(!0),N(""),i([]),V(0),s({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBMSAlaramDetailID"}),Q(e.IsForeign?"Filter"+e.FieldName:"FilterBMSAlaramDetailID",e,"",1,te())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,J(e.AdminUserGridViewIDPK)," ",K[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",K[e.FieldName]?.From+" to "+K[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,J(e.AdminUserGridViewIDPK)),n().createElement(C.Z,{checked:"1"==j,onChange:a=>{U(a.target.checked),le("","",e.FieldName,"",a.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,J(e.AdminUserGridViewIDPK)),(t=e.FieldDisplay,h[t]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},h[t][0][t]),h[t].length>1&&n().createElement("span",{className:"RoundedDivName"},h[t][1][t]),h[t].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(h[t].length-2))))));var t}))))))}));var N=t(54180),h=t(43031),T=t(110),b=t(5109),w=t(88995),x=t(50743),P=t(61657),R=t(51209),F=t(53854),k=t(51649),L=t(37106),Z=t(5434),V=t(83817),O=t(39327),z=t(3212),K=t(93521),G=t(71168),_=t.n(G),H=t(65107),j=t(94986),U=t(15999);t(11557),window.clickFilter="";const q=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(null),c=(0,l.useRef)(null),[u]=((0,l.useRef)(null),(0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[y]=(0,l.useState)("1473"),[S,D]=(0,l.useState)(!1),[E,C]=(0,l.useState)(!1),[f,G]=(0,l.useState)(0),[q,Y]=(0,l.useState)(0),[$,W]=(0,l.useState)(0),[J,X]=(0,l.useState)(0),[Q,ee]=(0,l.useState)({current:1,pageSize:100}),[ae,te]=(0,l.useState)(""),[le,ne]=(0,l.useState)([]),[re,ie]=(0,l.useState)({val:"",column:""}),[me,se]=(0,l.useState)([]),[de,oe]=(0,l.useState)(!1),[ce,pe]=(0,l.useState)(""),[ue,ye]=(0,l.useState)(""),[Se,ge]=(0,l.useState)(!1),[De,Ae]=(0,l.useState)([]),[Be,Ie]=(0,l.useState)([]),[Me,Ee]=(0,l.useState)([]),[Ce,fe]=(0,l.useState)({children:[{name:"BMSAlaramDetailRegistry",children:[]}]}),[ve,Ne]=(0,l.useState)(!1),be=(0,l.useContext)(e.context?e.context:he),{cstate:we,cdispatch:xe}=e.ContextApi?e.ContextApi:Te();let Pe={BMSAlaramDetailIDPK:"",BMSAlaramDetCode:"",BMSAlaramDetDescriptionName:"",BMSAlaramDetValue:"",ConditionName:"",PriorityName:"",AlaramTime:"",IsDraft:"",Remarks:"",BMSPointValID:"",BMSAlaramID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSPointValName:"",BMSPointValBMSValue:"",BMSSysID:"",BMSSysCode:"",BMSSysName:"",AssetID:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",BMSAlaramTypeID:"",BMSAlaramTypCode:"",BMSAlaramTypeName:"",BMSAlaramCode:"",BMSAlaramName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Re,Fe]=(0,l.useState)(Pe),[ke,Le]=(0,l.useState)(Pe),[Ze,Ve]=(0,l.useState)(!1),[Oe,ze]=(0,l.useState)(!0),[Ke,Ge]=(0,l.useState)(!1),[_e,He]=(0,l.useState)(!0),[je,Ue]=(0,l.useState)({BMSAlaramDetCode:"",BMSAlaramDetDescriptionName:"",BMSPointValName:"",BMSAlaramName:"",BMSAlaramDetValue:"",ConditionName:"",PriorityName:"",AlaramTime:""}),[qe,Ye]=(0,l.useState)(!1),[$e,We]=(0,l.useState)([]),[Je,Xe]=(0,l.useState)(0),[Qe,ea]=(0,l.useState)(0),[aa,ta]=(0,l.useState)({current:1,pageSize:10}),[la,na]=(0,l.useState)([]),[ra,ia]=(0,l.useState)([]),[ma,sa]=(0,l.useState)(!1),[da,oa]=(0,l.useState)(!1),[ca,pa]=(0,l.useState)(!1),[ua,ya]=(0,l.useState)(""),[Sa,ga]=_()("1473"),[Da,Aa]=(0,l.useState)({}),Ba=[{columns:la,data:ae}];let Ia=(0,B.Z)();const Ma=e=>Ia[e]?Ia[e]:e,Ea=e=>we.language?.[e]?we.language[e]:e;(0,l.useEffect)((()=>{ba(Sa)}),[Sa]),(0,l.useEffect)((()=>{we.token.length>0&&(e.parentId?ha(Q,Pe,"BMSAlaramDetailID"):se([]))}),[e.parentId]),(0,l.useEffect)((()=>{!ve&&e.parentId?ha(Q,ce,"BMSAlaramDetailID"):ve&&Le(ce)}),[ce]),(0,l.useImperativeHandle)(a,(()=>({searchItem:e=>{Ca(e)},tableRefresh:()=>{ha(Q,Pe,"BMSAlaramDetailID")},DialogTableProps:e=>{C(e)},HideEntryFields:e=>{pa(!0===e)}})));const Ca=e=>{""==e?ha(Q,Pe,Ze?"DraftBMSAlaramDetailID":"BMSAlaramDetailID",Ze&&"DraftPage"):Ta(e,{current:1,pageSize:100}),ye(e)};function fa(a){be.loading(!0);let t=g.v.Api+"FP1473S7/",l={data:{p1:"%%",p2:e.parentId?e.parentId:"0",p3:"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(t,l,we.token[0]).then((e=>{if(200==e.Output.status.code){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,ea(e.Output.data[0].TotalCount)):t=0,10==a.pageSize?Xe(Math.ceil(t)):20==a.pageSize?Xe(Math.ceil(t/2)):50==a.pageSize?Xe(Math.ceil(t/5)):100==a.pageSize&&Xe(Math.ceil(t/10)),We(e.Output.data),be.loading(!1)}}))}function va(e,a){xe({type:"editData",payload:[a]}),xe({type:"IsDraft",payload:Ze}),xe({type:"ShowDetail",payload:!0}),be.Expanded(!0),Ke&&ge(!1)}(0,l.useEffect)((()=>{!1===e.cardview&&He(e.cardview),e.Dialogview&&(C(e.Dialogview),pa(!0))}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Ta(e.searchsafaritext,{current:Q.current,pageSize:Q.pageSize})}),[e.searchsafaritext]);const Na=()=>{be.EditClose(!0),de?(document.getElementById("BMSAlaramDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BMSAlaramDetailRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BMSAlaramDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",oe(!1),_e?(E||(document.getElementById("BMSAlaramDetailRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramDetailRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),document.getElementById("BMSAlaramDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSAlaramDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BMSAlaramDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BMSAlaramDetailRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BMSAlaramDetailRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",oe(!0),document.getElementById("BMSAlaramDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramDetailRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"),ge(!1),window.clickFilter=!de},ha=(a,t,l,n,r,i)=>{be.loading(!0),"DraftPage"!==n&&Ve(we.IsDraft);let m=g.v.Api+"FP1473S3/",s={data:{p1:r||(t&&t.BMSAlaramDetailIDPK?t.BMSAlaramDetailIDPK:null),p2:t&&t.BMSAlaramDetCode?t.BMSAlaramDetCode:null,p3:t&&t.BMSAlaramDetDescriptionName?t.BMSAlaramDetDescriptionName:null,p4:t&&t.BMSAlaramDetValue?t.BMSAlaramDetValue:null,p5:t&&t.ConditionName?t.ConditionName:null,p6:t&&t.PriorityName?t.PriorityName:null,p7:t&&t.AlaramTime?t.AlaramTime:null,p8:"DraftBMSAlaramDetailID"==l?"1":"0",p9:null,p10:t&&t.BMSPointValID?t.BMSPointValID:null,p11:e.parentId?Number(e.parentId):0,p12:t&&t.IsActive,p13:null,p14:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p15:t&&t.CreatedTtm?t.CreatedTtm:null,p16:t&&t.CreatedTtmType?t.CreatedTtmType:null,p17:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p18:null,p19:t&&t.BMSPointValName?t.BMSPointValName:null,p20:t&&t.BMSPointValBMSValue?t.BMSPointValBMSValue:null,p21:t&&t.BMSSysID?t.BMSSysID:null,p22:t&&t.BMSSysCode?t.BMSSysCode:null,p23:t&&t.BMSSysName?t.BMSSysName:null,p24:t&&t.AssetID?t.AssetID:null,p25:t&&t.EquipmentName?t.EquipmentName:null,p26:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p27:t&&t.AssetBarcode?t.AssetBarcode:null,p28:t&&t.AssetTagNo?t.AssetTagNo:null,p29:t&&t.BMSAlaramTypeID?t.BMSAlaramTypeID:null,p30:t&&t.BMSAlaramTypCode?t.BMSAlaramTypCode:null,p31:t&&t.BMSAlaramTypeName?t.BMSAlaramTypeName:null,p32:t&&t.BMSAlaramCode?t.BMSAlaramCode:null,p33:t&&t.BMSAlaramName?t.BMSAlaramName:null,p34:r?1:a.current,p35:a.pageSize,p36:l,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,d.Z)(m,s,we.token[0]).then((m=>{if(r)(0,V.a)(m,xe,n,i,be);else if("200"==m.Output.status.code)if(m.Output.data.length>0){if(m.Output.data){let e=0;m.Output.data.length>0?(e=parseFloat(m.Output.data[0].TotalCount,10)/10,W(m.Output.data[0].TotalCount),X(m.Output.data[0].DraftCnt),xe({type:"count",payload:m.Output.data[0].TotalCount}),"DraftPage"==n&&X(m.Output.data[0].TotalCount)):e=0,10==a.pageSize?Y(Math.ceil(e)):20==a.pageSize?Y(Math.ceil(e/2)):50==a.pageSize?Y(Math.ceil(e/5)):100==a.pageSize&&Y(Math.ceil(e/10)),se(m.Output.data),be.loading(!1)}e.Dialogview||(document.getElementById("divBMSAlaramDetailRegistry-Entry").style.height="auto",document.getElementById("divBMSAlaramDetailRegistry-Entry").style.display="block")}else be.loading(!1),"DraftBMSAlaramDetailID"===l?(be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),ge(!0),Ve(!1)):(se([]),ee({current:1,pageSize:10}),Y(0),W(0),xe({type:"count",payload:"0"}),Object.values(t).some((e=>e))&&be.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else be.alert({open:!0,color:"warning",message:[m.Output.status.message]}),be.loading(!1)}))};function Ta(a,t){if(!e.parentId)return!1;be.loading(!0);const l=g.v.Api+"FP1473S4/",n={data:{p1:"%"+a+"%",p2:e.parentId?e.parentId:"0",p3:Ze?"1":"0",p4:t.current,p5:t.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,d.Z)(l,n,we.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let a=0;e.Output.data.length>0?(a=parseFloat(e.Output.data[0].TotalCount,10)/10,W(e.Output.data[0].TotalCount),xe({type:"count",payload:e.Output.data[0].TotalCount})):a=0,10==t.pageSize?Y(Math.ceil(a)):20==t.pageSize?Y(Math.ceil(a/2)):50==t.pageSize?Y(Math.ceil(a/5)):100==t.pageSize&&Y(Math.ceil(a/10)),se(e.Output.data),be.loading(!1)}else se([]),Y(0),W(0),xe({type:"count",payload:"0"}),be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),be.loading(!1);else be.alert({open:!0,color:"warning",message:[e.Output.status.message]}),be.loading(!1)}))}function ba(e){let a=[],t=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldName&&(t.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),xe({type:"language",payload:Object.assign({},...n)}),Ue(t.reduce(((e,a)=>(e[a]="",e)),{})),Ae(e),Ie(a),Ee(t),na(l),ia(t)}const wa=()=>ve?null:n().createElement("div",null,qe?n().createElement(j.Z,{data:$e,expanded:e=>!E&&be.Expanded(e),edit:(e,a,t)=>{E?be.select(e):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:a}),xe({type:"ShowDetail",payload:t}))}}):n().createElement(H.Z,{ref:c,frmctrlid:"tblcs_1473_L1_",id:"BMSAlaramDetailRegistryTable",headerdata:Be,tablesearchparams:je,searchvalue:e=>{Ue(e),pe(e);let a={...Object.fromEntries(Object.entries(e).filter((([e,a])=>""!==a))),...FilteredObj};Aa(a),ee({current:1,pageSize:10}),ha({current:1,pageSize:10},a,Ze?"DraftBMSAlaramDetailID":"BMSAlaramDetailID",Ze&&"DraftPage")},bodydata:me,ondrag:va,bodyitem:Me,visibleitem:Be,isdraft:Ze,IsView:!1,IsSub:e.tableview,tableExp:!1,tableID:y,showMore:!1,accessrights:we.AccessRights,expanded:e=>!E&&be.Expanded(e),edit:(e,a,t)=>{E?be.select(e):(Object.keys(e).map(((l,n)=>{l.includes("IDPK")&&ha(Q,null,a?"DraftBMSAlaramDetailID":"BMSAlaramDetailID",a&&"DraftPage",e[l],t)})),be.hideAddBtn(!0))},viewtoggle:be.viewtoggle,isexpanded:!E||Ke,tf:Ea,action:E?"none":"",ViewComp:(e,a)=>{}}));return(0,l.useEffect)((()=>{Ge(we.ExpandTableValue)}),[we.ExpandTableValue]),n().createElement("div",null,!ca&&!e.tableview&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"0",padding:"0px 4px 0px 0px"}},n().createElement("div",{id:"fld1473L1ECSearchBar",className:"searchbar1"},n().createElement(A.Z,{frmctrlid:"fld1473L1TCInputSearch",className:"search_input",type:"text",id:"AdminCountryRegistrygridsearch",placeholder:Ma("Search"),value:ue,onChange:e=>{ye(e),be.searchItem(e)},style:{width:"300px"}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld1473L1TCCloseIconCommonSearch",onClick:()=>{ye(""),be.searchItem("")}},n().createElement(o.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1473L1TCInputSearchIcon"},n().createElement(w.Z,{className:"InputSearchIcon",onClick:()=>{document.getElementById("BMSAlaramDetailRegistrygridsearch").focus()}})))),n().createElement("div",null,we.AccessRights.IsAdd?n().createElement(z.Z,{className:"SaveBtnCommon",frmctrlid:"fld1473L1TCAddBtnIsAdd",onClick:()=>{be.hideAddBtn(!0),xe({type:"editData",payload:[]}),xe({type:"ShowDetail",payload:!1}),xe({type:"Add",payload:!0})},disabled:!e.parentId}):"")),n().createElement(i.Z,{expanded:Oe,onChange:()=>()=>{ze(Ke)}},e.Dialogview&&n().createElement(x.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},n().createElement("p",{className:"ListP ListPlevl1",title:"10.0.0.44-5:05:35 PM-30-5[1473]"},`${Ea("1473")} (${$})`)),!1===e.cardview?null:n().createElement("div",{className:"displayFlex EntryHeaderBtn"},n().createElement("div",{id:"fld1473L1TCSearchBar",className:"searchbar",style:{marginTop:"8px"}},n().createElement(A.Z,{frmctrlid:"fld1473L1TCInputSearch",className:"search_input",type:"text",placeholder:Ma("Search"),value:ue,onChange:e=>{Ca(e)}}),n().createElement("div",{className:"search_icon"},ue?n().createElement("div",{id:"fld1473L1TCInputCloseIcon",onClick:()=>{Ca("")}},n().createElement(o.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1473L1TCInputSearchIcon"},n().createElement(w.Z,{className:"InputSearchIcon"}))))))),n().createElement(m.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCardL1",style:{height:e.tableview?"auto":"fit-content"}},!e.tableview&&n().createElement("div",{id:"BMSAlaramDetailRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},!Ze&&n().createElement("div",{frmctrlid:"fld1473L1TCFilterDataIsDraft",id:"BMSAlaramDetailRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{Na()}},n().createElement(p.ZP,{title:Ma("Filter Data"),placement:"top"},n().createElement("span",null,n().createElement(I.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ma("Filter Data"))),!E&&!Ze&&!ve&&n().createElement(N.Z,{formctrlidprint:"fld1473L1TCExportPrint",formctrlidexport:"fld1473L1TCExportTable",formctrlidrefresh:"fld1473L1TCExportRefresh",title:Ea("BMSAlaramDetailRegistry"),data:le,exportData:Ba,Items:ra,columnIndex:la,TableVisibleItem:Be,userGridViewFormID:y,TableTotalCount:$,triggerApi:a=>{((a,l,n,r,i)=>{if(0===$)return be.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;be.loading(!0);let m=g.v.Api+"FP1473S3/",s={data:{p1:a&&a.BMSAlaramDetailIDPK?a.BMSAlaramDetailIDPK:null,p2:a&&a.BMSAlaramDetCode?a.BMSAlaramDetCode:null,p3:a&&a.BMSAlaramDetDescriptionName?a.BMSAlaramDetDescriptionName:null,p4:a&&a.BMSAlaramDetValue?a.BMSAlaramDetValue:null,p5:a&&a.ConditionName?a.ConditionName:null,p6:a&&a.PriorityName?a.PriorityName:null,p7:a&&a.AlaramTime?a.AlaramTime:null,p8:Ze?"1":"0",p9:null,p10:a&&a.BMSPointValID?a.BMSPointValID:null,p11:e.parentId?Number(e.parentId):0,p12:a&&a.IsActive,p13:null,p14:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p15:a&&a.CreatedTtm?a.CreatedTtm:null,p16:a&&a.CreatedTtmType?a.CreatedTtmType:null,p17:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p18:null,p19:a&&a.BMSPointValName?a.BMSPointValName:null,p20:a&&a.BMSPointValBMSValue?a.BMSPointValBMSValue:null,p21:a&&a.BMSSysID?a.BMSSysID:null,p22:a&&a.BMSSysCode?a.BMSSysCode:null,p23:a&&a.BMSSysName?a.BMSSysName:null,p24:a&&a.AssetID?a.AssetID:null,p25:a&&a.EquipmentName?a.EquipmentName:null,p26:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p27:a&&a.AssetBarcode?a.AssetBarcode:null,p28:a&&a.AssetTagNo?a.AssetTagNo:null,p29:a&&a.BMSAlaramTypeID?a.BMSAlaramTypeID:null,p30:a&&a.BMSAlaramTypCode?a.BMSAlaramTypCode:null,p31:a&&a.BMSAlaramTypeName?a.BMSAlaramTypeName:null,p32:a&&a.BMSAlaramCode?a.BMSAlaramCode:null,p33:a&&a.BMSAlaramName?a.BMSAlaramName:null,p34:Q.current,p35:$,p36:Ze?"DraftBMSAlaramDetailID":"BMSAlaramDetailID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};be.loading(!1),be.alert({open:!0,color:"success",message:[`${Ea(1473)} - ${i.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,d.Z)(m,s,we.token[0],i).then((e=>{(0,K.PDF_Excel_Generate)(e,be,ra,te,t,i)}))})(ce,re.column,0,0,a)},Refresh:()=>{ye(""),ee({current:1,pageSize:100}),c.current.clearItem(),we.IsDraft?ha({current:1,pageSize:100},Pe,"DraftBMSAlaramDetailID"):ha({current:1,pageSize:100},Pe,"BMSAlaramDetailID")},disabledPrint:!we.AccessRights.IsPrint,disabledExport:!we.AccessRights.IsExport,ref:t,iconinfo:"displayNone"}),!Ze&&!ve&&!E&&n().createElement("div",{className:"buttoncard",onClick:()=>oa(!da)},n().createElement("span",null,da?n().createElement(p.ZP,{disableFocusListener:!0,title:Ma("Less"),placement:"top"},n().createElement("span",{id:"fld1473L1TCLess"},n().createElement(F.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(p.ZP,{disableFocusListener:!0,title:Ma("More"),placement:"top"},n().createElement("span",{id:"fld1473L1TCMore"},n().createElement(F.ilJ,{className:"tableFilterColumnIcon"}))))),da?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},ve||!Ke?null:E||!we.AccessRights.IsAdd||Ze?"":n().createElement("div",null,n().createElement("div",{frmctrlid:"fld1473L1TCFilterDataIsAdd",id:"BMSAlaramDetailRegistrycoldiv",className:"buttoncard",onClick:()=>{be.EditClose(!0),Se?(document.getElementById("BMSAlaramDetailRegistryFilterDiv").style.width="0%",document.getElementById("BMSAlaramDetailRegistryTabDiv").style.width="100%",document.getElementById("BMSAlaramDetailRegistryFilterDiv").style.display="none",document.getElementById("BMSAlaramDetailRegistrycoldiv").style.width="fit-content",document.getElementById("BMSAlaramDetailRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!1)):(document.getElementById("BMSAlaramDetailRegistryFilterDiv").style.width="25%",document.getElementById("BMSAlaramDetailRegistryTabDiv").style.width="75%",document.getElementById("BMSAlaramDetailRegistryFilterDiv").style.display="block",document.getElementById("BMSAlaramDetailRegistryfildiv").style.width="fit-content",document.getElementById("BMSAlaramDetailRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSAlaramDetailRegistrycoldiv").style.width="fit-content",document.getElementById("BMSAlaramDetailRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",ge(!0)),oe(!1)}},n().createElement(p.ZP,{title:Ma("Manage Columns"),placement:"top"},n().createElement("div",null,n().createElement(O.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ma("Manage Columns")))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!E&&Ke&&!ve&&!Ze&&n().createElement("div",null,n().createElement("div",{id:"BMSAlaramDetailRegistrycoldiv",className:"buttoncard",onClick:()=>{qe?Ye(!1):(Ye(!0),fa({current:1,pageSize:100}))}},n().createElement(p.ZP,{title:Ma("TableScrollData"),placement:"top"},n().createElement("div",{id:"fld1473L1TCTableScrollData"},n().createElement(U.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"displayNone"},Ma("Table Scroll Data")))),!ve&&Ze?n().createElement("div",{className:"ListHeader displayFlex",onClick:()=>{be.hideAddBtn(!1),be.ExpandEntry(),ha({current:1,pageSize:100},Pe,"BMSAlaramDetailID"),Ve(!1),ye(""),xe({type:"IsDraft",payload:!1}),ee({current:1,pageSize:10})}},n().createElement(p.ZP,{title:Ma("List"),placement:"top"},n().createElement("div",{id:"fld1473L1TCList"},n().createElement(k.u1R,{className:"backButtonList"}))),n().createElement("p",{className:"DraftP"},Ma("Drafts")," ",$)):!E&&!ve&&we.AccessRights.IsAdd&&n().createElement("div",null,n().createElement(s.Z,{color:"secondary",className:"badge",max:999,badgeContent:J,showZero:!0},n().createElement("div",{id:"fld1473L1TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{J>0?(ee({current:1,pageSize:100}),G(0),be.clear(),ye(""),xe({type:"Add",payload:!1}),ha({current:1,pageSize:10},Pe,"DraftBMSAlaramDetailID"),Ve(!0),xe({type:"IsDraft",payload:!0}),ge(!1),He(!0),document.getElementById("BMSAlaramDetailRegistryFilterDiv").style.width="0%",document.getElementById("BMSAlaramDetailRegistryTabDiv").style.width="100%",document.getElementById("BMSAlaramDetailRegistryFilterDiv").style.display="none",ee({current:1,pageSize:100}),Ne(!1)):be.alert({open:!0,color:"warning",message:[Ma("There is no Record Found")]})}},n().createElement(p.ZP,{title:Ma("Drafts"),placement:"top"},n().createElement("div",null,n().createElement(L.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:"displayNoneDraft",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},Ma("Drafts"))))))):""),!Ze&&!E&&n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},ve||Ze?null:n().createElement("div",null,n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"}},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{className:_e?"buttonList":"buttonGrid",id:"fld1473L1TCListView",onClick:()=>{He(!0),sa(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(F.umT,null)),n().createElement("span",null,Ma("List"))),n().createElement("div",{className:_e||ma?"buttonGrid":"buttonList",id:"fld1473L1TCCardView",onClick:()=>{He(!1),sa(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(M.aCJ,null)),n().createElement("span",null,Ma("Card"))),n().createElement("div",{className:ma?"buttonList":"buttonGrid",id:"fld1473L1TCTileView",onClick:()=>{sa(!0),He(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(Z.f_H,null)),n().createElement("span",null,Ma("Tile"))))))),ve?null:qe?e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(P.Z,{style:{color:"#777"},id:"fld1473L1TCTableTopPagination",rowsPerPageOptions:[],component:"div",count:Number(Qe),page:f,onPageChange:(e,a)=>{G(a),fa({current:a+1,pageSize:aa.pageSize}),ta({current:a+1,pageSize:aa.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:Je,color:"primary",page:aa.current,onChange:(e,a)=>{ta({current:a,pageSize:aa.pageSize}),Xe(a),fa({current:a,pageSize:aa.pageSize})}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:aa.pageSize,frmctrlid:"fld1473L1TCSelectPagination",onChange:e=>{ta({current:1,pageSize:e.target.value}),fa({current:1,pageSize:e.target.value})}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Ke&&n().createElement("p",{className:"per-page"},"/ ",Ma("RowperpageOf")," (",Qe,")")):e.IsCollapse?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(P.Z,{style:{color:"#777"},id:"fld1473L1TCTablePagination",rowsPerPageOptions:[],component:"div",count:Number($),page:f,onPageChange:(e,a)=>{G(a),ha({current:a+1,pageSize:Q.pageSize},Pe,Ze?"DraftBMSAlaramDetailID":"BMSAlaramDetailID",Ze&&"DraftPage"),ee({current:a+1,pageSize:Q.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"}})):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(h.Z,{count:q,siblingCount:0,color:"primary",page:Q.current,onChange:(e,a)=>{if(ee({current:a,pageSize:Q.pageSize}),Ze)ha({current:a,pageSize:Q.pageSize},Re,"DraftBMSAlaramDetailID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";ue.length>0?Ta(ue,{current:a,pageSize:Q.pageSize}):ha({current:a,pageSize:Q.pageSize},Re,"BMSAlaramDetailID")}}}),n().createElement("div",null,n().createElement(T.Z,{className:"BootstrapInputStyle",value:Q.pageSize,id:"fld1473L1TCSelectPaging",onChange:e=>{ee({current:1,pageSize:e.target.value}),Ze?ha({current:1,pageSize:e.target.value},Re,"DraftBMSAlaramDetailID","DraftPage"):ue.length>0?Ta(ue,{current:1,pageSize:e.target.value}):ha({current:1,pageSize:e.target.value},Re,"BMSAlaramDetailID")}},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),Ke&&n().createElement("p",{className:"per-page"},"/ ",Ma("RowperpageOf")," (",$,") "))),n().createElement("div",{id:"BMSAlaramDetailRegistry-TableBody",className:"displayFlex padding0",style:{height:e.tableview?"auto":"66vh",overflow:"auto"}},n().createElement("div",{id:"BMSAlaramDetailRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},de&&n().createElement(v,{parentId:e.parentId,searchData:e=>{pe(e||Da),Object.fromEntries(Object.entries(e).filter((([e,a])=>""!==a)))},formID:y,data:()=>{},visibleData:()=>{},token:we.token[0],CloseBtnClk:()=>Na(),userGrid:Sa,msg:(e,a)=>be.alert({open:!0,color:a,message:[e]})}),Se&&n().createElement(b.Z,{Refresh:e=>{ha({current:1,pageSize:100},Pe,"BMSAlaramDetailID")},frmctrlid:"fld1473L1TCTableColumnOrder",loading:e=>be.loading(e),className:"dragCheckboxDivL1",AltMsg:(e,a)=>be.alert({open:!0,color:a,message:[e]}),select:Se,userID:u,userGridViewFormID:y,saved:(e,a)=>{e&&ba(a),ga(a),xe({type:"showTableview",payload:a})},Token:we.token[0]})),n().createElement("div",{id:"BMSAlaramDetailRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:e.tableview?"auto":"66vh"}},_e?n().createElement(wa,null):n().createElement(R.Z,{frmctrlid:"fld1473L1TCExpandedCardDual",data:me,id:"BMSAlaramDetailRegistry",title:"BMSAlaramDetCode",cardTile:!!ma,visibleitem:Be,gridCountmdlg:4,gridCountxssm:6,onDoubleClick:(e,a)=>{E?be.select(e):("edit"==a?(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Ze}),xe({type:"ShowDetail",payload:!1}),be.Expanded(!0)):(xe({type:"editData",payload:[e]}),xe({type:"IsDraft",payload:Ze}),xe({type:"ShowDetail",payload:!0}),be.Expanded(!0),be.viewtoggle()),de?oe(!0):Se?ge(!0):(ge(!1),ge(!1))),be.hideAddBtn(!0)}})))))))}));var Y=t(37148),$=t(29800),W=(t(10966),t(21392),t(26537)),J=t(30553),X=t(61956),Q=t(44528),ee=t(99090),ae=t(35131),te=t.n(ae),le=t(1695),ne=t(61924),re=t.n(ne),ie=t(40826),me=t(55490),se=t(92371);const de={EnterKeyValues:{BMSAlaramDetailRegistry:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","BMSPointValName","BMSAlaramName","BMSAlaramDetValue","ConditionName","PriorityName","AlaramTime"]},Label:{BMSAlaramDetailRegistry:{BMSAlaramDetCode:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","ConditionName","PriorityName"],BMSAlaramDetDescriptionName:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","ConditionName","PriorityName"],BMSPointValID:["BMSPointValCode","BMSPointValName"],BMSAlaramID:["BMSAlaramCode","BMSAlaramName"],BMSAlaramDetValue:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","ConditionName","PriorityName"],ConditionName:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","ConditionName","PriorityName"],PriorityName:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","ConditionName","PriorityName"],AlaramTime:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","ConditionName","PriorityName"]}},LabelHeader:{BMSAlaramDetailRegistry:{BMSAlaramDetCode:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","Condition ","Priority "],BMSAlaramDetDescriptionName:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","Condition ","Priority "],BMSPointValID:["BMSPointValCode","Points"],BMSAlaramID:["Alarm Code","Alarm Name"],BMSAlaramDetValue:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","Condition ","Priority "],ConditionName:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","Condition ","Priority "],PriorityName:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","Condition ","Priority "],AlaramTime:["BMSAlaramDetCode","BMSAlaramDetDescriptionName","Condition ","Priority "]}},Property:{BMSAlaramDetailRegistry:{BMSAlaramDetCode:{id:"fld1473_38335",labelID:"BMSAlaramDetCode",maxLength:"-1",labelname:"",frmctrlid:"fld1473_38335",frmctrlidname:"BMSAlaramDetCode",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSAlaramDetDescriptionName:{id:"fld1473_38336",labelID:"BMSAlaramDetDescriptionName",maxLength:"-1",labelname:"",frmctrlid:"fld1473_38336",frmctrlidname:"BMSAlaramDetDescriptionName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSPointValID:{id:"fld1473_38343",clearID:"BMSAlaramDetailRegistryBMSPointValNameClear",type:"select",labelID:"BMSPointValIDPK",labelname:"Point Value",fielddisplayname:"BMSPointValName",fieldOrder:"1",frmctrlid:"fld1473_38343",frmctrlidname:"BMSPointValID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},BMSAlaramID:{id:"fld1473_38344",clearID:"BMSAlaramDetailRegistryBMSAlaramNameClear",type:"select",labelID:"BMSAlaramIDPK",labelname:"Alarm ",fielddisplayname:"BMSAlaramName",fieldOrder:"1",frmctrlid:"fld1473_38344",frmctrlidname:"BMSAlaramID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BMSAlaramDetValue:{id:"fld1473_38337",labelID:"BMSAlaramDetValue",maxLength:"20",labelname:"Value",frmctrlid:"fld1473_38337",frmctrlidname:"BMSAlaramDetValue",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},ConditionName:{id:"fld1473_38338",labelID:"ConditionName",maxLength:"100",labelname:"Condition ",frmctrlid:"fld1473_38338",frmctrlidname:"ConditionName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},PriorityName:{id:"fld1473_38339",labelID:"PriorityName",maxLength:"50",labelname:"Priority ",frmctrlid:"fld1473_38339",frmctrlidname:"PriorityName",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},AlaramTime:{id:"fld1473_38340",labelID:"AlaramTime",maxLength:"",labelname:"Alarm Time",frmctrlid:"fld1473_38340",frmctrlidname:"AlaramTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{BMSAlaramDetailRegistry:{BMSPointValID:["BMSPointValName","BMSPointValRange1","BMSPointValRange2","IsBMSPointValEnable","BMSPointValBMSValue"],BMSAlaramID:["AlaramDateTime","","BMSAlaramCode","BMSAlaramStatus","AssetID","BMSAlaramTypeID","BMSSysID"]}}};var oe=t(6562),ce=t(45155),pe=t(79352),ue=(t(49174),t(38773)),ye=(t(19089),t(16233)),Se=t.n(ye),ge=t(82729),De=t(75355),Ae=t(11107);const Be={BMSAlaramDetailIDPK:"",BMSAlaramDetCode:"",BMSAlaramDetDescriptionName:"",BMSAlaramDetValue:"",ConditionName:"",PriorityName:"",AlaramTime:"",IsDraft:!1,Remarks:"",BMSPointValID:null,BMSAlaramID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSPointValName:"",BMSPointValBMSValue:"",BMSSysID:null,BMSSysCode:"",BMSSysName:"",AssetID:null,EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",BMSAlaramTypeID:null,BMSAlaramTypCode:"",BMSAlaramTypeName:"",BMSAlaramCode:"",BMSAlaramName:"",Type:"BMSAlaramDetailID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},Ie=(0,l.forwardRef)(((e,a)=>{const t=(0,r.useSelector)((e=>e.form)),[s,o]=(0,l.useState)(!1),[c,p]=(0,l.useState)(!0),[u,D]=(0,l.useState)(!1),[A,I]=(0,l.useState)(!1),[M,E]=(0,l.useState)(""),[f,v]=(0,l.useState)(!1),[N,h]=(0,l.useState)([]),[T,b]=(0,l.useState)(null),[w,P]=(0,l.useReducer)(se.Z,Be),[R,F]=(0,l.useState)(!1),[k,L]=(0,l.useState)([]),[Z,V]=(0,l.useState)(!1),O=(0,l.useContext)(e.context?e.context:he),{cstate:z,cdispatch:K}=e.ContextApi?e.ContextApi:Te(),[G,_]=(0,l.useState)(0),[H,j]=(0,l.useState)(""),U=(0,l.useRef)(null),[q,$]=Se()("1473"),[ae,ne]=(0,l.useState)(!0),[ye,Ie]=(0,l.useState)(!0),[Me,Ee]=(0,l.useState)(!0),[Ce,fe]=(0,l.useState)(""),[ve,Ne]=(0,l.useState)(!1);let be=(0,B.Z)();const[we,xe]=(0,l.useState)({}),Pe=e=>be[e]?be[e]:e,Re=a=>z.language?.[a]?z.language[a]:e.createEasy?we?.[a]:a;(0,l.useEffect)((()=>{z.PrimaryId&&_(Number(z.PrimaryId))}),[z.PrimaryId]),(0,l.useEffect)((()=>{Ze()}),[]),(0,l.useEffect)((()=>{Ze()}),[e.parentId]),(0,l.useEffect)((()=>{z.editData.length>0?(Le(z.editData[0],""),D(!0)):z.Add&&(Ze(),D(!0))}),[z.editData]),(0,l.useEffect)((()=>{!function(e){let a=[];e&&e.map((e=>{let t=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[t]]})})),xe(Object.assign({},...a))}(q)}),[q]),(0,l.useImperativeHandle)(a,(()=>({clear:()=>{Ze()},CreateEasyProps:(e=!0,a)=>{$(!0),a?(Ye(a),D(e)):(Ze(),D(e))},AddOpen:e=>{Ze(),D(!0)}})));const Fe=e=>{if(e){let t=(a=e)?a.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(t)?(0,ie.format)(new Date(t),"yyyy-MM-dd"):e}return null;var a},ke=e=>{if(!e)return e;if(e){let a=e.split(" "),t=a[0].split("-").reverse().join("-");return 2==a.length?t+" "+a[1]:t}},Le=(a,t)=>{Object.keys(a).forEach((function(e){0==a[e]&&(a[e]=null)})),I(a.IsDraft),"SetDefaultBMSAlaramDetailID"==t?j(a.BMSAlaramDetailIDPK):(_(e.primid?Number(e.primid):a.BMSAlaramDetailIDPK),K({type:"PrimaryId",payload:a.BMSAlaramDetailIDPK})),P({type:"text",name:"BMSAlaramDetCode",value:a.BMSAlaramDetCode?a.BMSAlaramDetCode:""}),P({type:"text",name:"BMSAlaramDetDescriptionName",value:a.BMSAlaramDetDescriptionName?a.BMSAlaramDetDescriptionName:""}),P({type:"number",name:"BMSPointValID",number:a.BMSPointValID?Number(a.BMSPointValID):0}),P({type:"text",name:"BMSPointValName",value:a.BMSPointValName}),P({type:"number",name:"BMSAlaramID",number:a.BMSAlaramID?Number(a.BMSAlaramID):0}),P({type:"text",name:"BMSAlaramName",value:a.BMSAlaramName}),P({type:"text",name:"BMSAlaramDetValue",value:a.BMSAlaramDetValue?a.BMSAlaramDetValue:""}),P({type:"text",name:"ConditionName",value:a.ConditionName?a.ConditionName:""}),P({type:"text",name:"PriorityName",value:a.PriorityName?a.PriorityName:""}),P({type:"text",name:"AlaramTime",value:a.AlaramTime?ke(a.AlaramTime):null}),a.IsDraft?p(!0):p(!("1"!=a.IsActive&&!a.IsActive))},Ze=()=>{h([]),_(0),j(""),e.createEasy||O.resetImg(),K({type:"PrimaryId",payload:""}),P({type:"text",name:"BMSAlaramDetCode",value:""}),P({type:"text",name:"BMSAlaramDetDescriptionName",value:""}),P({type:"text",name:"BMSPointValID",value:null}),P({type:"text",name:"BMSPointValName",value:""}),document.getElementById("BMSAlaramDetailRegistryBMSPointValNameClear")&&document.getElementById("BMSAlaramDetailRegistryBMSPointValNameClear").click(),P({type:"text",name:"BMSAlaramID",value:null}),P({type:"text",name:"BMSAlaramName",value:""}),document.getElementById("BMSAlaramDetailRegistryBMSAlaramNameClear")&&document.getElementById("BMSAlaramDetailRegistryBMSAlaramNameClear").click(),P({type:"text",name:"BMSAlaramDetValue",value:""}),P({type:"text",name:"ConditionName",value:""}),P({type:"text",name:"PriorityName",value:""}),P({type:"text",name:"AlaramTime",value:null}),p(!0),E(""),ne(!0),Ie(!0),Ee(!0)},Ve=a=>{O.loading(!0),O.ConfirmAlert(null);const t=g.v.Api+"FP1473S2/",l={data:[{p1:"SetDefaultBMSAlaramDetailID"==a?"NORECORDS"!=H&&H?H:0:G,p2:$e(w.BMSAlaramDetCode),p3:$e(w.BMSAlaramDetDescriptionName),p4:$e(w.BMSAlaramDetValue),p5:$e(w.ConditionName),p6:$e(w.PriorityName),p7:w.AlaramTime?Fe(w.AlaramTime):null,p8:!1,p9:"SetDefaultBMSAlaramDetailID"==a?"SetDefault":null,p10:w.BMSPointValID?w.BMSPointValID:0,p11:e.parentId?Number(e.parentId):w.BMSAlaramID?w.BMSAlaramID:0,p12:c,p13:"SetDefaultBMSAlaramDetailID"==a,p14:localStorage.getItem("userid"),p15:te()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:te()().format("YYYY-MM-DD hh:mm:ss")}]};(0,W.Z)(0).then((a=>{(0,d.Z)(t,l,a).then((a=>{const t=a.Output[0].status;let l=a.Output[0].Data,n=new Array,r=new Array;"200"===t.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(O.alert({open:!0,color:"warning",message:r}),O.loading(!1)):(a=>{ne(!0),Ie(!0),Ee(!0),O.loading(!0),O.ConfirmAlert(null),K({type:"IsDraft",payload:!1});const t=g.v.Api+"FP1473S1/",l={data:[{p1:G,p2:$e(w.BMSAlaramDetCode),p3:$e(w.BMSAlaramDetDescriptionName),p4:$e(w.BMSAlaramDetValue),p5:$e(w.ConditionName),p6:$e(w.PriorityName),p7:w.AlaramTime?Fe(w.AlaramTime):null,p8:!1,p9:null,p10:w.BMSPointValID?w.BMSPointValID:0,p11:e.parentId?Number(e.parentId):w.BMSAlaramID?w.BMSAlaramID:0,p12:c,p13:!1,p14:localStorage.getItem("userid"),p15:te()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:te()().format("YYYY-MM-DD hh:mm:ss")}]};(0,W.Z)(0).then((a=>{(0,X.Z)(t,l,a).then((a=>{const t=a[0].status;200==t.code?(O.alert({open:!0,color:"success",message:[t.message]}),document.getElementById("overlayimgAttBMSAlaramDetailRegistry"),O.loading(!1),K({type:"PrimaryId",payload:a[0].Data.IDPK}),e.createEasy||(O.RefreshTable(),O.attachmentSave(a[0].Data.IDPK)),Ze(),z.AccessRights.IsApproval&&O.Approval(!0),document.getElementById("overlayimgAttBMSAlaramDetailRegistry")&&(document.getElementById("overlayimgAttBMSAlaramDetailRegistry").style.width="0%",document.getElementById("overlayimgAttBMSAlaramDetailRegistry").style.display="none",document.getElementById("divBMSAlaramDetailRegistry-Entry").style.width="100%"),e.createEasy||(document.getElementById("BMSAlaramDetailRegistry-MainTable").style.display="block")):(O.alert({open:!0,color:"warning",message:[t.message]}),O.loading(!1)),D(!0)}))}))})()):(O.alert({open:!0,color:"warning",message:[a.Output[0].status.message]}),O.loading(!1))}))}))};function Oe(a,t,l,n){if(!(z.count>0))return O.alert({open:!0,color:"warning",message:[Pe("Please save atleast one record")]}),!1;if(!((()=>{const e={...w};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((a=>{delete e[a]})),Object.keys(e).filter((a=>e[a]))})().length>0))return O.alert({open:!0,color:"warning",message:[Pe("Please enter the primary fields")]}),!1;{ne(!0),Ie(!0),Ee(!0),O.loading(!0),O.ConfirmAlert(null),K({type:"IsDraft",payload:!1});const t=g.v.Api+"FP1473S1/",l={data:[{p1:"SetDefaultBMSAlaramDetailID"==n?"NORECORDS"!=H&&H?H:0:G,p2:$e(w.BMSAlaramDetCode),p3:$e(w.BMSAlaramDetDescriptionName),p4:$e(w.BMSAlaramDetValue),p5:$e(w.ConditionName),p6:$e(w.PriorityName),p7:w.AlaramTime?Fe(w.AlaramTime):null,p8:!0,p9:"SetDefaultBMSAlaramDetailID"==n?"SetDefault":null,p10:w.BMSPointValID?w.BMSPointValID:0,p11:e.parentId?Number(e.parentId):w.BMSAlaramID?w.BMSAlaramID:0,p12:!1,p13:"SetDefaultBMSAlaramDetailID"==n,p14:localStorage.getItem("userid"),p15:te()().format("YYYY-MM-DD hh:mm:ss"),p16:localStorage.getItem("userid"),p17:te()().format("YYYY-MM-DD hh:mm:ss")}]};(0,W.Z)(0).then((n=>{(0,X.Z)(t,l,n).then((t=>{const l=t[0].status;200==l.code?(a?O.alert({open:!0,color:"warning",message:[Pe("Deleted Successfully")]}):O.alert({open:!0,color:"success",message:[Pe("Saved to Draft")]}),O.loading(!1),O.attachmentSave(t[0].Data.IDPK),Ze(),O.RefreshTable(),e.clrImgstate(!0)):(O.alert({open:!0,color:"warning",message:[l.message]}),O.loading(!1))}))}))}}function ze(e){return CreateEasy(e,z,K,O,U),!1}function Ke(e,t){return AdvanceSearch(e,t,he,Te(),He,a),!1}const Ge=(a,t,l,n,r,i)=>{const m=g.v.Api+"FP1473S3/",s={data:{p1:null,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:"0"==w.BMSPointValID?null:w.BMSPointValID,p11:e.parentId?Number(e.parentId):0,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:t?"%"+t+"%":null,p20:t?"%"+t+"%":null,p21:"0"==w.BMSSysID?null:w.BMSSysID,p22:t?"%"+t+"%":null,p23:t?"%"+t+"%":null,p24:"0"==w.AssetID?null:w.AssetID,p25:t?"%"+t+"%":null,p26:t?"%"+t+"%":null,p27:t?"%"+t+"%":null,p28:t?"%"+t+"%":null,p29:"0"==w.BMSAlaramTypeID?null:w.BMSAlaramTypeID,p30:t?"%"+t+"%":null,p31:t?"%"+t+"%":null,p32:t?"%"+t+"%":null,p33:t?"%"+t+"%":null,p34:a,p35:10,p36:l,p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},o=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,a,t)=>(e[a]=t>Object.keys(s.data).length-8?s.data[a]:null,e)),{});F(!0);const c={data:o};return(0,d.Z)(m,"ClearAll"==l?c:s,"SetDefaultBMSAlaramDetailID"==l&&n?n:z.token[0]).then((e=>{const t=e.Output.status.code,n=e.Output.data;if("200"==t){const e=n.length;if(r)return 1==n.length?n[0]:{};L(1==a?e>0?n:[]:k.concat(n)),"SetDefaultBMSAlaramDetailID"==l&&(e>0?Le(n[0],"SetDefaultBMSAlaramDetailID"):j("NORECORDS")),F(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),F(!1)}))},_e=(a,l,n)=>{const r=g.v.Api+"FP1473S3/",i={data:{p1:null,p2:"BMSAlaramDetCode"==n&&l?"%"+l+"%":null,p3:"BMSAlaramDetDescriptionName"==n&&l?"%"+l+"%":null,p4:"BMSAlaramDetValue"==n&&l?"%"+l+"%":null,p5:"ConditionName"==n&&l?"%"+l+"%":null,p6:"PriorityName"==n&&l?"%"+l+"%":null,p7:"AlaramTime"==n&&l?"%"+l+"%":null,p8:null,p9:null,p10:null,p11:t.BMSAlaramRegistryBMSAlaramID?t.BMSAlaramRegistryBMSAlaramID:"0",p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:a,p35:10,p36:"BMSAlaramDetailID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}},m={data:Object.keys(i.data).slice(0,Object.keys(i.data).length).reduce(((e,a,t)=>(e[a]=t>Object.keys(i.data).length-8?i.data[a]:null,e)),{})};F(!0),(0,d.Z)(r,"ClearAll"==n?m:i,z.token[0]).then((e=>{const t=e.Output.status.code,l=e.Output.data;if("200"==t){const e=l.length;1==a?("BMSAlaramDetCode"==n&&ne(e>0),"BMSAlaramDetDescriptionName"==n&&Ie(e>0),"ConditionName"==n&&Ee(e>0),L(l)):("BMSAlaramDetCode"==n&&ne(!0),"BMSAlaramDetDescriptionName"==n&&Ie(!0),"ConditionName"==n&&Ee(!0),L(k.concat(l))),F(!1)}else O.alert({open:!0,color:"warning",message:[e.Output.status.message]}),F(!1)}))},He=(0,l.useCallback)((async(e,a,t)=>{"text"==t?P({type:t,name:a,value:e}):"number"==t?P({type:t,name:a,number:Number(e)}):"boolean"==t?P({type:t,name:a,boolean:e}):"date"==t?P({type:"text",name:a,value:e}):"select"==t&&"BMSPointValID"==a&&(P({type:"text",name:"BMSPointValID",value:e.BMSPointValIDPK?e.BMSPointValIDPK:null}),P({type:"text",name:"BMSPointValName",value:e.BMSPointValName?e.BMSPointValName:null}))}),[w]);function je(e){if("BMSPointValID"==e){if(!w.BMSPointValID)return!1;P({type:"text",name:"BMSPointValID",value:null}),P({type:"text",name:"BMSPointValName",value:""}),document.getElementById("BMSAlaramDetailRegistryBMSPointValNameClear")&&document.getElementById("BMSAlaramDetailRegistryBMSPointValNameClear").click()}else if("BMSAlaramID"==e&&!w.BMSAlaramID)return!1}function Ue(e){if("BMSPointValID"==e){if(!w.BMSPointValID)return!1;P({type:"text",name:"BMSPointValID",value:null})}else if("BMSAlaramID"==e&&!w.BMSAlaramID)return!1}const qe=e=>{O.ConfirmAlert(n().createElement(re(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>Ye(e),onCancel:()=>O.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Pe("Yes"),cancelBtnText:Pe("No"),showCancel:!0},Pe("Do you want to update this record?")))};function Ye(e){O.ConfirmAlert(null),I(e.IsDraft),_(Number(e.BMSAlaramDetailIDPK)?Number(e.BMSAlaramDetailIDPK):0),P({type:"text",name:"BMSAlaramDetCode",value:e.BMSAlaramDetCode?e.BMSAlaramDetCode:""}),P({type:"text",name:"BMSAlaramDetDescriptionName",value:e.BMSAlaramDetDescriptionName?e.BMSAlaramDetDescriptionName:""}),P({type:"number",name:"BMSPointValID",number:e.BMSPointValID?Number(e.BMSPointValID):0}),P({type:"text",name:"BMSPointValName",value:e.BMSPointValName?e.BMSPointValName:""}),P({type:"number",name:"BMSAlaramID",number:e.BMSAlaramID?Number(e.BMSAlaramID):0}),P({type:"text",name:"BMSAlaramName",value:e.BMSAlaramName?e.BMSAlaramName:""}),P({type:"text",name:"BMSAlaramDetValue",value:e.BMSAlaramDetValue?e.BMSAlaramDetValue:""}),P({type:"text",name:"ConditionName",value:e.ConditionName?e.ConditionName:""}),P({type:"text",name:"PriorityName",value:e.PriorityName?e.PriorityName:""}),P({type:"text",name:"AlaramTime",value:e.AlaramTime?ke(e.AlaramTime):null})}const $e=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:u,onChange:e=>{}},n().createElement(x.Z,null,n().createElement("div",{className:"displayFlex backgroundLightLev1 borderRadiusTop width100"},u&&n().createElement("div",{style:{width:"100%",height:"35px",display:"flex",justifyContent:"space-between",marginTop:"6px",padding:"0px 4px 0px 0px"}},n().createElement("div",{className:"HeadTxt",title:"10.0.0.44-5:05:35 PM-30-5[1473]"}," ",Pe("Add "),Re("1473")),n().createElement("div",{className:"displayFlex EntryHeaderBtn"},z.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(oe.Z,{row:!0},n().createElement(J.Z,{labelPlacement:"bottom",id:"fld1473L1ECEntryCheckbox",control:n().createElement(C.Z,{checked:"1"==c,onChange:e=>p(e.target.checked)}),label:Pe(1==c?"Active":"In Active")})))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{O.AttachExpand(!0)},id:"fld1473L1ECIconButton"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",{disableRipple:!0,disabled:!1},n().createElement(ce.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Pe("Attach")))),!G&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Ze()},id:"fld1473L1ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(ce.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Pe("Reset")))),"1"===A&&G&&n().createElement(ee.Z,{frmctrlid:"fld1473L1ECClearBtnIsDraft",disabled:!1,name:"Delete",onClick:()=>{Oe("draftdel")}}),G&&"1"!==A||e.createEasy?null:z.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{Oe()},frmctrlid:"fld1473L1ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(pe.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,Pe("Draft")))),z.AccessRights.IsAdd||z.AccessRights.IsEdit?n().createElement(le.Z,{frmctrlid:"fld1473L1ECSaveBtnIsAdd",name:Pe(G?"Update":"Save"),disabled:!1,onClick:()=>{w.BMSPointValID&&0!=w.BMSPointValID?e.parentId&&0!=e.parentId?$e(w.BMSAlaramDetValue)?O.ConfirmAlert(n().createElement(re(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:Pe("Are you sure?"),onConfirm:()=>Ve(),onCancel:()=>O.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:Pe("Yes"),cancelBtnText:Pe("Cancel"),showCancel:!0},Pe(G?"Do you want to Update?":"Do you want to Save?"))):O.alert({open:!0,color:"warning",message:[Pe("Please enter the")+""+Re("BMSAlaramDetValue")]}):O.alert({open:!0,color:"warning",message:[Pe("Please select the ")+" "+Re("BMSAlaramID")]}):O.alert({open:!0,color:"warning",message:[Pe("Please select the ")+" "+Re("BMSPointValID")]})}}):null,!e.createEasy&&n().createElement(Y.Z,{frmctrlid:"fld1473L1ECCloseBtn",className:"L1AddBtnCommon",disabled:!1,onClick:()=>{Ze(),D(!1),O.EditClose(!0),O.hideAddBtn(!1),K({type:"Add",payload:!1})}}))))),n().createElement(m.Z,null,n().createElement("div",{id:"BMSAlaramDetailRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"BMSAlaramDetailRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"BMSAlaramDetailRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(ge.Z,null,n().createElement(Ae.Z,{color:"info",icon:!0,className:"cardheadvh",style:{display:"none"}},n().createElement(y.Z,null,n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(De.Z,{style:{padding:"5px 20px 15px"}},n().createElement(y.Z,{spacing:2},n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(me.Z,{"data-testid":w.BMSAlaramDetCode,json:de,SPName:"BMSAlaramDetailRegistry",FieldName:"BMSAlaramDetCode",tfLabel:Re("BMSAlaramDetCode"),EnterSave:a=>{a&&e.submitConfirmation(a)},onSelect:a=>!e.createEasy&&qe(a),onClick:()=>{ae&&_e(1,"","ClearAll"),ne(!0)},frmctrlid:"fld1473_38335",frmctrlidName:"BMSAlaramDetCode",fieldorder:"0",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,a)=>{ae&&_e(e,a,"BMSAlaramDetCode"),He(a,"BMSAlaramDetCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ne(!0)},showList:ae,SideEntryView:!1,KeyBack:e=>{},value:w.BMSAlaramDetCode,loading:R,clear:e=>{e&&(P({type:"text",name:"BMSAlaramDetCode",value:""}),ne(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(me.Z,{"data-testid":w.BMSAlaramDetDescriptionName,json:de,SPName:"BMSAlaramDetailRegistry",FieldName:"BMSAlaramDetDescriptionName",tfLabel:Re("BMSAlaramDetDescriptionName"),EnterSave:a=>{a&&e.submitConfirmation(a)},onSelect:a=>!e.createEasy&&qe(a),onClick:()=>{ye&&_e(1,"","ClearAll"),Ie(!0)},frmctrlid:"fld1473_38336",frmctrlidName:"BMSAlaramDetDescriptionName",fieldorder:"0",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,a)=>{ye&&_e(e,a,"BMSAlaramDetDescriptionName"),He(a,"BMSAlaramDetDescriptionName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ie(!0)},showList:ye,SideEntryView:!1,KeyBack:e=>{},value:w.BMSAlaramDetDescriptionName,loading:R,clear:e=>{e&&(P({type:"text",name:"BMSAlaramDetDescriptionName",value:""}),Ie(!0))}}))))),n().createElement(ge.Z,null,n().createElement(Ae.Z,{color:"info",icon:!0,className:"cardheadvh"},n().createElement(y.Z,null,n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement("div",{className:"GrpViewHeadingTitle"},n().createElement("p",null))))),n().createElement(De.Z,{style:{padding:"5px 20px 15px"}},n().createElement(y.Z,{spacing:2},n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(me.Z,{json:de,id:w.BMSPointValID,"data-testid":w.BMSPointValID,value:w.BMSPointValName,SPName:"BMSAlaramDetailRegistry",FieldName:"BMSPointValID",tfLabel:Re("BMSPointValID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>He(e,"BMSPointValID","select"),onChange:(e,a)=>{Ge(e,a,"BMSPointValIDPK")},KeyBack:e=>{Ue("BMSPointValID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{ze("1480")},Tabledialog:()=>Ke("1480","BMSPointValID"),loading:R,clear:e=>{e&&je("BMSPointValID")}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(me.Z,{json:de,id:w.BMSAlaramID,"data-testid":w.BMSAlaramID,value:w.BMSAlaramName,SPName:"BMSAlaramDetailRegistry",FieldName:"BMSAlaramID",tfLabel:Re("BMSAlaramID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>He(e,"BMSAlaramID","select"),onChange:(e,a)=>{Ge(e,a,"BMSAlaramIDPK")},KeyBack:e=>{Ue("BMSAlaramID")},fieldorder:"1",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,openSlide:()=>{ze("1474")},Tabledialog:()=>Ke("1474","BMSAlaramID"),loading:R,clear:e=>{e&&je("BMSAlaramID")}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Q.Z,{json:de,"data-testid":w.BMSAlaramDetValue,SPName:"BMSAlaramDetailRegistry",FieldName:"BMSAlaramDetValue",tfLabel:Re("BMSAlaramDetValue"),frmctrlid:"fld1473_38337",fieldorder:"2",onChange:e=>{He(e,"BMSAlaramDetValue","text")},clear:e=>{e&&P({type:"text",name:"BMSAlaramDetValue",value:""})},value:w.BMSAlaramDetValue})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(me.Z,{"data-testid":w.ConditionName,json:de,SPName:"BMSAlaramDetailRegistry",FieldName:"ConditionName",tfLabel:Re("ConditionName"),EnterSave:a=>{a&&e.submitConfirmation(a)},onSelect:a=>!e.createEasy&&qe(a),onClick:()=>{Me&&_e(1,"","ClearAll"),Ee(!0)},frmctrlid:"fld1473_38338",frmctrlidName:"ConditionName",fieldorder:"2",data:k,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:k.length>0?k[0].TotalCount:0,onChange:(e,a)=>{Me&&_e(e,a,"ConditionName"),He(a,"ConditionName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||Ee(!0)},showList:Me,SideEntryView:!1,KeyBack:e=>{},value:w.ConditionName,loading:R,clear:e=>{e&&(P({type:"text",name:"ConditionName",value:""}),Ee(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(Q.Z,{json:de,"data-testid":w.PriorityName,SPName:"BMSAlaramDetailRegistry",FieldName:"PriorityName",tfLabel:Re("PriorityName"),frmctrlid:"fld1473_38339",fieldorder:"3",onChange:e=>{He(e,"PriorityName","text")},clear:e=>{e&&P({type:"text",name:"PriorityName",value:""})},value:w.PriorityName})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,style:{display:"none"}},n().createElement(ue.Z,{"data-testid":w.AlaramTime,onErr:e=>{fe(e)},value:w.AlaramTime,onChange:e=>{He(e,"AlaramTime","date")},label:Re("AlaramTime"),frmctrlid:"fld1473_38340",frmctrlidName:"AlaramTime",fieldorder:"3"})))))),n().createElement("div",{id:"BMSAlaramDetailRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BMSAlaramDetailRegistrySideBar").style.width="0",void v(!1))},""),f&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},T))))))))}));t(77366),t(97829);var Me=t(65197);const Ee=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(),[s,o]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[c,p]=(0,l.useState)(!0),[u,y]=(0,l.useState)(e.showDetail),[S,D]=(0,l.useState)(""),[A,I]=n().useState(!1),[M,E]=n().useState(""),[C,f]=n().useState(!1),v=(0,l.useContext)(he),{cstate:N,cdispatch:h}=Te(),[T,b]=(0,l.useState)(!1),[w,P]=(0,l.useState)(""),[R,F]=(0,l.useState)(""),[k,L]=(0,l.useState)("");let Z=(0,B.Z)();(0,l.useEffect)((()=>{N.editData.length>0&&(o(N.editData),I(!1),h({type:"PrimaryId",payload:N.editData[0].BMSAlaramDetailIDPK}))}),[N.editData]),(0,l.useEffect)((()=>{N.showTableview&&L(N.showTableview)}),[N.showTableview]),(0,l.useEffect)((()=>{p(N.ExpandDetailValue)}),[N.ExpandDetailValue]),(0,l.useEffect)((()=>{p(N.ExpandDetailValue)}),[e.L3data]),(0,l.useImperativeHandle)(a,(()=>({tableClick:e=>{p(e),I(null)},viewtoggle:()=>{I(!1)},viewlistProps:(a,t)=>{!function(a,t=!1){let l=g.v.Api+"FP1473S3/",n={data:{p1:a,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:e.Dialogview?"1":null,p13:null,p14:null,p15:null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:1,p35:10,p36:N.IsDraft?"DraftBMSAlaramDetailID":"BMSAlaramDetailID",p37:null,p38:null,p39:localStorage.getItem("UserGroupID"),p40:localStorage.getItem("userid")}};(0,W.Z)(0).then((e=>{(0,d.Z)(l,n,e).then((e=>{v.loading(!1),"200"==e.Output.status.code&&o(e.Output.data)}))}))}(a,t)},clear:()=>{"panel0"===A&&t.current.clear()}})));const V=e=>Z?.[e]?Z?.[e]:e,O=e=>N.language?.[e]?N.language[e]:e;function K(e,a){}const G=(e,a)=>(t,l)=>{E(C?Object.assign(...s.filter((e=>e.BMSAlaramDetailIDPK==a)).map((e=>e))):N.editData),I(!l&&e)};return n().createElement("div",null,n().createElement(i.Z,{expanded:c,onChange:()=>()=>{e.expandTable&&p(!c)}},!A&&n().createElement(x.Z,null,n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},c?n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("p",{className:"ListP"},N.IsDraft?V("Draft"):"",O("BMSAlaramDetailRegistry"),e.viewonly?" ":"("+N.count+")")):"",c?n().createElement("div",{className:"displayFlex EntryHeaderBtn"},!e.viewonly&&N.AccessRights.IsAdd?n().createElement(z.Z,{name:V("Add"),frmctrlid:"fld1473L1VCAddBtn",className:"AddBtnCommon boxShadowNone",onClick:()=>{v.hideAddBtn(!0),h({type:"editData",payload:[]}),h({type:"ShowDetail",payload:!1}),h({type:"Add",payload:!0})},disabled:!1}):"",!e.viewonly&&N.AccessRights.IsEdit?n().createElement($.Z,{frmctrlid:"fld1473L1VCEditBtn",onClick:G("panel0",""),disabled:!1}):N.IsDraft&&N.AccessRights.IsAdd&&n().createElement($.Z,{frmctrlid:"fld1473L1VCEditBtnIsAdd",onClick:()=>{G("panel","")},disabled:!1}),!e.viewonly&&n().createElement(Y.Z,{disabled:!1,className:"L1AddBtnCommon",frmctrlid:"fld1473L1VCCloseBtn",onClick:()=>{p(!1),v.hideAddBtn(!1),C&&(h({type:"editData",payload:[]}),o([]))}})):"")),n().createElement(m.Z,{style:{display:"block"}},s.map(((a,l)=>n().createElement("div",{key:l},A==="panel"+l?n().createElement(Ie,{ref:t,parentId:e.parentId}):n().createElement(n().Fragment,null,n().createElement(Me.Z,{tableName:"BMSAlaramDetailRegistry",tableID:1473,parentID:a.BMSAlaramDetailIDPK,fldid:"fld1473L1VCContainer",OpenSlideComponent:K,index:l,refresh:k,val:a,tf:O,t:V,title:"10.0.0.44-5:05:35 PM-30-5[1473]"}))))))))}));var Ce=t(67698),fe=t(55995),ve=t(45965),Ne=t(41722);t(9175);const he=(0,l.createContext)(),Te=()=>{const e=(0,l.useContext)(he);if(void 0===e)throw new Error("useCont must be used within  BMSAlaramDetailRegistryContext Provider");return e},be=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(),i=(0,l.useRef)(),m=(0,l.useRef)(),s=(0,l.useRef)(),d=(0,l.useRef)(),[o,c]=(0,l.useState)(!0),[p,u]=(0,l.useState)(),y=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[S,g]=(0,l.useState)(0),[D,A]=(0,l.useReducer)(Ne.D,Ne.E),[B,I]=(0,l.useState)(""),[M,E]=(0,l.useState)([]),[C,f]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),e.tableview||i.current.clear(),document.getElementById("divBMSAlaramDetailRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{c(!0),document.getElementById("divBMSAlaramDetailRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.add("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(A({type:"editData",payload:[e.editData]}),A({type:"ShowDetail",payload:!0}))}),[e.editData]),(0,l.useImperativeHandle)(a,(()=>({AddOpen:(e,a)=>{A(a?{type:"AccessRights",payload:{IsAdd:!0,IsEdit:!0,IsView:!0,IsDelete:!0,IsPrint:!0,IsExport:!0}}:{type:"AccessRights",payload:{IsAdd:!1,IsEdit:!1,IsView:!1,IsDelete:!0,IsPrint:!0,IsExport:!0}}),i.current.AddOpen(e),setTimeout((()=>t.current.HideEntryFields(!0)),500)},AddClose:()=>{setTimeout((()=>t.current.HideEntryFields(!0)),500)}})));const v=e=>{E([]),document.getElementById("divBMSAlaramDetailRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramDetailRegistryEntryTable").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBMSAlaramDetailRegistry").style.width="0%",document.getElementById("overlayimgAttBMSAlaramDetailRegistry").style.display="none"};(0,l.useEffect)((()=>{y((e=>{(0,W.Z)(1).then((e=>{var a=new Array;a.push(e),A({type:"token",payload:a}),g(a.length),N(e)}))}))}),[]);const N=e=>{(0,ve.Z)(e,1474).then((e=>A({type:"AccessRights",payload:e})))};return n().createElement("div",{style:{width:"100%"}},n().createElement(he.Provider,{value:{cstate:D,cdispatch:A,ContextApi:Te,loading:a=>e.loading(a),alert:a=>e.alertmsg(a),ShareTab:(a,t)=>e.TabShare(a,t),ConfirmAlert:a=>e.ConfirmAlert(a),SlideComponentType:a=>e.SlideComponentType(a),openNav:a=>e.openNav(a),RefreshTable:()=>{t.current.tableRefresh()},searchItem:e=>{0!==S&&t.current.searchItem(e)},openDialog:a=>e.openDialog(a),DialogComponentType:a=>e.DialogComponentType(a),attachmentSave:e=>{d.current.tempsave(e,M),E([])},EditClose:e=>v(),AttachExpand:e=>(s.current.AttachmentData(D.PrimaryId),void(o&&(document.getElementById("overlayPreviewBMSAlaramDetailRegistry").style.width="50%",document.getElementById("divBMSAlaramDetailRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramDetailRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBMSAlaramDetailRegistry").style.display="block",document.getElementById("overlayimgAttBMSAlaramDetailRegistry").style.width="25%"))),Expanded:e=>{D.ShowDetail&&m.current.tableClick(e),A({type:"ExpandDetailValue",payload:e})},viewtoggle:()=>{D.ShowDetail&&m.current.viewtoggle()},clear:e=>{A({type:"ShowDetail",payload:!1}),A({type:"editData",payload:[]}),D.ShowDetail?m.current.clear(e):i.current.clear(e)},hideAddBtn:e=>{t.current.HideEntryFields(e)},ExpandEntry:()=>{D.ShowDetail?m.current.tableClick(!1):i.current.CreateEasyProps(!1)},resetImg:()=>{d.current.tempClear(),s.current.clrImgstate(!0)}}},n().createElement("div",{id:"BMSAlaramDetailRegistry-MainDiv",className:"MainDivStyles displayFlex",style:{height:e.subForm&&"fit-content"}},n().createElement("div",{id:"BMSAlaramDetailRegistry-MainEntry",className:"",style:{background:"#fff"}},n().createElement("div",{style:{display:"flex"}},n().createElement("div",{id:"BMSAlaramDetailRegistryEntryTable",style:{width:"100%"}},D.ShowDetail?n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSAlaramDetailRegistry-Entry",style:{width:"100%"}},0!==S?n().createElement(Ee,{ref:m,IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}):null)),n().createElement(fe.Z,{ref:d,menurefID:1473,fileId:"LogoImgBMSAlaramDetailRegistry",imgloading:a=>{a||D.PrimaryId?e.loading(a):t.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewBMSAlaramDetailRegistry",frmctrlid:"PvwIm_1473_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),E(e)},clearTempData:D.Add})):n().createElement("div",null,n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSAlaramDetailRegistry-Entry",style:{width:"100%"}},!e.tableview&&n().createElement(Ie,{ref:i,clrImgstate:e=>s.current.clrImgstate(e),IsEditOpen:e.AddOpen,IsDraftEdit:e.IsDraft,parentId:e.parentId}))),n().createElement(fe.Z,{ref:d,menurefID:1473,fileId:"LogoImgBMSAlaramDetailRegistry",imgloading:a=>{a||D.PrimaryId?e.loading(a):t.current.tableRefresh()},valueIDPK:D.PrimaryId,AttachmentVal:e=>s.current.AttachmentData(e),previd:"overlayPreviewBMSAlaramDetailRegistry",frmctrlid:"PvwIm_1473_L1_",tempImg:e=>{D.PrimaryId?s.current.AttachmentData(D.PrimaryId):s.current.tempImg(e),E(e)},clearTempData:D.Add})),n().createElement("div",{id:"BMSAlaramDetailRegistry-MainTable"},0!==S?n().createElement(q,{ref:t,parentId:e.parentId,IsCollapse:e.IsCollapse,tableview:e.tableview}):null)),n().createElement(Ce.Z,{ImgAttachment:e=>v(),menurefID:1473,fileId:"AttImgBMSAlaramDetailRegistry",imgid:"overlayimgAttBMSAlaramDetailRegistry",valueIDPK:D.PrimaryId,PriviewData:(e,a,t,l)=>{d.current.PriviewItem(e,a,t,l)},previd:"overlayPreviewBMSAlaramDetailRegistry",ref:s,imgloading:p,ConfirmAlert:a=>{e.ConfirmAlert(a)},frmctrlid:"Imgatt_1473_L1_",timglist:e=>{d.current.timglist(e),E(e)},clearTempData:D.Add}))),n().createElement("div",{id:"BMSAlaramDetailRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}}))))}))},20803:(e,a,t)=>{t.r(a),t.d(a,{default:()=>z});var l=t(92950),n=t.n(l),r=t(45237),i=t(36939),m=t(61201),s=t(50743),d=(t(10966),t(30553)),o=(t(99090),t(44528)),c=t(37148),p=t(61956),u=t(51673),y=(t(96071),t(14439)),S=t(27848),g=(t(49174),t(38773),t(19089)),D=t(1695),A=(t(13235),t(61924)),B=t.n(A),I=t(26537),M=t(40900),E=t(35131),C=t.n(E),f=t(55490),v=(t(2493),t(92371)),N=(t(82729),t(75355),t(11107),t(40826)),h=t(84595),T=t(55144),b=t(8981),w=t(63163),x=t(80471),P=t(47516),R=t(45155),F=t(79352),k=t(63750),L=t(51649),Z=t(16233),V=t.n(Z);const O={BMSAlaramIDPK:"",BMSAlaramCode:"",BMSAlaramName:"",AlaramDateTime:"",AlaramDateTimeType:"",AlaramDateTimeBetween:"",AlaramDesCription:"",BMSAlaramStatus:"",IsCCMRaised:!1,IsDraft:!1,Remarks:"",BMSSysID:null,AssetID:null,BMSAlaramTypeID:null,IsActive:!0,DeleStat:!1,CreatedUserID:null,CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSManagedID:null,BMSManagedCode:"",BMSTypeID:null,BMSTypCode:"",BMSTypeNmae:"",BMSSysCode:"",BMSSysName:"",AssetCategoryID:null,AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:null,AssetTypCode:"",AssetTypeName:"",PriorityID:null,PriorityCode:"",PriorityName:"",DivisionID:null,DivisionCode:"",DivisionName:"",DisciplineID:null,DisciplineCode:"",DisciplineName:"",BuildingID:null,BuildingCode:"",BuildingName:"",FloorID:null,FloorCode:"",FloorName:"",SpotID:null,SpotCode:"",SpotName:"",LocalityID:null,LocalityCode:"",LocalityName:"",StatusID:null,StatusCode:"",StatusName:"",ConditionID:null,ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:null,MakeCode:"",MakeName:"",ModelID:null,ModelCode:"",ModelName:"",ServiceAreaID:null,ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:null,TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",BMSAlaramTypCode:"",BMSAlaramTypeName:"",Type:"BMSAlaramID",UserGroupKey:localStorage.getItem("UserGroupID"),UserAccessKey:localStorage.getItem("userid")},z=(0,l.forwardRef)(((e,a)=>{(0,r.useSelector)((e=>e.form));const[t,A]=(0,l.useState)(!1),[E,Z]=(0,l.useState)(!0),[z,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)(!1),[H,j]=(0,l.useState)(!1),[U,q]=(0,l.useState)(!1),[Y,$]=(0,l.useState)([]),[W,J]=(0,l.useState)(null),[X,Q]=(0,l.useReducer)(v.Z,O),[ee,ae]=(0,l.useState)(!1),[te,le]=(0,l.useState)([]),[ne,re]=(0,l.useState)(0),[ie,me]=(0,l.useState)(""),[se,de]=(0,l.useState)(!0),[oe,ce]=(0,l.useState)(!0),[pe,ue]=(0,l.useState)(""),ye=(0,l.useContext)(T.BMSAlaramRegistryContext),{cstate:Se,cdispatch:ge}=(0,T.ContextApi)(),[De]=(0,l.useState)(localStorage.getItem("Language")),[Ae]=(0,l.useState)(localStorage.getItem("Language")),Be=(0,l.useRef)(null),[Ie,Me]=V()("1474"),[Ee,Ce]=(0,l.useState)(!1);let fe=(0,b.Z)();const[ve,Ne]=(0,l.useState)({}),he=e=>fe?.[e]?fe[e]:e,Te=a=>Se.language?.[a]?Se.language[a]:e.createEasy?ve?.[a]:a;(0,l.useEffect)((()=>{Se.PrimaryId&&re(Number(Se.PrimaryId))}),[Se.PrimaryId]),(0,l.useEffect)((()=>{Se.editData.length<0&&(0,I.Z)(1).then((e=>{Oe(1,null,"SetDefaultBMSAlaramID",e)}))}),[]),(0,l.useEffect)((()=>{Se.editData.length>0?(xe(Se.editData[0],""),_(!0)):Se.Add&&(Pe(),_(!0))}),[Se.editData]),(0,l.useEffect)((()=>{!function(e){let a=[];e&&e.map((e=>{let t=localStorage.getItem("Language");a.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[t]]})})),Ne(Object.assign({},...a))}(Ie)}),[Ie]),(0,l.useImperativeHandle)(a,(()=>({getAlert(e){_(!0),K(!1)},CreateEasyProps:(e=!0,a)=>{Me(!0),a?(je(a),_(e)):(Pe(),_(e))}})));const be=e=>{if(e){let t=(a=e)?a.split("-").reverse().join("-"):null;return"Invalid Date"!=new Date(t)?(0,N.format)(new Date(t),"yyyy-MM-dd"):e}return null;var a},we=e=>{if(!e)return e;if(e){let a=e.split(" "),t=a[0].split("-").reverse().join("-");return 2==a.length?t+" "+a[1]:t}},xe=(a,t,l)=>{let n=a;Object.keys(n).forEach((function(e){0==n[e]&&(n[e]=null)})),j(n.IsDraft),ge({type:"EditIsDraft",payload:"1"==n.IsDraft}),"SetDefaultBMSAlaramID"==t?me(n.BMSAlaramIDPK):(re(e.primid?Number(e.primid):n.BMSAlaramIDPK),ge({type:"PrimaryId",payload:n.BMSAlaramIDPK})),Q({type:"text",name:"BMSAlaramCode",value:n.BMSAlaramCode?n.BMSAlaramCode:""}),Q({type:"text",name:"BMSAlaramName",value:n.BMSAlaramName?n.BMSAlaramName:""}),Q({type:"text",name:"AlaramDateTime",value:n.AlaramDateTime?we(n.AlaramDateTime):null}),Q({type:"text",name:"AlaramDesCription",value:n.AlaramDesCription?n.AlaramDesCription:""}),Q({type:"text",name:"BMSAlaramStatus",value:n.BMSAlaramStatus?n.BMSAlaramStatus:""}),Q({type:"number",name:"BMSAlaramTypeID",number:n.BMSAlaramTypeID?Number(n.BMSAlaramTypeID):0}),Q({type:"text",name:"BMSAlaramTypeName",value:n.BMSAlaramTypeName}),Q({type:"number",name:"AssetID",number:n.AssetID?Number(n.AssetID):0}),Q({type:"text",name:"EquipmentName",value:n.EquipmentName}),Q({type:"number",name:"BMSSysID",number:n.BMSSysID?Number(n.BMSSysID):0}),Q({type:"text",name:"BMSSysName",value:n.BMSSysName}),Q({type:"boolean",name:"IsCCMRaised",boolean:!!n.IsCCMRaised&&n.IsCCMRaised}),n.IsDraft?Z(!0):Z(!("1"!=n.IsActive&&!n.IsActive))},Pe=()=>{$([]),re(0),me(""),de(!0),ce(!0),ge({type:"PrimaryId",payload:""}),Q({type:"text",name:"BMSAlaramCode",value:""}),Q({type:"text",name:"BMSAlaramName",value:""}),Q({type:"text",name:"AlaramDateTime",value:null}),Q({type:"text",name:"AlaramDesCription",value:""}),Q({type:"text",name:"BMSAlaramStatus",value:""}),Q({type:"text",name:"BMSAlaramTypeID",value:null}),Q({type:"text",name:"BMSAlaramTypeName",value:""}),document.getElementById("BMSAlaramRegistryBMSAlaramTypeNameClear")&&document.getElementById("BMSAlaramRegistryBMSAlaramTypeNameClear").click(),Q({type:"text",name:"AssetID",value:null}),Q({type:"text",name:"EquipmentName",value:""}),document.getElementById("BMSAlaramRegistryEquipmentNameClear")&&document.getElementById("BMSAlaramRegistryEquipmentNameClear").click(),Q({type:"text",name:"BMSSysID",value:null}),Q({type:"text",name:"BMSSysName",value:""}),document.getElementById("BMSAlaramRegistryBMSSysNameClear")&&document.getElementById("BMSAlaramRegistryBMSSysNameClear").click(),Q({type:"boolean",name:"IsCCMRaised",boolean:!1}),Z(!0)},Re=e=>Ue(X.BMSAlaramCode)?Ue(X.BMSAlaramName)?X.BMSAlaramTypeID&&0!=X.BMSAlaramTypeID?X.BMSSysID&&0!=X.BMSSysID?void Fe(e):(ye.alert({open:!0,color:"warning",message:[he("Please select the ")+" "+Te("BMSSysID")]}),!1):(ye.alert({open:!0,color:"warning",message:[he("Please select the ")+" "+Te("BMSAlaramTypeID")]}),!1):(ye.alert({open:!0,color:"warning",message:[he("Please enter the")+""+Te("BMSAlaramName")]}),!1):(ye.alert({open:!0,color:"warning",message:[he("Please enter the")+""+Te("BMSAlaramCode")]}),!1),Fe=()=>{ye.ConfirmAlert(n().createElement(B(),{warning:!0,Size:"sm",style:{display:"block",marginTop:"100px"},title:he("Are you sure?"),onConfirm:()=>ke("",!1),onCancel:()=>ye.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:he("Yes"),cancelBtnText:he("Cancel"),showCancel:!0},Se.PrimarId?he("Do you want to Update?"):he("Do you want to Save?")))},ke=(e,a)=>{ye.loading(!0),ye.ConfirmAlert(null),ge({type:"IsDraft",payload:!1});const t=M.v.Api+"FP1474S2/",l={data:[{p1:"SetDefaultBMSAlaramID"==e?"NORECORDS"!=ie&&ie?ie:0:ne,p2:Ue(X.BMSAlaramCode),p3:Ue(X.BMSAlaramName),p4:X.AlaramDateTime?be(X.AlaramDateTime):null,p5:Ue(X.AlaramDesCription),p6:Ue(X.BMSAlaramStatus),p7:X.IsCCMRaised,p8:a,p9:"SetDefaultBMSAlaramID"==e?"SetDefault":null,p10:X.BMSSysID?X.BMSSysID:0,p11:X.AssetID?X.AssetID:0,p12:X.BMSAlaramTypeID?X.BMSAlaramTypeID:0,p13:E,p14:"SetDefaultBMSAlaramID"==e,p15:localStorage.getItem("userid"),p16:C()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:C()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((a=>{(0,u.Z)(t,l,a).then((a=>{const t=a.Output[0].status;let l=a.Output[0].Data,n=new Array,r=new Array;"200"===t.code?(l.map((e=>{e&&(n.push(e.IsAlert),r.push(e.AlertMessage),e.AlertMessage)})),n.some((e=>"1"==e))?(ye.alert({open:!0,color:"warning",message:r}),ye.loading(!1)):Le(e,!1)):(ye.alert({open:!0,color:"warning",message:[a.Output[0].status.message]}),ye.loading(!1))}))}))},Le=(a,t)=>{de(!0),ce(!0),ye.loading(!0),ye.ConfirmAlert(null);const l=M.v.Api+"FP1474S1/",n={data:[{p1:"SetDefaultBMSAlaramID"==a?"NORECORDS"!=ie&&ie?ie:0:ne,p2:Ue(X.BMSAlaramCode),p3:Ue(X.BMSAlaramName),p4:X.AlaramDateTime?be(X.AlaramDateTime):null,p5:Ue(X.AlaramDesCription),p6:Ue(X.BMSAlaramStatus),p7:X.IsCCMRaised,p8:t,p9:"SetDefaultBMSAlaramID"==a?"SetDefault":null,p10:X.BMSSysID?X.BMSSysID:0,p11:X.AssetID?X.AssetID:0,p12:X.BMSAlaramTypeID?X.BMSAlaramTypeID:0,p13:E,p14:"SetDefaultBMSAlaramID"==a,p15:localStorage.getItem("userid"),p16:C()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:C()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((t=>{(0,p.Z)(l,n,t).then((t=>{const l=t[0].status;200==l.code?(ye.loading(!1),Se.AccessRights.IsApproval&&ye.Approval(!0),"SetDefaultBMSAlaramID"==a?(ye.alert({open:!0,color:"success",message:["Default Record Configured"]}),Oe(1,null,"SetDefaultBMSAlaramID",Se.token[0])):(ye.alert({open:!0,color:"success",message:[l.message]}),e.createEasy?Pe():(ge({type:"PrimaryId",payload:t[0].Data.IDPK}),ye.RefreshTable(),ye.attachmentSave(t[0].Data.IDPK),document.getElementById("BMSAlaramRegistry-MainTable").style.display="block",e.clrImgstate(!0)),ge({type:"EditOpen",payload:!1}),ge({type:"EditIsDraft",payload:!1}),document.getElementById("overlayimgAttBMSAlaramRegistry")&&(document.getElementById("overlayimgAttBMSAlaramRegistry").style.width="0%",document.getElementById("overlayimgAttBMSAlaramRegistry").style.display="none",document.getElementById("divBMSAlaramRegistry-Entry").style.width="100%"))):(ye.alert({open:!0,color:"warning",message:[l.message]}),ye.loading(!1))}))}))};function Ze(e){return CreateEasy(e,Se,ge,ye,Be),!1}function Ve(e,t){return AdvanceSearch(e,t,T.BMSAlaramRegistryContext,(0,T.ContextApi)(),Ke,a),!1}(0,l.useEffect)((()=>{_(Se.ExpandDetailValue)}),[Se.ExpandDetailValue]);const Oe=(a,t,l,n,r,i)=>{const m=M.v.Api+"FP1474S3/",s={data:{p1:null,p2:null,p3:null,p4:X.AlaramDateTime?X.AlaramDateTime:null,p5:null,p6:null,p7:null,p8:null,p9:1==X.IsCCMRaised,p10:null,p11:null,p12:"0"==X.BMSSysID?null:X.BMSSysID,p13:"0"==X.AssetID?null:X.AssetID,p14:"0"==X.BMSAlaramTypeID?null:X.BMSAlaramTypeID,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:"0"==X.BMSManagedID?null:X.BMSManagedID,p23:t?"%"+t+"%":null,p24:"0"==X.BMSTypeID?null:X.BMSTypeID,p25:t?"%"+t+"%":null,p26:t?"%"+t+"%":null,p27:t?"%"+t+"%":null,p28:t?"%"+t+"%":null,p29:"0"==X.AssetCategoryID?null:X.AssetCategoryID,p30:t?"%"+t+"%":null,p31:t?"%"+t+"%":null,p32:"0"==X.AssetTypeID?null:X.AssetTypeID,p33:t?"%"+t+"%":null,p34:t?"%"+t+"%":null,p35:"0"==X.PriorityID?null:X.PriorityID,p36:t?"%"+t+"%":null,p37:t?"%"+t+"%":null,p38:"0"==X.DivisionID?null:X.DivisionID,p39:t?"%"+t+"%":null,p40:t?"%"+t+"%":null,p41:"0"==X.DisciplineID?null:X.DisciplineID,p42:t?"%"+t+"%":null,p43:t?"%"+t+"%":null,p44:"0"==X.BuildingID?null:X.BuildingID,p45:t?"%"+t+"%":null,p46:t?"%"+t+"%":null,p47:"0"==X.FloorID?null:X.FloorID,p48:t?"%"+t+"%":null,p49:t?"%"+t+"%":null,p50:"0"==X.SpotID?null:X.SpotID,p51:t?"%"+t+"%":null,p52:t?"%"+t+"%":null,p53:"0"==X.LocalityID?null:X.LocalityID,p54:t?"%"+t+"%":null,p55:t?"%"+t+"%":null,p56:"0"==X.StatusID?null:X.StatusID,p57:t?"%"+t+"%":null,p58:t?"%"+t+"%":null,p59:"0"==X.ConditionID?null:X.ConditionID,p60:t?"%"+t+"%":null,p61:t?"%"+t+"%":null,p62:t?"%"+t+"%":null,p63:"0"==X.MakeID?null:X.MakeID,p64:t?"%"+t+"%":null,p65:t?"%"+t+"%":null,p66:"0"==X.ModelID?null:X.ModelID,p67:t?"%"+t+"%":null,p68:t?"%"+t+"%":null,p69:"0"==X.ServiceAreaID?null:X.ServiceAreaID,p70:t?"%"+t+"%":null,p71:t?"%"+t+"%":null,p72:"0"==X.TradeGroupID?null:X.TradeGroupID,p73:t?"%"+t+"%":null,p74:t?"%"+t+"%":null,p75:t?"%"+t+"%":null,p76:t?"%"+t+"%":null,p77:t?"%"+t+"%":null,p78:t?"%"+t+"%":null,p79:t?"%"+t+"%":null,p80:t?"%"+t+"%":null,p81:a,p82:10,p83:l,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},d=Object.keys(s.data).slice(0,Object.keys(s.data).length).reduce(((e,a,t)=>(e[a]=t>Object.keys(s.data).length-8?s.data[a]:null,e)),{});ae(!0);const o={data:d};return(0,u.Z)(m,"ClearAll"==l?o:s,"SetDefaultBMSAlaramID"==l&&n?n:Se.token[0]).then((e=>{const t=e.Output.status.code,n=e.Output.data;if("200"==t){const e=n.length;if(r)return 1==n.length?n[0]:{};le(1==a?e>0?n:[]:te.concat(n)),"SetDefaultBMSAlaramID"==l&&(e>0?xe(n[0],"SetDefaultBMSAlaramID"):me("NORECORDS")),ae(!1)}else ye.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ae(!1)}))},ze=(a,t,l)=>{const n=M.v.Api+"FP1474S3/",r={data:{p1:null,p2:"BMSAlaramCode"==l&&t?"%"+t+"%":null,p3:"BMSAlaramName"==l&&t?"%"+t+"%":null,p4:null,p5:null,p6:null,p7:"AlaramDesCription"==l&&t?"%"+t+"%":null,p8:"BMSAlaramStatus"==l&&t?"%"+t+"%":null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:a,p82:10,p83:"BMSAlaramID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}},i={data:Object.keys(r.data).slice(0,Object.keys(r.data).length).reduce(((e,a,t)=>(e[a]=t>Object.keys(r.data).length-8?r.data[a]:null,e)),{})};ae(!0),(0,u.Z)(n,"ClearAll"==l?i:r,Se.token[0]).then((e=>{const t=e.Output.status.code,n=e.Output.data;if("200"==t){const e=n.length;1==a?("BMSAlaramCode"==l&&de(e>0),"BMSAlaramName"==l&&ce(e>0),le(n)):("BMSAlaramCode"==l&&de(!0),"BMSAlaramName"==l&&ce(!0),le(te.concat(n))),ae(!1)}else ye.alert({open:!0,color:"warning",message:[e.Output.status.message]}),ae(!1)}))},Ke=(0,l.useCallback)((async(e,a,t)=>{"text"==t?Q({type:t,name:a,value:e}):"number"==t?Q({type:t,name:a,number:Number(e)}):"boolean"==t?Q({type:t,name:a,boolean:e}):"date"==t?Q({type:"text",name:a,value:e}):"select"==t&&("BMSAlaramTypeID"==a?(Q({type:"text",name:"BMSAlaramTypeID",value:e.BMSAlaramTypeIDPK?e.BMSAlaramTypeIDPK:null}),Q({type:"text",name:"BMSAlaramTypeName",value:e.BMSAlaramTypeName?e.BMSAlaramTypeName:null})):"AssetID"==a?(Q({type:"text",name:"AssetID",value:e.AssetIDPK?e.AssetIDPK:null}),Q({type:"text",name:"EquipmentName",value:e.EquipmentName?e.EquipmentName:null})):"BMSSysID"==a&&(Q({type:"text",name:"BMSSysID",value:e.BMSSysIDPK?e.BMSSysIDPK:null}),Q({type:"text",name:"BMSSysName",value:e.BMSSysName?e.BMSSysName:null})))}),[X]);function Ge(e){if("BMSAlaramTypeID"==e){if(!X.BMSAlaramTypeID)return!1;Q({type:"text",name:"BMSAlaramTypeID",value:null}),Q({type:"text",name:"BMSAlaramTypeName",value:""}),document.getElementById("BMSAlaramRegistryBMSAlaramTypeNameClear")&&document.getElementById("BMSAlaramRegistryBMSAlaramTypeNameClear").click()}else if("AssetID"==e){if(!X.AssetID)return!1;Q({type:"text",name:"AssetID",value:null}),Q({type:"text",name:"EquipmentName",value:""}),document.getElementById("BMSAlaramRegistryEquipmentNameClear")&&document.getElementById("BMSAlaramRegistryEquipmentNameClear").click()}else if("BMSSysID"==e){if(!X.BMSSysID)return!1;Q({type:"text",name:"BMSSysID",value:null}),Q({type:"text",name:"BMSSysName",value:""}),document.getElementById("BMSAlaramRegistryBMSSysNameClear")&&document.getElementById("BMSAlaramRegistryBMSSysNameClear").click()}}function _e(e){if("BMSAlaramTypeID"==e){if(!X.BMSAlaramTypeID)return!1;Q({type:"text",name:"BMSAlaramTypeID",value:null})}else if("AssetID"==e){if(!X.AssetID)return!1;Q({type:"text",name:"AssetID",value:null})}else if("BMSSysID"==e){if(!X.BMSSysID)return!1;Q({type:"text",name:"BMSSysID",value:null})}}const He=e=>{ye.ConfirmAlert(n().createElement(B(),{Size:"sm",style:{display:"block",marginTop:"100px"},tilte:"",onConfirm:()=>je(e),onCancel:()=>ye.ConfirmAlert(null),confirmBtnCssClass:"swalokbtn",cancelBtnCssClass:"swalcancelbtn",confirmBtnText:he("Yes"),cancelBtnText:he("No"),showCancel:!0},he("Do you want to update this record?")))};function je(a){ye.ConfirmAlert(null),j(a.IsDraft),e.createEasy||(ge({type:"editData",payload:[a]}),ge({type:"PrimaryId",payload:a.BMSAlaramIDPK})),re(Number(a.BMSAlaramIDPK)?Number(a.BMSAlaramIDPK):0),Q({type:"text",name:"BMSAlaramCode",value:a.BMSAlaramCode?a.BMSAlaramCode:""}),Q({type:"text",name:"BMSAlaramName",value:a.BMSAlaramName?a.BMSAlaramName:""}),Q({type:"text",name:"AlaramDateTime",value:a.AlaramDateTime?we(a.AlaramDateTime):null}),Q({type:"text",name:"AlaramDesCription",value:a.AlaramDesCription?a.AlaramDesCription:""}),Q({type:"text",name:"BMSAlaramStatus",value:a.BMSAlaramStatus?a.BMSAlaramStatus:""}),Q({type:"number",name:"BMSAlaramTypeID",number:a.BMSAlaramTypeID?Number(a.BMSAlaramTypeID):0}),Q({type:"text",name:"BMSAlaramTypeName",value:a.BMSAlaramTypeName?a.BMSAlaramTypeName:""}),Q({type:"number",name:"AssetID",number:a.AssetID?Number(a.AssetID):0}),Q({type:"text",name:"EquipmentName",value:a.EquipmentName?a.EquipmentName:""}),Q({type:"number",name:"BMSSysID",number:a.BMSSysID?Number(a.BMSSysID):0}),Q({type:"text",name:"BMSSysName",value:a.BMSSysName?a.BMSSysName:""}),Q({type:"boolean",name:"IsCCMRaised",boolean:!!a.IsCCMRaised&&a.IsCCMRaised})}const Ue=e=>"string"==typeof e?e.trim():e;return n().createElement("div",null,n().createElement(i.Z,{expanded:G,onChange:e=>{}},n().createElement(s.Z,null,n().createElement("div",{className:"displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryHeader"},!e.createEasy&&n().createElement("span",{style:{cursor:"pointer"}},n().createElement(L.u1R,{className:"backButtonList",onClick:()=>ye.ExpandTable(!0)})),n().createElement("p",{id:"fld1474L3ECListP",className:"ListP",title:"10.0.0.44-12:43:03 PM-30-5[1474]",onClick:()=>Se.ExpandTableValue&&_(!G)},ne?"Edit ":"New ",Te("1474")," (",Se.count,")"),e.createEasy||Se.IsCollapse?!e.createEasy&&n().createElement("span",{className:"tooltitle",style:{float:"right"}},n().createElement("div",{id:"fld1474L3ECFullscreen",onClick:()=>{K(!Se.IsExPView),ye.ExpandDetail(!Se.IsExPView),_(!0)}},n().createElement(P.$4j,{className:"FullSizeIcon1"})),n().createElement("span",{className:"tooltiptext tooltip-top"},"Expand Grid View")):n().createElement("span",{className:"tooltitle",style:{float:"right"}},n().createElement("div",{id:"fld1474L3ECFullScreenExit",onClick:()=>{K(!0),ye.ExpandDetail(!1),_(!0)}},n().createElement(x.qNy,{className:"FullSizeIcon2"})),n().createElement("span",{className:"tooltiptext tooltip-top"},"Collapse Grid View"))),G&&n().createElement("div",{className:"displayFlex EntryHeaderBtn"},Se.AccessRights.IsDelete&&n().createElement("div",{className:"GridAlign"},n().createElement("div",{className:"Entry-Checkbox",style:{minWidth:"70px"}},n().createElement(d.Z,{labelPlacement:"bottom",frmctrlid:"fld1474L3ECEntryCheckbox",control:n().createElement(w.Z,{checked:"1"==E,onChange:e=>Z(e.target.checked)}),label:he(1==E?"Active":"In Active")}))),e.createEasy||ne||!Se.AccessRights.IsAdd||!ie&&"NORECORDS"!=ie?!e.createEasy&&!ne&&n().createElement("div",{className:"GridAlignDefault",onClick:()=>{Oe(1,null,"SetDefaultBMSAlaramID",Se.token[0])},id:"fld1474L3ECSetDefaultBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(k.j39,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Get Default"))):n().createElement("div",{className:"GridAlignDefault",onClick:()=>{Le("SetDefaultBMSAlaramID")},id:"fld1474L3ECSetDefaultBtnIsAdd"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(k.j39,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Set Default"))),!e.createEasy&&n().createElement("div",{className:"GridAlign",onClick:()=>{ye.AttachExpand(!0)},id:"fld1474L3ECAttachment",disableRipple:!0,disabled:!ne},n().createElement("div",{className:"Entry-Checkbox"},n().createElement("div",null,n().createElement(R.Ypb,{className:"Iconstyles"}))),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Attach"))),(e.createEasy||!ne)&&n().createElement("div",{className:"GridAlign",disabled:!1,onClick:()=>{Pe()},id:"fld1474L3ECClearBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(R.pYJ,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Reset"))),!e.createEasy&&!ne||"1"===H?Se.AccessRights.IsAdd&&n().createElement("div",{className:"GridAlign",onClick:()=>{!function(a,t,l,n,r){if(!(Se.count>0))return ye.alert({open:!0,color:"warning",message:["Please save atleast one record"]}),!1;if((()=>{const e={...X};return["IsActive","IsDefault","UserGroupKey","UserAccessKey","DeleStat","Type"].map((a=>{delete e[a]})),Object.keys(e).filter((a=>e[a]))})().length>0){de(!0),ce(!0),ye.loading(!0),ye.ConfirmAlert(null),ge({type:"IsDraft",payload:!1});const t=M.v.Api+"FP1474S1/",l={data:[{p1:"SetDefaultBMSAlaramID"==n?"NORECORDS"!=ie&&ie?ie:0:ne,p2:Ue(X.BMSAlaramCode),p3:Ue(X.BMSAlaramName),p4:X.AlaramDateTime?be(X.AlaramDateTime):null,p5:Ue(X.AlaramDesCription),p6:Ue(X.BMSAlaramStatus),p7:X.IsCCMRaised,p8:r,p9:"SetDefaultBMSAlaramID"==n?"SetDefault":null,p10:X.BMSSysID?X.BMSSysID:0,p11:X.AssetID?X.AssetID:0,p12:X.BMSAlaramTypeID?X.BMSAlaramTypeID:0,p13:!1,p14:"SetDefaultBMSAlaramID"==n,p15:localStorage.getItem("userid"),p16:C()().format("YYYY-MM-DD hh:mm:ss"),p17:localStorage.getItem("userid"),p18:C()().format("YYYY-MM-DD hh:mm:ss")}]};(0,I.Z)(0).then((n=>{(0,p.Z)(t,l,n).then((t=>{const l=t[0].status;200==l.code?(a?ye.alert({open:!0,color:"warning",message:["Deleted Successfully"]}):ye.alert({open:!0,color:"success",message:["Saved to Draft"]}),ye.loading(!1),ye.attachmentSave(t[0].Data.IDPK),Pe(),ye.RefreshTable(),e.clrImgstate(!0)):(ye.alert({open:!0,color:"warning",message:[l.message]}),ye.loading(!1))}))}))}else ye.alert({open:!0,color:"warning",message:["Please enter the primary fields"]})}("",0,0,"",!0)},frmctrlid:"fld12L3ECDraftBtn"},n().createElement("div",{className:"Entry-Checkbox"},n().createElement(F.IcR,{className:"Iconstyles"})),n().createElement("div",{className:"GridLabel"},n().createElement("p",null,"Draft"))):null,Se.AccessRights.IsAdd?n().createElement(D.Z,{name:ne?"Update":"Save",disabled:!1,frmctrlid:"fld1474L3ECSaveBtnIsAdd",onClick:()=>{Re()}}):Se.AccessRights.IsEdit&&ne&&n().createElement(D.Z,{name:ne?"Update":"Save",disabled:!1,frmctrlid:"fld1474L3ECSaveBtn",onClick:()=>{Re()}}),!e.createEasy&&ne?n().createElement(c.Z,{className:"L1AddBtnCommon",disabled:!1,frmctrlid:"fld1474L3ECCloseBtn",onClick:()=>{ye.detailview(!0,ne)}}):null))),n().createElement(m.Z,null,Se.AccessRights.IsAdd?null:Se.AccessRights.IsEdit?!Se.PrimaryId&&n().createElement("div",{className:"divdisable"}):n().createElement("div",{className:"divdisable"}),n().createElement("div",{id:"BMSAlaramRegistry-Main",className:"width100 displayFlex componentMainDiv cardDiv"},n().createElement("div",{id:"BMSAlaramRegistry-Detail",className:"detailCard detailDiv"},n().createElement("div",{id:"BMSAlaramRegistry-MainBody",className:"padding paddingLeft "},n().createElement("div",null,n().createElement(y.Z,{spacing:2},n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{"data-testid":X.BMSAlaramCode,json:h.A,SPName:"BMSAlaramRegistry",FieldName:"BMSAlaramCode",tfLabel:Te("BMSAlaramCode"),EnterSave:a=>{a&&e.submitConfirmation(a)},onSelect:a=>!e.createEasy&&He(a),onClick:()=>{se&&ze(1,"","ClearAll"),de(!0)},frmctrlid:"fld1474_38352",frmctrlidName:"BMSAlaramCode",fieldorder:"1",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,onChange:(e,a)=>{se&&ze(e,a,"BMSAlaramCode"),Ke(a,"BMSAlaramCode","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||de(!0)},showList:se,SideEntryView:!1,KeyBack:e=>{},value:X.BMSAlaramCode,loading:ee,clear:e=>{e&&(Q({type:"text",name:"BMSAlaramCode",value:""}),de(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{"data-testid":X.BMSAlaramName,json:h.A,SPName:"BMSAlaramRegistry",FieldName:"BMSAlaramName",tfLabel:Te("BMSAlaramName"),EnterSave:a=>{a&&e.submitConfirmation(a)},onSelect:a=>!e.createEasy&&He(a),onClick:()=>{oe&&ze(1,"","ClearAll"),ce(!0)},frmctrlid:"fld1474_38353",frmctrlidName:"BMSAlaramName",fieldorder:"2",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,onChange:(e,a)=>{oe&&ze(e,a,"BMSAlaramName"),Ke(a,"BMSAlaramName","text")},onKeyDown:e=>{"8"!=e.keyCode&&"46"!=e.keyCode||ce(!0)},showList:oe,SideEntryView:!1,KeyBack:e=>{},value:X.BMSAlaramName,loading:ee,clear:e=>{e&&(Q({type:"text",name:"BMSAlaramName",value:""}),ce(!0))}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement(g.Z,{"data-testid":X.AlaramDateTime,value:X.AlaramDateTime,skipMin:!0,onErr:e=>{ue(e)},onChange:e=>{Ke(e,"AlaramDateTime","date")},label:Te("AlaramDateTime"),frmctrlid:"fld1474_38354",frmctrlidName:"AlaramDateTime",fieldorder:"3"})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(o.Z,{json:h.A,"data-testid":X.AlaramDesCription,SPName:"BMSAlaramRegistry",FieldName:"AlaramDesCription",tfLabel:Te("AlaramDesCription"),frmctrlid:"fld1474_38355",fieldorder:"4",onChange:e=>{Ke(e,"AlaramDesCription","text")},clear:e=>{e&&Q({type:"text",name:"AlaramDesCription",value:""})},value:X.AlaramDesCription})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(o.Z,{json:h.A,"data-testid":X.BMSAlaramStatus,SPName:"BMSAlaramRegistry",FieldName:"BMSAlaramStatus",tfLabel:Te("BMSAlaramStatus"),frmctrlid:"fld1474_38356",fieldorder:"1",onChange:e=>{Ke(e,"BMSAlaramStatus","text")},clear:e=>{e&&Q({type:"text",name:"BMSAlaramStatus",value:""})},value:X.BMSAlaramStatus})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h.A,id:X.BMSAlaramTypeID,"data-testid":X.BMSAlaramTypeID,value:X.BMSAlaramTypeName,SPName:"BMSAlaramRegistry",FieldName:"BMSAlaramTypeID",tfLabel:Te("BMSAlaramTypeID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>Ke(e,"BMSAlaramTypeID","select"),onChange:(e,a)=>{Oe(e,a,"BMSAlaramTypeIDPK")},KeyBack:e=>{_e("BMSAlaramTypeID")},fieldorder:"2",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,openSlide:()=>{Ze("1475")},Tabledialog:()=>Ve("1475","BMSAlaramTypeID"),loading:ee,clear:e=>{e&&Ge("BMSAlaramTypeID")}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h.A,id:X.AssetID,"data-testid":X.AssetID,value:X.EquipmentName,SPName:"BMSAlaramRegistry",FieldName:"AssetID",tfLabel:Te("AssetID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>Ke(e,"AssetID","select"),onChange:(e,a)=>{Oe(e,a,"AssetIDPK")},KeyBack:e=>{_e("AssetID")},fieldorder:"3",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,openSlide:()=>{Ze("801")},Tabledialog:()=>Ve("801","AssetID"),loading:ee,clear:e=>{e&&Ge("AssetID")}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3},n().createElement(f.Z,{json:h.A,id:X.BMSSysID,"data-testid":X.BMSSysID,value:X.BMSSysName,SPName:"BMSAlaramRegistry",FieldName:"BMSSysID",tfLabel:Te("BMSSysID"),EnterSave:a=>{a&&e.submitConfirmation(a)},SideEntryView:!1,onSelect:e=>Ke(e,"BMSSysID","select"),onChange:(e,a)=>{Oe(e,a,"BMSSysIDPK")},KeyBack:e=>{_e("BMSSysID")},fieldorder:"4",data:te,foreign:!1,foreignFld:[],foreignClick:()=>{},totalCount:te.length>0?te[0].TotalCount:0,openSlide:()=>{Ze("1483")},Tabledialog:()=>Ve("1483","BMSSysID"),loading:ee,clear:e=>{e&&Ge("BMSSysID")}})),n().createElement(S.Z,{xs:3,md:3,lg:3,sm:3,className:"flexEnd"},n().createElement("div",{className:"EntryView-Checkbox"},n().createElement(d.Z,{style:{color:"#337ab7"},"data-testid":X.IsCCMRaised,labelPlacement:"end",control:n().createElement(w.Z,{checked:"1"==X.IsCCMRaised,onChange:e=>{Ke(e.target.checked,"IsCCMRaised","boolean")},frmctrlid:"fld1474_38357",frmctrlidname:"IsCCMRaised",fieldorder:"1",tfLabel:Te("IsCCMRaised")}),label:n().createElement("p",{className:"ToggleSwitchLabel",style:{color:X.IsCCMRaised?"#21446F":"#999"}},Te("IsCCMRaised"))}))))),n().createElement("div",{id:"BMSAlaramRegistrySideBar",className:"sidenav"},n().createElement("div",{className:"closebtn",onClick:()=>(document.getElementById("BMSAlaramRegistrySideBar").style.width="0",void q(!1))},""),U&&n().createElement("div",{className:"MainDivStyles Maincontent displayFlex width100 SideBarComponent"},W))))))))}))},55144:(e,a,t)=>{t.r(a),t.d(a,{BMSAlaramRegistryContext:()=>D,ContextApi:()=>A,default:()=>B});var l=t(92950),n=t.n(l),r=t(45237),i=t(15680),m=t(98481),s=t(20803),d=t(67698),o=t(55995),c=t(26537),p=(t(35131),t(45965)),u=t(73668),y=(t(37274),t(9175)),S=t.n(y),g=t(34520);const D=(0,l.createContext)();function A(){const e=n().useContext(D);if(void 0===e)throw new Error("useCount must be used within a CountProvider");return e}const B=function(e){const a=(0,l.useRef)(),t=(0,l.useRef)(),y=(0,l.useRef)(),B=(0,l.useRef)(),I=(0,l.useRef)(),M=((0,r.useSelector)((e=>e.form)),(0,r.useDispatch)()),[E,C]=(0,l.useState)([]),[f,v]=(0,l.useState)(0),[N,h]=n().useReducer(u.I,u.E),[T,b]=(0,l.useState)(!1),[w,x]=(0,l.useState)(!1),[P,R]=(0,l.useState)(!1),[F,k]=(0,l.useState)(!1),[L,Z]=(0,l.useState)(!0),[V,O]=(0,l.useState)(!0),[z,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)(!1),[H,j]=(0,l.useState)(),[U,q]=(0,l.useState)(0),[Y,$]=(0,l.useState)(!0),[W,J]=(0,l.useState)(!0),[X,Q]=(0,l.useState)([]),ee=(0,l.useRef)(),[ae,te]=(0,l.useState)({}),[le,ne]=(0,l.useState)([]),[re,ie]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e.loading(!0),document.getElementById("BMSAlaramRegistry-MainTable").style.width="35%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="65%",document.getElementById("BMSAlaramRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayGrid")}),[]),(0,l.useEffect)((()=>{e.editData&&(h({type:"editData",payload:[e.editData]}),h({type:"ShowDetail",payload:!0}))}),[e.editData]);const me=e=>{N.IsCollapse?(document.getElementById("BMSAlaramRegistry-MainTable").style.width="50%",document.getElementById("divBMSAlaramRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBMSAlaramRegistry").style.width="0%",document.getElementById("overlayimgAttBMSAlaramRegistry").style.display="none"):(document.getElementById("overlayimgAttBMSAlaramRegistry").style.width="0%",document.getElementById("overlayimgAttBMSAlaramRegistry").style.display="none",document.getElementById("divBMSAlaramRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayGrid"))};(0,l.useEffect)((()=>{M((e=>{(0,c.Z)(1).then((e=>{var a=new Array;a.push(e),h({type:"token",payload:a}),v(a.length),se(e)}))}))}),[]);const se=e=>{(0,p.Z)(e,1474).then((e=>h({type:"AccessRights",payload:e})))};return n().createElement("div",null,n().createElement(D.Provider,{value:{cstate:N,cdispatch:h,ContextApi:A,loading:a=>e.loading(a),ShareTab:(a,t)=>e.TabShare(a,t),alert:a=>e.alertmsg(a),SlideComponentType:a=>e.SlideComponentType(a),ConfirmAlert:a=>e.ConfirmAlert(a),openNav:a=>e.openNav(a),openDialog:a=>e.openDialog(a),DialogComponentType:a=>e.DialogComponentType(a),ExpandTable:e=>{return h({type:"ExpandTableValue",payload:a=e}),void(a?(h({type:"IsExPView",payload:!0}),h({type:"IsCollapse",payload:!1}),document.getElementById("BMSAlaramRegistry-MainTable").style.display="block",document.getElementById("divBMSAlaramRegistry-Entry").style.margin="0",document.getElementById("BMSAlaramRegistry-MainTable").style.margin="0",document.getElementById("divBMSAlaramRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.display="none",document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayGrid"),h({type:"ExpandDetailValue",payload:!1}),document.getElementById("overlayimgAttBMSAlaramRegistry")&&(document.getElementById("overlayimgAttBMSAlaramRegistry").style.width="0%",document.getElementById("overlayPreviewBMSAlaramRegistry").style.width="0%",document.getElementById("overlayimgAttBMSAlaramRegistry").style.display="none")):(h({type:"IsExPView",payload:!1}),h({type:"IsCollapse",payload:!0}),document.getElementById("divBMSAlaramRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSAlaramRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSAlaramRegistry-MainTable").style.width="35%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="65%",document.getElementById("BMSAlaramRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayGrid"),h({type:"ExpandDetailValue",payload:!0})));var a},viewtoggle:()=>{N.ShowDetail&&t.current.viewtoggle()},ExpandDetail:e=>{var a;(a=e)?(N.IsExPView?(h({type:"ExpandTableValue",payload:!a}),h({type:"IsExPView",payload:!0}),h({type:"IsCollapse",payload:!0}),document.getElementById("divBMSAlaramRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSAlaramRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSAlaramRegistry-MainTable").style.width="35%",document.getElementById("BMSAlaramRegistry-MainTable").style.display="none",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="65%",document.getElementById("BMSAlaramRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayGrid")):(h({type:"ExpandTableValue",payload:a}),h({type:"IsExPView",payload:!1}),h({type:"IsCollapse",payload:!1}),document.getElementById("divBMSAlaramRegistry-Entry").style.margin="0",document.getElementById("BMSAlaramRegistry-MainTable").style.margin="0",document.getElementById("divBMSAlaramRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayGrid")),h({type:"ExpandDetailValue",payload:!0})):(N.IsExPView&&h({type:"IsExPView",payload:!1}),h({type:"ExpandTableValue",payload:a}),h({type:"IsCollapse",payload:!0}),h({type:"ExpandDetailValue",payload:!0}),document.getElementById("divBMSAlaramRegistry-Entry").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSAlaramRegistry-MainTable").style.margin="0.1rem 0.3rem 0.1rem 0.4rem",document.getElementById("BMSAlaramRegistry-MainTable").style.width="35%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="65%",document.getElementById("BMSAlaramRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayGrid"))},AttachExpand:e=>(y.current.AttachmentData(N.PrimaryId),void(N.ExpandTableValue?(document.getElementById("overlayimgAttBMSAlaramRegistry").style.width="41%",document.getElementById("divBMSAlaramRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayGrid"),document.getElementById("overlayimgAttBMSAlaramRegistry").style.display="block"):(document.getElementById("BMSAlaramRegistry-MainTable").style.width="40%",document.getElementById("divBMSAlaramRegistry-Entry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayGrid"),document.getElementById("overlayimgAttBMSAlaramRegistry").style.width="41%",document.getElementById("overlayimgAttBMSAlaramRegistry").style.display="block"))),RefreshTable:()=>I.current.tableRefresh(),floatRefresh:()=>ee.current.countRefresh(),expand:()=>document.getElementById("overlayimgAttBMSAlaramRegistry").style.display="none",attachmentSave:e=>{B.current.tempsave(e,le),ne([])},detailview:(e,a)=>{I.current.viewrecord(a),h({type:"ShowDetail",payload:e}),h({type:"EditOpen",payload:!0}),N.ShowDetail&&t.current.viewtoggle()},clear:e=>{N.ShowDetail&&(h({type:"ShowDetail",payload:!1}),h({type:"editData",payload:[]}))},edit:e=>{a.current.ScreenValue(e)},ShowTableDiv:()=>h({type:"ShowDetail",payload:!1})}},n().createElement("div",{id:"BMSAlaramRegistry-MainDiv",className:"MainDivStyles displayFlex"},!N.ExpandTableValue&&n().createElement("div",{id:"BMSAlaramRegistry-MainTable",className:"Maincontent"},0!==f?n().createElement(i.default,{ref:I}):null),n().createElement("div",{id:"BMSAlaramRegistry-MainEntry",className:"Maincontent",style:{overflow:"auto",marginLeft:"0",height:"87vh",borderLeft:"1px solid rgb(226, 231, 235)"}},N.ShowDetail?n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSAlaramRegistry-Entry",style:{width:"100%"}},n().createElement(m.default,{ref:t}),n().createElement(g.ZP,{loading:a=>e.loading(a),alertmsg:a=>e.alertmsg(a),ConfirmAlert:a=>{e.ConfirmAlert(a)},data:N.editData,AddOpen:N.EditOpen,parentId:N.PrimaryId,IsDraft:N.EditIsDraft,openNav:a=>e.openNav(a),SlideComponentType:a=>e.SlideComponentType(a),IsCollapse:N.IsCollapse,openDialog:a=>e.openDialog(a),DialogComponentType:a=>e.DialogComponentType(a)}),n().createElement(o.Z,{ref:B,menurefID:1474,fileId:"LogoImgBMSAlaramRegistry",imgloading:e=>j(e),valueIDPK:N.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewBMSAlaramRegistry",AccessRights:N.AccessRights,frmctrlid:"PvwIm_1474_L3_",tempImg:e=>{N.PrimaryId?y.current.AttachmentData(N.PrimaryId):y.current.tempImg(e),ne(e)},clearTempData:N.Add})),n().createElement(d.Z,{ImgAttachment:e=>me(),menurefID:1474,fileId:"AttImgBMSAlaramRegistry",imgid:"overlayimgAttBMSAlaramRegistry",valueIDPK:N.PrimaryId,PriviewData:(e,a,t,l)=>{B.current.PriviewItem(e,a,t,l)},previd:"overlayPreviewBMSAlaramRegistry",ref:y,imgloading:H,ConfirmAlert:a=>{e.ConfirmAlert(a)},frmctrlid:"Imgatt_1474_L3_",timglist:e=>B.current.timglist(e),clearTempData:N.Add})):n().createElement("div",{className:"displayFlex width100"},n().createElement("div",{id:"divBMSAlaramRegistry-Entry",style:{width:"100%"}},n().createElement(s.default,{ref:a,clrImgstate:e=>y.current.clrImgstate(e)}),n().createElement(g.ZP,{loading:a=>e.loading(a),alertmsg:a=>e.alertmsg(a),ConfirmAlert:a=>{e.ConfirmAlert(a)},data:N.editData,AddOpen:N.EditOpen,parentId:N.PrimaryId,IsDraft:N.EditIsDraft,openNav:a=>e.openNav(a),SlideComponentType:a=>e.SlideComponentType(a),IsCollapse:N.IsCollapse,openDialog:a=>e.openDialog(a),DialogComponentType:a=>e.DialogComponentType(a)}),n().createElement(o.Z,{ref:B,menurefID:1474,fileId:"LogoImgBMSAlaramRegistry",imgloading:e=>j(e),valueIDPK:N.PrimaryId,AttachmentVal:e=>y.current.AttachmentData(e),previd:"overlayPreviewBMSAlaramRegistry",frmctrlid:"PvwIm_1474_L3_",tempImg:e=>{N.PrimaryId?y.current.AttachmentData(N.PrimaryId):y.current.tempImg(e),ne(e)},clearTempData:N.Add})),n().createElement(d.Z,{ImgAttachment:e=>me(),menurefID:1474,fileId:"AttImgBMSAlaramRegistry",imgid:"overlayimgAttBMSAlaramRegistry",valueIDPK:N.PrimaryId,PriviewData:(e,a,t,l)=>{B.current.PriviewItem(e,a,t,l)},previd:"overlayPreviewBMSAlaramRegistry",ref:y,imgloading:H,ConfirmAlert:a=>{e.ConfirmAlert(a)},frmctrlid:"Imgatt_1474_L3_",timglist:e=>B.current.timglist(e),clearTempData:N.Add}))),N.ExpandTableValue&&n().createElement("div",{id:"BMSAlaramRegistry-MainTable",className:"Maincontent"},0!==f?n().createElement(i.default,{ref:I}):null),n().createElement("div",{id:"BMSAlaramRegistry-DetailDiv",style:{display:"none",height:"81vh",overflowY:"auto"}})),re&&n().createElement(S(),{openDialog:re,closeDialog:e=>ie(e),formID:1474,PrimID:N.PrimaryId,alert:(e,a,t)=>{},loading:a=>{e.loading(a)}})))}},15680:(e,a,t)=>{t.r(a),t.d(a,{BMSAlaramRegistryPopUpTable:()=>j,default:()=>H}),t(95866);var l=t(92950),n=t.n(l),r=t(45237),i=t(36939),m=t(61201),s=t(50743),d=t(59009),o=t(80366),c=t(51673),p=t(42803),u=t(54180),y=t(47516),S=t(39327),g=(t(14439),t(27848),t(42258),t(40900)),D=(t(83032),t(44117),t(55144)),A=t(43031),B=t(110),I=t(88995),M=t(5109),E=t(61657),C=t(868),f=t(24038),v=t(51209),N=t(8981),h=t(80471),T=t(86893),b=t(53854),w=t(37106),x=t(5434),P=t(51649),R=t(93521),F=t(38396),k=t(8843),L=(t(84595),t(77457)),Z=t(34520),V=t(71168),O=t.n(V),z=t(65107),K=t(79352),G=t(94986),_=t(15999);t(11557),window.clickFilter="";const H=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(null),L=((0,l.useRef)(null),(0,l.useRef)(null)),[V]=((0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[H]=(0,l.useState)("1474"),[j,U]=(0,l.useState)(!1),[q,Y]=(0,l.useState)(!1),[$,W]=(0,l.useState)(0),[J,X]=(0,l.useState)(0),[Q,ee]=(0,l.useState)(0),[ae,te]=(0,l.useState)({current:1,pageSize:100}),[le,ne]=(0,l.useState)(""),[re,ie]=(0,l.useState)([]),[me,se]=(0,l.useState)([]),[de,oe]=(0,l.useState)({val:"",column:""}),[ce,pe]=(0,l.useState)([]),[ue,ye]=(0,l.useState)(!1),[Se,ge]=(0,l.useState)(""),[De,Ae]=(0,l.useState)(""),[Be,Ie]=(0,l.useState)(!1),[Me,Ee]=(0,l.useState)(!1),[Ce,fe]=(0,l.useState)([]),[ve,Ne]=(0,l.useState)([]),[he,Te]=(0,l.useState)([]),[be,we]=(0,l.useState)(!1),xe=(0,l.useContext)(e.context?e.context:D.BMSAlaramRegistryContext),{cstate:Pe,cdispatch:Re}=e.ContextApi?e.ContextApi:(0,D.ContextApi)(),[Fe,ke]=(0,l.useState)({children:[{name:"BMSAlaramRegistry",children:[]}]}),[Le,Ze]=(0,l.useState)(!1);let Ve={BMSAlaramIDPK:"",BMSAlaramCode:"",BMSAlaramName:"",AlaramDateTime:"",AlaramDateTimeType:"",AlaramDateTimeBetween:"",AlaramDesCription:"",BMSAlaramStatus:"",IsCCMRaised:"",IsDraft:"",Remarks:"",BMSSysID:"",AssetID:"",BMSAlaramTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSManagedID:"",BMSManagedCode:"",BMSTypeID:"",BMSTypCode:"",BMSTypeNmae:"",BMSSysCode:"",BMSSysName:"",AssetCategoryID:"",AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:"",AssetTypCode:"",AssetTypeName:"",PriorityID:"",PriorityCode:"",PriorityName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",LocalityID:"",LocalityCode:"",LocalityName:"",StatusID:"",StatusCode:"",StatusName:"",ConditionID:"",ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:"",MakeCode:"",MakeName:"",ModelID:"",ModelCode:"",ModelName:"",ServiceAreaID:"",ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:"",TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",BMSAlaramTypCode:"",BMSAlaramTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[Oe,ze]=(0,l.useState)(Ve),[Ke,Ge]=(0,l.useState)(Ve),[_e,He]=(0,l.useState)(Ve),[je,Ue]=(0,l.useState)(Ve),[qe,Ye]=(0,l.useState)("asc"),[$e,We]=(0,l.useState)(""),[Je,Xe]=(0,l.useState)(!1),[Qe,ea]=(0,l.useState)(!0),[aa,ta]=(0,l.useState)(!1),[la,na]=(0,l.useState)(!0),[ra,ia]=(0,l.useState)(0),[ma,sa]=(0,l.useState)({BMSAlaramCode:"",BMSAlaramName:"",AlaramDateTime:"",AlaramDesCription:"",BMSAlaramStatus:"",BMSAlaramTypeName:"",EquipmentName:"",BMSSysName:"",IsCCMRaised:""}),[da,oa]=(0,l.useState)(!1),[ca,pa]=(0,l.useState)([]),[ua,ya]=(0,l.useState)(0),[Sa,ga]=(0,l.useState)(0),[Da,Aa]=(0,l.useState)({current:1,pageSize:10}),[Ba,Ia]=(0,l.useState)([]),[Ma,Ea]=(0,l.useState)([]),[Ca,fa]=(0,l.useState)(!1),[va]=(0,l.useState)(localStorage.getItem("Language")),[Na]=(0,l.useState)(localStorage.getItem("Language")),[ha,Ta]=(0,l.useState)(!1),[ba,wa]=O()("1474"),[xa,Pa]=(0,l.useState)({}),[Ra,Fa]=(0,l.useState)(null),[ka,La]=(0,l.useState)(!1),[Za,Va]=(0,l.useState)(""),[Oa,za]=(0,l.useState)({}),[Ka,Ga]=(0,l.useState)({}),[_a,Ha]=(0,l.useState)(!1),ja=[{columns:Ba,data:le}];let Ua=(0,N.Z)();const qa=e=>Ua?.[e]?Ua[e]:e,Ya=e=>Pe.language?.[e]?Pe.language[e]:e;(0,l.useEffect)((()=>{Qa(ba)}),[ba]),(0,l.useEffect)((()=>{Pe.token.length>0&&(Pe.IsDraft?Ja(ae,Ve,"DraftBMSAlaramID"):Ja(ae,Ve,"BMSAlaramID"))}),[]),(0,l.useEffect)((()=>{Me||be||Le||!Se?Me?Ge(Se):be?He(Se):Le&&Ue(Se):Pe.IsDraft?Ja(ae,Se,"DraftBMSAlaramID"):Ja(ae,Se,"BMSAlaramID")}),[Se]),(0,l.useEffect)((()=>{!1===e.cardview&&na(e.cardview),e.Dialogview&&Y(e.Dialogview)}),[e.cardview,e.Dialogview]),(0,l.useEffect)((()=>{e.searchsafaritext&&Xa(e.searchsafaritext,{current:ae.current,pageSize:ae.pageSize})}),[e.searchsafaritext]),(0,l.useImperativeHandle)(a,(()=>({tableRefresh:()=>{$a()},viewrecord:e=>{ce.map(((a,t)=>{a.BMSAlaramIDPK==e&&Re({type:"editData",payload:[ce[t]]})}))}})));const $a=()=>{Pe.IsDraft?Ja(ae,Ve,"DraftBMSAlaramID"):Ja(ae,Ve,"BMSAlaramID")};function Wa(e){xe.loading(!0);let a=g.v.Api+"FP1474S7/",t={data:{p1:"%%",p2:"0",p3:"0",p4:e.current,p5:e.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(a,t,Pe.token[0]).then((a=>{if(200==a.Output.status.code){let t=0;a.Output.data.length>0?(t=parseFloat(a.Output.data[0].TotalCount,10)/10,ga(a.Output.data[0].TotalCount)):t=0,10==e.pageSize?ya(Math.ceil(t)):20==e.pageSize?ya(Math.ceil(t/2)):50==e.pageSize?ya(Math.ceil(t/5)):100==e.pageSize&&ya(Math.ceil(t/10)),pa(a.Output.data),xe.loading(!1)}}))}const Ja=(a,t,l,n,r,i)=>{xe.loading(!0),se(l),"DraftPage"!==n&&Xe(Pe.IsDraft);let m=g.v.Api+"FP1474S3/",s={data:{p1:r||(t&&t.BMSAlaramIDPK?t.BMSAlaramIDPK:null),p2:t&&t.BMSAlaramCode?t.BMSAlaramCode:null,p3:t&&t.BMSAlaramName?t.BMSAlaramName:null,p4:t&&t.AlaramDateTime?t.AlaramDateTime:null,p5:t&&t.AlaramDateTimeType?t.AlaramDateTimeType:null,p6:t&&t.AlaramDateTimeBetween?t.AlaramDateTimeBetween:null,p7:t&&t.AlaramDesCription?t.AlaramDesCription:null,p8:t&&t.BMSAlaramStatus?t.BMSAlaramStatus:null,p9:null,p10:"DraftBMSAlaramID"==l?"1":"0",p11:null,p12:t&&t.BMSSysID?t.BMSSysID:null,p13:t&&t.AssetID?t.AssetID:null,p14:t&&t.BMSAlaramTypeID?t.BMSAlaramTypeID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.BMSManagedID?t.BMSManagedID:null,p23:t&&t.BMSManagedCode?t.BMSManagedCode:null,p24:t&&t.BMSTypeID?t.BMSTypeID:null,p25:t&&t.BMSTypCode?t.BMSTypCode:null,p26:t&&t.BMSTypeNmae?t.BMSTypeNmae:null,p27:t&&t.BMSSysCode?t.BMSSysCode:null,p28:t&&t.BMSSysName?t.BMSSysName:null,p29:t&&t.AssetCategoryID?t.AssetCategoryID:null,p30:t&&t.AssetCategoryCode?t.AssetCategoryCode:null,p31:t&&t.AssetCategoryName?t.AssetCategoryName:null,p32:t&&t.AssetTypeID?t.AssetTypeID:null,p33:t&&t.AssetTypCode?t.AssetTypCode:null,p34:t&&t.AssetTypeName?t.AssetTypeName:null,p35:t&&t.PriorityID?t.PriorityID:null,p36:t&&t.PriorityCode?t.PriorityCode:null,p37:t&&t.PriorityName?t.PriorityName:null,p38:t&&t.DivisionID?t.DivisionID:null,p39:t&&t.DivisionCode?t.DivisionCode:null,p40:t&&t.DivisionName?t.DivisionName:null,p41:t&&t.DisciplineID?t.DisciplineID:null,p42:t&&t.DisciplineCode?t.DisciplineCode:null,p43:t&&t.DisciplineName?t.DisciplineName:null,p44:t&&t.BuildingID?t.BuildingID:null,p45:t&&t.BuildingCode?t.BuildingCode:null,p46:t&&t.BuildingName?t.BuildingName:null,p47:t&&t.FloorID?t.FloorID:null,p48:t&&t.FloorCode?t.FloorCode:null,p49:t&&t.FloorName?t.FloorName:null,p50:t&&t.SpotID?t.SpotID:null,p51:t&&t.SpotCode?t.SpotCode:null,p52:t&&t.SpotName?t.SpotName:null,p53:t&&t.LocalityID?t.LocalityID:null,p54:t&&t.LocalityCode?t.LocalityCode:null,p55:t&&t.LocalityName?t.LocalityName:null,p56:t&&t.StatusID?t.StatusID:null,p57:t&&t.StatusCode?t.StatusCode:null,p58:t&&t.StatusName?t.StatusName:null,p59:t&&t.ConditionID?t.ConditionID:null,p60:t&&t.ConditionCode?t.ConditionCode:null,p61:t&&t.ConditionDesp?t.ConditionDesp:null,p62:t&&t.ConditionName?t.ConditionName:null,p63:t&&t.MakeID?t.MakeID:null,p64:t&&t.MakeCode?t.MakeCode:null,p65:t&&t.MakeName?t.MakeName:null,p66:t&&t.ModelID?t.ModelID:null,p67:t&&t.ModelCode?t.ModelCode:null,p68:t&&t.ModelName?t.ModelName:null,p69:t&&t.ServiceAreaID?t.ServiceAreaID:null,p70:t&&t.ServiceAreaCode?t.ServiceAreaCode:null,p71:t&&t.ServiceAreaName?t.ServiceAreaName:null,p72:t&&t.TradeGroupID?t.TradeGroupID:null,p73:t&&t.TradeGroupCode?t.TradeGroupCode:null,p74:t&&t.TradeGroupName?t.TradeGroupName:null,p75:t&&t.EquipmentName?t.EquipmentName:null,p76:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p77:t&&t.AssetBarcode?t.AssetBarcode:null,p78:t&&t.AssetTagNo?t.AssetTagNo:null,p79:t&&t.BMSAlaramTypCode?t.BMSAlaramTypCode:null,p80:t&&t.BMSAlaramTypeName?t.BMSAlaramTypeName:null,p81:r?1:a.current,p82:a.pageSize,p83:l,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};(0,c.Z)(m,s,Pe.token[0]).then((r=>{if("200"==r.Output.status.code)if(r.Output.data.length>0){if(r.Output.data){let t=0;r.Output.data.length>0?(t=parseFloat(r.Output.data[0].TotalCount,10)/10,X(r.Output.data[0].TotalCount),Re({type:"count",payload:r.Output.data[0].TotalCount}),ee(r.Output.data[0].DraftCnt),"DraftPage"==n&&ee(r.Output.data[0].TotalCount)):t=0,10==a.pageSize?W(Math.ceil(t)):20==a.pageSize?W(Math.ceil(t/2)):50==a.pageSize?W(Math.ceil(t/5)):100==a.pageSize&&W(Math.ceil(t/10)),e.Dialogview||(Pe.ExpandTableValue?Pe.ExpandDetailValue?document.getElementById("BMSAlaramRegistry-MainTable").style.display="none":(document.getElementById("BMSAlaramRegistry-MainTable").style.width="100%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%",document.getElementById("BMSAlaramRegistry-MainDiv").classList.remove("displayFlex"),document.getElementById("BMSAlaramRegistry-MainDiv").classList.add("displayGrid")):(document.getElementById("BMSAlaramRegistry-MainTable").style.width="50%",document.getElementById("BMSAlaramRegistry-MainEntry").style.width="100%"),document.getElementById("divBMSAlaramRegistry-Entry").style.height="auto"),pe(r.Output.data),xe.loading(!1)}}else xe.loading(!1),"DraftBMSAlaramID"===l?(xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),Ie(!0),Xe(!1)):(pe([]),te({current:1,pageSize:10}),W(0),X(0),Re({type:"count",payload:0}),Object.values(t).some((e=>e))&&xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}));else xe.alert({open:!0,color:"warning",message:[r.Output.status.message]}),xe.loading(!1)}))};function Xa(e,a){xe.loading(!0);const t=g.v.Api+"FP1474S4/",l={data:{p1:"%"+e+"%",p2:"0",p3:Je?"1":"0",p4:a.current,p5:a.pageSize,p6:localStorage.getItem("UserGroupID"),p7:localStorage.getItem("userid")}};(0,c.Z)(t,l,Pe.token[0]).then((e=>{if("200"==e.Output.status.code)if(e.Output.data.length>0){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,X(e.Output.data[0].TotalCount),Re({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?W(Math.ceil(t)):20==a.pageSize?W(Math.ceil(t/2)):50==a.pageSize?W(Math.ceil(t/5)):100==a.pageSize&&W(Math.ceil(t/10)),pe(e.Output.data),xe.loading(!1)}else pe([]),W(0),X(0),Re({type:"count",payload:0}),xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),xe.loading(!1);else xe.alert({open:!0,color:"warning",message:[e.Output.status.message]}),xe.loading(!1)}))}function Qa(e){let a=[],t=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(t.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),Re({type:"language",payload:Object.assign({},...n)}),sa(t.reduce(((e,a)=>(e[a]="",e)),{})),fe(e),Ne(a),Te(t),Ia(l),Ea(t)}(0,l.useEffect)((()=>{ta(Pe.ExpandTableValue)}),[Pe.ExpandTableValue]);const et=(e,a,t)=>{Re({type:"editData",payload:[e]}),Re({type:"IsDraft",payload:a}),Re({type:"EditOpen",payload:!1}),Re({type:"EditIsDraft",payload:a}),Re({type:"ExpandDetailValue",payload:!0}),Re({type:"ShowDetail",payload:t}),document.getElementById("BMSAlaramRegistry-MainEntry").style.display="block",document.getElementById("BMSAlaramRegistry-MainTable").style.display="none"},at=()=>{ue?(document.getElementById("BMSAlaramRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="0%",document.getElementById("BMSAlaramRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="100%",document.getElementById("BMSAlaramRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="none",ye(!1),Me?(document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):la?be?(document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSAlaramRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")):(document.getElementById("BMSAlaramRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.width="25%",document.getElementById("BMSAlaramRegistryTabDiv"+(e.Dialogview?"dialog":"")).style.width="75%",document.getElementById("BMSAlaramRegistryFilterDiv"+(e.Dialogview?"dialog":"")).style.display="block",ye(!0),Me?(document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):la?be?(document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSAlaramRegistrycoldiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistrycoldiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px"):(document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":"")).getElementsByTagName("svg")[0].style.padding="4px")),Ie(!1),window.clickFilter=!ue};return n().createElement("div",null,n().createElement(i.Z,{expanded:Qe,onChange:()=>()=>{ea(aa)}},n().createElement(s.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100",style:{padding:"0.6rem"}},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},Le||Me||!Je?n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{id:"fld1474L3TCListP",className:"ListP",title:"10.0.0.44-12:43:03 PM-30-5[1474]"},`${Ya("1474")} (${J})`),n().createElement("div",null,!e.Dialogview&&aa?n().createElement(C.ZP,{title:"Collpase Grid View",placement:"top"},n().createElement("div",{id:"fld1474L3TCFullscreenExitIcon",onClick:()=>(ta(!1),xe.ExpandTable(!1),Re({type:"IsDraft",payload:!1}),Re({type:"ShowDetail",payload:!1}),Re({type:"Add",payload:!0}),void Re({type:"editData",payload:[]}))},n().createElement(h.qNy,{className:"FullSizeIcon2"}))):!e.Dialogview&&n().createElement(C.ZP,{title:"Expand Grid View",placement:"top"},n().createElement("div",{id:"fld1474L3TCTCFullscreenIcon",onClick:()=>(ta(!0),xe.ExpandTable(!0),Re({type:"IsDraft",payload:!1}),Re({type:"ShowDetail",payload:!1}),Re({type:"Add",payload:!0}),void Re({type:"editData",payload:[]}))},n().createElement(y.$4j,{className:"FullSizeIcon1"}))))):n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("div",{id:"fld1474L3TCList",onClick:()=>{aa||(Re({type:"Add",payload:!0}),Re({type:"Add",payload:!0})),xe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Ja({current:1,pageSize:100},Ve,"BMSAlaramID"),Xe(!1),Re({type:"IsDraft",payload:!1})}),500)):(Ja({current:1,pageSize:100},Ve,"BMSAlaramID"),Xe(!1),Re({type:"IsDraft",payload:!1})),te({current:1,pageSize:100})}},n().createElement(C.ZP,{title:"List",placement:"top"},n().createElement("div",null,n().createElement(P.u1R,{className:"backButtonList"})))),n().createElement("p",{className:"DraftP"},"Drafts(",J,")")))),n().createElement("div",{style:{width:"40%"}},Me||be||Le?null:n().createElement("div",{className:"searchbar",id:"fld1474L3TCSearchBar"},n().createElement(f.Z,{className:"search_input",type:"text",id:"BMSAlaramRegistrygridsearch",placeholder:"Search",value:De,onChange:e=>{if(Ae(e),"0"==e.length)return Ja(ae,Ve,Je?"DraftBMSAlaramID":"BMSAlaramID",Je&&"DraftPage"),!1;Xa(e,{current:1,pageSize:100})}}),n().createElement("div",{className:"search_icon"},De?n().createElement("div",{id:"fld1474L3TCCloseIcon",onClick:()=>{Ae(""),$a()}},n().createElement(o.Z,{className:"InputSearchIcon"})):n().createElement("div",{id:"fld1474L3TCInputSearchIcon",onClick:()=>{document.getElementById("BMSAlaramRegistrygridsearch").focus()}},n().createElement(I.Z,{className:"InputSearchIcon"}))))))),n().createElement(m.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"BMSAlaramRegistry-HeaderItems",className:"displayFlex padding"},n().createElement("div",{className:"tableHeaderItems displayFlex"},aa?n().createElement("div",null,!Je&&n().createElement("div",{frmctrlid:"fld1474L3TCFilterDataIsDraft",id:"BMSAlaramRegistryfildiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>at()},n().createElement(C.ZP,{title:qa("Filter Data"),placement:"top"},n().createElement("div",null,n().createElement(y.Ol$,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},qa("Filter Data")))):null,e.Dialogview||Me||Le||Je?null:n().createElement(u.Z,{title:"Alaram Registry",formctrlidprint:"fld1474L3TCExportPrint",formctrlidexport:"fld1474L3TCExportTable",formctrlidrefresh:"fld1474L3TCExportRefresh",data:re,exportData:ja,Items:Ma,columnIndex:Ba,TableVisibleItem:ve,userGridViewFormID:H,TableTotalCount:J,triggerApi:e=>{((e,a,l,n,r)=>{if(0===J)return xe.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;xe.loading(!0);let i=g.v.Api+"FP1474S3/",m={data:{p1:e&&e.BMSAlaramIDPK?e.BMSAlaramIDPK:null,p2:e&&e.BMSAlaramCode?e.BMSAlaramCode:null,p3:e&&e.BMSAlaramName?e.BMSAlaramName:null,p4:e&&e.AlaramDateTime?e.AlaramDateTime:null,p5:e&&e.AlaramDateTimeType?e.AlaramDateTimeType:null,p6:e&&e.AlaramDateTimeBetween?e.AlaramDateTimeBetween:null,p7:e&&e.AlaramDesCription?e.AlaramDesCription:null,p8:e&&e.BMSAlaramStatus?e.BMSAlaramStatus:null,p9:null,p10:Je?"1":"0",p11:null,p12:e&&e.BMSSysID?e.BMSSysID:null,p13:e&&e.AssetID?e.AssetID:null,p14:e&&e.BMSAlaramTypeID?e.BMSAlaramTypeID:null,p15:e&&e.IsActive,p16:null,p17:e&&e.CreatedUserID_varchar?e.CreatedUserID_varchar:null,p18:e&&e.CreatedTtm?e.CreatedTtm:null,p19:e&&e.CreatedTtmType?e.CreatedTtmType:null,p20:e&&e.CreatedTtmBetween?e.CreatedTtmBetween:null,p21:null,p22:e&&e.BMSManagedID?e.BMSManagedID:null,p23:e&&e.BMSManagedCode?e.BMSManagedCode:null,p24:e&&e.BMSTypeID?e.BMSTypeID:null,p25:e&&e.BMSTypCode?e.BMSTypCode:null,p26:e&&e.BMSTypeNmae?e.BMSTypeNmae:null,p27:e&&e.BMSSysCode?e.BMSSysCode:null,p28:e&&e.BMSSysName?e.BMSSysName:null,p29:e&&e.AssetCategoryID?e.AssetCategoryID:null,p30:e&&e.AssetCategoryCode?e.AssetCategoryCode:null,p31:e&&e.AssetCategoryName?e.AssetCategoryName:null,p32:e&&e.AssetTypeID?e.AssetTypeID:null,p33:e&&e.AssetTypCode?e.AssetTypCode:null,p34:e&&e.AssetTypeName?e.AssetTypeName:null,p35:e&&e.PriorityID?e.PriorityID:null,p36:e&&e.PriorityCode?e.PriorityCode:null,p37:e&&e.PriorityName?e.PriorityName:null,p38:e&&e.DivisionID?e.DivisionID:null,p39:e&&e.DivisionCode?e.DivisionCode:null,p40:e&&e.DivisionName?e.DivisionName:null,p41:e&&e.DisciplineID?e.DisciplineID:null,p42:e&&e.DisciplineCode?e.DisciplineCode:null,p43:e&&e.DisciplineName?e.DisciplineName:null,p44:e&&e.BuildingID?e.BuildingID:null,p45:e&&e.BuildingCode?e.BuildingCode:null,p46:e&&e.BuildingName?e.BuildingName:null,p47:e&&e.FloorID?e.FloorID:null,p48:e&&e.FloorCode?e.FloorCode:null,p49:e&&e.FloorName?e.FloorName:null,p50:e&&e.SpotID?e.SpotID:null,p51:e&&e.SpotCode?e.SpotCode:null,p52:e&&e.SpotName?e.SpotName:null,p53:e&&e.LocalityID?e.LocalityID:null,p54:e&&e.LocalityCode?e.LocalityCode:null,p55:e&&e.LocalityName?e.LocalityName:null,p56:e&&e.StatusID?e.StatusID:null,p57:e&&e.StatusCode?e.StatusCode:null,p58:e&&e.StatusName?e.StatusName:null,p59:e&&e.ConditionID?e.ConditionID:null,p60:e&&e.ConditionCode?e.ConditionCode:null,p61:e&&e.ConditionDesp?e.ConditionDesp:null,p62:e&&e.ConditionName?e.ConditionName:null,p63:e&&e.MakeID?e.MakeID:null,p64:e&&e.MakeCode?e.MakeCode:null,p65:e&&e.MakeName?e.MakeName:null,p66:e&&e.ModelID?e.ModelID:null,p67:e&&e.ModelCode?e.ModelCode:null,p68:e&&e.ModelName?e.ModelName:null,p69:e&&e.ServiceAreaID?e.ServiceAreaID:null,p70:e&&e.ServiceAreaCode?e.ServiceAreaCode:null,p71:e&&e.ServiceAreaName?e.ServiceAreaName:null,p72:e&&e.TradeGroupID?e.TradeGroupID:null,p73:e&&e.TradeGroupCode?e.TradeGroupCode:null,p74:e&&e.TradeGroupName?e.TradeGroupName:null,p75:e&&e.EquipmentName?e.EquipmentName:null,p76:e&&e.EquipmentRefNo?e.EquipmentRefNo:null,p77:e&&e.AssetBarcode?e.AssetBarcode:null,p78:e&&e.AssetTagNo?e.AssetTagNo:null,p79:e&&e.BMSAlaramTypCode?e.BMSAlaramTypCode:null,p80:e&&e.BMSAlaramTypeName?e.BMSAlaramTypeName:null,p81:ae.current,p82:J,p83:Je?"DraftBMSAlaramID":"BMSAlaramID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};xe.loading(!1),xe.alert({open:!0,color:"success",message:[`${Ya(1474)} - ${r.alertName}, Once you have downloaded the file, you will be notified.`]}),(0,c.Z)(i,m,Pe.token[0],r).then((e=>{(0,R.PDF_Excel_Generate)(e,xe,Ma,ne,t,r)}))})(Se,de.column,0,0,e)},Refresh:()=>{Ae(""),L.current&&L.current.clearItem(),te({current:1,pageSize:100}),Pe.IsDraft?Ja({current:1,pageSize:100},Ve,"DraftBMSAlaramID"):Ja({current:1,pageSize:100},Ve,"BMSAlaramID")},disabledPrint:!Pe.AccessRights.IsPrint,disabledExport:!Pe.AccessRights.IsExport,ref:t,iconinfo:aa?"iconinfo":"displayNone"}),!e.Dialogview&&aa?n().createElement("div",{id:"fld4L3TCMore",className:"buttoncard",onClick:()=>Ta(!ha)},n().createElement("span",null,ha?n().createElement(C.ZP,{title:"Less",placement:"top"},n().createElement("span",{id:"fld1474L3TCLess"},n().createElement(b.ldB,{className:"tableFilterColumnIcon"}))):n().createElement(C.ZP,{title:"More",placement:"top"},n().createElement("span",{id:"fld1474L3TCMore"},n().createElement(b.ilJ,{className:"tableFilterColumnIcon"}))))):!e.Dialogview&&n().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},n().createElement("div",{id:"fld1474L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(Q>0){aa||(Re({type:"Add",payload:!0}),Re({type:"Add",payload:!0})),xe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Ja({current:1,pageSize:100},Ve,"DraftBMSAlaramID"),Xe(!0),Re({type:"IsDraft",payload:!0}),Ie(!1),na(!0),Ee(!1),we(!1)}),500)):(ia(0),Ja({current:1,pageSize:100},Ve,"DraftBMSAlaramID"),Xe(!0),Re({type:"IsDraft",payload:!0}),Ie(!1),na(!0),Ee(!1),we(!1)),document.getElementById("BMSAlaramRegistryFilterDiv").style.width="0%",document.getElementById("BMSAlaramRegistryTabDiv").style.width="100%",document.getElementById("BMSAlaramRegistryFilterDiv").style.display="none"}else xe.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},Q>0&&n().createElement(C.ZP,{title:"Drafts",placement:"top"},n().createElement("div",null,n().createElement(w.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:aa?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))),ha?n().createElement("div",{className:"EntryHeaderMore"},n().createElement("div",{style:{display:"flex"}},Me||be||Le||!aa?null:!Je&&Pe.AccessRights.IsAdd&&n().createElement("div",null,n().createElement("div",{id:"BMSAlaramRegistrycoldiv",frmctrlid:"fld1474L3TCFilterDataIsAdd",className:"buttoncard",onClick:()=>{Be?(document.getElementById("BMSAlaramRegistryFilterDiv").style.width="0%",document.getElementById("BMSAlaramRegistryTabDiv").style.width="100%",document.getElementById("BMSAlaramRegistryFilterDiv").style.display="none",document.getElementById("BMSAlaramRegistrycoldiv").style.width="fit-content",document.getElementById("BMSAlaramRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ie(!1)):(document.getElementById("BMSAlaramRegistryFilterDiv").style.width="25%",document.getElementById("BMSAlaramRegistryTabDiv").style.width="75%",document.getElementById("BMSAlaramRegistryFilterDiv").style.display="block",document.getElementById("BMSAlaramRegistryfildiv").style.width="fit-content",document.getElementById("BMSAlaramRegistryfildiv").getElementsByTagName("svg")[0].style.padding="4px",document.getElementById("BMSAlaramRegistrycoldiv").style.width="fit-content",document.getElementById("BMSAlaramRegistrycoldiv").getElementsByTagName("svg")[0].style.padding="4px",Ie(!0)),ye(!1)}},n().createElement(C.ZP,{title:"Manage Columns",placement:"top"},n().createElement("div",null,n().createElement(S.gYA,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},qa("Manage Columns")))),!Je&&j&&!Me&&!Le&&!q&&aa&&n().createElement("div",{id:"fld1474L3TCExpMigSlide",className:"buttoncard",onClick:()=>MigrationSlide()},n().createElement(C.ZP,{title:qa("Migration"),placement:"top"},n().createElement("div",null,n().createElement(K.ncH,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},qa("Migration"))),(1==localStorage.getItem("UserType")||2==localStorage.getItem("UserType"))&&!q&&aa&&!Le&&!Me&&n().createElement("div",{id:"BMSAlaramRegistrycoldiv"+(e.Dialogview?"dialog":""),className:"buttoncard",onClick:()=>{da?oa(!1):(oa(!0),Wa({current:1,pageSize:100}))}},n().createElement(C.ZP,{title:qa("Table Scroll Data"),placement:"top"},n().createElement("div",{id:"fld1474L3TCTableScrollData"},n().createElement(_.Z,{className:"tableFilterColumnIcon"}))),n().createElement("span",{className:"iconinfo"},qa("Table Scroll Data"))),Pe.AccessRights.IsAdd&&!Le&&!Me&&!Je&&n().createElement(d.Z,{color:"secondary",className:"badge",max:999,badgeContent:Q,showZero:!0},n().createElement("div",{id:"fld12L3TCDraftsIcon",className:"buttoncard",style:{marginLeft:"-10px"},onClick:()=>{if(Q>0){aa||(Re({type:"Add",payload:!0}),Re({type:"Add",payload:!0})),xe.clear();var e=document.getElementsByClassName("ClearIconbtn")[0];e?(e.click(),setTimeout((function(){Ja({current:1,pageSize:100},Ve,"DraftBMSAlaramID"),Xe(!0),Re({type:"IsDraft",payload:!0}),Ie(!1),na(!0),Ee(!1),we(!1)}),500)):(Ja({current:1,pageSize:100},Ve,"DraftBMSAlaramID"),Xe(!0),Re({type:"IsDraft",payload:!0}),Ie(!1),na(!0),Ee(!1),we(!1)),document.getElementById("AdminLocalityRegistryFilterDiv").style.width="0%",document.getElementById("AdminLocalityRegistryTabDiv").style.width="100%",document.getElementById("AdminLocalityRegistryFilterDiv").style.display="none"}else xe.alert({open:!0,color:"warning",message:["There is no Record Found"]})}},n().createElement(C.ZP,{title:"Drafts",placement:"top"},n().createElement("div",null,n().createElement(w.rNm,{className:"DraftIcon"}))),n().createElement("span",{className:aa?"iconinfoDraft":"displayNone",style:{fontSize:"0.815rem",fontWeight:"500",color:"#14181F"}},"Drafts"))))):""),Me||be||Le||Je?null:n().createElement("div",{className:"tableHeaderItems displayFlex",style:{width:"20%",display:"flex",justifyContent:"right",paddingRight:"2px"}},Le||Je?null:n().createElement("div",null,aa&&n().createElement("div",{style:{display:"flex",alignItem:"center",marginLeft:"8px"},formctrlid:"listcard3"},n().createElement("div",{className:"b2",id:"button-11"},n().createElement("div",{id:"fld1474L3TCListView",className:la?"buttonList":"buttonGrid",onClick:()=>{na(!0),fa(!1)},style:{borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(b.umT,null)),n().createElement("span",null,"List")),n().createElement("div",{id:"fld1474L3TCGridView",className:la||Ca?"buttonGrid":"buttonList",onClick:()=>{na(!1),fa(!1)}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(T.aCJ,null)),n().createElement("span",null,"Card")),n().createElement("div",{className:Ca?"buttonList":"buttonGrid",id:"fld1474L3TCTileView",onClick:()=>{fa(!0),na(!1)},style:{borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}},n().createElement("span",{style:{fontSize:"14px",color:"#14181F"}},n().createElement(x.f_H,null)),n().createElement("span",null,"Tile"))),n().createElement(C.ZP,{placement:"top",title:"More"},n().createElement(h.Tkb,{style:{margin:"5px 10px",fontSize:"18px"},onClick:e=>{Ra||(e.preventDefault(),Fa({top:e.pageY,left:e.pageX-20}))}})),n().createElement(F.Z,{open:!!Ra,onClose:()=>Fa(null),anchorReference:"anchorPosition",anchorPosition:Ra},n().createElement("div",{className:"menuStyles",style:{width:"100%"},onClick:()=>{na(!0),Ze(!1),fa(!1),La(!0),Fa(null),Va("BMSINTERFACE"),Ja(ae,Ve,"BMSINTERFACE")}},n().createElement("span",null,n().createElement(k.Z,{style:{fontSize:"20px"}})),n().createElement("span",{style:{paddingLeft:"10px"}},"BMS-Interface"),n().createElement("h1",{className:"anchorDesc"},"BMS Interface can be viewed")),n().createElement("div",{className:"menuStyles",style:{width:"100%"},onClick:()=>{na(!0),Ze(!1),fa(!1),La(!0),Fa(null),Va("LISTOFENABLEASSETS"),Ja(ae,Ve,"LISTOFENABLEASSETS")}},n().createElement("span",null,n().createElement(k.Z,{style:{fontSize:"20px"}})),n().createElement("span",{style:{paddingLeft:"10px"}},"BMS-Assets-Enable"),n().createElement("h1",{className:"anchorDesc"},"List of BMS Enable Assets Can Viewed")))))),Me||be||Le?null:aa?da?n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(A.Z,{count:ua,color:"primary",page:Da.current,onChange:(e,a)=>{Aa({current:a,pageSize:Da.pageSize}),ya(a),Wa({current:a,pageSize:Da.pageSize})}}),n().createElement("div",null,n().createElement(B.Z,{value:Da.pageSize,frmctrlid:"fld1474L3TCSelectPagination",onChange:e=>{Aa({current:1,pageSize:e.target.value}),Wa({current:1,pageSize:e.target.value})},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),aa&&n().createElement("p",{className:"per-page"},"/ per page Of (",Sa,")")):n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(A.Z,{count:$,siblingCount:0,color:"primary",page:ae.current,onChange:(e,a)=>{if(te({current:a,pageSize:ae.pageSize}),Je)Ja({current:a,pageSize:ae.pageSize},Se,"DraftBMSAlaramID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";De.length>0?Xa(De,{current:a,pageSize:ae.pageSize}):Ja({current:a,pageSize:ae.pageSize},Se,"BMSAlaramID")}}}),n().createElement("div",null,n().createElement(B.Z,{value:ae.pageSize,frmctrlid:"fld1474L3TCSelectPagination",onChange:e=>{te({current:1,pageSize:e.target.value}),Je?Ja({current:1,pageSize:e.target.value},Oe,"DraftBMSAlaramID","DraftPage"):De.length>0?Xa(De,{current:1,pageSize:e.target.value}):Ja({current:1,pageSize:e.target.value},Oe,"BMSAlaramID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),aa&&n().createElement("p",{className:"per-page "},"/ per page Of (",J,") ")):n().createElement("div",{style:{position:"absolute",right:"0%",display:"flex",marginTop:"-7px"}},n().createElement(E.Z,{style:{color:"#777"},rowsPerPageOptions:[],component:"div",count:Number(J),page:ra,onPageChange:(e,a)=>{ia(a),Ja({current:a+1,pageSize:ae.pageSize},Ve,Je?"DraftBMSAlaramID":"BMSAlaramID",Je&&"DraftPage"),te({current:a+1,pageSize:ae.pageSize})},rowsPerPage:10,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onRowsPerPageChange:e=>{ia(0)}}))),n().createElement("div",{id:"BMSAlaramRegistry-TableBody",className:"displayFlex padding0",style:{height:"66vh",overflow:"auto"}},n().createElement("div",{id:"BMSAlaramRegistryFilterDiv"+(e.Dialogview?"dialog":""),style:{width:"0%",display:"none",border:"1px solid #e3e4e9",marginRight:"1%"}},ue&&n().createElement(p.default,{CloseBtnClk:()=>at(),searchData:e=>{ge(e||xa);const a=Object.fromEntries(Object.entries(e).filter((([e,a])=>""!==a)));za(a)},formID:H,data:()=>{},visibleData:()=>{},token:Pe.token[0],userGrid:ba,msg:(e,a)=>xe.alert({open:!0,color:a,message:[e]})}),Be&&!Me&&!be&&n().createElement(M.Z,{frmctrlid:"fld1474L3TCTableColumnOrder",loading:e=>xe.loading(e),AltMsg:(e,a)=>xe.alert({open:!0,color:a,message:[e]}),select:Be,userID:V,userGridViewFormID:H,saved:(e,a)=>{e&&Qa(a),wa(a)},Token:Pe.token[0]})),n().createElement("div",{id:"BMSAlaramRegistryTabDiv"+(e.Dialogview?"dialog":""),style:{width:"100%",position:"relative",height:"66vh"}},la&&aa?n().createElement("div",null,Me&&n().createElement(ListComponent,{onLoad:Me,data:(e,a)=>{!function(e,a){Re({type:"editData",payload:[e]}),ye(!1),document.getElementById("BMSAlaramRegistry-TabView").classList.add("ViewBtnAct"),document.getElementById("BMSAlaramRegistry-GridView").classList.remove("ViewBtnAct"),document.getElementById("BMSAlaramRegistry-ShareView").classList.remove("ViewBtnAct"),Ee(!1),we(!1),Ze(!1);let t={BMSAlaramCode:"",BMSAlaramName:"",AlaramDateTime:"",AlaramDesCription:"",BMSAlaramStatus:"",BMSAlaramTypeID:"",AssetID:"",BMSSysID:"",IsCCMRaised:""};ze(t),Ja({current:1,pageSize:100},t,"BMSAlaramID")}(e)},json:Ke}),!Me&&!Le&&n().createElement("div",null,da?n().createElement(G.Z,{data:ca,expanded:()=>{},edit:(e,a,t)=>{et(e,a,t),xe.ExpandTable(!1),Re({type:"EditIsDraft",payload:a}),Re({type:"EditOpen",payload:!1})}}):n().createElement(z.Z,{ref:L,dynamic:"BMSAlaramID"!=me,frmctrlid:"tblcs_1474_L3_",id:"BMSAlaramRegistry-MainTable",headerdata:aa?ve:ve.slice(0,3),tablesearchparams:ma,searchvalue:e=>{sa(e),ge(e);let a={...Object.fromEntries(Object.entries(e).filter((([e,a])=>""!==a))),...Oa};Pa(a),te({current:1,pageSize:10}),Ja({current:1,pageSize:10},a,me,Je&&"DraftPage")},bodydata:ce,ondrag:(e,a)=>{et(a,Je,!0)},bodyitem:aa?he:he.slice(0,3),visibleitem:aa?ve:ve.slice(0,3),isdraft:Je,IsView:!0,tableExp:aa,tableID:H,accessrights:Pe.AccessRights,expanded:()=>{},edit:(a,t,l)=>{e.Dialogview?xe.select(a):et(a,t,l)},viewtoggle:xe.viewtoggle,isexpanded:!q||aa,action:"BMSAlaramID"!=me||e.Dialogview?"none":"",ViewComp:(e,a)=>{if(e)return n().createElement(Z.ZP,{loading:e=>xe.loading(e),alertmsg:e=>xe.alert(e),ConfirmAlert:e=>{xe.ConfirmAlert(e)},data:Pe.editData,AddOpen:Pe.EditOpen,parentId:a.BMSAlaramIDPK,IsDraft:Pe.EditIsDraft,tableview:e})}}))):n().createElement(v.Z,{frmctrlid:"fld1474L3TCExpandedCardDual",data:ce,id:"BMSAlaramRegistry",title:"BMSAlaramName",cardTile:!!Ca,visibleitem:ve,gridCountmdlg:aa?4:12,gridCountxssm:aa?6:12,onDoubleClick:(e,a)=>{q?xe.select(e):("edit"==a?(Re({type:"editData",payload:[e]}),Re({type:"IsDraft",payload:Je}),Re({type:"ShowDetail",payload:!1}),xe.ExpandTable(!1)):(Re({type:"editData",payload:[e]}),Re({type:"IsDraft",payload:Je}),Re({type:"ShowDetail",payload:!0}),xe.ExpandTable(!1),xe.viewtoggle()),aa&&(ye(!1),Ie(!1)))}})))))))})),j=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(null),d=(0,l.useRef)(null),o=(0,l.useRef)(null),[p]=((0,r.useSelector)((e=>e.form)),(0,l.useState)(localStorage.getItem("userid"))),[y,S]=O()("1474"),[I,M]=(0,l.useState)(!1),[E,C]=(0,l.useState)(0),[f,v]=(0,l.useState)(0),[h,T]=(0,l.useState)({current:1,pageSize:100}),[b,w]=(0,l.useState)(""),[x,P]=(0,l.useState)([]),[F,k]=(0,l.useState)({val:"",column:""}),[Z,V]=(0,l.useState)([]),[K,G]=(0,l.useState)(!1),[_,H]=(0,l.useState)(""),[j,U]=(0,l.useState)([]),[q,Y]=(0,l.useState)([]),[$,W]=(0,l.useState)([]),J=(0,l.useContext)(D.BMSAlaramRegistryContext),{cstate:X,cdispatch:Q}=(0,D.ContextApi)();let ee={BMSAlaramIDPK:"",BMSAlaramCode:"",BMSAlaramName:"",AlaramDateTime:"",AlaramDateTimeType:"",AlaramDateTimeBetween:"",AlaramDesCription:"",BMSAlaramStatus:"",IsCCMRaised:"",IsDraft:"",Remarks:"",BMSSysID:"",AssetID:"",BMSAlaramTypeID:"",IsActive:"",DeleStat:"",CreatedUserID:"",CreatedTtm:"",CreatedTtmType:"",CreatedTtmBetween:"",UpdatedTtm:"",BMSManagedID:"",BMSManagedCode:"",BMSTypeID:"",BMSTypCode:"",BMSTypeNmae:"",BMSSysCode:"",BMSSysName:"",AssetCategoryID:"",AssetCategoryCode:"",AssetCategoryName:"",AssetTypeID:"",AssetTypCode:"",AssetTypeName:"",PriorityID:"",PriorityCode:"",PriorityName:"",DivisionID:"",DivisionCode:"",DivisionName:"",DisciplineID:"",DisciplineCode:"",DisciplineName:"",BuildingID:"",BuildingCode:"",BuildingName:"",FloorID:"",FloorCode:"",FloorName:"",SpotID:"",SpotCode:"",SpotName:"",LocalityID:"",LocalityCode:"",LocalityName:"",StatusID:"",StatusCode:"",StatusName:"",ConditionID:"",ConditionCode:"",ConditionDesp:"",ConditionName:"",MakeID:"",MakeCode:"",MakeName:"",ModelID:"",ModelCode:"",ModelName:"",ServiceAreaID:"",ServiceAreaCode:"",ServiceAreaName:"",TradeGroupID:"",TradeGroupCode:"",TradeGroupName:"",EquipmentName:"",EquipmentRefNo:"",AssetBarcode:"",AssetTagNo:"",BMSAlaramTypCode:"",BMSAlaramTypeName:"",PageIndex:"",PageSize:"",Type:"",OrderByType:"",SortOrder:"",UserGroupKey:"",UserAccessKey:""};const[ae,te]=(0,l.useState)(!1),[le,ne]=(0,l.useState)(!0),[re,ie]=(0,l.useState)(!1),[me,se]=(0,l.useState)(!0),[de,oe]=(0,l.useState)(0),[ce,pe]=(0,l.useState)({BMSAlaramCode:"",BMSAlaramName:"",AlaramDateTime:"",AlaramDesCription:"",BMSAlaramStatus:"",BMSAlaramTypeName:"",EquipmentName:"",BMSSysName:"",IsCCMRaised:""}),[ue,ye]=(0,l.useState)([]),[Se,ge]=(0,l.useState)([]),[De,Ae]=(0,l.useState)([]),[Be,Ie]=(0,l.useState)(!1),[Me,Ee]=(0,l.useState)("");let Ce=(0,N.Z)();const fe=[{columns:ue,data:b}];(0,l.useEffect)((()=>{!function(e){let a=[],t=[],l=[],n=[];e.map((e=>{"1"==e.IsVisible&&(a.push({id:e.FieldDisplay,name:e.FieldDescription,type:e.FieldDataType}),"IsDraft"!==!e.FieldDisplay&&(t.push(e.FieldDisplay),l.push(e.FieldDescription)));let r=localStorage.getItem("Language");n.push({[e.FieldName]:e[{English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"}[r]]})})),Q({type:"language",payload:Object.assign({},...n)}),pe(t.reduce(((e,a)=>(e[a]="",e)),{})),U(e),Y(a),W(t),ye(l),ge(t)}(y)}),[y]),(0,l.useImperativeHandle)(a,(()=>({tableRefresh:()=>{ve()},viewrecord:e=>{Z.map(((a,t)=>{a.BMSAlaramIDPK==e&&Q({type:"editData",payload:[Z[t]]})}))},DialogTableProps:e=>{M(e)},searchData:(a,t,l)=>{J.loading(!0),d.current&&d.current.clearItem(),Ee(l),T({current:1,pageSize:10}),ee=e.ApiParamType.params,Ne({current:1,pageSize:100},t,l),o.current&&o.current.clearItem()}}))),(0,l.useEffect)((()=>{!1===e.cardview&&se(e.cardview),e.Dialogview&&M(e.Dialogview)}),[e.cardview,e.Dialogview]);const ve=()=>{X.IsDraft?Ne(h,ee,"DraftBMSAlaramID"):Ne(h,ee,"BMSAlaramID")},Ne=async(a,t,l,n)=>{if(X.token[0]){if(J.loading(!0),"DraftPage"!==n&&te(X.IsDraft),await Ee((e=>(l=e,e))),t&&Object.keys(t).length>0){let e=Object.keys(t),a={},l=[],n=Object.values(t);e.map((e=>{l.push(e.split("_")[0])}));for(let e=0;e<l.length;e++)a[l[e]]=n[e];t=a}H(t);let r=g.v.Api+`${e.ApiType}/`,i={data:{p1:t&&t.BMSAlaramIDPK?t.BMSAlaramIDPK:null,p2:t&&t.BMSAlaramCode?t.BMSAlaramCode:null,p3:t&&t.BMSAlaramName?t.BMSAlaramName:null,p4:t&&t.AlaramDateTime?t.AlaramDateTime:null,p5:t&&t.AlaramDateTimeType?t.AlaramDateTimeType:null,p6:t&&t.AlaramDateTimeBetween?t.AlaramDateTimeBetween:null,p7:t&&t.AlaramDesCription?t.AlaramDesCription:null,p8:t&&t.BMSAlaramStatus?t.BMSAlaramStatus:null,p9:null,p10:"DraftBMSAlaramID"==l?"1":"0",p11:null,p12:t&&t.BMSSysID?t.BMSSysID:null,p13:t&&t.AssetID?t.AssetID:null,p14:t&&t.BMSAlaramTypeID?t.BMSAlaramTypeID:null,p15:t&&t.IsActive,p16:null,p17:t&&t.CreatedUserID_varchar?t.CreatedUserID_varchar:null,p18:t&&t.CreatedTtm?t.CreatedTtm:null,p19:t&&t.CreatedTtmType?t.CreatedTtmType:null,p20:t&&t.CreatedTtmBetween?t.CreatedTtmBetween:null,p21:null,p22:t&&t.BMSManagedID?t.BMSManagedID:null,p23:t&&t.BMSManagedCode?t.BMSManagedCode:null,p24:t&&t.BMSTypeID?t.BMSTypeID:null,p25:t&&t.BMSTypCode?t.BMSTypCode:null,p26:t&&t.BMSTypeNmae?t.BMSTypeNmae:null,p27:t&&t.BMSSysCode?t.BMSSysCode:null,p28:t&&t.BMSSysName?t.BMSSysName:null,p29:t&&t.AssetCategoryID?t.AssetCategoryID:null,p30:t&&t.AssetCategoryCode?t.AssetCategoryCode:null,p31:t&&t.AssetCategoryName?t.AssetCategoryName:null,p32:t&&t.AssetTypeID?t.AssetTypeID:null,p33:t&&t.AssetTypCode?t.AssetTypCode:null,p34:t&&t.AssetTypeName?t.AssetTypeName:null,p35:t&&t.PriorityID?t.PriorityID:null,p36:t&&t.PriorityCode?t.PriorityCode:null,p37:t&&t.PriorityName?t.PriorityName:null,p38:t&&t.DivisionID?t.DivisionID:null,p39:t&&t.DivisionCode?t.DivisionCode:null,p40:t&&t.DivisionName?t.DivisionName:null,p41:t&&t.DisciplineID?t.DisciplineID:null,p42:t&&t.DisciplineCode?t.DisciplineCode:null,p43:t&&t.DisciplineName?t.DisciplineName:null,p44:t&&t.BuildingID?t.BuildingID:null,p45:t&&t.BuildingCode?t.BuildingCode:null,p46:t&&t.BuildingName?t.BuildingName:null,p47:t&&t.FloorID?t.FloorID:null,p48:t&&t.FloorCode?t.FloorCode:null,p49:t&&t.FloorName?t.FloorName:null,p50:t&&t.SpotID?t.SpotID:null,p51:t&&t.SpotCode?t.SpotCode:null,p52:t&&t.SpotName?t.SpotName:null,p53:t&&t.LocalityID?t.LocalityID:null,p54:t&&t.LocalityCode?t.LocalityCode:null,p55:t&&t.LocalityName?t.LocalityName:null,p56:t&&t.StatusID?t.StatusID:null,p57:t&&t.StatusCode?t.StatusCode:null,p58:t&&t.StatusName?t.StatusName:null,p59:t&&t.ConditionID?t.ConditionID:null,p60:t&&t.ConditionCode?t.ConditionCode:null,p61:t&&t.ConditionDesp?t.ConditionDesp:null,p62:t&&t.ConditionName?t.ConditionName:null,p63:t&&t.MakeID?t.MakeID:null,p64:t&&t.MakeCode?t.MakeCode:null,p65:t&&t.MakeName?t.MakeName:null,p66:t&&t.ModelID?t.ModelID:null,p67:t&&t.ModelCode?t.ModelCode:null,p68:t&&t.ModelName?t.ModelName:null,p69:t&&t.ServiceAreaID?t.ServiceAreaID:null,p70:t&&t.ServiceAreaCode?t.ServiceAreaCode:null,p71:t&&t.ServiceAreaName?t.ServiceAreaName:null,p72:t&&t.TradeGroupID?t.TradeGroupID:null,p73:t&&t.TradeGroupCode?t.TradeGroupCode:null,p74:t&&t.TradeGroupName?t.TradeGroupName:null,p75:t&&t.EquipmentName?t.EquipmentName:null,p76:t&&t.EquipmentRefNo?t.EquipmentRefNo:null,p77:t&&t.AssetBarcode?t.AssetBarcode:null,p78:t&&t.AssetTagNo?t.AssetTagNo:null,p79:t&&t.BMSAlaramTypCode?t.BMSAlaramTypCode:null,p80:t&&t.BMSAlaramTypeName?t.BMSAlaramTypeName:null,p81:a.current,p82:a.pageSize,p83:l,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};(0,c.Z)(r,i,X.token[0]).then((e=>{if(J.loading(!1),"200"==e.Output.status.code)if(e.Output.data.length>0){if(e.Output.data){let t=0;e.Output.data.length>0?(t=parseFloat(e.Output.data[0].TotalCount,10)/10,v(e.Output.data[0].TotalCount?e.Output.data[0].TotalCount:e.Output.data.length),Q({type:"count",payload:e.Output.data[0].TotalCount})):t=0,10==a.pageSize?C(Math.ceil(t)):20==a.pageSize?C(Math.ceil(t/2)):50==a.pageSize?C(Math.ceil(t/5)):100==a.pageSize&&C(Math.ceil(t/10)),V(e.Output.data)}}else J.alert({open:!0,color:"warning",message:[(t="There is no Record Found",Ce?.[t]?Ce[t]:t)]}),V([]),C(0),v(0),Q({type:"count",payload:0});var t}))}};return(0,l.useEffect)((()=>{ie(X.ExpandTableValue)}),[X.ExpandTableValue]),n().createElement("div",null,n().createElement(i.Z,{expanded:le,onChange:()=>()=>{ne(re)}},n().createElement(s.Z,null,n().createElement("div",{className:"padding displayFlex backgroundDark borderRadiusTop width100"},n().createElement("div",{style:{width:"60%"}},n().createElement("div",{className:"displayFlex"},n().createElement("div",{className:"ListHeader displayFlex"},n().createElement("p",{className:"ListP"}," ",e.CardName," (",f,")")))))),n().createElement(m.Z,{className:"AccDetails"},n().createElement("div",{className:"tableCard"},n().createElement("div",{id:"BMSAlaramRegistry-HeaderItems",className:"displayFlex padding"},!1===e.cardview?null:n().createElement("div",{className:"tableHeaderItems displayFlex"},n().createElement(u.Z,{formctrlidprint:"fld1474L3TCExportPrint",formctrlidexport:"fld1474L3TCExportTable",formctrlidrefresh:"fld1474L3TCExportRefresh",title:"Alaram Registry",data:x,exportData:fe,Items:Se,columnIndex:ue,triggerApi:a=>{((a,l,n)=>{if(0===f)return J.alert({open:!0,color:"warning",message:["There is no Record Found"]}),!1;J.loading(!0);let r=g.v.Api+`${e.ApiType}/`,i={data:{p1:a||(a&&a.BMSAlaramIDPK?a.BMSAlaramIDPK:null),p2:a&&a.BMSAlaramCode?a.BMSAlaramCode:null,p3:a&&a.BMSAlaramName?a.BMSAlaramName:null,p4:a&&a.AlaramDateTime?a.AlaramDateTime:null,p5:a&&a.AlaramDateTimeType?a.AlaramDateTimeType:null,p6:a&&a.AlaramDateTimeBetween?a.AlaramDateTimeBetween:null,p7:a&&a.AlaramDesCription?a.AlaramDesCription:null,p8:a&&a.BMSAlaramStatus?a.BMSAlaramStatus:null,p9:null,p10:ae?"1":"0",p11:null,p12:a&&a.BMSSysID?a.BMSSysID:null,p13:a&&a.AssetID?a.AssetID:null,p14:a&&a.BMSAlaramTypeID?a.BMSAlaramTypeID:null,p15:a&&a.IsActive,p16:null,p17:a&&a.CreatedUserID_varchar?a.CreatedUserID_varchar:null,p18:a&&a.CreatedTtm?a.CreatedTtm:null,p19:a&&a.CreatedTtmType?a.CreatedTtmType:null,p20:a&&a.CreatedTtmBetween?a.CreatedTtmBetween:null,p21:null,p22:a&&a.BMSManagedID?a.BMSManagedID:null,p23:a&&a.BMSManagedCode?a.BMSManagedCode:null,p24:a&&a.BMSTypeID?a.BMSTypeID:null,p25:a&&a.BMSTypCode?a.BMSTypCode:null,p26:a&&a.BMSTypeNmae?a.BMSTypeNmae:null,p27:a&&a.BMSSysCode?a.BMSSysCode:null,p28:a&&a.BMSSysName?a.BMSSysName:null,p29:a&&a.AssetCategoryID?a.AssetCategoryID:null,p30:a&&a.AssetCategoryCode?a.AssetCategoryCode:null,p31:a&&a.AssetCategoryName?a.AssetCategoryName:null,p32:a&&a.AssetTypeID?a.AssetTypeID:null,p33:a&&a.AssetTypCode?a.AssetTypCode:null,p34:a&&a.AssetTypeName?a.AssetTypeName:null,p35:a&&a.PriorityID?a.PriorityID:null,p36:a&&a.PriorityCode?a.PriorityCode:null,p37:a&&a.PriorityName?a.PriorityName:null,p38:a&&a.DivisionID?a.DivisionID:null,p39:a&&a.DivisionCode?a.DivisionCode:null,p40:a&&a.DivisionName?a.DivisionName:null,p41:a&&a.DisciplineID?a.DisciplineID:null,p42:a&&a.DisciplineCode?a.DisciplineCode:null,p43:a&&a.DisciplineName?a.DisciplineName:null,p44:a&&a.BuildingID?a.BuildingID:null,p45:a&&a.BuildingCode?a.BuildingCode:null,p46:a&&a.BuildingName?a.BuildingName:null,p47:a&&a.FloorID?a.FloorID:null,p48:a&&a.FloorCode?a.FloorCode:null,p49:a&&a.FloorName?a.FloorName:null,p50:a&&a.SpotID?a.SpotID:null,p51:a&&a.SpotCode?a.SpotCode:null,p52:a&&a.SpotName?a.SpotName:null,p53:a&&a.LocalityID?a.LocalityID:null,p54:a&&a.LocalityCode?a.LocalityCode:null,p55:a&&a.LocalityName?a.LocalityName:null,p56:a&&a.StatusID?a.StatusID:null,p57:a&&a.StatusCode?a.StatusCode:null,p58:a&&a.StatusName?a.StatusName:null,p59:a&&a.ConditionID?a.ConditionID:null,p60:a&&a.ConditionCode?a.ConditionCode:null,p61:a&&a.ConditionDesp?a.ConditionDesp:null,p62:a&&a.ConditionName?a.ConditionName:null,p63:a&&a.MakeID?a.MakeID:null,p64:a&&a.MakeCode?a.MakeCode:null,p65:a&&a.MakeName?a.MakeName:null,p66:a&&a.ModelID?a.ModelID:null,p67:a&&a.ModelCode?a.ModelCode:null,p68:a&&a.ModelName?a.ModelName:null,p69:a&&a.ServiceAreaID?a.ServiceAreaID:null,p70:a&&a.ServiceAreaCode?a.ServiceAreaCode:null,p71:a&&a.ServiceAreaName?a.ServiceAreaName:null,p72:a&&a.TradeGroupID?a.TradeGroupID:null,p73:a&&a.TradeGroupCode?a.TradeGroupCode:null,p74:a&&a.TradeGroupName?a.TradeGroupName:null,p75:a&&a.EquipmentName?a.EquipmentName:null,p76:a&&a.EquipmentRefNo?a.EquipmentRefNo:null,p77:a&&a.AssetBarcode?a.AssetBarcode:null,p78:a&&a.AssetTagNo?a.AssetTagNo:null,p79:a&&a.BMSAlaramTypCode?a.BMSAlaramTypCode:null,p80:a&&a.BMSAlaramTypeName?a.BMSAlaramTypeName:null,p81:1,p82:f,p83:Me,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};var m;J.loading(!1),J.alert({open:!0,color:"success",message:[`${m="1474",X.language?.[m]?X.language[m]:m} - ${n.alertName}, Once you have downloaded the file, you will be notified`]}),(0,c.Z)(r,i,X.token[0],n).then((e=>{(0,R.PDF_Excel_Generate)(e,J,Se,w,t,n)}))})(_,F.column,a)},TableVisibleItem:q,userGridViewFormID:"1474",TableTotalCount:f,Refresh:()=>{Ne({current:1,pageSize:100},_,Me),T({current:1,pageSize:100}),o.current&&o.current.clearItem(),d.current&&d.current.clearItem()},disabledPrint:!X.AccessRights.IsPrint,disabledExport:!X.AccessRights.IsExport,ref:t})),n().createElement("div",{className:"tableTopPagination displayFlex floatOrder"},n().createElement(A.Z,{count:E,siblingCount:0,color:"primary",page:h.current,onChange:(e,a)=>{if(T({current:a,pageSize:h.pageSize}),ae)Ne({current:a,pageSize:h.pageSize},_,"DraftBMSAlaramID","DraftPage");else{var t=document.querySelectorAll(".CardViewMain");for(let e=0;e<t.length;e++)t[e].style.background="#FFF";Ne({current:a,pageSize:h.pageSize},_,"BMSAlaramID")}}}),n().createElement("div",null,n().createElement(B.Z,{value:h.pageSize,onChange:e=>{T({current:1,pageSize:e.target.value}),Ne({current:1,pageSize:e.target.value},_,"BMSAlaramID")},className:"BootstrapInputStyle2"},n().createElement("option",{value:10},"10"),n().createElement("option",{value:20},"20"),n().createElement("option",{value:50},"50"),n().createElement("option",{value:100},"100"))),re&&n().createElement("p",{className:"per-page"},"/ per page Of (",f,")"))),n().createElement("div",{id:"BMSAlaramRegistry-TableBodyPopUp",className:"displayFlex padding0",style:{height:"61vh",overflow:"auto"}},n().createElement("div",{id:"BMSAlaramRegistryTabDivPopUp",style:{width:"100%",position:"relative",height:"61vh"}},"MultiSelect"==e.Cardtype?n().createElement(L.Z,{ref:o,type:e.viewtype,id:"BMSAlaramRegistry",headerdata:q,tablesearchparams:ce,searchvalue:e=>{pe(e),T({current:1,pageSize:100}),Ne({current:1,pageSize:100},e,ae?"DraftBMSAlaramID":"BMSAlaramID",ae&&"DraftPage")},bodydata:Z,ondrag:(e,a)=>{Q({type:"editData",payload:[a]}),Q({type:"IsDraft",payload:ae}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:q,isdraft:ae,accessrights:X.AccessRights,expanded:()=>{},edit:(a,t,l)=>{I?J.select(a):(e.editdata(a,"view"),"viewonly"==e.viewtype?J.edit(a,t,l):J.edit(a,t,!1))},viewtoggle:()=>{},IsSub:e.IsSub,multi:!0,showData:!0,multiselect:e=>{V(e)},color:!0,isexpanded:!1}):n().createElement(z.Z,{frmctrlid:"tblcs_1474_L3_",ref:d,id:"BMSAlaramRegistryTable",type:e.viewtype,headerdata:q,tablesearchparams:ce,searchvalue:e=>{let a={..._,...e};pe(e),H(a),T({current:1,pageSize:100}),Ne(h,a,Me)},bodydata:Z,ondrag:(e,a)=>{Q({type:"editData",payload:[a]}),Q({type:"IsDraft",payload:ae}),Q({type:"ShowDetail",payload:!0})},bodyitem:$,visibleitem:q,isdraft:ae,accessrights:X.AccessRights,expanded:()=>{},edit:(a,t,l)=>{I?J.select(a):(e.editdata(a,"view"),J.edit(a,t,1!=a.Entry))},viewtoggle:J.viewtoggle,IsSub:e.IsSub})))))))}))},42803:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E}),t(95866),t(99058);var l=t(92950),n=t.n(l),r=t(80366),i=t(51673),m=t(282),s=t(868),d=t(78513),o=t(14439),c=t(27848),p=t(40900),u=t(64059),y=t(24038),S=t(8981),g=t(47516),D=t(86893),A=t(55144),B=t(33681),I=t(63163),M=t(25108);const E=(0,l.forwardRef)(((e,a)=>{const[t]=(0,l.useState)(localStorage.getItem("userid")),[E,C]=(0,l.useState)([]),[f,v]=(0,l.useState)({idpk:"",name:"",type:""}),[N,h]=(0,l.useState)(""),[T,b]=(0,l.useState)({}),[w,x]=(0,l.useState)(!0),[P,R]=(0,l.useState)(!1),{cstate:F,cdispatch:k}=e.ContextApi?e.ContextApi:(0,A.ContextApi)(),[L,Z]=(0,l.useState)(1),[V,O]=(0,l.useState)(0),[z,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)({}),[H,j]=(0,l.useState)([]),[U,q]=(0,l.useState)(!0);let Y=localStorage.getItem("Language");const $={English:"FieldDescription",Arabic:"ArabicLang",Other:"OtherLang"};let W=(0,S.Z)();const J=e=>W[e]?W[e]:e,X=a=>e.userGrid?.find((e=>e.AdminUserGridViewIDPK==a))?.[$[Y]];function Q(){b({}),_({}),e.searchData({}),R(!1)}(0,l.useEffect)((()=>{let a=e.userGrid.filter((e=>!e.IsForeign&&e.IsVisible&&!e.FieldName.startsWith("Is")&&"99"!=e.GroupID))?.map((e=>e.FieldDisplay));j(a)}),[]),(0,l.useEffect)((()=>{e.anchorclearFilter&&Q()}),[e.anchorclearFilter]),(0,l.useImperativeHandle)(a,(()=>({clear:()=>{Q()}})));const ee=async(a,t,l,n)=>{K(!0);let r=t.IsForeign?t.FieldName+"PK":"BMSAlaramIDPK";try{let m="",s=[],d={};await v((e=>(m=e.name,e))),await b((e=>(s=e,e))),await _((e=>(d=e,e)));const o=p.v.Api+"FP1474S3/",c={data:{p1:t.IsForeign?await le():null,p2:"BMSAlaramCode"==m&&l.length>0?"%"+l+"%":null,p3:"BMSAlaramName"==m&&l.length>0?"%"+l+"%":null,p4:d.AlaramDateTime?d.AlaramDateTime.From:null,p5:d.AlaramDateTime?d.AlaramDateTime.Type:null,p6:d.AlaramDateTime?d.AlaramDateTime.To:null,p7:"AlaramDesCription"==m&&l.length>0?"%"+l+"%":null,p8:"BMSAlaramStatus"==m&&l.length>0?"%"+l+"%":null,p9:"IsCCMRaised"==m&&l.length>0?"%"+l+"%":null,p10:null,p11:null,p12:"BMSSysName"!=m&&s.BMSSysName?s.BMSSysName.map((e=>e.BMSSysIDPK)).toString():null,p13:"EquipmentName"!=m&&s.EquipmentName?s.EquipmentName.map((e=>e.AssetIDPK)).toString():null,p14:"BMSAlaramTypeName"!=m&&s.BMSAlaramTypeName?s.BMSAlaramTypeName.map((e=>e.BMSAlaramTypeIDPK)).toString():null,p15:e.Dialogview?"1":null,p16:null,p17:"p17"==m&&l.length>0?l:null,p18:null,p19:null,p20:null,p21:null,p22:"BMSManagedName"!=m&&s.BMSManagedName?s.BMSManagedName.map((e=>e.BMSManagedIDPK)).toString():null,p23:"BMSManagedCode"==m&&l.length>0?"%"+l+"%":null,p24:"BMSTypCode"!=m&&s.BMSTypCode?s.BMSTypCode.map((e=>e.BMSTypeIDPK)).toString():null,p25:"BMSTypCode"==m&&l.length>0?"%"+l+"%":null,p26:"BMSTypeNmae"==m&&l.length>0?"%"+l+"%":null,p27:"BMSSysCode"==m&&l.length>0?"%"+l+"%":null,p28:"BMSSysName"==m&&l.length>0?"%"+l+"%":null,p29:"AssetCategoryName"!=m&&s.AssetCategoryName?s.AssetCategoryName.map((e=>e.AssetCategoryIDPK)).toString():null,p30:"AssetCategoryCode"==m&&l.length>0?"%"+l+"%":null,p31:"AssetCategoryName"==m&&l.length>0?"%"+l+"%":null,p32:"AssetTypeName"!=m&&s.AssetTypeName?s.AssetTypeName.map((e=>e.AssetTypeIDPK)).toString():null,p33:"AssetTypCode"==m&&l.length>0?"%"+l+"%":null,p34:"AssetTypeName"==m&&l.length>0?"%"+l+"%":null,p35:"PriorityName"!=m&&s.PriorityName?s.PriorityName.map((e=>e.PriorityIDPK)).toString():null,p36:"PriorityCode"==m&&l.length>0?"%"+l+"%":null,p37:"PriorityName"==m&&l.length>0?"%"+l+"%":null,p38:"DivisionName"!=m&&s.DivisionName?s.DivisionName.map((e=>e.DivisionIDPK)).toString():null,p39:"DivisionCode"==m&&l.length>0?"%"+l+"%":null,p40:"DivisionName"==m&&l.length>0?"%"+l+"%":null,p41:"DisciplineName"!=m&&s.DisciplineName?s.DisciplineName.map((e=>e.DisciplineIDPK)).toString():null,p42:"DisciplineCode"==m&&l.length>0?"%"+l+"%":null,p43:"DisciplineName"==m&&l.length>0?"%"+l+"%":null,p44:"BuildingName"!=m&&s.BuildingName?s.BuildingName.map((e=>e.BuildingIDPK)).toString():null,p45:"BuildingCode"==m&&l.length>0?"%"+l+"%":null,p46:"BuildingName"==m&&l.length>0?"%"+l+"%":null,p47:"FloorName"!=m&&s.FloorName?s.FloorName.map((e=>e.FloorIDPK)).toString():null,p48:"FloorCode"==m&&l.length>0?"%"+l+"%":null,p49:"FloorName"==m&&l.length>0?"%"+l+"%":null,p50:"SpotName"!=m&&s.SpotName?s.SpotName.map((e=>e.SpotIDPK)).toString():null,p51:"SpotCode"==m&&l.length>0?"%"+l+"%":null,p52:"SpotName"==m&&l.length>0?"%"+l+"%":null,p53:"LocalityName"!=m&&s.LocalityName?s.LocalityName.map((e=>e.LocalityIDPK)).toString():null,p54:"LocalityCode"==m&&l.length>0?"%"+l+"%":null,p55:"LocalityName"==m&&l.length>0?"%"+l+"%":null,p56:"StatusName"!=m&&s.StatusName?s.StatusName.map((e=>e.StatusIDPK)).toString():null,p57:"StatusCode"==m&&l.length>0?"%"+l+"%":null,p58:"StatusName"==m&&l.length>0?"%"+l+"%":null,p59:"ConditionName"!=m&&s.ConditionName?s.ConditionName.map((e=>e.ConditionIDPK)).toString():null,p60:"ConditionCode"==m&&l.length>0?"%"+l+"%":null,p61:"ConditionDesp"==m&&l.length>0?"%"+l+"%":null,p62:"ConditionName"==m&&l.length>0?"%"+l+"%":null,p63:"MakeName"!=m&&s.MakeName?s.MakeName.map((e=>e.MakeIDPK)).toString():null,p64:"MakeCode"==m&&l.length>0?"%"+l+"%":null,p65:"MakeName"==m&&l.length>0?"%"+l+"%":null,p66:"ModelName"!=m&&s.ModelName?s.ModelName.map((e=>e.ModelIDPK)).toString():null,p67:"ModelCode"==m&&l.length>0?"%"+l+"%":null,p68:"ModelName"==m&&l.length>0?"%"+l+"%":null,p69:"ServiceAreaName"!=m&&s.ServiceAreaName?s.ServiceAreaName.map((e=>e.ServiceAreaIDPK)).toString():null,p70:"ServiceAreaCode"==m&&l.length>0?"%"+l+"%":null,p71:"ServiceAreaName"==m&&l.length>0?"%"+l+"%":null,p72:"TradeGroupName"!=m&&s.TradeGroupName?s.TradeGroupName.map((e=>e.TradeGroupIDPK)).toString():null,p73:"TradeGroupCode"==m&&l.length>0?"%"+l+"%":null,p74:"TradeGroupName"==m&&l.length>0?"%"+l+"%":null,p75:"EquipmentName"==m&&l.length>0?"%"+l+"%":null,p76:"EquipmentRefNo"==m&&l.length>0?"%"+l+"%":null,p77:"AssetBarcode"==m&&l.length>0?"%"+l+"%":null,p78:"AssetTagNo"==m&&l.length>0?"%"+l+"%":null,p79:"BMSAlaramTypCode"==m&&l.length>0?"%"+l+"%":null,p80:"BMSAlaramTypeName"==m&&l.length>0?"%"+l+"%":null,p81:n||1,p82:10,p83:a,p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};await(0,i.Z)(o,c,e.token).then((a=>{const t=a.Output.status.code,l=a.Output.data;if("200"===t)if(l.length>0)if(1===n){let e=te(l,m),a=ae(e,T[m],r);C(a),O(a.length>0?a[0].TotalCount:T[m].length)}else{let e=[...E,...l],a=te(e,m);O(a.length<10?a.length:l[0].TotalCount),C(te(a,m))}else N.length>0&&C([]),O(E.length);else e.alertmsg("error",[a.Output.status.message])}))}catch(a){e.alertmsg("warning",[a])}finally{K(!1)}},ae=(e=[],a=[],t)=>e.filter((e=>!a.find((a=>e[t]===a[t])))),te=(e,a)=>e.filter(((e,t,l)=>l.findIndex((t=>t[a]===e[a]))===t));async function le(){let e={};await b((a=>(e=a,a)));let a=[...H],t=[];for(let l of a){let a=e[l]?.map((e=>e.BMSAlaramIDPK)).toString();a&&t.push(a)}return t?[...new Set(t)].toString():""}async function ne(a,t,l,n,r,i){let m={[n]:{From:a,Type:l,To:t}},s={};_((e=>({...e,...m})));const d={...T};let o=[...H],c=[];for(let e of o){let a=d[e]?.map((e=>e.BMSAlaramIDPK)).toString();a&&c.push(a)}await _((e=>(s=e,e)));let p={BMSAlaramIDPK:c?[...new Set(c)].toString():"",CreatedTtm:s.CreatedTtm?s.CreatedTtm.From:"",CreatedTtmType:s.CreatedTtm?s.CreatedTtm.Type:"",CreatedTtmBetween:s.CreatedTtm?s.CreatedTtm.To:"",IsActive:"IsActive"==l?r:null,AlaramDateTime:s.AlaramDateTime?s.AlaramDateTime.From:"",AlaramDateTimeType:s.AlaramDateTime?s.AlaramDateTime.Type:"",AlaramDateTimeBetween:s.AlaramDateTime?s.AlaramDateTime.To:"",BMSAlaramTypeID:T.BMSAlaramTypeName?.map((e=>e.BMSAlaramTypeIDPK)).toString(),AssetID:T.EquipmentName?.map((e=>e.AssetIDPK)).toString(),BMSSysID:T.BMSSysName?.map((e=>e.BMSSysIDPK)).toString()};e.searchData(p)}function re(){return n().createElement(u.Z,{frmctrlid:"fld1474L3TCDateCompCreatedTtm",SendDateVal:(e,a,t,l,n)=>{ne(e,a,t,f.name,l)},keyboardback:()=>{R(!1),v({idpk:"",name:"",type:""})},title:J(f.name),fieldname:f.name,save:e=>{alert(!0)}})}return n().createElement("div",null,P?"Created Ttm"===f.name||f.name.includes("Date")?n().createElement(re,null):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnFilterHeaderTitle width100 displayFlex"},n().createElement(o.Z,null,n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement("p",{className:"columnHeaderp"},X(f.idpk)," (",E.length,"/",V,")")),n().createElement(c.Z,{xs:6,sm:6,md:6,lg:6},n().createElement(s.ZP,{title:J("Close"),placement:"top"},n().createElement("div",{className:"FilterItemClose",align:"right"},n().createElement(r.Z,{id:"fld1474L3TFCFilterItemCloseIcon",className:"FilterItemCloseIcon",onClick:()=>{R(!1),v({idpk:"",name:"",type:""}),Z(1)}}))),T[f.name]&&n().createElement("div",{className:"FiltercloseAlign",align:"right"},n().createElement(m.Z,{frmctrlid:"fld1474L3TFCFilterSelectedClearAll",className:"ColumnApplyButton",onClick:()=>{(async()=>{let e={};await b((a=>(e=a,M.log("clear fewItems",e),a))),e[f.name]=[],ee(f.type,f.name,"",1)})()}},n().createElement("span",{className:"ColumnApplyTitle"},J("Clear All")))))))),n().createElement("div",{className:"FilterParentDiv"},n().createElement("div",{"data-list-scroll-container":"true"},n().createElement("div",{id:"SelectedItems",tabIndex:"-1",className:"heightScrollY"},n().createElement("div",{className:"FilterMaximize"},w?n().createElement(s.ZP,{title:"Maximize",placement:"right"},n().createElement("span",null,n().createElement(D.D7o,{className:"FilterMaximizeIcon",onClick:()=>{x(!1)}}))):n().createElement(s.ZP,{title:"Minimize",placement:"right"},n().createElement("span",null,n().createElement(D.dOw,{className:"FilterMaximizeIcon",onClick:()=>{x(!0)}})))),n().createElement("ul",null,T[f.name]&&T[f.name].map(((e,a)=>n().createElement("div",{key:a,tabIndex:"-1",className:w?"filterSelectedItems":"filterSelectedItemsMaximize"},n().createElement("div",{className:"filterSelectedItemNames"},n().createElement("span",null,e[f.name])),n().createElement("div",{className:"filterSelectedItemClose"},n().createElement("div",{id:"fildacls_3_L2_"+e[f.name],onClick:()=>(async(e,a)=>{Z(1);let t=T[f.name].filter((a=>a!=e)),l={};await b((e=>(l=e,e))),l[f.name]=t,b(l),C((a=>[e,...a]))})(e)},n().createElement(r.Z,{className:"filterSelectedItemCloseIcon"})))))))),n().createElement("div",{className:"displayFlex width100 FilterSearch"},n().createElement("div",{className:"FilterSearchInputDiv"},n().createElement(y.Z,{frmctrlid:"fld1474L3TFCFilterSearchInput",className:"filterSearchInput",type:"text",value:N,placeholder:J("Enter ")+" "+X(f.idpk),onChange:e=>{h(e),ee(f.type,f.name,e,1,le())}})),n().createElement("div",{id:"fld1474L3TFCFilterGoForward",className:"FilterSearchBtn",onClick:async a=>{let t="",l={};await b((e=>(t=e,e)));let n=[...H],r=[];for(let e of n){let a=t[e]?.map((e=>e.BMSAlaramIDPK)).toString();a&&r.push(a)}await _((e=>(l=e,e)));let i={BMSAlaramIDPK:r?[...new Set(r)].toString():"",CreatedTtm:l.CreatedTtm?l.CreatedTtm.From:"",CreatedTtmType:l.CreatedTtm?l.CreatedTtm.Type:"",CreatedTtmBetween:l.CreatedTtm?l.CreatedTtm.To:"",AlaramDateTime:l.AlaramDateTime?l.AlaramDateTime.From:"",AlaramDateTimeType:l.AlaramDateTime?l.AlaramDateTime.Type:"",AlaramDateTimeBetween:l.AlaramDateTime?l.AlaramDateTime.To:"",BMSAlaramTypeID:T.BMSAlaramTypeName?.map((e=>e.BMSAlaramTypeIDPK)).toString(),AssetID:T.EquipmentName?.map((e=>e.AssetIDPK)).toString(),BMSSysID:T.BMSSysName?.map((e=>e.BMSSysIDPK)).toString()};e.searchData(i),R(!1)}},n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnSearchButton"},n().createElement("span",{className:"ColumnCloseTitle"},"Search"))))))),z&&n().createElement("div",{style:{position:"sticky",top:"0",zIndex:"5"}},n().createElement(B.Z,{color:"secondary"})),n().createElement("div",{id:"fld1474L3TFCScrollYDefault",className:"height65 scrollYDefault"},E.length>0&&E.map(((e,a)=>n().createElement("div",{id:"filda_3_L2_"+e[f.name],key:a,className:"FilterItemDiv",onClick:()=>{(async e=>{let a={},t=[];t.push(e);let l={};await b((e=>(l=e,e)));let n=l[f.name];a[f.name]=n?[...t,...n]:t,l={...l,...a},b(l),C((a=>a.filter((a=>a!=e))))})(e)}},n().createElement(d.Z,{className:"DotIcon"}),n().createElement("span",null,e[f.name])))),E.length+0<V&&E.length>0&&n().createElement("div",{id:"fld1474L3TFCMoreDataDiv",className:"MoreDataDiv",onClick:()=>{Z(L+1),ee(f.type,f.name,"",L+1)}},n().createElement("p",null," more... ")),0===E.length&&n().createElement("div",null,n().createElement("div",{className:"NoDataImage"},n().createElement("img",{src:p.v.NoData,alt:"NoImage"})),n().createElement("div",{className:"NoDataDesc"},n().createElement("span",null,"Sorry, no results found. Try a different search selection or refresh the list."))))):n().createElement("div",null,n().createElement("div",{className:"columnHeader displayFlex"},n().createElement("div",{className:"columnHeaderTitle"},n().createElement(g.Ol$,{className:"columnHeaderIcon"})),n().createElement("div",{className:"columnHeaderbtn",align:"right"},!1,n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnApplyButton",onClick:()=>{Q()},id:"fld1474L3TFCColumApplyBttn"},n().createElement("span",{className:"ColumnApplyTitle"},J("Clear")))),n().createElement(s.ZP,{title:"",placement:"top"},n().createElement(m.Z,{className:"ColumnCloseButton",onClick:()=>{e.CloseBtnClk()},id:"fld1474L3TFCColumnCloseButton"},n().createElement("span",{className:"ColumnCloseTitle"},J("Close")))))),n().createElement("div",{className:"height65"},n().createElement("div",{id:"fld1474L3TFCFilItems",className:"FilterItems"},e.userGrid.sort(((e,a)=>e.Remarks-a.Remarks))?.filter((e=>e.IsDraft&&e.IsVisible)).map(((e,a)=>{return n().createElement("div",{className:`FilterItemDivTitle ${e.FieldName.startsWith("Is")&&"disflex10"}`,onClick:()=>{!e.FieldName.startsWith("Is")&&(e=>{R(!0),h(""),C([]),O(0),v({idpk:e.AdminUserGridViewIDPK,name:e.FieldDisplay,type:e.IsForeign?"Filter"+e.FieldName:"FilterBMSAlaramID"}),ee(e.IsForeign?"Filter"+e.FieldName:"FilterBMSAlaramID",e,"",1,le())})(e)}},e.FieldName.includes("Date")?n().createElement(n().Fragment,null,X(e.AdminUserGridViewIDPK)," ",G[e.FieldName]&&n().createElement("p",{className:"filterdatevalue"},"(",G[e.FieldName]?.From+" to "+G[e.FieldName]?.To,")")):"IsActive"==e.FieldName?n().createElement(n().Fragment,null,n().createElement("span",null,X(e.AdminUserGridViewIDPK)),n().createElement(I.Z,{checked:"1"==U,onChange:a=>{q(a.target.checked),ne("","",e.FieldName,"",a.target.checked)}})):n().createElement(n().Fragment,null,n().createElement("span",null,X(e.AdminUserGridViewIDPK)),(t=e.FieldDisplay,T[t]?.length>0&&n().createElement("div",{className:"FilterItemDivSelected"},n().createElement("span",{className:"RoundedDivName"},T[t][0][t]),T[t].length>1&&n().createElement("span",{className:"RoundedDivName"},T[t][1][t]),T[t].length>2&&n().createElement("span",{className:"RoundedDivNumber"},"+"+(T[t].length-2))))));var t}))))))}))},98481:(e,a,t)=>{t.r(a),t.d(a,{default:()=>C});var l=t(92950),n=t.n(l),r=t(45237),i=(t(37148),t(3212)),m=t(29800),s=t(14439),d=t(27848),o=(t(10966),t(36939)),c=t(61201),p=t(50743),u=t(55144),y=(t(21392),t(51673)),S=t(40900),g=t(26537),D=(t(24038),t(20803),t(77366),t(868)),A=(t(97829),t(8981)),B=(t(63163),t(1695),t(65197)),I=(t(35131),t(61956),t(51649)),M=(t(61924),t(80471)),E=t(47516);const C=(0,l.forwardRef)(((e,a)=>{const t=(0,l.useRef)(),[C,f]=((0,r.useSelector)((e=>e.form)),(0,l.useState)([])),[v,N]=(0,l.useState)(!0),[h,T]=(0,l.useState)(e.showDetail),[b,w]=(0,l.useState)(""),[x,P]=n().useState(!1),[R,F]=n().useState(""),[k,L]=n().useState(!1),Z=(0,l.useContext)(u.BMSAlaramRegistryContext),{cstate:V,cdispatch:O}=(0,u.ContextApi)(),[z,K]=(0,l.useState)(!1),[G,_]=(0,l.useState)(""),[H,j]=(0,l.useState)(""),[U,q]=(0,l.useState)(""),[Y,$]=(0,l.useState)("");let W=(0,A.Z)();(0,l.useEffect)((()=>{V.editData.length>0&&(f(V.editData),P(!1),O({type:"PrimaryId",payload:V.editData[0].BMSAlaramIDPK}))}),[V.editData]),(0,l.useEffect)((()=>{V.showTableview&&q(V.showTableview)}),[V.showTableview]),(0,l.useEffect)((()=>{N(V.ExpandDetailValue)}),[V.ExpandDetailValue]),(0,l.useImperativeHandle)(a,(()=>({tableClick:e=>{N(e),P(null)},viewtoggle:()=>{P(!1)},viewlistProps:(a,t)=>{!function(a,t=!1){let l=S.v.Api+"FP1474S3/",n={data:{p1:a,p2:null,p3:null,p4:null,p5:null,p6:null,p7:null,p8:null,p9:null,p10:null,p11:null,p12:null,p13:null,p14:null,p15:e.Dialogview?"1":null,p16:null,p17:null,p18:null,p19:null,p20:null,p21:null,p22:null,p23:null,p24:null,p25:null,p26:null,p27:null,p28:null,p29:null,p30:null,p31:null,p32:null,p33:null,p34:null,p35:null,p36:null,p37:null,p38:null,p39:null,p40:null,p41:null,p42:null,p43:null,p44:null,p45:null,p46:null,p47:null,p48:null,p49:null,p50:null,p51:null,p52:null,p53:null,p54:null,p55:null,p56:null,p57:null,p58:null,p59:null,p60:null,p61:null,p62:null,p63:null,p64:null,p65:null,p66:null,p67:null,p68:null,p69:null,p70:null,p71:null,p72:null,p73:null,p74:null,p75:null,p76:null,p77:null,p78:null,p79:null,p80:null,p81:1,p82:10,p83:V.IsDraft?"DraftBMSAlaramID":"BMSAlaramID",p84:null,p85:null,p86:localStorage.getItem("UserGroupID"),p87:localStorage.getItem("userid")}};(0,g.Z)(0).then((e=>{(0,y.Z)(l,n,e).then((e=>{Z.loading(!1),"200"==e.Output.status.code&&f(e.Output.data)}))}))}(a,t)},clear:()=>{"panel0"===x&&t.current.clear()}})));const J=e=>W?.[e]?W?.[e]:e,X=e=>V.language?.[e]?V.language[e]:e;function Q(e,a){}const ee=(e,a)=>(t,l)=>{F(k?Object.assign(...C.filter((e=>e.BMSAlaramIDPK==a)).map((e=>e))):V.editData),P(!l&&e)};return n().createElement("div",{className:"SubContent"},n().createElement(o.Z,{expanded:v,onChange:()=>()=>{e.expandTable&&N(!v)}},!x&&n().createElement(p.Z,null,n().createElement(s.Z,{container:!0},n().createElement(d.Z,{item:!0,sm:12,md:12,lg:12,xs:12},n().createElement("div",{className:"padding2 displayFlex backgroundLight borderRadiusTop width100"},n().createElement("div",{className:"displayFlex EntryViewHeader"},n().createElement("span",{style:{cursor:"pointer"}},n().createElement(I.u1R,{className:"backButtonList",onClick:()=>Z.ExpandTable(!0)})),n().createElement("p",{className:"DListP"},V.IsDraft?"Draft ":"",X("BMSAlaramRegistry")),V.IsCollapse?!e.viewonly&&n().createElement(D.ZP,{title:"Expand Grid View",placement:"top"},n().createElement("div",{frmctrlid:"fld1474L3VCExpandGridView",onClick:()=>{Z.ExpandDetail(!0),N(!0)}},n().createElement(E.$4j,{className:"FullSizeIcon1"}))):!e.viewonly&&n().createElement(D.ZP,{title:"Collpase Grid View",placement:"top"},n().createElement("div",{frmctrlid:"fld1474L3VCExpandmore1",onClick:()=>{Z.ExpandDetail(!1),N(!0)}},n().createElement(M.qNy,{className:"FullSizeIcon2"})))),n().createElement("div",{className:"displayFlex",style:{justifyContent:"flex-end"}},!e.viewonly&&V.AccessRights.IsEdit?n().createElement(n().Fragment,null,"0"==G||null==G?n().createElement(m.Z,{onClick:ee("panel0",""),disabled:!1}):null):V.IsDraft&&V.AccessRights.IsAdd&&n().createElement(m.Z,{onClick:()=>{ee("panel","")},disabled:!1}),!e.viewonly&&V.AccessRights.IsAdd&&n().createElement(i.Z,{className:"L1AddBtnCommon",onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:[]})},disabled:!1}),n().createElement(m.Z,{onClick:()=>{O({type:"ShowDetail",payload:!1}),O({type:"Add",payload:!0}),O({type:"editData",payload:C})},disabled:!1})))))),n().createElement(c.Z,{style:{display:"block"}},C.map(((e,a)=>n().createElement("div",{key:a},n().createElement(B.Z,{tableName:"BMSAlaramRegistry",tableID:1474,parentID:e.BMSAlaramIDPK,fldid:"fld1474L3VCContainer",OpenSlideComponent:Q,index:a,val:e,tf:X,t:J,title:"10.0.0.44-12:43:03 PM-30-5[1474]"})))))))}))},84595:(e,a,t)=>{t.d(a,{A:()=>l});const l={EnterKeyValues:{BMSAlaramRegistry:["BMSAlaramCode","BMSAlaramName","AlaramDateTime","AlaramDesCription","BMSAlaramStatus","BMSAlaramTypeName","EquipmentName","BMSSysName","IsCCMRaised"]},Label:{BMSAlaramRegistry:{BMSAlaramCode:["BMSAlaramCode","BMSAlaramName"],BMSAlaramName:["BMSAlaramCode","BMSAlaramName"],AlaramDateTime:["BMSAlaramCode","BMSAlaramName"],AlaramDesCription:["BMSAlaramCode","BMSAlaramName"],BMSAlaramStatus:["BMSAlaramCode","BMSAlaramName"],BMSAlaramTypeID:["BMSAlaramTypCode","BMSAlaramTypeName"],AssetID:["AssetTagNo","EquipmentName"],BMSSysID:["BMSSysCode","BMSSysName"],IsCCMRaised:["BMSAlaramCode","BMSAlaramName"]}},LabelHeader:{BMSAlaramRegistry:{BMSAlaramCode:["Alarm Code","Alarm Name"],BMSAlaramName:["Alarm Code","Alarm Name"],AlaramDateTime:["Alarm Code","Alarm Name"],AlaramDesCription:["Alarm Code","Alarm Name"],BMSAlaramStatus:["Alarm Code","Alarm Name"],BMSAlaramTypeID:["Alarm Type Code","Alarm Type Name"],AssetID:["Asset Tag No","Asset Name"],BMSSysID:["BMS Code","BMS Name"],IsCCMRaised:["Alarm Code","Alarm Name"]}},Property:{BMSAlaramRegistry:{BMSAlaramCode:{id:"fld1474_38352",labelID:"BMSAlaramCode",maxLength:"200",labelname:"Alarm Code",frmctrlid:"fld1474_38352",frmctrlidname:"BMSAlaramCode",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSAlaramName:{id:"fld1474_38353",labelID:"BMSAlaramName",maxLength:"300",labelname:"Alarm Name",frmctrlid:"fld1474_38353",frmctrlidname:"BMSAlaramName",type:"text",mandatory:!0,masked:!1,masktype:"",disabled:!1,autogen:!1},AlaramDateTime:{id:"fld1474_38354",labelID:"AlaramDateTime",maxLength:"",labelname:"Date & Time",frmctrlid:"fld1474_38354",frmctrlidname:"AlaramDateTime",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},AlaramDesCription:{id:"fld1474_38355",labelID:"AlaramDesCription",maxLength:"100",labelname:"Description ",frmctrlid:"fld1474_38355",frmctrlidname:"AlaramDesCription",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSAlaramStatus:{id:"fld1474_38356",labelID:"BMSAlaramStatus",maxLength:"100",labelname:"Alarm Status",frmctrlid:"fld1474_38356",frmctrlidname:"BMSAlaramStatus",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1},BMSAlaramTypeID:{id:"fld1474_38362",clearID:"BMSAlaramRegistryBMSAlaramTypeNameClear",type:"select",labelID:"BMSAlaramTypeIDPK",labelname:"Alarm Type ",fielddisplayname:"BMSAlaramTypeName",fieldOrder:"2",frmctrlid:"fld1474_38362",frmctrlidname:"BMSAlaramTypeID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},AssetID:{id:"fld1474_38361",clearID:"BMSAlaramRegistryEquipmentNameClear",type:"select",labelID:"AssetIDPK",labelname:"Asset",fielddisplayname:"EquipmentName",fieldOrder:"3",frmctrlid:"fld1474_38361",frmctrlidname:"AssetID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!1},BMSSysID:{id:"fld1474_38360",clearID:"BMSAlaramRegistryBMSSysNameClear",type:"select",labelID:"BMSSysIDPK",labelname:"Integration ",fielddisplayname:"BMSSysName",fieldOrder:"4",frmctrlid:"fld1474_38360",frmctrlidname:"BMSSysID",foreignName:[],createEasy:!1,advanceSearch:!1,disabled:!1,mandatory:!0},IsCCMRaised:{id:"fld1474_38357",labelID:"IsCCMRaised",maxLength:"",labelname:"Raised ",frmctrlid:"fld1474_38357",frmctrlidname:"IsCCMRaised",type:"text",mandatory:!1,masked:!1,masktype:"",disabled:!1,autogen:!1}}},SubForms:{},POPLabel:{BMSAlaramRegistry:{BMSAlaramTypeID:["BMSAlaramTypCode","BMSAlaramTypeName"],AssetID:["AssetTagNo","EquipmentName","EquipmentRefNo","AssetSerialNo","AssetBarcode","CreatedTtm","IsActive","IsDraft"],BMSSysID:["BMSSysCode","BMSSysName","BMSMac","BMSSerial","IsAsset","IsCCM","BMSTypeID","BMSManagedID"]}}}}}]);